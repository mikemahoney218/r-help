From ihaka at stat.auckland.ac.nz  Tue Apr  1 10:35:48 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 1 Apr 1997 20:35:48 +1200 (NZST)
Subject: R-alpha: R-testers: pmin heisenbug
Message-ID: <199704010835.UAA28919@stat1.stat.auckland.ac.nz>

I must admit to being baffled by this.  When I type "R" I get

	R : Copyright 1997, Robert Gentleman and Ross Ihaka
	Version 0.50 Beta (April 1, 1997)

	R is free software and comes with ABSOLUTELY NO WARRANTY.
	You are welcome to redistribute it under certain conditions.
	Type "license()" for details.

	> gc()
	Garbage collection ...
	150427 cons cells free (75%)
	1823k bytes of heap free (93%)
	^^^^

This indicates nearly 2Mb of heap free (which is the default).

When I type "R -v10"

	R : Copyright 1997, Robert Gentleman and Ross Ihaka
	Version 0.50 Beta (April 1, 1997)

	R is free software and comes with ABSOLUTELY NO WARRANTY.
	You are welcome to redistribute it under certain conditions.
	Type "license()" for details.

	> gc()
	Garbage collection ....
	150427 cons cells free (75%)
	10110k bytes of heap free (98%)
	^^^^

This indicates nearly 10 Mb of heap free.

The number of "cons-cells" also dictates a size restriction.
There is one list element for each vector and each string and each
list element (as well as the list element itself).  If you have
very large "character" vectors, you might be hitting this limit,
but you can increase the limit for this with (for example):

	R -n300000

(The consumption of one cell per string is perhaps the major
memory problem in R - we didn't design it with large problems
in mind.  It is probably fixable, but it will mean a lot of work).

Are you seeing these kinds of values if you gc() immediately at
startup?

	Ross

PS: The random "invalid rhs" problem is almost certainly a memory
management bug.  These usually only show up when the system is
stressed, but can be very hard to track down because they are
hard to reproduce reliably.  If you find a way of consistently
reproducing it we can probably fix it pretty quickly.
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From p.dalgaard at kubism.ku.dk  Tue Apr  1 10:57:08 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 01 Apr 1997 10:57:08 +0200
Subject: R-beta: Re: R-alpha: windows advice
In-Reply-To: Robert Gentleman's message of Tue, 1 Apr 1997 18:15:38 +1200 (NZST)
References: <199704010615.SAA10494@stat13.stat.auckland.ac.nz>
Message-ID: <x2pvwf5dej.fsf@bush.kubism.ku.dk>

Robert Gentleman <rgentlem at stat.auckland.ac.nz> writes:

> Help Files
> ==========
> Has anyone had any experience with latex2rtf and then on to windows help?
> We can hope that people have netscape and then simply use the html version
> but it would be nice if there were some easy way to produce real windows
> help.

Please keep the nroff versions and the old help() interface around, I
suspect things like Emacs S-mode would break without it (or will it
break anyway?). There is a groff for Win32 on

http://www.itribe.net/virtunix/ 

as well as other various bits and pieces that you might find useful,
including --TADA-- texi2hlp, a texinfo-to-winhelp converter.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Tue Apr  1 11:48:02 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 1 Apr 97 11:48:02 +0200
Subject: R-beta: "R-announce", "R-help", "R-devel" : 3 mailing lists for R
Message-ID: <9704010948.AA00412@>


Upon proposal by Robert Gentleman,
and given the ``immediate'' release of R 0.50  beta (instead of alpha),
I have created three mailing lists concerned with R
where the 2nd one, "R-help", is the replacement for the current "R-testers".
For a while, "r-testers" will be kept as synonymous to "r-help".


The 3 mailing lists are

1) R-announce	: Only announcement of new versions / important patches
2) R-help	: Questions / Answers about ("released versions of") R
3) R-devel	: The alpha-/ pre-testers list of "R-hackers".
		  People who get the newest release, try out patches,....
		  (maybe not much more than the R 0.50 prerelease testers)

where   1) is gatewayed to 2)  i.e.  all "R-announce" is forwarded to "R-help".

The intent is that "R-announce" would have less than one message per day,
typically rather only a few messages per month.

Note that I am sending this to  "R-announce" and 
everyone who has been on the "R-testers" list is getting this e-mail
since everything that is sent to "r-announce" is automatically forwarded to
"r-help".

- -------
AGAIN:  For most of you nothing changes, you'll get all the announcements
	and everything from "R-help".

However, if you are only interested in important announcements and new
releases, you should 
	- unsubscribe from "R-help"
	-   subscribe  to  "R-announce"
((by sending	unsubscribe  to     R-help-request at stat.math.ethz.ch
		  subscribe  to R-announce-request at stat.math.ethz.ch	
  in the message "body", not as "subject ..))	

PS. Yes, this is the first post to any of these lists,
    so there may be problems, even though I don't hope so.

PPS. In spite of the date, this is no "April's fool" joke....

Martin Maechler <maechler at stat.math.ethz.ch>		 <><
Seminar fuer Statistik, SOL F5
ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From rossini at stat.sc.edu  Tue Apr  1 13:09:09 1997
From: rossini at stat.sc.edu (Anthony Rossini)
Date: Tue, 1 Apr 1997 06:09:09 -0500
Subject: R-beta: Re: R-alpha: windows advice
In-Reply-To: <x2pvwf5dej.fsf@bush.kubism.ku.dk>
References: <199704010615.SAA10494@stat13.stat.auckland.ac.nz>
	<x2pvwf5dej.fsf@bush.kubism.ku.dk>
Message-ID: <199704011109.GAA01625@fhat.stat.sc.edu>


>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard at kubism.ku.dk> writes:

    Peter> Robert Gentleman <rgentlem at stat.auckland.ac.nz> writes:
    >> Help Files ========== Has anyone had any experience with
    >> latex2rtf and then on to windows help? We can hope that people
    >> have netscape and then simply use the html version but it would
    >> be nice if there were some easy way to produce real windows
    >> help.

    Peter> Please keep the nroff versions and the old help() interface
    Peter> around, I suspect things like Emacs S-mode would break
    Peter> without it (or will it break anyway?).

Re: Emacs S-mode.

I've spent a bit of time last weekend working on that (help() for R).
Using either the browse-url package (for Netscrape/Arena/Grail) or W3
(to keep it within (X)Emacs), I've started on a reorganization of
S-help.  It'll be in the next version of S-mode (which will hopefully
be the last 4.9 version before we (Kurt, myself, with help from
Martin) tackle version 5.0, unless bug-fixs are needed).  But I'm
looking at the next version of 4.9 in a time-span of 2-3 months, not
weeks anymore...

In particular, don't worry about nroff, and it shouldn't worry about
us (as long as you use the Holy Editor/OS!).

best,

----
-tony (Anthony Rossini)	           Statistics Dept., U South Carolina
rossini at stat.sc.edu	           Columbia, SC 29208
http://www.stat.sc.edu/~rossini/   803-777-3578(O) 803-777-4048 (fax)  
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From luke at stat.umn.edu  Tue Apr  1 13:45:35 1997
From: luke at stat.umn.edu (Luke Tierney)
Date: Tue, 1 Apr 1997 05:45:35 -0600 (CST)
Subject: R-beta: Re: R-alpha: windows advice
In-Reply-To: <199704010615.SAA10494@stat13.stat.auckland.ac.nz> from "Robert Gentleman" at Apr 1, 97 06:15:38 pm
Message-ID: <9704011145.AA16739@nokomis.stat.umn.edu>

> 
> Start Up
> ========
> Second, under Unix we have a Rprofile in the library directory but users
> can also have their own Rprofile files in different directories. Since
> R is not launched from a command line it seems hard to arrange this
> under windows.
> If an image gets saved I was planning to link it (via a double click) to 
> the R.exe and in that instance I could look around for a Rprofile in the
> same directory.
> Any other ideas/suggestions?
> Does anyone know how Word/Excel/...  handle user preferences?

Win 3.1 used to use .ini files, traditionally stored in the windows
system directory. I believe, though I'm not certain, that putting .ini
files in the system directory is no longer allowed under Windows 95
guidelines (the seal of approval business -- it is entirely possible
that this is true but MS violates it in its own products). NT
encourages the use of the Registry database. REGEDIT lets you look at
the registry database.

I sometimes find it useful to poke around on MS's site for info on
things like this.  Searching on ".ini files" at
http://www.microsoft.com/Search/ got me some entries including

http://www.microsoft.com/msdn/sdk/platforms/doc/sdk/protech/src/cc5port_23.htm

which points to GetProfileString, whose entry describes how it is
interpreted on different platforms and different registry settings.

NT actually supports the notion of separate users, but I haven't
figured out how this is supposed to be used from a program. The
article

	http://www.microsoft.com/kb/articles/q101/5/07.htm

-- apparently there are HOMEDRIVE and HOMEPATH environment variables.

An article I found searching for "temporary",

http://www.microsoft.com/msdn/sdk/platforms/doc/sdk/win32/sys/src/filesio_24.htm

suggests using GetTempPath and GetTempFileName. It might be worth
double checking that these are available under Win32s -- I think they
probably are, but I haven't checked.


luke
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Tue Apr  1 18:45:22 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 1 Apr 1997 08:45:22 -0800 (PST)
Subject: R-beta: Re: R-alpha: My two problems
In-Reply-To: <9704010701.AA13945@alpha.luc.ac.be>
Message-ID: <Pine.SUN.3.91.970401083402.21539A-100000@chekov>

On Tue, 1 Apr 1997, Jim Lindsey wrote:
> 				 Neither setting environment nor command
> line change memory size as given by gc(). However, if I give too small
> or too large a value on the command line, it tells me that it is
> invalid and is ignoring it!?? I repeat that when I recompiled changing
> the default size, gc() changed its values. Am I misunderstanding
> something?
I do not have this problem with R16.1, sparc-solaris2.5.1, gcc 2.7.2

Solaris-gorn% ~/R16 -n800000
> gc()
Garbage collection ...
753423 cons cells free (94%)
3875k bytes of heap free (96%)

Solaris-gorn% ~/R16 -n400000
> gc()
Garbage collection ...
353423 cons cells free (88%)
3875k bytes of heap free (96%)

Solaris-gorn% ~/R16 -v40
> gc()
Garbage collection ...
353423 cons cells free (88%)
39875k bytes of heap free (99%)

Solaris-gorn% ~/R16 -v4
> gc()
Garbage collection ...
353423 cons cells free (88%)
3875k bytes of heap free (96%)
>

> 2. When I type colors(), R tells me that it cannot find .Colors.

This one I can replicate.  .Colors is not defined anywhere in the base 
library, nor is it loaded by eg x11(). I believe it used to be loaded 
from the data directory by the startup function (in the days before 
Rprofile and libraries).


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From A.Kovac at Bristol.ac.uk  Wed Apr  2 15:27:40 1997
From: A.Kovac at Bristol.ac.uk (Arne Kovac)
Date: Wed, 2 Apr 1997 14:27:40 +0100 (BST)
Subject: R-beta: Three-dimensional arrays
Message-ID: <Pine.GSO.3.95.970402142238.27926B-100000@hannan>

I get a segmentation fault when I access labelled three-dimensional
arrays:

> new.array<-array((1:27),c(3,3,3))
> new.array[,1,]
     [,1] [,2] [,3]
[1,]    1   10   19
[2,]    2   11   20
[3,]    3   12   21
> label<-c("l1","l2","l3")                                                 
> new.array<-array((1:27),c(3,3,3),list(label,label,label))
> new.array[,1,]
zsh: segmentation fault  R

The same happens when I try to fix the first component with

> new.array[1,,]
zsh: segmentation fault  R

The third component works:

> new.array[,,1]
   l1 l2 l3
l1  1  4  7
l2  2  5  8
l3  3  6  9

Arne

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Wed Apr  2 21:12:32 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Wed, 2 Apr 1997 13:12:32 -0600 (CST)
Subject: R-beta: Precedence of ~ and |
Message-ID: <m0wCVSm-000hh5C@franz.stat.wisc.edu>

There appears to be a difference between S and R in the relative
precedence of the ~ and | operators.  This becomes important when you
try to enter formulas for conditioning expressions, such as those used
in trellis graphics functions.  (They are also used in the groupedData
classes that Jose' Pinheiro and I are developing which is where I
encountered this.)

In R:
> foo <- conc ~ time | Subject
Error: Object "Subject" not found

In S-plus 3.4:
> foo <- conc ~ time | Subject
> class(foo)
[1] "formula"
> length(foo)
[1] 3
> foo[[3]]
time | Subject
> length(foo[[3]])
[1] 3
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr  2 21:44:40 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 3 Apr 1997 07:44:40 +1200 (NZST)
Subject: R-beta: Precedence of ~ and |
Message-ID: <199704021944.HAA11479@stat1.stat.auckland.ac.nz>

I noticed this when I wrote a coplot gizmo and had to change the
precedence.  The new precedence list is

	%left           '?'
	%left           LOW WHILE FOR REPEAT
	%right          IF
	%left           ELSE
	%right          LEFT_ASSIGN
	%left           RIGHT_ASSIGN
	%nonassoc       '~' TILDE
	%left           OR AND
	%left           UNOT NOT
	%nonassoc       GT GE LT LE EQ NE
	%left           '+' '-'
	%left           '*' '/' '%'
	%left           SPECIAL
	%left           ':'
	%left           UMINUS UPLUS
	%right          '^'
	%left           '$'
	%nonassoc       '(' '[' LBB

It has also been pointed out to me (by the compiler division) that
AND and OR should have different precedences.  My C manual says
&& has higher precedence than || so I will make this change too.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Sun Apr  6 17:43:57 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 6 Apr 1997 17:43:57 +0200
Subject: R-beta: Three-dimensional arrays
In-Reply-To: <Pine.GSO.3.95.970402142238.27926B-100000@hannan>
References: <Pine.GSO.3.95.970402142238.27926B-100000@hannan>
Message-ID: <199704061543.RAA28458@aragorn.ci.tuwien.ac.at>

>>>>> Arne Kovac writes:

> I get a segmentation fault when I access labelled three-dimensional
> arrays:

>> new.array<-array((1:27),c(3,3,3))
>> new.array[,1,]
>      [,1] [,2] [,3]
> [1,]    1   10   19
> [2,]    2   11   20
> [3,]    3   12   21
>> label<-c("l1","l2","l3")                                                 
>> new.array<-array((1:27),c(3,3,3),list(label,label,label))
>> new.array[,1,]
> zsh: segmentation fault  R

> The same happens when I try to fix the first component with

>> new.array[1,,]
> zsh: segmentation fault  R

> The third component works:

>> new.array[,,1]
>    l1 l2 l3
> l1  1  4  7
> l2  2  5  8
> l3  3  6  9

This seems to be fixed in the 0.50 beta 6 prerelease.

0.50, anytime now ...

-kh
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From steve at chanane.ucsf.edu  Sun Apr  6 19:50:28 1997
From: steve at chanane.ucsf.edu (Stephen Shiboski)
Date: Sun, 6 Apr 97 10:50:28 -0700
Subject: R-beta: lsfit error in R 0.16.1
Message-ID: <9704061750.AA12763@chanane.ucsf.edu>

In playing around with an IRLS operation I noticed that
calling lsfit with a weight vector containing no zeros leads to
the following error:

> lsfit(rnorm(100),rnorm(100),abs(rnorm(100)))
Error in xzero %*% z$coefficients : non-conformable arguments

By contrast, if there are some zero weights, no errors are generated:

> lsfit(rnorm(100),rnorm(100),round(abs(rnorm(100)),0))$coef
 Intercept          X 
-0.1007470  0.1072742 

The problem is with the following part of the function:

        if (!is.null(wt)) {
                if (ncx == 1) 
                        fitted.zeros <- xzero * z$coefficients
                else fitted.zeros <- xzero %*% z$coefficients
                z$residuals[wt == 0, ] <- yzero - fitted.zeros
                z$residuals <- z$residuals * invmult
        }

This only works if NROW(xzero) >= 1, where xzero is defined as
                   xzero <- as.matrix(x)[wt == 0, ] .

An easy workaround is to use

        if (!is.null(wt)) {
                if (NROW(xzero) >= 1) {
                        if (ncx == 1) 
                        fitted.zeros <- xzero * z$coefficients
                        else fitted.zeros <- xzero %*% z$coefficients
                        z$residuals[wt == 0, ] <- yzero - fitted.zeros
                               }
                z$residuals <- z$residuals * invmult
        }


--
Stephen Shiboski  <steve at biostat.ucsf.edu>
Division of Biostatistics
University of California, San Francisco
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Wed Apr  9 14:37:43 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Wed, 9 Apr 1997 07:37:43 -0500 (CDT)
Subject: R-beta: Re: memory problems FACTOR-8 / class 'pointer'
In-Reply-To: <Pine.3.89.9704091259.A18231-0100000@sunserv>
References: <Pine.3.89.9704091259.A18231-0100000@sunserv>
Message-ID: <m0wEwdX-000hhDC@franz.stat.wisc.edu>

>>>>> "Jens" == Jens Oehlschlaegel <oehl at Psyres-Stuttgart.DE> writes:

  Jens> I just saw a beta version of WinS+4.0 last week: Good and bad
  Jens> news: MATHSOFT has substantially improved graphic handling and
  Jens> user interface. Bad news is: The version I saw needed 50 MB
  Jens> RAM, so our equipment should have 64 MB RAM minimum. This is
  Jens> somewhat FACTOR-8 compared to the S+3.3. Not to talk about big
  Jens> datasets.

I believe the requirement is 50Mb of _disk space_, not 50Mb of memory.
I can run the beta of WinS+4.0 quite comfortably on a machine with 32
Mb of memory.  I haven't tried machines with smaller amounts of memory
but I presume it would work there as well.
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Wed Apr  9 15:51:49 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Wed, 9 Apr 1997 08:51:49 -0500 (CDT)
Subject: R-beta: Reason for previous message
Message-ID: <m0wExnF-000hh5C@franz.stat.wisc.edu>

Sorry if my reply to Jens Oehlschlaegel <oehl at Psyres-Stuttgart.DE>
came "out of the blue" for this list.  His original message was about
both R and S and he sent a copies to the S-news list and to
R at stat.auckland.ac.nz.  Since my reply capability for messages coming
over S-news is screwed up (local listserv configuration problem) I
have to add addresses by hand to my replies.  I added r-help instead
of just adding the R address.

I imagine most subscribers to this list also see S-news anyway but in
case you don't.

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Wed Apr  9 17:17:47 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 9 Apr 97 17:17:47 +0200
Subject: R-beta: Reason for previous message
In-Reply-To: <m0wExnF-000hh5C@franz.stat.wisc.edu> (message from Douglas Bates
	on Wed, 9 Apr 1997 08:51:49 -0500 (CDT))
Message-ID: <9704091517.AA01990@>

The big difference between S-news and R-help :

I get R-help messages within 1-2 minutes, whereas I have to wait between 
6 and 10 HOURS(!) for S-news messages to arrive here....
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Wed Apr  9 17:45:47 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 9 Apr 97 17:45:47 +0200
Subject: R-beta: Source code:  grep(.) and  objects(..., pattern):
Message-ID: <9704091545.AA02019@>

If you have many objects, in the users's GlobalEnv or in the system
SystemEnv,
you would like to be able to do something like	

	ls("lm*.t")
to get only the objects  starting with 'lm' and ending in '.t'.

The following code provides this and more:  
   "grep(.)" which should be  S-compatible and improved
   "objects(.)"  with new 'pattern' argument  (S-compatible).

It has been working for me, for a while now.
Only drawback:  It's port to  Windows or Macintosh
	requires a port of the  grep(..)  function which currently relies
	on Unix's availability of 'egrep'.

###>>> Please let me know of  bugs/ nice examples / suggestions for improvement!
###>  
###>  Martin Maechler <maechler at stat.math.ethz.ch>		 <><
###>  Seminar fuer Statistik, SOL G1
###>  ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
###>  phone: x-41-1-632-3408		fax: ...-1086
###>  http://www.stat.math.ethz.ch/~maechler/

## The 'grep' function is modelled after S's one.

grep <- function(pattern, text)
{
  ##  Needs Unix's 'egrep' command via  system(.).
  if(length(pattern) > 1)
    pattern <- paste("(", pattern, ")", sep = "", collapse = "|")
  cmd <- paste("egrep -n -e \"", pattern, "\" |sed 's/:.*//'", sep = "")
  cmd <- paste("echo '", paste(text, collapse="\n"), "' | ", cmd, sep = "")
  as.numeric(system(cmd, intern = TRUE))
}

objects <- function (name, pos = -1, envir = NULL, all.files = FALSE,
		     pattern = NULL)
{
  ## R 0.16.1 and 0.50-2 --- + 'pattern' & numeric name by Martin Maechler
  if (!missing(name)) {
    pos <- if(is.numeric(name)) { #-- be compatible with S
      as.integer(name)
    } else {
      name <- substitute(name)
      if (!is.character(name)) name <- deparse(name)
      match(name, search())
    }
    if (is.na(pos)) stop("invalid name")
  } else if (!missing(pos)) {
    if (pos < 1 || pos > length(search())) stop("invalid pos value")
  } else if (!missing(envir)) { pos <- 0 } else { pos <- -1 }
  what <- .Internal(ls(pos, envir, all.files))
  if(is.null(pattern)) what else what[grep(pattern, what)]
}

pat2grep <- function(pattern)
{
  ## Purpose: Change "ls pattern" to "grep regular expression" pattern.
  ## -------------------------------------------------------------------------
  ## Author: Martin Maechler ETH Zurich, ~ 1991
  sed.cmd <- "'s/\\./\\\\./g;s/*/.*/g;s/?/./g; s/^/^/;s/$/$/; s/\\.\\*\\$$//'"
  system(paste("echo '", pattern, "'| sed ", sed.cmd, sep = ""),intern=TRUE)
}


lsR <- get("ls", env=.SystemEnv) # Save the original 

ls <- function(pattern = NULL, pos = 1, envir = NULL, all.files = FALSE)
{
  ##-- Substitute to 'standard' ls ---
  ## Author: Martin Maechler,  ETH Zurich, ~ 1991 for S-plus;   1997 for R
  objects(pos = pos,
	  pattern = if(is.null(pattern)) pattern else pat2grep(pattern),
	  envir = envir, all.files = all.files)
}
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From oehl at Psyres-Stuttgart.DE  Wed Apr  9 20:21:28 1997
From: oehl at Psyres-Stuttgart.DE (Jens Oehlschlaegel)
Date: Wed, 9 Apr 1997 20:21:28 +0200 (MET DST)
Subject: R-beta: 2) memory problems FACTOR-8 / class 'pointer'
In-Reply-To: <m0wEwdX-000hhDC@franz.stat.wisc.edu>
Message-ID: <Pine.3.89.9704091908.A18653-0100000@sunserv>


Dear Douglas Bates,
dear Stephen Smith,

that was really NOT my main point. I'm not interested in complaining about 
S+ needing 16, 32 or 64 MB, I love the language compared to what I know. 
My point is improving S+, if neccessary and if possible. I think pointers 
would add to S+. Don't you think so?

The beta of S+4.0 obviously needs 50MB combined RAM and Win-Swap. You ran
it on 32MB RAM machines. I believe you. Nevertheless a priori swaping of
18 MB doesn't attract me. I am used to avoiding swaping for everyday
business. If the final 4.0 really needed 50MB combined memory, I would buy
64MB. If that solves all problems I don't see further need for discussion. 

It would be an advantage for S+, if SAS and SPSS people couldn't argue 
with unlimited case numbers of their software. 

Got my point?


Jens

------------------------------------------------------------
Mr. Jens Oehlschlaegel-Akiyoshi       Phone +49 711 6781-408
Center for Psychotherapy Research       Fax +49 711  6876902
Christian-Belser-Strasse 79a
D-70597 Stuttgart            e-mail oehl at psyres-stuttgart.de

data management/modelling <-training-> S+/SPSS
Project TR-EAT Germany + Europe COST Action B6 
(c) 1996: Frankfurt Attention Inventory (FAIR)
------------------------------------------------------------


=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From p.dalgaard at kubism.ku.dk  Wed Apr  9 22:06:09 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 09 Apr 1997 22:06:09 +0200
Subject: R-beta: 2) memory problems FACTOR-8 / class 'pointer'
In-Reply-To: Jens Oehlschlaegel's message of Wed, 9 Apr 1997 20:21:28 +0200 (MET DST)
References: <Pine.3.89.9704091908.A18653-0100000@sunserv>
Message-ID: <x2zpv8kll9.fsf@bush.kubism.ku.dk>

Jens Oehlschlaegel <oehl at Psyres-Stuttgart.DE> writes:

> that was really NOT my main point. I'm not interested in complaining about 
> S+ needing 16, 32 or 64 MB, I love the language compared to what I know. 
> My point is improving S+, if neccessary and if possible. I think pointers 
> would add to S+....

UGH! If there's one thing we don't need on R-help, it's
"crossbleeding" from S-news. There are, of course, things that are
relevant on both lists, but this wasn't one of them. 

Could you please watch your mail headers and think carefully whether
you really mean to send it there?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Thu Apr 10 01:53:28 1997
From: ihaka at stat.auckland.ac.nz (Ross &)
Date: Thu, 10 Apr 1997 11:53:28 +1200
Subject: R-beta: Source code:  grep(.) and  objects(..., pattern):
In-Reply-To: <9704091545.AA02019@>
References: <9704091545.AA02019@>
Message-ID: <199704092353.LAA17306@stat9.stat.auckland.ac.nz>

We could certainly put Martin's grep in as an interim solution.
What I'd really like to do though is to add a regular expression
library and functions like "grep", "gsub", etc.  This would
work across platforms and give a good deal of the functionality
of awk and perl.

One day ...
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From YUDI at statlan.ucd.ie  Thu Apr 10 11:02:44 1997
From: YUDI at statlan.ucd.ie (YUDI@statlan.ucd.ie)
Date: Thu, 10 Apr 1997 10:02:44 +0100 (BST)
Subject: No subject
Message-ID: <48AD160F42@statlan.ucd.ie>

Hi there,
I just heard about R from the spill-over posting to S-news.
Can somebody direct me to the place where I can get
the program? Thanks,

-Yudi-
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From YUDI at statlan.ucd.ie  Thu Apr 10 17:24:39 1997
From: YUDI at statlan.ucd.ie (YUDI@statlan.ucd.ie)
Date: Thu, 10 Apr 1997 16:24:39 +0100 (BST)
Subject: R-beta: R on Windows 3.1
Message-ID: <4F0ABA1EC0@statlan.ucd.ie>

My attempt to get R running in Windows 3.11 didn't go
very far. I have read the FAQ and install.tex carefully.
What am I missing? Here is the step:

   1. From statlib I got rexe.zip (and rbeta.zip, but this one
       seems for windows 95 only?).
   2. On unzipping I got 8 files, including rb1.exe, and a sub-
       dir win32s, which I copied to windows/system.
       (There is no setup.exe, which the install program refers
        to).
   3. rb1.exe does not run.

(Similar story with rbeta.zip).

-Yudi-
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From colin at geology.gla.ac.uk  Thu Apr 10 18:12:44 1997
From: colin at geology.gla.ac.uk (Colin Farrow)
Date: Thu, 10 Apr 1997 17:12:44 +0100
Subject: R-beta: Compiling R-0.16.1 on Solaris 2.5.1
Message-ID: <199704101612.RAA17017@alligin.gla.ac.uk>

Setup: Sparcstation 4 with Solaris 2.5.1 and Sun compilers

After downloading R-0.16.1 and runnning configure, make fails as follows

cd main; make
cc  -o R.binary arithmetic.o  array.o  attrib.o  bind.o  builtin.o  character.o  coerce.o  colors.o  context.o  cov.o  cum.o  dataframe.o  debug.o  deparse.o  dotcode.o  dstruct.o  duplicate.o  edit.o  envir.o  errors.o  eval.o  format.o  gram.o  list.o  logic.o  main.o  match.o  memory.o  model.o  names.o  objects.o  optimize.o  options.o  par.o  paste.o plot.o  plot3d.o  print.o  printarray.o  printvector.o  printutils.o  random.o  relop.o  saveload.o  scan.o  seq.o  sort.o  source.o  split.o  subassign.o  subscript.o  subset.o  summary.o  unique.o  util.o  version.o ../lib/libgraphics.a  ../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lnsl -lsocket -ldl -ltermcap -lm
*** Error code 1
make: Fatal error: Command failed for target `R.binary'
Current working directory /usr/local/R-0.16.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `build'
Current working directory /usr/local/R-0.16.1/src
*** Error code 1
make: Fatal error: Command failed for target `install'

Anyone know what is wrong. I have had a quick poke around but cannot get
any better diagnostics.

Cheers, Colin
--------------------
                     \
Colin Farrow          \
                       \---------------------------------------
                        \                                       \
Department of Geology,   \ E-mail: colin at geology.gla.ac.uk       \
University of Glasgow,    \                                       \
Glasgow, G12 8QQ. Scotland \ Tel: +44 (0)41 339 8855 x5466         \
                            \ Fax: +44 (0)41 330 4817               \
`````````````````````````````````````````````````````````````````````````
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From p.dalgaard at kubism.ku.dk  Thu Apr 10 18:38:08 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 10 Apr 1997 18:38:08 +0200
Subject: R-beta: Compiling R-0.16.1 on Solaris 2.5.1
In-Reply-To: colin@geology.gla.ac.uk's message of Thu, 10 Apr 1997 17:12:44 +0100
References: <199704101612.RAA17017@alligin.gla.ac.uk>
Message-ID: <x2208i4yvj.fsf@bush.kubism.ku.dk>

colin at geology.gla.ac.uk (Colin Farrow) writes:

> Setup: Sparcstation 4 with Solaris 2.5.1 and Sun compilers
                                               ^^^^^^^^^^^^^

There's the main trouble, the rest of us have been using gcc. 

> cd main; make
> cc  -o R.binary arithmetic.o  array.o  attrib.o  bind.o  builtin.o  character.o  coerce.o  colors.o  context.o  cov.o  cum.o  dataframe.o  debug.o  deparse.o  dotcode.o  dstruct.o  duplicate.o  edit.o  envir.o  errors.o  eval.o  format.o  gram.o  list.o  logic.o  main.o  match.o  memory.o  model.o  names.o  objects.o  optimize.o  options.o  par.o  paste.o plot.o  plot3d.o  print.o  printarray.o  printvector.o  printutils.o  random.o  relop.o  saveload.o  scan.o  seq.o  sort.o  source.o  split.o  subassign.o  subscript.o  subset.o  summary.o  unique.o  util.o  version.o ../lib/libgraphics.a  ../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lnsl -lsocket -ldl -ltermcap -lm

- with *no* .o files getting built?? or is this a rerun of the make
process? 

> Anyone know what is wrong. I have had a quick poke around but cannot get
> any better diagnostics.

Did you try rerunning that cc command by hand? or replacing cc by ld??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Fri Apr 11 04:29:38 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 11 Apr 1997 14:29:38 +1200 (NZST)
Subject: R-beta: R on Windows 3.1
In-Reply-To: <4F0ABA1EC0@statlan.ucd.ie>
References: <4F0ABA1EC0@statlan.ucd.ie>
Message-ID: <199704110229.OAA08925@stat1.stat.auckland.ac.nz>

YUDI at statlan.ucd.ie writes:
 > My attempt to get R running in Windows 3.11 didn't go
 > very far. I have read the FAQ and install.tex carefully.
 > What am I missing? Here is the step:
 > 
 >    1. From statlib I got rexe.zip (and rbeta.zip, but this one
 >        seems for windows 95 only?).
 >    2. On unzipping I got 8 files, including rb1.exe, and a sub-
 >        dir win32s, which I copied to windows/system.
 >        (There is no setup.exe, which the install program refers
 >         to).
 >    3. rb1.exe does not run.

Those versions are VERY old.  If you can wait a couple of days [ignore
that cynical laughter in the background] there will be a much improved
version available, which should be much simpler to install.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From e5chsc at rz.uni-jena.de  Fri Apr 11 10:54:42 1997
From: e5chsc at rz.uni-jena.de (Christof Schuster)
Date: Fri, 11 Apr 1997 10:54:42 +0200 (MESZ)
Subject: R-beta: Linux Installation Problem
Message-ID: <199704110854.KAA18549@fsuj03.rz.uni-jena.de>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 7478 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970411/ce9d665d/attachment.ksh

From p.dalgaard at kubism.ku.dk  Fri Apr 11 11:54:28 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 11 Apr 1997 11:54:28 +0200
Subject: R-beta: Linux Installation Problem
In-Reply-To: Christof Schuster's message of Fri, 11 Apr 1997 10:54:42 +0200 (MESZ)
References: <199704110854.KAA18549@fsuj03.rz.uni-jena.de>
Message-ID: <x2hghdrijv.fsf@bush.kubism.ku.dk>

Christof Schuster <e5chsc at rz.uni-jena.de> writes:

> yesterday I have installed R-0.16.1 successfully on my 
> Red Hat Linux 4.0 (Kernel 2.0.18) System with gcc-2.7.2-9 in my office.
> But the installation on my PC at home running Red Hat Linux 3.0.3
> (Kernel 2.0.0) using gcc-2.7.2-2 unfortunately failed, when the 
> installation routine tried to compile dotcode.c in the src/main directory. 
> 
> Any helpfull ideas would be greatly appreciated. The output of
> gcc is given below. 
> 
....

> gcc -g -I../include   -c dotcode.c -o dotcode.o
> dotcode.c:147: parse error before `FUNC'
> dotcode.c:147: warning: no semicolon at end of struct or union
... 

Most obvious suspicion is that you haven't got the dlfcn.h file in
place. I seem to recall that there was a problem with the .rpm file
for that. You can get an updated .rpm from RedHat, I think (do they
keep updates for older versions?) or just fish the file out of the
corresponding .src.rpm package (or your work machine for that matter).
Also, they forgot to set up the links for /lib/libdl.so.* which gives
problems with linking later on.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From pcm at ptd.net  Fri Apr 11 12:47:54 1997
From: pcm at ptd.net (Paul C. Murray)
Date: Fri, 11 Apr 1997 06:47:54 -0400
Subject: R-beta: Linux Installation Problem
Message-ID: <199704111047.GAA00252@thing1.ptd.net>

In main/dotcode.c, the line

  typedef int (*FUNC)();

was nested in some conditionals, which didn't fit my Linux Redhat 1.2.13
either.  Folks more knowledgeable than myself may give us a better answer,
but I just moved the typedef up above all the

  #ifdef ...

lines, and it has been working very nicely.  Thanks to all for R!
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Philippe.Lemay at ip.unil.ch  Fri Apr 11 15:26:41 1997
From: Philippe.Lemay at ip.unil.ch (Philippe Lemay)
Date: Fri, 11 Apr 1997 14:26:41 +0100
Subject: R-beta: Installation problems on SGI-IRIX
Message-ID: <334E3C11.6259@ip.unil.ch>

Hello,

first, I'd like to congratulate everybody involved in the development of 
this statistical software. I've been working for a while with R on 
Macintosh, and I like the incredible freedom that we get when working 
with a flexible program like R. Experiencing serious limitations in the 
implementation of functions and reuse of results of previous analyses in 
traditional statistical packages like Statview and SPSS, R appears to me 
a good alternative. So Thanks again !

I've changed my computing environment to Silicon Graphics (Indy with IRIX 
6.2) and tried to install the software, but I could not make it 
completely. After decompression, I issued the configure command. All I 
get is an echo "You can't cross-compile R". I don't know what to do with 
this. Does anybody have a clue about what's wrong.

Your help is much appreciated.

Philippe Lemay
University of Lausanne and Geneva, Switzerland
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jlindsey at luc.ac.be  Fri Apr 11 14:44:07 1997
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Apr 1997 14:44:07 +0200 (MET DST)
Subject: R-beta: Installation problems on SGI-IRIX
In-Reply-To: <334E3C11.6259@ip.unil.ch> from "Philippe Lemay" at Apr 11, 97 02:26:41 pm
Message-ID: <9704111244.AA06322@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 598 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970411/66623df1/attachment.ksh

From fredrigl at math.uio.no  Mon Apr 14 15:02:40 1997
From: fredrigl at math.uio.no (Fredrik Glockner)
Date: 14 Apr 1997 15:02:40 +0200
Subject: R-beta: arima
Message-ID: <m3bu7hdafj.fsf@biopc43.uio.no>

Has anybody ported the `arima'-package to R?  I'm specially interested
in the `arima.mle'-thingy.

Fredrik
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Tue Apr 15 13:01:01 1997
From: ihaka at stat.auckland.ac.nz (Ross &)
Date: Tue, 15 Apr 1997 23:01:01 +1200
Subject: R-beta: arima
In-Reply-To: <m3bu7hdafj.fsf@biopc43.uio.no>
References: <m3bu7hdafj.fsf@biopc43.uio.no>
Message-ID: <199704151101.XAA05657@stat9.stat.auckland.ac.nz>


Fredrik Glockner writes:
 > Has anybody ported the `arima'-package to R?  I'm specially interested
 > in the `arima.mle'-thingy.

There is a very big state-space package which Paul Gilbert has done.

I have made a start on converting some of the Applied Statistics code,
but it is only in a partially complete state.  I'm not teaching time
series this year so I'm unlikely to make much progress.

On the S front ...  Has anyone else had problems with arima.mle.
I tried it on standard examples from Box and Jenkins last year and got
very different results from what B&J and SAS ETS give.  I'm pretty
suspicious about it.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From rossetti at stat.unipg.it  Tue Apr 15 13:16:13 1997
From: rossetti at stat.unipg.it (Andrea Rossetti)
Date: Tue, 15 Apr 1997 13:16:13 +0200 (MDT)
Subject: R-beta: mig
Message-ID: <199704151116.NAA02148@gauss.stat.unipg.it>

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From merler at itc.it  Thu Apr 17 13:20:17 1997
From: merler at itc.it (Stefano Merler)
Date: Thu, 17 Apr 1997 13:20:17 +0200 (MET DST)
Subject: R-beta: R: CART
Message-ID: <199704171120.NAA04874@gea>

Has anybody ported the Classification and Regression Trees package to R?  

Stefano
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From merler at itc.it  Thu Apr 17 13:17:27 1997
From: merler at itc.it (Stefano Merler)
Date: Thu, 17 Apr 1997 13:17:27 +0200 (MET DST)
Subject: R-beta: R: Installation problems on Solaris
Message-ID: <199704171117.NAA04864@gea>

I tried to install the software on Linux and on Solaris. 

The compilation procedure is ok on Linux, but when I run the
"configure" executable shell script on Solaris I get

checking for osf sprintf bug... configure: error: You can't cross compile R

I don't know what to do with this.


stefano
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Thu Apr 17 15:39:43 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 17 Apr 1997 15:39:43 +0200
Subject: R-beta: R: CART
In-Reply-To: <199704171120.NAA04874@gea>
References: <199704171120.NAA04874@gea>
Message-ID: <199704171339.PAA22479@aragorn.ci.tuwien.ac.at>

>>>>> Stefano Merler writes:

> Has anybody ported the Classification and Regression Trees package to
> R?

Not that I am aware of.

See

	ftp://ftp.ci.tuwien.ac.at/pub/R/src/contrib

for the extension packages which are currently available.

-k
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Thu Apr 17 17:52:47 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 17 Apr 1997 08:52:47 -0700 (PDT)
Subject: R-beta: R: CART
In-Reply-To: <199704171120.NAA04874@gea>
Message-ID: <Pine.SUN.3.91.970417085026.8616A-100000@chekov>

On Thu, 17 Apr 1997, Stefano Merler wrote:

> Has anybody ported the Classification and Regression Trees package to R?  
> 

There is no freely available S code for CART.  
The best bet is either to use Therneau's C routines (available as rpart 
in the statlib general section) or one of the survival tree regression 
packages for S (or both) and extend them. It's not going to be trivial. 
On the other hand you would probably end up with a better implementation 
that S-PLUS has.


Thomas Lumley
-----------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Wed Apr 23 00:00:53 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Tue, 22 Apr 1997 17:00:53 -0500 (CDT)
Subject: R-beta: library(splines) in version 0.50 alpha
Message-ID: <m0wJncf-000hhBC@franz.stat.wisc.edu>

I am using the 0.50 alpha version of R packaged (in 3 parts) by Kurt
for Debian Linux.
 Package: r-base
 Status: install ok installed
 Priority: optional
 Section: local
 Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
 Version: 0.50b7-1
 Depends: libc5, xlib6, libreadline2
 Description: R, a language not entirely unlike the language S.

 Package: r-contrib
 Status: install ok installed
 Priority: optional
 Section: local
 Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
 Version: 0.0-1
 Depends: r-base
 Description: Add-on packages for R.
  Currently contains the following packages:
  *) acepack	ace() and avas() for selecting regression transformations
  *) bootstrap	Functions for the book "An Introduction to the Bootstrap"
  *) ctest	Classical tests
  *) date	Functions for handling dates
  *) e1071	Functions of the Department of Statistics (e1071), TU Wien
  *) fracdiff	Fractionally differenced ARIMA(p,d,q) models
  *) gee		Generalized Estimating Equation models
  *) jpn		Plot Japan's coast line and prefectures
  *) oz		Plot Australia's coast line and state boundaries
  *) splines	Regression spline functions
  *) survival4	Survival analysis

 Package: r-doc
 Status: install ok installed
 Priority: optional
 Section: local
 Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
 Version: 0.50b7-1
 Depends: r-base
 Description: Documentation for R in dvi and HTML format.

I thought I would play around with the splines library a bit to see if
some of the extensions that Bill Venables and I created would fit in.
Right now I am having problems loading the library because the R code
uses := for assignment.  Should that be changed to <- now that the
code is a part of a library?
 R> library(splines)
 Error: couldn't find function ":="
 R> library("splines")
 Error: couldn't find function ":="
 R> bs
 Error: Object "bs" not found
 R> library(survival4)
 Autoloading required library: splines 
 Error: couldn't find function ":="

If you are interested in the Debian Linux packages, check a CRAN
(Comprehensive R Archive Network) site in the bin/ix86-linux
directory.  One such site is
		   ftp://franz.stat.wisc.edu/pub/R

Are we going to follow in the tradition of Java Beans and create an
concept of CRAN Berries?
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Wed Apr 23 00:18:54 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 22 Apr 1997 15:18:54 -0700 (PDT)
Subject: R-beta: library(splines) in version 0.50 alpha
In-Reply-To: <m0wJncf-000hhBC@franz.stat.wisc.edu>
Message-ID: <Pine.SUN.3.91.970422151549.5641B-100000@chekov>

On Tue, 22 Apr 1997, Douglas Bates wrote: 
> I thought I would play around with the splines library a bit to see if
> some of the extensions that Bill Venables and I created would fit in.
> Right now I am having problems loading the library because the R code
> uses := for assignment.  Should that be changed to <- now that the
> code is a part of a library?

Yes -- I thought it had all been changed by now.  

The second R release to provide libraries also ensured that their contents
automagically went into the system environment.  In R0.50 R&R have finally
removed the unnecessary := statement, forcing us to catch up and fix our 
libraries.

Thomas Lumley
-----------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From rossini at stat.sc.edu  Wed Apr 23 02:48:41 1997
From: rossini at stat.sc.edu (Anthony Rossini)
Date: 22 Apr 1997 20:48:41 -0400
Subject: CRAN berries (was: Re: R-beta: library(splines) in version 0.50 alpha)
In-Reply-To: Douglas Bates's message of Tue, 22 Apr 1997 17:00:53 -0500 (CDT)
References: <m0wJncf-000hhBC@franz.stat.wisc.edu>
Message-ID: <wnc3esia7iu.fsf@fhat.stat.sc.edu>


 
>>>>> "Douglas" == Douglas Bates <bates at stat.wisc.edu> writes:

    Douglas> Are we going to follow in the tradition of Java Beans and
    Douglas> create an concept of CRAN Berries?

I hope so.  The idea reminds me of a cross between one of my favorite
packages/gui's (ViSta, and the icon map/guide map) and a nifty
program, LabView (if you aren't familiar with it, it is a
drop-and-drag program for designing lab measurement and data analysis 
(from the lab measures) -- just "connect the dots" to form a new
collection/analysis tool for recording lab data...).

(for those of you not familiar with java beans, they are reuseable
software components designed to be worked with visually through a gui,
rather than "programmacally").

But it's a long way off :-(.

best,

----
-tony (Anthony Rossini)	           Statistics Dept., U South Carolina
rossini at stat.sc.edu	           Columbia, SC 29208
http://www.stat.sc.edu/~rossini/   803-777-3578(O) 803-777-4048 (fax)  
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Wed Apr 23 05:42:46 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Tue, 22 Apr 1997 22:42:46 -0500 (CDT)
Subject: R-beta: cut function when max(x) == max(breaks)
Message-ID: <m0wJsxW-000hhBC@franz.stat.wisc.edu>

As I recall the S-plus and S "cut" functions return length(breaks)
when an element of x is equal to the maximum value of breaks.  The R
version of "cut" calls the C function "bincode" which returns an NA
for this situation then cut croaks trying to make a factor with the
result.

I can provide a detailed example if this would help.
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 23 08:23:14 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 23 Apr 1997 08:23:14 +0200
Subject: R-beta: library(splines) in version 0.50 alpha
In-Reply-To: <m0wJncf-000hhBC@franz.stat.wisc.edu>
References: <m0wJncf-000hhBC@franz.stat.wisc.edu>
Message-ID: <199704230623.IAA03743@aragorn.ci.tuwien.ac.at>

>>>>> Douglas Bates writes:

> I am using the 0.50 alpha version of R packaged (in 3 parts) by Kurt
> for Debian Linux.

>  Package: r-base
>  Status: install ok installed
>  Priority: optional
>  Section: local
>  Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
>  Version: 0.50b7-1
>  Depends: libc5, xlib6, libreadline2
>  Description: R, a language not entirely unlike the language S.

>  Package: r-contrib
>  Status: install ok installed
>  Priority: optional
>  Section: local
>  Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
>  Version: 0.0-1
>  Depends: r-base
>  Description: Add-on packages for R.
>   Currently contains the following packages:
>   *) acepack	ace() and avas() for selecting regression transformations
>   *) bootstrap	Functions for the book "An Introduction to the Bootstrap"
>   *) ctest	Classical tests
>   *) date	Functions for handling dates
>   *) e1071	Functions of the Department of Statistics (e1071), TU Wien
>   *) fracdiff	Fractionally differenced ARIMA(p,d,q) models
>   *) gee		Generalized Estimating Equation models
>   *) jpn		Plot Japan's coast line and prefectures
>   *) oz		Plot Australia's coast line and state boundaries
>   *) splines	Regression spline functions
>   *) survival4	Survival analysis

>  Package: r-doc
>  Status: install ok installed
>  Priority: optional
>  Section: local
>  Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
>  Version: 0.50b7-1
>  Depends: r-base
>  Description: Documentation for R in dvi and HTML format.

> I thought I would play around with the splines library a bit to see if
> some of the extensions that Bill Venables and I created would fit in.
> Right now I am having problems loading the library because the R code
> uses := for assignment.  Should that be changed to <- now that the
> code is a part of a library?
R> library(splines)
>  Error: couldn't find function ":="
R> library("splines")
>  Error: couldn't find function ":="
R> bs
>  Error: Object "bs" not found
R> library(survival4)
>  Autoloading required library: splines 
>  Error: couldn't find function ":="

Yes, `:=' is gone now, and should be `<-'.

I've updated the corresponding library sources and the Debian GNU/Linux
package.  The new versions should appear on any CRAN site by tomorrow.

-k
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 23 08:40:28 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 23 Apr 1997 08:40:28 +0200
Subject: R-beta: ANNOUNCE:  CRAN
Message-ID: <199704230640.IAA03837@aragorn.ci.tuwien.ac.at>

This is the first announcement of the

		   Comprehensive R Archive Network 
			        (CRAN)

CRAN is a collection of sites which carry identical material, consisting
of the R&R R distribution(s), the contributed extensions, documentation
for R, and binaries.

The CRAN master site can be found at the URL

	ftp://ftp.ci.tuwien.ac.at/pub/R		(Austria)

and is currently being mirrored daily at

	http://lib.stat.cmu.edu/R/CRAN		(U.S.A.)
	ftp://franz.stat.wisc.edu/pub/R		(U.S.A.)
	ftp://ftp.stat.math.ethz.ch/R-CRAN	(Switzerland)

This list should grow within soon.  If you want to become an official
CRAN mirror, please send me a note (Kurt.Hornik at ci.tuwien.ac.at).

Please use the CRAN site closest to you to reduce network load.

The structure of the CRAN tree is as follows.

	src/base		# Source distribution
	src/contrib		# Source for extensions
	doc/			# Documentation
	bin/<platform>		# Binaries

`src/base' contains the official R source distribution as provided by
Ross Ihaka and Robert Gentleman.

`src/contrib' contains code for extension packages.  Currently, there
are acepack, bootstrap, ctest, date, e1071, fracdiff, gee, jpn, oz,
snns, splines, and survival4.  Look at the INDEX file in this directory
for more specific information.  More packages are expected for the near
future.

`bin' is for prebuilt R binaries (the base distribution and extensions),
grouped according to platforms.  Currently, there are only experimental
packages for Debian GNU/Linux.  I hope that `.tar.gz' files with
contents relative to an installation tree (e.g. `bin/', `lib/R/', and
`man/man1/R.1') can be made available soon for all major supported Unix
platforms.

`doc' is for additional documentation and information on R.

In the short run, the process of `submitting' to CRAN is very simple:
upload to 

	ftp://ftp.ci.tuwien.ac.at/incoming

and drop me a note (Kurt.Hornik at ci.tuwien.ac.at).  Please indicate the
copyright situation (GPL, ...) in your submission.

In the long run, there will be a form to fill in, and some requirement
of authentication (PGPish, ...), and submission could maybe be done via
WWW.  I am open to suggestions here.

*****************************************************************************
*          Kurt Hornik         *                                            *
*  Dept of Statistics TU Wien  * tel:    +43 (1) 58801-4542                 *
*  Wiedner Hauptstr 8-10/1071  * fax:    +43 (1) 504-1498                   *
*          A-1040 Wien         * email:  Kurt.Hornik at ci.tuwien.ac.at        *
*            Austria           * WWW:    http://www.ci.tuwien.ac.at/~hornik *
*****************************************************************************
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jlindsey at luc.ac.be  Wed Apr 23 09:56:34 1997
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 23 Apr 1997 09:56:34 +0200 (MET DST)
Subject: R-beta: 0.50
Message-ID: <9704230756.AA07463@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 516 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970423/3620a4e2/attachment.ksh

From ihaka at stat.auckland.ac.nz  Wed Apr 23 11:25:23 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 23 Apr 1997 21:25:23 +1200 (NZST)
Subject: R-beta: Version 0.49 Released
Message-ID: <199704230925.VAA24453@stat1.stat.auckland.ac.nz>

The newest version of R for Unix (version 0.49) is now available
(or soon will be) from the following sites.

    NORTH AMERICA:
	http://lib.stat.cmu.edu/R/Alpha

    EUROPE:
        ftp://ftp.stat.math.ethz.ch/R/
        ftp://statlab.uni-heidelberg.de/pub/mirrors/auckland/R/

    JAPAN:
        ftp://ftp.u-aizu.ac.jp/pub/lang/R/

    NEW ZEALAND:
        ftp://stat.auckland.ac.nz/pub/R/

Please obtain a copy from site close to you.  Note that New Zealand
is not close to anywhere other than itself :-).

This version adds considerable functionality and (we hope) stability
to R.  Most notably, the object system is now very close to that
of S and we now have a fairly full implementation of complex
arithmetic.

The jump in version number (from 0.16) relects the fact that we
feel that this version of R represents quite a jump toward what we
hope will be in our eventual 1.0 release.  However the version is
numbered 0.49 rather than the 0.50 we touted because it falls a
little short of what we really want for 0.50.

Immediate development of R will focus on creating a coherent way
of loading and unloading "libraries" and creating a good framework
for documentation (can you say "SGML" - I knew you could).

A (partial) list of changes from 0.16.1 follows.  A list of known
problems is kept in the file "TASKS" in the distribution and a list
of problems we think are solved is in "TASKS.OLD"

	R + R

-------------------------------------------------------------------

		  CHANGES IN VERSION R VERSION 0.49 ALPHA

NEW FEATURES

 o  The ``object'' system has been changed substantially.  The
    behavior of both "UseMethod" and "NextMethod" should match that
    in S.  Group methods for "Math", "Ops" and "Summary" are
    available.

 o  Complex arithmetic is now implemented.  Many mathematical
    functions are now defined for complex arguments (e.g. sqrt,
    exp, log, sin, cos, tan, asin, acos, atan).  There is no
    complex gamma function or log gamma function yet.  The summary
    functions "mean", "sum", "prod", "cumsum" and "cumprod" work
    correctly when (some of) their arguments are complex.  Other
    functions such as "solve" are not "complex aware" yet, but do
    print warning messages about coercion of complex values
    to real by the dropping of imaginary parts.
    S and R do not return identical results in all cases:
	S> atan(tan(1i))
	[1] 0-1i
	R> atan(tan(1i))
	[1] 0+1i
    [ Is this just a difference on the branch cut boundary? ]

 o  The full set of S graphics symbols is now available with pch=0:18.
    In addition, there is a special set of R plotting symbols which
    can be obtained with pch=29:25.
	pch=19  solid circle
	pch=20	bullet
	pch=21	circle
	pch=22	square
	pch=23	diamond
	pch=24	triangle point-up
	pch=25	triangle point down
    The symbols 21:25 can be colored and filled with different colors.
    For example, the expression
	points(x, y, pch=21, col="red", bg="yellow")
    will plot the points using a symbol consisting of a red circle with
    a yellow interior.

 o  There is a new "family" argument to the postscript graphics driver
    which can be set to any of "AvantGarde", "Bookman", "Courier",
    "Helvetica", "Helvetica-Narrow", "NewCenturySchoolbook", "Palatino"
    or "Times".  In addition, setting font=5 will cause the "Symbol"
    family to be used.  This is still experimental and it is hard to
    see it being useful without some sort of math capability.
    [ Such a facility is "on the drawing board". ]

 o  The graphics parameter "las" is now implemented and can be used
    to rotate axis labels.  E.g.  plot(1:10, las=1) .

 o  The hyperbolic and inverse hyperbolic functions cosh, sinh, tanh,
    acosh, asinh and atanh are now implemented for both real and complex
    arguments.  (Q: are the underlying functions available on all
    platforms, or do we need compatibility fixes?)

 o  "log" has changed so that it will accept an optional "base" argument.
    "log2" and "log10" are implemented this way.

 o  "atan" can now either be invoked as atan(x) or atan(x,y).

 o  The behavior of "fft" has been modified to match that of S
    (i.e.  it returns a complex value.  There is also a function
    "mvfft" which performs a "vector transform" when passed a matrix
    (i.e.  it applies the fft to each column, rather than doing a
    2d spatial transform).

 o  A new functon "polyroot" can be used to find the roots of
    polynomials with (real or) complex coefficients.

 o  Vectors and lists are now "stretchy".  This means that the
    following is legal
	x <- 1:10
	x[20] <- 12
    [ Note that there is a bug in S.  When you try this kind of
    extension - the "dim" and "dimname" attributes are not dropped,
    leading to "invisible" elements in the result. ]

 o  Symbolic differention is now available using the functions "D"
    and "deriv".  The results are slightly difference in appearance
    from those of S (which tends to put in a few too many parentheses),
    but should provide identical semantics.  To see the nature of the
    difference, try the expression
	D(expression(tan(x)/x^2),"x")
    in both systems.
    These functions are implemented as internal code in R (what's the
    point in having a nice little underlying lisp if you don't use it
    for obvious list processing applications?).

 o  A new function "grep" has been implemented.  It performs regular
    expression matching based on POSIX 1003.3.  The function uses the
    "regex" library written by Henry Spencer (the same one that Perl
    uses).  Grep is now used to provide a pattern matching facility
    in "objects" and "ls".  In addition, there are functions "sub"
    and "gsub" which operate the same way as those in "nawk".  Note
    that "\" must be escaped to get it into a string, so if you want
    a literal "\" you must type "\\\\" :-(.

 o  A new "methods" function written by Martin Maechler replaces the
    older less sophisticated one.  This has also been converted to use
    the new "grep" function.

 o  A new version of model.frame from Thomas Lumley is included.

 o  Factors and ordered factors are now "objects" with class attributes
    which match those in S.  This change is primarily so that applications
    written for S will work in R.  The underlying implementation for
    factors and ordered factors still uses special underlying types.

 o  R will now do conditioning plots as described in the S "Models" book.
    Some thought is going into "doing trellis".

 o  Thomas Lumley's "require" and "provide" functions for library
    organization added.

 o  There is a new graphical parameter "gamma" which is designed to
    let users apply a ``gamma'' correction for their graphics
    displays.  Most monitors produce a color intensity which is
    related to voltage by the equation
			intensity = voltage ^ gamma
    with gamma about 2.5 for most PC monitors.  A typical symptom
    of this non-linearity is that a colorwheel produced by
			piechart(rep(1,48), col=48)
    shows a marked over representation of the red, green and blue
    and blue primaries.  If this is the case try
			par(gamma=1/2.5)
    and redraw the color wheel.  Vary gamma till you have a "nice"
    spectrum.  This is experimental and feedback would be welcome.
    (If this is useful we will do the same for postscript).


BUG FIXES & ENHANCEMENTS

 o  The internals of the postscript device drivers have been rewritten
    in preparation for "doing equations".  The Adobe font metrics
    are no longer processed during the build process.  The original
    files are now processed directly by the driver.  The postscript
    emitted by the drivers should conform to the Adobe 3.0 standard.

 o  Typos and logic errors in "crossprod" pointed out by Arne Kovac
    have been fixed.

 o  "round" now works using IEEE rounding on platforms which support it.
    E.g.
	> round(.5 + -3:7)
	 [1] -2 -2  0  0  2  2  4  4  6  6  8

 o  A change to the PostScript graphics device driver change should
    stop plots from rotating unexpectedly when viewed with ghostview
    and other postscript viewers.

 o  Patches from Kurt Hornik for "structure" and "help" have been applied.

 o  "names" applied to 1-d arrays now does the "right thing" i.e. it
    returns the first component of the "dimnames" attribute rather than
    NULL.  Subsetting a 1-d array as a vector will produce a "names"
    attribute on the result.
    
 o  "atan" will now accept either 1 or 2 arguments ("atan2" still exists).

 o  "nchar" and "format" preserve "dim" and "dimname" attributes where
    possible.

 o  There were problems with arguments in "switch".  These have been
    fixed.  There appears to be a bug in S with the expression
		z <- switch(1, a=, b=10, 20)
		mode(z)
    They appear to return a "missing argument".  We die with an error
    message.  What is the right thing to do here?

 o  Problems deparsing arguments of the form "a"= and a=, have been fixed.

 o  The default graphics line width is now 1 rather than 0.

 o  "as.is" problem in "read.table" pointed out by Peter Dalgaard fixed.

 o  paste(list(character(0),""), 1:2) no longer causes a segfault.
    "as.character" applied to a list now returns the vector obtained
    by deparsing each element of the list.

 o  "attach" now attaches objects at pos=2 when directed.

 o  Memory usage was measured in 1000 byte chunks with the -v flag.
    This has been changed to 1024 byte chunks.

 o  Dependency on the "OSF sprintf bug" has been removed.

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr 23 11:36:33 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 23 Apr 1997 21:36:33 +1200 (NZST)
Subject: R-beta: Version 0.49 Addendum
Message-ID: <199704230936.VAA24493@stat1.stat.auckland.ac.nz>

I should mention that this version of R has been verified to configure
and compile on the following platforms:

        PLATFORM                        COMPILER

        alpha-dec-osf3.2                cc
        hppa1.1-hp-hpux9.07             gcc or c89
        i386-unknown-freebsd2.1.5       gcc
        i686-unknown-linux              gcc
        mips-sgi-irix6.2                cc
        sparc-sun-solaris2.5.1          gcc
        sparc-sun-sunos4.1.4            gcc

We'd be interested in any other successes.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 23 17:13:22 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 23 Apr 1997 17:13:22 +0200
Subject: R-beta: R-FAQ v0.1-0
Message-ID: <199704231513.RAA14629@aragorn.ci.tuwien.ac.at>

A much updated R FAQ is now available at the URL

	http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html

The plain text version is appended below.

-k

*****************************************************************************
*          Kurt Hornik         *                                            *
*  Dept of Statistics TU Wien  * tel:    +43 (1) 58801-4542                 *
*  Wiedner Hauptstr 8-10/1071  * fax:    +43 (1) 504-1498                   *
*          A-1040 Wien         * email:  Kurt.Hornik at ci.tuwien.ac.at        *
*            Austria           * WWW:    http://www.ci.tuwien.ac.at/~hornik *
*****************************************************************************

*****************************************************************************
  R FAQ
  Kurt Hornik
  v0.1-0, 1997/04/23

  This document contains answers to some of the most frequently asked
  questions about R.  Feedback is welcome.
  ______________________________________________________________________

  Table of Contents:

  1. Introduction

     1.1 Legalese
     1.2 Obtaining this Document
     1.3 Notation
     1.4 Feedback

  2. R Basics

     2.1 What Is R?
     2.2 What Machines Does R Run on?
     2.3 What Is the Current Version of R?
     2.4 How Can R Be Obtained?
     2.5 How Can R Be Installed?
        2.5.1 How Can R Be Installed (Unix)
        2.5.2 How Can R Be Installed (Windows)
        2.5.3 How Can R Be Installed (Macintosh)
     2.6 Are there Unix Binaries for R?
     2.7 Which Documentation Exists for R?
     2.8 Which Mailing Lists Exist for R?
     2.9 What is CRAN?

  3. R and S

     3.1 What Is S?
     3.2 What Is S-PLUS?
     3.3 What Are the Differences between R and S?

  4. R Add-On Packages

     4.1 Which Add-on Packages Exist for R?
     4.2 How Can Add-on Packages Be Installed?
     4.3 How Can Add-on Packages Be Used?
     4.4 How Can I Contribute to R?

  5. R and Emacs

     5.1 Is there Emacs Support for R?
     5.2 Should I Run R from Within Emacs?

  6. R Miscellania

     6.1 How Can I Read a Large Data Set into R?
     6.2 Why Can't R Source a `Correct' File?
     6.3 How Can I Set Components of a List to NULL?
     6.4 How Can I Save My Workspace?
     6.5 How Can I Clean Up My Workspace?

  7. Acknowledgments

  ______________________________________________________________________

  11..

  This document contains answers to some of the most frequently asked
  questions about R.

  11..11..

  This document is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation; either version 2, or (at your option)
  any later version.

  This program is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  General Public License for more details.

  If you do not have a copy of the GNU General Public License, write to
  the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA
  02111-1307, USA.

  11..22..

  The latest version of this document is always available from
  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html.

  From there, you can also obtain versions converted to plain ASCII
  text, GNU info, DVI, and PostScript, as well as the SGML source used
  for creating all these formats using the SGML-Tools (formerly
  Linuxdoc-SGML) system.  (Note that right now cross-references don't
  work in the translation to plain ASCII.)

  11..33..

  Everything should be pretty standard.  `R>' is used for the R prompt,
  and a `$' for the shell prompt (where applicable).

  11..44..

  Feedback is of course most welcome.

  In particular, note that I do not have access to Windows or Mac
  systems.  If you have information on these systems that you think
  should be added to this document, please let me know.

  22..

  22..11..

  R is a system for statistical computation and graphics.  It consists
  of a language plus a run-time environment with graphics, a debugger,
  access to certain system functions, and the ability to run programs
  stored in script files.

  The design of R has been heavily influenced by two existing languages:
  Becker, Chambers & Wilks' S (see question ``What is S?'') and
  Sussman's Scheme.  Whereas the resulting language is very similar in
  appearance to S, the underlying implementation and semantics are
  derived from Scheme.  See question ``What Are the Differences between
  R and S?'' for a discussion of the differences between R and S.

  R is being developed by Ross Ihaka and Robert Gentleman, who are
  Senior Lecturers at the Department of Statistics of the University of
  Auckland in Auckland, New Zealand.

  R is free software distributed under a GNU-style copyleft.

  22..22..  WWhhaatt MMaacchhiinneess DDooeess RR RRuunn oonn??

  R is being developed for the Unix, Windows and Mac platforms.

  R will configure and build under a number of common Unix platforms
  including dec-alpha-osf, freebsd, hpux, linux-elf, sgi-irix, solaris,
  and sunos.  If you know about other platforms, please drop me a note.

  22..33..  WWhhaatt IIss tthhee CCuurrrreenntt VVeerrssiioonn ooff RR??

  The current Unix version is 0.49, the previous one was 0.16.1.  The
  jump in the version number reflects the fact that this version
  represents quite a jump towards what is hoped to be in the eventual
  1.0 release.  (However, it fell a little short of what was wanted for
  0.50.)  Version 0.49 added group methods and complex numbers, and
  hence more or less provides a full implementation of S as described in
  ``The New S Language''.

  The versions for Windows and Mac are pre-alpha.  With some good luck,
  the Windows version will soon catch up with the Unix version.

  22..44..

  Sources, binaries and documentation for R can be obtained via CRAN,
  the ``Comprehensive R Archive Network'' (see question ``What is
  CRAN?'').

  22..55..  HHooww CCaann RR BBee IInnssttaalllleedd??

  22..55..11..

  If binaries are available for your platform (see question ``Are there
  Unix Binaries for R?''), you can use these, following the instructions
  that come with them.

  Otherwise, you can compile and install R yourself, which can be done
  very easily under a number of common Unix platforms (see question
  ``What Machines Does R Run on?'').  The file INSTALL that comes with
  the R distribution contains instructions.

  Choose a place to install the R tree (R is not just a binary, but has
  additional data sets, help files, font metrics etc).  Let's call this
  place RHOME (given appropriate permissions, a natural choice would be
  `/usr/local/lib/R').  Untar the source code, and issue the following
  commands (at the shell prompt):

       $ ./configure
       $ make
       $ make install-help

  You can also build a LaTeX version of the manual entries with

       $ make install-latex

  and an HTML version of the manual with

       $ make install-html

  If these commands execute successfully, the R binary will be copied to
  the `$RHOME/bin' directory.  In addition, a shell script font-end
  called `R' will be created and copied to the same directory.  You can
  copy this script to a place where users can invoke it, for example to
  `/usr/local/bin'.  You could also copy the man page `R.1' to a place
  where your man reader finds it, such as `/usr/local/man/man1'.

  22..55..22..

  Get the file `Rexe.zip' from the `bin/ms-windows' directory of a CRAN
  site.  This archive contains a binary Windows 3.xx distribution for R
  and installation instructions.

  Robert Gentleman has recently made an updated pre-alpha Windows
  executable file available for ftp at
  ftp://stat.auckland.ac.nz/pub/research/rgentlem/rbeta.zip.  This
  binary should be more compatible with Windows 95 than the other (he
  does not know about 3.1).  You still need all the other extra files
  from the previous Windows distribution, it is only an executable.

  22..55..33..

  CRAN sites have a directory `bin/macintosh' which contains
  `R.sea.hqx', a binhexed self-extracting archive, and installation
  instructions in `README.MACINTOSH'.

  22..66..  AArree tthheerree UUnniixx BBiinnaarriieess ffoorr RR??

  Experimental `.deb' packages for installation under Debian GNU/Linux
  can be found in `bin/ix86-linux'.  No other binaries distributions for
  Unix systems have thus far been made publically available.

  22..77..  WWhhiicchh DDooccuummeennttaattiioonn EExxiissttss ffoorr RR??

  Currently, there is no R manual.  Online documentation for most of the
  functions and variables in R exists, and can be printed on-screen by
  typing help(_n_a_m_e) (or ?_n_a_m_e) at the R prompt, where _n_a_m_e is the name
  of the R object help is sought for.  (In the case of unary and binary
  operators and control-flow special forms, the name may need to be be
  quoted.)

  This documentation can also be made available as HTML, and as hardcopy
  via LaTeX, see question ``How Can R Be Installed?''.  An up-to-date
  HTML version is always available for web browsing at

       http://www.stat.math.ethz.ch/R-manual

  In the absence of a systematic introduction to R, one can mostly get
  along with introductions to S or S-PLUS, such as ``Notes on S-PLUS:  A
  Programming Environment for Data Analysis and Graphics'' by Bill
  Venables <venables at stats.adelaide.edu.au> and David Smith
  <D.M.Smith at lancaster.ac.uk>.  This document talks mostly about plain S
  features, and does not concentrate on features specific to S-PLUS, and
  is available from the Statlib S repository at
  http://lib.stat.cmu.edu/S/SplusNotes/ (LaTeX source and PostScript).
  An introduction to R based on it will soon be available.

  Last, but not least, Ross' and Robert's experience in designing and
  implementing R is described in:

       @Article{,
         author =       {Ross Ihaka and Robert Gentleman},
         title =        {R: A Language for Data Analysis and Graphics},
         journal =      {Journal of Computational and Graphical Statistics},
         year =         1996,
         volume =       5,
         number =       3,
         pages =        {299--314}
       }

  This is also the reference for R to use in publications.

  22..88..

  Thanks to Martin Maechler <maechler at stat.math.ethz.ch>, there are
  three mailing lists devoted to R.

     rr--aannnnoouunnccee
        This list is for announcements about the development of R and
        the availability of new code.

     rr--ddeevveell
        This list is for discussions about the future of R and pre-
        testing of new versions.  It is meant for those who maintain an
        active position in the development of R.

     rr--hheellpp
        The `main' R mailing list, for announcements about the
        development of R and the availability of new code, questions and
        answers about problems and solutions using R, enhancements and
        patches to the source code and documentation of R, comparison
        and compatibility with S and S-plus, and for the posting of nice
        examples and, benchmarks.

  To send a message to everyone on the r-help mailing list, send email
  to

       r-help at stat.math.ethz.ch

  To subscribe (or unsubscribe) to this list send subscribe (or unsub-
  scribe) in the BODY of the message (not in the subject!)  to r-help-
  request at stat.math.ethz.ch.  Information about the list can be obtained
  by sending an email with info as its contens to r-help-
  request at stat.math.ethz.ch.

  Subscription and posting to the other lists is done analogously, with
  `r-help' replaced by `r-announce' and `r-devel', respectively.  Note
  that the r-announce list is gatewayed into r-help, so you don't need
  to subscribe to both of them.

  It is recommended that you send mail to r-help rather than only to the
  R developers (who are also subscribed to the list, of course).  This
  may save them precious time they can use for constantly improving R,
  and will typically also result in much quicker feedback for yourself.

  Of course, in the case of bug reports it would be very helpful to have
  code which reliably reproduces the problem.

  22..99..  WWhhaatt iiss CCRRAANN??

  The ``Comprehensive R Archive Network'' (CRAN) is a collection of
  sites which carry identical material, consisting of the R
  distribution(s), the contributed extensions, documentation for R, and
  binaries.

  The CRAN master site can be found at the URL

       ftp://ftp.ci.tuwien.ac.at/pub/R/

  and is currently being mirrored daily at

       http://lib.stat.cmu.edu/R/CRAN/
       ftp://franz.stat.wisc.edu/pub/R/
       ftp://ftp.stat.math.ethz.ch/R-CRAN/

  Please use the CRAN site closest to you to reduce network load.

  The structure of the CRAN tree is as follows.

     ``src/base'
        contains the official R distribution as provided by Ross Ihaka
        and Robert Gentleman.

     ``src/contrib'
        contains code for extension packages.

     ``doc'
        is for additional documentation and information on R.
     ``bin'
        is for prebuilt R binaries (the base distribution and
        extensions), grouped according to platforms.  Currently, there
        are only experimental packages for Debian GNU/Linux.  I hope
        that `.tar.gz' files with contents relative to an installation
        tree (e.g. `bin', `lib/R/', and `man/man1/R.1') can be made
        available soon for all major supported Unix platforms.

  The process of ``submitting'' to CRAN currently is very simple: upload
  to ftp://ftp.ci.tuwien.ac.at/incoming and send email to Kurt Hornik
  <Kurt.Hornik at ci.tuwien.ac.at>.  Please indicate the copyright
  situation (GPL, ...) in your submission.

  33..

  33..11..  WWhhaatt IIss SS??

  S is a very high level language and an environment for data analysis
  and graphics.  S was written by Richard A. Becker, John M. Chambers,
  and Allan R. Wilks of AT&T Bell Laboratories Statistics Research
  Department.

  The primary references for S are two books by the creators of S.

  +o  Richard A. Becker, John M. Chambers and Allan R. Wilks (1988),
     ``The New S Language,'' Chapman & Hall, London.

     This book is often called the ``_B_l_u_e _B_o_o_k''.

  +o  John M. Chambers and Trevor J. Hastie (1992), ``Statistical Models
     in S,'' Chapman & Hall, London.

     This is also called the ``_W_h_i_t_e _B_o_o_k''.

  There is a huge amount of user-contributed code for S, available at
  the S Repository at CMU.

  See the ``Frequently Asked Questions about S''
  (http://lib.stat.cmu.edu/S/faq) for further information about S.

  33..22..  WWhhaatt IIss SS--PPLLUUSS??

  S-PLUS is a value-added version of S sold by Statistical Sciences,
  Inc. (now a division of Mathsoft, Inc.)  S is a subset of S-PLUS, and
  hence anything which may be done in S may be done in S-PLUS.  In
  addition S-PLUS has extended functionality in a wide variety areas,
  including robust regression, modern nonparametric regression, time
  series, survival analysis, multivariate analysis, classical
  statistical tests, quality control, and graphics drivers.  Add-on
  modules add additional capabilities for wavelet analysis, spatial
  statistics, and design of experiments.

  See the MathSoft S-PLUS page (http://www.mathsoft.com/splus.html) for
  further information.

  33..33..  WWhhaatt AArree tthhee DDiiffffeerreenncceess bbeettwweeeenn RR aanndd SS??

  Whereas the developers of R have tried to stick to the S language as
  defined in ``The New S Language'' (Blue Book, see question ``What is
  S?''), they have adopted the evaluation model of Scheme.

  This difference becomes manifest when _f_r_e_e variables occur in a
  function.  Free variables are those which are neither formal
  parameters (occurring in the argument list of the function) nor local
  variables (created by assigning to them in the body of the function).
  Whereas S (like C) by default uses _s_t_a_t_i_c scoping, R (like Scheme) has
  adopted _l_e_x_i_c_a_l scoping.  This means the values of free variables are
  determined by a set of global variables in S, but in R by the bindings
  that were in effect at the time the function was created.

  Consider the following function:

       cube <- function(n) {
         sq <- function() n * n
         n * sq()
       }

  Under S, sq() does not ``know'' about the variable n unless it is
  defined globally:

       S> cube(2)
       Error in sq():  Object "n" not found
       Dumped
       S> n <- 3
       S> cube(2)
       [1] 18

  In R, the ``environment'' created when cube() was invoked is also
  looked in:

       R> cube(2)
       [1] 8

  Lexical scoping allows using function closures and maintaining local
  state.  A simple example (taken from Abelson and Sussman) can be found
  in the `demos/language' subdirectory of the R distribution.  Further
  information is provided in the standard R reference ``R: A Language
  for Data Analysis and Graphics'' (see question ``Which Documentation
  Exists for R?'') and a paper on ``Lexical Scope and Statistical
  Computing'' by Robert Gentleman and Ross Ihaka which can be obtained
  from the `doc/misc' directory of a CRAN site.

  Lexical scoping also implies a further major difference.  Whereas S
  stores all objects as separate files in a directory somewhere (usually
  `.Data' under the current directory), R does not.  All objects in R
  are stored internally.  When R is started up it grabs a very large
  piece of memory and uses it to store the objects.  R performs its own
  memory management of this piece of memory.  Having everything in
  memory is necessary because it is not really possible to externally
  maintain all relevant ``environments'' of symbol/value pairs.  This
  difference also seems to make R _m_u_c_h _f_a_s_t_e_r than S.
  The down side is that if R crashes you will lose all the work for the
  current session.  Saving and restoring the memory ``images'' (the
  functions and data stored in R's internal memory at any time) can be a
  bit slow, especially if they are big.  In S this does not happen,
  because everything is saved in disk files and if you crash nothing is
  likely to happen to them.  R is still in an alpha stage, and does
  crash from time to time.  Hence, for important work you should
  consider saving often, see question ``How Can I Save My Workspace?''
  (other possibilities are logging your sessions, or have your R
  commands stored in text files which can be read in using source()).
  (Note that if you run R from within Emacs (see question ``R and
  Emacs''), you can save the contents of the interaction buffer to a
  file and conveniently manipulate it using S-transcript-mode, as well
  as save source copies of all functions and data used.)

  Apart from lexical scoping and its implications, R follows the S
  language definition in the Blue Book as much as possible, and hence
  really is an ``implementation'' of S.  There are some intentional
  differences where the behavior of S is considered ``not clean''.  In
  general, the rationale is that R should help you detect programming
  errors, while at the same time being as compatible as possible with S.

  Some known differences are the following.

  +o  In R, if x is a list, then x[sub] <- NULL and x[[sub]] <- NULL
     remove the specified elements from x.  The first of these is
     incompatible with S, where it is a no-op.

  +o  In S, the functions named .First and .Last in the `.Data' directory
     can be used for customizing, as they are executed at the very
     beginning and end of a session, respectively.  R looks for files
     called `.Rprofile' in the user's home directory and the current
     directory, and sources these.  (It also loads a saved image from
     `.RData' in case there is one.)  If a .First function exists then,
     it is executed.  The .Last mechanism is not supported yet.

  +o  Attaching library sections works differently.  In S, library(_n_a_m_e)
     adds the data directory for the library section _n_a_m_e to the search
     list.  If a function object named `.First.lib' exists in the
     directory, it is executed; this is typically used to dynamically
     load compiled code required by the functions in the section.  In R,
     library(_n_a_m_e) currently simply sources the file
     $RHOME/library/_n_a_m_e, and compiled code can be loaded by calling
     library.dynam() in this file.  The .First.lib mechanism is not
     really supported.  (Note that a library file is only loaded once,
     so that any code in the library that is not in a function is
     executed the first time the library is loaded.)

  +o  R does not try as hard as S to preserve dimnames attributes
     (examples are apply, rbind, and cbind, but also arithmetic ops).

  +o  R presently does not support IEEE Inf and NaN.

  +o  In R, attach currently only works for lists and data frames (not
     for directories).

  +o  Categories do not exist in R, and never will as they are deprecated
     now in S.  Use factors instead.

  +o  In R, For() loops are not necessary and hence not supported.

  +o  In R, assign() uses the argument envir= rather than where= as in S.

  +o  The random number generators are different, and the seeds have
     different length.

  +o  The glm family objects are implemented differently in R and S.  The
     same functionality is available but the components have different
     names.

  +o  terms objects are stored differently.  In S a terms object is an
     expression with attributes, in R it is a formula with attributes.
     The attributes have the same names but are mostly stored
     differently.  The major difference in functionality is that a terms
     object is subscriptable in S but not in R.  If you can't imagine
     why this would matter then you don't need to know.

  There are also differences which are not intentional, and result from
  missing or incorrect code in R.  The developers would appreciate
  hearing about any deficiencies you may find (in a written report fully
  documenting the difference as you see it).  Of course, it would be
  useful if you were to implement the change yourself and make sure it
  works.

  44..

  44..11..

  The R distribution comes with the following extra libraries:

     eeddaa
        Exploratory Data Analysis.  Currently only contains functions
        for robust line fitting, and median polish and smoothing.

     mmvvaa
        Multivariate Analysis.  Currently contains code for principal
        components (prcomp), canonical correlations (cancor),
        hierarchichal clustering (hclust), and metric multidimensional
        scaling (cmdscale).  More functions for clustering and scaling,
        biplots, profile and star plots, and code for ``real''
        discriminant analysis will be added soon.

  The following packages are available from the CRAN `src/contrib' area.

     aacceeppaacckk
        ace (Alternating Conditional Expectations) and avas (Additivity
        and VAriance Stabilization for regression) for selecting
        regression transformations.

     bboooottssttrraapp
        Software (bootstrap, cross-validation, jackknife), data and
        errata for the book ``An Introduction to the Bootstrap'' by B.
        Efron and R. Tibshirani, 1993, Chapman and Hall.

     cctteesstt
        A library of classical tests, including the Bartlett, Fisher,
        Kruskal-Wallis, Kolmogorov-Smirnov, and Wilcoxon tests.

     ddaattee
        Functions for dealing with dates.  The most useful of them
        accepts a vector of input dates in any of the forms 8/30/53,
        30Aug53, 30 August 1953, ..., August 30 53, or any mixture of
        these.

     ee11007711
        Miscellaneous functions used at the Department of Statistics at
        TU Wien (E1071).

     ffrraaccddiiffff
        Maximum likelihood estimation of the parameters of a
        fractionally differenced ARIMA(p,d,q) model (Haslett and
        Raftery, Applied Statistics, 1989).

     ggeeee
        An implementation of the Liang/Zeger generalized estimating
        equation approach to GLMs for dependent data.

     jjppnn
        A function to plot Japan's coast-line and prefecture boundaries.

     oozz Functions for plotting Australia's coastline and state
        boundaries.

     ssnnnnss
        An R interface to the Stuttgart Neural Networks Simulator
        (SNNS).

     sspplliinneess
        Regression spline functions.

     ssuurrvviivvaall44
        Functions for survival analysis (requires sspplliinneess).

  See CRAN `src/contrib/INDEX' for more information.

  Paul Gilbert <pgilbert at bank-banque-canada.ca> has a written a
  multivariate time series library for S called ttiimmee..sseerriieess that is
  mostly converted to run in R.  He will make this port generally
  available when complex numbers are implemented (see question ``What is
  the current version of R?'').

  According to Paul, the PADI interface from the Bank of Canada also
  works with minor changes.  PADI can be used to access Fame time series
  data bases and potentially other databases, even remotely over the
  Internet.  For further information see http://www.bank-banque-
  canada.ca/pgilbert.

  According to Arne Kovac <A.Kovac at Bristol.ac.uk>, Guy Nason's
  WaveThresh package for S worked with only minor modifications under R
  version 0.12.

  More code has been posted to the r-help mailing list, and can be
  obtained from the mailing list archive.

  44..22..

  (Unix only.)  Untar the add-on packages in $RHOME/src/library/ and
  type

       $ make libs
       $ cd ../..
       $ ./etc/install-libhelp

  at the shell prompt.

  44..33..

  To find out which add-ons have already been installed, type

       R> library()

  at the R prompt.  This produces something like

       NAME         DESCRIPTION
       acepack      ace() and avas() for selecting regression transformations
       bootstrap    Functions for the book "An Introduction to the Bootstrap"
       ctest        Classical Tests
       date         Functions for handling dates
       eda          Exploratory Data Analysis
       fracdiff     Fractionally differenced ARIMA (p,d,q) models
       gee          Generalized Estimating Equation models
       mva          Classical Multivariate Analysis
       splines      Regression spline functions
       survival4    Survival analysis [needs library(splines)]

  You can ``load'' an add-on with name _n_a_m_e by

       R> library(_n_a_m_e)

  You can then find out which functions it provides by typing

       R> help(library = _n_a_m_e)

  44..44..

  R is currently still in alpha (or pre-alpha) state, so simply using it
  and communicating problems is certainly of great value.

  One place where functionality is still missing is the modeling
  software as described in ``Statistical Models in S'' (see question
  ``What is S?''.  The functions

        add1 kappa alias labels drop1 proj

  are missing; many of these are interpreted functions so anyone that is
  bored and wants to have a go at implementing them it would be appreci-
  ated.  In addition, only linear and generalized linear models are cur-
  rently available, aov, gam, loess, tree, and the nonlinear modelling
  code are not there yet.

  Many of the packages available at the Statlib S Repository might be
  worth porting to R.

  If you are interested in working on any of these projects, please
  notify Kurt Hornik.

  55..  RR aanndd EEmmaaccss

  55..11..  IIss tthheerree EEmmaaccss SSuuppppoorrtt ffoorr RR??

  There is an Emacs-Lisp interface to S/S-PLUS called S-mode.  Its
  current version is 4.8 and can be obtained at
  http://www.maths.lancs.ac.uk:2080/~maa036/elisp/S-mode/.  The earlier
  versions which can be found at the Statlib S repository (gnuemacs3 and
  gnuemacs4) are outdated.

  It contains code for interacting with an inferior S process from
  within Emacs including an interface to the help system, editing S
  source code, and transcript manipulation, and comes with detailed
  instructions for installation.

  Martin Maechler <maechler at stat.math.ethz.ch> and Tony Rossini
  <rossini at math.sc.edu> have integrated support for R into this package.
  The current version is at

       ftp://ftp.math.sc.edu/rossini/S-mode-4.8.MM6.XE2.tar.gz

  and runs under both GNU Emacs and XEmacs.

  To install, put the byte-compiled `.el' files into a place where Emacs
  can find them, and add

       (if (not (assoc "\\.R$" auto-mode-alist)
           (add-to-list 'auto-mode-alist (cons "\\.R$" 'R-mode))))
       (autoload 'R "S" "Run an inferior R process" t)
       (autoload 'R-mode "S" "Mode for editing R source" t)
       (autoload 'r-mode "S" "Mode for editing R source" t)

  to one of your Emacs startup files, typically `~/.emacs'.  You can
  then fire up R from within Emacs by typing `M-x R' (note however that
  many interface functions will not work), and if you use the extension
  `.R' for your files with R code, Emacs will automagically turn on R
  edit mode whenever you visit such a file.

  Tony Rossini, Martin Maechler and Kurt Hornik have officially taken
  over the development of S-mode.  Version 4.9 (based on the current
  4.8.MM series) will be released shortly;  version 5.0 (codenamed
  ``istat'') should be out by the end of 1997.

  55..22..

  Yes.  Inferior R mode provides a readline/history mechanism, object
  name completion, and syntax-based highlighting of the interaction
  buffer using Font Lock mode, as well as a very convenient interface to
  the R help system.

  Of course, it also integrates nicely with the mechanisms for editing R
  source using Emacs.  One can write code in one Emacs buffer and send
  whole or parts of it for execution to R; this is helpful for both data
  analysis and programming.  One can also seamlessly integrate with a
  revision control system, in order to maintain a log of changes in your
  programs and data, as well as to allow for the retrieval of past
  versions of the code.

  In addition, it allows you to keep a record of your session, which can
  also be used for error recovery through the use of the transcript
  mode.

  66..

  66..11..

  R (currently) uses a _s_t_a_t_i_c memory model.  This means that when it
  starts up, it asks the operating system to reserve a fixed amount of
  memory for it.  The size of this chunk cannot be changed subsequently.
  Hence, it can happen that not enough memory was allocated.

  In these cases, you should restart R with more memory available, using
  the command line options -n and -v.  To understand these options, one
  needs to know that R maintains separate areas for fixed and variable
  sized objects.  The first of these is allocated as an array of
  SEXPRECs assembled in a list using ``cons cells'' (ordered pairs each
  containing an element of the list and a pointer to the next cell), and
  the second as an array of VECRECs.  The -n option can be used to
  specify the number of cons cells (each occupying 16 bytes) which R is
  to use (the default is 200000), and the -v option to specify the size
  of the vector heap in megabytes (the default is 2).  Only integers are
  allowed for both options.

  E.g., to read in a table of 5000 observations on 40 numeric variables,
  R -v 6 should do.

  Note that the information where to find vectors and strings on the
  heap is stored using cons cells.  Thus, it may also be necessary to
  allocate more space for cons cells in order to perform computations
  with very ``large'' variable-size objects.

  You can find out the current memory comsumption by typing gc() at the
  R prompt.

  66..22..

  R sometimes has problems parsing a file which does not end in a
  newline.  This can happen for example when Emacs is used for editing
  the file and next-line-add-newlines is set to nil.  To avoid the
  problem, either set require-final-newline to a non-nil value in one of
  your Emacs startup files, or make sure R-mode (see question ``Is there
  Emacs Support for R?'') is used for editing R source files (which
  locally ensures this setting).

  Earlier R versions had a similar problem when reading in data files,
  but this should have been taken care of now.

  66..33..

  You can use

       x[i] <- list(NULL)

  to set component i of the list x to NULL, similarly for named compo-
  nents.  Do not set x[i] or x[[i]] to NULL, because this will remove
  the corresponding component from the list.

  For dropping the row names of a matrix x, it may be easier to use
  rownames(x) <- NULL, similarly for column names.

  66..44..  HHooww CCaann II SSaavvee MMyy WWoorrkkssppaaccee??

  The expression

       save(list = ls(), file = ".RData")

  saves the objects in the currently active environment (typically the
  user's .GlobalEnv) to the file `.RData' in the R startup directory.

  66..55..

  To remove all objects in the currently active environment (typically
  the user's .GlobalEnv), you can do

       rm(list = ls())

  77..

  Of course, many many thanks to Robert and Ross for the R system, and
  to the package writers and porters for adding to it.

  Special thanks go to Peter Dalgaard, Paul Gilbert, Martin Maechler,
  and Anthony Rossini for their comments which helped me improve this
  FAQ.

  More to some soon ...


=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jkawczak at fisher.stats.uwo.ca  Thu Apr 24 02:15:56 1997
From: jkawczak at fisher.stats.uwo.ca (Janusz Kawczak)
Date: Wed, 23 Apr 1997 20:15:56 -0400 (EDT)
Subject: R-beta: Device: PostScript v. 0.49
In-Reply-To: <199704171339.PAA22479@aragorn.ci.tuwien.ac.at>
Message-ID: <XFMail.970423202236.jkawczak@fisher.stats.uwo.ca>

-----BEGIN PGP SIGNED MESSAGE-----

Hi all,
I have a problem with opening the postscript device in the newly
compiled R (v. 0.49). This problem was not present in 0.16.1 version.

After entering:
<R>postscript("try.ps")
I get:
Error in device("postscript", as.character(c(file, paper, family, bg,  : unable 
to start device postscript

I have no idea where the problem might be. I tried this after starting the
new session of R several times, and each time I would get this error.

Thanks for help.
Janusz.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
E-Mail: Janusz Kawczak <jkawczak at fisher.stats.uwo.ca>
finger for the public PGP key
Date: 23-Apr-97
Time: 20:16:03
>>>>>> Windows95 - the world's first NON-operating system. <<<<<<
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1

iQCVAgUBM16ny84TXHyL8B+dAQE9+AP/VcbbI8LBBQq+pIkO/ksUSMFQW+BgtyjG
yuMSHPBqutYlYMS+XeXTuE3623HvGBJcAEHfa5RVI33xc1MZHS2iz0lajN0YnZeE
uJkwZPibUwXY9LdTXx0m9RricjtHm64PR0uMW3oNI/PWDEKskMJlOYVBdIy3X7L8
Vy9YOYJjoeM=
=fPOe
-----END PGP SIGNATURE-----
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From VENKAT at biosta.mskcc.org  Thu Apr 24 03:29:00 1997
From: VENKAT at biosta.mskcc.org (Ennapadam Venkatraman)
Date: 23 Apr 97 20:29:00 EST
Subject: R-beta: R beta 0.49
Message-ID: <199704240035.CAA26224@hypatia.math.ethz.ch>

I reported bugs in "rhyper" and the TASKS.OLD file claims that they have been
fixed. But R continues to get stuck (the prompt never comes back) if I use
rhyper with N1, N2, n large, for example "rhyper(5,200,250,60)".

E. S. Venkatraman (venkat at biosta.mskcc.org)

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From warnes at biostat.washington.edu  Thu Apr 24 04:11:51 1997
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Wed, 23 Apr 1997 19:11:51 -0700 (PDT)
Subject: R-beta: multiple binary types 
Message-ID: <Pine.SUN.3.91.970423185754.10880F-300000@babcomm>


I've modified the "$RHOME/bin/R" and "$RHOME/cmd/filename" so that you 
can use the same directories for multiple machines.  That is, machines 
running various flavors of UNIX can access the same directories.

The modified structure adds the directories

$RHOME/bin/$OSTYPE/
$RHOME/lib/$OSTYPE/

to hold the machine specific binaries.

For instance, here the $RHOME directory contains two subdirectories,

$RHOME/bin/solaris/
$RHOME/bin/sunos4/

which each hold the appropriate R.binary file.  

These two modified functions assume that the environment variable $OSTYPE 
is appropriately set, as is done automatically by the shell tcsh.  If it 
is not set, the directory names collapse to the original values,
	$RHOME/bin/ and $RHOME/lib/

To use them, create the approprate directories and place the correct 
binaries therein. ( Note that the makefiles will not do this 
automatically!)  Then replace $RHOME/bin/R and $RHOME/cmd/filename with 
the modified ones.




-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------
-------------- next part --------------
#!/bin/sh
# Shell wrapper for R executable.
# Just sets a few environment items

RHOME=/biostat/server0/src/biostat/gnu/R/R-0.49
export RHOME

if [ "$1" = "SHLIB" ]
then
	shift
	exec sh $RHOME/etc/SHLIB $*
fi

if [ "$1" = "COMPILE" ]
then
	shift
	exec sh $RHOME/etc/COMPILE $*
fi

if [ "$1" = -xxgdb ]
then
	shift
	DEBUGGER=xxgdb
fi

# Default Printer Paper Size
# Choose one of the following
# R_PAPERSIZE="a4"
# R_PAPERSIZE="letter"
# R_PAPERSIZE="none"
R_PAPERSIZE=a4
export R_PAPERSIZE

# Default Print Command
# Choose one of the following
# R_PRINTCMD="lpr"
# R_PRINTCMD="lp"
R_PRINTCMD=lpr
export R_PRINTCMD

exec $DEBUGGER $RHOME/bin/$OSTYPE/R.binary $*
-------------- next part --------------
#!/bin/sh

if [ "$1" =  "lib" ]
then
	file=$RHOME/$1/$OSTYPE/$2
else
	file=$RHOME/$1/$2
fi

if [ -r $file ]
then
	echo $file
else
	echo
fi

From steve at chanane.ucsf.edu  Thu Apr 24 05:43:34 1997
From: steve at chanane.ucsf.edu (Stephen Shiboski)
Date: Wed, 23 Apr 97 20:43:34 -0700
Subject: R-beta: Device: PostScript v. 0.49
Message-ID: <9704240343.AA27268@chanane.ucsf.edu>

On Wed, 23 Apr 1997, Janusz Kawczak Wrote:

>I have a problem with opening the postscript device in the newly
>compiled R (v. 0.49). This problem was not present in 0.16.1 version.
>
>After entering:
><R>postscript("try.ps")
>I get:
>Error in device("postscript", as.character(c(file, paper, family, bg,  : unable 
>to start device postscript
>


I experience the same error after builds of 0.49 on both Solaris 2.5 and
NEXTSTEP.

--
Stephen Shiboski                          email: steve at biostat.ucsf.edu
Division of Biostatistics                 voice: 415-476-0533
University of California San Francisco    fax:   415-476-6014
500 Parnassus Avenue, MU 420 West;        San Francisco, CA 94143-0560
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From warnes at biostat.washington.edu  Thu Apr 24 07:23:34 1997
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Wed, 23 Apr 1997 22:23:34 -0700 (PDT)
Subject: R-beta: Re: postscript()
In-Reply-To: <199704240035.CAA26224@hypatia.math.ethz.ch>
Message-ID: <Pine.SOL.3.95.970423222154.11680A-100000@gorn>


I get the same problem here.  It appears to be in
PostScriptLoadFontMetrics.  Apparently, it is running accross a token it
doesn't recognize, or that is in an unknown format, while reading the font
metrics file "Helvetica".

On 23 Apr 1997, Ennapadam Venkatraman wrote:

> I reported bugs in "rhyper" and the TASKS.OLD file claims that they have been
> fixed. But R continues to get stuck (the prompt never comes back) if I use
> rhyper with N1, N2, n large, for example "rhyper(5,200,250,60)".
> 
> E. S. Venkatraman (venkat at biosta.mskcc.org)
> 
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> 


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Thu Apr 24 07:37:41 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 24 Apr 1997 07:37:41 +0200
Subject: R-beta: Re: postscript()
In-Reply-To: <Pine.SOL.3.95.970423222154.11680A-100000@gorn>
References: <199704240035.CAA26224@hypatia.math.ethz.ch>
	<Pine.SOL.3.95.970423222154.11680A-100000@gorn>
Message-ID: <199704240537.HAA17039@aragorn.ci.tuwien.ac.at>

>>>>> Gregory R Warnes writes:

> I get the same problem here.  It appears to be in
> PostScriptLoadFontMetrics.  Apparently, it is running accross a token
> it doesn't recognize, or that is in an unknown format, while reading
> the font metrics file "Helvetica".

Note that until the problem is fixed, you can still get PostScript
output using the x11() device driver and save.plot(file = "foo.ps").

-kh

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jlindsey at luc.ac.be  Thu Apr 24 09:29:47 1997
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 24 Apr 1997 09:29:47 +0200 (MET DST)
Subject: R-beta: postscript
Message-ID: <9704240729.AA05284@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 849 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970424/2e754f55/attachment.pl

From fredrigl at math.uio.no  Thu Apr 24 14:05:15 1997
From: fredrigl at math.uio.no (Fredrik Glockner)
Date: 24 Apr 1997 14:05:15 +0200
Subject: R-beta: Inf
Message-ID: <m39128lj7o.fsf@biopc43.uio.no>

I read in the FAQ that `Inf'-values are not supported in R.  I find
this kinda awkward, as I use `Inf' quite often in S-Plus, and hence
need to rewrite my programs to fit them into R.

Is R planned to support `Inf' in the near future?

Fredrik
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Thu Apr 24 14:46:28 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 24 Apr 97 14:46:28 +0200
Subject: R-beta: Re: R-0.49 -- '1 bit'  patch for  postscript bug
Message-ID: <9704241246.AA07046@>

Since it is now deep night in NZ, and the two R&R's did not yet send it to
this list :

!!>>	The postscript bug mentioned in 0.49 has a "1 bit" patch:

Replace '0' by '1' in one place of the source and recompile, i.e.,
type 'make' again in  $RHOME, i.e. the directory which should end in .../R-0.49

>> Date: Thu, 24 Apr 1997 21:35:41 +1200 (NZST)
>> From: Ross Ihaka <ihaka at stat.auckland.ac.nz>
>> To: r-devel at stat.math.ethz.ch
>> Subject: R-alpha: R-0.49 Patch #1
>> Sender: owner-r-devel at stat.math.ethz.ch
>> 
>> This patch corrects the broken postscript graphics driver.
>> If you have already done it by hand ignore this.
>> 
>> Apply this patch within the R-0.49 directory.
>> 
>> The patch is also at the auckland.ftp site and soon at mirrors.
>> 	Ross


*** src/unix/PostScript.c.orig	Thu Apr 24 21:28:27 1997
--- src/unix//PostScript.c	Thu Apr 24 21:28:51 1997
***************
*** 160,166 ****
  	if(!MatchKey(buf, "C ")) return 0;
  	p = SkipToNextItem(p);
  	sscanf(p, "%d", &nchar);
! 	if(nchar < 0) return 0;
  	p = SkipToNextKey(p);
  
  	if(!MatchKey(p, "WX")) return 0;
--- 160,166 ----
  	if(!MatchKey(buf, "C ")) return 0;
  	p = SkipToNextItem(p);
  	sscanf(p, "%d", &nchar);
! 	if(nchar < 0) return 1;
  	p = SkipToNextKey(p);
  
  	if(!MatchKey(p, "WX")) return 0;
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Apr 24 15:39:45 1997
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 24 Apr 1997 15:39:45 +0200
Subject: R-beta: Replot?
Message-ID: <199704241339.PAA13834@galadriel.ci.tuwien.ac.at>


Is there some sort of replot function, i.e., reproducing the current
plot like gnuplot's command replot?

Of course it's easy to issue a plot command twice, but after several
lines statements it gets a little bit annoying ... and the plot
disappears each time one resizes the window, changes from single plot
to multiple plots etc.

Just dreaming ...

Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4541
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

From Kurt.Hornik at ci.tuwien.ac.at  Thu Apr 24 16:01:52 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 24 Apr 1997 16:01:52 +0200
Subject: R-beta: Inf
In-Reply-To: <m39128lj7o.fsf@biopc43.uio.no>
References: <m39128lj7o.fsf@biopc43.uio.no>
Message-ID: <199704241401.QAA20204@aragorn.ci.tuwien.ac.at>

>>>>> Fredrik Glockner writes:

> I read in the FAQ that `Inf'-values are not supported in R.  I find
> this kinda awkward, as I use `Inf' quite often in S-Plus, and hence
> need to rewrite my programs to fit them into R.

> Is R planned to support `Inf' in the near future?

>From the TASKS file in the 0.49 distribution:

TASK:   Inf numerics
STATUS: Open
FROM:   plummer at iarc.fr
        Could we have an Inf object in R? I would find it useful.
        [ Sigh.  I wish we had designed this in. ]
        [ It will be a pain to ADD.              ]

So yes, but it will take a while ...

-kh
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From warnes at biostat.washington.edu  Thu Apr 24 16:26:47 1997
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Thu, 24 Apr 1997 07:26:47 -0700 (PDT)
Subject: R-beta: Replot?
In-Reply-To: <199704241339.PAA13834@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.SOL.3.95.970424072321.11974C-100000@gorn>


I wrote one last summer, but it doesn't seem to be around anymore...  I
wonder if R&R have the code around somewhere...


On Thu, 24 Apr 1997, Friedrich Leisch wrote:

> 
> Is there some sort of replot function, i.e., reproducing the current
> plot like gnuplot's command replot?
> 
> Of course it's easy to issue a plot command twice, but after several
> lines statements it gets a little bit annoying ... and the plot
> disappears each time one resizes the window, changes from single plot
> to multiple plots etc.
> 
> Just dreaming ...
> 
> Fritz
> 
> -- 
> -------------------------------------------------------------------
>                         Friedrich  Leisch     


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Thu Apr 24 18:07:18 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 24 Apr 1997 09:07:18 -0700 (PDT)
Subject: R-beta:pt()
In-Reply-To: <9704240729.AA05284@alpha.luc.ac.be>
Message-ID: <Pine.SUN.3.95.970424085443.4396A-100000@avon>

On Thu, 24 Apr 1997, Jim Lindsey wrote:

>   By the way, would it be possible to eliminate the line (floor) that
> rounds the degrees of freedom in pt.c? That way, pt can be used in
> likelihood functions for fitting the Student t distributions.

Yes please.  Non-integer degrees of freedom are very useful for
approximations as well. For example: Welch's unequal variance t-test,
Sattherthwaite approximations in ANOVA, and others.

If we can't get non-integer df we at least NEED a warning and preferably a
mention in the help file. It seems that qt() and rt() handle non-integer
df correctly (a relief, since I've been using them quite a bit) and that
the chisq and f distributions are ok too.

One simple solution is
	pt<-function(q,df) 1-0.5*(1-pf(q^2,1,df))

using the fact that a t(n) is the square root of an F(1,n).


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Thu Apr 24 22:05:24 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 25 Apr 1997 08:05:24 +1200 (NZST)
Subject: R-beta: Inf
Message-ID: <199704242005.IAA07132@stat1.stat.auckland.ac.nz>

Fredrik Glockner writes:

> I read in the FAQ that `Inf'-values are not supported in R.  I find
> this kinda awkward, as I use `Inf' quite often in S-Plus, and hence
> need to rewrite my programs to fit them into R.

> Is R planned to support `Inf' in the near future?

Not the immediate future.  The problem is that Infs will have to separated
from NAs and the changes needed are spread throughout the interpreter code.

Given a recent discussion on S-news, we probably need to think fairly
carefully about carefully Inf, NaN and NA.

It's on the list, but we have bigger problems (Libraries/Modules will
get my immediate attention).
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Thu Apr 24 22:13:32 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 25 Apr 1997 08:13:32 +1200 (NZST)
Subject: R-beta: Replot?
Message-ID: <199704242013.IAA07158@stat1.stat.auckland.ac.nz>

Friedrich.Leisch writes:

	Is there some sort of replot function, i.e., reproducing the current
	plot like gnuplot's command replot?

	Of course it's easy to issue a plot command twice, but after several
	lines statements it gets a little bit annoying ... and the plot
	disappears each time one resizes the window, changes from single plot
	to multiple plots etc.

	Just dreaming ...

Actually, Greg Warnes has written code to do this.  I haven't folded it
in because of time and because I'd like to integrate it with a move
to an event driven interface.  The event model is needed to handle
the resize problem.  I'd also like to make it possible to maintain
the picture description on disk rather than memory.  I have memories
of the first time I threw 100,000 points at the S plotting code
and my poor little Sun 3/50 buckled at the knees.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Thu Apr 24 22:18:39 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 25 Apr 1997 08:18:39 +1200 (NZST)
Subject: R-beta:pt()
Message-ID: <199704242018.IAA07178@stat1.stat.auckland.ac.nz>

I'll make the degrees of freedom change immediately, and also give a high
priority to replacing the incomplete beta function we use with the latest
offering from TOMS.  This should speed up anything which computes a lot
of probabilities for the t and F distributions.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From rgentlem at stat.auckland.ac.nz  Sun Apr 27 05:21:15 1997
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Sun, 27 Apr 1997 15:21:15 +1200 (NZST)
Subject: R-beta: R for Windows95
Message-ID: <199704270321.PAA22468@stat13.stat.auckland.ac.nz>

There is a zip (RApril.zip) which should now be at the mirrors
in R/Windows. Please have a try and let me know of any problems.
I haven't been able to test it on very many machines here so
I really don't know about 3.11 or NT.

robert

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Mon Apr 28 15:11:31 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Mon, 28 Apr 1997 08:11:31 -0500 (CDT)
Subject: R-beta: An all.names function
Message-ID: <m0wLqDf-000hhBC@franz.stat.wisc.edu>

I could not find the all.names function in R so I created the
enclosed.  Comments, criticisms, or changes to a one-liner by creating
nested anonymous functions are welcome.  I'll try to work out a
corresponding all.vars function.

### $Id: allFns.R,v 1.2 1997/04/28 13:08:21 bates Exp $
### Some replacement functions that are missing in R

### Determine all the names (symbols) occuring in an object.
### This is probably grossly inefficient.
all.names <-
  function (x) 
{
  if (mode(x) == "symbol") 
    return(as.character(x))
  if (length(x) == 0) 
    return(NULL)
  if (is.recursive(x)) 
    return(unlist(lapply(as.list(x), all.names)))
  character(0)
}   

### Local variables:
### mode: R
### End:

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Mon Apr 28 15:28:35 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: Mon, 28 Apr 1997 08:28:35 -0500 (CDT)
Subject: R-beta: a recursive anonymous function
Message-ID: <m0wLqUB-000hhBC@franz.stat.wisc.edu>

This was either an attempt to get an early lead in some future
obfuscating R contest or a way of getting around the different scoping
rules of R and S.

I attempted to create a recursive anonymous function to be called
within another function.  You may want to stop reading for a bit and
consider how that would be done.  That is, how do you recursively call
a function that has never been assigned a name?

OK, you're back.  You probably came up with a better solution than I
did but I used (sys.function())(arg) to do the recursion.  The piece
of code looks like

  flist <- (function(x) {
    if (mode(x) == "call") {
      if (x[[1]] == as.name("/")) 
	return(c(sys.function()(x[[2]]), sys.function()(x[[3]])))
      if (x[[1]] == as.name("(")) 	# for R
	return(sys.function()(x[[2]]))
    }
    if (mode(x) == "(") return(sys.function()(x[[2]])) # for S
    list(x)
  })(getGroupsFormula(data, form, ...)[[2]])
  ## I know it's horribly obscure.  Blame Bill Venables for teaching me this.

Regretably, it doesn't work in R.  Using the debugger one finds that
sys.function() returns the function being called the first time
through but the second time through it returns NULL.  Is this a bug or
a feature?
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Mon Apr 28 17:07:05 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 28 Apr 97 17:07:05 +0200
Subject: R-beta: 'all.names' function -- failing   as.list( _function_ )
In-Reply-To: <m0wLqDf-000hhBC@franz.stat.wisc.edu> (message from Douglas Bates
	on Mon, 28 Apr 1997 08:11:31 -0500 (CDT))
Message-ID: <9704281507.AA00504@>

Doug,

your 'all.names' function
	[wow, I didn't even know it in S..]
seems to have been written with S in your mind;
you are exactly demonstrating some of the 'fine' differences between  R & S

>1> all.names <- function (x) 
>2> {
>3>   if (mode(x) == "symbol")  return(as.character(x))
>4>   if (length(x) == 0)       return(NULL)
>5>   if (is.recursive(x))      return(unlist(lapply(as.list(x), all.names)))
>6>   character(0)
>7> }   

1) length(x) is not always defined in R; e.g. it is NOT for functions.
   --> Delete line 4  

2) functions  are NOT lists and cannot be coerced to,
   which makes line 5 fail for function objects.

As a matter of fact, I once was also a bit interested in this.
At that time, 'args' did not yet exist, and I wanted to abuse 'as.list' for
functions.
I was told that this is 'bad'
	(functions have nothing to do with lists;
	 in R, functions can have a defining environment going with them...)
and 'args' is now provided which helps my most immediate need.


In short: I don't think  you can define an  all.names(.) function which
	  works with functions arguments, in the current version of R.




=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Mon Apr 28 19:35:44 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 28 Apr 1997 10:35:44 -0700 (PDT)
Subject: R-beta: update.{glm,lm}
In-Reply-To: <Pine.SUN.3.95.970428075618.1365B-100000@zen>
Message-ID: <Pine.SUN.3.95.970428093056.1496A-100000@zen>

Three bugs and 2.5 fixes.

1. To make update() work with a new formula for glms, change the first
line of the glm() function from
call <- sys.call(
to
call<-match.call()
(this means that the formula component of the returned call is labelled so
that update can find it)

2. update.lm doesn't do anything with its weights= argument
Add
	if (!missing(weights))
		call$weights<-substitute(weights)

Similarly, to get update to work properly on glms you need a lot more of
these if statements (see update.glm at the end of the message).

3. update.lm evaluates its arguments in the wrong frame. It creates a
modified version of the original call and evaluates it in 
sys.frame(sys.parent()).  If update.lm is called directly this is correct,
but if it is called via update() the correct frame is
sys.frame(sys.parent(2)). Worse still, if it is called by NextMethod()
from another update.foo() the correct frame is still higher up the list.

My solution (a bit ugly) is to move up the list of enclosing calls
checking at each stage to see if the call is NextMethod, update or an
update method.  It can be seen at the end of update.glm at the bottom of
this message, and something of this sort needs to be added to other update
methods.


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

update.glm<-function (glm.obj, formula, data, weights, subset, na.action, 
        offset, family, x) 
{
        call <- glm.obj$call
        if (!missing(formula)) 
                call$formula <- update.formula(call$formula, 
                        formula)
        if (!missing(data)) 
                call$data <- substitute(data)
        if (!missing(subset)) 
                call$subset <- substitute(subset)
        if (!missing(na.action)) 
                call$na.action <- substitute(na.action)
        if (!missing(weights)) 
                call$weights <- substitute(weights)
        if (!missing(offset)) 
                call$offset <- substitute(offset)
        if (!missing(family)) 
                call$family <- substitute(family)
        if (!missing(x)) 
                call$x <- substitute(x)
        notparent <- c("NextMethod", "update", methods(update))
        for (i in 1:(1+sys.parent())) {
                parent <- sys.call(-i)[[1]]
                if (is.null(parent))
			break	
		if (is.na(match(as.character(parent), notparent)))
                        break
        }	
        eval(call, sys.frame(-i))
}

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From bates at stat.wisc.edu  Mon Apr 28 20:29:02 1997
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Apr 1997 13:29:02 -0500
Subject: R-beta: 'all.names' function -- failing   as.list( _function_ )
In-Reply-To: Martin Maechler's message of Mon, 28 Apr 97 17:07:05 +0200
References: <9704281507.AA00504@>
Message-ID: <6r67x7xapp.fsf@franz.stat.wisc.edu>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> your 'all.names' function
> 	[wow, I didn't even know it in S..]
> seems to have been written with S in your mind;

Actually it was written for a specific purpose where we were examining
some formulas.  I was not thinking of applying it to functions when I
wrote it.

It is genuine R rather than S.  I compare the mode to "symbol" rather
than to "name".

> you are exactly demonstrating some of the 'fine' differences between  R & S
> 
> >1> all.names <- function (x) 
> >2> {
> >3>   if (mode(x) == "symbol")  return(as.character(x))
> >4>   if (length(x) == 0)       return(NULL)
> >5>   if (is.recursive(x))      return(unlist(lapply(as.list(x), all.names)))
> >6>   character(0)
> >7> }   
> 
> 1) length(x) is not always defined in R; e.g. it is NOT for functions.
>    --> Delete line 4  

It does inhibit portability of code that length(object) sometimes
produces NA in R.  At present the length of a symbol also is NA.  That
is why the test for mode of "symbol" occurs before the test for zero
length.  Ross has indicated that he will change that result in a future
release.

I agree that line 4 is superfluous in the current version.  In earlier
versions I was doing the recursion a bit differently so I needed a
check for zero length in there.

> 2) functions  are NOT lists and cannot be coerced to,
>    which makes line 5 fail for function objects.

Right O.  I don't know how to handle that either.

Some of the "eternal truths" about the S language are:
 - every object has a mode obtainable by mode(object)
 - every object has a length obtainable by length(object)
 - every object can be coerced to a list of the same length 
One can imagine that code that messes around with functions and other
expressions in R will break fairly quickly when these conditions do
not hold.  I don't know how much work would be involved in patching
over these differences between R and S but I suspect it would not be a
trivial undertaking.

There is an important omission in the current version of all.names.
Line 5 in your numbering should read
 if (is.recursive(x))  return(unique(unlist(lapply(as.list(x), all.names))))
Otherwise a large expression will produce a lot of duplicates.
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Tue Apr 29 00:25:07 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 29 Apr 1997 10:25:07 +1200 (NZST)
Subject: R-beta: 'all.names' function -- failing   as.list( _function_ )
In-Reply-To: <6r67x7xapp.fsf@franz.stat.wisc.edu>
References: <9704281507.AA00504@>
	<6r67x7xapp.fsf@franz.stat.wisc.edu>
Message-ID: <199704282225.KAA25184@stat1.stat.auckland.ac.nz>

Douglas Bates writes:
 > Some of the "eternal truths" about the S language are:
 >  - every object has a mode obtainable by mode(object)
 >  - every object has a length obtainable by length(object)
 >  - every object can be coerced to a list of the same length 
 > One can imagine that code that messes around with functions and other
 > expressions in R will break fairly quickly when these conditions do
 > not hold.  I don't know how much work would be involved in patching
 > over these differences between R and S but I suspect it would not be a
 > trivial undertaking.

Our basic philosopy is one of bringing the mountain to the prophet.
When someone finds an incompatibility important enough to bring to our
attention we will try to find a way to eliminate it or to cover it up.
[ This is not an open invitation, only ask if you need it please :-) ].

Many of the incompatibilities result from us not being familiar with
some of the inner mysteries of S - these are generally pretty easy to
fix.  Some incompatibilities however result from the fact that R
started life as a kind of Lisp interpreter.  These can be quite a bit
harder to fix.

The biggest of these changes is to make it so that users see "generic
vectors" rather than lists composed of "cons-cells".  Doing this will
enable us to eliminate vast tracts of code which do subset extraction
/ mutation for lists.  A consequence of this will be clean up of the
data frame code.

This is a fundamental change and will break absolutely everything.  It
has been delayed to next (Southern) summer.
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From p.dalgaard at kubism.ku.dk  Tue Apr 29 10:57:27 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 29 Apr 1997 10:57:27 +0200
Subject: R-beta: 'all.names' function -- failing   as.list( _function_ )
In-Reply-To: Ross Ihaka's message of Tue, 29 Apr 1997 10:25:07 +1200 (NZST)
References: <9704281507.AA00504@> <6r67x7xapp.fsf@franz.stat.wisc.edu>
	<199704282225.KAA25184@stat1.stat.auckland.ac.nz>
Message-ID: <x2afmiw6iw.fsf@bush.kubism.ku.dk>

Ross Ihaka <ihaka at stat.auckland.ac.nz> writes:

> Many of the incompatibilities result from us not being familiar with
> some of the inner mysteries of S - these are generally pretty easy to
> fix.  Some incompatibilities however result from the fact that R
> started life as a kind of Lisp interpreter.  These can be quite a bit
> harder to fix.

Also (this is an absolutely uninformative and uninformed remark, I
know) I hope you/we will think these matters over very carefully,
before possibly throwing a baby out with the bathing water. Some of
the mysteries of S are probably better categorized as design bugs, and
in contrast Lisp-dialects have been subjected to a long history of
analysis by computer scientists in all the critical issues of memory
handling, scoping rules, optimizability, compilability, etc.

A little divergence between the two languages is not really critical,
we already have it in the scoping rules, and as long as the internal
logic is OK, I don't think that the porting issues are all that bad.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From maechler at stat.math.ethz.ch  Tue Apr 29 11:31:39 1997
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 Apr 97 11:31:39 +0200
Subject: R-beta: Archives of   R-announce / R-help / R-devel -- monthly archive files
Message-ID: <9704290931.AA00870@>

Something which seems missing from the current  R-FAQ
which mentions "mailing list archive":

    The 3 mailing lists   R-announce / R-help / R-devel 
    are not only archived,
    but the archives are also made publicly available on the net,
    in a monthly schedule at

	    ftp://ftp.stat.math.ethz.ch/Mail-archives/

    which is a directory of mail archive files.

    You will be looking at  
	    r-testers-... (the old scheme)
	    r-announce-...
	    r-help-...
	    r-devel-...

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From rossetti at stat.unipg.it  Tue Apr 29 12:02:23 1997
From: rossetti at stat.unipg.it (Andrea Rossetti)
Date: Tue, 29 Apr 1997 12:02:23 +0200 (MDT)
Subject: R-beta: r-home
Message-ID: <199704291002.MAA17958@fisher.stat.unipg.it>

I don't remember where's the R home page, in which is the help, please help me!!

TNX!

Ps excuseme for my english.

Andrea Rossetti.
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From A.Kovac at Bristol.ac.uk  Tue Apr 29 16:06:19 1997
From: A.Kovac at Bristol.ac.uk (Arne Kovac)
Date: Tue, 29 Apr 1997 15:06:19 +0100 (BST)
Subject: R-beta: WaveThresh
Message-ID: <Pine.GSO.3.95.970429144610.21981B-100000@hannan>

WaveThresh is now available from the CRAN. WaveThresh is a wavelet package
which is used by many authors in the wavelet literature. A description of
the functions can be found in

   Nason, G. P. and Silverman, B. W. (1994), 
   "The discrete wavelet transform in S", 
   Journal of Computational and Graphical Statistics, Vol. 3, pp 163-191.

Another source of information is the home page for WaveThresh:

http://www.stats.bris.ac.uk/pub/software/wavethresh/WaveThresh.html.

The original S-Plus version is developed by Guy Nason and available from
the Statlib archive. The R version supports nearly all the functionality
except some restrictions with the use of the two-dimensional wavelet
transform. A new version will be released soon and (hopefully) ported to R
as well.

Have fun 

Arne Kovac

-- 
Arne Kovac
School of Mathematics                    Phone: +44 (0117) 942 7551
University of Bristol                    A.Kovac at bristol.ac.uk    
University Walk, Bristol, BS8 1TW, U.K.  http://www.stats.bris.ac.uk/~maak

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From hfe at math.uio.no  Wed Apr 30 00:01:17 1997
From: hfe at math.uio.no (Harald Fekjaer)
Date: Wed, 30 Apr 1997 00:01:17 +0200
Subject: R-beta: New R package for survival analysis
Message-ID: <33666FAD.181869A4@ulrik.uio.no>

Dear people at r-announce

At "http://www.med.uio.no/imb/stat/addreg/",
you can now find the new package addreg (version 1.0).

It performs additive hazards regression, which is an alternative (or
supplement) to the Cox model. It results in plots that are informative
regarding the effect of covariates on survival.

I wrote it as a S-plus package, but has made some small adjustments to
make it work on R. This can now be down loaded in a separte file. 

In version 1.1 of addreg (last quarter 1997?), I'll plan to give a full
R version with the same functionality as the S-plus version.


Harald Fekjaer, Section of Medical Statistice, University of Oslo
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr 30 01:13:17 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 30 Apr 1997 11:13:17 +1200 (NZST)
Subject: S Compatibility (Was: Re: R-beta: 'all.names' function -- failing   as.list( _function_ ))
Message-ID: <199704292313.LAA04791@stat1.stat.auckland.ac.nz>

Peter Dalgaard writes:

> Ross Ihaka <ihaka at stat.auckland.ac.nz> writes:

> > Many of the incompatibilities result from us not being familiar with
> > some of the inner mysteries of S - these are generally pretty easy to
> > fix.  Some incompatibilities however result from the fact that R
> > started life as a kind of Lisp interpreter.  These can be quite a bit
> > harder to fix.

> Also (this is an absolutely uninformative and uninformed remark, I
> know) I hope you/we will think these matters over very carefully,
> before possibly throwing a baby out with the bathing water. Some of
> the mysteries of S are probably better categorized as design bugs, and
> in contrast Lisp-dialects have been subjected to a long history of
> analysis by computer scientists in all the critical issues of memory
> handling, scoping rules, optimizability, compilability, etc.

> A little divergence between the two languages is not really critical,
> we already have it in the scoping rules, and as long as the internal
> logic is OK, I don't think that the porting issues are all that bad.

The primary reason for having S compatibility is so that we "buy" (some
might say "steal") applications [and I must say I am both surprised and
gratified at the number which seem to be appearing - thanks to everyone
for this!].

For the most part, the "price" of compatibility is small and in a
number of cases moving from our own (sometimes confused) model to the S
one has been a big win.

Some things we almost certainly won't be changing.  Scoping is one of
these (although I have to confess that I have made the pitch to Robert
that we should drop our scoping in favour of the S version - he
sensibly said "no").

It's very important that there be a "free" alternative to to S-PLUS
(I have just deleted a long tirade about this - you're probably all
converts anyway).  ``Giving in'' on a few points is a small price to
pay for enough applications to ensure R's success.

	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From thomas at biostat.washington.edu  Wed Apr 30 01:28:55 1997
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 29 Apr 1997 16:28:55 -0700 (PDT)
Subject: S Compatibility (Was: Re: R-beta: 'all.names' function -- failing   as.list( _function_ ))
In-Reply-To: <199704292313.LAA04791@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SUN.3.95.970429161857.9552D-100000@avon>

On Wed, 30 Apr 1997, Ross Ihaka wrote:
> 
> Some things we almost certainly won't be changing.  Scoping is one of
> these (although I have to confess that I have made the pitch to Robert
> that we should drop our scoping in favour of the S version - he
> sensibly said "no").

Quite right too.  My favorite example is a function that I and several of
my fellow students have at various times tried to write in S.

jack.lm<-function(lm.obj){
	ii<-as.matrix(1:length(lm.obj$residuals))
	var(t(apply(ii,1,function(i) update(lm.obj,subset=-i)$coef)))
	}

or similar things for bootstrap, weighted bootstrap, glms and so on.  In
every case people have spent hours staring at this code and wondering why
it claims to be unable to find lm.obj. 

My view on the scoping rules of R is that they aren't an incompatibility
since most people I have talked to think that S scopes this way.


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From zt_taylor at pnl.gov  Wed Apr 30 01:43:30 1997
From: zt_taylor at pnl.gov (Z. Todd Taylor)
Date: Tue, 29 Apr 1997 16:43:30 -0700
Subject: R-beta: Re: S Compatibility
Message-ID: <199704292343.QAA24625@aggie.pnl.gov>

Ross Ihaka <ihaka at stat.auckland.ac.nz> wrote:

[ in response to discussions about S compatibility ]

> Some things we almost certainly won't be changing.  Scoping is one of
> these (although I have to confess that I have made the pitch to Robert
> that we should drop our scoping in favour of the S version - he
> sensibly said "no").

I have a question/comment on this topic.  If I understand what
I've read, R's lexical scoping rules are what require that all
of R's data be held in memory (as opposed to S's method of
storing each object on disk and reading it as often as
necessary).

My question is whether there will ever be a way around having to
store everything in memory.  I make heavy use of S's
user-defined database mechanism to gain transparent access to
some huge datasets.  I store tens of thousands of
individually-compressed S objects that I can access
transparently via my user-defined database.

In S, I attach my user-defined database(s) and all those objects
are available; but they don't use any memory until I actually
use them.  Obviously, I rarely access all of them in one
session, but usually access more than I could hold in memory
at once.

So, how could I do this in R?

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
zt_taylor at pnl.gov
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From wvenable at attunga.stats.adelaide.edu.au  Wed Apr 30 01:51:07 1997
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 30 Apr 1997 09:21:07 +0930
Subject: R-beta: Re: S Compatibility 
In-Reply-To: <Pine.SUN.3.95.970429161857.9552D-100000@avon>
References: <199704292313.LAA04791@stat1.stat.auckland.ac.nz>
	<Pine.SUN.3.95.970429161857.9552D-100000@avon>
Message-ID: <9704292351.AA17204@attunga.stats.adelaide.edu.au>

Thomas Lumley writes:
 > On Wed, 30 Apr 1997, Ross Ihaka wrote:
 > > 
 > > Some things we almost certainly won't be changing.  Scoping
 > > is one of these (although I have to confess that I have made
 > > the pitch to Robert that we should drop our scoping in
 > > favour of the S version - he sensibly said "no").
 > 
 > Quite right too.  My favorite example is a function that I and
 > several of my fellow students have at various times tried to
 > write in S.
 > 
 > jack.lm<-function(lm.obj){
 > 	ii<-as.matrix(1:length(lm.obj$residuals))
 > 	var(t(apply(ii,1,function(i) update(lm.obj,subset=-i)$coef)))
 > 	}
 > 
 > or similar things for bootstrap, weighted bootstrap, glms and
 > so on.  In every case people have spent hours staring at this
 > code and wondering why it claims to be unable to find lm.obj.

Just to satisfy the curious - I'm not saying it is good or bad -
there is a way to do it in S, of course, namely

jack.lm <- function(lm.obj) {
 	ii <- matrix(1:length(lm.obj$residuals))
 	var(t(apply(ii, 1, function(i, obj) 
		update(obj, subset = -i)$coef, lm.obj)))
 	}

My question is, though, will this also work in R?  It it intended
to remain so?  Given that the S scoping rules are more
restrictive, it would be a mistake to make it impossible to write
code that is usable on both systems.

 > My view on the scoping rules of R is that they aren't an
 > incompatibility since most people I have talked to think that
 > S scopes this way.

Are the scoping differences between R and S set out precisely and
definitively somewhere?  This would be useful.

(As a complete side-issue, Brian Ripley and I have a kind of
convention: we refer to the language as "S" and the commercial
product as "S-PLUS".  There is a useful distinction to be made.)
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr 30 03:24:52 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 30 Apr 1997 13:24:52 +1200 (NZST)
Subject: R-beta: Re: S Compatibility
Message-ID: <199704300124.NAA05847@stat1.stat.auckland.ac.nz>

Bill Venables writes:

> Are the scoping differences between R and S set out precisely and
> definitively somewhere?  This would be useful.

In the source code perhaps? :-)

You can find a pretty precise description in the article Robert and I
did in JCGS.

Actually its pretty simple.  Functions have access to the variables
which were in effect when the function was defined.

	f <- function(x) {
		g <- function() {
			x * x
		}
		g()
	}

The body of g has access to "x" even though it is not global and not
passed as an argument.

Passing values in this way is actually much more efficient than passing
via a formal argument (in R and I presume S) because the matching of
formals and actuals is quite expensive.

Hmmm.  Actually my statement above is not quite precise.  Functions
have access to variables in the environment which was in effect when
the function was defined, so

	f <- function(x)
		g <- function() {
			y * y
		}
		y <- x/2
		g()
	}

will also work, even though y is defined after g, because g and y
are defined in the same environment (the body of f).

One really useful thing you can do with this is to create functions
with "own" or static variables.  Consider

	make.linear.fun <- function(a, b) {
		function(x) a + b * x
	}

	g <- make.linear.fun(2,3)

After this, g is a function of a single variable "x", but the
the body of g has access to the values of "a" and "b" which
were in effect when the function was created.

This remains true even after "make.linear.fun" has returned.  Essentially,
g has access to variables "a" and "b" which are not connected to the
rest of the universe.

"make.linear.fun" can be used to make up lots of linear functions and
they all have their own private copies of "a" and "b".

If you look at our function "splinefun", you'll see this in action.
Unlike "spline" which carries out the spline interpolation, "splinefun"
returns a function which will do the interpolation - i.e. the spline
itself.  You can also create likelihoods which encapsulate their
data etc.  It lets you do things much more abstractly.

We've also adapted the operator <<- so that it works back up through
the environment stack and carries out the assigment on the first
variable it finds with the right name.

	mk.counter <- function(count=0)
			function() {
				count <<- count + 1
				count
			}

	counter1 <- mk.counter()	# each has its own count
	counter2 <- mk.counter()

	counter1() # -> returns 1
	counter1() # -> returns 2
	counter2() # -> returns 1
	...

This gives functions what is called "mutable state" and could be used to
create a real object system (the instance variables would really be
private).

We haven't really made a big deal about this, but I think it is an
incredibly elegant idea.  I wish we'd thought of it, but we just borrowed
it from Scheme.

	(As a complete side-issue, Brian Ripley and I have a kind of
	convention: we refer to the language as "S" and the commercial
	product as "S-PLUS".  There is a useful distinction to be made.)

This is generally what I try to do too.

However, I suspect though that most people don't know that there is a
difference, and these days so few people can get access to the non-plussed
version, I wonder how important it is to make the distinction.  :-(

	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr 30 04:27:07 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 30 Apr 1997 14:27:07 +1200 (NZST)
Subject: R-beta: Re: S Compatibility
Message-ID: <199704300227.OAA06297@stat1.stat.auckland.ac.nz>

Z. Todd Taylor writes:

> I have a question/comment on this topic.  If I understand what
> I've read, R's lexical scoping rules are what require that all
> of R's data be held in memory (as opposed to S's method of
> storing each object on disk and reading it as often as
> necessary).

> My question is whether there will ever be a way around having to
> store everything in memory.  I make heavy use of S's
> user-defined database mechanism to gain transparent access to
> some huge datasets.  I store tens of thousands of
> individually-compressed S objects that I can access
> transparently via my user-defined database.

> In S, I attach my user-defined database(s) and all those objects
> are available; but they don't use any memory until I actually
> use them.  Obviously, I rarely access all of them in one
> session, but usually access more than I could hold in memory
> at once.

> So, how could I do this in R?


You can't (yet).  Here is a possible approach I have been thinking
about (thinking not doing).  Lazy evaluation is implemented using
"promise-to-evaluate" objects.  We could use something quite similar
(perhaps identical) to implement what you want.  We will introduce
"promise-to-fetch" kind of object which contains information on how to
fetch an object and a slot which would point to the real object if is
currently in memory.  When the evaluator encounters such an object it
checks the value slot to see if the value is present.  If it is it
returns it, otherwise it uses the "fetch" recipe to first bring it into
memory and then it returns it.

When memory runs low, the real objects could be freed and the recipes
retained.  How this would work (timestamps?) and how it would work with
the garbage collector is an open question.

Because the objects are referenced through these "promise" gizmos,
scoping is no problem.

Its something we definitely need (almost as much as REAL libraries).
If only there were another 24 hours in each day ...
	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From wvenable at attunga.stats.adelaide.edu.au  Wed Apr 30 09:42:22 1997
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 30 Apr 1997 17:12:22 +0930
Subject: R-beta: Re: S Compatibility
In-Reply-To: <199704300124.NAA05847@stat1.stat.auckland.ac.nz>
References: <199704300124.NAA05847@stat1.stat.auckland.ac.nz>
Message-ID: <9704300742.AA17932@attunga.stats.adelaide.edu.au>

Ross Ihaka writes:
 > Bill Venables writes:
 > 
 > > Are the scoping differences between R and S set out precisely and
 > > definitively somewhere?  This would be useful.
 > 
 > In the source code perhaps? :-)

I should have added `concisely' ...

 > You can find a pretty precise description in the article Robert and I
 > did in JCGS.  

May I suggest the reference be added to the FAQ if it is not
already there?  It may not actually be a frequently asked
question, but it should be.

 > 
 > One really useful thing you can do with this is to create functions
 > with "own" or static variables.  Consider
 > 
 > 	make.linear.fun <- function(a, b) {
 > 		function(x) a + b * x
 > 	}
 > 
 > 	g <- make.linear.fun(2,3)
 > 
 > After this, g is a function of a single variable "x", but the
 > the body of g has access to the values of "a" and "b" which
 > were in effect when the function was created.

Of course this is also possbile in S, but much less elegantly.

> make.linear.fun <- function(a, b) 
+	substitute(function(x) .a +.b * x, list(.a = a, .b = b))
> make.linear.fun(2,3)
function(x)
2 + 3 * x
> make.linear.fun(2,3) -> funny
> funny(1)
[1] 5

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jlindsey at luc.ac.be  Wed Apr 30 09:54:53 1997
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 30 Apr 1997 09:54:53 +0200 (MET DST)
Subject: R-beta: Small problems with R0.49
Message-ID: <9704300754.AA19200@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1856 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970430/db1498ee/attachment.pl

From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 30 10:20:22 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 30 Apr 1997 10:20:22 +0200
Subject: R-beta: Small problems with R0.49
In-Reply-To: <9704300754.AA19200@alpha.luc.ac.be>
References: <9704300754.AA19200@alpha.luc.ac.be>
Message-ID: <199704300820.KAA17727@aragorn.ci.tuwien.ac.at>

>>>>> Jim Lindsey writes:

> Suggestions:
> 1. d, p, q, and r functions for inverse Gauss and Laplace
> distributions.
> 2. Add a fifth function for continuous distributions, the hazard
> function, h. For example, ht <- function(...) dt(...)/(1-pt(...))
> is the Student t hazard function.
> For writing likelihood functions, these would be much faster in C than
> R and some such as Weibull can be simplified.
> 3. Add the five functions for three parameter distributions such as
> generalized F, extreme value, etc., Box-Cox,... (I have the densities,
> cumulative, and hazard as R functions.)
> 4. Philippe Lambert and I have d and p functions working in R for the
> four-parameter stable family by inverting the characteristic function
> with a Fourier transform (requires C code). S-plus only has the r
> function for stables.

It would definitely be wonderful to have all these functions available.
I am a bit worried about over-polluting the name space, though.  (I was
never too happy with pf and their likes.)

-k
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 30 10:23:14 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 30 Apr 1997 10:23:14 +0200
Subject: R-beta: Re: S Compatibility
In-Reply-To: <9704300742.AA17932@attunga.stats.adelaide.edu.au>
References: <199704300124.NAA05847@stat1.stat.auckland.ac.nz>
	<9704300742.AA17932@attunga.stats.adelaide.edu.au>
Message-ID: <199704300823.KAA17738@aragorn.ci.tuwien.ac.at>

>>>>> Bill Venables writes:

> Ross Ihaka writes:
>> Bill Venables writes:
>> 
>> > Are the scoping differences between R and S set out precisely and
>> > definitively somewhere?  This would be useful.
>> 
>> In the source code perhaps? :-)

> I should have added `concisely' ...

>> You can find a pretty precise description in the article Robert and I
>> did in JCGS.  

> May I suggest the reference be added to the FAQ if it is not
> already there?  It may not actually be a frequently asked
> question, but it should be.

Actually, the FAQ spends quite some time on this issue:

  Whereas the developers of R have tried to stick to the S language as
  defined in ``The New S Language'' (Blue Book, see question ``What is
  S?''), they have adopted the evaluation model of Scheme.

  This difference becomes manifest when free variables occur in a
  function.  Free variables are those which are neither formal
  parameters (occurring in the argument list of the function) nor local
  variables (created by assigning to them in the body of the function).
  Whereas S (like C) by default uses static scoping, R (like Scheme) has
  adopted lexical scoping.  This means the values of free variables are
  determined by a set of global variables in S, but in R by the bindings
  that were in effect at the time the function was created.

  Consider the following function:

       cube <- function(n) {
         sq <- function() n * n
         n * sq()
       }

  Under S, sq() does not ``know'' about the variable n unless it is
  defined globally:

       S> cube(2)
       Error in sq():  Object "n" not found
       Dumped
       S> n <- 3
       S> cube(2)
       [1] 18

  In R, the ``environment'' created when cube() was invoked is also
  looked in:

       R> cube(2)
       [1] 8

  Lexical scoping allows using function closures and maintaining local
  state.  A simple example (taken from Abelson and Sussman) can be found
  in the `demos/language' subdirectory of the R distribution.  Further
  information is provided in the standard R reference ``R: A Language
  for Data Analysis and Graphics'' (see question ``Which Documentation
  Exists for R?'') and a paper on ``Lexical Scope and Statistical
  Computing'' by Robert Gentleman and Ross Ihaka which can be obtained
  from the `doc/misc' directory of a CRAN site.

-k
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From plummer at iarc.fr  Wed Apr 30 11:05:19 1997
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 30 Apr 1997 11:05:19 +0200
Subject: R-beta: Re: S Compatibility
Message-ID: <199704300917.LAA18687@hypatia.math.ethz.ch>

At 03:28 30/04/97, ihaka at stat.auckland.ac.nz wrote:

>Bill Venables writes:
>	(As a complete side-issue, Brian Ripley and I have a kind of
>	convention: we refer to the language as "S" and the commercial
>	product as "S-PLUS".  There is a useful distinction to be made.)
>
>This is generally what I try to do too.
>
>However, I suspect though that most people don't know that there is a
>difference, and these days so few people can get access to the non-plussed
>version, I wonder how important it is to make the distinction.  :-(

How important is it to avoid being sued, or less facetiously, what is
the legal status of R? If I were Mathsoft I would be less than pleased
at the development of R and would try to stop it if I could. I have
been wondering for some time if this is possible. But I am not a lawyer
and the issue seems very unclear to me.

I suppose the argument that the S language (as opposed to the S-PLUS
product) is public domain. Is this true? Surely S is a commercial 
product developed by Lucent Technologies which is licensed exclusively
to Mathsoft? Arguably (and I'm being devil's advocate here) the S
language, and not just the source code, is the intellectual property of
Lucent.

I know this isn't the first freeware project which is "not unlike"
an existing commercial product.  But in other cases the commercial product
is either a brand name which can be licensed to anyone whose software
passes a validation test suite (eg Linux/UNIX or GNUstep/OpenStep) or else
the freeware version is used with authorization from the commercial
developer (eg Mesa/OpenGL). R does not fit into either category.

Perhaps I'm worrying over nothing, but it would be nice to have
some reassurance.

Martyn

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From Kurt.Hornik at ci.tuwien.ac.at  Wed Apr 30 12:29:02 1997
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 30 Apr 1997 12:29:02 +0200
Subject: R-beta: Re: S Compatibility
In-Reply-To: <199704300917.LAA18687@hypatia.math.ethz.ch>
References: <199704300917.LAA18687@hypatia.math.ethz.ch>
Message-ID: <199704301029.MAA18079@aragorn.ci.tuwien.ac.at>

>>>>> Martyn Plummer writes:

> At 03:28 30/04/97, ihaka at stat.auckland.ac.nz wrote:
>> Bill Venables writes:
>> (As a complete side-issue, Brian Ripley and I have a kind of
>> convention: we refer to the language as "S" and the commercial
>> product as "S-PLUS".  There is a useful distinction to be made.)
>> 
>> This is generally what I try to do too.
>> 
>> However, I suspect though that most people don't know that there is a
>> difference, and these days so few people can get access to the non-plussed
>> version, I wonder how important it is to make the distinction.  :-(

> How important is it to avoid being sued, or less facetiously, what is
> the legal status of R? If I were Mathsoft I would be less than pleased
> at the development of R and would try to stop it if I could. I have
> been wondering for some time if this is possible. But I am not a lawyer
> and the issue seems very unclear to me.

> I suppose the argument that the S language (as opposed to the S-PLUS
> product) is public domain. Is this true? Surely S is a commercial
> product developed by Lucent Technologies which is licensed exclusively
> to Mathsoft? Arguably (and I'm being devil's advocate here) the S
> language, and not just the source code, is the intellectual property
> of Lucent.

> I know this isn't the first freeware project which is "not unlike" an
> existing commercial product.  But in other cases the commercial
> product is either a brand name which can be licensed to anyone whose
> software passes a validation test suite (eg Linux/UNIX or
> GNUstep/OpenStep) or else the freeware version is used with
> authorization from the commercial developer (eg Mesa/OpenGL). R does
> not fit into either category.

> Perhaps I'm worrying over nothing, but it would be nice to have
> some reassurance.

If I may suggest something here:

One could ask John Eaton <jwe at bevo.che.wisc.edu>, the author of Octave, 
what he knows about these problems.  As far as I am aware, he did look
into the legal situation before he started `cloning' MATLAB.  But of
course, the situation MATLAB/Octave is different from S/S-PLUS/R, as the
MATLAB language really is not specified anywhere.

Or, and that's perhaps the right thing to do, one could ask Richard
Stallman.  [As an aside, perhaps not everyone is aware that one of the
issues on the GNU Task List is

   * An implementation of the S language (an interpreted language used
     for statistics).

]  I am sure he'd be delighted to help ...

I think that roughly speaking, you cannot copyright a language, onlt its
implementation.  But I may be wrong ...

-k
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From p.dalgaard at kubism.ku.dk  Wed Apr 30 14:13:28 1997
From: p.dalgaard at kubism.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 1997 14:13:28 +0200
Subject: R-beta: Re: S Compatibility
In-Reply-To: Kurt Hornik's message of Wed, 30 Apr 1997 12:29:02 +0200
References: <199704300917.LAA18687@hypatia.math.ethz.ch>
	<199704301029.MAA18079@aragorn.ci.tuwien.ac.at>
Message-ID: <x2hggo4sk7.fsf@bush.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> Or, and that's perhaps the right thing to do, one could ask Richard
> Stallman.  [As an aside, perhaps not everyone is aware that one of the
> issues on the GNU Task List is
> 
>    * An implementation of the S language (an interpreted language used
>      for statistics).
> 
> ]  I am sure he'd be delighted to help ...

If you had had any previous dealings with Stallman, you wouldn't use
the word "delighted" there... A very important figure in the free
software world, but with a somewhat, er, abrasive character. Gets
things done, though. Would be good to tell him about R, so that
someone won't rush into unnecessary work.

What he probably would tell you is that the FSF has a substantial "red
tape" procedure for code contributions to ensure that nobody can claim
to own parts of the code and thereby block the use of the entire
product. You can't put code under GPL if you don't own it, and there
are situations where the employer/university legally owns code that
people write, even if it's during off-duty periods. (Not so in
Denmark. University employees here even own what they do in their work
time. Few people get rich from it, though.)

> I think that roughly speaking, you cannot copyright a language, onlt its
> implementation.  But I may be wrong ...

That's definitely current *practice*, cf. the C language, UNIX command
names and syntax, various shells, and even entry points in a PC BIOS.
The last one got hashed out pretty thoroughly in court.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From kadrass at nevada.edu  Wed Apr 30 15:48:23 1997
From: kadrass at nevada.edu (KRISS A DRASS)
Date: Wed, 30 Apr 1997 06:48:23 -0700 (PDT)
Subject: R-beta: Classification Functions
Message-ID: <Pine.OSF.3.91.970430064038.12951B-100000@pioneer.nevada.edu>

Hello,

	I am new to this list so I apologize if my questions have been
asked and answered already.  I am currently reading the book Modern
Applied Statistics with S-Plus by Venables and Ripley which I think is
absolutely wonderful.  I downloaded the S-Plus code that accompanies the
book and tried to get some of it running under R, without success so far. 
Has anyone ported any of the code from this book to R, and if so, would
they be willing to share it?  I am mainly interested in the discriminant
analysis, neural net, and other classification functions.  Is anyone aware
of R implementations of these or related functions? 

Thank you for your help.

Kriss

===========================================================================
Kriss A. Drass, Ph.D.				Voice:  702/895-0247
Department of Criminal Justice			Fax:	702/895-0252
University of Nevada, Las Vegas			E-Mail: kadrass at nevada.edu
Las Vegas, NV  89154-5009
===========================================================================
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From jlindsey at luc.ac.be  Wed Apr 30 15:57:28 1997
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 30 Apr 1997 15:57:28 +0200 (MET DST)
Subject: R-beta: Scoping
Message-ID: <9704301357.AA19121@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 469 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19970430/1a456188/attachment.pl

From VENKAT at biosta.mskcc.org  Wed Apr 30 17:09:00 1997
From: VENKAT at biosta.mskcc.org (Ennapadam Venkatraman)
Date: 30 Apr 97 10:09:00 EST
Subject: R-beta: ls.print
Message-ID: <199704301411.QAA20329@hypatia.math.ethz.ch>

ls.print produces error that I don't seem to be able to trace.
Output of the commands as follows: (hyeung is a 24x2 matrix of data)

-------------------------------------------------
> summary(hyeung)
       x.1             x.2
 Min.   : 28.0   Min.   : 10.0
 1st Qu.: 72.0   1st Qu.: 87.5
 Median : 86.5   Median : 92.5
 Mean   : 81.0   Mean   : 82.5
 3rd Qu.: 97.0   3rd Qu.:100.0
 Max.   :100.0   Max.   :100.0

> summary(lsfit(hyeung[,1],hyeung[,2]))
          Length Class  Mode
coef       2     -none- numeric
residuals 24     -none- numeric
intercept  1     -none- logical
qr         6     -none- list

> ls.print(lsfit(hyeung[,1],hyeung[,2]))
trace: ls.print(lsfit(hyeung[, 1], hyeung[, 2]))
Error: missing value in ``n1 : n2''

-------------------------------------------------

E. S. Venkatraman (venkat at biosta.mskcc.org)

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From luke at stat.umn.edu  Wed Apr 30 17:02:05 1997
From: luke at stat.umn.edu (Luke Tierney)
Date: Wed, 30 Apr 1997 10:02:05 -0500 (CDT)
Subject: R-beta: Re: S Compatibility
In-Reply-To: <9704300742.AA17932@attunga.stats.adelaide.edu.au> from "Bill Venables" at Apr 30, 97 05:12:22 pm
Message-ID: <9704301502.AA09795@nokomis.stat.umn.edu>

Bill Venables writes:
> 
> Ross Ihaka writes:
>  > Bill Venables writes:
>  > 
>  > > Are the scoping differences between R and S set out precisely and
>  > > definitively somewhere?  This would be useful.
>  > 
>  > In the source code perhaps? :-)
> ...

> Of course this is also possbile in S, but much less elegantly.
> 
> > make.linear.fun <- function(a, b) 
> +	substitute(function(x) .a +.b * x, list(.a = a, .b = b))
> > make.linear.fun(2,3)
> function(x)
> 2 + 3 * x
> > make.linear.fun(2,3) -> funny
> > funny(1)
> [1] 5

substitute works nicely here, but in general it isn't the best choice
since it doesn't understand syntax. I use a little function defined
like this (a good S programmer could probably do this much better):

MC <- function(f, env = NULL)
{
        env <- as.list(env)
        if(mode(f) != "function")
                stop(paste("not a function:", f))
        if(length(env) > 0 && any(names(env) == ""))
                stop(paste("all arguments are not named:", env))
        fargs <- if(length(f) > 1) f[1:(length(f) - 1)] else NULL
        fbody <- f[length(f)]
        cf <- c(fargs, env, fbody)
        mode(cf) <- "function"
        return(cf)
}

MC stands for 'make closure'. This function just adds an environment
list as extra arguments with default values to the function argument
list. Using MC, make.liner.fun is

> make.linear.fun <- function(a, b) MC(function(x) a + b * x,list(a=a,b=b))
> make.linear.fun(2,3)
function(x, a = 2, b = 3)
a + b * x

Adding to the argument list in this way insures that ordinary syntax
determines when these bindings are in effect within the body, so
assignments in the function body, local function definitions, etc work
properly -- they wouldn't if you use substitute and variable names are
reused. This MC function is analogous to functions used to make closures
in older dynamically scoped Lisp dialects like Franz Lisp.  The main
things R closures provide that this does not are encapsulation of
bindings and mutable shared bindings.

At the moment Splus provides very few higher-level functions
(i.e. functions that use function arguments -- there isn't much more
than sweep and apply that I know of -- and users tend not to write
their own, partly because closures are not explicitly available and
therefore aren't something most users think of. Without closures you
have to either design your higher-level function to pass along extra
data a function argument might need, or you have to expect users to go
through some sort of performance of squirreling the data away in a
frame (basically roll-your-own dynamic scoping). Both are error prone
and discourage the use of higher-level functions even though the
language is quite capable of supporting them, at least to a limited
extent. With closures, even the simple ones that you can build with
something like MC, writing functions like apply or any other
higher-level function is much easier.

If you want portable code but want to use closures, as long as you are
not depending on shared mutable bindings you could use the definition
of MC I gave above, or some variant, in S and define MC in R as

	MC<-function(f,env) f

-- you would have to make sure you don't rename variables in the env
argument.

As a historical note, the way apply works goes way back to S Version
1, the one corresponding to the 1984 book. The functions you could use
had to be the kind you would write in C or Fortran (I don't believe
macros could be used) so there was no option of adjusting the function
at run time to contain appropriate data. So the backward compatibility
that is being maintained goes back quite a long way.

As another aside, one of the changes in Java 1.1 that makes it a much
more powerful language is the addition of "inner classes" for creating
local classes and instances in a function at runtime. This is in many
ways comparable to providing closures.

I think one could even make an argument that using closures a bit more
than they are used now in R could eliminate most if not all the need
for using substitute/match/sys.blank in modeling functions to get at
the appropriate data for a formula. This might even allow these
functions and the explicit commitment to making all the details of
frames available at all times to be dropped, at least from code that
is considered debugged. This would lead to incompatibility with S but
perhaps would result in a somewhat smaller and neater core language
design, but that is another story.

luke
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From VENKAT at biosta.mskcc.org  Wed Apr 30 18:05:00 1997
From: VENKAT at biosta.mskcc.org (Ennapadam Venkatraman)
Date: 30 Apr 97 11:05:00 EST
Subject: R-beta: dhyper bug??
Message-ID: <199704301505.RAA20638@hypatia.math.ethz.ch>

I get the following incorrect answer

   > dhyper(34,410,312,49)
   [1] 2.244973e-118

when the coorect value is

   > dhyper(34,410,312,49)          (from S-Plus)
   [1] 0.0218911

E.S. Venkatraman (venkat at biosta.mskcc.org)

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


From ihaka at stat.auckland.ac.nz  Wed Apr 30 22:56:04 1997
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 1 May 1997 08:56:04 +1200 (NZST)
Subject: R-beta: Re: S Compatibility
Message-ID: <199704302056.IAA10227@stat1.stat.auckland.ac.nz>

Martyn Plummer writes:

> How important is it to avoid being sued, or less facetiously, what is
> the legal status of R? If I were Mathsoft I would be less than pleased
> at the development of R and would try to stop it if I could. I have
> been wondering for some time if this is possible. But I am not a lawyer
> and the issue seems very unclear to me.

To me too (Robert spent a couple of semesters in Law School).
So far they've just tried to hire us :-).

> I suppose the argument that the S language (as opposed to the S-PLUS
> product) is public domain. Is this true? Surely S is a commercial 
> product developed by Lucent Technologies which is licensed exclusively
> to Mathsoft? Arguably (and I'm being devil's advocate here) the S
> language, and not just the source code, is the intellectual property of
> Lucent.

My understanding is that languages cannot be protected but implementations
can.  We would also have to attacked in a New Zealand court and I doubt
that they would be particularly sympathetic to Mathsoft.

John Chambers has told us that he is sympathetic and supportive of R
development and has often discussed internal details of S with us.
At the last Interface meeting he was asked whether he might make Sv4
"free".  He didn't completely rule it out, but I think the recent
Mathsoft/Lucent agreement does.

I think that John faces a real conflict.  He is at heart an academic
researcher, but his work environment has become increasingly commercial
and has driven him in a direction he is not entirely comfortable with.
Its a real tragedy for the field.  In the good old days we could get
source code and port to whatever platforms we were using.  Under those
conditions I was quite happy to contribute ideas and software (I
pointed out to Rick Becker that NA|T should return T rather than NA for
example).  Now we have to pay very large sums of money and can't even
get versions for common platforms.  With Mathsoft using Windows/NT as
their development platform how long can expect to any Unix versions to
be available?

> I know this isn't the first freeware project which is "not unlike"
> an existing commercial product.  But in other cases the commercial product
> is either a brand name which can be licensed to anyone whose software
> passes a validation test suite (eg Linux/UNIX or GNUstep/OpenStep) or else
> the freeware version is used with authorization from the commercial
> developer (eg Mesa/OpenGL). R does not fit into either category.

> Perhaps I'm worrying over nothing, but it would be nice to have
> some reassurance.

If its not R it'll be something similar.  The free software genie is not
going back into the bottle any time soon.  I had high hopes for Dylan
and am still closely watching what's going on in the Scheme world.
If there was a decent portable compiler available (Stalin and Rscheme
come close) I be tempted to switch to it as a base.

	Ross
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


