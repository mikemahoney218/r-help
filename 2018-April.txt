From lui@@@puerto @ending from gm@il@com  Sun Apr  1 14:27:40 2018
From: lui@@@puerto @ending from gm@il@com (Luis Puerto)
Date: Sun, 1 Apr 2018 15:27:40 +0300
Subject: [R] =?utf-8?q?R_and_Java_10_=E2=9E=9C_rJava_not_able_to_build?=
In-Reply-To: <20180331012243.18f6b947@Draco.localdomain>
References: <5528AE93-6DF5-4DD8-8D73-8A95BEFF6830@gmail.com>
 <20180331012243.18f6b947@Draco.localdomain>
Message-ID: <1C384F51-F97B-4F49-9CCE-5D5EF0BC816A@gmail.com>

Hi John! 

Java was installed with Homebrew Cask as a user, if my memory doesn?t fail me. 

Thanks a lot for your help! Let?s see how the problem evolves. 

> On 31 Mar 2018, at 11:22, John <jwd at surewest.net> wrote:
> 
> On Tue, 27 Mar 2018 22:25:33 +0300
> Luis Puerto <luiss.puerto at gmail.com> wrote:
> 
> I don't run a Mac so this may not help.  Did you install java 10 as
> user or as root?  Using linux, applications installed as user will be
> inserted into your user space under /home/<user-name>.  As root the
> application will located where any user of the system with permission
> to run the application can access it.  I ran into a problem similar to
> this with packages, some installed as root and some installed locally
> in my user directory.  
> 
> JWDougherty
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From lui@@@puerto @ending from gm@il@com  Sun Apr  1 14:29:45 2018
From: lui@@@puerto @ending from gm@il@com (Luis Puerto)
Date: Sun, 1 Apr 2018 15:29:45 +0300
Subject: [R] =?utf-8?q?R_and_Java_10_=E2=9E=9C_rJava_not_able_to_build?=
In-Reply-To: <CE1E021E-42D7-43F5-945A-B88B3D5D6003@gmail.com>
References: <5528AE93-6DF5-4DD8-8D73-8A95BEFF6830@gmail.com>
 <20180331012243.18f6b947@Draco.localdomain>
 <CE1E021E-42D7-43F5-945A-B88B3D5D6003@gmail.com>
Message-ID: <0E84162B-B4E4-426F-B7C2-8C2E293207C0@gmail.com>

Thanks Peter! 

Yeah, I don?t think we users can fix this issue. Let?s wait for a fix from rJava team. 

Luis. 

> On 31 Mar 2018, at 17:03, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Don't waste too much time on this. It is due to a change introduced in Java 10 at short notice. I believe the rJava maintainers are working on a fix/workaround.
> 
> -pd
> 
>> On 31 Mar 2018, at 10:22 , John <jwd at surewest.net> wrote:
>> 
>> On Tue, 27 Mar 2018 22:25:33 +0300
>> Luis Puerto <luiss.puerto at gmail.com> wrote:
>> 
>> I don't run a Mac so this may not help.  Did you install java 10 as
>> user or as root?  Using linux, applications installed as user will be
>> inserted into your user space under /home/<user-name>.  As root the
>> application will located where any user of the system with permission
>> to run the application can access it.  I ran into a problem similar to
>> this with packages, some installed as root and some installed locally
>> in my user directory.  
>> 
>> JWDougherty
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From chri@ti@n @ending from echoffm@nn@ch  Mon Apr  2 22:37:04 2018
From: chri@ti@n @ending from echoffm@nn@ch (Christian)
Date: Mon, 2 Apr 2018 22:37:04 +0200
Subject: [R] lintr error
Message-ID: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>

library("lintr")
Error: package or namespace load failed for 'lintr' in loadNamespace(j 
<- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):
  there is no package called 'magrittr'

  library("magrittr")
Error in library("magrittr") : there is no package called 'magrittr'

session.Info():
R version 3.4.4 (2018-03-15)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: macOS High Sierra 10.13.3

This error did not occur under R version 3.4.3

Search in R-project resulted in advice which did not work.

How can I proceed to get a working lintr?

Thanks CH
-- 
Christian Hoffmann
Rigiblickstrasse 15b
CH-8915 Hausen am Albis
Switzerland
Telefon +41-(0)44-7640853



From thierry@onkelinx @ending from inbo@be  Mon Apr  2 22:54:28 2018
From: thierry@onkelinx @ending from inbo@be (Thierry Onkelinx)
Date: Mon, 2 Apr 2018 22:54:28 +0200
Subject: [R] lintr error
In-Reply-To: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>
References: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>
Message-ID: <CAJuCY5x-GVucYXFF4R0X6m9bunC_CX1OSu=9WehHH7F9gvwLTg@mail.gmail.com>

Try to (re-)install magrittr.

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-02 22:37 GMT+02:00 Christian <christian at echoffmann.ch>:
> library("lintr")
> Error: package or namespace load failed for 'lintr' in loadNamespace(j <-
> i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):
>  there is no package called 'magrittr'
>
>  library("magrittr")
> Error in library("magrittr") : there is no package called 'magrittr'
>
> session.Info():
> R version 3.4.4 (2018-03-15)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: macOS High Sierra 10.13.3
>
> This error did not occur under R version 3.4.3
>
> Search in R-project resulted in advice which did not work.
>
> How can I proceed to get a working lintr?
>
> Thanks CH
> --
> Christian Hoffmann
> Rigiblickstrasse 15b
> CH-8915 Hausen am Albis
> Switzerland
> Telefon +41-(0)44-7640853
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From d@idhu @ending from uc@lg@ry@c@  Tue Apr  3 00:43:28 2018
From: d@idhu @ending from uc@lg@ry@c@ (David Sidhu)
Date: Mon, 2 Apr 2018 22:43:28 +0000
Subject: [R] PCA with random effects
Message-ID: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>

I have the results of a rating study in which ~30 participants rated a subset
of 20 items on 25 different dimensions.

I would like to perform PCA on these ratings to reduce the 25 different
dimensions. However, instead of doing this on the mean ratings for each
item, I would like to perform the PCA at the level of individual ratings. I
am assuming that in order to do this I have to specify the fact that ratings
are nested within participants and within items (i.e., crossed random
effects for subjects and items). Is this possible?

---
David M. Sidhu, MSc<http://davidmsidhu.com/>
PhD Candidate
Department of Psychology
University of Calgary







	[[alternative HTML version deleted]]



From Jin@Li @ending from g@@gov@@u  Tue Apr  3 02:07:54 2018
From: Jin@Li @ending from g@@gov@@u (Li Jin)
Date: Tue, 3 Apr 2018 00:07:54 +0000
Subject: [R] xgboost: problems with predictions for count data
 [SEC=UNCLASSIFIED]
Message-ID: <656bd7184a9c4241924060a9858691da@win-exch-prod01.prod.lan>

Hi All,

I tried to use xgboost to model and predict count data. The predictions are however not as expected as shown below.
# sponge count data in library(spm)
    library(spm)
data(sponge)
data(sponge.grid)
names(sponge)
[1] "easting"  "northing" "sponge"   "tpi3"     "var7"     "entro7"   "bs34"     "bs11"
names(sponge.grid)
[1] "easting"  "northing" "tpi3"     "var7"     "entro7"   "bs34"     "bs11"
    range(sponge[, c(3)])
[1]  1 39 # count sample data

# the expected predictions are:
set.seed(1234)
gbmpred1 <- gbmpred(sponge[, -c(3)], sponge[, 3], sponge.grid[, c(1:2)], sponge.grid, family = "poisson", n.cores=2)
range(gbmpred1$Predictions)
[1] 10.04643 31.39230 # the expected predictions

# Here are results from xgboost
# use count:poisson
library(xgboost)
    xgbst2.1 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], max_depth = 2, eta = 0.001, nthread = 6, nrounds = 3000, objective = "count:poisson")
    xgbstpred2 <- predict(xgbst2.1, as.matrix(sponge.grid))
head(xgbstpred2)
range(xgbstpred2)
[1] 1.109032 4.083049 # much lower than expected
    table(xgbstpred2)
                1.10903215408325 1.26556181907654   3.578040599823 4.08304929733276  # only four predictions, why?
                36535             2714            40930            15351

   plot(gbmpred1$Predictions, xgbstpred2) # Fig 1

   # use reg:linear
    xgbst2.2 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], max_depth = 2, eta = 0.001, nthread = 6, nrounds = 3000, objective = "reg:linear")
    xgbstpred2.2 <- predict(xgbst2.2, as.matrix(sponge.grid))
    head(xgbstpred2.2)
    table(xgbstpred2.2)
    range( xgbstpred2.2)
[1]  9.019174 23.060669 # this is much closer to but still lower than what expected

   plot(gbmpred1$Predictions, xgbstpred2.2) # Fig 2

# use count:poisson and subsample = 0.5
set.seed(1234)
    param <- list(max_depth = 2, eta = 0.001, gamma = 0.001, subsample = 0.5, silent = 1, nthread = 6, objective = "count:poisson")
    xgbst2.4 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], params = param, nrounds = 3000)
    xgbstpred2.4 <- predict(xgbst2.4, as.matrix(sponge.grid))
    head(xgbstpred2.4)
    table(xgbstpred2.4)
    range(xgbstpred2.4)
[1] 1.188561 3.986767 # this is much lower than what expected

   plot(gbmpred1$Predictions, xgbstpred2.4) # Fig 3
  plot(xgbstpred2.2, xgbstpred2.4) # Fig 4

All these were run in R 3.3.3 on Windows"
> Sys.info()
                     sysname                      release
                   "Windows"                      "7 x64"
                     version
"build 7601, Service Pack 1"
                     machine
                    "x86-64"

Have I miss-specified or missed some parameters? Or there is a bug in xgboost. I am grateful for any help.

Kind regards,
Jin

Jin Li, PhD | Spatial Modeller / Computational Statistician
National Earth and Marine Observations | Environmental Geoscience Division
t:  +61 2 6249 9899    www.ga.gov.au<http://www.ga.gov.au/>

Geoscience Australia Disclaimer: This e-mail (and files transmitted with it) is intended only for the person or entity to which it is addressed. If you are not the intended recipient, then you have received this e-mail by mistake and any use, dissemination, forwarding, printing or copying of this e-mail and its file attachments is prohibited. The security of emails transmitted cannot be guaranteed; by forwarding or replying to this email, you acknowledge and accept these risks.
-------------------------------------------------------------------------------------------------------------------------



From bgunter@4567 @ending from gm@il@com  Tue Apr  3 06:21:59 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Mon, 2 Apr 2018 21:21:59 -0700
Subject: [R] PCA with random effects
In-Reply-To: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>
References: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>
Message-ID: <CAGxFJbQ_zo5B09RFjoFMLVB3v7Ez+EAp0yACWs5iy95=mq9-JA@mail.gmail.com>

This is a statistical question, which is typically off topic here.
This list is primarily concerned with R programming questions,
although the two areas sometimes do intersect. I suggest you post on a
statistical list such as stats.stackexchange.com instead, especially
if you do not get a useful reply here.

Cheers,
Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 2, 2018 at 3:43 PM, David Sidhu <dsidhu at ucalgary.ca> wrote:
> I have the results of a rating study in which ~30 participants rated a subset
> of 20 items on 25 different dimensions.
>
> I would like to perform PCA on these ratings to reduce the 25 different
> dimensions. However, instead of doing this on the mean ratings for each
> item, I would like to perform the PCA at the level of individual ratings. I
> am assuming that in order to do this I have to specify the fact that ratings
> are nested within participants and within items (i.e., crossed random
> effects for subjects and items). Is this possible?
>
> ---
> David M. Sidhu, MSc<http://davidmsidhu.com/>
> PhD Candidate
> Department of Psychology
> University of Calgary
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From r-p@ck@ge@ @ending from r-project@org  Mon Apr  2 02:39:10 2018
From: r-p@ck@ge@ @ending from r-project@org (brodie gaslam via R-packages)
Date: Mon, 2 Apr 2018 00:39:10 +0000
Subject: [R] [R-pkgs] New Package fansi: ANSI Control Sequence Aware String
 Functions
References: <570443092.435468.1522629550677.ref@mail.yahoo.com>
Message-ID: <570443092.435468.1522629550677@mail.yahoo.com>

fansi provides counterparts to the base string manipulation functions substr, strwrap, strtrim, strsplit, and n(z)char that account for ANSI CSI SGR control sequences.? ANSI CSI SGR control sequences [1] can be used to format text in terminals that support them.

For example the control sequence "\033[31m" causes text that follows to render in red, and the control sequence "\033[0m" turns off formatting.? So with:

> substr_ctl("\033[31mABC\033[0m", 2, 2)
[1] "\033[31mB\033[0m"

we extract the second letter of the red formatted ABC while retaining the formatting.

fansi is written mostly in C, so its performance is comparable to the corresponding base functions.? There are versions of some of the functions with additional functionality.? For example, `substr2_ctl` supports character-width (as opposed to character-count) based substrings.

fansi is dependency-less.

Feedback is welcome either by e-mail or via github (<https://github.com/brodieG/fansi>).


Brodie.

[1] <https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters>.

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages



From g@g@ndeep_d@tt@ @ending from hotm@il@com  Wed Apr  4 09:03:42 2018
From: g@g@ndeep_d@tt@ @ending from hotm@il@com (Gagandeep S. Datta)
Date: Wed, 4 Apr 2018 07:03:42 +0000
Subject: [R] Unable to load a package --- UnivRNG
Message-ID: <MW2PR16MB21535546D08BB3DFF461C4228EA40@MW2PR16MB2153.namprd16.prod.outlook.com>

Hi,

I want to access the R code for UnivRNG but unable to load the files. I am new to R platform.


The link is https://cran.r-project.org/web/packages/UnivRNG/

Regards,
Gagandeep



	[[alternative HTML version deleted]]



From @lex@nder@p@te @ending from m@nche@ter@@c@uk  Wed Apr  4 15:37:59 2018
From: @lex@nder@p@te @ending from m@nche@ter@@c@uk (Alexander Pate)
Date: Wed, 4 Apr 2018 13:37:59 +0000
Subject: [R] parfm unable to fit models when hazard rate is small
Message-ID: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>

Hello, I would like to use the parfm package: https://cran.r-project.org/web/packages/parfm/parfm.pdfhttps://cran.r-project.org/web/packages/parfm/parfm.pdf in my work. This package fits parametric frailty models to survival data. To ensure I was using it properly, I started by running some small simulations to generate some survival data (without any random effects), and analyse the data using the parfm package. I am using an exponential baseline hazard. When the baseline hazard rate drops to 0.001, I get the following error when trying to fit the model:

Error in optimHess(par = ESTIMATE, fn = Mloglikelihood, obs = obsdata,  :
  non-finite finite-difference value [1]
In addition: Warning message:
In log(pars) : NaNs produced

Has anybody else come across this issue, or could suggest why parfm struggles with low event rates? Or could someone please run my code to see if they get the same issue? Full reproducible code is presented below.

Many thanks for any help,
Alex

CODE:

### Create function to generate data
simulWeib <- function(N, lambda, rho, beta1, beta2, beta3, beta4, rateC, sigma)
{
  # covariate --> N Bernoulli trials
  x1 <- sample(x=c(0, 1), size=N, replace=TRUE, prob=c(0.5, 0.5))

  # Now create random effect stuff
  # Create one vector of length N, all drawn from same normal distribution
  rand.effect <- rnorm(N,0,sigma)

  # Weibull latent event times
  v <- runif(n=N)
  Tlat <- round((- log(v) / (lambda * exp(x1 * beta1 + rand.effect)))^(1 / rho))
  multiplier = exp(x1 * beta1 + rand.effect)
  haz=lambda * exp(x1 * beta1 + rand.effect)

  # censoring times
  #C <-rep(100000,N)
  C <- rexp(n=N, rate=rateC)

  # follow-up times and event indicators
  time <- pmin(Tlat, C)
  #status <- as.numeric(rep(1,N))
  status <- as.numeric(Tlat <= C)

  # data set
  data.frame(id=1:N,
             id10=ceiling(1:N/10),
             time=time,
             status=status,
             x1 = as.factor(x1),
             re=rand.effect,
             multiplier=multiplier,
             haz=haz)
}

### The reason it doesn't work is becayse the event rate gets so small!!
set.seed(101)

# Note that although data generated is for weibull, I set rho = 1 so it reduces to an exponential hazard, with rate = lambda
# Also note sigma = 0, so random effect is not present

## Create data and fit model, lambda = 0.1
data0<-simulWeib(10000,lambda=0.1,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.01
data0<-simulWeib(10000,lambda=0.01,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.001
data0<-simulWeib(10000,lambda=0.001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.0001
data0<-simulWeib(10000,lambda=0.0001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

	[[alternative HTML version deleted]]



From ro@lin@ump @ending from gm@il@com  Wed Apr  4 17:10:45 2018
From: ro@lin@ump @ending from gm@il@com (roslinazairimah zakaria)
Date: Wed, 4 Apr 2018 23:10:45 +0800
Subject: [R] Plot data in sequence
Message-ID: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>

Hi r-users,

I would like to draw line plots. However, the plot starts from 11121 data
and plot data ENTRY last in the plot.

Here is the code and data.

datn <- read.table(header=TRUE, text='
LEVEL   STATUS      CGPA
DIPLOMA ENTRY 3.32
DIPLOMA 11121 2.91
DIPLOMA 11122 2.90
DIPLOMA 12131 2.89
DIPLOMA 12132 2.89
DIPLOMA 13141 2.93
DIPLOMA 13142 2.96
DIPLOMA 14151 2.76
DIPLOMA 14152 2.73
STPM ENTRY 2.77
STPM 11121 3.26
STPM 11122 3.30
STPM 12131 3.28
STPM 12132 3.27
STPM 13141 3.28
STPM 13142 3.28
STPM 14151 3.30
STPM 14152 3.31
MATRIC ENTRY 2.93
MATRIC 11121 2.69
MATRIC 11122 2.79
MATRIC 12131 2.81
MATRIC 12132 2.80
MATRIC 13141 2.77
MATRIC 13142 2.76
MATRIC 14151 2.78
MATRIC 14152 2.82
STAM ENTRY 2.00
STAM 11121 3.05
STAM 11122 2.99
STAM 12131 2.97
STAM 12132 2.89
STAM 13141 2.84
STAM 13142 2.79
STAM 14151 2.79
STAM 14152 2.77
')

ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
    geom_line(size=1.3) +
    geom_point()+
    #guides(fill=FALSE) +
    theme(legend.title=element_blank(),legend.position=c(.3,
.3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))

Thank you very much.

-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]



From @@r@h@go@lee @ending from gm@il@com  Wed Apr  4 18:07:55 2018
From: @@r@h@go@lee @ending from gm@il@com (Sarah Goslee)
Date: Wed, 4 Apr 2018 12:07:55 -0400
Subject: [R] Plot data in sequence
In-Reply-To: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
References: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
Message-ID: <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>

Hi,

Thanks for the reproducible example.

Looking at
str(datn)
would give you a clue.
STATUS is a factor because it contains character values. Factor levels
by default are alphabetical with numbers first, but you can change
those.

> str(datn)
'data.frame': 36 obs. of  3 variables:
 $ LEVEL : Factor w/ 4 levels "DIPLOMA","MATRIC",..: 1 1 1 1 1 1 1 1 1 4 ...
 $ STATUS: Factor w/ 9 levels "11121","11122",..: 9 1 2 3 4 5 6 7 8 9 ...
 $ CGPA  : num  3.32 2.91 2.9 2.89 2.89 2.93 2.96 2.76 2.73 2.77 ...

> levels(datn$STATUS)
[1] "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152" "ENTRY"
> datn$STATUS <- factor(datn$STATUS, levels=c("ENTRY", "11121", "11122", "12131", "12132", "13141", "13142", "14151", "14152"))
> levels(datn$STATUS)
[1] "ENTRY" "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152"

Reorder the levels to your desired outcome, and then plot the data again.

Sarah

On Wed, Apr 4, 2018 at 11:10 AM, roslinazairimah zakaria
<roslinaump at gmail.com> wrote:
> Hi r-users,
>
> I would like to draw line plots. However, the plot starts from 11121 data
> and plot data ENTRY last in the plot.
>
> Here is the code and data.
>
> datn <- read.table(header=TRUE, text='
> LEVEL   STATUS      CGPA
> DIPLOMA ENTRY 3.32
> DIPLOMA 11121 2.91
> DIPLOMA 11122 2.90
> DIPLOMA 12131 2.89
> DIPLOMA 12132 2.89
> DIPLOMA 13141 2.93
> DIPLOMA 13142 2.96
> DIPLOMA 14151 2.76
> DIPLOMA 14152 2.73
> STPM ENTRY 2.77
> STPM 11121 3.26
> STPM 11122 3.30
> STPM 12131 3.28
> STPM 12132 3.27
> STPM 13141 3.28
> STPM 13142 3.28
> STPM 14151 3.30
> STPM 14152 3.31
> MATRIC ENTRY 2.93
> MATRIC 11121 2.69
> MATRIC 11122 2.79
> MATRIC 12131 2.81
> MATRIC 12132 2.80
> MATRIC 13141 2.77
> MATRIC 13142 2.76
> MATRIC 14151 2.78
> MATRIC 14152 2.82
> STAM ENTRY 2.00
> STAM 11121 3.05
> STAM 11122 2.99
> STAM 12131 2.97
> STAM 12132 2.89
> STAM 13141 2.84
> STAM 13142 2.79
> STAM 14151 2.79
> STAM 14152 2.77
> ')
>
> ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
> colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
>     geom_line(size=1.3) +
>     geom_point()+
>     #guides(fill=FALSE) +
>     theme(legend.title=element_blank(),legend.position=c(.3,
> .3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))
>
> Thank you very much.
>
> --
> *Roslinazairimah Zakaria*
> *Tel: +609-5492370; Fax. No.+609-5492766*
>


-- 
Sarah Goslee
http://www.functionaldiversity.org



From ro@lin@ump @ending from gm@il@com  Wed Apr  4 18:15:33 2018
From: ro@lin@ump @ending from gm@il@com (roslinazairimah zakaria)
Date: Thu, 5 Apr 2018 00:15:33 +0800
Subject: [R] Plot data in sequence
In-Reply-To: <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>
References: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
 <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>
Message-ID: <CANTvJZKDCPOJGZW7RiWcaMOtRL9DsTF3xGWuUWC=T5TaiGSqFQ@mail.gmail.com>

Hi Sarah,

It works beautifully. Thank you very much.

On Thu, Apr 5, 2018 at 12:07 AM, Sarah Goslee <sarah.goslee at gmail.com>
wrote:

> Hi,
>
> Thanks for the reproducible example.
>
> Looking at
> str(datn)
> would give you a clue.
> STATUS is a factor because it contains character values. Factor levels
> by default are alphabetical with numbers first, but you can change
> those.
>
> > str(datn)
> 'data.frame': 36 obs. of  3 variables:
>  $ LEVEL : Factor w/ 4 levels "DIPLOMA","MATRIC",..: 1 1 1 1 1 1 1 1 1 4
> ...
>  $ STATUS: Factor w/ 9 levels "11121","11122",..: 9 1 2 3 4 5 6 7 8 9 ...
>  $ CGPA  : num  3.32 2.91 2.9 2.89 2.89 2.93 2.96 2.76 2.73 2.77 ...
>
> > levels(datn$STATUS)
> [1] "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152" "ENTRY"
> > datn$STATUS <- factor(datn$STATUS, levels=c("ENTRY", "11121", "11122",
> "12131", "12132", "13141", "13142", "14151", "14152"))
> > levels(datn$STATUS)
> [1] "ENTRY" "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152"
>
> Reorder the levels to your desired outcome, and then plot the data again.
>
> Sarah
>
> On Wed, Apr 4, 2018 at 11:10 AM, roslinazairimah zakaria
> <roslinaump at gmail.com> wrote:
> > Hi r-users,
> >
> > I would like to draw line plots. However, the plot starts from 11121 data
> > and plot data ENTRY last in the plot.
> >
> > Here is the code and data.
> >
> > datn <- read.table(header=TRUE, text='
> > LEVEL   STATUS      CGPA
> > DIPLOMA ENTRY 3.32
> > DIPLOMA 11121 2.91
> > DIPLOMA 11122 2.90
> > DIPLOMA 12131 2.89
> > DIPLOMA 12132 2.89
> > DIPLOMA 13141 2.93
> > DIPLOMA 13142 2.96
> > DIPLOMA 14151 2.76
> > DIPLOMA 14152 2.73
> > STPM ENTRY 2.77
> > STPM 11121 3.26
> > STPM 11122 3.30
> > STPM 12131 3.28
> > STPM 12132 3.27
> > STPM 13141 3.28
> > STPM 13142 3.28
> > STPM 14151 3.30
> > STPM 14152 3.31
> > MATRIC ENTRY 2.93
> > MATRIC 11121 2.69
> > MATRIC 11122 2.79
> > MATRIC 12131 2.81
> > MATRIC 12132 2.80
> > MATRIC 13141 2.77
> > MATRIC 13142 2.76
> > MATRIC 14151 2.78
> > MATRIC 14152 2.82
> > STAM ENTRY 2.00
> > STAM 11121 3.05
> > STAM 11122 2.99
> > STAM 12131 2.97
> > STAM 12132 2.89
> > STAM 13141 2.84
> > STAM 13142 2.79
> > STAM 14151 2.79
> > STAM 14152 2.77
> > ')
> >
> > ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
> > colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
> >     geom_line(size=1.3) +
> >     geom_point()+
> >     #guides(fill=FALSE) +
> >     theme(legend.title=element_blank(),legend.position=c(.3,
> > .3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))
> >
> > Thank you very much.
> >
> > --
> > *Roslinazairimah Zakaria*
> > *Tel: +609-5492370; Fax. No.+609-5492766*
> >
>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]



From bgunter@4567 @ending from gm@il@com  Wed Apr  4 18:58:06 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Wed, 4 Apr 2018 09:58:06 -0700
Subject: [R] parfm unable to fit models when hazard rate is small
In-Reply-To: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>
References: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>
Message-ID: <CAGxFJbSAgtLnjeN4KCBU+5dANn+fyRo46incY6LVbEQy9=t3dg@mail.gmail.com>

Possible hint:

1. Look at the error message.

2.
> 1/0
[1] Inf


Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Apr 4, 2018 at 6:37 AM, Alexander Pate
<alexander.pate at manchester.ac.uk> wrote:
> Hello, I would like to use the parfm package: https://cran.r-project.org/web/packages/parfm/parfm.pdfhttps://cran.r-project.org/web/packages/parfm/parfm.pdf in my work. This package fits parametric frailty models to survival data. To ensure I was using it properly, I started by running some small simulations to generate some survival data (without any random effects), and analyse the data using the parfm package. I am using an exponential baseline hazard. When the baseline hazard rate drops to 0.001, I get the following error when trying to fit the model:
>
> Error in optimHess(par = ESTIMATE, fn = Mloglikelihood, obs = obsdata,  :
>   non-finite finite-difference value [1]
> In addition: Warning message:
> In log(pars) : NaNs produced
>
> Has anybody else come across this issue, or could suggest why parfm struggles with low event rates? Or could someone please run my code to see if they get the same issue? Full reproducible code is presented below.
>
> Many thanks for any help,
> Alex
>
> CODE:
>
> ### Create function to generate data
> simulWeib <- function(N, lambda, rho, beta1, beta2, beta3, beta4, rateC, sigma)
> {
>   # covariate --> N Bernoulli trials
>   x1 <- sample(x=c(0, 1), size=N, replace=TRUE, prob=c(0.5, 0.5))
>
>   # Now create random effect stuff
>   # Create one vector of length N, all drawn from same normal distribution
>   rand.effect <- rnorm(N,0,sigma)
>
>   # Weibull latent event times
>   v <- runif(n=N)
>   Tlat <- round((- log(v) / (lambda * exp(x1 * beta1 + rand.effect)))^(1 / rho))
>   multiplier = exp(x1 * beta1 + rand.effect)
>   haz=lambda * exp(x1 * beta1 + rand.effect)
>
>   # censoring times
>   #C <-rep(100000,N)
>   C <- rexp(n=N, rate=rateC)
>
>   # follow-up times and event indicators
>   time <- pmin(Tlat, C)
>   #status <- as.numeric(rep(1,N))
>   status <- as.numeric(Tlat <= C)
>
>   # data set
>   data.frame(id=1:N,
>              id10=ceiling(1:N/10),
>              time=time,
>              status=status,
>              x1 = as.factor(x1),
>              re=rand.effect,
>              multiplier=multiplier,
>              haz=haz)
> }
>
> ### The reason it doesn't work is becayse the event rate gets so small!!
> set.seed(101)
>
> # Note that although data generated is for weibull, I set rho = 1 so it reduces to an exponential hazard, with rate = lambda
> # Also note sigma = 0, so random effect is not present
>
> ## Create data and fit model, lambda = 0.1
> data0<-simulWeib(10000,lambda=0.1,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.01
> data0<-simulWeib(10000,lambda=0.01,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.001
> data0<-simulWeib(10000,lambda=0.001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.0001
> data0<-simulWeib(10000,lambda=0.0001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From gnulinux @ending from gmx@com  Thu Apr  5 12:44:03 2018
From: gnulinux @ending from gmx@com (g l)
Date: Thu, 5 Apr 2018 12:44:03 +0200
Subject: [R] Obtain gradient at multiple values for exponetial decay model
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
Message-ID: <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>

Readers,

Data set:

t,c
0,100
40,78
80,59
120,38
160,25
200,21
240,16
280,12
320,10
360,9
400,7

graphdata<-read.csv('~/tmp/data.csv')
graphmodeld<-lm(log(graphdata[,2])~graphdata[,1])
graphmodelp<-exp(predict(graphmodeld))
plot(graphdata[,2]~graphdata[,1])
lines(graphdata[,1],graphmodelp)

Please what is the function and syntax to obtain gradient values for the model curve at various requested values, e.g.:

when graphdata[,1] at values = 100, 250, 350 ?



From jdnewmil @ending from dcn@d@vi@@c@@u@  Thu Apr  5 16:40:07 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 Apr 2018 07:40:07 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
Message-ID: <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>

This smells like homework, which the Posting Guide indicates is off topic.

I am not aware of "the function" that will solve this, but if you know what a gradient is analytically then you should be able to put together a solution very similar to the code you already have with the addition of using the coef function.
-- 
Sent from my phone. Please excuse my brevity.

On April 5, 2018 3:44:03 AM PDT, g l <gnulinux at gmx.com> wrote:
>Readers,
>
>Data set:
>
>t,c
>0,100
>40,78
>80,59
>120,38
>160,25
>200,21
>240,16
>280,12
>320,10
>360,9
>400,7
>
>graphdata<-read.csv('~/tmp/data.csv')
>graphmodeld<-lm(log(graphdata[,2])~graphdata[,1])
>graphmodelp<-exp(predict(graphmodeld))
>plot(graphdata[,2]~graphdata[,1])
>lines(graphdata[,1],graphmodelp)
>
>Please what is the function and syntax to obtain gradient values for
>the model curve at various requested values, e.g.:
>
>when graphdata[,1] at values = 100, 250, 350 ?
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.



From gnulinux @ending from gmx@com  Thu Apr  5 23:00:45 2018
From: gnulinux @ending from gmx@com (g l)
Date: Thu, 5 Apr 2018 23:00:45 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
Message-ID: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>

> Sent: Thursday, April 05, 2018 at 4:40 PM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
> 
> the coef function.
> 

For the benefit of other novices, used the following command to read the documentation:

?coef

Then tried and obtained:

> cvalue100<-coef(graphmodelp~100)
> cvalue100
NULL

Then looked at the model values which of course correspond to original non-modelled values.

graphmodelp
        1         2         3         4         5         6         7         8 
91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714 13.514590 
        9        10        11 
10.287658  7.831233  5.961339

This prompted to think that interpolation is required, but the function 'approx' only seems to perform constant interpolation.

Is the correct thinking to find a function to perform interpolation, then find/write a function to differentiate the model at a specific value of x, to find gradient at that point?



From jdnewmil @ending from dcn@d@vi@@c@@u@  Fri Apr  6 04:53:08 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 Apr 2018 19:53:08 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
Message-ID: <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>

Try

coef( graphmodeld )

And you don't need to approximate if you use the newdata argument to the predict function.

I think reading the "Introduction to R" that comes with R would help.
-- 
Sent from my phone. Please excuse my brevity.

On April 5, 2018 2:00:45 PM PDT, g l <gnulinux at gmx.com> wrote:
>> Sent: Thursday, April 05, 2018 at 4:40 PM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> 
>> the coef function.
>> 
>
>For the benefit of other novices, used the following command to read
>the documentation:
>
>?coef
>
>Then tried and obtained:
>
>> cvalue100<-coef(graphmodelp~100)
>> cvalue100
>NULL
>
>Then looked at the model values which of course correspond to original
>non-modelled values.
>
>graphmodelp
>1         2         3         4         5         6         7         8
>
>91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714
>13.514590 
>        9        10        11 
>10.287658  7.831233  5.961339
>
>This prompted to think that interpolation is required, but the function
>'approx' only seems to perform constant interpolation.
>
>Is the correct thinking to find a function to perform interpolation,
>then find/write a function to differentiate the model at a specific
>value of x, to find gradient at that point?



From dwin@emiu@ @ending from comc@@t@net  Fri Apr  6 05:55:05 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Thu, 5 Apr 2018 20:55:05 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
Message-ID: <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>


> On Apr 5, 2018, at 2:00 PM, g l <gnulinux at gmx.com> wrote:
> 
>> Sent: Thursday, April 05, 2018 at 4:40 PM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> 
>> the coef function.
>> 
> 
> For the benefit of other novices, used the following command to read the documentation:
> 
> ?coef
> 
> Then tried and obtained:
> 
>> cvalue100<-coef(graphmodelp~100)
>> cvalue100
> NULL

Should have been:

  coef(graphmodelp)


> 
> Then looked at the model values which of course correspond to original non-modelled values.
> 
> graphmodelp
>        1         2         3         4         5         6         7         8 
> 91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714 13.514590 
>        9        10        11 
> 10.287658  7.831233  5.961339

Read up on ?predict and what it delivers when only a model is offered as input.

> 
> This prompted to think that interpolation is required, but the function 'approx' only seems to perform constant interpolation.
> 
> Is the correct thinking to find a function to perform interpolation, then find/write a function to differentiate the model at a specific value of x, to find gradient at that point?

Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 

?predict

The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.


> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From gnulinux @ending from gmx@com  Fri Apr  6 12:30:10 2018
From: gnulinux @ending from gmx@com (g l)
Date: Fri, 6 Apr 2018 12:30:10 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
Message-ID: <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>

> Sent: Friday, April 06, 2018 at 4:53 AM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
> To: "g l" <gnulinux at gmx.com>
> coef( graphmodeld )
> 

coef(graphmodelp)
Error: $ operator is invalid for atomic vectors

A quick search engine query revealed primarily references to the dollar sign ($) operator which does not seem relevant to this question.



From gnulinux @ending from gmx@com  Fri Apr  6 12:43:45 2018
From: gnulinux @ending from gmx@com (g l)
Date: Fri, 6 Apr 2018 12:43:45 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
Message-ID: <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>

> Sent: Friday, April 06, 2018 at 5:55 AM
> From: "David Winsemius" <dwinsemius at comcast.net>
> 
> 
> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
> 
> ?predict
>

The ? details did not mention interpolation explicity; thanks.
 
> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
> 

The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)

Personal curiosity should be considered "homework".



From jdnewmil @ending from dcn@d@vi@@c@@u@  Fri Apr  6 13:44:26 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Fri, 06 Apr 2018 04:44:26 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
Message-ID: <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>

You did not try my suggestion. You tried David's, which has a leftover mistake from your guesses about what the argument to coef should be.
-- 
Sent from my phone. Please excuse my brevity.

On April 6, 2018 3:30:10 AM PDT, g l <gnulinux at gmx.com> wrote:
>> Sent: Friday, April 06, 2018 at 4:53 AM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> To: "g l" <gnulinux at gmx.com>
>> coef( graphmodeld )
>> 
>
>coef(graphmodelp)
>Error: $ operator is invalid for atomic vectors
>
>A quick search engine query revealed primarily references to the dollar
>sign ($) operator which does not seem relevant to this question.



From gnulinux @ending from gmx@com  Fri Apr  6 15:32:23 2018
From: gnulinux @ending from gmx@com (g l)
Date: Fri, 6 Apr 2018 15:32:23 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
 <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
Message-ID: <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>

> Sent: Friday, April 06, 2018 at 1:44 PM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>
> You did not try my suggestion. You tried David's, which has a leftover mistake from your guesses about what the argument to coef should be.

Yes, sorry for the mistake.

coef(graphmodeld)
   (Intercept) graphdata[, 1] 
   4.513544204   -0.006820623

This corresponds to the linear model but it is still not understood how this helps to determine gradients at specific points for the exponential model.



From S@Elli@on @ending from LGCGroup@com  Fri Apr  6 15:59:58 2018
From: S@Elli@on @ending from LGCGroup@com (S Ellison)
Date: Fri, 6 Apr 2018 13:59:58 +0000
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
 <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
 <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>
Message-ID: <92d9c77e32f34757a3b63a1c86cd58cd@GBDCVPEXC08.corp.lgc-group.com>

> coef(graphmodeld)
>    (Intercept) graphdata[, 1]
>    4.513544204   -0.006820623
> 
> This corresponds to the linear model but it is still not understood how this helps
> to determine gradients at specific points for the exponential model.

You have fitted log(y) against x. Your fitted linear model is therefore 
log(y) = 4.5135 - 0.00682x

From there:
- do the basic algebra to get y in terms of x
- differentiate analytically to get dy/dx as a function of x.
- write that calculation in R to get your gradients at any value of x.

Or you could get R to give you the differential function from your function for y; see ?D

S Ellison




*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From dwin@emiu@ @ending from comc@@t@net  Fri Apr  6 17:03:26 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 08:03:26 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
Message-ID: <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>


> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
> 
>> Sent: Friday, April 06, 2018 at 5:55 AM
>> From: "David Winsemius" <dwinsemius at comcast.net>
>> 
>> 
>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>> 
>> ?predict
>> 
> 
> The ? details did not mention interpolation explicity; thanks.
> 
>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>> 
> 
> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
> 
> Personal curiosity should be considered "homework".

Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:

myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
                                          .0001 }
myNumDeriv(c(100, 250, 350))



David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From d@vid@mi @ending from micro@oft@com  Fri Apr  6 17:12:35 2018
From: d@vid@mi @ending from micro@oft@com (David Smith (CDA))
Date: Fri, 6 Apr 2018 15:12:35 +0000
Subject: [R] Revolutions blog roundup: March 2018
Message-ID: <CY4PR21MB0790ABC3FE9F247D008735B2C8BA0@CY4PR21MB0790.namprd21.prod.outlook.com>

Since 2008, Microsoft staff and guests have written about R at the Revolutions
blog (http://blog.revolutionanalytics.com) and every month I post a summary of
articles from the previous month of particular interest to readers of r-help.

In case you missed them, here are some articles related to R from the
month of March:

The "reticulate" package provides an interface between R and Python:
http://blog.revolutionanalytics.com/2018/03/reticulate.html

BotRNot, a Shiny application that uses a generalized boosting model to identify
bots on Twitter:
http://blog.revolutionanalytics.com/2018/03/twitter-bot-or-not.html

Using the Computer Vision API from R to generate captions for images:
http://blog.revolutionanalytics.com/2018/03/computer-vision-api.html

The 20 most prolific package maintainers on CRAN:
http://blog.revolutionanalytics.com/2018/03/the-most-prolific-package-maintainers-on-cran.html

The first in a series of monthly roundups of links on AI, ML and Data Science
http://blog.revolutionanalytics.com/2018/03/aimlds-roundup-march-2018.html

A guide to using R with Docker via the Rocker project:
http://blog.revolutionanalytics.com/2018/03/r-and-docker.html

R 3.4.4 is released:
http://blog.revolutionanalytics.com/2018/03/r-344-released.html

R rises to 12th place in the semiannual Redmonk language rankings:
http://blog.revolutionanalytics.com/2018/03/redmonk-jan-2018.html

The OutliersO3 compares various methods for detecting outliers:
http://blog.revolutionanalytics.com/2018/03/outliers.html

Concepts about data in R explained to Excel users:
http://blog.revolutionanalytics.com/2018/03/r-data-concepts-for-excel-users.html

A proposal for improving the process of selecting Bayesian priors:
http://blog.revolutionanalytics.com/2018/03/bayesian-egg.html

And some general interest stories (not necessarily related to R):

* Open Source Software, explained using Lego
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-open-source-in-lego.html

* An impressive arithmetic performance on Countdown 
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-countdown-952.html

* Citizens in Melbourne email trees
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-email-a-tree.html

* A good listen on foreign policy: the Bombshell podcast
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-bombshell.html

* Dancing with the neighbours:
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-meet-the-neighbors.html

* Free Azure credits for students, without needing a credit card:
  http://blog.revolutionanalytics.com/2018/03/free-azure-credits-for-students.html

As always, thanks for the comments and please keep sending suggestions to
me at davidsmi at microsoft.com or via Twitter (I'm @revodavid).

Cheers,
# David

-- 
David M Smith <davidsmi at microsoft.com>
Developer Advocate, Microsoft Cloud & Enterprise 
Tel: +1 (312) 9205766 (Chicago IL, USA)
Twitter: @revodavid | Blog: ?http://blog.revolutionanalytics.com



From dwin@emiu@ @ending from comc@@t@net  Fri Apr  6 17:15:13 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 08:15:13 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
Message-ID: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>


> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>> 
>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>> 
>>> 
>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>>> 
>>> ?predict
>>> 
>> 
>> The ? details did not mention interpolation explicity; thanks.
>> 
>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>> 
>> 
>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>> 
>> Personal curiosity should be considered "homework".
> 
> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
> 
> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
>                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>                                          .0001 }
> myNumDeriv(c(100, 250, 350))

I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:

 graphdata<-read.csv(text='t,c
 0,100
 40,78
 80,59
 120,38
 160,25
 200,21
 240,16
 280,12
 320,10
 360,9
 400,7')
 graphmodeld<-lm(log(c)~t, graphdata)
 graphmodelp<-exp(predict(graphmodeld))
 plot(c~t, graphdata)
 lines(graphdata[,1],graphmodelp)
 myNumDeriv(c(100, 250, 350), graphmodeld )
#----------------------------------------------
          1           2           3 
-0.31464102 -0.11310753 -0.05718414 


> 
> 
> 
> David Winsemius
> Alameda, CA, USA
> 
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From dwin@emiu@ @ending from comc@@t@net  Fri Apr  6 20:25:16 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 11:25:16 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
Message-ID: <85D10557-E483-4601-886A-F12C31B9B813@comcast.net>


> On Apr 6, 2018, at 8:15 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> 
>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>> 
>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>> 
>>>> 
>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>>>> 
>>>> ?predict
>>>> 
>>> 
>>> The ? details did not mention interpolation explicity; thanks.
>>> 
>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>>> 
>>> 
>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>>> 
>>> Personal curiosity should be considered "homework".
>> 
>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>> 
>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
>>                                           exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>                                         .0001 }
>> myNumDeriv(c(100, 250, 350))
> 
> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:
> 
> graphdata<-read.csv(text='t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7')
> graphmodeld<-lm(log(c)~t, graphdata)
> graphmodelp<-exp(predict(graphmodeld))
> plot(c~t, graphdata)
> lines(graphdata[,1],graphmodelp)

Again I attempt to correct my incomplete code with this definition that had be modified to take a model object as its second argument:

myNumDeriv <- function(x, mod) (exp( predict (mod, newdata=data.frame(t=x+.0001))) - exp( predict (mod, newdata=data.frame(t=x) )))/.0001


> myNumDeriv(c(100, 250, 350), graphmodeld )
> #----------------------------------------------
>          1           2           3 
> -0.31464102 -0.11310753 -0.05718414 
> 
> 
>> 
>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> David Winsemius
> Alameda, CA, USA
> 
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From v@rin@@ch@ @ending from y@hoo@fr  Fri Apr  6 21:52:29 2018
From: v@rin@@ch@ @ending from y@hoo@fr (varin sacha)
Date: Fri, 6 Apr 2018 19:52:29 +0000 (UTC)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <687478916.36477.1522525938910@mail.yahoo.com>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
Message-ID: <1171231551.29624.1523044349525@mail.yahoo.com>

R-experts,

I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope). 
Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?

Here is the reproducible code

###############
X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

{reg1<-lm(Y ~ X)
plot(X,Y)
abline(reg1, col="black")

install.packages("robustbase") 
library?(robustbase)
reg=lmrob(Y ~ X)
abline(reg, col="green")

install.packages("MASS")? 
library(MASS)
Huber=rlm(Y ~ X)
abline(Huber,col="red")

Tukey=rlm(Y ~ X,psi=psi.bisquare)
abline(Tukey,col="purple")

install.packages("quantreg")
library(quantreg)
L1=rq(Y ~ X,tau=0.5)
abline(L1,col="blue")

install.packages("RobPer")
library(RobPer)
FastTau(Y,X)
fast=FastTau(Y,X)
abline(unlist(fast), col="yellow")

legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
###############









Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit : 





Many thanks Duncun,

Best,





Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit : 





On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
> Dear R-experts,
> 
> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
> Many thanks for your reply.
> 

It's not quite reproducible:? you forgot the line to create Dataset. 
It's probably something like

Dataset <- data.frame(Y, Z)

> ##########
> 
> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
> reg1<-lm(Z ~ Y)
> plot(Y,Z)
> abline(reg1, col="black")
> 
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Z ~ Y, data = Dataset)
> abline(reg, col="green")
> 
> install.packages("MASS")
> library(MASS)
> Huber=rlm(Z ~ Y, data = Dataset)
> abline(Huber,col="red")
> 
> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
> abline(Tukey,col="purple")
>? 
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
> abline(L1,col="blue")
>? 
> install.packages("RobPer")
> library(RobPer)
> FastTau(Z,Y)
> fast=FastTau(Z,Y)
> abline(fast, col="yellow")

abline() doesn't know what to do with the "fast" object.? It isn't a 
vector containing intercept and slope, it's a list containing them.? So 
you'll need something like

abline(unlist(fast), col="yellow")

Duncan Murdoch


> 
> ##########
>? 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

> 

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From jdnewmil @ending from dcn@d@vi@@c@@u@  Sat Apr  7 07:25:17 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Fri, 6 Apr 2018 22:25:17 -0700 (PDT)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <1171231551.29624.1523044349525@mail.yahoo.com>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
 <1171231551.29624.1523044349525@mail.yahoo.com>
Message-ID: <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>

You need to pay attention to the documentation more closely. If you don't 
know what something means, that is usually a signal that you need to study 
more... in this case about the difference between an input variable and a 
design (model) matrix. This is a concept from the standard linear algebra 
formulation for regression equations. (Note that I have never used RobPer, 
nor do I regularly mess with model matrices, but I do recognize the term 
"design matrix" and used help.search("design matrix") to track this down.)

Thanks for the reprex, though it is highly irregular to intersperse 
install.packages in code that may be run more than once.

######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)

X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

   reg1 <- lm( Y ~ X )
   plot( X, Y )
   abline( reg1, col = "black" )

   reg <- lmrob( Y ~ X )
   abline( reg, col = "green" )

   Huber <- rlm( Y ~ X )
   abline( Huber, col="red" )

   Tukey <- rlm( Y ~ X, psi = psi.bisquare )
   abline( Tukey, col = "purple" )

   L1 <- rq( Y ~ X, tau = 0.5 )
   abline( L1, col = "blue" )

   fast <- FastTau(model.matrix(~X),Y)
   fast # save result, then print... avoid computing twice
   # model matrix leads to first element of beta as constant and
   # second element of beta as slope
   abline( fast$beta, col="yellow" )

   legend( "topright"
         , c( "OLS"
            , "L1"
            , "Huber M-estimator"
            , "Tukey"
            , "MM"
            , "fast tau"
            )
        , inset = 0.02
        , lwd = 2
        , col = c( "black","blue","red","purple","green", "yellow")
        , cex = .9
        )
######################

On Fri, 6 Apr 2018, varin sacha via R-help wrote:

> R-experts,
>
> I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope).
> Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?
>
> Here is the reproducible code
>
> ###############
> X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
> Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
>
> {reg1<-lm(Y ~ X)
> plot(X,Y)
> abline(reg1, col="black")
>
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Y ~ X)
> abline(reg, col="green")
>
> install.packages("MASS")?
> library(MASS)
> Huber=rlm(Y ~ X)
> abline(Huber,col="red")
>
> Tukey=rlm(Y ~ X,psi=psi.bisquare)
> abline(Tukey,col="purple")
>
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Y ~ X,tau=0.5)
> abline(L1,col="blue")
>
> install.packages("RobPer")
> library(RobPer)
> FastTau(Y,X)
> fast=FastTau(Y,X)
> abline(unlist(fast), col="yellow")
>
> legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
> ###############
>
>
>
>
>
>
>
>
>
> Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit :
>
>
>
>
>
> Many thanks Duncun,
>
> Best,
>
>
>
>
>
> Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit :
>
>
>
>
>
> On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
>> Dear R-experts,
>>
>> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
>> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
>> Many thanks for your reply.
>>
>
> It's not quite reproducible:? you forgot the line to create Dataset.
> It's probably something like
>
> Dataset <- data.frame(Y, Z)
>
>> ##########
>>
>> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
>> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
>> reg1<-lm(Z ~ Y)
>> plot(Y,Z)
>> abline(reg1, col="black")
>>
>> install.packages("robustbase")
>> library?(robustbase)
>> reg=lmrob(Z ~ Y, data = Dataset)
>> abline(reg, col="green")
>>
>> install.packages("MASS")
>> library(MASS)
>> Huber=rlm(Z ~ Y, data = Dataset)
>> abline(Huber,col="red")
>>
>> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
>> abline(Tukey,col="purple")
>> ?
>> install.packages("quantreg")
>> library(quantreg)
>> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
>> abline(L1,col="blue")
>> ?
>> install.packages("RobPer")
>> library(RobPer)
>> FastTau(Z,Y)
>> fast=FastTau(Z,Y)
>> abline(fast, col="yellow")
>
> abline() doesn't know what to do with the "fast" object.? It isn't a
> vector containing intercept and slope, it's a list containing them.? So
> you'll need something like
>
> abline(unlist(fast), col="yellow")
>
> Duncan Murdoch
>
>
>>
>> ##########
>> ?
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
---------------------------------------------------------------------------

From jdnewmil @ending from dcn@d@vi@@c@@u@  Sat Apr  7 08:19:52 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Fri, 6 Apr 2018 23:19:52 -0700 (PDT)
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
Message-ID: <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>

I have never found the R symbolic differentiation helpful because my 
functions are typically quite complicated, but was prompted by Steve 
Ellison's suggestion to try it out in this case:

################# reprex (see reprex package)
graphdta <- read.csv( text =
"t,c
0,100
40,78
80,59
120,38
160,25
200,21
240,16
280,12
320,10
360,9
400,7
", header = TRUE )

nd <- c( 100, 250, 300 )
graphmodeld <- lm( log(c) ~ t, data = graphdta )
graphmodelplin <- predict( graphmodeld
                          , newdata = data.frame( t = nd )
                          )
graphmodelp <- exp(graphmodelplin)
graphmodelp
#>        1        2        3
#> 46.13085 16.58317 11.79125
# derivative of exp( a + b*t ) is b * exp( a + b*t )
graphmodeldpdt <- coef( graphmodeld )[ 2 ] * graphmodelp
graphmodeldpdt
#>           1           2           3
#> -0.31464113 -0.11310757 -0.08042364

# Ellison suggestion - fancy, only works for simple functions
dc <- deriv( expression( exp( a + b * t ) )
            , namevec = "t"
            )
dcf <- function( t ) {
   cgm <- coef( graphmodeld )
   a <- cgm[ 1 ]
   b <- cgm[ 2 ]
   eval(dc)
}
result <- dcf( nd )
result
#> [1] 46.13085 16.58317 11.79125
#> attr(,"gradient")
#>                t
#> [1,] -0.31464113
#> [2,] -0.11310757
#> [3,] -0.08042364
attr( result, "gradient" )[ , 1 ]
#> [1] -0.31464113 -0.11310757 -0.08042364
#################

On Fri, 6 Apr 2018, David Winsemius wrote:

>
>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>
>>
>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>>
>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>>
>>>>
>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See:
>>>>
>>>> ?predict
>>>>
>>>
>>> The ? details did not mention interpolation explicity; thanks.
>>>
>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>>>
>>>
>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>>>
>>> Personal curiosity should be considered "homework".
>>
>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>>
>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) -
>>                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>                                          .0001 }
>> myNumDeriv(c(100, 250, 350))
>
> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:
>
> graphdata<-read.csv(text='t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7')
> graphmodeld<-lm(log(c)~t, graphdata)
> graphmodelp<-exp(predict(graphmodeld))
> plot(c~t, graphdata)
> lines(graphdata[,1],graphmodelp)
> myNumDeriv(c(100, 250, 350), graphmodeld )
> #----------------------------------------------
>          1           2           3
> -0.31464102 -0.11310753 -0.05718414
>
>
>>
>>
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k



From profjcn@@h @ending from gm@il@com  Sat Apr  7 14:37:41 2018
From: profjcn@@h @ending from gm@il@com (J C Nash)
Date: Sat, 7 Apr 2018 08:37:41 -0400
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
 <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>
Message-ID: <924959fc-a95d-940c-5884-edc45d5a58d7@gmail.com>

R users may want to note that there are some extensions in packages for symbolic derivatives.

In particular, Duncan Murdoch added some "all in R" tools in the package nlsr that I maintain. This
is a substitute for the nls() function that uses a fairly unsatisfactory forward difference derivative
approximation. Moreover, the solver in nlsr is a variant of the Marquardt stabilized Gauss-Newton
approach, rather than the straight Gauss-Newton that often gives a "singular gradient" error. Nothing
is free, of course, and the Marquardt approach often uses more iterations when the problem is
uncomplicated. On the other hand, it is rather like a pit bull in trying to find a solution.

There is also the Deriv package, also "all in R". Both it and nlsr allow extensions to the derivatives
table, though I think most users will need to do some homework to become comfortable with doing
that.

There is also a Google Summer of Code proposal this year to wrap the Julia Automatic Differentiation
tools to R. This would allow derivatives of coded functions to be computed avoiding approximations.
I believe it will be at least partly successful in achieving its goals.

Unfortunately (and I would rather hope that someone can say eventually that I am wrong), I believe
no tool is universally applicable.

JN

On 2018-04-07 02:19 AM, Jeff Newmiller wrote:
> I have never found the R symbolic differentiation helpful because my functions are typically quite complicated, but was
> prompted by Steve Ellison's suggestion to try it out in this case:
> 
> ################# reprex (see reprex package)
> graphdta <- read.csv( text =
> "t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7
> ", header = TRUE )
> 
> nd <- c( 100, 250, 300 )
> graphmodeld <- lm( log(c) ~ t, data = graphdta )
> graphmodelplin <- predict( graphmodeld
> ???????????????????????? , newdata = data.frame( t = nd )
> ???????????????????????? )
> graphmodelp <- exp(graphmodelplin)
> graphmodelp
> #>??????? 1??????? 2??????? 3
> #> 46.13085 16.58317 11.79125
> # derivative of exp( a + b*t ) is b * exp( a + b*t )
> graphmodeldpdt <- coef( graphmodeld )[ 2 ] * graphmodelp
> graphmodeldpdt
> #>?????????? 1?????????? 2?????????? 3
> #> -0.31464113 -0.11310757 -0.08042364
> 
> # Ellison suggestion - fancy, only works for simple functions
> dc <- deriv( expression( exp( a + b * t ) )
> ?????????? , namevec = "t"
> ?????????? )
> dcf <- function( t ) {
> ? cgm <- coef( graphmodeld )
> ? a <- cgm[ 1 ]
> ? b <- cgm[ 2 ]
> ? eval(dc)
> }
> result <- dcf( nd )
> result
> #> [1] 46.13085 16.58317 11.79125
> #> attr(,"gradient")
> #>??????????????? t
> #> [1,] -0.31464113
> #> [2,] -0.11310757
> #> [3,] -0.08042364
> attr( result, "gradient" )[ , 1 ]
> #> [1] -0.31464113 -0.11310757 -0.08042364
> #################
> 
> On Fri, 6 Apr 2018, David Winsemius wrote:
> 
>>
>>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>
>>>
>>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>>>
>>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>>>
>>>>>
>>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the
>>>>> values of the coefficients in the model. See:
>>>>>
>>>>> ?predict
>>>>>
>>>>
>>>> The ? details did not mention interpolation explicity; thanks.
>>>>
>>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the
>>>>> mathematical definiton of that term. We also remain unclear whether this is homework.
>>>>>
>>>>
>>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to
>>>> re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to
>>>> read further ("curiosity"), not the answer (indeed, "homework"). :)
>>>>
>>>> Personal curiosity should be considered "homework".
>>>
>>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>>>
>>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) -
>>> ?????????????????????????????????????????? exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>> ???????????????????????????????????????? .0001 }
>>> myNumDeriv(c(100, 250, 350))
>>
>> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version
>> using R formulae:
>>
>> graphdata<-read.csv(text='t,c
>> 0,100
>> 40,78
>> 80,59
>> 120,38
>> 160,25
>> 200,21
>> 240,16
>> 280,12
>> 320,10
>> 360,9
>> 400,7')
>> graphmodeld<-lm(log(c)~t, graphdata)
>> graphmodelp<-exp(predict(graphmodeld))
>> plot(c~t, graphdata)
>> lines(graphdata[,1],graphmodelp)
>> myNumDeriv(c(100, 250, 350), graphmodeld )
>> #----------------------------------------------
>> ???????? 1?????????? 2?????????? 3
>> -0.31464102 -0.11310753 -0.05718414
>>
>>
>>>
>>>
>>>
>>> David Winsemius
>>> Alameda, CA, USA
>>>
>>> 'Any technology distinguishable from magic is insufficiently advanced.'?? -Gehm's Corollary to Clarke's Third Law
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'?? -Gehm's Corollary to Clarke's Third Law
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ---------------------------------------------------------------------------
> Jeff Newmiller??????????????????????? The???? .....?????? .....? Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>??????? Basics: ##.#.?????? ##.#.? Live Go...
> ????????????????????????????????????? Live:?? OO#.. Dead: OO#..? Playing
> Research Engineer (Solar/Batteries??????????? O.O#.?????? #.O#.? with
> /Software/Embedded Controllers)?????????????? .OO#.?????? .OO#.? rocks...1k
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From h@mz@h@h@@yim @ending from gm@il@com  Sun Apr  8 02:01:51 2018
From: h@mz@h@h@@yim @ending from gm@il@com (Hamzah Hasyim)
Date: Sun, 8 Apr 2018 02:01:51 +0200
Subject: [R] How to script the script sample into script "OR", please advice
Message-ID: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>

Dear User R


It's been a pleasure talking with you. I am newcomer use R. Would you
please help me how to translate the script below to "R" script?


* Area under receiver operating characteristic (AU-ROC)
predict r1m1p, p
roctab malaria r1m1p, graph summary


* Area under receiver operating characteristic (AU-ROC) curve
predict r1m2p, mu
roctab malaria r1m2p, graph summary

************************************************************
********************
* FIGURE 1 - AU-ROC
************************************************************
********************

roccomp malaria r1m1p r1m2p, graph


* Area under receiver operating characteristic (AU-ROC)
predict r2m1p, p
roctab malaria r2m1p, graph summary


* Area under receiver operating characteristic (AU-ROC) curve
predict r1m2p, mu
roctab malaria r1m2p, graph summary


************************************************************
********************
* FIGURE 3 - AU-ROC
************************************************************
********************
roccomp malaria r2m1p r2m2p, graph



Best regards,



Hamzah

Description of data-set

------------------------------------------------------------
----------------------
              storage   display    value
variable name   type    format     label      variable label
------------------------------------------------------------
----------------------

malaria         float   %48.0g     malaria    Participants who had diagnosed
                                                malaria by health
professionals
_est_r1m1       byte    %8.0g                 esample() from estimates store
r1m1p           float   %9.0g                 Pr(malaria)
r1m2p           float   %9.0g                 Predicted mean
r1m3p           float   %9.0g                 Predicted mean
_est_r1m2       byte    %8.0g                 esample() from estimates store
r1m2use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r1m2u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
pickone         byte    %8.0g                 tag(district)
r1m2urank       float   %9.0g                 rank of (r1m2u)
_est_r1m3       byte    %8.0g                 esample() from estimates store
r1m3use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r1m3u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r1m3urank       float   %9.0g                 rank of (r1m3u)
_est_r2m1       byte    %8.0g                 esample() from estimates store
r2m1p           float   %9.0g                 Pr(malaria)
r2m2p           float   %9.0g                 Predicted mean
r2m3p           float   %9.0g                 Predicted mean
_est_r2m2       byte    %8.0g                 esample() from estimates store
r2m2use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r2m2u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r2m2urank       float   %9.0g                 rank of (r2m2u)
_est_r2m3       byte    %8.0g                 esample() from estimates store
r2m3use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r2m3u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r2m3urank       float   %9.0g                 rank of (r2m3u)
------------------------------------------------------------
----------------------




Respectfully,



Hamzah Hasyim,

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rroctab.pdf
Type: application/pdf
Size: 206908 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180408/96177a22/attachment-0022.pdf>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rroccomp.pdf
Type: application/pdf
Size: 250551 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180408/96177a22/attachment-0023.pdf>

From bgunter@4567 @ending from gm@il@com  Sun Apr  8 16:41:37 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Sun, 8 Apr 2018 07:41:37 -0700
Subject: [R] 
 How to script the script sample into script "OR", please advice
In-Reply-To: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>
References: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>
Message-ID: <CAGxFJbQT=CG2ag8cEzp8oAjXq-9BQZK08rGD2mLgnBxQeTcTTA@mail.gmail.com>

1. *If* this is homework, we do not do homework here.

2. Please read and follow the posting guide linked below to get a
useful answer. In general, we expect posters to provide code showing
their attempt to solve the problem, rather than expecting to be
provided complete solutions. See also instructions for providing a
small reproducible example.

3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among others:
https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:
> Dear User R
>
>
> It's been a pleasure talking with you. I am newcomer use R. Would you
> please help me how to translate the script below to "R" script?
>
>
> * Area under receiver operating characteristic (AU-ROC)
> predict r1m1p, p
> roctab malaria r1m1p, graph summary
>
>
> * Area under receiver operating characteristic (AU-ROC) curve
> predict r1m2p, mu
> roctab malaria r1m2p, graph summary
>
> ************************************************************
> ********************
> * FIGURE 1 - AU-ROC
> ************************************************************
> ********************
>
> roccomp malaria r1m1p r1m2p, graph
>
>
> * Area under receiver operating characteristic (AU-ROC)
> predict r2m1p, p
> roctab malaria r2m1p, graph summary
>
>
> * Area under receiver operating characteristic (AU-ROC) curve
> predict r1m2p, mu
> roctab malaria r1m2p, graph summary
>
>
> ************************************************************
> ********************
> * FIGURE 3 - AU-ROC
> ************************************************************
> ********************
> roccomp malaria r2m1p r2m2p, graph
>
>
>
> Best regards,
>
>
>
> Hamzah
>
> Description of data-set
>
> ------------------------------------------------------------
> ----------------------
>               storage   display    value
> variable name   type    format     label      variable label
> ------------------------------------------------------------
> ----------------------
>
> malaria         float   %48.0g     malaria    Participants who had diagnosed
>                                                 malaria by health
> professionals
> _est_r1m1       byte    %8.0g                 esample() from estimates store
> r1m1p           float   %9.0g                 Pr(malaria)
> r1m2p           float   %9.0g                 Predicted mean
> r1m3p           float   %9.0g                 Predicted mean
> _est_r1m2       byte    %8.0g                 esample() from estimates store
> r1m2use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r1m2u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> pickone         byte    %8.0g                 tag(district)
> r1m2urank       float   %9.0g                 rank of (r1m2u)
> _est_r1m3       byte    %8.0g                 esample() from estimates store
> r1m3use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r1m3u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r1m3urank       float   %9.0g                 rank of (r1m3u)
> _est_r2m1       byte    %8.0g                 esample() from estimates store
> r2m1p           float   %9.0g                 Pr(malaria)
> r2m2p           float   %9.0g                 Predicted mean
> r2m3p           float   %9.0g                 Predicted mean
> _est_r2m2       byte    %8.0g                 esample() from estimates store
> r2m2use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r2m2u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r2m2urank       float   %9.0g                 rank of (r2m2u)
> _est_r2m3       byte    %8.0g                 esample() from estimates store
> r2m3use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r2m3u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r2m3urank       float   %9.0g                 rank of (r2m3u)
> ------------------------------------------------------------
> ----------------------
>
>
>
>
> Respectfully,
>
>
>
> Hamzah Hasyim,
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From h@mz@h@h@@yim @ending from gm@il@com  Sun Apr  8 22:39:23 2018
From: h@mz@h@h@@yim @ending from gm@il@com (Hamzah Hasyim)
Date: Sun, 8 Apr 2018 22:39:23 +0200
Subject: [R] Syntax roccomp-using R
Message-ID: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>

*Dear Bert, *

Thank you very much for your feedback and the useful link https://rseek.org/
and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
Actually, I want to know different performance between Stata and R, in
multilevel logistic regression. For this purposes, I replicate ".do" file
use Stata in
http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778. The
nice journal not only gives ".do" file but also ".dta" file for Stata
user. Fyi,
I succeed running my dataset accordingly approach that use in the nice
article.

In Model ii, by adding the random effects of the clusters (neighbourhoods)
only, I perform a multilevel logistic regression. Adding the neighbourhoods
a random effect considerably increase the DA of the model. If the AU-ROC
increases. This means the neighbourhoods have a relevant (observational)
General Contextual Effect on the individual outcome. That is, knowledge on
the clusters where the individuals reside is relevant for classifying
individuals. That is, for distinguishing those with from those without the
outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
after including a neighbourhoods level variable as a fixed effect. Model ii
represents the ?ceiling? of the explanatory power of the clusters. However,
particularly both syntax in the steps below, the process taking time very
long, particularly for a data set with the 130,585 observation that I have.

I trust can be replicate the syntax Stata below into the script language of
R under your advice. I want to to know the performance of R to analyse in
the syntax " roccomp".  Unfortunately, the process still not finished in
this step yet at the moment.


. * FIGURE 1 - AU-ROC
.
********************************************************************************
.  roccomp Y  r1m1p r1m2p, graph summary

. * FIGURE 3 - AU-ROC
.
********************************************************************************
. roccomp Y  r2m1p r2m2p, graph summary


Abbreviations
Y      = The dependent (or responding) variable
AUC    = Area Under the Curve.
AUROC  = Area Under the Receiver Operating Characteristic curve.
ROC    = Receiver operating characteristic
r1m1p  =  Pr(malaria)
r1m2p  = Predicted mean
r1m3p  = Predicted mean


In addition, I saw in
https://cran.r-project.org/web/packages/auRoc/index.html, and in
https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC
,  there is an issue regarding auROC.

Hopefully with install "CRAN - Package auRoc", I can be running the
"roccomp" used the plug-in. In addition, I can compute areas under ROC
curves using the R Commander. However, the R Commander doesn't include ROC
curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
package for the R Commander, includes ROC curves and may do what I want.
Isn't it?


Again thank you very much, I appreciate it.


Best wishes


Hamzah


On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> 1. *If* this is homework, we do not do homework here.
>
> 2. Please read and follow the posting guide linked below to get a
> useful answer. In general, we expect posters to provide code showing
> their attempt to solve the problem, rather than expecting to be
> provided complete solutions. See also instructions for providing a
> small reproducible example.
>
> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
> others:
> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>
> Cheers,
> Bert
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
> wrote:
> > Dear User R
> >
> >
> > It's been a pleasure talking with you. I am newcomer use R. Would you
> > please help me how to translate the script below to "R" script?
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r1m1p, p
> > roctab malaria r1m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> > ************************************************************
> > ********************
> > * FIGURE 1 - AU-ROC
> > ************************************************************
> > ********************
> >
> > roccomp malaria r1m1p r1m2p, graph
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r2m1p, p
> > roctab malaria r2m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> >
> > ************************************************************
> > ********************
> > * FIGURE 3 - AU-ROC
> > ************************************************************
> > ********************
> > roccomp malaria r2m1p r2m2p, graph
> >
> >
> >
> > Best regards,
> >
> >
> >
> > Hamzah
> >
> > Description of data-set
> >
> > ------------------------------------------------------------
> > ----------------------
> >               storage   display    value
> > variable name   type    format     label      variable label
> > ------------------------------------------------------------
> > ----------------------
> >
> > malaria         float   %48.0g     malaria    Participants who had
> diagnosed
> >                                                 malaria by health
> > professionals
> > _est_r1m1       byte    %8.0g                 esample() from estimates
> store
> > r1m1p           float   %9.0g                 Pr(malaria)
> > r1m2p           float   %9.0g                 Predicted mean
> > r1m3p           float   %9.0g                 Predicted mean
> > _est_r1m2       byte    %8.0g                 esample() from estimates
> store
> > r1m2use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r1m2u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > pickone         byte    %8.0g                 tag(district)
> > r1m2urank       float   %9.0g                 rank of (r1m2u)
> > _est_r1m3       byte    %8.0g                 esample() from estimates
> store
> > r1m3use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r1m3u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r1m3urank       float   %9.0g                 rank of (r1m3u)
> > _est_r2m1       byte    %8.0g                 esample() from estimates
> store
> > r2m1p           float   %9.0g                 Pr(malaria)
> > r2m2p           float   %9.0g                 Predicted mean
> > r2m3p           float   %9.0g                 Predicted mean
> > _est_r2m2       byte    %8.0g                 esample() from estimates
> store
> > r2m2use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r2m2u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r2m2urank       float   %9.0g                 rank of (r2m2u)
> > _est_r2m3       byte    %8.0g                 esample() from estimates
> store
> > r2m3use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r2m3u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r2m3urank       float   %9.0g                 rank of (r2m3u)
> > ------------------------------------------------------------
> >
> >
> >
> >
> >
> > Respectfully,
> >
> >
> >
> > Hamzah
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]



From v@rin@@ch@ @ending from y@hoo@fr  Sun Apr  8 23:36:34 2018
From: v@rin@@ch@ @ending from y@hoo@fr (varin sacha)
Date: Sun, 8 Apr 2018 21:36:34 +0000 (UTC)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
 <1171231551.29624.1523044349525@mail.yahoo.com>
 <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>
Message-ID: <382913605.794651.1523223394881@mail.yahoo.com>

Many thanks Jeff,






Le samedi 7 avril 2018 ? 07:21:31 UTC+2, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> a ?crit : 





You need to pay attention to the documentation more closely. If you don't 
know what something means, that is usually a signal that you need to study 
more... in this case about the difference between an input variable and a 
design (model) matrix. This is a concept from the standard linear algebra 
formulation for regression equations. (Note that I have never used RobPer, 
nor do I regularly mess with model matrices, but I do recognize the term 
"design matrix" and used help.search("design matrix") to track this down.)

Thanks for the reprex, though it is highly irregular to intersperse 
install.packages in code that may be run more than once.

######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)

X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

? reg1 <- lm( Y ~ X )
? plot( X, Y )
? abline( reg1, col = "black" )

? reg <- lmrob( Y ~ X )
? abline( reg, col = "green" )

? Huber <- rlm( Y ~ X )
? abline( Huber, col="red" )

? Tukey <- rlm( Y ~ X, psi = psi.bisquare )
? abline( Tukey, col = "purple" )

? L1 <- rq( Y ~ X, tau = 0.5 )
? abline( L1, col = "blue" )

? fast <- FastTau(model.matrix(~X),Y)
? fast # save result, then print... avoid computing twice
? # model matrix leads to first element of beta as constant and
? # second element of beta as slope
? abline( fast$beta, col="yellow" )

? legend( "topright"
? ? ? ? , c( "OLS"
? ? ? ? ? ? , "L1"
? ? ? ? ? ? , "Huber M-estimator"
? ? ? ? ? ? , "Tukey"
? ? ? ? ? ? , "MM"
? ? ? ? ? ? , "fast tau"
? ? ? ? ? ? )
? ? ? ? , inset = 0.02
? ? ? ? , lwd = 2
? ? ? ? , col = c( "black","blue","red","purple","green", "yellow")
? ? ? ? , cex = .9
? ? ? ? )
######################

On Fri, 6 Apr 2018, varin sacha via R-help wrote:

> R-experts,
>
> I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope).
> Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?
>
> Here is the reproducible code
>
> ###############
> X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
> Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
>
> {reg1<-lm(Y ~ X)
> plot(X,Y)
> abline(reg1, col="black")
>
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Y ~ X)
> abline(reg, col="green")
>
> install.packages("MASS")?
> library(MASS)
> Huber=rlm(Y ~ X)
> abline(Huber,col="red")
>
> Tukey=rlm(Y ~ X,psi=psi.bisquare)
> abline(Tukey,col="purple")
>
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Y ~ X,tau=0.5)
> abline(L1,col="blue")
>
> install.packages("RobPer")
> library(RobPer)
> FastTau(Y,X)
> fast=FastTau(Y,X)
> abline(unlist(fast), col="yellow")
>
> legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
> ###############
>
>
>
>
>
>
>
>
>
> Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit :
>
>
>
>
>
> Many thanks Duncun,
>
> Best,
>
>
>
>
>
> Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit :

>
>
>
>
>
> On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
>> Dear R-experts,
>>
>> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
>> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
>> Many thanks for your reply.
>>
>
> It's not quite reproducible:? you forgot the line to create Dataset.
> It's probably something like
>
> Dataset <- data.frame(Y, Z)
>
>> ##########
>>
>> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
>> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
>> reg1<-lm(Z ~ Y)
>> plot(Y,Z)
>> abline(reg1, col="black")
>>
>> install.packages("robustbase")
>> library?(robustbase)
>> reg=lmrob(Z ~ Y, data = Dataset)
>> abline(reg, col="green")
>>
>> install.packages("MASS")
>> library(MASS)
>> Huber=rlm(Z ~ Y, data = Dataset)
>> abline(Huber,col="red")
>>
>> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
>> abline(Tukey,col="purple")
>> ?
>> install.packages("quantreg")
>> library(quantreg)
>> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
>> abline(L1,col="blue")
>> ?
>> install.packages("RobPer")
>> library(RobPer)
>> FastTau(Z,Y)
>> fast=FastTau(Z,Y)
>> abline(fast, col="yellow")
>
> abline() doesn't know what to do with the "fast" object.? It isn't a
> vector containing intercept and slope, it's a list containing them.? So
> you'll need something like
>
> abline(unlist(fast), col="yellow")
>
> Duncan Murdoch
>
>
>>
>> ##########
>> ?
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

>

---------------------------------------------------------------------------
Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ? .....? ? ? .....? Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>? ? ? ? Basics: ##.#.? ? ? ##.#.? Live Go...
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Live:? OO#.. Dead: OO#..? Playing
Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ? #.O#.? with
/Software/Embedded Controllers)? ? ? ? ? ? ? .OO#.? ? ? .OO#.? rocks...1k



From bgunter@4567 @ending from gm@il@com  Sun Apr  8 23:40:07 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Sun, 8 Apr 2018 14:40:07 -0700
Subject: [R] Syntax roccomp-using R
In-Reply-To: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
References: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
Message-ID: <CAGxFJbQudU1KZxzR_V9+BRdQUFoC3hLRCTRQVwzdDw64e6NqSw@mail.gmail.com>

I do not provide consulting services, so you're on your own. As I said
earlier, you need to follow the posting guide and show us what efforts
you have made.
"None" will probably not succeed in getting anyone to help. Nor should
you expect anyone on this list to be familiar with Stata and/or to do
your "translation" work for you.

-- Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Apr 8, 2018 at 1:39 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:
> Dear Bert,
>
> Thank you very much for your feedback and the useful link https://rseek.org/
> and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
> Actually, I want to know different performance between Stata and R, in
> multilevel logistic regression. For this purposes, I replicate ".do" file
> use Stata in
> http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778.
> The nice journal not only gives ".do" file but also ".dta" file for Stata
> user. Fyi, I succeed running my dataset accordingly approach that use in the
> nice article.
>
> In Model ii, by adding the random effects of the clusters (neighbourhoods)
> only, I perform a multilevel logistic regression. Adding the neighbourhoods
> a random effect considerably increase the DA of the model. If the AU-ROC
> increases. This means the neighbourhoods have a relevant (observational)
> General Contextual Effect on the individual outcome. That is, knowledge on
> the clusters where the individuals reside is relevant for classifying
> individuals. That is, for distinguishing those with from those without the
> outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
> after including a neighbourhoods level variable as a fixed effect. Model ii
> represents the ?ceiling? of the explanatory power of the clusters. However,
> particularly both syntax in the steps below, the process taking time very
> long, particularly for a data set with the 130,585 observation that I have.
>
> I trust can be replicate the syntax Stata below into the script language of
> R under your advice. I want to to know the performance of R to analyse in
> the syntax " roccomp".  Unfortunately, the process still not finished in
> this step yet at the moment.
>
>
> . * FIGURE 1 - AU-ROC
> .
> ********************************************************************************
> .  roccomp Y  r1m1p r1m2p, graph summary
>
> . * FIGURE 3 - AU-ROC
> .
> ********************************************************************************
> . roccomp Y  r2m1p r2m2p, graph summary
>
>
> Abbreviations
> Y      = The dependent (or responding) variable
> AUC    = Area Under the Curve.
> AUROC  = Area Under the Receiver Operating Characteristic curve.
> ROC    = Receiver operating characteristic
> r1m1p  =  Pr(malaria)
> r1m2p  = Predicted mean
> r1m3p  = Predicted mean
>
>
> In addition, I saw in
> https://cran.r-project.org/web/packages/auRoc/index.html, and in
> https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC,
> there is an issue regarding auROC.
>
> Hopefully with install "CRAN - Package auRoc", I can be running the
> "roccomp" used the plug-in. In addition, I can compute areas under ROC
> curves using the R Commander. However, the R Commander doesn't include ROC
> curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
> package for the R Commander, includes ROC curves and may do what I want.
> Isn't it?
>
>
> Again thank you very much, I appreciate it.
>
>
> Best wishes
>
>
> Hamzah
>
>
> On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> 1. *If* this is homework, we do not do homework here.
>>
>> 2. Please read and follow the posting guide linked below to get a
>> useful answer. In general, we expect posters to provide code showing
>> their attempt to solve the problem, rather than expecting to be
>> provided complete solutions. See also instructions for providing a
>> small reproducible example.
>>
>> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
>> others:
>> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>>
>> Cheers,
>> Bert
>>
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along
>> and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
>> wrote:
>> > Dear User R
>> >
>> >
>> > It's been a pleasure talking with you. I am newcomer use R. Would you
>> > please help me how to translate the script below to "R" script?
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC)
>> > predict r1m1p, p
>> > roctab malaria r1m1p, graph summary
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC) curve
>> > predict r1m2p, mu
>> > roctab malaria r1m2p, graph summary
>> >
>> > ************************************************************
>> > ********************
>> > * FIGURE 1 - AU-ROC
>> > ************************************************************
>> > ********************
>> >
>> > roccomp malaria r1m1p r1m2p, graph
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC)
>> > predict r2m1p, p
>> > roctab malaria r2m1p, graph summary
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC) curve
>> > predict r1m2p, mu
>> > roctab malaria r1m2p, graph summary
>> >
>> >
>> > ************************************************************
>> > ********************
>> > * FIGURE 3 - AU-ROC
>> > ************************************************************
>> > ********************
>> > roccomp malaria r2m1p r2m2p, graph
>> >
>> >
>> >
>> > Best regards,
>> >
>> >
>> >
>> > Hamzah
>> >
>> > Description of data-set
>> >
>> > ------------------------------------------------------------
>> > ----------------------
>> >               storage   display    value
>> > variable name   type    format     label      variable label
>> > ------------------------------------------------------------
>> > ----------------------
>> >
>> > malaria         float   %48.0g     malaria    Participants who had
>> > diagnosed
>> >                                                 malaria by health
>> > professionals
>> > _est_r1m1       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m1p           float   %9.0g                 Pr(malaria)
>> > r1m2p           float   %9.0g                 Predicted mean
>> > r1m3p           float   %9.0g                 Predicted mean
>> > _est_r1m2       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m2use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r1m2u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > pickone         byte    %8.0g                 tag(district)
>> > r1m2urank       float   %9.0g                 rank of (r1m2u)
>> > _est_r1m3       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m3use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r1m3u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r1m3urank       float   %9.0g                 rank of (r1m3u)
>> > _est_r2m1       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m1p           float   %9.0g                 Pr(malaria)
>> > r2m2p           float   %9.0g                 Predicted mean
>> > r2m3p           float   %9.0g                 Predicted mean
>> > _est_r2m2       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m2use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r2m2u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r2m2urank       float   %9.0g                 rank of (r2m2u)
>> > _est_r2m3       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m3use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r2m3u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r2m3urank       float   %9.0g                 rank of (r2m3u)
>> > ------------------------------------------------------------
>> >
>> >
>> >
>> >
>> >
>> > Respectfully,
>> >
>> >
>> >
>> > Hamzah
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>



From l@r@dutr@@ilv@ @ending from gm@il@com  Mon Apr  9 00:47:55 2018
From: l@r@dutr@@ilv@ @ending from gm@il@com (Lara Dutra Silva)
Date: Sun, 8 Apr 2018 22:47:55 +0000
Subject: [R] Doubt_merging data
Message-ID: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>

Hello,

I gather data from 5 objects and 5 data. frames and  would like to join
information.

join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb


join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
=total_sdmdata
code:
rbind, merge?

total_pb<-   ??

total_sdmdata<-   ??


1

absvals_SM <- extract(grid_present_SM, absences_10000)

presvals_SM <- extract(grid_present_SM, LSM)

pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))

sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))

                                            ######
2

absvals_T <- extract(grid_present_T, absences_10000)

presvals_T <- extract(grid_present_T, LT)

pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))

sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))

                                          ######

3

absvals_P <- extract(grid_present_T, absences_10000)

presvals_P <- extract(grid_present_P, LP)

pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))

sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))

                                ######

4

absvals_F <- extract(grid_present_F, absences_10000)

presvals_F <- extract(grid_present_F, LF)

pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))

sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))


                           ######

5

absvals_SJ <- extract(grid_present_SJ, absences_10000)

presvals_SJ <- extract(grid_present_SJ, LSJ)

pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))

sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))


Regards,

Silva





<http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Sem
v?rus. www.avg.com
<http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Mon Apr  9 04:30:14 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Sun, 08 Apr 2018 19:30:14 -0700
Subject: [R] Doubt_merging data
In-Reply-To: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
References: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
Message-ID: <7D046B27-24F7-405E-8377-555121B588E9@dcn.davis.ca.us>

I don't see how anyone can help you if you don't provide the input data (or a fake version of the data) you are using. 

On April 8, 2018 3:47:55 PM PDT, Lara Dutra Silva <laradutrasilva at gmail.com> wrote:
>Hello,
>
>I gather data from 5 objects and 5 data. frames and  would like to join
>information.
>
>join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb
>
>
>join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
>=total_sdmdata
>code:
>rbind, merge?
>
>total_pb<-   ??
>
>total_sdmdata<-   ??
>
>
>1
>
>absvals_SM <- extract(grid_present_SM, absences_10000)
>
>presvals_SM <- extract(grid_present_SM, LSM)
>
>pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))
>
>sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))
>
>                                            ######
>2
>
>absvals_T <- extract(grid_present_T, absences_10000)
>
>presvals_T <- extract(grid_present_T, LT)
>
>pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))
>
>sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))
>
>                                          ######
>
>3
>
>absvals_P <- extract(grid_present_T, absences_10000)
>
>presvals_P <- extract(grid_present_P, LP)
>
>pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))
>
>sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))
>
>                                ######
>
>4
>
>absvals_F <- extract(grid_present_F, absences_10000)
>
>presvals_F <- extract(grid_present_F, LF)
>
>pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))
>
>sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))
>
>
>                           ######
>
>5
>
>absvals_SJ <- extract(grid_present_SJ, absences_10000)
>
>presvals_SJ <- extract(grid_present_SJ, LSJ)
>
>pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))
>
>sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))
>
>
>Regards,
>
>Silva
>
>
>
>
>
><http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
>Sem
>v?rus. www.avg.com
><http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
><#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @eb@@tien@bihorel @ending from cognigencorp@com  Mon Apr  9 06:06:36 2018
From: @eb@@tien@bihorel @ending from cognigencorp@com (Sebastien Bihorel)
Date: Mon, 9 Apr 2018 00:06:36 -0400 (EDT)
Subject: [R] Question about subset
Message-ID: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>

Hi,

The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."

Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.

Thanks



From bgunter@4567 @ending from gm@il@com  Mon Apr  9 06:31:53 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Sun, 8 Apr 2018 21:31:53 -0700
Subject: [R] Question about subset
In-Reply-To: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
Message-ID: <CAGxFJbR-Df80M67kvLvW9x-gqXr1M50WCe7VZ-XGFNJgf-PqTw@mail.gmail.com>

Please read the "Details" section of the help file -- it essentially
tells you what to do by directly using indexing; e.g. for a vector,
index by:
[is.na(subset) | subset]  .

Adjust as necessary for your data structure.Or look at the code of,
e.g. subset.data.frame and create your own subset version/method by
making the trivial modification to that code.

R is open source. Sometimes it's worthwhile to take advantage of this
by making a simple modification to its code on your own before hunting
for packages.

Cheers,
Bert



Cheers,
Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Apr 8, 2018 at 9:06 PM, Sebastien Bihorel
<sebastien.bihorel at cognigencorp.com> wrote:
> Hi,
>
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
>
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
>
> Thanks
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From dwin@emiu@ @ending from comc@@t@net  Mon Apr  9 06:33:41 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sun, 8 Apr 2018 21:33:41 -0700
Subject: [R] Question about subset
In-Reply-To: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
Message-ID: <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>



Sent from my iPhone

> On Apr 8, 2018, at 9:06 PM, Sebastien Bihorel <sebastien.bihorel at cognigencorp.com> wrote:
> 
> Hi,
> 
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
> 
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
> 
Just use a Boolean expression 

is.na(col)|(col==0)

> Thanks
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From wolfg@ng@r@ffel@berger @ending from gm@il@com  Mon Apr  9 14:58:01 2018
From: wolfg@ng@r@ffel@berger @ending from gm@il@com (Wolfgang Raffelsberger)
Date: Mon, 9 Apr 2018 14:58:01 +0200
Subject: [R] linear regression with repeated measures
Message-ID: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>

Dear list,

this seemed to me like a very trivial question, but finally I haven't found
any similar postings with suitable solutions on the net ...
Basically, instead of regressing two simple series of measures 'a' and 'b'
(like b ~ a), I would like to use independent replicate measurements for
each variable at each level (ie, instead of having just one 'a' and one 'b'
I have independent replicates for all measures of 'a' and 'b', 'a1' could
be as well compared to 'b1' as to 'b2' etc.)
In analogy one could think of a procedure claiming to act and increase a
given output value by eg 30% (compared to not emplying this procedure).
Now I have indepedent repeated measures (since the measures themselves are
considered not very precise) for a (large) number of individuals with and
without the treatment.
Basically, I want to test the hypthesis that applying the procedure
increases values in a linear way by a given factor, thus test the
parameters of a linear regression (eg slope=1.3, offset may be different to
0). In extension to this, how could I make a confidence-interval for the
estimated slop (due to the treatment) to check if the claimed value is
indeed inside ?

# Here some toy data, my real data are much larger and might ressemble
somehow to this.
# Lines are for subjects and columns for 2 groups and repeat-measurements.
# in this case I introduce a toy-factor of 1.3 to the 2nd part of my data
(in the real data such a factor is just a hypothesis), which I would like
to investigate/confirm
dat <- matrix(rep(1:12,7)+rnorm(84),nc=7)
dat[,4:7] <- 1.3*dat[,4:7]+runif(48)
# some individual measures may be missing :
dat[2:3,4] <- NA
colnames(dat) <- paste(rep(c("a","b"),3:4),c(1:3,1:4),sep="")

# In analogy to the ample documentation of lm() :
datMean <- cbind(aM=rowMeans(dat[,1:3]),bM=rowMeans(dat[,4:7]))
(lmMean <- lm(bM ~ aM,data=as.data.frame(datMean)))
# I suppose the estimated parameters (intercet & slope) may be correct but
sice the degrees of freedom are not made of means I am convinced they are
incorrect and thus any statistics using them will be so, too ...
df.residual(lmMean)
summary(lmMean)

# I also thought about a workaround reorganizing the data into a 'simple'
two-column setup using somthing like stack() and allowing b ~ a, but again,
I suppose the degrees of freedom won't be correct neither.

# 1) should I simply correct the degrees of freedom in my lm-object, would
this be the correct number of degrees of freedom
lmMean$df.residual <- nrow(dat)*5-2
# then I suppose I would need to change the standard errors, I'm shur what
is the best way to do so

# or 2) is there a package allowing to do these steps, thus returning
correct DF, Std Err and Pr(>|t) ?

Thanks in advance,
Wolfgang Raffelsberger

for completeness :
sessionInfo()

> sessionInfo()
R version 3.4.4 (2018-03-15)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 7 x64 (build 7601) Service Pack 1

Matrix products: default

locale:
[1] LC_COLLATE=French_France.1252  LC_CTYPE=French_France.1252
LC_MONETARY=French_France.1252
[4] LC_NUMERIC=C                   LC_TIME=French_France.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] limma_3.34.9    lme4_1.1-15     Matrix_1.2-12   TinnRcom_1.0.20
formatR_1.4     svSocket_0.9-57

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.16    lattice_0.20-35 MASS_7.3-49     grid_3.4.4
nlme_3.1-131.1  minqa_1.2.4
 [7] nloptr_1.0.4    svMisc_0.9-70   splines_3.4.4   tools_3.4.4
 compiler_3.4.4  tcltk_3.4.4

	[[alternative HTML version deleted]]



From bgunter@4567 @ending from gm@il@com  Mon Apr  9 16:32:59 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Mon, 9 Apr 2018 07:32:59 -0700
Subject: [R] linear regression with repeated measures
In-Reply-To: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>
References: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>
Message-ID: <CAGxFJbRqg0_9hVg=_08yemSZWJso7P-92sBua4DfK+LOFSynCg@mail.gmail.com>

Generally, statistics questions are off topic here, although they do
sometimes intersect R programming issues, as perhaps here.
Nevertheless, I believe your post would fit better on the
r-sig-mixed-models list, where repeated measures and other mixed
effects (/variance components) models are discussed. It sounds like
you may also want to do some reading about mixed effects models to
understand the issues involved, but as I found your post confusing,
maybe I'm wrong about that.

stats.stackexchange.com is another online venue for mostly statistics
discussions.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 5:58 AM, Wolfgang Raffelsberger
<wolfgang.raffelsberger at gmail.com> wrote:
> Dear list,
>
> this seemed to me like a very trivial question, but finally I haven't found
> any similar postings with suitable solutions on the net ...
> Basically, instead of regressing two simple series of measures 'a' and 'b'
> (like b ~ a), I would like to use independent replicate measurements for
> each variable at each level (ie, instead of having just one 'a' and one 'b'
> I have independent replicates for all measures of 'a' and 'b', 'a1' could
> be as well compared to 'b1' as to 'b2' etc.)
> In analogy one could think of a procedure claiming to act and increase a
> given output value by eg 30% (compared to not emplying this procedure).
> Now I have indepedent repeated measures (since the measures themselves are
> considered not very precise) for a (large) number of individuals with and
> without the treatment.
> Basically, I want to test the hypthesis that applying the procedure
> increases values in a linear way by a given factor, thus test the
> parameters of a linear regression (eg slope=1.3, offset may be different to
> 0). In extension to this, how could I make a confidence-interval for the
> estimated slop (due to the treatment) to check if the claimed value is
> indeed inside ?
>
> # Here some toy data, my real data are much larger and might ressemble
> somehow to this.
> # Lines are for subjects and columns for 2 groups and repeat-measurements.
> # in this case I introduce a toy-factor of 1.3 to the 2nd part of my data
> (in the real data such a factor is just a hypothesis), which I would like
> to investigate/confirm
> dat <- matrix(rep(1:12,7)+rnorm(84),nc=7)
> dat[,4:7] <- 1.3*dat[,4:7]+runif(48)
> # some individual measures may be missing :
> dat[2:3,4] <- NA
> colnames(dat) <- paste(rep(c("a","b"),3:4),c(1:3,1:4),sep="")
>
> # In analogy to the ample documentation of lm() :
> datMean <- cbind(aM=rowMeans(dat[,1:3]),bM=rowMeans(dat[,4:7]))
> (lmMean <- lm(bM ~ aM,data=as.data.frame(datMean)))
> # I suppose the estimated parameters (intercet & slope) may be correct but
> sice the degrees of freedom are not made of means I am convinced they are
> incorrect and thus any statistics using them will be so, too ...
> df.residual(lmMean)
> summary(lmMean)
>
> # I also thought about a workaround reorganizing the data into a 'simple'
> two-column setup using somthing like stack() and allowing b ~ a, but again,
> I suppose the degrees of freedom won't be correct neither.
>
> # 1) should I simply correct the degrees of freedom in my lm-object, would
> this be the correct number of degrees of freedom
> lmMean$df.residual <- nrow(dat)*5-2
> # then I suppose I would need to change the standard errors, I'm shur what
> is the best way to do so
>
> # or 2) is there a package allowing to do these steps, thus returning
> correct DF, Std Err and Pr(>|t) ?
>
> Thanks in advance,
> Wolfgang Raffelsberger
>
> for completeness :
> sessionInfo()
>
>> sessionInfo()
> R version 3.4.4 (2018-03-15)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> Running under: Windows 7 x64 (build 7601) Service Pack 1
>
> Matrix products: default
>
> locale:
> [1] LC_COLLATE=French_France.1252  LC_CTYPE=French_France.1252
> LC_MONETARY=French_France.1252
> [4] LC_NUMERIC=C                   LC_TIME=French_France.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] limma_3.34.9    lme4_1.1-15     Matrix_1.2-12   TinnRcom_1.0.20
> formatR_1.4     svSocket_0.9-57
>
> loaded via a namespace (and not attached):
>  [1] Rcpp_0.12.16    lattice_0.20-35 MASS_7.3-49     grid_3.4.4
> nlme_3.1-131.1  minqa_1.2.4
>  [7] nloptr_1.0.4    svMisc_0.9-70   splines_3.4.4   tools_3.4.4
>  compiler_3.4.4  tcltk_3.4.4
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From m@cqueen1 @ending from llnl@gov  Mon Apr  9 17:35:08 2018
From: m@cqueen1 @ending from llnl@gov (MacQueen, Don)
Date: Mon, 9 Apr 2018 15:35:08 +0000
Subject: [R] Doubt_merging data
In-Reply-To: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
References: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
Message-ID: <3D1CD6B5-DD92-4500-AE79-B748F6632547@llnl.gov>

Your email is hard to read because you sent html email. Please send plain text.

You will need to say what you mean by "join". It's not a standard term with a universally agreed upon meaning within R.

If you have 5 data frames, each with 5 rows, and it makes sense that after joining you should have one data frame with 25 rows and the same number of columns, then rbind() is probably what you want.

If you have 5 data frames, each with 5 rows, and it makes sense that after joining you should have one data frame with 5 rows, and more columns, then merge() is probably what you want.

But some of your code suggests you have a somewhat complex data structure, so it's hard to say.

extract() is not a base R function; when asking for help one should indicate where non-base functions come from.

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/8/18, 3:47 PM, "R-help on behalf of Lara Dutra Silva" <r-help-bounces at r-project.org on behalf of laradutrasilva at gmail.com> wrote:

    Hello,
    
    I gather data from 5 objects and 5 data. frames and  would like to join
    information.
    
    join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb
    
    
    join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
    =total_sdmdata
    code:
    rbind, merge?
    
    total_pb<-   ??
    
    total_sdmdata<-   ??
    
    
    1
    
    absvals_SM <- extract(grid_present_SM, absences_10000)
    
    presvals_SM <- extract(grid_present_SM, LSM)
    
    pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))
    
    sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))
    
                                                ######
    2
    
    absvals_T <- extract(grid_present_T, absences_10000)
    
    presvals_T <- extract(grid_present_T, LT)
    
    pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))
    
    sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))
    
                                              ######
    
    3
    
    absvals_P <- extract(grid_present_T, absences_10000)
    
    presvals_P <- extract(grid_present_P, LP)
    
    pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))
    
    sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))
    
                                    ######
    
    4
    
    absvals_F <- extract(grid_present_F, absences_10000)
    
    presvals_F <- extract(grid_present_F, LF)
    
    pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))
    
    sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))
    
    
                               ######
    
    5
    
    absvals_SJ <- extract(grid_present_SJ, absences_10000)
    
    presvals_SJ <- extract(grid_present_SJ, LSJ)
    
    pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))
    
    sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))
    
    
    Regards,
    
    Silva
    
    
    
    
    
    <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
    Sem
    v?rus. www.avg.com
    <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
    <#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From re@hm@@kuleuven @ending from gm@il@com  Mon Apr  9 15:43:27 2018
From: re@hm@@kuleuven @ending from gm@il@com (Reshma C)
Date: Mon, 9 Apr 2018 15:43:27 +0200
Subject: [R] Specifying forbidden configurations in Morris One at a Time
 (OAT) sensitivity analysis
Message-ID: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>

Hi!

I am trying to implement the Morris One at a Time (OAT) sensitivity
analysis technique in R using the package 'sensitivity'.  The OAT and
similar other techniques in the package requires data frame X (which stores
the design or parameter combinations) to be populated by some function in
the package such as fast99 or morris. These functions take only the range
and step size of the parameters as arguments. However, in my experiment
there are few forbidden configurations. Is there a way to specify this in
the analysis set up? To be specific, is there a way to tell the model that
certain combinations are forbidden such as feeding forbidden configurations
via a text file or specifying a conditional expression which will exclude
the forbidden configurations (eg: parameter 1 < parameter 2) ?

Thanks and regards,
Reshma CC

	[[alternative HTML version deleted]]



From @@if@t@uheed @ending from gm@il@com  Mon Apr  9 18:28:53 2018
From: @@if@t@uheed @ending from gm@il@com (Saif Tauheed)
Date: Mon, 9 Apr 2018 21:58:53 +0530
Subject: [R] convert numeric variables to factor
Message-ID: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>

Dear Sir,

I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.

Please to covert the variables.

Thanks and Regards

Abu Afzal
PhD Eco
JNU
India


From dc@rl@on @ending from t@mu@edu  Mon Apr  9 19:11:54 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Mon, 9 Apr 2018 17:11:54 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>

Try the help files:

?factor

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
Sent: Monday, April 9, 2018 11:29 AM
To: r-help at r-project.org
Subject: Re: [R] convert numeric variables to factor

Dear Sir,

I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.

Please to covert the variables.

Thanks and Regards

Abu Afzal
PhD Eco
JNU
India
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From bgunter@4567 @ending from gm@il@com  Mon Apr  9 19:00:25 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Mon, 9 Apr 2018 10:00:25 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>

Just cast it!

?factor
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com> wrote:
> Dear Sir,
>
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>
> Please to covert the variables.
>
> Thanks and Regards
>
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From bgunter@4567 @ending from gm@il@com  Mon Apr  9 19:06:18 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Mon, 9 Apr 2018 10:06:18 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <CAGxFJbQ=xBLyccsqsQ=bha+VngkgEWh8eZgB9S4_FQhiVMPS2A@mail.gmail.com>

see also ?cut if this is what you mean.

-- Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com> wrote:
> Dear Sir,
>
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>
> Please to covert the variables.
>
> Thanks and Regards
>
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From wdunl@p @ending from tibco@com  Mon Apr  9 20:43:38 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Mon, 9 Apr 2018 11:43:38 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>
Message-ID: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>

Or use cut():

> Num <- c(2.2, 2.4, 3.5, 5, 7)
> cut(Num, breaks=c(0,2,4,6), labels=c("Low","Medium","High"))
[1] Medium Medium Medium High   <NA>
Levels: Low Medium High


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Mon, Apr 9, 2018 at 10:00 AM, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Just cast it!
>
> ?factor
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com>
> wrote:
> > Dear Sir,
> >
> > I have xlsx data set which I have imported to R studio. Now some of the
> variables are defined as numeric but I want define them as factor variable
> so that I run classification algorithm in R.
> >
> > Please to covert the variables.
> >
> > Thanks and Regards
> >
> > Abu Afzal
> > PhD Eco
> > JNU
> > India
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ruipb@rr@d@@ @ending from @@po@pt  Mon Apr  9 20:44:20 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Mon, 9 Apr 2018 19:44:20 +0100
Subject: [R] convert numeric variables to factor
In-Reply-To: <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
Message-ID: <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>

Hello,

Though Bert's and David's answers are what you should do, note that some 
R functions that need factors will coerce their input variables when 
necessary.
Have you tried to run the code you haven't posted without coercing to 
factor? It might run...

Hope this helps,

Rui Barradas

On 4/9/2018 6:11 PM, David L Carlson wrote:
> Try the help files:
> 
> ?factor
> 
> ----------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77843-4352
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
> Sent: Monday, April 9, 2018 11:29 AM
> To: r-help at r-project.org
> Subject: Re: [R] convert numeric variables to factor
> 
> Dear Sir,
> 
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> 
> Please to covert the variables.
> 
> Thanks and Regards
> 
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From @@m@nth@@mith379786 @ending from ht@fefty@com  Mon Apr  9 20:45:28 2018
From: @@m@nth@@mith379786 @ending from ht@fefty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 00:45:28 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <513645c80936e4a13fab03875d73c934@jet20.info>

<p>i am seriously meet up with you. if you're interested in getting to know me Then sent me about your details . William Im really serious!</p>


	[[alternative HTML version deleted]]



From m@rc_grt @ending from y@hoo@fr  Tue Apr 10 06:11:49 2018
From: m@rc_grt @ending from y@hoo@fr (Marc Girondot)
Date: Tue, 10 Apr 2018 06:11:49 +0200
Subject: [R] Fail to save an object using name as string
Message-ID: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>

Dear list member,

I think that I have detected a strange behavior of the save() command:

 > year <- "2000"
 > assign(paste0("Var_", year), list(A=10, B=20))
 > get(paste0("Var_", year))
$A
[1] 10

$B
[1] 20

# At this point all is ok, I have created a list of name Var_2000

 > save(paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
Error in save(paste0("Var_", year), file = paste0("Var_", year, 
".Rdata")) :
 ? objet ?paste0("Var_", year)? introuvable

(introuvable=cannot be found)

but

 > save("Var_2000", file=paste0("Var_", year, ".Rdata"))

When I read the help for save: ?save

...??? the names of the objects to be saved (as symbols or character 
strings).

I checked if paste0("Var_", year) produced a character string:

 > str("Var_2000")
 ?chr "Var_2000"
 > str(paste0("Var_", year))
 ?chr "Var_2000"

The solution was to include the name in the list argument:

 > save(list=paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))

But I don't understand what is the difference between "Var_2000" and 
paste0("Var_", year) as both produced the same output.

Thanks for your help,

Marc


R Under development (unstable) (2018-03-23 r74448) -- "Unsuffered 
Consequences"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.6.0 (64-bit)



From @@m@nth@@mith379786 @ending from ht@fefty@com  Tue Apr 10 02:42:45 2018
From: @@m@nth@@mith379786 @ending from ht@fefty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 06:42:45 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <f19b40d6ae21e8627acb58e4fc03e8de@jet20.info>

<p>Cool ?William i'm 100 sure you and me we can have a good time together. Just trust me okey.. Am not an escort ok so plz dont think me like that.</p>

<p>I just need you to prove you are not minor and safe.</p>

<p>My friends also here with me while am writing you. If you can come now you can ride us both. Just give me a call. Here?s <a href="http://cpafull.go2cloud.org/aff_c?offer_id=10965&amp;aff_id=11243">Verify to See my profile</a></p>

<p>Again I did attach pic of mine also. How is that? ?Come and treat us in real plz. To prove to you that im real, your Name is William Caver it ?,i hope now you believe that I?m real. 5+7 =12 am i right ??</p>


	[[alternative HTML version deleted]]



From @@m@nth@@mith379786 @ending from ht@fefty@com  Tue Apr 10 06:51:51 2018
From: @@m@nth@@mith379786 @ending from ht@fefty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 10:51:51 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <ab9d133040359a649184fba58b000f6f@jet20.info>

<p>Are you avoiding me William? or you didnt get my mail? I am still waiting to talk to you William. You can get access to my prvt room now from <a href="http://cpafull.go2cloud.org/aff_c?offer_id=7325&amp;aff_id=11243">My Personal Page</a> It's secret, so plzdont share it with anyone ok. Make an account on here and lets talk. This not chrging you anything as i did sent you invataion. They will just check your age if you are over 18 and will give you access to my profile. baby i am Waiting.......<br />
?</p>


	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Tue Apr 10 08:37:47 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Mon, 09 Apr 2018 23:37:47 -0700
Subject: [R] Fail to save an object using name as string
In-Reply-To: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>
References: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>
Message-ID: <1CD463FD-9B10-4615-B3CD-5530FF4DDE3D@dcn.davis.ca.us>

Have you ever noticed that when you run

x <- 1:5
y <- 2:6
plot( x, y+1 )

you get the expressions you used in your call to plot on the axis labels? `x` is an expression consisting of a single symbol and y+1 is an expression consisting of the addition operator and two arguments: the symbol x and the constant 1. Plot uses these expressions in two ways: one to get numbers to plot, but also converts the expressions into strings that can be printed on the axes.

The save function has an `...` argument that it expects to find symbol names in,  and when you pass an expression as an unnamed argument instead and it then tries to convert the expression to a string and use that as a name for a variable, you get problems.... so don't do that. 

The save function also has the named argument `list` that does not have that symbol-name-extracting behaviour. By explicitly passing a vector of character strings (of length one in your case) in the named `list` argument you avoid that special handling applied by the save function to the `...` argument.

It does seem strange at first, but it goes along with some rather convenient features of the R statistical environment like formulas and intuitive plot labeling, and the ability to use

save( Var_2000, file = paste0( "Var_", year, ".Rdata" ) )

with no quotes. 

On April 9, 2018 9:11:49 PM PDT, Marc Girondot via R-help <r-help at r-project.org> wrote:
>Dear list member,
>
>I think that I have detected a strange behavior of the save() command:
>
> > year <- "2000"
> > assign(paste0("Var_", year), list(A=10, B=20))
> > get(paste0("Var_", year))
>$A
>[1] 10
>
>$B
>[1] 20
>
># At this point all is ok, I have created a list of name Var_2000
>
> > save(paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
>Error in save(paste0("Var_", year), file = paste0("Var_", year, 
>".Rdata")) :
> ? objet ?paste0("Var_", year)? introuvable
>
>(introuvable=cannot be found)
>
>but
>
> > save("Var_2000", file=paste0("Var_", year, ".Rdata"))
>
>When I read the help for save: ?save
>
>...??? the names of the objects to be saved (as symbols or character 
>strings).
>
>I checked if paste0("Var_", year) produced a character string:
>
> > str("Var_2000")
> ?chr "Var_2000"
> > str(paste0("Var_", year))
> ?chr "Var_2000"
>
>The solution was to include the name in the list argument:
>
> > save(list=paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
>
>But I don't understand what is the difference between "Var_2000" and 
>paste0("Var_", year) as both produced the same output.
>
>Thanks for your help,
>
>Marc
>
>
>R Under development (unstable) (2018-03-23 r74448) -- "Unsuffered 
>Consequences"
>Copyright (C) 2018 The R Foundation for Statistical Computing
>Platform: x86_64-apple-darwin15.6.0 (64-bit)
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @@if@t@uheed @ending from gm@il@com  Tue Apr 10 09:27:57 2018
From: @@if@t@uheed @ending from gm@il@com (Saif Tauheed)
Date: Tue, 10 Apr 2018 12:57:57 +0530
Subject: [R] convert numeric variables to factor
In-Reply-To: <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
Message-ID: <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>

I run this command for converting the numerical variable into factor. However, I get the following error message.

> cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""

Please help.

Regards 
Afzal


> On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
> Hello,
> 
> Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> Have you tried to run the code you haven't posted without coercing to factor? It might run...
> 
> Hope this helps,
> 
> Rui Barradas
> 
> On 4/9/2018 6:11 PM, David L Carlson wrote:
>> Try the help files:
>> ?factor
>> ----------------------------------------
>> David L Carlson
>> Department of Anthropology
>> Texas A&M University
>> College Station, TX 77843-4352
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
>> Sent: Monday, April 9, 2018 11:29 AM
>> To: r-help at r-project.org
>> Subject: Re: [R] convert numeric variables to factor
>> Dear Sir,
>> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>> Please to covert the variables.
>> Thanks and Regards
>> Abu Afzal
>> PhD Eco
>> JNU
>> India
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]



From ericjberger @ending from gm@il@com  Tue Apr 10 11:42:09 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Tue, 10 Apr 2018 12:42:09 +0300
Subject: [R] convert numeric variables to factor
In-Reply-To: <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
Message-ID: <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>

You are missing a comma between "MARITAL" and "JOBSTATUS".

On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com>
wrote:

> I run this command for converting the numerical variable into factor.
> However, I get the following error message.
>
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL"
> "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M",
> "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]=
> as.factor(data.frame[,i])}
>
>
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1",
> "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>
> Please help.
>
> Regards
> Afzal
>
>
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some
> R functions that need factors will coerce their input variables when
> necessary.
> > Have you tried to run the code you haven't posted without coercing to
> factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org
> >> Subject: Re: [R] convert numeric variables to factor
> >> Dear Sir,
> >> I have xlsx data set which I have imported to R studio. Now some of the
> variables are defined as numeric but I want define them as factor variable
> so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @@if@t@uheed @ending from gm@il@com  Tue Apr 10 12:48:45 2018
From: @@if@t@uheed @ending from gm@il@com (Saif Tauheed)
Date: Tue, 10 Apr 2018 16:18:45 +0530
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
Message-ID: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>

Thank you very much.

After that I have the following error:

cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") 
> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error in sort.list(y) : 'x' must be atomic for 'sort.list'
Have you called ?sort? on a list?






> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
> 
> You are missing a comma between "MARITAL" and "JOBSTATUS".
> 
> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
> I run this command for converting the numerical variable into factor. However, I get the following error message.
> 
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
> 
> Please help.
> 
> Regards
> Afzal
> 
> 
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> > Have you tried to run the code you haven't posted without coercing to factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org <mailto:r-help at r-project.org>
> >> Subject: Re: [R] convert numeric variables to factor
> >> Dear Sir,
> >> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> 
> 
>         [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
> 


	[[alternative HTML version deleted]]



From @eb@@tien@bihorel @ending from cognigencorp@com  Tue Apr 10 13:10:30 2018
From: @eb@@tien@bihorel @ending from cognigencorp@com (Sebastien Bihorel)
Date: Tue, 10 Apr 2018 07:10:30 -0400 (EDT)
Subject: [R] Question about subset
In-Reply-To: <851ef802a0f246acb114fa8aee6ba8bc@GBDCVPEXC08.corp.lgc-group.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
 <851ef802a0f246acb114fa8aee6ba8bc@GBDCVPEXC08.corp.lgc-group.com>
Message-ID: <1547555808.476500.1523358630357.JavaMail.zimbra@cognigencorp.com>


Thanks.

That works great!

> df <- data.frame(x=c(1,1,NA,NA,2), y=c('a','a','a','b','b'), z=c(TRUE,FALSE,TRUE,FALSE,TRUE))
> cond1 <- 'x==1'
> cond2 <- 'x==1 & z'
> df
   x y     z
1  1 a  TRUE
2  1 a FALSE
3 NA a  TRUE
4 NA b FALSE
5  2 b  TRUE
> subset(df, subset = ifelse(is.na(eval(parse(text=cond1))), TRUE, eval(parse(text=cond1))))
   x y     z
1  1 a  TRUE
2  1 a FALSE
3 NA a  TRUE
4 NA b FALSE
> subset(df, subset = ifelse(is.na(eval(parse(text=cond2))), TRUE, eval(parse(text=cond2))))
   x y    z
1  1 a TRUE
3 NA a TRUE


----- Original Message -----
From: "S Ellison" <S.Ellison at LGCGroup.com>
To: "Sebastien Bihorel" <sebastien.bihorel at cognigencorp.com>
Sent: Monday, April 9, 2018 8:31:55 AM
Subject: RE: Question about subset

> Before I try to re-invent the wheel, I would like to know if one of the base or
> recommended packages would contain a variant of the subset function that
> would consider missing values as true.

The subset argument to subset is something that evaluates to logical - a vector of True or False. 
If you wanted to treat missing values _in that_ as TRUE, wrap it in an ifelse:

ifelse(is.na(condition), TRUE, condition)

where condition can be a logical or an expression evaluating to logical.

S Ellison



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From @eb@@tien@bihorel @ending from cognigencorp@com  Tue Apr 10 13:12:18 2018
From: @eb@@tien@bihorel @ending from cognigencorp@com (Sebastien Bihorel)
Date: Tue, 10 Apr 2018 07:12:18 -0400 (EDT)
Subject: [R] Question about subset
In-Reply-To: <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
 <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>
Message-ID: <312509523.476508.1523358738198.JavaMail.zimbra@cognigencorp.com>


Thanks.

S. Elison provided a similar but apparently more general solution (see other post in thread).


----- Original Message -----
From: "David Winsemius" <dwinsemius at comcast.net>
To: "Sebastien Bihorel" <sebastien.bihorel at cognigencorp.com>
Cc: r-help at r-project.org
Sent: Monday, April 9, 2018 12:33:41 AM
Subject: Re: [R] Question about subset

Sent from my iPhone

> On Apr 8, 2018, at 9:06 PM, Sebastien Bihorel <sebastien.bihorel at cognigencorp.com> wrote:
> 
> Hi,
> 
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
> 
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
> 
Just use a Boolean expression 

is.na(col)|(col==0)

> Thanks
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From li@t@ @ending from dewey@myzen@co@uk  Tue Apr 10 15:05:48 2018
From: li@t@ @ending from dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 10 Apr 2018 14:05:48 +0100
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <15d76c97-bbce-4916-aa71-6464c56d52e3@dewey.myzen.co.uk>

Not sure whether this is the problem but calling your data frame 
data.frame is not a good idea.

On 10/04/2018 11:48, Saif Tauheed wrote:
> Thank you very much.
> 
> After that I have the following error:
> 
> cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet")
>> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error in sort.list(y) : 'x' must be atomic for 'sort.list'
> Have you called ?sort? on a list?
> 
> 
> 
> 
> 
> 
>> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
>>
>> You are missing a comma between "MARITAL" and "JOBSTATUS".
>>
>> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
>> I run this command for converting the numerical variable into factor. However, I get the following error message.
>>
>>> cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}
>>
>>
>> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>>
>> Please help.
>>
>> Regards
>> Afzal
>>
>>
>>> On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
>>>
>>> Hello,
>>>
>>> Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
>>> Have you tried to run the code you haven't posted without coercing to factor? It might run...
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>> On 4/9/2018 6:11 PM, David L Carlson wrote:
>>>> Try the help files:
>>>> ?factor
>>>> ----------------------------------------
>>>> David L Carlson
>>>> Department of Anthropology
>>>> Texas A&M University
>>>> College Station, TX 77843-4352
>>>> -----Original Message-----
>>>> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
>>>> Sent: Monday, April 9, 2018 11:29 AM
>>>> To: r-help at r-project.org <mailto:r-help at r-project.org>
>>>> Subject: Re: [R] convert numeric variables to factor
>>>> Dear Sir,
>>>> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>>>> Please to covert the variables.
>>>> Thanks and Regards
>>>> Abu Afzal
>>>> PhD Eco
>>>> JNU
>>>> India
>>>> ______________________________________________
>>>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>> ______________________________________________
>>>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html



From S@Elli@on @ending from LGCGroup@com  Tue Apr 10 16:05:57 2018
From: S@Elli@on @ending from LGCGroup@com (S Ellison)
Date: Tue, 10 Apr 2018 14:05:57 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <6328e96ea0c241d4b916bcdddce26cc5@GBDCVPEXC08.corp.lgc-group.com>

> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Saif Tauheed
> After that I have the following error:
> 
> cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL",
> "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F",
> "MASSMEDIA_M", "HomeComputer", "HomeInternet")
> > for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error in sort.list(y) : 'x' must be atomic for 'sort.list'
> Have you called ?sort? on a list?
> 

First, please post reproducible examples; your code will not run in anyone else's session (for example you have not shown where the data frame comes from), and if the code does not generate the error message reproducibly, noone can tell you exactly why it happens

Second, please _follow_ the posting guide and work through the suggested steps before posting a question to this list. An internet search for this error would have told you what causes it.

Finally: 
- Your loop will not work because your loop variable is I and the index is i; they are different in R. You'll just update the same column (i) lots of times, assuming i is defined.

- The error message arises from a call to factor() in as.factor(). It tells you that the column being converted is not a simple vector. That in turn tells me that you have not constructed your data frame correctly. I can't tell you what you did wrong there. 

- As another poster has said, data.frame is the name of a function - one that construicts a data frame. R can often tell which you want, but it is never safe to use the name of a function as the name of a data object. Use a different name for your data frame.

S Ellison


*******************************************************************
This email and any attachments are confidential. Any use, copying or
disclosure other than by the intended recipient is unauthorised. If 
you have received this message in error, please notify the sender 
immediately via +44(0)20 8943 7000 or notify postmaster at lgcgroup.com 
and delete this message and any copies from your computer and network. 
LGC Limited. Registered in England 2991879. 
Registered office: Queens Road, Teddington, Middlesex, TW11 0LY, UK

From d@nniel@l@fet@ @ending from bcb@gov@br  Tue Apr 10 14:49:32 2018
From: d@nniel@l@fet@ @ending from bcb@gov@br (Danniel Lafeta Machado)
Date: Tue, 10 Apr 2018 12:49:32 +0000
Subject: [R] Spectral analisys for for R version 3.4.3
Message-ID: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>

Dear all,
Is there any spectral analisys functionality available for R version 3.4.3?
Series() functionality doesn't work in this version.
Regards

Danniel



	[[alternative HTML version deleted]]



From petr@pik@l @ending from prechez@@cz  Tue Apr 10 16:41:34 2018
From: petr@pik@l @ending from prechez@@cz (PIKAL Petr)
Date: Tue, 10 Apr 2018 14:41:34 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <4184ee69036e402a9d1f5b6a490288ab@SRVEXCHCM1301.precheza.cz>

Hi
You could instead of selecting columns by name select them by number

Something like
your.data[,2:3] <- do.call(data.frame, lapply(your.data[,2:3], factor))

or you could construct a vector of column numbers

x <- c(2,3)

Cheers
Petr


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Saif Tauheed
Sent: Tuesday, April 10, 2018 12:49 PM
To: Eric Berger <ericjberger at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] convert numeric variables to factor

Thank you very much.

After that I have the following error:

cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet")
> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error in sort.list(y) : 'x' must be atomic for 'sort.list'
Have you called ?sort? on a list?






> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
>
> You are missing a comma between "MARITAL" and "JOBSTATUS".
>
> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
> I run this command for converting the numerical variable into factor. However, I get the following error message.
>
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE",
> > "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F",
> > "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols)
> > {data.frame[,i]= as.factor(data.frame[,i])}
>
>
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>
> Please help.
>
> Regards
> Afzal
>
>
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> > Have you tried to run the code you haven't posted without coercing to factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org
> >> <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org <mailto:r-help at r-project.org>
> >> Subject: Re: [R] convert numeric variables to factor Dear Sir, I
> >> have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >> To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >> To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To
> UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
>


[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From jdnewmil @ending from dcn@d@vi@@c@@u@  Tue Apr 10 16:44:29 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Tue, 10 Apr 2018 07:44:29 -0700
Subject: [R] Spectral analisys for for R version 3.4.3
In-Reply-To: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
References: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
Message-ID: <45F3469E-76A0-4903-9843-54460405A401@dcn.davis.ca.us>

Please provide a reproducible example of the problem, with sample data.

Notes:
1) The Posting Guide points out that this is a plain text mailing list, but does not emphasize how damaged your sent email may be if you fail to set your email program to plain text mode.
2) Technically, 3.4.3 is not the current version of R... the PG asks you to verify your questions using the current version before posting. 

On April 10, 2018 5:49:32 AM PDT, Danniel Lafeta Machado <danniel.lafeta at bcb.gov.br> wrote:
>Dear all,
>Is there any spectral analisys functionality available for R version
>3.4.3?
>Series() functionality doesn't work in this version.
>Regards
>
>Danniel
>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From wdunl@p @ending from tibco@com  Tue Apr 10 17:48:09 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Tue, 10 Apr 2018 08:48:09 -0700
Subject: [R] Spectral analisys for for R version 3.4.3
In-Reply-To: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
References: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
Message-ID: <CAF8bMcYFhkYxOtS64aoKCAPZ8hPVRffZig1N808oKT+7NjwMfA@mail.gmail.com>

stats::spectrum for starters.

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Tue, Apr 10, 2018 at 5:49 AM, Danniel Lafeta Machado <
danniel.lafeta at bcb.gov.br> wrote:

> Dear all,
> Is there any spectral analisys functionality available for R version 3.4.3?
> Series() functionality doesn't work in this version.
> Regards
>
> Danniel
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From Flori@n@Huber @ending from berenberg@de  Tue Apr 10 17:51:18 2018
From: Flori@n@Huber @ending from berenberg@de (Huber, Florian)
Date: Tue, 10 Apr 2018 15:51:18 +0000
Subject: [R] Test if data uniformly distributed (newbie)
Message-ID: <A59963DF2FC12B49AB50D3ED683AB7BA92E67B@NT-EX01.dnsbego.de>

Dear Mr. Savicky,

I am currently working on a project where I want to test a random number generator, which is supposed to create 10.000 continuously uniformly distributed random numbers between 0 and 1. I am now wondering if I can use the Chi-Squared-Test to solve this problem or if the Kolmogorov-Smirnov-test would be a better fit.

I came across one of your threads on the internet where you answer a similar question and thought I'd reach out to you.


Thanks in advance
Florian Huber




Diese Nachricht einschliesslich etwa beigefuegter Anhaenge ist vertraulich und kann dem Bank- und Datengeheimnis unterliegen oder sonst rechtlich geschuetzte Daten und Informationen enthalten. Wenn Sie nicht der richtige Adressat sind oder diese Nachricht irrtuemlich erhalten haben, informieren Sie bitte sofort den Absender ?ber die Antwortfunktion. Anschliessend moechten Sie bitte diese Nachricht einschliesslich etwa beigefuegter Anhaenge unverzueglich vollstaendig loeschen. Das unerlaubte Kopieren oder Speichern dieser Nachricht und/oder der ihr etwa beigefuegten Anhaenge sowie die unbefugte Weitergabe der darin enthaltenen Daten und Informationen sind nicht gestattet. Wir weisen darauf hin, dass rechtsverbindliche Erklaerungen namens unseres Hauses grundsaetzlich der Unterschriften zweier ausreichend bevollmaechtigter Vertreter unseres Hauses beduerfen. Wir verschicken daher keine rechtsverbindlichen Erklaerungen per E-Mail an Dritte. Demgemaess nehmen wir per E-Mail auch keine rechtsverbindlichen Erklaerungen oder Auftraege von Dritten entgegen. 
Sollten Sie Schwierigkeiten beim Oeffnen dieser E-Mail haben, wenden Sie sich bitte an den Absender oder an info at berenberg.de. Please refer to http://www.berenberg.de/my_berenberg/disclaimer_e.html for our confidentiality notice.


	[[alternative HTML version deleted]]



From m@rco@fm@i@ @ending from hotm@il@com  Wed Apr 11 17:31:34 2018
From: m@rco@fm@i@ @ending from hotm@il@com (Marcos Fiorini)
Date: Wed, 11 Apr 2018 15:31:34 +0000
Subject: [R] Information about compatibility R
Message-ID: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>

Hi everyone.

I need an information about compatibility of R and Suse Linux. I have installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if it?s compatible the upgrade for the new version 3.4.4 in my Suse release? This information?s about version R and linux version have in site or other place?



Thanks.



Marcos Fiorini

	[[alternative HTML version deleted]]



From @lk@uffm @ending from f@@tm@il@fm  Wed Apr 11 19:13:56 2018
From: @lk@uffm @ending from f@@tm@il@fm (Albrecht Kauffmann)
Date: Wed, 11 Apr 2018 19:13:56 +0200
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <1523466836.477023.1334600448.369AB639@webmail.messagingengine.com>

Dear Marcos,

The current Version of opensuse Linux is Leap 42.3 (when I'm still right). Probably you should upgrade your Linux system before installing one of the most recent versions of R.

Best
Albrecht

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mi, 11. Apr 2018, um 17:31, schrieb Marcos Fiorini:
> Hi everyone.
> 
> I need an information about compatibility of R and Suse Linux. I have 
> installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if its 
> compatible the upgrade for the new version 3.4.4 in my Suse release? 
> This informations about version R and linux version have in site or 
> other place?
> 
> 
> 
> Thanks.
> 
> 
> 
> Marcos Fiorini
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From henrik@bengt@@on @ending from gm@il@com  Wed Apr 11 22:04:14 2018
From: henrik@bengt@@on @ending from gm@il@com (Henrik Bengtsson)
Date: Wed, 11 Apr 2018 13:04:14 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <CAFDcVCTRvVUcTFMDhMpNY59qQ6HgohyPTWbMCDeA_KB3EAcybQ@mail.gmail.com>

Hi,

your question is nearly impossible to answer without actual testing of
your existing pipelines.  But from my soon 20-year usage of R, it's
clear to me that the R Core Team strives to keep things backward
compatible as far as they can.  The NEWS file:

  https://cran.r-project.org/doc/manuals/r-devel/NEWS.html

contains useful information on what's been updated in each release -
you can inspect that one from your own perspective.  There are also
12,000 packages on CRAN that are tested on old-release, current
release, and developers version of R.  Many of these packages rarely
gets updated, which indicates that these package work across a large
number of R versions (and platforms).

FYI, R 3.5.0 is being released on April 23, 2018.  You should aim to
install that version.   Also, on Linux it's not too hard to install
multiple R versions in parallel when you install from source.  Then
you can go back and forth between version whenever you'd like.

/Henrik



On Wed, Apr 11, 2018 at 8:31 AM, Marcos Fiorini <marcosfmaia at hotmail.com> wrote:
> Hi everyone.
>
> I need an information about compatibility of R and Suse Linux. I have installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if it?s compatible the upgrade for the new version 3.4.4 in my Suse release? This information?s about version R and linux version have in site or other place?
>
>
>
> Thanks.
>
>
>
> Marcos Fiorini
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From m@rco@fm@i@ @ending from hotm@il@com  Wed Apr 11 21:15:27 2018
From: m@rco@fm@i@ @ending from hotm@il@com (Marcos Fiorini)
Date: Wed, 11 Apr 2018 19:15:27 +0000
Subject: [R] Information about compatibility R
Message-ID: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>

Hi Albrecht, thanks for your return.

I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 and not the openSUSE. Do you know if exist a compatibility list of R and Linux version? In the site
https://cran.r-project.org is informed only about the R version 3.4.4 for SLE12 but not about the previous versions. I can't upgrade for SLE12 and I would like know what is the last version that I can use of R in my SUSE version.

Best regards.

Marcos Fiorini


	[[alternative HTML version deleted]]



From henrik@bengt@@on @ending from gm@il@com  Wed Apr 11 22:26:25 2018
From: henrik@bengt@@on @ending from gm@il@com (Henrik Bengtsson)
Date: Wed, 11 Apr 2018 13:26:25 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>

I guess I misread your question. /Henrik

On Wed, Apr 11, 2018 at 12:15 PM, Marcos Fiorini
<marcosfmaia at hotmail.com> wrote:
> Hi Albrecht, thanks for your return.
>
> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 and not the openSUSE. Do you know if exist a compatibility list of R and Linux version? In the site
> https://cran.r-project.org is informed only about the R version 3.4.4 for SLE12 but not about the previous versions. I can't upgrade for SLE12 and I would like know what is the last version that I can use of R in my SUSE version.
>
> Best regards.
>
> Marcos Fiorini
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewmil @ending from dcn@d@vi@@c@@u@  Wed Apr 11 22:52:23 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Wed, 11 Apr 2018 13:52:23 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
 <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>
Message-ID: <FBFEA5FB-19C1-40CC-8DEA-B15B9C4B9D36@dcn.davis.ca.us>

The reason people like to pay companies for their commercial or "enterprise" operating system distributions is because the someone you pay can do all the legwork to confirm compatibility. You should be asking your commercial distro provider to render this service. If they deem it too far below their radar to help you with then you need to identify which open distro is similar enough to your commercial environment to piggyback OS packages from, or go to the source and start compiling and installing required supporting software, which may extend to installing the necessary compiler to build R. The version of Linux itself is unlikely to prevent this last option from working. 

On April 11, 2018 1:26:25 PM PDT, Henrik Bengtsson <henrik.bengtsson at gmail.com> wrote:
>I guess I misread your question. /Henrik
>
>On Wed, Apr 11, 2018 at 12:15 PM, Marcos Fiorini
><marcosfmaia at hotmail.com> wrote:
>> Hi Albrecht, thanks for your return.
>>
>> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL =
>4 and not the openSUSE. Do you know if exist a compatibility list of R
>and Linux version? In the site
>> https://cran.r-project.org is informed only about the R version 3.4.4
>for SLE12 but not about the previous versions. I can't upgrade for
>SLE12 and I would like know what is the last version that I can use of
>R in my SUSE version.
>>
>> Best regards.
>>
>> Marcos Fiorini
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @lk@uffm @ending from f@@tm@il@fm  Thu Apr 12 07:28:31 2018
From: @lk@uffm @ending from f@@tm@il@fm (Albrecht Kauffmann)
Date: Thu, 12 Apr 2018 07:28:31 +0200
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <1523510911.1119904.1335224256.02EAB68D@webmail.messagingengine.com>

Hi Marcos,

excuse me, please, Iam only familiar with opensuse.

Best regards,
Albrecht Kauffmann

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mi, 11. Apr 2018, um 21:15, schrieb Marcos Fiorini:
> Hi Albrecht, thanks for your return.
> 
> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 
> and not the openSUSE. Do you know if exist a compatibility list of R and 
> Linux version? In the site
> https://cran.r-project.org is informed only about the R version 3.4.4 
> for SLE12 but not about the previous versions. I can't upgrade for SLE12 
> and I would like know what is the last version that I can use of R in my 
> SUSE version.
> 
> Best regards.
> 
> Marcos Fiorini
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From reichm@nj @ending from @bcglob@l@net  Thu Apr 12 16:59:23 2018
From: reichm@nj @ending from @bcglob@l@net (JEFFERY REICHMAN)
Date: Thu, 12 Apr 2018 14:59:23 +0000 (UTC)
Subject: [R] Bivariate Normal Distribution Plots
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
Message-ID: <1219002294.2176901.1523545163538@mail.yahoo.com>

R-Help

I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...

# Standard deviations and correlation
sig_x <- 1
sig_y <- 1
rho_xy <- 0.0

# Covariance between X and Y
sig_xy <- rho_xy * sig_x *sig_y

# Covariance matrix
Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)

# Load the mvtnorm package
library("mvtnorm")

# Means
mu_x <- 0
mu_y <- 0

# Simulate 1000 observations
set.seed(12345)  # for reproducibility
xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy) 

# Have a look at the first observations
head(xy_vals)

# Create scatterplot
plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue", 
     main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")

# Add lines
abline(h = mu_y, v = mu_x)

Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?

Jeff Reichman



From S@Elli@on @ending from LGCGroup@com  Thu Apr 12 20:11:03 2018
From: S@Elli@on @ending from LGCGroup@com (S Ellison)
Date: Thu, 12 Apr 2018 18:11:03 +0000
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <445caba160544f748d3bcb655a483964@GBDCVPEXC08.corp.lgc-group.com>



> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of JEFFERY REICHMAN


> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
> 
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
> 
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
> ...
> Problem is this results in sigma(x) = sigma(y), rho=0 ...
> What I have created creates a circle.  
Er, yes ... that is what you asked for.

Have you tried rho_xy=0.7 or similar in the code above?


*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From rmh @ending from temple@edu  Thu Apr 12 20:24:04 2018
From: rmh @ending from temple@edu (Richard M. Heiberger)
Date: Thu, 12 Apr 2018 14:24:04 -0400
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <CAGx1TMDPKbAWaGnSL5L-xELc5mHFu0b7+GWSAshbJjkYfwiFAg@mail.gmail.com>

Please look at my book
Statistical Analysis and Data Display
https://www.springer.com/us/book/9781493921218

Figures 3.8, 3.9, 3.10

The code for these figures is available in the HH package

install.packages("HH")
library(HH)
HHscriptnames(3) ## this gives the filename on your computer containing the code
## open the file in your preferred editor and run chunks 15 and 16


On Thu, Apr 12, 2018 at 10:59 AM, JEFFERY REICHMAN
<reichmanj at sbcglobal.net> wrote:
> R-Help
>
> I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...
>
> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
>
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
>
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
>
> # Load the mvtnorm package
> library("mvtnorm")
>
> # Means
> mu_x <- 0
> mu_y <- 0
>
> # Simulate 1000 observations
> set.seed(12345)  # for reproducibility
> xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)
>
> # Have a look at the first observations
> head(xy_vals)
>
> # Create scatterplot
> plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
>      main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")
>
> # Add lines
> abline(h = mu_y, v = mu_x)
>
> Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?
>
> Jeff Reichman
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From peter@l@ngfelder @ending from gm@il@com  Thu Apr 12 20:32:59 2018
From: peter@l@ngfelder @ending from gm@il@com (Peter Langfelder)
Date: Thu, 12 Apr 2018 11:32:59 -0700
Subject: [R] WGCNA package installation segmentation fault
Message-ID: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>

Hi all,

a user contacted me about a segfault when installing WGCNA package
dowloaded from CRAN. I also see a segfault like that on certain
installs of R.

The package passes all CRAN checks, so presumably this has something
to do with the R installation or environment. The R versions here are
not the newest but I would guess that this is not an R version issue.

I'm attaching two sessionInfo() outputs on systems where the
installation throws a segfault.

Any pointers/ideas as to what could be going wrong?

Thanks,

Peter

##################################################################

System 1:

trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.63.tar.gz'
Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
==================================================
downloaded 1.1 MB

* installing *source* package ?WGCNA? ...
** package ?WGCNA? successfully unpacked and MD5 sums checked
** libs
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
corFunctions-utils.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
corFunctions.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
myMatrixMultiplication.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
networkFunctions.o
g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
parallelQuantile.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
corFunctions.o myMatrixMultiplication.o networkFunctions.o
parallelQuantile.o pivot.o -lpthread
installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
** R
** data
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
==========================================================================
*
*  Package WGCNA 1.63 loaded.
*
*    Important note: It appears that your system supports multi-threading,
*    but it is not enabled within WGCNA in R.
*    To allow multi-threading within WGCNA with all available cores, use
*
*          allowWGCNAThreads()
*
*    within R. Use disableWGCNAThreads() to disable threading if necessary.
*    Alternatively, set the following environment variable on your system:
*
*          ALLOW_WGCNA_THREADS=<number_of_processors>
*
*    for example
*
*          ALLOW_WGCNA_THREADS=32
*
*    To set the environment variable in linux bash shell, type
*
*           export ALLOW_WGCNA_THREADS=32
*
*     before running R. Other operating systems or shells will
*     have a similar command to achieve the same aim.
*
==========================================================================



 *** caught segfault ***
address (nil), cause 'memory not mapped'
An irrecoverable exception occurred. R is aborting now ...
Segmentation fault
ERROR: loading failed
* removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?

 *** caught segfault ***
address (nil), cause 'memory not mapped'

Traceback:
 1: q("no", status = status, runLast = FALSE)
 2: do_exit(status = status)
 3: do_exit_on_error()
 4: errmsg("loading failed")
 5: do_install_source(pkg_name, instdir, pkg, desc)
 6: do_install(pkg)
 7: tools:::.install_packages()
An irrecoverable exception occurred. R is aborting now ...
Segmentation fault

The downloaded source packages are in
    ?/tmp/RtmpQ3mLx7/downloaded_packages?
Updating HTML index of packages in '.Library'
Making 'packages.html' ... done
Warning message:
In install.packages("WGCNA") :
  installation of package ?WGCNA? had non-zero exit status



> sessionInfo()
R version 3.4.2 (2017-09-28)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Debian GNU/Linux 9 (stretch)

Matrix products: default
BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_3.4.2



##################################################################

System 2:

* installing *source* package ?WGCNA? ...
** package ?WGCNA? successfully unpacked and MD5 sums checked
** libs
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
corFunctions-utils.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
myMatrixMultiplication.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
networkFunctions.o
/u/local/compilers/gcc/4.9.3/bin/g++
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
parallelQuantile.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
/u/local/compilers/gcc/4.9.3/bin/g++ -shared
-L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
-L/u/local/compilers/gcc/4.9.3/lib
-L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
-L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
-L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
networkFunctions.o parallelQuantile.o pivot.o -lpthread
-L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
-lstdc++
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
-lstdc++
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
-lgcc_s
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
-lgcc_s
installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA/libs
** R
** data
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
sh: line 1:  9127 Segmentation fault
'/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
--slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'

 *** caught segfault ***
address (nil), cause 'unknown'
An irrecoverable exception occurred. R is aborting now ...
ERROR: loading failed
* removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
* restoring previous
?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?

The downloaded source packages are in
    ?/work/tmp/RtmpiAyLef/downloaded_packages?
Warning message:
In install.packages("WGCNA") :
  installation of package ?WGCNA? had non-zero exit status
> sessionInfo()
R version 3.3.3 (2017-03-06)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: CentOS release 6.9 (Final)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.3.3



From wdunl@p @ending from tibco@com  Thu Apr 12 21:38:33 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Thu, 12 Apr 2018 12:38:33 -0700
Subject: [R] WGCNA package installation segmentation fault
In-Reply-To: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>
References: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>
Message-ID: <CAF8bMcaxtyDtSc4dxa-bJpDpO2a_1qWwVoD7Xcg-YKr5Tr9-zA@mail.gmail.com>

 I get the seg-fault on exiting R after loading WGCNA into R-3.4.3 on
Linux.  Valdgrind
shows the problem occurs when tearing down an Rstreambuf object:

% R --debugger valgrind --vanilla --quiet
==30889== Memcheck, a memory error detector
==30889== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==30889== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info
==30889== Command: /home/R/R-3.4.3/lib64/R/bin/exec/R --vanilla --quiet
==30889==
> library(WGCNA)
Loading required package: dynamicTreeCut
Loading required package: fastcluster

Attaching package: ?fastcluster?

The following object is masked from ?package:stats?:

    hclust


==========================================================================
*
*  Package WGCNA 1.63 loaded.
*
*    Important note: It appears that your system supports multi-threading,
*    but it is not enabled within WGCNA in R.
*    To allow multi-threading within WGCNA with all available cores, use
*
*          allowWGCNAThreads()
*
*    within R. Use disableWGCNAThreads() to disable threading if necessary.
*    Alternatively, set the following environment variable on your system:
*
*          ALLOW_WGCNA_THREADS=<number_of_processors>
*
*    for example
*
*          ALLOW_WGCNA_THREADS=12
*
*    To set the environment variable in linux bash shell, type
*
*           export ALLOW_WGCNA_THREADS=12
*
*     before running R. Other operating systems or shells will
*     have a similar command to achieve the same aim.
*
==========================================================================



Attaching package: ?WGCNA?

The following object is masked from ?package:stats?:

    cor

> sessionInfo()
R version 3.4.3 (2017-11-30)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: CentOS Linux 7 (Core)

Matrix products: default
BLAS: /usr/lib64/libblas.so.3.4.2
LAPACK: /home/R/R-3.4.3/lib64/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] WGCNA_1.63            fastcluster_1.1.24    dynamicTreeCut_1.63-1

loaded via a namespace (and not attached):
 [1] robust_0.4-18         Rcpp_0.12.16          mvtnorm_1.0-7
 [4] lattice_0.20-35       GO.db_3.4.1           digest_0.6.15
 [7] foreach_1.4.4         plyr_1.8.4            backports_1.1.2
[10] acepack_1.4.1         pcaPP_1.9-73          stats4_3.4.3
[13] RSQLite_2.1.0         ggplot2_2.2.1         pillar_1.2.1
[16] rlang_0.2.0           lazyeval_0.2.1        rstudioapi_0.7
[19] data.table_1.10.4-3   blob_1.1.1            S4Vectors_0.16.0
[22] rpart_4.1-13          Matrix_1.2-13         checkmate_1.8.5
[25] preprocessCore_1.40.0 splines_3.4.3         stringr_1.3.0
[28] foreign_0.8-69        htmlwidgets_1.0       bit_1.1-12
[31] munsell_0.4.3         compiler_3.4.3        pkgconfig_2.0.1
[34] BiocGenerics_0.24.0   base64enc_0.1-3       htmltools_0.3.6
[37] nnet_7.3-12           tibble_1.4.2          gridExtra_2.3
[40] htmlTable_1.11.2      Hmisc_4.1-1           IRanges_2.12.0
[43] codetools_0.2-15      matrixStats_0.53.1    rrcov_1.4-3
[46] MASS_7.3-49           grid_3.4.3            gtable_0.2.0
[49] DBI_0.8               magrittr_1.5          scales_0.5.0
[52] stringi_1.1.7         impute_1.52.0         doParallel_1.0.11
[55] latticeExtra_0.6-28   robustbase_0.92-8     Formula_1.2-2
[58] RColorBrewer_1.1-2    iterators_1.0.9       tools_3.4.3
[61] bit64_0.9-7           Biobase_2.38.0        DEoptimR_1.0-8
[64] fit.models_0.5-14     parallel_3.4.3        survival_2.41-3
[67] AnnotationDbi_1.40.0  colorspace_1.3-2      cluster_2.0.7
[70] memoise_1.1.0         knitr_1.20
> q("no")
==30889== Invalid read of size 4
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E462: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E462: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E462: Rcpp::Rostream<false>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7D108: do_quit (main.c:1330)
==30889==    by 0x4F45B1E: bcEval (eval.c:6473)
==30889==    by 0x4F5450F: Rf_eval (eval.c:624)
==30889==    by 0x4F5657E: R_execClosure (eval.c:1614)
==30889==    by 0x4F546CB: Rf_eval (eval.c:747)
==30889==    by 0x4F7D921: Rf_ReplIteration (main.c:258)
==30889==    by 0x4F7DCF0: R_ReplConsole (main.c:308)
==30889==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==30889==

 *** caught segfault ***
address (nil), cause 'memory not mapped'

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 3
==30889== Invalid read of size 4
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E4D2: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E4D2: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E4D2: Rcpp::Rostream<true>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7B9E8: sigactionSegv (main.c:616)
==30889==    by 0x589E5DF: ??? (in /usr/lib64/libpthread-2.17.so)
==30889==    by 0x9A22CB2: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==30889==
==30889==
==30889== Process terminating with default action of signal 11 (SIGSEGV)
==30889==  Access not within mapped region at address 0x0
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E4D2: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E4D2: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E4D2: Rcpp::Rostream<true>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7B9E8: sigactionSegv (main.c:616)
==30889==    by 0x589E5DF: ??? (in /usr/lib64/libpthread-2.17.so)
==30889==    by 0x9A22CB2: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==  If you believe this happened as a result of a stack
==30889==  overflow in your program's main thread (unlikely but
==30889==  possible), you can try to increase the size of the
==30889==  main thread stack using the --main-stacksize= flag.
==30889==  The main thread stack size used in this run was 8388608.
==30889==
==30889== HEAP SUMMARY:
==30889==     in use at exit: 214,366,643 bytes in 111,859 blocks
==30889==   total heap usage: 294,107 allocs, 182,248 frees, 507,439,997
bytes allocated
==30889==
==30889== LEAK SUMMARY:
==30889==    definitely lost: 0 bytes in 0 blocks
==30889==    indirectly lost: 0 bytes in 0 blocks
==30889==      possibly lost: 0 bytes in 0 blocks
==30889==    still reachable: 214,366,643 bytes in 111,859 blocks
==30889==                       of which reachable via heuristic:
==30889==                         length64           : 456,280 bytes in 769
blocks
==30889==         suppressed: 0 bytes in 0 blocks
==30889== Rerun with --leak-check=full to see details of leaked memory
==30889==
==30889== For counts of detected and suppressed errors, rerun with: -v
==30889== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
Segmentation fault (core dumped)


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Thu, Apr 12, 2018 at 11:32 AM, Peter Langfelder <
peter.langfelder at gmail.com> wrote:

> Hi all,
>
> a user contacted me about a segfault when installing WGCNA package
> dowloaded from CRAN. I also see a segfault like that on certain
> installs of R.
>
> The package passes all CRAN checks, so presumably this has something
> to do with the R installation or environment. The R versions here are
> not the newest but I would guess that this is not an R version issue.
>
> I'm attaching two sessionInfo() outputs on systems where the
> installation throws a segfault.
>
> Any pointers/ideas as to what could be going wrong?
>
> Thanks,
>
> Peter
>
> ##################################################################
>
> System 1:
>
> trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.
> 63.tar.gz'
> Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
> ==================================================
> downloaded 1.1 MB
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
> corFunctions-utils.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
> corFunctions.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
> networkFunctions.o
> g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
> parallelQuantile.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
> g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
> corFunctions.o myMatrixMultiplication.o networkFunctions.o
> parallelQuantile.o pivot.o -lpthread
> installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> ==========================================================================
> *
> *  Package WGCNA 1.63 loaded.
> *
> *    Important note: It appears that your system supports multi-threading,
> *    but it is not enabled within WGCNA in R.
> *    To allow multi-threading within WGCNA with all available cores, use
> *
> *          allowWGCNAThreads()
> *
> *    within R. Use disableWGCNAThreads() to disable threading if necessary.
> *    Alternatively, set the following environment variable on your system:
> *
> *          ALLOW_WGCNA_THREADS=<number_of_processors>
> *
> *    for example
> *
> *          ALLOW_WGCNA_THREADS=32
> *
> *    To set the environment variable in linux bash shell, type
> *
> *           export ALLOW_WGCNA_THREADS=32
> *
> *     before running R. Other operating systems or shells will
> *     have a similar command to achieve the same aim.
> *
> ==========================================================================
>
>
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
> ERROR: loading failed
> * removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
>
> Traceback:
>  1: q("no", status = status, runLast = FALSE)
>  2: do_exit(status = status)
>  3: do_exit_on_error()
>  4: errmsg("loading failed")
>  5: do_install_source(pkg_name, instdir, pkg, desc)
>  6: do_install(pkg)
>  7: tools:::.install_packages()
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
>
> The downloaded source packages are in
>     ?/tmp/RtmpQ3mLx7/downloaded_packages?
> Updating HTML index of packages in '.Library'
> Making 'packages.html' ... done
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
>
>
>
> > sessionInfo()
> R version 3.4.2 (2017-09-28)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Debian GNU/Linux 9 (stretch)
>
> Matrix products: default
> BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
> LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.4.2
>
>
>
> ##################################################################
>
> System 2:
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
> corFunctions-utils.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
> networkFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/g++
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
> parallelQuantile.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
> /u/local/compilers/gcc/4.9.3/bin/g++ -shared
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
> -L/u/local/compilers/gcc/4.9.3/lib
> -L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
> -L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
> -L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
> WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
> networkFunctions.o parallelQuantile.o pivot.o -lpthread
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> sh: line 1:  9127 Segmentation fault
> '/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
> --slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'
>
>  *** caught segfault ***
> address (nil), cause 'unknown'
> An irrecoverable exception occurred. R is aborting now ...
> ERROR: loading failed
> * removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
> * restoring previous
> ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
>
> The downloaded source packages are in
>     ?/work/tmp/RtmpiAyLef/downloaded_packages?
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
> > sessionInfo()
> R version 3.3.3 (2017-03-06)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: CentOS release 6.9 (Final)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.3.3
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
>



Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Thu, Apr 12, 2018 at 11:32 AM, Peter Langfelder <
peter.langfelder at gmail.com> wrote:

> Hi all,
>
> a user contacted me about a segfault when installing WGCNA package
> dowloaded from CRAN. I also see a segfault like that on certain
> installs of R.
>
> The package passes all CRAN checks, so presumably this has something
> to do with the R installation or environment. The R versions here are
> not the newest but I would guess that this is not an R version issue.
>
> I'm attaching two sessionInfo() outputs on systems where the
> installation throws a segfault.
>
> Any pointers/ideas as to what could be going wrong?
>
> Thanks,
>
> Peter
>
> ##################################################################
>
> System 1:
>
> trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.
> 63.tar.gz'
> Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
> ==================================================
> downloaded 1.1 MB
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
> corFunctions-utils.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
> corFunctions.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
> networkFunctions.o
> g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
> parallelQuantile.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
> g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
> corFunctions.o myMatrixMultiplication.o networkFunctions.o
> parallelQuantile.o pivot.o -lpthread
> installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> ==========================================================================
> *
> *  Package WGCNA 1.63 loaded.
> *
> *    Important note: It appears that your system supports multi-threading,
> *    but it is not enabled within WGCNA in R.
> *    To allow multi-threading within WGCNA with all available cores, use
> *
> *          allowWGCNAThreads()
> *
> *    within R. Use disableWGCNAThreads() to disable threading if necessary.
> *    Alternatively, set the following environment variable on your system:
> *
> *          ALLOW_WGCNA_THREADS=<number_of_processors>
> *
> *    for example
> *
> *          ALLOW_WGCNA_THREADS=32
> *
> *    To set the environment variable in linux bash shell, type
> *
> *           export ALLOW_WGCNA_THREADS=32
> *
> *     before running R. Other operating systems or shells will
> *     have a similar command to achieve the same aim.
> *
> ==========================================================================
>
>
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
> ERROR: loading failed
> * removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
>
> Traceback:
>  1: q("no", status = status, runLast = FALSE)
>  2: do_exit(status = status)
>  3: do_exit_on_error()
>  4: errmsg("loading failed")
>  5: do_install_source(pkg_name, instdir, pkg, desc)
>  6: do_install(pkg)
>  7: tools:::.install_packages()
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
>
> The downloaded source packages are in
>     ?/tmp/RtmpQ3mLx7/downloaded_packages?
> Updating HTML index of packages in '.Library'
> Making 'packages.html' ... done
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
>
>
>
> > sessionInfo()
> R version 3.4.2 (2017-09-28)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Debian GNU/Linux 9 (stretch)
>
> Matrix products: default
> BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
> LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.4.2
>
>
>
> ##################################################################
>
> System 2:
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
> corFunctions-utils.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
> networkFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/g++
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
> parallelQuantile.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
> /u/local/compilers/gcc/4.9.3/bin/g++ -shared
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
> -L/u/local/compilers/gcc/4.9.3/lib
> -L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
> -L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
> -L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
> WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
> networkFunctions.o parallelQuantile.o pivot.o -lpthread
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> sh: line 1:  9127 Segmentation fault
> '/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
> --slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'
>
>  *** caught segfault ***
> address (nil), cause 'unknown'
> An irrecoverable exception occurred. R is aborting now ...
> ERROR: loading failed
> * removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
> * restoring previous
> ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
>
> The downloaded source packages are in
>     ?/work/tmp/RtmpiAyLef/downloaded_packages?
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
> > sessionInfo()
> R version 3.3.3 (2017-03-06)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: CentOS release 6.9 (Final)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.3.3
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From Hj@m@_96 @ending from hotm@il@com  Thu Apr 12 22:36:12 2018
From: Hj@m@_96 @ending from hotm@il@com (hudeyfa jama)
Date: Thu, 12 Apr 2018 20:36:12 +0000
Subject: [R] ODE
Message-ID: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>

Hello All,


I'm struggling to solve this ODE using R,


vdpol <- function (h, v, t) (
          list(c (
            -0.1*v/(pi*(2*10*h-h^2)),
              (v = (-0.1*v/(pi*(2*10*h-h^2))^2) + 2*9.81*h))

                  ))
          library(deSolve)
          yini <- (c(h = 20, v=0))
          nonstiff <- ode(y = yini, func = vdpol,
                          times= seq(0, 30, by = 0.01),
                                     parms = 1)

It says that


 The number of derivatives returned by func() (4) must equal the length of the initial conditions vector (2)


I'm not sure how when i only have two derivates in the equation. I have little to no knowledge of R and I'm following guidance of the internet so any help is appreciated.


Kind Regards,


H



	[[alternative HTML version deleted]]



From d@r@h@np@ndy@ @ending from gm@il@com  Thu Apr 12 23:26:33 2018
From: d@r@h@np@ndy@ @ending from gm@il@com (Darshan Pandya)
Date: Thu, 12 Apr 2018 16:26:33 -0500
Subject: [R] R Timeseries tsoutliers:tso
Message-ID: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>

Hello,

Writing to seek help in regard to some unexpected performance anomaly i am
observing in using tsoutlers:tso on the mac vs on an AWS cloud server..


I am running the following code with very small dataset of about 208
records.

d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")

selectedCols <- c("observation","dummy_date")
inputData <- d.input[,selectedCols]
outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
Shifts","Innovation Outlier","Temporary Change")
tsFrequency <- 52
params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)

tsFrequency = params$tsFrequency
outTypes <- unlist(params$outlier.types)
ts.var <- ts(inputData[,1], frequency = tsFrequency)
ts_outlier <- tso(ts.var, types =
?outlier.types ?
, maxit = 1)

?

This piece of code runs in about 60 seconds on my laptop but take about
upward of 13 mins on a decent AWS node with nothing else running on it.

Any hints as to why this is happening is greatly appreciated.
Thank you for your help.
?

-- 
Sincerely,
Darshan

	[[alternative HTML version deleted]]



From m@rn@@w@gley @ending from gm@il@com  Fri Apr 13 01:47:03 2018
From: m@rn@@w@gley @ending from gm@il@com (Marna Wagley)
Date: Thu, 12 Apr 2018 16:47:03 -0700
Subject: [R] repeating functions for different folders?
Message-ID: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>

Hi R users,
I need to run a analysis using a data for each folder. I do have several
folders. Each folder contains several files but these files name are
similar to the files that is saved into  another folders.  I need to repeat
the analysis for every folder and would like to save the output in that
particular folder.  After completing the analysis in one folder, I want to
move another folder. Basically I was doing manually (repeating the analysis
each and every folder manually). Is there any way to make a loop so that I
can run the analysis for different folders? Is there any example code?

Thanks for your help.
MW

	[[alternative HTML version deleted]]



From drjimlemon @ending from gm@il@com  Fri Apr 13 02:10:39 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Fri, 13 Apr 2018 10:10:39 +1000
Subject: [R] repeating functions for different folders?
In-Reply-To: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
References: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
Message-ID: <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>

Hi Marna,
Assuming that you are descending into different subdirectories from
the same directory:

directories<-c("dir1","dir2","dir3")
for(directory in directories) {
 setwd(directory)
 # do whatever you want to do
 # then return to the directory above
 setwd("..")
}

This will allow you to start and finish in the same directory.

Jim


On Fri, Apr 13, 2018 at 9:47 AM, Marna Wagley <marna.wagley at gmail.com> wrote:
> Hi R users,
> I need to run a analysis using a data for each folder. I do have several
> folders. Each folder contains several files but these files name are
> similar to the files that is saved into  another folders.  I need to repeat
> the analysis for every folder and would like to save the output in that
> particular folder.  After completing the analysis in one folder, I want to
> move another folder. Basically I was doing manually (repeating the analysis
> each and every folder manually). Is there any way to make a loop so that I
> can run the analysis for different folders? Is there any example code?
>
> Thanks for your help.
> MW
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From dwin@emiu@ @ending from comc@@t@net  Fri Apr 13 02:56:40 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Thu, 12 Apr 2018 17:56:40 -0700
Subject: [R] ODE
In-Reply-To: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>
References: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>
Message-ID: <A9577841-5B7A-402E-BEEF-7F396910F98E@comcast.net>

You cross-posted this to StackOverflow (where there is already a response.) Cross-posting is viewed with scorn on both StackOverflow and Rhelp.


> On Apr 12, 2018, at 1:36 PM, hudeyfa jama <Hjama_96 at hotmail.com> wrote:
> 
> Hello All,
> 
> 
> I'm struggling to solve this ODE using R,
> 
> 
> vdpol <- function (h, v, t) (
>          list(c (
>            -0.1*v/(pi*(2*10*h-h^2)),
>              (v = (-0.1*v/(pi*(2*10*h-h^2))^2) + 2*9.81*h))
> 
>                  ))
>          library(deSolve)
>          yini <- (c(h = 20, v=0))
>          nonstiff <- ode(y = yini, func = vdpol,
>                          times= seq(0, 30, by = 0.01),
>                                     parms = 1)
> 
> It says that
> 
> 
> The number of derivatives returned by func() (4) must equal the length of the initial conditions vector (2)
> 

> 	[[alternative HTML version deleted]]

Rhelp is very "old-school". We use plain-text. Do read the information in the links:

> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From ruipb@rr@d@@ @ending from @@po@pt  Fri Apr 13 07:11:22 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Fri, 13 Apr 2018 06:11:22 +0100
Subject: [R] repeating functions for different folders?
In-Reply-To: <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>
References: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
 <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>
Message-ID: <cf2f56dd-80b4-057b-10ed-a8f125341677@sapo.pt>

Hello,

Inline.

On 4/13/2018 1:10 AM, Jim Lemon wrote:
> Hi Marna,
> Assuming that you are descending into different subdirectories from
> the same directory:

Maybe this assumption is not needed.
Since setwd returns the current directory, it is safer to assign that 
value to a variable and in the end use it reset the original state.

> 
> directories<-c("dir1","dir2","dir3")
> for(directory in directories) {
>   setwd(directory)
>   # do whatever you want to do
>   # then return to the directory above
>   setwd("..")
> }

Using your code,

directories<-c("dir1","dir2","dir3")
for(directory in directories) {
    old_dir <- setwd(directory)
    # do whatever you want to do
    # then return to the original directory
    setwd(old_dir)
}


Hope this helps,

Rui Barradas

> 
> This will allow you to start and finish in the same directory.
> 
> Jim
> 
> 
> On Fri, Apr 13, 2018 at 9:47 AM, Marna Wagley <marna.wagley at gmail.com> wrote:
>> Hi R users,
>> I need to run a analysis using a data for each folder. I do have several
>> folders. Each folder contains several files but these files name are
>> similar to the files that is saved into  another folders.  I need to repeat
>> the analysis for every folder and would like to save the output in that
>> particular folder.  After completing the analysis in one folder, I want to
>> move another folder. Basically I was doing manually (repeating the analysis
>> each and every folder manually). Is there any way to make a loop so that I
>> can run the analysis for different folders? Is there any example code?
>>
>> Thanks for your help.
>> MW
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From d@r@h@np@ndy@ @ending from gm@il@com  Fri Apr 13 17:33:00 2018
From: d@r@h@np@ndy@ @ending from gm@il@com (Darshan Pandya)
Date: Fri, 13 Apr 2018 10:33:00 -0500
Subject: [R] Fwd: R Timeseries tsoutliers:tso
In-Reply-To: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
References: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
Message-ID: <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>

Hello,

Writing to seek help in regard to some unexpected performance anomaly i am
observing in using tsoutlers:tso on the mac vs on an AWS cloud server..


I am running the following code with very small dataset of about 208
records.

d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")

selectedCols <- c("observation","dummy_date")
inputData <- d.input[,selectedCols]
outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
Shifts","Innovation Outlier","Temporary Change")
tsFrequency <- 52
params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)

tsFrequency = params$tsFrequency
outTypes <- unlist(params$outlier.types)
ts.var <- ts(inputData[,1], frequency = tsFrequency)
ts_outlier <- tso(ts.var, types =
?outlier.types ?
, maxit = 1)

?

This piece of code runs in about 60 seconds on my laptop but take about
upward of 13 mins on a decent AWS node with nothing else running on it.

Any hints as to why this is happening is greatly appreciated.
Thank you for your help.





-- 
Sincerely,
Darshan

	[[alternative HTML version deleted]]



From wdunl@p @ending from tibco@com  Fri Apr 13 18:28:47 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Fri, 13 Apr 2018 09:28:47 -0700
Subject: [R] Fwd: R Timeseries tsoutliers:tso
In-Reply-To: <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>
References: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
 <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>
Message-ID: <CAF8bMcZr2JLd70e-GdKuKB0En_jTSkhudCNUQ4tYtTJfmKGq4w@mail.gmail.com>

You can record the time to evaluate each line by wrapping each line in a
call to system.time().  E.g.,

expressions <- quote({
    # paste your commands here, or put them into a file and use exprs <-
parse("thatFile")
    d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
  # ... the rest of your lines
})
expressions <- as.list(expressions)[-1]

timedExpressions <- lapply(expressions,
function(expr)bquote(system.time(.(expr))))

source(exprs=timedExpressions, echo=TRUE)

See which line (or lines) show big time differences on the two platforms.


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Fri, Apr 13, 2018 at 8:33 AM, Darshan Pandya <darshanpandya at gmail.com>
wrote:

> Hello,
>
> Writing to seek help in regard to some unexpected performance anomaly i am
> observing in using tsoutlers:tso on the mac vs on an AWS cloud server..
>
>
> I am running the following code with very small dataset of about 208
> records.
>
> d.dir <- '/Users/darshanpandya/xxxxxx'
> FNAME <- 'my_data.csv'
>
> d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
> .Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
> = TRUE) %>% as.data.frame
> d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")
>
> selectedCols <- c("observation","dummy_date")
> inputData <- d.input[,selectedCols]
> outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
> Shifts","Innovation Outlier","Temporary Change")
> tsFrequency <- 52
> params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)
>
> tsFrequency = params$tsFrequency
> outTypes <- unlist(params$outlier.types)
> ts.var <- ts(inputData[,1], frequency = tsFrequency)
> ts_outlier <- tso(ts.var, types =
> ?outlier.types ?
> , maxit = 1)
>
> ?
>
> This piece of code runs in about 60 seconds on my laptop but take about
> upward of 13 mins on a decent AWS node with nothing else running on it.
>
> Any hints as to why this is happening is greatly appreciated.
> Thank you for your help.
>
>
>
>
>
> --
> Sincerely,
> Darshan
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From nichol@@@wr@y @ending from ntlworld@com  Fri Apr 13 19:01:56 2018
From: nichol@@@wr@y @ending from ntlworld@com (WRAY NICHOLAS)
Date: Fri, 13 Apr 2018 18:01:56 +0100 (BST)
Subject: [R] Reading xpt files into R
Message-ID: <1907640263.304232.1523638916808@mail2.virginmedia.com>

Hello R folk

I have an xpt file which I have been trying to open into R in R studio

On the net I found guidance which says that I need packages Hmisc and SASxport which I have successfully loaded.

I had also found some code which says that this would allow me to read the xpt file into R:

library(SASxport)
data(Alfalfa)
lookup.xport("test.xpt")
Alfalfa<-read.xport("test.xpt")

I have set the directory correctly as far as I am aware, but when I tried to run this code I got the following error messages:

> lookup.xport("test.xpt")
Error in lookup.xport.inner(file) : file not in SAS transfer format
> Alfalfa<-read.xport("test.xpt")
Error in read.xport("test.xpt") : 
The specified file does not start with a SAS xport file header!

I neither know what the file being not in SAS transfer format means, nor what not starting with an SAS xport file header means either...
If anyone can explain how I can read this xpt file into R I'd be v grateful

Thanks Nick Wray

	[[alternative HTML version deleted]]



From r@ndom @ending from yorku@c@  Fri Apr 13 13:54:42 2018
From: r@ndom @ending from yorku@c@ (Georges Monette)
Date: Fri, 13 Apr 2018 07:54:42 -0400
Subject: [R] Longitudinal and Multilevel Data in R and Stan: 5-day workshop
 May 28 to June 1, 2018
Message-ID: <a68796fd-9053-917c-53d8-7fd6ce4a71e3@yorku.ca>

Longitudinal and Multilevel Data in R and Stan
ICPSR short course: May 28 to June 1, 2018

May 28: Introduction to R by John Fox
May 29 to June 1: Longitudinal and Multilevel Data in R and Stan by Georges Monette

Sponsored and organized by ICPSR, University of Michigan and
held at York University in Toronto, Ontario

Course description:https://www.icpsr.umich.edu/icpsrweb/sumprog/courses/0226

Applications:https://www.icpsr.umich.edu/icpsrweb/content/sumprog/registration.html

For further information, contact Bryn Greer-Wootten at ISR, York University:bryngw at yorku.ca


	[[alternative HTML version deleted]]



From reichm@nj @ending from @bcglob@l@net  Fri Apr 13 23:40:22 2018
From: reichm@nj @ending from @bcglob@l@net (Jeff Reichman)
Date: Fri, 13 Apr 2018 16:40:22 -0500
Subject: [R] SparksR
Message-ID: <000001d3d370$073f6770$15be3650$@sbcglobal.net>

R-Help

 

I'm working in my first large database (53,098,492,383 records).  When I
select the db via something like

 

Library(SparkR)

mydata <- sql("SELECT * FROM <table name>")

 

is "mydata" a SparkDataFrame,  and do I work with SparkDataFrames like I
would regular df (per say); because I can't image I would ever create a 53
billion record df.  I'm starting to acquaint myself with e SparkR package,
but I get confuse because it appears df and SparkDtaFrame are use
interchangeable. Or maybe not.

 

Looking for a good intro to SparkDataFrame.

 

Jeff Reichman


	[[alternative HTML version deleted]]



From dwin@emiu@ @ending from comc@@t@net  Sat Apr 14 00:18:12 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Fri, 13 Apr 2018 15:18:12 -0700
Subject: [R] Reading xpt files into R
In-Reply-To: <1907640263.304232.1523638916808@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
Message-ID: <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>


> On Apr 13, 2018, at 10:01 AM, WRAY NICHOLAS via R-help <r-help at r-project.org> wrote:
> 
> Hello R folk
> 
> I have an xpt file which I have been trying to open into R in R studio
> 
> On the net I found guidance which says that I need packages Hmisc and SASxport which I have successfully loaded.
> 
> I had also found some code which says that this would allow me to read the xpt file into R:
> 
> library(SASxport)
> data(Alfalfa)
> lookup.xport("test.xpt")
> Alfalfa<-read.xport("test.xpt")
> 
> I have set the directory correctly as far as I am aware, but when I tried to run this code I got the following error messages:
> 
>> lookup.xport("test.xpt")
> Error in lookup.xport.inner(file) : file not in SAS transfer format
>> Alfalfa<-read.xport("test.xpt")
> Error in read.xport("test.xpt") : 
> The specified file does not start with a SAS xport file header!
> 
> I neither know what the file being not in SAS transfer format means, nor what not starting with an SAS xport file header means either...

The "export" or "transfer format from SA is supposed to make reading data less difficult and standardized. This is what a header from the version used by the NHANES releases (that's all one line):

HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  9.2     XP_PRO                          16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140  HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     DEMO    SASDATA 9.2     XP_PRO                          16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000       SEQN    Respondent sequence number                                      

You can look at the file with a text editor.

There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.

-- 
David.
> If anyone can explain how I can read this xpt file into R I'd be v grateful
> 
> Thanks Nick Wray
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From v@rin@@ch@ @ending from y@hoo@fr  Sat Apr 14 01:48:15 2018
From: v@rin@@ch@ @ending from y@hoo@fr (varin sacha)
Date: Fri, 13 Apr 2018 23:48:15 +0000 (UTC)
Subject: [R] cvTools for 2 models not working
References: <1784988942.603749.1523663295707.ref@mail.yahoo.com>
Message-ID: <1784988942.603749.1523663295707@mail.yahoo.com>

Dear R-experts,

I am trying to do cross-validation for different models using the cvTools package.

I can't get the CV for the "FastTau" and "hbrfit". I guess I have to write my own functions at least for hbrfit. What is going wrong with FastTau ?

Here below the reproducible example. It is a simple toy example (not my real dataset) with many warnings, what is important to me are the errors.

###CROSS-VALIDATION
######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages("devtools")? # library("devtools") # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 
# install.packages( "cvTools" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(hbrfit)
library(cvTools)


X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
Z <- c(34,32,12,23,54,12,13,54,52,32,39,19,32,12,11,10,9,8,45,34,23,26,29,6,35,47,21,29,26,25)

? reg1 <- lm( Y ~ X+Z )
? reg <- lmrob( Y ~ X + Z)
? Huber <- rlm( Y ~ X +Z)
? Tukey <- rlm( Y ~ X+Z, psi = psi.bisquare )
? L1 <- rq( Y ~ X + Z, tau = 0.5 )
? fast <- FastTau(model.matrix(~X+Z),Y)
HBR<-hbrfit(Y ~ X +Z)?


cvFit(lmrob,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)
?
cvFit(lm,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

cvFit(rlm,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

cvFit(rlm,formula=Y ~ X + Z, psi = psi.bisquare, cost=rtmspe, K=5, R=100)

cvFit(rq,formula=Y ~ X + Z, tau=0.5, cost=rtmspe, K=5, R=100)

cvFit(FastTau(model.matrix(~X+Z),Y),cost=rtmspe,K=5,R=100)


cvFit(hbrfit,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

######################



?



From r@turner @ending from @uckl@nd@@c@nz  Sat Apr 14 02:25:56 2018
From: r@turner @ending from @uckl@nd@@c@nz (Rolf Turner)
Date: Sat, 14 Apr 2018 12:25:56 +1200
Subject: [R] Extracting specified pages from a lattice ("trellis") object.
Message-ID: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>


Suppose that (e.g.) xyplot() returns an object "xxx" with (say) 3 pages.
I would like to extract/plot (print) just one of these pages, e.g.
page 2.

Here's a toy example:

x   <- rep(seq(0,1,length=11),12)
set.seed(42)
y   <- rnorm(3*44)
a   <- rep(letters[1:12],each=11)
dta <- data.frame(x=x,y=y,a=a)
xxx <- xyplot(y~x|a,data=dta,layout=c(2,2))

I would to extract from xxx and print page 2 (the page corresponding to
levels e, f, g and h).

Is there any (simple) way that I can do this?

I've mucked around with update.trellis() and [.trellis, but I cannot 
make head nor tail of the documentation.  The [.trellis method seems to 
work in some situations, but not in others, and since I cannot 
understand what it actually does, I cannot figure out why.

E.g. in my toy example "xxx[5:8]" seems to give me what I want, but in 
the context of my real application a similar construction does not work.

Thanks for any insight.

cheers,

Rolf Turner

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276



From j@ck@rne@t@d @ending from gm@il@com  Sat Apr 14 02:31:32 2018
From: j@ck@rne@t@d @ending from gm@il@com (Jack Arnestad)
Date: Fri, 13 Apr 2018 20:31:32 -0400
Subject: [R] Efficient way to subset rows in R for dataset with 10^7 columns
Message-ID: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>

I have a data.table with dimensions 100 by 10^7.

When I do

    trainIndex <-
      caret::createDataPartition(
        df$status,
        p = .9,
        list = FALSE,
        times = 1
      )
    outerTrain <- df[trainIndex]
    outerTest  <- df[-trainIndex]

Subsetting the rows of df takes over 20 minutes.

What is the best way to efficiently subset this?

Thanks!

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Sat Apr 14 03:08:27 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 Apr 2018 18:08:27 -0700
Subject: [R] 
 Efficient way to subset rows in R for dataset with 10^7 columns
In-Reply-To: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
References: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
Message-ID: <AB034994-77E3-4B6E-95A1-C959A5E934E1@dcn.davis.ca.us>

You have 10^7 columns? That process is bound to be slow.

On April 13, 2018 5:31:32 PM PDT, Jack Arnestad <jackarnestad at gmail.com> wrote:
>I have a data.table with dimensions 100 by 10^7.
>
>When I do
>
>    trainIndex <-
>      caret::createDataPartition(
>        df$status,
>        p = .9,
>        list = FALSE,
>        times = 1
>      )
>    outerTrain <- df[trainIndex]
>    outerTest  <- df[-trainIndex]
>
>Subsetting the rows of df takes over 20 minutes.
>
>What is the best way to efficiently subset this?
>
>Thanks!
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From m@rc_grt @ending from y@hoo@fr  Sat Apr 14 03:34:27 2018
From: m@rc_grt @ending from y@hoo@fr (Marc Girondot)
Date: Sat, 14 Apr 2018 03:34:27 +0200
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <7a36204a-3ab9-5a96-16d2-3a308e34ff90@yahoo.fr>

Try this code:

# Standard deviations and correlation
sig_x <- 1
sig_y <- 2
rho_xy <- 0.7

# Covariance between X and Y
sig_xy <- rho_xy * sig_x *sig_y

# Covariance matrix
Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, 
ncol = 2)

# Load the mvtnorm package
library("mvtnorm")

# Means
mu_x <- 0
mu_y <- 0

# Simulate 1000 observations
set.seed(12345)? # for reproducibility
xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)

# Have a look at the first observations
head(xy_vals)

# Create scatterplot
# plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
#????? main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")

library(graphics)

x <- xy_vals[, 1]
y <- xy_vals[, 2]

par(mar=c(4, 4, 2, 6)+0.4)

smoothScatter(x, y, asp=1,
 ????????????? main = paste("Bivariate normal: rho = ", rho_xy),
 ????????????? xlab = "x", ylab = "y")


# Add lines
abline(h = mu_y, v = mu_x)

library(fields)

n <- matrix(0, ncol=128, nrow=128)

xrange <- range(x)
yrange <- range(y)

for (i in 1:length(x)) {
 ? posx <- 1+floor(127*(x[i]-xrange[1])/(xrange[2]-xrange[1]))
 ? posy <- 1+floor(127*(y[i]-yrange[1])/(yrange[2]-yrange[1]))
 ? n[posx, posy] <- n[posx, posy]+1
}

image.plot( legend.only=TRUE,
 ??????????? zlim= c(0, max(n)), nlevel=128,
 ??????????? col=colorRampPalette(c("white", blues9))(128))


Hope it helps,

Marc

Le 12/04/2018 ? 16:59, JEFFERY REICHMAN a ?crit?:
> R-Help
>
> I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...
>
> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
>
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
>
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
>
> # Load the mvtnorm package
> library("mvtnorm")
>
> # Means
> mu_x <- 0
> mu_y <- 0
>
> # Simulate 1000 observations
> set.seed(12345)  # for reproducibility
> xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)
>
> # Have a look at the first observations
> head(xy_vals)
>
> # Create scatterplot
> plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
>       main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")
>
> # Add lines
> abline(h = mu_y, v = mu_x)
>
> Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?
>
> Jeff Reichman
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From jdnewmil @ending from dcn@d@vi@@c@@u@  Sat Apr 14 04:07:17 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 Apr 2018 19:07:17 -0700
Subject: [R] 
 Efficient way to subset rows in R for dataset with 10^7 columns
In-Reply-To: <CADbGCVg=vJeSYaeEt5y8rSz1DKv7Kp0igF5oH5iyH6OX53jXjQ@mail.gmail.com>
References: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
 <AB034994-77E3-4B6E-95A1-C959A5E934E1@dcn.davis.ca.us>
 <CADbGCVg=vJeSYaeEt5y8rSz1DKv7Kp0igF5oH5iyH6OX53jXjQ@mail.gmail.com>
Message-ID: <E6E5D0D3-94F2-4F15-BAD2-3A1458993780@dcn.davis.ca.us>

Oh, there are ways, but the constraining issue here is moving data (memory bandwidth), and data table is probably already the fastest mechanism for doing that. If you have a computer with four or more real cores you can try setting up a subset of the columns in each task and cbind the results afterward, but it will be hard to accomplish without making extra copies of the data. You are already probably already using virtual memory which is saved to and from hard disk storage as needed. 

Working in Spark with a distributed file system like Hadoop might solve some of these problems... but I haven't done real work with such tools.

On April 13, 2018 6:31:32 PM PDT, Jack Arnestad <jackarnestad at gmail.com> wrote:
>Yes unfortunately. The goal of the "outer" is to do feature selection
>before fitting it to a model.
>
>Is there a way it could be parallelized?
>
>Thanks!
>
>On Fri, Apr 13, 2018 at 9:08 PM, Jeff Newmiller
><jdnewmil at dcn.davis.ca.us>
>wrote:
>
>> You have 10^7 columns? That process is bound to be slow.
>>
>> On April 13, 2018 5:31:32 PM PDT, Jack Arnestad
><jackarnestad at gmail.com>
>> wrote:
>> >I have a data.table with dimensions 100 by 10^7.
>> >
>> >When I do
>> >
>> >    trainIndex <-
>> >      caret::createDataPartition(
>> >        df$status,
>> >        p = .9,
>> >        list = FALSE,
>> >        times = 1
>> >      )
>> >    outerTrain <- df[trainIndex]
>> >    outerTest  <- df[-trainIndex]
>> >
>> >Subsetting the rows of df takes over 20 minutes.
>> >
>> >What is the best way to efficiently subset this?
>> >
>> >Thanks!
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>

-- 
Sent from my phone. Please excuse my brevity.



From pd@lgd @ending from gm@il@com  Sat Apr 14 11:32:37 2018
From: pd@lgd @ending from gm@il@com (peter dalgaard)
Date: Sat, 14 Apr 2018 11:32:37 +0200
Subject: [R] Reading xpt files into R
In-Reply-To: <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
Message-ID: <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>

That's what he tried, but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.

So dig deeper and find out what the file really is (or was supposed to be). 

-pd

> On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
> There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From nichol@@@wr@y @ending from ntlworld@com  Sat Apr 14 21:18:46 2018
From: nichol@@@wr@y @ending from ntlworld@com (WRAY NICHOLAS)
Date: Sat, 14 Apr 2018 20:18:46 +0100 (BST)
Subject: [R] Fwd: Re:  Reading xpt files into R
In-Reply-To: <871433864.322092.1523733509154@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
Message-ID: <1943859169.322099.1523733526929@mail2.virginmedia.com>


-------- Original Message ----------
From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
To: peter dalgaard <pdalgd at gmail.com>
Date: 14 April 2018 at 20:18
Subject: Re: [R] Reading xpt files into R


Well yesterday I'd downloaded the "foreign" package and tried to open the xpt file using that:

library(foreign)
read.xport("test.xpt")

I got the following error and warning messages:

> read.xport("test.xpt")
Error in read.xport("test.xpt") : 
The specified file does not start with a SAS xport file header!
In addition: Warning message:
In readBin(file, what = character(0), n = 1, size = nchar(xport.file.header,  :
null terminator not found: breaking string at 10000 bytes

I can open the xpt using wordpad and there is a header but it seems to be just text.  I really don't know what constitutes an "
SAS xport file header"

Nick



On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:

That's what he tried, but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.

So dig deeper and find out what the file really is (or was supposed to be).

-pd

> 
>             On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
>             There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.
> 
>         
--
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com




 

	[[alternative HTML version deleted]]



From wdunl@p @ending from tibco@com  Sat Apr 14 22:09:31 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Sat, 14 Apr 2018 13:09:31 -0700
Subject: [R] Fwd: Re: Reading xpt files into R
In-Reply-To: <1943859169.322099.1523733526929@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
Message-ID: <CAF8bMcb3rZr9vSr4FgeWvU0MPpgDM+Wa6N5Sh3YbOCQMr=zn8Q@mail.gmail.com>

Does read.xport read both version 5 and version 8 xpt files?  This link to
the Library of Congress can get you started on how to interpret the
header.  (It states that Version 8 was introduced in 2012 but was not in
wide use as of early 2017.)

https://www.loc.gov/preservation/digital/formats/fdd/fdd000464.shtml

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Sat, Apr 14, 2018 at 12:18 PM, WRAY NICHOLAS via R-help <
r-help at r-project.org> wrote:

>
> -------- Original Message ----------
> From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> To: peter dalgaard <pdalgd at gmail.com>
> Date: 14 April 2018 at 20:18
> Subject: Re: [R] Reading xpt files into R
>
>
> Well yesterday I'd downloaded the "foreign" package and tried to open the
> xpt file using that:
>
> library(foreign)
> read.xport("test.xpt")
>
> I got the following error and warning messages:
>
> > read.xport("test.xpt")
> Error in read.xport("test.xpt") :
> The specified file does not start with a SAS xport file header!
> In addition: Warning message:
> In readBin(file, what = character(0), n = 1, size =
> nchar(xport.file.header,  :
> null terminator not found: breaking string at 10000 bytes
>
> I can open the xpt using wordpad and there is a header but it seems to be
> just text.  I really don't know what constitutes an "
> SAS xport file header"
>
> Nick
>
>
>
> On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
>
> That's what he tried, but the bottom line is that just because something
> is called foo.xpt there is no guarantee that it actually is a SAS XPORT
> file. Firefox plugins use the same extension but it could really be
> anything - naming conventions are just that: conventions.
>
> So dig deeper and find out what the file really is (or was supposed to be).
>
> -pd
>
> >
> >             On 14 Apr 2018, at 00:18 , David Winsemius <
> dwinsemius at comcast.net> wrote:
> >
> >             There is a read.xport function in the foreign package and I
> think most people would have chosen that one as a first attemp. It's part
> of the standard R distribution. It refers you to https://support.sas.com/
> techsup/technote/ts140.pdf for details on the format.
> >
> >
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From dwin@emiu@ @ending from comc@@t@net  Sat Apr 14 22:30:00 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sat, 14 Apr 2018 13:30:00 -0700
Subject: [R] Fwd: Re:  Reading xpt files into R
In-Reply-To: <1943859169.322099.1523733526929@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
Message-ID: <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>


> On Apr 14, 2018, at 12:18 PM, WRAY NICHOLAS via R-help <r-help at r-project.org> wrote:
> 
> 
> -------- Original Message ----------
> From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> To: peter dalgaard <pdalgd at gmail.com>
> Date: 14 April 2018 at 20:18
> Subject: Re: [R] Reading xpt files into R
> 
> 
> Well yesterday I'd downloaded the "foreign" package and tried to open the xpt file using that:
> 
> library(foreign)
> read.xport("test.xpt")
> 
> I got the following error and warning messages:
> 
>> read.xport("test.xpt")
> Error in read.xport("test.xpt") : 
> The specified file does not start with a SAS xport file header!
> In addition: Warning message:
> In readBin(file, what = character(0), n = 1, size = nchar(xport.file.header,  :
> null terminator not found: breaking string at 10000 bytes
> 
> I can open the xpt using wordpad and there is a header but it seems to be just text.  I really don't know what constitutes an "
> SAS xport file header"

I'm not sure why Peter deleted my copy of a sample of a SAS xport header that I took from an NHANES data distribution. He seemed to think I was confused about the function you had been using. The reason I mentioned that `read.xport` was from the 'foreign' package is that one generally loads that package to make the function available, while it appears you were using a different package, SASxport, and I didn't know whether that package had a function which had the same name as the one from pkg-foreign, and if it did whether it might depend on the read.xport function in foreign. You should not need to download the 'foreign' package, since it ships with every distribution of R. These are the arguments accepted by that function:

SASxport::read.xport
function (file, force.integer = TRUE, formats = NULL, name.chars = NULL, 
    names.tolower = FALSE, keep = NULL, drop = NULL, as.is = 0.95, 
    verbose = FALSE, as.list = FALSE, include.formats = FALSE) 


 When I look at the SASxport::read.xport function code, it is in fact, _not_ the same function. But it does have the R statement about what it thinks qualifies as a SAS xprot file:

xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  "

It checks to see whether the file starts with that string.

This is what appeared in my first message:

> 
> The "export" or "transfer format from SA is supposed to make reading data less difficult and standardized. This is what a header from the version used by the NHANES releases (that's all one line):
> 
> HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  9.2     XP_PRO                        16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140  HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     DEMO    SASDATA 9.2     XP_PRO                        16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000  SEQN    Respondent sequence number     

So the header is text, but it is text with a particular structure. If your file doesn't have that structure, then it's not a SAS xport file. The .xpt extension is also used for Mozilla Firefox plugins.


> 
> Nick
> 
> 
> 
> On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
> 
> That's what he tried,

Actually not, Peter. Wray was using a function of the same name, but not from pkg-foreign. Perhaps he was following the tutorial at:

http://www.phusewiki.org/wiki/index.php?title=Open_XPT_File_with_R


> but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.
> 
> So dig deeper and find out what the file really is (or was supposed to be).

Peter and I agree agree on that advice.

> 
> -pd
> 
>> 
>>            On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>>            There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.
> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From wdunl@p @ending from tibco@com  Sat Apr 14 23:26:36 2018
From: wdunl@p @ending from tibco@com (William Dunlap)
Date: Sat, 14 Apr 2018 14:26:36 -0700
Subject: [R] Fwd: Re: Reading xpt files into R
In-Reply-To: <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
 <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>
Message-ID: <CAF8bMcZ0XAGk95TRPZLwk5NHn37h65fHhCJM-KAXUR+inhDN-Q@mail.gmail.com>

 > When I look at the SASxport::read.xport function code, it is in fact,
_not_ the
> same function. But it does have the R statement about what it thinks
> qualifies as a SAS xprot file:
>
> xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
"
>
> It checks to see whether the file starts with that string.

Version 8 SAS xport files have the header
  HEADER RECORD*******LIBV8 HEADER RECORD!!!!!!!000000000000000000000
000000000
It is easy to check for that in your text editor or in R.

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Sat, Apr 14, 2018 at 1:30 PM, David Winsemius <dwinsemius at comcast.net>
wrote:

>
> > On Apr 14, 2018, at 12:18 PM, WRAY NICHOLAS via R-help <
> r-help at r-project.org> wrote:
> >
> >
> > -------- Original Message ----------
> > From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> > To: peter dalgaard <pdalgd at gmail.com>
> > Date: 14 April 2018 at 20:18
> > Subject: Re: [R] Reading xpt files into R
> >
> >
> > Well yesterday I'd downloaded the "foreign" package and tried to open
> the xpt file using that:
> >
> > library(foreign)
> > read.xport("test.xpt")
> >
> > I got the following error and warning messages:
> >
> >> read.xport("test.xpt")
> > Error in read.xport("test.xpt") :
> > The specified file does not start with a SAS xport file header!
> > In addition: Warning message:
> > In readBin(file, what = character(0), n = 1, size =
> nchar(xport.file.header,  :
> > null terminator not found: breaking string at 10000 bytes
> >
> > I can open the xpt using wordpad and there is a header but it seems to
> be just text.  I really don't know what constitutes an "
> > SAS xport file header"
>
> I'm not sure why Peter deleted my copy of a sample of a SAS xport header
> that I took from an NHANES data distribution. He seemed to think I was
> confused about the function you had been using. The reason I mentioned that
> `read.xport` was from the 'foreign' package is that one generally loads
> that package to make the function available, while it appears you were
> using a different package, SASxport, and I didn't know whether that package
> had a function which had the same name as the one from pkg-foreign, and if
> it did whether it might depend on the read.xport function in foreign. You
> should not need to download the 'foreign' package, since it ships with
> every distribution of R. These are the arguments accepted by that function:
>
> SASxport::read.xport
> function (file, force.integer = TRUE, formats = NULL, name.chars = NULL,
>     names.tolower = FALSE, keep = NULL, drop = NULL, as.is = 0.95,
>     verbose = FALSE, as.list = FALSE, include.formats = FALSE)
>
>
>  When I look at the SASxport::read.xport function code, it is in fact,
> _not_ the same function. But it does have the R statement about what it
> thinks qualifies as a SAS xprot file:
>
> xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
> "
>
> It checks to see whether the file starts with that string.
>
> This is what appeared in my first message:
>
> >
> > The "export" or "transfer format from SA is supposed to make reading
> data less difficult and standardized. This is what a header from the
> version used by the NHANES releases (that's all one line):
> >
> > HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
> SAS     SAS     SASLIB  9.2     XP_PRO
> 16SEP09:09:39:2516SEP09:09:39:25
>                       HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140
> HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000
> SAS     DEMO    SASDATA 9.2     XP_PRO
> 16SEP09:09:39:2516SEP09:09:39:25
>                       HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000
>    SEQN    Respondent sequence number
>
> So the header is text, but it is text with a particular structure. If your
> file doesn't have that structure, then it's not a SAS xport file. The .xpt
> extension is also used for Mozilla Firefox plugins.
>
>
> >
> > Nick
> >
> >
> >
> > On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
> >
> > That's what he tried,
>
> Actually not, Peter. Wray was using a function of the same name, but not
> from pkg-foreign. Perhaps he was following the tutorial at:
>
> http://www.phusewiki.org/wiki/index.php?title=Open_XPT_File_with_R
>
>
> > but the bottom line is that just because something is called foo.xpt
> there is no guarantee that it actually is a SAS XPORT file. Firefox plugins
> use the same extension but it could really be anything - naming conventions
> are just that: conventions.
> >
> > So dig deeper and find out what the file really is (or was supposed to
> be).
>
> Peter and I agree agree on that advice.
>
> >
> > -pd
> >
> >>
> >>            On 14 Apr 2018, at 00:18 , David Winsemius <
> dwinsemius at comcast.net> wrote:
> >>
> >>            There is a read.xport function in the foreign package and I
> think most people would have chosen that one as a first attemp. It's part
> of the standard R distribution. It refers you to https://support.sas.com/
> techsup/technote/ts140.pdf for details on the format.
> >
> --
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'
>  -Gehm's Corollary to Clarke's Third Law
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From wil@onzh@ng746746 @ending from gm@il@com  Sat Apr 14 23:33:12 2018
From: wil@onzh@ng746746 @ending from gm@il@com (Zhang Wilson)
Date: Sat, 14 Apr 2018 23:33:12 +0200
Subject: [R] about family=binomial in glm funtion
Message-ID: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>

Hei,
  I just wonder the use of family=binomial in glm function.
  As I learned from book (e.g. Andy Field) that logistic regression (binary
logit) can use glm funtion with family = binomial. Here the y is a factor
variable (e.g. value = 1 or 2).

 But I have also seen i many other cases, same function glm with
family=binomial, but y is a variable with several column , like y=
cbind(y1, y2), and here y1  and y2 are the success number, failure number
respectively.


What is the difference between these cases ? For my opinion the first one
is a logit model, and second one is a binomial probability model , right?

Many thanks.

	[[alternative HTML version deleted]]



From murdoch@dunc@n @ending from gm@il@com  Sun Apr 15 01:56:13 2018
From: murdoch@dunc@n @ending from gm@il@com (Duncan Murdoch)
Date: Sat, 14 Apr 2018 19:56:13 -0400
Subject: [R] about family=binomial in glm funtion
In-Reply-To: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>
References: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>
Message-ID: <200822d1-9f36-0ff1-16af-907ab41b9c8b@gmail.com>

On 14/04/2018 5:33 PM, Zhang Wilson wrote:
> Hei,
>    I just wonder the use of family=binomial in glm function.
>    As I learned from book (e.g. Andy Field) that logistic regression (binary
> logit) can use glm funtion with family = binomial. Here the y is a factor
> variable (e.g. value = 1 or 2).
> 
>   But I have also seen i many other cases, same function glm with
> family=binomial, but y is a variable with several column , like y=
> cbind(y1, y2), and here y1  and y2 are the success number, failure number
> respectively.

What I'd suggest is that you read the documentation.  In this case ?glm 
doesn't give the answer, but it links to ?family, which does.

Duncan Murdoch

> 
> 
> What is the difference between these cases ? For my opinion the first one
> is a logit model, and second one is a binomial probability model , right?
> 
> Many thanks.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ryokobe @ending from gm@il@com  Sun Apr 15 04:11:04 2018
From: ryokobe @ending from gm@il@com (Ryoko Yamamoto)
Date: Sun, 15 Apr 2018 11:11:04 +0900
Subject: [R] RQDA/RGtk2 Installation Problem
Message-ID: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>

Greetings,

I have been having a problem installing RQDA on my Mac (OS 10.13.2). I
followed the installation process on the RQDA page (
http://rqda.r-forge.r-project.org/), but I keep getting an error message
saying that I am missing pkg-config and GTK. I reinstalled XQuartz and GTK+
2.24.17 multiple times (and reinstalled R version 3.4.4), but kept
receiving the same error message. I also tried to install RGtk2 from
MacPort, but got the same error messages. I am posting the log below, in
hope it will help someone to see the problem/solution.

In my Googling for solution, I saw some other people posting the same
problem, but have not seen a solution. I'd appreciate if anyone could help
me to fix this. I really would love to be able to use RQDA!

Thanks in advance for your help.

Ryoko

********************************************************

> install.packages('RQDA')
--- Please select a CRAN mirror for use in this session ---
also installing the dependencies ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?

Packages which are only available in source form, and may need
  compilation of C/C++/Fortran: ?cairoDevice? ?RGtk2?
Do you want to attempt to install these from sources?
y/n: y

installing the source packages ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?,
?RQDA?

trying URL 'https://cran.ism.ac.jp/src/contrib/cairoDevice_2.24.tar.gz'
Content type 'application/x-gzip' length 39639 bytes (38 KB)
==================================================
downloaded 38 KB

trying URL 'https://cran.ism.ac.jp/src/contrib/gWidgetsRGtk2_0.0-86.tar.gz'
Content type 'application/x-gzip' length 165187 bytes (161 KB)
==================================================
downloaded 161 KB

trying URL 'https://cran.ism.ac.jp/src/contrib/RGtk2_2.20.34.tar.gz'
Content type 'application/x-gzip' length 2793069 bytes (2.7 MB)
==================================================
downloaded 2.7 MB

trying URL 'https://cran.ism.ac.jp/src/contrib/RQDA_0.3-1.tar.gz'
Content type 'application/x-gzip' length 134113 bytes (130 KB)
==================================================
downloaded 130 KB

* installing *source* package ?cairoDevice? ...
** package ?cairoDevice? successfully unpacked and MD5 sums checked
checking for pkg-config... no
ERROR: Cannot find pkg-config.
ERROR: configuration failed for package ?cairoDevice?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/cairoDevice?
* installing *source* package ?RGtk2? ...
** package ?RGtk2? successfully unpacked and MD5 sums checked
checking for pkg-config... no
checking for INTROSPECTION... no
checking for GTK... no
configure: error: GTK version 2.8.0 required
ERROR: configuration failed for package ?RGtk2?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RGtk2?
ERROR: dependencies ?RGtk2?, ?cairoDevice? are not available for package
?gWidgetsRGtk2?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/gWidgetsRGtk2?
ERROR: dependencies ?gWidgetsRGtk2?, ?RGtk2? are not available for package
?RQDA?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RQDA?

The downloaded source packages are in

?/private/var/folders/1_/59k3mmjd42q869s4tkbpb0200000gn/T/RtmpeYrG4k/downloaded_packages?
Warning messages:
1: In install.packages("RQDA") :
  installation of package ?cairoDevice? had non-zero exit status
2: In install.packages("RQDA") :
  installation of package ?RGtk2? had non-zero exit status
3: In install.packages("RQDA") :
  installation of package ?gWidgetsRGtk2? had non-zero exit status
4: In install.packages("RQDA") :
  installation of package ?RQDA? had non-zero exit status

	[[alternative HTML version deleted]]



From dwin@emiu@ @ending from comc@@t@net  Sun Apr 15 08:38:55 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sat, 14 Apr 2018 23:38:55 -0700
Subject: [R] RQDA/RGtk2 Installation Problem
In-Reply-To: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>
References: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>
Message-ID: <3CFBDD37-C0EF-47E7-BFBE-4575ADD8C0DE@comcast.net>


> On Apr 14, 2018, at 7:11 PM, Ryoko Yamamoto <ryokobe at gmail.com> wrote:
> 
> Greetings,
> 
> I have been having a problem installing RQDA on my Mac (OS 10.13.2). I
> followed the installation process on the RQDA page (
> http://rqda.r-forge.r-project.org/), but I keep getting an error message
> saying that I am missing pkg-config and GTK. I reinstalled XQuartz and GTK+
> 2.24.17 multiple times (and reinstalled R version 3.4.4), but kept
> receiving the same error message. I also tried to install RGtk2 from
> MacPort, but got the same error messages.

That may have messed things up if it modified your PATH environment settings. You should notice that the instructions on the http://rqda.r-forge.r-project.org/ page are to install the GTK+ binary from http://r.research.att.com/

See below:

> I am posting the log below, in
> hope it will help someone to see the problem/solution.
> 
> In my Googling for solution, I saw some other people posting the same
> problem, but have not seen a solution. I'd appreciate if anyone could help
> me to fix this. I really would love to be able to use RQDA!
> 
> Thanks in advance for your help.
> 
> Ryoko
> 
> ********************************************************
> 
>> install.packages('RQDA')
> --- Please select a CRAN mirror for use in this session ---
> also installing the dependencies ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?
> 
> Packages which are only available in source form, and may need
>  compilation of C/C++/Fortran: ?cairoDevice? ?RGtk2?
> Do you want to attempt to install these from sources?
> y/n: y
> 
> installing the source packages ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?,
> ?RQDA?
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/cairoDevice_2.24.tar.gz'
> Content type 'application/x-gzip' length 39639 bytes (38 KB)
> ==================================================
> downloaded 38 KB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/gWidgetsRGtk2_0.0-86.tar.gz'
> Content type 'application/x-gzip' length 165187 bytes (161 KB)
> ==================================================
> downloaded 161 KB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/RGtk2_2.20.34.tar.gz'
> Content type 'application/x-gzip' length 2793069 bytes (2.7 MB)
> ==================================================
> downloaded 2.7 MB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/RQDA_0.3-1.tar.gz'
> Content type 'application/x-gzip' length 134113 bytes (130 KB)
> ==================================================
> downloaded 130 KB
> 
> * installing *source* package ?cairoDevice? ...
> ** package ?cairoDevice? successfully unpacked and MD5 sums checked
> checking for pkg-config... no
> ERROR: Cannot find pkg-config.
> ERROR: configuration failed for package ?cairoDevice?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/cairoDevice?

So you are on a Mac. There's a special mailing list for us. Have you installed Xcode and the CLT?

You will need to read and foolw the advice at the top of the following page:

https://cran.r-project.org/bin/macosx/tools/

Have you searched StackOverflow? I found teh following answer there. (I think it's a bit incomplete since you should have the system variables set according to the Tools page, so I editted that answer.) But this looked like a starting point ... after setting environment variables and getting the Fortran compileras per above

https://stackoverflow.com/questions/19645590/running-rattle-on-mac-os-x-10-9-mavericks/19719518#19719518

Do not reply to this mailing list (or to just me); rather send it to the R-SIG-Mac mailing list (after subscribing and reading the Posting Guide which it appears you have not done.)

-- 
David.

> * installing *source* package ?RGtk2? ...
> ** package ?RGtk2? successfully unpacked and MD5 sums checked
> checking for pkg-config... no
> checking for INTROSPECTION... no
> checking for GTK... no
> configure: error: GTK version 2.8.0 required
> ERROR: configuration failed for package ?RGtk2?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RGtk2?
> ERROR: dependencies ?RGtk2?, ?cairoDevice? are not available for package
> ?gWidgetsRGtk2?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/gWidgetsRGtk2?
> ERROR: dependencies ?gWidgetsRGtk2?, ?RGtk2? are not available for package
> ?RQDA?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RQDA?
> 
> The downloaded source packages are in
> 
> ?/private/var/folders/1_/59k3mmjd42q869s4tkbpb0200000gn/T/RtmpeYrG4k/downloaded_packages?
> Warning messages:
> 1: In install.packages("RQDA") :
>  installation of package ?cairoDevice? had non-zero exit status
> 2: In install.packages("RQDA") :
>  installation of package ?RGtk2? had non-zero exit status
> 3: In install.packages("RQDA") :
>  installation of package ?gWidgetsRGtk2? had non-zero exit status
> 4: In install.packages("RQDA") :
>  installation of package ?RQDA? had non-zero exit status
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From jrkride@u @ending from y@hoo@c@  Sun Apr 15 13:35:24 2018
From: jrkride@u @ending from y@hoo@c@ (John Kane)
Date: Sun, 15 Apr 2018 11:35:24 +0000 (UTC)
Subject: [R] Syntax roccomp-using R
In-Reply-To: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
References: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
Message-ID: <373073112.447397.1523792124940@mail.yahoo.com>

You really should? read the posting guide (link at the bottom of the e-mail) and also read one or both of http://stackoverflow.com/questions/5963269 /how-to-make-a-great-r-reproducible-example and http://adv-r.had.co.nz/Reproducibility.html

As it stands your posts are very close to unreadable. The R-help list does not accept HTML files nor embedded images so your text is garbled and none of the images are coming through.

Your two attached pdf files are coming through but? are useless without a readable message. 
Two key elements in posting are: Alway post in plain text and provide sample data in dput() format. See ?dput for more information on this function.
Here is a example data set in dput format.
mydata? <- structure(list(aa = structure(c(2L, 6L, 3L, 7L, 2L, 15L, 1L, 
14L, 2L, 9L, 1L, 4L, 15L, 19L, 4L, 3L, 20L, 21L, 11L, 22L, 3L, 
12L, 14L, 1L, 19L, 10L, 16L, 1L, 3L, 14L, 2L, 8L, 1L, 11L, 8L, 
19L, 22L, 8L, 10L, 18L, 16L, 11L, 7L, 24L, 12L, 16L, 6L, 12L, 
22L, 12L, 12L, 10L, 8L, 20L, 3L, 21L, 9L, 23L, 5L, 17L, 5L, 8L, 
24L, 19L, 6L, 8L, 23L, 8L, 15L, 23L, 18L, 20L, 5L, 4L, 18L, 26L, 
24L, 24L, 24L, 2L, 13L, 23L, 20L, 1L, 19L, 12L, 5L, 25L, 2L, 
22L, 10L, 9L, 3L, 8L, 9L, 2L, 23L, 13L, 19L, 1L), .Label = c("A", 
"B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", 
"O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"), class = "factor"), 
??? bb = c(19L, 13L, 14L, 6L, 15L, 13L, 11L, 20L, 20L, 3L, 3L, 
??? 6L, 4L, 7L, 19L, 18L, 12L, 19L, 12L, 8L, 3L, 2L, 10L, 9L, 
??? 9L, 9L, 13L, 5L, 16L, 12L, 9L, 8L, 10L, 7L, 14L, 10L, 6L, 
??? 12L, 8L, 13L, 13L, 13L, 10L, 10L, 10L, 4L, 12L, 6L, 9L, 13L, 
??? 7L, 20L, 3L, 5L, 20L, 17L, 4L, 8L, 14L, 9L, 5L, 4L, 5L, 1L, 
??? 13L, 2L, 5L, 11L, 9L, 16L, 3L, 6L, 7L, 14L, 18L, 6L, 19L, 
??? 2L, 12L, 9L, 10L, 20L, 17L, 13L, 9L, 7L, 3L, 1L, 14L, 12L, 
??? 11L, 15L, 15L, 15L, 10L, 9L, 2L, 11L, 11L, 16L)), .Names = c("aa", 
"bb"), row.names = c(NA, -100L), class = "data.frame")


 

    On Sunday, April 8, 2018, 4:39:39 p.m. EDT, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:  
 
 *Dear Bert, *

Thank you very much for your feedback and the useful link https://rseek.org/
and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
Actually, I want to know different performance between Stata and R, in
multilevel logistic regression. For this purposes, I replicate ".do" file
use Stata in
http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778. The
nice journal not only gives ".do" file but also ".dta" file for Stata
user. Fyi,
I succeed running my dataset accordingly approach that use in the nice
article.

In Model ii, by adding the random effects of the clusters (neighbourhoods)
only, I perform a multilevel logistic regression. Adding the neighbourhoods
a random effect considerably increase the DA of the model. If the AU-ROC
increases. This means the neighbourhoods have a relevant (observational)
General Contextual Effect on the individual outcome. That is, knowledge on
the clusters where the individuals reside is relevant for classifying
individuals. That is, for distinguishing those with from those without the
outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
after including a neighbourhoods level variable as a fixed effect. Model ii
represents the ?ceiling? of the explanatory power of the clusters. However,
particularly both syntax in the steps below, the process taking time very
long, particularly for a data set with the 130,585 observation that I have.

I trust can be replicate the syntax Stata below into the script language of
R under your advice. I want to to know the performance of R to analyse in
the syntax " roccomp".? Unfortunately, the process still not finished in
this step yet at the moment.


. * FIGURE 1 - AU-ROC
.
********************************************************************************
.? roccomp Y? r1m1p r1m2p, graph summary

. * FIGURE 3 - AU-ROC
.
********************************************************************************
. roccomp Y? r2m1p r2m2p, graph summary


Abbreviations
Y? ? ? = The dependent (or responding) variable
AUC? ? = Area Under the Curve.
AUROC? = Area Under the Receiver Operating Characteristic curve.
ROC? ? = Receiver operating characteristic
r1m1p? =? Pr(malaria)
r1m2p? = Predicted mean
r1m3p? = Predicted mean


In addition, I saw in
https://cran.r-project.org/web/packages/auRoc/index.html, and in
https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC
,? there is an issue regarding auROC.

Hopefully with install "CRAN - Package auRoc", I can be running the
"roccomp" used the plug-in. In addition, I can compute areas under ROC
curves using the R Commander. However, the R Commander doesn't include ROC
curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
package for the R Commander, includes ROC curves and may do what I want.
Isn't it?


Again thank you very much, I appreciate it.


Best wishes


Hamzah


On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> 1. *If* this is homework, we do not do homework here.
>
> 2. Please read and follow the posting guide linked below to get a
> useful answer. In general, we expect posters to provide code showing
> their attempt to solve the problem, rather than expecting to be
> provided complete solutions. See also instructions for providing a
> small reproducible example.
>
> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
> others:
> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>
> Cheers,
> Bert
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
> wrote:
> > Dear User R
> >
> >
> > It's been a pleasure talking with you. I am newcomer use R. Would you
> > please help me how to translate the script below to "R" script?
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r1m1p, p
> > roctab malaria r1m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> > ************************************************************
> > ********************
> > * FIGURE 1 - AU-ROC
> > ************************************************************
> > ********************
> >
> > roccomp malaria r1m1p r1m2p, graph
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r2m1p, p
> > roctab malaria r2m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> >
> > ************************************************************
> > ********************
> > * FIGURE 3 - AU-ROC
> > ************************************************************
> > ********************
> > roccomp malaria r2m1p r2m2p, graph
> >
> >
> >
> > Best regards,
> >
> >
> >
> > Hamzah
> >
> > Description of data-set
> >
> > ------------------------------------------------------------
> > ----------------------
> >? ? ? ? ? ? ? storage? display? ? value
> > variable name? type? ? format? ? label? ? ? variable label
> > ------------------------------------------------------------
> > ----------------------
> >
> > malaria? ? ? ? float? %48.0g? ? malaria? ? Participants who had
> diagnosed
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? malaria by health
> > professionals
> > _est_r1m1? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m1p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Pr(malaria)
> > r1m2p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > r1m3p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > _est_r1m2? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m2use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m2u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > pickone? ? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? tag(district)
> > r1m2urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r1m2u)
> > _est_r1m3? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m3use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m3u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m3urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r1m3u)
> > _est_r2m1? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m1p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Pr(malaria)
> > r2m2p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > r2m3p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > _est_r2m2? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m2use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m2u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m2urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r2m2u)
> > _est_r2m3? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m3use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m3u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m3urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r2m3u)
> > ------------------------------------------------------------
> >
> >
> >
> >
> >
> > Respectfully,
> >
> >
> >
> > Hamzah
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.  
	[[alternative HTML version deleted]]



From jrkride@u @ending from y@hoo@c@  Sun Apr 15 13:44:55 2018
From: jrkride@u @ending from y@hoo@c@ (John Kane)
Date: Sun, 15 Apr 2018 11:44:55 +0000 (UTC)
Subject: [R] Specifying forbidden configurations in Morris One at a Time
 (OAT) sensitivity analysis
In-Reply-To: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>
References: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>
Message-ID: <1648151417.454742.1523792695903@mail.yahoo.com>

If nothing else, I think you need to supply some sample data that includes examples of the "forbidden configurations"
See http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example
and/or 

http://adv-r.had.co.nz/Reproducibility.html

 

    On Monday, April 9, 2018, 11:45:21 a.m. EDT, Reshma C <reshma.kuleuven at gmail.com> wrote:  
 
 Hi!

I am trying to implement the Morris One at a Time (OAT) sensitivity
analysis technique in R using the package 'sensitivity'.? The OAT and
similar other techniques in the package requires data frame X (which stores
the design or parameter combinations) to be populated by some function in
the package such as fast99 or morris. These functions take only the range
and step size of the parameters as arguments. However, in my experiment
there are few forbidden configurations. Is there a way to specify this in
the analysis set up? To be specific, is there a way to tell the model that
certain combinations are forbidden such as feeding forbidden configurations
via a text file or specifying a conditional expression which will exclude
the forbidden configurations (eg: parameter 1 < parameter 2) ?

Thanks and regards,
Reshma CC

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
  
	[[alternative HTML version deleted]]



From All@i@one1 @ending from hotm@il@com  Sun Apr 15 13:08:35 2018
From: All@i@one1 @ending from hotm@il@com (Allaisone 1)
Date: Sun, 15 Apr 2018 11:08:35 +0000
Subject: [R] Adding a new conditional column to a list of dataframes
Message-ID: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>


Hi all ..,


I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.


When I extract one dataframe and apply my code it works very well as follows :-


First suppose this is my first dataframe in the list

> OneDF <- Mylist[[1]]

> OneDF


ID       Pdate                  Tdate

1         2010-09-30       2011-05-10

2         2011-11-07       2009-09-31

3         2012-01-05        2008-06-23


To add a new column where "C" has to be written in that column only if the date in

"Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.

I have written this code to do so :-


OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"


This gave me what I want as follows :-


ID       Pdate                  Tdate                      NewCol

1         2010-09-30       2011-05-10                NA

2         2011-11-07       2009-09-31                  C

3         2012-01-05        2008-06-23                 C


However, when I tried to apply this code in a function and then apply this function

to all dataframes using lapply() function , I do not get what I want.


I wrote this function first :-


MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"


Then I wrote this code to apply my function to all dataframes in "Mylist" :


NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))


This returned a list of 7000 elements and each of which contain "C'' letter. Each

dataframe has become a vector of "C'' letter which is totally away from what I need.

 I expected to see a list of my 7000 dataframes and each of which looks like the output

I have shown above with the new column.


I spent a lot of time trying to know what  is the mistake I have made in these last two codes

but was not able to know the issue.


Could you please let me know my mistake and how to correct my syntax ?


Kind Regards

Allaisone








	[[alternative HTML version deleted]]



From murdoch@dunc@n @ending from gm@il@com  Sun Apr 15 16:37:24 2018
From: murdoch@dunc@n @ending from gm@il@com (Duncan Murdoch)
Date: Sun, 15 Apr 2018 10:37:24 -0400
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <12dde8da-b368-ce06-3679-2f3fc640bc46@gmail.com>

On 15/04/2018 7:08 AM, Allaisone 1 wrote:
> 
> Hi all ..,
> 
> 
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
> 
> 
> When I extract one dataframe and apply my code it works very well as follows :-
> 
> 
> First suppose this is my first dataframe in the list
> 
>> OneDF <- Mylist[[1]]
> 
>> OneDF
> 
> 
> ID       Pdate                  Tdate
> 
> 1         2010-09-30       2011-05-10
> 
> 2         2011-11-07       2009-09-31
> 
> 3         2012-01-05        2008-06-23
> 
> 
> To add a new column where "C" has to be written in that column only if the date in
> 
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
> 
> I have written this code to do so :-
> 
> 
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
> 
> 
> This gave me what I want as follows :-
> 
> 
> ID       Pdate                  Tdate                      NewCol
> 
> 1         2010-09-30       2011-05-10                NA
> 
> 2         2011-11-07       2009-09-31                  C
> 
> 3         2012-01-05        2008-06-23                 C
> 
> 
> However, when I tried to apply this code in a function and then apply this function
> 
> to all dataframes using lapply() function , I do not get what I want.
> 
> 
> I wrote this function first :-
> 
> 
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
> 
> 
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
> 
> 
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
> 
> 
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
> 
> dataframe has become a vector of "C'' letter which is totally away from what I need.
> 
>   I expected to see a list of my 7000 dataframes and each of which looks like the output
> 
> I have shown above with the new column.
> 
> 
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
> 
> but was not able to know the issue.
> 
> 
> Could you please let me know my mistake and how to correct my syntax ?


Your function should return x after modifying it.  As it is, it returns 
the value of x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C", which is "C".  So 
change it to

MyFunction <- function(x) {
   x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
   x
}

Duncan Murdoch



From jdnewmil @ending from dcn@d@vi@@c@@u@  Sun Apr 15 16:42:47 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Sun, 15 Apr 2018 07:42:47 -0700
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <BDAD68FE-A10A-47EC-A970-F63CF111BE02@dcn.davis.ca.us>

Your failure to send your question using plain text format means that the mailing list tried to fix that and we are seeing your code all messed up. Please learn how to use your email program... or we may not even be able to figure out your question at all. 

I think you need to pay attention to what your function is returning... whatever is on the last line of the function is key. Try testing your function separately from the lapply to insure you get what you want. Also be sure to use braces when they are needed to define your function. 

On April 15, 2018 4:08:35 AM PDT, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
>
>Hi all ..,
>
>
>I have a list of 7000 dataframes with similar column headers and I
>wanted to add a new column to each dataframe based on a certain
>condition which is the same for all dataframes.
>
>
>When I extract one dataframe and apply my code it works very well as
>follows :-
>
>
>First suppose this is my first dataframe in the list
>
>> OneDF <- Mylist[[1]]
>
>> OneDF
>
>
>ID       Pdate                  Tdate
>
>1         2010-09-30       2011-05-10
>
>2         2011-11-07       2009-09-31
>
>3         2012-01-05        2008-06-23
>
>
>To add a new column where "C" has to be written in that column only if
>the date in
>
>"Tdate" column is less than the first date(row) in "Pdate"
>column.Otherwise "NA" is written.
>
>I have written this code to do so :-
>
>
>OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
>
>
>This gave me what I want as follows :-
>
>
>ID       Pdate                  Tdate                      NewCol
>
>1         2010-09-30       2011-05-10                NA
>
>2         2011-11-07       2009-09-31                  C
>
>3         2012-01-05        2008-06-23                 C
>
>
>However, when I tried to apply this code in a function and then apply
>this function
>
>to all dataframes using lapply() function , I do not get what I want.
>
>
>I wrote this function first :-
>
>
>MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
>
>
>Then I wrote this code to apply my function to all dataframes in
>"Mylist" :
>
>
>NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
>
>
>This returned a list of 7000 elements and each of which contain "C''
>letter. Each
>
>dataframe has become a vector of "C'' letter which is totally away from
>what I need.
>
>I expected to see a list of my 7000 dataframes and each of which looks
>like the output
>
>I have shown above with the new column.
>
>
>I spent a lot of time trying to know what  is the mistake I have made
>in these last two codes
>
>but was not able to know the issue.
>
>
>Could you please let me know my mistake and how to correct my syntax ?
>
>
>Kind Regards
>
>Allaisone
>
>
>
>
>
>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From dwin@emiu@ @ending from comc@@t@net  Sun Apr 15 16:55:00 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sun, 15 Apr 2018 07:55:00 -0700
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>


> On Apr 15, 2018, at 4:08 AM, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
> 
> 
> Hi all ..,
> 
> 
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
> 
> 
> When I extract one dataframe and apply my code it works very well as follows :-
> 
> 
> First suppose this is my first dataframe in the list
> 
>> OneDF <- Mylist[[1]]
> 
>> OneDF
> 
> 
> ID       Pdate                  Tdate
> 
> 1         2010-09-30       2011-05-10
> 
> 2         2011-11-07       2009-09-31
> 
> 3         2012-01-05        2008-06-23
> 
> 
> To add a new column where "C" has to be written in that column only if the date in
> 
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
> 
> I have written this code to do so :-
> 
> 
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
> 
> 
> This gave me what I want as follows :-
> 
> 
> ID       Pdate                  Tdate                      NewCol
> 
> 1         2010-09-30       2011-05-10                NA
> 
> 2         2011-11-07       2009-09-31                  C
> 
> 3         2012-01-05        2008-06-23                 C
> 
> 
> However, when I tried to apply this code in a function and then apply this function
> 
> to all dataframes using lapply() function , I do not get what I want.
> 
> 
> I wrote this function first :-
> 
> 
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
> 
> 
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
> 
> 
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
> 
> 
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
> 
> dataframe has become a vector of "C'' letter which is totally away from what I need.
> 
> I expected to see a list of my 7000 dataframes and each of which looks like the output
> 
> I have shown above with the new column.
> 
> 
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
> 
> but was not able to know the issue.

A function returns the result of the last function call. In your case the last function called was `[<-` and if you look at that function's help page you will find only the value of its RHS (in your case "C") is returned. That assignment function has is predominat action via side-effect rather than by a truly functional operation.. The function might have been written:

 MyFunction <- function(x) { x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"; x } # so that x gets returned

I say "might" since you have not included a reproducible example.

Another point: The `$` operator is not ideal for work within functions.

And. Noting this:

> 	[[alternative HTML version deleted]]
                Do read the Posting Guide.
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From d@ne@hv@r_@r @ending from outlook@com  Sun Apr 15 17:56:09 2018
From: d@ne@hv@r_@r @ending from outlook@com (alireza daneshvar)
Date: Sun, 15 Apr 2018 15:56:09 +0000
Subject: [R] Question
Message-ID: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>

Hi,
How to calculate break-down point in R?
Thanks

	[[alternative HTML version deleted]]



From m@rc_grt @ending from y@hoo@fr  Sun Apr 15 18:26:41 2018
From: m@rc_grt @ending from y@hoo@fr (Marc Girondot)
Date: Sun, 15 Apr 2018 18:26:41 +0200
Subject: [R] Question
In-Reply-To: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
Message-ID: <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>

Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit?:
> break-down point

Can you explain more what you plan to do and give an example of what you 
have tried to do until now to do a "break down point" in R. Perhaps a 
"break down point" is common in your field, but I have no idea about 
what it is !

https://en.wikipedia.org/wiki/Breakdown_(1997_film)

Sincerely

Marc



From pn@inh@68 @ending from gm@il@com  Mon Apr 16 07:30:43 2018
From: pn@inh@68 @ending from gm@il@com (Partha Sinha)
Date: Mon, 16 Apr 2018 11:00:43 +0530
Subject: [R] Math kernel library from intel
Message-ID: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>

I use win 10 ( 64 bit) with latest R available. Intel has released math
kernel library. Is it necessary to install for data driven work ?
Regards
Partha

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Mon Apr 16 08:01:40 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Sun, 15 Apr 2018 23:01:40 -0700
Subject: [R] Math kernel library from intel
In-Reply-To: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>
References: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>
Message-ID: <1608B9C4-6151-47DE-A2F0-07C07E57829D@dcn.davis.ca.us>

Depends how desperate you are for processing speed and careful you have been with optimizing your own algorithms. The default build of R is IMO quite usable for many people, and without a doubt many complaints about its speed are misdirected and are instead due to poor handling of working memory by the user. Such problems usually dwarf the benefit of having an optimized math library.

On April 15, 2018 10:30:43 PM PDT, Partha Sinha <pnsinha68 at gmail.com> wrote:
>I use win 10 ( 64 bit) with latest R available. Intel has released math
>kernel library. Is it necessary to install for data driven work ?
>Regards
>Partha
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From mt@@gri@ @ending from y@hoo@gr  Mon Apr 16 09:46:41 2018
From: mt@@gri@ @ending from y@hoo@gr (michael tsagris)
Date: Mon, 16 Apr 2018 07:46:41 +0000 (UTC)
Subject: [R] Inverse Gaussian distribution not working in glm funciton
References: <364786289.863577.1523864801790.ref@mail.yahoo.com>
Message-ID: <364786289.863577.1523864801790@mail.yahoo.com>

Hello everybody,
I have encountered a problem with the inverse Gaussian distribution. It is very likely that it will not work regardless of the data input. I have programmed this regression and it works fine no matter which distribution the response comes from.
If you run this example (first tried and already got the error)
set.seed(1234)
y = abs( rnorm(150) )
glm( y ~ ., iris, family = inverse.gaussian(log) )
You will get this message: 

Error: inner loop 1; cannot correct step size
In addition: Warning message:
step size truncated due to divergence 
?Whom should I talk to about fixing this bug, in some next update of R?
Michail

	[[alternative HTML version deleted]]



From All@i@one1 @ending from hotm@il@com  Mon Apr 16 10:17:03 2018
From: All@i@one1 @ending from hotm@il@com (Allaisone 1)
Date: Mon, 16 Apr 2018 08:17:03 +0000
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>,
 <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>
Message-ID: <DB5PR02MB0904576C894EC25C8D90403980B00@DB5PR02MB0904.eurprd02.prod.outlook.com>

I would like to thank you all for your very helpful replies . The issue has been solved now with your valuable guidance.

Many thanks again, I really appreciate that.

Regards
________________________________
From: David Winsemius <dwinsemius at comcast.net>
Sent: 15 April 2018 14:55:00
To: Allaisone 1
Cc: r-help at r-project.org
Subject: Re: [R] Adding a new conditional column to a list of dataframes


> On Apr 15, 2018, at 4:08 AM, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
>
>
> Hi all ..,
>
>
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
>
>
> When I extract one dataframe and apply my code it works very well as follows :-
>
>
> First suppose this is my first dataframe in the list
>
>> OneDF <- Mylist[[1]]
>
>> OneDF
>
>
> ID       Pdate                  Tdate
>
> 1         2010-09-30       2011-05-10
>
> 2         2011-11-07       2009-09-31
>
> 3         2012-01-05        2008-06-23
>
>
> To add a new column where "C" has to be written in that column only if the date in
>
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
>
> I have written this code to do so :-
>
>
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
>
>
> This gave me what I want as follows :-
>
>
> ID       Pdate                  Tdate                      NewCol
>
> 1         2010-09-30       2011-05-10                NA
>
> 2         2011-11-07       2009-09-31                  C
>
> 3         2012-01-05        2008-06-23                 C
>
>
> However, when I tried to apply this code in a function and then apply this function
>
> to all dataframes using lapply() function , I do not get what I want.
>
>
> I wrote this function first :-
>
>
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
>
>
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
>
>
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
>
>
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
>
> dataframe has become a vector of "C'' letter which is totally away from what I need.
>
> I expected to see a list of my 7000 dataframes and each of which looks like the output
>
> I have shown above with the new column.
>
>
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
>
> but was not able to know the issue.

A function returns the result of the last function call. In your case the last function called was `[<-` and if you look at that function's help page you will find only the value of its RHS (in your case "C") is returned. That assignment function has is predominat action via side-effect rather than by a truly functional operation.. The function might have been written:

 MyFunction <- function(x) { x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"; x } # so that x gets returned

I say "might" since you have not included a reproducible example.

Another point: The `$` operator is not ideal for work within functions.

And. Noting this:

>        [[alternative HTML version deleted]]
                Do read the Posting Guide.
--

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law






	[[alternative HTML version deleted]]



From @reid@mh @ending from gm@il@com  Mon Apr 16 12:23:22 2018
From: @reid@mh @ending from gm@il@com (Mohammad Areida)
Date: Mon, 16 Apr 2018 12:23:22 +0200
Subject: [R] Help with R-Calling forth csv.
Message-ID: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>

Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points. 

I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!

Kind regards 

	[[alternative HTML version deleted]]



From li@t@ @ending from dewey@myzen@co@uk  Mon Apr 16 14:55:30 2018
From: li@t@ @ending from dewey@myzen@co@uk (Michael Dewey)
Date: Mon, 16 Apr 2018 13:55:30 +0100
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>

Dear Mohammad

Perhaps if you showed us what you tried people could offer more helpful 
advice? When you say you want to call it forth do you mean you want to 
read in the file using read.csv?

Michael

On 16/04/2018 11:23, Mohammad Areida wrote:
> Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points.
> 
> I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!
> 
> Kind regards
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html



From ro@lin@ump @ending from gm@il@com  Mon Apr 16 14:58:55 2018
From: ro@lin@ump @ending from gm@il@com (Roslina Zakaria)
Date: Mon, 16 Apr 2018 20:58:55 +0800
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <8koe4kv4lxge50qrq9d6qito.1523883535894@email.android.com>

Hi, 
You may use the keyword to google for what you want to do to start with. Slowly you will learn...this forum is,really helpful but we should provide or show some effort..all the best! 
I like this forum very much and always feel thankful to very helpful and committed members.

Sent from my Sony Xperia? smartphone

---- Mohammad Areida wrote ----

>Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points. 
>
>I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!
>
>Kind regards 
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ulrik@@tervbo @ending from gm@il@com  Mon Apr 16 14:59:09 2018
From: ulrik@@tervbo @ending from gm@il@com (Ulrik Stervbo)
Date: Mon, 16 Apr 2018 12:59:09 +0000
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <CAKVAULPnYC5vpP1KRSUOEVvhcYRDyH288s4c1sHLYfrWF3AAvA@mail.gmail.com>

There are plenty of options for reading csv files. For built-in solutions
look at ?read.csv or at read_csv from the package reader.

If the measurements are ordered in columns rather than in rows, reading the
data can be very slow.

HTH
Ulrik

Mohammad Areida <areidamh at gmail.com> schrieb am Mo., 16. Apr. 2018, 13:25:

> Hi, I'm working on R trying to find a distribution that fits data from a
> csv file. The csv contains data on pressure exerted by a certain vehicle in
> terms of pressure [kPa] and I have around 3000 data points.
>
> I want to call forth this csv and by using (fitdistr) or if you could
> recommend a function to use, get a plot of my csv and the distributions I
> can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with
> the program R, and I can't write a code to call forth the csv with every
> data point. I?ve been stuck trying to write a code that works for over a
> week and have not gotten it to work. I've come to the conclusion that this
> is the only program capable enough to help me plot the distributions to my
> data, any help is greatly appreciated!
>
> Kind regards
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @reid@mh @ending from gm@il@com  Mon Apr 16 15:31:05 2018
From: @reid@mh @ending from gm@il@com (Mohammad Areida)
Date: Mon, 16 Apr 2018 15:31:05 +0200
Subject: [R] Fwd:  Help with R-Calling forth csv.
In-Reply-To: <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
 <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>
 <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
Message-ID: <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>

Hi, I do not know how to post in general again, however my csv contains
around 5-250k data Points depending on vehicle/road type and pressure
exerted on geotechnical structures. I have used R to develope histograms of
said csv files and will attach such Picture to you in this mail and the csv
used. Below I will type the R code I have used for this histogram.

------------------------------------------------------------
----------------------------

tryck <- read.csv("radmanso_2017.csv", sep=";", dec=",")

##### H??R KOLLAR VI ALLA DATA PUNKTER ######

ggplot(data=tryck, aes(tryck[,1])) +

  geom_histogram(aes(y =..density..),

                 breaks=seq(min(tryck[,1]-1), max(tryck[,1]+1), by = 0.5),

                 col="black",

                 fill="green",

                 alpha = .2) +

  geom_density(col=2) +

  labs(title="Pressure for r?dmans?") +

  labs(x="Pressure [kPa]", y="Amount of vehicles (Percentage)")+

  stat_function(fun=dnorm, colour="blue", args = list(mean =
mean(tryck[,1]), sd = sd(tryck[,1])))



My problem now is to find a statistical distribution that corresponds well
with my histograms with the use of Visual aids, cumulative distributions or
goodness of fit tests which I can?t develope a code for as my csv wont get
called forth and I do not know how to proceed from that Point on to develop
such an aid. If you have any input on how to read the csv file and call
forth a distribution to try on my data points such as Weibull, beta, chi or
gen. Extreme value distributions I would much appreciate the help!



Kind regards,

Mohammad

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Radmanso 2017.PNG
Type: image/png
Size: 51587 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180416/8f649333/attachment-0006.png>

From ycding @ending from coh@org  Mon Apr 16 22:54:30 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Mon, 16 Apr 2018 20:54:30 +0000
Subject: [R] how to write a loop to repetitive jobs
Message-ID: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>

Hi All..,

I need to do the following repetitive jobs:

seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T)
seg71$id <-"sn71"

seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T)
seg72$id <-"sn72"

seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T)
seg73$id <-"sn73"

seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T)
seg74$id <-"sn74"

seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T)
seg75$id <-"sn75"

seg <- rbind (seg71, seg72, seg73, seg74, seg75)

I want to write a loop to do it;

For ( d in 71:75) {
  Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
  setwd(Dir)
..........
then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;

I like R, but not good at R.

Can you help me?

Thank you,

Ding


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From ruipb@rr@d@@ @ending from @@po@pt  Mon Apr 16 23:15:46 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Mon, 16 Apr 2018 22:15:46 +0100
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>

Hello,

The following might do it. Without data it's untested.


wd <- function(i){
     paste0("C:/Awork/geneAssociation/removed8samples/neuhausen7", i, 
"/seg.pr3.csv")
}

seg <- lapply(1:5, function(i) {
     DF <-read.csv(wd(i))
     DF$id <- paste0("sn7", i)
     DF
})

seg <- do.call(rbind, seg)
row.names(seg) <- NULL


Hope this helps,

Rui Barradas

On 4/16/2018 9:54 PM, Ding, Yuan Chun wrote:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T)
> seg71$id <-"sn71"
> 
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T)
> seg72$id <-"sn72"
> 
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T)
> seg73$id <-"sn73"
> 
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T)
> seg74$id <-"sn74"
> 
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T)
> seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>    Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
>    setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycding @ending from coh@org  Tue Apr 17 00:11:46 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Mon, 16 Apr 2018 22:11:46 +0000
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
 <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>
Message-ID: <A86C6438FB909A409DDEF926277952B6A78103@PPWEXCH2KX14.coh.org>

Hi Rui,

Thank you very much!!  It worked very well, I am looking into how  to use lapply and do.call.

Ding

-----Original Message-----
From: Rui Barradas [mailto:ruipbarradas at sapo.pt] 
Sent: Monday, April 16, 2018 2:16 PM
To: Ding, Yuan Chun; r-help at r-project.org
Subject: Re: [R] how to write a loop to repetitive jobs

Hello,

The following might do it. Without data it's untested.


wd <- function(i){
     paste0("C:/Awork/geneAssociation/removed8samples/neuhausen7", i,
"/seg.pr3.csv")
}

seg <- lapply(1:5, function(i) {
     DF <-read.csv(wd(i))
     DF$id <- paste0("sn7", i)
     DF
})

seg <- do.call(rbind, seg)
row.names(seg) <- NULL


Hope this helps,

Rui Barradas

On 4/16/2018 9:54 PM, Ding, Yuan Chun wrote:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T) seg71$id <-"sn71"
> 
> seg72 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T) seg72$id <-"sn72"
> 
> seg73 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T) seg73$id <-"sn73"
> 
> seg74 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T) seg74$id <-"sn74"
> 
> seg75 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T) seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>    Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
>    setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From drjimlemon @ending from gm@il@com  Tue Apr 17 00:37:43 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Tue, 17 Apr 2018 08:37:43 +1000
Subject: [R] Fwd: Help with R-Calling forth csv.
In-Reply-To: <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
 <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>
 <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
 <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>
Message-ID: <CA+8X3fWOXxq83GjjK9ANXpVWZU4pPJkeJxoD4dhoiC1vLxS2pA@mail.gmail.com>

Hi Mohammad,
The plot you attached suggests that the underlying distribution may be
a mixture. Is there anything in your data that would explain this,
such as laden/unladen, uphill/downhill, different road surface?

Jim

On Mon, Apr 16, 2018 at 11:31 PM, Mohammad Areida <areidamh at gmail.com> wrote:
> Hi, I do not know how to post in general again, however my csv contains
> around 5-250k data Points depending on vehicle/road type and pressure
> exerted on geotechnical structures. I have used R to develope histograms of
> said csv files and will attach such Picture to you in this mail and the csv
> used. Below I will type the R code I have used for this histogram.
>
> ------------------------------------------------------------
> ----------------------------
>
> tryck <- read.csv("radmanso_2017.csv", sep=";", dec=",")
>
> ##### H??R KOLLAR VI ALLA DATA PUNKTER ######
>
> ggplot(data=tryck, aes(tryck[,1])) +
>
>   geom_histogram(aes(y =..density..),
>
>                  breaks=seq(min(tryck[,1]-1), max(tryck[,1]+1), by = 0.5),
>
>                  col="black",
>
>                  fill="green",
>
>                  alpha = .2) +
>
>   geom_density(col=2) +
>
>   labs(title="Pressure for r?dmans?") +
>
>   labs(x="Pressure [kPa]", y="Amount of vehicles (Percentage)")+
>
>   stat_function(fun=dnorm, colour="blue", args = list(mean =
> mean(tryck[,1]), sd = sd(tryck[,1])))
>
>
>
> My problem now is to find a statistical distribution that corresponds well
> with my histograms with the use of Visual aids, cumulative distributions or
> goodness of fit tests which I can?t develope a code for as my csv wont get
> called forth and I do not know how to proceed from that Point on to develop
> such an aid. If you have any input on how to read the csv file and call
> forth a distribution to try on my data points such as Weibull, beta, chi or
> gen. Extreme value distributions I would much appreciate the help!
>
>
>
> Kind regards,
>
> Mohammad
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From @lk@uffm @ending from f@@tm@il@fm  Tue Apr 17 08:15:40 2018
From: @lk@uffm @ending from f@@tm@il@fm (Albrecht Kauffmann)
Date: Tue, 17 Apr 2018 08:15:40 +0200
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>

Hello Ding,

try this:

seg <- list()
for ( d in 71:75) {
  s <- paste0("seg",d)
  sn <- paste0("sn",d)
  Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
  setwd(Dir)
  seg[[s]] <- read.csv("seg.pr3.csv", head=T)
  seg[[s]]$id <- sn
}

Greetings,
Albrecht

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mo, 16. Apr 2018, um 22:54, schrieb Ding, Yuan Chun:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/
> seg.pr3.csv", head=T)
> seg71$id <-"sn71"
> 
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/
> seg.pr3.csv", head=T)
> seg72$id <-"sn72"
> 
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/
> seg.pr3.csv", head=T)
> seg73$id <-"sn73"
> 
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/
> seg.pr3.csv", head=T)
> seg74$id <-"sn74"
> 
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/
> seg.pr3.csv", head=T)
> seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>   Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, 
> sep="")
>   setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it 
> would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:8}}



From m@illi@t@ @ending from pp@inet@fi  Tue Apr 17 08:27:53 2018
From: m@illi@t@ @ending from pp@inet@fi (K. Elo)
Date: Tue, 17 Apr 2018 09:27:53 +0300
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
 <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>
Message-ID: <1523946473.26781.26.camel@pp.inet.fi>

Hi!

An alternative with 'assign':

for ( i in 71:75) {
? setwd(paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
sep=""))
? temp.df<-read.csv("seg.pr3.csv", head=T)
? temp.df$id<-paste0("sn",i,sep="")
? assign(paste0("seg",i,sep=""),temp.df)
}
rm(temp.df,i) ? ?# Clean up

HTH,
Kimmo


2018-04-17 kello 08:15 +0200, Albrecht Kauffmann wrote:
> Hello Ding,
> 
> try this:
> 
> seg <- list()
> for ( d in 71:75) {
> ? s <- paste0("seg",d)
> ? sn <- paste0("sn",d)
> ? Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
> sep="")
> ? setwd(Dir)
> ? seg[[s]] <- read.csv("seg.pr3.csv", head=T)
> ? seg[[s]]$id <- sn
> }
> 
> Greetings,
> Albrecht
>



From neotropic@l@b@t@ @ending from gm@il@com  Tue Apr 17 13:20:02 2018
From: neotropic@l@b@t@ @ending from gm@il@com (Neotropical bat risk assessments)
Date: Tue, 17 Apr 2018 07:20:02 -0400
Subject: [R] iterative read - write
In-Reply-To: <mailman.1.1508061601.444.r-help@r-project.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
Message-ID: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>

Hi all,

I would like to set up an iterative read & write sequence to avoid 
reading and writing each file one at a time.
Hundreds of data sets to re-calculate.? The code I have works well 
individually, but would like to set up an iterative read, calculate and 
write changing the input and output file names each iteration.

I? think I have read that there is an R? feature using "Pipes" and % 
that may help but have not figured out how to do this.
What I am seeking is a way to read a list of TXT files, calculate the 
values and write the results in an iterative manner to avoid manually 
reading each file individually

Suggestions?

Tnx,
Bruce*
*

*# This works*

*#read in a data file
*

*>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by 
genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*

*# create and calculate a new variable for time between call pusles
*

*Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*

*# Create new BW variable for band width then change data file name*

*BW<-within(Corbre_2,BW<-Fmax-Fmin)*

*# Create 2 new variables for fundamental H1 and third harmonic H3 
frequencies
*

*#based on Fc that is generally loudest at the 2^nd harmonic.*

*BW<-within(BW,FcH1<-Fc*.5)*

*BW<-within(BW,FcH3<-FcH1*3)*

*#rename to a DF to calculate the stats
*

*BatStats<-BW*

*BatStats<-Deducer::descriptive.table (vars = d 
(Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data= 
BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St. 
Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10), 
na.rm=TRUE),p25=function(x) quantile(x, c(0.25), 
na.rm=TRUE),p75=function(x) quantile(x, 
c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*

*## Write the results and change output name and directory for the 
calculated stats.*

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic 
Parameters\\Corbre_Stats.csv")*



-- 
Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet

Using acoustic sampling to identify and map species distributions for >25 years.

Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats


	[[alternative HTML version deleted]]



From bgunter@4567 @ending from gm@il@com  Tue Apr 17 14:00:07 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Tue, 17 Apr 2018 12:00:07 +0000
Subject: [R] iterative read - write
In-Reply-To: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
Message-ID: <CAGxFJbSBowHF_vT8xQDt6NWJWeJh1YiNcOW_19KAFDR-PaTs8Q@mail.gmail.com>

Suggestions?

Yes. Don't do this.

Instead, wrap your code in a function, use lapply() to apply it over your
list of files, returning all results in one list, and then save the list in
an .rdata file.

Also, in future, please post in plain text, as html tends to get mangled on
this plain text list .

Bert

On Tue, Apr 17, 2018, 4:20 AM Neotropical bat risk assessments <
neotropical.bats at gmail.com> wrote:

> Hi all,
>
> I would like to set up an iterative read & write sequence to avoid
> reading and writing each file one at a time.
> Hundreds of data sets to re-calculate.  The code I have works well
> individually, but would like to set up an iterative read, calculate and
> write changing the input and output file names each iteration.
>
> I  think I have read that there is an R  feature using "Pipes" and %
> that may help but have not figured out how to do this.
> What I am seeking is a way to read a list of TXT files, calculate the
> values and write the results in an iterative manner to avoid manually
> reading each file individually
>
> Suggestions?
>
> Tnx,
> Bruce*
> *
>
> *# This works*
>
> *#read in a data file
> *
>
> *>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
> genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*
>
> *# create and calculate a new variable for time between call pusles
> *
>
> *Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*
>
> *# Create new BW variable for band width then change data file name*
>
> *BW<-within(Corbre_2,BW<-Fmax-Fmin)*
>
> *# Create 2 new variables for fundamental H1 and third harmonic H3
> frequencies
> *
>
> *#based on Fc that is generally loudest at the 2^nd harmonic.*
>
> *BW<-within(BW,FcH1<-Fc*.5)*
>
> *BW<-within(BW,FcH3<-FcH1*3)*
>
> *#rename to a DF to calculate the stats
> *
>
> *BatStats<-BW*
>
> *BatStats<-Deducer::descriptive.table (vars = d
> (Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
> BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
> Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
> na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
> na.rm=TRUE),p75=function(x) quantile(x,
> c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*
>
> *## Write the results and change output name and directory for the
> calculated stats.*
>
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\Corbre_Stats.csv")*
>
>
>
> --
> Bruce W. Miller, PhD.
> Neotropical bat risk assessments
> Conservation Fellow - Wildlife Conservation Society
>
> If we lose the bats, we may lose much of the tropical vegetation and the
> lungs of the planet
>
> Using acoustic sampling to identify and map species distributions for >25
> years.
>
> Providing free Interactive identification keys and call fact sheets for
> the vocal signatures of New World Bats
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

On Apr 17, 2018 4:20 AM, "Neotropical bat risk assessments" <
neotropical.bats at gmail.com> wrote:

Hi all,

I would like to set up an iterative read & write sequence to avoid
reading and writing each file one at a time.
Hundreds of data sets to re-calculate.  The code I have works well
individually, but would like to set up an iterative read, calculate and
write changing the input and output file names each iteration.

I  think I have read that there is an R  feature using "Pipes" and %
that may help but have not figured out how to do this.
What I am seeking is a way to read a list of TXT files, calculate the
values and write the results in an iterative manner to avoid manually
reading each file individually

Suggestions?

Tnx,
Bruce*
*

*# This works*

*#read in a data file
*

*>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*

*# create and calculate a new variable for time between call pusles
*

*Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*

*# Create new BW variable for band width then change data file name*

*BW<-within(Corbre_2,BW<-Fmax-Fmin)*

*# Create 2 new variables for fundamental H1 and third harmonic H3
frequencies
*

*#based on Fc that is generally loudest at the 2^nd harmonic.*

*BW<-within(BW,FcH1<-Fc*.5)*

*BW<-within(BW,FcH3<-FcH1*3)*

*#rename to a DF to calculate the stats
*

*BatStats<-BW*

*BatStats<-Deducer::descriptive.table (vars = d
(Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
na.rm=TRUE),p75=function(x) quantile(x,
c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*

*## Write the results and change output name and directory for the
calculated stats.*

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
Parameters\\Corbre_Stats.csv")*



-- 
Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the
lungs of the planet

Using acoustic sampling to identify and map species distributions for >25
years.

Providing free Interactive identification keys and call fact sheets for the
vocal signatures of New World Bats


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]



From neotropic@l@b@t@ @ending from gm@il@com  Tue Apr 17 14:01:10 2018
From: neotropic@l@b@t@ @ending from gm@il@com (Neotropical bat risk assessments)
Date: Tue, 17 Apr 2018 08:01:10 -0400
Subject: [R] Hacked
In-Reply-To: <mailman.1.1508061601.444.r-help@r-project.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
Message-ID: <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>

Hi all,

Site has been hacked?
Bad SPAM arriving



From thierry@onkelinx @ending from inbo@be  Tue Apr 17 14:34:38 2018
From: thierry@onkelinx @ending from inbo@be (Thierry Onkelinx)
Date: Tue, 17 Apr 2018 14:34:38 +0200
Subject: [R] iterative read - write
In-Reply-To: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
Message-ID: <CAJuCY5yQpF4mVvzLnvP5o3drJT=VL=Cf4vSaFafi0Pu7Vtx07A@mail.gmail.com>

Dear Bruce,

I'd write a function that take filenames as arguments. It should read
the file, do the calculations and write that output to another file
which can be calculated from the input. You can get all input files in
a directory with e.g. list.files(). Then you can simply loop over the
inputs. Here is some pseudo code.

my_summary <- function(input) {
   raw <- read.table(input)
   summarised <- summary(raw)
   output <- calculate_output(input)
   write.csv(summarised, output)
}
inputs <- list.files("raw/data/path")
sapply(inputs, my_summary)

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-17 13:20 GMT+02:00 Neotropical bat risk assessments
<neotropical.bats at gmail.com>:
> Hi all,
>
> I would like to set up an iterative read & write sequence to avoid
> reading and writing each file one at a time.
> Hundreds of data sets to re-calculate.  The code I have works well
> individually, but would like to set up an iterative read, calculate and
> write changing the input and output file names each iteration.
>
> I  think I have read that there is an R  feature using "Pipes" and %
> that may help but have not figured out how to do this.
> What I am seeking is a way to read a list of TXT files, calculate the
> values and write the results in an iterative manner to avoid manually
> reading each file individually
>
> Suggestions?
>
> Tnx,
> Bruce*
> *
>
> *# This works*
>
> *#read in a data file
> *
>
> *>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
> genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*
>
> *# create and calculate a new variable for time between call pusles
> *
>
> *Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*
>
> *# Create new BW variable for band width then change data file name*
>
> *BW<-within(Corbre_2,BW<-Fmax-Fmin)*
>
> *# Create 2 new variables for fundamental H1 and third harmonic H3
> frequencies
> *
>
> *#based on Fc that is generally loudest at the 2^nd harmonic.*
>
> *BW<-within(BW,FcH1<-Fc*.5)*
>
> *BW<-within(BW,FcH3<-FcH1*3)*
>
> *#rename to a DF to calculate the stats
> *
>
> *BatStats<-BW*
>
> *BatStats<-Deducer::descriptive.table (vars = d
> (Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
> BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
> Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
> na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
> na.rm=TRUE),p75=function(x) quantile(x,
> c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*
>
> *## Write the results and change output name and directory for the
> calculated stats.*
>
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\Corbre_Stats.csv")*
>
>
>
> --
> Bruce W. Miller, PhD.
> Neotropical bat risk assessments
> Conservation Fellow - Wildlife Conservation Society
>
> If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet
>
> Using acoustic sampling to identify and map species distributions for >25 years.
>
> Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewmil @ending from dcn@d@vi@@c@@u@  Tue Apr 17 14:58:32 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Tue, 17 Apr 2018 05:58:32 -0700
Subject: [R] Hacked
In-Reply-To: <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
Message-ID: <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>

Likely a spammer has joined the mailing list and is auto-replying to posts made to the list. Unlikely that the list itself has been "hacked". Agree that it is obnoxious.

On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <neotropical.bats at gmail.com> wrote:
>Hi all,
>
>Site has been hacked?
>Bad SPAM arriving
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From je@@ie@woodbridge @ending from plymouth@@c@uk  Tue Apr 17 18:59:24 2018
From: je@@ie@woodbridge @ending from plymouth@@c@uk (Jessie Woodbridge)
Date: Tue, 17 Apr 2018 16:59:24 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <VI1PR03MB35014C956D53B30A5E08D374C9B70@VI1PR03MB3501.eurprd03.prod.outlook.com>

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I'm trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn't relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

	[[alternative HTML version deleted]]



From All@i@one1 @ending from hotm@il@com  Tue Apr 17 19:10:24 2018
From: All@i@one1 @ending from hotm@il@com (Allaisone 1)
Date: Tue, 17 Apr 2018 17:10:24 +0000
Subject: [R] Time intervals in a datframe
Message-ID: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>


Hi all

I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :

SingleDataframe <- ldply (MylistofDFs,data.frame)

The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :

The column Before conversion looks like this:

TimeInterval (class 'interval')
2012-12-13 UTC--2016-02-16 UTC

but after conversion the list into dataframe,
This column becomes number of seconds as follows :

TimeInterval (class : numeric)
100224000

Is there any method to convert my list into a a single dataframe without affecting the types of
vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

Any suggestions would be very appreciated.

Regards

	[[alternative HTML version deleted]]



From ulrik@@tervbo @ending from gm@il@com  Tue Apr 17 20:37:08 2018
From: ulrik@@tervbo @ending from gm@il@com (Ulrik Stervbo)
Date: Tue, 17 Apr 2018 18:37:08 +0000
Subject: [R] Hacked
In-Reply-To: <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
Message-ID: <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>

I asked the moderators about it. This is the reply

"Other moderators have looked into this a bit and may be able to shed more
light on it. This is a "new" tactic where the spammers appear to reply to
the r-help post. They are not, however, going through the r-help server.

It also seems that this does not happen to everyone.

I am not sure how you can automatically block the spammers.

Sorry I cannot be of more help."

--Ulrik

Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
14:59:

> Likely a spammer has joined the mailing list and is auto-replying to posts
> made to the list. Unlikely that the list itself has been "hacked". Agree
> that it is obnoxious.
>
> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
> neotropical.bats at gmail.com> wrote:
> >Hi all,
> >
> >Site has been hacked?
> >Bad SPAM arriving
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From peter@l@ngfelder @ending from gm@il@com  Tue Apr 17 20:50:19 2018
From: peter@l@ngfelder @ending from gm@il@com (Peter Langfelder)
Date: Tue, 17 Apr 2018 11:50:19 -0700
Subject: [R] Hacked
In-Reply-To: <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
Message-ID: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>

I got some spam emails after my last post to the list, and the emails
did not seem to go through r-help. The spammers may be subscribed to
the r-help, or they get the poster emails from some of the web copies
of this list (nabble or similar).

Peter

On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
> I asked the moderators about it. This is the reply
>
> "Other moderators have looked into this a bit and may be able to shed more
> light on it. This is a "new" tactic where the spammers appear to reply to
> the r-help post. They are not, however, going through the r-help server.
>
> It also seems that this does not happen to everyone.
>
> I am not sure how you can automatically block the spammers.
>
> Sorry I cannot be of more help."
>
> --Ulrik
>
> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
> 14:59:
>
>> Likely a spammer has joined the mailing list and is auto-replying to posts
>> made to the list. Unlikely that the list itself has been "hacked". Agree
>> that it is obnoxious.
>>
>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>> neotropical.bats at gmail.com> wrote:
>> >Hi all,
>> >
>> >Site has been hacked?
>> >Bad SPAM arriving
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From je@@ie@woodbridge @ending from plymouth@@c@uk  Tue Apr 17 21:04:51 2018
From: je@@ie@woodbridge @ending from plymouth@@c@uk (Jessie Woodbridge)
Date: Tue, 17 Apr 2018 19:04:51 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

From lui@@@puerto @ending from gm@il@com  Tue Apr 17 21:10:44 2018
From: lui@@@puerto @ending from gm@il@com (Luis Puerto)
Date: Tue, 17 Apr 2018 22:10:44 +0300
Subject: [R] Hacked
In-Reply-To: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
Message-ID: <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails
> did not seem to go through r-help. The spammers may be subscribed to
> the r-help, or they get the poster emails from some of the web copies
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed more
>> light on it. This is a "new" tactic where the spammers appear to reply to
>> the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to posts
>>> made to the list. Unlikely that the list itself has been "hacked". Agree
>>> that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From M@rk@Fowler @ending from dfo-mpo@gc@c@  Tue Apr 17 21:31:44 2018
From: M@rk@Fowler @ending from dfo-mpo@gc@c@ (Fowler, Mark)
Date: Tue, 17 Apr 2018 19:31:44 +0000
Subject: [R] Hacked
In-Reply-To: <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
Message-ID: <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>

Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails 
> did not seem to go through r-help. The spammers may be subscribed to 
> the r-help, or they get the poster emails from some of the web copies 
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed 
>> more light on it. This is a "new" tactic where the spammers appear to 
>> reply to the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 
>> 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to 
>>> posts made to the list. Unlikely that the list itself has been 
>>> "hacked". Agree that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments < 
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From ycding @ending from coh@org  Tue Apr 17 21:34:10 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Tue, 17 Apr 2018 19:34:10 +0000
Subject: [R] Hacked
In-Reply-To: <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>

No, I do not use gmail, still got dirty spam email twice. 

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler, Mark
Sent: Tuesday, April 17, 2018 12:32 PM
To: Luis Puerto; Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails 
> did not seem to go through r-help. The spammers may be subscribed to 
> the r-help, or they get the poster emails from some of the web copies 
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed 
>> more light on it. This is a "new" tactic where the spammers appear to 
>> reply to the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 
>> 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to 
>>> posts made to the list. Unlikely that the list itself has been 
>>> "hacked". Agree that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments < 
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}



From dc@rl@on @ending from t@mu@edu  Tue Apr 17 22:12:43 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Tue, 17 Apr 2018 20:12:43 +0000
Subject: [R] nMDS with R: missing values
In-Reply-To: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
References: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
Message-ID: <c3b88714129540aa888f49e3852e3041@tamu.edu>

I think you will have to provide some more information. What function/package are you using for nMDS (eg. isoMDS in MASS, monoMDS in vegan)? What function/package are you using to compute your distance/dissimilarities (eg. dist in stats, vegdist in vegan)? 

Zero represents absence. It is not a missing value, so that part of your question is not clear.

The dist() function computes distance ignoring missing values if they are properly represented as NAs in the data. The vegdist() function does this if na.rm=TRUE. 

The results will be affected by how much data is missing. It would be useful to know if the missing values are concentrated in particular rows or columns so that eliminating a few rows and columns could substantially reduce the percentage of missing values.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352


0-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Jessie Woodbridge
Sent: Tuesday, April 17, 2018 2:05 PM
To: r-help at r-project.org
Subject: [R] nMDS with R: missing values

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From ruipb@rr@d@@ @ending from @@po@pt  Tue Apr 17 23:09:26 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Tue, 17 Apr 2018 22:09:26 +0100
Subject: [R] Hacked
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
Message-ID: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>

Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> 
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>
>> I got some spam emails after my last post to the list, and the emails
>> did not seem to go through r-help. The spammers may be subscribed to
>> the r-help, or they get the poster emails from some of the web copies
>> of this list (nabble or similar).
>>
>> Peter
>>
>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>> I asked the moderators about it. This is the reply
>>>
>>> "Other moderators have looked into this a bit and may be able to shed
>>> more light on it. This is a "new" tactic where the spammers appear to
>>> reply to the r-help post. They are not, however, going through the r-help server.
>>>
>>> It also seems that this does not happen to everyone.
>>>
>>> I am not sure how you can automatically block the spammers.
>>>
>>> Sorry I cannot be of more help."
>>>
>>> --Ulrik
>>>
>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>> 2018,
>>> 14:59:
>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>> posts made to the list. Unlikely that the list itself has been
>>>> "hacked". Agree that it is obnoxious.
>>>>
>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>> neotropical.bats at gmail.com> wrote:
>>>>> Hi all,
>>>>>
>>>>> Site has been hacked?
>>>>> Bad SPAM arriving
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> --
>>>> Sent from my phone. Please excuse my brevity.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From dwin@emiu@ @ending from comc@@t@net  Tue Apr 17 23:10:43 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Tue, 17 Apr 2018 14:10:43 -0700
Subject: [R] Time intervals in a datframe
In-Reply-To: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>


> On Apr 17, 2018, at 10:10 AM, Allaisone 1 <allaisone1 at hotmail.com> wrote:
> 
> 
> Hi all
> 
> I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :
> 
> SingleDataframe <- ldply (MylistofDFs,data.frame)
> 
> The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :
> 
> The column Before conversion looks like this:
> 
> TimeInterval (class 'interval')
> 2012-12-13 UTC--2016-02-16 UTC
> 
> but after conversion the list into dataframe,
> This column becomes number of seconds as follows :
> 
> TimeInterval (class : numeric)
> 100224000
> 
> Is there any method to convert my list into a a single dataframe without affecting the types of
> vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

There is no base R class called "interval". Perhaps lubridate has not provided you with an `ldply( . ,data.frame)`-accessible method for concatenation. You should construct an example that starts with the loading code for whatever package(s) are being used.


> 
> Any suggestions would be very appreciated.
> 
> Regards
> 
> 	[[alternative HTML version deleted]]
> 

You should also read the Posting Guide.


> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @@5505 @ending from cumc@columbi@@edu  Tue Apr 17 23:13:38 2018
From: @@5505 @ending from cumc@columbi@@edu (Sariya, Sanjeev)
Date: Tue, 17 Apr 2018 21:13:38 +0000
Subject: [R] Hacked
In-Reply-To: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
Message-ID: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>

I've been receiving nasty e-mails too. No g-mail, but official/work e-mail address. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
Sent: Tuesday, April 17, 2018 5:09 PM
To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter Langfelder <peter.langfelder at gmail.com>
Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk assessments <neotropical.bats at gmail.com>
Subject: Re: [R] Hacked

Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of 
> Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open 
> attachments or click on links from unknown senders or unexpected 
> emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis 
> Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> 
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>
>> I got some spam emails after my last post to the list, and the emails 
>> did not seem to go through r-help. The spammers may be subscribed to 
>> the r-help, or they get the poster emails from some of the web copies 
>> of this list (nabble or similar).
>>
>> Peter
>>
>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>> I asked the moderators about it. This is the reply
>>>
>>> "Other moderators have looked into this a bit and may be able to 
>>> shed more light on it. This is a "new" tactic where the spammers 
>>> appear to reply to the r-help post. They are not, however, going through the r-help server.
>>>
>>> It also seems that this does not happen to everyone.
>>>
>>> I am not sure how you can automatically block the spammers.
>>>
>>> Sorry I cannot be of more help."
>>>
>>> --Ulrik
>>>
>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>> 2018,
>>> 14:59:
>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying 
>>>> to posts made to the list. Unlikely that the list itself has been 
>>>> "hacked". Agree that it is obnoxious.
>>>>
>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments 
>>>> < neotropical.bats at gmail.com> wrote:
>>>>> Hi all,
>>>>>
>>>>> Site has been hacked?
>>>>> Bad SPAM arriving
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> --
>>>> Sent from my phone. Please excuse my brevity.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From All@i@one1 @ending from hotm@il@com  Wed Apr 18 00:19:15 2018
From: All@i@one1 @ending from hotm@il@com (Allaisone 1)
Date: Tue, 17 Apr 2018 22:19:15 +0000
Subject: [R] Time intervals in a datframe
In-Reply-To: <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>
References: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>,
 <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>
Message-ID: <DB5PR02MB0904A9D7E8D1E00F24848A7A80B70@DB5PR02MB0904.eurprd02.prod.outlook.com>

Many thank David ..,


Yes , correct, the class "interval" is a special class belongs to the package "lubridate" and
is not a base R class.

I have just found a solution and happy to share it :-

using an alternative conversion method with the use of "rbind" instead of
"ldplyr " method will keep the converted dataframe with the same "interval' class as follows :-

MySingleDF <- do.call("rbind",MyList)

Regards
________________________________
From: David Winsemius <dwinsemius at comcast.net>
Sent: 17 April 2018 21:10:43
To: Allaisone 1
Cc: r-help at r-project.org
Subject: Re: [R] Time intervals in a datframe


> On Apr 17, 2018, at 10:10 AM, Allaisone 1 <allaisone1 at hotmail.com> wrote:
>
>
> Hi all
>
> I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :
>
> SingleDataframe <- ldply (MylistofDFs,data.frame)
>
> The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :
>
> The column Before conversion looks like this:
>
> TimeInterval (class 'interval')
> 2012-12-13 UTC--2016-02-16 UTC
>
> but after conversion the list into dataframe,
> This column becomes number of seconds as follows :
>
> TimeInterval (class : numeric)
> 100224000
>
> Is there any method to convert my list into a a single dataframe without affecting the types of
> vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

There is no base R class called "interval". Perhaps lubridate has not provided you with an `ldply( . ,data.frame)`-accessible method for concatenation. You should construct an example that starts with the loading code for whatever package(s) are being used.


>
> Any suggestions would be very appreciated.
>
> Regards
>
>        [[alternative HTML version deleted]]
>

You should also read the Posting Guide.


> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law






	[[alternative HTML version deleted]]



From erinm@hodge@@ @ending from gm@il@com  Tue Apr 17 23:59:02 2018
From: erinm@hodge@@ @ending from gm@il@com (Erin Hodgess)
Date: Tue, 17 Apr 2018 21:59:02 +0000
Subject: [R] Hacked
In-Reply-To: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
Message-ID: <CACxE24kgkFsLvzF+MGLUicVd=uvyQd_WDvLsDeFR-7zV16yNSQ@mail.gmail.com>

Me as well, but I have gmail.



On Tue, Apr 17, 2018 at 4:24 PM Sariya, Sanjeev <ss5505 at cumc.columbia.edu>
wrote:

> I've been receiving nasty e-mails too. No g-mail, but official/work e-mail
> address.
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
> Sent: Tuesday, April 17, 2018 5:09 PM
> To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <
> Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter
> Langfelder <peter.langfelder at gmail.com>
> Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk
> assessments <neotropical.bats at gmail.com>
> Subject: Re: [R] Hacked
>
> Hello,
>
> Nor do I, no gmail, also got spam.
>
> Rui Barradas
>
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> > No, I do not use gmail, still got dirty spam email twice.
> >
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
> > Fowler, Mark
> > Sent: Tuesday, April 17, 2018 12:32 PM
> > To: Luis Puerto; Peter Langfelder
> > Cc: R-Help ML R-Project; Neotropical bat risk assessments
> > Subject: Re: [R] Hacked
> >
> > [Attention: This email came from an external source. Do not open
> > attachments or click on links from unknown senders or unexpected
> > emails.]
> >
> >
> >
> >
> >
> > Just an observation. I have not seen the spam you are discussing.
> Possibly it is specific to gmail addresses?
> >
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
> > Puerto
> > Sent: April 17, 2018 4:11 PM
> > To: Peter Langfelder
> > Cc: R-Help ML R-Project; Neotropical bat risk assessments
> > Subject: Re: [R] Hacked
> >
> > Hi!
> >
> > This happened to me also! I just got a spam email just after posting and
> then in following days I got obnoxious spam emails in my spam filter. As
> the others, I think that there is some kind of bot subscribed to the list,
> but also perhaps a spider or crawler monitoring the R-Help archive and
> getting email addresses there. Nabble is a possibility too.
> >
> >> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
> wrote:
> >>
> >> I got some spam emails after my last post to the list, and the emails
> >> did not seem to go through r-help. The spammers may be subscribed to
> >> the r-help, or they get the poster emails from some of the web copies
> >> of this list (nabble or similar).
> >>
> >> Peter
> >>
> >> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <
> ulrik.stervbo at gmail.com> wrote:
> >>> I asked the moderators about it. This is the reply
> >>>
> >>> "Other moderators have looked into this a bit and may be able to
> >>> shed more light on it. This is a "new" tactic where the spammers
> >>> appear to reply to the r-help post. They are not, however, going
> through the r-help server.
> >>>
> >>> It also seems that this does not happen to everyone.
> >>>
> >>> I am not sure how you can automatically block the spammers.
> >>>
> >>> Sorry I cannot be of more help."
> >>>
> >>> --Ulrik
> >>>
> >>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
> >>> 2018,
> >>> 14:59:
> >>>
> >>>> Likely a spammer has joined the mailing list and is auto-replying
> >>>> to posts made to the list. Unlikely that the list itself has been
> >>>> "hacked". Agree that it is obnoxious.
> >>>>
> >>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments
> >>>> < neotropical.bats at gmail.com> wrote:
> >>>>> Hi all,
> >>>>>
> >>>>> Site has been hacked?
> >>>>> Bad SPAM arriving
> >>>>>
> >>>>> ______________________________________________
> >>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>> PLEASE do read the posting guide
> >>>>> http://www.R-project.org/posting-guide.html
> >>>>> and provide commented, minimal, self-contained, reproducible code.
> >>>>
> >>>> --
> >>>> Sent from my phone. Please excuse my brevity.
> >>>>
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide
> >>>> http://www.R-project.org/posting-guide.html
> >>>> and provide commented, minimal, self-contained, reproducible code.
> >>>>
> >>>
> >>>         [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> >
> > ---------------------------------------------------------------------
> > -SECURITY/CONFIDENTIALITY WARNING-
> > This message (and any attachments) are intended solely
> > f...{{dropped:28}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 
Erin Hodgess
Associate Professor
Department of Mathematical and Statistics
University of Houston - Downtown
mailto: erinm.hodgess at gmail.com

	[[alternative HTML version deleted]]



From ro@lin@ump @ending from gm@il@com  Wed Apr 18 01:18:19 2018
From: ro@lin@ump @ending from gm@il@com (Roslina Zakaria)
Date: Wed, 18 Apr 2018 07:18:19 +0800
Subject: [R] Hacked
In-Reply-To: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
Message-ID: <yppcxqogqlf5wpf3fv0jqns5.1524007099210@email.android.com>

Mee too got nasty email after i responded the r help email.

Sent from my Sony Xperia? smartphone

---- Sariya, Sanjeev wrote ----

>I've been receiving nasty e-mails too. No g-mail, but official/work e-mail address. 
>
>-----Original Message-----
>From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
>Sent: Tuesday, April 17, 2018 5:09 PM
>To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter Langfelder <peter.langfelder at gmail.com>
>Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk assessments <neotropical.bats at gmail.com>
>Subject: Re: [R] Hacked
>
>Hello,
>
>Nor do I, no gmail, also got spam.
>
>Rui Barradas
>
>On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>> No, I do not use gmail, still got dirty spam email twice.
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of 
>> Fowler, Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> [Attention: This email came from an external source. Do not open 
>> attachments or click on links from unknown senders or unexpected 
>> emails.]
>> 
>> 
>> 
>> 
>> 
>> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis 
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> Hi!
>> 
>> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
>> 
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>>
>>> I got some spam emails after my last post to the list, and the emails 
>>> did not seem to go through r-help. The spammers may be subscribed to 
>>> the r-help, or they get the poster emails from some of the web copies 
>>> of this list (nabble or similar).
>>>
>>> Peter
>>>
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>>> I asked the moderators about it. This is the reply
>>>>
>>>> "Other moderators have looked into this a bit and may be able to 
>>>> shed more light on it. This is a "new" tactic where the spammers 
>>>> appear to reply to the r-help post. They are not, however, going through the r-help server.
>>>>
>>>> It also seems that this does not happen to everyone.
>>>>
>>>> I am not sure how you can automatically block the spammers.
>>>>
>>>> Sorry I cannot be of more help."
>>>>
>>>> --Ulrik
>>>>
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>> 2018,
>>>> 14:59:
>>>>
>>>>> Likely a spammer has joined the mailing list and is auto-replying 
>>>>> to posts made to the list. Unlikely that the list itself has been 
>>>>> "hacked". Agree that it is obnoxious.
>>>>>
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments 
>>>>> < neotropical.bats at gmail.com> wrote:
>>>>>> Hi all,
>>>>>>
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely 
>> f...{{dropped:28}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From m@rkleed@2 @ending from gm@il@com  Wed Apr 18 05:33:03 2018
From: m@rkleed@2 @ending from gm@il@com (Mark Leeds)
Date: Tue, 17 Apr 2018 23:33:03 -0400
Subject: [R] Hacked
In-Reply-To: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
Message-ID: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>

Hi All: I lately get a lot more spam-porn type emails lately also but I
don't know if they are due to me being on
the R-list.



On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Nor do I, no gmail, also got spam.
>
> Rui Barradas
>
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>
>> No, I do not use gmail, still got dirty spam email twice.
>>
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler,
>> Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>>
>> [Attention: This email came from an external source. Do not open
>> attachments or click on links from unknown senders or unexpected emails.]
>>
>>
>>
>>
>>
>> Just an observation. I have not seen the spam you are discussing.
>> Possibly it is specific to gmail addresses?
>>
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>>
>> Hi!
>>
>> This happened to me also! I just got a spam email just after posting and
>> then in following days I got obnoxious spam emails in my spam filter. As
>> the others, I think that there is some kind of bot subscribed to the list,
>> but also perhaps a spider or crawler monitoring the R-Help archive and
>> getting email addresses there. Nabble is a possibility too.
>>
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
>>> wrote:
>>>
>>> I got some spam emails after my last post to the list, and the emails
>>> did not seem to go through r-help. The spammers may be subscribed to
>>> the r-help, or they get the poster emails from some of the web copies
>>> of this list (nabble or similar).
>>>
>>> Peter
>>>
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com>
>>> wrote:
>>>
>>>> I asked the moderators about it. This is the reply
>>>>
>>>> "Other moderators have looked into this a bit and may be able to shed
>>>> more light on it. This is a "new" tactic where the spammers appear to
>>>> reply to the r-help post. They are not, however, going through the
>>>> r-help server.
>>>>
>>>> It also seems that this does not happen to everyone.
>>>>
>>>> I am not sure how you can automatically block the spammers.
>>>>
>>>> Sorry I cannot be of more help."
>>>>
>>>> --Ulrik
>>>>
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>> 2018,
>>>> 14:59:
>>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>>> posts made to the list. Unlikely that the list itself has been
>>>>> "hacked". Agree that it is obnoxious.
>>>>>
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>>> neotropical.bats at gmail.com> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely f...{{dropped:28}}
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posti
> ng-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From drjimlemon @ending from gm@il@com  Wed Apr 18 06:16:46 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Wed, 18 Apr 2018 14:16:46 +1000
Subject: [R] Hacked
In-Reply-To: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
Message-ID: <CA+8X3fW_jDDYdh6PKUTet1Z=Q4unOEMYNjatW=f=PCD9f0CcWQ@mail.gmail.com>

It's happened 3 or 4 times for me, only on the R list. It only happens
when answering certain questions and I think all responders to that
question may get it. Seems to have nothing to do with the OP. I just
block the email address.

Jim

On Wed, Apr 18, 2018 at 1:33 PM, Mark Leeds <markleeds2 at gmail.com> wrote:
> Hi All: I lately get a lot more spam-porn type emails lately also but I
> don't know if they are due to me being on
> the R-list.
>
>
>
> On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> Nor do I, no gmail, also got spam.
>>
>> Rui Barradas
>>
>> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>>
>>> No, I do not use gmail, still got dirty spam email twice.
>>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler,
>>> Mark
>>> Sent: Tuesday, April 17, 2018 12:32 PM
>>> To: Luis Puerto; Peter Langfelder
>>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>>> Subject: Re: [R] Hacked
>>>
>>> [Attention: This email came from an external source. Do not open
>>> attachments or click on links from unknown senders or unexpected emails.]
>>>
>>>
>>>
>>>
>>>
>>> Just an observation. I have not seen the spam you are discussing.
>>> Possibly it is specific to gmail addresses?
>>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>>> Puerto
>>> Sent: April 17, 2018 4:11 PM
>>> To: Peter Langfelder
>>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>>> Subject: Re: [R] Hacked
>>>
>>> Hi!
>>>
>>> This happened to me also! I just got a spam email just after posting and
>>> then in following days I got obnoxious spam emails in my spam filter. As
>>> the others, I think that there is some kind of bot subscribed to the list,
>>> but also perhaps a spider or crawler monitoring the R-Help archive and
>>> getting email addresses there. Nabble is a possibility too.
>>>
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
>>>> wrote:
>>>>
>>>> I got some spam emails after my last post to the list, and the emails
>>>> did not seem to go through r-help. The spammers may be subscribed to
>>>> the r-help, or they get the poster emails from some of the web copies
>>>> of this list (nabble or similar).
>>>>
>>>> Peter
>>>>
>>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com>
>>>> wrote:
>>>>
>>>>> I asked the moderators about it. This is the reply
>>>>>
>>>>> "Other moderators have looked into this a bit and may be able to shed
>>>>> more light on it. This is a "new" tactic where the spammers appear to
>>>>> reply to the r-help post. They are not, however, going through the
>>>>> r-help server.
>>>>>
>>>>> It also seems that this does not happen to everyone.
>>>>>
>>>>> I am not sure how you can automatically block the spammers.
>>>>>
>>>>> Sorry I cannot be of more help."
>>>>>
>>>>> --Ulrik
>>>>>
>>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>>> 2018,
>>>>> 14:59:
>>>>>
>>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>>>> posts made to the list. Unlikely that the list itself has been
>>>>>> "hacked". Agree that it is obnoxious.
>>>>>>
>>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>>>> neotropical.bats at gmail.com> wrote:
>>>>>>
>>>>>>> Hi all,
>>>>>>>
>>>>>>> Site has been hacked?
>>>>>>> Bad SPAM arriving
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>
>>>>>>
>>>>>> --
>>>>>> Sent from my phone. Please excuse my brevity.
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>>
>>>>>         [[alternative HTML version deleted]]
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> -SECURITY/CONFIDENTIALITY WARNING-
>>> This message (and any attachments) are intended solely f...{{dropped:28}}
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From m@illi@t@ @ending from pp@inet@fi  Wed Apr 18 07:12:22 2018
From: m@illi@t@ @ending from pp@inet@fi (K. Elo)
Date: Wed, 18 Apr 2018 08:12:22 +0300
Subject: [R] Hacked
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
Message-ID: <1524028342.2517.1.camel@pp.inet.fi>

Hi!

Not just an gmail issue. After my last reply I have gotten tons of
spams from "Samantha Smith". Keep hitting my "rank as spam"-button in
the hope that my MUA could learn :)

Best,
Kimmo

ti, 2018-04-17 kello 19:34 +0000, Ding, Yuan Chun kirjoitti:
> No, I do not use gmail, still got dirty spam email twice.?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
> Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open
> attachments or click on links from unknown senders or unexpected
> emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing.
> Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
> Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!?
> 
> This happened to me also! I just got a spam email just after posting
> and then in following days I got obnoxious spam emails in my spam
> filter. As the others, I think that there is some kind of bot
> subscribed to the list, but also perhaps a spider or crawler
> monitoring the R-Help archive and getting email addresses there.
> Nabble is a possibility too.?
> 
> > 
> > On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.
> > com> wrote:
> > 
> > I got some spam emails after my last post to the list, and the
> > emails?
> > did not seem to go through r-help. The spammers may be subscribed
> > to?
> > the r-help, or they get the poster emails from some of the web
> > copies?
> > of this list (nabble or similar).
> > 
> > Peter
> > 
> > On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmai
> > l.com> wrote:
> > > 
> > > I asked the moderators about it. This is the reply
> > > 
> > > "Other moderators have looked into this a bit and may be able to
> > > shed?
> > > more light on it. This is a "new" tactic where the spammers
> > > appear to?
> > > reply to the r-help post. They are not, however, going through
> > > the r-help server.
> > > 
> > > It also seems that this does not happen to everyone.
> > > 
> > > I am not sure how you can automatically block the spammers.
> > > 
> > > Sorry I cannot be of more help."
> > > 
> > > --Ulrik
> > > 
> > > Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17.
> > > Apr.?
> > > 2018,
> > > 14:59:
> > > 
> > > > 
> > > > Likely a spammer has joined the mailing list and is auto-
> > > > replying to?
> > > > posts made to the list. Unlikely that the list itself has been?
> > > > "hacked". Agree that it is obnoxious.
> > > > 
> > > > On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk
> > > > assessments <?
> > > > neotropical.bats at gmail.com> wrote:
> > > > > 
> > > > > Hi all,
> > > > > 
> > > > > Site has been hacked?
> > > > > Bad SPAM arriving
> > > > > 
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > > see?
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> > > > > http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible
> > > > > code.
> > > > --
> > > > Sent from my phone. Please excuse my brevity.
> > > > 
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > see?
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide
> > > > http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > > 
> > > ???????[[alternative HTML version deleted]]
> > > 
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > see?
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible
> > > code.
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see?
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
> ps://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
> ps://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely
> f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.



From lui@@@puerto @ending from gm@il@com  Wed Apr 18 08:14:59 2018
From: lui@@@puerto @ending from gm@il@com (Luis Puerto)
Date: Wed, 18 Apr 2018 09:14:59 +0300
Subject: [R] Hacked
In-Reply-To: <1524028342.2517.1.camel@pp.inet.fi>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <1524028342.2517.1.camel@pp.inet.fi>
Message-ID: <63DA5E8A-4262-407A-9109-8B89BC870FD1@gmail.com>

I don?t think that it?s a just a gmail issue. If some of you aren?t receiving those emails is probably because they get caught in your organization spam filter and they don?t reach you. 

Every time I write to the list I receive those messages. 

> On 18 Apr 2018, at 08:12, K. Elo <maillists at pp.inet.fi> wrote:
> 
> Hi!
> 
> Not just an gmail issue. After my last reply I have gotten tons of
> spams from "Samantha Smith". Keep hitting my "rank as spam"-button in
> the hope that my MUA could learn :)
> 
> Best,
> Kimmo
> 
> ti, 2018-04-17 kello 19:34 +0000, Ding, Yuan Chun kirjoitti:
>> No, I do not use gmail, still got dirty spam email twice. 
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
>> Fowler, Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> [Attention: This email came from an external source. Do not open
>> attachments or click on links from unknown senders or unexpected
>> emails.]
>> 
>> 
>> 
>> 
>> 
>> Just an observation. I have not seen the spam you are discussing.
>> Possibly it is specific to gmail addresses?
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> Hi! 
>> 
>> This happened to me also! I just got a spam email just after posting
>> and then in following days I got obnoxious spam emails in my spam
>> filter. As the others, I think that there is some kind of bot
>> subscribed to the list, but also perhaps a spider or crawler
>> monitoring the R-Help archive and getting email addresses there.
>> Nabble is a possibility too. 
>> 
>>> 
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.
>>> com> wrote:
>>> 
>>> I got some spam emails after my last post to the list, and the
>>> emails 
>>> did not seem to go through r-help. The spammers may be subscribed
>>> to 
>>> the r-help, or they get the poster emails from some of the web
>>> copies 
>>> of this list (nabble or similar).
>>> 
>>> Peter
>>> 
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmai
>>> l.com> wrote:
>>>> 
>>>> I asked the moderators about it. This is the reply
>>>> 
>>>> "Other moderators have looked into this a bit and may be able to
>>>> shed 
>>>> more light on it. This is a "new" tactic where the spammers
>>>> appear to 
>>>> reply to the r-help post. They are not, however, going through
>>>> the r-help server.
>>>> 
>>>> It also seems that this does not happen to everyone.
>>>> 
>>>> I am not sure how you can automatically block the spammers.
>>>> 
>>>> Sorry I cannot be of more help."
>>>> 
>>>> --Ulrik
>>>> 
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17.
>>>> Apr. 
>>>> 2018,
>>>> 14:59:
>>>> 
>>>>> 
>>>>> Likely a spammer has joined the mailing list and is auto-
>>>>> replying to 
>>>>> posts made to the list. Unlikely that the list itself has been 
>>>>> "hacked". Agree that it is obnoxious.
>>>>> 
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk
>>>>> assessments < 
>>>>> neotropical.bats at gmail.com> wrote:
>>>>>> 
>>>>>> Hi all,
>>>>>> 
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>> 
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>>> see 
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible
>>>>>> code.
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>> 
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>> see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible
>>>>> code.
>>>>> 
>>>>        [[alternative HTML version deleted]]
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>> see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible
>>>> code.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
>> ps://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
>> ps://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely
>> f...{{dropped:28}}
>> 
>> ______________________________________________
>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui <http://www.r-project.org/posting-gui>
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]



From m@echler @ending from @t@t@m@th@ethz@ch  Wed Apr 18 08:36:44 2018
From: m@echler @ending from @t@t@m@th@ethz@ch (Martin Maechler)
Date: Wed, 18 Apr 2018 08:36:44 +0200
Subject: [R] Hacked
In-Reply-To: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
Message-ID: <23254.59260.563401.775247@stat.math.ethz.ch>

>>>>> Peter Langfelder <peter.langfelder at gmail.com>
>>>>>     on Tue, 17 Apr 2018 11:50:19 -0700 writes:

    > I got some spam emails after my last post to the list, and the emails
    > did not seem to go through r-help. The spammers may be subscribed to
    > the r-help, or they get the poster emails from some of the web copies
    > of this list (nabble or similar).

    > Peter

Thank you Peter (and Ulrich and ..),

>From all the cases we (R-help-owner = your friendly volunteer
list moderators) checked,

1) the address from which the spam was sent  was *NOT* among the
   13'000 subscriber addresses to R-help

2) in one case, I replied to the address stating that it
   seemed that *e-mail account* had been hacked.
   The result was nil (NULL), i.e., my conclusion was

   a) the address was a really registered/existing e-mail address that gave
      no "mailer daemon" error 

   b) it probably did go to the spammers: a legitimate user
      would have replied to me.

Martin Maechler
ETH Zurich (= provider of all the r-*@r-project.org mailman mailing lists)
	

    > On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
    >> I asked the moderators about it. This is the reply
    >> 
    >> "Other moderators have looked into this a bit and may be able to shed more
    >> light on it. This is a "new" tactic where the spammers appear to reply to
    >> the r-help post. They are not, however, going through the r-help server.
    >> 
    >> It also seems that this does not happen to everyone.
    >> 
    >> I am not sure how you can automatically block the spammers.
    >> 
    >> Sorry I cannot be of more help."
    >> 
    >> --Ulrik
    >> 
    >> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
    >> 14:59:
    >> 
    >>> Likely a spammer has joined the mailing list and is auto-replying to posts
    >>> made to the list. Unlikely that the list itself has been "hacked". Agree
    >>> that it is obnoxious.
    >>> 
    >>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
    >>> neotropical.bats at gmail.com> wrote:
    >>> >Hi all,
    >>> >
    >>> >Site has been hacked?
    >>> >Bad SPAM arriving
    >>> >
    >>> >______________________________________________
    >>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >>> >https://stat.ethz.ch/mailman/listinfo/r-help
    >>> >PLEASE do read the posting guide
    >>> >http://www.R-project.org/posting-guide.html
    >>> >and provide commented, minimal, self-contained, reproducible code.
    >>> 
    >>> --
    >>> Sent from my phone. Please excuse my brevity.
    >>> 
    >>> ______________________________________________
    >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >>> https://stat.ethz.ch/mailman/listinfo/r-help
    >>> PLEASE do read the posting guide
    >>> http://www.R-project.org/posting-guide.html
    >>> and provide commented, minimal, self-contained, reproducible code.
    >>> 
    >> 
    >> [[alternative HTML version deleted]]
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.



From hrmeredith12 @ending from gm@il@com  Wed Apr 18 10:04:07 2018
From: hrmeredith12 @ending from gm@il@com (Hannah Meredith)
Date: Wed, 18 Apr 2018 09:04:07 +0100
Subject: [R] Event-triggered change in value with a time-delay
Message-ID: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>

Hello,

I am solving a set of ODEs using deSolve and have run into a problem I
would appreciate some advice on. One of the parameters (m) in the ODEs
changes between two states when one of the variables (D) crosses a
threshold (D_T) for the first time in either direction. Additionally, when
the variable crosses the threshold (either by increasing or decreasing),
there is a time delay (delay) before the parameter shifts values.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Toy model:
# define parameters
P <- c(m = 10,
       R_1 = 0.5,
       R_2 = 0.1,
       D_0 = 50,
       D_T = 5,
       delay = 3
)
# set initial values
y_0 <- c(D = 0, Y = 1)

# set timesteps
times <- seq(0, 100, length = 101)

# define function
bit <- function(t,y,parms){
  with(as.list(c(parms,y)),{


    # How I would implement the change if there was no time delay
    # m <- ifelse(D>=D_T, m*.68, m)

    # Option 1: nested if statements with time delay
    # if (D >= D_T) {
    #   t_start1 <- t + delay
    #   if (t >= t_start1){
    #     m <- 6.8
    #   }
    # }
    # if (D < D_T) {
    #   t_start2<- t + delay
    #   if (t >= t_start2){
    #     m <- 10
    #   }
    # }


    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
exp(-R_1 * t))
    dY <- Y + m;
    res <- c(dD, dY)
    list(res, m = m)
  })
}


# Solve model
library(deSolve)
out <- ode(y = y_0, times = times, func = bit, parms = P)
out.df <- as.data.frame(out)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
I have come up with a number of ideas, but I either haven't been able to
get them to work or don't know if R has a command for it:

1. Nested "if" statements with something to track time (as shown above).
One issue here is* t-start *is redefined with each time step in the ode
solver so *t* never reaches *t_start +delay*.

2. Event triggered changes. From the examples I have found (link
<https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf> p.
24-25), the time at which the event happens is either pre-set or occurs at
a root of the ODE.  Also- would this strategy require multiple events? One
event in which the variable crossing the threshold triggers a timer,
another for the timer triggering the parameter change?

3. Lagvalue. This might take care of the time lag component, but I am still
struggling to understand (1) how lagvalue works and (2) how to integrate
both the threshold and timer components.

   if ( D < D_T )
     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
   end

4. Sigmoidal function. Someone suggested this to me earlier, but I am not
sure how this would work. Is it possible to have a sigmoidal function that
switches repeatedly between two states (as opposed to the characteristic S
curve that transitions once from one state to another)?

5. Mathmematica has a WhenEvent function- is there something similar in R?


Thank you for your time and any tips you might have!

	[[alternative HTML version deleted]]



From M@rk@Fowler @ending from dfo-mpo@gc@c@  Wed Apr 18 12:36:34 2018
From: M@rk@Fowler @ending from dfo-mpo@gc@c@ (Fowler, Mark)
Date: Wed, 18 Apr 2018 10:36:34 +0000
Subject: [R] Hacked
In-Reply-To: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
Message-ID: <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>

Seems it must be the R-list. A horde of ?solicitation? emails began arriving about 27 minutes after I posted about not seeing any! Had left work by that time, so did not encounter them until now.

From: Mark Leeds [mailto:markleeds2 at gmail.com]
Sent: April 18, 2018 12:33 AM
To: Rui Barradas
Cc: Ding, Yuan Chun; Fowler, Mark; Luis Puerto; Peter Langfelder; R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi All: I lately get a lot more spam-porn type emails lately also but I don't know if they are due to me being on
the R-list.


On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>> wrote:
Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
No, I do not use gmail, still got dirty spam email twice.

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Fowler, Mark
Sent: Tuesday, April 17, 2018 12:32 PM
To: Luis Puerto; Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi!

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com<mailto:peter.langfelder at gmail.com>> wrote:

I got some spam emails after my last post to the list, and the emails
did not seem to go through r-help. The spammers may be subscribed to
the r-help, or they get the poster emails from some of the web copies
of this list (nabble or similar).

Peter

On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com<mailto:ulrik.stervbo at gmail.com>> wrote:
I asked the moderators about it. This is the reply

"Other moderators have looked into this a bit and may be able to shed
more light on it. This is a "new" tactic where the spammers appear to
reply to the r-help post. They are not, however, going through the r-help server.

It also seems that this does not happen to everyone.

I am not sure how you can automatically block the spammers.

Sorry I cannot be of more help."

--Ulrik

Jeff Newmiller <jdnewmil at dcn.davis.ca.us<mailto:jdnewmil at dcn.davis.ca.us>> schrieb am Di., 17. Apr.
2018,
14:59:
Likely a spammer has joined the mailing list and is auto-replying to
posts made to the list. Unlikely that the list itself has been
"hacked". Agree that it is obnoxious.

On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
neotropical.bats at gmail.com<mailto:neotropical.bats at gmail.com>> wrote:
Hi all,

Site has been hacked?
Bad SPAM arriving

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From @@himk@poor @ending from gm@il@com  Wed Apr 18 13:13:30 2018
From: @@himk@poor @ending from gm@il@com (Ashim Kapoor)
Date: Wed, 18 Apr 2018 16:43:30 +0530
Subject: [R] Understanding which
Message-ID: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>

Dear All,

Here is a reprex:

> x<- 1:100
> x[-which(x>100)]
integer(0)

In words, I am finding out which indices correspond to values in x which
are  greater than  100 ( there are no such items ) . Then I remove those
indices. I should get back the x that I started with since there are no
items in x which are bigger than 100 . Instead, it is returning an empty
vector.

Why is this ? What am I misunderstanding?

Best Regards,
Ashim

	[[alternative HTML version deleted]]



From ericjberger @ending from gm@il@com  Wed Apr 18 13:21:16 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Wed, 18 Apr 2018 14:21:16 +0300
Subject: [R] Understanding which
In-Reply-To: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
Message-ID: <CAGgJW76M+8+P-yRVhypssb+EF444PUUXHMnUTv__fU6=qdfsLQ@mail.gmail.com>

Here's a hint:

> y <- which(x>100)
> identical(y,y)
# TRUE
> identical(y,-y)
# TRUE

The '-' is misleading - it is absorbed into the empty y, leaving the
request x[y] to be x for an empty set of indices.

HTH,
Eric



On Wed, Apr 18, 2018 at 2:13 PM, Ashim Kapoor <ashimkapoor at gmail.com> wrote:

> Dear All,
>
> Here is a reprex:
>
> > x<- 1:100
> > x[-which(x>100)]
> integer(0)
>
> In words, I am finding out which indices correspond to values in x which
> are  greater than  100 ( there are no such items ) . Then I remove those
> indices. I should get back the x that I started with since there are no
> items in x which are bigger than 100 . Instead, it is returning an empty
> vector.
>
> Why is this ? What am I misunderstanding?
>
> Best Regards,
> Ashim
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Wed Apr 18 13:26:49 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 06:26:49 -0500
Subject: [R] Understanding which
In-Reply-To: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
Message-ID: <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>

Look at

which(x>100)

This is a zero-length vector. The negative of nothing is nothing, not a list of all possible index values.

Do you want

x[ !( x > 100 ) ]

?

On April 18, 2018 6:13:30 AM CDT, Ashim Kapoor <ashimkapoor at gmail.com> wrote:
>Dear All,
>
>Here is a reprex:
>
>> x<- 1:100
>> x[-which(x>100)]
>integer(0)
>
>In words, I am finding out which indices correspond to values in x
>which
>are  greater than  100 ( there are no such items ) . Then I remove
>those
>indices. I should get back the x that I started with since there are no
>items in x which are bigger than 100 . Instead, it is returning an
>empty
>vector.
>
>Why is this ? What am I misunderstanding?
>
>Best Regards,
>Ashim
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @@himk@poor @ending from gm@il@com  Wed Apr 18 13:48:15 2018
From: @@himk@poor @ending from gm@il@com (Ashim Kapoor)
Date: Wed, 18 Apr 2018 17:18:15 +0530
Subject: [R] Understanding which
In-Reply-To: <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
 <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>
Message-ID: <CAC8=1eoSHyDCBybZOD4AC8fPFNi3KXsQVYqMETCqReOfikk=Fg@mail.gmail.com>

Dear Jeff and Eric,

Okay and many thanks.
Best Regards,
Ashim

On Wed, Apr 18, 2018 at 4:56 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Look at
>
> which(x>100)
>
> This is a zero-length vector. The negative of nothing is nothing, not a
> list of all possible index values.
>
> Do you want
>
> x[ !( x > 100 ) ]
>
> ?
>
> On April 18, 2018 6:13:30 AM CDT, Ashim Kapoor <ashimkapoor at gmail.com>
> wrote:
> >Dear All,
> >
> >Here is a reprex:
> >
> >> x<- 1:100
> >> x[-which(x>100)]
> >integer(0)
> >
> >In words, I am finding out which indices correspond to values in x
> >which
> >are  greater than  100 ( there are no such items ) . Then I remove
> >those
> >indices. I should get back the x that I started with since there are no
> >items in x which are bigger than 100 . Instead, it is returning an
> >empty
> >vector.
> >
> >Why is this ? What am I misunderstanding?
> >
> >Best Regards,
> >Ashim
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]



From mrguilfoyle @ending from gm@il@com  Wed Apr 18 12:48:17 2018
From: mrguilfoyle @ending from gm@il@com (Mathew Guilfoyle)
Date: Wed, 18 Apr 2018 11:48:17 +0100
Subject: [R] mgcv::gamm error when combining random smooths and
 correlation/autoregressive term
Message-ID: <B9A0D117-B6AB-42E7-9630-E0D21294DC90@gmail.com>

I am having difficulty fitting a mgcv::gamm model that includes both a random smooth term (i.e. 'fs' smooth) and autoregressive errors.  Standard smooth terms with a factor interaction using the 'by=' option work fine.  Both on my actual data and a toy example (below) I am getting the same error so am inclined to wonder if this is either a bug or a model that gamm is simply unable to fit?

Any insight or suggestions would be much appreciated.

M


Example:

library('mgcv')
set.seed(1)
df = data.frame(index=rep(1:10,5), x=runif(50,0,1), subject = as.factor(sort(rep(1:5,10))))

# random intercept
m1 = gamm(x~s(index), random=list(subject=~1), data=df, method = 'REML')

#factor interaction, random intercept, AR errors
m2 = gamm(x~s(index, by=subject), random=list(subject=~1), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

#factor interaction, random intercept and slope, AR errors
m3 = gamm(x~s(index, by=subject), random=list(subject=~index), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

#random smooth on its own works ok
m4 = gamm(x~s(index, subject, bs='fs'), data=df, method = 'REML')


#combination of 'fs' smooth and AR term generates the error: "Error in matrix(0, size.cg[i], size.cg[i]) : object 'size.cg' not found"
#the grouping term ( |subject ) is redundant in corAR1 as the mgcv documentation indicates that gamm will assume the grouping 
#from the random smooth term; the same error happens irrespective of whether the grouping is included in corAR1 or not.

m5 = gamm(x~s(index, subject, bs='fs'), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

From Anne@Ch@tton @ending from hcuge@ch  Wed Apr 18 15:26:30 2018
From: Anne@Ch@tton @ending from hcuge@ch (CHATTON Anne)
Date: Wed, 18 Apr 2018 13:26:30 +0000
Subject: [R] Problem with regression line
Message-ID: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>

Hello,

I am trying to graph a regression line using the followings:

Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
144, 130, 125, 175)
SimpleLinearReg1=lm(Age ~ BloodPressure)
summary(SimpleLinearReg1)
eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
abline(SimpleLinearReg1, col="red")
mean(Age)
mean(BloodPressure)
abline(h=142.53, col="green")
abline(v=45.13, col="green")

But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.

Anne

	[[alternative HTML version deleted]]



From lorenzo@i@ell@ @ending from gm@il@com  Wed Apr 18 15:47:21 2018
From: lorenzo@i@ell@ @ending from gm@il@com (Lorenzo Isella)
Date: Wed, 18 Apr 2018 15:47:21 +0200
Subject: [R] Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
Message-ID: <20180418134721.aucxmerudjxk6hlj@chicca2>

Dear All,
Ages ago I posted to this mailing list asking for advice about to
evangelize the use of R in an international public
administration where the fact that R is free is not a decisive factor
(actually its being "freeware" may even be seen negatively). After a
long time, I think it is worthwhile asking the question again and see
what suggestions other users have.

Another question related to that: let's say you have the possibility
to give a short course (most likely short of 10 hours) to people
who are not trained in statistics (people with a background in
international relations or political scientists frustrated at Excel
and who sometimes have to do a number of repetitive tasks). How would
you formulate a short training to make them not R proficient users,
but aware and looking forward to learning more about R?
Any suggestion and/or pointer to online resources is appreciated.
Many thanks

Lorenzo



From dc@rl@on @ending from t@mu@edu  Wed Apr 18 15:58:05 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 13:58:05 +0000
Subject: [R] nMDS with R: missing values
In-Reply-To: <VI1PR03MB350167CA3083D6825B0CE42BC9B60@VI1PR03MB3501.eurprd03.prod.outlook.com>
References: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
 <c3b88714129540aa888f49e3852e3041@tamu.edu>
 <VI1PR03MB350167CA3083D6825B0CE42BC9B60@VI1PR03MB3501.eurprd03.prod.outlook.com>
Message-ID: <8e52b16027bd4b22b20bb6671cea71d1@tamu.edu>

I'm not sure how you are incorporating time period into your data structure. Typically we are looking at plots or assemblages as the rows and taxa as the columns. Time period adds a third dimension that could be added as blocks of rows. For example, depending on the resolution of your data, one approach would be to have up to 8 rows for each locality: Loc1.1000, Loc1.2000, . . . Loc1.8000. If a locality did not have certain millennia represented you would just leave them out.

David C

-----Original Message-----
From: Jessie Woodbridge <jessie.woodbridge at plymouth.ac.uk> 
Sent: Wednesday, April 18, 2018 3:42 AM
To: David L Carlson <dcarlson at tamu.edu>
Subject: RE: nMDS with R: missing values

Dear Prof Carlson,

Thank you for your reply. I'm using 'vegan' with 'vegdist' and 'bray'. I have a selection of datasets that cover different time periods (converted to z-scores), so a record that starts 5000 years ago would have missing data before this date when other records cover the last 8000 years. I need to build into the nMDS the fact that this isn't a zero score, but reflects absence of data. In the results it seems that datasets that cover the same time periods are being grouped together because they have zero values at the same times. I hope that makes sense. Any suggestions would be greatly appreciated.

There is no regular pattern to the position of the missing values, so I can't remove certain rows or columns. Thank you for the suggestion of using dist() and na.rm=TRUE. I will try using these approaches.

Kind regards,

Jessie

********************
Dr Jessie Woodbridge
Geography, Earth and Environmental Sciences B416, Portland Square, University of Plymouth, UK
01752 585920
Leverhulme Trust-funded ?Changing the face of the Mediterranean? project Leverhulme Trust-funded Deforesting Europe project

-----Original Message-----
From: David L Carlson <dcarlson at tamu.edu>
Sent: 17 April 2018 21:13
To: Jessie Woodbridge <jessie.woodbridge at plymouth.ac.uk>; r-help at r-project.org
Subject: RE: nMDS with R: missing values

I think you will have to provide some more information. What function/package are you using for nMDS (eg. isoMDS in MASS, monoMDS in vegan)? What function/package are you using to compute your distance/dissimilarities (eg. dist in stats, vegdist in vegan)?

Zero represents absence. It is not a missing value, so that part of your question is not clear.

The dist() function computes distance ignoring missing values if they are properly represented as NAs in the data. The vegdist() function does this if na.rm=TRUE.

The results will be affected by how much data is missing. It would be useful to know if the missing values are concentrated in particular rows or columns so that eliminating a few rows and columns could substantially reduce the percentage of missing values.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352


0-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Jessie Woodbridge
Sent: Tuesday, April 17, 2018 2:05 PM
To: r-help at r-project.org
Subject: [R] nMDS with R: missing values

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

From ted@h@rding @ending from wl@ndre@@net  Wed Apr 18 15:58:21 2018
From: ted@h@rding @ending from wl@ndre@@net (Ted Harding)
Date: Wed, 18 Apr 2018 14:58:21 +0100
Subject: [R] Hacked
In-Reply-To: <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>
Message-ID: <1524059901.7095.8.camel@deb2.fort.knox.uk>

Not necessarily. The R-help archives are publicly accessible,
with a "sort by date" option. So if someone sets up a web=page
monitor which reports back when new messages appear there
(at the bpottom end), then their email addresses are readily
copied (subject to " at " --> "@".

Once they have the address then anything can happen!

Best wishes,
Ted (eagerly awaiting attempted seduction ... ).

On Wed, 2018-04-18 at 10:36 +0000, Fowler, Mark wrote:
> Seems it must be the R-list. A horde of ?solicitation? emails began arriving about 27 minutes after I posted about not seeing any! Had left work by that time, so did not encounter them until now.
> 
> From: Mark Leeds [mailto:markleeds2 at gmail.com]
> Sent: April 18, 2018 12:33 AM
> To: Rui Barradas
> Cc: Ding, Yuan Chun; Fowler, Mark; Luis Puerto; Peter Langfelder; R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi All: I lately get a lot more spam-porn type emails lately also but I don't know if they are due to me being on
> the R-list.
> 
> 
> On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>> wrote:
> Hello,
> 
> Nor do I, no gmail, also got spam.
> 
> Rui Barradas
> 
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Luis Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com<mailto:peter.langfelder at gmail.com>> wrote:
> 
> I got some spam emails after my last post to the list, and the emails
> did not seem to go through r-help. The spammers may be subscribed to
> the r-help, or they get the poster emails from some of the web copies
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com<mailto:ulrik.stervbo at gmail.com>> wrote:
> I asked the moderators about it. This is the reply
> 
> "Other moderators have looked into this a bit and may be able to shed
> more light on it. This is a "new" tactic where the spammers appear to
> reply to the r-help post. They are not, however, going through the r-help server.
> 
> It also seems that this does not happen to everyone.
> 
> I am not sure how you can automatically block the spammers.
> 
> Sorry I cannot be of more help."
> 
> --Ulrik
> 
> Jeff Newmiller <jdnewmil at dcn.davis.ca.us<mailto:jdnewmil at dcn.davis.ca.us>> schrieb am Di., 17. Apr.
> 2018,
> 14:59:
> Likely a spammer has joined the mailing list and is auto-replying to
> posts made to the list. Unlikely that the list itself has been
> "hacked". Agree that it is obnoxious.
> 
> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
> neotropical.bats at gmail.com<mailto:neotropical.bats at gmail.com>> wrote:
> Hi all,
> 
> Site has been hacked?
> Bad SPAM arriving
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
>         [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From Gerrit@Eichner @ending from m@th@uni-gie@@en@de  Wed Apr 18 16:07:39 2018
From: Gerrit@Eichner @ending from m@th@uni-gie@@en@de (Gerrit Eichner)
Date: Wed, 18 Apr 2018 16:07:39 +0200
Subject: [R] Problem with regression line
In-Reply-To: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
Message-ID: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>

Hi, Anne,

assign Age and Bloodpressure in the correct order
to the axes in your call to plot as in:

plot(y = Age, x = BloodPressure)
abline(SimpleLinearReg1)


  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------


Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
> Hello,
> 
> I am trying to graph a regression line using the followings:
> 
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
> 144, 130, 125, 175)
> SimpleLinearReg1=lm(Age ~ BloodPressure)
> summary(SimpleLinearReg1)
> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
> main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
> abline(SimpleLinearReg1, col="red")
> mean(Age)
> mean(BloodPressure)
> abline(h=142.53, col="green")
> abline(v=45.13, col="green")
> 
> But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.
> 
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


-- 

  Best regards  --  Gerrit
  Best regards  --  Gerrit Eichner
  Hth  --  Gerrit
  Viele Gr??e  --  Gerrit
  Viele Gr??e  --  Gerrit Eichner
  Viele Gr??e  --  GE
  Freundliche Gr??e  --  Gerrit Eichner
  Freundliche Gr??e  --  GE
  Gr??e  --  Gerrit
  Gr??e  --  Gerrit Eichner
  Gr??e  --  GE
  Gru?  --  G

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner



From dc@rl@on @ending from t@mu@edu  Wed Apr 18 16:12:36 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 14:12:36 +0000
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <1f941f6da2aa4a9cab1fdc3c06df78ca@tamu.edu>

Courses are good for people who are motivated to learn. It sounds like you need to generate the motivation first. Why not develop 4 - 5 case study examples? Kinds of analyses currently performed on Excel that would be easier to replicate and repeat using simple R scripts so that you are showing how it would be done in Excel and then how it would be done in R structuring the code so that running a similar analysis requires only minor adjustments in contrast to Excel which might involve copying formula blocks into a new spreadsheet tab or creating templates that fail and are hard to debug.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Lorenzo Isella
Sent: Wednesday, April 18, 2018 8:47 AM
To: r-help at r-project.org
Subject: [R] Reasons to Use R in a Public Administrations and Ideas for a Short Training

Dear All,
Ages ago I posted to this mailing list asking for advice about to evangelize the use of R in an international public administration where the fact that R is free is not a decisive factor (actually its being "freeware" may even be seen negatively). After a long time, I think it is worthwhile asking the question again and see what suggestions other users have.

Another question related to that: let's say you have the possibility to give a short course (most likely short of 10 hours) to people who are not trained in statistics (people with a background in international relations or political scientists frustrated at Excel and who sometimes have to do a number of repetitive tasks). How would you formulate a short training to make them not R proficient users, but aware and looking forward to learning more about R?
Any suggestion and/or pointer to online resources is appreciated.
Many thanks

Lorenzo

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From E@Vettor@zzi @ending from uke@de  Wed Apr 18 16:24:30 2018
From: E@Vettor@zzi @ending from uke@de (Eik Vettorazzi)
Date: Wed, 18 Apr 2018 16:24:30 +0200
Subject: [R] Problem with regression line
In-Reply-To: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
Message-ID: <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>

Hi Anne,
I would suggest to change the linear model to lm(BloodPressure~Age), as
this model makes more sense in biological means (you would assume that
age influences pressure, not vice versa) and also obeys the statistical
assumption of weak exogeneity, that age can be measured without error,
at least compared to error-prone bp measures.

Cheers

Am 18.04.2018 um 16:07 schrieb Gerrit Eichner:
> Hi, Anne,
> 
> assign Age and Bloodpressure in the correct order
> to the axes in your call to plot as in:
> 
> plot(y = Age, x = BloodPressure)
> abline(SimpleLinearReg1)
> 
> 
> ?Hth? --? Gerrit
> 
> ---------------------------------------------------------------------
> Dr. Gerrit Eichner?????????????????? Mathematical Institute, Room 212
> gerrit.eichner at math.uni-giessen.de?? Justus-Liebig-University Giessen
> Tel: +49-(0)641-99-32104????????? Arndtstr. 2, 35392 Giessen, Germany
> http://www.uni-giessen.de/eichner
> ---------------------------------------------------------------------
> 
> 
> Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
>> Hello,
>>
>> I am trying to graph a regression line using the followings:
>>
>> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42,
>> 48, 45,
>> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
>> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
>> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160,
>> 158,
>> 144, 130, 125, 175)
>> SimpleLinearReg1=lm(Age ~ BloodPressure)
>> summary(SimpleLinearReg1)
>> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
>> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
>> main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
>> abline(SimpleLinearReg1, col="red")
>> mean(Age)
>> mean(BloodPressure)
>> abline(h=142.53, col="green")
>> abline(v=45.13, col="green")
>>
>> But I cannot get the regression line. Can anybody tell me what's wrong
>> with the codes ? I would appreciate very much. Thanks for any help.
>>
>> Anne
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 

-- 
Eik Vettorazzi

Department of Medical Biometry and Epidemiology
University Medical Center Hamburg-Eppendorf

Martinistrasse 52
building W 34
20246 Hamburg

Phone: +49 (0) 40 7410 - 58243
Fax:   +49 (0) 40 7410 - 57790
Web: www.uke.de/imbe
--

_____________________________________________________________________

Universit?tsklinikum Hamburg-Eppendorf; K?rperschaft des ?ffentlichen Rechts; Gerichtsstand: Hamburg | www.uke.de
Vorstandsmitglieder: Prof. Dr. Burkhard G?ke (Vorsitzender), Prof. Dr. Dr. Uwe Koch-Gromus, Joachim Pr?l?, Martina Saurin (komm.)
_____________________________________________________________________

SAVE PAPER - THINK BEFORE PRINTING

From dc@rl@on @ending from t@mu@edu  Wed Apr 18 16:31:18 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 14:31:18 +0000
Subject: [R] Problem with regression line
In-Reply-To: <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
 <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>
Message-ID: <8c9f0b717e96416698996f522a54b33a@tamu.edu>

To expand on Eik Vettorazzi's answer:

Don't use html emails. When the mailing list converts it to plain text, it often re-wraps lines so that your code becomes jumbled.

First, you did not define coeff. You need to add

coeff <- coef(SimpleLinearReg1)

Second, you should use the formula you used for the regression in the plot command or the correct order (plot uses the first variable as the x-axis and the second variable as the y-axis while the formula specification uses the variable on the left of the tilde (~) as the y-axis and the variable on the right of the tilde as the x-axis. Your regression predicts age (response) from blood pressure (explanatory) so abline() assumes age is on the y-axis and blood pressure is on the x-axis, but you reversed that so the line is "plotted", but it is outside the plot window. 

Either change the regression formula to BloodPressure~Age (which makes more sense than predicting age from blood pressure) or change the plot command to plot(BloodPressure, Age, ...) and change the xlab to ylab and ylab to xlab).

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Eik Vettorazzi
Sent: Wednesday, April 18, 2018 9:25 AM
To: CHATTON Anne <Anne.Chatton at hcuge.ch>; r-help at R-project.org
Subject: Re: [R] Problem with regression line

Hi Anne,
I would suggest to change the linear model to lm(BloodPressure~Age), as this model makes more sense in biological means (you would assume that age influences pressure, not vice versa) and also obeys the statistical assumption of weak exogeneity, that age can be measured without error, at least compared to error-prone bp measures.

Cheers

Am 18.04.2018 um 16:07 schrieb Gerrit Eichner:
> Hi, Anne,
> 
> assign Age and Bloodpressure in the correct order to the axes in your 
> call to plot as in:
> 
> plot(y = Age, x = BloodPressure)
> abline(SimpleLinearReg1)
> 
> 
> ?Hth? --? Gerrit
> 
> ---------------------------------------------------------------------
> Dr. Gerrit Eichner?????????????????? Mathematical Institute, Room 212 
> gerrit.eichner at math.uni-giessen.de?? Justus-Liebig-University Giessen
> Tel: +49-(0)641-99-32104????????? Arndtstr. 2, 35392 Giessen, Germany 
> http://www.uni-giessen.de/eichner
> ---------------------------------------------------------------------
> 
> 
> Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
>> Hello,
>>
>> I am trying to graph a regression line using the followings:
>>
>> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 
>> 48, 45, 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69) 
>> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 
>> 162, 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 
>> 160, 158, 144, 130, 125, 175) SimpleLinearReg1=lm(Age ~ 
>> BloodPressure)
>> summary(SimpleLinearReg1)
>> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1)) 
>> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", main = 
>> eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)") 
>> abline(SimpleLinearReg1, col="red")
>> mean(Age)
>> mean(BloodPressure)
>> abline(h=142.53, col="green")
>> abline(v=45.13, col="green")
>>
>> But I cannot get the regression line. Can anybody tell me what's 
>> wrong with the codes ? I would appreciate very much. Thanks for any help.
>>
>> Anne
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 

--
Eik Vettorazzi

Department of Medical Biometry and Epidemiology University Medical Center Hamburg-Eppendorf

Martinistrasse 52
building W 34
20246 Hamburg

Phone: +49 (0) 40 7410 - 58243
Fax:   +49 (0) 40 7410 - 57790
Web: www.uke.de/imbe
--

_____________________________________________________________________

Universit?tsklinikum Hamburg-Eppendorf; K?rperschaft des ?ffentlichen Rechts; Gerichtsstand: Hamburg | www.uke.de
Vorstandsmitglieder: Prof. Dr. Burkhard G?ke (Vorsitzender), Prof. Dr. Dr. Uwe Koch-Gromus, Joachim Pr?l?, Martina Saurin (komm.) _____________________________________________________________________

SAVE PAPER - THINK BEFORE PRINTING
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From Anne@Ch@tton @ending from hcuge@ch  Wed Apr 18 16:28:22 2018
From: Anne@Ch@tton @ending from hcuge@ch (CHATTON Anne)
Date: Wed, 18 Apr 2018 14:28:22 +0000
Subject: [R] Problem with regression line
In-Reply-To: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
Message-ID: <258038b5ee4f483c9fd7decbb3b85645@wexchprod08.huge.ad.hcuge.ch>

Hi Gerrit!
Thank you so much! I mistakenly reversed the order of the variables of the regression. Actually what I meant to write was: lm(BloodPressure ~ Age).
Best,
Anne

-----Message d'origine-----
De?: Gerrit Eichner [mailto:Gerrit.Eichner at math.uni-giessen.de] 
Envoy??: mercredi 18 avril 2018 16:08
??: CHATTON Anne; r-help at R-project.org
Objet?: Re: [R] Problem with regression line

Hi, Anne,

assign Age and Bloodpressure in the correct order to the axes in your call to plot as in:

plot(y = Age, x = BloodPressure)
abline(SimpleLinearReg1)


  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------


Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
> Hello,
> 
> I am trying to graph a regression line using the followings:
> 
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 
> 48, 45, 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69) 
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 
> 162, 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 
> 160, 158, 144, 130, 125, 175) SimpleLinearReg1=lm(Age ~ BloodPressure)
> summary(SimpleLinearReg1)
> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1)) 
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", main = eq, 
> xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)") 
> abline(SimpleLinearReg1, col="red")
> mean(Age)
> mean(BloodPressure)
> abline(h=142.53, col="green")
> abline(v=45.13, col="green")
> 
> But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.
> 
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


-- 

  Best regards  --  Gerrit
  Best regards  --  Gerrit Eichner
  Hth  --  Gerrit
  Viele Gr??e  --  Gerrit
  Viele Gr??e  --  Gerrit Eichner
  Viele Gr??e  --  GE
  Freundliche Gr??e  --  Gerrit Eichner
  Freundliche Gr??e  --  GE
  Gr??e  --  Gerrit
  Gr??e  --  Gerrit Eichner
  Gr??e  --  GE
  Gru?  --  G

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

From dwin@emiu@ @ending from comc@@t@net  Wed Apr 18 18:09:46 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Wed, 18 Apr 2018 09:09:46 -0700
Subject: [R] Event-triggered change in value with a time-delay
In-Reply-To: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
References: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
Message-ID: <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>


> On Apr 18, 2018, at 1:04 AM, Hannah Meredith <hrmeredith12 at gmail.com> wrote:
> 
> Hello,
> 
> I am solving a set of ODEs using deSolve and have run into a problem I
> would appreciate some advice on. One of the parameters (m) in the ODEs
> changes between two states when one of the variables (D) crosses a
> threshold (D_T) for the first time in either direction. Additionally, when
> the variable crosses the threshold (either by increasing or decreasing),
> there is a time delay (delay) before the parameter shifts values.

I think you migh not have fully reviewed the available functions in that package. Doing an sos::findFn-search on ODE's with time delay brings up help pages for the `dede` function in deSolve. 

For the conditional value of the within regime-fixed parameter `m`, couldn't you just use this:

    ... + m*(6.8+ 3.2*(D < D_T))

Caveat: very lightly tested in your toy example, which did generate a result where D cross that threshold without blowing up.

-- 

David.


> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Toy model:
> # define parameters
> P <- c(m = 10,
>       R_1 = 0.5,
>       R_2 = 0.1,
>       D_0 = 50,
>       D_T = 5,
>       delay = 3
> )
> # set initial values
> y_0 <- c(D = 0, Y = 1)
> 
> # set timesteps
> times <- seq(0, 100, length = 101)
> 
> # define function
> bit <- function(t,y,parms){
>  with(as.list(c(parms,y)),{
> 
> 
>    # How I would implement the change if there was no time delay
>    # m <- ifelse(D>=D_T, m*.68, m)
> 
>    # Option 1: nested if statements with time delay
>    # if (D >= D_T) {
>    #   t_start1 <- t + delay
>    #   if (t >= t_start1){
>    #     m <- 6.8
>    #   }
>    # }
>    # if (D < D_T) {
>    #   t_start2<- t + delay
>    #   if (t >= t_start2){
>    #     m <- 10
>    #   }
>    # }
> 
> 
>    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
> exp(-R_1 * t))
>    dY <- Y + m;
>    res <- c(dD, dY)
>    list(res, m = m)
>  })
> }
> 
> 
> # Solve model
> library(deSolve)
> out <- ode(y = y_0, times = times, func = bit, parms = P)
> out.df <- as.data.frame(out)
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> I have come up with a number of ideas, but I either haven't been able to
> get them to work or don't know if R has a command for it:
> 
> 1. Nested "if" statements with something to track time (as shown above).
> One issue here is* t-start *is redefined with each time step in the ode
> solver so *t* never reaches *t_start +delay*.
> 
> 2. Event triggered changes. From the examples I have found (link
> <https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf> p.
> 24-25), the time at which the event happens is either pre-set or occurs at
> a root of the ODE.  Also- would this strategy require multiple events? One
> event in which the variable crossing the threshold triggers a timer,
> another for the timer triggering the parameter change?
> 
> 3. Lagvalue. This might take care of the time lag component, but I am still
> struggling to understand (1) how lagvalue works and (2) how to integrate
> both the threshold and timer components.
> 
>   if ( D < D_T )
>     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
>   end
> 
> 4. Sigmoidal function. Someone suggested this to me earlier, but I am not
> sure how this would work. Is it possible to have a sigmoidal function that
> switches repeatedly between two states (as opposed to the characteristic S
> curve that transitions once from one state to another)?
> 
> 5. Mathmematica has a WhenEvent function- is there something similar in R?
> 
> 
> Thank you for your time and any tips you might have!
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From ycding @ending from coh@org  Wed Apr 18 19:37:43 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Wed, 18 Apr 2018 17:37:43 +0000
Subject: [R] merge two data frame based on equal and unequal comparisons
Message-ID: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>

Dear R users,

I need to merge two data frames based on both equal and unequal comparisons.  The "sqldf" package used to work well , but today, I cannot resolve the following error by reinstallation of the sqldf package.   Can anyone suggest a different way to perform this kind of merge function?

Thank you,

Ding

> DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join DMS_log2pbde47 as b
+                            on a.chrom = b.chromosome and a.start <= b.MAPINFO and a.end >= b.MAPINFO" )
Error in get(as.character(FUN), mode = "function", envir = envir) :
  object 'as.AsIs' of mode 'function' was not found



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From m@rn@@w@gley @ending from gm@il@com  Wed Apr 18 19:55:40 2018
From: m@rn@@w@gley @ending from gm@il@com (Marna Wagley)
Date: Wed, 18 Apr 2018 10:55:40 -0700
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
Message-ID: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>

Hi R user,
Would you mind to help me on how I can change a value in a specific column
and row in a big table? but the column of the table is a factor (not
numeric).
Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA>
do you have any suggestions for me?

dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
"Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15,
12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15",
"34", "high", "low", "medium"), class = "factor")), .Names = c("Sites",
"temp", "precip"), class = "data.frame", row.names = c(NA, -5L
))
> dat[4:5, 3] <-"20"
Warning message:
In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
  invalid factor level, NA generated
Thanks,

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Wed Apr 18 20:12:59 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 13:12:59 -0500
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
Message-ID: <3DE19F7A-8A24-4D98-9CA6-916967831A43@dcn.davis.ca.us>

I would recommend that you avoid converting (or letting R convert for you) your textual data values into factors until you have finished doing this kind of modification.

You can restore the column to character data type either re-reading it with the stringsAsFactors=FALSE option to read.table/read.csv functions, or by converting it:

dat[[ 3 ]] <- as.character( dat[[ 3 ]] )

and then your replacement will work.


On April 18, 2018 12:55:40 PM CDT, Marna Wagley <marna.wagley at gmail.com> wrote:
>Hi R user,
>Would you mind to help me on how I can change a value in a specific
>column
>and row in a big table? but the column of the table is a factor (not
>numeric).
>Here is an example. I want to change dat[4:5,3]<-"20" but it generated
>NA>
>do you have any suggestions for me?
>
>dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
>"Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15,
>12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label =
>c("15",
>"34", "high", "low", "medium"), class = "factor")), .Names = c("Sites",
>"temp", "precip"), class = "data.frame", row.names = c(NA, -5L
>))
>> dat[4:5, 3] <-"20"
>Warning message:
>In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
>  invalid factor level, NA generated
>Thanks,
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From dc@rl@on @ending from t@mu@edu  Wed Apr 18 20:13:21 2018
From: dc@rl@on @ending from t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 18:13:21 +0000
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
Message-ID: <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>

The simplest would be to convert precip to character and then back to a factor if you really want it to be a factor. This will also remove the levels that no longer exist.

str(dat)
# 'data.frame':   5 obs. of  3 variables:
#  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
#  $ temp  : num  14 15 12 12.5 17
#  $ precip: Factor w/ 5 levels "15","34","high",..: 3 4 5 2 1

dat$precip <- as.character(dat$precip)
dat[4:5, 3] <-"20"
dat$precip <- factor(dat$precip)

str(dat)
# 'data.frame':   5 obs. of  3 variables:
#  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
#  $ temp  : num  14 15 12 12.5 17
#  $ precip: Factor w/ 4 levels "20","high","low",..: 2 3 4 1 1

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Marna Wagley
Sent: Wednesday, April 18, 2018 12:56 PM
To: r-help mailing list <r-help at r-project.org>
Subject: [R] How to replace numeric value in the column contains Text (Factor)?

Hi R user,
Would you mind to help me on how I can change a value in a specific column and row in a big table? but the column of the table is a factor (not numeric).
Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA> do you have any suggestions for me?

dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2", "Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15, 12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15", "34", "high", "low", "medium"), class = "factor")), .Names = c("Sites", "temp", "precip"), class = "data.frame", row.names = c(NA, -5L
))
> dat[4:5, 3] <-"20"
Warning message:
In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
  invalid factor level, NA generated
Thanks,

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From m@rn@@w@gley @ending from gm@il@com  Wed Apr 18 20:25:23 2018
From: m@rn@@w@gley @ending from gm@il@com (Marna Wagley)
Date: Wed, 18 Apr 2018 11:25:23 -0700
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
 <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>
Message-ID: <CAMwU6B1QtUJf5UwZKZ5GMGsQE3t0Zh2SXfDo9j1ogpuDHdAVnQ@mail.gmail.com>

Hi David and Jeff,
Both ways worked for my table. it helped me a lot (I was really struggling
on it to change the values and thinking to do manually). You are great.
Thank you

On Wed, Apr 18, 2018 at 11:13 AM, David L Carlson <dcarlson at tamu.edu> wrote:

> The simplest would be to convert precip to character and then back to a
> factor if you really want it to be a factor. This will also remove the
> levels that no longer exist.
>
> str(dat)
> # 'data.frame':   5 obs. of  3 variables:
> #  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
> #  $ temp  : num  14 15 12 12.5 17
> #  $ precip: Factor w/ 5 levels "15","34","high",..: 3 4 5 2 1
>
> dat$precip <- as.character(dat$precip)
> dat[4:5, 3] <-"20"
> dat$precip <- factor(dat$precip)
>
> str(dat)
> # 'data.frame':   5 obs. of  3 variables:
> #  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
> #  $ temp  : num  14 15 12 12.5 17
> #  $ precip: Factor w/ 4 levels "20","high","low",..: 2 3 4 1 1
>
> ----------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77843-4352
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Marna Wagley
> Sent: Wednesday, April 18, 2018 12:56 PM
> To: r-help mailing list <r-help at r-project.org>
> Subject: [R] How to replace numeric value in the column contains Text
> (Factor)?
>
> Hi R user,
> Would you mind to help me on how I can change a value in a specific column
> and row in a big table? but the column of the table is a factor (not
> numeric).
> Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA>
> do you have any suggestions for me?
>
> dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
> "Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15, 12, 12.5,
> 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15", "34",
> "high", "low", "medium"), class = "factor")), .Names = c("Sites", "temp",
> "precip"), class = "data.frame", row.names = c(NA, -5L
> ))
> > dat[4:5, 3] <-"20"
> Warning message:
> In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
>   invalid factor level, NA generated
> Thanks,
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ycding @ending from coh@org  Wed Apr 18 22:43:05 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Wed, 18 Apr 2018 20:43:05 +0000
Subject: [R] merge two data frame based on equal and unequal comparisons
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7EF4A@PPWEXCH2KX14.coh.org>

HI All,

I found that other R users experienced the same problem when using sqldf package. An expert provided solution, adding "method="raw" at the end as below, one or more of the columns in my data.frame are of class "AsIs" ( I don't know what it is) .  When sqldf retrieves the result from SQLite it will be numeric or character and since it was originally of class AsIs,  it tries to convert it back but R provides no as.AsIs,  so it fails; use method = "raw", so sqldf will not try to convert  the results from the database.

DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join DMS_log2pbde47 as b 
                           on a.chrom = b.chromo and a.start <= b.MAPINFO and a.end >= b.MAPINFO", method = "raw" )



-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Ding, Yuan Chun
Sent: Wednesday, April 18, 2018 10:38 AM
To: r-help at r-project.org
Subject: [R] merge two data frame based on equal and unequal comparisons

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Dear R users,

I need to merge two data frames based on both equal and unequal comparisons.  The "sqldf" package used to work well , but today, I cannot resolve the following error by reinstallation of the sqldf package.   Can anyone suggest a different way to perform this kind of merge function?

Thank you,

Ding

> DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join 
> DMS_log2pbde47 as b
+                            on a.chrom = b.chromosome and a.start <= 
+ b.MAPINFO and a.end >= b.MAPINFO" )
Error in get(as.character(FUN), mode = "function", envir = envir) :
  object 'as.AsIs' of mode 'function' was not found



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:9}}



From f@rnoo@h_81 @ending from y@hoo@com  Wed Apr 18 23:23:09 2018
From: f@rnoo@h_81 @ending from y@hoo@com (Farnoosh Sheikhi)
Date: Wed, 18 Apr 2018 21:23:09 +0000 (UTC)
Subject: [R] Identifying columns with specific character
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
Message-ID: <289481473.1957521.1524086589801@mail.yahoo.com>

Hello,
I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example:?>? x <- c("$5", "$89", "$10", "$34")??>? y <- c(1:4)>? My.Data <- data.frame (x,y)> My.Data? ? x y1? $5 12 $89 23 $10 34 $34 4
I want to detect the columns with $ and remove the $ from the selected columns.I have tried?apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:??apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
Thanks.
	[[alternative HTML version deleted]]



From drjimlemon @ending from gm@il@com  Thu Apr 19 00:19:11 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Thu, 19 Apr 2018 08:19:11 +1000
Subject: [R] Identifying columns with specific character
In-Reply-To: <289481473.1957521.1524086589801@mail.yahoo.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
Message-ID: <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>

Hi Farnoosh,
Perhaps this will help:

drop_dollar<-function(x) return(as.numeric(as.character(gsub("\\$","",x))))
sapply(My.Data,drop_dollar)

Jim

On Thu, Apr 19, 2018 at 7:23 AM, Farnoosh Sheikhi via R-help
<r-help at r-project.org> wrote:
> Hello,
> I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example: >  x <- c("$5", "$89", "$10", "$34")  >  y <- c(1:4)>  My.Data <- data.frame (x,y)> My.Data    x y1  $5 12 $89 23 $10 34 $34 4
> I want to detect the columns with $ and remove the $ from the selected columns.I have tried apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:  apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
> Thanks.
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewmil @ending from dcn@d@vi@@c@@u@  Thu Apr 19 00:27:14 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 17:27:14 -0500
Subject: [R] Identifying columns with specific character
In-Reply-To: <289481473.1957521.1524086589801@mail.yahoo.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
Message-ID: <199EB13B-9AC6-4B6F-8C9A-8ED76B10229D@dcn.davis.ca.us>

Your message came through all messed up because you did not tell your email program to use plain text format. This at best delays a responds and at worst prevents us from understanding your question as you intended.

1) The columns became factors when you created the data frame because you did not include the stringsAsFactors=FALSE argument. The apply function does NOT turn the columns to factors. 

2) Your use of "x <-" in your apply function is misleading, though not destructive. Just omit that assignment. 

dta2 <- apply(My.Data, 2, function (x) gsub("\\$", "", x)))

On April 18, 2018 4:23:09 PM CDT, Farnoosh Sheikhi via R-help <r-help at r-project.org> wrote:
>Hello,
>I have a data frame with 400 columns and wanted to filter character
>columns with "$" in it.For example:?>? x <- c("$5", "$89", "$10",
>"$34")??>? y <- c(1:4)>? My.Data <- data.frame (x,y)> My.Data? ? x y1?
>$5 12 $89 23 $10 34 $34 4
>I want to detect the columns with $ and remove the $ from the selected
>columns.I have tried?apply(My.Data, 2, function (x) any(grepl("$", x)))
>but it's not really working.Or:??apply(My.Data, 2,
>function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns
>to a factor.
>Thanks.
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From jholtm@n @ending from gm@il@com  Thu Apr 19 06:52:37 2018
From: jholtm@n @ending from gm@il@com (jim holtman)
Date: Wed, 18 Apr 2018 21:52:37 -0700
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <CAAxdm-6jvz53qr7rrxJcQq+k=-qxqwdrcGxJs9xisF0txb6u-Q@mail.gmail.com>

Try this:


result <- lapply(71:75, function(x){
    # use 'paste0' to add the number to the file name
    input <-
read.csv(paste0("C:/Awork/geneAssociation/removed8samples/neuhausen",
                    x,
                    "/seg.pr3.csv")
                    , head=TRUE
            )
    input$id <- paste0("sn", x)
    input  # return the input
    })

result <- do.call(rbind, result)  # combine dataframes together
?


Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.

On Mon, Apr 16, 2018 at 1:54 PM, Ding, Yuan Chun <ycding at coh.org> wrote:

> Hi All..,
>
> I need to do the following repetitive jobs:
>
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv",
> head=T)
> seg71$id <-"sn71"
>
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv",
> head=T)
> seg72$id <-"sn72"
>
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv",
> head=T)
> seg73$id <-"sn73"
>
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv",
> head=T)
> seg74$id <-"sn74"
>
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv",
> head=T)
> seg75$id <-"sn75"
>
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
>
> I want to write a loop to do it;
>
> For ( d in 71:75) {
>   Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
> sep="")
>   setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would
> be  seg&d    ;
>
> I like R, but not good at R.
>
> Can you help me?
>
> Thank you,
>
> Ding
>
>
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:13}}



From ruipb@rr@d@@ @ending from @@po@pt  Thu Apr 19 07:01:45 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 06:01:45 +0100
Subject: [R] Identifying columns with specific character
In-Reply-To: <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
 <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>
Message-ID: <e63bae6e-869c-7a0c-c483-d4780b3eb906@sapo.pt>

Hello,

To the OP:
The dollar sign is a meta character, so it must be escaped, that is what 
was wrong with your code. The right regular expression would be

grepl("\\$", x)

When a regular expression doesn't work, try reading the help page ?regex.

Another good source you can try is

https://regex101.com


Hope this helps,

Rui Barradas

On 4/18/2018 11:19 PM, Jim Lemon wrote:
> Hi Farnoosh,
> Perhaps this will help:
> 
> drop_dollar<-function(x) return(as.numeric(as.character(gsub("\\$","",x))))
> sapply(My.Data,drop_dollar)
> 
> Jim
> 
> On Thu, Apr 19, 2018 at 7:23 AM, Farnoosh Sheikhi via R-help
> <r-help at r-project.org> wrote:
>> Hello,
>> I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example: >  x <- c("$5", "$89", "$10", "$34")  >  y <- c(1:4)>  My.Data <- data.frame (x,y)> My.Data    x y1  $5 12 $89 23 $10 34 $34 4
>> I want to detect the columns with $ and remove the $ from the selected columns.I have tried apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:  apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
>> Thanks.
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From neotropic@l@b@t@ @ending from gm@il@com  Thu Apr 19 13:45:44 2018
From: neotropic@l@b@t@ @ending from gm@il@com (Neotropical bat risk assessments)
Date: Thu, 19 Apr 2018 07:45:44 -0400
Subject: [R] Syntax for capturing and writing file names
In-Reply-To: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
References: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
Message-ID: <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>

Hi all,

I am looking for syntax to read a list of *txt files, (loop through?) 
each with a different data content but same fields, then run lines of 
code to produce summary stats (I have working code for this) and add the 
matching data file name when writing the results of a line of R code.?? 
Suggestions on any package vignettes that may be useful welcomed.

My manual code for this is below and need to understand how to have the 
"DataFile" name changed to match the name of each data file as it is 
read and processed.

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic 
Parameters\\DataFile_Stats.csv")*

-- 

Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet

Using acoustic sampling to identify and map species distributions for >25 years.

Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats


	[[alternative HTML version deleted]]



From Keith@Jewell @ending from c@mpdenbri@co@uk  Thu Apr 19 11:00:35 2018
From: Keith@Jewell @ending from c@mpdenbri@co@uk (Keith Jewell)
Date: Thu, 19 Apr 2018 10:00:35 +0100
Subject: [R] Question
In-Reply-To: <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
Message-ID: <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>

On 15/04/2018 17:26, Marc Girondot via R-help wrote:
> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit?:
>> break-down point
> 
> Can you explain more what you plan to do and give an example of what you 
> have tried to do until now to do a "break down point" in R. Perhaps a 
> "break down point" is common in your field, but I have no idea about 
> what it is !
> 
> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
> 
> Sincerely
> 
> Marc
> 
Perhaps the OP means "breakpoint" in which case the 'strucchange' 
package might be relevant 
<https://cran.r-project.org/web/packages/strucchange/index.html>



From hrmeredith12 @ending from gm@il@com  Thu Apr 19 15:36:04 2018
From: hrmeredith12 @ending from gm@il@com (Hannah Meredith)
Date: Thu, 19 Apr 2018 14:36:04 +0100
Subject: [R] Event-triggered change in value with a time-delay
In-Reply-To: <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>
References: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
 <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>
Message-ID: <CAE6OfupGyw1oqm5XK_1axqc1pq-EkTadYo7vAzsUOQg=15yQpA@mail.gmail.com>

Hi David,

Thank you for your suggestion- I will look into it some more.

Thanks again,
Hannah

On Wed, Apr 18, 2018 at 5:09 PM, David Winsemius <dwinsemius at comcast.net>
wrote:

>
> > On Apr 18, 2018, at 1:04 AM, Hannah Meredith <hrmeredith12 at gmail.com>
> wrote:
> >
> > Hello,
> >
> > I am solving a set of ODEs using deSolve and have run into a problem I
> > would appreciate some advice on. One of the parameters (m) in the ODEs
> > changes between two states when one of the variables (D) crosses a
> > threshold (D_T) for the first time in either direction. Additionally,
> when
> > the variable crosses the threshold (either by increasing or decreasing),
> > there is a time delay (delay) before the parameter shifts values.
>
> I think you migh not have fully reviewed the available functions in that
> package. Doing an sos::findFn-search on ODE's with time delay brings up
> help pages for the `dede` function in deSolve.
>
> For the conditional value of the within regime-fixed parameter `m`,
> couldn't you just use this:
>
>     ... + m*(6.8+ 3.2*(D < D_T))
>
> Caveat: very lightly tested in your toy example, which did generate a
> result where D cross that threshold without blowing up.
>
> --
>
> David.
>
>
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> > Toy model:
> > # define parameters
> > P <- c(m = 10,
> >       R_1 = 0.5,
> >       R_2 = 0.1,
> >       D_0 = 50,
> >       D_T = 5,
> >       delay = 3
> > )
> > # set initial values
> > y_0 <- c(D = 0, Y = 1)
> >
> > # set timesteps
> > times <- seq(0, 100, length = 101)
> >
> > # define function
> > bit <- function(t,y,parms){
> >  with(as.list(c(parms,y)),{
> >
> >
> >    # How I would implement the change if there was no time delay
> >    # m <- ifelse(D>=D_T, m*.68, m)
> >
> >    # Option 1: nested if statements with time delay
> >    # if (D >= D_T) {
> >    #   t_start1 <- t + delay
> >    #   if (t >= t_start1){
> >    #     m <- 6.8
> >    #   }
> >    # }
> >    # if (D < D_T) {
> >    #   t_start2<- t + delay
> >    #   if (t >= t_start2){
> >    #     m <- 10
> >    #   }
> >    # }
> >
> >
> >    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
> > exp(-R_1 * t))
> >    dY <- Y + m;
> >    res <- c(dD, dY)
> >    list(res, m = m)
> >  })
> > }
> >
> >
> > # Solve model
> > library(deSolve)
> > out <- ode(y = y_0, times = times, func = bit, parms = P)
> > out.df <- as.data.frame(out)
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> > I have come up with a number of ideas, but I either haven't been able to
> > get them to work or don't know if R has a command for it:
> >
> > 1. Nested "if" statements with something to track time (as shown above).
> > One issue here is* t-start *is redefined with each time step in the ode
> > solver so *t* never reaches *t_start +delay*.
> >
> > 2. Event triggered changes. From the examples I have found (link
> > <https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf>
> p.
> > 24-25), the time at which the event happens is either pre-set or occurs
> at
> > a root of the ODE.  Also- would this strategy require multiple events?
> One
> > event in which the variable crossing the threshold triggers a timer,
> > another for the timer triggering the parameter change?
> >
> > 3. Lagvalue. This might take care of the time lag component, but I am
> still
> > struggling to understand (1) how lagvalue works and (2) how to integrate
> > both the threshold and timer components.
> >
> >   if ( D < D_T )
> >     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
> >   end
> >
> > 4. Sigmoidal function. Someone suggested this to me earlier, but I am not
> > sure how this would work. Is it possible to have a sigmoidal function
> that
> > switches repeatedly between two states (as opposed to the characteristic
> S
> > curve that transitions once from one state to another)?
> >
> > 5. Mathmematica has a WhenEvent function- is there something similar in
> R?
> >
> >
> > Thank you for your time and any tips you might have!
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'
>  -Gehm's Corollary to Clarke's Third Law
>
>
>
>
>
>


-- 
Hannah Meredith | PhD
Whitaker Scholar
London School of Hygiene and Tropical Medicine

	[[alternative HTML version deleted]]



From di@llot@f@ir83 @ending from y@hoo@fr  Thu Apr 19 15:39:18 2018
From: di@llot@f@ir83 @ending from y@hoo@fr (A. Tafsir DIALLO)
Date: Thu, 19 Apr 2018 13:39:18 +0000 (UTC)
Subject: [R] calculates the standard error with the delta method
References: <1300121509.3484682.1524145158850.ref@mail.yahoo.com>
Message-ID: <1300121509.3484682.1524145158850@mail.yahoo.com>

I need your help because I am having difficulties to finalize an econometric model.By the way, I want to calculate the standard error with delta method in a 2sls model with interactions under R.I want to determine the total effect of the institutions (Institutions + D_MinMond * Institutions) on logYLby summing the estimated parameters of (Institutions) and (D_MinMond * Institutions);D_MinMond is a dummy taking 0 or 1. But I can not find the right code to calculate the standard error under RHere is the equation for this estimate:reg_iv2<-ivreg(logYL~Institutions+D_MinMond+D_MinMondInstitutions|xconst+xrreg+D_MinMond+D_MinMondInstitutions,data=bdd2)

Tafsir DialloCordially

	[[alternative HTML version deleted]]



From thierry@onkelinx @ending from inbo@be  Thu Apr 19 17:10:02 2018
From: thierry@onkelinx @ending from inbo@be (Thierry Onkelinx)
Date: Thu, 19 Apr 2018 17:10:02 +0200
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <CAJuCY5wyjx1JEe6vrdzde8BF721L5qzGTHaDfYsQ7xzVAki+gw@mail.gmail.com>

Dear Lorenzo,

First of all I would focus on topics which immediately usable by your
audience. E.g. making figures and tables based on preprocessed data
files (txt, Excel, GoogleSheets, data base query, ...). And pick
examples in which the definition of the figures and tables remains
more or less stable but the data is updated with some frequency. In a
next step you could focus on processing the data.

I would even skip the step of writing R scripts and start with basic R
notebooks. The ability to include both plain text and code into one
source document is very useful for repetitive tasks. And you
significantly reduce the need to copy/paste results.

Think about a list of packages which you can recommend to your
audience. I would consider the tidyverse collection.

Best regards,



ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-18 15:47 GMT+02:00 Lorenzo Isella <lorenzo.isella at gmail.com>:
> Dear All,
> Ages ago I posted to this mailing list asking for advice about to
> evangelize the use of R in an international public
> administration where the fact that R is free is not a decisive factor
> (actually its being "freeware" may even be seen negatively). After a
> long time, I think it is worthwhile asking the question again and see
> what suggestions other users have.
>
> Another question related to that: let's say you have the possibility
> to give a short course (most likely short of 10 hours) to people
> who are not trained in statistics (people with a background in
> international relations or political scientists frustrated at Excel
> and who sometimes have to do a number of repetitive tasks). How would
> you formulate a short training to make them not R proficient users,
> but aware and looking forward to learning more about R?
> Any suggestion and/or pointer to online resources is appreciated.
> Many thanks
>
> Lorenzo
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From ruipb@rr@d@@ @ending from @@po@pt  Thu Apr 19 17:25:28 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 16:25:28 +0100
Subject: [R] Syntax for capturing and writing file names
In-Reply-To: <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>
References: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
 <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>
Message-ID: <01864e41-c83b-71db-c5c1-38bb80d9de92@sapo.pt>

Hello,

You can process several files at a time with repeated use of *appy 
functions. Something like the following (not tested).


# This first instruction may not be needed
old_dir <- setwd("path/to/txt/files")

# Get the filenames in a vector and read them in
txt_files <- list.files(pattern = ".*\\.txt")
txt_list <- lapply(txt_files, read.table, args)


In the above lapply command, args are the arguments to read.table. For 
instance, header = TRUE, stringsAsFactors = FALSE, etc.

Now put your summary stats code in a function and run it through the 
data.frames in the list. Then save the results as csv files.


stats_list <- lapply(txt_list, summary_stats_function)

csv_files <- sub("txt", "csv", txt_files)
lapply(seq_along(csv_files), function(i) write.csv(stats_list[[i]], 
csv_files[i]))

setwd(old_dir)    # reset, if needed


Hope this helps,

Rui Barradas



On 4/19/2018 12:45 PM, Neotropical bat risk assessments wrote:
> Hi all,
> 
> I am looking for syntax to read a list of *txt files, (loop through?)
> each with a different data content but same fields, then run lines of
> code to produce summary stats (I have working code for this) and add the
> matching data file name when writing the results of a line of R code.
> Suggestions on any package vignettes that may be useful welcomed.
> 
> My manual code for this is below and need to understand how to have the
> "DataFile" name changed to match the name of each data file as it is
> read and processed.
> 
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\DataFile_Stats.csv")*
>



From olivier@crouzet @ending from univ-n@nte@@fr  Thu Apr 19 18:13:30 2018
From: olivier@crouzet @ending from univ-n@nte@@fr (Olivier Crouzet)
Date: Thu, 19 Apr 2018 18:13:30 +0200
Subject: [R] Question
In-Reply-To: <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
 <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
Message-ID: <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>

Hi,

I think he's talking about how much a statistical estimator is influenced by extreme datapoints, e.g.

https://en.m.wikipedia.org/wiki/Robust_statistics#Breakdown_point

Olivier


-- 
Olivier Crouzet 
Assistant Professor
@LLING UMR6310 - Universit? de Nantes / CNRS
Guest Scientist
@UMCG - University Medical Center Groningen / RijksUniversiteit Groningen

> Le 19 avr. 2018 ? 11:00, Keith Jewell <Keith.Jewell at campdenbri.co.uk> a ?crit :
> 
>> On 15/04/2018 17:26, Marc Girondot via R-help wrote:
>>> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit :
>>> break-down point
>> Can you explain more what you plan to do and give an example of what you have tried to do until now to do a "break down point" in R. Perhaps a "break down point" is common in your field, but I have no idea about what it is !
>> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
>> Sincerely
>> Marc
> Perhaps the OP means "breakpoint" in which case the 'strucchange' package might be relevant <https://cran.r-project.org/web/packages/strucchange/index.html>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]



From cry@n @ending from bingh@mton@edu  Thu Apr 19 18:28:19 2018
From: cry@n @ending from bingh@mton@edu (Christopher W Ryan)
Date: Thu, 19 Apr 2018 12:28:19 -0400
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <CAM+rpY=x_v_sd9PtAObiBX6FoSz6+mzi_n1Sx2Nfh+9X17YwUg@mail.gmail.com>

A few years ago I gave two 5-hour workshops about R to a class of US high
school students in a somewhat-accelerated science research class (so these
were already science-motivated kids).  They had been using mainly Excel,
and some SPSS for which the school had a license.  Overall they seemed to
like the sessions. They started a computer programming club afterward, and
some continued to use R.

As for motivation, I found it helpful with the kids to contrast the
instructions for making a scatterplot in Excel, with the command in R.  You
can find many long documents on the internet describing how to do it in
Excel. Find a long one (I've seen 17 pages) filled with screenshots and
many numbered steps ("click here, then click there, then click over here .
. . ")  Then contrast it with something like plot(force, acceleration) or
plot(x,y)   It becomes pretty clear which is easier (postponing, for the
moment, the question of where x and y came from)

Showing cool graphs that could never be made in Excel is also helpful.

Lastly, in the international setting you describe, I would emphasize the
portability of code. Ask them how, with Excel, they would share their
analysis steps with colleagues in another country, for application to the
colleagues' data.

--Chris Ryan
Broome County Health Department
Binghamton, NY US

On Wed, Apr 18, 2018 at 9:47 AM, Lorenzo Isella <lorenzo.isella at gmail.com>
wrote:

> Dear All,
> Ages ago I posted to this mailing list asking for advice about to
> evangelize the use of R in an international public
> administration where the fact that R is free is not a decisive factor
> (actually its being "freeware" may even be seen negatively). After a
> long time, I think it is worthwhile asking the question again and see
> what suggestions other users have.
>
> Another question related to that: let's say you have the possibility
> to give a short course (most likely short of 10 hours) to people
> who are not trained in statistics (people with a background in
> international relations or political scientists frustrated at Excel
> and who sometimes have to do a number of repetitive tasks). How would
> you formulate a short training to make them not R proficient users,
> but aware and looking forward to learning more about R?
> Any suggestion and/or pointer to online resources is appreciated.
> Many thanks
>
> Lorenzo
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posti
> ng-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ycding @ending from coh@org  Thu Apr 19 20:20:37 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Thu, 19 Apr 2018 18:20:37 +0000
Subject: [R] create multiple categorical variables in a data frame using a
 loop
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>

Hi All,

I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.

pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
  cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
           &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
  }

However, I have additional 7 similar variables, so I wrote the following code, but it does not work.

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
cat.var <- paste0("cat.",i)
pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
                                  &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
})
                                                                                  }

Can you help me fix the problem?

Thank you,

Yuan Chun Ding
City of Hope National Medical Center



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From ruipb@rr@d@@ @ending from @@po@pt  Thu Apr 19 20:35:03 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 19:35:03 +0100
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
Message-ID: <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>

Hello,

When programming it is better to use dat[["variable"]] than dat$variable.

So your code could be

pfas.pheno[[cat.var]] <- NA
pfas.pheno[[cat.var]][pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, 
na.rm =T)] <- 0

etc.

Untested.

Hope this helps,

Rui Barradas

On 4/19/2018 7:20 PM, Ding, Yuan Chun wrote:
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>    cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>             &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>    }
> 
> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                    &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                    }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycding @ending from coh@org  Thu Apr 19 21:33:06 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Thu, 19 Apr 2018 19:33:06 +0000
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F280@PPWEXCH2KX14.coh.org>

Hi Rui,

Thank you very much for your help!!  It works very well,  I got it.

Ding



-----Original Message-----
From: Rui Barradas [mailto:ruipbarradas at sapo.pt] 
Sent: Thursday, April 19, 2018 11:35 AM
To: Ding, Yuan Chun <ycding at coh.org>; r-help at r-project.org
Subject: Re: [R] create multiple categorical variables in a data frame using a loop

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Hello,

When programming it is better to use dat[["variable"]] than dat$variable.

So your code could be

pfas.pheno[[cat.var]] <- NA
pfas.pheno[[cat.var]][pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0

etc.

Untested.

Hope this helps,

Rui Barradas

On 4/19/2018 7:20 PM, Ding, Yuan Chun wrote:
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>    cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>             &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>    }
> 
> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA 
> eval(parse(text=cat.var))[pfas.pheno[,i] <= 
> quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0 
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2 eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                    &pfas.pheno[,i] <= 
> quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                    
> }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From dwin@emiu@ @ending from comc@@t@net  Thu Apr 19 22:22:28 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Thu, 19 Apr 2018 13:22:28 -0700
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
Message-ID: <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>


> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
> 
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>  cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>           &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>  }

This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):

pfas.pheno <-within(pfas.pheno, {
 cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
 

`findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.


> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA

Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.

Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:

 for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
             "log2me_pfosa_acoh"))  {
  cat.var <- paste0("cat.",i)
  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
                   envir=as.environment( get( pfas.pheno ) ) )

Best;
David.



> eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                  &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                  }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:20}}



From dwin@emiu@ @ending from comc@@t@net  Fri Apr 20 03:58:25 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Thu, 19 Apr 2018 18:58:25 -0700
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
Message-ID: <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>


> On Apr 19, 2018, at 1:22 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
>> 
>> Hi All,
>> 
>> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
>> 
>> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>> cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>> cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>> cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>>          &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>> }
> 
> This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):
> 
> pfas.pheno <-within(pfas.pheno, {
> cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
> 
> 
> `findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.
> 
> 
>> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
>> 
>> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
>> cat.var <- paste0("cat.",i)
>> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> 
> Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.
> 
> Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
>             "log2me_pfosa_acoh"))  {
>  cat.var <- paste0("cat.",i)
>  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
>                   envir=as.environment( get( pfas.pheno ) ) )

That wasn't good advice. I would rather suggest (but still untested in the absence of a good demo dataset from the OP):

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
            "log2me_pfosa_acoh"))  {
 cat.var <- paste0("cat.",i)
 pfas.pheno[[ cat.var ]] <-  findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } 

The "[[<-" function supports character values as column names during assignment.


> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From m@echler @ending from @t@t@m@th@ethz@ch  Fri Apr 20 09:08:16 2018
From: m@echler @ending from @t@t@m@th@ethz@ch (Martin Maechler)
Date: Fri, 20 Apr 2018 09:08:16 +0200
Subject: [R] Question "breakdown point" --> robust statistics
In-Reply-To: <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
 <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
 <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>
Message-ID: <23257.37344.708327.772528@stat.math.ethz.ch>

>>>>> Olivier Crouzet <olivier.crouzet at univ-nantes.fr>
>>>>>     on Thu, 19 Apr 2018 18:13:30 +0200 writes:

    > Hi,
    > I think he's talking about how much a statistical estimator is influenced by extreme datapoints, e.g.

    > https://en.m.wikipedia.org/wiki/Robust_statistics#Breakdown_point

    > Olivier

Definitely!  Thank you, Olivier.

I had not replied because the question looked more like homework
than something for which R-help is appropropriate.

There is the 'robustbase' package and more of a dozen other high
quality R packages about robust statistics -- in which
"breakdown point" is one crucial concept.

BTW: What econometricians tend to call "robust" is the idea
of using "sandwich" estimates (--> 'sandwich' package in R), aka
Newey-West aka HAC (Heteroscadisticity And Correlation adjusted) estimates.

Robust statistics in a proper sense considers "sensitivity" of
both estimates and their precision estimates in situations where
the distributional assumption (e.g. Gaussian errors) is only
approximately true, say 95% of the observations/errors/.. are Gaussian but the
remaining 5% can be anything (-> arbitrary extreme outliers).

There's the CRAN task view on robust statistical methods:
https://cran.r-project.org/web/views/Robust.html

Martin Maechler
ETH Zurich

    > -- 
    > Olivier Crouzet 
    > Assistant Professor
    > @LLING UMR6310 - Universit? de Nantes / CNRS
    > Guest Scientist
    > @UMCG - University Medical Center Groningen / RijksUniversiteit Groningen

    >> Le 19 avr. 2018 ? 11:00, Keith Jewell <Keith.Jewell at campdenbri.co.uk> a ?crit :
    >> 
    >>> On 15/04/2018 17:26, Marc Girondot via R-help wrote:
    >>>> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit :
    >>>> break-down point
    >>> Can you explain more what you plan to do and give an example of what you have tried to do until now to do a "break down point" in R. Perhaps a "break down point" is common in your field, but I have no idea about what it is !
    >>> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
    >>> Sincerely
    >>> Marc
    >> Perhaps the OP means "breakpoint" in which case the 'strucchange' package might be relevant <https://cran.r-project.org/web/packages/strucchange/index.html>
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.

    > [[alternative HTML version deleted]]

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.



From j@ck@fr81 @ending from gm@il@com  Fri Apr 20 08:21:02 2018
From: j@ck@fr81 @ending from gm@il@com (Jack Frazer)
Date: Fri, 20 Apr 2018 10:51:02 +0430
Subject: [R] Problem reading R files
Message-ID: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>

 Dear R Developers,

I hope this email finds you well.

As a newcomer to the world of R, I'm trying different exercises. In my way,
I faced with some, seemingly, trivial problems but there is not any
response for that around the web. So, I thought can get help from you.
Specifically, in tutorial presented at http://www.rdatamining.com/doc
s/twitter-analysis-with-r,  I faced with a problem on using OAuth. When I
use the first approach, the following error will be occurred:

[1] "Using browser based authentication"
Error in curl::curl_fetch_memory(url, handle = handle) :
  Failed to connect to api.twitter.com port 443: Connection refused


And when it comes to the second approach, the following error rises:

[1] "Using direct authentication"
Error in check_twitter_oauth() : OAuth authentication error:
This most likely means that you have incorrectly called
setup_twitter_oauth()'

Unfortunately, the online resources could not help. For example, all the
solutions introduced in StackOverflow could not work for me.

https://stackoverflow.com/questions/31128492/twitter-setup-t
witter-oauth-failing

*Moreover, in reading data from the current directory, the readRDS method
sucks*. I got same error using import() in rio package.

https://stackoverflow.com/questions/49908803/error-in-reading-files-in-r

So, please  let me know if you have some solution for the issues.

Thanks for your consideration.

Regards,

Jack

	[[alternative HTML version deleted]]



From Anne@Ch@tton @ending from hcuge@ch  Fri Apr 20 10:32:24 2018
From: Anne@Ch@tton @ending from hcuge@ch (CHATTON Anne)
Date: Fri, 20 Apr 2018 08:32:24 +0000
Subject: [R] Further questions
Message-ID: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>

Hi R folks,
In my previous post I forgot to mention that I was new to R. I was really grateful for your quick help. I have two further questions:
1) In the graph of a regression line I would like to show one specific residual yi obs - yi pred (let's take the person whose residual is 76). How do I add a bracket to this vertical distance and name it? I'am getting stuck after the "textxy" function.
Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45, 
17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162, 
150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158, 
144, 130, 125, 175)
mean(Age)
mean(BloodPressure)
SimpleLinearReg1 <- lm(BloodPressure ~ Age)
summary(SimpleLinearReg1)
coeff <-coefficients(SimpleLinearReg1)
coeff
eq <- as.formula(
  paste0("y ~ ", round(coefficients(SimpleLinearReg1)[1],2), "", 
    paste(sprintf(" %+.2f*%s ", 
                  coefficients(SimpleLinearReg1)[-1],  
                  names(coefficients(SimpleLinearReg1)[-1])), 
          collapse="")))
eq <- paste0("y = ", round(coeff[2],1), "x + ", round(coeff[1],1))
plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", 
main = "Graphe de la relation entre l'?ge et la pression art?rielle", 
xlab = "Age (ann?e)", ylab = "Pression art?rielle (mmHg)")
abline(SimpleLinearReg1, col="red")
res <- signif(residuals(SimpleLinearReg1), 2)
pre <- predict(SimpleLinearReg1) 
segments(Age, BloodPressure, Age, pre, col="red")
library(calibrate)
textxy(Age, BloodPressure, res, cex=0.7) 2) 

2) I also need your help plotting a hyperplan for a multiple regression and here I am really stuck...
inc <- c(25000, 28000, 17500, 30000, 25000, 32000, 30000, 29000, 26000, 40000)
age <- c(60, 36, 21, 35, 33, 43, 29, 45, 41, 48)
educ <- c(12, 12, 13, 16, 16, 12, 13, 15, 15, 20)
MultLinearReg1 <- lm(inc ~ age + educ)
summary(MultLinearReg1)

Thank you so much!



From Gerrit@Eichner @ending from m@th@uni-gie@@en@de  Fri Apr 20 17:23:46 2018
From: Gerrit@Eichner @ending from m@th@uni-gie@@en@de (Gerrit Eichner)
Date: Fri, 20 Apr 2018 17:23:46 +0200
Subject: [R] Further questions
In-Reply-To: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>
References: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>
Message-ID: <b8700159-9fa3-5348-5e44-aeca29fe4a1c@math.uni-giessen.de>

Hello, Anne,

just a few quick hints because I need to run.

First, try to format you R-code in emails like this
with adequate line breaks.

Second, if you boil down your problem to the crucial point
(and not just pack an email with very specific code) more
people may be more willing to respond.

Third, just to be sure: This list is not for home work.

Two more remarks see inline below.

  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

Am 20.04.2018 um 10:32 schrieb CHATTON Anne via R-help:
> Hi R folks,
> In my previous post I forgot to mention that I was new to R. I was
> really grateful for your quick help. I have two further questions:
> 1) In the graph of a regression line I would like to show one specific residual yi obs - yi pred (let's take the person whose residual is 76). How do I add a bracket to this vertical distance and name it? I'am getting stuck after the "textxy" function.
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
> 144, 130, 125, 175)
> mean(Age)
> mean(BloodPressure)
> SimpleLinearReg1 <- lm(BloodPressure ~ Age)
> summary(SimpleLinearReg1)
> coeff <-coefficients(SimpleLinearReg1)
> coeff
> eq <- as.formula(
>    paste0("y ~ ", round(coefficients(SimpleLinearReg1)[1],2), "",
>      paste(sprintf(" %+.2f*%s ",
>                    coefficients(SimpleLinearReg1)[-1],
>                    names(coefficients(SimpleLinearReg1)[-1])),
>            collapse="")))
> eq <- paste0("y = ", round(coeff[2],1), "x + ", round(coeff[1],1))
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
> main = "Graphe de la relation entre l'?ge et la pression art?rielle",
> xlab = "Age (ann?e)", ylab = "Pression art?rielle (mmHg)")
> abline(SimpleLinearReg1, col="red")
> res <- signif(residuals(SimpleLinearReg1), 2)
> pre <- predict(SimpleLinearReg1)
> segments(Age, BloodPressure, Age, pre, col="red")
> library(calibrate)
> textxy(Age, BloodPressure, res, cex=0.7)

I don't understand what mean by "to add a bracket", but why
don't you just place a "name" next to the vertical line at
residual # 76 using the function text?


  2)
> 
> 2) I also need your help plotting a hyperplan for a multiple
> regression and here I am really stuck...

This is a bit more complicated. Learn, e.g., about function persp
or search for "plot regression surface with r" and find, e.g.,
https://stackoverflow.com/questions/7863906/plot-regression-surface#7864088 
as the first hit.


> inc <- c(25000, 28000, 17500, 30000, 25000, 32000, 30000, 29000, 26000, 40000)
> age <- c(60, 36, 21, 35, 33, 43, 29, 45, 41, 48)
> educ <- c(12, 12, 13, 16, 16, 12, 13, 15, 15, 20)
> MultLinearReg1 <- lm(inc ~ age + educ)
> summary(MultLinearReg1)
> 
> Thank you so much!
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycding @ending from coh@org  Fri Apr 20 19:11:31 2018
From: ycding @ending from coh@org (Ding, Yuan Chun)
Date: Fri, 20 Apr 2018 17:11:31 +0000
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
 <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F4EF@PPWEXCH2KX14.coh.org>

Hi David,

Thank you so much for your kind suggestion and fixing my code!! I learn a lot from you today.

Ding

-----Original Message-----
From: David Winsemius [mailto:dwinsemius at comcast.net] 
Sent: Thursday, April 19, 2018 6:58 PM
To: Ding, Yuan Chun <ycding at coh.org>
Cc: r-help at r-project.org
Subject: Re: [R] create multiple categorical variables in a data frame using a loop

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]






> On Apr 19, 2018, at 1:22 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
>> 
>> Hi All,
>> 
>> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
>> 
>> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA 
>> cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, 
>> na.rm =T)]<-0 cat.pfoa[pfas.pheno$log2pfoa 
>> >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2 cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>>          &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, 
>> na.rm =T)]<-1 }
> 
> This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):
> 
> pfas.pheno <-within(pfas.pheno, {
> cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( 
> log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
> 
> 
> `findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.
> 
> 
>> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
>> 
>> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
>> cat.var <- paste0("cat.",i)
>> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> 
> Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.
> 
> Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
>             "log2me_pfosa_acoh"))  {
>  cat.var <- paste0("cat.",i)
>  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
>                   envir=as.environment( get( pfas.pheno ) ) )

That wasn't good advice. I would rather suggest (but still untested in the absence of a good demo dataset from the OP):

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
            "log2me_pfosa_acoh"))  {
 cat.var <- paste0("cat.",i)
 pfas.pheno[[ cat.var ]] <-  findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } 

The "[[<-" function supports character values as column names during assignment.


> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law







---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}



From dwin@emiu@ @ending from comc@@t@net  Fri Apr 20 19:48:53 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Fri, 20 Apr 2018 10:48:53 -0700
Subject: [R] Problem reading R files
In-Reply-To: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>
References: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>
Message-ID: <F25D0DC0-D9E1-4EA4-BDBE-7E5E369C2284@comcast.net>


> On Apr 19, 2018, at 11:21 PM, Jack Frazer <jack.fr81 at gmail.com> wrote:
> 
> Dear R Developers,
> 
> I hope this email finds you well.
> 
> As a newcomer to the world of R, I'm trying different exercises. In my way,
> I faced with some, seemingly, trivial problems but there is not any
> response for that around the web. So, I thought can get help from you.
> Specifically, in tutorial presented at http://www.rdatamining.com/doc
> s/twitter-analysis-with-r,  I faced with a problem on using OAuth. When I
> use the first approach, the following error will be occurred:
> 
> [1] "Using browser based authentication"
> Error in curl::curl_fetch_memory(url, handle = handle) :
>  Failed to connect to api.twitter.com port 443: Connection refused

Looks like you have not obtained a proper Twitter account and obtained a valid registration code to use the API. That should have been covered in your course materials. 

> And when it comes to the second approach,

... the second approach? We are expected to work through that tutorial for you?

> the following error rises:
> 
> [1] "Using direct authentication"
> Error in check_twitter_oauth() : OAuth authentication error:
> This most likely means that you have incorrectly called
> setup_twitter_oauth()'
> 

Same issue most likely?

> Unfortunately, the online resources could not help. For example, all the
> solutions introduced in StackOverflow could not work for me.
> 
> https://stackoverflow.com/questions/31128492/twitter-setup-t
> witter-oauth-failing
> 
> *Moreover, in reading data from the current directory, the readRDS method
> sucks*.

Generally use of such a description will be viewed as at best useless and at worst offensive.

> I got same error using import() in rio package.


> 
> https://stackoverflow.com/questions/49908803/error-in-reading-files-in-r

That posting describes entirely different issue. The first issue was that the file wasn't where you thought it was and the second error message that you posted in comments said it was the wrong format for the readRDS function.

There are two files with that name listed on the website and only one of them loads properly with readRDS.

 
> 
> So, please  let me know if you have some solution for the issues.
> 
> Thanks for your consideration.
> 
> Regards,
> 
> Jack
> 
> 	[[alternative HTML version deleted]]

Jack, you really should read the Posting Guide.

> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @gg@rw@lneh@2000 @ending from gm@il@com  Sat Apr 21 09:27:05 2018
From: @gg@rw@lneh@2000 @ending from gm@il@com (Neha Aggarwal)
Date: Sat, 21 Apr 2018 03:27:05 -0400
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
Message-ID: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>

Hi,

I am looking for a way in which I can check if rows in 1 dataframe are
present in another data frame in a unique way. A row in dataframe should be
super set of any row in another dataframe.

I can write a for loop for it, however, that will be inefficient. So, I am
looking for an efficient way to do this in R.

I have explained it with an example below:

I want to check if a row in dataframe B is:
1) either equal to any row in A or
2) has 1's atleast for the columns where (any) row in B has 1's.

My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
number of rows in B. The first row in B is exactly present in A so result
has first bit as 1. Second row in B has matches with 2nd row of dataframe A
(it has an extra 1 in 3rd column,which is ok);so second bit of result is
also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
in result is also a 1. Next, 4th row in B has 1 for a column where no row
in A has 1, so last bit in result is 0.

Dataframe A
1 0 1 0
1 1 0 0
0 1 1 0

Dataframe B
1 0 1 0
1 1 1 0
1 1 1 1
0 0 0 1

Result<- 1 1 1 0

Thanks for the help,
Neha

	[[alternative HTML version deleted]]



From ericjberger @ending from gm@il@com  Sat Apr 21 10:32:56 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Sat, 21 Apr 2018 11:32:56 +0300
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
In-Reply-To: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
References: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
Message-ID: <CAGgJW74V5uZksCowAvnqxoru06H27AN1F=9t0iYeVwki8WsHBA@mail.gmail.com>

Hi Neha,
How about this?

A <- as.matrix(A)
B <- as.matrix(B)

C   <- A %*% t(B)
SA  <- apply(A, MAR=1, sum )
SB  <- apply(B, MAR=1, sum )
vapply( 1:nrow(B), function(j) { sum( C[,j]==SA & SA <= SB[j] ) > 0 }, 1 )

HTH,
Eric


On Sat, Apr 21, 2018 at 10:27 AM, Neha Aggarwal <aggarwalneha2000 at gmail.com>
wrote:

> Hi,
>
> I am looking for a way in which I can check if rows in 1 dataframe are
> present in another data frame in a unique way. A row in dataframe should be
> super set of any row in another dataframe.
>
> I can write a for loop for it, however, that will be inefficient. So, I am
> looking for an efficient way to do this in R.
>
> I have explained it with an example below:
>
> I want to check if a row in dataframe B is:
> 1) either equal to any row in A or
> 2) has 1's atleast for the columns where (any) row in B has 1's.
>
> My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
> number of rows in B. The first row in B is exactly present in A so result
> has first bit as 1. Second row in B has matches with 2nd row of dataframe A
> (it has an extra 1 in 3rd column,which is ok);so second bit of result is
> also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
> in result is also a 1. Next, 4th row in B has 1 for a column where no row
> in A has 1, so last bit in result is 0.
>
> Dataframe A
> 1 0 1 0
> 1 1 0 0
> 0 1 1 0
>
> Dataframe B
> 1 0 1 0
> 1 1 1 0
> 1 1 1 1
> 0 0 0 1
>
> Result<- 1 1 1 0
>
> Thanks for the help,
> Neha
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From drjimlemon @ending from gm@il@com  Sat Apr 21 10:57:15 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Sat, 21 Apr 2018 18:57:15 +1000
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
In-Reply-To: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
References: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
Message-ID: <CA+8X3fXEMm88BSZ_vDhoQOjfLa2yFUWwKMeo5SMg6Ps-EpPn6g@mail.gmail.com>

Hi Neha,
How about this?

find_subset<-function(x,y) {
 yrows<-dim(y)[1]
 match<-0
 for(row in 1:yrows) match<-sum(x&y[row]) >= sum(y[row])
 return(match)
}
apply(B,1,find_subset,A)

This is somewhat obscure, as the dataframe B is coerced to a matrix by
the apply function.

Jim

On Sat, Apr 21, 2018 at 5:27 PM, Neha Aggarwal
<aggarwalneha2000 at gmail.com> wrote:
> Hi,
>
> I am looking for a way in which I can check if rows in 1 dataframe are
> present in another data frame in a unique way. A row in dataframe should be
> super set of any row in another dataframe.
>
> I can write a for loop for it, however, that will be inefficient. So, I am
> looking for an efficient way to do this in R.
>
> I have explained it with an example below:
>
> I want to check if a row in dataframe B is:
> 1) either equal to any row in A or
> 2) has 1's atleast for the columns where (any) row in B has 1's.
>
> My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
> number of rows in B. The first row in B is exactly present in A so result
> has first bit as 1. Second row in B has matches with 2nd row of dataframe A
> (it has an extra 1 in 3rd column,which is ok);so second bit of result is
> also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
> in result is also a 1. Next, 4th row in B has 1 for a column where no row
> in A has 1, so last bit in result is 0.
>
> Dataframe A
> 1 0 1 0
> 1 1 0 0
> 0 1 1 0
>
> Dataframe B
> 1 0 1 0
> 1 1 1 0
> 1 1 1 1
> 0 0 0 1
>
> Result<- 1 1 1 0
>
> Thanks for the help,
> Neha
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From @oumen08 @ending from gm@il@com  Sat Apr 21 11:22:56 2018
From: @oumen08 @ending from gm@il@com (Soumen Banerjee)
Date: Sat, 21 Apr 2018 17:22:56 +0800
Subject: [R] Error : 'start' contains NA values when fitting frank copula
Message-ID: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>

Hello!
I am trying to fit a copula to some data in R and I get the error mentioned
above. This is the code for a reproducible example -

library(copula)
data = matrix(data=runif(600),nrow=200,ncol=3)
data[,2] = 2*data[,1]
data[,3] = 3*data[,1]
fr_cop = frankCopula(dim=3)
fit_fr_cop = fitCopula(fr_cop,pobs(data),method = "mpl") #Error Here

The error says : Error in fitCopula.ml(copula, u = data, method = method,
start = start, : 'start' contains NA values

What could be going wrong?

	[[alternative HTML version deleted]]



From m@echler @ending from @t@t@m@th@ethz@ch  Sat Apr 21 19:46:06 2018
From: m@echler @ending from @t@t@m@th@ethz@ch (Martin Maechler)
Date: Sat, 21 Apr 2018 19:46:06 +0200
Subject: [R] 
 Error : 'start' contains NA values when fitting frank copula
In-Reply-To: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
References: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
Message-ID: <23259.30942.79438.130874@stat.math.ethz.ch>

>>>>> Soumen Banerjee <soumen08 at gmail.com>
>>>>>     on Sat, 21 Apr 2018 17:22:56 +0800 writes:

    > Hello!  I am trying to fit a copula to some data in R and
    > I get the error mentioned above. This is the code for a
    > reproducible example -

(not really reproducible: You did not set the random seed, so
 the data is different every time;
 OTOH, yes, the following always gives an error)

    > library(copula)

Slightly clearer showing what you are doing:

    x <- runif(200)
    data <- cbind(x, 2*x, 3*x)

    > fr_cop = frankCopula(dim=3)
    > fit_fr_cop = fitCopula(fr_cop, pobs(data), method = "mpl") #Error Here

    > The error says : Error in fitCopula.ml(copula, u = data, method = method,
    > start = start, : 'start' contains NA values

    > What could be going wrong?

Is this a homework question? [probably not, but ..]

The homework question & answer would be

Q:  What is the best fitting 3D copula if you have perfectly
    correlated ("rank 1") data?

A:  The complete-dependence copula ... which is indeed a boundary case,
    hard to imagine you'd encounter for non-artifical data.

Another hint:

> fitCopula(normalCopula(,3), pobs(data))
Call: fitCopula(copula, data = data)
Fit based on "maximum pseudo-likelihood" and 200 3-dimensional observations.
Copula: normalCopula 
rho.1 
    1 
The maximized loglikelihood is 3686 
Optimization converged
>
-----------

Yes, one could adapt the fitCopula() code to work better for
this extreme boundary case,
and for the Frank copula,  it would return

> fitCopula(frankCopula(,3), pobs(data))
Call: fitCopula(copula, data = data)
Fit based on "maximum pseudo-likelihood" and 200 3-dimensional observations.
Copula: frankCopula 
   alpha 
7.21e+16 
The maximized loglikelihood is 1.798e+308 
Optimization converged


but it would need even more tweaking to also give such
  "alpha ~= +Inf"
results for other cases such as Gumbel or Joe.

I may add the possibility for frank*() as shown above for the
next release of the copula package...
but am a bit hesitant to complicate (and slowdown) the current
code by adding an extra check for this situation.

Martin Maechler
ETH Zurich



From v@rin@@ch@ @ending from y@hoo@fr  Sat Apr 21 20:48:55 2018
From: v@rin@@ch@ @ending from y@hoo@fr (varin sacha)
Date: Sat, 21 Apr 2018 18:48:55 +0000 (UTC)
Subject: [R] Cross-validation : can't get the predicted response on the
 testing data
References: <1927286315.4697101.1524336535709.ref@mail.yahoo.com>
Message-ID: <1927286315.4697101.1524336535709@mail.yahoo.com>

Dear R-experts,

Doing cross-validation for 2 robust regressions (HBR and fast Tau). I can't get the 2 errors rates (RMSE and MAPE). The problem is to predict the response on the testing data. I get 2 error messages. 
Here below the reproducible (fictional example) R code.

#install.packages("MLmetrics")
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages( "scatterplot3d" )
# install.packages("devtools")? # library("devtools") # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(scatterplot3d)
library(hbrfit)
library(MLmetrics)?

# numeric variables
A=c(2,3,4,3,2,6,5,6,4,3,5,55,6,5,4,5,6,6,7,52)
B= c(45,43,23,47,65,21,12,7,18,29,56,45,34,23,12,65,4,34,54,23)
C=c(21,54,34,12,4,56,74,3,12,71,14,15,63,34,35,23,24,21,69,32)

# Create a dataframe
BIO<-data.frame(A,B,C)
? 
# randomize sampling seed
set.seed(1)
n=dim(BIO)[1] 
p=0.667

# Sample size
sam=sample(1?:n,floor(p*n),replace=FALSE)

# Sample training data
Training =BIO [sam,]

# Sample testing data
Testing = BIO [-sam,]
? 
# Build the 2 models 
fit<- FastTau(model.matrix(~Training$A+Training$B),Training$C)
HBR<-hbrfit(C ~ A+B)

# Predict the response on the testing data
ypred=predict(fit,newdata=Testing)
ypred=predict(HBR,newdata=Testing)

# Get the true response from testing data
y=BIO[-sam,]$D

?# Get error rate
RMSE=sqrt(mean((y-ypred)^2))
RMSE
MAPE = mean(abs(y-ypred/y))
MAPE



From j@ck@rne@t@d @ending from gm@il@com  Sat Apr 21 21:16:55 2018
From: j@ck@rne@t@d @ending from gm@il@com (Jack Arnestad)
Date: Sat, 21 Apr 2018 19:16:55 +0000
Subject: [R] Removing columns from big.matrix which have only one value
Message-ID: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>

I have a very large binary matrix, stored as a big.matrix to conserve
memory (it is over 2 gb otherwise - 5 million columns and 100 rows).

r <- 100
c <- 10000
m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
m4 <- cbind(m4, 1)
m4 <- as.big.matrix(m4)

I need to remove every column which has only one unique value (in this
case, only 0s or only 1s). Because of the number of columns, I want to be
able to do this in parallel.

How can I accomplish this while keeping the data compressed as a
big.matrix? I can convert it into a df and loop over the columns looking
for the number of unique values, but this takes too much RAM.

Thanks!

	[[alternative HTML version deleted]]



From bgunter@4567 @ending from gm@il@com  Sat Apr 21 22:54:33 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Sat, 21 Apr 2018 20:54:33 +0000
Subject: [R] Removing columns from big.matrix which have only one value
In-Reply-To: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
References: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
Message-ID: <CAGxFJbTZBsMKcSd2pqozF8yBVdS7+xjq4OJVTqp-04L4Tj-fkA@mail.gmail.com>

Maybe base R's  unique() function might be useful? It uses hashing I
believe.

Bert

On Sat, Apr 21, 2018, 12:17 PM Jack Arnestad <jackarnestad at gmail.com> wrote:

> I have a very large binary matrix, stored as a big.matrix to conserve
> memory (it is over 2 gb otherwise - 5 million columns and 100 rows).
>
> r <- 100
> c <- 10000
> m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
> m4 <- cbind(m4, 1)
> m4 <- as.big.matrix(m4)
>
> I need to remove every column which has only one unique value (in this
> case, only 0s or only 1s). Because of the number of columns, I want to be
> able to do this in parallel.
>
> How can I accomplish this while keeping the data compressed as a
> big.matrix? I can convert it into a df and loop over the columns looking
> for the number of unique values, but this takes too much RAM.
>
> Thanks!
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @oumen08 @ending from gm@il@com  Sun Apr 22 01:51:41 2018
From: @oumen08 @ending from gm@il@com (Soumen Banerjee)
Date: Sun, 22 Apr 2018 07:51:41 +0800
Subject: [R] 
 Error : 'start' contains NA values when fitting frank copula
In-Reply-To: <23259.30942.79438.130874@stat.math.ethz.ch>
References: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
 <23259.30942.79438.130874@stat.math.ethz.ch>
Message-ID: <CAEZF6yycB=0B=xPhvRRBbH9iJAm9mWZuT4QFe8Hw5nR204kFGw@mail.gmail.com>

Hi Martin,
Thanks for the reply. I tried to make a toy example so that I could get the
same error. I have attached the data file for which the error occurs in my
program.
The code after loading this file is -

fr_cop = frankCopula(dim=6)
fit_fr_cop = fitCopula(fr_cop,pobs(data),method="mpl")

This is about looking for the degree of monetary independence between a
country and large economies. In this data, the "this" country is UK, so
that there are two columns which are exactly equal, but there are 4 other
columns which aren't. Is this a valid case?

Soumen

On Sun, Apr 22, 2018 at 1:46 AM, Martin Maechler <maechler at stat.math.ethz.ch
> wrote:

> >>>>> Soumen Banerjee <soumen08 at gmail.com>
> >>>>>     on Sat, 21 Apr 2018 17:22:56 +0800 writes:
>
>     > Hello!  I am trying to fit a copula to some data in R and
>     > I get the error mentioned above. This is the code for a
>     > reproducible example -
>
> (not really reproducible: You did not set the random seed, so
>  the data is different every time;
>  OTOH, yes, the following always gives an error)
>
>     > library(copula)
>
> Slightly clearer showing what you are doing:
>
>     x <- runif(200)
>     data <- cbind(x, 2*x, 3*x)
>
>     > fr_cop = frankCopula(dim=3)
>     > fit_fr_cop = fitCopula(fr_cop, pobs(data), method = "mpl") #Error
> Here
>
>     > The error says : Error in fitCopula.ml(copula, u = data, method =
> method,
>     > start = start, : 'start' contains NA values
>
>     > What could be going wrong?
>
> Is this a homework question? [probably not, but ..]
>
> The homework question & answer would be
>
> Q:  What is the best fitting 3D copula if you have perfectly
>     correlated ("rank 1") data?
>
> A:  The complete-dependence copula ... which is indeed a boundary case,
>     hard to imagine you'd encounter for non-artifical data.
>
> Another hint:
>
> > fitCopula(normalCopula(,3), pobs(data))
> Call: fitCopula(copula, data = data)
> Fit based on "maximum pseudo-likelihood" and 200 3-dimensional
> observations.
> Copula: normalCopula
> rho.1
>     1
> The maximized loglikelihood is 3686
> Optimization converged
> >
> -----------
>
> Yes, one could adapt the fitCopula() code to work better for
> this extreme boundary case,
> and for the Frank copula,  it would return
>
> > fitCopula(frankCopula(,3), pobs(data))
> Call: fitCopula(copula, data = data)
> Fit based on "maximum pseudo-likelihood" and 200 3-dimensional
> observations.
> Copula: frankCopula
>    alpha
> 7.21e+16
> The maximized loglikelihood is 1.798e+308
> Optimization converged
>
>
> but it would need even more tweaking to also give such
>   "alpha ~= +Inf"
> results for other cases such as Gumbel or Joe.
>
> I may add the possibility for frank*() as shown above for the
> next release of the copula package...
> but am a bit hesitant to complicate (and slowdown) the current
> code by adding an extra check for this situation.
>
> Martin Maechler
> ETH Zurich
>


From luc@m1968 @ending from gm@il@com  Sun Apr 22 10:13:52 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Sun, 22 Apr 2018 10:13:52 +0200
Subject: [R] How to dynamically add variables to a dataframe
Message-ID: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>

Hi,

I am a bit rusty with R programming and do not seem to find a solution to
add a number of variables to my existing dataframe. Basically I need to add
n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
V1, V2, V3, ... , V[dim(d1)[1])

When running the following code:

for (t in 1:dim(d1)[1]){
  d0$V[t] <- 0
}

all I get is a V variable populated with zeros...

I am sure there is a fairly straightforward code to accomplish what I need,
any suggestion?

Thank you,

Luca

	[[alternative HTML version deleted]]



From ericjberger @ending from gm@il@com  Sun Apr 22 10:23:59 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Sun, 22 Apr 2018 11:23:59 +0300
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
Message-ID: <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>

Hi Luca,
How about this?

# create some dummy data since I don't have your d0 or d1
> n  <- 3
> d0 <- data.frame(a=runif(5),b=runif(5))

# here's the suggested code
> d1 <- cbind(d0, matrix(0,nrow(d0),n))
> colnames(d1)[1:n + ncol(d0)] <- paste("V",1:n,sep="")

HTH,
Eric


On Sun, Apr 22, 2018 at 11:13 AM, Luca Meyer <lucam1968 at gmail.com> wrote:

> Hi,
>
> I am a bit rusty with R programming and do not seem to find a solution to
> add a number of variables to my existing dataframe. Basically I need to add
> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
> V1, V2, V3, ... , V[dim(d1)[1])
>
> When running the following code:
>
> for (t in 1:dim(d1)[1]){
>   d0$V[t] <- 0
> }
>
> all I get is a V variable populated with zeros...
>
> I am sure there is a fairly straightforward code to accomplish what I need,
> any suggestion?
>
> Thank you,
>
> Luca
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From j@ri@ok@@nen @ending from oulu@fi  Sun Apr 22 16:59:55 2018
From: j@ri@ok@@nen @ending from oulu@fi (Jari Oksanen)
Date: Sun, 22 Apr 2018 14:59:55 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <4920C8E0-7E79-429A-A080-874E5684E2E1@oulu.fi>

Are you missing values coded as missing values? That is, are they NA? Such NA-values should be handled by vegan::monoMDS. Naturally, it can be possible that your data set cannot be meaningfully analysed if you have too many missing values or missing values are grouped in peculiar ways. Zero-values are not missing values, but they indicate 0-difference (= identical observations). The missing values must be coded as NA.

cheers, Jari Oksanen


From mri@mor@di @ending from gm@il@com  Sun Apr 22 17:20:05 2018
From: mri@mor@di @ending from gm@il@com (mohammad moradi)
Date: Sun, 22 Apr 2018 19:50:05 +0430
Subject: [R] Problem reading RDS files
Message-ID: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>

Hi there,

I faced a weird problem doing a seemingly simple task in R. Specifically,
when trying for reading an RDS file from the working directory, the
following error is appeared.

Code:

records <- readRDS("tweets.rds")


Error:

Error in readRDS("tweets.rds") : error reading from connection
In addition: Warning message:
In readRDS("tweets.rds") : invalid or incomplete compressed data


Thanks,

Mohammad

	[[alternative HTML version deleted]]



From jdnewmil @ending from dcn@d@vi@@c@@u@  Sun Apr 22 18:46:51 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Sun, 22 Apr 2018 11:46:51 -0500
Subject: [R] Problem reading RDS files
In-Reply-To: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
Message-ID: <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>

Wouldn't the obvious problem be that your data file is corrupted or was never created  using saveRDS in the first place? Can you show us a complete example of creating and attempting to read what was just created? 

On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com> wrote:
>Hi there,
>
>I faced a weird problem doing a seemingly simple task in R.
>Specifically,
>when trying for reading an RDS file from the working directory, the
>following error is appeared.
>
>Code:
>
>records <- readRDS("tweets.rds")
>
>
>Error:
>
>Error in readRDS("tweets.rds") : error reading from connection
>In addition: Warning message:
>In readRDS("tweets.rds") : invalid or incomplete compressed data
>
>
>Thanks,
>
>Mohammad
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From bbb_@@@ m@ili@g off verizo@@@et  Sun Apr 22 20:50:10 2018
From: bbb_@@@ m@ili@g off verizo@@@et (bbb_@@@ m@ili@g off verizo@@@et)
Date: Sun, 22 Apr 2018 14:50:10 -0400
Subject: [R] Gantt Chart Using Plotrix
Message-ID: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>

Hi

I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.

Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 

Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !

Any help you can provide on this would be great.

There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

Thanks
indr



From dwin@emiu@ @ending from comc@@t@net  Sun Apr 22 22:31:07 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 13:31:07 -0700
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
References: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
Message-ID: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>


> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
> 
> Hi
> 
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
> 
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 
> 
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
> 
> Any help you can provide on this would be great.
> 
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".

> 
> Thanks
> indr
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From bbb_@@@ m@ili@g off verizo@@@et  Mon Apr 23 00:10:54 2018
From: bbb_@@@ m@ili@g off verizo@@@et (bbb_@@@ m@ili@g off verizo@@@et)
Date: Sun, 22 Apr 2018 18:10:54 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>
Message-ID: <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>

>From the help file for plotrix:
"  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."

So I try to create an object that will contain this information.

abc <- read.csv("gntr1a.csv")

# The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates

> abc
  code tasks.labels      start        end depends done
1  101       task 1 2018/04/01 2018/04/15      NA  100
2  102        task2 2018/04/15 2018/05/31     101   50
3  103       task 3 2018/06/01 2018/06/30     102    0
> gantt.chart(abc)
Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) : 
  replacement has 0 rows, data has 3
> 

Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....





-----Original Message-----
From: David Winsemius <dwinsemius at comcast.net>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: r-help <r-help at r-project.org>
Sent: Sun, Apr 22, 2018 4:31 pm
Subject: Re: [R] Gantt Chart Using Plotrix


> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
> 
> Hi
> 
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
> 
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 
> 
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
> 
> Any help you can provide on this would be great.
> 
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".

> 
> Thanks
> indr
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @@r@h@go@lee @ending from gm@il@com  Mon Apr 23 00:30:45 2018
From: @@r@h@go@lee @ending from gm@il@com (Sarah Goslee)
Date: Sun, 22 Apr 2018 18:30:45 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>
References: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>
 <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>
Message-ID: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>

Hi,

The help file for gantt.chart states that dates must be in POSIXct
format, and the example shows how to do that. There's no reason that I
can see that you can't use a data frame as input to gantt.chart, but
you need to be very careful that your data frame matches the correct
format. I bet also that your character fields were imported as
factors, because you didn't specify not to.

Try running the first couple lines of the example code, then compare

str(abc)

with

str(gantt.info)

and adjust the format of your dataset as necessary.

If you still can't figure it out, then use dput(abc) to provide a
reproducible example, and submit that to the list. We can't tell the
format of the various columns from a copy and paste.

Sarah

On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
> From the help file for plotrix:
> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>
> So I try to create an object that will contain this information.
>
> abc <- read.csv("gntr1a.csv")
>
> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018/04/01 2018/04/15      NA  100
> 2  102        task2 2018/04/15 2018/05/31     101   50
> 3  103       task 3 2018/06/01 2018/06/30     102    0
>> gantt.chart(abc)
> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>   replacement has 0 rows, data has 3
>>
>
> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>
>
>
>
>
> -----Original Message-----
> From: David Winsemius <dwinsemius at comcast.net>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 4:31 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
>
>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>
>> Hi
>>
>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>
>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>
>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>
>> Any help you can provide on this would be great.
>>
>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>
>>
>> Thanks
>> indr
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>

-- 
Sarah Goslee
http://www.functionaldiversity.org



From drjimlemon @ending from gm@il@com  Mon Apr 23 00:36:27 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Mon, 23 Apr 2018 08:36:27 +1000
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
References: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
Message-ID: <CA+8X3fUHvSuz7ufsmgBkg29JGVe6pXz8_QWiO41v7b+_gS1HZQ@mail.gmail.com>

Hi bbb_aaa,
The format for the input to the function (gantt.info) is a list. As
Sarah mentions, a data frame is a list, so as long as your columns
have the right names and are in the correct order, it should work. As
you probably know, you can import a CSV file into R as a data frame
using read.csv

Jim

On Mon, Apr 23, 2018 at 4:50 AM,  <bbb_aaa at verizon.net> wrote:
> Hi
>
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>
> Any help you can provide on this would be great.
>
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> Thanks
> indr
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From bbb_@@@ m@ili@g off verizo@@@et  Mon Apr 23 01:50:30 2018
From: bbb_@@@ m@ili@g off verizo@@@et (bbb_@@@ m@ili@g off verizo@@@et)
Date: Sun, 22 Apr 2018 19:50:30 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>
Message-ID: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>


Hi Sarah

Thank you very much for your pointers.

Is there a way to specify the date string as POSIXct when reading in? 

I have tried the following (very inelegant way) and still have no luck.

--- Begin Code ---

# 1st read in the spreadsheet with stringsAsFactors set to FALSE

> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
> abc
  code tasks.labels      start        end depends done
1  101       task 1 2018-04-01 2018-04-15     101  100
2  102        task2 2018-04-15 2018-05-31     101   50
3  103       task 3 2018-06-01 2018-06-30     102    0


 # Next convert the date strings to POSIXct format:
 # The Idea here is to take each of the individual columns in the spreadsheet
 # and convert them to the required format and then assemble the dataframe back again:
 
 
> c1d1 <- abc$tasks.labels
> c1d1
[1] "task 1" "task2"  "task 3"
> c2d1 <- as.POSIXct(abc$start)
> c2d1
[1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
> c3d1 <- as.POSIXct(abc$end)
> c3d1
[1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
> cdfg <- data.frame(c1d1,c2d1,c3d1)
> cdfg
    c1d1       c2d1       c3d1
1 task 1 2018-04-01 2018-04-15
2  task2 2018-04-15 2018-05-31
3 task 3 2018-06-01 2018-06-30


# But still no luck !

> gantt.chart(cdfg)
Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) : 
  replacement has 0 rows, data has 3
> str(cdfg)
'data.frame':   3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
> dput(cdfg)
structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1", 
"task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200, 
1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""), 
    c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct", 
    "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
), row.names = c(NA, -3L), class = "data.frame")
> 

----- End Code ---


Thank you and Regards
Indr





-----Original Message-----
From: Sarah Goslee <sarah.goslee at gmail.com>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
Sent: Sun, Apr 22, 2018 6:30 pm
Subject: Re: [R] Gantt Chart Using Plotrix

Hi,

The help file for gantt.chart states that dates must be in POSIXct
format, and the example shows how to do that. There's no reason that I
can see that you can't use a data frame as input to gantt.chart, but
you need to be very careful that your data frame matches the correct
format. I bet also that your character fields were imported as
factors, because you didn't specify not to.

Try running the first couple lines of the example code, then compare

str(abc)

with

str(gantt.info)

and adjust the format of your dataset as necessary.

If you still can't figure it out, then use dput(abc) to provide a
reproducible example, and submit that to the list. We can't tell the
format of the various columns from a copy and paste.

Sarah

On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
> From the help file for plotrix:
> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>
> So I try to create an object that will contain this information.
>
> abc <- read.csv("gntr1a.csv")
>
> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018/04/01 2018/04/15      NA  100
> 2  102 task2 2018/04/15 2018/05/31     101   50
> 3  103       task 3 2018/06/01 2018/06/30     102    0
>> gantt.chart(abc)
> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>   replacement has 0 rows, data has 3
>>
>
> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>
>
>
>
>
> -----Original Message-----
> From: David Winsemius <dwinsemius at comcast.net>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 4:31 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
>
>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>
>> Hi
>>
>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>
>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>
>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>
>> Any help you can provide on this would be great.
>>
>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>
>>
>> Thanks
>> indr
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>

-- 
Sarah Goslee
http://www.functionaldiversity.org



From dwin@emiu@ @ending from comc@@t@net  Mon Apr 23 03:53:48 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 18:53:48 -0700
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
References: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
Message-ID: <43A9A466-7410-4D0F-8A05-75EC48A89E25@comcast.net>


> On Apr 22, 2018, at 4:50 PM, bbb_aaa at verizon.net wrote:
> 
> 
> Hi Sarah
> 
> Thank you very much for your pointers.
> 
> Is there a way to specify the date string as POSIXct when reading in? 

Please read the Arguments and Details sections of the help page for read.csv with particular attention to the colClasses argument options.

-- 
David.
> 
> I have tried the following (very inelegant way) and still have no luck.
> 
> --- Begin Code ---
> 
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
> 
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>  code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31     101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
> 
> 
> # Next convert the date strings to POSIXct format:
> # The Idea here is to take each of the individual columns in the spreadsheet
> # and convert them to the required format and then assemble the dataframe back again:
> 
> 
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>    c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
> 
> 
> # But still no luck !
> 
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) : 
>  replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
> $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
> $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
> $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1", 
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200, 
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""), 
>    c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct", 
>    "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>> 
> 
> ----- End Code ---
> 
> 
> Thank you and Regards
> Indr
> 
> 
> 
> 
> 
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
> 
> Hi,
> 
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
> 
> Try running the first couple lines of the example code, then compare
> 
> str(abc)
> 
> with
> 
> str(gantt.info)
> 
> and adjust the format of your dataset as necessary.
> 
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
> 
> Sarah
> 
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>> 
>> So I try to create an object that will contain this information.
>> 
>> abc <- read.csv("gntr1a.csv")
>> 
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>> 
>>> abc
>>  code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>  replacement has 0 rows, data has 3
>>> 
>> 
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>> 
>> 
>> 
>> 
>> 
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>> 
>> 
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>> 
>>> Hi
>>> 
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>> 
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>> 
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>> 
>>> Any help you can provide on this would be great.
>>> 
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>> 
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>> 
>>> 
>>> Thanks
>>> indr
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>> 
> 
> -- 
> Sarah Goslee
> http://www.functionaldiversity.org
> 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From mri@mor@di @ending from gm@il@com  Mon Apr 23 07:50:59 2018
From: mri@mor@di @ending from gm@il@com (mohammad moradi)
Date: Mon, 23 Apr 2018 10:20:59 +0430
Subject: [R] Problem reading RDS files
In-Reply-To: <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
 <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
Message-ID: <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>

I've tried to re-experiment the tutorial presented at
http://www.rdatamining.com/docs/twitter-analysis-with-r and specifically
aimed to use rds files (tweet records) at http://www.rdatamining.com/data/.

On Sun, Apr 22, 2018 at 9:16 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Wouldn't the obvious problem be that your data file is corrupted or was
> never created  using saveRDS in the first place? Can you show us a complete
> example of creating and attempting to read what was just created?
>
> On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com>
> wrote:
> >Hi there,
> >
> >I faced a weird problem doing a seemingly simple task in R.
> >Specifically,
> >when trying for reading an RDS file from the working directory, the
> >following error is appeared.
> >
> >Code:
> >
> >records <- readRDS("tweets.rds")
> >
> >
> >Error:
> >
> >Error in readRDS("tweets.rds") : error reading from connection
> >In addition: Warning message:
> >In readRDS("tweets.rds") : invalid or incomplete compressed data
> >
> >
> >Thanks,
> >
> >Mohammad
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]



From dwin@emiu@ @ending from comc@@t@net  Mon Apr 23 08:58:45 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 23:58:45 -0700
Subject: [R] Problem reading RDS files
In-Reply-To: <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
 <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
 <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>
Message-ID: <302248FD-B008-46A7-8427-4335CB4013BF@comcast.net>


> On Apr 22, 2018, at 10:50 PM, mohammad moradi <mri.moradi at gmail.com> wrote:
> 
> I've tried to re-experiment the tutorial presented at
> http://www.rdatamining.com/docs/twitter-analysis-with-r and specifically
> aimed to use rds files (tweet records) at http://www.rdatamining.com/data/.

There was a question with similar content on SO a couple of days ago. I searched for and found the rds file that was claimed to be difficult to load but had no errors when I loaded it from a copy taken from the Web. The first error indicated that the user had failed to provide the correct path/name for the file the second error (for which no code was offered) reported was that their copy was corrupt.

> my_rds <- readRDS("~/RDataMining-Tweets-20160203.rds")
Warning: namespace ?twitteR? is not available and has been replaced
by .GlobalEnv when processing object ?class?

# So I installed twitteR. I;m obviously not a user of the package and I don't use Twitter either.

trying URL 'https://cloud.r-project.org/bin/macosx/el-capitan/contrib/3.4/twitteR_1.1.9.tgz'
Content type 'application/x-gzip' length 466439 bytes (455 KB)
==================================================
downloaded 455 KB


The downloaded binary packages are in
	/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T//RtmpfbHYT3/downloaded_packages
> str(my_rds)
List of 447
 $ :Loading required package: twitteR

Attaching package: ?twitteR?

The following object is masked from ?package:acs?:

    name

The following objects are masked from ?package:dplyr?:

    id, location

Reference class 'status' [package "twitteR"] with 17 fields
  ..$ text         : chr "Vacancy of Data Scientist ? Healthcare Analytics, Adelaide, Australia\nhttps://t.co/3xDFIJskj8"
  ..$ favorited    : logi FALSE
  ..$ favoriteCount: num 2
  ..$ replyToSN    : chr(0) 
  ..$ created      : POSIXct[1:1], format: "2015-12-30 05:02:49"
  ..$ truncated    : logi FALSE
#---- snipped excessive output


So this puts the onus on you to show the code that you used that was giving errors. Also need version numbers (OS, R, packages) and all the usual information outlined in the Posting Guide.

-- 
David.


> 
> On Sun, Apr 22, 2018 at 9:16 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
> 
>> Wouldn't the obvious problem be that your data file is corrupted or was
>> never created  using saveRDS in the first place? Can you show us a complete
>> example of creating and attempting to read what was just created?
>> 
>> On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com>
>> wrote:
>>> Hi there,
>>> 
>>> I faced a weird problem doing a seemingly simple task in R.
>>> Specifically,
>>> when trying for reading an RDS file from the working directory, the
>>> following error is appeared.
>>> 
>>> Code:
>>> 
>>> records <- readRDS("tweets.rds")
>>> 
>>> 
>>> Error:
>>> 
>>> Error in readRDS("tweets.rds") : error reading from connection
>>> In addition: Warning message:
>>> In readRDS("tweets.rds") : invalid or incomplete compressed data
>>> 
>>> 
>>> Thanks,
>>> 
>>> Mohammad
>>> 
>>>      [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> --
>> Sent from my phone. Please excuse my brevity.
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From pd@me@ @ending from cb@@dk  Mon Apr 23 09:30:00 2018
From: pd@me@ @ending from cb@@dk (Peter Dalgaard)
Date: Mon, 23 Apr 2018 07:30:00 +0000
Subject: [R] R 3.5.0 is released
Message-ID: <3EF134EF-72F4-456F-991D-EA2D4242DAA1@cbs.dk>

The build system rolled up R-3.5.0.tar.gz (codename "Joy in Playing") this morning.

The list below details the changes in this release.

You can get the source code from

http://cran.r-project.org/src/base/R-3/R-3.5.0.tar.gz

or wait for it to be mirrored at a CRAN site nearer to you.

Binaries for various platforms will appear in due course.


For the R Core Team,

Peter Dalgaard

These are the checksums (md5 and SHA-256) for the freshly created files, in case you wish
to check that they are uncorrupted:

MD5 (AUTHORS) = b9c44f9f78cab3184ad9898bebc854b4
MD5 (COPYING) = eb723b61539feef013de476e68b5c50a
MD5 (COPYING.LIB) = a6f89e2100d9b6cdffcea4f398e37343
MD5 (FAQ) = 3bba37aa1dd06de3f781200a8081302f
MD5 (INSTALL) = 7893f754308ca31f1ccf62055090ad7b
MD5 (NEWS) = d7834f5943183d483f7e50a529cc9019
MD5 (NEWS.0) = bfcd7c147251b5474d96848c6f57e5a8
MD5 (NEWS.1) = eb78c4d053ec9c32b815cf0c2ebea801
MD5 (NEWS.2) = 591dcf615162127f904e4e461f330ce9
MD5 (R-latest.tar.gz) = c0455dbfa76ca807e4dfa93d49dcc817
MD5 (README) = f468f281c919665e276a1b691decbbe6
MD5 (RESOURCES) = 529223fd3ffef95731d0a87353108435
MD5 (THANKS) = 08158353102084599797db8c9ccf8e2a
MD5 (VERSION-INFO.dcf) = 5c265f4f7b2a5f7388063024cac0ee4b
MD5 (R-3/R-3.5.0.tar.gz) = c0455dbfa76ca807e4dfa93d49dcc817

2cde824a7b18958e5f06b391c801c8288be0f84fa8934b7ddefef23c67e60c09  AUTHORS
e6d6a009505e345fe949e1310334fcb0747f28dae2856759de102ab66b722cb4  COPYING
6095e9ffa777dd22839f7801aa845b31c9ed07f3d6bf8a26dc5d2dec8ccc0ef3  COPYING.LIB
98df47801c33cc4f4a4de98447cb2bd40e09c0920195f540a981ceed874714f2  FAQ
f87461be6cbaecc4dce44ac58e5bd52364b0491ccdadaf846cb9b452e9550f31  INSTALL
8b4e0508ccd96acd4cfe289370fe005f24f78a19e25e344394a92b3e47b60c3e  NEWS
4e21b62f515b749f80997063fceab626d7258c7d650e81a662ba8e0640f12f62  NEWS.0
12b30c724117b1b2b11484673906a6dcd48a361f69fc420b36194f9218692d01  NEWS.1
ca04f78ffe54afa326fe3ed40e7e1411aca0000ed2fa5ead97ddf51c6aa5b7bc  NEWS.2
fd1725535e21797d3d9fea8963d99be0ba4c3aecadcf081b43e261458b416870  R-latest.tar.gz
2fdd3e90f23f32692d4b3a0c0452f2c219a10882033d1774f8cadf25886c3ddc  README
408737572ecc6e1135fdb2cf7a9dbb1a6cb27967c757f1771b8c39d1fd2f1ab9  RESOURCES
2d2e85e85574c4430951f6b070c08cd5aff1602abfd1bb162bed6d89c436b11f  THANKS
a11bf153b2ebe6acc902cf2edf22060f65f6ef827cfb5c9ab9c8e9c577c5b568  VERSION-INFO.dcf
fd1725535e21797d3d9fea8963d99be0ba4c3aecadcf081b43e261458b416870  R-3/R-3.5.0.tar.gz

This is the relevant part of the NEWS file

CHANGES IN R 3.5.0:

  SIGNIFICANT USER-VISIBLE CHANGES:

    * All packages are by default byte-compiled on installation.  This
      makes the installed packages larger (usually marginally so) and
      may affect the format of messages and tracebacks (which often
      exclude .Call and similar).

  NEW FEATURES:

    * factor() now uses order() to sort its levels, rather than
      sort.list().  This allows factor() to support custom vector-like
      objects if methods for the appropriate generics are defined.  It
      has the side effect of making factor() succeed on empty or
      length-one non-atomic vector(-like) types (e.g., "list"), where
      it failed before.

    * diag() gets an optional names argument: this may require updates
      to packages defining S4 methods for it.

    * chooseCRANmirror() and chooseBioCmirror() no longer have a
      useHTTPS argument, not needed now all R builds support https://
      downloads.

    * New summary() method for warnings() with a (somewhat
      experimental) print() method.

    * (methods package.) .self is now automatically registered as a
      global variable when registering a reference class method.

    * tempdir(check = TRUE) recreates the tempdir() directory if it is
      no longer valid (e.g. because some other process has cleaned up
      the /tmp directory).

    * New askYesNo() function and "askYesNo" option to ask the user
      binary response questions in a customizable but consistent way.
      (Suggestion of PR#17242.)

    * New low level utilities ...elt(n) and ...length() for working
      with ... parts inside a function.

    * isTRUE() is more tolerant and now true in
      
         x <- rlnorm(99)
         isTRUE(median(x) == quantile(x)["50%"])

      New function isFALSE() defined analogously to isTRUE().

    * The default symbol table size has been increased from 4119 to
      49157; this may improve the performance of symbol resolution when
      many packages are loaded.  (Suggested by Jim Hester.)

    * line() gets a new option iter = 1.

    * Reading from connections in text mode is buffered, significantly
      improving the performance of readLines(), as well as scan() and
      read.table(), at least when specifying colClasses.

    * order() is smarter about picking a default sort method when its
      arguments are objects.

    * available.packages() has two new arguments which control if the
      values from the per-session repository cache are used (default
      true, as before) and if so how old cached values can be to be
      used (default one hour).

      These arguments can be passed from install.packages(),
      update.packages() and functions calling that: to enable this
      available.packages(), packageStatus() and download.file() gain a
      ... argument.

    * packageStatus()'s upgrade() method no longer ignores its ...
      argument but passes it to install.packages().

    * installed.packages() gains a ... argument to allow arguments
      (including noCache) to be passed from new.packages(),
      old.packages(), update.packages() and packageStatus().

    * factor(x, levels, labels) now allows duplicated labels (not
      duplicated levels!).  Hence you can map different values of x to
      the same level directly.

    * Attempting to use names<-() on an S4 derivative of a basic type
      no longer emits a warning.

    * The list method of within() gains an option keepAttrs = FALSE for
      some speed-up.

    * system() and system2() now allow the specification of a maximum
      elapsed time ('timeout').

    * debug() supports debugging of methods on any object of S4 class
      "genericFunction", including group generics.

    * Attempting to increase the length of a variable containing NULL
      using length()<- still has no effect on the target variable, but
      now triggers a warning.

    * type.convert() becomes a generic function, with additional
      methods that operate recursively over list and data.frame
      objects. Courtesy of Arni Magnusson (PR#17269).

    * lower.tri(x) and upper.tri(x) only needing dim(x) now work via
      new functions .row() and .col(), so no longer call as.matrix() by
      default in order to work efficiently for all kind of matrix-like
      objects.

    * print() methods for "xgettext" and "xngettext" now use
      encodeString() which keeps, e.g. "\n", visible.  (Wish of
      PR#17298.)

    * package.skeleton() gains an optional encoding argument.

    * approx(), spline(), splinefun() and approxfun() also work for
      long vectors.

    * deparse() and dump() are more useful for S4 objects, dput() now
      using the same internal C code instead of its previous imperfect
      workaround R code.  S4 objects now typically deparse perfectly,
      i.e., can be recreated identically from deparsed code.

      dput(), deparse() and dump() now print the names() information
      only once, using the more readable (tag = value) syntax, notably
      for list()s, i.e., including data frames.

      These functions gain a new control option "niceNames" (see
      .deparseOpts()), which when set (as by default) also uses the
      (tag = value) syntax for atomic vectors.  On the other hand,
      without deparse options "showAttributes" and "niceNames", names
      are no longer shown also for lists.  as.character(list( c (one =
      1))) now includes the name, as as.character(list(list(one = 1)))
      has always done.

      m:n now also deparses nicely when m > n.

      The "quoteExpressions" option, also part of "all", no longer
      quote()s formulas as that may not re-parse identically.
      (PR#17378)

    * If the option setWidthOnResize is set and TRUE, R run in a
      terminal using a recent readline library will set the width
      option when the terminal is resized.  Suggested by Ralf Goertz.

    * If multiple on.exit() expressions are set using add = TRUE then
      all expressions will now be run even if one signals an error.

    * mclapply() gets an option affinity.list which allows more
      efficient execution with heterogeneous processors, thanks to
      Helena Kotthaus.

    * The character methods for as.Date() and as.POSIXlt() are more
      flexible _via_ new arguments tryFormats and optional: see their
      help pages.

    * on.exit() gains an optional argument after with default TRUE.
      Using after = FALSE with add = TRUE adds an exit expression
      before any existing ones. This way the expressions are run in a
      first-in last-out fashion. (From Lionel Henry.)

    * On Windows, file.rename() internally retries the operation in
      case of error to attempt to recover from possible anti-virus
      interference.

    * Command line completion on :: now also includes lazy-loaded data.

    * If the TZ environment variable is set when date-time functions
      are first used, it is recorded as the session default and so will
      be used rather than the default deduced from the OS if TZ is
      subsequently unset.

    * There is now a [ method for class "DLLInfoList".

    * glm() and glm.fit get the same singular.ok = TRUE argument that
      lm() has had forever.  As a consequence, in glm(*, method =
      <your_own>), user specified methods need to accept a singular.ok
      argument as well.

    * aspell() gains a filter for Markdown (.md and .Rmd) files.

    * intToUtf8(multiple = FALSE) gains an argument to allow surrogate
      pairs to be interpreted.

    * The maximum number of DLLs that can be loaded into R e.g. _via_
      dyn.load() has been increased up to 614 when the OS limit on the
      number of open files allows.

    * Sys.timezone() on a Unix-alike caches the value at first use in a
      session: _inter alia_ this means that setting TZ later in the
      session affects only the _current_ time zone and not the _system_
      one.

      Sys.timezone() is now used to find the system timezone to pass to
      the code used when R is configured with --with-internal-tzcode.

    * When tar() is used with an external command which is detected to
      be GNU tar or libarchive tar (aka bsdtar), a different
      command-line is generated to circumvent line-length limits in the
      shell.

    * system(*, intern = FALSE), system2() (when not capturing output),
      file.edit() and file.show() now issue a warning when the external
      command cannot be executed.

    * The "default" ("lm" etc) methods of vcov() have gained new
      optional argument complete = TRUE which makes the vcov() methods
      more consistent with the coef() methods in the case of singular
      designs.  The former (back-compatible) behavior is given by
      vcov(*, complete = FALSE).

    * coef() methods (for lm etc) also gain a complete = TRUE optional
      argument for consistency with vcov().
      For "aov", both coef() and vcov() methods remain back-compatibly
      consistent, using the _other_ default, complete = FALSE.

    * attach(*, pos = 1) is now an error instead of a warning.

    * New function getDefaultCluster() in package parallel to get the
      default cluster set via setDefaultCluster().

    * str(x) for atomic objects x now treats both cases of is.vector(x)
      similarly, and hence much less often prints "atomic".  This is a
      slight non-back-compatible change producing typically both more
      informative and shorter output.

    * write.dcf() gets optional argument useBytes.

    * New, partly experimental packageDate() which tries to get a valid
      "Date" object from a package DESCRIPTION file, thanks to
      suggestions in PR#17324.

    * tools::resaveRdaFiles() gains a version argument, for use when
      packages should remain compatible with earlier versions of R.

    * ar.yw(x) and hence by default ar(x) now work when x has NAs,
      mostly thanks to a patch by Pavel Krivitsky in PR#17366.  The
      ar.yw.default()'s AIC computations have become more efficient by
      using determinant().

    * New warnErrList() utility (from package nlme, improved).

    * By default the (arbitrary) signs of the loadings from princomp()
      are chosen so the first element is non-negative.

    * If --default-packages is not used, then Rscript now checks the
      environment variable R_SCRIPT_DEFAULT_PACKAGES. If this is set,
      then it takes precedence over R_DEFAULT_PACKAGES. If default
      packages are not specified on the command line or by one of these
      environment variables, then Rscript now uses the same default
      packages as R. For now, the previous behavior of not including
      methods can be restored by setting the environment variable
      R_SCRIPT_LEGACY to yes.

    * When a package is found more than once, the warning from
      find.package(*, verbose=TRUE) lists all library locations.

    * POSIXt objects can now also be rounded or truncated to month or
      year.

    * stopifnot() can be used alternatively via new argument exprs
      which is nicer and useful when testing several expressions in one
      call.

    * The environment variable R_MAX_VSIZE can now be used to specify
      the maximal vector heap size. On macOS, unless specified by this
      environment variable, the maximal vector heap size is set to the
      maximum of 16GB and the available physical memory. This is to
      avoid having the R process killed when macOS over-commits memory.

    * sum(x) and sum(x1,x2,..,x<N>) with many or long logical or
      integer vectors no longer overflows (and returns NA with a
      warning), but returns double numbers in such cases.

    * Single components of "POSIXlt" objects can now be extracted and
      replaced via [ indexing with 2 indices.

    * S3 method lookup now searches the namespace registry after the
      top level environment of the calling environment.

    * Arithmetic sequences created by 1:n, seq_along, and the like now
      use compact internal representations via the ALTREP framework.
      Coercing integer and numeric vectors to character also now uses
      the ALTREP framework to defer the actual conversion until first
      use.

    * Finalizers are now run with interrupts suspended.

    * merge() gains new option no.dups and by default suffixes the
      second of two duplicated column names, thanks to a proposal by
      Scott Ritchie (and Gabe Becker).

    * scale.default(x, center, scale) now also allows center or scale
      to be "numeric-alike", i.e., such that as.numeric(.) coerces them
      correctly.  This also eliminates a wrong error message in such
      cases.

    * par*apply and par*applyLB gain an optional argument chunk.size
      which allows to specify the granularity of scheduling.

    * Some as.data.frame() methods, notably the matrix one, are now
      more careful in not accepting duplicated or NA row names, and by
      default produce unique non-NA row names.  This is based on new
      function .rowNamesDF(x, make.names = *) <- rNms where the logical
      argument make.names allows to specify _how_ invalid row names
      rNms are handled.  .rowNamesDF() is a "workaround" compatible
      default.

    * R has new serialization format (version 3) which supports custom
      serialization of ALTREP framework objects.  These objects can
      still be serialized in format 2, but less efficiently.
      Serialization format 3 also records the current native encoding
      of unflagged strings and converts them when de-serialized in R
      running under different native encoding.  Format 3 comes with new
      serialization magic numbers (RDA3, RDB3, RDX3).  Format 3 can be
      selected by version = 3 in save(), serialize() and saveRDS(), but
      format 2 remains the default for all serialization and saving of
      the workspace.  Serialized data in format 3 cannot be read by
      versions of R prior to version 3.5.0.

    * The "Date" and "date-time" classes "POSIXlt" and "POSIXct" now
      have a working `length<-` method, as wished in PR#17387.

    * optim(*, control = list(warn.1d.NelderMead = FALSE)) allows to
      turn off the warning when applying the default "Nelder-Mead"
      method to 1-dimensional problems.

    * matplot(.., panel.first = .) etc now work, as log becomes
      explicit argument and ... is passed to plot() unevaluated, as
      suggested by Sebastian Meyer in PR#17386.

    * Interrupts can be suspended while evaluating an expression using
      suspendInterrupts.  Subexpression can be evaluated with
      interrupts enabled using allowInterrupts.  These functions can be
      used to make sure cleanup handlers cannot be interrupted.

    * R 3.5.0 includes a framework that allows packages to provide
      alternate representations of basic R objects (ALTREP).  The
      framework is still experimental and may undergo changes in future
      R releases as more experience is gained. For now, documentation
      is provided in <URL:
      https://svn.r-project.org/R/branches/ALTREP/ALTREP.html>.

  UTILITIES:

    * install.packages() for source packages now has the possibility to
      set a 'timeout' (elapsed-time limit).  For serial installs this
      uses the timeout argument of system2(): for parallel installs it
      requires the timeout utility command from GNU coreutils.

    * It is now possible to set 'timeouts' (elapsed-time limits) for
      most parts of R CMD check _via_ environment variables documented
      in the 'R Internals' manual.

    * The 'BioC extra' repository which was dropped from Bioconductor
      3.6 and later has been removed from setRepositories().  This
      changes the mapping for 6-8 used by setRepositories(ind=).

    * R CMD check now also applies the settings of environment
      variables _R_CHECK_SUGGESTS_ONLY_ and _R_CHECK_DEPENDS_ONLY_ to
      the re-building of vignettes.

    * R CMD check with environment variable _R_CHECK_DEPENDS_ONLY_ set
      to a true value makes test-suite-management packages available
      and (for the time being) works around a common omission of
      rmarkdown from the VignetteBuilder field.

  INSTALLATION on a UNIX-ALIKE:

    * Support for a system Java on macOS has been removed - install a
      fairly recent Oracle Java (see 'R Installation and
      Administration' SSC.3.2).

    * configure works harder to set additional flags in SAFE_FFLAGS
      only where necessary, and to use flags which have little or no
      effect on performance.

      In rare circumstances it may be necessary to override the setting
      of SAFE_FFLAGS.

    * C99 functions expm1, hypot, log1p and nearbyint are now required.

    * configure sets a -std flag for the C++ compiler for all supported
      C++ standards (e.g., -std=gnu++11 for the C++11 compiler).
      Previously this was not done in a few cases where the default
      standard passed the tests made (e.g. clang 6.0.0 for C++11).

  C-LEVEL FACILITIES:

    * 'Writing R Extensions' documents macros MAYBE_REFERENCED,
      MAYBE_SHARED and MARK_NOT_MUTABLE that should be used by package
      C code instead NAMED or SET_NAMED.

    * The object header layout has been changed to support merging the
      ALTREP branch. This requires re-installing packages that use
      compiled code.

    * 'Writing R Extensions' now documents the R_tryCatch,
      R_tryCatchError, and R_UnwindProtect functions.

    * NAMEDMAX has been raised to 3 to allow protection of intermediate
      results from (usually ill-advised) assignments in arguments to
      BUILTIN functions. Package C code using SET_NAMED may need to be
      revised.

  DEPRECATED AND DEFUNCT:

    * Sys.timezone(location = FALSE) is defunct, and is ignored (with a
      warning).

    * methods:::bind_activation() is defunct now; it typically has been
      unneeded for years.

      The undocumented 'hidden' objects .__H__.cbind and .__H__.rbind
      in package base are deprecated (in favour of cbind and rbind).

    * The declaration of pythag() in Rmath.h has been removed - the
      entry point has not been provided since R 2.14.0.

  BUG FIXES:

    * printCoefmat() now also works without column names.

    * The S4 methods on Ops() for the "structure" class no longer cause
      infinite recursion when the structure is not an S4 object.

    * nlm(f, ..) for the case where f() has a "hessian" attribute now
      computes LL' = H + uI correctly.  (PR#17249).

    * An S4 method that "rematches" to its generic and overrides the
      default value of a generic formal argument to NULL no longer
      drops the argument from its formals.

    * Rscript can now accept more than one argument given on the #!
      line of a script. Previously, one could only pass a single
      argument on the #! line in Linux.

    * Connections are now written correctly with encoding "UTF-16LE".
      (PR#16737).

    * Evaluation of ..0 now signals an error.  When ..1 is used and ...
      is empty, the error message is more appropriate.

    * (Windows mainly.)  Unicode code points which require surrogate
      pairs in UTF-16 are now handled.  All systems should properly
      handle surrogate pairs, even those systems that do not need to
      make use of them.  (PR#16098)

    * stopifnot(e, e2, ...) now evaluates the expressions sequentially
      and in case of an error or warning shows the relevant expression
      instead of the full stopifnot(..)  call.

    * path.expand() on Windows now accepts paths specified as
      UTF-8-encoded character strings even if not representable in the
      current locale.  (PR#17120)

    * line(x, y) now correctly computes the medians of the left and
      right group's x-values and in all cases reproduces straight
      lines.

    * Extending S4 classes with slots corresponding to special
      attributes like dim and dimnames now works.

    * Fix for legend() when fill has multiple values the first of which
      is NA (all colours used to default to par(fg)).  (PR#17288)

    * installed.packages() did not remove the cached value for a
      library tree that had been emptied (but would not use the old
      value, just waste time checking it).

    * The documentation for installed.packages(noCache = TRUE)
      incorrectly claimed it would refresh the cache.

    * aggregate(<data.frame>) no longer uses spurious names in some
      cases.  (PR#17283)

    * object.size() now also works for long vectors.

    * packageDescription() tries harder to solve re-encoding issues,
      notably seen in some Windows locales.  This fixes the citation()
      issue in PR#17291.

    * poly(<matrix>, 3) now works, thanks to prompting by Marc
      Schwartz.

    * readLines() no longer segfaults on very large files with embedded
      '\0' (aka 'nul') characters.  (PR#17311)

    * ns() (package splines) now also works for a single observation.
      interpSpline() gives a more friendly error message when the
      number of points is less than four.

    * dist(x, method = "canberra") now uses the correct definition; the
      result may only differ when x contains values of differing signs,
      e.g. not for 0-1 data.

    * methods:::cbind() and methods:::rbind() avoid deep recursion,
      thanks to Suharto Anggono via PR#17300.

    * Arithmetic with zero-column data frames now works more
      consistently; issue raised by Bill Dunlap.

      Arithmetic with data frames gives a data frame for ^ (which
      previously gave a numeric matrix).

    * pretty(x, n) for large n or large diff(range(x)) now works better
      (though it was never meant for large n); internally it uses the
      same rounding fuzz (1e-10) as seq.default() - as it did up to
      2010-02-03 when both were 1e-7.

    * Internal C-level R_check_class_and_super() and hence
      R_check_class_etc() now also consider non-direct super classes
      and hence return a match in more cases.  This e.g., fixes
      behaviour of derived classes in package Matrix.

    * Reverted unintended change in behavior of return calls in on.exit
      expressions introduced by stack unwinding changes in R 3.3.0.

    * Attributes on symbols are now detected and prevented; attempt to
      add an attribute to a symbol results in an error.

    * fisher.test(*, workspace = <n>) now may also increase the
      internal stack size which allows larger problem to be solved,
      fixing PR#1662.

    * The methods package no longer directly copies slots (attributes)
      into a prototype that is of an "abnormal" (reference) type, like
      a symbol.

    * The methods package no longer attempts to call length<-() on NULL
      (during the bootstrap process).

    * The methods package correctly shows methods when there are
      multiple methods with the same signature for the same generic
      (still not fully supported, but at least the user can see them).

    * sys.on.exit() is now always evaluated in the right frame. (From
      Lionel Henry.)

    * seq.POSIXt(*, by = "<n> DSTdays") now should work correctly in
      all cases and is faster.  (PR#17342)

    * .C() when returning a logical vector now always maps values other
      than FALSE and NA to TRUE (as documented).

    * Subassignment with zero length vectors now coerces as documented
      (PR#17344).
      Further, x <- numeric(); x[1] <- character() now signals an error
      'replacement has length zero' (or a translation of that) instead
      of doing nothing.

    * (Package parallel.)  mclapply(), pvec() and mcparallel() (when
      mccollect() is used to collect results) no longer leave zombie
      processes behind.

    * R CMD INSTALL <pkg> now produces the intended error message when,
      e.g., the LazyData field is invalid.

    * as.matrix(dd) now works when the data frame dd contains a column
      which is a data frame or matrix, including a 0-column matrix/d.f.
      .

    * mclapply(X, mc.cores) now follows its documentation and calls
      lapply() in case mc.cores = 1 also in the case mc.preschedule is
      false.  (PR#17373)

    * aggregate(<data.frame>, drop=FALSE) no longer calls the function
      on <empty> parts but sets corresponding results to NA.  (Thanks
      to Suharto Anggono's patches in PR#17280).

    * The duplicated() method for data frames is now based on the list
      method (instead of string coercion).  Consequently unique() is
      better distinguishing data frame rows, fixing PR#17369 and
      PR#17381.  The methods for matrices and arrays are changed
      accordingly.

    * Calling names() on an S4 object derived from "environment"
      behaves (by default) like calling names() on an ordinary
      environment.

    * read.table() with a non-default separator now supports quotes
      following a non-whitespace character, matching the behavior of
      scan().

    * parLapplyLB and parSapplyLB have been fixed to do load balancing
      (dynamic scheduling).  This also means that results of
      computations depending on random number generators will now
      really be non-reproducible, as documented.

    * Indexing a list using dollar and empty string (l$"") returns
      NULL.

    * Using \usage{ data(<name>, package="<pkg>") } no longer produces
      R CMD check warnings.

    * match.arg() more carefully chooses the environment for
      constructing default choices, fixing PR#17401 as proposed by
      Duncan Murdoch.

    * Deparsing of consecutive ! calls is now consistent with deparsing
      unary - and + calls and creates code that can be reparsed
      exactly; thanks to a patch by Lionel Henry in PR#17397.  (As a
      side effect, this uses fewer parentheses in some other deparsing
      involving ! calls.)




-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce



From petr@pik@l @ending from prechez@@cz  Mon Apr 23 14:41:22 2018
From: petr@pik@l @ending from prechez@@cz (PIKAL Petr)
Date: Mon, 23 Apr 2018 12:41:22 +0000
Subject: [R] Removing columns from big.matrix which have only one value
In-Reply-To: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
References: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
Message-ID: <32a1bd73bc5b4abea9b3b193cc7f2bb8@SRVEXCHCM1302.precheza.cz>

Hi

With
> which(colSums(m4)==0)

you get column numbers with only zeroes.

You could also remove zero column by.

m4[,colSums(m4)!=0]

And with that you could find colums with ones.
which(colSums(m4)==nrow(m4))
[1] 10001
Cheers
Petr

> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Jack Arnestad
> Sent: Saturday, April 21, 2018 9:17 PM
> To: r-help at r-project.org
> Subject: [R] Removing columns from big.matrix which have only one value
>
> I have a very large binary matrix, stored as a big.matrix to conserve memory (it
> is over 2 gb otherwise - 5 million columns and 100 rows).
>
> r <- 100
> c <- 10000
> m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
> m4 <- cbind(m4, 1)
> m4 <- as.big.matrix(m4)
>
> I need to remove every column which has only one unique value (in this case,
> only 0s or only 1s). Because of the number of columns, I want to be able to do
> this in parallel.
>
> How can I accomplish this while keeping the data compressed as a big.matrix? I
> can convert it into a df and loop over the columns looking for the number of
> unique values, but this takes too much RAM.
>
> Thanks!
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From @@r@h@go@lee @ending from gm@il@com  Mon Apr 23 16:34:10 2018
From: @@r@h@go@lee @ending from gm@il@com (Sarah Goslee)
Date: Mon, 23 Apr 2018 10:34:10 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
References: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>
 <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
Message-ID: <CAM_vju=VWx7050LdHMV8EvtJL1XUxB04wyLBjO0dUG-necb_3Q@mail.gmail.com>

Hi,

Your attempt didn't work because you didn't do what I suggested, which
was make sure that your data frame matched the example given in the
help for gantt.chart.

Here's what you have:
> str(cdfg)
'data.frame': 3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" ...
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" ...


Here's what you should have (constructed from the example in the help file):
> str(gantt.info)
List of 4
 $ labels    : chr [1:5] "First task" "Second task" "Third task"
"Fourth task" ...
 $ starts    : POSIXct[1:5], format: "2004-01-01" "2004-02-02" ...
 $ ends      : POSIXct[1:5], format: "2004-03-03" "2004-05-05" ...
 $ priorities: num [1:5] 1 2 3 4 5

You got the dates into the correct format, but the names of the list
elements (columns) do not match, and your data.frame() call turned the
labels from character into factor while you weren't looking.

gantt.chart() has no idea what you're talking about, because it is
looking for particular names.

If you fix those problems, it works fine.

colnames(cdfg) <- c("labels", "starts", "ends")
cdfg$labels <- as.character(cdfg$labels)

gantt.chart(cdfg)

Sarah

On Sun, Apr 22, 2018 at 7:50 PM,  <bbb_aaa at verizon.net> wrote:
>
> Hi Sarah
>
> Thank you very much for your pointers.
>
> Is there a way to specify the date string as POSIXct when reading in?
>
> I have tried the following (very inelegant way) and still have no luck.
>
> --- Begin Code ---
>
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
>
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31     101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
>
>
>  # Next convert the date strings to POSIXct format:
>  # The Idea here is to take each of the individual columns in the spreadsheet
>  # and convert them to the required format and then assemble the dataframe back again:
>
>
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>     c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
>
>
> # But still no luck !
>
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) :
>   replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
>  $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
>  $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
>  $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1",
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200,
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""),
>     c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct",
>     "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>>
>
> ----- End Code ---
>
>
> Thank you and Regards
> Indr
>
>
>
>
>
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
> Hi,
>
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
>
> Try running the first couple lines of the example code, then compare
>
> str(abc)
>
> with
>
> str(gantt.info)
>
> and adjust the format of your dataset as necessary.
>
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
>
> Sarah
>
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>>
>> So I try to create an object that will contain this information.
>>
>> abc <- read.csv("gntr1a.csv")
>>
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>>
>>> abc
>>   code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>   replacement has 0 rows, data has 3
>>>
>>
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>>
>>
>>
>>
>>
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>>
>>
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>>
>>> Hi
>>>
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>>
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>>
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>>
>>> Any help you can provide on this would be great.
>>>
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>>
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>>
>>>
>>> Thanks
>>> indr
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



From i@t@z@hn @ending from gm@il@com  Mon Apr 23 20:48:31 2018
From: i@t@z@hn @ending from gm@il@com (Ista Zahn)
Date: Mon, 23 Apr 2018 14:48:31 -0400
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
 <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>
Message-ID: <CA+vqiLG-J9eHhtU=4B23Q6Uqo4DEL_b-BKWMgbWr5Wx17BkwPg@mail.gmail.com>

Another option is

d0[paste0("V", 1:nrow(d1))] <- 0

--Ista

On Sun, Apr 22, 2018 at 4:23 AM, Eric Berger <ericjberger at gmail.com> wrote:
> Hi Luca,
> How about this?
>
> # create some dummy data since I don't have your d0 or d1
>> n  <- 3
>> d0 <- data.frame(a=runif(5),b=runif(5))
>
> # here's the suggested code
>> d1 <- cbind(d0, matrix(0,nrow(d0),n))
>> colnames(d1)[1:n + ncol(d0)] <- paste("V",1:n,sep="")
>
> HTH,
> Eric
>
>
> On Sun, Apr 22, 2018 at 11:13 AM, Luca Meyer <lucam1968 at gmail.com> wrote:
>
>> Hi,
>>
>> I am a bit rusty with R programming and do not seem to find a solution to
>> add a number of variables to my existing dataframe. Basically I need to add
>> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
>> V1, V2, V3, ... , V[dim(d1)[1])
>>
>> When running the following code:
>>
>> for (t in 1:dim(d1)[1]){
>>   d0$V[t] <- 0
>> }
>>
>> all I get is a V variable populated with zeros...
>>
>> I am sure there is a fairly straightforward code to accomplish what I need,
>> any suggestion?
>>
>> Thank you,
>>
>> Luca
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From pd@lgd @ending from gm@il@com  Mon Apr 23 21:22:01 2018
From: pd@lgd @ending from gm@il@com (peter dalgaard)
Date: Mon, 23 Apr 2018 21:22:01 +0200
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
Message-ID: <F21F4B68-860F-41FF-897F-3A1044900542@gmail.com>

Like this?

> V <- c("fee","fie","foe")
> aq <- head(airquality) # Just to get a shorter example
> aq[V] <- 0
> aq
  Ozone Solar.R Wind Temp Month Day fee fie foe
1    41     190  7.4   67     5   1   0   0   0
2    36     118  8.0   72     5   2   0   0   0
3    12     149 12.6   74     5   3   0   0   0
4    18     313 11.5   62     5   4   0   0   0
5    NA      NA 14.3   56     5   5   0   0   0
6    28      NA 14.9   66     5   6   0   0   0


> On 22 Apr 2018, at 10:13 , Luca Meyer <lucam1968 at gmail.com> wrote:
> 
> Hi,
> 
> I am a bit rusty with R programming and do not seem to find a solution to
> add a number of variables to my existing dataframe. Basically I need to add
> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
> V1, V2, V3, ... , V[dim(d1)[1])
> 
> When running the following code:
> 
> for (t in 1:dim(d1)[1]){
>  d0$V[t] <- 0
> }
> 
> all I get is a V variable populated with zeros...
> 
> I am sure there is a fairly straightforward code to accomplish what I need,
> any suggestion?
> 
> Thank you,
> 
> Luca
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From bbb_@@@ m@ili@g off verizo@@@et  Tue Apr 24 01:36:47 2018
From: bbb_@@@ m@ili@g off verizo@@@et (bbb_@@@ m@ili@g off verizo@@@et)
Date: Mon, 23 Apr 2018 19:36:47 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <CAM_vju=VWx7050LdHMV8EvtJL1XUxB04wyLBjO0dUG-necb_3Q@mail.gmail.com>
Message-ID: <162f4dded1f-c8d-11163@webjasstg-vab04.srv.aolmail.net>

Hi Sarah

Sorry for the delay in responding.

Based on your earlier message I realized that the way I was reading in the data was causing this problem. I also realized that my attempt at fixing the problem (by selecting each of the columns using the $ operator and then changing it to the appropriate format) was not helping and is very clunky.

So, I did this:

abc <- read.csv("gntr1a.csv", header=TRUE, stringsAsFactors=FALSE, colClasses=c("character","POSIXct","POSIXct","integer"))

and this works (I think it is important to make sure the columns in the spreadsheet are named  "starts", "ends" , etc. before exporting in order for this to work).

So, once again thank you (and also Jim and David).

Regards
Indr




-----Original Message-----
From: Sarah Goslee <sarah.goslee at gmail.com>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: r-help <r-help at r-project.org>
Sent: Mon, Apr 23, 2018 10:34 am
Subject: Re: [R] Gantt Chart Using Plotrix

Hi,

Your attempt didn't work because you didn't do what I suggested, which
was make sure that your data frame matched the example given in the
help for gantt.chart.

Here's what you have:
> str(cdfg)
'data.frame': 3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" ...
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" ...


Here's what you should have (constructed from the example in the help file):
> str(gantt.info)
List of 4
 $ labels    : chr [1:5] "First task" "Second task" "Third task"
"Fourth task" ...
 $ starts    : POSIXct[1:5], format: "2004-01-01" "2004-02-02" ...
 $ ends      : POSIXct[1:5], format: "2004-03-03" "2004-05-05" ...
 $ priorities: num [1:5] 1 2 3 4 5

You got the dates into the correct format, but the names of the list
elements (columns) do not match, and your data.frame() call turned the
labels from character into factor while you weren't looking.

gantt.chart() has no idea what you're talking about, because it is
looking for particular names.

If you fix those problems, it works fine.

colnames(cdfg) <- c("labels", "starts", "ends")
cdfg$labels <- as.character(cdfg$labels)

gantt.chart(cdfg)

Sarah

On Sun, Apr 22, 2018 at 7:50 PM,  <bbb_aaa at verizon.net> wrote:
>
> Hi Sarah
>
> Thank you very much for your pointers.
>
> Is there a way to specify the date string as POSIXct when reading in?
>
> I have tried the following (very inelegant way) and still have no luck.
>
> --- Begin Code ---
>
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
>
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31  101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
>
>
>  # Next convert the date strings to POSIXct format:
>  # The Idea here is to take each of the individual columns in the spreadsheet
>  # and convert them to the required format and then assemble the dataframe back again:
>
>
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>     c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
>
>
> # But still no luck !
>
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) :
>   replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
>  $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
>  $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
>  $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1",
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200,
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""),
>     c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct",
>     "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>>
>
> ----- End Code ---
>
>
> Thank you and Regards
> Indr
>
>
>
>
>
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
> Hi,
>
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
>
> Try running the first couple lines of the example code, then compare
>
> str(abc)
>
> with
>
> str(gantt.info)
>
> and adjust the format of your dataset as necessary.
>
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
>
> Sarah
>
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>>
>> So I try to create an object that will contain this information.
>>
>> abc <- read.csv("gntr1a.csv")
>>
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>>
>>> abc
>>   code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>   replacement has 0 rows, data has 3
>>>
>>
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>>
>>
>>
>>
>>
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>>
>>
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>>
>>> Hi
>>>
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>>
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>>
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>>
>>> Any help you can provide on this would be great.
>>>
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>>
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>>
>>>
>>> Thanks
>>> indr
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



From p@ul @ending from @t@t@@uckl@nd@@c@nz  Tue Apr 24 05:17:41 2018
From: p@ul @ending from @t@t@@uckl@nd@@c@nz (Paul Murrell)
Date: Tue, 24 Apr 2018 15:17:41 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
Message-ID: <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>

Hi

I think the subsetting works by giving you the panels for the 
corresponding levels of the conditioning variable(s).  Note that, if 
there is more than one conditioning variable, you will need more than 
one subsetting index.

For example, taking this plot with two conditioning variables and 12 
panels in total ...

dotplot(variety ~ yield | year * site, data=barley)

... this produces three pages ...

dotplot(variety ~ yield | year * site, data=barley,
         layout=c(2,2))

... and this produces the second page (both panels for the first 
conditioning variable and the third and fourth panels for the second 
conditioning variable) ...

dotplot(variety ~ yield | year * site, data=barley,
         layout=c(2,2))[1:2, 3:4]

Hope that helps

Paul

On 14/04/18 12:25, Rolf Turner wrote:
> 
> Suppose that (e.g.) xyplot() returns an object "xxx" with (say) 3 pages.
> I would like to extract/plot (print) just one of these pages, e.g.
> page 2.
> 
> Here's a toy example:
> 
> x?? <- rep(seq(0,1,length=11),12)
> set.seed(42)
> y?? <- rnorm(3*44)
> a?? <- rep(letters[1:12],each=11)
> dta <- data.frame(x=x,y=y,a=a)
> xxx <- xyplot(y~x|a,data=dta,layout=c(2,2))
> 
> I would to extract from xxx and print page 2 (the page corresponding to
> levels e, f, g and h).
> 
> Is there any (simple) way that I can do this?
> 
> I've mucked around with update.trellis() and [.trellis, but I cannot 
> make head nor tail of the documentation.? The [.trellis method seems to 
> work in some situations, but not in others, and since I cannot 
> understand what it actually does, I cannot figure out why.
> 
> E.g. in my toy example "xxx[5:8]" seems to give me what I want, but in 
> the context of my real application a similar construction does not work.
> 
> Thanks for any insight.
> 
> cheers,
> 
> Rolf Turner
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/



From r@turner @ending from @uckl@nd@@c@nz  Tue Apr 24 07:51:32 2018
From: r@turner @ending from @uckl@nd@@c@nz (Rolf Turner)
Date: Tue, 24 Apr 2018 17:51:32 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
Message-ID: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>


On 24/04/18 15:17, Paul Murrell wrote:

> Hi
> 
> I think the subsetting works by giving you the panels for the 
> corresponding levels of the conditioning variable(s).? Note that, if 
> there is more than one conditioning variable, you will need more than 
> one subsetting index.
> 
> For example, taking this plot with two conditioning variables and 12 
> panels in total ...
> 
> dotplot(variety ~ yield | year * site, data=barley)
> 
> ... this produces three pages ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>  ??????? layout=c(2,2))
> 
> ... and this produces the second page (both panels for the first 
> conditioning variable and the third and fourth panels for the second 
> conditioning variable) ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>  ??????? layout=c(2,2))[1:2, 3:4]
> 
> Hope that helps.

Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
wanted was to take

     bar <- dotplot(variety ~ yield | year * site, data=barley)

and then do (something like)

     foo <- bar[<something>]

so that foo contains only the second page of bar, and then do print(foo)
to get a plot of (just) the second page.  Without re-issuing a 
(modified) plot command.

Is that not at all possible?

cheers,

Rolf.

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276



From luc@m1968 @ending from gm@il@com  Tue Apr 24 09:30:25 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Tue, 24 Apr 2018 09:30:25 +0200
Subject: [R] How to visualise what code is processed within a for loop
Message-ID: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>

Hi,

I am trying to debug the following code:

for (i in 1:10){
  t <- paste("d0$V",i,sep="")
  t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
}

and I would like to see what code is actually processing R, how can I do
that?

More to the point, I am trying to update my variables d0$V1 to d0$V10
according to the presence or absence of some text (contained in the file
d1) within the d0$X0 variable.

The code seem to run ok, if I add print(table(t)) within the loop I can see
that the ifelse procedure is working and to some cases within the d0$V1 to
d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
after the for loop they are all still equal to zero...

Thanks,

Luca

	[[alternative HTML version deleted]]



From rni@boh @ending from gm@il@com  Tue Apr 24 10:19:45 2018
From: rni@boh @ending from gm@il@com (Bob O'Hara)
Date: Tue, 24 Apr 2018 10:19:45 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
Message-ID: <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>

The loop never assigns anything to d0, only t. The first line makes t
a character string "d0$V1" (or "d0$V2" etc.). The second line assigns
either 0 or 1 to t.

Looking at this, I don't think you've got into the R psychology (bad
news if you want to use R, good news in many other ways). I assume d0
is a list, so could you put the V's into a vector, and then just use
this:

d0$V <- sapply(d1[1:10,1], grepl, d0$X0)

(I haven't checked it, but it looks,like it will do the trick. It
returns a logical vector, so if you need integers, then use an
as.numeric() around the right hand side. Or hope that R does type
conversion for you when you need it)

HTH

Bob

On 24 April 2018 at 09:30, Luca Meyer <lucam1968 at gmail.com> wrote:
> Hi,
>
> I am trying to debug the following code:
>
> for (i in 1:10){
>   t <- paste("d0$V",i,sep="")
>   t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
> }
>
> and I would like to see what code is actually processing R, how can I do
> that?
>
> More to the point, I am trying to update my variables d0$V1 to d0$V10
> according to the presence or absence of some text (contained in the file
> d1) within the d0$X0 variable.
>
> The code seem to run ok, if I add print(table(t)) within the loop I can see
> that the ifelse procedure is working and to some cases within the d0$V1 to
> d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
> after the for loop they are all still equal to zero...
>
> Thanks,
>
> Luca
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Bob O'Hara
NOTE NEW ADDRESS!!!
Institutt for matematiske fag
NTNU
7491 Trondheim
Norway

Mobile: +49 1515 888 5440
Journal of Negative Results - EEB: www.jnr-eeb.org



From robertob@kker @ending from gm@il@com  Tue Apr 24 11:23:56 2018
From: robertob@kker @ending from gm@il@com (P. Roberto Bakker)
Date: Tue, 24 Apr 2018 11:23:56 +0200
Subject: [R] Copy text from Script syntax into .txt
Message-ID: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>

Hi everybody,

How can I get text from RScript (e.g. syntax, reminder) into the result
text.
Sink() does not do that - I only read the results and therefore I have to
'guess' which syntax was used where - reminders I wrote are lost.

Bw and thank you in advance,

Roberto

	[[alternative HTML version deleted]]



From thierry@onkelinx @ending from inbo@be  Tue Apr 24 12:01:02 2018
From: thierry@onkelinx @ending from inbo@be (Thierry Onkelinx)
Date: Tue, 24 Apr 2018 12:01:02 +0200
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>

Dear Roberto,

The easiest way IMHO is to convert your script into an R markdown
document. See https://rmarkdown.rstudio.com/

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-24 11:23 GMT+02:00 P. Roberto Bakker <robertobakker at gmail.com>:
> Hi everybody,
>
> How can I get text from RScript (e.g. syntax, reminder) into the result
> text.
> Sink() does not do that - I only read the results and therefore I have to
> 'guess' which syntax was used where - reminders I wrote are lost.
>
> Bw and thank you in advance,
>
> Roberto
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From luc@m1968 @ending from gm@il@com  Tue Apr 24 12:09:54 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Tue, 24 Apr 2018 12:09:54 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>
Message-ID: <CABQyo866MUWJXMy9A1LkksvFet1y6LYcAVisJN2D5igHKo7iGA@mail.gmail.com>

Hi Bob,

Thank you for your suggestion. Actually d0 is a dataframe, does that change
something in the code you propose?

Kind regards,

Luca

2018-04-24 10:19 GMT+02:00 Bob O'Hara <rni.boh at gmail.com>:

> The loop never assigns anything to d0, only t. The first line makes t
> a character string "d0$V1" (or "d0$V2" etc.). The second line assigns
> either 0 or 1 to t.
>
> Looking at this, I don't think you've got into the R psychology (bad
> news if you want to use R, good news in many other ways). I assume d0
> is a list, so could you put the V's into a vector, and then just use
> this:
>
> d0$V <- sapply(d1[1:10,1], grepl, d0$X0)
>
> (I haven't checked it, but it looks,like it will do the trick. It
> returns a logical vector, so if you need integers, then use an
> as.numeric() around the right hand side. Or hope that R does type
> conversion for you when you need it)
>
> HTH
>
> Bob
>
> On 24 April 2018 at 09:30, Luca Meyer <lucam1968 at gmail.com> wrote:
> > Hi,
> >
> > I am trying to debug the following code:
> >
> > for (i in 1:10){
> >   t <- paste("d0$V",i,sep="")
> >   t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
> > }
> >
> > and I would like to see what code is actually processing R, how can I do
> > that?
> >
> > More to the point, I am trying to update my variables d0$V1 to d0$V10
> > according to the presence or absence of some text (contained in the file
> > d1) within the d0$X0 variable.
> >
> > The code seem to run ok, if I add print(table(t)) within the loop I can
> see
> > that the ifelse procedure is working and to some cases within the d0$V1
> to
> > d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
> > after the for loop they are all still equal to zero...
> >
> > Thanks,
> >
> > Luca
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Bob O'Hara
> NOTE NEW ADDRESS!!!
> Institutt for matematiske fag
> NTNU
> 7491 Trondheim
> Norway
>
> Mobile: +49 1515 888 5440
> Journal of Negative Results - EEB: www.jnr-eeb.org
>

	[[alternative HTML version deleted]]



From dulc@lm@ @ending from bigpond@com  Tue Apr 24 16:23:26 2018
From: dulc@lm@ @ending from bigpond@com (Duncan Mackay)
Date: Wed, 25 Apr 2018 00:23:26 +1000
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
Message-ID: <000401d3dbd7$cfc6f310$6f54d930$@bigpond.com>

Hi Rolf

do you need to use the  layout argument?

The layout is conditioned by the levels of a or unique values if not a factor. easier with factor

unique(dta$a)
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l"
data.frame( a= unique(dta$a), page = rep(1:3, ea = 4), col = 1:2,row  = rep(1:2, ea = 2))
   a page col row
1  a    1   1   1
2  b    1   2   1
3  c    1   1   2
4  d    1   2   2
5  e    2   1   1
6  f    2   2   1
7  g    2   1   2
8  h    2   2   2
9  i    3   1   1
10 j    3   2   1
11 k    3   1   2
12 l    3   2   2

I hope I have got the order right

full dataset
xyplot(y~x|a,data=dta)


     bar  = xyplot(y~x|a,data = subset(dta, a %in% c("e","f","g","h")) ))

print(bar)
(missed the dotplot requirement) but principle is the same.

you can use packet.number or which.packet if needed to make it simpler

use par.settings to do colours lines etc as well as spacing.

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Rolf Turner
Sent: Tuesday, 24 April 2018 15:52
To: Paul Murrell
Cc: r-help at r-project.org; deepayan.sarkar at r-project.org
Subject: Re: [R] [FORGED] Extracting specified pages from a lattice ("trellis") object.


On 24/04/18 15:17, Paul Murrell wrote:

> Hi
> 
> I think the subsetting works by giving you the panels for the 
> corresponding levels of the conditioning variable(s).  Note that, if 
> there is more than one conditioning variable, you will need more than 
> one subsetting index.
> 
> For example, taking this plot with two conditioning variables and 12 
> panels in total ...
> 
> dotplot(variety ~ yield | year * site, data=barley)
> 
> ... this produces three pages ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>          layout=c(2,2))
> 
> ... and this produces the second page (both panels for the first 
> conditioning variable and the third and fourth panels for the second 
> conditioning variable) ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>          layout=c(2,2))[1:2, 3:4]
> 
> Hope that helps.

Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
wanted was to take

     bar <- dotplot(variety ~ yield | year * site, data=barley)

and then do (something like)

     foo <- bar[<something>]

so that foo contains only the second page of bar, and then do print(foo)
to get a plot of (just) the second page.  Without re-issuing a 
(modified) plot command.

Is that not at all possible?

cheers,

Rolf.

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From ted@h@rding @ending from wl@ndre@@net  Tue Apr 24 18:53:13 2018
From: ted@h@rding @ending from wl@ndre@@net (Ted Harding)
Date: Tue, 24 Apr 2018 17:53:13 +0100
Subject: [R] TEST message
Message-ID: <1524588793.5167.4.camel@deb2.fort.knox.uk>

Apologies for disturbance! Just checking that I can
get through to r-help.
Ted.



From nj@negovetich @ending from gm@il@com  Tue Apr 24 19:49:54 2018
From: nj@negovetich @ending from gm@il@com (Nicholas Negovetich)
Date: Tue, 24 Apr 2018 12:49:54 -0500
Subject: [R] TukeyHSD and glht differ for models with a covariate
Message-ID: <03e55b6c-742c-5247-573d-e2f33919d1d1@gmail.com>

I have a question about TukeyHSD and the glht function because I'm 
getting different answers when a covariate is included in model for 
ANCOVA.? I'm using the cabbages dataset in the 'MASS' package for 
repeatability.? If I include HeadWt as a covariate, then I get different 
answers when performing multiple comparisons using TukeyHSD and the glht 
function. The difference appears related to the predicted means used in 
the Tukey posthoc test. The glht function uses the marginal means, which 
I can obtain using the effect function in the 'effects' package.? 
TukeyHSD generates the means using the model.tables function.? Per the 
help file, "the implementation is incomplete, and only simpler cases 
have been tested thoroughly". Does this mean that TukeyHSD shouldn't be 
used when covariates are included in the model? Could anyone elaborate 
on why the model.tables function is generating means that differ from 
the effect function?? Thanks...

#--------------------------------
# Load libraries and data
library(multcomp)
library(effects)
data(cabbages, package='MASS')

#create the model
mod1 <- lm(VitC~HeadWt+Cult+Date, data=cabbages)

# Using TukeyHSD
TukeyHSD(aov(mod1), which='Date')

#? Tukey multiple comparisons of means
# ? 95% family-wise confidence level
#
#Fit: aov(formula = mod1)
#
#$Date
#????????????? diff??????? lwr????? upr???? p adj
#d20-d16 -0.9216847 -5.5216345 3.678265 0.8797985
#d21-d16? 3.4237706 -1.1761792 8.023720 0.1814431
#d21-d20? 4.3454553 -0.2544945 8.945405 0.0678038

# Tukey contrasts in glht should generate the same difference in means, 
but it does not
summary(glht(mod1, linfct=mcp(Date='Tukey')))

#
#???? Simultaneous Tests for General Linear Hypotheses
#
#Multiple Comparisons of Means: Tukey Contrasts
#
#
#Fit: lm(formula = VitC ~ HeadWt + Cult + Date, data = cabbages)
#
#Linear Hypotheses:
#?????????????? Estimate Std. Error t value Pr(>|t|)
#d20 - d16 == 0?? -1.213????? 1.926? -0.630?? 0.8042
#d21 - d16 == 0??? 4.186????? 2.018?? 2.074?? 0.1044
#d21 - d20 == 0??? 5.400????? 2.112?? 2.556?? 0.0351 *
#---
#Signif. codes:? 0 ?***? 0.001 ?**? 0.01 ?*? 0.05 ?.? 0.1 ? ? 1
#(Adjusted p values reported -- single-step method)

# Differences used for glht could be obtained with the effect function
effect('Date', mod1)

#
# Date effect
#Date
#???? d16????? d20????? d21
#56.95889 55.74578 61.14533

# model.tables() is used to generate the means for TukeyHSD
model.tables(aov(mod1), type='means')$tables$Date

#Date
#???? d16????? d20????? d21
#57.11597 56.19429 60.53974
#Warning message:
#In replications(paste("~", xx), data = mf) : non-factors ignored: HeadWt



From bog@@o@chri@tofer @ending from gm@il@com  Tue Apr 24 20:29:20 2018
From: bog@@o@chri@tofer @ending from gm@il@com (Christofer Bogaso)
Date: Tue, 24 Apr 2018 23:59:20 +0530
Subject: [R] Rolling window difference for zoo time series
Message-ID: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>

Hi,

I have a 'zoo' time series as below :

Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)

Now I want to calculate First order difference of order 1, rolling
window basis i.e.

(Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
(Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
.....

Is there any direct function available to achieve this?

Thanks,



From ericjberger @ending from gm@il@com  Tue Apr 24 21:01:25 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Tue, 24 Apr 2018 22:01:25 +0300
Subject: [R] Rolling window difference for zoo time series
In-Reply-To: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
References: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
Message-ID: <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>

Zoo_TS/lag(Zoo_TS) - 1


On Tue, Apr 24, 2018 at 9:29 PM, Christofer Bogaso <
bogaso.christofer at gmail.com> wrote:

> Hi,
>
> I have a 'zoo' time series as below :
>
> Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)
>
> Now I want to calculate First order difference of order 1, rolling
> window basis i.e.
>
> (Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
> (Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
> .....
>
> Is there any direct function available to achieve this?
>
> Thanks,
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From 538280 @ending from gm@il@com  Tue Apr 24 21:42:19 2018
From: 538280 @ending from gm@il@com (Greg Snow)
Date: Tue, 24 Apr 2018 13:42:19 -0600
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>

Look at the spin and stitch functions in the knitr package if you want
to process an existing script into an output that mixes the code run
with the output.

Look at the txtStart and related functions in the TeachingDemos
package if you want the code and output saved in a file from a session
where you are typing in commands.

If in general you want text, code, and output mixed, learn the knitr
and/or rmarkdown packages for how to write a file that can be
processed into a report.  Also consider learning about RStudio
notebook documents where you can have the output mixed into the
"script" file.

On Tue, Apr 24, 2018 at 3:23 AM, P. Roberto Bakker
<robertobakker at gmail.com> wrote:
> Hi everybody,
>
> How can I get text from RScript (e.g. syntax, reminder) into the result
> text.
> Sink() does not do that - I only read the results and therefore I have to
> 'guess' which syntax was used where - reminders I wrote are lost.
>
> Bw and thank you in advance,
>
> Roberto
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com



From Achim@Zeilei@ @ending from uibk@@c@@t  Tue Apr 24 22:02:59 2018
From: Achim@Zeilei@ @ending from uibk@@c@@t (Achim Zeileis)
Date: Tue, 24 Apr 2018 22:02:59 +0200 (CEST)
Subject: [R] Rolling window difference for zoo time series
In-Reply-To: <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>
References: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
 <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>
Message-ID: <alpine.DEB.2.21.1804242202060.7294@paninaro>

On Tue, 24 Apr 2018, Eric Berger wrote:

> Zoo_TS/lag(Zoo_TS) - 1

Or:

diff(Zoo_TS, arithmetic = FALSE) - 1

>
> On Tue, Apr 24, 2018 at 9:29 PM, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
>
>> Hi,
>>
>> I have a 'zoo' time series as below :
>>
>> Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)
>>
>> Now I want to calculate First order difference of order 1, rolling
>> window basis i.e.
>>
>> (Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
>> (Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
>> .....
>>
>> Is there any direct function available to achieve this?
>>
>> Thanks,
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From donm@c @ending from m@t@t@t@com  Wed Apr 25 05:22:15 2018
From: donm@c @ending from m@t@t@t@com (Donald Macnaughton)
Date: Tue, 24 Apr 2018 23:22:15 -0400
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
Message-ID: <004a01d3dc44$9d309510$d791bf30$@matstat.com>

I'm drawing a paneled histogram using the lattice package. I've succeeded in
adding minor tick marks to the vertical axis, but I can't get the desired
number of minor tick marks between the major tick marks. 

I've attached a self-contained program to illustrate the problem.

Thanks for your help,

Don Macnaughton


Here's my sessionInfo:

R version 3.4.3 (2017-11-30)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 16299)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base     

other attached packages:
[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
[7] survival_2.41-3     lattice_0.20-35    

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
 [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
 [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
[37] munsell_0.4.3    


From jdnewmil @ending from dcn@d@vi@@c@@u@  Wed Apr 25 05:28:26 2018
From: jdnewmil @ending from dcn@d@vi@@c@@u@ (Jeff Newmiller)
Date: Tue, 24 Apr 2018 20:28:26 -0700
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
Message-ID: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've
>succeeded in
>adding minor tick marks to the vertical axis, but I can't get the
>desired
>number of minor tick marks between the major tick marks. 
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit)
>Running under: Windows 10 x64 (build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From donm@c @ending from m@t@t@t@com  Wed Apr 25 06:12:38 2018
From: donm@c @ending from m@t@t@t@com (Donald Macnaughton)
Date: Wed, 25 Apr 2018 00:12:38 -0400
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
Message-ID: <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting guide seemed to imply that non-binary attachments would work. But I see that the file was stripped off. 

I installed the program file on a web site, but when I downloaded it, the line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in 
# the lattice package.
# This program requires the  latticeExtra  package to be installed to
# generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks on
# the vertical axis, which helps to show the viewer that all the bars
# in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package
# has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on
# the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application 
# the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0)
for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent, 
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help <R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.



From dulc@lm@ @ending from bigpond@com  Wed Apr 25 07:26:37 2018
From: dulc@lm@ @ending from bigpond@com (Duncan Mackay)
Date: Wed, 25 Apr 2018 15:26:37 +1000
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
 <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>
Message-ID: <000001d3dc55$fc366330$f4a32990$@bigpond.com>

Hi

You may need to make a custom function for yscale.components; I think there
is an example in the help guides
Also have a look at
https://stat.ethz.ch/pipermail/r-help/2007-June/134524.html 

Regards

Duncan


Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350

 

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Donald
Macnaughton
Sent: Wednesday, 25 April 2018 14:13
To: 'Jeff Newmiller'; 'R-Help'
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting
guide seemed to imply that non-binary attachments would work. But I see that
the file was stripped off. 

I installed the program file on a web site, but when I downloaded it, the
line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in 
# the lattice package.
# This program requires the  latticeExtra  package to be installed to
# generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks
on
# the vertical axis, which helps to show the viewer that all the bars
# in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package
# has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on
# the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application 
# the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0)
for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent, 
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help
<R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com>
wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From petrett@ @ending from unin@@it  Wed Apr 25 10:42:11 2018
From: petrett@ @ending from unin@@it (Mario Petretta)
Date: Wed, 25 Apr 2018 10:42:11 +0200
Subject: [R] Fitting survival trees with competing risk
Message-ID: <000001d3dc71$4df76370$e9e62a50$@unina.it>

Dear all,

 

I'm interested in fitting survival trees with competing risk analysis.

The tree should show the cumulative incidence function for each terminal
node .

 

I read several paper illustrating this possibility, but to the best of my
knowledge no R code are reported.

 

There is any R package for this fit?

 

Thank you very much in advance.

 

Mario Petretta

 

 

----------------------------------------------------------------------------

Mario Petretta, MD, FAHA

Professor of Internal Medicine

Department of Translational Medical Sciences

Naples University "Federico II"

Italy

 


	[[alternative HTML version deleted]]



From donm@c @ending from m@t@t@t@com  Wed Apr 25 14:02:26 2018
From: donm@c @ending from m@t@t@t@com (Donald Macnaughton)
Date: Wed, 25 Apr 2018 08:02:26 -0400
Subject: [R] FW:  Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
Message-ID: <000701d3dc8d$48335720$d89a0560$@matstat.com>

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting guide seemed to imply that non-binary attachments would work. But I see that the file was stripped off. 

Restating the problem:

I'm drawing a paneled histogram using the lattice package. I've succeeded in adding minor tick marks to the vertical axis, but I can't get the desired number of minor tick marks between the major tick marks.

I installed the program file on a web site, but when I downloaded it, the line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in # the lattice package.
# This program requires the  latticeExtra  package to be installed to # generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks on # the vertical axis, which helps to show the viewer that all the bars # in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package # has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on # the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application # the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0) for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent,
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton



-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help <R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.



From robertob@kker @ending from gm@il@com  Wed Apr 25 17:20:41 2018
From: robertob@kker @ending from gm@il@com (P. Roberto Bakker)
Date: Wed, 25 Apr 2018 15:20:41 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>
Message-ID: <CAKDq9_OJCT_QFgYY+PyjvAfWeoDN-93aRrLsYpSe5CsmVx8M5Q@mail.gmail.com>

Hi Thierry,

Thank you for your information.

Bw Roberto

Op di 24 apr. 2018 12:01 schreef Thierry Onkelinx <thierry.onkelinx at inbo.be
>:

> Dear Roberto,
>
> The easiest way IMHO is to convert your script into an R markdown
> document. See https://rmarkdown.rstudio.com/
>
> Best regards,
>
> ir. Thierry Onkelinx
> Statisticus / Statistician
>
> Vlaamse Overheid / Government of Flanders
> INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
> AND FOREST
> Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
> thierry.onkelinx at inbo.be
> Havenlaan 88 bus 73, 1000 Brussel
> www.inbo.be
>
>
> ///////////////////////////////////////////////////////////////////////////////////////////
> To call in the statistician after the experiment is done may be no
> more than asking him to perform a post-mortem examination: he may be
> able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
> The plural of anecdote is not data. ~ Roger Brinner
> The combination of some data and an aching desire for an answer does
> not ensure that a reasonable answer can be extracted from a given body
> of data. ~ John Tukey
>
> ///////////////////////////////////////////////////////////////////////////////////////////
>
>
>
>
> 2018-04-24 11:23 GMT+02:00 P. Roberto Bakker <robertobakker at gmail.com>:
> > Hi everybody,
> >
> > How can I get text from RScript (e.g. syntax, reminder) into the result
> > text.
> > Sink() does not do that - I only read the results and therefore I have to
> > 'guess' which syntax was used where - reminders I wrote are lost.
> >
> > Bw and thank you in advance,
> >
> > Roberto
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From robertob@kker @ending from gm@il@com  Wed Apr 25 17:21:35 2018
From: robertob@kker @ending from gm@il@com (P. Roberto Bakker)
Date: Wed, 25 Apr 2018 15:21:35 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>
Message-ID: <CAKDq9_Ms7sTNfirbW7DjWLotbjZYbp3aw7yvQDP81EoiT9jxiw@mail.gmail.com>

Hi Greg,

Thank you for all information.

Bw Roberto




Op di 24 apr. 2018 21:42 schreef Greg Snow <538280 at gmail.com>:

> Look at the spin and stitch functions in the knitr package if you want
> to process an existing script into an output that mixes the code run
> with the output.
>
> Look at the txtStart and related functions in the TeachingDemos
> package if you want the code and output saved in a file from a session
> where you are typing in commands.
>
> If in general you want text, code, and output mixed, learn the knitr
> and/or rmarkdown packages for how to write a file that can be
> processed into a report.  Also consider learning about RStudio
> notebook documents where you can have the output mixed into the
> "script" file.
>
> On Tue, Apr 24, 2018 at 3:23 AM, P. Roberto Bakker
> <robertobakker at gmail.com> wrote:
> > Hi everybody,
> >
> > How can I get text from RScript (e.g. syntax, reminder) into the result
> > text.
> > Sink() does not do that - I only read the results and therefore I have to
> > 'guess' which syntax was used where - reminders I wrote are lost.
> >
> > Bw and thank you in advance,
> >
> > Roberto
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Gregory (Greg) L. Snow Ph.D.
> 538280 at gmail.com
>

	[[alternative HTML version deleted]]



From m@cqueen1 @ending from llnl@gov  Wed Apr 25 23:03:52 2018
From: m@cqueen1 @ending from llnl@gov (MacQueen, Don)
Date: Wed, 25 Apr 2018 21:03:52 +0000
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
Message-ID: <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>

Your code doesn't make sense to me in a couple of ways.

Inside the loop, the first line assigns a value to an object named "t".
Then, the second line does the same thing, assigns a value to an object named "t".

The value of the object named "t" after the second line will be the output of the ifelse() expression, whatever that is. This has the effect of making the first line irrelevant. Whatever value t has after the first line is replaced by whatever it gets from the second line.

It looks like the first line inside the loop is constructing the name of a data frame column, and storing that name as a character string. However, the second line doesn't use that name at all. If your goal is to update the contents of a column, you need to assign something to that column in the next line. Instead you assign it to the object named "t".

What you're looking for will be more along the lines of this:

    for (i in 1:10){
      nm <- paste0("V", i)
      d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
    }

This may not a complete solution, since I have no idea what the contents or structure of d1 are, or what the regexpr() is expected to return.

And notice the use of double brackets, [[ and ]]. This is one way to reference a column of a  data frame when you have the column's name stored in a variable. Another way is d0[ , nm]


A couple of additional comments:

 "t" is a poor choice of object name, because it is one of R's built-in functions (immediately after starting a fresh session of R, with nothing left over from any previous session, type help("r") and see what you get).

 ifelse() is intended for use on vectors, not scalars, and it looks like maybe you're using it on a scalar (can't be sure about this, though)

For example, ifelse() is designed for this kind of usage:
> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
[1]  1 12  3

Although it works ok for these
> ifelse(TRUE, 3, 4)
[1] 3
> ifelse(FALSE, 3, 4)
[1] 4
They are not really what it is intended for.

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:

    Hi,
    
    I am trying to debug the following code:
    
    for (i in 1:10){
      t <- paste("d0$V",i,sep="")
      t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
    }
    
    and I would like to see what code is actually processing R, how can I do
    that?
    
    More to the point, I am trying to update my variables d0$V1 to d0$V10
    according to the presence or absence of some text (contained in the file
    d1) within the d0$X0 variable.
    
    The code seem to run ok, if I add print(table(t)) within the loop I can see
    that the ifelse procedure is working and to some cases within the d0$V1 to
    d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
    after the for loop they are all still equal to zero...
    
    Thanks,
    
    Luca
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From m@cqueen1 @ending from llnl@gov  Wed Apr 25 23:13:46 2018
From: m@cqueen1 @ending from llnl@gov (MacQueen, Don)
Date: Wed, 25 Apr 2018 21:13:46 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>

Try putting this
   options(echo=TRUE)
at the beginning of your script

See ?source for a clue

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/24/18, 2:23 AM, "R-help on behalf of P. Roberto Bakker" <r-help-bounces at r-project.org on behalf of robertobakker at gmail.com> wrote:

    Hi everybody,
    
    How can I get text from RScript (e.g. syntax, reminder) into the result
    text.
    Sink() does not do that - I only read the results and therefore I have to
    'guess' which syntax was used where - reminders I wrote are lost.
    
    Bw and thank you in advance,
    
    Roberto
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From v@rin@@ch@ @ending from y@hoo@fr  Wed Apr 25 23:24:14 2018
From: v@rin@@ch@ @ending from y@hoo@fr (varin sacha)
Date: Wed, 25 Apr 2018 21:24:14 +0000 (UTC)
Subject: [R] Zero errors : Bug in my R code ?
References: <1750747372.1432716.1524691454704.ref@mail.yahoo.com>
Message-ID: <1750747372.1432716.1524691454704@mail.yahoo.com>

Dear R-experts,

I guess I have a problem with my fast function (fast tau estimator) here below. Indeed, zero errors look highly suspicious. I guess there is a bug in my R code. How could I correct my R code ?

# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages("devtools")? # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 
#install.packages("DMwR")

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(hbrfit)
library("devtools") 
library("DMwR")

bmi=c(23,43,12,1,23,4,3,4,5,5,6,5,5,34,67,87,32,12,23,19) 
glucose=c(98,34,21,13,2,43,16,43,28,93,11,14,16,43,23,65,42,16,54,32)
crp=c(56,34,42,32,1,2,54,47,67,65,38,95,45,76,67,87,35,41,34,54)
newdata=data.frame(bmi,glucose,crp)
?
reg1 <- lm( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,reg1$fitted.values)

reg <- lmrob( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,reg$fitted.values)

Huber <- rlm( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,Huber$fitted.values)

Tukey <- rlm( crp ~ bmi+glucose, data=newdata, psi = psi.bisquare )
DMwR::regr.eval(newdata$crp,Tukey$fitted.values)

L1 <- rq( crp ~ bmi+glucose, data=newdata, tau = 0.5 )
DMwR::regr.eval(newdata$crp,L1$fitted.values)

fast <- FastTau(model.matrix(~newdata$bmi+newdata$glucose),newdata$crp)
DMwR::regr.eval(newdata$crp,fast$fitted.values)

HBR<-hbrfit(crp ~ bmi+glucose)
DMwR::regr.eval(newdata$crp,HBR$fitted.values)



From robertob@kker @ending from gm@il@com  Thu Apr 26 07:28:32 2018
From: robertob@kker @ending from gm@il@com (P. Roberto Bakker)
Date: Thu, 26 Apr 2018 07:28:32 +0200
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>
Message-ID: <CAKDq9_M0Vi37ih23smHEYW8U4popPvK3t1r3jROMP9r-hgfLdg@mail.gmail.com>

Dear Don,

Thank you for your information.

Bw Roberto

2018-04-25 23:13 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Try putting this
>    options(echo=TRUE)
> at the beginning of your script
>
> See ?source for a clue
>
> -Don
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> ?On 4/24/18, 2:23 AM, "R-help on behalf of P. Roberto Bakker" <
> r-help-bounces at r-project.org on behalf of robertobakker at gmail.com> wrote:
>
>     Hi everybody,
>
>     How can I get text from RScript (e.g. syntax, reminder) into the result
>     text.
>     Sink() does not do that - I only read the results and therefore I have
> to
>     'guess' which syntax was used where - reminders I wrote are lost.
>
>     Bw and thank you in advance,
>
>     Roberto
>
>         [[alternative HTML version deleted]]
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From @khile@h@ingh@igkv @ending from gm@il@com  Thu Apr 26 14:07:40 2018
From: @khile@h@ingh@igkv @ending from gm@il@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 17:37:40 +0530
Subject: [R] Package 'data.table' in version R-3.5.0 not successfully being
 installed
Message-ID: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>

Dear Sir,

I am using R on Windows OS platform. I upgraded my R-system to version
R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
stuck up in the package 'data.table', which is required by many other
packages in R-codes in my R-Markdown files.

I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
well as "RStudio" mirrors when the following errors are being shown:

From  USA-berkely and UK-bristol mirrors:
=================================
Package which is only available in source form, and may need
  compilation of C/C++/Fortran: ?data.table?
  These will not be installed
Warning message:
In download.file(url, destfile = f, quiet = TRUE) :
  InternetOpenUrl failed: ''

From RStudio mirror:
================
Package which is only available in source form, and may need compilation of
  C/C++/Fortran: ?data.table?
  These will not be installed

Afterwards, I consulted google users, I downloaded the source package:
"data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
following command for installing from source only:


install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")

This generated following errors messages:

> install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
Installing package into ?C:/Users/Dr. A.K.
Singh/Documents/R/win-library/3.5?
(as ?lib? is unspecified)
* installing *source* package 'data.table' ...
** package 'data.table' successfully unpacked and MD5 sums checked
** libs
Warning in system(cmd) : 'make' not found
ERROR: compilation failed for package 'data.table'
* removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-library/3.5/data.table'
* restoring previous 'C:/Users/Dr. A.K.
Singh/Documents/R/win-library/3.5/data.table'
In R CMD INSTALL
Warning message:
In install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
  installation of package
?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero exit
status
>


I is requested to kindly help. I was writing a book using R-Markdown. And I
am stuck up as described above.

Dr. A.K. Singh
Professor and Head
Department of Agricultural Statistics
Indira Gandhi Krishi Vishwavidyalaya
Raipur
Chhattisgarh
India

	[[alternative HTML version deleted]]



From @tyen @ending from ntu@edu@tw  Thu Apr 26 14:15:26 2018
From: @tyen @ending from ntu@edu@tw (Steven Yen)
Date: Thu, 26 Apr 2018 20:15:26 +0800
Subject: [R] Problem building binary data into library file
In-Reply-To: <58e5630e-3274-b4ac-6e76-e4e8a46713d4@gmail.com>
References: <f1de81cd-9907-1782-2801-19556db2b91b@gmail.com>
 <58e5630e-3274-b4ac-6e76-e4e8a46713d4@gmail.com>
Message-ID: <cbc6ac0e-048e-d76b-1c74-44d0f60cd026@ntu.edu.tw>

I build binary data files into a library by placing the .rda files at the proper \data sub-folder before building the library with the following procedure:
1. File -> Open project
2. Build -> Build binary packages.
This has worked up to 3 .rda files.

Now, I add another .rda file to the folder. I received a very strange, seemingly unrelated warning message that says:

Warning: object '.Random.seed' is created by more than one data call

The weird thing about this is, repeating the procedure, I sometime can access the data file from the library (i.e., by data(filename)), other time I cannot access the data file. The data file is big but not so big (571 KB).

Any clues? Why am I getting that warning message?


==
Below is a log with more details.

==> Rcmd.exe INSTALL --build --preclean yenlib3

* installing to library 'C:/Users/syen01/Documents/R/win-library/3.4'
* installing *source* package 'yenlib3' ...
** R
** data
*** moving datasets to lazyload DB
Warning: object '.Random.seed' is created by more than one data call
** preparing package for lazy loading
** help
*** installing help indices
   converting help for package 'yenlib3'
     finding HTML links ... done
     aids                                    html
     all.variables                           html
  (truncated)
     ate.boprobitE                           html
** building package indices
** testing if installed package can be loaded
*** arch - i386
*** arch - x64
* MD5 sums
packaged installation of 'yenlib3' as yenlib3_1.1.0.zip
* DONE (yenlib3)
In R CMD INSTALL
Binary package written to Y:/


	[[alternative HTML version deleted]]



From polychroni@@ko@toul@@ @ending from gm@il@com  Thu Apr 26 15:46:11 2018
From: polychroni@@ko@toul@@ @ending from gm@il@com (Polychronis Kostoulas)
Date: Thu, 26 Apr 2018 16:46:11 +0300
Subject: [R] How to define mutualy exclusive parameters of a function
Message-ID: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>

Dear All,
apologies if this is basic: I am writing a function:

fb<-function(mean, median, mode, a, b=0.95, lower=F)
{....}

The arguments mean, median and mode are mutually exclusive (i.e. the user
should define only one of these). How do I code this within the function?

Thanks,
Pol

	[[alternative HTML version deleted]]



From ericjberger @ending from gm@il@com  Thu Apr 26 16:10:16 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Thu, 26 Apr 2018 17:10:16 +0300
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
Message-ID: <CAGgJW75voV6PUNpNC3cr4ZSoGAgvwv=kP9SNjDEfYrP+VrOF9A@mail.gmail.com>

Hi Pol,
Here is one way:

fb <- function(mean=NULL, median=NULL, mode=NULL, a, b=0.95, lower=F) {

    stopifnot ( (is.null(mean) + is.null(median) + is.null(mode)) == 2 )

    etc...

}


HTH,
Eric


On Thu, Apr 26, 2018 at 4:46 PM, Polychronis Kostoulas <
polychronis.kostoulas at gmail.com> wrote:

> Dear All,
> apologies if this is basic: I am writing a function:
>
> fb<-function(mean, median, mode, a, b=0.95, lower=F)
> {....}
>
> The arguments mean, median and mode are mutually exclusive (i.e. the user
> should define only one of these). How do I code this within the function?
>
> Thanks,
> Pol
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From jfox @ending from mcm@@ter@c@  Thu Apr 26 16:33:28 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Thu, 26 Apr 2018 14:33:28 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>

Dear A.K. Singh,

As you discovered, the data.table package has an error under R 3.5.0 that prevents CRAN from distributing a Windows binary for the package. The reason that you weren't able to install the package from source is apparently that you haven't installed the R package-building tools for Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.

Because a number of users of my Rcmdr and car packages have contacted me with a similar issue, as a temporary work-around I've placed a Windows binary for the data.table package on my website at <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>. You should be able to install the package from there via the command

	install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")

I expect that this problem will go away when the maintainer of the data.table package fixes the error.

I hope this helps,
 John

--------------------------------------
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
Web: socialsciences.mcmaster.ca/jfox/



> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Akhilesh
> Singh
> Sent: Thursday, April 26, 2018 8:08 AM
> To: r-help mailing list <r-help at r-project.org>
> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> being installed
> 
> Dear Sir,
> 
> I am using R on Windows OS platform. I upgraded my R-system to version
> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> stuck up in the package 'data.table', which is required by many other
> packages in R-codes in my R-Markdown files.
> 
> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> well as "RStudio" mirrors when the following errors are being shown:
> 
> From  USA-berkely and UK-bristol mirrors:
> =================================
> Package which is only available in source form, and may need
>   compilation of C/C++/Fortran: ?data.table?
>   These will not be installed
> Warning message:
> In download.file(url, destfile = f, quiet = TRUE) :
>   InternetOpenUrl failed: ''
> 
> From RStudio mirror:
> ================
> Package which is only available in source form, and may need compilation
> of
>   C/C++/Fortran: ?data.table?
>   These will not be installed
> 
> Afterwards, I consulted google users, I downloaded the source package:
> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
> following command for installing from source only:
> 
> 
> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> type="source")
> 
> This generated following errors messages:
> 
> > install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> type="source") Installing package into ?C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5?
> (as ?lib? is unspecified)
> * installing *source* package 'data.table' ...
> ** package 'data.table' successfully unpacked and MD5 sums checked
> ** libs
> Warning in system(cmd) : 'make' not found
> ERROR: compilation failed for package 'data.table'
> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> library/3.5/data.table'
> * restoring previous 'C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5/data.table'
> In R CMD INSTALL
> Warning message:
> In install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>   installation of package
> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero
> exit status
> >
> 
> 
> I is requested to kindly help. I was writing a book using R-Markdown.
> And I am stuck up as described above.
> 
> Dr. A.K. Singh
> Professor and Head
> Department of Agricultural Statistics
> Indira Gandhi Krishi Vishwavidyalaya
> Raipur
> Chhattisgarh
> India
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From murdoch@dunc@n @ending from gm@il@com  Thu Apr 26 18:14:16 2018
From: murdoch@dunc@n @ending from gm@il@com (Duncan Murdoch)
Date: Thu, 26 Apr 2018 12:14:16 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>

On 26/04/2018 10:33 AM, Fox, John wrote:
> Dear A.K. Singh,
> 
> As you discovered, the data.table package has an error under R 3.5.0 that prevents CRAN from distributing a Windows binary for the package. The reason that you weren't able to install the package from source is apparently that you haven't installed the R package-building tools for Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> 
> Because a number of users of my Rcmdr and car packages have contacted me with a similar issue, as a temporary work-around I've placed a Windows binary for the data.table package on my website at <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>. You should be able to install the package from there via the command
> 
> 	install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
> 
> I expect that this problem will go away when the maintainer of the data.table package fixes the error.

You can see the errors in the package on this web page:

https://cloud.r-project.org/web/checks/check_results_data.table.html

Currently it is failing self-tests on all platforms except r-oldrel, 
which is the previous release of R.  I'd recommend backing out of R 
3.5.0 and going to R 3.4.4 if that's a possibility for you.

Yet another possibility is to use a version of data.table from Github, 
which is newer than the version on CRAN and may have fixed the errors, 
but that would require an installation from source, which not every 
Windows user is comfortable with.

Duncan Murdoch



From ccberry @ending from uc@d@edu  Thu Apr 26 18:42:36 2018
From: ccberry @ending from uc@d@edu (Berry, Charles)
Date: Thu, 26 Apr 2018 16:42:36 +0000
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
Message-ID: <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>



> On Apr 26, 2018, at 6:46 AM, Polychronis Kostoulas <polychronis.kostoulas at gmail.com> wrote:
> 
> Dear All,
> apologies if this is basic: I am writing a function:
> 
> fb<-function(mean, median, mode, a, b=0.95, lower=F)
> {....}
> 
> The arguments mean, median and mode are mutually exclusive (i.e. the user
> should define only one of these). How do I code this within the function?
> 

See

?missing

HTH,

Chuck


From ruipb@rr@d@@ @ending from @@po@pt  Thu Apr 26 18:45:05 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Thu, 26 Apr 2018 17:45:05 +0100
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
 <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>
Message-ID: <2dd90635-e261-7d39-c154-6816ee828508@sapo.pt>

Hello,

Inline.

On 4/26/2018 5:42 PM, Berry, Charles wrote:
> 
> 
>> On Apr 26, 2018, at 6:46 AM, Polychronis Kostoulas <polychronis.kostoulas at gmail.com> wrote:
>>
>> Dear All,
>> apologies if this is basic: I am writing a function:
>>
>> fb<-function(mean, median, mode, a, b=0.95, lower=F)
>> {....}
>>
>> The arguments mean, median and mode are mutually exclusive (i.e. the user
>> should define only one of these). How do I code this within the function?
>>
> 
> See
> 
> ?missing

See also the first example in help("switch")

Hope this helps,

Rui Barradas


> 
> HTH,
> 
> Chuck
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From jfox @ending from mcm@@ter@c@  Thu Apr 26 19:04:02 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Thu, 26 Apr 2018 17:04:02 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F2017@FHSDB2D11-2.csu.mcmaster.ca>

Dear Duncan,

I think that your advice to downgrade may make sense if A. K. Singh actually needs to use data.table. In the case of the car package, for example, which depends on data.table indirectly via the rio package, data.table never gets used. As well, the examples and vignettes in data.table appear to work under R 2.5.0, so it's possible that (much of) the functionality of the package is intact.

Best,
 John

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> Sent: Thursday, April 26, 2018 12:14 PM
> To: Fox, John <jfox at mcmaster.ca>; Akhilesh Singh
> <akhileshsingh.igkv at gmail.com>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not
> successfully being installed
> 
> On 26/04/2018 10:33 AM, Fox, John wrote:
> > Dear A.K. Singh,
> >
> > As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package.
> The reason that you weren't able to install the package from source is
> apparently that you haven't installed the R package-building tools for
> Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> >
> > Because a number of users of my Rcmdr and car packages have contacted
> > me with a similar issue, as a temporary work-around I've placed a
> > Windows binary for the data.table package on my website at
> > <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.z
> > ip>. You should be able to install the package from there via the
> > command
> >
> >
> > install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data
> > .table_1.10.4-3.zip", repos=NULL, type="win.binary")
> >
> > I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
> 
> You can see the errors in the package on this web page:
> 
> https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
> Currently it is failing self-tests on all platforms except r-oldrel,
> which is the previous release of R.  I'd recommend backing out of R
> 3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
> Yet another possibility is to use a version of data.table from Github,
> which is newer than the version on CRAN and may have fixed the errors,
> but that would require an installation from source, which not every
> Windows user is comfortable with.
> 
> Duncan Murdoch


From murdoch@dunc@n @ending from gm@il@com  Thu Apr 26 20:19:30 2018
From: murdoch@dunc@n @ending from gm@il@com (Duncan Murdoch)
Date: Thu, 26 Apr 2018 14:19:30 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
Message-ID: <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>

On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded 
> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of 
> old version. So, I would give a try each to the solutions suggested by 
> John Fox and Dengan Murdoch.

Here is some unsolicited advice:  I would strongly recommend that you 
make it a higher priority to have backups available.  In my experience 
computer hardware is becoming quite reliable, but software isn't, and 
the person next to the keyboard isn't either.  (My last desperate need 
for a backup was due to a hardware failure 2 years ago, but it wasn't 
the manufacturer's fault:  my laptop accidentally drowned.)

Backups can save you a lot of grief in the event of a mistake, or a 
software or hardware failure.  But even in the case of routine events 
like software updates that don't go as planned, they can save time.

Duncan Murdoch


> 
> With regards,
> 
> Dr. A.K. Singh
> 
> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com 
> <mailto:murdoch.duncan at gmail.com>> wrote:
> 
>     On 26/04/2018 10:33 AM, Fox, John wrote:
>      > Dear A.K. Singh,
>      >
>      > As you discovered, the data.table package has an error under R
>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>     package. The reason that you weren't able to install the package
>     from source is apparently that you haven't installed the R
>     package-building tools for Windows. See
>     <https://cran.r-project.org/bin/windows/Rtools/>.
>      >
>      > Because a number of users of my Rcmdr and car packages have
>     contacted me with a similar issue, as a temporary work-around I've
>     placed a Windows binary for the data.table package on my website at
>     <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>     You should be able to install the package from there via the command
>      >
>      >     
>      ?install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
>      >
>      > I expect that this problem will go away when the maintainer of
>     the data.table package fixes the error.
> 
>     You can see the errors in the package on this web page:
> 
>     https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
>     Currently it is failing self-tests on all platforms except r-oldrel,
>     which is the previous release of R.? I'd recommend backing out of R
>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
>     Yet another possibility is to use a version of data.table from Github,
>     which is newer than the version on CRAN and may have fixed the errors,
>     but that would require an installation from source, which not every
>     Windows user is comfortable with.
> 
>     Duncan Murdoch
> 
> 
> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com 
> <mailto:murdoch.duncan at gmail.com>> wrote:
> 
>     On 26/04/2018 10:33 AM, Fox, John wrote:
>      > Dear A.K. Singh,
>      >
>      > As you discovered, the data.table package has an error under R
>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>     package. The reason that you weren't able to install the package
>     from source is apparently that you haven't installed the R
>     package-building tools for Windows. See
>     <https://cran.r-project.org/bin/windows/Rtools/>.
>      >
>      > Because a number of users of my Rcmdr and car packages have
>     contacted me with a similar issue, as a temporary work-around I've
>     placed a Windows binary for the data.table package on my website at
>     <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>     You should be able to install the package from there via the command
>      >
>      >     
>      ?install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
>      >
>      > I expect that this problem will go away when the maintainer of
>     the data.table package fixes the error.
> 
>     You can see the errors in the package on this web page:
> 
>     https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
>     Currently it is failing self-tests on all platforms except r-oldrel,
>     which is the previous release of R.? I'd recommend backing out of R
>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
>     Yet another possibility is to use a version of data.table from Github,
>     which is newer than the version on CRAN and may have fixed the errors,
>     but that would require an installation from source, which not every
>     Windows user is comfortable with.
> 
> 
>     Duncan Murdoch
> 
>



From dwin@emiu@ @ending from comc@@t@net  Thu Apr 26 21:02:50 2018
From: dwin@emiu@ @ending from comc@@t@net (David Winsemius)
Date: Thu, 26 Apr 2018 12:02:50 -0700
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
References: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
Message-ID: <691C91F5-1578-4CE4-B7BD-EC82FB46CBDF@comcast.net>


> On Apr 26, 2018, at 5:07 AM, Akhilesh Singh <akhileshsingh.igkv at gmail.com> wrote:
> 
> Dear Sir,
> 
> I am using R on Windows OS platform. I upgraded my R-system to version
> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> stuck up in the package 'data.table', which is required by many other
> packages in R-codes in my R-Markdown files.
> 
> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> well as "RStudio" mirrors when the following errors are being shown:
> 
> From  USA-berkely and UK-bristol mirrors:
> =================================
> Package which is only available in source form, and may need
>  compilation of C/C++/Fortran: ?data.table?
>  These will not be installed
> Warning message:
> In download.file(url, destfile = f, quiet = TRUE) :
>  InternetOpenUrl failed: ''
> 
> From RStudio mirror:
> ================
> Package which is only available in source form, and may need compilation of
>  C/C++/Fortran: ?data.table?
>  These will not be installed
> 
> Afterwards, I consulted google users, I downloaded the source package:
> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
> following command for installing from source only:
> 
> 
> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
> 
> This generated following errors messages:
> 
>> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
> Installing package into ?C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5?
> (as ?lib? is unspecified)
> * installing *source* package 'data.table' ...
> ** package 'data.table' successfully unpacked and MD5 sums checked
> ** libs
> Warning in system(cmd) : 'make' not found

I'm guessing you don't have the proper Rtools installation for 3.5:

https://cran.r-project.org/bin/windows/Rtools/index.html

Rtools35.exe
https://cran.r-project.org/bin/windows/Rtools/Rtools35.exe


> ERROR: compilation failed for package 'data.table'
> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-library/3.5/data.table'
> * restoring previous 'C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5/data.table'
> In R CMD INSTALL
> Warning message:
> In install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>  installation of package
> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero exit
> status
>> 
> 
> 
> I is requested to kindly help. I was writing a book using R-Markdown. And I
> am stuck up as described above.
> 
> Dr. A.K. Singh
> Professor and Head
> Department of Agricultural Statistics
> Indira Gandhi Krishi Vishwavidyalaya
> Raipur
> Chhattisgarh
> India
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @khile@h@ingh@igkv @ending from gm@il@com  Thu Apr 26 19:54:12 2018
From: @khile@h@ingh@igkv @ending from gm@il@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 17:54:12 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
Message-ID: <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>

My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded all
my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of old
version. So, I would give a try each to the solutions suggested by John Fox
and Dengan Murdoch.

With regards,

Dr. A.K. Singh

On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
wrote:

> On 26/04/2018 10:33 AM, Fox, John wrote:
> > Dear A.K. Singh,
> >
> > As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is
> apparently that you haven't installed the R package-building tools for
> Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> >
> > Because a number of users of my Rcmdr and car packages have contacted me
> with a similar issue, as a temporary work-around I've placed a Windows
> binary for the data.table package on my website at <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> You should be able to install the package from there via the command
> >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >
> > I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
>
> You can see the errors in the package on this web page:
>
> https://cloud.r-project.org/web/checks/check_results_data.table.html
>
> Currently it is failing self-tests on all platforms except r-oldrel,
> which is the previous release of R.  I'd recommend backing out of R
> 3.5.0 and going to R 3.4.4 if that's a possibility for you.
>
> Yet another possibility is to use a version of data.table from Github,
> which is newer than the version on CRAN and may have fixed the errors,
> but that would require an installation from source, which not every
> Windows user is comfortable with.
>
> Duncan Murdoch
>
>
On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com> wrote:

On 26/04/2018 10:33 AM, Fox, John wrote:
> Dear A.K. Singh,
>
> As you discovered, the data.table package has an error under R 3.5.0 that
prevents CRAN from distributing a Windows binary for the package. The
reason that you weren't able to install the package from source is
apparently that you haven't installed the R package-building tools for
Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
>
> Because a number of users of my Rcmdr and car packages have contacted me
with a similar issue, as a temporary work-around I've placed a Windows
binary for the data.table package on my website at <
https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
You should be able to install the package from there via the command
>
>       install.packages("
https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
repos=NULL, type="win.binary")
>
> I expect that this problem will go away when the maintainer of the
data.table package fixes the error.

You can see the errors in the package on this web page:

https://cloud.r-project.org/web/checks/check_results_data.table.html

Currently it is failing self-tests on all platforms except r-oldrel,
which is the previous release of R.  I'd recommend backing out of R
3.5.0 and going to R 3.4.4 if that's a possibility for you.

Yet another possibility is to use a version of data.table from Github,
which is newer than the version on CRAN and may have fixed the errors,
but that would require an installation from source, which not every
Windows user is comfortable with.


Duncan Murdoch

	[[alternative HTML version deleted]]



From @khile@h@ingh@igkv @ending from gm@il@com  Thu Apr 26 20:41:35 2018
From: @khile@h@ingh@igkv @ending from gm@il@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 18:41:35 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
Message-ID: <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>

You are right. I do take backups. But, this time I was too sure that
nothing will go wrong. But, this was over-confidence. I need to take more
care in future. Thanks anyway.

With regards,

Dr. A.K. Singh

On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
wrote:

> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> > My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
> > all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
> > old version. So, I would give a try each to the solutions suggested by
> > John Fox and Dengan Murdoch.
>
> Here is some unsolicited advice:  I would strongly recommend that you
> make it a higher priority to have backups available.  In my experience
> computer hardware is becoming quite reliable, but software isn't, and
> the person next to the keyboard isn't either.  (My last desperate need
> for a backup was due to a hardware failure 2 years ago, but it wasn't
> the manufacturer's fault:  my laptop accidentally drowned.)
>
> Backups can save you a lot of grief in the event of a mistake, or a
> software or hardware failure.  But even in the case of routine events
> like software updates that don't go as planned, they can save time.
>
> Duncan Murdoch
>
>
> >
> > With regards,
> >
> > Dr. A.K. Singh
> >
> > On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
> > <mailto:murdoch.duncan at gmail.com>> wrote:
> >
> >     On 26/04/2018 10:33 AM, Fox, John wrote:
> >      > Dear A.K. Singh,
> >      >
> >      > As you discovered, the data.table package has an error under R
> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >     package. The reason that you weren't able to install the package
> >     from source is apparently that you haven't installed the R
> >     package-building tools for Windows. See
> >     <https://cran.r-project.org/bin/windows/Rtools/>.
> >      >
> >      > Because a number of users of my Rcmdr and car packages have
> >     contacted me with a similar issue, as a temporary work-around I've
> >     placed a Windows binary for the data.table package on my website at
> >     <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> >     You should be able to install the package from there via the command
> >      >
> >      >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >      >
> >      > I expect that this problem will go away when the maintainer of
> >     the data.table package fixes the error.
> >
> >     You can see the errors in the package on this web page:
> >
> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
> >
> >     Currently it is failing self-tests on all platforms except r-oldrel,
> >     which is the previous release of R.  I'd recommend backing out of R
> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >
> >     Yet another possibility is to use a version of data.table from
> Github,
> >     which is newer than the version on CRAN and may have fixed the
> errors,
> >     but that would require an installation from source, which not every
> >     Windows user is comfortable with.
> >
> >     Duncan Murdoch
> >
> >
> > On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
> > <mailto:murdoch.duncan at gmail.com>> wrote:
> >
> >     On 26/04/2018 10:33 AM, Fox, John wrote:
> >      > Dear A.K. Singh,
> >      >
> >      > As you discovered, the data.table package has an error under R
> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >     package. The reason that you weren't able to install the package
> >     from source is apparently that you haven't installed the R
> >     package-building tools for Windows. See
> >     <https://cran.r-project.org/bin/windows/Rtools/>.
> >      >
> >      > Because a number of users of my Rcmdr and car packages have
> >     contacted me with a similar issue, as a temporary work-around I've
> >     placed a Windows binary for the data.table package on my website at
> >     <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> >     You should be able to install the package from there via the command
> >      >
> >      >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >      >
> >      > I expect that this problem will go away when the maintainer of
> >     the data.table package fixes the error.
> >
> >     You can see the errors in the package on this web page:
> >
> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
> >
> >     Currently it is failing self-tests on all platforms except r-oldrel,
> >     which is the previous release of R.  I'd recommend backing out of R
> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >
> >     Yet another possibility is to use a version of data.table from
> Github,
> >     which is newer than the version on CRAN and may have fixed the
> errors,
> >     but that would require an installation from source, which not every
> >     Windows user is comfortable with.
> >
> >
> >     Duncan Murdoch
> >
> >
>
>

	[[alternative HTML version deleted]]



From @evergiveup@o20015 m@ili@g off gm@il@com  Thu Apr 26 17:43:24 2018
From: @evergiveup@o20015 m@ili@g off gm@il@com (@evergiveup@o20015 m@ili@g off gm@il@com)
Date: Thu, 26 Apr 2018 08:43:24 -0700 (MST)
Subject: [R] help with tdm matrix and knn
Message-ID: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>

hello sir
im working on text classification using java and r programming

i start with exporting a document term matrix (tdm) from my java programme using corpus

and now i try to apply knn algorithem using the matrix and r

but i cant do that 

any help sir

here my data 
here my script
https://mega.nz/#!Q6J2ibAA!4PadiOKbP7rLodyiRrVsdKl-D2ZP7LYm0gaz94uBmF8

itry to post put icant whay!!




_____________________________________
Sent from http://r.789695.n4.nabble.com



From henrik@bengt@@on @ending from gm@il@com  Thu Apr 26 23:01:03 2018
From: henrik@bengt@@on @ending from gm@il@com (Henrik Bengtsson)
Date: Thu, 26 Apr 2018 14:01:03 -0700
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
Message-ID: <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>

If you're installing packages to the default location in your home
account and you didn't remove those library folders, you still have
you R 3.4 package installs there, e.g.

> dir(dirname(.libPaths()[1]), full.names = TRUE)
[1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
[2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
[3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"

/Henrik

On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
<akhileshsingh.igkv at gmail.com> wrote:
> You are right. I do take backups. But, this time I was too sure that
> nothing will go wrong. But, this was over-confidence. I need to take more
> care in future. Thanks anyway.
>
> With regards,
>
> Dr. A.K. Singh
>
> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
> wrote:
>
>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>> > My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>> > all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>> > old version. So, I would give a try each to the solutions suggested by
>> > John Fox and Dengan Murdoch.
>>
>> Here is some unsolicited advice:  I would strongly recommend that you
>> make it a higher priority to have backups available.  In my experience
>> computer hardware is becoming quite reliable, but software isn't, and
>> the person next to the keyboard isn't either.  (My last desperate need
>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>> the manufacturer's fault:  my laptop accidentally drowned.)
>>
>> Backups can save you a lot of grief in the event of a mistake, or a
>> software or hardware failure.  But even in the case of routine events
>> like software updates that don't go as planned, they can save time.
>>
>> Duncan Murdoch
>>
>>
>> >
>> > With regards,
>> >
>> > Dr. A.K. Singh
>> >
>> > On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>> > <mailto:murdoch.duncan at gmail.com>> wrote:
>> >
>> >     On 26/04/2018 10:33 AM, Fox, John wrote:
>> >      > Dear A.K. Singh,
>> >      >
>> >      > As you discovered, the data.table package has an error under R
>> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
>> >     package. The reason that you weren't able to install the package
>> >     from source is apparently that you haven't installed the R
>> >     package-building tools for Windows. See
>> >     <https://cran.r-project.org/bin/windows/Rtools/>.
>> >      >
>> >      > Because a number of users of my Rcmdr and car packages have
>> >     contacted me with a similar issue, as a temporary work-around I've
>> >     placed a Windows binary for the data.table package on my website at
>> >     <
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>> >     You should be able to install the package from there via the command
>> >      >
>> >      >
>> >       install.packages("
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>> repos=NULL, type="win.binary")
>> >      >
>> >      > I expect that this problem will go away when the maintainer of
>> >     the data.table package fixes the error.
>> >
>> >     You can see the errors in the package on this web page:
>> >
>> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
>> >
>> >     Currently it is failing self-tests on all platforms except r-oldrel,
>> >     which is the previous release of R.  I'd recommend backing out of R
>> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>> >
>> >     Yet another possibility is to use a version of data.table from
>> Github,
>> >     which is newer than the version on CRAN and may have fixed the
>> errors,
>> >     but that would require an installation from source, which not every
>> >     Windows user is comfortable with.
>> >
>> >     Duncan Murdoch
>> >
>> >
>> > On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>> > <mailto:murdoch.duncan at gmail.com>> wrote:
>> >
>> >     On 26/04/2018 10:33 AM, Fox, John wrote:
>> >      > Dear A.K. Singh,
>> >      >
>> >      > As you discovered, the data.table package has an error under R
>> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
>> >     package. The reason that you weren't able to install the package
>> >     from source is apparently that you haven't installed the R
>> >     package-building tools for Windows. See
>> >     <https://cran.r-project.org/bin/windows/Rtools/>.
>> >      >
>> >      > Because a number of users of my Rcmdr and car packages have
>> >     contacted me with a similar issue, as a temporary work-around I've
>> >     placed a Windows binary for the data.table package on my website at
>> >     <
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>> >     You should be able to install the package from there via the command
>> >      >
>> >      >
>> >       install.packages("
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>> repos=NULL, type="win.binary")
>> >      >
>> >      > I expect that this problem will go away when the maintainer of
>> >     the data.table package fixes the error.
>> >
>> >     You can see the errors in the package on this web page:
>> >
>> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
>> >
>> >     Currently it is failing self-tests on all platforms except r-oldrel,
>> >     which is the previous release of R.  I'd recommend backing out of R
>> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>> >
>> >     Yet another possibility is to use a version of data.table from
>> Github,
>> >     which is newer than the version on CRAN and may have fixed the
>> errors,
>> >     but that would require an installation from source, which not every
>> >     Windows user is comfortable with.
>> >
>> >
>> >     Duncan Murdoch
>> >
>> >
>>
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From toth@dene@ @ending from kogentum@hu  Thu Apr 26 23:32:45 2018
From: toth@dene@ @ending from kogentum@hu (=?UTF-8?B?RMOpbmVzIFTDs3Ro?=)
Date: Thu, 26 Apr 2018 23:32:45 +0200
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
Message-ID: <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>

You might find this discussion useful, too:
https://github.com/Rdatatable/data.table/issues/2797


On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
> If you're installing packages to the default location in your home
> account and you didn't remove those library folders, you still have
> you R 3.4 package installs there, e.g.
> 
>> dir(dirname(.libPaths()[1]), full.names = TRUE)
> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
> 
> /Henrik
> 
> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
> <akhileshsingh.igkv at gmail.com> wrote:
>> You are right. I do take backups. But, this time I was too sure that
>> nothing will go wrong. But, this was over-confidence. I need to take more
>> care in future. Thanks anyway.
>>
>> With regards,
>>
>> Dr. A.K. Singh
>>
>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
>> wrote:
>>
>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>>>> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>>>> old version. So, I would give a try each to the solutions suggested by
>>>> John Fox and Dengan Murdoch.
>>>
>>> Here is some unsolicited advice:  I would strongly recommend that you
>>> make it a higher priority to have backups available.  In my experience
>>> computer hardware is becoming quite reliable, but software isn't, and
>>> the person next to the keyboard isn't either.  (My last desperate need
>>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>>> the manufacturer's fault:  my laptop accidentally drowned.)
>>>
>>> Backups can save you a lot of grief in the event of a mistake, or a
>>> software or hardware failure.  But even in the case of routine events
>>> like software updates that don't go as planned, they can save time.
>>>
>>> Duncan Murdoch
>>>
>>>
>>>>
>>>> With regards,
>>>>
>>>> Dr. A.K. Singh
>>>>
>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>
>>>>      On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>       > Dear A.K. Singh,
>>>>       >
>>>>       > As you discovered, the data.table package has an error under R
>>>>      3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>      package. The reason that you weren't able to install the package
>>>>      from source is apparently that you haven't installed the R
>>>>      package-building tools for Windows. See
>>>>      <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>       >
>>>>       > Because a number of users of my Rcmdr and car packages have
>>>>      contacted me with a similar issue, as a temporary work-around I've
>>>>      placed a Windows binary for the data.table package on my website at
>>>>      <
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>      You should be able to install the package from there via the command
>>>>       >
>>>>       >
>>>>        install.packages("
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>> repos=NULL, type="win.binary")
>>>>       >
>>>>       > I expect that this problem will go away when the maintainer of
>>>>      the data.table package fixes the error.
>>>>
>>>>      You can see the errors in the package on this web page:
>>>>
>>>>      https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>
>>>>      Currently it is failing self-tests on all platforms except r-oldrel,
>>>>      which is the previous release of R.  I'd recommend backing out of R
>>>>      3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>
>>>>      Yet another possibility is to use a version of data.table from
>>> Github,
>>>>      which is newer than the version on CRAN and may have fixed the
>>> errors,
>>>>      but that would require an installation from source, which not every
>>>>      Windows user is comfortable with.
>>>>
>>>>      Duncan Murdoch
>>>>
>>>>
>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>
>>>>      On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>       > Dear A.K. Singh,
>>>>       >
>>>>       > As you discovered, the data.table package has an error under R
>>>>      3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>      package. The reason that you weren't able to install the package
>>>>      from source is apparently that you haven't installed the R
>>>>      package-building tools for Windows. See
>>>>      <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>       >
>>>>       > Because a number of users of my Rcmdr and car packages have
>>>>      contacted me with a similar issue, as a temporary work-around I've
>>>>      placed a Windows binary for the data.table package on my website at
>>>>      <
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>      You should be able to install the package from there via the command
>>>>       >
>>>>       >
>>>>        install.packages("
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>> repos=NULL, type="win.binary")
>>>>       >
>>>>       > I expect that this problem will go away when the maintainer of
>>>>      the data.table package fixes the error.
>>>>
>>>>      You can see the errors in the package on this web page:
>>>>
>>>>      https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>
>>>>      Currently it is failing self-tests on all platforms except r-oldrel,
>>>>      which is the previous release of R.  I'd recommend backing out of R
>>>>      3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>
>>>>      Yet another possibility is to use a version of data.table from
>>> Github,
>>>>      which is newer than the version on CRAN and may have fixed the
>>> errors,
>>>>      but that would require an installation from source, which not every
>>>>      Windows user is comfortable with.
>>>>
>>>>
>>>>      Duncan Murdoch
>>>>
>>>>
>>>
>>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From hello @ending from eivinddovik@com  Thu Apr 26 23:33:22 2018
From: hello @ending from eivinddovik@com (=?ISO-8859-15?Q?Eivind_K=2E_D=F8vik?=)
Date: Thu, 26 Apr 2018 23:33:22 +0200 (CEST)
Subject: [R] help with tdm matrix and knn
In-Reply-To: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>
References: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>
Message-ID: <alpine.DEB.2.20.1804262333130.6262@debian>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello,

I downloaded your .rar-file and looked through your R-code. You should 
revise your script. Specifically, start by looking at what data set you 
are referring to when training your knn-model: you never create the object 
"modeldata".

Best of luck.

Eivind K. Dovik
Bergen, NO

Public key 5D9BA1B4
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEE6y4swLA4T88WeBLTnPuPlYAtwfoFAlriRYkACgkQnPuPlYAt
wfpd4g//R+p5rJP6rO8yMfSzKyWCs6yd4T2CtaSknrwlSIhjRRYvrx3QbL/wZXG0
FRvb5ImKMXu2OJAI5s+dFsmiVqlJIVNAsNdDoPQbwBpTB7KIrd6/wlb5mXTVMdVA
nmpLMTcCz6sIo+R+xUEW+SiDktYlAOL8cS3ZEoLfP2eaFTGpr2lA9Dzra1UwsKEI
jV3fJUYj6HP6474z94G3qDxmhQTpDy3TFNgupoWZJrbtT0sro1q9TiiFIr3tsuH0
UL5rsyv8fJq8rL2ArVlDEX1zMHo0cjqC3rk0yWb8Agi8k5kvkxNF2bQxjWUeuI6w
+JS4FM6mo9g+aeTfRDoAYeYdT9ZOQMHKaZmv3yAXSTb89e9FHsantIwHl3SdvDDQ
GeMy2QuErduItv3KdzBvRmctWFSNqAhZfVcPHfkMqhlgd3lk9WcKHtIgS93R/Amv
Z4GAA6omRX/bEr3jB5cBK+vuNfYxhX3iwWrGniCMDBbSYLWuR6O62TvGvntsehnm
Y0Lt5VaeoJyoUCIAPKjC1X3mo4/FHNxoc6qJezQP1ChiSUrUJlJ7NnDypu7vO0jV
IiX0uQgWxLizX9hBMRMLtU3UaSt6VhJzEiP8ciFk1xihi7FgjDYOJFpOY2j79rKS
M5bx67eCp4JZMrY4uZMiDPFd5X9Lx3I6t6iLK1Z1kmeWRgs+nIw=
=r2Ve
-----END PGP SIGNATURE-----


On Thu, 26 Apr 2018, nevergiveupno20015 at gmail.com wrote:

> hello sir
> im working on text classification using java and r programming
>
> i start with exporting a document term matrix (tdm) from my java programme using corpus
>
> and now i try to apply knn algorithem using the matrix and r
>
> but i cant do that
>
> any help sir
>
> here my data
> here my script
> https://mega.nz/#!Q6J2ibAA!4PadiOKbP7rLodyiRrVsdKl-D2ZP7LYm0gaz94uBmF8
>
> itry to post put icant whay!!
>
>
>
>
> _____________________________________
> Sent from http://r.789695.n4.nabble.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From p@ul @ending from @t@t@@uckl@nd@@c@nz  Fri Apr 27 03:27:35 2018
From: p@ul @ending from @t@t@@uckl@nd@@c@nz (Paul Murrell)
Date: Fri, 27 Apr 2018 13:27:35 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
Message-ID: <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>

Hi

Does this not do what you want ... ?

allpages <- dotplot(variety ~ yield | year * site, data=barley,
                     layout=c(2,2))
page2 <- allpages[1:2, 3:4]
print(page2)

Paul

On 24/04/18 17:51, Rolf Turner wrote:
> 
> On 24/04/18 15:17, Paul Murrell wrote:
> 
>> Hi
>>
>> I think the subsetting works by giving you the panels for the 
>> corresponding levels of the conditioning variable(s).? Note that, if 
>> there is more than one conditioning variable, you will need more than 
>> one subsetting index.
>>
>> For example, taking this plot with two conditioning variables and 12 
>> panels in total ...
>>
>> dotplot(variety ~ yield | year * site, data=barley)
>>
>> ... this produces three pages ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>> ???????? layout=c(2,2))
>>
>> ... and this produces the second page (both panels for the first 
>> conditioning variable and the third and fourth panels for the second 
>> conditioning variable) ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>> ???????? layout=c(2,2))[1:2, 3:4]
>>
>> Hope that helps.
> 
> Hmm.? Thanks Paul.? I may be able to work with that.? But what I really 
> wanted was to take
> 
>  ??? bar <- dotplot(variety ~ yield | year * site, data=barley)
> 
> and then do (something like)
> 
>  ??? foo <- bar[<something>]
> 
> so that foo contains only the second page of bar, and then do print(foo)
> to get a plot of (just) the second page.? Without re-issuing a 
> (modified) plot command.
> 
> Is that not at all possible?
> 
> cheers,
> 
> Rolf.
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/



From pd@lgd @ending from gm@il@com  Fri Apr 27 14:46:33 2018
From: pd@lgd @ending from gm@il@com (peter dalgaard)
Date: Fri, 27 Apr 2018 14:46:33 +0200
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
 <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
Message-ID: <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>

Hmm, looks like that thread has more noise than signal...

AFAICT, data.table currently fails selftests i 3.5.0 on all platforms on the CRAN builders, so RTools issues are only incidental and it would be better to fix data.table in the sources. 

From the looks of it, I wouldn't be surprised if the root cause is the changes to POSIXlt methods in 3.5.0, but I haven't actually been digging in to check that.

- Peter D.

> On 26 Apr 2018, at 23:32 , D?nes T?th <toth.denes at kogentum.hu> wrote:
> 
> You might find this discussion useful, too:
> https://github.com/Rdatatable/data.table/issues/2797
> 
> 
> On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
>> If you're installing packages to the default location in your home
>> account and you didn't remove those library folders, you still have
>> you R 3.4 package installs there, e.g.
>>> dir(dirname(.libPaths()[1]), full.names = TRUE)
>> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
>> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
>> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
>> /Henrik
>> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
>> <akhileshsingh.igkv at gmail.com> wrote:
>>> You are right. I do take backups. But, this time I was too sure that
>>> nothing will go wrong. But, this was over-confidence. I need to take more
>>> care in future. Thanks anyway.
>>> 
>>> With regards,
>>> 
>>> Dr. A.K. Singh
>>> 
>>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
>>> wrote:
>>> 
>>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>>>>> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>>>>> old version. So, I would give a try each to the solutions suggested by
>>>>> John Fox and Dengan Murdoch.
>>>> 
>>>> Here is some unsolicited advice:  I would strongly recommend that you
>>>> make it a higher priority to have backups available.  In my experience
>>>> computer hardware is becoming quite reliable, but software isn't, and
>>>> the person next to the keyboard isn't either.  (My last desperate need
>>>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>>>> the manufacturer's fault:  my laptop accidentally drowned.)
>>>> 
>>>> Backups can save you a lot of grief in the event of a mistake, or a
>>>> software or hardware failure.  But even in the case of routine events
>>>> like software updates that don't go as planned, they can save time.
>>>> 
>>>> Duncan Murdoch
>>>> 
>>>> 
>>>>> 
>>>>> With regards,
>>>>> 
>>>>> Dr. A.K. Singh
>>>>> 
>>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>> 
>>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>>      > Dear A.K. Singh,
>>>>>      >
>>>>>      > As you discovered, the data.table package has an error under R
>>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>>     package. The reason that you weren't able to install the package
>>>>>     from source is apparently that you haven't installed the R
>>>>>     package-building tools for Windows. See
>>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>>      >
>>>>>      > Because a number of users of my Rcmdr and car packages have
>>>>>     contacted me with a similar issue, as a temporary work-around I've
>>>>>     placed a Windows binary for the data.table package on my website at
>>>>>     <
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>>     You should be able to install the package from there via the command
>>>>>      >
>>>>>      >
>>>>>       install.packages("
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>>> repos=NULL, type="win.binary")
>>>>>      >
>>>>>      > I expect that this problem will go away when the maintainer of
>>>>>     the data.table package fixes the error.
>>>>> 
>>>>>     You can see the errors in the package on this web page:
>>>>> 
>>>>>     https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>> 
>>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
>>>>>     which is the previous release of R.  I'd recommend backing out of R
>>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>> 
>>>>>     Yet another possibility is to use a version of data.table from
>>>> Github,
>>>>>     which is newer than the version on CRAN and may have fixed the
>>>> errors,
>>>>>     but that would require an installation from source, which not every
>>>>>     Windows user is comfortable with.
>>>>> 
>>>>>     Duncan Murdoch
>>>>> 
>>>>> 
>>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>> 
>>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>>      > Dear A.K. Singh,
>>>>>      >
>>>>>      > As you discovered, the data.table package has an error under R
>>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>>     package. The reason that you weren't able to install the package
>>>>>     from source is apparently that you haven't installed the R
>>>>>     package-building tools for Windows. See
>>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>>      >
>>>>>      > Because a number of users of my Rcmdr and car packages have
>>>>>     contacted me with a similar issue, as a temporary work-around I've
>>>>>     placed a Windows binary for the data.table package on my website at
>>>>>     <
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>>     You should be able to install the package from there via the command
>>>>>      >
>>>>>      >
>>>>>       install.packages("
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>>> repos=NULL, type="win.binary")
>>>>>      >
>>>>>      > I expect that this problem will go away when the maintainer of
>>>>>     the data.table package fixes the error.
>>>>> 
>>>>>     You can see the errors in the package on this web page:
>>>>> 
>>>>>     https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>> 
>>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
>>>>>     which is the previous release of R.  I'd recommend backing out of R
>>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>> 
>>>>>     Yet another possibility is to use a version of data.table from
>>>> Github,
>>>>>     which is newer than the version on CRAN and may have fixed the
>>>> errors,
>>>>>     but that would require an installation from source, which not every
>>>>>     Windows user is comfortable with.
>>>>> 
>>>>> 
>>>>>     Duncan Murdoch
>>>>> 
>>>>> 
>>>> 
>>>> 
>>> 
>>>         [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From jfox @ending from mcm@@ter@c@  Fri Apr 27 15:18:48 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Fri, 27 Apr 2018 13:18:48 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
 <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
 <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F3642@FHSDB2D11-2.csu.mcmaster.ca>

Dear Peter,

> -----Original Message-----
> From: peter dalgaard [mailto:pdalgd at gmail.com]
> Sent: Friday, April 27, 2018 8:47 AM
> To: D?nes T?th <toth.denes at kogentum.hu>
> Cc: Akhilesh Singh <akhileshsingh.igkv at gmail.com>; r-help mailing list <r-
> help at r-project.org>; Fox, John <jfox at mcmaster.ca>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
> 
> Hmm, looks like that thread has more noise than signal...
> 
> AFAICT, data.table currently fails selftests i 3.5.0 on all platforms on the CRAN
> builders, so RTools issues are only incidental and it would be better to fix
> data.table in the sources.

Yes. Using Rtools to install the package from source or installing the binary I provided is just a band-aid that allows packages with dependencies on data.table (direct or indirect) to load.

Best,
 John

> 
> From the looks of it, I wouldn't be surprised if the root cause is the changes to
> POSIXlt methods in 3.5.0, but I haven't actually been digging in to check that.
> 
> - Peter D.
> 
> > On 26 Apr 2018, at 23:32 , D?nes T?th <toth.denes at kogentum.hu> wrote:
> >
> > You might find this discussion useful, too:
> > https://github.com/Rdatatable/data.table/issues/2797
> >
> >
> > On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
> >> If you're installing packages to the default location in your home
> >> account and you didn't remove those library folders, you still have
> >> you R 3.4 package installs there, e.g.
> >>> dir(dirname(.libPaths()[1]), full.names = TRUE)
> >> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
> >> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
> >> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
> >> /Henrik
> >> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
> >> <akhileshsingh.igkv at gmail.com> wrote:
> >>> You are right. I do take backups. But, this time I was too sure that
> >>> nothing will go wrong. But, this was over-confidence. I need to take
> >>> more care in future. Thanks anyway.
> >>>
> >>> With regards,
> >>>
> >>> Dr. A.K. Singh
> >>>
> >>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch,
> >>> <murdoch.duncan at gmail.com>
> >>> wrote:
> >>>
> >>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> >>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have
> >>>>> upgraded all my R-3.4.3 libraries to R-3.5.0, and I have not
> >>>>> backed-up copies of old version. So, I would give a try each to
> >>>>> the solutions suggested by John Fox and Dengan Murdoch.
> >>>>
> >>>> Here is some unsolicited advice:  I would strongly recommend that
> >>>> you make it a higher priority to have backups available.  In my
> >>>> experience computer hardware is becoming quite reliable, but
> >>>> software isn't, and the person next to the keyboard isn't either.
> >>>> (My last desperate need for a backup was due to a hardware failure
> >>>> 2 years ago, but it wasn't the manufacturer's fault:  my laptop
> >>>> accidentally drowned.)
> >>>>
> >>>> Backups can save you a lot of grief in the event of a mistake, or a
> >>>> software or hardware failure.  But even in the case of routine
> >>>> events like software updates that don't go as planned, they can save
> time.
> >>>>
> >>>> Duncan Murdoch
> >>>>
> >>>>
> >>>>>
> >>>>> With regards,
> >>>>>
> >>>>> Dr. A.K. Singh
> >>>>>
> >>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch,
> >>>>> <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>>
> wrote:
> >>>>>
> >>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
> >>>>>      > Dear A.K. Singh,
> >>>>>      >
> >>>>>      > As you discovered, the data.table package has an error under R
> >>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >>>>>     package. The reason that you weren't able to install the package
> >>>>>     from source is apparently that you haven't installed the R
> >>>>>     package-building tools for Windows. See
> >>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
> >>>>>      >
> >>>>>      > Because a number of users of my Rcmdr and car packages have
> >>>>>     contacted me with a similar issue, as a temporary work-around I've
> >>>>>     placed a Windows binary for the data.table package on my website
> at
> >>>>>     <
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-
> 3.zip>.
> >>>>>     You should be able to install the package from there via the
> command
> >>>>>      >
> >>>>>      >
> >>>>>       install.packages("
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3
> >>>> .zip",
> >>>> repos=NULL, type="win.binary")
> >>>>>      >
> >>>>>      > I expect that this problem will go away when the maintainer of
> >>>>>     the data.table package fixes the error.
> >>>>>
> >>>>>     You can see the errors in the package on this web page:
> >>>>>
> >>>>>
> >>>>> https://cloud.r-project.org/web/checks/check_results_data.table.ht
> >>>>> ml
> >>>>>
> >>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
> >>>>>     which is the previous release of R.  I'd recommend backing out of R
> >>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >>>>>
> >>>>>     Yet another possibility is to use a version of data.table from
> >>>> Github,
> >>>>>     which is newer than the version on CRAN and may have fixed the
> >>>> errors,
> >>>>>     but that would require an installation from source, which not every
> >>>>>     Windows user is comfortable with.
> >>>>>
> >>>>>     Duncan Murdoch
> >>>>>
> >>>>>
> >>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch"
> <murdoch.duncan at gmail.com
> >>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
> >>>>>
> >>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
> >>>>>      > Dear A.K. Singh,
> >>>>>      >
> >>>>>      > As you discovered, the data.table package has an error under R
> >>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >>>>>     package. The reason that you weren't able to install the package
> >>>>>     from source is apparently that you haven't installed the R
> >>>>>     package-building tools for Windows. See
> >>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
> >>>>>      >
> >>>>>      > Because a number of users of my Rcmdr and car packages have
> >>>>>     contacted me with a similar issue, as a temporary work-around I've
> >>>>>     placed a Windows binary for the data.table package on my website
> at
> >>>>>     <
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-
> 3.zip>.
> >>>>>     You should be able to install the package from there via the
> command
> >>>>>      >
> >>>>>      >
> >>>>>       install.packages("
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3
> >>>> .zip",
> >>>> repos=NULL, type="win.binary")
> >>>>>      >
> >>>>>      > I expect that this problem will go away when the maintainer of
> >>>>>     the data.table package fixes the error.
> >>>>>
> >>>>>     You can see the errors in the package on this web page:
> >>>>>
> >>>>>
> >>>>> https://cloud.r-project.org/web/checks/check_results_data.table.ht
> >>>>> ml
> >>>>>
> >>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
> >>>>>     which is the previous release of R.  I'd recommend backing out of R
> >>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >>>>>
> >>>>>     Yet another possibility is to use a version of data.table from
> >>>> Github,
> >>>>>     which is newer than the version on CRAN and may have fixed the
> >>>> errors,
> >>>>>     but that would require an installation from source, which not every
> >>>>>     Windows user is comfortable with.
> >>>>>
> >>>>>
> >>>>>     Duncan Murdoch
> >>>>>
> >>>>>
> >>>>
> >>>>
> >>>
> >>>         [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School Solbjerg Plads 3, 2000
> Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From jfox @ending from mcm@@ter@c@  Fri Apr 27 15:21:28 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Fri, 27 Apr 2018 13:21:28 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>

Dear Akhilesh,

I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.

Best,
 John

> -----Original Message-----
> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
> Sent: Friday, April 27, 2018 4:10 AM
> To: Fox, John <jfox at mcmaster.ca>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
> 
> Dear Dr. John Fox,
> 
> The solution provided by you has worked. I downloaded the binary file of
> data.table package made available your website
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
> installed it in R and RStudio. And I happy to report that it has successfully
> worked. Many thanks to you, and to other members of R-team who have tried
> help me.
> 
> 
> With regards,
> 
> 
> Dr. A.K. Singh
> 
> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
> <mailto:jfox at mcmaster.ca> > wrote:
> 
> 
> 	Dear A.K. Singh,
> 
> 	As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is apparently
> that you haven't installed the R package-building tools for Windows. See
> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
> project.org/bin/windows/Rtools/> >.
> 
> 	Because a number of users of my Rcmdr and car packages have
> contacted me with a similar issue, as a temporary work-around I've placed a
> Windows binary for the data.table package on my website at
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
> You should be able to install the package from there via the command
> 
> 
> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
> 1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
> repos=NULL, type="win.binary")
> 
> 	I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
> 
> 	I hope this helps,
> 	 John
> 
> 	--------------------------------------
> 	John Fox, Professor Emeritus
> 	McMaster University
> 	Hamilton, Ontario, Canada
> 	Web: socialsciences.mcmaster.ca/jfox/
> <http://socialsciences.mcmaster.ca/jfox/>
> 
> 
> 
> 
> 	> -----Original Message-----
> 	> From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
> bounces at r-project.org> ] On Behalf Of Akhilesh
> 	> Singh
> 	> Sent: Thursday, April 26, 2018 8:08 AM
> 	> To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
> project.org> >
> 	> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> 	> being installed
> 	>
> 	> Dear Sir,
> 	>
> 	> I am using R on Windows OS platform. I upgraded my R-system to
> version
> 	> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> 	> stuck up in the package 'data.table', which is required by many
> other
> 	> packages in R-codes in my R-Markdown files.
> 	>
> 	> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> 	> well as "RStudio" mirrors when the following errors are being
> shown:
> 	>
> 	> From  USA-berkely and UK-bristol mirrors:
> 	> =================================
> 	> Package which is only available in source form, and may need
> 	>   compilation of C/C++/Fortran: ?data.table?
> 	>   These will not be installed
> 	> Warning message:
> 	> In download.file(url, destfile = f, quiet = TRUE) :
> 	>   InternetOpenUrl failed: ''
> 	>
> 	> From RStudio mirror:
> 	> ================
> 	> Package which is only available in source form, and may need
> compilation
> 	> of
> 	>   C/C++/Fortran: ?data.table?
> 	>   These will not be installed
> 	>
> 	> Afterwards, I consulted google users, I downloaded the source
> package:
> 	> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
> tried
> 	> following command for installing from source only:
> 	>
> 	>
> 	> install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> 	> type="source")
> 	>
> 	> This generated following errors messages:
> 	>
> 	> > install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> 	> type="source") Installing package into ?C:/Users/Dr. A.K.
> 	> Singh/Documents/R/win-library/3.5?
> 	> (as ?lib? is unspecified)
> 	> * installing *source* package 'data.table' ...
> 	> ** package 'data.table' successfully unpacked and MD5 sums
> checked
> 	> ** libs
> 	> Warning in system(cmd) : 'make' not found
> 	> ERROR: compilation failed for package 'data.table'
> 	> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> 	> library/3.5/data.table'
> 	> * restoring previous 'C:/Users/Dr. A.K.
> 	> Singh/Documents/R/win-library/3.5/data.table'
> 	> In R CMD INSTALL
> 	> Warning message:
> 	> In install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
> 	>   installation of package
> 	> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
> zero
> 	> exit status
> 	> >
> 	>
> 	>
> 	> I is requested to kindly help. I was writing a book using R-
> Markdown.
> 	> And I am stuck up as described above.
> 	>
> 	> Dr. A.K. Singh
> 	> Professor and Head
> 	> Department of Agricultural Statistics
> 	> Indira Gandhi Krishi Vishwavidyalaya
> 	> Raipur
> 	> Chhattisgarh
> 	> India
> 	>
> 
> 	>       [[alternative HTML version deleted]]
> 	>
> 	> ______________________________________________
> 	> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
> To UNSUBSCRIBE and more, see
> 	> https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> 	> PLEASE do read the posting guide http://www.R-
> project.org/posting- <http://www.R-project.org/posting->
> 	> guide.html
> 	> and provide commented, minimal, self-contained, reproducible
> code.
> 
> 


From roger@bo@ @ending from roth@child@com  Fri Apr 27 15:27:12 2018
From: roger@bo@ @ending from roth@child@com (Bos, Roger)
Date: Fri, 27 Apr 2018 13:27:12 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>

Akhilesh,

I don't know if I am adding signal or noise here, but I installed R 3.5.0 yesterday and installed data.table just fine, but I have Rtools installed.  "Building packages from source" may sound intimidating, but Rtools is really easy to install and once installed, it does all the work for you.

Thanks,

Roger


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fox, John
Sent: Friday, April 27, 2018 9:21 AM
To: Akhilesh Singh
Cc: r-help mailing list
Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being installed

Dear Akhilesh,

I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.

Best,
 John

> -----Original Message-----
> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
> Sent: Friday, April 27, 2018 4:10 AM
> To: Fox, John <jfox at mcmaster.ca>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
>
> Dear Dr. John Fox,
>
> The solution provided by you has worked. I downloaded the binary file of
> data.table package made available your website
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
> installed it in R and RStudio. And I happy to report that it has successfully
> worked. Many thanks to you, and to other members of R-team who have tried
> help me.
>
>
> With regards,
>
>
> Dr. A.K. Singh
>
> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
> <mailto:jfox at mcmaster.ca> > wrote:
>
>
> Dear A.K. Singh,
>
> As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is apparently
> that you haven't installed the R package-building tools for Windows. See
> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
> project.org/bin/windows/Rtools/> >.
>
> Because a number of users of my Rcmdr and car packages have
> contacted me with a similar issue, as a temporary work-around I've placed a
> Windows binary for the data.table package on my website at
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
> You should be able to install the package from there via the command
>
>
> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
> 1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
> repos=NULL, type="win.binary")
>
> I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
>
> I hope this helps,
>  John
>
> --------------------------------------
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> Web: socialsciences.mcmaster.ca/jfox/
> <http://socialsciences.mcmaster.ca/jfox/>
>
>
>
>
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
> bounces at r-project.org> ] On Behalf Of Akhilesh
> > Singh
> > Sent: Thursday, April 26, 2018 8:08 AM
> > To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
> project.org> >
> > Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> > being installed
> >
> > Dear Sir,
> >
> > I am using R on Windows OS platform. I upgraded my R-system to
> version
> > R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> > stuck up in the package 'data.table', which is required by many
> other
> > packages in R-codes in my R-Markdown files.
> >
> > I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> > well as "RStudio" mirrors when the following errors are being
> shown:
> >
> > From  USA-berkely and UK-bristol mirrors:
> > =================================
> > Package which is only available in source form, and may need
> >   compilation of C/C++/Fortran: ?data.table?
> >   These will not be installed
> > Warning message:
> > In download.file(url, destfile = f, quiet = TRUE) :
> >   InternetOpenUrl failed: ''
> >
> > From RStudio mirror:
> > ================
> > Package which is only available in source form, and may need
> compilation
> > of
> >   C/C++/Fortran: ?data.table?
> >   These will not be installed
> >
> > Afterwards, I consulted google users, I downloaded the source
> package:
> > "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
> tried
> > following command for installing from source only:
> >
> >
> > install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> > type="source")
> >
> > This generated following errors messages:
> >
> > > install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> > type="source") Installing package into ?C:/Users/Dr. A.K.
> > Singh/Documents/R/win-library/3.5?
> > (as ?lib? is unspecified)
> > * installing *source* package 'data.table' ...
> > ** package 'data.table' successfully unpacked and MD5 sums
> checked
> > ** libs
> > Warning in system(cmd) : 'make' not found
> > ERROR: compilation failed for package 'data.table'
> > * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> > library/3.5/data.table'
> > * restoring previous 'C:/Users/Dr. A.K.
> > Singh/Documents/R/win-library/3.5/data.table'
> > In R CMD INSTALL
> > Warning message:
> > In install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
> >   installation of package
> > ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
> zero
> > exit status
> > >
> >
> >
> > I is requested to kindly help. I was writing a book using R-
> Markdown.
> > And I am stuck up as described above.
> >
> > Dr. A.K. Singh
> > Professor and Head
> > Department of Agricultural Statistics
> > Indira Gandhi Krishi Vishwavidyalaya
> > Raipur
> > Chhattisgarh
> > India
> >
>
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
> To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> > PLEASE do read the posting guide http://www.R-
> project.org/posting- <http://www.R-project.org/posting->
> > guide.html
> > and provide commented, minimal, self-contained, reproducible
> code.
>
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.





From wil@onzh@ng746746 @ending from gm@il@com  Fri Apr 27 15:11:17 2018
From: wil@onzh@ng746746 @ending from gm@il@com (Zhang Wilson)
Date: Fri, 27 Apr 2018 15:11:17 +0200
Subject: [R] about combining analysis results using package 'flexmix' and '
 mice'
Message-ID: <CAN_1JwRxx+7+DiE7HYjf0NV9Oqnfbb89=7U1mD6+9LW4Ms1j+Q@mail.gmail.com>

Hi,

I am currently using package ?mice? to do multiple imputation for tourist
data here. Then the  complete datasets (e.g. m>= 100)  will be analyzed
with a finite mixture model using package ?flexmix?. I have found that it
seems no feasible way to combine the multiple results into a final one
smoothly using just a few commands. By the way I have seen that package
like ?semTools? has such function to combine the ?within variance? and ?
between variance? for the estimated parameters, but it applies for SEM
models only. Do you have some recommendations about the combinations of
results after ?mice? and ? flexmix? packages if available? Thank you very
much.


Sincerely

Wei

	[[alternative HTML version deleted]]



From kevin@thorpe @ending from utoronto@c@  Fri Apr 27 16:29:56 2018
From: kevin@thorpe @ending from utoronto@c@ (Kevin E. Thorpe)
Date: Fri, 27 Apr 2018 10:29:56 -0400
Subject: [R] Package ddalpha is not building for me in R 3.5.0
Message-ID: <5bb06967-4ed5-e90e-6d5b-168f3d5fe421@utoronto.ca>

I was updating packages after upgrading R to 3.5.0 and one package, 
ddalpha, that is dependency for caret is not building. All the compiled 
code builds but something seems to start going wrong at the byte-compile 
stage. Here is the error and sessionInfo(). My computer has 8 GB of RAM, 
by the way. Has anyone else encountered this?

** R
** data
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
Error in system2(file.path(R.home("bin"), "R"), c(if (nzchar(arch)) 
paste0("--arch=",  :
   cannot popen ' '/usr/local/lib64/R/bin/R' --no-save --slave 2>&1 < 
'/tmp/RtmpZB2yyH/file64c65776e871'', probable reason 'Cannot allocate 
memory'
* removing ?/usr/local/lib64/R/library/ddalpha?
Warning in q("no", status = status, runLast = FALSE) :
   system call failed: Cannot allocate memory

> sessionInfo()
R version 3.5.0 Patched (2018-04-23 r74633)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Slackware 14.2 x86_64 (post 14.2 -current)

Matrix products: default
BLAS: /usr/local/lib64/R/lib/libRblas.so
LAPACK: /usr/local/lib64/R/lib/libRlapack.so

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=C
  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_3.5.0 tools_3.5.0    tcltk_3.5.0


-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016



From murdoch@dunc@n @ending from gm@il@com  Fri Apr 27 16:47:27 2018
From: murdoch@dunc@n @ending from gm@il@com (Duncan Murdoch)
Date: Fri, 27 Apr 2018 10:47:27 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
 <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>
Message-ID: <81db3ecd-a908-c387-cbfd-a42d4ce552f8@gmail.com>

On 27/04/2018 9:27 AM, Bos, Roger wrote:
> Akhilesh,
> 
> I don't know if I am adding signal or noise here, but I installed R 3.5.0 yesterday and installed data.table just fine, but I have Rtools installed.  "Building packages from source" may sound intimidating, but Rtools is really easy to install and once installed, it does all the work for you.

I agree, subject to a couple of caveats.

1.  There are apparently instructions online that somehow mess up the 
installation of Rtools, putting it in a location that doesn't work 
without other changes that aren't described.  If people just run the 
installer and accept the defaults, it works.  Don't trust bloggers, 
trust CRAN.

2.  data.table fails its self-tests in 3.5.0, as shown on CRAN. 
Apparently fixes are in the works, but being able to install it doesn't 
mean it will work properly.

Duncan Murdoch

> 
> Thanks,
> 
> Roger
> 
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fox, John
> Sent: Friday, April 27, 2018 9:21 AM
> To: Akhilesh Singh
> Cc: r-help mailing list
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being installed
> 
> Dear Akhilesh,
> 
> I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.
> 
> Best,
>   John
> 
>> -----Original Message-----
>> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
>> Sent: Friday, April 27, 2018 4:10 AM
>> To: Fox, John <jfox at mcmaster.ca>
>> Cc: r-help mailing list <r-help at r-project.org>
>> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
>> installed
>>
>> Dear Dr. John Fox,
>>
>> The solution provided by you has worked. I downloaded the binary file of
>> data.table package made available your website
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
>> installed it in R and RStudio. And I happy to report that it has successfully
>> worked. Many thanks to you, and to other members of R-team who have tried
>> help me.
>>
>>
>> With regards,
>>
>>
>> Dr. A.K. Singh
>>
>> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
>> <mailto:jfox at mcmaster.ca> > wrote:
>>
>>
>> Dear A.K. Singh,
>>
>> As you discovered, the data.table package has an error under R 3.5.0
>> that prevents CRAN from distributing a Windows binary for the package. The
>> reason that you weren't able to install the package from source is apparently
>> that you haven't installed the R package-building tools for Windows. See
>> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
>> project.org/bin/windows/Rtools/> >.
>>
>> Because a number of users of my Rcmdr and car packages have
>> contacted me with a similar issue, as a temporary work-around I've placed a
>> Windows binary for the data.table package on my website at
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
>> You should be able to install the package from there via the command
>>
>>
>> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
>> 1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
>> repos=NULL, type="win.binary")
>>
>> I expect that this problem will go away when the maintainer of the
>> data.table package fixes the error.
>>
>> I hope this helps,
>>   John
>>
>> --------------------------------------
>> John Fox, Professor Emeritus
>> McMaster University
>> Hamilton, Ontario, Canada
>> Web: socialsciences.mcmaster.ca/jfox/
>> <http://socialsciences.mcmaster.ca/jfox/>
>>
>>
>>
>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
>> bounces at r-project.org> ] On Behalf Of Akhilesh
>>> Singh
>>> Sent: Thursday, April 26, 2018 8:08 AM
>>> To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
>> project.org> >
>>> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
>>> being installed
>>>
>>> Dear Sir,
>>>
>>> I am using R on Windows OS platform. I upgraded my R-system to
>> version
>>> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
>>> stuck up in the package 'data.table', which is required by many
>> other
>>> packages in R-codes in my R-Markdown files.
>>>
>>> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
>>> well as "RStudio" mirrors when the following errors are being
>> shown:
>>>
>>>  From  USA-berkely and UK-bristol mirrors:
>>> =================================
>>> Package which is only available in source form, and may need
>>>    compilation of C/C++/Fortran: ?data.table?
>>>    These will not be installed
>>> Warning message:
>>> In download.file(url, destfile = f, quiet = TRUE) :
>>>    InternetOpenUrl failed: ''
>>>
>>>  From RStudio mirror:
>>> ================
>>> Package which is only available in source form, and may need
>> compilation
>>> of
>>>    C/C++/Fortran: ?data.table?
>>>    These will not be installed
>>>
>>> Afterwards, I consulted google users, I downloaded the source
>> package:
>>> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
>> tried
>>> following command for installing from source only:
>>>
>>>
>>> install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
>>> type="source")
>>>
>>> This generated following errors messages:
>>>
>>>> install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
>>> type="source") Installing package into ?C:/Users/Dr. A.K.
>>> Singh/Documents/R/win-library/3.5?
>>> (as ?lib? is unspecified)
>>> * installing *source* package 'data.table' ...
>>> ** package 'data.table' successfully unpacked and MD5 sums
>> checked
>>> ** libs
>>> Warning in system(cmd) : 'make' not found
>>> ERROR: compilation failed for package 'data.table'
>>> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
>>> library/3.5/data.table'
>>> * restoring previous 'C:/Users/Dr. A.K.
>>> Singh/Documents/R/win-library/3.5/data.table'
>>> In R CMD INSTALL
>>> Warning message:
>>> In install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>>>    installation of package
>>> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
>> zero
>>> exit status
>>>>
>>>
>>>
>>> I is requested to kindly help. I was writing a book using R-
>> Markdown.
>>> And I am stuck up as described above.
>>>
>>> Dr. A.K. Singh
>>> Professor and Head
>>> Department of Agricultural Statistics
>>> Indira Gandhi Krishi Vishwavidyalaya
>>> Raipur
>>> Chhattisgarh
>>> India
>>>
>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
>> To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>> PLEASE do read the posting guide http://www.R-
>> project.org/posting- <http://www.R-project.org/posting->
>>> guide.html
>>> and provide commented, minimal, self-contained, reproducible
>> code.
>>
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
> If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.
> 
> 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From dulc@lm@ @ending from bigpond@com  Sat Apr 28 03:04:18 2018
From: dulc@lm@ @ending from bigpond@com (Duncan Mackay)
Date: Sat, 28 Apr 2018 11:04:18 +1000
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
 <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>
Message-ID: <000a01d3de8c$d66b99c0$8342cd40$@bigpond.com>

Hi Paul, Rolf

I do not know how legal this is but this works if you have spaces around the ultimate plot due to changes in layout
Changing the layout parameters removes the unwanted space.

ap = dotplot(variety ~ yield | year * site, data=barley,layout = c(2,6))
apm = ap[1:2,3:4]
apm$layout <- c(2,2)
apm

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Paul Murrell
Sent: Friday, 27 April 2018 11:28
To: Rolf Turner
Cc: r-help at r-project.org; deepayan.sarkar at r-project.org
Subject: Re: [R] [FORGED] Extracting specified pages from a lattice ("trellis") object.

Hi

Does this not do what you want ... ?

allpages <- dotplot(variety ~ yield | year * site, data=barley,
                     layout=c(2,2))
page2 <- allpages[1:2, 3:4]
print(page2)

Paul

On 24/04/18 17:51, Rolf Turner wrote:
> 
> On 24/04/18 15:17, Paul Murrell wrote:
> 
>> Hi
>>
>> I think the subsetting works by giving you the panels for the 
>> corresponding levels of the conditioning variable(s).  Note that, if 
>> there is more than one conditioning variable, you will need more than 
>> one subsetting index.
>>
>> For example, taking this plot with two conditioning variables and 12 
>> panels in total ...
>>
>> dotplot(variety ~ yield | year * site, data=barley)
>>
>> ... this produces three pages ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>>          layout=c(2,2))
>>
>> ... and this produces the second page (both panels for the first 
>> conditioning variable and the third and fourth panels for the second 
>> conditioning variable) ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>>          layout=c(2,2))[1:2, 3:4]
>>
>> Hope that helps.
> 
> Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
> wanted was to take
> 
>      bar <- dotplot(variety ~ yield | year * site, data=barley)
> 
> and then do (something like)
> 
>      foo <- bar[<something>]
> 
> so that foo contains only the second page of bar, and then do print(foo)
> to get a plot of (just) the second page.  Without re-issuing a 
> (modified) plot command.
> 
> Is that not at all possible?
> 
> cheers,
> 
> Rolf.
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From luc@m1968 @ending from gm@il@com  Sat Apr 28 21:45:15 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Sat, 28 Apr 2018 21:45:15 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
Message-ID: <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>

Thanks Don,

    for (i in 1:10){
      nm <- paste0("V", i)
      d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
    }

is exaclty what I needed.

Best regards,

Luca


2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Your code doesn't make sense to me in a couple of ways.
>
> Inside the loop, the first line assigns a value to an object named "t".
> Then, the second line does the same thing, assigns a value to an object
> named "t".
>
> The value of the object named "t" after the second line will be the output
> of the ifelse() expression, whatever that is. This has the effect of making
> the first line irrelevant. Whatever value t has after the first line is
> replaced by whatever it gets from the second line.
>
> It looks like the first line inside the loop is constructing the name of a
> data frame column, and storing that name as a character string. However,
> the second line doesn't use that name at all. If your goal is to update the
> contents of a column, you need to assign something to that column in the
> next line. Instead you assign it to the object named "t".
>
> What you're looking for will be more along the lines of this:
>
>     for (i in 1:10){
>       nm <- paste0("V", i)
>       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>     }
>
> This may not a complete solution, since I have no idea what the contents
> or structure of d1 are, or what the regexpr() is expected to return.
>
> And notice the use of double brackets, [[ and ]]. This is one way to
> reference a column of a  data frame when you have the column's name stored
> in a variable. Another way is d0[ , nm]
>
>
> A couple of additional comments:
>
>  "t" is a poor choice of object name, because it is one of R's built-in
> functions (immediately after starting a fresh session of R, with nothing
> left over from any previous session, type help("r") and see what you get).
>
>  ifelse() is intended for use on vectors, not scalars, and it looks like
> maybe you're using it on a scalar (can't be sure about this, though)
>
> For example, ifelse() is designed for this kind of usage:
> > ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
> [1]  1 12  3
>
> Although it works ok for these
> > ifelse(TRUE, 3, 4)
> [1] 3
> > ifelse(FALSE, 3, 4)
> [1] 4
> They are not really what it is intended for.
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>
>     Hi,
>
>     I am trying to debug the following code:
>
>     for (i in 1:10){
>       t <- paste("d0$V",i,sep="")
>       t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>     }
>
>     and I would like to see what code is actually processing R, how can I
> do
>     that?
>
>     More to the point, I am trying to update my variables d0$V1 to d0$V10
>     according to the presence or absence of some text (contained in the
> file
>     d1) within the d0$X0 variable.
>
>     The code seem to run ok, if I add print(table(t)) within the loop I
> can see
>     that the ifelse procedure is working and to some cases within the
> d0$V1 to
>     d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
>     after the for loop they are all still equal to zero...
>
>     Thanks,
>
>     Luca
>
>         [[alternative HTML version deleted]]
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From ruipb@rr@d@@ @ending from @@po@pt  Sat Apr 28 23:12:55 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Sat, 28 Apr 2018 22:12:55 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
Message-ID: <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>

Hello,

instead of ifelse, the following is exactly the same and much more 
efficient.

d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)


Hope this helps,

Rui Barradas

On 4/28/2018 8:45 PM, Luca Meyer wrote:
> Thanks Don,
> 
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
> 
> is exaclty what I needed.
> 
> Best regards,
> 
> Luca
> 
> 
> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
> 
>> Your code doesn't make sense to me in a couple of ways.
>>
>> Inside the loop, the first line assigns a value to an object named "t".
>> Then, the second line does the same thing, assigns a value to an object
>> named "t".
>>
>> The value of the object named "t" after the second line will be the output
>> of the ifelse() expression, whatever that is. This has the effect of making
>> the first line irrelevant. Whatever value t has after the first line is
>> replaced by whatever it gets from the second line.
>>
>> It looks like the first line inside the loop is constructing the name of a
>> data frame column, and storing that name as a character string. However,
>> the second line doesn't use that name at all. If your goal is to update the
>> contents of a column, you need to assign something to that column in the
>> next line. Instead you assign it to the object named "t".
>>
>> What you're looking for will be more along the lines of this:
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> This may not a complete solution, since I have no idea what the contents
>> or structure of d1 are, or what the regexpr() is expected to return.
>>
>> And notice the use of double brackets, [[ and ]]. This is one way to
>> reference a column of a  data frame when you have the column's name stored
>> in a variable. Another way is d0[ , nm]
>>
>>
>> A couple of additional comments:
>>
>>   "t" is a poor choice of object name, because it is one of R's built-in
>> functions (immediately after starting a fresh session of R, with nothing
>> left over from any previous session, type help("r") and see what you get).
>>
>>   ifelse() is intended for use on vectors, not scalars, and it looks like
>> maybe you're using it on a scalar (can't be sure about this, though)
>>
>> For example, ifelse() is designed for this kind of usage:
>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>> [1]  1 12  3
>>
>> Although it works ok for these
>>> ifelse(TRUE, 3, 4)
>> [1] 3
>>> ifelse(FALSE, 3, 4)
>> [1] 4
>> They are not really what it is intended for.
>>
>> --
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> 7000 East Ave., L-627
>> Livermore, CA 94550
>> 925-423-1062
>> Lab cell 925-724-7509
>>
>>
>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>
>>      Hi,
>>
>>      I am trying to debug the following code:
>>
>>      for (i in 1:10){
>>        t <- paste("d0$V",i,sep="")
>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>      }
>>
>>      and I would like to see what code is actually processing R, how can I
>> do
>>      that?
>>
>>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>>      according to the presence or absence of some text (contained in the
>> file
>>      d1) within the d0$X0 variable.
>>
>>      The code seem to run ok, if I add print(table(t)) within the loop I
>> can see
>>      that the ifelse procedure is working and to some cases within the
>> d0$V1 to
>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
>> d0$V10
>>      after the for loop they are all still equal to zero...
>>
>>      Thanks,
>>
>>      Luca
>>
>>          [[alternative HTML version deleted]]
>>
>>      ______________________________________________
>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>      PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>>      and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ruipb@rr@d@@ @ending from @@po@pt  Sat Apr 28 23:18:59 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Sat, 28 Apr 2018 22:18:59 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
Message-ID: <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>

I forgot to explain why my suggestion.

The logical condition returns FALSE/TRUE that in R are coded as 0/1.
So all you have to do is coerce to integer.

This works because the ifelse will return a 1 or a 0 depending on the 
condition. Meaning exactly the same values. And is more efficient since 
ifelse creates both vectors, the true part and the false part, and then 
indexes those vectors in order to return the appropriate values. This is 
the double of the trouble and a great deal of memory used.

Rui Barradas

On 4/28/2018 10:12 PM, Rui Barradas wrote:
> Hello,
> 
> instead of ifelse, the following is exactly the same and much more 
> efficient.
> 
> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>> Thanks Don,
>>
>> ???? for (i in 1:10){
>> ?????? nm <- paste0("V", i)
>> ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>> ???? }
>>
>> is exaclty what I needed.
>>
>> Best regards,
>>
>> Luca
>>
>>
>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>
>>> Your code doesn't make sense to me in a couple of ways.
>>>
>>> Inside the loop, the first line assigns a value to an object named "t".
>>> Then, the second line does the same thing, assigns a value to an object
>>> named "t".
>>>
>>> The value of the object named "t" after the second line will be the 
>>> output
>>> of the ifelse() expression, whatever that is. This has the effect of 
>>> making
>>> the first line irrelevant. Whatever value t has after the first line is
>>> replaced by whatever it gets from the second line.
>>>
>>> It looks like the first line inside the loop is constructing the name 
>>> of a
>>> data frame column, and storing that name as a character string. However,
>>> the second line doesn't use that name at all. If your goal is to 
>>> update the
>>> contents of a column, you need to assign something to that column in the
>>> next line. Instead you assign it to the object named "t".
>>>
>>> What you're looking for will be more along the lines of this:
>>>
>>> ???? for (i in 1:10){
>>> ?????? nm <- paste0("V", i)
>>> ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>> ???? }
>>>
>>> This may not a complete solution, since I have no idea what the contents
>>> or structure of d1 are, or what the regexpr() is expected to return.
>>>
>>> And notice the use of double brackets, [[ and ]]. This is one way to
>>> reference a column of a? data frame when you have the column's name 
>>> stored
>>> in a variable. Another way is d0[ , nm]
>>>
>>>
>>> A couple of additional comments:
>>>
>>> ? "t" is a poor choice of object name, because it is one of R's built-in
>>> functions (immediately after starting a fresh session of R, with nothing
>>> left over from any previous session, type help("r") and see what you 
>>> get).
>>>
>>> ? ifelse() is intended for use on vectors, not scalars, and it looks 
>>> like
>>> maybe you're using it on a scalar (can't be sure about this, though)
>>>
>>> For example, ifelse() is designed for this kind of usage:
>>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>> [1]? 1 12? 3
>>>
>>> Although it works ok for these
>>>> ifelse(TRUE, 3, 4)
>>> [1] 3
>>>> ifelse(FALSE, 3, 4)
>>> [1] 4
>>> They are not really what it is intended for.
>>>
>>> -- 
>>> Don MacQueen
>>> Lawrence Livermore National Laboratory
>>> 7000 East Ave., L-627
>>> Livermore, CA 94550
>>> 925-423-1062
>>> Lab cell 925-724-7509
>>>
>>>
>>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>>
>>> ???? Hi,
>>>
>>> ???? I am trying to debug the following code:
>>>
>>> ???? for (i in 1:10){
>>> ?????? t <- paste("d0$V",i,sep="")
>>> ?????? t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>> ???? }
>>>
>>> ???? and I would like to see what code is actually processing R, how 
>>> can I
>>> do
>>> ???? that?
>>>
>>> ???? More to the point, I am trying to update my variables d0$V1 to 
>>> d0$V10
>>> ???? according to the presence or absence of some text (contained in the
>>> file
>>> ???? d1) within the d0$X0 variable.
>>>
>>> ???? The code seem to run ok, if I add print(table(t)) within the loop I
>>> can see
>>> ???? that the ifelse procedure is working and to some cases within the
>>> d0$V1 to
>>> ???? d0$V10 variable range a 1 is assigned. But when checking my 
>>> d0$V1 to
>>> d0$V10
>>> ???? after the for loop they are all still equal to zero...
>>>
>>> ???? Thanks,
>>>
>>> ???? Luca
>>>
>>> ???????? [[alternative HTML version deleted]]
>>>
>>> ???? ______________________________________________
>>> ???? R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> ???? https://stat.ethz.ch/mailman/listinfo/r-help
>>> ???? PLEASE do read the posting guide http://www.R-project.org/
>>> posting-guide.html
>>> ???? and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From b@k@burg1 @ending from gm@il@com  Sun Apr 29 17:52:36 2018
From: b@k@burg1 @ending from gm@il@com (Angelo D'Ambrosio)
Date: Sun, 29 Apr 2018 17:52:36 +0200
Subject: [R] Compare global and between group variability of 2 mixed effect
 models
Message-ID: <CALcwahOUiutiQNXPz-okHTBn-fxKbSH-HF=A4b3Z9Pa+NYpTZA@mail.gmail.com>

Hello,

We are comparing some features of our product against a competitor. Since
the product is produced in lots and we have proof that ambient temperature
is relevant for its functioning we used a mixed effect model (MEM)
structured this way (NB: R lme4 notation):

`out ~ Brand * Temperature + (Temperature | Lot)`

with out being the various outcomes, a random intercept on Lot and a random
slope on Temperature.

We need to understand which brand has more variability between single items
and between lots.

We thought of using the random intercept and residual standard deviations
from the MEM for each brand. The problem now is how to compare them.

We tried using the F distribution to build confidence intervals and
hypothesis test, but for most of the outcomes we evaluated, one or both
models had zero standard deviation on the random intercept, so it's
impossible to take the ratio (lots of zeros, infinity, NaN).

We investigated also the variance gamma distribution, that can describe the
difference of two standard deviations (so zeros are not a problem), but we
don't actually know how to pass the right parameters to describe our data.

As a third alternative, we tried modeling the ratio between standard
deviations with a bayes-regularized glm model with Poisson links:

`bayesglm(c(sd1, sd2) ~ c('mod1', 'mod2), weights = c(n1, n2), family =
poisson())

But we are not sure whether it could be a meaningful approximation or not.
We thought of a Poisson distribution because it can natively cope with
zeros and the bayes regularization to avoid too extreme estimates (eg: 0 -
Inf confidence intervals).

Finally, we thought of a much simpler approach:
- first use a Levene test to compare raw variances between brands.
- than using ANOVA to test for between-lots variability for each brand.

Although much simpler, this methodology don?t use the information on the
clustered structure of the data and the effect of temperature. Furthermore,
it doesn't formally compare between-lots variability between brands, it
just produce two F scores.

Any suggestions?

Thanks

	[[alternative HTML version deleted]]



From miluji@b @ending from gm@il@com  Sun Apr 29 20:19:04 2018
From: miluji@b @ending from gm@il@com (Miluji Sb)
Date: Sun, 29 Apr 2018 20:19:04 +0200
Subject: [R] Overlay line on a bar plot - multiple axis
Message-ID: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>

Dear all,

I am trying to make a similar plot -
https://peltiertech.com/images/2013-09/BarLineSampleChart4.png.

I have data for two variables; count and z by city and week. I would like
to have a horizontal bar plot of *count* by city and a line plot of weekly
average of the variable *z*.

I have tried the following:

ggplot() + geom_bar(data=dat, aes(x=city, y=count),
stat="identity",position="dodge") + coord_flip() +
geom_line(data=dat, aes(x=week, y=mean_tmin))

However, this flips the code for both the bar plot and the line plot. I
would the y-axis of the line plot to be on the left-vertical axis. I read
that it is difficult to have a secondary axis with ggplot. Any help will be
highly appreciated. Thank you!

dput(dat)
structure(list(city = structure(c(4L, 5L, 1L, 3L, 2L, 4L, 3L,
1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
"Houston", "NYC", "OKC"), class = "factor"), week = c(1L, 1L,
1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L), count = c(2.8,
2.7, 3.1, 2.5, 3.5, 5.3, 4.5, 9.5, 2.7, 2.1, 4.5, 9.5, 2.7, 5.3,
2.1), z = c(-4.1, 1.7, 1.5, 12.8, 1.9, 4, 11.2, 1.4, 2, 4, 10.9,
1.4, 1.7, 3.9, 4.3), City = structure(c(4L, 5L, 1L, 3L, 2L, 4L,
3L, 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
"Houston", "NYC", "OKC"), class = "factor"), Count = c(4.466667,
2.3, 7.366667, 3.833333, 2.966667, 4.466667, 3.833333, 7.366667,
2.966667, 2.3, 3.833333, 7.366667, 2.966667, 4.466667, 2.3),
    mean_tmin = c(2.76, 2.76, 2.76, 2.76, 2.76, 4.52, 4.52, 4.52,
    4.52, 4.52, 4.44, 4.44, 4.44, 4.44, 4.44)), .Names = c("city",
"week", "count", "z", "City", "Count", "mean_tmin"), class = "data.frame",
row.names = c(NA,
-15L))

	[[alternative HTML version deleted]]



From drjimlemon @ending from gm@il@com  Mon Apr 30 01:47:58 2018
From: drjimlemon @ending from gm@il@com (Jim Lemon)
Date: Mon, 30 Apr 2018 09:47:58 +1000
Subject: [R] Overlay line on a bar plot - multiple axis
In-Reply-To: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>
References: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>
Message-ID: <CA+8X3fWeynVwYr-oYBP=dbaS6xH09GMqVFVEotRCRpXxArWb_w@mail.gmail.com>

Hi Miluji,
You have a problem as the x-axis is different for the two plots.
However, the y-axis can be the same, so you really don't need
different axes. I think you want to display city within week. The
example below shows how to display both the counts for the cities by
week, the mean z by week and then use legends to identify the
different parts of the plot. I'm afraid that I didn't even try to do
this in ggplot.

# this uses your structure "dat"
weekcity<-dat[order(dat$week,dat$city),1:4]
barpos<-barplot(matrix(weekcity$count,nrow=5),names.arg=1:3,
 legend.text=c("Akron","Boston","Houston","NYC","OKC"),
 args.legend=list(x=8,y=6),xlab="count",
 ylab="Week",beside=TRUE,horiz=TRUE)
lines(by(weekcity$z,weekcity$week,mean),colMeans(barpos),
 type="b",lwd=2)
legend(5.5,16,"Weekly mean of z",pch=1,lty=1,lwd=2)

Jim

On Mon, Apr 30, 2018 at 4:19 AM, Miluji Sb <milujisb at gmail.com> wrote:
> Dear all,
>
> I am trying to make a similar plot -
> https://peltiertech.com/images/2013-09/BarLineSampleChart4.png.
>
> I have data for two variables; count and z by city and week. I would like
> to have a horizontal bar plot of *count* by city and a line plot of weekly
> average of the variable *z*.
>
> I have tried the following:
>
> ggplot() + geom_bar(data=dat, aes(x=city, y=count),
> stat="identity",position="dodge") + coord_flip() +
> geom_line(data=dat, aes(x=week, y=mean_tmin))
>
> However, this flips the code for both the bar plot and the line plot. I
> would the y-axis of the line plot to be on the left-vertical axis. I read
> that it is difficult to have a secondary axis with ggplot. Any help will be
> highly appreciated. Thank you!
>
> dput(dat)
> structure(list(city = structure(c(4L, 5L, 1L, 3L, 2L, 4L, 3L,
> 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
> "Houston", "NYC", "OKC"), class = "factor"), week = c(1L, 1L,
> 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L), count = c(2.8,
> 2.7, 3.1, 2.5, 3.5, 5.3, 4.5, 9.5, 2.7, 2.1, 4.5, 9.5, 2.7, 5.3,
> 2.1), z = c(-4.1, 1.7, 1.5, 12.8, 1.9, 4, 11.2, 1.4, 2, 4, 10.9,
> 1.4, 1.7, 3.9, 4.3), City = structure(c(4L, 5L, 1L, 3L, 2L, 4L,
> 3L, 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
> "Houston", "NYC", "OKC"), class = "factor"), Count = c(4.466667,
> 2.3, 7.366667, 3.833333, 2.966667, 4.466667, 3.833333, 7.366667,
> 2.966667, 2.3, 3.833333, 7.366667, 2.966667, 4.466667, 2.3),
>     mean_tmin = c(2.76, 2.76, 2.76, 2.76, 2.76, 4.52, 4.52, 4.52,
>     4.52, 4.52, 4.44, 4.44, 4.44, 4.44, 4.44)), .Names = c("city",
> "week", "count", "z", "City", "Count", "mean_tmin"), class = "data.frame",
> row.names = c(NA,
> -15L))
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From r@e@crump @ending from w@rwick@@c@uk  Mon Apr 30 12:28:31 2018
From: r@e@crump @ending from w@rwick@@c@uk (Ron Crump)
Date: Mon, 30 Apr 2018 11:28:31 +0100
Subject: [R] Overlay line on a bar plot - multiple axis
Message-ID: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>

Hi Miluji,

Using Jim's interpretation of your desired graph,
you could do it in ggplot2 using your dat DF by:

ggplot() +
  geom_bar(data=dat,
    aes(x=week,y=count,fill=city),stat="identity",position="dodge") +
  coord_flip() +
  geom_line(data=dat, aes(x=week, y=mean_tmin))

There would still need some work to be done to get the weekly mean
into a legend, but it is achievable if required.

Ron.



From miluji@b @ending from gm@il@com  Mon Apr 30 15:13:23 2018
From: miluji@b @ending from gm@il@com (Miluji Sb)
Date: Mon, 30 Apr 2018 15:13:23 +0200
Subject: [R] Overlay line on a bar plot - multiple axis
In-Reply-To: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>
References: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>
Message-ID: <CAMLwc7PqT9C8WnEmariEFD=TQ4DZf_V+dLAfwNL_bLvdL11ffA@mail.gmail.com>

Dear Jim and Ron,

Thank you very much. Both the solutions are very neat and working.
Appreciate all your help.

Sincerely,

Milu

On Mon, Apr 30, 2018 at 12:28 PM, Ron Crump <r.e.crump at warwick.ac.uk> wrote:

> Hi Miluji,
>
> Using Jim's interpretation of your desired graph,
> you could do it in ggplot2 using your dat DF by:
>
> ggplot() +
>  geom_bar(data=dat,
>    aes(x=week,y=count,fill=city),stat="identity",position="dodge") +
>  coord_flip() +
>  geom_line(data=dat, aes(x=week, y=mean_tmin))
>
> There would still need some work to be done to get the weekly mean
> into a legend, but it is achievable if required.
>
> Ron.
>

	[[alternative HTML version deleted]]



From luc@m1968 @ending from gm@il@com  Mon Apr 30 17:07:40 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Mon, 30 Apr 2018 17:07:40 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
Message-ID: <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>

Hi Rui

Thank you for your suggestion,

I have tested the code suggested by you against that supplied by Don in
terms of timing and results are very much aligned: to populate a 5954x899
0/1 matrix on my machine your procedure took 79 secs, while the one with
ifelse employed 80 secs, hence unfortunately not really any significant
time saved there.

Nevertheless thank you for your contribution.

Kind regards,

Luca

2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:

> I forgot to explain why my suggestion.
>
> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
> So all you have to do is coerce to integer.
>
> This works because the ifelse will return a 1 or a 0 depending on the
> condition. Meaning exactly the same values. And is more efficient since
> ifelse creates both vectors, the true part and the false part, and then
> indexes those vectors in order to return the appropriate values. This is
> the double of the trouble and a great deal of memory used.
>
> Rui Barradas
>
> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>
>> Hello,
>>
>> instead of ifelse, the following is exactly the same and much more
>> efficient.
>>
>> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>>
>>> Thanks Don,
>>>
>>>      for (i in 1:10){
>>>        nm <- paste0("V", i)
>>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>>      }
>>>
>>> is exaclty what I needed.
>>>
>>> Best regards,
>>>
>>> Luca
>>>
>>>
>>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>>
>>> Your code doesn't make sense to me in a couple of ways.
>>>>
>>>> Inside the loop, the first line assigns a value to an object named "t".
>>>> Then, the second line does the same thing, assigns a value to an object
>>>> named "t".
>>>>
>>>> The value of the object named "t" after the second line will be the
>>>> output
>>>> of the ifelse() expression, whatever that is. This has the effect of
>>>> making
>>>> the first line irrelevant. Whatever value t has after the first line is
>>>> replaced by whatever it gets from the second line.
>>>>
>>>> It looks like the first line inside the loop is constructing the name
>>>> of a
>>>> data frame column, and storing that name as a character string. However,
>>>> the second line doesn't use that name at all. If your goal is to update
>>>> the
>>>> contents of a column, you need to assign something to that column in the
>>>> next line. Instead you assign it to the object named "t".
>>>>
>>>> What you're looking for will be more along the lines of this:
>>>>
>>>>      for (i in 1:10){
>>>>        nm <- paste0("V", i)
>>>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>>>      }
>>>>
>>>> This may not a complete solution, since I have no idea what the contents
>>>> or structure of d1 are, or what the regexpr() is expected to return.
>>>>
>>>> And notice the use of double brackets, [[ and ]]. This is one way to
>>>> reference a column of a  data frame when you have the column's name
>>>> stored
>>>> in a variable. Another way is d0[ , nm]
>>>>
>>>>
>>>> A couple of additional comments:
>>>>
>>>>   "t" is a poor choice of object name, because it is one of R's built-in
>>>> functions (immediately after starting a fresh session of R, with nothing
>>>> left over from any previous session, type help("r") and see what you
>>>> get).
>>>>
>>>>   ifelse() is intended for use on vectors, not scalars, and it looks
>>>> like
>>>> maybe you're using it on a scalar (can't be sure about this, though)
>>>>
>>>> For example, ifelse() is designed for this kind of usage:
>>>>
>>>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>>>>
>>>> [1]  1 12  3
>>>>
>>>> Although it works ok for these
>>>>
>>>>> ifelse(TRUE, 3, 4)
>>>>>
>>>> [1] 3
>>>>
>>>>> ifelse(FALSE, 3, 4)
>>>>>
>>>> [1] 4
>>>> They are not really what it is intended for.
>>>>
>>>> --
>>>> Don MacQueen
>>>> Lawrence Livermore National Laboratory
>>>> 7000 East Ave., L-627
>>>> Livermore, CA 94550
>>>> 925-423-1062
>>>> Lab cell 925-724-7509
>>>>
>>>>
>>>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>>>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>>>
>>>>      Hi,
>>>>
>>>>      I am trying to debug the following code:
>>>>
>>>>      for (i in 1:10){
>>>>        t <- paste("d0$V",i,sep="")
>>>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>>>      }
>>>>
>>>>      and I would like to see what code is actually processing R, how
>>>> can I
>>>> do
>>>>      that?
>>>>
>>>>      More to the point, I am trying to update my variables d0$V1 to
>>>> d0$V10
>>>>      according to the presence or absence of some text (contained in the
>>>> file
>>>>      d1) within the d0$X0 variable.
>>>>
>>>>      The code seem to run ok, if I add print(table(t)) within the loop I
>>>> can see
>>>>      that the ifelse procedure is working and to some cases within the
>>>> d0$V1 to
>>>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1
>>>> to
>>>> d0$V10
>>>>      after the for loop they are all still equal to zero...
>>>>
>>>>      Thanks,
>>>>
>>>>      Luca
>>>>
>>>>          [[alternative HTML version deleted]]
>>>>
>>>>      ______________________________________________
>>>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>>>      PLEASE do read the posting guide http://www.R-project.org/
>>>> posting-guide.html
>>>>      and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>
>>>>
>>>>
>>>     [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]



From m@cqueen1 @ending from llnl@gov  Mon Apr 30 17:25:26 2018
From: m@cqueen1 @ending from llnl@gov (MacQueen, Don)
Date: Mon, 30 Apr 2018 15:25:26 +0000
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
Message-ID: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>

Luca,

If speed is important, you might improve performance by making d0 into a true matrix, rather than a data frame (assuming d0 is indeed a data frame at this point). Although data frames may look like matrices, they aren?t, and they have some overhead that matrices don?t.  I don?t think you would be able to use the [[nm]] syntax with a matrix, but [ , nm] should work, provided the matrix has column names. Or you could perhaps index by column number.

I had a project some years ago in which I reduced calculation time a lot by extracting the numeric columns of a data frame and working with them, then recombining them with the character columns. R?s performance working with data frames has improved since then, so I really don?t know if it would make a difference for your task.

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509


From: Luca Meyer <lucam1968 at gmail.com>
Date: Monday, April 30, 2018 at 8:08 AM
To: Rui Barradas <ruipbarradas at sapo.pt>
Cc: "MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <r-help at r-project.org>
Subject: Re: [R] How to visualise what code is processed within a for loop

Hi Rui
Thank you for your suggestion,

I have tested the code suggested by you against that supplied by Don in terms of timing and results are very much aligned: to populate a 5954x899 0/1 matrix on my machine your procedure took 79 secs, while the one with ifelse employed 80 secs, hence unfortunately not really any significant time saved there.
Nevertheless thank you for your contribution.
Kind regards,

Luca

2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>>:
I forgot to explain why my suggestion.

The logical condition returns FALSE/TRUE that in R are coded as 0/1.
So all you have to do is coerce to integer.

This works because the ifelse will return a 1 or a 0 depending on the condition. Meaning exactly the same values. And is more efficient since ifelse creates both vectors, the true part and the false part, and then indexes those vectors in order to return the appropriate values. This is the double of the trouble and a great deal of memory used.

Rui Barradas

On 4/28/2018 10:12 PM, Rui Barradas wrote:
Hello,

instead of ifelse, the following is exactly the same and much more efficient.

d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)


Hope this helps,

Rui Barradas

On 4/28/2018 8:45 PM, Luca Meyer wrote:
Thanks Don,

     for (i in 1:10){
       nm <- paste0("V", i)
       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
     }

is exaclty what I needed.

Best regards,

Luca


2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov<mailto:macqueen1 at llnl.gov>>:
Your code doesn't make sense to me in a couple of ways.

Inside the loop, the first line assigns a value to an object named "t".
Then, the second line does the same thing, assigns a value to an object
named "t".

The value of the object named "t" after the second line will be the output
of the ifelse() expression, whatever that is. This has the effect of making
the first line irrelevant. Whatever value t has after the first line is
replaced by whatever it gets from the second line.

It looks like the first line inside the loop is constructing the name of a
data frame column, and storing that name as a character string. However,
the second line doesn't use that name at all. If your goal is to update the
contents of a column, you need to assign something to that column in the
next line. Instead you assign it to the object named "t".

What you're looking for will be more along the lines of this:

     for (i in 1:10){
       nm <- paste0("V", i)
       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
     }

This may not a complete solution, since I have no idea what the contents
or structure of d1 are, or what the regexpr() is expected to return.

And notice the use of double brackets, [[ and ]]. This is one way to
reference a column of a  data frame when you have the column's name stored
in a variable. Another way is d0[ , nm]


A couple of additional comments:

  "t" is a poor choice of object name, because it is one of R's built-in
functions (immediately after starting a fresh session of R, with nothing
left over from any previous session, type help("r") and see what you get).

  ifelse() is intended for use on vectors, not scalars, and it looks like
maybe you're using it on a scalar (can't be sure about this, though)

For example, ifelse() is designed for this kind of usage:
ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
[1]  1 12  3

Although it works ok for these
ifelse(TRUE, 3, 4)
[1] 3
ifelse(FALSE, 3, 4)
[1] 4
They are not really what it is intended for.

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509


On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org> on behalf of lucam1968 at gmail.com<mailto:lucam1968 at gmail.com>> wrote:

     Hi,

     I am trying to debug the following code:

     for (i in 1:10){
       t <- paste("d0$V",i,sep="")
       t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
     }

     and I would like to see what code is actually processing R, how can I
do
     that?

     More to the point, I am trying to update my variables d0$V1 to d0$V10
     according to the presence or absence of some text (contained in the
file
     d1) within the d0$X0 variable.

     The code seem to run ok, if I add print(table(t)) within the loop I
can see
     that the ifelse procedure is working and to some cases within the
d0$V1 to
     d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
d0$V10
     after the for loop they are all still equal to zero...

     Thanks,

     Luca

         [[alternative HTML version deleted]]

     ______________________________________________
     R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
     https://stat.ethz.ch/mailman/listinfo/r-help
     PLEASE do read the posting guide http://www.R-project.org/
posting-guide.html
     and provide commented, minimal, self-contained, reproducible code.



    [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From ruipb@rr@d@@ @ending from @@po@pt  Mon Apr 30 17:56:49 2018
From: ruipb@rr@d@@ @ending from @@po@pt (Rui Barradas)
Date: Mon, 30 Apr 2018 16:56:49 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
Message-ID: <a7294f82-11e1-5946-f362-b589fda9ad04@sapo.pt>

Hello,

Another thing to note is that regexpr is likely to take (much) more time 
than ifelse or as.integer.
And the code will therefore not be very optimizable.

Rui Barradas

On 4/30/2018 4:25 PM, MacQueen, Don wrote:
> Luca,
> 
> If speed is important, you might improve performance by making d0 into a 
> true matrix, rather than a data frame (assuming d0 is indeed a data 
> frame at this point). Although data frames may look like matrices, they 
> aren?t, and they have some overhead that matrices don?t.? I don?t think 
> you would be able to use the [[nm]] syntax with a matrix, but [ , nm] 
> should work, provided the matrix has column names. Or you could perhaps 
> index by column number.
> 
> I had a project some years ago in which I reduced calculation time a lot 
> by extracting the numeric columns of a data frame and working with them, 
> then recombining them with the character columns. R?s performance 
> working with data frames has improved since then, so I really don?t know 
> if it would make a difference for your task.
> 
> -Don
> 
> --
> 
> Don MacQueen
> 
> Lawrence Livermore National Laboratory
> 
> 7000 East Ave., L-627
> 
> Livermore, CA 94550
> 
> 925-423-1062
> 
> Lab cell 925-724-7509
> 
> *From: *Luca Meyer <lucam1968 at gmail.com>
> *Date: *Monday, April 30, 2018 at 8:08 AM
> *To: *Rui Barradas <ruipbarradas at sapo.pt>
> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help 
> <r-help at r-project.org>
> *Subject: *Re: [R] How to visualise what code is processed within a for loop
> 
> Hi Rui
> 
> Thank you for your suggestion,
> 
> I have tested the code suggested by you against that supplied by Don in 
> terms of timing and results are very much aligned: to populate a 
> 5954x899 0/1 matrix on my machine your procedure took 79 secs, while the 
> one with ifelse employed 80 secs, hence unfortunately not really any 
> significant time saved there.
> 
> Nevertheless thank you for your contribution.
> 
> Kind regards,
> 
> Luca
> 
> 2018-04-28 23:18 GMT+02:00 Rui Barradas 
> <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>>:
> 
>     I forgot to explain why my suggestion.
> 
>     The logical condition returns FALSE/TRUE that in R are coded as 0/1.
>     So all you have to do is coerce to integer.
> 
>     This works because the ifelse will return a 1 or a 0 depending on
>     the condition. Meaning exactly the same values. And is more
>     efficient since ifelse creates both vectors, the true part and the
>     false part, and then indexes those vectors in order to return the
>     appropriate values. This is the double of the trouble and a great
>     deal of memory used.
> 
>     Rui Barradas
> 
>     On 4/28/2018 10:12 PM, Rui Barradas wrote:
> 
>         Hello,
> 
>         instead of ifelse, the following is exactly the same and much
>         more efficient.
> 
>         d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
> 
> 
>         Hope this helps,
> 
>         Rui Barradas
> 
>         On 4/28/2018 8:45 PM, Luca Meyer wrote:
> 
>             Thanks Don,
> 
>              ???? for (i in 1:10){
>              ?????? nm <- paste0("V", i)
>              ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>              ???? }
> 
>             is exaclty what I needed.
> 
>             Best regards,
> 
>             Luca
> 
> 
>             2018-04-25 23:03 GMT+02:00 MacQueen, Don
>             <macqueen1 at llnl.gov<mailto:macqueen1 at llnl.gov>>:
> 
>                 Your code doesn't make sense to me in a couple of ways.
> 
>                 Inside the loop, the first line assigns a value to an
>                 object named "t".
>                 Then, the second line does the same thing, assigns a
>                 value to an object
>                 named "t".
> 
>                 The value of the object named "t" after the second line
>                 will be the output
>                 of the ifelse() expression, whatever that is. This has
>                 the effect of making
>                 the first line irrelevant. Whatever value t has after
>                 the first line is
>                 replaced by whatever it gets from the second line.
> 
>                 It looks like the first line inside the loop is
>                 constructing the name of a
>                 data frame column, and storing that name as a character
>                 string. However,
>                 the second line doesn't use that name at all. If your
>                 goal is to update the
>                 contents of a column, you need to assign something to
>                 that column in the
>                 next line. Instead you assign it to the object named "t".
> 
>                 What you're looking for will be more along the lines of
>                 this:
> 
>                  ???? for (i in 1:10){
>                  ?????? nm <- paste0("V", i)
>                  ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0,
>                 1, 0)
>                  ???? }
> 
>                 This may not a complete solution, since I have no idea
>                 what the contents
>                 or structure of d1 are, or what the regexpr() is
>                 expected to return.
> 
>                 And notice the use of double brackets, [[ and ]]. This
>                 is one way to
>                 reference a column of a? data frame when you have the
>                 column's name stored
>                 in a variable. Another way is d0[ , nm]
> 
> 
>                 A couple of additional comments:
> 
>                  ? "t" is a poor choice of object name, because it is
>                 one of R's built-in
>                 functions (immediately after starting a fresh session of
>                 R, with nothing
>                 left over from any previous session, type help("r") and
>                 see what you get).
> 
>                  ? ifelse() is intended for use on vectors, not scalars,
>                 and it looks like
>                 maybe you're using it on a scalar (can't be sure about
>                 this, though)
> 
>                 For example, ifelse() is designed for this kind of usage:
> 
>                     ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
> 
>                 [1]? 1 12? 3
> 
>                 Although it works ok for these
> 
>                     ifelse(TRUE, 3, 4)
> 
>                 [1] 3
> 
>                     ifelse(FALSE, 3, 4)
> 
>                 [1] 4
>                 They are not really what it is intended for.
> 
>                 -- 
>                 Don MacQueen
>                 Lawrence Livermore National Laboratory
>                 7000 East Ave., L-627
>                 Livermore, CA 94550
>                 925-423-1062
>                 Lab cell 925-724-7509
> 
> 
>                 On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>                 r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>on
>                 behalf of
>                 lucam1968 at gmail.com<mailto:lucam1968 at gmail.com>> wrote:
> 
>                  ???? Hi,
> 
>                  ???? I am trying to debug the following code:
> 
>                  ???? for (i in 1:10){
>                  ?????? t <- paste("d0$V",i,sep="")
>                  ?????? t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>                  ???? }
> 
>                  ???? and I would like to see what code is actually
>                 processing R, how can I
>                 do
>                  ???? that?
> 
>                  ???? More to the point, I am trying to update my
>                 variables d0$V1 to d0$V10
>                  ???? according to the presence or absence of some text
>                 (contained in the
>                 file
>                  ???? d1) within the d0$X0 variable.
> 
>                  ???? The code seem to run ok, if I add print(table(t))
>                 within the loop I
>                 can see
>                  ???? that the ifelse procedure is working and to some
>                 cases within the
>                 d0$V1 to
>                  ???? d0$V10 variable range a 1 is assigned. But when
>                 checking my d0$V1 to
>                 d0$V10
>                  ???? after the for loop they are all still equal to zero...
> 
>                  ???? Thanks,
> 
>                  ???? Luca
> 
>                  ???????? [[alternative HTML version deleted]]
> 
>                  ???? ______________________________________________
>                 R-help at r-project.org<mailto:R-help at r-project.org>mailing
>                 list -- To UNSUBSCRIBE and more, see
>                 https://stat.ethz.ch/mailman/listinfo/r-help
>                  ???? PLEASE do read the posting guide
>                 http://www.R-project.org/
>                 posting-guide.html
>                  ???? and provide commented, minimal, self-contained,
>                 reproducible code.
> 
> 
> 
>              ????[[alternative HTML version deleted]]
> 
>             ______________________________________________
>             R-help at r-project.org<mailto:R-help at r-project.org>mailing
>             list -- To UNSUBSCRIBE and more, see
>             https://stat.ethz.ch/mailman/listinfo/r-help
>             PLEASE do read the posting guide
>             http://www.R-project.org/posting-guide.html
>             and provide commented, minimal, self-contained, reproducible
>             code.
> 
> 
>         ______________________________________________
>         R-help at r-project.org<mailto:R-help at r-project.org>mailing list --
>         To UNSUBSCRIBE and more, see
>         https://stat.ethz.ch/mailman/listinfo/r-help
>         PLEASE do read the posting guide
>         http://www.R-project.org/posting-guide.html
>         and provide commented, minimal, self-contained, reproducible code.
>



From luc@m1968 @ending from gm@il@com  Mon Apr 30 18:25:28 2018
From: luc@m1968 @ending from gm@il@com (Luca Meyer)
Date: Mon, 30 Apr 2018 18:25:28 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
Message-ID: <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>

Thank you for both replies Don & Rui,

The very issue here is that there is a search that needs to be done within
a text field and I agree with Rui later comment that regexpr might indeed
be the time consuming piece of code.

I might try to optimise this piece of code later on, but for the time being
I am working on the following part of building a neural network to try
indeed classifying some text.

Again, thanks,

Luca

2018-04-30 17:25 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Luca,
>
>
>
> If speed is important, you might improve performance by making d0 into a
> true matrix, rather than a data frame (assuming d0 is indeed a data frame
> at this point). Although data frames may look like matrices, they aren?t,
> and they have some overhead that matrices don?t.  I don?t think you would
> be able to use the [[nm]] syntax with a matrix, but [ , nm] should work,
> provided the matrix has column names. Or you could perhaps index by column
> number.
>
>
>
> I had a project some years ago in which I reduced calculation time a lot
> by extracting the numeric columns of a data frame and working with them,
> then recombining them with the character columns. R?s performance working
> with data frames has improved since then, so I really don?t know if it
> would make a difference for your task.
>
>
>
> -Don
>
>
>
> --
>
> Don MacQueen
>
> Lawrence Livermore National Laboratory
>
> 7000 East Ave., L-627
>
> Livermore, CA 94550
>
> 925-423-1062
>
> Lab cell 925-724-7509
>
>
>
>
>
> *From: *Luca Meyer <lucam1968 at gmail.com>
> *Date: *Monday, April 30, 2018 at 8:08 AM
> *To: *Rui Barradas <ruipbarradas at sapo.pt>
> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <
> r-help at r-project.org>
> *Subject: *Re: [R] How to visualise what code is processed within a for
> loop
>
>
>
> Hi Rui
>
> Thank you for your suggestion,
>
>
>
> I have tested the code suggested by you against that supplied by Don in
> terms of timing and results are very much aligned: to populate a 5954x899
> 0/1 matrix on my machine your procedure took 79 secs, while the one with
> ifelse employed 80 secs, hence unfortunately not really any significant
> time saved there.
>
> Nevertheless thank you for your contribution.
>
> Kind regards,
>
>
>
> Luca
>
>
>
> 2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:
>
> I forgot to explain why my suggestion.
>
> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
> So all you have to do is coerce to integer.
>
> This works because the ifelse will return a 1 or a 0 depending on the
> condition. Meaning exactly the same values. And is more efficient since
> ifelse creates both vectors, the true part and the false part, and then
> indexes those vectors in order to return the appropriate values. This is
> the double of the trouble and a great deal of memory used.
>
> Rui Barradas
>
> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>
> Hello,
>
> instead of ifelse, the following is exactly the same and much more
> efficient.
>
> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>
>
> Hope this helps,
>
> Rui Barradas
>
> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>
> Thanks Don,
>
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
>
> is exaclty what I needed.
>
> Best regards,
>
> Luca
>
>
> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>
> Your code doesn't make sense to me in a couple of ways.
>
> Inside the loop, the first line assigns a value to an object named "t".
> Then, the second line does the same thing, assigns a value to an object
> named "t".
>
> The value of the object named "t" after the second line will be the output
> of the ifelse() expression, whatever that is. This has the effect of making
> the first line irrelevant. Whatever value t has after the first line is
> replaced by whatever it gets from the second line.
>
> It looks like the first line inside the loop is constructing the name of a
> data frame column, and storing that name as a character string. However,
> the second line doesn't use that name at all. If your goal is to update the
> contents of a column, you need to assign something to that column in the
> next line. Instead you assign it to the object named "t".
>
> What you're looking for will be more along the lines of this:
>
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
>
> This may not a complete solution, since I have no idea what the contents
> or structure of d1 are, or what the regexpr() is expected to return.
>
> And notice the use of double brackets, [[ and ]]. This is one way to
> reference a column of a  data frame when you have the column's name stored
> in a variable. Another way is d0[ , nm]
>
>
> A couple of additional comments:
>
>   "t" is a poor choice of object name, because it is one of R's built-in
> functions (immediately after starting a fresh session of R, with nothing
> left over from any previous session, type help("r") and see what you get).
>
>   ifelse() is intended for use on vectors, not scalars, and it looks like
> maybe you're using it on a scalar (can't be sure about this, though)
>
> For example, ifelse() is designed for this kind of usage:
>
> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>
> [1]  1 12  3
>
> Although it works ok for these
>
> ifelse(TRUE, 3, 4)
>
> [1] 3
>
> ifelse(FALSE, 3, 4)
>
> [1] 4
> They are not really what it is intended for.
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>
>      Hi,
>
>      I am trying to debug the following code:
>
>      for (i in 1:10){
>        t <- paste("d0$V",i,sep="")
>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>      }
>
>      and I would like to see what code is actually processing R, how can I
> do
>      that?
>
>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>      according to the presence or absence of some text (contained in the
> file
>      d1) within the d0$X0 variable.
>
>      The code seem to run ok, if I add print(table(t)) within the loop I
> can see
>      that the ifelse procedure is working and to some cases within the
> d0$V1 to
>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
>      after the for loop they are all still equal to zero...
>
>      Thanks,
>
>      Luca
>
>          [[alternative HTML version deleted]]
>
>      ______________________________________________
>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      https://stat.ethz.ch/mailman/listinfo/r-help
>      PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>      and provide commented, minimal, self-contained, reproducible code.
>
>
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From bgunter@4567 @ending from gm@il@com  Mon Apr 30 19:28:46 2018
From: bgunter@4567 @ending from gm@il@com (Bert Gunter)
Date: Mon, 30 Apr 2018 10:28:46 -0700
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
 <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>
Message-ID: <CAGxFJbSAdwUMdXNLxkSwOYkyv_S9iLhNM5Qj1_FP_ydW43xGag@mail.gmail.com>

"I am working on the following part of building a neural network to try
indeed classifying some text."

... and so you are most likely trying to reinvent wheels. There are
already many such tools available here:
https://cran.r-project.org/web/views/NaturalLanguageProcessing.html

Some of these are interfaces to C language code, and so are probably
much more efficient than anything you (or I) can do at the R level.

Of course, if this is mainly a programming exercise for you, than this
is largely irrelevant.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 30, 2018 at 9:25 AM, Luca Meyer <lucam1968 at gmail.com> wrote:
> Thank you for both replies Don & Rui,
>
> The very issue here is that there is a search that needs to be done within
> a text field and I agree with Rui later comment that regexpr might indeed
> be the time consuming piece of code.
>
> I might try to optimise this piece of code later on, but for the time being
> I am working on the following part of building a neural network to try
> indeed classifying some text.
>
> Again, thanks,
>
> Luca
>
> 2018-04-30 17:25 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>
>> Luca,
>>
>>
>>
>> If speed is important, you might improve performance by making d0 into a
>> true matrix, rather than a data frame (assuming d0 is indeed a data frame
>> at this point). Although data frames may look like matrices, they aren?t,
>> and they have some overhead that matrices don?t.  I don?t think you would
>> be able to use the [[nm]] syntax with a matrix, but [ , nm] should work,
>> provided the matrix has column names. Or you could perhaps index by column
>> number.
>>
>>
>>
>> I had a project some years ago in which I reduced calculation time a lot
>> by extracting the numeric columns of a data frame and working with them,
>> then recombining them with the character columns. R?s performance working
>> with data frames has improved since then, so I really don?t know if it
>> would make a difference for your task.
>>
>>
>>
>> -Don
>>
>>
>>
>> --
>>
>> Don MacQueen
>>
>> Lawrence Livermore National Laboratory
>>
>> 7000 East Ave., L-627
>>
>> Livermore, CA 94550
>>
>> 925-423-1062
>>
>> Lab cell 925-724-7509
>>
>>
>>
>>
>>
>> *From: *Luca Meyer <lucam1968 at gmail.com>
>> *Date: *Monday, April 30, 2018 at 8:08 AM
>> *To: *Rui Barradas <ruipbarradas at sapo.pt>
>> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <
>> r-help at r-project.org>
>> *Subject: *Re: [R] How to visualise what code is processed within a for
>> loop
>>
>>
>>
>> Hi Rui
>>
>> Thank you for your suggestion,
>>
>>
>>
>> I have tested the code suggested by you against that supplied by Don in
>> terms of timing and results are very much aligned: to populate a 5954x899
>> 0/1 matrix on my machine your procedure took 79 secs, while the one with
>> ifelse employed 80 secs, hence unfortunately not really any significant
>> time saved there.
>>
>> Nevertheless thank you for your contribution.
>>
>> Kind regards,
>>
>>
>>
>> Luca
>>
>>
>>
>> 2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:
>>
>> I forgot to explain why my suggestion.
>>
>> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
>> So all you have to do is coerce to integer.
>>
>> This works because the ifelse will return a 1 or a 0 depending on the
>> condition. Meaning exactly the same values. And is more efficient since
>> ifelse creates both vectors, the true part and the false part, and then
>> indexes those vectors in order to return the appropriate values. This is
>> the double of the trouble and a great deal of memory used.
>>
>> Rui Barradas
>>
>> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>>
>> Hello,
>>
>> instead of ifelse, the following is exactly the same and much more
>> efficient.
>>
>> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>>
>> Thanks Don,
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> is exaclty what I needed.
>>
>> Best regards,
>>
>> Luca
>>
>>
>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>
>> Your code doesn't make sense to me in a couple of ways.
>>
>> Inside the loop, the first line assigns a value to an object named "t".
>> Then, the second line does the same thing, assigns a value to an object
>> named "t".
>>
>> The value of the object named "t" after the second line will be the output
>> of the ifelse() expression, whatever that is. This has the effect of making
>> the first line irrelevant. Whatever value t has after the first line is
>> replaced by whatever it gets from the second line.
>>
>> It looks like the first line inside the loop is constructing the name of a
>> data frame column, and storing that name as a character string. However,
>> the second line doesn't use that name at all. If your goal is to update the
>> contents of a column, you need to assign something to that column in the
>> next line. Instead you assign it to the object named "t".
>>
>> What you're looking for will be more along the lines of this:
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> This may not a complete solution, since I have no idea what the contents
>> or structure of d1 are, or what the regexpr() is expected to return.
>>
>> And notice the use of double brackets, [[ and ]]. This is one way to
>> reference a column of a  data frame when you have the column's name stored
>> in a variable. Another way is d0[ , nm]
>>
>>
>> A couple of additional comments:
>>
>>   "t" is a poor choice of object name, because it is one of R's built-in
>> functions (immediately after starting a fresh session of R, with nothing
>> left over from any previous session, type help("r") and see what you get).
>>
>>   ifelse() is intended for use on vectors, not scalars, and it looks like
>> maybe you're using it on a scalar (can't be sure about this, though)
>>
>> For example, ifelse() is designed for this kind of usage:
>>
>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>
>> [1]  1 12  3
>>
>> Although it works ok for these
>>
>> ifelse(TRUE, 3, 4)
>>
>> [1] 3
>>
>> ifelse(FALSE, 3, 4)
>>
>> [1] 4
>> They are not really what it is intended for.
>>
>> --
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> 7000 East Ave., L-627
>> Livermore, CA 94550
>> 925-423-1062
>> Lab cell 925-724-7509
>>
>>
>> On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>
>>      Hi,
>>
>>      I am trying to debug the following code:
>>
>>      for (i in 1:10){
>>        t <- paste("d0$V",i,sep="")
>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>      }
>>
>>      and I would like to see what code is actually processing R, how can I
>> do
>>      that?
>>
>>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>>      according to the presence or absence of some text (contained in the
>> file
>>      d1) within the d0$X0 variable.
>>
>>      The code seem to run ok, if I add print(table(t)) within the loop I
>> can see
>>      that the ifelse procedure is working and to some cases within the
>> d0$V1 to
>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
>> d0$V10
>>      after the for loop they are all still equal to zero...
>>
>>      Thanks,
>>
>>      Luca
>>
>>          [[alternative HTML version deleted]]
>>
>>      ______________________________________________
>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>      PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>>      and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>>     [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From bri@n@d@vi@281 @ending from gm@il@com  Mon Apr 30 23:48:46 2018
From: bri@n@d@vi@281 @ending from gm@il@com (Brian Davis)
Date: Mon, 30 Apr 2018 15:48:46 -0600
Subject: [R] R 3.5 and RTools
Message-ID: <CAMM2pDo69mL2=w4GwWe=k7xHpHKwffMwLQuP90Uk+3ufxqOqVw@mail.gmail.com>

Is Rtools 3.4 or 3.5 the recommended version for to go along with R 3.5.0?

The reason I ask is our corporate IT upgraded our systems to R 3.5.0
but does not *want* to upgrade Rtools to 3.5 since it is not "frozen".
>From the RTools download page this seems like it should work but I 'd
like to confirm.

Thanks in advance,

Brian



From |u|@@@puerto @end|ng |rom gm@||@com  Sun Apr  1 14:27:40 2018
From: |u|@@@puerto @end|ng |rom gm@||@com (Luis Puerto)
Date: Sun, 1 Apr 2018 15:27:40 +0300
Subject: [R] =?utf-8?q?R_and_Java_10_=E2=9E=9C_rJava_not_able_to_build?=
In-Reply-To: <20180331012243.18f6b947@Draco.localdomain>
References: <5528AE93-6DF5-4DD8-8D73-8A95BEFF6830@gmail.com>
 <20180331012243.18f6b947@Draco.localdomain>
Message-ID: <1C384F51-F97B-4F49-9CCE-5D5EF0BC816A@gmail.com>

Hi John! 

Java was installed with Homebrew Cask as a user, if my memory doesn?t fail me. 

Thanks a lot for your help! Let?s see how the problem evolves. 

> On 31 Mar 2018, at 11:22, John <jwd at surewest.net> wrote:
> 
> On Tue, 27 Mar 2018 22:25:33 +0300
> Luis Puerto <luiss.puerto at gmail.com> wrote:
> 
> I don't run a Mac so this may not help.  Did you install java 10 as
> user or as root?  Using linux, applications installed as user will be
> inserted into your user space under /home/<user-name>.  As root the
> application will located where any user of the system with permission
> to run the application can access it.  I ran into a problem similar to
> this with packages, some installed as root and some installed locally
> in my user directory.  
> 
> JWDougherty
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From |u|@@@puerto @end|ng |rom gm@||@com  Sun Apr  1 14:29:45 2018
From: |u|@@@puerto @end|ng |rom gm@||@com (Luis Puerto)
Date: Sun, 1 Apr 2018 15:29:45 +0300
Subject: [R] =?utf-8?q?R_and_Java_10_=E2=9E=9C_rJava_not_able_to_build?=
In-Reply-To: <CE1E021E-42D7-43F5-945A-B88B3D5D6003@gmail.com>
References: <5528AE93-6DF5-4DD8-8D73-8A95BEFF6830@gmail.com>
 <20180331012243.18f6b947@Draco.localdomain>
 <CE1E021E-42D7-43F5-945A-B88B3D5D6003@gmail.com>
Message-ID: <0E84162B-B4E4-426F-B7C2-8C2E293207C0@gmail.com>

Thanks Peter! 

Yeah, I don?t think we users can fix this issue. Let?s wait for a fix from rJava team. 

Luis. 

> On 31 Mar 2018, at 17:03, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Don't waste too much time on this. It is due to a change introduced in Java 10 at short notice. I believe the rJava maintainers are working on a fix/workaround.
> 
> -pd
> 
>> On 31 Mar 2018, at 10:22 , John <jwd at surewest.net> wrote:
>> 
>> On Tue, 27 Mar 2018 22:25:33 +0300
>> Luis Puerto <luiss.puerto at gmail.com> wrote:
>> 
>> I don't run a Mac so this may not help.  Did you install java 10 as
>> user or as root?  Using linux, applications installed as user will be
>> inserted into your user space under /home/<user-name>.  As root the
>> application will located where any user of the system with permission
>> to run the application can access it.  I ran into a problem similar to
>> this with packages, some installed as root and some installed locally
>> in my user directory.  
>> 
>> JWDougherty
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From chr|@t|@n @end|ng |rom echo||m@nn@ch  Mon Apr  2 22:37:04 2018
From: chr|@t|@n @end|ng |rom echo||m@nn@ch (Christian)
Date: Mon, 2 Apr 2018 22:37:04 +0200
Subject: [R] lintr error
Message-ID: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>

library("lintr")
Error: package or namespace load failed for 'lintr' in loadNamespace(j 
<- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):
  there is no package called 'magrittr'

  library("magrittr")
Error in library("magrittr") : there is no package called 'magrittr'

session.Info():
R version 3.4.4 (2018-03-15)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: macOS High Sierra 10.13.3

This error did not occur under R version 3.4.3

Search in R-project resulted in advice which did not work.

How can I proceed to get a working lintr?

Thanks CH
-- 
Christian Hoffmann
Rigiblickstrasse 15b
CH-8915 Hausen am Albis
Switzerland
Telefon +41-(0)44-7640853



From th|erry@onke||nx @end|ng |rom |nbo@be  Mon Apr  2 22:54:28 2018
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Mon, 2 Apr 2018 22:54:28 +0200
Subject: [R] lintr error
In-Reply-To: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>
References: <9475365f-3c6a-88a2-e853-cf45d9038a31@echoffmann.ch>
Message-ID: <CAJuCY5x-GVucYXFF4R0X6m9bunC_CX1OSu=9WehHH7F9gvwLTg@mail.gmail.com>

Try to (re-)install magrittr.

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-02 22:37 GMT+02:00 Christian <christian at echoffmann.ch>:
> library("lintr")
> Error: package or namespace load failed for 'lintr' in loadNamespace(j <-
> i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):
>  there is no package called 'magrittr'
>
>  library("magrittr")
> Error in library("magrittr") : there is no package called 'magrittr'
>
> session.Info():
> R version 3.4.4 (2018-03-15)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: macOS High Sierra 10.13.3
>
> This error did not occur under R version 3.4.3
>
> Search in R-project resulted in advice which did not work.
>
> How can I proceed to get a working lintr?
>
> Thanks CH
> --
> Christian Hoffmann
> Rigiblickstrasse 15b
> CH-8915 Hausen am Albis
> Switzerland
> Telefon +41-(0)44-7640853
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From d@|dhu @end|ng |rom uc@|g@ry@c@  Tue Apr  3 00:43:28 2018
From: d@|dhu @end|ng |rom uc@|g@ry@c@ (David Sidhu)
Date: Mon, 2 Apr 2018 22:43:28 +0000
Subject: [R] PCA with random effects
Message-ID: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>

I have the results of a rating study in which ~30 participants rated a subset
of 20 items on 25 different dimensions.

I would like to perform PCA on these ratings to reduce the 25 different
dimensions. However, instead of doing this on the mean ratings for each
item, I would like to perform the PCA at the level of individual ratings. I
am assuming that in order to do this I have to specify the fact that ratings
are nested within participants and within items (i.e., crossed random
effects for subjects and items). Is this possible?

---
David M. Sidhu, MSc<http://davidmsidhu.com/>
PhD Candidate
Department of Psychology
University of Calgary







	[[alternative HTML version deleted]]



From J|n@L| @end|ng |rom g@@gov@@u  Tue Apr  3 02:07:54 2018
From: J|n@L| @end|ng |rom g@@gov@@u (Li Jin)
Date: Tue, 3 Apr 2018 00:07:54 +0000
Subject: [R] xgboost: problems with predictions for count data
 [SEC=UNCLASSIFIED]
Message-ID: <656bd7184a9c4241924060a9858691da@win-exch-prod01.prod.lan>

Hi All,

I tried to use xgboost to model and predict count data. The predictions are however not as expected as shown below.
# sponge count data in library(spm)
    library(spm)
data(sponge)
data(sponge.grid)
names(sponge)
[1] "easting"  "northing" "sponge"   "tpi3"     "var7"     "entro7"   "bs34"     "bs11"
names(sponge.grid)
[1] "easting"  "northing" "tpi3"     "var7"     "entro7"   "bs34"     "bs11"
    range(sponge[, c(3)])
[1]  1 39 # count sample data

# the expected predictions are:
set.seed(1234)
gbmpred1 <- gbmpred(sponge[, -c(3)], sponge[, 3], sponge.grid[, c(1:2)], sponge.grid, family = "poisson", n.cores=2)
range(gbmpred1$Predictions)
[1] 10.04643 31.39230 # the expected predictions

# Here are results from xgboost
# use count:poisson
library(xgboost)
    xgbst2.1 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], max_depth = 2, eta = 0.001, nthread = 6, nrounds = 3000, objective = "count:poisson")
    xgbstpred2 <- predict(xgbst2.1, as.matrix(sponge.grid))
head(xgbstpred2)
range(xgbstpred2)
[1] 1.109032 4.083049 # much lower than expected
    table(xgbstpred2)
                1.10903215408325 1.26556181907654   3.578040599823 4.08304929733276  # only four predictions, why?
                36535             2714            40930            15351

   plot(gbmpred1$Predictions, xgbstpred2) # Fig 1

   # use reg:linear
    xgbst2.2 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], max_depth = 2, eta = 0.001, nthread = 6, nrounds = 3000, objective = "reg:linear")
    xgbstpred2.2 <- predict(xgbst2.2, as.matrix(sponge.grid))
    head(xgbstpred2.2)
    table(xgbstpred2.2)
    range( xgbstpred2.2)
[1]  9.019174 23.060669 # this is much closer to but still lower than what expected

   plot(gbmpred1$Predictions, xgbstpred2.2) # Fig 2

# use count:poisson and subsample = 0.5
set.seed(1234)
    param <- list(max_depth = 2, eta = 0.001, gamma = 0.001, subsample = 0.5, silent = 1, nthread = 6, objective = "count:poisson")
    xgbst2.4 <- xgboost(data = as.matrix(sponge[, -c(3)]), label = sponge[, 3], params = param, nrounds = 3000)
    xgbstpred2.4 <- predict(xgbst2.4, as.matrix(sponge.grid))
    head(xgbstpred2.4)
    table(xgbstpred2.4)
    range(xgbstpred2.4)
[1] 1.188561 3.986767 # this is much lower than what expected

   plot(gbmpred1$Predictions, xgbstpred2.4) # Fig 3
  plot(xgbstpred2.2, xgbstpred2.4) # Fig 4

All these were run in R 3.3.3 on Windows"
> Sys.info()
                     sysname                      release
                   "Windows"                      "7 x64"
                     version
"build 7601, Service Pack 1"
                     machine
                    "x86-64"

Have I miss-specified or missed some parameters? Or there is a bug in xgboost. I am grateful for any help.

Kind regards,
Jin

Jin Li, PhD | Spatial Modeller / Computational Statistician
National Earth and Marine Observations | Environmental Geoscience Division
t:  +61 2 6249 9899    www.ga.gov.au<http://www.ga.gov.au/>

Geoscience Australia Disclaimer: This e-mail (and files transmitted with it) is intended only for the person or entity to which it is addressed. If you are not the intended recipient, then you have received this e-mail by mistake and any use, dissemination, forwarding, printing or copying of this e-mail and its file attachments is prohibited. The security of emails transmitted cannot be guaranteed; by forwarding or replying to this email, you acknowledge and accept these risks.
-------------------------------------------------------------------------------------------------------------------------



From bgunter@4567 @end|ng |rom gm@||@com  Tue Apr  3 06:21:59 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 Apr 2018 21:21:59 -0700
Subject: [R] PCA with random effects
In-Reply-To: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>
References: <45F935A8-1DE1-4BE5-96C0-BC43A896F009@ucalgary.ca>
Message-ID: <CAGxFJbQ_zo5B09RFjoFMLVB3v7Ez+EAp0yACWs5iy95=mq9-JA@mail.gmail.com>

This is a statistical question, which is typically off topic here.
This list is primarily concerned with R programming questions,
although the two areas sometimes do intersect. I suggest you post on a
statistical list such as stats.stackexchange.com instead, especially
if you do not get a useful reply here.

Cheers,
Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 2, 2018 at 3:43 PM, David Sidhu <dsidhu at ucalgary.ca> wrote:
> I have the results of a rating study in which ~30 participants rated a subset
> of 20 items on 25 different dimensions.
>
> I would like to perform PCA on these ratings to reduce the 25 different
> dimensions. However, instead of doing this on the mean ratings for each
> item, I would like to perform the PCA at the level of individual ratings. I
> am assuming that in order to do this I have to specify the fact that ratings
> are nested within participants and within items (i.e., crossed random
> effects for subjects and items). Is this possible?
>
> ---
> David M. Sidhu, MSc<http://davidmsidhu.com/>
> PhD Candidate
> Department of Psychology
> University of Calgary
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From r-p@ck@ge@ @end|ng |rom r-project@org  Mon Apr  2 02:39:10 2018
From: r-p@ck@ge@ @end|ng |rom r-project@org (brodie gaslam via R-packages)
Date: Mon, 2 Apr 2018 00:39:10 +0000
Subject: [R] [R-pkgs] New Package fansi: ANSI Control Sequence Aware String
 Functions
References: <570443092.435468.1522629550677.ref@mail.yahoo.com>
Message-ID: <570443092.435468.1522629550677@mail.yahoo.com>

fansi provides counterparts to the base string manipulation functions substr, strwrap, strtrim, strsplit, and n(z)char that account for ANSI CSI SGR control sequences.? ANSI CSI SGR control sequences [1] can be used to format text in terminals that support them.

For example the control sequence "\033[31m" causes text that follows to render in red, and the control sequence "\033[0m" turns off formatting.? So with:

> substr_ctl("\033[31mABC\033[0m", 2, 2)
[1] "\033[31mB\033[0m"

we extract the second letter of the red formatted ABC while retaining the formatting.

fansi is written mostly in C, so its performance is comparable to the corresponding base functions.? There are versions of some of the functions with additional functionality.? For example, `substr2_ctl` supports character-width (as opposed to character-count) based substrings.

fansi is dependency-less.

Feedback is welcome either by e-mail or via github (<https://github.com/brodieG/fansi>).


Brodie.

[1] <https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters>.

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages



From g@g@ndeep_d@tt@ @end|ng |rom hotm@||@com  Wed Apr  4 09:03:42 2018
From: g@g@ndeep_d@tt@ @end|ng |rom hotm@||@com (Gagandeep S. Datta)
Date: Wed, 4 Apr 2018 07:03:42 +0000
Subject: [R] Unable to load a package --- UnivRNG
Message-ID: <MW2PR16MB21535546D08BB3DFF461C4228EA40@MW2PR16MB2153.namprd16.prod.outlook.com>

Hi,

I want to access the R code for UnivRNG but unable to load the files. I am new to R platform.


The link is https://cran.r-project.org/web/packages/UnivRNG/

Regards,
Gagandeep



	[[alternative HTML version deleted]]



From @|ex@nder@p@te @end|ng |rom m@nche@ter@@c@uk  Wed Apr  4 15:37:59 2018
From: @|ex@nder@p@te @end|ng |rom m@nche@ter@@c@uk (Alexander Pate)
Date: Wed, 4 Apr 2018 13:37:59 +0000
Subject: [R] parfm unable to fit models when hazard rate is small
Message-ID: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>

Hello, I would like to use the parfm package: https://cran.r-project.org/web/packages/parfm/parfm.pdfhttps://cran.r-project.org/web/packages/parfm/parfm.pdf in my work. This package fits parametric frailty models to survival data. To ensure I was using it properly, I started by running some small simulations to generate some survival data (without any random effects), and analyse the data using the parfm package. I am using an exponential baseline hazard. When the baseline hazard rate drops to 0.001, I get the following error when trying to fit the model:

Error in optimHess(par = ESTIMATE, fn = Mloglikelihood, obs = obsdata,  :
  non-finite finite-difference value [1]
In addition: Warning message:
In log(pars) : NaNs produced

Has anybody else come across this issue, or could suggest why parfm struggles with low event rates? Or could someone please run my code to see if they get the same issue? Full reproducible code is presented below.

Many thanks for any help,
Alex

CODE:

### Create function to generate data
simulWeib <- function(N, lambda, rho, beta1, beta2, beta3, beta4, rateC, sigma)
{
  # covariate --> N Bernoulli trials
  x1 <- sample(x=c(0, 1), size=N, replace=TRUE, prob=c(0.5, 0.5))

  # Now create random effect stuff
  # Create one vector of length N, all drawn from same normal distribution
  rand.effect <- rnorm(N,0,sigma)

  # Weibull latent event times
  v <- runif(n=N)
  Tlat <- round((- log(v) / (lambda * exp(x1 * beta1 + rand.effect)))^(1 / rho))
  multiplier = exp(x1 * beta1 + rand.effect)
  haz=lambda * exp(x1 * beta1 + rand.effect)

  # censoring times
  #C <-rep(100000,N)
  C <- rexp(n=N, rate=rateC)

  # follow-up times and event indicators
  time <- pmin(Tlat, C)
  #status <- as.numeric(rep(1,N))
  status <- as.numeric(Tlat <= C)

  # data set
  data.frame(id=1:N,
             id10=ceiling(1:N/10),
             time=time,
             status=status,
             x1 = as.factor(x1),
             re=rand.effect,
             multiplier=multiplier,
             haz=haz)
}

### The reason it doesn't work is becayse the event rate gets so small!!
set.seed(101)

# Note that although data generated is for weibull, I set rho = 1 so it reduces to an exponential hazard, with rate = lambda
# Also note sigma = 0, so random effect is not present

## Create data and fit model, lambda = 0.1
data0<-simulWeib(10000,lambda=0.1,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.01
data0<-simulWeib(10000,lambda=0.01,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.001
data0<-simulWeib(10000,lambda=0.001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

## Create data and fit model, lambda = 0.0001
data0<-simulWeib(10000,lambda=0.0001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
fit.cox0

	[[alternative HTML version deleted]]



From ro@||n@ump @end|ng |rom gm@||@com  Wed Apr  4 17:10:45 2018
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Wed, 4 Apr 2018 23:10:45 +0800
Subject: [R] Plot data in sequence
Message-ID: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>

Hi r-users,

I would like to draw line plots. However, the plot starts from 11121 data
and plot data ENTRY last in the plot.

Here is the code and data.

datn <- read.table(header=TRUE, text='
LEVEL   STATUS      CGPA
DIPLOMA ENTRY 3.32
DIPLOMA 11121 2.91
DIPLOMA 11122 2.90
DIPLOMA 12131 2.89
DIPLOMA 12132 2.89
DIPLOMA 13141 2.93
DIPLOMA 13142 2.96
DIPLOMA 14151 2.76
DIPLOMA 14152 2.73
STPM ENTRY 2.77
STPM 11121 3.26
STPM 11122 3.30
STPM 12131 3.28
STPM 12132 3.27
STPM 13141 3.28
STPM 13142 3.28
STPM 14151 3.30
STPM 14152 3.31
MATRIC ENTRY 2.93
MATRIC 11121 2.69
MATRIC 11122 2.79
MATRIC 12131 2.81
MATRIC 12132 2.80
MATRIC 13141 2.77
MATRIC 13142 2.76
MATRIC 14151 2.78
MATRIC 14152 2.82
STAM ENTRY 2.00
STAM 11121 3.05
STAM 11122 2.99
STAM 12131 2.97
STAM 12132 2.89
STAM 13141 2.84
STAM 13142 2.79
STAM 14151 2.79
STAM 14152 2.77
')

ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
    geom_line(size=1.3) +
    geom_point()+
    #guides(fill=FALSE) +
    theme(legend.title=element_blank(),legend.position=c(.3,
.3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))

Thank you very much.

-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]



From @@r@h@go@|ee @end|ng |rom gm@||@com  Wed Apr  4 18:07:55 2018
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Wed, 4 Apr 2018 12:07:55 -0400
Subject: [R] Plot data in sequence
In-Reply-To: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
References: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
Message-ID: <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>

Hi,

Thanks for the reproducible example.

Looking at
str(datn)
would give you a clue.
STATUS is a factor because it contains character values. Factor levels
by default are alphabetical with numbers first, but you can change
those.

> str(datn)
'data.frame': 36 obs. of  3 variables:
 $ LEVEL : Factor w/ 4 levels "DIPLOMA","MATRIC",..: 1 1 1 1 1 1 1 1 1 4 ...
 $ STATUS: Factor w/ 9 levels "11121","11122",..: 9 1 2 3 4 5 6 7 8 9 ...
 $ CGPA  : num  3.32 2.91 2.9 2.89 2.89 2.93 2.96 2.76 2.73 2.77 ...

> levels(datn$STATUS)
[1] "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152" "ENTRY"
> datn$STATUS <- factor(datn$STATUS, levels=c("ENTRY", "11121", "11122", "12131", "12132", "13141", "13142", "14151", "14152"))
> levels(datn$STATUS)
[1] "ENTRY" "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152"

Reorder the levels to your desired outcome, and then plot the data again.

Sarah

On Wed, Apr 4, 2018 at 11:10 AM, roslinazairimah zakaria
<roslinaump at gmail.com> wrote:
> Hi r-users,
>
> I would like to draw line plots. However, the plot starts from 11121 data
> and plot data ENTRY last in the plot.
>
> Here is the code and data.
>
> datn <- read.table(header=TRUE, text='
> LEVEL   STATUS      CGPA
> DIPLOMA ENTRY 3.32
> DIPLOMA 11121 2.91
> DIPLOMA 11122 2.90
> DIPLOMA 12131 2.89
> DIPLOMA 12132 2.89
> DIPLOMA 13141 2.93
> DIPLOMA 13142 2.96
> DIPLOMA 14151 2.76
> DIPLOMA 14152 2.73
> STPM ENTRY 2.77
> STPM 11121 3.26
> STPM 11122 3.30
> STPM 12131 3.28
> STPM 12132 3.27
> STPM 13141 3.28
> STPM 13142 3.28
> STPM 14151 3.30
> STPM 14152 3.31
> MATRIC ENTRY 2.93
> MATRIC 11121 2.69
> MATRIC 11122 2.79
> MATRIC 12131 2.81
> MATRIC 12132 2.80
> MATRIC 13141 2.77
> MATRIC 13142 2.76
> MATRIC 14151 2.78
> MATRIC 14152 2.82
> STAM ENTRY 2.00
> STAM 11121 3.05
> STAM 11122 2.99
> STAM 12131 2.97
> STAM 12132 2.89
> STAM 13141 2.84
> STAM 13142 2.79
> STAM 14151 2.79
> STAM 14152 2.77
> ')
>
> ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
> colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
>     geom_line(size=1.3) +
>     geom_point()+
>     #guides(fill=FALSE) +
>     theme(legend.title=element_blank(),legend.position=c(.3,
> .3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))
>
> Thank you very much.
>
> --
> *Roslinazairimah Zakaria*
> *Tel: +609-5492370; Fax. No.+609-5492766*
>


-- 
Sarah Goslee
http://www.functionaldiversity.org



From ro@||n@ump @end|ng |rom gm@||@com  Wed Apr  4 18:15:33 2018
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Thu, 5 Apr 2018 00:15:33 +0800
Subject: [R] Plot data in sequence
In-Reply-To: <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>
References: <CANTvJZJGtdMg0=6y1rJi9TQUXFXfjPg8J6YgOv0hrPB0MZFB6A@mail.gmail.com>
 <CAM_vjukyMmSTgD13OUsL8RiUrqavrXmtvySDudVAn1+PjuJd9w@mail.gmail.com>
Message-ID: <CANTvJZKDCPOJGZW7RiWcaMOtRL9DsTF3xGWuUWC=T5TaiGSqFQ@mail.gmail.com>

Hi Sarah,

It works beautifully. Thank you very much.

On Thu, Apr 5, 2018 at 12:07 AM, Sarah Goslee <sarah.goslee at gmail.com>
wrote:

> Hi,
>
> Thanks for the reproducible example.
>
> Looking at
> str(datn)
> would give you a clue.
> STATUS is a factor because it contains character values. Factor levels
> by default are alphabetical with numbers first, but you can change
> those.
>
> > str(datn)
> 'data.frame': 36 obs. of  3 variables:
>  $ LEVEL : Factor w/ 4 levels "DIPLOMA","MATRIC",..: 1 1 1 1 1 1 1 1 1 4
> ...
>  $ STATUS: Factor w/ 9 levels "11121","11122",..: 9 1 2 3 4 5 6 7 8 9 ...
>  $ CGPA  : num  3.32 2.91 2.9 2.89 2.89 2.93 2.96 2.76 2.73 2.77 ...
>
> > levels(datn$STATUS)
> [1] "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152" "ENTRY"
> > datn$STATUS <- factor(datn$STATUS, levels=c("ENTRY", "11121", "11122",
> "12131", "12132", "13141", "13142", "14151", "14152"))
> > levels(datn$STATUS)
> [1] "ENTRY" "11121" "11122" "12131" "12132" "13141" "13142" "14151" "14152"
>
> Reorder the levels to your desired outcome, and then plot the data again.
>
> Sarah
>
> On Wed, Apr 4, 2018 at 11:10 AM, roslinazairimah zakaria
> <roslinaump at gmail.com> wrote:
> > Hi r-users,
> >
> > I would like to draw line plots. However, the plot starts from 11121 data
> > and plot data ENTRY last in the plot.
> >
> > Here is the code and data.
> >
> > datn <- read.table(header=TRUE, text='
> > LEVEL   STATUS      CGPA
> > DIPLOMA ENTRY 3.32
> > DIPLOMA 11121 2.91
> > DIPLOMA 11122 2.90
> > DIPLOMA 12131 2.89
> > DIPLOMA 12132 2.89
> > DIPLOMA 13141 2.93
> > DIPLOMA 13142 2.96
> > DIPLOMA 14151 2.76
> > DIPLOMA 14152 2.73
> > STPM ENTRY 2.77
> > STPM 11121 3.26
> > STPM 11122 3.30
> > STPM 12131 3.28
> > STPM 12132 3.27
> > STPM 13141 3.28
> > STPM 13142 3.28
> > STPM 14151 3.30
> > STPM 14152 3.31
> > MATRIC ENTRY 2.93
> > MATRIC 11121 2.69
> > MATRIC 11122 2.79
> > MATRIC 12131 2.81
> > MATRIC 12132 2.80
> > MATRIC 13141 2.77
> > MATRIC 13142 2.76
> > MATRIC 14151 2.78
> > MATRIC 14152 2.82
> > STAM ENTRY 2.00
> > STAM 11121 3.05
> > STAM 11122 2.99
> > STAM 12131 2.97
> > STAM 12132 2.89
> > STAM 13141 2.84
> > STAM 13142 2.79
> > STAM 14151 2.79
> > STAM 14152 2.77
> > ')
> >
> > ggplot(data=datn, aes(x=STATUS, y=CGPA, group=LEVEL,
> > colour=LEVEL),cex.axis=0.2, ylim=c(0,4)) +
> >     geom_line(size=1.3) +
> >     geom_point()+
> >     #guides(fill=FALSE) +
> >     theme(legend.title=element_blank(),legend.position=c(.3,
> > .3),axis.text.x = element_text(size=8),axis.text=element_text(size=10))
> >
> > Thank you very much.
> >
> > --
> > *Roslinazairimah Zakaria*
> > *Tel: +609-5492370; Fax. No.+609-5492766*
> >
>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]



From bgunter@4567 @end|ng |rom gm@||@com  Wed Apr  4 18:58:06 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 4 Apr 2018 09:58:06 -0700
Subject: [R] parfm unable to fit models when hazard rate is small
In-Reply-To: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>
References: <1FBFD3C651590248A8EE6C86B93BE4173318DF26@MBXP01.ds.man.ac.uk>
Message-ID: <CAGxFJbSAgtLnjeN4KCBU+5dANn+fyRo46incY6LVbEQy9=t3dg@mail.gmail.com>

Possible hint:

1. Look at the error message.

2.
> 1/0
[1] Inf


Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Apr 4, 2018 at 6:37 AM, Alexander Pate
<alexander.pate at manchester.ac.uk> wrote:
> Hello, I would like to use the parfm package: https://cran.r-project.org/web/packages/parfm/parfm.pdfhttps://cran.r-project.org/web/packages/parfm/parfm.pdf in my work. This package fits parametric frailty models to survival data. To ensure I was using it properly, I started by running some small simulations to generate some survival data (without any random effects), and analyse the data using the parfm package. I am using an exponential baseline hazard. When the baseline hazard rate drops to 0.001, I get the following error when trying to fit the model:
>
> Error in optimHess(par = ESTIMATE, fn = Mloglikelihood, obs = obsdata,  :
>   non-finite finite-difference value [1]
> In addition: Warning message:
> In log(pars) : NaNs produced
>
> Has anybody else come across this issue, or could suggest why parfm struggles with low event rates? Or could someone please run my code to see if they get the same issue? Full reproducible code is presented below.
>
> Many thanks for any help,
> Alex
>
> CODE:
>
> ### Create function to generate data
> simulWeib <- function(N, lambda, rho, beta1, beta2, beta3, beta4, rateC, sigma)
> {
>   # covariate --> N Bernoulli trials
>   x1 <- sample(x=c(0, 1), size=N, replace=TRUE, prob=c(0.5, 0.5))
>
>   # Now create random effect stuff
>   # Create one vector of length N, all drawn from same normal distribution
>   rand.effect <- rnorm(N,0,sigma)
>
>   # Weibull latent event times
>   v <- runif(n=N)
>   Tlat <- round((- log(v) / (lambda * exp(x1 * beta1 + rand.effect)))^(1 / rho))
>   multiplier = exp(x1 * beta1 + rand.effect)
>   haz=lambda * exp(x1 * beta1 + rand.effect)
>
>   # censoring times
>   #C <-rep(100000,N)
>   C <- rexp(n=N, rate=rateC)
>
>   # follow-up times and event indicators
>   time <- pmin(Tlat, C)
>   #status <- as.numeric(rep(1,N))
>   status <- as.numeric(Tlat <= C)
>
>   # data set
>   data.frame(id=1:N,
>              id10=ceiling(1:N/10),
>              time=time,
>              status=status,
>              x1 = as.factor(x1),
>              re=rand.effect,
>              multiplier=multiplier,
>              haz=haz)
> }
>
> ### The reason it doesn't work is becayse the event rate gets so small!!
> set.seed(101)
>
> # Note that although data generated is for weibull, I set rho = 1 so it reduces to an exponential hazard, with rate = lambda
> # Also note sigma = 0, so random effect is not present
>
> ## Create data and fit model, lambda = 0.1
> data0<-simulWeib(10000,lambda=0.1,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.01
> data0<-simulWeib(10000,lambda=0.01,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.001
> data0<-simulWeib(10000,lambda=0.001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
> ## Create data and fit model, lambda = 0.0001
> data0<-simulWeib(10000,lambda=0.0001,rho=1,rateC=0.0000000001, beta1=0.25,beta2=0,beta3=0,beta4=0, sigma = 0)
> fit.cox0<-parfm(Surv(time,status) ~ x1, data=data0, dist="exponential")
> fit.cox0
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From gnu||nux @end|ng |rom gmx@com  Thu Apr  5 12:44:03 2018
From: gnu||nux @end|ng |rom gmx@com (g l)
Date: Thu, 5 Apr 2018 12:44:03 +0200
Subject: [R] Obtain gradient at multiple values for exponetial decay model
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
Message-ID: <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>

Readers,

Data set:

t,c
0,100
40,78
80,59
120,38
160,25
200,21
240,16
280,12
320,10
360,9
400,7

graphdata<-read.csv('~/tmp/data.csv')
graphmodeld<-lm(log(graphdata[,2])~graphdata[,1])
graphmodelp<-exp(predict(graphmodeld))
plot(graphdata[,2]~graphdata[,1])
lines(graphdata[,1],graphmodelp)

Please what is the function and syntax to obtain gradient values for the model curve at various requested values, e.g.:

when graphdata[,1] at values = 100, 250, 350 ?



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Apr  5 16:40:07 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 Apr 2018 07:40:07 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
Message-ID: <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>

This smells like homework, which the Posting Guide indicates is off topic.

I am not aware of "the function" that will solve this, but if you know what a gradient is analytically then you should be able to put together a solution very similar to the code you already have with the addition of using the coef function.
-- 
Sent from my phone. Please excuse my brevity.

On April 5, 2018 3:44:03 AM PDT, g l <gnulinux at gmx.com> wrote:
>Readers,
>
>Data set:
>
>t,c
>0,100
>40,78
>80,59
>120,38
>160,25
>200,21
>240,16
>280,12
>320,10
>360,9
>400,7
>
>graphdata<-read.csv('~/tmp/data.csv')
>graphmodeld<-lm(log(graphdata[,2])~graphdata[,1])
>graphmodelp<-exp(predict(graphmodeld))
>plot(graphdata[,2]~graphdata[,1])
>lines(graphdata[,1],graphmodelp)
>
>Please what is the function and syntax to obtain gradient values for
>the model curve at various requested values, e.g.:
>
>when graphdata[,1] at values = 100, 250, 350 ?
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.



From gnu||nux @end|ng |rom gmx@com  Thu Apr  5 23:00:45 2018
From: gnu||nux @end|ng |rom gmx@com (g l)
Date: Thu, 5 Apr 2018 23:00:45 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
Message-ID: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>

> Sent: Thursday, April 05, 2018 at 4:40 PM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
> 
> the coef function.
> 

For the benefit of other novices, used the following command to read the documentation:

?coef

Then tried and obtained:

> cvalue100<-coef(graphmodelp~100)
> cvalue100
NULL

Then looked at the model values which of course correspond to original non-modelled values.

graphmodelp
        1         2         3         4         5         6         7         8 
91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714 13.514590 
        9        10        11 
10.287658  7.831233  5.961339

This prompted to think that interpolation is required, but the function 'approx' only seems to perform constant interpolation.

Is the correct thinking to find a function to perform interpolation, then find/write a function to differentiate the model at a specific value of x, to find gradient at that point?



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Apr  6 04:53:08 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 Apr 2018 19:53:08 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
Message-ID: <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>

Try

coef( graphmodeld )

And you don't need to approximate if you use the newdata argument to the predict function.

I think reading the "Introduction to R" that comes with R would help.
-- 
Sent from my phone. Please excuse my brevity.

On April 5, 2018 2:00:45 PM PDT, g l <gnulinux at gmx.com> wrote:
>> Sent: Thursday, April 05, 2018 at 4:40 PM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> 
>> the coef function.
>> 
>
>For the benefit of other novices, used the following command to read
>the documentation:
>
>?coef
>
>Then tried and obtained:
>
>> cvalue100<-coef(graphmodelp~100)
>> cvalue100
>NULL
>
>Then looked at the model values which of course correspond to original
>non-modelled values.
>
>graphmodelp
>1         2         3         4         5         6         7         8
>
>91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714
>13.514590 
>        9        10        11 
>10.287658  7.831233  5.961339
>
>This prompted to think that interpolation is required, but the function
>'approx' only seems to perform constant interpolation.
>
>Is the correct thinking to find a function to perform interpolation,
>then find/write a function to differentiate the model at a specific
>value of x, to find gradient at that point?



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr  6 05:55:05 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 5 Apr 2018 20:55:05 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponetial decay model
In-Reply-To: <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
Message-ID: <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>


> On Apr 5, 2018, at 2:00 PM, g l <gnulinux at gmx.com> wrote:
> 
>> Sent: Thursday, April 05, 2018 at 4:40 PM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> 
>> the coef function.
>> 
> 
> For the benefit of other novices, used the following command to read the documentation:
> 
> ?coef
> 
> Then tried and obtained:
> 
>> cvalue100<-coef(graphmodelp~100)
>> cvalue100
> NULL

Should have been:

  coef(graphmodelp)


> 
> Then looked at the model values which of course correspond to original non-modelled values.
> 
> graphmodelp
>        1         2         3         4         5         6         7         8 
> 91.244636 69.457794 52.873083 40.248368 30.638107 23.322525 17.753714 13.514590 
>        9        10        11 
> 10.287658  7.831233  5.961339

Read up on ?predict and what it delivers when only a model is offered as input.

> 
> This prompted to think that interpolation is required, but the function 'approx' only seems to perform constant interpolation.
> 
> Is the correct thinking to find a function to perform interpolation, then find/write a function to differentiate the model at a specific value of x, to find gradient at that point?

Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 

?predict

The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.


> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From gnu||nux @end|ng |rom gmx@com  Fri Apr  6 12:30:10 2018
From: gnu||nux @end|ng |rom gmx@com (g l)
Date: Fri, 6 Apr 2018 12:30:10 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
Message-ID: <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>

> Sent: Friday, April 06, 2018 at 4:53 AM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
> To: "g l" <gnulinux at gmx.com>
> coef( graphmodeld )
> 

coef(graphmodelp)
Error: $ operator is invalid for atomic vectors

A quick search engine query revealed primarily references to the dollar sign ($) operator which does not seem relevant to this question.



From gnu||nux @end|ng |rom gmx@com  Fri Apr  6 12:43:45 2018
From: gnu||nux @end|ng |rom gmx@com (g l)
Date: Fri, 6 Apr 2018 12:43:45 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
Message-ID: <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>

> Sent: Friday, April 06, 2018 at 5:55 AM
> From: "David Winsemius" <dwinsemius at comcast.net>
> 
> 
> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
> 
> ?predict
>

The ? details did not mention interpolation explicity; thanks.
 
> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
> 

The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)

Personal curiosity should be considered "homework".



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Apr  6 13:44:26 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 06 Apr 2018 04:44:26 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
Message-ID: <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>

You did not try my suggestion. You tried David's, which has a leftover mistake from your guesses about what the argument to coef should be.
-- 
Sent from my phone. Please excuse my brevity.

On April 6, 2018 3:30:10 AM PDT, g l <gnulinux at gmx.com> wrote:
>> Sent: Friday, April 06, 2018 at 4:53 AM
>> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>> To: "g l" <gnulinux at gmx.com>
>> coef( graphmodeld )
>> 
>
>coef(graphmodelp)
>Error: $ operator is invalid for atomic vectors
>
>A quick search engine query revealed primarily references to the dollar
>sign ($) operator which does not seem relevant to this question.



From gnu||nux @end|ng |rom gmx@com  Fri Apr  6 15:32:23 2018
From: gnu||nux @end|ng |rom gmx@com (g l)
Date: Fri, 6 Apr 2018 15:32:23 +0200
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
 <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
Message-ID: <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>

> Sent: Friday, April 06, 2018 at 1:44 PM
> From: "Jeff Newmiller" <jdnewmil at dcn.davis.ca.us>
>
> You did not try my suggestion. You tried David's, which has a leftover mistake from your guesses about what the argument to coef should be.

Yes, sorry for the mistake.

coef(graphmodeld)
   (Intercept) graphdata[, 1] 
   4.513544204   -0.006820623

This corresponds to the linear model but it is still not understood how this helps to determine gradients at specific points for the exponential model.



From S@E|||@on @end|ng |rom LGCGroup@com  Fri Apr  6 15:59:58 2018
From: S@E|||@on @end|ng |rom LGCGroup@com (S Ellison)
Date: Fri, 6 Apr 2018 13:59:58 +0000
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <891FAFEA-E5A9-4651-8733-0F5FFB7B5714@dcn.davis.ca.us>
 <trinity-2f5e4141-34ce-48f2-99b6-4eb7e0951cd4-1523010610897@3c-app-mailcom-bs10>
 <51DB6CB8-1528-467C-9657-AFB686D8D759@dcn.davis.ca.us>
 <trinity-57b815d1-f935-4aad-bded-63d81f654495-1523021543156@3c-app-mailcom-bs05>
Message-ID: <92d9c77e32f34757a3b63a1c86cd58cd@GBDCVPEXC08.corp.lgc-group.com>

> coef(graphmodeld)
>    (Intercept) graphdata[, 1]
>    4.513544204   -0.006820623
> 
> This corresponds to the linear model but it is still not understood how this helps
> to determine gradients at specific points for the exponential model.

You have fitted log(y) against x. Your fitted linear model is therefore 
log(y) = 4.5135 - 0.00682x

From there:
- do the basic algebra to get y in terms of x
- differentiate analytically to get dy/dx as a function of x.
- write that calculation in R to get your gradients at any value of x.

Or you could get R to give you the differential function from your function for y; see ?D

S Ellison




*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr  6 17:03:26 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 08:03:26 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
Message-ID: <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>


> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
> 
>> Sent: Friday, April 06, 2018 at 5:55 AM
>> From: "David Winsemius" <dwinsemius at comcast.net>
>> 
>> 
>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>> 
>> ?predict
>> 
> 
> The ? details did not mention interpolation explicity; thanks.
> 
>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>> 
> 
> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
> 
> Personal curiosity should be considered "homework".

Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:

myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
                                          .0001 }
myNumDeriv(c(100, 250, 350))



David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From d@v|d@m| @end|ng |rom m|cro@o|t@com  Fri Apr  6 17:12:35 2018
From: d@v|d@m| @end|ng |rom m|cro@o|t@com (David Smith (CDA))
Date: Fri, 6 Apr 2018 15:12:35 +0000
Subject: [R] Revolutions blog roundup: March 2018
Message-ID: <CY4PR21MB0790ABC3FE9F247D008735B2C8BA0@CY4PR21MB0790.namprd21.prod.outlook.com>

Since 2008, Microsoft staff and guests have written about R at the Revolutions
blog (http://blog.revolutionanalytics.com) and every month I post a summary of
articles from the previous month of particular interest to readers of r-help.

In case you missed them, here are some articles related to R from the
month of March:

The "reticulate" package provides an interface between R and Python:
http://blog.revolutionanalytics.com/2018/03/reticulate.html

BotRNot, a Shiny application that uses a generalized boosting model to identify
bots on Twitter:
http://blog.revolutionanalytics.com/2018/03/twitter-bot-or-not.html

Using the Computer Vision API from R to generate captions for images:
http://blog.revolutionanalytics.com/2018/03/computer-vision-api.html

The 20 most prolific package maintainers on CRAN:
http://blog.revolutionanalytics.com/2018/03/the-most-prolific-package-maintainers-on-cran.html

The first in a series of monthly roundups of links on AI, ML and Data Science
http://blog.revolutionanalytics.com/2018/03/aimlds-roundup-march-2018.html

A guide to using R with Docker via the Rocker project:
http://blog.revolutionanalytics.com/2018/03/r-and-docker.html

R 3.4.4 is released:
http://blog.revolutionanalytics.com/2018/03/r-344-released.html

R rises to 12th place in the semiannual Redmonk language rankings:
http://blog.revolutionanalytics.com/2018/03/redmonk-jan-2018.html

The OutliersO3 compares various methods for detecting outliers:
http://blog.revolutionanalytics.com/2018/03/outliers.html

Concepts about data in R explained to Excel users:
http://blog.revolutionanalytics.com/2018/03/r-data-concepts-for-excel-users.html

A proposal for improving the process of selecting Bayesian priors:
http://blog.revolutionanalytics.com/2018/03/bayesian-egg.html

And some general interest stories (not necessarily related to R):

* Open Source Software, explained using Lego
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-open-source-in-lego.html

* An impressive arithmetic performance on Countdown 
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-countdown-952.html

* Citizens in Melbourne email trees
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-email-a-tree.html

* A good listen on foreign policy: the Bombshell podcast
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-bombshell.html

* Dancing with the neighbours:
  http://blog.revolutionanalytics.com/2018/03/because-its-friday-meet-the-neighbors.html

* Free Azure credits for students, without needing a credit card:
  http://blog.revolutionanalytics.com/2018/03/free-azure-credits-for-students.html

As always, thanks for the comments and please keep sending suggestions to
me at davidsmi at microsoft.com or via Twitter (I'm @revodavid).

Cheers,
# David

-- 
David M Smith <davidsmi at microsoft.com>
Developer Advocate, Microsoft Cloud & Enterprise 
Tel: +1 (312) 9205766 (Chicago IL, USA)
Twitter: @revodavid | Blog: ?http://blog.revolutionanalytics.com



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr  6 17:15:13 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 08:15:13 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
Message-ID: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>


> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>> 
>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>> 
>>> 
>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>>> 
>>> ?predict
>>> 
>> 
>> The ? details did not mention interpolation explicity; thanks.
>> 
>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>> 
>> 
>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>> 
>> Personal curiosity should be considered "homework".
> 
> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
> 
> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
>                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>                                          .0001 }
> myNumDeriv(c(100, 250, 350))

I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:

 graphdata<-read.csv(text='t,c
 0,100
 40,78
 80,59
 120,38
 160,25
 200,21
 240,16
 280,12
 320,10
 360,9
 400,7')
 graphmodeld<-lm(log(c)~t, graphdata)
 graphmodelp<-exp(predict(graphmodeld))
 plot(c~t, graphdata)
 lines(graphdata[,1],graphmodelp)
 myNumDeriv(c(100, 250, 350), graphmodeld )
#----------------------------------------------
          1           2           3 
-0.31464102 -0.11310753 -0.05718414 


> 
> 
> 
> David Winsemius
> Alameda, CA, USA
> 
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr  6 20:25:16 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 6 Apr 2018 11:25:16 -0700
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
Message-ID: <85D10557-E483-4601-886A-F12C31B9B813@comcast.net>


> On Apr 6, 2018, at 8:15 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> 
>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>> 
>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>> 
>>>> 
>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See: 
>>>> 
>>>> ?predict
>>>> 
>>> 
>>> The ? details did not mention interpolation explicity; thanks.
>>> 
>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>>> 
>>> 
>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>>> 
>>> Personal curiosity should be considered "homework".
>> 
>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>> 
>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) - 
>>                                           exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>                                         .0001 }
>> myNumDeriv(c(100, 250, 350))
> 
> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:
> 
> graphdata<-read.csv(text='t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7')
> graphmodeld<-lm(log(c)~t, graphdata)
> graphmodelp<-exp(predict(graphmodeld))
> plot(c~t, graphdata)
> lines(graphdata[,1],graphmodelp)

Again I attempt to correct my incomplete code with this definition that had be modified to take a model object as its second argument:

myNumDeriv <- function(x, mod) (exp( predict (mod, newdata=data.frame(t=x+.0001))) - exp( predict (mod, newdata=data.frame(t=x) )))/.0001


> myNumDeriv(c(100, 250, 350), graphmodeld )
> #----------------------------------------------
>          1           2           3 
> -0.31464102 -0.11310753 -0.05718414 
> 
> 
>> 
>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> David Winsemius
> Alameda, CA, USA
> 
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Fri Apr  6 21:52:29 2018
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Fri, 6 Apr 2018 19:52:29 +0000 (UTC)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <687478916.36477.1522525938910@mail.yahoo.com>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
Message-ID: <1171231551.29624.1523044349525@mail.yahoo.com>

R-experts,

I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope). 
Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?

Here is the reproducible code

###############
X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

{reg1<-lm(Y ~ X)
plot(X,Y)
abline(reg1, col="black")

install.packages("robustbase") 
library?(robustbase)
reg=lmrob(Y ~ X)
abline(reg, col="green")

install.packages("MASS")? 
library(MASS)
Huber=rlm(Y ~ X)
abline(Huber,col="red")

Tukey=rlm(Y ~ X,psi=psi.bisquare)
abline(Tukey,col="purple")

install.packages("quantreg")
library(quantreg)
L1=rq(Y ~ X,tau=0.5)
abline(L1,col="blue")

install.packages("RobPer")
library(RobPer)
FastTau(Y,X)
fast=FastTau(Y,X)
abline(unlist(fast), col="yellow")

legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
###############









Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit : 





Many thanks Duncun,

Best,





Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit : 





On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
> Dear R-experts,
> 
> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
> Many thanks for your reply.
> 

It's not quite reproducible:? you forgot the line to create Dataset. 
It's probably something like

Dataset <- data.frame(Y, Z)

> ##########
> 
> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
> reg1<-lm(Z ~ Y)
> plot(Y,Z)
> abline(reg1, col="black")
> 
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Z ~ Y, data = Dataset)
> abline(reg, col="green")
> 
> install.packages("MASS")
> library(MASS)
> Huber=rlm(Z ~ Y, data = Dataset)
> abline(Huber,col="red")
> 
> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
> abline(Tukey,col="purple")
>? 
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
> abline(L1,col="blue")
>? 
> install.packages("RobPer")
> library(RobPer)
> FastTau(Z,Y)
> fast=FastTau(Z,Y)
> abline(fast, col="yellow")

abline() doesn't know what to do with the "fast" object.? It isn't a 
vector containing intercept and slope, it's a list containing them.? So 
you'll need something like

abline(unlist(fast), col="yellow")

Duncan Murdoch


> 
> ##########
>? 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

> 

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Apr  7 07:25:17 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 6 Apr 2018 22:25:17 -0700 (PDT)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <1171231551.29624.1523044349525@mail.yahoo.com>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
 <1171231551.29624.1523044349525@mail.yahoo.com>
Message-ID: <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>

You need to pay attention to the documentation more closely. If you don't 
know what something means, that is usually a signal that you need to study 
more... in this case about the difference between an input variable and a 
design (model) matrix. This is a concept from the standard linear algebra 
formulation for regression equations. (Note that I have never used RobPer, 
nor do I regularly mess with model matrices, but I do recognize the term 
"design matrix" and used help.search("design matrix") to track this down.)

Thanks for the reprex, though it is highly irregular to intersperse 
install.packages in code that may be run more than once.

######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)

X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

   reg1 <- lm( Y ~ X )
   plot( X, Y )
   abline( reg1, col = "black" )

   reg <- lmrob( Y ~ X )
   abline( reg, col = "green" )

   Huber <- rlm( Y ~ X )
   abline( Huber, col="red" )

   Tukey <- rlm( Y ~ X, psi = psi.bisquare )
   abline( Tukey, col = "purple" )

   L1 <- rq( Y ~ X, tau = 0.5 )
   abline( L1, col = "blue" )

   fast <- FastTau(model.matrix(~X),Y)
   fast # save result, then print... avoid computing twice
   # model matrix leads to first element of beta as constant and
   # second element of beta as slope
   abline( fast$beta, col="yellow" )

   legend( "topright"
         , c( "OLS"
            , "L1"
            , "Huber M-estimator"
            , "Tukey"
            , "MM"
            , "fast tau"
            )
        , inset = 0.02
        , lwd = 2
        , col = c( "black","blue","red","purple","green", "yellow")
        , cex = .9
        )
######################

On Fri, 6 Apr 2018, varin sacha via R-help wrote:

> R-experts,
>
> I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope).
> Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?
>
> Here is the reproducible code
>
> ###############
> X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
> Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
>
> {reg1<-lm(Y ~ X)
> plot(X,Y)
> abline(reg1, col="black")
>
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Y ~ X)
> abline(reg, col="green")
>
> install.packages("MASS")?
> library(MASS)
> Huber=rlm(Y ~ X)
> abline(Huber,col="red")
>
> Tukey=rlm(Y ~ X,psi=psi.bisquare)
> abline(Tukey,col="purple")
>
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Y ~ X,tau=0.5)
> abline(L1,col="blue")
>
> install.packages("RobPer")
> library(RobPer)
> FastTau(Y,X)
> fast=FastTau(Y,X)
> abline(unlist(fast), col="yellow")
>
> legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
> ###############
>
>
>
>
>
>
>
>
>
> Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit :
>
>
>
>
>
> Many thanks Duncun,
>
> Best,
>
>
>
>
>
> Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit :
>
>
>
>
>
> On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
>> Dear R-experts,
>>
>> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
>> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
>> Many thanks for your reply.
>>
>
> It's not quite reproducible:? you forgot the line to create Dataset.
> It's probably something like
>
> Dataset <- data.frame(Y, Z)
>
>> ##########
>>
>> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
>> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
>> reg1<-lm(Z ~ Y)
>> plot(Y,Z)
>> abline(reg1, col="black")
>>
>> install.packages("robustbase")
>> library?(robustbase)
>> reg=lmrob(Z ~ Y, data = Dataset)
>> abline(reg, col="green")
>>
>> install.packages("MASS")
>> library(MASS)
>> Huber=rlm(Z ~ Y, data = Dataset)
>> abline(Huber,col="red")
>>
>> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
>> abline(Tukey,col="purple")
>> ?
>> install.packages("quantreg")
>> library(quantreg)
>> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
>> abline(L1,col="blue")
>> ?
>> install.packages("RobPer")
>> library(RobPer)
>> FastTau(Z,Y)
>> fast=FastTau(Z,Y)
>> abline(fast, col="yellow")
>
> abline() doesn't know what to do with the "fast" object.? It isn't a
> vector containing intercept and slope, it's a list containing them.? So
> you'll need something like
>
> abline(unlist(fast), col="yellow")
>
> Duncan Murdoch
>
>
>>
>> ##########
>> ?
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
---------------------------------------------------------------------------

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Apr  7 08:19:52 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 6 Apr 2018 23:19:52 -0700 (PDT)
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
Message-ID: <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>

I have never found the R symbolic differentiation helpful because my 
functions are typically quite complicated, but was prompted by Steve 
Ellison's suggestion to try it out in this case:

################# reprex (see reprex package)
graphdta <- read.csv( text =
"t,c
0,100
40,78
80,59
120,38
160,25
200,21
240,16
280,12
320,10
360,9
400,7
", header = TRUE )

nd <- c( 100, 250, 300 )
graphmodeld <- lm( log(c) ~ t, data = graphdta )
graphmodelplin <- predict( graphmodeld
                          , newdata = data.frame( t = nd )
                          )
graphmodelp <- exp(graphmodelplin)
graphmodelp
#>        1        2        3
#> 46.13085 16.58317 11.79125
# derivative of exp( a + b*t ) is b * exp( a + b*t )
graphmodeldpdt <- coef( graphmodeld )[ 2 ] * graphmodelp
graphmodeldpdt
#>           1           2           3
#> -0.31464113 -0.11310757 -0.08042364

# Ellison suggestion - fancy, only works for simple functions
dc <- deriv( expression( exp( a + b * t ) )
            , namevec = "t"
            )
dcf <- function( t ) {
   cgm <- coef( graphmodeld )
   a <- cgm[ 1 ]
   b <- cgm[ 2 ]
   eval(dc)
}
result <- dcf( nd )
result
#> [1] 46.13085 16.58317 11.79125
#> attr(,"gradient")
#>                t
#> [1,] -0.31464113
#> [2,] -0.11310757
#> [3,] -0.08042364
attr( result, "gradient" )[ , 1 ]
#> [1] -0.31464113 -0.11310757 -0.08042364
#################

On Fri, 6 Apr 2018, David Winsemius wrote:

>
>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>
>>
>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>>
>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>>
>>>>
>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the values of the coefficients in the model. See:
>>>>
>>>> ?predict
>>>>
>>>
>>> The ? details did not mention interpolation explicity; thanks.
>>>
>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the mathematical definiton of that term. We also remain unclear whether this is homework.
>>>>
>>>
>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to read further ("curiosity"), not the answer (indeed, "homework"). :)
>>>
>>> Personal curiosity should be considered "homework".
>>
>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>>
>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) -
>>                                            exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>                                          .0001 }
>> myNumDeriv(c(100, 250, 350))
>
> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version using R formulae:
>
> graphdata<-read.csv(text='t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7')
> graphmodeld<-lm(log(c)~t, graphdata)
> graphmodelp<-exp(predict(graphmodeld))
> plot(c~t, graphdata)
> lines(graphdata[,1],graphmodelp)
> myNumDeriv(c(100, 250, 350), graphmodeld )
> #----------------------------------------------
>          1           2           3
> -0.31464102 -0.11310753 -0.05718414
>
>
>>
>>
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k



From pro|jcn@@h @end|ng |rom gm@||@com  Sat Apr  7 14:37:41 2018
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Sat, 7 Apr 2018 08:37:41 -0400
Subject: [R] 
 Obtain gradient at multiple values for exponential decay model
In-Reply-To: <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>
References: <trinity-86949c80-237d-47e6-a8e5-e30fa610603c-1522924535339@3c-app-mailcom-bs08>
 <trinity-3b1455ba-8cdb-46c3-9b48-f8fe40cf90a3-1522925043842@3c-app-mailcom-bs08>
 <B9387C15-AF98-4CDB-9B27-EB89CD2EE81A@dcn.davis.ca.us>
 <trinity-7f4da412-5516-45ae-b7b2-63ddcae1c731-1522962045163@3c-app-mailcom-bs11>
 <3A7B5034-E5DD-410C-8192-34B28DD53241@comcast.net>
 <trinity-f5314e68-6641-464d-afb9-ecfbfe0cee31-1523011425807@3c-app-mailcom-bs10>
 <FF1BDE06-F8AB-427E-95DF-C279CCC6C398@comcast.net>
 <93EA05C1-E56D-45D2-BB1F-36595821E5BE@comcast.net>
 <alpine.BSF.2.00.1804062258200.72182@pedal.dcn.davis.ca.us>
Message-ID: <924959fc-a95d-940c-5884-edc45d5a58d7@gmail.com>

R users may want to note that there are some extensions in packages for symbolic derivatives.

In particular, Duncan Murdoch added some "all in R" tools in the package nlsr that I maintain. This
is a substitute for the nls() function that uses a fairly unsatisfactory forward difference derivative
approximation. Moreover, the solver in nlsr is a variant of the Marquardt stabilized Gauss-Newton
approach, rather than the straight Gauss-Newton that often gives a "singular gradient" error. Nothing
is free, of course, and the Marquardt approach often uses more iterations when the problem is
uncomplicated. On the other hand, it is rather like a pit bull in trying to find a solution.

There is also the Deriv package, also "all in R". Both it and nlsr allow extensions to the derivatives
table, though I think most users will need to do some homework to become comfortable with doing
that.

There is also a Google Summer of Code proposal this year to wrap the Julia Automatic Differentiation
tools to R. This would allow derivatives of coded functions to be computed avoiding approximations.
I believe it will be at least partly successful in achieving its goals.

Unfortunately (and I would rather hope that someone can say eventually that I am wrong), I believe
no tool is universally applicable.

JN

On 2018-04-07 02:19 AM, Jeff Newmiller wrote:
> I have never found the R symbolic differentiation helpful because my functions are typically quite complicated, but was
> prompted by Steve Ellison's suggestion to try it out in this case:
> 
> ################# reprex (see reprex package)
> graphdta <- read.csv( text =
> "t,c
> 0,100
> 40,78
> 80,59
> 120,38
> 160,25
> 200,21
> 240,16
> 280,12
> 320,10
> 360,9
> 400,7
> ", header = TRUE )
> 
> nd <- c( 100, 250, 300 )
> graphmodeld <- lm( log(c) ~ t, data = graphdta )
> graphmodelplin <- predict( graphmodeld
> ???????????????????????? , newdata = data.frame( t = nd )
> ???????????????????????? )
> graphmodelp <- exp(graphmodelplin)
> graphmodelp
> #>??????? 1??????? 2??????? 3
> #> 46.13085 16.58317 11.79125
> # derivative of exp( a + b*t ) is b * exp( a + b*t )
> graphmodeldpdt <- coef( graphmodeld )[ 2 ] * graphmodelp
> graphmodeldpdt
> #>?????????? 1?????????? 2?????????? 3
> #> -0.31464113 -0.11310757 -0.08042364
> 
> # Ellison suggestion - fancy, only works for simple functions
> dc <- deriv( expression( exp( a + b * t ) )
> ?????????? , namevec = "t"
> ?????????? )
> dcf <- function( t ) {
> ? cgm <- coef( graphmodeld )
> ? a <- cgm[ 1 ]
> ? b <- cgm[ 2 ]
> ? eval(dc)
> }
> result <- dcf( nd )
> result
> #> [1] 46.13085 16.58317 11.79125
> #> attr(,"gradient")
> #>??????????????? t
> #> [1,] -0.31464113
> #> [2,] -0.11310757
> #> [3,] -0.08042364
> attr( result, "gradient" )[ , 1 ]
> #> [1] -0.31464113 -0.11310757 -0.08042364
> #################
> 
> On Fri, 6 Apr 2018, David Winsemius wrote:
> 
>>
>>> On Apr 6, 2018, at 8:03 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>
>>>
>>>> On Apr 6, 2018, at 3:43 AM, g l <gnulinux at gmx.com> wrote:
>>>>
>>>>> Sent: Friday, April 06, 2018 at 5:55 AM
>>>>> From: "David Winsemius" <dwinsemius at comcast.net>
>>>>>
>>>>>
>>>>> Not correct. You already have `predict`. It is capale of using the `newdata` values to do interpolation with the
>>>>> values of the coefficients in the model. See:
>>>>>
>>>>> ?predict
>>>>>
>>>>
>>>> The ? details did not mention interpolation explicity; thanks.
>>>>
>>>>> The original question asked for a derivative (i.e. a "gradient"), but so far it's not clear that you understand the
>>>>> mathematical definiton of that term. We also remain unclear whether this is homework.
>>>>>
>>>>
>>>> The motivation of this post was simple differentiation of a tangent point (dy/dx) manually, then wondering how to
>>>> re-think in modern-day computing terms. Hence the original question about asking the appropriate functions/syntax to
>>>> read further ("curiosity"), not the answer (indeed, "homework"). :)
>>>>
>>>> Personal curiosity should be considered "homework".
>>>
>>> Besides symbolic differentiation, there is also the option of numeric differentiation. Here's an amateurish attempt:
>>>
>>> myNumDeriv <- function(x){ (exp( predict (graphmodeld, newdata=data.frame(t=x+.0001))) -
>>> ?????????????????????????????????????????? exp( predict (graphmodeld, newdata=data.frame(t=x) )))/
>>> ???????????????????????????????????????? .0001 }
>>> myNumDeriv(c(100, 250, 350))
>>
>> I realized that this would not work in the context of your construction. I had earlier made a more symbolic version
>> using R formulae:
>>
>> graphdata<-read.csv(text='t,c
>> 0,100
>> 40,78
>> 80,59
>> 120,38
>> 160,25
>> 200,21
>> 240,16
>> 280,12
>> 320,10
>> 360,9
>> 400,7')
>> graphmodeld<-lm(log(c)~t, graphdata)
>> graphmodelp<-exp(predict(graphmodeld))
>> plot(c~t, graphdata)
>> lines(graphdata[,1],graphmodelp)
>> myNumDeriv(c(100, 250, 350), graphmodeld )
>> #----------------------------------------------
>> ???????? 1?????????? 2?????????? 3
>> -0.31464102 -0.11310753 -0.05718414
>>
>>
>>>
>>>
>>>
>>> David Winsemius
>>> Alameda, CA, USA
>>>
>>> 'Any technology distinguishable from magic is insufficiently advanced.'?? -Gehm's Corollary to Clarke's Third Law
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'?? -Gehm's Corollary to Clarke's Third Law
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ---------------------------------------------------------------------------
> Jeff Newmiller??????????????????????? The???? .....?????? .....? Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>??????? Basics: ##.#.?????? ##.#.? Live Go...
> ????????????????????????????????????? Live:?? OO#.. Dead: OO#..? Playing
> Research Engineer (Solar/Batteries??????????? O.O#.?????? #.O#.? with
> /Software/Embedded Controllers)?????????????? .OO#.?????? .OO#.? rocks...1k
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From h@mz@h@h@@y|m @end|ng |rom gm@||@com  Sun Apr  8 02:01:51 2018
From: h@mz@h@h@@y|m @end|ng |rom gm@||@com (Hamzah Hasyim)
Date: Sun, 8 Apr 2018 02:01:51 +0200
Subject: [R] How to script the script sample into script "OR", please advice
Message-ID: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>

Dear User R


It's been a pleasure talking with you. I am newcomer use R. Would you
please help me how to translate the script below to "R" script?


* Area under receiver operating characteristic (AU-ROC)
predict r1m1p, p
roctab malaria r1m1p, graph summary


* Area under receiver operating characteristic (AU-ROC) curve
predict r1m2p, mu
roctab malaria r1m2p, graph summary

************************************************************
********************
* FIGURE 1 - AU-ROC
************************************************************
********************

roccomp malaria r1m1p r1m2p, graph


* Area under receiver operating characteristic (AU-ROC)
predict r2m1p, p
roctab malaria r2m1p, graph summary


* Area under receiver operating characteristic (AU-ROC) curve
predict r1m2p, mu
roctab malaria r1m2p, graph summary


************************************************************
********************
* FIGURE 3 - AU-ROC
************************************************************
********************
roccomp malaria r2m1p r2m2p, graph



Best regards,



Hamzah

Description of data-set

------------------------------------------------------------
----------------------
              storage   display    value
variable name   type    format     label      variable label
------------------------------------------------------------
----------------------

malaria         float   %48.0g     malaria    Participants who had diagnosed
                                                malaria by health
professionals
_est_r1m1       byte    %8.0g                 esample() from estimates store
r1m1p           float   %9.0g                 Pr(malaria)
r1m2p           float   %9.0g                 Predicted mean
r1m3p           float   %9.0g                 Predicted mean
_est_r1m2       byte    %8.0g                 esample() from estimates store
r1m2use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r1m2u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
pickone         byte    %8.0g                 tag(district)
r1m2urank       float   %9.0g                 rank of (r1m2u)
_est_r1m3       byte    %8.0g                 esample() from estimates store
r1m3use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r1m3u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r1m3urank       float   %9.0g                 rank of (r1m3u)
_est_r2m1       byte    %8.0g                 esample() from estimates store
r2m1p           float   %9.0g                 Pr(malaria)
r2m2p           float   %9.0g                 Predicted mean
r2m3p           float   %9.0g                 Predicted mean
_est_r2m2       byte    %8.0g                 esample() from estimates store
r2m2use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r2m2u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r2m2urank       float   %9.0g                 rank of (r2m2u)
_est_r2m3       byte    %8.0g                 esample() from estimates store
r2m3use         float   %9.0g                 S.E. of empirical Bayes means
for
                                                _cons[district]
r2m3u           float   %9.0g                 empirical Bayes means for
                                                _cons[district]
r2m3urank       float   %9.0g                 rank of (r2m3u)
------------------------------------------------------------
----------------------




Respectfully,



Hamzah Hasyim,

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rroctab.pdf
Type: application/pdf
Size: 206908 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180408/96177a22/attachment-0024.pdf>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rroccomp.pdf
Type: application/pdf
Size: 250551 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180408/96177a22/attachment-0025.pdf>

From bgunter@4567 @end|ng |rom gm@||@com  Sun Apr  8 16:41:37 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 8 Apr 2018 07:41:37 -0700
Subject: [R] 
 How to script the script sample into script "OR", please advice
In-Reply-To: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>
References: <CAJhjxo1FeY2hxqT+Q8d+6nYYmHwJAT87knT4cwW6HvAk8=XDAA@mail.gmail.com>
Message-ID: <CAGxFJbQT=CG2ag8cEzp8oAjXq-9BQZK08rGD2mLgnBxQeTcTTA@mail.gmail.com>

1. *If* this is homework, we do not do homework here.

2. Please read and follow the posting guide linked below to get a
useful answer. In general, we expect posters to provide code showing
their attempt to solve the problem, rather than expecting to be
provided complete solutions. See also instructions for providing a
small reproducible example.

3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among others:
https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:
> Dear User R
>
>
> It's been a pleasure talking with you. I am newcomer use R. Would you
> please help me how to translate the script below to "R" script?
>
>
> * Area under receiver operating characteristic (AU-ROC)
> predict r1m1p, p
> roctab malaria r1m1p, graph summary
>
>
> * Area under receiver operating characteristic (AU-ROC) curve
> predict r1m2p, mu
> roctab malaria r1m2p, graph summary
>
> ************************************************************
> ********************
> * FIGURE 1 - AU-ROC
> ************************************************************
> ********************
>
> roccomp malaria r1m1p r1m2p, graph
>
>
> * Area under receiver operating characteristic (AU-ROC)
> predict r2m1p, p
> roctab malaria r2m1p, graph summary
>
>
> * Area under receiver operating characteristic (AU-ROC) curve
> predict r1m2p, mu
> roctab malaria r1m2p, graph summary
>
>
> ************************************************************
> ********************
> * FIGURE 3 - AU-ROC
> ************************************************************
> ********************
> roccomp malaria r2m1p r2m2p, graph
>
>
>
> Best regards,
>
>
>
> Hamzah
>
> Description of data-set
>
> ------------------------------------------------------------
> ----------------------
>               storage   display    value
> variable name   type    format     label      variable label
> ------------------------------------------------------------
> ----------------------
>
> malaria         float   %48.0g     malaria    Participants who had diagnosed
>                                                 malaria by health
> professionals
> _est_r1m1       byte    %8.0g                 esample() from estimates store
> r1m1p           float   %9.0g                 Pr(malaria)
> r1m2p           float   %9.0g                 Predicted mean
> r1m3p           float   %9.0g                 Predicted mean
> _est_r1m2       byte    %8.0g                 esample() from estimates store
> r1m2use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r1m2u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> pickone         byte    %8.0g                 tag(district)
> r1m2urank       float   %9.0g                 rank of (r1m2u)
> _est_r1m3       byte    %8.0g                 esample() from estimates store
> r1m3use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r1m3u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r1m3urank       float   %9.0g                 rank of (r1m3u)
> _est_r2m1       byte    %8.0g                 esample() from estimates store
> r2m1p           float   %9.0g                 Pr(malaria)
> r2m2p           float   %9.0g                 Predicted mean
> r2m3p           float   %9.0g                 Predicted mean
> _est_r2m2       byte    %8.0g                 esample() from estimates store
> r2m2use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r2m2u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r2m2urank       float   %9.0g                 rank of (r2m2u)
> _est_r2m3       byte    %8.0g                 esample() from estimates store
> r2m3use         float   %9.0g                 S.E. of empirical Bayes means
> for
>                                                 _cons[district]
> r2m3u           float   %9.0g                 empirical Bayes means for
>                                                 _cons[district]
> r2m3urank       float   %9.0g                 rank of (r2m3u)
> ------------------------------------------------------------
> ----------------------
>
>
>
>
> Respectfully,
>
>
>
> Hamzah Hasyim,
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From h@mz@h@h@@y|m @end|ng |rom gm@||@com  Sun Apr  8 22:39:23 2018
From: h@mz@h@h@@y|m @end|ng |rom gm@||@com (Hamzah Hasyim)
Date: Sun, 8 Apr 2018 22:39:23 +0200
Subject: [R] Syntax roccomp-using R
Message-ID: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>

*Dear Bert, *

Thank you very much for your feedback and the useful link https://rseek.org/
and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
Actually, I want to know different performance between Stata and R, in
multilevel logistic regression. For this purposes, I replicate ".do" file
use Stata in
http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778. The
nice journal not only gives ".do" file but also ".dta" file for Stata
user. Fyi,
I succeed running my dataset accordingly approach that use in the nice
article.

In Model ii, by adding the random effects of the clusters (neighbourhoods)
only, I perform a multilevel logistic regression. Adding the neighbourhoods
a random effect considerably increase the DA of the model. If the AU-ROC
increases. This means the neighbourhoods have a relevant (observational)
General Contextual Effect on the individual outcome. That is, knowledge on
the clusters where the individuals reside is relevant for classifying
individuals. That is, for distinguishing those with from those without the
outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
after including a neighbourhoods level variable as a fixed effect. Model ii
represents the ?ceiling? of the explanatory power of the clusters. However,
particularly both syntax in the steps below, the process taking time very
long, particularly for a data set with the 130,585 observation that I have.

I trust can be replicate the syntax Stata below into the script language of
R under your advice. I want to to know the performance of R to analyse in
the syntax " roccomp".  Unfortunately, the process still not finished in
this step yet at the moment.


. * FIGURE 1 - AU-ROC
.
********************************************************************************
.  roccomp Y  r1m1p r1m2p, graph summary

. * FIGURE 3 - AU-ROC
.
********************************************************************************
. roccomp Y  r2m1p r2m2p, graph summary


Abbreviations
Y      = The dependent (or responding) variable
AUC    = Area Under the Curve.
AUROC  = Area Under the Receiver Operating Characteristic curve.
ROC    = Receiver operating characteristic
r1m1p  =  Pr(malaria)
r1m2p  = Predicted mean
r1m3p  = Predicted mean


In addition, I saw in
https://cran.r-project.org/web/packages/auRoc/index.html, and in
https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC
,  there is an issue regarding auROC.

Hopefully with install "CRAN - Package auRoc", I can be running the
"roccomp" used the plug-in. In addition, I can compute areas under ROC
curves using the R Commander. However, the R Commander doesn't include ROC
curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
package for the R Commander, includes ROC curves and may do what I want.
Isn't it?


Again thank you very much, I appreciate it.


Best wishes


Hamzah


On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> 1. *If* this is homework, we do not do homework here.
>
> 2. Please read and follow the posting guide linked below to get a
> useful answer. In general, we expect posters to provide code showing
> their attempt to solve the problem, rather than expecting to be
> provided complete solutions. See also instructions for providing a
> small reproducible example.
>
> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
> others:
> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>
> Cheers,
> Bert
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
> wrote:
> > Dear User R
> >
> >
> > It's been a pleasure talking with you. I am newcomer use R. Would you
> > please help me how to translate the script below to "R" script?
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r1m1p, p
> > roctab malaria r1m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> > ************************************************************
> > ********************
> > * FIGURE 1 - AU-ROC
> > ************************************************************
> > ********************
> >
> > roccomp malaria r1m1p r1m2p, graph
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r2m1p, p
> > roctab malaria r2m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> >
> > ************************************************************
> > ********************
> > * FIGURE 3 - AU-ROC
> > ************************************************************
> > ********************
> > roccomp malaria r2m1p r2m2p, graph
> >
> >
> >
> > Best regards,
> >
> >
> >
> > Hamzah
> >
> > Description of data-set
> >
> > ------------------------------------------------------------
> > ----------------------
> >               storage   display    value
> > variable name   type    format     label      variable label
> > ------------------------------------------------------------
> > ----------------------
> >
> > malaria         float   %48.0g     malaria    Participants who had
> diagnosed
> >                                                 malaria by health
> > professionals
> > _est_r1m1       byte    %8.0g                 esample() from estimates
> store
> > r1m1p           float   %9.0g                 Pr(malaria)
> > r1m2p           float   %9.0g                 Predicted mean
> > r1m3p           float   %9.0g                 Predicted mean
> > _est_r1m2       byte    %8.0g                 esample() from estimates
> store
> > r1m2use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r1m2u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > pickone         byte    %8.0g                 tag(district)
> > r1m2urank       float   %9.0g                 rank of (r1m2u)
> > _est_r1m3       byte    %8.0g                 esample() from estimates
> store
> > r1m3use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r1m3u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r1m3urank       float   %9.0g                 rank of (r1m3u)
> > _est_r2m1       byte    %8.0g                 esample() from estimates
> store
> > r2m1p           float   %9.0g                 Pr(malaria)
> > r2m2p           float   %9.0g                 Predicted mean
> > r2m3p           float   %9.0g                 Predicted mean
> > _est_r2m2       byte    %8.0g                 esample() from estimates
> store
> > r2m2use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r2m2u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r2m2urank       float   %9.0g                 rank of (r2m2u)
> > _est_r2m3       byte    %8.0g                 esample() from estimates
> store
> > r2m3use         float   %9.0g                 S.E. of empirical Bayes
> means
> > for
> >                                                 _cons[district]
> > r2m3u           float   %9.0g                 empirical Bayes means for
> >                                                 _cons[district]
> > r2m3urank       float   %9.0g                 rank of (r2m3u)
> > ------------------------------------------------------------
> >
> >
> >
> >
> >
> > Respectfully,
> >
> >
> >
> > Hamzah
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]



From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sun Apr  8 23:36:34 2018
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sun, 8 Apr 2018 21:36:34 +0000 (UTC)
Subject: [R] Fast tau-estimator line does not appear on the plot
In-Reply-To: <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>
References: <1786914412.210328.1522511844686.ref@mail.yahoo.com>
 <1786914412.210328.1522511844686@mail.yahoo.com>
 <e1158856-10fd-ed66-904d-2c1d76f1c7a7@gmail.com>
 <687478916.36477.1522525938910@mail.yahoo.com>
 <1171231551.29624.1523044349525@mail.yahoo.com>
 <alpine.BSF.2.00.1804062209300.72182@pedal.dcn.davis.ca.us>
Message-ID: <382913605.794651.1523223394881@mail.yahoo.com>

Many thanks Jeff,






Le samedi 7 avril 2018 ? 07:21:31 UTC+2, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> a ?crit : 





You need to pay attention to the documentation more closely. If you don't 
know what something means, that is usually a signal that you need to study 
more... in this case about the difference between an input variable and a 
design (model) matrix. This is a concept from the standard linear algebra 
formulation for regression equations. (Note that I have never used RobPer, 
nor do I regularly mess with model matrices, but I do recognize the term 
"design matrix" and used help.search("design matrix") to track this down.)

Thanks for the reprex, though it is highly irregular to intersperse 
install.packages in code that may be run more than once.

######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)

X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)

? reg1 <- lm( Y ~ X )
? plot( X, Y )
? abline( reg1, col = "black" )

? reg <- lmrob( Y ~ X )
? abline( reg, col = "green" )

? Huber <- rlm( Y ~ X )
? abline( Huber, col="red" )

? Tukey <- rlm( Y ~ X, psi = psi.bisquare )
? abline( Tukey, col = "purple" )

? L1 <- rq( Y ~ X, tau = 0.5 )
? abline( L1, col = "blue" )

? fast <- FastTau(model.matrix(~X),Y)
? fast # save result, then print... avoid computing twice
? # model matrix leads to first element of beta as constant and
? # second element of beta as slope
? abline( fast$beta, col="yellow" )

? legend( "topright"
? ? ? ? , c( "OLS"
? ? ? ? ? ? , "L1"
? ? ? ? ? ? , "Huber M-estimator"
? ? ? ? ? ? , "Tukey"
? ? ? ? ? ? , "MM"
? ? ? ? ? ? , "fast tau"
? ? ? ? ? ? )
? ? ? ? , inset = 0.02
? ? ? ? , lwd = 2
? ? ? ? , col = c( "black","blue","red","purple","green", "yellow")
? ? ? ? , cex = .9
? ? ? ? )
######################

On Fri, 6 Apr 2018, varin sacha via R-help wrote:

> R-experts,
>
> I have fitted many different lines. The fast-tau estimator (yellow line) seems strange to me?because this yellow line is not at all in agreement with the other lines (reverse slope, I mean the yellow line has a positive slope and the other ones have negative slope).
> Is there something wrong in my R code ? Is it because the Y variable is 1 vector and should be a matrix ?
>
> Here is the reproducible code
>
> ###############
> X=c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
> Y=c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
>
> {reg1<-lm(Y ~ X)
> plot(X,Y)
> abline(reg1, col="black")
>
> install.packages("robustbase")
> library?(robustbase)
> reg=lmrob(Y ~ X)
> abline(reg, col="green")
>
> install.packages("MASS")?
> library(MASS)
> Huber=rlm(Y ~ X)
> abline(Huber,col="red")
>
> Tukey=rlm(Y ~ X,psi=psi.bisquare)
> abline(Tukey,col="purple")
>
> install.packages("quantreg")
> library(quantreg)
> L1=rq(Y ~ X,tau=0.5)
> abline(L1,col="blue")
>
> install.packages("RobPer")
> library(RobPer)
> FastTau(Y,X)
> fast=FastTau(Y,X)
> abline(unlist(fast), col="yellow")
>
> legend("topright",c("OLS",?"L1",?"Huber M-estimator", "Tukey", "MM", "fast tau"),inset=0.02,lwd=2,col=c("black","blue","red","purple","green", "yellow"),cex=.9)}
> ###############
>
>
>
>
>
>
>
>
>
> Le samedi 31 mars 2018 ? 21:52:55 UTC+2, varin sacha via R-help <r-help at r-project.org> a ?crit :
>
>
>
>
>
> Many thanks Duncun,
>
> Best,
>
>
>
>
>
> Le samedi 31 mars 2018 ? 18:05:53 UTC+2, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit :

>
>
>
>
>
> On 31/03/2018 11:57 AM, varin sacha via R-help wrote:
>> Dear R-experts,
>>
>> Here below my reproducible R code. I want to add many straight lines to a plot using "abline"
>> The last fit (fast Tau-estimator, color yellow) will not appear on the plot. What is going wrong ?
>> Many thanks for your reply.
>>
>
> It's not quite reproducible:? you forgot the line to create Dataset.
> It's probably something like
>
> Dataset <- data.frame(Y, Z)
>
>> ##########
>>
>> Y=c(2,4,5,4,3,4,2,3,56,5,4,3,4,5,6,5,4,5,34,21,12,13,12,8,9,7,43,12,19,21)
>> Z=c(43,2,1,2,34,4,3,4,5,30,4,5,4,3,4,5,56,6,43,21,34,19,12,11,9,34,21,23,2,19)
>> reg1<-lm(Z ~ Y)
>> plot(Y,Z)
>> abline(reg1, col="black")
>>
>> install.packages("robustbase")
>> library?(robustbase)
>> reg=lmrob(Z ~ Y, data = Dataset)
>> abline(reg, col="green")
>>
>> install.packages("MASS")
>> library(MASS)
>> Huber=rlm(Z ~ Y, data = Dataset)
>> abline(Huber,col="red")
>>
>> Tukey=rlm(Z ~ Y, data = Dataset,psi=psi.bisquare)
>> abline(Tukey,col="purple")
>> ?
>> install.packages("quantreg")
>> library(quantreg)
>> L1=rq(Z ~ Y, data = Dataset,tau=0.5)
>> abline(L1,col="blue")
>> ?
>> install.packages("RobPer")
>> library(RobPer)
>> FastTau(Z,Y)
>> fast=FastTau(Z,Y)
>> abline(fast, col="yellow")
>
> abline() doesn't know what to do with the "fast" object.? It isn't a
> vector containing intercept and slope, it's a list containing them.? So
> you'll need something like
>
> abline(unlist(fast), col="yellow")
>
> Duncan Murdoch
>
>
>>
>> ##########
>> ?
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

>

---------------------------------------------------------------------------
Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ? .....? ? ? .....? Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>? ? ? ? Basics: ##.#.? ? ? ##.#.? Live Go...
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Live:? OO#.. Dead: OO#..? Playing
Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ? #.O#.? with
/Software/Embedded Controllers)? ? ? ? ? ? ? .OO#.? ? ? .OO#.? rocks...1k



From bgunter@4567 @end|ng |rom gm@||@com  Sun Apr  8 23:40:07 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 8 Apr 2018 14:40:07 -0700
Subject: [R] Syntax roccomp-using R
In-Reply-To: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
References: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
Message-ID: <CAGxFJbQudU1KZxzR_V9+BRdQUFoC3hLRCTRQVwzdDw64e6NqSw@mail.gmail.com>

I do not provide consulting services, so you're on your own. As I said
earlier, you need to follow the posting guide and show us what efforts
you have made.
"None" will probably not succeed in getting anyone to help. Nor should
you expect anyone on this list to be familiar with Stata and/or to do
your "translation" work for you.

-- Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Apr 8, 2018 at 1:39 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:
> Dear Bert,
>
> Thank you very much for your feedback and the useful link https://rseek.org/
> and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
> Actually, I want to know different performance between Stata and R, in
> multilevel logistic regression. For this purposes, I replicate ".do" file
> use Stata in
> http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778.
> The nice journal not only gives ".do" file but also ".dta" file for Stata
> user. Fyi, I succeed running my dataset accordingly approach that use in the
> nice article.
>
> In Model ii, by adding the random effects of the clusters (neighbourhoods)
> only, I perform a multilevel logistic regression. Adding the neighbourhoods
> a random effect considerably increase the DA of the model. If the AU-ROC
> increases. This means the neighbourhoods have a relevant (observational)
> General Contextual Effect on the individual outcome. That is, knowledge on
> the clusters where the individuals reside is relevant for classifying
> individuals. That is, for distinguishing those with from those without the
> outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
> after including a neighbourhoods level variable as a fixed effect. Model ii
> represents the ?ceiling? of the explanatory power of the clusters. However,
> particularly both syntax in the steps below, the process taking time very
> long, particularly for a data set with the 130,585 observation that I have.
>
> I trust can be replicate the syntax Stata below into the script language of
> R under your advice. I want to to know the performance of R to analyse in
> the syntax " roccomp".  Unfortunately, the process still not finished in
> this step yet at the moment.
>
>
> . * FIGURE 1 - AU-ROC
> .
> ********************************************************************************
> .  roccomp Y  r1m1p r1m2p, graph summary
>
> . * FIGURE 3 - AU-ROC
> .
> ********************************************************************************
> . roccomp Y  r2m1p r2m2p, graph summary
>
>
> Abbreviations
> Y      = The dependent (or responding) variable
> AUC    = Area Under the Curve.
> AUROC  = Area Under the Receiver Operating Characteristic curve.
> ROC    = Receiver operating characteristic
> r1m1p  =  Pr(malaria)
> r1m2p  = Predicted mean
> r1m3p  = Predicted mean
>
>
> In addition, I saw in
> https://cran.r-project.org/web/packages/auRoc/index.html, and in
> https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC,
> there is an issue regarding auROC.
>
> Hopefully with install "CRAN - Package auRoc", I can be running the
> "roccomp" used the plug-in. In addition, I can compute areas under ROC
> curves using the R Commander. However, the R Commander doesn't include ROC
> curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
> package for the R Commander, includes ROC curves and may do what I want.
> Isn't it?
>
>
> Again thank you very much, I appreciate it.
>
>
> Best wishes
>
>
> Hamzah
>
>
> On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> 1. *If* this is homework, we do not do homework here.
>>
>> 2. Please read and follow the posting guide linked below to get a
>> useful answer. In general, we expect posters to provide code showing
>> their attempt to solve the problem, rather than expecting to be
>> provided complete solutions. See also instructions for providing a
>> small reproducible example.
>>
>> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
>> others:
>> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>>
>> Cheers,
>> Bert
>>
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along
>> and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
>> wrote:
>> > Dear User R
>> >
>> >
>> > It's been a pleasure talking with you. I am newcomer use R. Would you
>> > please help me how to translate the script below to "R" script?
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC)
>> > predict r1m1p, p
>> > roctab malaria r1m1p, graph summary
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC) curve
>> > predict r1m2p, mu
>> > roctab malaria r1m2p, graph summary
>> >
>> > ************************************************************
>> > ********************
>> > * FIGURE 1 - AU-ROC
>> > ************************************************************
>> > ********************
>> >
>> > roccomp malaria r1m1p r1m2p, graph
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC)
>> > predict r2m1p, p
>> > roctab malaria r2m1p, graph summary
>> >
>> >
>> > * Area under receiver operating characteristic (AU-ROC) curve
>> > predict r1m2p, mu
>> > roctab malaria r1m2p, graph summary
>> >
>> >
>> > ************************************************************
>> > ********************
>> > * FIGURE 3 - AU-ROC
>> > ************************************************************
>> > ********************
>> > roccomp malaria r2m1p r2m2p, graph
>> >
>> >
>> >
>> > Best regards,
>> >
>> >
>> >
>> > Hamzah
>> >
>> > Description of data-set
>> >
>> > ------------------------------------------------------------
>> > ----------------------
>> >               storage   display    value
>> > variable name   type    format     label      variable label
>> > ------------------------------------------------------------
>> > ----------------------
>> >
>> > malaria         float   %48.0g     malaria    Participants who had
>> > diagnosed
>> >                                                 malaria by health
>> > professionals
>> > _est_r1m1       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m1p           float   %9.0g                 Pr(malaria)
>> > r1m2p           float   %9.0g                 Predicted mean
>> > r1m3p           float   %9.0g                 Predicted mean
>> > _est_r1m2       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m2use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r1m2u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > pickone         byte    %8.0g                 tag(district)
>> > r1m2urank       float   %9.0g                 rank of (r1m2u)
>> > _est_r1m3       byte    %8.0g                 esample() from estimates
>> > store
>> > r1m3use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r1m3u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r1m3urank       float   %9.0g                 rank of (r1m3u)
>> > _est_r2m1       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m1p           float   %9.0g                 Pr(malaria)
>> > r2m2p           float   %9.0g                 Predicted mean
>> > r2m3p           float   %9.0g                 Predicted mean
>> > _est_r2m2       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m2use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r2m2u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r2m2urank       float   %9.0g                 rank of (r2m2u)
>> > _est_r2m3       byte    %8.0g                 esample() from estimates
>> > store
>> > r2m3use         float   %9.0g                 S.E. of empirical Bayes
>> > means
>> > for
>> >                                                 _cons[district]
>> > r2m3u           float   %9.0g                 empirical Bayes means for
>> >                                                 _cons[district]
>> > r2m3urank       float   %9.0g                 rank of (r2m3u)
>> > ------------------------------------------------------------
>> >
>> >
>> >
>> >
>> >
>> > Respectfully,
>> >
>> >
>> >
>> > Hamzah
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>



From |@r@dutr@@||v@ @end|ng |rom gm@||@com  Mon Apr  9 00:47:55 2018
From: |@r@dutr@@||v@ @end|ng |rom gm@||@com (Lara Dutra Silva)
Date: Sun, 8 Apr 2018 22:47:55 +0000
Subject: [R] Doubt_merging data
Message-ID: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>

Hello,

I gather data from 5 objects and 5 data. frames and  would like to join
information.

join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb


join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
=total_sdmdata
code:
rbind, merge?

total_pb<-   ??

total_sdmdata<-   ??


1

absvals_SM <- extract(grid_present_SM, absences_10000)

presvals_SM <- extract(grid_present_SM, LSM)

pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))

sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))

                                            ######
2

absvals_T <- extract(grid_present_T, absences_10000)

presvals_T <- extract(grid_present_T, LT)

pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))

sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))

                                          ######

3

absvals_P <- extract(grid_present_T, absences_10000)

presvals_P <- extract(grid_present_P, LP)

pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))

sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))

                                ######

4

absvals_F <- extract(grid_present_F, absences_10000)

presvals_F <- extract(grid_present_F, LF)

pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))

sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))


                           ######

5

absvals_SJ <- extract(grid_present_SJ, absences_10000)

presvals_SJ <- extract(grid_present_SJ, LSJ)

pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))

sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))


Regards,

Silva





<http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Sem
v?rus. www.avg.com
<http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Apr  9 04:30:14 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 08 Apr 2018 19:30:14 -0700
Subject: [R] Doubt_merging data
In-Reply-To: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
References: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
Message-ID: <7D046B27-24F7-405E-8377-555121B588E9@dcn.davis.ca.us>

I don't see how anyone can help you if you don't provide the input data (or a fake version of the data) you are using. 

On April 8, 2018 3:47:55 PM PDT, Lara Dutra Silva <laradutrasilva at gmail.com> wrote:
>Hello,
>
>I gather data from 5 objects and 5 data. frames and  would like to join
>information.
>
>join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb
>
>
>join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
>=total_sdmdata
>code:
>rbind, merge?
>
>total_pb<-   ??
>
>total_sdmdata<-   ??
>
>
>1
>
>absvals_SM <- extract(grid_present_SM, absences_10000)
>
>presvals_SM <- extract(grid_present_SM, LSM)
>
>pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))
>
>sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))
>
>                                            ######
>2
>
>absvals_T <- extract(grid_present_T, absences_10000)
>
>presvals_T <- extract(grid_present_T, LT)
>
>pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))
>
>sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))
>
>                                          ######
>
>3
>
>absvals_P <- extract(grid_present_T, absences_10000)
>
>presvals_P <- extract(grid_present_P, LP)
>
>pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))
>
>sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))
>
>                                ######
>
>4
>
>absvals_F <- extract(grid_present_F, absences_10000)
>
>presvals_F <- extract(grid_present_F, LF)
>
>pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))
>
>sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))
>
>
>                           ######
>
>5
>
>absvals_SJ <- extract(grid_present_SJ, absences_10000)
>
>presvals_SJ <- extract(grid_present_SJ, LSJ)
>
>pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))
>
>sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))
>
>
>Regards,
>
>Silva
>
>
>
>
>
><http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
>Sem
>v?rus. www.avg.com
><http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
><#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com  Mon Apr  9 06:06:36 2018
From: @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com (Sebastien Bihorel)
Date: Mon, 9 Apr 2018 00:06:36 -0400 (EDT)
Subject: [R] Question about subset
Message-ID: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>

Hi,

The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."

Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.

Thanks



From bgunter@4567 @end|ng |rom gm@||@com  Mon Apr  9 06:31:53 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 8 Apr 2018 21:31:53 -0700
Subject: [R] Question about subset
In-Reply-To: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
Message-ID: <CAGxFJbR-Df80M67kvLvW9x-gqXr1M50WCe7VZ-XGFNJgf-PqTw@mail.gmail.com>

Please read the "Details" section of the help file -- it essentially
tells you what to do by directly using indexing; e.g. for a vector,
index by:
[is.na(subset) | subset]  .

Adjust as necessary for your data structure.Or look at the code of,
e.g. subset.data.frame and create your own subset version/method by
making the trivial modification to that code.

R is open source. Sometimes it's worthwhile to take advantage of this
by making a simple modification to its code on your own before hunting
for packages.

Cheers,
Bert



Cheers,
Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Apr 8, 2018 at 9:06 PM, Sebastien Bihorel
<sebastien.bihorel at cognigencorp.com> wrote:
> Hi,
>
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
>
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
>
> Thanks
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From dw|n@em|u@ @end|ng |rom comc@@t@net  Mon Apr  9 06:33:41 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 8 Apr 2018 21:33:41 -0700
Subject: [R] Question about subset
In-Reply-To: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
Message-ID: <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>



Sent from my iPhone

> On Apr 8, 2018, at 9:06 PM, Sebastien Bihorel <sebastien.bihorel at cognigencorp.com> wrote:
> 
> Hi,
> 
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
> 
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
> 
Just use a Boolean expression 

is.na(col)|(col==0)

> Thanks
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From wo||g@ng@r@||e|@berger @end|ng |rom gm@||@com  Mon Apr  9 14:58:01 2018
From: wo||g@ng@r@||e|@berger @end|ng |rom gm@||@com (Wolfgang Raffelsberger)
Date: Mon, 9 Apr 2018 14:58:01 +0200
Subject: [R] linear regression with repeated measures
Message-ID: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>

Dear list,

this seemed to me like a very trivial question, but finally I haven't found
any similar postings with suitable solutions on the net ...
Basically, instead of regressing two simple series of measures 'a' and 'b'
(like b ~ a), I would like to use independent replicate measurements for
each variable at each level (ie, instead of having just one 'a' and one 'b'
I have independent replicates for all measures of 'a' and 'b', 'a1' could
be as well compared to 'b1' as to 'b2' etc.)
In analogy one could think of a procedure claiming to act and increase a
given output value by eg 30% (compared to not emplying this procedure).
Now I have indepedent repeated measures (since the measures themselves are
considered not very precise) for a (large) number of individuals with and
without the treatment.
Basically, I want to test the hypthesis that applying the procedure
increases values in a linear way by a given factor, thus test the
parameters of a linear regression (eg slope=1.3, offset may be different to
0). In extension to this, how could I make a confidence-interval for the
estimated slop (due to the treatment) to check if the claimed value is
indeed inside ?

# Here some toy data, my real data are much larger and might ressemble
somehow to this.
# Lines are for subjects and columns for 2 groups and repeat-measurements.
# in this case I introduce a toy-factor of 1.3 to the 2nd part of my data
(in the real data such a factor is just a hypothesis), which I would like
to investigate/confirm
dat <- matrix(rep(1:12,7)+rnorm(84),nc=7)
dat[,4:7] <- 1.3*dat[,4:7]+runif(48)
# some individual measures may be missing :
dat[2:3,4] <- NA
colnames(dat) <- paste(rep(c("a","b"),3:4),c(1:3,1:4),sep="")

# In analogy to the ample documentation of lm() :
datMean <- cbind(aM=rowMeans(dat[,1:3]),bM=rowMeans(dat[,4:7]))
(lmMean <- lm(bM ~ aM,data=as.data.frame(datMean)))
# I suppose the estimated parameters (intercet & slope) may be correct but
sice the degrees of freedom are not made of means I am convinced they are
incorrect and thus any statistics using them will be so, too ...
df.residual(lmMean)
summary(lmMean)

# I also thought about a workaround reorganizing the data into a 'simple'
two-column setup using somthing like stack() and allowing b ~ a, but again,
I suppose the degrees of freedom won't be correct neither.

# 1) should I simply correct the degrees of freedom in my lm-object, would
this be the correct number of degrees of freedom
lmMean$df.residual <- nrow(dat)*5-2
# then I suppose I would need to change the standard errors, I'm shur what
is the best way to do so

# or 2) is there a package allowing to do these steps, thus returning
correct DF, Std Err and Pr(>|t) ?

Thanks in advance,
Wolfgang Raffelsberger

for completeness :
sessionInfo()

> sessionInfo()
R version 3.4.4 (2018-03-15)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 7 x64 (build 7601) Service Pack 1

Matrix products: default

locale:
[1] LC_COLLATE=French_France.1252  LC_CTYPE=French_France.1252
LC_MONETARY=French_France.1252
[4] LC_NUMERIC=C                   LC_TIME=French_France.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] limma_3.34.9    lme4_1.1-15     Matrix_1.2-12   TinnRcom_1.0.20
formatR_1.4     svSocket_0.9-57

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.16    lattice_0.20-35 MASS_7.3-49     grid_3.4.4
nlme_3.1-131.1  minqa_1.2.4
 [7] nloptr_1.0.4    svMisc_0.9-70   splines_3.4.4   tools_3.4.4
 compiler_3.4.4  tcltk_3.4.4

	[[alternative HTML version deleted]]



From bgunter@4567 @end|ng |rom gm@||@com  Mon Apr  9 16:32:59 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Apr 2018 07:32:59 -0700
Subject: [R] linear regression with repeated measures
In-Reply-To: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>
References: <CALDESV8PnY1MJQ7w0aV7YrBB8R9KFhM3A3AE_uHty2Xo3Bxw+w@mail.gmail.com>
Message-ID: <CAGxFJbRqg0_9hVg=_08yemSZWJso7P-92sBua4DfK+LOFSynCg@mail.gmail.com>

Generally, statistics questions are off topic here, although they do
sometimes intersect R programming issues, as perhaps here.
Nevertheless, I believe your post would fit better on the
r-sig-mixed-models list, where repeated measures and other mixed
effects (/variance components) models are discussed. It sounds like
you may also want to do some reading about mixed effects models to
understand the issues involved, but as I found your post confusing,
maybe I'm wrong about that.

stats.stackexchange.com is another online venue for mostly statistics
discussions.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 5:58 AM, Wolfgang Raffelsberger
<wolfgang.raffelsberger at gmail.com> wrote:
> Dear list,
>
> this seemed to me like a very trivial question, but finally I haven't found
> any similar postings with suitable solutions on the net ...
> Basically, instead of regressing two simple series of measures 'a' and 'b'
> (like b ~ a), I would like to use independent replicate measurements for
> each variable at each level (ie, instead of having just one 'a' and one 'b'
> I have independent replicates for all measures of 'a' and 'b', 'a1' could
> be as well compared to 'b1' as to 'b2' etc.)
> In analogy one could think of a procedure claiming to act and increase a
> given output value by eg 30% (compared to not emplying this procedure).
> Now I have indepedent repeated measures (since the measures themselves are
> considered not very precise) for a (large) number of individuals with and
> without the treatment.
> Basically, I want to test the hypthesis that applying the procedure
> increases values in a linear way by a given factor, thus test the
> parameters of a linear regression (eg slope=1.3, offset may be different to
> 0). In extension to this, how could I make a confidence-interval for the
> estimated slop (due to the treatment) to check if the claimed value is
> indeed inside ?
>
> # Here some toy data, my real data are much larger and might ressemble
> somehow to this.
> # Lines are for subjects and columns for 2 groups and repeat-measurements.
> # in this case I introduce a toy-factor of 1.3 to the 2nd part of my data
> (in the real data such a factor is just a hypothesis), which I would like
> to investigate/confirm
> dat <- matrix(rep(1:12,7)+rnorm(84),nc=7)
> dat[,4:7] <- 1.3*dat[,4:7]+runif(48)
> # some individual measures may be missing :
> dat[2:3,4] <- NA
> colnames(dat) <- paste(rep(c("a","b"),3:4),c(1:3,1:4),sep="")
>
> # In analogy to the ample documentation of lm() :
> datMean <- cbind(aM=rowMeans(dat[,1:3]),bM=rowMeans(dat[,4:7]))
> (lmMean <- lm(bM ~ aM,data=as.data.frame(datMean)))
> # I suppose the estimated parameters (intercet & slope) may be correct but
> sice the degrees of freedom are not made of means I am convinced they are
> incorrect and thus any statistics using them will be so, too ...
> df.residual(lmMean)
> summary(lmMean)
>
> # I also thought about a workaround reorganizing the data into a 'simple'
> two-column setup using somthing like stack() and allowing b ~ a, but again,
> I suppose the degrees of freedom won't be correct neither.
>
> # 1) should I simply correct the degrees of freedom in my lm-object, would
> this be the correct number of degrees of freedom
> lmMean$df.residual <- nrow(dat)*5-2
> # then I suppose I would need to change the standard errors, I'm shur what
> is the best way to do so
>
> # or 2) is there a package allowing to do these steps, thus returning
> correct DF, Std Err and Pr(>|t) ?
>
> Thanks in advance,
> Wolfgang Raffelsberger
>
> for completeness :
> sessionInfo()
>
>> sessionInfo()
> R version 3.4.4 (2018-03-15)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> Running under: Windows 7 x64 (build 7601) Service Pack 1
>
> Matrix products: default
>
> locale:
> [1] LC_COLLATE=French_France.1252  LC_CTYPE=French_France.1252
> LC_MONETARY=French_France.1252
> [4] LC_NUMERIC=C                   LC_TIME=French_France.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] limma_3.34.9    lme4_1.1-15     Matrix_1.2-12   TinnRcom_1.0.20
> formatR_1.4     svSocket_0.9-57
>
> loaded via a namespace (and not attached):
>  [1] Rcpp_0.12.16    lattice_0.20-35 MASS_7.3-49     grid_3.4.4
> nlme_3.1-131.1  minqa_1.2.4
>  [7] nloptr_1.0.4    svMisc_0.9-70   splines_3.4.4   tools_3.4.4
>  compiler_3.4.4  tcltk_3.4.4
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From m@cqueen1 @end|ng |rom ||n|@gov  Mon Apr  9 17:35:08 2018
From: m@cqueen1 @end|ng |rom ||n|@gov (MacQueen, Don)
Date: Mon, 9 Apr 2018 15:35:08 +0000
Subject: [R] Doubt_merging data
In-Reply-To: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
References: <CAJRXdJC3XfAzpFF1z20z9gMQBwohYDqsidmeLEB_SLRNn06TaQ@mail.gmail.com>
Message-ID: <3D1CD6B5-DD92-4500-AE79-B748F6632547@llnl.gov>

Your email is hard to read because you sent html email. Please send plain text.

You will need to say what you mean by "join". It's not a standard term with a universally agreed upon meaning within R.

If you have 5 data frames, each with 5 rows, and it makes sense that after joining you should have one data frame with 25 rows and the same number of columns, then rbind() is probably what you want.

If you have 5 data frames, each with 5 rows, and it makes sense that after joining you should have one data frame with 5 rows, and more columns, then merge() is probably what you want.

But some of your code suggests you have a somewhat complex data structure, so it's hard to say.

extract() is not a base R function; when asking for help one should indicate where non-base functions come from.

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/8/18, 3:47 PM, "R-help on behalf of Lara Dutra Silva" <r-help-bounces at r-project.org on behalf of laradutrasilva at gmail.com> wrote:

    Hello,
    
    I gather data from 5 objects and 5 data. frames and  would like to join
    information.
    
    join:  pb_SM + pb_T + pb_P + pb_F + pb_SJ = total_pb
    
    
    join: sdmdata_SM + sdmdata_T + sdmdata_P + sdmdata_F + sdmdata_SJ
    =total_sdmdata
    code:
    rbind, merge?
    
    total_pb<-   ??
    
    total_sdmdata<-   ??
    
    
    1
    
    absvals_SM <- extract(grid_present_SM, absences_10000)
    
    presvals_SM <- extract(grid_present_SM, LSM)
    
    pb_SM <- c(rep(1, nrow(presvals_SM), rep(0, nrow(absvals_SM)))
    
    sdmdata_SM <- data.frame(cbind(pb_SM, rbind(presvals_SM, absvals_SM))
    
                                                ######
    2
    
    absvals_T <- extract(grid_present_T, absences_10000)
    
    presvals_T <- extract(grid_present_T, LT)
    
    pb_T <- c(rep(1, nrow(presvals_T), rep(0, nrow(absvals_T)))
    
    sdmdata_T <- data.frame(cbind(pb_T, rbind(presvals_T, absvals_T))
    
                                              ######
    
    3
    
    absvals_P <- extract(grid_present_T, absences_10000)
    
    presvals_P <- extract(grid_present_P, LP)
    
    pb_P <- c(rep(1, nrow(presvals_P), rep(0, nrow(absvals_P)))
    
    sdmdata_P <- data.frame(cbind(pb_P, rbind(presvals_P, absvals_P))
    
                                    ######
    
    4
    
    absvals_F <- extract(grid_present_F, absences_10000)
    
    presvals_F <- extract(grid_present_F, LF)
    
    pb_F <- c(rep(1, nrow(presvals_F), rep(0, nrow(absvals_F)))
    
    sdmdata_F <- data.frame(cbind(pb_F, rbind(presvals_F, absvals_F))
    
    
                               ######
    
    5
    
    absvals_SJ <- extract(grid_present_SJ, absences_10000)
    
    presvals_SJ <- extract(grid_present_SJ, LSJ)
    
    pb_SJ <- c(rep(1, nrow(presvals_SJ), rep(0, nrow(absvals_SJ)))
    
    sdmdata_SJ <- data.frame(cbind(pb_SJ, rbind(presvals_SJ, absvals_SJ))
    
    
    Regards,
    
    Silva
    
    
    
    
    
    <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
    Sem
    v?rus. www.avg.com
    <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
    <#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From re@hm@@ku|euven @end|ng |rom gm@||@com  Mon Apr  9 15:43:27 2018
From: re@hm@@ku|euven @end|ng |rom gm@||@com (Reshma C)
Date: Mon, 9 Apr 2018 15:43:27 +0200
Subject: [R] Specifying forbidden configurations in Morris One at a Time
 (OAT) sensitivity analysis
Message-ID: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>

Hi!

I am trying to implement the Morris One at a Time (OAT) sensitivity
analysis technique in R using the package 'sensitivity'.  The OAT and
similar other techniques in the package requires data frame X (which stores
the design or parameter combinations) to be populated by some function in
the package such as fast99 or morris. These functions take only the range
and step size of the parameters as arguments. However, in my experiment
there are few forbidden configurations. Is there a way to specify this in
the analysis set up? To be specific, is there a way to tell the model that
certain combinations are forbidden such as feeding forbidden configurations
via a text file or specifying a conditional expression which will exclude
the forbidden configurations (eg: parameter 1 < parameter 2) ?

Thanks and regards,
Reshma CC

	[[alternative HTML version deleted]]



From @@||@t@uheed @end|ng |rom gm@||@com  Mon Apr  9 18:28:53 2018
From: @@||@t@uheed @end|ng |rom gm@||@com (Saif Tauheed)
Date: Mon, 9 Apr 2018 21:58:53 +0530
Subject: [R] convert numeric variables to factor
Message-ID: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>

Dear Sir,

I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.

Please to covert the variables.

Thanks and Regards

Abu Afzal
PhD Eco
JNU
India


From dc@r|@on @end|ng |rom t@mu@edu  Mon Apr  9 19:11:54 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Mon, 9 Apr 2018 17:11:54 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>

Try the help files:

?factor

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
Sent: Monday, April 9, 2018 11:29 AM
To: r-help at r-project.org
Subject: Re: [R] convert numeric variables to factor

Dear Sir,

I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.

Please to covert the variables.

Thanks and Regards

Abu Afzal
PhD Eco
JNU
India
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From bgunter@4567 @end|ng |rom gm@||@com  Mon Apr  9 19:00:25 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Apr 2018 10:00:25 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>

Just cast it!

?factor
Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com> wrote:
> Dear Sir,
>
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>
> Please to covert the variables.
>
> Thanks and Regards
>
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From bgunter@4567 @end|ng |rom gm@||@com  Mon Apr  9 19:06:18 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Apr 2018 10:06:18 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
Message-ID: <CAGxFJbQ=xBLyccsqsQ=bha+VngkgEWh8eZgB9S4_FQhiVMPS2A@mail.gmail.com>

see also ?cut if this is what you mean.

-- Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com> wrote:
> Dear Sir,
>
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>
> Please to covert the variables.
>
> Thanks and Regards
>
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From wdun|@p @end|ng |rom t|bco@com  Mon Apr  9 20:43:38 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Mon, 9 Apr 2018 11:43:38 -0700
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <CAGxFJbQ8f8njH_oQRiG1K9xwtMVmOTYrKn_XZd0OPNBs-kD4vg@mail.gmail.com>
Message-ID: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>

Or use cut():

> Num <- c(2.2, 2.4, 3.5, 5, 7)
> cut(Num, breaks=c(0,2,4,6), labels=c("Low","Medium","High"))
[1] Medium Medium Medium High   <NA>
Levels: Low Medium High


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Mon, Apr 9, 2018 at 10:00 AM, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Just cast it!
>
> ?factor
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, Apr 9, 2018 at 9:28 AM, Saif Tauheed <saif.tauheed at gmail.com>
> wrote:
> > Dear Sir,
> >
> > I have xlsx data set which I have imported to R studio. Now some of the
> variables are defined as numeric but I want define them as factor variable
> so that I run classification algorithm in R.
> >
> > Please to covert the variables.
> >
> > Thanks and Regards
> >
> > Abu Afzal
> > PhD Eco
> > JNU
> > India
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Apr  9 20:44:20 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 Apr 2018 19:44:20 +0100
Subject: [R] convert numeric variables to factor
In-Reply-To: <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
Message-ID: <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>

Hello,

Though Bert's and David's answers are what you should do, note that some 
R functions that need factors will coerce their input variables when 
necessary.
Have you tried to run the code you haven't posted without coercing to 
factor? It might run...

Hope this helps,

Rui Barradas

On 4/9/2018 6:11 PM, David L Carlson wrote:
> Try the help files:
> 
> ?factor
> 
> ----------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77843-4352
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
> Sent: Monday, April 9, 2018 11:29 AM
> To: r-help at r-project.org
> Subject: Re: [R] convert numeric variables to factor
> 
> Dear Sir,
> 
> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> 
> Please to covert the variables.
> 
> Thanks and Regards
> 
> Abu Afzal
> PhD Eco
> JNU
> India
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com  Mon Apr  9 20:45:28 2018
From: @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 00:45:28 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <513645c80936e4a13fab03875d73c934@jet20.info>

<p>i am seriously meet up with you. if you're interested in getting to know me Then sent me about your details . William Im really serious!</p>


	[[alternative HTML version deleted]]



From m@rc_grt @end|ng |rom y@hoo@|r  Tue Apr 10 06:11:49 2018
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Tue, 10 Apr 2018 06:11:49 +0200
Subject: [R] Fail to save an object using name as string
Message-ID: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>

Dear list member,

I think that I have detected a strange behavior of the save() command:

 > year <- "2000"
 > assign(paste0("Var_", year), list(A=10, B=20))
 > get(paste0("Var_", year))
$A
[1] 10

$B
[1] 20

# At this point all is ok, I have created a list of name Var_2000

 > save(paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
Error in save(paste0("Var_", year), file = paste0("Var_", year, 
".Rdata")) :
 ? objet ?paste0("Var_", year)? introuvable

(introuvable=cannot be found)

but

 > save("Var_2000", file=paste0("Var_", year, ".Rdata"))

When I read the help for save: ?save

...??? the names of the objects to be saved (as symbols or character 
strings).

I checked if paste0("Var_", year) produced a character string:

 > str("Var_2000")
 ?chr "Var_2000"
 > str(paste0("Var_", year))
 ?chr "Var_2000"

The solution was to include the name in the list argument:

 > save(list=paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))

But I don't understand what is the difference between "Var_2000" and 
paste0("Var_", year) as both produced the same output.

Thanks for your help,

Marc


R Under development (unstable) (2018-03-23 r74448) -- "Unsuffered 
Consequences"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.6.0 (64-bit)



From @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com  Tue Apr 10 02:42:45 2018
From: @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 06:42:45 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <f19b40d6ae21e8627acb58e4fc03e8de@jet20.info>

<p>Cool ?William i'm 100 sure you and me we can have a good time together. Just trust me okey.. Am not an escort ok so plz dont think me like that.</p>

<p>I just need you to prove you are not minor and safe.</p>

<p>My friends also here with me while am writing you. If you can come now you can ride us both. Just give me a call. Here?s <a href="http://cpafull.go2cloud.org/aff_c?offer_id=10965&amp;aff_id=11243">Verify to See my profile</a></p>

<p>Again I did attach pic of mine also. How is that? ?Come and treat us in real plz. To prove to you that im real, your Name is William Caver it ?,i hope now you believe that I?m real. 5+7 =12 am i right ??</p>


	[[alternative HTML version deleted]]



From @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com  Tue Apr 10 06:51:51 2018
From: @@m@nth@@m|th379786 @end|ng |rom ht@|e|ty@com (Samantha Smith)
Date: Tue, 10 Apr 2018 10:51:51 +0600
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAF8bMcbqQZDBPY=z7ZWLiokL-8+Q1kbkFSXNRV=v44_MxU604g@mail.gmail.com>
Message-ID: <ab9d133040359a649184fba58b000f6f@jet20.info>

<p>Are you avoiding me William? or you didnt get my mail? I am still waiting to talk to you William. You can get access to my prvt room now from <a href="http://cpafull.go2cloud.org/aff_c?offer_id=7325&amp;aff_id=11243">My Personal Page</a> It's secret, so plzdont share it with anyone ok. Make an account on here and lets talk. This not chrging you anything as i did sent you invataion. They will just check your age if you are over 18 and will give you access to my profile. baby i am Waiting.......<br />
?</p>


	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Apr 10 08:37:47 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 09 Apr 2018 23:37:47 -0700
Subject: [R] Fail to save an object using name as string
In-Reply-To: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>
References: <2ad46db8-bbdf-4527-ccb9-5bd68b39fc74@yahoo.fr>
Message-ID: <1CD463FD-9B10-4615-B3CD-5530FF4DDE3D@dcn.davis.ca.us>

Have you ever noticed that when you run

x <- 1:5
y <- 2:6
plot( x, y+1 )

you get the expressions you used in your call to plot on the axis labels? `x` is an expression consisting of a single symbol and y+1 is an expression consisting of the addition operator and two arguments: the symbol x and the constant 1. Plot uses these expressions in two ways: one to get numbers to plot, but also converts the expressions into strings that can be printed on the axes.

The save function has an `...` argument that it expects to find symbol names in,  and when you pass an expression as an unnamed argument instead and it then tries to convert the expression to a string and use that as a name for a variable, you get problems.... so don't do that. 

The save function also has the named argument `list` that does not have that symbol-name-extracting behaviour. By explicitly passing a vector of character strings (of length one in your case) in the named `list` argument you avoid that special handling applied by the save function to the `...` argument.

It does seem strange at first, but it goes along with some rather convenient features of the R statistical environment like formulas and intuitive plot labeling, and the ability to use

save( Var_2000, file = paste0( "Var_", year, ".Rdata" ) )

with no quotes. 

On April 9, 2018 9:11:49 PM PDT, Marc Girondot via R-help <r-help at r-project.org> wrote:
>Dear list member,
>
>I think that I have detected a strange behavior of the save() command:
>
> > year <- "2000"
> > assign(paste0("Var_", year), list(A=10, B=20))
> > get(paste0("Var_", year))
>$A
>[1] 10
>
>$B
>[1] 20
>
># At this point all is ok, I have created a list of name Var_2000
>
> > save(paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
>Error in save(paste0("Var_", year), file = paste0("Var_", year, 
>".Rdata")) :
> ? objet ?paste0("Var_", year)? introuvable
>
>(introuvable=cannot be found)
>
>but
>
> > save("Var_2000", file=paste0("Var_", year, ".Rdata"))
>
>When I read the help for save: ?save
>
>...??? the names of the objects to be saved (as symbols or character 
>strings).
>
>I checked if paste0("Var_", year) produced a character string:
>
> > str("Var_2000")
> ?chr "Var_2000"
> > str(paste0("Var_", year))
> ?chr "Var_2000"
>
>The solution was to include the name in the list argument:
>
> > save(list=paste0("Var_", year), file=paste0("Var_", year, ".Rdata"))
>
>But I don't understand what is the difference between "Var_2000" and 
>paste0("Var_", year) as both produced the same output.
>
>Thanks for your help,
>
>Marc
>
>
>R Under development (unstable) (2018-03-23 r74448) -- "Unsuffered 
>Consequences"
>Copyright (C) 2018 The R Foundation for Statistical Computing
>Platform: x86_64-apple-darwin15.6.0 (64-bit)
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @@||@t@uheed @end|ng |rom gm@||@com  Tue Apr 10 09:27:57 2018
From: @@||@t@uheed @end|ng |rom gm@||@com (Saif Tauheed)
Date: Tue, 10 Apr 2018 12:57:57 +0530
Subject: [R] convert numeric variables to factor
In-Reply-To: <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
Message-ID: <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>

I run this command for converting the numerical variable into factor. However, I get the following error message.

> cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""

Please help.

Regards 
Afzal


> On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
> Hello,
> 
> Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> Have you tried to run the code you haven't posted without coercing to factor? It might run...
> 
> Hope this helps,
> 
> Rui Barradas
> 
> On 4/9/2018 6:11 PM, David L Carlson wrote:
>> Try the help files:
>> ?factor
>> ----------------------------------------
>> David L Carlson
>> Department of Anthropology
>> Texas A&M University
>> College Station, TX 77843-4352
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
>> Sent: Monday, April 9, 2018 11:29 AM
>> To: r-help at r-project.org
>> Subject: Re: [R] convert numeric variables to factor
>> Dear Sir,
>> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>> Please to covert the variables.
>> Thanks and Regards
>> Abu Afzal
>> PhD Eco
>> JNU
>> India
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]



From er|cjberger @end|ng |rom gm@||@com  Tue Apr 10 11:42:09 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 10 Apr 2018 12:42:09 +0300
Subject: [R] convert numeric variables to factor
In-Reply-To: <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
Message-ID: <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>

You are missing a comma between "MARITAL" and "JOBSTATUS".

On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com>
wrote:

> I run this command for converting the numerical variable into factor.
> However, I get the following error message.
>
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL"
> "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M",
> "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]=
> as.factor(data.frame[,i])}
>
>
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1",
> "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>
> Please help.
>
> Regards
> Afzal
>
>
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some
> R functions that need factors will coerce their input variables when
> necessary.
> > Have you tried to run the code you haven't posted without coercing to
> factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org
> >> Subject: Re: [R] convert numeric variables to factor
> >> Dear Sir,
> >> I have xlsx data set which I have imported to R studio. Now some of the
> variables are defined as numeric but I want define them as factor variable
> so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @@||@t@uheed @end|ng |rom gm@||@com  Tue Apr 10 12:48:45 2018
From: @@||@t@uheed @end|ng |rom gm@||@com (Saif Tauheed)
Date: Tue, 10 Apr 2018 16:18:45 +0530
Subject: [R] convert numeric variables to factor
In-Reply-To: <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
Message-ID: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>

Thank you very much.

After that I have the following error:

cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") 
> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error in sort.list(y) : 'x' must be atomic for 'sort.list'
Have you called ?sort? on a list?






> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
> 
> You are missing a comma between "MARITAL" and "JOBSTATUS".
> 
> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
> I run this command for converting the numerical variable into factor. However, I get the following error message.
> 
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
> 
> Please help.
> 
> Regards
> Afzal
> 
> 
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> > Have you tried to run the code you haven't posted without coercing to factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org <mailto:r-help at r-project.org>
> >> Subject: Re: [R] convert numeric variables to factor
> >> Dear Sir,
> >> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> 
> 
>         [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
> 


	[[alternative HTML version deleted]]



From @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com  Tue Apr 10 13:10:30 2018
From: @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com (Sebastien Bihorel)
Date: Tue, 10 Apr 2018 07:10:30 -0400 (EDT)
Subject: [R] Question about subset
In-Reply-To: <851ef802a0f246acb114fa8aee6ba8bc@GBDCVPEXC08.corp.lgc-group.com>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
 <851ef802a0f246acb114fa8aee6ba8bc@GBDCVPEXC08.corp.lgc-group.com>
Message-ID: <1547555808.476500.1523358630357.JavaMail.zimbra@cognigencorp.com>


Thanks.

That works great!

> df <- data.frame(x=c(1,1,NA,NA,2), y=c('a','a','a','b','b'), z=c(TRUE,FALSE,TRUE,FALSE,TRUE))
> cond1 <- 'x==1'
> cond2 <- 'x==1 & z'
> df
   x y     z
1  1 a  TRUE
2  1 a FALSE
3 NA a  TRUE
4 NA b FALSE
5  2 b  TRUE
> subset(df, subset = ifelse(is.na(eval(parse(text=cond1))), TRUE, eval(parse(text=cond1))))
   x y     z
1  1 a  TRUE
2  1 a FALSE
3 NA a  TRUE
4 NA b FALSE
> subset(df, subset = ifelse(is.na(eval(parse(text=cond2))), TRUE, eval(parse(text=cond2))))
   x y    z
1  1 a TRUE
3 NA a TRUE


----- Original Message -----
From: "S Ellison" <S.Ellison at LGCGroup.com>
To: "Sebastien Bihorel" <sebastien.bihorel at cognigencorp.com>
Sent: Monday, April 9, 2018 8:31:55 AM
Subject: RE: Question about subset

> Before I try to re-invent the wheel, I would like to know if one of the base or
> recommended packages would contain a variant of the subset function that
> would consider missing values as true.

The subset argument to subset is something that evaluates to logical - a vector of True or False. 
If you wanted to treat missing values _in that_ as TRUE, wrap it in an ifelse:

ifelse(is.na(condition), TRUE, condition)

where condition can be a logical or an expression evaluating to logical.

S Ellison



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com  Tue Apr 10 13:12:18 2018
From: @eb@@t|en@b|hore| @end|ng |rom cogn|gencorp@com (Sebastien Bihorel)
Date: Tue, 10 Apr 2018 07:12:18 -0400 (EDT)
Subject: [R] Question about subset
In-Reply-To: <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>
References: <594082573.429069.1523246796179.JavaMail.zimbra@cognigencorp.com>
 <A20528F7-7DA2-4FC1-88A9-298A52C5310E@comcast.net>
Message-ID: <312509523.476508.1523358738198.JavaMail.zimbra@cognigencorp.com>


Thanks.

S. Elison provided a similar but apparently more general solution (see other post in thread).


----- Original Message -----
From: "David Winsemius" <dwinsemius at comcast.net>
To: "Sebastien Bihorel" <sebastien.bihorel at cognigencorp.com>
Cc: r-help at r-project.org
Sent: Monday, April 9, 2018 12:33:41 AM
Subject: Re: [R] Question about subset

Sent from my iPhone

> On Apr 8, 2018, at 9:06 PM, Sebastien Bihorel <sebastien.bihorel at cognigencorp.com> wrote:
> 
> Hi,
> 
> The help page for subset states "subset: logical expression indicating elements or rows to keep: missing values are taken as false."
> 
> Before I try to re-invent the wheel, I would like to know if one of the base or recommended packages would contain a variant of the subset function that would consider missing values as true.
> 
Just use a Boolean expression 

is.na(col)|(col==0)

> Thanks
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From ||@t@ @end|ng |rom dewey@myzen@co@uk  Tue Apr 10 15:05:48 2018
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 10 Apr 2018 14:05:48 +0100
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <15d76c97-bbce-4916-aa71-6464c56d52e3@dewey.myzen.co.uk>

Not sure whether this is the problem but calling your data frame 
data.frame is not a good idea.

On 10/04/2018 11:48, Saif Tauheed wrote:
> Thank you very much.
> 
> After that I have the following error:
> 
> cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet")
>> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error in sort.list(y) : 'x' must be atomic for 'sort.list'
> Have you called ?sort? on a list?
> 
> 
> 
> 
> 
> 
>> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
>>
>> You are missing a comma between "MARITAL" and "JOBSTATUS".
>>
>> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
>> I run this command for converting the numerical variable into factor. However, I get the following error message.
>>
>>> cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols) {data.frame[,i]= as.factor(data.frame[,i])}
>>
>>
>> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>>
>> Please help.
>>
>> Regards
>> Afzal
>>
>>
>>> On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
>>>
>>> Hello,
>>>
>>> Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
>>> Have you tried to run the code you haven't posted without coercing to factor? It might run...
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>> On 4/9/2018 6:11 PM, David L Carlson wrote:
>>>> Try the help files:
>>>> ?factor
>>>> ----------------------------------------
>>>> David L Carlson
>>>> Department of Anthropology
>>>> Texas A&M University
>>>> College Station, TX 77843-4352
>>>> -----Original Message-----
>>>> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
>>>> Sent: Monday, April 9, 2018 11:29 AM
>>>> To: r-help at r-project.org <mailto:r-help at r-project.org>
>>>> Subject: Re: [R] convert numeric variables to factor
>>>> Dear Sir,
>>>> I have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
>>>> Please to covert the variables.
>>>> Thanks and Regards
>>>> Abu Afzal
>>>> PhD Eco
>>>> JNU
>>>> India
>>>> ______________________________________________
>>>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>> ______________________________________________
>>>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html



From S@E|||@on @end|ng |rom LGCGroup@com  Tue Apr 10 16:05:57 2018
From: S@E|||@on @end|ng |rom LGCGroup@com (S Ellison)
Date: Tue, 10 Apr 2018 14:05:57 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <6328e96ea0c241d4b916bcdddce26cc5@GBDCVPEXC08.corp.lgc-group.com>

> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Saif Tauheed
> After that I have the following error:
> 
> cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL",
> "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F",
> "MASSMEDIA_M", "HomeComputer", "HomeInternet")
> > for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}
> 
> 
> Error in sort.list(y) : 'x' must be atomic for 'sort.list'
> Have you called ?sort? on a list?
> 

First, please post reproducible examples; your code will not run in anyone else's session (for example you have not shown where the data frame comes from), and if the code does not generate the error message reproducibly, noone can tell you exactly why it happens

Second, please _follow_ the posting guide and work through the suggested steps before posting a question to this list. An internet search for this error would have told you what causes it.

Finally: 
- Your loop will not work because your loop variable is I and the index is i; they are different in R. You'll just update the same column (i) lots of times, assuming i is defined.

- The error message arises from a call to factor() in as.factor(). It tells you that the column being converted is not a simple vector. That in turn tells me that you have not constructed your data frame correctly. I can't tell you what you did wrong there. 

- As another poster has said, data.frame is the name of a function - one that construicts a data frame. R can often tell which you want, but it is never safe to use the name of a function as the name of a data object. Use a different name for your data frame.

S Ellison


*******************************************************************
This email and any attachments are confidential. Any use, copying or
disclosure other than by the intended recipient is unauthorised. If 
you have received this message in error, please notify the sender 
immediately via +44(0)20 8943 7000 or notify postmaster at lgcgroup.com 
and delete this message and any copies from your computer and network. 
LGC Limited. Registered in England 2991879. 
Registered office: Queens Road, Teddington, Middlesex, TW11 0LY, UK

From d@nn|e|@|@|et@ @end|ng |rom bcb@gov@br  Tue Apr 10 14:49:32 2018
From: d@nn|e|@|@|et@ @end|ng |rom bcb@gov@br (Danniel Lafeta Machado)
Date: Tue, 10 Apr 2018 12:49:32 +0000
Subject: [R] Spectral analisys for for R version 3.4.3
Message-ID: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>

Dear all,
Is there any spectral analisys functionality available for R version 3.4.3?
Series() functionality doesn't work in this version.
Regards

Danniel



	[[alternative HTML version deleted]]



From petr@p|k@| @end|ng |rom prechez@@cz  Tue Apr 10 16:41:34 2018
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 10 Apr 2018 14:41:34 +0000
Subject: [R] convert numeric variables to factor
In-Reply-To: <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
References: <ADF935E7-C265-4950-B196-D67E00DC3202@gmail.com>
 <1bcc42dd9c9c428c91de6c46fd897470@exch-2p-mbx-w4.ads.tamu.edu>
 <48c8757a-057b-a671-f2a3-d46e5cae1718@sapo.pt>
 <B723CBE1-0659-422A-A285-35DC27ABBEC0@gmail.com>
 <CAGgJW744pQtkJG2u9Srv2sHh-WmUeatiG9JkmD4L-__OVT32xg@mail.gmail.com>
 <3D444E9E-F79E-408B-B398-50785790A03A@gmail.com>
Message-ID: <4184ee69036e402a9d1f5b6a490288ab@SRVEXCHCM1301.precheza.cz>

Hi
You could instead of selecting columns by name select them by number

Something like
your.data[,2:3] <- do.call(data.frame, lapply(your.data[,2:3], factor))

or you could construct a vector of column numbers

x <- c(2,3)

Cheers
Petr


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Saif Tauheed
Sent: Tuesday, April 10, 2018 12:49 PM
To: Eric Berger <ericjberger at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] convert numeric variables to factor

Thank you very much.

After that I have the following error:

cols<- c("GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL", "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F", "MASSMEDIA_M", "HomeComputer", "HomeInternet")
> for (I in cols) {data.frame[,i]= as.factor(data.frame[,i])}


Error in sort.list(y) : 'x' must be atomic for 'sort.list'
Have you called ?sort? on a list?






> On 10-Apr-2018, at 3:12 PM, Eric Berger <ericjberger at gmail.com> wrote:
>
> You are missing a comma between "MARITAL" and "JOBSTATUS".
>
> On Tue, Apr 10, 2018 at 10:27 AM, Saif Tauheed <saif.tauheed at gmail.com <mailto:saif.tauheed at gmail.com>> wrote:
> I run this command for converting the numerical variable into factor. However, I get the following error message.
>
> > cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE",
> > "MARITAL" "JOBSTATUS", "ENG", "EDU", "PARENT_EDU", "MASSMEDIA_F",
> > "MASSMEDIA_M", "HomeComputer", "HomeInternet") for (i in cols)
> > {data.frame[,i]= as.factor(data.frame[,i])}
>
>
> Error: unexpected string constant in ?cols<- c(?GrMM", "RELG", "CASTE1", "SECTOR", "SECTOR4","AGE", "MARITAL" "JOBSTATUS""
>
> Please help.
>
> Regards
> Afzal
>
>
> > On 10-Apr-2018, at 12:14 AM, Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> > Hello,
> >
> > Though Bert's and David's answers are what you should do, note that some R functions that need factors will coerce their input variables when necessary.
> > Have you tried to run the code you haven't posted without coercing to factor? It might run...
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > On 4/9/2018 6:11 PM, David L Carlson wrote:
> >> Try the help files:
> >> ?factor
> >> ----------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77843-4352
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org
> >> <mailto:r-help-bounces at r-project.org>> On Behalf Of Saif Tauheed
> >> Sent: Monday, April 9, 2018 11:29 AM
> >> To: r-help at r-project.org <mailto:r-help at r-project.org>
> >> Subject: Re: [R] convert numeric variables to factor Dear Sir, I
> >> have xlsx data set which I have imported to R studio. Now some of the variables are defined as numeric but I want define them as factor variable so that I run classification algorithm in R.
> >> Please to covert the variables.
> >> Thanks and Regards
> >> Abu Afzal
> >> PhD Eco
> >> JNU
> >> India
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >> To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >> To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> <https://stat.ethz.ch/mailman/listinfo/r-help>
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> <http://www.r-project.org/posting-guide.html>
> >> and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To
> UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
>


[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Apr 10 16:44:29 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 10 Apr 2018 07:44:29 -0700
Subject: [R] Spectral analisys for for R version 3.4.3
In-Reply-To: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
References: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
Message-ID: <45F3469E-76A0-4903-9843-54460405A401@dcn.davis.ca.us>

Please provide a reproducible example of the problem, with sample data.

Notes:
1) The Posting Guide points out that this is a plain text mailing list, but does not emphasize how damaged your sent email may be if you fail to set your email program to plain text mode.
2) Technically, 3.4.3 is not the current version of R... the PG asks you to verify your questions using the current version before posting. 

On April 10, 2018 5:49:32 AM PDT, Danniel Lafeta Machado <danniel.lafeta at bcb.gov.br> wrote:
>Dear all,
>Is there any spectral analisys functionality available for R version
>3.4.3?
>Series() functionality doesn't work in this version.
>Regards
>
>Danniel
>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From wdun|@p @end|ng |rom t|bco@com  Tue Apr 10 17:48:09 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Tue, 10 Apr 2018 08:48:09 -0700
Subject: [R] Spectral analisys for for R version 3.4.3
In-Reply-To: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
References: <0ae2fb0c6b4241b5827dd10402cb287f@SBCDF052.bcnet.bcb.gov.br>
Message-ID: <CAF8bMcYFhkYxOtS64aoKCAPZ8hPVRffZig1N808oKT+7NjwMfA@mail.gmail.com>

stats::spectrum for starters.

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Tue, Apr 10, 2018 at 5:49 AM, Danniel Lafeta Machado <
danniel.lafeta at bcb.gov.br> wrote:

> Dear all,
> Is there any spectral analisys functionality available for R version 3.4.3?
> Series() functionality doesn't work in this version.
> Regards
>
> Danniel
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From F|or|@n@Huber @end|ng |rom berenberg@de  Tue Apr 10 17:51:18 2018
From: F|or|@n@Huber @end|ng |rom berenberg@de (Huber, Florian)
Date: Tue, 10 Apr 2018 15:51:18 +0000
Subject: [R] Test if data uniformly distributed (newbie)
Message-ID: <A59963DF2FC12B49AB50D3ED683AB7BA92E67B@NT-EX01.dnsbego.de>

Dear Mr. Savicky,

I am currently working on a project where I want to test a random number generator, which is supposed to create 10.000 continuously uniformly distributed random numbers between 0 and 1. I am now wondering if I can use the Chi-Squared-Test to solve this problem or if the Kolmogorov-Smirnov-test would be a better fit.

I came across one of your threads on the internet where you answer a similar question and thought I'd reach out to you.


Thanks in advance
Florian Huber




Diese Nachricht einschliesslich etwa beigefuegter Anhaenge ist vertraulich und kann dem Bank- und Datengeheimnis unterliegen oder sonst rechtlich geschuetzte Daten und Informationen enthalten. Wenn Sie nicht der richtige Adressat sind oder diese Nachricht irrtuemlich erhalten haben, informieren Sie bitte sofort den Absender ?ber die Antwortfunktion. Anschliessend moechten Sie bitte diese Nachricht einschliesslich etwa beigefuegter Anhaenge unverzueglich vollstaendig loeschen. Das unerlaubte Kopieren oder Speichern dieser Nachricht und/oder der ihr etwa beigefuegten Anhaenge sowie die unbefugte Weitergabe der darin enthaltenen Daten und Informationen sind nicht gestattet. Wir weisen darauf hin, dass rechtsverbindliche Erklaerungen namens unseres Hauses grundsaetzlich der Unterschriften zweier ausreichend bevollmaechtigter Vertreter unseres Hauses beduerfen. Wir verschicken daher keine rechtsverbindlichen Erklaerungen per E-Mail an Dritte. Demgemaess nehmen wir per E-Mail auch keine rechtsverbindlichen Erklaerungen oder Auftraege von Dritten entgegen. 
Sollten Sie Schwierigkeiten beim Oeffnen dieser E-Mail haben, wenden Sie sich bitte an den Absender oder an info at berenberg.de. Please refer to http://www.berenberg.de/my_berenberg/disclaimer_e.html for our confidentiality notice.


	[[alternative HTML version deleted]]



From m@rco@|m@|@ @end|ng |rom hotm@||@com  Wed Apr 11 17:31:34 2018
From: m@rco@|m@|@ @end|ng |rom hotm@||@com (Marcos Fiorini)
Date: Wed, 11 Apr 2018 15:31:34 +0000
Subject: [R] Information about compatibility R
Message-ID: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>

Hi everyone.

I need an information about compatibility of R and Suse Linux. I have installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if it?s compatible the upgrade for the new version 3.4.4 in my Suse release? This information?s about version R and linux version have in site or other place?



Thanks.



Marcos Fiorini

	[[alternative HTML version deleted]]



From @|k@u||m @end|ng |rom |@@tm@||@|m  Wed Apr 11 19:13:56 2018
From: @|k@u||m @end|ng |rom |@@tm@||@|m (Albrecht Kauffmann)
Date: Wed, 11 Apr 2018 19:13:56 +0200
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <1523466836.477023.1334600448.369AB639@webmail.messagingengine.com>

Dear Marcos,

The current Version of opensuse Linux is Leap 42.3 (when I'm still right). Probably you should upgrade your Linux system before installing one of the most recent versions of R.

Best
Albrecht

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mi, 11. Apr 2018, um 17:31, schrieb Marcos Fiorini:
> Hi everyone.
> 
> I need an information about compatibility of R and Suse Linux. I have 
> installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if its 
> compatible the upgrade for the new version 3.4.4 in my Suse release? 
> This informations about version R and linux version have in site or 
> other place?
> 
> 
> 
> Thanks.
> 
> 
> 
> Marcos Fiorini
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From henr|k@bengt@@on @end|ng |rom gm@||@com  Wed Apr 11 22:04:14 2018
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Wed, 11 Apr 2018 13:04:14 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601E8079DD22494123C86DFACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <CAFDcVCTRvVUcTFMDhMpNY59qQ6HgohyPTWbMCDeA_KB3EAcybQ@mail.gmail.com>

Hi,

your question is nearly impossible to answer without actual testing of
your existing pipelines.  But from my soon 20-year usage of R, it's
clear to me that the R Core Team strives to keep things backward
compatible as far as they can.  The NEWS file:

  https://cran.r-project.org/doc/manuals/r-devel/NEWS.html

contains useful information on what's been updated in each release -
you can inspect that one from your own perspective.  There are also
12,000 packages on CRAN that are tested on old-release, current
release, and developers version of R.  Many of these packages rarely
gets updated, which indicates that these package work across a large
number of R versions (and platforms).

FYI, R 3.5.0 is being released on April 23, 2018.  You should aim to
install that version.   Also, on Linux it's not too hard to install
multiple R versions in parallel when you install from source.  Then
you can go back and forth between version whenever you'd like.

/Henrik



On Wed, Apr 11, 2018 at 8:31 AM, Marcos Fiorini <marcosfmaia at hotmail.com> wrote:
> Hi everyone.
>
> I need an information about compatibility of R and Suse Linux. I have installed R 3.2.1 in Suse Linux 11 SP4 and I would like know if it?s compatible the upgrade for the new version 3.4.4 in my Suse release? This information?s about version R and linux version have in site or other place?
>
>
>
> Thanks.
>
>
>
> Marcos Fiorini
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From m@rco@|m@|@ @end|ng |rom hotm@||@com  Wed Apr 11 21:15:27 2018
From: m@rco@|m@|@ @end|ng |rom hotm@||@com (Marcos Fiorini)
Date: Wed, 11 Apr 2018 19:15:27 +0000
Subject: [R] Information about compatibility R
Message-ID: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>

Hi Albrecht, thanks for your return.

I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 and not the openSUSE. Do you know if exist a compatibility list of R and Linux version? In the site
https://cran.r-project.org is informed only about the R version 3.4.4 for SLE12 but not about the previous versions. I can't upgrade for SLE12 and I would like know what is the last version that I can use of R in my SUSE version.

Best regards.

Marcos Fiorini


	[[alternative HTML version deleted]]



From henr|k@bengt@@on @end|ng |rom gm@||@com  Wed Apr 11 22:26:25 2018
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Wed, 11 Apr 2018 13:26:25 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>

I guess I misread your question. /Henrik

On Wed, Apr 11, 2018 at 12:15 PM, Marcos Fiorini
<marcosfmaia at hotmail.com> wrote:
> Hi Albrecht, thanks for your return.
>
> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 and not the openSUSE. Do you know if exist a compatibility list of R and Linux version? In the site
> https://cran.r-project.org is informed only about the R version 3.4.4 for SLE12 but not about the previous versions. I can't upgrade for SLE12 and I would like know what is the last version that I can use of R in my SUSE version.
>
> Best regards.
>
> Marcos Fiorini
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Apr 11 22:52:23 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 11 Apr 2018 13:52:23 -0700
Subject: [R] Information about compatibility R
In-Reply-To: <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
 <CAFDcVCQWqbwuUtzRcTVNmU-aq=UYabzBKVvk=u1nvXrz9DoQBg@mail.gmail.com>
Message-ID: <FBFEA5FB-19C1-40CC-8DEA-B15B9C4B9D36@dcn.davis.ca.us>

The reason people like to pay companies for their commercial or "enterprise" operating system distributions is because the someone you pay can do all the legwork to confirm compatibility. You should be asking your commercial distro provider to render this service. If they deem it too far below their radar to help you with then you need to identify which open distro is similar enough to your commercial environment to piggyback OS packages from, or go to the source and start compiling and installing required supporting software, which may extend to installing the necessary compiler to build R. The version of Linux itself is unlikely to prevent this last option from working. 

On April 11, 2018 1:26:25 PM PDT, Henrik Bengtsson <henrik.bengtsson at gmail.com> wrote:
>I guess I misread your question. /Henrik
>
>On Wed, Apr 11, 2018 at 12:15 PM, Marcos Fiorini
><marcosfmaia at hotmail.com> wrote:
>> Hi Albrecht, thanks for your return.
>>
>> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL =
>4 and not the openSUSE. Do you know if exist a compatibility list of R
>and Linux version? In the site
>> https://cran.r-project.org is informed only about the R version 3.4.4
>for SLE12 but not about the previous versions. I can't upgrade for
>SLE12 and I would like know what is the last version that I can use of
>R in my SUSE version.
>>
>> Best regards.
>>
>> Marcos Fiorini
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @|k@u||m @end|ng |rom |@@tm@||@|m  Thu Apr 12 07:28:31 2018
From: @|k@u||m @end|ng |rom |@@tm@||@|m (Albrecht Kauffmann)
Date: Thu, 12 Apr 2018 07:28:31 +0200
Subject: [R] Information about compatibility R
In-Reply-To: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
References: <RO1P152MB0601D0035AC04B5636C6AAF1ACBD0@RO1P152MB0601.LAMP152.PROD.OUTLOOK.COM>
Message-ID: <1523510911.1119904.1335224256.02EAB68D@webmail.messagingengine.com>

Hi Marcos,

excuse me, please, Iam only familiar with opensuse.

Best regards,
Albrecht Kauffmann

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mi, 11. Apr 2018, um 21:15, schrieb Marcos Fiorini:
> Hi Albrecht, thanks for your return.
> 
> I'm  using the SUSE Linux Enterprise Server 11 (x86_64) PATCHLEVEL = 4 
> and not the openSUSE. Do you know if exist a compatibility list of R and 
> Linux version? In the site
> https://cran.r-project.org is informed only about the R version 3.4.4 
> for SLE12 but not about the previous versions. I can't upgrade for SLE12 
> and I would like know what is the last version that I can use of R in my 
> SUSE version.
> 
> Best regards.
> 
> Marcos Fiorini
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From re|chm@nj @end|ng |rom @bcg|ob@|@net  Thu Apr 12 16:59:23 2018
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (JEFFERY REICHMAN)
Date: Thu, 12 Apr 2018 14:59:23 +0000 (UTC)
Subject: [R] Bivariate Normal Distribution Plots
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
Message-ID: <1219002294.2176901.1523545163538@mail.yahoo.com>

R-Help

I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...

# Standard deviations and correlation
sig_x <- 1
sig_y <- 1
rho_xy <- 0.0

# Covariance between X and Y
sig_xy <- rho_xy * sig_x *sig_y

# Covariance matrix
Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)

# Load the mvtnorm package
library("mvtnorm")

# Means
mu_x <- 0
mu_y <- 0

# Simulate 1000 observations
set.seed(12345)  # for reproducibility
xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy) 

# Have a look at the first observations
head(xy_vals)

# Create scatterplot
plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue", 
     main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")

# Add lines
abline(h = mu_y, v = mu_x)

Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?

Jeff Reichman



From S@E|||@on @end|ng |rom LGCGroup@com  Thu Apr 12 20:11:03 2018
From: S@E|||@on @end|ng |rom LGCGroup@com (S Ellison)
Date: Thu, 12 Apr 2018 18:11:03 +0000
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <445caba160544f748d3bcb655a483964@GBDCVPEXC08.corp.lgc-group.com>



> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of JEFFERY REICHMAN


> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
> 
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
> 
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
> ...
> Problem is this results in sigma(x) = sigma(y), rho=0 ...
> What I have created creates a circle.  
Er, yes ... that is what you asked for.

Have you tried rho_xy=0.7 or similar in the code above?


*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}



From rmh @end|ng |rom temp|e@edu  Thu Apr 12 20:24:04 2018
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Thu, 12 Apr 2018 14:24:04 -0400
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <CAGx1TMDPKbAWaGnSL5L-xELc5mHFu0b7+GWSAshbJjkYfwiFAg@mail.gmail.com>

Please look at my book
Statistical Analysis and Data Display
https://www.springer.com/us/book/9781493921218

Figures 3.8, 3.9, 3.10

The code for these figures is available in the HH package

install.packages("HH")
library(HH)
HHscriptnames(3) ## this gives the filename on your computer containing the code
## open the file in your preferred editor and run chunks 15 and 16


On Thu, Apr 12, 2018 at 10:59 AM, JEFFERY REICHMAN
<reichmanj at sbcglobal.net> wrote:
> R-Help
>
> I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...
>
> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
>
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
>
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
>
> # Load the mvtnorm package
> library("mvtnorm")
>
> # Means
> mu_x <- 0
> mu_y <- 0
>
> # Simulate 1000 observations
> set.seed(12345)  # for reproducibility
> xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)
>
> # Have a look at the first observations
> head(xy_vals)
>
> # Create scatterplot
> plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
>      main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")
>
> # Add lines
> abline(h = mu_y, v = mu_x)
>
> Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?
>
> Jeff Reichman
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From peter@|@ng|e|der @end|ng |rom gm@||@com  Thu Apr 12 20:32:59 2018
From: peter@|@ng|e|der @end|ng |rom gm@||@com (Peter Langfelder)
Date: Thu, 12 Apr 2018 11:32:59 -0700
Subject: [R] WGCNA package installation segmentation fault
Message-ID: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>

Hi all,

a user contacted me about a segfault when installing WGCNA package
dowloaded from CRAN. I also see a segfault like that on certain
installs of R.

The package passes all CRAN checks, so presumably this has something
to do with the R installation or environment. The R versions here are
not the newest but I would guess that this is not an R version issue.

I'm attaching two sessionInfo() outputs on systems where the
installation throws a segfault.

Any pointers/ideas as to what could be going wrong?

Thanks,

Peter

##################################################################

System 1:

trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.63.tar.gz'
Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
==================================================
downloaded 1.1 MB

* installing *source* package ?WGCNA? ...
** package ?WGCNA? successfully unpacked and MD5 sums checked
** libs
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
corFunctions-utils.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
corFunctions.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
myMatrixMultiplication.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
networkFunctions.o
g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
parallelQuantile.o
gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
-I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
-I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
corFunctions.o myMatrixMultiplication.o networkFunctions.o
parallelQuantile.o pivot.o -lpthread
installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
** R
** data
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
==========================================================================
*
*  Package WGCNA 1.63 loaded.
*
*    Important note: It appears that your system supports multi-threading,
*    but it is not enabled within WGCNA in R.
*    To allow multi-threading within WGCNA with all available cores, use
*
*          allowWGCNAThreads()
*
*    within R. Use disableWGCNAThreads() to disable threading if necessary.
*    Alternatively, set the following environment variable on your system:
*
*          ALLOW_WGCNA_THREADS=<number_of_processors>
*
*    for example
*
*          ALLOW_WGCNA_THREADS=32
*
*    To set the environment variable in linux bash shell, type
*
*           export ALLOW_WGCNA_THREADS=32
*
*     before running R. Other operating systems or shells will
*     have a similar command to achieve the same aim.
*
==========================================================================



 *** caught segfault ***
address (nil), cause 'memory not mapped'
An irrecoverable exception occurred. R is aborting now ...
Segmentation fault
ERROR: loading failed
* removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?

 *** caught segfault ***
address (nil), cause 'memory not mapped'

Traceback:
 1: q("no", status = status, runLast = FALSE)
 2: do_exit(status = status)
 3: do_exit_on_error()
 4: errmsg("loading failed")
 5: do_install_source(pkg_name, instdir, pkg, desc)
 6: do_install(pkg)
 7: tools:::.install_packages()
An irrecoverable exception occurred. R is aborting now ...
Segmentation fault

The downloaded source packages are in
    ?/tmp/RtmpQ3mLx7/downloaded_packages?
Updating HTML index of packages in '.Library'
Making 'packages.html' ... done
Warning message:
In install.packages("WGCNA") :
  installation of package ?WGCNA? had non-zero exit status



> sessionInfo()
R version 3.4.2 (2017-09-28)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Debian GNU/Linux 9 (stretch)

Matrix products: default
BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_3.4.2



##################################################################

System 2:

* installing *source* package ?WGCNA? ...
** package ?WGCNA? successfully unpacked and MD5 sums checked
** libs
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
corFunctions-utils.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
myMatrixMultiplication.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
networkFunctions.o
/u/local/compilers/gcc/4.9.3/bin/g++
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
parallelQuantile.o
/u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
-I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
-DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
-I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
-I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
-I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
-I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/Rcpp/include"
  -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
/u/local/compilers/gcc/4.9.3/bin/g++ -shared
-L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
-L/u/local/compilers/gcc/4.9.3/lib
-L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
-L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
-L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
networkFunctions.o parallelQuantile.o pivot.o -lpthread
-L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
-lstdc++
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
-lstdc++
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
-lgcc_s
/usr/bin/ld: skipping incompatible
/u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
-lgcc_s
installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA/libs
** R
** data
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
sh: line 1:  9127 Segmentation fault
'/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
--slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'

 *** caught segfault ***
address (nil), cause 'unknown'
An irrecoverable exception occurred. R is aborting now ...
ERROR: loading failed
* removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
* restoring previous
?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?

The downloaded source packages are in
    ?/work/tmp/RtmpiAyLef/downloaded_packages?
Warning message:
In install.packages("WGCNA") :
  installation of package ?WGCNA? had non-zero exit status
> sessionInfo()
R version 3.3.3 (2017-03-06)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: CentOS release 6.9 (Final)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.3.3



From wdun|@p @end|ng |rom t|bco@com  Thu Apr 12 21:38:33 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Thu, 12 Apr 2018 12:38:33 -0700
Subject: [R] WGCNA package installation segmentation fault
In-Reply-To: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>
References: <CA+hbrhVg+dZ6SAHBUhjw3x6hPZzt9pxdTuiPpXQ5-yMx-nM8Ew@mail.gmail.com>
Message-ID: <CAF8bMcaxtyDtSc4dxa-bJpDpO2a_1qWwVoD7Xcg-YKr5Tr9-zA@mail.gmail.com>

 I get the seg-fault on exiting R after loading WGCNA into R-3.4.3 on
Linux.  Valdgrind
shows the problem occurs when tearing down an Rstreambuf object:

% R --debugger valgrind --vanilla --quiet
==30889== Memcheck, a memory error detector
==30889== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==30889== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info
==30889== Command: /home/R/R-3.4.3/lib64/R/bin/exec/R --vanilla --quiet
==30889==
> library(WGCNA)
Loading required package: dynamicTreeCut
Loading required package: fastcluster

Attaching package: ?fastcluster?

The following object is masked from ?package:stats?:

    hclust


==========================================================================
*
*  Package WGCNA 1.63 loaded.
*
*    Important note: It appears that your system supports multi-threading,
*    but it is not enabled within WGCNA in R.
*    To allow multi-threading within WGCNA with all available cores, use
*
*          allowWGCNAThreads()
*
*    within R. Use disableWGCNAThreads() to disable threading if necessary.
*    Alternatively, set the following environment variable on your system:
*
*          ALLOW_WGCNA_THREADS=<number_of_processors>
*
*    for example
*
*          ALLOW_WGCNA_THREADS=12
*
*    To set the environment variable in linux bash shell, type
*
*           export ALLOW_WGCNA_THREADS=12
*
*     before running R. Other operating systems or shells will
*     have a similar command to achieve the same aim.
*
==========================================================================



Attaching package: ?WGCNA?

The following object is masked from ?package:stats?:

    cor

> sessionInfo()
R version 3.4.3 (2017-11-30)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: CentOS Linux 7 (Core)

Matrix products: default
BLAS: /usr/lib64/libblas.so.3.4.2
LAPACK: /home/R/R-3.4.3/lib64/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] WGCNA_1.63            fastcluster_1.1.24    dynamicTreeCut_1.63-1

loaded via a namespace (and not attached):
 [1] robust_0.4-18         Rcpp_0.12.16          mvtnorm_1.0-7
 [4] lattice_0.20-35       GO.db_3.4.1           digest_0.6.15
 [7] foreach_1.4.4         plyr_1.8.4            backports_1.1.2
[10] acepack_1.4.1         pcaPP_1.9-73          stats4_3.4.3
[13] RSQLite_2.1.0         ggplot2_2.2.1         pillar_1.2.1
[16] rlang_0.2.0           lazyeval_0.2.1        rstudioapi_0.7
[19] data.table_1.10.4-3   blob_1.1.1            S4Vectors_0.16.0
[22] rpart_4.1-13          Matrix_1.2-13         checkmate_1.8.5
[25] preprocessCore_1.40.0 splines_3.4.3         stringr_1.3.0
[28] foreign_0.8-69        htmlwidgets_1.0       bit_1.1-12
[31] munsell_0.4.3         compiler_3.4.3        pkgconfig_2.0.1
[34] BiocGenerics_0.24.0   base64enc_0.1-3       htmltools_0.3.6
[37] nnet_7.3-12           tibble_1.4.2          gridExtra_2.3
[40] htmlTable_1.11.2      Hmisc_4.1-1           IRanges_2.12.0
[43] codetools_0.2-15      matrixStats_0.53.1    rrcov_1.4-3
[46] MASS_7.3-49           grid_3.4.3            gtable_0.2.0
[49] DBI_0.8               magrittr_1.5          scales_0.5.0
[52] stringi_1.1.7         impute_1.52.0         doParallel_1.0.11
[55] latticeExtra_0.6-28   robustbase_0.92-8     Formula_1.2-2
[58] RColorBrewer_1.1-2    iterators_1.0.9       tools_3.4.3
[61] bit64_0.9-7           Biobase_2.38.0        DEoptimR_1.0-8
[64] fit.models_0.5-14     parallel_3.4.3        survival_2.41-3
[67] AnnotationDbi_1.40.0  colorspace_1.3-2      cluster_2.0.7
[70] memoise_1.1.0         knitr_1.20
> q("no")
==30889== Invalid read of size 4
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E462: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E462: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E462: Rcpp::Rostream<false>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7D108: do_quit (main.c:1330)
==30889==    by 0x4F45B1E: bcEval (eval.c:6473)
==30889==    by 0x4F5450F: Rf_eval (eval.c:624)
==30889==    by 0x4F5657E: R_execClosure (eval.c:1614)
==30889==    by 0x4F546CB: Rf_eval (eval.c:747)
==30889==    by 0x4F7D921: Rf_ReplIteration (main.c:258)
==30889==    by 0x4F7DCF0: R_ReplConsole (main.c:308)
==30889==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==30889==

 *** caught segfault ***
address (nil), cause 'memory not mapped'

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 3
==30889== Invalid read of size 4
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E4D2: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E4D2: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E4D2: Rcpp::Rostream<true>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7B9E8: sigactionSegv (main.c:616)
==30889==    by 0x589E5DF: ??? (in /usr/lib64/libpthread-2.17.so)
==30889==    by 0x9A22CB2: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==30889==
==30889==
==30889== Process terminating with default action of signal 11 (SIGSEGV)
==30889==  Access not within mapped region at address 0x0
==30889==    at 0x9A22CB3: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==    by 0x1B01E4D2: ~basic_streambuf (streambuf:198)
==30889==    by 0x1B01E4D2: ~Rstreambuf (Rstreambuf.h:31)
==30889==    by 0x1B01E4D2: Rcpp::Rostream<true>::~Rostream()
(Rstreambuf.h:44)
==30889==    by 0x5AE3A68: __run_exit_handlers (in /usr/lib64/libc-2.17.so)
==30889==    by 0x5AE3AB4: exit (in /usr/lib64/libc-2.17.so)
==30889==    by 0x504282A: Rstd_CleanUp (sys-std.c:1200)
==30889==    by 0x4F7B9E8: sigactionSegv (main.c:616)
==30889==    by 0x589E5DF: ??? (in /usr/lib64/libpthread-2.17.so)
==30889==    by 0x9A22CB2: std::locale::~locale() (in
/usr/lib64/libstdc++.so.6.0.19)
==30889==  If you believe this happened as a result of a stack
==30889==  overflow in your program's main thread (unlikely but
==30889==  possible), you can try to increase the size of the
==30889==  main thread stack using the --main-stacksize= flag.
==30889==  The main thread stack size used in this run was 8388608.
==30889==
==30889== HEAP SUMMARY:
==30889==     in use at exit: 214,366,643 bytes in 111,859 blocks
==30889==   total heap usage: 294,107 allocs, 182,248 frees, 507,439,997
bytes allocated
==30889==
==30889== LEAK SUMMARY:
==30889==    definitely lost: 0 bytes in 0 blocks
==30889==    indirectly lost: 0 bytes in 0 blocks
==30889==      possibly lost: 0 bytes in 0 blocks
==30889==    still reachable: 214,366,643 bytes in 111,859 blocks
==30889==                       of which reachable via heuristic:
==30889==                         length64           : 456,280 bytes in 769
blocks
==30889==         suppressed: 0 bytes in 0 blocks
==30889== Rerun with --leak-check=full to see details of leaked memory
==30889==
==30889== For counts of detected and suppressed errors, rerun with: -v
==30889== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
Segmentation fault (core dumped)


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Thu, Apr 12, 2018 at 11:32 AM, Peter Langfelder <
peter.langfelder at gmail.com> wrote:

> Hi all,
>
> a user contacted me about a segfault when installing WGCNA package
> dowloaded from CRAN. I also see a segfault like that on certain
> installs of R.
>
> The package passes all CRAN checks, so presumably this has something
> to do with the R installation or environment. The R versions here are
> not the newest but I would guess that this is not an R version issue.
>
> I'm attaching two sessionInfo() outputs on systems where the
> installation throws a segfault.
>
> Any pointers/ideas as to what could be going wrong?
>
> Thanks,
>
> Peter
>
> ##################################################################
>
> System 1:
>
> trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.
> 63.tar.gz'
> Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
> ==================================================
> downloaded 1.1 MB
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
> corFunctions-utils.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
> corFunctions.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
> networkFunctions.o
> g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
> parallelQuantile.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
> g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
> corFunctions.o myMatrixMultiplication.o networkFunctions.o
> parallelQuantile.o pivot.o -lpthread
> installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> ==========================================================================
> *
> *  Package WGCNA 1.63 loaded.
> *
> *    Important note: It appears that your system supports multi-threading,
> *    but it is not enabled within WGCNA in R.
> *    To allow multi-threading within WGCNA with all available cores, use
> *
> *          allowWGCNAThreads()
> *
> *    within R. Use disableWGCNAThreads() to disable threading if necessary.
> *    Alternatively, set the following environment variable on your system:
> *
> *          ALLOW_WGCNA_THREADS=<number_of_processors>
> *
> *    for example
> *
> *          ALLOW_WGCNA_THREADS=32
> *
> *    To set the environment variable in linux bash shell, type
> *
> *           export ALLOW_WGCNA_THREADS=32
> *
> *     before running R. Other operating systems or shells will
> *     have a similar command to achieve the same aim.
> *
> ==========================================================================
>
>
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
> ERROR: loading failed
> * removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
>
> Traceback:
>  1: q("no", status = status, runLast = FALSE)
>  2: do_exit(status = status)
>  3: do_exit_on_error()
>  4: errmsg("loading failed")
>  5: do_install_source(pkg_name, instdir, pkg, desc)
>  6: do_install(pkg)
>  7: tools:::.install_packages()
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
>
> The downloaded source packages are in
>     ?/tmp/RtmpQ3mLx7/downloaded_packages?
> Updating HTML index of packages in '.Library'
> Making 'packages.html' ... done
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
>
>
>
> > sessionInfo()
> R version 3.4.2 (2017-09-28)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Debian GNU/Linux 9 (stretch)
>
> Matrix products: default
> BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
> LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.4.2
>
>
>
> ##################################################################
>
> System 2:
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
> corFunctions-utils.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
> networkFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/g++
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
> parallelQuantile.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
> /u/local/compilers/gcc/4.9.3/bin/g++ -shared
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
> -L/u/local/compilers/gcc/4.9.3/lib
> -L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
> -L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
> -L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
> WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
> networkFunctions.o parallelQuantile.o pivot.o -lpthread
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> sh: line 1:  9127 Segmentation fault
> '/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
> --slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'
>
>  *** caught segfault ***
> address (nil), cause 'unknown'
> An irrecoverable exception occurred. R is aborting now ...
> ERROR: loading failed
> * removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
> * restoring previous
> ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
>
> The downloaded source packages are in
>     ?/work/tmp/RtmpiAyLef/downloaded_packages?
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
> > sessionInfo()
> R version 3.3.3 (2017-03-06)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: CentOS release 6.9 (Final)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.3.3
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
>



Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Thu, Apr 12, 2018 at 11:32 AM, Peter Langfelder <
peter.langfelder at gmail.com> wrote:

> Hi all,
>
> a user contacted me about a segfault when installing WGCNA package
> dowloaded from CRAN. I also see a segfault like that on certain
> installs of R.
>
> The package passes all CRAN checks, so presumably this has something
> to do with the R installation or environment. The R versions here are
> not the newest but I would guess that this is not an R version issue.
>
> I'm attaching two sessionInfo() outputs on systems where the
> installation throws a segfault.
>
> Any pointers/ideas as to what could be going wrong?
>
> Thanks,
>
> Peter
>
> ##################################################################
>
> System 1:
>
> trying URL 'https://mirrors.sorengard.com/cran/src/contrib/WGCNA_1.
> 63.tar.gz'
> Content type 'application/x-gzip' length 1153113 bytes (1.1 MB)
> ==================================================
> downloaded 1.1 MB
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions-utils.c -o
> corFunctions-utils.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c corFunctions.c -o
> corFunctions.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c networkFunctions.c -o
> networkFunctions.o
> g++  -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c parallelQuantile.cc -o
> parallelQuantile.o
> gcc -I/mnt/mfs/cluster/bin/R-3.4/include -DNDEBUG -DWITH_THREADS
> -I"/mnt/mfs/cluster/bin/R-3.4/library/Rcpp/include"
> -I/usr/local/include   -fpic  -g -O2  -c pivot.c -o pivot.o
> g++ -shared -L/usr/local/lib -o WGCNA.so corFunctions-utils.o
> corFunctions.o myMatrixMultiplication.o networkFunctions.o
> parallelQuantile.o pivot.o -lpthread
> installing to /mnt/mfs/cluster/bin/R-3.4/library/WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> ==========================================================================
> *
> *  Package WGCNA 1.63 loaded.
> *
> *    Important note: It appears that your system supports multi-threading,
> *    but it is not enabled within WGCNA in R.
> *    To allow multi-threading within WGCNA with all available cores, use
> *
> *          allowWGCNAThreads()
> *
> *    within R. Use disableWGCNAThreads() to disable threading if necessary.
> *    Alternatively, set the following environment variable on your system:
> *
> *          ALLOW_WGCNA_THREADS=<number_of_processors>
> *
> *    for example
> *
> *          ALLOW_WGCNA_THREADS=32
> *
> *    To set the environment variable in linux bash shell, type
> *
> *           export ALLOW_WGCNA_THREADS=32
> *
> *     before running R. Other operating systems or shells will
> *     have a similar command to achieve the same aim.
> *
> ==========================================================================
>
>
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
> ERROR: loading failed
> * removing ?/mnt/mfs/cluster/bin/R-3.4/library/WGCNA?
>
>  *** caught segfault ***
> address (nil), cause 'memory not mapped'
>
> Traceback:
>  1: q("no", status = status, runLast = FALSE)
>  2: do_exit(status = status)
>  3: do_exit_on_error()
>  4: errmsg("loading failed")
>  5: do_install_source(pkg_name, instdir, pkg, desc)
>  6: do_install(pkg)
>  7: tools:::.install_packages()
> An irrecoverable exception occurred. R is aborting now ...
> Segmentation fault
>
> The downloaded source packages are in
>     ?/tmp/RtmpQ3mLx7/downloaded_packages?
> Updating HTML index of packages in '.Library'
> Making 'packages.html' ... done
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
>
>
>
> > sessionInfo()
> R version 3.4.2 (2017-09-28)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Debian GNU/Linux 9 (stretch)
>
> Matrix products: default
> BLAS: /mnt/mfs/cluster/bin/R-3.4/lib/libRblas.so
> LAPACK: /mnt/mfs/cluster/bin/R-3.4/lib/libRlapack.so
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.4.2
>
>
>
> ##################################################################
>
> System 2:
>
> * installing *source* package ?WGCNA? ...
> ** package ?WGCNA? successfully unpacked and MD5 sums checked
> ** libs
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions-utils.c -o
> corFunctions-utils.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c corFunctions.c -o corFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c myMatrixMultiplication.c -o
> myMatrixMultiplication.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c networkFunctions.c -o
> networkFunctions.o
> /u/local/compilers/gcc/4.9.3/bin/g++
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -m64 -fopenmp -O3 -fPIC  -c parallelQuantile.cc -o
> parallelQuantile.o
> /u/local/compilers/gcc/4.9.3/bin/gcc -std=gnu99
> -I/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/include -DNDEBUG
> -DWITH_THREADS -I/u/local/compilers/gcc/4.9.3/include
> -I/u/local/apps/zlib/1.2.8/gcc-4.4.7/include
> -I/u/local/apps/bzip2/1.0.6/include -I/u/local/apps/xz/5.2.2/include
> -I/u/local/apps/pcre/8.39/include -I/u/local/apps/curl/7.49.1/include
> -I/include -I"/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> Rcpp/include"
>   -fpic  -O3  -m64 -fopenmp -fPIC  -c pivot.c -o pivot.o
> /u/local/compilers/gcc/4.9.3/bin/g++ -shared
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib
> -L/u/local/compilers/gcc/4.9.3/lib
> -L/u/local/apps/zlib/1.2.8/gcc-4.4.7/lib
> -L/u/local/apps/bzip2/1.0.6/lib -L/u/local/apps/xz/5.2.2/lib
> -L/u/local/apps/pcre/8.39/lib -L/u/local/apps/curl/7.49.1/lib -o
> WGCNA.so corFunctions-utils.o corFunctions.o myMatrixMultiplication.o
> networkFunctions.o parallelQuantile.o pivot.o -lpthread
> -L/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/lib -lR
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.so when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libstdc++.a when searching for
> -lstdc++
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> /usr/bin/ld: skipping incompatible
> /u/local/compilers/gcc/4.9.3/lib/libgcc_s.so when searching for
> -lgcc_s
> installing to /u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/
> WGCNA/libs
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> sh: line 1:  9127 Segmentation fault
> '/u/local/apps/R/3.3.3/gcc-4.9.3_MKL-2017.0/lib64/R/bin/R' --no-save
> --slave 2>&1 < '/tmp/Rtmp3EzbzU/file12085f7bbb35'
>
>  *** caught segfault ***
> address (nil), cause 'unknown'
> An irrecoverable exception occurred. R is aborting now ...
> ERROR: loading failed
> * removing ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
> * restoring previous
> ?/u/home/p/plangfel/R/x86_64-pc-linux-gnu-library/3.3/WGCNA?
>
> The downloaded source packages are in
>     ?/work/tmp/RtmpiAyLef/downloaded_packages?
> Warning message:
> In install.packages("WGCNA") :
>   installation of package ?WGCNA? had non-zero exit status
> > sessionInfo()
> R version 3.3.3 (2017-03-06)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: CentOS release 6.9 (Final)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.3.3
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From Hj@m@_96 @end|ng |rom hotm@||@com  Thu Apr 12 22:36:12 2018
From: Hj@m@_96 @end|ng |rom hotm@||@com (hudeyfa jama)
Date: Thu, 12 Apr 2018 20:36:12 +0000
Subject: [R] ODE
Message-ID: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>

Hello All,


I'm struggling to solve this ODE using R,


vdpol <- function (h, v, t) (
          list(c (
            -0.1*v/(pi*(2*10*h-h^2)),
              (v = (-0.1*v/(pi*(2*10*h-h^2))^2) + 2*9.81*h))

                  ))
          library(deSolve)
          yini <- (c(h = 20, v=0))
          nonstiff <- ode(y = yini, func = vdpol,
                          times= seq(0, 30, by = 0.01),
                                     parms = 1)

It says that


 The number of derivatives returned by func() (4) must equal the length of the initial conditions vector (2)


I'm not sure how when i only have two derivates in the equation. I have little to no knowledge of R and I'm following guidance of the internet so any help is appreciated.


Kind Regards,


H



	[[alternative HTML version deleted]]



From d@r@h@np@ndy@ @end|ng |rom gm@||@com  Thu Apr 12 23:26:33 2018
From: d@r@h@np@ndy@ @end|ng |rom gm@||@com (Darshan Pandya)
Date: Thu, 12 Apr 2018 16:26:33 -0500
Subject: [R] R Timeseries tsoutliers:tso
Message-ID: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>

Hello,

Writing to seek help in regard to some unexpected performance anomaly i am
observing in using tsoutlers:tso on the mac vs on an AWS cloud server..


I am running the following code with very small dataset of about 208
records.

d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")

selectedCols <- c("observation","dummy_date")
inputData <- d.input[,selectedCols]
outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
Shifts","Innovation Outlier","Temporary Change")
tsFrequency <- 52
params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)

tsFrequency = params$tsFrequency
outTypes <- unlist(params$outlier.types)
ts.var <- ts(inputData[,1], frequency = tsFrequency)
ts_outlier <- tso(ts.var, types =
?outlier.types ?
, maxit = 1)

?

This piece of code runs in about 60 seconds on my laptop but take about
upward of 13 mins on a decent AWS node with nothing else running on it.

Any hints as to why this is happening is greatly appreciated.
Thank you for your help.
?

-- 
Sincerely,
Darshan

	[[alternative HTML version deleted]]



From m@rn@@w@g|ey @end|ng |rom gm@||@com  Fri Apr 13 01:47:03 2018
From: m@rn@@w@g|ey @end|ng |rom gm@||@com (Marna Wagley)
Date: Thu, 12 Apr 2018 16:47:03 -0700
Subject: [R] repeating functions for different folders?
Message-ID: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>

Hi R users,
I need to run a analysis using a data for each folder. I do have several
folders. Each folder contains several files but these files name are
similar to the files that is saved into  another folders.  I need to repeat
the analysis for every folder and would like to save the output in that
particular folder.  After completing the analysis in one folder, I want to
move another folder. Basically I was doing manually (repeating the analysis
each and every folder manually). Is there any way to make a loop so that I
can run the analysis for different folders? Is there any example code?

Thanks for your help.
MW

	[[alternative HTML version deleted]]



From drj|m|emon @end|ng |rom gm@||@com  Fri Apr 13 02:10:39 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 13 Apr 2018 10:10:39 +1000
Subject: [R] repeating functions for different folders?
In-Reply-To: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
References: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
Message-ID: <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>

Hi Marna,
Assuming that you are descending into different subdirectories from
the same directory:

directories<-c("dir1","dir2","dir3")
for(directory in directories) {
 setwd(directory)
 # do whatever you want to do
 # then return to the directory above
 setwd("..")
}

This will allow you to start and finish in the same directory.

Jim


On Fri, Apr 13, 2018 at 9:47 AM, Marna Wagley <marna.wagley at gmail.com> wrote:
> Hi R users,
> I need to run a analysis using a data for each folder. I do have several
> folders. Each folder contains several files but these files name are
> similar to the files that is saved into  another folders.  I need to repeat
> the analysis for every folder and would like to save the output in that
> particular folder.  After completing the analysis in one folder, I want to
> move another folder. Basically I was doing manually (repeating the analysis
> each and every folder manually). Is there any way to make a loop so that I
> can run the analysis for different folders? Is there any example code?
>
> Thanks for your help.
> MW
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr 13 02:56:40 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 12 Apr 2018 17:56:40 -0700
Subject: [R] ODE
In-Reply-To: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>
References: <AM4PR0201MB16021C9B408AFF0B633E78ACF0BC0@AM4PR0201MB1602.eurprd02.prod.outlook.com>
Message-ID: <A9577841-5B7A-402E-BEEF-7F396910F98E@comcast.net>

You cross-posted this to StackOverflow (where there is already a response.) Cross-posting is viewed with scorn on both StackOverflow and Rhelp.


> On Apr 12, 2018, at 1:36 PM, hudeyfa jama <Hjama_96 at hotmail.com> wrote:
> 
> Hello All,
> 
> 
> I'm struggling to solve this ODE using R,
> 
> 
> vdpol <- function (h, v, t) (
>          list(c (
>            -0.1*v/(pi*(2*10*h-h^2)),
>              (v = (-0.1*v/(pi*(2*10*h-h^2))^2) + 2*9.81*h))
> 
>                  ))
>          library(deSolve)
>          yini <- (c(h = 20, v=0))
>          nonstiff <- ode(y = yini, func = vdpol,
>                          times= seq(0, 30, by = 0.01),
>                                     parms = 1)
> 
> It says that
> 
> 
> The number of derivatives returned by func() (4) must equal the length of the initial conditions vector (2)
> 

> 	[[alternative HTML version deleted]]

Rhelp is very "old-school". We use plain-text. Do read the information in the links:

> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Apr 13 07:11:22 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 13 Apr 2018 06:11:22 +0100
Subject: [R] repeating functions for different folders?
In-Reply-To: <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>
References: <CAMwU6B0B+526n2Fy7mDVtAcxUp-vxtnbYvG7seor7ZsZ6NDu8A@mail.gmail.com>
 <CA+8X3fX5qnOyRZ8nOz=HzTQ_ib8xxOMeUbsPeHO4ibGfb0qkCA@mail.gmail.com>
Message-ID: <cf2f56dd-80b4-057b-10ed-a8f125341677@sapo.pt>

Hello,

Inline.

On 4/13/2018 1:10 AM, Jim Lemon wrote:
> Hi Marna,
> Assuming that you are descending into different subdirectories from
> the same directory:

Maybe this assumption is not needed.
Since setwd returns the current directory, it is safer to assign that 
value to a variable and in the end use it reset the original state.

> 
> directories<-c("dir1","dir2","dir3")
> for(directory in directories) {
>   setwd(directory)
>   # do whatever you want to do
>   # then return to the directory above
>   setwd("..")
> }

Using your code,

directories<-c("dir1","dir2","dir3")
for(directory in directories) {
    old_dir <- setwd(directory)
    # do whatever you want to do
    # then return to the original directory
    setwd(old_dir)
}


Hope this helps,

Rui Barradas

> 
> This will allow you to start and finish in the same directory.
> 
> Jim
> 
> 
> On Fri, Apr 13, 2018 at 9:47 AM, Marna Wagley <marna.wagley at gmail.com> wrote:
>> Hi R users,
>> I need to run a analysis using a data for each folder. I do have several
>> folders. Each folder contains several files but these files name are
>> similar to the files that is saved into  another folders.  I need to repeat
>> the analysis for every folder and would like to save the output in that
>> particular folder.  After completing the analysis in one folder, I want to
>> move another folder. Basically I was doing manually (repeating the analysis
>> each and every folder manually). Is there any way to make a loop so that I
>> can run the analysis for different folders? Is there any example code?
>>
>> Thanks for your help.
>> MW
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From d@r@h@np@ndy@ @end|ng |rom gm@||@com  Fri Apr 13 17:33:00 2018
From: d@r@h@np@ndy@ @end|ng |rom gm@||@com (Darshan Pandya)
Date: Fri, 13 Apr 2018 10:33:00 -0500
Subject: [R] Fwd: R Timeseries tsoutliers:tso
In-Reply-To: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
References: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
Message-ID: <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>

Hello,

Writing to seek help in regard to some unexpected performance anomaly i am
observing in using tsoutlers:tso on the mac vs on an AWS cloud server..


I am running the following code with very small dataset of about 208
records.

d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")

selectedCols <- c("observation","dummy_date")
inputData <- d.input[,selectedCols]
outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
Shifts","Innovation Outlier","Temporary Change")
tsFrequency <- 52
params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)

tsFrequency = params$tsFrequency
outTypes <- unlist(params$outlier.types)
ts.var <- ts(inputData[,1], frequency = tsFrequency)
ts_outlier <- tso(ts.var, types =
?outlier.types ?
, maxit = 1)

?

This piece of code runs in about 60 seconds on my laptop but take about
upward of 13 mins on a decent AWS node with nothing else running on it.

Any hints as to why this is happening is greatly appreciated.
Thank you for your help.





-- 
Sincerely,
Darshan

	[[alternative HTML version deleted]]



From wdun|@p @end|ng |rom t|bco@com  Fri Apr 13 18:28:47 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Fri, 13 Apr 2018 09:28:47 -0700
Subject: [R] Fwd: R Timeseries tsoutliers:tso
In-Reply-To: <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>
References: <CALSQRkQn6x2DeZJ-otciNXiUCYYJBvHuXj5R+0Tw3SDXG424XQ@mail.gmail.com>
 <CALSQRkTDYcrkJdQ9LDVVecL+GEmKc2hmcc9bZDiXt7NYobp_NA@mail.gmail.com>
Message-ID: <CAF8bMcZr2JLd70e-GdKuKB0En_jTSkhudCNUQ4tYtTJfmKGq4w@mail.gmail.com>

You can record the time to evaluate each line by wrapping each line in a
call to system.time().  E.g.,

expressions <- quote({
    # paste your commands here, or put them into a file and use exprs <-
parse("thatFile")
    d.dir <- '/Users/darshanpandya/xxxxxx'
FNAME <- 'my_data.csv'

d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
.Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
= TRUE) %>% as.data.frame
  # ... the rest of your lines
})
expressions <- as.list(expressions)[-1]

timedExpressions <- lapply(expressions,
function(expr)bquote(system.time(.(expr))))

source(exprs=timedExpressions, echo=TRUE)

See which line (or lines) show big time differences on the two platforms.


Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Fri, Apr 13, 2018 at 8:33 AM, Darshan Pandya <darshanpandya at gmail.com>
wrote:

> Hello,
>
> Writing to seek help in regard to some unexpected performance anomaly i am
> observing in using tsoutlers:tso on the mac vs on an AWS cloud server..
>
>
> I am running the following code with very small dataset of about 208
> records.
>
> d.dir <- '/Users/darshanpandya/xxxxxx'
> FNAME <- 'my_data.csv'
>
> d.input <- fread(file.path(paste0(d.dir,"/zzz/"),FNAME,fsep =
> .Platform$file.sep), header = TRUE, stringsAsFactors = FALSE, showProgress
> = TRUE) %>% as.data.frame
> d.input$dummy_date <- as.Date(d.input$dummy_date, "%Y-%m-%d")
>
> selectedCols <- c("observation","dummy_date")
> inputData <- d.input[,selectedCols]
> outlier.types <- list("Additive Outliers","Levels Shifts","Seasonal Level
> Shifts","Innovation Outlier","Temporary Change")
> tsFrequency <- 52
> params <- list("outlier.types" = outlier.types,"tsFrequency" = tsFrequency)
>
> tsFrequency = params$tsFrequency
> outTypes <- unlist(params$outlier.types)
> ts.var <- ts(inputData[,1], frequency = tsFrequency)
> ts_outlier <- tso(ts.var, types =
> ?outlier.types ?
> , maxit = 1)
>
> ?
>
> This piece of code runs in about 60 seconds on my laptop but take about
> upward of 13 mins on a decent AWS node with nothing else running on it.
>
> Any hints as to why this is happening is greatly appreciated.
> Thank you for your help.
>
>
>
>
>
> --
> Sincerely,
> Darshan
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Fri Apr 13 19:01:56 2018
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (WRAY NICHOLAS)
Date: Fri, 13 Apr 2018 18:01:56 +0100 (BST)
Subject: [R] Reading xpt files into R
Message-ID: <1907640263.304232.1523638916808@mail2.virginmedia.com>

Hello R folk

I have an xpt file which I have been trying to open into R in R studio

On the net I found guidance which says that I need packages Hmisc and SASxport which I have successfully loaded.

I had also found some code which says that this would allow me to read the xpt file into R:

library(SASxport)
data(Alfalfa)
lookup.xport("test.xpt")
Alfalfa<-read.xport("test.xpt")

I have set the directory correctly as far as I am aware, but when I tried to run this code I got the following error messages:

> lookup.xport("test.xpt")
Error in lookup.xport.inner(file) : file not in SAS transfer format
> Alfalfa<-read.xport("test.xpt")
Error in read.xport("test.xpt") : 
The specified file does not start with a SAS xport file header!

I neither know what the file being not in SAS transfer format means, nor what not starting with an SAS xport file header means either...
If anyone can explain how I can read this xpt file into R I'd be v grateful

Thanks Nick Wray

	[[alternative HTML version deleted]]



From r@ndom @end|ng |rom yorku@c@  Fri Apr 13 13:54:42 2018
From: r@ndom @end|ng |rom yorku@c@ (Georges Monette)
Date: Fri, 13 Apr 2018 07:54:42 -0400
Subject: [R] Longitudinal and Multilevel Data in R and Stan: 5-day workshop
 May 28 to June 1, 2018
Message-ID: <a68796fd-9053-917c-53d8-7fd6ce4a71e3@yorku.ca>

Longitudinal and Multilevel Data in R and Stan
ICPSR short course: May 28 to June 1, 2018

May 28: Introduction to R by John Fox
May 29 to June 1: Longitudinal and Multilevel Data in R and Stan by Georges Monette

Sponsored and organized by ICPSR, University of Michigan and
held at York University in Toronto, Ontario

Course description:https://www.icpsr.umich.edu/icpsrweb/sumprog/courses/0226

Applications:https://www.icpsr.umich.edu/icpsrweb/content/sumprog/registration.html

For further information, contact Bryn Greer-Wootten at ISR, York University:bryngw at yorku.ca


	[[alternative HTML version deleted]]



From re|chm@nj @end|ng |rom @bcg|ob@|@net  Fri Apr 13 23:40:22 2018
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Fri, 13 Apr 2018 16:40:22 -0500
Subject: [R] SparksR
Message-ID: <000001d3d370$073f6770$15be3650$@sbcglobal.net>

R-Help

 

I'm working in my first large database (53,098,492,383 records).  When I
select the db via something like

 

Library(SparkR)

mydata <- sql("SELECT * FROM <table name>")

 

is "mydata" a SparkDataFrame,  and do I work with SparkDataFrames like I
would regular df (per say); because I can't image I would ever create a 53
billion record df.  I'm starting to acquaint myself with e SparkR package,
but I get confuse because it appears df and SparkDtaFrame are use
interchangeable. Or maybe not.

 

Looking for a good intro to SparkDataFrame.

 

Jeff Reichman


	[[alternative HTML version deleted]]



From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Apr 14 00:18:12 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 13 Apr 2018 15:18:12 -0700
Subject: [R] Reading xpt files into R
In-Reply-To: <1907640263.304232.1523638916808@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
Message-ID: <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>


> On Apr 13, 2018, at 10:01 AM, WRAY NICHOLAS via R-help <r-help at r-project.org> wrote:
> 
> Hello R folk
> 
> I have an xpt file which I have been trying to open into R in R studio
> 
> On the net I found guidance which says that I need packages Hmisc and SASxport which I have successfully loaded.
> 
> I had also found some code which says that this would allow me to read the xpt file into R:
> 
> library(SASxport)
> data(Alfalfa)
> lookup.xport("test.xpt")
> Alfalfa<-read.xport("test.xpt")
> 
> I have set the directory correctly as far as I am aware, but when I tried to run this code I got the following error messages:
> 
>> lookup.xport("test.xpt")
> Error in lookup.xport.inner(file) : file not in SAS transfer format
>> Alfalfa<-read.xport("test.xpt")
> Error in read.xport("test.xpt") : 
> The specified file does not start with a SAS xport file header!
> 
> I neither know what the file being not in SAS transfer format means, nor what not starting with an SAS xport file header means either...

The "export" or "transfer format from SA is supposed to make reading data less difficult and standardized. This is what a header from the version used by the NHANES releases (that's all one line):

HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  9.2     XP_PRO                          16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140  HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     DEMO    SASDATA 9.2     XP_PRO                          16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000       SEQN    Respondent sequence number                                      

You can look at the file with a text editor.

There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.

-- 
David.
> If anyone can explain how I can read this xpt file into R I'd be v grateful
> 
> Thanks Nick Wray
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat Apr 14 01:48:15 2018
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Fri, 13 Apr 2018 23:48:15 +0000 (UTC)
Subject: [R] cvTools for 2 models not working
References: <1784988942.603749.1523663295707.ref@mail.yahoo.com>
Message-ID: <1784988942.603749.1523663295707@mail.yahoo.com>

Dear R-experts,

I am trying to do cross-validation for different models using the cvTools package.

I can't get the CV for the "FastTau" and "hbrfit". I guess I have to write my own functions at least for hbrfit. What is going wrong with FastTau ?

Here below the reproducible example. It is a simple toy example (not my real dataset) with many warnings, what is important to me are the errors.

###CROSS-VALIDATION
######################
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages("devtools")? # library("devtools") # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 
# install.packages( "cvTools" )

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(hbrfit)
library(cvTools)


X <- c(5,3,2,4,7,6,9,3,7,11,1,6,4,5,6,9,4,5,34,2,1,3,12,8,9,7,4,12,19,21)
Y <- c(25,24,23,19,17,14,13,14,25,13,17,25,14,13,19,25,16,16,20,21,25,19,12,11,9,28,21,10,2,8)
Z <- c(34,32,12,23,54,12,13,54,52,32,39,19,32,12,11,10,9,8,45,34,23,26,29,6,35,47,21,29,26,25)

? reg1 <- lm( Y ~ X+Z )
? reg <- lmrob( Y ~ X + Z)
? Huber <- rlm( Y ~ X +Z)
? Tukey <- rlm( Y ~ X+Z, psi = psi.bisquare )
? L1 <- rq( Y ~ X + Z, tau = 0.5 )
? fast <- FastTau(model.matrix(~X+Z),Y)
HBR<-hbrfit(Y ~ X +Z)?


cvFit(lmrob,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)
?
cvFit(lm,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

cvFit(rlm,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

cvFit(rlm,formula=Y ~ X + Z, psi = psi.bisquare, cost=rtmspe, K=5, R=100)

cvFit(rq,formula=Y ~ X + Z, tau=0.5, cost=rtmspe, K=5, R=100)

cvFit(FastTau(model.matrix(~X+Z),Y),cost=rtmspe,K=5,R=100)


cvFit(hbrfit,formula=Y ~ X + Z, cost=rtmspe, K=5, R=100)

######################



?



From r@turner @end|ng |rom @uck|@nd@@c@nz  Sat Apr 14 02:25:56 2018
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Sat, 14 Apr 2018 12:25:56 +1200
Subject: [R] Extracting specified pages from a lattice ("trellis") object.
Message-ID: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>


Suppose that (e.g.) xyplot() returns an object "xxx" with (say) 3 pages.
I would like to extract/plot (print) just one of these pages, e.g.
page 2.

Here's a toy example:

x   <- rep(seq(0,1,length=11),12)
set.seed(42)
y   <- rnorm(3*44)
a   <- rep(letters[1:12],each=11)
dta <- data.frame(x=x,y=y,a=a)
xxx <- xyplot(y~x|a,data=dta,layout=c(2,2))

I would to extract from xxx and print page 2 (the page corresponding to
levels e, f, g and h).

Is there any (simple) way that I can do this?

I've mucked around with update.trellis() and [.trellis, but I cannot 
make head nor tail of the documentation.  The [.trellis method seems to 
work in some situations, but not in others, and since I cannot 
understand what it actually does, I cannot figure out why.

E.g. in my toy example "xxx[5:8]" seems to give me what I want, but in 
the context of my real application a similar construction does not work.

Thanks for any insight.

cheers,

Rolf Turner

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276



From j@ck@rne@t@d @end|ng |rom gm@||@com  Sat Apr 14 02:31:32 2018
From: j@ck@rne@t@d @end|ng |rom gm@||@com (Jack Arnestad)
Date: Fri, 13 Apr 2018 20:31:32 -0400
Subject: [R] Efficient way to subset rows in R for dataset with 10^7 columns
Message-ID: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>

I have a data.table with dimensions 100 by 10^7.

When I do

    trainIndex <-
      caret::createDataPartition(
        df$status,
        p = .9,
        list = FALSE,
        times = 1
      )
    outerTrain <- df[trainIndex]
    outerTest  <- df[-trainIndex]

Subsetting the rows of df takes over 20 minutes.

What is the best way to efficiently subset this?

Thanks!

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Apr 14 03:08:27 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 Apr 2018 18:08:27 -0700
Subject: [R] 
 Efficient way to subset rows in R for dataset with 10^7 columns
In-Reply-To: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
References: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
Message-ID: <AB034994-77E3-4B6E-95A1-C959A5E934E1@dcn.davis.ca.us>

You have 10^7 columns? That process is bound to be slow.

On April 13, 2018 5:31:32 PM PDT, Jack Arnestad <jackarnestad at gmail.com> wrote:
>I have a data.table with dimensions 100 by 10^7.
>
>When I do
>
>    trainIndex <-
>      caret::createDataPartition(
>        df$status,
>        p = .9,
>        list = FALSE,
>        times = 1
>      )
>    outerTrain <- df[trainIndex]
>    outerTest  <- df[-trainIndex]
>
>Subsetting the rows of df takes over 20 minutes.
>
>What is the best way to efficiently subset this?
>
>Thanks!
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From m@rc_grt @end|ng |rom y@hoo@|r  Sat Apr 14 03:34:27 2018
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Sat, 14 Apr 2018 03:34:27 +0200
Subject: [R] Bivariate Normal Distribution Plots
In-Reply-To: <1219002294.2176901.1523545163538@mail.yahoo.com>
References: <1219002294.2176901.1523545163538.ref@mail.yahoo.com>
 <1219002294.2176901.1523545163538@mail.yahoo.com>
Message-ID: <7a36204a-3ab9-5a96-16d2-3a308e34ff90@yahoo.fr>

Try this code:

# Standard deviations and correlation
sig_x <- 1
sig_y <- 2
rho_xy <- 0.7

# Covariance between X and Y
sig_xy <- rho_xy * sig_x *sig_y

# Covariance matrix
Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, 
ncol = 2)

# Load the mvtnorm package
library("mvtnorm")

# Means
mu_x <- 0
mu_y <- 0

# Simulate 1000 observations
set.seed(12345)? # for reproducibility
xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)

# Have a look at the first observations
head(xy_vals)

# Create scatterplot
# plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
#????? main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")

library(graphics)

x <- xy_vals[, 1]
y <- xy_vals[, 2]

par(mar=c(4, 4, 2, 6)+0.4)

smoothScatter(x, y, asp=1,
 ????????????? main = paste("Bivariate normal: rho = ", rho_xy),
 ????????????? xlab = "x", ylab = "y")


# Add lines
abline(h = mu_y, v = mu_x)

library(fields)

n <- matrix(0, ncol=128, nrow=128)

xrange <- range(x)
yrange <- range(y)

for (i in 1:length(x)) {
 ? posx <- 1+floor(127*(x[i]-xrange[1])/(xrange[2]-xrange[1]))
 ? posy <- 1+floor(127*(y[i]-yrange[1])/(yrange[2]-yrange[1]))
 ? n[posx, posy] <- n[posx, posy]+1
}

image.plot( legend.only=TRUE,
 ??????????? zlim= c(0, max(n)), nlevel=128,
 ??????????? col=colorRampPalette(c("white", blues9))(128))


Hope it helps,

Marc

Le 12/04/2018 ? 16:59, JEFFERY REICHMAN a ?crit?:
> R-Help
>
> I am attempting to create a series of bivariate normal distributions.  So using the mvtnorm library I have created the following code ...
>
> # Standard deviations and correlation
> sig_x <- 1
> sig_y <- 1
> rho_xy <- 0.0
>
> # Covariance between X and Y
> sig_xy <- rho_xy * sig_x *sig_y
>
> # Covariance matrix
> Sigma_xy <- matrix(c(sig_x ^ 2, sig_xy, sig_xy, sig_y ^ 2), nrow = 2, ncol = 2)
>
> # Load the mvtnorm package
> library("mvtnorm")
>
> # Means
> mu_x <- 0
> mu_y <- 0
>
> # Simulate 1000 observations
> set.seed(12345)  # for reproducibility
> xy_vals <- rmvnorm(1000, mean = c(mu_x, mu_y), sigma = Sigma_xy)
>
> # Have a look at the first observations
> head(xy_vals)
>
> # Create scatterplot
> plot(xy_vals[, 1], xy_vals[, 2], pch = 16, cex = 2, col = "blue",
>       main = "Bivariate normal: rho = 0.0", xlab = "x", ylab = "y")
>
> # Add lines
> abline(h = mu_y, v = mu_x)
>
> Problem is this results in sigma(x) = sigma(y), rho=0 and I need or what 2sigma(x)=sigma(y), rho=0 or 2sigma(y)=sigma(x), rho=0 to elongate the distribution.  What I have created creates a circle.  Can I do that within the mvtnorm package?
>
> Jeff Reichman
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Apr 14 04:07:17 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 Apr 2018 19:07:17 -0700
Subject: [R] 
 Efficient way to subset rows in R for dataset with 10^7 columns
In-Reply-To: <CADbGCVg=vJeSYaeEt5y8rSz1DKv7Kp0igF5oH5iyH6OX53jXjQ@mail.gmail.com>
References: <CADbGCVhRXpR5Wgkd6voTrTaUOytuOhqLiN3fWScejP4bVCXgtg@mail.gmail.com>
 <AB034994-77E3-4B6E-95A1-C959A5E934E1@dcn.davis.ca.us>
 <CADbGCVg=vJeSYaeEt5y8rSz1DKv7Kp0igF5oH5iyH6OX53jXjQ@mail.gmail.com>
Message-ID: <E6E5D0D3-94F2-4F15-BAD2-3A1458993780@dcn.davis.ca.us>

Oh, there are ways, but the constraining issue here is moving data (memory bandwidth), and data table is probably already the fastest mechanism for doing that. If you have a computer with four or more real cores you can try setting up a subset of the columns in each task and cbind the results afterward, but it will be hard to accomplish without making extra copies of the data. You are already probably already using virtual memory which is saved to and from hard disk storage as needed. 

Working in Spark with a distributed file system like Hadoop might solve some of these problems... but I haven't done real work with such tools.

On April 13, 2018 6:31:32 PM PDT, Jack Arnestad <jackarnestad at gmail.com> wrote:
>Yes unfortunately. The goal of the "outer" is to do feature selection
>before fitting it to a model.
>
>Is there a way it could be parallelized?
>
>Thanks!
>
>On Fri, Apr 13, 2018 at 9:08 PM, Jeff Newmiller
><jdnewmil at dcn.davis.ca.us>
>wrote:
>
>> You have 10^7 columns? That process is bound to be slow.
>>
>> On April 13, 2018 5:31:32 PM PDT, Jack Arnestad
><jackarnestad at gmail.com>
>> wrote:
>> >I have a data.table with dimensions 100 by 10^7.
>> >
>> >When I do
>> >
>> >    trainIndex <-
>> >      caret::createDataPartition(
>> >        df$status,
>> >        p = .9,
>> >        list = FALSE,
>> >        times = 1
>> >      )
>> >    outerTrain <- df[trainIndex]
>> >    outerTest  <- df[-trainIndex]
>> >
>> >Subsetting the rows of df takes over 20 minutes.
>> >
>> >What is the best way to efficiently subset this?
>> >
>> >Thanks!
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>

-- 
Sent from my phone. Please excuse my brevity.



From pd@|gd @end|ng |rom gm@||@com  Sat Apr 14 11:32:37 2018
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sat, 14 Apr 2018 11:32:37 +0200
Subject: [R] Reading xpt files into R
In-Reply-To: <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
Message-ID: <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>

That's what he tried, but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.

So dig deeper and find out what the file really is (or was supposed to be). 

-pd

> On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
> There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Sat Apr 14 21:18:46 2018
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (WRAY NICHOLAS)
Date: Sat, 14 Apr 2018 20:18:46 +0100 (BST)
Subject: [R] Fwd: Re:  Reading xpt files into R
In-Reply-To: <871433864.322092.1523733509154@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
Message-ID: <1943859169.322099.1523733526929@mail2.virginmedia.com>


-------- Original Message ----------
From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
To: peter dalgaard <pdalgd at gmail.com>
Date: 14 April 2018 at 20:18
Subject: Re: [R] Reading xpt files into R


Well yesterday I'd downloaded the "foreign" package and tried to open the xpt file using that:

library(foreign)
read.xport("test.xpt")

I got the following error and warning messages:

> read.xport("test.xpt")
Error in read.xport("test.xpt") : 
The specified file does not start with a SAS xport file header!
In addition: Warning message:
In readBin(file, what = character(0), n = 1, size = nchar(xport.file.header,  :
null terminator not found: breaking string at 10000 bytes

I can open the xpt using wordpad and there is a header but it seems to be just text.  I really don't know what constitutes an "
SAS xport file header"

Nick



On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:

That's what he tried, but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.

So dig deeper and find out what the file really is (or was supposed to be).

-pd

> 
>             On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
>             There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.
> 
>         
--
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com




 

	[[alternative HTML version deleted]]



From wdun|@p @end|ng |rom t|bco@com  Sat Apr 14 22:09:31 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Sat, 14 Apr 2018 13:09:31 -0700
Subject: [R] Fwd: Re: Reading xpt files into R
In-Reply-To: <1943859169.322099.1523733526929@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
Message-ID: <CAF8bMcb3rZr9vSr4FgeWvU0MPpgDM+Wa6N5Sh3YbOCQMr=zn8Q@mail.gmail.com>

Does read.xport read both version 5 and version 8 xpt files?  This link to
the Library of Congress can get you started on how to interpret the
header.  (It states that Version 8 was introduced in 2012 but was not in
wide use as of early 2017.)

https://www.loc.gov/preservation/digital/formats/fdd/fdd000464.shtml

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Sat, Apr 14, 2018 at 12:18 PM, WRAY NICHOLAS via R-help <
r-help at r-project.org> wrote:

>
> -------- Original Message ----------
> From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> To: peter dalgaard <pdalgd at gmail.com>
> Date: 14 April 2018 at 20:18
> Subject: Re: [R] Reading xpt files into R
>
>
> Well yesterday I'd downloaded the "foreign" package and tried to open the
> xpt file using that:
>
> library(foreign)
> read.xport("test.xpt")
>
> I got the following error and warning messages:
>
> > read.xport("test.xpt")
> Error in read.xport("test.xpt") :
> The specified file does not start with a SAS xport file header!
> In addition: Warning message:
> In readBin(file, what = character(0), n = 1, size =
> nchar(xport.file.header,  :
> null terminator not found: breaking string at 10000 bytes
>
> I can open the xpt using wordpad and there is a header but it seems to be
> just text.  I really don't know what constitutes an "
> SAS xport file header"
>
> Nick
>
>
>
> On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
>
> That's what he tried, but the bottom line is that just because something
> is called foo.xpt there is no guarantee that it actually is a SAS XPORT
> file. Firefox plugins use the same extension but it could really be
> anything - naming conventions are just that: conventions.
>
> So dig deeper and find out what the file really is (or was supposed to be).
>
> -pd
>
> >
> >             On 14 Apr 2018, at 00:18 , David Winsemius <
> dwinsemius at comcast.net> wrote:
> >
> >             There is a read.xport function in the foreign package and I
> think most people would have chosen that one as a first attemp. It's part
> of the standard R distribution. It refers you to https://support.sas.com/
> techsup/technote/ts140.pdf for details on the format.
> >
> >
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Apr 14 22:30:00 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sat, 14 Apr 2018 13:30:00 -0700
Subject: [R] Fwd: Re:  Reading xpt files into R
In-Reply-To: <1943859169.322099.1523733526929@mail2.virginmedia.com>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
Message-ID: <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>


> On Apr 14, 2018, at 12:18 PM, WRAY NICHOLAS via R-help <r-help at r-project.org> wrote:
> 
> 
> -------- Original Message ----------
> From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> To: peter dalgaard <pdalgd at gmail.com>
> Date: 14 April 2018 at 20:18
> Subject: Re: [R] Reading xpt files into R
> 
> 
> Well yesterday I'd downloaded the "foreign" package and tried to open the xpt file using that:
> 
> library(foreign)
> read.xport("test.xpt")
> 
> I got the following error and warning messages:
> 
>> read.xport("test.xpt")
> Error in read.xport("test.xpt") : 
> The specified file does not start with a SAS xport file header!
> In addition: Warning message:
> In readBin(file, what = character(0), n = 1, size = nchar(xport.file.header,  :
> null terminator not found: breaking string at 10000 bytes
> 
> I can open the xpt using wordpad and there is a header but it seems to be just text.  I really don't know what constitutes an "
> SAS xport file header"

I'm not sure why Peter deleted my copy of a sample of a SAS xport header that I took from an NHANES data distribution. He seemed to think I was confused about the function you had been using. The reason I mentioned that `read.xport` was from the 'foreign' package is that one generally loads that package to make the function available, while it appears you were using a different package, SASxport, and I didn't know whether that package had a function which had the same name as the one from pkg-foreign, and if it did whether it might depend on the read.xport function in foreign. You should not need to download the 'foreign' package, since it ships with every distribution of R. These are the arguments accepted by that function:

SASxport::read.xport
function (file, force.integer = TRUE, formats = NULL, name.chars = NULL, 
    names.tolower = FALSE, keep = NULL, drop = NULL, as.is = 0.95, 
    verbose = FALSE, as.list = FALSE, include.formats = FALSE) 


 When I look at the SASxport::read.xport function code, it is in fact, _not_ the same function. But it does have the R statement about what it thinks qualifies as a SAS xprot file:

xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  "

It checks to see whether the file starts with that string.

This is what appeared in my first message:

> 
> The "export" or "transfer format from SA is supposed to make reading data less difficult and standardized. This is what a header from the version used by the NHANES releases (that's all one line):
> 
> HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  9.2     XP_PRO                        16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140  HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     DEMO    SASDATA 9.2     XP_PRO                        16SEP09:09:39:2516SEP09:09:39:25                                                                HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000  SEQN    Respondent sequence number     

So the header is text, but it is text with a particular structure. If your file doesn't have that structure, then it's not a SAS xport file. The .xpt extension is also used for Mozilla Firefox plugins.


> 
> Nick
> 
> 
> 
> On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
> 
> That's what he tried,

Actually not, Peter. Wray was using a function of the same name, but not from pkg-foreign. Perhaps he was following the tutorial at:

http://www.phusewiki.org/wiki/index.php?title=Open_XPT_File_with_R


> but the bottom line is that just because something is called foo.xpt there is no guarantee that it actually is a SAS XPORT file. Firefox plugins use the same extension but it could really be anything - naming conventions are just that: conventions.
> 
> So dig deeper and find out what the file really is (or was supposed to be).

Peter and I agree agree on that advice.

> 
> -pd
> 
>> 
>>            On 14 Apr 2018, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>>            There is a read.xport function in the foreign package and I think most people would have chosen that one as a first attemp. It's part of the standard R distribution. It refers you to https://support.sas.com/techsup/technote/ts140.pdf for details on the format.
> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From wdun|@p @end|ng |rom t|bco@com  Sat Apr 14 23:26:36 2018
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Sat, 14 Apr 2018 14:26:36 -0700
Subject: [R] Fwd: Re: Reading xpt files into R
In-Reply-To: <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>
References: <1907640263.304232.1523638916808@mail2.virginmedia.com>
 <1964D8DC-A7C8-4330-936D-DB2561259330@comcast.net>
 <0508D4B0-CBD1-4C24-86CC-59ACCA01E137@gmail.com>
 <871433864.322092.1523733509154@mail2.virginmedia.com>
 <1943859169.322099.1523733526929@mail2.virginmedia.com>
 <03C67BE2-C3D2-41CA-99CC-C70B30340CDE@comcast.net>
Message-ID: <CAF8bMcZ0XAGk95TRPZLwk5NHn37h65fHhCJM-KAXUR+inhDN-Q@mail.gmail.com>

 > When I look at the SASxport::read.xport function code, it is in fact,
_not_ the
> same function. But it does have the R statement about what it thinks
> qualifies as a SAS xprot file:
>
> xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
"
>
> It checks to see whether the file starts with that string.

Version 8 SAS xport files have the header
  HEADER RECORD*******LIBV8 HEADER RECORD!!!!!!!000000000000000000000
000000000
It is easy to check for that in your text editor or in R.

Bill Dunlap
TIBCO Software
wdunlap tibco.com

On Sat, Apr 14, 2018 at 1:30 PM, David Winsemius <dwinsemius at comcast.net>
wrote:

>
> > On Apr 14, 2018, at 12:18 PM, WRAY NICHOLAS via R-help <
> r-help at r-project.org> wrote:
> >
> >
> > -------- Original Message ----------
> > From: WRAY NICHOLAS <nicholas.wray at ntlworld.com>
> > To: peter dalgaard <pdalgd at gmail.com>
> > Date: 14 April 2018 at 20:18
> > Subject: Re: [R] Reading xpt files into R
> >
> >
> > Well yesterday I'd downloaded the "foreign" package and tried to open
> the xpt file using that:
> >
> > library(foreign)
> > read.xport("test.xpt")
> >
> > I got the following error and warning messages:
> >
> >> read.xport("test.xpt")
> > Error in read.xport("test.xpt") :
> > The specified file does not start with a SAS xport file header!
> > In addition: Warning message:
> > In readBin(file, what = character(0), n = 1, size =
> nchar(xport.file.header,  :
> > null terminator not found: breaking string at 10000 bytes
> >
> > I can open the xpt using wordpad and there is a header but it seems to
> be just text.  I really don't know what constitutes an "
> > SAS xport file header"
>
> I'm not sure why Peter deleted my copy of a sample of a SAS xport header
> that I took from an NHANES data distribution. He seemed to think I was
> confused about the function you had been using. The reason I mentioned that
> `read.xport` was from the 'foreign' package is that one generally loads
> that package to make the function available, while it appears you were
> using a different package, SASxport, and I didn't know whether that package
> had a function which had the same name as the one from pkg-foreign, and if
> it did whether it might depend on the read.xport function in foreign. You
> should not need to download the 'foreign' package, since it ships with
> every distribution of R. These are the arguments accepted by that function:
>
> SASxport::read.xport
> function (file, force.integer = TRUE, formats = NULL, name.chars = NULL,
>     names.tolower = FALSE, keep = NULL, drop = NULL, as.is = 0.95,
>     verbose = FALSE, as.list = FALSE, include.formats = FALSE)
>
>
>  When I look at the SASxport::read.xport function code, it is in fact,
> _not_ the same function. But it does have the R statement about what it
> thinks qualifies as a SAS xprot file:
>
> xport.file.header <- "HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
> "
>
> It checks to see whether the file starts with that string.
>
> This is what appeared in my first message:
>
> >
> > The "export" or "transfer format from SA is supposed to make reading
> data less difficult and standardized. This is what a header from the
> version used by the NHANES releases (that's all one line):
> >
> > HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
> SAS     SAS     SASLIB  9.2     XP_PRO
> 16SEP09:09:39:2516SEP09:09:39:25
>                       HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140
> HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000
> SAS     DEMO    SASDATA 9.2     XP_PRO
> 16SEP09:09:39:2516SEP09:09:39:25
>                       HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000014400000000000000000000
>    SEQN    Respondent sequence number
>
> So the header is text, but it is text with a particular structure. If your
> file doesn't have that structure, then it's not a SAS xport file. The .xpt
> extension is also used for Mozilla Firefox plugins.
>
>
> >
> > Nick
> >
> >
> >
> > On 14 April 2018 at 10:32 peter dalgaard <pdalgd at gmail.com> wrote:
> >
> > That's what he tried,
>
> Actually not, Peter. Wray was using a function of the same name, but not
> from pkg-foreign. Perhaps he was following the tutorial at:
>
> http://www.phusewiki.org/wiki/index.php?title=Open_XPT_File_with_R
>
>
> > but the bottom line is that just because something is called foo.xpt
> there is no guarantee that it actually is a SAS XPORT file. Firefox plugins
> use the same extension but it could really be anything - naming conventions
> are just that: conventions.
> >
> > So dig deeper and find out what the file really is (or was supposed to
> be).
>
> Peter and I agree agree on that advice.
>
> >
> > -pd
> >
> >>
> >>            On 14 Apr 2018, at 00:18 , David Winsemius <
> dwinsemius at comcast.net> wrote:
> >>
> >>            There is a read.xport function in the foreign package and I
> think most people would have chosen that one as a first attemp. It's part
> of the standard R distribution. It refers you to https://support.sas.com/
> techsup/technote/ts140.pdf for details on the format.
> >
> --
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'
>  -Gehm's Corollary to Clarke's Third Law
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From w||@onzh@ng746746 @end|ng |rom gm@||@com  Sat Apr 14 23:33:12 2018
From: w||@onzh@ng746746 @end|ng |rom gm@||@com (Zhang Wilson)
Date: Sat, 14 Apr 2018 23:33:12 +0200
Subject: [R] about family=binomial in glm funtion
Message-ID: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>

Hei,
  I just wonder the use of family=binomial in glm function.
  As I learned from book (e.g. Andy Field) that logistic regression (binary
logit) can use glm funtion with family = binomial. Here the y is a factor
variable (e.g. value = 1 or 2).

 But I have also seen i many other cases, same function glm with
family=binomial, but y is a variable with several column , like y=
cbind(y1, y2), and here y1  and y2 are the success number, failure number
respectively.


What is the difference between these cases ? For my opinion the first one
is a logit model, and second one is a binomial probability model , right?

Many thanks.

	[[alternative HTML version deleted]]



From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Apr 15 01:56:13 2018
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sat, 14 Apr 2018 19:56:13 -0400
Subject: [R] about family=binomial in glm funtion
In-Reply-To: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>
References: <CAN_1JwS5_AnEUuPFd05RJtwAwfiBs_S4SLNYsf0O7koENKQtag@mail.gmail.com>
Message-ID: <200822d1-9f36-0ff1-16af-907ab41b9c8b@gmail.com>

On 14/04/2018 5:33 PM, Zhang Wilson wrote:
> Hei,
>    I just wonder the use of family=binomial in glm function.
>    As I learned from book (e.g. Andy Field) that logistic regression (binary
> logit) can use glm funtion with family = binomial. Here the y is a factor
> variable (e.g. value = 1 or 2).
> 
>   But I have also seen i many other cases, same function glm with
> family=binomial, but y is a variable with several column , like y=
> cbind(y1, y2), and here y1  and y2 are the success number, failure number
> respectively.

What I'd suggest is that you read the documentation.  In this case ?glm 
doesn't give the answer, but it links to ?family, which does.

Duncan Murdoch

> 
> 
> What is the difference between these cases ? For my opinion the first one
> is a logit model, and second one is a binomial probability model , right?
> 
> Many thanks.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ryokobe @end|ng |rom gm@||@com  Sun Apr 15 04:11:04 2018
From: ryokobe @end|ng |rom gm@||@com (Ryoko Yamamoto)
Date: Sun, 15 Apr 2018 11:11:04 +0900
Subject: [R] RQDA/RGtk2 Installation Problem
Message-ID: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>

Greetings,

I have been having a problem installing RQDA on my Mac (OS 10.13.2). I
followed the installation process on the RQDA page (
http://rqda.r-forge.r-project.org/), but I keep getting an error message
saying that I am missing pkg-config and GTK. I reinstalled XQuartz and GTK+
2.24.17 multiple times (and reinstalled R version 3.4.4), but kept
receiving the same error message. I also tried to install RGtk2 from
MacPort, but got the same error messages. I am posting the log below, in
hope it will help someone to see the problem/solution.

In my Googling for solution, I saw some other people posting the same
problem, but have not seen a solution. I'd appreciate if anyone could help
me to fix this. I really would love to be able to use RQDA!

Thanks in advance for your help.

Ryoko

********************************************************

> install.packages('RQDA')
--- Please select a CRAN mirror for use in this session ---
also installing the dependencies ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?

Packages which are only available in source form, and may need
  compilation of C/C++/Fortran: ?cairoDevice? ?RGtk2?
Do you want to attempt to install these from sources?
y/n: y

installing the source packages ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?,
?RQDA?

trying URL 'https://cran.ism.ac.jp/src/contrib/cairoDevice_2.24.tar.gz'
Content type 'application/x-gzip' length 39639 bytes (38 KB)
==================================================
downloaded 38 KB

trying URL 'https://cran.ism.ac.jp/src/contrib/gWidgetsRGtk2_0.0-86.tar.gz'
Content type 'application/x-gzip' length 165187 bytes (161 KB)
==================================================
downloaded 161 KB

trying URL 'https://cran.ism.ac.jp/src/contrib/RGtk2_2.20.34.tar.gz'
Content type 'application/x-gzip' length 2793069 bytes (2.7 MB)
==================================================
downloaded 2.7 MB

trying URL 'https://cran.ism.ac.jp/src/contrib/RQDA_0.3-1.tar.gz'
Content type 'application/x-gzip' length 134113 bytes (130 KB)
==================================================
downloaded 130 KB

* installing *source* package ?cairoDevice? ...
** package ?cairoDevice? successfully unpacked and MD5 sums checked
checking for pkg-config... no
ERROR: Cannot find pkg-config.
ERROR: configuration failed for package ?cairoDevice?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/cairoDevice?
* installing *source* package ?RGtk2? ...
** package ?RGtk2? successfully unpacked and MD5 sums checked
checking for pkg-config... no
checking for INTROSPECTION... no
checking for GTK... no
configure: error: GTK version 2.8.0 required
ERROR: configuration failed for package ?RGtk2?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RGtk2?
ERROR: dependencies ?RGtk2?, ?cairoDevice? are not available for package
?gWidgetsRGtk2?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/gWidgetsRGtk2?
ERROR: dependencies ?gWidgetsRGtk2?, ?RGtk2? are not available for package
?RQDA?
* removing
?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RQDA?

The downloaded source packages are in

?/private/var/folders/1_/59k3mmjd42q869s4tkbpb0200000gn/T/RtmpeYrG4k/downloaded_packages?
Warning messages:
1: In install.packages("RQDA") :
  installation of package ?cairoDevice? had non-zero exit status
2: In install.packages("RQDA") :
  installation of package ?RGtk2? had non-zero exit status
3: In install.packages("RQDA") :
  installation of package ?gWidgetsRGtk2? had non-zero exit status
4: In install.packages("RQDA") :
  installation of package ?RQDA? had non-zero exit status

	[[alternative HTML version deleted]]



From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Apr 15 08:38:55 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sat, 14 Apr 2018 23:38:55 -0700
Subject: [R] RQDA/RGtk2 Installation Problem
In-Reply-To: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>
References: <CAGJtK3QD6xrkxbjcxKKWO5CcMSUVgNSYdMPjOx359mcRm_htzw@mail.gmail.com>
Message-ID: <3CFBDD37-C0EF-47E7-BFBE-4575ADD8C0DE@comcast.net>


> On Apr 14, 2018, at 7:11 PM, Ryoko Yamamoto <ryokobe at gmail.com> wrote:
> 
> Greetings,
> 
> I have been having a problem installing RQDA on my Mac (OS 10.13.2). I
> followed the installation process on the RQDA page (
> http://rqda.r-forge.r-project.org/), but I keep getting an error message
> saying that I am missing pkg-config and GTK. I reinstalled XQuartz and GTK+
> 2.24.17 multiple times (and reinstalled R version 3.4.4), but kept
> receiving the same error message. I also tried to install RGtk2 from
> MacPort, but got the same error messages.

That may have messed things up if it modified your PATH environment settings. You should notice that the instructions on the http://rqda.r-forge.r-project.org/ page are to install the GTK+ binary from http://r.research.att.com/

See below:

> I am posting the log below, in
> hope it will help someone to see the problem/solution.
> 
> In my Googling for solution, I saw some other people posting the same
> problem, but have not seen a solution. I'd appreciate if anyone could help
> me to fix this. I really would love to be able to use RQDA!
> 
> Thanks in advance for your help.
> 
> Ryoko
> 
> ********************************************************
> 
>> install.packages('RQDA')
> --- Please select a CRAN mirror for use in this session ---
> also installing the dependencies ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?
> 
> Packages which are only available in source form, and may need
>  compilation of C/C++/Fortran: ?cairoDevice? ?RGtk2?
> Do you want to attempt to install these from sources?
> y/n: y
> 
> installing the source packages ?cairoDevice?, ?gWidgetsRGtk2?, ?RGtk2?,
> ?RQDA?
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/cairoDevice_2.24.tar.gz'
> Content type 'application/x-gzip' length 39639 bytes (38 KB)
> ==================================================
> downloaded 38 KB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/gWidgetsRGtk2_0.0-86.tar.gz'
> Content type 'application/x-gzip' length 165187 bytes (161 KB)
> ==================================================
> downloaded 161 KB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/RGtk2_2.20.34.tar.gz'
> Content type 'application/x-gzip' length 2793069 bytes (2.7 MB)
> ==================================================
> downloaded 2.7 MB
> 
> trying URL 'https://cran.ism.ac.jp/src/contrib/RQDA_0.3-1.tar.gz'
> Content type 'application/x-gzip' length 134113 bytes (130 KB)
> ==================================================
> downloaded 130 KB
> 
> * installing *source* package ?cairoDevice? ...
> ** package ?cairoDevice? successfully unpacked and MD5 sums checked
> checking for pkg-config... no
> ERROR: Cannot find pkg-config.
> ERROR: configuration failed for package ?cairoDevice?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/cairoDevice?

So you are on a Mac. There's a special mailing list for us. Have you installed Xcode and the CLT?

You will need to read and foolw the advice at the top of the following page:

https://cran.r-project.org/bin/macosx/tools/

Have you searched StackOverflow? I found teh following answer there. (I think it's a bit incomplete since you should have the system variables set according to the Tools page, so I editted that answer.) But this looked like a starting point ... after setting environment variables and getting the Fortran compileras per above

https://stackoverflow.com/questions/19645590/running-rattle-on-mac-os-x-10-9-mavericks/19719518#19719518

Do not reply to this mailing list (or to just me); rather send it to the R-SIG-Mac mailing list (after subscribing and reading the Posting Guide which it appears you have not done.)

-- 
David.

> * installing *source* package ?RGtk2? ...
> ** package ?RGtk2? successfully unpacked and MD5 sums checked
> checking for pkg-config... no
> checking for INTROSPECTION... no
> checking for GTK... no
> configure: error: GTK version 2.8.0 required
> ERROR: configuration failed for package ?RGtk2?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RGtk2?
> ERROR: dependencies ?RGtk2?, ?cairoDevice? are not available for package
> ?gWidgetsRGtk2?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/gWidgetsRGtk2?
> ERROR: dependencies ?gWidgetsRGtk2?, ?RGtk2? are not available for package
> ?RQDA?
> * removing
> ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/RQDA?
> 
> The downloaded source packages are in
> 
> ?/private/var/folders/1_/59k3mmjd42q869s4tkbpb0200000gn/T/RtmpeYrG4k/downloaded_packages?
> Warning messages:
> 1: In install.packages("RQDA") :
>  installation of package ?cairoDevice? had non-zero exit status
> 2: In install.packages("RQDA") :
>  installation of package ?RGtk2? had non-zero exit status
> 3: In install.packages("RQDA") :
>  installation of package ?gWidgetsRGtk2? had non-zero exit status
> 4: In install.packages("RQDA") :
>  installation of package ?RQDA? had non-zero exit status
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From jrkr|de@u @end|ng |rom y@hoo@c@  Sun Apr 15 13:35:24 2018
From: jrkr|de@u @end|ng |rom y@hoo@c@ (John Kane)
Date: Sun, 15 Apr 2018 11:35:24 +0000 (UTC)
Subject: [R] Syntax roccomp-using R
In-Reply-To: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
References: <CAJhjxo3PXhmNL=toEX8jGypWNpdRjGW7PU8QXfLzM9sFEYTFUQ@mail.gmail.com>
Message-ID: <373073112.447397.1523792124940@mail.yahoo.com>

You really should? read the posting guide (link at the bottom of the e-mail) and also read one or both of http://stackoverflow.com/questions/5963269 /how-to-make-a-great-r-reproducible-example and http://adv-r.had.co.nz/Reproducibility.html

As it stands your posts are very close to unreadable. The R-help list does not accept HTML files nor embedded images so your text is garbled and none of the images are coming through.

Your two attached pdf files are coming through but? are useless without a readable message. 
Two key elements in posting are: Alway post in plain text and provide sample data in dput() format. See ?dput for more information on this function.
Here is a example data set in dput format.
mydata? <- structure(list(aa = structure(c(2L, 6L, 3L, 7L, 2L, 15L, 1L, 
14L, 2L, 9L, 1L, 4L, 15L, 19L, 4L, 3L, 20L, 21L, 11L, 22L, 3L, 
12L, 14L, 1L, 19L, 10L, 16L, 1L, 3L, 14L, 2L, 8L, 1L, 11L, 8L, 
19L, 22L, 8L, 10L, 18L, 16L, 11L, 7L, 24L, 12L, 16L, 6L, 12L, 
22L, 12L, 12L, 10L, 8L, 20L, 3L, 21L, 9L, 23L, 5L, 17L, 5L, 8L, 
24L, 19L, 6L, 8L, 23L, 8L, 15L, 23L, 18L, 20L, 5L, 4L, 18L, 26L, 
24L, 24L, 24L, 2L, 13L, 23L, 20L, 1L, 19L, 12L, 5L, 25L, 2L, 
22L, 10L, 9L, 3L, 8L, 9L, 2L, 23L, 13L, 19L, 1L), .Label = c("A", 
"B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", 
"O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"), class = "factor"), 
??? bb = c(19L, 13L, 14L, 6L, 15L, 13L, 11L, 20L, 20L, 3L, 3L, 
??? 6L, 4L, 7L, 19L, 18L, 12L, 19L, 12L, 8L, 3L, 2L, 10L, 9L, 
??? 9L, 9L, 13L, 5L, 16L, 12L, 9L, 8L, 10L, 7L, 14L, 10L, 6L, 
??? 12L, 8L, 13L, 13L, 13L, 10L, 10L, 10L, 4L, 12L, 6L, 9L, 13L, 
??? 7L, 20L, 3L, 5L, 20L, 17L, 4L, 8L, 14L, 9L, 5L, 4L, 5L, 1L, 
??? 13L, 2L, 5L, 11L, 9L, 16L, 3L, 6L, 7L, 14L, 18L, 6L, 19L, 
??? 2L, 12L, 9L, 10L, 20L, 17L, 13L, 9L, 7L, 3L, 1L, 14L, 12L, 
??? 11L, 15L, 15L, 15L, 10L, 9L, 2L, 11L, 11L, 16L)), .Names = c("aa", 
"bb"), row.names = c(NA, -100L), class = "data.frame")


 

    On Sunday, April 8, 2018, 4:39:39 p.m. EDT, Hamzah Hasyim <hamzah.hasyim at gmail.com> wrote:  
 
 *Dear Bert, *

Thank you very much for your feedback and the useful link https://rseek.org/
and https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/.
Actually, I want to know different performance between Stata and R, in
multilevel logistic regression. For this purposes, I replicate ".do" file
use Stata in
http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0153778. The
nice journal not only gives ".do" file but also ".dta" file for Stata
user. Fyi,
I succeed running my dataset accordingly approach that use in the nice
article.

In Model ii, by adding the random effects of the clusters (neighbourhoods)
only, I perform a multilevel logistic regression. Adding the neighbourhoods
a random effect considerably increase the DA of the model. If the AU-ROC
increases. This means the neighbourhoods have a relevant (observational)
General Contextual Effect on the individual outcome. That is, knowledge on
the clusters where the individuals reside is relevant for classifying
individuals. That is, for distinguishing those with from those without the
outcome. In Model iii, as expected, the AU-ROC remains similar to Model ii
after including a neighbourhoods level variable as a fixed effect. Model ii
represents the ?ceiling? of the explanatory power of the clusters. However,
particularly both syntax in the steps below, the process taking time very
long, particularly for a data set with the 130,585 observation that I have.

I trust can be replicate the syntax Stata below into the script language of
R under your advice. I want to to know the performance of R to analyse in
the syntax " roccomp".? Unfortunately, the process still not finished in
this step yet at the moment.


. * FIGURE 1 - AU-ROC
.
********************************************************************************
.? roccomp Y? r1m1p r1m2p, graph summary

. * FIGURE 3 - AU-ROC
.
********************************************************************************
. roccomp Y? r2m1p r2m2p, graph summary


Abbreviations
Y? ? ? = The dependent (or responding) variable
AUC? ? = Area Under the Curve.
AUROC? = Area Under the Receiver Operating Characteristic curve.
ROC? ? = Receiver operating characteristic
r1m1p? =? Pr(malaria)
r1m2p? = Predicted mean
r1m3p? = Predicted mean


In addition, I saw in
https://cran.r-project.org/web/packages/auRoc/index.html, and in
https://www.rdocumentation.org/packages/limma/versions/3.28.14/topics/auROC
,? there is an issue regarding auROC.

Hopefully with install "CRAN - Package auRoc", I can be running the
"roccomp" used the plug-in. In addition, I can compute areas under ROC
curves using the R Commander. However, the R Commander doesn't include ROC
curves, but a Google search suggests that the RcmdrPlugin.EZR, a plug-in
package for the R Commander, includes ROC curves and may do what I want.
Isn't it?


Again thank you very much, I appreciate it.


Best wishes


Hamzah


On 8 April 2018 at 16:41, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> 1. *If* this is homework, we do not do homework here.
>
> 2. Please read and follow the posting guide linked below to get a
> useful answer. In general, we expect posters to provide code showing
> their attempt to solve the problem, rather than expecting to be
> provided complete solutions. See also instructions for providing a
> small reproducible example.
>
> 3. Search! e.g. on the rseek.org site, inputting "AUC" gave this, among
> others:
> https://www.r-bloggers.com/calculating-auc-the-area-under-a-roc-curve/
>
> Cheers,
> Bert
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Sat, Apr 7, 2018 at 5:01 PM, Hamzah Hasyim <hamzah.hasyim at gmail.com>
> wrote:
> > Dear User R
> >
> >
> > It's been a pleasure talking with you. I am newcomer use R. Would you
> > please help me how to translate the script below to "R" script?
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r1m1p, p
> > roctab malaria r1m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> > ************************************************************
> > ********************
> > * FIGURE 1 - AU-ROC
> > ************************************************************
> > ********************
> >
> > roccomp malaria r1m1p r1m2p, graph
> >
> >
> > * Area under receiver operating characteristic (AU-ROC)
> > predict r2m1p, p
> > roctab malaria r2m1p, graph summary
> >
> >
> > * Area under receiver operating characteristic (AU-ROC) curve
> > predict r1m2p, mu
> > roctab malaria r1m2p, graph summary
> >
> >
> > ************************************************************
> > ********************
> > * FIGURE 3 - AU-ROC
> > ************************************************************
> > ********************
> > roccomp malaria r2m1p r2m2p, graph
> >
> >
> >
> > Best regards,
> >
> >
> >
> > Hamzah
> >
> > Description of data-set
> >
> > ------------------------------------------------------------
> > ----------------------
> >? ? ? ? ? ? ? storage? display? ? value
> > variable name? type? ? format? ? label? ? ? variable label
> > ------------------------------------------------------------
> > ----------------------
> >
> > malaria? ? ? ? float? %48.0g? ? malaria? ? Participants who had
> diagnosed
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? malaria by health
> > professionals
> > _est_r1m1? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m1p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Pr(malaria)
> > r1m2p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > r1m3p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > _est_r1m2? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m2use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m2u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > pickone? ? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? tag(district)
> > r1m2urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r1m2u)
> > _est_r1m3? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r1m3use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m3u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r1m3urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r1m3u)
> > _est_r2m1? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m1p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Pr(malaria)
> > r2m2p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > r2m3p? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? Predicted mean
> > _est_r2m2? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m2use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m2u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m2urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r2m2u)
> > _est_r2m3? ? ? byte? ? %8.0g? ? ? ? ? ? ? ? esample() from estimates
> store
> > r2m3use? ? ? ? float? %9.0g? ? ? ? ? ? ? ? S.E. of empirical Bayes
> means
> > for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m3u? ? ? ? ? float? %9.0g? ? ? ? ? ? ? ? empirical Bayes means for
> >? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? _cons[district]
> > r2m3urank? ? ? float? %9.0g? ? ? ? ? ? ? ? rank of (r2m3u)
> > ------------------------------------------------------------
> >
> >
> >
> >
> >
> > Respectfully,
> >
> >
> >
> > Hamzah
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.  
	[[alternative HTML version deleted]]



From jrkr|de@u @end|ng |rom y@hoo@c@  Sun Apr 15 13:44:55 2018
From: jrkr|de@u @end|ng |rom y@hoo@c@ (John Kane)
Date: Sun, 15 Apr 2018 11:44:55 +0000 (UTC)
Subject: [R] Specifying forbidden configurations in Morris One at a Time
 (OAT) sensitivity analysis
In-Reply-To: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>
References: <CADwXhHLsJu7EgJr3PTtwN7WvrVQQBZ8FQ_FLfA5H7i5LH_vQqw@mail.gmail.com>
Message-ID: <1648151417.454742.1523792695903@mail.yahoo.com>

If nothing else, I think you need to supply some sample data that includes examples of the "forbidden configurations"
See http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example
and/or 

http://adv-r.had.co.nz/Reproducibility.html

 

    On Monday, April 9, 2018, 11:45:21 a.m. EDT, Reshma C <reshma.kuleuven at gmail.com> wrote:  
 
 Hi!

I am trying to implement the Morris One at a Time (OAT) sensitivity
analysis technique in R using the package 'sensitivity'.? The OAT and
similar other techniques in the package requires data frame X (which stores
the design or parameter combinations) to be populated by some function in
the package such as fast99 or morris. These functions take only the range
and step size of the parameters as arguments. However, in my experiment
there are few forbidden configurations. Is there a way to specify this in
the analysis set up? To be specific, is there a way to tell the model that
certain combinations are forbidden such as feeding forbidden configurations
via a text file or specifying a conditional expression which will exclude
the forbidden configurations (eg: parameter 1 < parameter 2) ?

Thanks and regards,
Reshma CC

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
  
	[[alternative HTML version deleted]]



From A||@|@one1 @end|ng |rom hotm@||@com  Sun Apr 15 13:08:35 2018
From: A||@|@one1 @end|ng |rom hotm@||@com (Allaisone 1)
Date: Sun, 15 Apr 2018 11:08:35 +0000
Subject: [R] Adding a new conditional column to a list of dataframes
Message-ID: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>


Hi all ..,


I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.


When I extract one dataframe and apply my code it works very well as follows :-


First suppose this is my first dataframe in the list

> OneDF <- Mylist[[1]]

> OneDF


ID       Pdate                  Tdate

1         2010-09-30       2011-05-10

2         2011-11-07       2009-09-31

3         2012-01-05        2008-06-23


To add a new column where "C" has to be written in that column only if the date in

"Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.

I have written this code to do so :-


OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"


This gave me what I want as follows :-


ID       Pdate                  Tdate                      NewCol

1         2010-09-30       2011-05-10                NA

2         2011-11-07       2009-09-31                  C

3         2012-01-05        2008-06-23                 C


However, when I tried to apply this code in a function and then apply this function

to all dataframes using lapply() function , I do not get what I want.


I wrote this function first :-


MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"


Then I wrote this code to apply my function to all dataframes in "Mylist" :


NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))


This returned a list of 7000 elements and each of which contain "C'' letter. Each

dataframe has become a vector of "C'' letter which is totally away from what I need.

 I expected to see a list of my 7000 dataframes and each of which looks like the output

I have shown above with the new column.


I spent a lot of time trying to know what  is the mistake I have made in these last two codes

but was not able to know the issue.


Could you please let me know my mistake and how to correct my syntax ?


Kind Regards

Allaisone








	[[alternative HTML version deleted]]



From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Apr 15 16:37:24 2018
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sun, 15 Apr 2018 10:37:24 -0400
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <12dde8da-b368-ce06-3679-2f3fc640bc46@gmail.com>

On 15/04/2018 7:08 AM, Allaisone 1 wrote:
> 
> Hi all ..,
> 
> 
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
> 
> 
> When I extract one dataframe and apply my code it works very well as follows :-
> 
> 
> First suppose this is my first dataframe in the list
> 
>> OneDF <- Mylist[[1]]
> 
>> OneDF
> 
> 
> ID       Pdate                  Tdate
> 
> 1         2010-09-30       2011-05-10
> 
> 2         2011-11-07       2009-09-31
> 
> 3         2012-01-05        2008-06-23
> 
> 
> To add a new column where "C" has to be written in that column only if the date in
> 
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
> 
> I have written this code to do so :-
> 
> 
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
> 
> 
> This gave me what I want as follows :-
> 
> 
> ID       Pdate                  Tdate                      NewCol
> 
> 1         2010-09-30       2011-05-10                NA
> 
> 2         2011-11-07       2009-09-31                  C
> 
> 3         2012-01-05        2008-06-23                 C
> 
> 
> However, when I tried to apply this code in a function and then apply this function
> 
> to all dataframes using lapply() function , I do not get what I want.
> 
> 
> I wrote this function first :-
> 
> 
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
> 
> 
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
> 
> 
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
> 
> 
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
> 
> dataframe has become a vector of "C'' letter which is totally away from what I need.
> 
>   I expected to see a list of my 7000 dataframes and each of which looks like the output
> 
> I have shown above with the new column.
> 
> 
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
> 
> but was not able to know the issue.
> 
> 
> Could you please let me know my mistake and how to correct my syntax ?


Your function should return x after modifying it.  As it is, it returns 
the value of x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C", which is "C".  So 
change it to

MyFunction <- function(x) {
   x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
   x
}

Duncan Murdoch



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Apr 15 16:42:47 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 15 Apr 2018 07:42:47 -0700
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <BDAD68FE-A10A-47EC-A970-F63CF111BE02@dcn.davis.ca.us>

Your failure to send your question using plain text format means that the mailing list tried to fix that and we are seeing your code all messed up. Please learn how to use your email program... or we may not even be able to figure out your question at all. 

I think you need to pay attention to what your function is returning... whatever is on the last line of the function is key. Try testing your function separately from the lapply to insure you get what you want. Also be sure to use braces when they are needed to define your function. 

On April 15, 2018 4:08:35 AM PDT, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
>
>Hi all ..,
>
>
>I have a list of 7000 dataframes with similar column headers and I
>wanted to add a new column to each dataframe based on a certain
>condition which is the same for all dataframes.
>
>
>When I extract one dataframe and apply my code it works very well as
>follows :-
>
>
>First suppose this is my first dataframe in the list
>
>> OneDF <- Mylist[[1]]
>
>> OneDF
>
>
>ID       Pdate                  Tdate
>
>1         2010-09-30       2011-05-10
>
>2         2011-11-07       2009-09-31
>
>3         2012-01-05        2008-06-23
>
>
>To add a new column where "C" has to be written in that column only if
>the date in
>
>"Tdate" column is less than the first date(row) in "Pdate"
>column.Otherwise "NA" is written.
>
>I have written this code to do so :-
>
>
>OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
>
>
>This gave me what I want as follows :-
>
>
>ID       Pdate                  Tdate                      NewCol
>
>1         2010-09-30       2011-05-10                NA
>
>2         2011-11-07       2009-09-31                  C
>
>3         2012-01-05        2008-06-23                 C
>
>
>However, when I tried to apply this code in a function and then apply
>this function
>
>to all dataframes using lapply() function , I do not get what I want.
>
>
>I wrote this function first :-
>
>
>MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
>
>
>Then I wrote this code to apply my function to all dataframes in
>"Mylist" :
>
>
>NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
>
>
>This returned a list of 7000 elements and each of which contain "C''
>letter. Each
>
>dataframe has become a vector of "C'' letter which is totally away from
>what I need.
>
>I expected to see a list of my 7000 dataframes and each of which looks
>like the output
>
>I have shown above with the new column.
>
>
>I spent a lot of time trying to know what  is the mistake I have made
>in these last two codes
>
>but was not able to know the issue.
>
>
>Could you please let me know my mistake and how to correct my syntax ?
>
>
>Kind Regards
>
>Allaisone
>
>
>
>
>
>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Apr 15 16:55:00 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 15 Apr 2018 07:55:00 -0700
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>


> On Apr 15, 2018, at 4:08 AM, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
> 
> 
> Hi all ..,
> 
> 
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
> 
> 
> When I extract one dataframe and apply my code it works very well as follows :-
> 
> 
> First suppose this is my first dataframe in the list
> 
>> OneDF <- Mylist[[1]]
> 
>> OneDF
> 
> 
> ID       Pdate                  Tdate
> 
> 1         2010-09-30       2011-05-10
> 
> 2         2011-11-07       2009-09-31
> 
> 3         2012-01-05        2008-06-23
> 
> 
> To add a new column where "C" has to be written in that column only if the date in
> 
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
> 
> I have written this code to do so :-
> 
> 
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
> 
> 
> This gave me what I want as follows :-
> 
> 
> ID       Pdate                  Tdate                      NewCol
> 
> 1         2010-09-30       2011-05-10                NA
> 
> 2         2011-11-07       2009-09-31                  C
> 
> 3         2012-01-05        2008-06-23                 C
> 
> 
> However, when I tried to apply this code in a function and then apply this function
> 
> to all dataframes using lapply() function , I do not get what I want.
> 
> 
> I wrote this function first :-
> 
> 
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
> 
> 
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
> 
> 
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
> 
> 
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
> 
> dataframe has become a vector of "C'' letter which is totally away from what I need.
> 
> I expected to see a list of my 7000 dataframes and each of which looks like the output
> 
> I have shown above with the new column.
> 
> 
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
> 
> but was not able to know the issue.

A function returns the result of the last function call. In your case the last function called was `[<-` and if you look at that function's help page you will find only the value of its RHS (in your case "C") is returned. That assignment function has is predominat action via side-effect rather than by a truly functional operation.. The function might have been written:

 MyFunction <- function(x) { x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"; x } # so that x gets returned

I say "might" since you have not included a reproducible example.

Another point: The `$` operator is not ideal for work within functions.

And. Noting this:

> 	[[alternative HTML version deleted]]
                Do read the Posting Guide.
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From d@ne@hv@r_@r @end|ng |rom out|ook@com  Sun Apr 15 17:56:09 2018
From: d@ne@hv@r_@r @end|ng |rom out|ook@com (alireza daneshvar)
Date: Sun, 15 Apr 2018 15:56:09 +0000
Subject: [R] Question
Message-ID: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>

Hi,
How to calculate break-down point in R?
Thanks

	[[alternative HTML version deleted]]



From m@rc_grt @end|ng |rom y@hoo@|r  Sun Apr 15 18:26:41 2018
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Sun, 15 Apr 2018 18:26:41 +0200
Subject: [R] Question
In-Reply-To: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
Message-ID: <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>

Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit?:
> break-down point

Can you explain more what you plan to do and give an example of what you 
have tried to do until now to do a "break down point" in R. Perhaps a 
"break down point" is common in your field, but I have no idea about 
what it is !

https://en.wikipedia.org/wiki/Breakdown_(1997_film)

Sincerely

Marc



From pn@|nh@68 @end|ng |rom gm@||@com  Mon Apr 16 07:30:43 2018
From: pn@|nh@68 @end|ng |rom gm@||@com (Partha Sinha)
Date: Mon, 16 Apr 2018 11:00:43 +0530
Subject: [R] Math kernel library from intel
Message-ID: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>

I use win 10 ( 64 bit) with latest R available. Intel has released math
kernel library. Is it necessary to install for data driven work ?
Regards
Partha

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Apr 16 08:01:40 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 15 Apr 2018 23:01:40 -0700
Subject: [R] Math kernel library from intel
In-Reply-To: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>
References: <CADcgpJf3xAvRc0VKCY-+GD8-mZC57=Mp-Xstdr_pJSuaP8JPEw@mail.gmail.com>
Message-ID: <1608B9C4-6151-47DE-A2F0-07C07E57829D@dcn.davis.ca.us>

Depends how desperate you are for processing speed and careful you have been with optimizing your own algorithms. The default build of R is IMO quite usable for many people, and without a doubt many complaints about its speed are misdirected and are instead due to poor handling of working memory by the user. Such problems usually dwarf the benefit of having an optimized math library.

On April 15, 2018 10:30:43 PM PDT, Partha Sinha <pnsinha68 at gmail.com> wrote:
>I use win 10 ( 64 bit) with latest R available. Intel has released math
>kernel library. Is it necessary to install for data driven work ?
>Regards
>Partha
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From mt@@gr|@ @end|ng |rom y@hoo@gr  Mon Apr 16 09:46:41 2018
From: mt@@gr|@ @end|ng |rom y@hoo@gr (michael tsagris)
Date: Mon, 16 Apr 2018 07:46:41 +0000 (UTC)
Subject: [R] Inverse Gaussian distribution not working in glm funciton
References: <364786289.863577.1523864801790.ref@mail.yahoo.com>
Message-ID: <364786289.863577.1523864801790@mail.yahoo.com>

Hello everybody,
I have encountered a problem with the inverse Gaussian distribution. It is very likely that it will not work regardless of the data input. I have programmed this regression and it works fine no matter which distribution the response comes from.
If you run this example (first tried and already got the error)
set.seed(1234)
y = abs( rnorm(150) )
glm( y ~ ., iris, family = inverse.gaussian(log) )
You will get this message: 

Error: inner loop 1; cannot correct step size
In addition: Warning message:
step size truncated due to divergence 
?Whom should I talk to about fixing this bug, in some next update of R?
Michail

	[[alternative HTML version deleted]]



From A||@|@one1 @end|ng |rom hotm@||@com  Mon Apr 16 10:17:03 2018
From: A||@|@one1 @end|ng |rom hotm@||@com (Allaisone 1)
Date: Mon, 16 Apr 2018 08:17:03 +0000
Subject: [R] Adding a new conditional column to a list of dataframes
In-Reply-To: <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>
References: <DB5PR02MB0904F0F0DA05B29EC41A258D80B10@DB5PR02MB0904.eurprd02.prod.outlook.com>,
 <F7BA8C9C-5DFC-4194-A32B-690AC1261A78@comcast.net>
Message-ID: <DB5PR02MB0904576C894EC25C8D90403980B00@DB5PR02MB0904.eurprd02.prod.outlook.com>

I would like to thank you all for your very helpful replies . The issue has been solved now with your valuable guidance.

Many thanks again, I really appreciate that.

Regards
________________________________
From: David Winsemius <dwinsemius at comcast.net>
Sent: 15 April 2018 14:55:00
To: Allaisone 1
Cc: r-help at r-project.org
Subject: Re: [R] Adding a new conditional column to a list of dataframes


> On Apr 15, 2018, at 4:08 AM, Allaisone 1 <Allaisone1 at hotmail.com> wrote:
>
>
> Hi all ..,
>
>
> I have a list of 7000 dataframes with similar column headers and I wanted to add a new column to each dataframe based on a certain condition which is the same for all dataframes.
>
>
> When I extract one dataframe and apply my code it works very well as follows :-
>
>
> First suppose this is my first dataframe in the list
>
>> OneDF <- Mylist[[1]]
>
>> OneDF
>
>
> ID       Pdate                  Tdate
>
> 1         2010-09-30       2011-05-10
>
> 2         2011-11-07       2009-09-31
>
> 3         2012-01-05        2008-06-23
>
>
> To add a new column where "C" has to be written in that column only if the date in
>
> "Tdate" column is less than the first date(row) in "Pdate" column.Otherwise "NA" is written.
>
> I have written this code to do so :-
>
>
> OneDF$NewCol [ OneDF[ ,3] <  OneDF[ 1,2] ] <- "C"
>
>
> This gave me what I want as follows :-
>
>
> ID       Pdate                  Tdate                      NewCol
>
> 1         2010-09-30       2011-05-10                NA
>
> 2         2011-11-07       2009-09-31                  C
>
> 3         2012-01-05        2008-06-23                 C
>
>
> However, when I tried to apply this code in a function and then apply this function
>
> to all dataframes using lapply() function , I do not get what I want.
>
>
> I wrote this function first :-
>
>
> MyFunction <- function(x) x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"
>
>
> Then I wrote this code to apply my function to all dataframes in "Mylist" :
>
>
> NewList <- lapply(names(Mylist), function(x) MyFunction(Mylist[[x]]))
>
>
> This returned a list of 7000 elements and each of which contain "C'' letter. Each
>
> dataframe has become a vector of "C'' letter which is totally away from what I need.
>
> I expected to see a list of my 7000 dataframes and each of which looks like the output
>
> I have shown above with the new column.
>
>
> I spent a lot of time trying to know what  is the mistake I have made in these last two codes
>
> but was not able to know the issue.

A function returns the result of the last function call. In your case the last function called was `[<-` and if you look at that function's help page you will find only the value of its RHS (in your case "C") is returned. That assignment function has is predominat action via side-effect rather than by a truly functional operation.. The function might have been written:

 MyFunction <- function(x) { x$NewCol [ x[ ,3] <  x[ 1,2] ] <- "C"; x } # so that x gets returned

I say "might" since you have not included a reproducible example.

Another point: The `$` operator is not ideal for work within functions.

And. Noting this:

>        [[alternative HTML version deleted]]
                Do read the Posting Guide.
--

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law






	[[alternative HTML version deleted]]



From @re|d@mh @end|ng |rom gm@||@com  Mon Apr 16 12:23:22 2018
From: @re|d@mh @end|ng |rom gm@||@com (Mohammad Areida)
Date: Mon, 16 Apr 2018 12:23:22 +0200
Subject: [R] Help with R-Calling forth csv.
Message-ID: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>

Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points. 

I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!

Kind regards 

	[[alternative HTML version deleted]]



From ||@t@ @end|ng |rom dewey@myzen@co@uk  Mon Apr 16 14:55:30 2018
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Mon, 16 Apr 2018 13:55:30 +0100
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>

Dear Mohammad

Perhaps if you showed us what you tried people could offer more helpful 
advice? When you say you want to call it forth do you mean you want to 
read in the file using read.csv?

Michael

On 16/04/2018 11:23, Mohammad Areida wrote:
> Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points.
> 
> I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!
> 
> Kind regards
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html



From ro@||n@ump @end|ng |rom gm@||@com  Mon Apr 16 14:58:55 2018
From: ro@||n@ump @end|ng |rom gm@||@com (Roslina Zakaria)
Date: Mon, 16 Apr 2018 20:58:55 +0800
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <8koe4kv4lxge50qrq9d6qito.1523883535894@email.android.com>

Hi, 
You may use the keyword to google for what you want to do to start with. Slowly you will learn...this forum is,really helpful but we should provide or show some effort..all the best! 
I like this forum very much and always feel thankful to very helpful and committed members.

Sent from my Sony Xperia? smartphone

---- Mohammad Areida wrote ----

>Hi, I'm working on R trying to find a distribution that fits data from a csv file. The csv contains data on pressure exerted by a certain vehicle in terms of pressure [kPa] and I have around 3000 data points. 
>
>I want to call forth this csv and by using (fitdistr) or if you could recommend a function to use, get a plot of my csv and the distributions I can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with the program R, and I can't write a code to call forth the csv with every data point. I?ve been stuck trying to write a code that works for over a week and have not gotten it to work. I've come to the conclusion that this is the only program capable enough to help me plot the distributions to my data, any help is greatly appreciated!
>
>Kind regards 
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From u|r|k@@tervbo @end|ng |rom gm@||@com  Mon Apr 16 14:59:09 2018
From: u|r|k@@tervbo @end|ng |rom gm@||@com (Ulrik Stervbo)
Date: Mon, 16 Apr 2018 12:59:09 +0000
Subject: [R] Help with R-Calling forth csv.
In-Reply-To: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
Message-ID: <CAKVAULPnYC5vpP1KRSUOEVvhcYRDyH288s4c1sHLYfrWF3AAvA@mail.gmail.com>

There are plenty of options for reading csv files. For built-in solutions
look at ?read.csv or at read_csv from the package reader.

If the measurements are ordered in columns rather than in rows, reading the
data can be very slow.

HTH
Ulrik

Mohammad Areida <areidamh at gmail.com> schrieb am Mo., 16. Apr. 2018, 13:25:

> Hi, I'm working on R trying to find a distribution that fits data from a
> csv file. The csv contains data on pressure exerted by a certain vehicle in
> terms of pressure [kPa] and I have around 3000 data points.
>
> I want to call forth this csv and by using (fitdistr) or if you could
> recommend a function to use, get a plot of my csv and the distributions I
> can compare it to (Weibull, chi, beta, etc). Now im a complete amateur with
> the program R, and I can't write a code to call forth the csv with every
> data point. I?ve been stuck trying to write a code that works for over a
> week and have not gotten it to work. I've come to the conclusion that this
> is the only program capable enough to help me plot the distributions to my
> data, any help is greatly appreciated!
>
> Kind regards
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @re|d@mh @end|ng |rom gm@||@com  Mon Apr 16 15:31:05 2018
From: @re|d@mh @end|ng |rom gm@||@com (Mohammad Areida)
Date: Mon, 16 Apr 2018 15:31:05 +0200
Subject: [R] Fwd:  Help with R-Calling forth csv.
In-Reply-To: <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
 <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>
 <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
Message-ID: <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>

Hi, I do not know how to post in general again, however my csv contains
around 5-250k data Points depending on vehicle/road type and pressure
exerted on geotechnical structures. I have used R to develope histograms of
said csv files and will attach such Picture to you in this mail and the csv
used. Below I will type the R code I have used for this histogram.

------------------------------------------------------------
----------------------------

tryck <- read.csv("radmanso_2017.csv", sep=";", dec=",")

##### H??R KOLLAR VI ALLA DATA PUNKTER ######

ggplot(data=tryck, aes(tryck[,1])) +

  geom_histogram(aes(y =..density..),

                 breaks=seq(min(tryck[,1]-1), max(tryck[,1]+1), by = 0.5),

                 col="black",

                 fill="green",

                 alpha = .2) +

  geom_density(col=2) +

  labs(title="Pressure for r?dmans?") +

  labs(x="Pressure [kPa]", y="Amount of vehicles (Percentage)")+

  stat_function(fun=dnorm, colour="blue", args = list(mean =
mean(tryck[,1]), sd = sd(tryck[,1])))



My problem now is to find a statistical distribution that corresponds well
with my histograms with the use of Visual aids, cumulative distributions or
goodness of fit tests which I can?t develope a code for as my csv wont get
called forth and I do not know how to proceed from that Point on to develop
such an aid. If you have any input on how to read the csv file and call
forth a distribution to try on my data points such as Weibull, beta, chi or
gen. Extreme value distributions I would much appreciate the help!



Kind regards,

Mohammad

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Radmanso 2017.PNG
Type: image/png
Size: 51587 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20180416/8f649333/attachment-0007.png>

From ycd|ng @end|ng |rom coh@org  Mon Apr 16 22:54:30 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Mon, 16 Apr 2018 20:54:30 +0000
Subject: [R] how to write a loop to repetitive jobs
Message-ID: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>

Hi All..,

I need to do the following repetitive jobs:

seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T)
seg71$id <-"sn71"

seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T)
seg72$id <-"sn72"

seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T)
seg73$id <-"sn73"

seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T)
seg74$id <-"sn74"

seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T)
seg75$id <-"sn75"

seg <- rbind (seg71, seg72, seg73, seg74, seg75)

I want to write a loop to do it;

For ( d in 71:75) {
  Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
  setwd(Dir)
..........
then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;

I like R, but not good at R.

Can you help me?

Thank you,

Ding


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Apr 16 23:15:46 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 16 Apr 2018 22:15:46 +0100
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>

Hello,

The following might do it. Without data it's untested.


wd <- function(i){
     paste0("C:/Awork/geneAssociation/removed8samples/neuhausen7", i, 
"/seg.pr3.csv")
}

seg <- lapply(1:5, function(i) {
     DF <-read.csv(wd(i))
     DF$id <- paste0("sn7", i)
     DF
})

seg <- do.call(rbind, seg)
row.names(seg) <- NULL


Hope this helps,

Rui Barradas

On 4/16/2018 9:54 PM, Ding, Yuan Chun wrote:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T)
> seg71$id <-"sn71"
> 
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T)
> seg72$id <-"sn72"
> 
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T)
> seg73$id <-"sn73"
> 
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T)
> seg74$id <-"sn74"
> 
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T)
> seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>    Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
>    setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycd|ng @end|ng |rom coh@org  Tue Apr 17 00:11:46 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Mon, 16 Apr 2018 22:11:46 +0000
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
 <2afdcff0-3c05-b2af-b294-90822152f178@sapo.pt>
Message-ID: <A86C6438FB909A409DDEF926277952B6A78103@PPWEXCH2KX14.coh.org>

Hi Rui,

Thank you very much!!  It worked very well, I am looking into how  to use lapply and do.call.

Ding

-----Original Message-----
From: Rui Barradas [mailto:ruipbarradas at sapo.pt] 
Sent: Monday, April 16, 2018 2:16 PM
To: Ding, Yuan Chun; r-help at r-project.org
Subject: Re: [R] how to write a loop to repetitive jobs

Hello,

The following might do it. Without data it's untested.


wd <- function(i){
     paste0("C:/Awork/geneAssociation/removed8samples/neuhausen7", i,
"/seg.pr3.csv")
}

seg <- lapply(1:5, function(i) {
     DF <-read.csv(wd(i))
     DF$id <- paste0("sn7", i)
     DF
})

seg <- do.call(rbind, seg)
row.names(seg) <- NULL


Hope this helps,

Rui Barradas

On 4/16/2018 9:54 PM, Ding, Yuan Chun wrote:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv", head=T) seg71$id <-"sn71"
> 
> seg72 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv", head=T) seg72$id <-"sn72"
> 
> seg73 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv", head=T) seg73$id <-"sn73"
> 
> seg74 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv", head=T) seg74$id <-"sn74"
> 
> seg75 <- 
> read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv", head=T) seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>    Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
>    setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From drj|m|emon @end|ng |rom gm@||@com  Tue Apr 17 00:37:43 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Tue, 17 Apr 2018 08:37:43 +1000
Subject: [R] Fwd: Help with R-Calling forth csv.
In-Reply-To: <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>
References: <5ad47997.1c69fb81.3b067.2f64@mx.google.com>
 <4866ad7f-94f7-a383-3232-7cffea85620d@dewey.myzen.co.uk>
 <5ad4a02a.02412e0a.40341.ed97@mx.google.com>
 <CACqjOJYb6rOHA0k2PGDRMNve+nTp2+_mh5eZaDZnv5keWbsqow@mail.gmail.com>
Message-ID: <CA+8X3fWOXxq83GjjK9ANXpVWZU4pPJkeJxoD4dhoiC1vLxS2pA@mail.gmail.com>

Hi Mohammad,
The plot you attached suggests that the underlying distribution may be
a mixture. Is there anything in your data that would explain this,
such as laden/unladen, uphill/downhill, different road surface?

Jim

On Mon, Apr 16, 2018 at 11:31 PM, Mohammad Areida <areidamh at gmail.com> wrote:
> Hi, I do not know how to post in general again, however my csv contains
> around 5-250k data Points depending on vehicle/road type and pressure
> exerted on geotechnical structures. I have used R to develope histograms of
> said csv files and will attach such Picture to you in this mail and the csv
> used. Below I will type the R code I have used for this histogram.
>
> ------------------------------------------------------------
> ----------------------------
>
> tryck <- read.csv("radmanso_2017.csv", sep=";", dec=",")
>
> ##### H??R KOLLAR VI ALLA DATA PUNKTER ######
>
> ggplot(data=tryck, aes(tryck[,1])) +
>
>   geom_histogram(aes(y =..density..),
>
>                  breaks=seq(min(tryck[,1]-1), max(tryck[,1]+1), by = 0.5),
>
>                  col="black",
>
>                  fill="green",
>
>                  alpha = .2) +
>
>   geom_density(col=2) +
>
>   labs(title="Pressure for r?dmans?") +
>
>   labs(x="Pressure [kPa]", y="Amount of vehicles (Percentage)")+
>
>   stat_function(fun=dnorm, colour="blue", args = list(mean =
> mean(tryck[,1]), sd = sd(tryck[,1])))
>
>
>
> My problem now is to find a statistical distribution that corresponds well
> with my histograms with the use of Visual aids, cumulative distributions or
> goodness of fit tests which I can?t develope a code for as my csv wont get
> called forth and I do not know how to proceed from that Point on to develop
> such an aid. If you have any input on how to read the csv file and call
> forth a distribution to try on my data points such as Weibull, beta, chi or
> gen. Extreme value distributions I would much appreciate the help!
>
>
>
> Kind regards,
>
> Mohammad
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From @|k@u||m @end|ng |rom |@@tm@||@|m  Tue Apr 17 08:15:40 2018
From: @|k@u||m @end|ng |rom |@@tm@||@|m (Albrecht Kauffmann)
Date: Tue, 17 Apr 2018 08:15:40 +0200
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>

Hello Ding,

try this:

seg <- list()
for ( d in 71:75) {
  s <- paste0("seg",d)
  sn <- paste0("sn",d)
  Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, sep="")
  setwd(Dir)
  seg[[s]] <- read.csv("seg.pr3.csv", head=T)
  seg[[s]]$id <- sn
}

Greetings,
Albrecht

-- 
  Albrecht Kauffmann
  alkauffm at fastmail.fm

Am Mo, 16. Apr 2018, um 22:54, schrieb Ding, Yuan Chun:
> Hi All..,
> 
> I need to do the following repetitive jobs:
> 
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/
> seg.pr3.csv", head=T)
> seg71$id <-"sn71"
> 
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/
> seg.pr3.csv", head=T)
> seg72$id <-"sn72"
> 
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/
> seg.pr3.csv", head=T)
> seg73$id <-"sn73"
> 
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/
> seg.pr3.csv", head=T)
> seg74$id <-"sn74"
> 
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/
> seg.pr3.csv", head=T)
> seg75$id <-"sn75"
> 
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
> 
> I want to write a loop to do it;
> 
> For ( d in 71:75) {
>   Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i, 
> sep="")
>   setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it 
> would be  seg&d    ;
> 
> I like R, but not good at R.
> 
> Can you help me?
> 
> Thank you,
> 
> Ding
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:8}}



From m@||||@t@ @end|ng |rom pp@|net@||  Tue Apr 17 08:27:53 2018
From: m@||||@t@ @end|ng |rom pp@|net@|| (K. Elo)
Date: Tue, 17 Apr 2018 09:27:53 +0300
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
 <1523945740.4033826.1340575560.677C8D91@webmail.messagingengine.com>
Message-ID: <1523946473.26781.26.camel@pp.inet.fi>

Hi!

An alternative with 'assign':

for ( i in 71:75) {
? setwd(paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
sep=""))
? temp.df<-read.csv("seg.pr3.csv", head=T)
? temp.df$id<-paste0("sn",i,sep="")
? assign(paste0("seg",i,sep=""),temp.df)
}
rm(temp.df,i) ? ?# Clean up

HTH,
Kimmo


2018-04-17 kello 08:15 +0200, Albrecht Kauffmann wrote:
> Hello Ding,
> 
> try this:
> 
> seg <- list()
> for ( d in 71:75) {
> ? s <- paste0("seg",d)
> ? sn <- paste0("sn",d)
> ? Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
> sep="")
> ? setwd(Dir)
> ? seg[[s]] <- read.csv("seg.pr3.csv", head=T)
> ? seg[[s]]$id <- sn
> }
> 
> Greetings,
> Albrecht
>



From neotrop|c@|@b@t@ @end|ng |rom gm@||@com  Tue Apr 17 13:20:02 2018
From: neotrop|c@|@b@t@ @end|ng |rom gm@||@com (Neotropical bat risk assessments)
Date: Tue, 17 Apr 2018 07:20:02 -0400
Subject: [R] iterative read - write
In-Reply-To: <mailman.1.1508061601.444.r-help@r-project.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
Message-ID: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>

Hi all,

I would like to set up an iterative read & write sequence to avoid 
reading and writing each file one at a time.
Hundreds of data sets to re-calculate.? The code I have works well 
individually, but would like to set up an iterative read, calculate and 
write changing the input and output file names each iteration.

I? think I have read that there is an R? feature using "Pipes" and % 
that may help but have not figured out how to do this.
What I am seeking is a way to read a list of TXT files, calculate the 
values and write the results in an iterative manner to avoid manually 
reading each file individually

Suggestions?

Tnx,
Bruce*
*

*# This works*

*#read in a data file
*

*>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by 
genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*

*# create and calculate a new variable for time between call pusles
*

*Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*

*# Create new BW variable for band width then change data file name*

*BW<-within(Corbre_2,BW<-Fmax-Fmin)*

*# Create 2 new variables for fundamental H1 and third harmonic H3 
frequencies
*

*#based on Fc that is generally loudest at the 2^nd harmonic.*

*BW<-within(BW,FcH1<-Fc*.5)*

*BW<-within(BW,FcH3<-FcH1*3)*

*#rename to a DF to calculate the stats
*

*BatStats<-BW*

*BatStats<-Deducer::descriptive.table (vars = d 
(Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data= 
BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St. 
Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10), 
na.rm=TRUE),p25=function(x) quantile(x, c(0.25), 
na.rm=TRUE),p75=function(x) quantile(x, 
c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*

*## Write the results and change output name and directory for the 
calculated stats.*

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic 
Parameters\\Corbre_Stats.csv")*



-- 
Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet

Using acoustic sampling to identify and map species distributions for >25 years.

Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats


	[[alternative HTML version deleted]]



From bgunter@4567 @end|ng |rom gm@||@com  Tue Apr 17 14:00:07 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 17 Apr 2018 12:00:07 +0000
Subject: [R] iterative read - write
In-Reply-To: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
Message-ID: <CAGxFJbSBowHF_vT8xQDt6NWJWeJh1YiNcOW_19KAFDR-PaTs8Q@mail.gmail.com>

Suggestions?

Yes. Don't do this.

Instead, wrap your code in a function, use lapply() to apply it over your
list of files, returning all results in one list, and then save the list in
an .rdata file.

Also, in future, please post in plain text, as html tends to get mangled on
this plain text list .

Bert

On Tue, Apr 17, 2018, 4:20 AM Neotropical bat risk assessments <
neotropical.bats at gmail.com> wrote:

> Hi all,
>
> I would like to set up an iterative read & write sequence to avoid
> reading and writing each file one at a time.
> Hundreds of data sets to re-calculate.  The code I have works well
> individually, but would like to set up an iterative read, calculate and
> write changing the input and output file names each iteration.
>
> I  think I have read that there is an R  feature using "Pipes" and %
> that may help but have not figured out how to do this.
> What I am seeking is a way to read a list of TXT files, calculate the
> values and write the results in an iterative manner to avoid manually
> reading each file individually
>
> Suggestions?
>
> Tnx,
> Bruce*
> *
>
> *# This works*
>
> *#read in a data file
> *
>
> *>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
> genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*
>
> *# create and calculate a new variable for time between call pusles
> *
>
> *Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*
>
> *# Create new BW variable for band width then change data file name*
>
> *BW<-within(Corbre_2,BW<-Fmax-Fmin)*
>
> *# Create 2 new variables for fundamental H1 and third harmonic H3
> frequencies
> *
>
> *#based on Fc that is generally loudest at the 2^nd harmonic.*
>
> *BW<-within(BW,FcH1<-Fc*.5)*
>
> *BW<-within(BW,FcH3<-FcH1*3)*
>
> *#rename to a DF to calculate the stats
> *
>
> *BatStats<-BW*
>
> *BatStats<-Deducer::descriptive.table (vars = d
> (Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
> BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
> Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
> na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
> na.rm=TRUE),p75=function(x) quantile(x,
> c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*
>
> *## Write the results and change output name and directory for the
> calculated stats.*
>
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\Corbre_Stats.csv")*
>
>
>
> --
> Bruce W. Miller, PhD.
> Neotropical bat risk assessments
> Conservation Fellow - Wildlife Conservation Society
>
> If we lose the bats, we may lose much of the tropical vegetation and the
> lungs of the planet
>
> Using acoustic sampling to identify and map species distributions for >25
> years.
>
> Providing free Interactive identification keys and call fact sheets for
> the vocal signatures of New World Bats
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

On Apr 17, 2018 4:20 AM, "Neotropical bat risk assessments" <
neotropical.bats at gmail.com> wrote:

Hi all,

I would like to set up an iterative read & write sequence to avoid
reading and writing each file one at a time.
Hundreds of data sets to re-calculate.  The code I have works well
individually, but would like to set up an iterative read, calculate and
write changing the input and output file names each iteration.

I  think I have read that there is an R  feature using "Pipes" and %
that may help but have not figured out how to do this.
What I am seeking is a way to read a list of TXT files, calculate the
values and write the results in an iterative manner to avoid manually
reading each file individually

Suggestions?

Tnx,
Bruce*
*

*# This works*

*#read in a data file
*

*>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*

*# create and calculate a new variable for time between call pusles
*

*Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*

*# Create new BW variable for band width then change data file name*

*BW<-within(Corbre_2,BW<-Fmax-Fmin)*

*# Create 2 new variables for fundamental H1 and third harmonic H3
frequencies
*

*#based on Fc that is generally loudest at the 2^nd harmonic.*

*BW<-within(BW,FcH1<-Fc*.5)*

*BW<-within(BW,FcH3<-FcH1*3)*

*#rename to a DF to calculate the stats
*

*BatStats<-BW*

*BatStats<-Deducer::descriptive.table (vars = d
(Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
na.rm=TRUE),p75=function(x) quantile(x,
c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*

*## Write the results and change output name and directory for the
calculated stats.*

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
Parameters\\Corbre_Stats.csv")*



-- 
Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the
lungs of the planet

Using acoustic sampling to identify and map species distributions for >25
years.

Providing free Interactive identification keys and call fact sheets for the
vocal signatures of New World Bats


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]



From neotrop|c@|@b@t@ @end|ng |rom gm@||@com  Tue Apr 17 14:01:10 2018
From: neotrop|c@|@b@t@ @end|ng |rom gm@||@com (Neotropical bat risk assessments)
Date: Tue, 17 Apr 2018 08:01:10 -0400
Subject: [R] Hacked
In-Reply-To: <mailman.1.1508061601.444.r-help@r-project.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
Message-ID: <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>

Hi all,

Site has been hacked?
Bad SPAM arriving



From th|erry@onke||nx @end|ng |rom |nbo@be  Tue Apr 17 14:34:38 2018
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Tue, 17 Apr 2018 14:34:38 +0200
Subject: [R] iterative read - write
In-Reply-To: <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <1e2e04c5-2238-4558-ae18-969c8dda5b4e@gmail.com>
Message-ID: <CAJuCY5yQpF4mVvzLnvP5o3drJT=VL=Cf4vSaFafi0Pu7Vtx07A@mail.gmail.com>

Dear Bruce,

I'd write a function that take filenames as arguments. It should read
the file, do the calculations and write that output to another file
which can be calculated from the input. You can get all input files in
a directory with e.g. list.files(). Then you can simply loop over the
inputs. Here is some pseudo code.

my_summary <- function(input) {
   raw <- read.table(input)
   summarised <- summary(raw)
   output <- calculate_output(input)
   write.csv(summarised, output)
}
inputs <- list.files("raw/data/path")
sapply(inputs, my_summary)

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-17 13:20 GMT+02:00 Neotropical bat risk assessments
<neotropical.bats at gmail.com>:
> Hi all,
>
> I would like to set up an iterative read & write sequence to avoid
> reading and writing each file one at a time.
> Hundreds of data sets to re-calculate.  The code I have works well
> individually, but would like to set up an iterative read, calculate and
> write changing the input and output file names each iteration.
>
> I  think I have read that there is an R  feature using "Pipes" and %
> that may help but have not figured out how to do this.
> What I am seeking is a way to read a list of TXT files, calculate the
> values and write the results in an iterative manner to avoid manually
> reading each file individually
>
> Suggestions?
>
> Tnx,
> Bruce*
> *
>
> *# This works*
>
> *#read in a data file
> *
>
> *>Corbre_2 <- read.table("E:/Acoustic Parameters/~Emballonuridae/Data by
> genus/~Corbre/Corbre_2.txt",header=T,sep="\t",quote="")*
>
> *# create and calculate a new variable for time between call pusles
> *
>
> *Corbre_2 [c("TBC")] <- recode.variables(Corbre_2[c("TBC")] , "0 -> NA;")*
>
> *# Create new BW variable for band width then change data file name*
>
> *BW<-within(Corbre_2,BW<-Fmax-Fmin)*
>
> *# Create 2 new variables for fundamental H1 and third harmonic H3
> frequencies
> *
>
> *#based on Fc that is generally loudest at the 2^nd harmonic.*
>
> *BW<-within(BW,FcH1<-Fc*.5)*
>
> *BW<-within(BW,FcH3<-FcH1*3)*
>
> *#rename to a DF to calculate the stats
> *
>
> *BatStats<-BW*
>
> *BatStats<-Deducer::descriptive.table (vars = d
> (Dur,TBC,Fmin,Fmax,BW,Fmean,Fk,FcH1,Fc,FcH3,Sc,Pmc),data=
> BatStats,func.names =c("Valid N","Minimum","Maximum","Mean","St.
> Deviation"),func.additional= list(p10=function(x) quantile(x, c(0.10),
> na.rm=TRUE),p25=function(x) quantile(x, c(0.25),
> na.rm=TRUE),p75=function(x) quantile(x,
> c(0.75),na.rm=TRUE),p90=function(x) quantile(x, c(0.90),na.rm=TRUE)))*
>
> *## Write the results and change output name and directory for the
> calculated stats.*
>
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\Corbre_Stats.csv")*
>
>
>
> --
> Bruce W. Miller, PhD.
> Neotropical bat risk assessments
> Conservation Fellow - Wildlife Conservation Society
>
> If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet
>
> Using acoustic sampling to identify and map species distributions for >25 years.
>
> Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Apr 17 14:58:32 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 17 Apr 2018 05:58:32 -0700
Subject: [R] Hacked
In-Reply-To: <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
Message-ID: <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>

Likely a spammer has joined the mailing list and is auto-replying to posts made to the list. Unlikely that the list itself has been "hacked". Agree that it is obnoxious.

On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <neotropical.bats at gmail.com> wrote:
>Hi all,
>
>Site has been hacked?
>Bad SPAM arriving
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From je@@|e@woodbr|dge @end|ng |rom p|ymouth@@c@uk  Tue Apr 17 18:59:24 2018
From: je@@|e@woodbr|dge @end|ng |rom p|ymouth@@c@uk (Jessie Woodbridge)
Date: Tue, 17 Apr 2018 16:59:24 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <VI1PR03MB35014C956D53B30A5E08D374C9B70@VI1PR03MB3501.eurprd03.prod.outlook.com>

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I'm trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn't relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

	[[alternative HTML version deleted]]



From A||@|@one1 @end|ng |rom hotm@||@com  Tue Apr 17 19:10:24 2018
From: A||@|@one1 @end|ng |rom hotm@||@com (Allaisone 1)
Date: Tue, 17 Apr 2018 17:10:24 +0000
Subject: [R] Time intervals in a datframe
Message-ID: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>


Hi all

I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :

SingleDataframe <- ldply (MylistofDFs,data.frame)

The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :

The column Before conversion looks like this:

TimeInterval (class 'interval')
2012-12-13 UTC--2016-02-16 UTC

but after conversion the list into dataframe,
This column becomes number of seconds as follows :

TimeInterval (class : numeric)
100224000

Is there any method to convert my list into a a single dataframe without affecting the types of
vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

Any suggestions would be very appreciated.

Regards

	[[alternative HTML version deleted]]



From u|r|k@@tervbo @end|ng |rom gm@||@com  Tue Apr 17 20:37:08 2018
From: u|r|k@@tervbo @end|ng |rom gm@||@com (Ulrik Stervbo)
Date: Tue, 17 Apr 2018 18:37:08 +0000
Subject: [R] Hacked
In-Reply-To: <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
Message-ID: <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>

I asked the moderators about it. This is the reply

"Other moderators have looked into this a bit and may be able to shed more
light on it. This is a "new" tactic where the spammers appear to reply to
the r-help post. They are not, however, going through the r-help server.

It also seems that this does not happen to everyone.

I am not sure how you can automatically block the spammers.

Sorry I cannot be of more help."

--Ulrik

Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
14:59:

> Likely a spammer has joined the mailing list and is auto-replying to posts
> made to the list. Unlikely that the list itself has been "hacked". Agree
> that it is obnoxious.
>
> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
> neotropical.bats at gmail.com> wrote:
> >Hi all,
> >
> >Site has been hacked?
> >Bad SPAM arriving
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From peter@|@ng|e|der @end|ng |rom gm@||@com  Tue Apr 17 20:50:19 2018
From: peter@|@ng|e|der @end|ng |rom gm@||@com (Peter Langfelder)
Date: Tue, 17 Apr 2018 11:50:19 -0700
Subject: [R] Hacked
In-Reply-To: <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
Message-ID: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>

I got some spam emails after my last post to the list, and the emails
did not seem to go through r-help. The spammers may be subscribed to
the r-help, or they get the poster emails from some of the web copies
of this list (nabble or similar).

Peter

On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
> I asked the moderators about it. This is the reply
>
> "Other moderators have looked into this a bit and may be able to shed more
> light on it. This is a "new" tactic where the spammers appear to reply to
> the r-help post. They are not, however, going through the r-help server.
>
> It also seems that this does not happen to everyone.
>
> I am not sure how you can automatically block the spammers.
>
> Sorry I cannot be of more help."
>
> --Ulrik
>
> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
> 14:59:
>
>> Likely a spammer has joined the mailing list and is auto-replying to posts
>> made to the list. Unlikely that the list itself has been "hacked". Agree
>> that it is obnoxious.
>>
>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>> neotropical.bats at gmail.com> wrote:
>> >Hi all,
>> >
>> >Site has been hacked?
>> >Bad SPAM arriving
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From je@@|e@woodbr|dge @end|ng |rom p|ymouth@@c@uk  Tue Apr 17 21:04:51 2018
From: je@@|e@woodbr|dge @end|ng |rom p|ymouth@@c@uk (Jessie Woodbridge)
Date: Tue, 17 Apr 2018 19:04:51 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

From |u|@@@puerto @end|ng |rom gm@||@com  Tue Apr 17 21:10:44 2018
From: |u|@@@puerto @end|ng |rom gm@||@com (Luis Puerto)
Date: Tue, 17 Apr 2018 22:10:44 +0300
Subject: [R] Hacked
In-Reply-To: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
Message-ID: <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails
> did not seem to go through r-help. The spammers may be subscribed to
> the r-help, or they get the poster emails from some of the web copies
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed more
>> light on it. This is a "new" tactic where the spammers appear to reply to
>> the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to posts
>>> made to the list. Unlikely that the list itself has been "hacked". Agree
>>> that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From M@rk@Fow|er @end|ng |rom d|o-mpo@gc@c@  Tue Apr 17 21:31:44 2018
From: M@rk@Fow|er @end|ng |rom d|o-mpo@gc@c@ (Fowler, Mark)
Date: Tue, 17 Apr 2018 19:31:44 +0000
Subject: [R] Hacked
In-Reply-To: <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
Message-ID: <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>

Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails 
> did not seem to go through r-help. The spammers may be subscribed to 
> the r-help, or they get the poster emails from some of the web copies 
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed 
>> more light on it. This is a "new" tactic where the spammers appear to 
>> reply to the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 
>> 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to 
>>> posts made to the list. Unlikely that the list itself has been 
>>> "hacked". Agree that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments < 
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From ycd|ng @end|ng |rom coh@org  Tue Apr 17 21:34:10 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Tue, 17 Apr 2018 19:34:10 +0000
Subject: [R] Hacked
In-Reply-To: <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>

No, I do not use gmail, still got dirty spam email twice. 

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler, Mark
Sent: Tuesday, April 17, 2018 12:32 PM
To: Luis Puerto; Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi! 

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too. 

> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
> 
> I got some spam emails after my last post to the list, and the emails 
> did not seem to go through r-help. The spammers may be subscribed to 
> the r-help, or they get the poster emails from some of the web copies 
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>> I asked the moderators about it. This is the reply
>> 
>> "Other moderators have looked into this a bit and may be able to shed 
>> more light on it. This is a "new" tactic where the spammers appear to 
>> reply to the r-help post. They are not, however, going through the r-help server.
>> 
>> It also seems that this does not happen to everyone.
>> 
>> I am not sure how you can automatically block the spammers.
>> 
>> Sorry I cannot be of more help."
>> 
>> --Ulrik
>> 
>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 
>> 2018,
>> 14:59:
>> 
>>> Likely a spammer has joined the mailing list and is auto-replying to 
>>> posts made to the list. Unlikely that the list itself has been 
>>> "hacked". Agree that it is obnoxious.
>>> 
>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments < 
>>> neotropical.bats at gmail.com> wrote:
>>>> Hi all,
>>>> 
>>>> Site has been hacked?
>>>> Bad SPAM arriving
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}



From dc@r|@on @end|ng |rom t@mu@edu  Tue Apr 17 22:12:43 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Tue, 17 Apr 2018 20:12:43 +0000
Subject: [R] nMDS with R: missing values
In-Reply-To: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
References: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
Message-ID: <c3b88714129540aa888f49e3852e3041@tamu.edu>

I think you will have to provide some more information. What function/package are you using for nMDS (eg. isoMDS in MASS, monoMDS in vegan)? What function/package are you using to compute your distance/dissimilarities (eg. dist in stats, vegdist in vegan)? 

Zero represents absence. It is not a missing value, so that part of your question is not clear.

The dist() function computes distance ignoring missing values if they are properly represented as NAs in the data. The vegdist() function does this if na.rm=TRUE. 

The results will be affected by how much data is missing. It would be useful to know if the missing values are concentrated in particular rows or columns so that eliminating a few rows and columns could substantially reduce the percentage of missing values.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352


0-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Jessie Woodbridge
Sent: Tuesday, April 17, 2018 2:05 PM
To: r-help at r-project.org
Subject: [R] nMDS with R: missing values

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Apr 17 23:09:26 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 17 Apr 2018 22:09:26 +0100
Subject: [R] Hacked
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
Message-ID: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>

Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> 
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>
>> I got some spam emails after my last post to the list, and the emails
>> did not seem to go through r-help. The spammers may be subscribed to
>> the r-help, or they get the poster emails from some of the web copies
>> of this list (nabble or similar).
>>
>> Peter
>>
>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>> I asked the moderators about it. This is the reply
>>>
>>> "Other moderators have looked into this a bit and may be able to shed
>>> more light on it. This is a "new" tactic where the spammers appear to
>>> reply to the r-help post. They are not, however, going through the r-help server.
>>>
>>> It also seems that this does not happen to everyone.
>>>
>>> I am not sure how you can automatically block the spammers.
>>>
>>> Sorry I cannot be of more help."
>>>
>>> --Ulrik
>>>
>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>> 2018,
>>> 14:59:
>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>> posts made to the list. Unlikely that the list itself has been
>>>> "hacked". Agree that it is obnoxious.
>>>>
>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>> neotropical.bats at gmail.com> wrote:
>>>>> Hi all,
>>>>>
>>>>> Site has been hacked?
>>>>> Bad SPAM arriving
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> --
>>>> Sent from my phone. Please excuse my brevity.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Apr 17 23:10:43 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Tue, 17 Apr 2018 14:10:43 -0700
Subject: [R] Time intervals in a datframe
In-Reply-To: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>
References: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>
Message-ID: <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>


> On Apr 17, 2018, at 10:10 AM, Allaisone 1 <allaisone1 at hotmail.com> wrote:
> 
> 
> Hi all
> 
> I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :
> 
> SingleDataframe <- ldply (MylistofDFs,data.frame)
> 
> The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :
> 
> The column Before conversion looks like this:
> 
> TimeInterval (class 'interval')
> 2012-12-13 UTC--2016-02-16 UTC
> 
> but after conversion the list into dataframe,
> This column becomes number of seconds as follows :
> 
> TimeInterval (class : numeric)
> 100224000
> 
> Is there any method to convert my list into a a single dataframe without affecting the types of
> vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

There is no base R class called "interval". Perhaps lubridate has not provided you with an `ldply( . ,data.frame)`-accessible method for concatenation. You should construct an example that starts with the loading code for whatever package(s) are being used.


> 
> Any suggestions would be very appreciated.
> 
> Regards
> 
> 	[[alternative HTML version deleted]]
> 

You should also read the Posting Guide.


> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @@5505 @end|ng |rom cumc@co|umb|@@edu  Tue Apr 17 23:13:38 2018
From: @@5505 @end|ng |rom cumc@co|umb|@@edu (Sariya, Sanjeev)
Date: Tue, 17 Apr 2018 21:13:38 +0000
Subject: [R] Hacked
In-Reply-To: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
Message-ID: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>

I've been receiving nasty e-mails too. No g-mail, but official/work e-mail address. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
Sent: Tuesday, April 17, 2018 5:09 PM
To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter Langfelder <peter.langfelder at gmail.com>
Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk assessments <neotropical.bats at gmail.com>
Subject: Re: [R] Hacked

Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of 
> Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open 
> attachments or click on links from unknown senders or unexpected 
> emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis 
> Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> 
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>
>> I got some spam emails after my last post to the list, and the emails 
>> did not seem to go through r-help. The spammers may be subscribed to 
>> the r-help, or they get the poster emails from some of the web copies 
>> of this list (nabble or similar).
>>
>> Peter
>>
>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>> I asked the moderators about it. This is the reply
>>>
>>> "Other moderators have looked into this a bit and may be able to 
>>> shed more light on it. This is a "new" tactic where the spammers 
>>> appear to reply to the r-help post. They are not, however, going through the r-help server.
>>>
>>> It also seems that this does not happen to everyone.
>>>
>>> I am not sure how you can automatically block the spammers.
>>>
>>> Sorry I cannot be of more help."
>>>
>>> --Ulrik
>>>
>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>> 2018,
>>> 14:59:
>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying 
>>>> to posts made to the list. Unlikely that the list itself has been 
>>>> "hacked". Agree that it is obnoxious.
>>>>
>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments 
>>>> < neotropical.bats at gmail.com> wrote:
>>>>> Hi all,
>>>>>
>>>>> Site has been hacked?
>>>>> Bad SPAM arriving
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> --
>>>> Sent from my phone. Please excuse my brevity.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From A||@|@one1 @end|ng |rom hotm@||@com  Wed Apr 18 00:19:15 2018
From: A||@|@one1 @end|ng |rom hotm@||@com (Allaisone 1)
Date: Tue, 17 Apr 2018 22:19:15 +0000
Subject: [R] Time intervals in a datframe
In-Reply-To: <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>
References: <DB5PR02MB090427691DC9588C30B49EC180B70@DB5PR02MB0904.eurprd02.prod.outlook.com>,
 <06F532C8-ED47-4AA6-B0FF-AE697A83B8FE@comcast.net>
Message-ID: <DB5PR02MB0904A9D7E8D1E00F24848A7A80B70@DB5PR02MB0904.eurprd02.prod.outlook.com>

Many thank David ..,


Yes , correct, the class "interval" is a special class belongs to the package "lubridate" and
is not a base R class.

I have just found a solution and happy to share it :-

using an alternative conversion method with the use of "rbind" instead of
"ldplyr " method will keep the converted dataframe with the same "interval' class as follows :-

MySingleDF <- do.call("rbind",MyList)

Regards
________________________________
From: David Winsemius <dwinsemius at comcast.net>
Sent: 17 April 2018 21:10:43
To: Allaisone 1
Cc: r-help at r-project.org
Subject: Re: [R] Time intervals in a datframe


> On Apr 17, 2018, at 10:10 AM, Allaisone 1 <allaisone1 at hotmail.com> wrote:
>
>
> Hi all
>
> I have a list of multiple datframes with the same column headers. The last column in each datframe contains a vector of "Interval" class after I have produced this column using "lubridate" package. I needed to convert my list of dataframes to be in a single dataframe for further analysis. I did this using the following syntax :
>
> SingleDataframe <- ldply (MylistofDFs,data.frame)
>
> The problem is that after this conversion, the the column with time intervals has been converted into numeric type with number of seconds during the time interval instead of the interval itself as follows :
>
> The column Before conversion looks like this:
>
> TimeInterval (class 'interval')
> 2012-12-13 UTC--2016-02-16 UTC
>
> but after conversion the list into dataframe,
> This column becomes number of seconds as follows :
>
> TimeInterval (class : numeric)
> 100224000
>
> Is there any method to convert my list into a a single dataframe without affecting the types of
> vectors in my dataframes?. i.e. I want to keep the interval column as it with avoidance its conversion into numeric when I convert my list of dataframes into a single dataframe... Or at least keep the same format of the interval even if this has been changed to "character" type vector even though I prefer to be in "interval" class.

There is no base R class called "interval". Perhaps lubridate has not provided you with an `ldply( . ,data.frame)`-accessible method for concatenation. You should construct an example that starts with the loading code for whatever package(s) are being used.


>
> Any suggestions would be very appreciated.
>
> Regards
>
>        [[alternative HTML version deleted]]
>

You should also read the Posting Guide.


> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law






	[[alternative HTML version deleted]]



From er|nm@hodge@@ @end|ng |rom gm@||@com  Tue Apr 17 23:59:02 2018
From: er|nm@hodge@@ @end|ng |rom gm@||@com (Erin Hodgess)
Date: Tue, 17 Apr 2018 21:59:02 +0000
Subject: [R] Hacked
In-Reply-To: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
Message-ID: <CACxE24kgkFsLvzF+MGLUicVd=uvyQd_WDvLsDeFR-7zV16yNSQ@mail.gmail.com>

Me as well, but I have gmail.



On Tue, Apr 17, 2018 at 4:24 PM Sariya, Sanjeev <ss5505 at cumc.columbia.edu>
wrote:

> I've been receiving nasty e-mails too. No g-mail, but official/work e-mail
> address.
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
> Sent: Tuesday, April 17, 2018 5:09 PM
> To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <
> Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter
> Langfelder <peter.langfelder at gmail.com>
> Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk
> assessments <neotropical.bats at gmail.com>
> Subject: Re: [R] Hacked
>
> Hello,
>
> Nor do I, no gmail, also got spam.
>
> Rui Barradas
>
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> > No, I do not use gmail, still got dirty spam email twice.
> >
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
> > Fowler, Mark
> > Sent: Tuesday, April 17, 2018 12:32 PM
> > To: Luis Puerto; Peter Langfelder
> > Cc: R-Help ML R-Project; Neotropical bat risk assessments
> > Subject: Re: [R] Hacked
> >
> > [Attention: This email came from an external source. Do not open
> > attachments or click on links from unknown senders or unexpected
> > emails.]
> >
> >
> >
> >
> >
> > Just an observation. I have not seen the spam you are discussing.
> Possibly it is specific to gmail addresses?
> >
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
> > Puerto
> > Sent: April 17, 2018 4:11 PM
> > To: Peter Langfelder
> > Cc: R-Help ML R-Project; Neotropical bat risk assessments
> > Subject: Re: [R] Hacked
> >
> > Hi!
> >
> > This happened to me also! I just got a spam email just after posting and
> then in following days I got obnoxious spam emails in my spam filter. As
> the others, I think that there is some kind of bot subscribed to the list,
> but also perhaps a spider or crawler monitoring the R-Help archive and
> getting email addresses there. Nabble is a possibility too.
> >
> >> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
> wrote:
> >>
> >> I got some spam emails after my last post to the list, and the emails
> >> did not seem to go through r-help. The spammers may be subscribed to
> >> the r-help, or they get the poster emails from some of the web copies
> >> of this list (nabble or similar).
> >>
> >> Peter
> >>
> >> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <
> ulrik.stervbo at gmail.com> wrote:
> >>> I asked the moderators about it. This is the reply
> >>>
> >>> "Other moderators have looked into this a bit and may be able to
> >>> shed more light on it. This is a "new" tactic where the spammers
> >>> appear to reply to the r-help post. They are not, however, going
> through the r-help server.
> >>>
> >>> It also seems that this does not happen to everyone.
> >>>
> >>> I am not sure how you can automatically block the spammers.
> >>>
> >>> Sorry I cannot be of more help."
> >>>
> >>> --Ulrik
> >>>
> >>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
> >>> 2018,
> >>> 14:59:
> >>>
> >>>> Likely a spammer has joined the mailing list and is auto-replying
> >>>> to posts made to the list. Unlikely that the list itself has been
> >>>> "hacked". Agree that it is obnoxious.
> >>>>
> >>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments
> >>>> < neotropical.bats at gmail.com> wrote:
> >>>>> Hi all,
> >>>>>
> >>>>> Site has been hacked?
> >>>>> Bad SPAM arriving
> >>>>>
> >>>>> ______________________________________________
> >>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>> PLEASE do read the posting guide
> >>>>> http://www.R-project.org/posting-guide.html
> >>>>> and provide commented, minimal, self-contained, reproducible code.
> >>>>
> >>>> --
> >>>> Sent from my phone. Please excuse my brevity.
> >>>>
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide
> >>>> http://www.R-project.org/posting-guide.html
> >>>> and provide commented, minimal, self-contained, reproducible code.
> >>>>
> >>>
> >>>         [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> >
> > ---------------------------------------------------------------------
> > -SECURITY/CONFIDENTIALITY WARNING-
> > This message (and any attachments) are intended solely
> > f...{{dropped:28}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 
Erin Hodgess
Associate Professor
Department of Mathematical and Statistics
University of Houston - Downtown
mailto: erinm.hodgess at gmail.com

	[[alternative HTML version deleted]]



From ro@||n@ump @end|ng |rom gm@||@com  Wed Apr 18 01:18:19 2018
From: ro@||n@ump @end|ng |rom gm@||@com (Roslina Zakaria)
Date: Wed, 18 Apr 2018 07:18:19 +0800
Subject: [R] Hacked
In-Reply-To: <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CY1PR02MB16906EFA7A21F8184FAC633781B70@CY1PR02MB1690.namprd02.prod.outlook.com>
Message-ID: <yppcxqogqlf5wpf3fv0jqns5.1524007099210@email.android.com>

Mee too got nasty email after i responded the r help email.

Sent from my Sony Xperia? smartphone

---- Sariya, Sanjeev wrote ----

>I've been receiving nasty e-mails too. No g-mail, but official/work e-mail address. 
>
>-----Original Message-----
>From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
>Sent: Tuesday, April 17, 2018 5:09 PM
>To: Ding, Yuan Chun <ycding at coh.org>; Fowler, Mark <Mark.Fowler at dfo-mpo.gc.ca>; Luis Puerto <luiss.puerto at gmail.com>; Peter Langfelder <peter.langfelder at gmail.com>
>Cc: R-Help ML R-Project <r-help at r-project.org>; Neotropical bat risk assessments <neotropical.bats at gmail.com>
>Subject: Re: [R] Hacked
>
>Hello,
>
>Nor do I, no gmail, also got spam.
>
>Rui Barradas
>
>On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>> No, I do not use gmail, still got dirty spam email twice.
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of 
>> Fowler, Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> [Attention: This email came from an external source. Do not open 
>> attachments or click on links from unknown senders or unexpected 
>> emails.]
>> 
>> 
>> 
>> 
>> 
>> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis 
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> Hi!
>> 
>> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
>> 
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com> wrote:
>>>
>>> I got some spam emails after my last post to the list, and the emails 
>>> did not seem to go through r-help. The spammers may be subscribed to 
>>> the r-help, or they get the poster emails from some of the web copies 
>>> of this list (nabble or similar).
>>>
>>> Peter
>>>
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
>>>> I asked the moderators about it. This is the reply
>>>>
>>>> "Other moderators have looked into this a bit and may be able to 
>>>> shed more light on it. This is a "new" tactic where the spammers 
>>>> appear to reply to the r-help post. They are not, however, going through the r-help server.
>>>>
>>>> It also seems that this does not happen to everyone.
>>>>
>>>> I am not sure how you can automatically block the spammers.
>>>>
>>>> Sorry I cannot be of more help."
>>>>
>>>> --Ulrik
>>>>
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>> 2018,
>>>> 14:59:
>>>>
>>>>> Likely a spammer has joined the mailing list and is auto-replying 
>>>>> to posts made to the list. Unlikely that the list itself has been 
>>>>> "hacked". Agree that it is obnoxious.
>>>>>
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments 
>>>>> < neotropical.bats at gmail.com> wrote:
>>>>>> Hi all,
>>>>>>
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely 
>> f...{{dropped:28}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From m@rk|eed@2 @end|ng |rom gm@||@com  Wed Apr 18 05:33:03 2018
From: m@rk|eed@2 @end|ng |rom gm@||@com (Mark Leeds)
Date: Tue, 17 Apr 2018 23:33:03 -0400
Subject: [R] Hacked
In-Reply-To: <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
Message-ID: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>

Hi All: I lately get a lot more spam-porn type emails lately also but I
don't know if they are due to me being on
the R-list.



On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Nor do I, no gmail, also got spam.
>
> Rui Barradas
>
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>
>> No, I do not use gmail, still got dirty spam email twice.
>>
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler,
>> Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>>
>> [Attention: This email came from an external source. Do not open
>> attachments or click on links from unknown senders or unexpected emails.]
>>
>>
>>
>>
>>
>> Just an observation. I have not seen the spam you are discussing.
>> Possibly it is specific to gmail addresses?
>>
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>>
>> Hi!
>>
>> This happened to me also! I just got a spam email just after posting and
>> then in following days I got obnoxious spam emails in my spam filter. As
>> the others, I think that there is some kind of bot subscribed to the list,
>> but also perhaps a spider or crawler monitoring the R-Help archive and
>> getting email addresses there. Nabble is a possibility too.
>>
>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
>>> wrote:
>>>
>>> I got some spam emails after my last post to the list, and the emails
>>> did not seem to go through r-help. The spammers may be subscribed to
>>> the r-help, or they get the poster emails from some of the web copies
>>> of this list (nabble or similar).
>>>
>>> Peter
>>>
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com>
>>> wrote:
>>>
>>>> I asked the moderators about it. This is the reply
>>>>
>>>> "Other moderators have looked into this a bit and may be able to shed
>>>> more light on it. This is a "new" tactic where the spammers appear to
>>>> reply to the r-help post. They are not, however, going through the
>>>> r-help server.
>>>>
>>>> It also seems that this does not happen to everyone.
>>>>
>>>> I am not sure how you can automatically block the spammers.
>>>>
>>>> Sorry I cannot be of more help."
>>>>
>>>> --Ulrik
>>>>
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>> 2018,
>>>> 14:59:
>>>>
>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>>> posts made to the list. Unlikely that the list itself has been
>>>>> "hacked". Agree that it is obnoxious.
>>>>>
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>>> neotropical.bats at gmail.com> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely f...{{dropped:28}}
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posti
> ng-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From drj|m|emon @end|ng |rom gm@||@com  Wed Apr 18 06:16:46 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 18 Apr 2018 14:16:46 +1000
Subject: [R] Hacked
In-Reply-To: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
Message-ID: <CA+8X3fW_jDDYdh6PKUTet1Z=Q4unOEMYNjatW=f=PCD9f0CcWQ@mail.gmail.com>

It's happened 3 or 4 times for me, only on the R list. It only happens
when answering certain questions and I think all responders to that
question may get it. Seems to have nothing to do with the OP. I just
block the email address.

Jim

On Wed, Apr 18, 2018 at 1:33 PM, Mark Leeds <markleeds2 at gmail.com> wrote:
> Hi All: I lately get a lot more spam-porn type emails lately also but I
> don't know if they are due to me being on
> the R-list.
>
>
>
> On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> Nor do I, no gmail, also got spam.
>>
>> Rui Barradas
>>
>> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
>>
>>> No, I do not use gmail, still got dirty spam email twice.
>>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fowler,
>>> Mark
>>> Sent: Tuesday, April 17, 2018 12:32 PM
>>> To: Luis Puerto; Peter Langfelder
>>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>>> Subject: Re: [R] Hacked
>>>
>>> [Attention: This email came from an external source. Do not open
>>> attachments or click on links from unknown senders or unexpected emails.]
>>>
>>>
>>>
>>>
>>>
>>> Just an observation. I have not seen the spam you are discussing.
>>> Possibly it is specific to gmail addresses?
>>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>>> Puerto
>>> Sent: April 17, 2018 4:11 PM
>>> To: Peter Langfelder
>>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>>> Subject: Re: [R] Hacked
>>>
>>> Hi!
>>>
>>> This happened to me also! I just got a spam email just after posting and
>>> then in following days I got obnoxious spam emails in my spam filter. As
>>> the others, I think that there is some kind of bot subscribed to the list,
>>> but also perhaps a spider or crawler monitoring the R-Help archive and
>>> getting email addresses there. Nabble is a possibility too.
>>>
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com>
>>>> wrote:
>>>>
>>>> I got some spam emails after my last post to the list, and the emails
>>>> did not seem to go through r-help. The spammers may be subscribed to
>>>> the r-help, or they get the poster emails from some of the web copies
>>>> of this list (nabble or similar).
>>>>
>>>> Peter
>>>>
>>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com>
>>>> wrote:
>>>>
>>>>> I asked the moderators about it. This is the reply
>>>>>
>>>>> "Other moderators have looked into this a bit and may be able to shed
>>>>> more light on it. This is a "new" tactic where the spammers appear to
>>>>> reply to the r-help post. They are not, however, going through the
>>>>> r-help server.
>>>>>
>>>>> It also seems that this does not happen to everyone.
>>>>>
>>>>> I am not sure how you can automatically block the spammers.
>>>>>
>>>>> Sorry I cannot be of more help."
>>>>>
>>>>> --Ulrik
>>>>>
>>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr.
>>>>> 2018,
>>>>> 14:59:
>>>>>
>>>>> Likely a spammer has joined the mailing list and is auto-replying to
>>>>>> posts made to the list. Unlikely that the list itself has been
>>>>>> "hacked". Agree that it is obnoxious.
>>>>>>
>>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
>>>>>> neotropical.bats at gmail.com> wrote:
>>>>>>
>>>>>>> Hi all,
>>>>>>>
>>>>>>> Site has been hacked?
>>>>>>> Bad SPAM arriving
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>
>>>>>>
>>>>>> --
>>>>>> Sent from my phone. Please excuse my brevity.
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>>
>>>>>         [[alternative HTML version deleted]]
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> -SECURITY/CONFIDENTIALITY WARNING-
>>> This message (and any attachments) are intended solely f...{{dropped:28}}
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From m@||||@t@ @end|ng |rom pp@|net@||  Wed Apr 18 07:12:22 2018
From: m@||||@t@ @end|ng |rom pp@|net@|| (K. Elo)
Date: Wed, 18 Apr 2018 08:12:22 +0300
Subject: [R] Hacked
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
Message-ID: <1524028342.2517.1.camel@pp.inet.fi>

Hi!

Not just an gmail issue. After my last reply I have gotten tons of
spams from "Samantha Smith". Keep hitting my "rank as spam"-button in
the hope that my MUA could learn :)

Best,
Kimmo

ti, 2018-04-17 kello 19:34 +0000, Ding, Yuan Chun kirjoitti:
> No, I do not use gmail, still got dirty spam email twice.?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
> Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open
> attachments or click on links from unknown senders or unexpected
> emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing.
> Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
> Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!?
> 
> This happened to me also! I just got a spam email just after posting
> and then in following days I got obnoxious spam emails in my spam
> filter. As the others, I think that there is some kind of bot
> subscribed to the list, but also perhaps a spider or crawler
> monitoring the R-Help archive and getting email addresses there.
> Nabble is a possibility too.?
> 
> > 
> > On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.
> > com> wrote:
> > 
> > I got some spam emails after my last post to the list, and the
> > emails?
> > did not seem to go through r-help. The spammers may be subscribed
> > to?
> > the r-help, or they get the poster emails from some of the web
> > copies?
> > of this list (nabble or similar).
> > 
> > Peter
> > 
> > On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmai
> > l.com> wrote:
> > > 
> > > I asked the moderators about it. This is the reply
> > > 
> > > "Other moderators have looked into this a bit and may be able to
> > > shed?
> > > more light on it. This is a "new" tactic where the spammers
> > > appear to?
> > > reply to the r-help post. They are not, however, going through
> > > the r-help server.
> > > 
> > > It also seems that this does not happen to everyone.
> > > 
> > > I am not sure how you can automatically block the spammers.
> > > 
> > > Sorry I cannot be of more help."
> > > 
> > > --Ulrik
> > > 
> > > Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17.
> > > Apr.?
> > > 2018,
> > > 14:59:
> > > 
> > > > 
> > > > Likely a spammer has joined the mailing list and is auto-
> > > > replying to?
> > > > posts made to the list. Unlikely that the list itself has been?
> > > > "hacked". Agree that it is obnoxious.
> > > > 
> > > > On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk
> > > > assessments <?
> > > > neotropical.bats at gmail.com> wrote:
> > > > > 
> > > > > Hi all,
> > > > > 
> > > > > Site has been hacked?
> > > > > Bad SPAM arriving
> > > > > 
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > > see?
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> > > > > http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible
> > > > > code.
> > > > --
> > > > Sent from my phone. Please excuse my brevity.
> > > > 
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > see?
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide
> > > > http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > > 
> > > ???????[[alternative HTML version deleted]]
> > > 
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > see?
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible
> > > code.
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see?
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
> ps://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
> ps://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely
> f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-gui
> de.html
> and provide commented, minimal, self-contained, reproducible code.



From |u|@@@puerto @end|ng |rom gm@||@com  Wed Apr 18 08:14:59 2018
From: |u|@@@puerto @end|ng |rom gm@||@com (Luis Puerto)
Date: Wed, 18 Apr 2018 09:14:59 +0300
Subject: [R] Hacked
In-Reply-To: <1524028342.2517.1.camel@pp.inet.fi>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <1524028342.2517.1.camel@pp.inet.fi>
Message-ID: <63DA5E8A-4262-407A-9109-8B89BC870FD1@gmail.com>

I don?t think that it?s a just a gmail issue. If some of you aren?t receiving those emails is probably because they get caught in your organization spam filter and they don?t reach you. 

Every time I write to the list I receive those messages. 

> On 18 Apr 2018, at 08:12, K. Elo <maillists at pp.inet.fi> wrote:
> 
> Hi!
> 
> Not just an gmail issue. After my last reply I have gotten tons of
> spams from "Samantha Smith". Keep hitting my "rank as spam"-button in
> the hope that my MUA could learn :)
> 
> Best,
> Kimmo
> 
> ti, 2018-04-17 kello 19:34 +0000, Ding, Yuan Chun kirjoitti:
>> No, I do not use gmail, still got dirty spam email twice. 
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of
>> Fowler, Mark
>> Sent: Tuesday, April 17, 2018 12:32 PM
>> To: Luis Puerto; Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> [Attention: This email came from an external source. Do not open
>> attachments or click on links from unknown senders or unexpected
>> emails.]
>> 
>> 
>> 
>> 
>> 
>> Just an observation. I have not seen the spam you are discussing.
>> Possibly it is specific to gmail addresses?
>> 
>> -----Original Message-----
>> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Luis
>> Puerto
>> Sent: April 17, 2018 4:11 PM
>> To: Peter Langfelder
>> Cc: R-Help ML R-Project; Neotropical bat risk assessments
>> Subject: Re: [R] Hacked
>> 
>> Hi! 
>> 
>> This happened to me also! I just got a spam email just after posting
>> and then in following days I got obnoxious spam emails in my spam
>> filter. As the others, I think that there is some kind of bot
>> subscribed to the list, but also perhaps a spider or crawler
>> monitoring the R-Help archive and getting email addresses there.
>> Nabble is a possibility too. 
>> 
>>> 
>>> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.
>>> com> wrote:
>>> 
>>> I got some spam emails after my last post to the list, and the
>>> emails 
>>> did not seem to go through r-help. The spammers may be subscribed
>>> to 
>>> the r-help, or they get the poster emails from some of the web
>>> copies 
>>> of this list (nabble or similar).
>>> 
>>> Peter
>>> 
>>> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmai
>>> l.com> wrote:
>>>> 
>>>> I asked the moderators about it. This is the reply
>>>> 
>>>> "Other moderators have looked into this a bit and may be able to
>>>> shed 
>>>> more light on it. This is a "new" tactic where the spammers
>>>> appear to 
>>>> reply to the r-help post. They are not, however, going through
>>>> the r-help server.
>>>> 
>>>> It also seems that this does not happen to everyone.
>>>> 
>>>> I am not sure how you can automatically block the spammers.
>>>> 
>>>> Sorry I cannot be of more help."
>>>> 
>>>> --Ulrik
>>>> 
>>>> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17.
>>>> Apr. 
>>>> 2018,
>>>> 14:59:
>>>> 
>>>>> 
>>>>> Likely a spammer has joined the mailing list and is auto-
>>>>> replying to 
>>>>> posts made to the list. Unlikely that the list itself has been 
>>>>> "hacked". Agree that it is obnoxious.
>>>>> 
>>>>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk
>>>>> assessments < 
>>>>> neotropical.bats at gmail.com> wrote:
>>>>>> 
>>>>>> Hi all,
>>>>>> 
>>>>>> Site has been hacked?
>>>>>> Bad SPAM arriving
>>>>>> 
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>>> see 
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible
>>>>>> code.
>>>>> --
>>>>> Sent from my phone. Please excuse my brevity.
>>>>> 
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>> see 
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible
>>>>> code.
>>>>> 
>>>>        [[alternative HTML version deleted]]
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>> see 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible
>>>> code.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
>> ps://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see htt
>> ps://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
>> ---------------------------------------------------------------------
>> -SECURITY/CONFIDENTIALITY WARNING-
>> This message (and any attachments) are intended solely
>> f...{{dropped:28}}
>> 
>> ______________________________________________
>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide http://www.R-project.org/posting-gui <http://www.r-project.org/posting-gui>
>> de.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]



From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Wed Apr 18 08:36:44 2018
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Wed, 18 Apr 2018 08:36:44 +0200
Subject: [R] Hacked
In-Reply-To: <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
Message-ID: <23254.59260.563401.775247@stat.math.ethz.ch>

>>>>> Peter Langfelder <peter.langfelder at gmail.com>
>>>>>     on Tue, 17 Apr 2018 11:50:19 -0700 writes:

    > I got some spam emails after my last post to the list, and the emails
    > did not seem to go through r-help. The spammers may be subscribed to
    > the r-help, or they get the poster emails from some of the web copies
    > of this list (nabble or similar).

    > Peter

Thank you Peter (and Ulrich and ..),

>From all the cases we (R-help-owner = your friendly volunteer
list moderators) checked,

1) the address from which the spam was sent  was *NOT* among the
   13'000 subscriber addresses to R-help

2) in one case, I replied to the address stating that it
   seemed that *e-mail account* had been hacked.
   The result was nil (NULL), i.e., my conclusion was

   a) the address was a really registered/existing e-mail address that gave
      no "mailer daemon" error 

   b) it probably did go to the spammers: a legitimate user
      would have replied to me.

Martin Maechler
ETH Zurich (= provider of all the r-*@r-project.org mailman mailing lists)
	

    > On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com> wrote:
    >> I asked the moderators about it. This is the reply
    >> 
    >> "Other moderators have looked into this a bit and may be able to shed more
    >> light on it. This is a "new" tactic where the spammers appear to reply to
    >> the r-help post. They are not, however, going through the r-help server.
    >> 
    >> It also seems that this does not happen to everyone.
    >> 
    >> I am not sure how you can automatically block the spammers.
    >> 
    >> Sorry I cannot be of more help."
    >> 
    >> --Ulrik
    >> 
    >> Jeff Newmiller <jdnewmil at dcn.davis.ca.us> schrieb am Di., 17. Apr. 2018,
    >> 14:59:
    >> 
    >>> Likely a spammer has joined the mailing list and is auto-replying to posts
    >>> made to the list. Unlikely that the list itself has been "hacked". Agree
    >>> that it is obnoxious.
    >>> 
    >>> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
    >>> neotropical.bats at gmail.com> wrote:
    >>> >Hi all,
    >>> >
    >>> >Site has been hacked?
    >>> >Bad SPAM arriving
    >>> >
    >>> >______________________________________________
    >>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >>> >https://stat.ethz.ch/mailman/listinfo/r-help
    >>> >PLEASE do read the posting guide
    >>> >http://www.R-project.org/posting-guide.html
    >>> >and provide commented, minimal, self-contained, reproducible code.
    >>> 
    >>> --
    >>> Sent from my phone. Please excuse my brevity.
    >>> 
    >>> ______________________________________________
    >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >>> https://stat.ethz.ch/mailman/listinfo/r-help
    >>> PLEASE do read the posting guide
    >>> http://www.R-project.org/posting-guide.html
    >>> and provide commented, minimal, self-contained, reproducible code.
    >>> 
    >> 
    >> [[alternative HTML version deleted]]
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.



From hrmered|th12 @end|ng |rom gm@||@com  Wed Apr 18 10:04:07 2018
From: hrmered|th12 @end|ng |rom gm@||@com (Hannah Meredith)
Date: Wed, 18 Apr 2018 09:04:07 +0100
Subject: [R] Event-triggered change in value with a time-delay
Message-ID: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>

Hello,

I am solving a set of ODEs using deSolve and have run into a problem I
would appreciate some advice on. One of the parameters (m) in the ODEs
changes between two states when one of the variables (D) crosses a
threshold (D_T) for the first time in either direction. Additionally, when
the variable crosses the threshold (either by increasing or decreasing),
there is a time delay (delay) before the parameter shifts values.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Toy model:
# define parameters
P <- c(m = 10,
       R_1 = 0.5,
       R_2 = 0.1,
       D_0 = 50,
       D_T = 5,
       delay = 3
)
# set initial values
y_0 <- c(D = 0, Y = 1)

# set timesteps
times <- seq(0, 100, length = 101)

# define function
bit <- function(t,y,parms){
  with(as.list(c(parms,y)),{


    # How I would implement the change if there was no time delay
    # m <- ifelse(D>=D_T, m*.68, m)

    # Option 1: nested if statements with time delay
    # if (D >= D_T) {
    #   t_start1 <- t + delay
    #   if (t >= t_start1){
    #     m <- 6.8
    #   }
    # }
    # if (D < D_T) {
    #   t_start2<- t + delay
    #   if (t >= t_start2){
    #     m <- 10
    #   }
    # }


    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
exp(-R_1 * t))
    dY <- Y + m;
    res <- c(dD, dY)
    list(res, m = m)
  })
}


# Solve model
library(deSolve)
out <- ode(y = y_0, times = times, func = bit, parms = P)
out.df <- as.data.frame(out)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
I have come up with a number of ideas, but I either haven't been able to
get them to work or don't know if R has a command for it:

1. Nested "if" statements with something to track time (as shown above).
One issue here is* t-start *is redefined with each time step in the ode
solver so *t* never reaches *t_start +delay*.

2. Event triggered changes. From the examples I have found (link
<https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf> p.
24-25), the time at which the event happens is either pre-set or occurs at
a root of the ODE.  Also- would this strategy require multiple events? One
event in which the variable crossing the threshold triggers a timer,
another for the timer triggering the parameter change?

3. Lagvalue. This might take care of the time lag component, but I am still
struggling to understand (1) how lagvalue works and (2) how to integrate
both the threshold and timer components.

   if ( D < D_T )
     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
   end

4. Sigmoidal function. Someone suggested this to me earlier, but I am not
sure how this would work. Is it possible to have a sigmoidal function that
switches repeatedly between two states (as opposed to the characteristic S
curve that transitions once from one state to another)?

5. Mathmematica has a WhenEvent function- is there something similar in R?


Thank you for your time and any tips you might have!

	[[alternative HTML version deleted]]



From M@rk@Fow|er @end|ng |rom d|o-mpo@gc@c@  Wed Apr 18 12:36:34 2018
From: M@rk@Fow|er @end|ng |rom d|o-mpo@gc@c@ (Fowler, Mark)
Date: Wed, 18 Apr 2018 10:36:34 +0000
Subject: [R] Hacked
In-Reply-To: <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
Message-ID: <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>

Seems it must be the R-list. A horde of ?solicitation? emails began arriving about 27 minutes after I posted about not seeing any! Had left work by that time, so did not encounter them until now.

From: Mark Leeds [mailto:markleeds2 at gmail.com]
Sent: April 18, 2018 12:33 AM
To: Rui Barradas
Cc: Ding, Yuan Chun; Fowler, Mark; Luis Puerto; Peter Langfelder; R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi All: I lately get a lot more spam-porn type emails lately also but I don't know if they are due to me being on
the R-list.


On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>> wrote:
Hello,

Nor do I, no gmail, also got spam.

Rui Barradas

On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
No, I do not use gmail, still got dirty spam email twice.

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Fowler, Mark
Sent: Tuesday, April 17, 2018 12:32 PM
To: Luis Puerto; Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Luis Puerto
Sent: April 17, 2018 4:11 PM
To: Peter Langfelder
Cc: R-Help ML R-Project; Neotropical bat risk assessments
Subject: Re: [R] Hacked

Hi!

This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com<mailto:peter.langfelder at gmail.com>> wrote:

I got some spam emails after my last post to the list, and the emails
did not seem to go through r-help. The spammers may be subscribed to
the r-help, or they get the poster emails from some of the web copies
of this list (nabble or similar).

Peter

On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com<mailto:ulrik.stervbo at gmail.com>> wrote:
I asked the moderators about it. This is the reply

"Other moderators have looked into this a bit and may be able to shed
more light on it. This is a "new" tactic where the spammers appear to
reply to the r-help post. They are not, however, going through the r-help server.

It also seems that this does not happen to everyone.

I am not sure how you can automatically block the spammers.

Sorry I cannot be of more help."

--Ulrik

Jeff Newmiller <jdnewmil at dcn.davis.ca.us<mailto:jdnewmil at dcn.davis.ca.us>> schrieb am Di., 17. Apr.
2018,
14:59:
Likely a spammer has joined the mailing list and is auto-replying to
posts made to the list. Unlikely that the list itself has been
"hacked". Agree that it is obnoxious.

On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
neotropical.bats at gmail.com<mailto:neotropical.bats at gmail.com>> wrote:
Hi all,

Site has been hacked?
Bad SPAM arriving

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From @@h|mk@poor @end|ng |rom gm@||@com  Wed Apr 18 13:13:30 2018
From: @@h|mk@poor @end|ng |rom gm@||@com (Ashim Kapoor)
Date: Wed, 18 Apr 2018 16:43:30 +0530
Subject: [R] Understanding which
Message-ID: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>

Dear All,

Here is a reprex:

> x<- 1:100
> x[-which(x>100)]
integer(0)

In words, I am finding out which indices correspond to values in x which
are  greater than  100 ( there are no such items ) . Then I remove those
indices. I should get back the x that I started with since there are no
items in x which are bigger than 100 . Instead, it is returning an empty
vector.

Why is this ? What am I misunderstanding?

Best Regards,
Ashim

	[[alternative HTML version deleted]]



From er|cjberger @end|ng |rom gm@||@com  Wed Apr 18 13:21:16 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 18 Apr 2018 14:21:16 +0300
Subject: [R] Understanding which
In-Reply-To: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
Message-ID: <CAGgJW76M+8+P-yRVhypssb+EF444PUUXHMnUTv__fU6=qdfsLQ@mail.gmail.com>

Here's a hint:

> y <- which(x>100)
> identical(y,y)
# TRUE
> identical(y,-y)
# TRUE

The '-' is misleading - it is absorbed into the empty y, leaving the
request x[y] to be x for an empty set of indices.

HTH,
Eric



On Wed, Apr 18, 2018 at 2:13 PM, Ashim Kapoor <ashimkapoor at gmail.com> wrote:

> Dear All,
>
> Here is a reprex:
>
> > x<- 1:100
> > x[-which(x>100)]
> integer(0)
>
> In words, I am finding out which indices correspond to values in x which
> are  greater than  100 ( there are no such items ) . Then I remove those
> indices. I should get back the x that I started with since there are no
> items in x which are bigger than 100 . Instead, it is returning an empty
> vector.
>
> Why is this ? What am I misunderstanding?
>
> Best Regards,
> Ashim
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Apr 18 13:26:49 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 06:26:49 -0500
Subject: [R] Understanding which
In-Reply-To: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
Message-ID: <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>

Look at

which(x>100)

This is a zero-length vector. The negative of nothing is nothing, not a list of all possible index values.

Do you want

x[ !( x > 100 ) ]

?

On April 18, 2018 6:13:30 AM CDT, Ashim Kapoor <ashimkapoor at gmail.com> wrote:
>Dear All,
>
>Here is a reprex:
>
>> x<- 1:100
>> x[-which(x>100)]
>integer(0)
>
>In words, I am finding out which indices correspond to values in x
>which
>are  greater than  100 ( there are no such items ) . Then I remove
>those
>indices. I should get back the x that I started with since there are no
>items in x which are bigger than 100 . Instead, it is returning an
>empty
>vector.
>
>Why is this ? What am I misunderstanding?
>
>Best Regards,
>Ashim
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From @@h|mk@poor @end|ng |rom gm@||@com  Wed Apr 18 13:48:15 2018
From: @@h|mk@poor @end|ng |rom gm@||@com (Ashim Kapoor)
Date: Wed, 18 Apr 2018 17:18:15 +0530
Subject: [R] Understanding which
In-Reply-To: <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>
References: <CAC8=1eossLOBapYEf3VeTYuOm8Gq7-u-jyQ+b-WrKeMzf9Qb1Q@mail.gmail.com>
 <BEC5983A-9813-44D9-A455-08E46FAA2452@dcn.davis.ca.us>
Message-ID: <CAC8=1eoSHyDCBybZOD4AC8fPFNi3KXsQVYqMETCqReOfikk=Fg@mail.gmail.com>

Dear Jeff and Eric,

Okay and many thanks.
Best Regards,
Ashim

On Wed, Apr 18, 2018 at 4:56 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Look at
>
> which(x>100)
>
> This is a zero-length vector. The negative of nothing is nothing, not a
> list of all possible index values.
>
> Do you want
>
> x[ !( x > 100 ) ]
>
> ?
>
> On April 18, 2018 6:13:30 AM CDT, Ashim Kapoor <ashimkapoor at gmail.com>
> wrote:
> >Dear All,
> >
> >Here is a reprex:
> >
> >> x<- 1:100
> >> x[-which(x>100)]
> >integer(0)
> >
> >In words, I am finding out which indices correspond to values in x
> >which
> >are  greater than  100 ( there are no such items ) . Then I remove
> >those
> >indices. I should get back the x that I started with since there are no
> >items in x which are bigger than 100 . Instead, it is returning an
> >empty
> >vector.
> >
> >Why is this ? What am I misunderstanding?
> >
> >Best Regards,
> >Ashim
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]



From mrgu|||oy|e @end|ng |rom gm@||@com  Wed Apr 18 12:48:17 2018
From: mrgu|||oy|e @end|ng |rom gm@||@com (Mathew Guilfoyle)
Date: Wed, 18 Apr 2018 11:48:17 +0100
Subject: [R] mgcv::gamm error when combining random smooths and
 correlation/autoregressive term
Message-ID: <B9A0D117-B6AB-42E7-9630-E0D21294DC90@gmail.com>

I am having difficulty fitting a mgcv::gamm model that includes both a random smooth term (i.e. 'fs' smooth) and autoregressive errors.  Standard smooth terms with a factor interaction using the 'by=' option work fine.  Both on my actual data and a toy example (below) I am getting the same error so am inclined to wonder if this is either a bug or a model that gamm is simply unable to fit?

Any insight or suggestions would be much appreciated.

M


Example:

library('mgcv')
set.seed(1)
df = data.frame(index=rep(1:10,5), x=runif(50,0,1), subject = as.factor(sort(rep(1:5,10))))

# random intercept
m1 = gamm(x~s(index), random=list(subject=~1), data=df, method = 'REML')

#factor interaction, random intercept, AR errors
m2 = gamm(x~s(index, by=subject), random=list(subject=~1), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

#factor interaction, random intercept and slope, AR errors
m3 = gamm(x~s(index, by=subject), random=list(subject=~index), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

#random smooth on its own works ok
m4 = gamm(x~s(index, subject, bs='fs'), data=df, method = 'REML')


#combination of 'fs' smooth and AR term generates the error: "Error in matrix(0, size.cg[i], size.cg[i]) : object 'size.cg' not found"
#the grouping term ( |subject ) is redundant in corAR1 as the mgcv documentation indicates that gamm will assume the grouping 
#from the random smooth term; the same error happens irrespective of whether the grouping is included in corAR1 or not.

m5 = gamm(x~s(index, subject, bs='fs'), correlation=corAR1(form=~index|subject), data=df, method = 'REML')

From Anne@Ch@tton @end|ng |rom hcuge@ch  Wed Apr 18 15:26:30 2018
From: Anne@Ch@tton @end|ng |rom hcuge@ch (CHATTON Anne)
Date: Wed, 18 Apr 2018 13:26:30 +0000
Subject: [R] Problem with regression line
Message-ID: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>

Hello,

I am trying to graph a regression line using the followings:

Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
144, 130, 125, 175)
SimpleLinearReg1=lm(Age ~ BloodPressure)
summary(SimpleLinearReg1)
eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
abline(SimpleLinearReg1, col="red")
mean(Age)
mean(BloodPressure)
abline(h=142.53, col="green")
abline(v=45.13, col="green")

But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.

Anne

	[[alternative HTML version deleted]]



From |orenzo@|@e||@ @end|ng |rom gm@||@com  Wed Apr 18 15:47:21 2018
From: |orenzo@|@e||@ @end|ng |rom gm@||@com (Lorenzo Isella)
Date: Wed, 18 Apr 2018 15:47:21 +0200
Subject: [R] Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
Message-ID: <20180418134721.aucxmerudjxk6hlj@chicca2>

Dear All,
Ages ago I posted to this mailing list asking for advice about to
evangelize the use of R in an international public
administration where the fact that R is free is not a decisive factor
(actually its being "freeware" may even be seen negatively). After a
long time, I think it is worthwhile asking the question again and see
what suggestions other users have.

Another question related to that: let's say you have the possibility
to give a short course (most likely short of 10 hours) to people
who are not trained in statistics (people with a background in
international relations or political scientists frustrated at Excel
and who sometimes have to do a number of repetitive tasks). How would
you formulate a short training to make them not R proficient users,
but aware and looking forward to learning more about R?
Any suggestion and/or pointer to online resources is appreciated.
Many thanks

Lorenzo



From dc@r|@on @end|ng |rom t@mu@edu  Wed Apr 18 15:58:05 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 13:58:05 +0000
Subject: [R] nMDS with R: missing values
In-Reply-To: <VI1PR03MB350167CA3083D6825B0CE42BC9B60@VI1PR03MB3501.eurprd03.prod.outlook.com>
References: <203BAAFF-AE4E-4E66-ACC9-69521B9F0380@plymouth.ac.uk>
 <c3b88714129540aa888f49e3852e3041@tamu.edu>
 <VI1PR03MB350167CA3083D6825B0CE42BC9B60@VI1PR03MB3501.eurprd03.prod.outlook.com>
Message-ID: <8e52b16027bd4b22b20bb6671cea71d1@tamu.edu>

I'm not sure how you are incorporating time period into your data structure. Typically we are looking at plots or assemblages as the rows and taxa as the columns. Time period adds a third dimension that could be added as blocks of rows. For example, depending on the resolution of your data, one approach would be to have up to 8 rows for each locality: Loc1.1000, Loc1.2000, . . . Loc1.8000. If a locality did not have certain millennia represented you would just leave them out.

David C

-----Original Message-----
From: Jessie Woodbridge <jessie.woodbridge at plymouth.ac.uk> 
Sent: Wednesday, April 18, 2018 3:42 AM
To: David L Carlson <dcarlson at tamu.edu>
Subject: RE: nMDS with R: missing values

Dear Prof Carlson,

Thank you for your reply. I'm using 'vegan' with 'vegdist' and 'bray'. I have a selection of datasets that cover different time periods (converted to z-scores), so a record that starts 5000 years ago would have missing data before this date when other records cover the last 8000 years. I need to build into the nMDS the fact that this isn't a zero score, but reflects absence of data. In the results it seems that datasets that cover the same time periods are being grouped together because they have zero values at the same times. I hope that makes sense. Any suggestions would be greatly appreciated.

There is no regular pattern to the position of the missing values, so I can't remove certain rows or columns. Thank you for the suggestion of using dist() and na.rm=TRUE. I will try using these approaches.

Kind regards,

Jessie

********************
Dr Jessie Woodbridge
Geography, Earth and Environmental Sciences B416, Portland Square, University of Plymouth, UK
01752 585920
Leverhulme Trust-funded ?Changing the face of the Mediterranean? project Leverhulme Trust-funded Deforesting Europe project

-----Original Message-----
From: David L Carlson <dcarlson at tamu.edu>
Sent: 17 April 2018 21:13
To: Jessie Woodbridge <jessie.woodbridge at plymouth.ac.uk>; r-help at r-project.org
Subject: RE: nMDS with R: missing values

I think you will have to provide some more information. What function/package are you using for nMDS (eg. isoMDS in MASS, monoMDS in vegan)? What function/package are you using to compute your distance/dissimilarities (eg. dist in stats, vegdist in vegan)?

Zero represents absence. It is not a missing value, so that part of your question is not clear.

The dist() function computes distance ignoring missing values if they are properly represented as NAs in the data. The vegdist() function does this if na.rm=TRUE.

The results will be affected by how much data is missing. It would be useful to know if the missing values are concentrated in particular rows or columns so that eliminating a few rows and columns could substantially reduce the percentage of missing values.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352


0-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Jessie Woodbridge
Sent: Tuesday, April 17, 2018 2:05 PM
To: r-help at r-project.org
Subject: [R] nMDS with R: missing values

Dear All,

I was wondering whether anyone might be able to provide some advice with an nMDS / R problem. I?m trying to run nMDS on a dataset that contains many missing values and was wondering how I can account for the missing values when running nMDS? It seems as though the data are being grouped depending on where the zero values appear. Any suggestions greatly appreciated. Thank you very much in advance.

Apologies if this message isn?t relevant to you.

Kind regards,

Jessie

________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
________________________________
[http://www.plymouth.ac.uk/images/email_footer.gif]<http://www.plymouth.ac.uk/worldclass>

This email and any files with it are confidential and intended solely for the use of the recipient to whom it is addressed. If you are not the intended recipient then copying, distribution or other use of the information contained is strictly prohibited and you should not rely on it. If you have received this email in error please let the sender know immediately and delete it from your system(s). Internet emails are not necessarily secure. While we take every care, Plymouth University accepts no responsibility for viruses and it is your responsibility to scan emails and their attachments. Plymouth University does not accept responsibility for any changes made after it was sent. Nothing in this email or its attachments constitutes an order for goods or services unless accompanied by an official order form.

From ted@h@rd|ng @end|ng |rom w|@ndre@@net  Wed Apr 18 15:58:21 2018
From: ted@h@rd|ng @end|ng |rom w|@ndre@@net (Ted Harding)
Date: Wed, 18 Apr 2018 14:58:21 +0100
Subject: [R] Hacked
In-Reply-To: <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>
References: <mailman.1.1508061601.444.r-help@r-project.org>
 <9ff923ac-fab2-127f-b0a2-86b78716c71a@gmail.com>
 <92DCD3CD-AE5E-425E-A261-049465513533@dcn.davis.ca.us>
 <CAKVAULOhv=peNvVt5G-NjtKt5b5bmjgjbsVitaSzac2RXk2_wQ@mail.gmail.com>
 <CA+hbrhUbF724SgtxV-6JVGNYKRGc-Ten-awg5uc6dG8me8ppSQ@mail.gmail.com>
 <B063487D-C3B0-4167-A66D-4B8EA9FCEA58@gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FCC1@SVNSBIOMBX02.ENT.dfo-mpo.ca>
 <A86C6438FB909A409DDEF926277952B6A7851D@PPWEXCH2KX14.coh.org>
 <dc8d1abd-a6d8-31d8-5f90-d4a25eb92a2c@sapo.pt>
 <CAHz+bWbwCMEzE+V2zACBWXvV2yqko4E8s=UyCH-f2FTBgUo3kQ@mail.gmail.com>
 <88388BFE50A61F408122CBAEB917FD574F87FE16@SVNSBIOMBX02.ENT.dfo-mpo.ca>
Message-ID: <1524059901.7095.8.camel@deb2.fort.knox.uk>

Not necessarily. The R-help archives are publicly accessible,
with a "sort by date" option. So if someone sets up a web=page
monitor which reports back when new messages appear there
(at the bpottom end), then their email addresses are readily
copied (subject to " at " --> "@".

Once they have the address then anything can happen!

Best wishes,
Ted (eagerly awaiting attempted seduction ... ).

On Wed, 2018-04-18 at 10:36 +0000, Fowler, Mark wrote:
> Seems it must be the R-list. A horde of ?solicitation? emails began arriving about 27 minutes after I posted about not seeing any! Had left work by that time, so did not encounter them until now.
> 
> From: Mark Leeds [mailto:markleeds2 at gmail.com]
> Sent: April 18, 2018 12:33 AM
> To: Rui Barradas
> Cc: Ding, Yuan Chun; Fowler, Mark; Luis Puerto; Peter Langfelder; R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi All: I lately get a lot more spam-porn type emails lately also but I don't know if they are due to me being on
> the R-list.
> 
> 
> On Tue, Apr 17, 2018 at 5:09 PM, Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>> wrote:
> Hello,
> 
> Nor do I, no gmail, also got spam.
> 
> Rui Barradas
> 
> On 4/17/2018 8:34 PM, Ding, Yuan Chun wrote:
> No, I do not use gmail, still got dirty spam email twice.
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Fowler, Mark
> Sent: Tuesday, April 17, 2018 12:32 PM
> To: Luis Puerto; Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> [Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]
> 
> 
> 
> 
> 
> Just an observation. I have not seen the spam you are discussing. Possibly it is specific to gmail addresses?
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>] On Behalf Of Luis Puerto
> Sent: April 17, 2018 4:11 PM
> To: Peter Langfelder
> Cc: R-Help ML R-Project; Neotropical bat risk assessments
> Subject: Re: [R] Hacked
> 
> Hi!
> 
> This happened to me also! I just got a spam email just after posting and then in following days I got obnoxious spam emails in my spam filter. As the others, I think that there is some kind of bot subscribed to the list, but also perhaps a spider or crawler monitoring the R-Help archive and getting email addresses there. Nabble is a possibility too.
> On 17 Apr 2018, at 21:50, Peter Langfelder <peter.langfelder at gmail.com<mailto:peter.langfelder at gmail.com>> wrote:
> 
> I got some spam emails after my last post to the list, and the emails
> did not seem to go through r-help. The spammers may be subscribed to
> the r-help, or they get the poster emails from some of the web copies
> of this list (nabble or similar).
> 
> Peter
> 
> On Tue, Apr 17, 2018 at 11:37 AM, Ulrik Stervbo <ulrik.stervbo at gmail.com<mailto:ulrik.stervbo at gmail.com>> wrote:
> I asked the moderators about it. This is the reply
> 
> "Other moderators have looked into this a bit and may be able to shed
> more light on it. This is a "new" tactic where the spammers appear to
> reply to the r-help post. They are not, however, going through the r-help server.
> 
> It also seems that this does not happen to everyone.
> 
> I am not sure how you can automatically block the spammers.
> 
> Sorry I cannot be of more help."
> 
> --Ulrik
> 
> Jeff Newmiller <jdnewmil at dcn.davis.ca.us<mailto:jdnewmil at dcn.davis.ca.us>> schrieb am Di., 17. Apr.
> 2018,
> 14:59:
> Likely a spammer has joined the mailing list and is auto-replying to
> posts made to the list. Unlikely that the list itself has been
> "hacked". Agree that it is obnoxious.
> 
> On April 17, 2018 5:01:10 AM PDT, Neotropical bat risk assessments <
> neotropical.bats at gmail.com<mailto:neotropical.bats at gmail.com>> wrote:
> Hi all,
> 
> Site has been hacked?
> Bad SPAM arriving
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
>         [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:28}}
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From Gerr|t@E|chner @end|ng |rom m@th@un|-g|e@@en@de  Wed Apr 18 16:07:39 2018
From: Gerr|t@E|chner @end|ng |rom m@th@un|-g|e@@en@de (Gerrit Eichner)
Date: Wed, 18 Apr 2018 16:07:39 +0200
Subject: [R] Problem with regression line
In-Reply-To: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
Message-ID: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>

Hi, Anne,

assign Age and Bloodpressure in the correct order
to the axes in your call to plot as in:

plot(y = Age, x = BloodPressure)
abline(SimpleLinearReg1)


  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------


Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
> Hello,
> 
> I am trying to graph a regression line using the followings:
> 
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
> 144, 130, 125, 175)
> SimpleLinearReg1=lm(Age ~ BloodPressure)
> summary(SimpleLinearReg1)
> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
> main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
> abline(SimpleLinearReg1, col="red")
> mean(Age)
> mean(BloodPressure)
> abline(h=142.53, col="green")
> abline(v=45.13, col="green")
> 
> But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.
> 
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


-- 

  Best regards  --  Gerrit
  Best regards  --  Gerrit Eichner
  Hth  --  Gerrit
  Viele Gr??e  --  Gerrit
  Viele Gr??e  --  Gerrit Eichner
  Viele Gr??e  --  GE
  Freundliche Gr??e  --  Gerrit Eichner
  Freundliche Gr??e  --  GE
  Gr??e  --  Gerrit
  Gr??e  --  Gerrit Eichner
  Gr??e  --  GE
  Gru?  --  G

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner



From dc@r|@on @end|ng |rom t@mu@edu  Wed Apr 18 16:12:36 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 14:12:36 +0000
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <1f941f6da2aa4a9cab1fdc3c06df78ca@tamu.edu>

Courses are good for people who are motivated to learn. It sounds like you need to generate the motivation first. Why not develop 4 - 5 case study examples? Kinds of analyses currently performed on Excel that would be easier to replicate and repeat using simple R scripts so that you are showing how it would be done in Excel and then how it would be done in R structuring the code so that running a similar analysis requires only minor adjustments in contrast to Excel which might involve copying formula blocks into a new spreadsheet tab or creating templates that fail and are hard to debug.

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Lorenzo Isella
Sent: Wednesday, April 18, 2018 8:47 AM
To: r-help at r-project.org
Subject: [R] Reasons to Use R in a Public Administrations and Ideas for a Short Training

Dear All,
Ages ago I posted to this mailing list asking for advice about to evangelize the use of R in an international public administration where the fact that R is free is not a decisive factor (actually its being "freeware" may even be seen negatively). After a long time, I think it is worthwhile asking the question again and see what suggestions other users have.

Another question related to that: let's say you have the possibility to give a short course (most likely short of 10 hours) to people who are not trained in statistics (people with a background in international relations or political scientists frustrated at Excel and who sometimes have to do a number of repetitive tasks). How would you formulate a short training to make them not R proficient users, but aware and looking forward to learning more about R?
Any suggestion and/or pointer to online resources is appreciated.
Many thanks

Lorenzo

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From E@Vettor@zz| @end|ng |rom uke@de  Wed Apr 18 16:24:30 2018
From: E@Vettor@zz| @end|ng |rom uke@de (Eik Vettorazzi)
Date: Wed, 18 Apr 2018 16:24:30 +0200
Subject: [R] Problem with regression line
In-Reply-To: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
Message-ID: <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>

Hi Anne,
I would suggest to change the linear model to lm(BloodPressure~Age), as
this model makes more sense in biological means (you would assume that
age influences pressure, not vice versa) and also obeys the statistical
assumption of weak exogeneity, that age can be measured without error,
at least compared to error-prone bp measures.

Cheers

Am 18.04.2018 um 16:07 schrieb Gerrit Eichner:
> Hi, Anne,
> 
> assign Age and Bloodpressure in the correct order
> to the axes in your call to plot as in:
> 
> plot(y = Age, x = BloodPressure)
> abline(SimpleLinearReg1)
> 
> 
> ?Hth? --? Gerrit
> 
> ---------------------------------------------------------------------
> Dr. Gerrit Eichner?????????????????? Mathematical Institute, Room 212
> gerrit.eichner at math.uni-giessen.de?? Justus-Liebig-University Giessen
> Tel: +49-(0)641-99-32104????????? Arndtstr. 2, 35392 Giessen, Germany
> http://www.uni-giessen.de/eichner
> ---------------------------------------------------------------------
> 
> 
> Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
>> Hello,
>>
>> I am trying to graph a regression line using the followings:
>>
>> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42,
>> 48, 45,
>> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
>> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
>> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160,
>> 158,
>> 144, 130, 125, 175)
>> SimpleLinearReg1=lm(Age ~ BloodPressure)
>> summary(SimpleLinearReg1)
>> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1))
>> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
>> main = eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)")
>> abline(SimpleLinearReg1, col="red")
>> mean(Age)
>> mean(BloodPressure)
>> abline(h=142.53, col="green")
>> abline(v=45.13, col="green")
>>
>> But I cannot get the regression line. Can anybody tell me what's wrong
>> with the codes ? I would appreciate very much. Thanks for any help.
>>
>> Anne
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 

-- 
Eik Vettorazzi

Department of Medical Biometry and Epidemiology
University Medical Center Hamburg-Eppendorf

Martinistrasse 52
building W 34
20246 Hamburg

Phone: +49 (0) 40 7410 - 58243
Fax:   +49 (0) 40 7410 - 57790
Web: www.uke.de/imbe
--

_____________________________________________________________________

Universit?tsklinikum Hamburg-Eppendorf; K?rperschaft des ?ffentlichen Rechts; Gerichtsstand: Hamburg | www.uke.de
Vorstandsmitglieder: Prof. Dr. Burkhard G?ke (Vorsitzender), Prof. Dr. Dr. Uwe Koch-Gromus, Joachim Pr?l?, Martina Saurin (komm.)
_____________________________________________________________________

SAVE PAPER - THINK BEFORE PRINTING

From dc@r|@on @end|ng |rom t@mu@edu  Wed Apr 18 16:31:18 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 14:31:18 +0000
Subject: [R] Problem with regression line
In-Reply-To: <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
 <bad7fd94-1411-c3e6-9e27-b80449169d97@uke.de>
Message-ID: <8c9f0b717e96416698996f522a54b33a@tamu.edu>

To expand on Eik Vettorazzi's answer:

Don't use html emails. When the mailing list converts it to plain text, it often re-wraps lines so that your code becomes jumbled.

First, you did not define coeff. You need to add

coeff <- coef(SimpleLinearReg1)

Second, you should use the formula you used for the regression in the plot command or the correct order (plot uses the first variable as the x-axis and the second variable as the y-axis while the formula specification uses the variable on the left of the tilde (~) as the y-axis and the variable on the right of the tilde as the x-axis. Your regression predicts age (response) from blood pressure (explanatory) so abline() assumes age is on the y-axis and blood pressure is on the x-axis, but you reversed that so the line is "plotted", but it is outside the plot window. 

Either change the regression formula to BloodPressure~Age (which makes more sense than predicting age from blood pressure) or change the plot command to plot(BloodPressure, Age, ...) and change the xlab to ylab and ylab to xlab).

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Eik Vettorazzi
Sent: Wednesday, April 18, 2018 9:25 AM
To: CHATTON Anne <Anne.Chatton at hcuge.ch>; r-help at R-project.org
Subject: Re: [R] Problem with regression line

Hi Anne,
I would suggest to change the linear model to lm(BloodPressure~Age), as this model makes more sense in biological means (you would assume that age influences pressure, not vice versa) and also obeys the statistical assumption of weak exogeneity, that age can be measured without error, at least compared to error-prone bp measures.

Cheers

Am 18.04.2018 um 16:07 schrieb Gerrit Eichner:
> Hi, Anne,
> 
> assign Age and Bloodpressure in the correct order to the axes in your 
> call to plot as in:
> 
> plot(y = Age, x = BloodPressure)
> abline(SimpleLinearReg1)
> 
> 
> ?Hth? --? Gerrit
> 
> ---------------------------------------------------------------------
> Dr. Gerrit Eichner?????????????????? Mathematical Institute, Room 212 
> gerrit.eichner at math.uni-giessen.de?? Justus-Liebig-University Giessen
> Tel: +49-(0)641-99-32104????????? Arndtstr. 2, 35392 Giessen, Germany 
> http://www.uni-giessen.de/eichner
> ---------------------------------------------------------------------
> 
> 
> Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
>> Hello,
>>
>> I am trying to graph a regression line using the followings:
>>
>> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 
>> 48, 45, 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69) 
>> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 
>> 162, 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 
>> 160, 158, 144, 130, 125, 175) SimpleLinearReg1=lm(Age ~ 
>> BloodPressure)
>> summary(SimpleLinearReg1)
>> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1)) 
>> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", main = 
>> eq, xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)") 
>> abline(SimpleLinearReg1, col="red")
>> mean(Age)
>> mean(BloodPressure)
>> abline(h=142.53, col="green")
>> abline(v=45.13, col="green")
>>
>> But I cannot get the regression line. Can anybody tell me what's 
>> wrong with the codes ? I would appreciate very much. Thanks for any help.
>>
>> Anne
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 

--
Eik Vettorazzi

Department of Medical Biometry and Epidemiology University Medical Center Hamburg-Eppendorf

Martinistrasse 52
building W 34
20246 Hamburg

Phone: +49 (0) 40 7410 - 58243
Fax:   +49 (0) 40 7410 - 57790
Web: www.uke.de/imbe
--

_____________________________________________________________________

Universit?tsklinikum Hamburg-Eppendorf; K?rperschaft des ?ffentlichen Rechts; Gerichtsstand: Hamburg | www.uke.de
Vorstandsmitglieder: Prof. Dr. Burkhard G?ke (Vorsitzender), Prof. Dr. Dr. Uwe Koch-Gromus, Joachim Pr?l?, Martina Saurin (komm.) _____________________________________________________________________

SAVE PAPER - THINK BEFORE PRINTING
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From Anne@Ch@tton @end|ng |rom hcuge@ch  Wed Apr 18 16:28:22 2018
From: Anne@Ch@tton @end|ng |rom hcuge@ch (CHATTON Anne)
Date: Wed, 18 Apr 2018 14:28:22 +0000
Subject: [R] Problem with regression line
In-Reply-To: <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
References: <711c6e7437b7444aa2e9e17b5b605a48@wexchprod08.huge.ad.hcuge.ch>
 <418e910a-e2cc-9e99-322a-d0834bc4c64f@math.uni-giessen.de>
Message-ID: <258038b5ee4f483c9fd7decbb3b85645@wexchprod08.huge.ad.hcuge.ch>

Hi Gerrit!
Thank you so much! I mistakenly reversed the order of the variables of the regression. Actually what I meant to write was: lm(BloodPressure ~ Age).
Best,
Anne

-----Message d'origine-----
De?: Gerrit Eichner [mailto:Gerrit.Eichner at math.uni-giessen.de] 
Envoy??: mercredi 18 avril 2018 16:08
??: CHATTON Anne; r-help at R-project.org
Objet?: Re: [R] Problem with regression line

Hi, Anne,

assign Age and Bloodpressure in the correct order to the axes in your call to plot as in:

plot(y = Age, x = BloodPressure)
abline(SimpleLinearReg1)


  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------


Am 18.04.2018 um 15:26 schrieb CHATTON Anne via R-help:
> Hello,
> 
> I am trying to graph a regression line using the followings:
> 
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 
> 48, 45, 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69) 
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 
> 162, 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 
> 160, 158, 144, 130, 125, 175) SimpleLinearReg1=lm(Age ~ BloodPressure)
> summary(SimpleLinearReg1)
> eq = paste0("y = ", round(coeff[2],1), "*x ", round(coeff[1],1)) 
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", main = eq, 
> xlab = "Age (Year)", ylab = "Blood Pressure (mmHg)") 
> abline(SimpleLinearReg1, col="red")
> mean(Age)
> mean(BloodPressure)
> abline(h=142.53, col="green")
> abline(v=45.13, col="green")
> 
> But I cannot get the regression line. Can anybody tell me what's wrong with the codes ? I would appreciate very much. Thanks for any help.
> 
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


-- 

  Best regards  --  Gerrit
  Best regards  --  Gerrit Eichner
  Hth  --  Gerrit
  Viele Gr??e  --  Gerrit
  Viele Gr??e  --  Gerrit Eichner
  Viele Gr??e  --  GE
  Freundliche Gr??e  --  Gerrit Eichner
  Freundliche Gr??e  --  GE
  Gr??e  --  Gerrit
  Gr??e  --  Gerrit Eichner
  Gr??e  --  GE
  Gru?  --  G

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed Apr 18 18:09:46 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 18 Apr 2018 09:09:46 -0700
Subject: [R] Event-triggered change in value with a time-delay
In-Reply-To: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
References: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
Message-ID: <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>


> On Apr 18, 2018, at 1:04 AM, Hannah Meredith <hrmeredith12 at gmail.com> wrote:
> 
> Hello,
> 
> I am solving a set of ODEs using deSolve and have run into a problem I
> would appreciate some advice on. One of the parameters (m) in the ODEs
> changes between two states when one of the variables (D) crosses a
> threshold (D_T) for the first time in either direction. Additionally, when
> the variable crosses the threshold (either by increasing or decreasing),
> there is a time delay (delay) before the parameter shifts values.

I think you migh not have fully reviewed the available functions in that package. Doing an sos::findFn-search on ODE's with time delay brings up help pages for the `dede` function in deSolve. 

For the conditional value of the within regime-fixed parameter `m`, couldn't you just use this:

    ... + m*(6.8+ 3.2*(D < D_T))

Caveat: very lightly tested in your toy example, which did generate a result where D cross that threshold without blowing up.

-- 

David.


> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Toy model:
> # define parameters
> P <- c(m = 10,
>       R_1 = 0.5,
>       R_2 = 0.1,
>       D_0 = 50,
>       D_T = 5,
>       delay = 3
> )
> # set initial values
> y_0 <- c(D = 0, Y = 1)
> 
> # set timesteps
> times <- seq(0, 100, length = 101)
> 
> # define function
> bit <- function(t,y,parms){
>  with(as.list(c(parms,y)),{
> 
> 
>    # How I would implement the change if there was no time delay
>    # m <- ifelse(D>=D_T, m*.68, m)
> 
>    # Option 1: nested if statements with time delay
>    # if (D >= D_T) {
>    #   t_start1 <- t + delay
>    #   if (t >= t_start1){
>    #     m <- 6.8
>    #   }
>    # }
>    # if (D < D_T) {
>    #   t_start2<- t + delay
>    #   if (t >= t_start2){
>    #     m <- 10
>    #   }
>    # }
> 
> 
>    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
> exp(-R_1 * t))
>    dY <- Y + m;
>    res <- c(dD, dY)
>    list(res, m = m)
>  })
> }
> 
> 
> # Solve model
> library(deSolve)
> out <- ode(y = y_0, times = times, func = bit, parms = P)
> out.df <- as.data.frame(out)
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> I have come up with a number of ideas, but I either haven't been able to
> get them to work or don't know if R has a command for it:
> 
> 1. Nested "if" statements with something to track time (as shown above).
> One issue here is* t-start *is redefined with each time step in the ode
> solver so *t* never reaches *t_start +delay*.
> 
> 2. Event triggered changes. From the examples I have found (link
> <https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf> p.
> 24-25), the time at which the event happens is either pre-set or occurs at
> a root of the ODE.  Also- would this strategy require multiple events? One
> event in which the variable crossing the threshold triggers a timer,
> another for the timer triggering the parameter change?
> 
> 3. Lagvalue. This might take care of the time lag component, but I am still
> struggling to understand (1) how lagvalue works and (2) how to integrate
> both the threshold and timer components.
> 
>   if ( D < D_T )
>     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
>   end
> 
> 4. Sigmoidal function. Someone suggested this to me earlier, but I am not
> sure how this would work. Is it possible to have a sigmoidal function that
> switches repeatedly between two states (as opposed to the characteristic S
> curve that transitions once from one state to another)?
> 
> 5. Mathmematica has a WhenEvent function- is there something similar in R?
> 
> 
> Thank you for your time and any tips you might have!
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From ycd|ng @end|ng |rom coh@org  Wed Apr 18 19:37:43 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Wed, 18 Apr 2018 17:37:43 +0000
Subject: [R] merge two data frame based on equal and unequal comparisons
Message-ID: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>

Dear R users,

I need to merge two data frames based on both equal and unequal comparisons.  The "sqldf" package used to work well , but today, I cannot resolve the following error by reinstallation of the sqldf package.   Can anyone suggest a different way to perform this kind of merge function?

Thank you,

Ding

> DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join DMS_log2pbde47 as b
+                            on a.chrom = b.chromosome and a.start <= b.MAPINFO and a.end >= b.MAPINFO" )
Error in get(as.character(FUN), mode = "function", envir = envir) :
  object 'as.AsIs' of mode 'function' was not found



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From m@rn@@w@g|ey @end|ng |rom gm@||@com  Wed Apr 18 19:55:40 2018
From: m@rn@@w@g|ey @end|ng |rom gm@||@com (Marna Wagley)
Date: Wed, 18 Apr 2018 10:55:40 -0700
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
Message-ID: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>

Hi R user,
Would you mind to help me on how I can change a value in a specific column
and row in a big table? but the column of the table is a factor (not
numeric).
Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA>
do you have any suggestions for me?

dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
"Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15,
12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15",
"34", "high", "low", "medium"), class = "factor")), .Names = c("Sites",
"temp", "precip"), class = "data.frame", row.names = c(NA, -5L
))
> dat[4:5, 3] <-"20"
Warning message:
In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
  invalid factor level, NA generated
Thanks,

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Apr 18 20:12:59 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 13:12:59 -0500
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
Message-ID: <3DE19F7A-8A24-4D98-9CA6-916967831A43@dcn.davis.ca.us>

I would recommend that you avoid converting (or letting R convert for you) your textual data values into factors until you have finished doing this kind of modification.

You can restore the column to character data type either re-reading it with the stringsAsFactors=FALSE option to read.table/read.csv functions, or by converting it:

dat[[ 3 ]] <- as.character( dat[[ 3 ]] )

and then your replacement will work.


On April 18, 2018 12:55:40 PM CDT, Marna Wagley <marna.wagley at gmail.com> wrote:
>Hi R user,
>Would you mind to help me on how I can change a value in a specific
>column
>and row in a big table? but the column of the table is a factor (not
>numeric).
>Here is an example. I want to change dat[4:5,3]<-"20" but it generated
>NA>
>do you have any suggestions for me?
>
>dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
>"Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15,
>12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label =
>c("15",
>"34", "high", "low", "medium"), class = "factor")), .Names = c("Sites",
>"temp", "precip"), class = "data.frame", row.names = c(NA, -5L
>))
>> dat[4:5, 3] <-"20"
>Warning message:
>In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
>  invalid factor level, NA generated
>Thanks,
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From dc@r|@on @end|ng |rom t@mu@edu  Wed Apr 18 20:13:21 2018
From: dc@r|@on @end|ng |rom t@mu@edu (David L Carlson)
Date: Wed, 18 Apr 2018 18:13:21 +0000
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
Message-ID: <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>

The simplest would be to convert precip to character and then back to a factor if you really want it to be a factor. This will also remove the levels that no longer exist.

str(dat)
# 'data.frame':   5 obs. of  3 variables:
#  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
#  $ temp  : num  14 15 12 12.5 17
#  $ precip: Factor w/ 5 levels "15","34","high",..: 3 4 5 2 1

dat$precip <- as.character(dat$precip)
dat[4:5, 3] <-"20"
dat$precip <- factor(dat$precip)

str(dat)
# 'data.frame':   5 obs. of  3 variables:
#  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
#  $ temp  : num  14 15 12 12.5 17
#  $ precip: Factor w/ 4 levels "20","high","low",..: 2 3 4 1 1

----------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77843-4352

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Marna Wagley
Sent: Wednesday, April 18, 2018 12:56 PM
To: r-help mailing list <r-help at r-project.org>
Subject: [R] How to replace numeric value in the column contains Text (Factor)?

Hi R user,
Would you mind to help me on how I can change a value in a specific column and row in a big table? but the column of the table is a factor (not numeric).
Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA> do you have any suggestions for me?

dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2", "Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15, 12, 12.5, 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15", "34", "high", "low", "medium"), class = "factor")), .Names = c("Sites", "temp", "precip"), class = "data.frame", row.names = c(NA, -5L
))
> dat[4:5, 3] <-"20"
Warning message:
In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
  invalid factor level, NA generated
Thanks,

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From m@rn@@w@g|ey @end|ng |rom gm@||@com  Wed Apr 18 20:25:23 2018
From: m@rn@@w@g|ey @end|ng |rom gm@||@com (Marna Wagley)
Date: Wed, 18 Apr 2018 11:25:23 -0700
Subject: [R] How to replace numeric value in the column contains Text
 (Factor)?
In-Reply-To: <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>
References: <CAMwU6B3vG6sTUXhxQrdgMcT0sbJ1+uTr46vskcrhbEeY7Eb83A@mail.gmail.com>
 <3ff7c5c0e683434b924a53e3a502909e@tamu.edu>
Message-ID: <CAMwU6B1QtUJf5UwZKZ5GMGsQE3t0Zh2SXfDo9j1ogpuDHdAVnQ@mail.gmail.com>

Hi David and Jeff,
Both ways worked for my table. it helped me a lot (I was really struggling
on it to change the values and thinking to do manually). You are great.
Thank you

On Wed, Apr 18, 2018 at 11:13 AM, David L Carlson <dcarlson at tamu.edu> wrote:

> The simplest would be to convert precip to character and then back to a
> factor if you really want it to be a factor. This will also remove the
> levels that no longer exist.
>
> str(dat)
> # 'data.frame':   5 obs. of  3 variables:
> #  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
> #  $ temp  : num  14 15 12 12.5 17
> #  $ precip: Factor w/ 5 levels "15","34","high",..: 3 4 5 2 1
>
> dat$precip <- as.character(dat$precip)
> dat[4:5, 3] <-"20"
> dat$precip <- factor(dat$precip)
>
> str(dat)
> # 'data.frame':   5 obs. of  3 variables:
> #  $ Sites : Factor w/ 5 levels "Site1","Site2",..: 1 2 3 4 5
> #  $ temp  : num  14 15 12 12.5 17
> #  $ precip: Factor w/ 4 levels "20","high","low",..: 2 3 4 1 1
>
> ----------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77843-4352
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Marna Wagley
> Sent: Wednesday, April 18, 2018 12:56 PM
> To: r-help mailing list <r-help at r-project.org>
> Subject: [R] How to replace numeric value in the column contains Text
> (Factor)?
>
> Hi R user,
> Would you mind to help me on how I can change a value in a specific column
> and row in a big table? but the column of the table is a factor (not
> numeric).
> Here is an example. I want to change dat[4:5,3]<-"20" but it generated NA>
> do you have any suggestions for me?
>
> dat<-structure(list(Sites = structure(1:5, .Label = c("Site1", "Site2",
> "Site3", "Site4", "Site5"), class = "factor"), temp = c(14, 15, 12, 12.5,
> 17), precip = structure(c(3L, 4L, 5L, 2L, 1L), .Label = c("15", "34",
> "high", "low", "medium"), class = "factor")), .Names = c("Sites", "temp",
> "precip"), class = "data.frame", row.names = c(NA, -5L
> ))
> > dat[4:5, 3] <-"20"
> Warning message:
> In `[<-.factor`(`*tmp*`, iseq, value = c("20", "20")) :
>   invalid factor level, NA generated
> Thanks,
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ycd|ng @end|ng |rom coh@org  Wed Apr 18 22:43:05 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Wed, 18 Apr 2018 20:43:05 +0000
Subject: [R] merge two data frame based on equal and unequal comparisons
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7EDFE@PPWEXCH2KX14.coh.org>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7EF4A@PPWEXCH2KX14.coh.org>

HI All,

I found that other R users experienced the same problem when using sqldf package. An expert provided solution, adding "method="raw" at the end as below, one or more of the columns in my data.frame are of class "AsIs" ( I don't know what it is) .  When sqldf retrieves the result from SQLite it will be numeric or character and since it was originally of class AsIs,  it tries to convert it back but R provides no as.AsIs,  so it fails; use method = "raw", so sqldf will not try to convert  the results from the database.

DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join DMS_log2pbde47 as b 
                           on a.chrom = b.chromo and a.start <= b.MAPINFO and a.end >= b.MAPINFO", method = "raw" )



-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Ding, Yuan Chun
Sent: Wednesday, April 18, 2018 10:38 AM
To: r-help at r-project.org
Subject: [R] merge two data frame based on equal and unequal comparisons

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Dear R users,

I need to merge two data frames based on both equal and unequal comparisons.  The "sqldf" package used to work well , but today, I cannot resolve the following error by reinstallation of the sqldf package.   Can anyone suggest a different way to perform this kind of merge function?

Thank you,

Ding

> DMRlog2pbde47DMS <- sqldf("select * from DMR_log2pbde47 as a left join 
> DMS_log2pbde47 as b
+                            on a.chrom = b.chromosome and a.start <= 
+ b.MAPINFO and a.end >= b.MAPINFO" )
Error in get(as.character(FUN), mode = "function", envir = envir) :
  object 'as.AsIs' of mode 'function' was not found



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:9}}



From |@rnoo@h_81 @end|ng |rom y@hoo@com  Wed Apr 18 23:23:09 2018
From: |@rnoo@h_81 @end|ng |rom y@hoo@com (Farnoosh Sheikhi)
Date: Wed, 18 Apr 2018 21:23:09 +0000 (UTC)
Subject: [R] Identifying columns with specific character
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
Message-ID: <289481473.1957521.1524086589801@mail.yahoo.com>

Hello,
I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example:?>? x <- c("$5", "$89", "$10", "$34")??>? y <- c(1:4)>? My.Data <- data.frame (x,y)> My.Data? ? x y1? $5 12 $89 23 $10 34 $34 4
I want to detect the columns with $ and remove the $ from the selected columns.I have tried?apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:??apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
Thanks.
	[[alternative HTML version deleted]]



From drj|m|emon @end|ng |rom gm@||@com  Thu Apr 19 00:19:11 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 19 Apr 2018 08:19:11 +1000
Subject: [R] Identifying columns with specific character
In-Reply-To: <289481473.1957521.1524086589801@mail.yahoo.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
Message-ID: <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>

Hi Farnoosh,
Perhaps this will help:

drop_dollar<-function(x) return(as.numeric(as.character(gsub("\\$","",x))))
sapply(My.Data,drop_dollar)

Jim

On Thu, Apr 19, 2018 at 7:23 AM, Farnoosh Sheikhi via R-help
<r-help at r-project.org> wrote:
> Hello,
> I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example: >  x <- c("$5", "$89", "$10", "$34")  >  y <- c(1:4)>  My.Data <- data.frame (x,y)> My.Data    x y1  $5 12 $89 23 $10 34 $34 4
> I want to detect the columns with $ and remove the $ from the selected columns.I have tried apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:  apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
> Thanks.
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Apr 19 00:27:14 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Apr 2018 17:27:14 -0500
Subject: [R] Identifying columns with specific character
In-Reply-To: <289481473.1957521.1524086589801@mail.yahoo.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
Message-ID: <199EB13B-9AC6-4B6F-8C9A-8ED76B10229D@dcn.davis.ca.us>

Your message came through all messed up because you did not tell your email program to use plain text format. This at best delays a responds and at worst prevents us from understanding your question as you intended.

1) The columns became factors when you created the data frame because you did not include the stringsAsFactors=FALSE argument. The apply function does NOT turn the columns to factors. 

2) Your use of "x <-" in your apply function is misleading, though not destructive. Just omit that assignment. 

dta2 <- apply(My.Data, 2, function (x) gsub("\\$", "", x)))

On April 18, 2018 4:23:09 PM CDT, Farnoosh Sheikhi via R-help <r-help at r-project.org> wrote:
>Hello,
>I have a data frame with 400 columns and wanted to filter character
>columns with "$" in it.For example:?>? x <- c("$5", "$89", "$10",
>"$34")??>? y <- c(1:4)>? My.Data <- data.frame (x,y)> My.Data? ? x y1?
>$5 12 $89 23 $10 34 $34 4
>I want to detect the columns with $ and remove the $ from the selected
>columns.I have tried?apply(My.Data, 2, function (x) any(grepl("$", x)))
>but it's not really working.Or:??apply(My.Data, 2,
>function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns
>to a factor.
>Thanks.
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From jho|tm@n @end|ng |rom gm@||@com  Thu Apr 19 06:52:37 2018
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Wed, 18 Apr 2018 21:52:37 -0700
Subject: [R] how to write a loop to repetitive jobs
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A78077@PPWEXCH2KX14.coh.org>
Message-ID: <CAAxdm-6jvz53qr7rrxJcQq+k=-qxqwdrcGxJs9xisF0txb6u-Q@mail.gmail.com>

Try this:


result <- lapply(71:75, function(x){
    # use 'paste0' to add the number to the file name
    input <-
read.csv(paste0("C:/Awork/geneAssociation/removed8samples/neuhausen",
                    x,
                    "/seg.pr3.csv")
                    , head=TRUE
            )
    input$id <- paste0("sn", x)
    input  # return the input
    })

result <- do.call(rbind, result)  # combine dataframes together
?


Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.

On Mon, Apr 16, 2018 at 1:54 PM, Ding, Yuan Chun <ycding at coh.org> wrote:

> Hi All..,
>
> I need to do the following repetitive jobs:
>
> seg71 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen71/seg.pr3.csv",
> head=T)
> seg71$id <-"sn71"
>
> seg72 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen72/seg.pr3.csv",
> head=T)
> seg72$id <-"sn72"
>
> seg73 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen73/seg.pr3.csv",
> head=T)
> seg73$id <-"sn73"
>
> seg74 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen74/seg.pr3.csv",
> head=T)
> seg74$id <-"sn74"
>
> seg75 <- read.csv("C:/Awork/geneAssociation/removed8samples/neuhausen75/seg.pr3.csv",
> head=T)
> seg75$id <-"sn75"
>
> seg <- rbind (seg71, seg72, seg73, seg74, seg75)
>
> I want to write a loop to do it;
>
> For ( d in 71:75) {
>   Dir<-paste("C:/Awork/geneAssociation/removed8samples/neuhausen", i,
> sep="")
>   setwd(Dir)
> ..........
> then I do not know how to create objects seg71 to seg75;  in SAS, it would
> be  seg&d    ;
>
> I like R, but not good at R.
>
> Can you help me?
>
> Thank you,
>
> Ding
>
>
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:13}}



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Apr 19 07:01:45 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 06:01:45 +0100
Subject: [R] Identifying columns with specific character
In-Reply-To: <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>
References: <289481473.1957521.1524086589801.ref@mail.yahoo.com>
 <289481473.1957521.1524086589801@mail.yahoo.com>
 <CA+8X3fWKukKg5D6W2KKSGw2p8HapfMibsLsoxC_pQ5MM-cOfJA@mail.gmail.com>
Message-ID: <e63bae6e-869c-7a0c-c483-d4780b3eb906@sapo.pt>

Hello,

To the OP:
The dollar sign is a meta character, so it must be escaped, that is what 
was wrong with your code. The right regular expression would be

grepl("\\$", x)

When a regular expression doesn't work, try reading the help page ?regex.

Another good source you can try is

https://regex101.com


Hope this helps,

Rui Barradas

On 4/18/2018 11:19 PM, Jim Lemon wrote:
> Hi Farnoosh,
> Perhaps this will help:
> 
> drop_dollar<-function(x) return(as.numeric(as.character(gsub("\\$","",x))))
> sapply(My.Data,drop_dollar)
> 
> Jim
> 
> On Thu, Apr 19, 2018 at 7:23 AM, Farnoosh Sheikhi via R-help
> <r-help at r-project.org> wrote:
>> Hello,
>> I have a data frame with 400 columns and wanted to filter character columns with "$" in it.For example: >  x <- c("$5", "$89", "$10", "$34")  >  y <- c(1:4)>  My.Data <- data.frame (x,y)> My.Data    x y1  $5 12 $89 23 $10 34 $34 4
>> I want to detect the columns with $ and remove the $ from the selected columns.I have tried apply(My.Data, 2, function (x) any(grepl("$", x))) but it's not really working.Or:  apply(My.Data, 2, function(x){x<-gsub("\\$", "", x)}) works but it turns all the columns to a factor.
>> Thanks.
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From neotrop|c@|@b@t@ @end|ng |rom gm@||@com  Thu Apr 19 13:45:44 2018
From: neotrop|c@|@b@t@ @end|ng |rom gm@||@com (Neotropical bat risk assessments)
Date: Thu, 19 Apr 2018 07:45:44 -0400
Subject: [R] Syntax for capturing and writing file names
In-Reply-To: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
References: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
Message-ID: <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>

Hi all,

I am looking for syntax to read a list of *txt files, (loop through?) 
each with a different data content but same fields, then run lines of 
code to produce summary stats (I have working code for this) and add the 
matching data file name when writing the results of a line of R code.?? 
Suggestions on any package vignettes that may be useful welcomed.

My manual code for this is below and need to understand how to have the 
"DataFile" name changed to match the name of each data file as it is 
read and processed.

*write.csv(BatStats,file="C:\\=Bat data working\\Acoustic 
Parameters\\DataFile_Stats.csv")*

-- 

Bruce W. Miller, PhD.
Neotropical bat risk assessments
Conservation Fellow - Wildlife Conservation Society

If we lose the bats, we may lose much of the tropical vegetation and the lungs of the planet

Using acoustic sampling to identify and map species distributions for >25 years.

Providing free Interactive identification keys and call fact sheets for the vocal signatures of New World Bats


	[[alternative HTML version deleted]]



From Ke|th@Jewe|| @end|ng |rom c@mpdenbr|@co@uk  Thu Apr 19 11:00:35 2018
From: Ke|th@Jewe|| @end|ng |rom c@mpdenbr|@co@uk (Keith Jewell)
Date: Thu, 19 Apr 2018 10:00:35 +0100
Subject: [R] Question
In-Reply-To: <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
Message-ID: <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>

On 15/04/2018 17:26, Marc Girondot via R-help wrote:
> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit?:
>> break-down point
> 
> Can you explain more what you plan to do and give an example of what you 
> have tried to do until now to do a "break down point" in R. Perhaps a 
> "break down point" is common in your field, but I have no idea about 
> what it is !
> 
> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
> 
> Sincerely
> 
> Marc
> 
Perhaps the OP means "breakpoint" in which case the 'strucchange' 
package might be relevant 
<https://cran.r-project.org/web/packages/strucchange/index.html>



From hrmered|th12 @end|ng |rom gm@||@com  Thu Apr 19 15:36:04 2018
From: hrmered|th12 @end|ng |rom gm@||@com (Hannah Meredith)
Date: Thu, 19 Apr 2018 14:36:04 +0100
Subject: [R] Event-triggered change in value with a time-delay
In-Reply-To: <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>
References: <CAE6OfuqDuKZ+7yey3LLa7a+LSxv3HwO2ZaMR___G4h5YM+L=Pg@mail.gmail.com>
 <5DB57514-BDF1-4355-85D2-4A312396DBDC@comcast.net>
Message-ID: <CAE6OfupGyw1oqm5XK_1axqc1pq-EkTadYo7vAzsUOQg=15yQpA@mail.gmail.com>

Hi David,

Thank you for your suggestion- I will look into it some more.

Thanks again,
Hannah

On Wed, Apr 18, 2018 at 5:09 PM, David Winsemius <dwinsemius at comcast.net>
wrote:

>
> > On Apr 18, 2018, at 1:04 AM, Hannah Meredith <hrmeredith12 at gmail.com>
> wrote:
> >
> > Hello,
> >
> > I am solving a set of ODEs using deSolve and have run into a problem I
> > would appreciate some advice on. One of the parameters (m) in the ODEs
> > changes between two states when one of the variables (D) crosses a
> > threshold (D_T) for the first time in either direction. Additionally,
> when
> > the variable crosses the threshold (either by increasing or decreasing),
> > there is a time delay (delay) before the parameter shifts values.
>
> I think you migh not have fully reviewed the available functions in that
> package. Doing an sos::findFn-search on ODE's with time delay brings up
> help pages for the `dede` function in deSolve.
>
> For the conditional value of the within regime-fixed parameter `m`,
> couldn't you just use this:
>
>     ... + m*(6.8+ 3.2*(D < D_T))
>
> Caveat: very lightly tested in your toy example, which did generate a
> result where D cross that threshold without blowing up.
>
> --
>
> David.
>
>
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> > Toy model:
> > # define parameters
> > P <- c(m = 10,
> >       R_1 = 0.5,
> >       R_2 = 0.1,
> >       D_0 = 50,
> >       D_T = 5,
> >       delay = 3
> > )
> > # set initial values
> > y_0 <- c(D = 0, Y = 1)
> >
> > # set timesteps
> > times <- seq(0, 100, length = 101)
> >
> > # define function
> > bit <- function(t,y,parms){
> >  with(as.list(c(parms,y)),{
> >
> >
> >    # How I would implement the change if there was no time delay
> >    # m <- ifelse(D>=D_T, m*.68, m)
> >
> >    # Option 1: nested if statements with time delay
> >    # if (D >= D_T) {
> >    #   t_start1 <- t + delay
> >    #   if (t >= t_start1){
> >    #     m <- 6.8
> >    #   }
> >    # }
> >    # if (D < D_T) {
> >    #   t_start2<- t + delay
> >    #   if (t >= t_start2){
> >    #     m <- 10
> >    #   }
> >    # }
> >
> >
> >    dD <- D_0 * (R_1 / (R_1 - R_2)) * (-R_2 * exp(-R_2 * t) + R_1 *
> > exp(-R_1 * t))
> >    dY <- Y + m;
> >    res <- c(dD, dY)
> >    list(res, m = m)
> >  })
> > }
> >
> >
> > # Solve model
> > library(deSolve)
> > out <- ode(y = y_0, times = times, func = bit, parms = P)
> > out.df <- as.data.frame(out)
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> > I have come up with a number of ideas, but I either haven't been able to
> > get them to work or don't know if R has a command for it:
> >
> > 1. Nested "if" statements with something to track time (as shown above).
> > One issue here is* t-start *is redefined with each time step in the ode
> > solver so *t* never reaches *t_start +delay*.
> >
> > 2. Event triggered changes. From the examples I have found (link
> > <https://cran.r-project.org/web/packages/deSolve/vignettes/deSolve.pdf>
> p.
> > 24-25), the time at which the event happens is either pre-set or occurs
> at
> > a root of the ODE.  Also- would this strategy require multiple events?
> One
> > event in which the variable crossing the threshold triggers a timer,
> > another for the timer triggering the parameter change?
> >
> > 3. Lagvalue. This might take care of the time lag component, but I am
> still
> > struggling to understand (1) how lagvalue works and (2) how to integrate
> > both the threshold and timer components.
> >
> >   if ( D < D_T )
> >     m<- ifelse(lagvalue(t-delay)<=0, 6.8, 10)
> >   end
> >
> > 4. Sigmoidal function. Someone suggested this to me earlier, but I am not
> > sure how this would work. Is it possible to have a sigmoidal function
> that
> > switches repeatedly between two states (as opposed to the characteristic
> S
> > curve that transitions once from one state to another)?
> >
> > 5. Mathmematica has a WhenEvent function- is there something similar in
> R?
> >
> >
> > Thank you for your time and any tips you might have!
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'
>  -Gehm's Corollary to Clarke's Third Law
>
>
>
>
>
>


-- 
Hannah Meredith | PhD
Whitaker Scholar
London School of Hygiene and Tropical Medicine

	[[alternative HTML version deleted]]



From d|@||ot@|@|r83 @end|ng |rom y@hoo@|r  Thu Apr 19 15:39:18 2018
From: d|@||ot@|@|r83 @end|ng |rom y@hoo@|r (A. Tafsir DIALLO)
Date: Thu, 19 Apr 2018 13:39:18 +0000 (UTC)
Subject: [R] calculates the standard error with the delta method
References: <1300121509.3484682.1524145158850.ref@mail.yahoo.com>
Message-ID: <1300121509.3484682.1524145158850@mail.yahoo.com>

I need your help because I am having difficulties to finalize an econometric model.By the way, I want to calculate the standard error with delta method in a 2sls model with interactions under R.I want to determine the total effect of the institutions (Institutions + D_MinMond * Institutions) on logYLby summing the estimated parameters of (Institutions) and (D_MinMond * Institutions);D_MinMond is a dummy taking 0 or 1. But I can not find the right code to calculate the standard error under RHere is the equation for this estimate:reg_iv2<-ivreg(logYL~Institutions+D_MinMond+D_MinMondInstitutions|xconst+xrreg+D_MinMond+D_MinMondInstitutions,data=bdd2)

Tafsir DialloCordially

	[[alternative HTML version deleted]]



From th|erry@onke||nx @end|ng |rom |nbo@be  Thu Apr 19 17:10:02 2018
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Thu, 19 Apr 2018 17:10:02 +0200
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <CAJuCY5wyjx1JEe6vrdzde8BF721L5qzGTHaDfYsQ7xzVAki+gw@mail.gmail.com>

Dear Lorenzo,

First of all I would focus on topics which immediately usable by your
audience. E.g. making figures and tables based on preprocessed data
files (txt, Excel, GoogleSheets, data base query, ...). And pick
examples in which the definition of the figures and tables remains
more or less stable but the data is updated with some frequency. In a
next step you could focus on processing the data.

I would even skip the step of writing R scripts and start with basic R
notebooks. The ability to include both plain text and code into one
source document is very useful for repetitive tasks. And you
significantly reduce the need to copy/paste results.

Think about a list of packages which you can recommend to your
audience. I would consider the tidyverse collection.

Best regards,



ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-18 15:47 GMT+02:00 Lorenzo Isella <lorenzo.isella at gmail.com>:
> Dear All,
> Ages ago I posted to this mailing list asking for advice about to
> evangelize the use of R in an international public
> administration where the fact that R is free is not a decisive factor
> (actually its being "freeware" may even be seen negatively). After a
> long time, I think it is worthwhile asking the question again and see
> what suggestions other users have.
>
> Another question related to that: let's say you have the possibility
> to give a short course (most likely short of 10 hours) to people
> who are not trained in statistics (people with a background in
> international relations or political scientists frustrated at Excel
> and who sometimes have to do a number of repetitive tasks). How would
> you formulate a short training to make them not R proficient users,
> but aware and looking forward to learning more about R?
> Any suggestion and/or pointer to online resources is appreciated.
> Many thanks
>
> Lorenzo
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Apr 19 17:25:28 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 16:25:28 +0100
Subject: [R] Syntax for capturing and writing file names
In-Reply-To: <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>
References: <mailman.349313.1.1524132001.40525.r-help@r-project.org>
 <1626062e-0647-3520-6b0b-22435f28de6d@gmail.com>
Message-ID: <01864e41-c83b-71db-c5c1-38bb80d9de92@sapo.pt>

Hello,

You can process several files at a time with repeated use of *appy 
functions. Something like the following (not tested).


# This first instruction may not be needed
old_dir <- setwd("path/to/txt/files")

# Get the filenames in a vector and read them in
txt_files <- list.files(pattern = ".*\\.txt")
txt_list <- lapply(txt_files, read.table, args)


In the above lapply command, args are the arguments to read.table. For 
instance, header = TRUE, stringsAsFactors = FALSE, etc.

Now put your summary stats code in a function and run it through the 
data.frames in the list. Then save the results as csv files.


stats_list <- lapply(txt_list, summary_stats_function)

csv_files <- sub("txt", "csv", txt_files)
lapply(seq_along(csv_files), function(i) write.csv(stats_list[[i]], 
csv_files[i]))

setwd(old_dir)    # reset, if needed


Hope this helps,

Rui Barradas



On 4/19/2018 12:45 PM, Neotropical bat risk assessments wrote:
> Hi all,
> 
> I am looking for syntax to read a list of *txt files, (loop through?)
> each with a different data content but same fields, then run lines of
> code to produce summary stats (I have working code for this) and add the
> matching data file name when writing the results of a line of R code.
> Suggestions on any package vignettes that may be useful welcomed.
> 
> My manual code for this is below and need to understand how to have the
> "DataFile" name changed to match the name of each data file as it is
> read and processed.
> 
> *write.csv(BatStats,file="C:\\=Bat data working\\Acoustic
> Parameters\\DataFile_Stats.csv")*
>



From o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r  Thu Apr 19 18:13:30 2018
From: o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r (Olivier Crouzet)
Date: Thu, 19 Apr 2018 18:13:30 +0200
Subject: [R] Question
In-Reply-To: <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
 <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
Message-ID: <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>

Hi,

I think he's talking about how much a statistical estimator is influenced by extreme datapoints, e.g.

https://en.m.wikipedia.org/wiki/Robust_statistics#Breakdown_point

Olivier


-- 
Olivier Crouzet 
Assistant Professor
@LLING UMR6310 - Universit? de Nantes / CNRS
Guest Scientist
@UMCG - University Medical Center Groningen / RijksUniversiteit Groningen

> Le 19 avr. 2018 ? 11:00, Keith Jewell <Keith.Jewell at campdenbri.co.uk> a ?crit :
> 
>> On 15/04/2018 17:26, Marc Girondot via R-help wrote:
>>> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit :
>>> break-down point
>> Can you explain more what you plan to do and give an example of what you have tried to do until now to do a "break down point" in R. Perhaps a "break down point" is common in your field, but I have no idea about what it is !
>> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
>> Sincerely
>> Marc
> Perhaps the OP means "breakpoint" in which case the 'strucchange' package might be relevant <https://cran.r-project.org/web/packages/strucchange/index.html>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]



From cry@n @end|ng |rom b|ngh@mton@edu  Thu Apr 19 18:28:19 2018
From: cry@n @end|ng |rom b|ngh@mton@edu (Christopher W Ryan)
Date: Thu, 19 Apr 2018 12:28:19 -0400
Subject: [R] 
 Reasons to Use R in a Public Administrations and Ideas for a
 Short Training
In-Reply-To: <20180418134721.aucxmerudjxk6hlj@chicca2>
References: <20180418134721.aucxmerudjxk6hlj@chicca2>
Message-ID: <CAM+rpY=x_v_sd9PtAObiBX6FoSz6+mzi_n1Sx2Nfh+9X17YwUg@mail.gmail.com>

A few years ago I gave two 5-hour workshops about R to a class of US high
school students in a somewhat-accelerated science research class (so these
were already science-motivated kids).  They had been using mainly Excel,
and some SPSS for which the school had a license.  Overall they seemed to
like the sessions. They started a computer programming club afterward, and
some continued to use R.

As for motivation, I found it helpful with the kids to contrast the
instructions for making a scatterplot in Excel, with the command in R.  You
can find many long documents on the internet describing how to do it in
Excel. Find a long one (I've seen 17 pages) filled with screenshots and
many numbered steps ("click here, then click there, then click over here .
. . ")  Then contrast it with something like plot(force, acceleration) or
plot(x,y)   It becomes pretty clear which is easier (postponing, for the
moment, the question of where x and y came from)

Showing cool graphs that could never be made in Excel is also helpful.

Lastly, in the international setting you describe, I would emphasize the
portability of code. Ask them how, with Excel, they would share their
analysis steps with colleagues in another country, for application to the
colleagues' data.

--Chris Ryan
Broome County Health Department
Binghamton, NY US

On Wed, Apr 18, 2018 at 9:47 AM, Lorenzo Isella <lorenzo.isella at gmail.com>
wrote:

> Dear All,
> Ages ago I posted to this mailing list asking for advice about to
> evangelize the use of R in an international public
> administration where the fact that R is free is not a decisive factor
> (actually its being "freeware" may even be seen negatively). After a
> long time, I think it is worthwhile asking the question again and see
> what suggestions other users have.
>
> Another question related to that: let's say you have the possibility
> to give a short course (most likely short of 10 hours) to people
> who are not trained in statistics (people with a background in
> international relations or political scientists frustrated at Excel
> and who sometimes have to do a number of repetitive tasks). How would
> you formulate a short training to make them not R proficient users,
> but aware and looking forward to learning more about R?
> Any suggestion and/or pointer to online resources is appreciated.
> Many thanks
>
> Lorenzo
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posti
> ng-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From ycd|ng @end|ng |rom coh@org  Thu Apr 19 20:20:37 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Thu, 19 Apr 2018 18:20:37 +0000
Subject: [R] create multiple categorical variables in a data frame using a
 loop
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>

Hi All,

I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.

pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
  cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
           &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
  }

However, I have additional 7 similar variables, so I wrote the following code, but it does not work.

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
cat.var <- paste0("cat.",i)
pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
                                  &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
})
                                                                                  }

Can you help me fix the problem?

Thank you,

Yuan Chun Ding
City of Hope National Medical Center



---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:22}}



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Apr 19 20:35:03 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 19 Apr 2018 19:35:03 +0100
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
Message-ID: <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>

Hello,

When programming it is better to use dat[["variable"]] than dat$variable.

So your code could be

pfas.pheno[[cat.var]] <- NA
pfas.pheno[[cat.var]][pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, 
na.rm =T)] <- 0

etc.

Untested.

Hope this helps,

Rui Barradas

On 4/19/2018 7:20 PM, Ding, Yuan Chun wrote:
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>    cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>             &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>    }
> 
> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                    &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                    }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycd|ng @end|ng |rom coh@org  Thu Apr 19 21:33:06 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Thu, 19 Apr 2018 19:33:06 +0000
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <3e5c414b-01e2-bae3-e87f-d2136973b2c8@sapo.pt>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F280@PPWEXCH2KX14.coh.org>

Hi Rui,

Thank you very much for your help!!  It works very well,  I got it.

Ding



-----Original Message-----
From: Rui Barradas [mailto:ruipbarradas at sapo.pt] 
Sent: Thursday, April 19, 2018 11:35 AM
To: Ding, Yuan Chun <ycding at coh.org>; r-help at r-project.org
Subject: Re: [R] create multiple categorical variables in a data frame using a loop

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]





Hello,

When programming it is better to use dat[["variable"]] than dat$variable.

So your code could be

pfas.pheno[[cat.var]] <- NA
pfas.pheno[[cat.var]][pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0

etc.

Untested.

Hope this helps,

Rui Barradas

On 4/19/2018 7:20 PM, Ding, Yuan Chun wrote:
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>    cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>    cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>             &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>    }
> 
> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA 
> eval(parse(text=cat.var))[pfas.pheno[,i] <= 
> quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0 
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2 eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                    &pfas.pheno[,i] <= 
> quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                    
> }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely 
> f...{{dropped:22}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From dw|n@em|u@ @end|ng |rom comc@@t@net  Thu Apr 19 22:22:28 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 19 Apr 2018 13:22:28 -0700
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
Message-ID: <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>


> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
> 
> Hi All,
> 
> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
> 
> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>  cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>  cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>           &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>  }

This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):

pfas.pheno <-within(pfas.pheno, {
 cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
 

`findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.


> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
> cat.var <- paste0("cat.",i)
> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA

Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.

Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:

 for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
             "log2me_pfosa_acoh"))  {
  cat.var <- paste0("cat.",i)
  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
                   envir=as.environment( get( pfas.pheno ) ) )

Best;
David.



> eval(parse(text=cat.var))[pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.25, na.rm =T)] <- 0
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.75, na.rm =T)] <- 2
> eval(parse(text=cat.var))[pfas.pheno[,i] >= quantile(pfas.pheno[,i],0.25, na.rm =T)
>                                  &pfas.pheno[,i] <= quantile(pfas.pheno[,i],0.75, na.rm =T)] < -1
> })
>                                                                                  }
> 
> Can you help me fix the problem?
> 
> Thank you,
> 
> Yuan Chun Ding
> City of Hope National Medical Center
> 
> 
> 
> ---------------------------------------------------------------------
> -SECURITY/CONFIDENTIALITY WARNING-
> This message (and any attachments) are intended solely...{{dropped:20}}



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr 20 03:58:25 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 19 Apr 2018 18:58:25 -0700
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
Message-ID: <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>


> On Apr 19, 2018, at 1:22 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
>> 
>> Hi All,
>> 
>> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
>> 
>> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA
>> cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)]<-0
>> cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2
>> cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>>          &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-1
>> }
> 
> This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):
> 
> pfas.pheno <-within(pfas.pheno, {
> cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
> 
> 
> `findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.
> 
> 
>> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
>> 
>> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
>> cat.var <- paste0("cat.",i)
>> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> 
> Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.
> 
> Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
>             "log2me_pfosa_acoh"))  {
>  cat.var <- paste0("cat.",i)
>  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
>                   envir=as.environment( get( pfas.pheno ) ) )

That wasn't good advice. I would rather suggest (but still untested in the absence of a good demo dataset from the OP):

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
            "log2me_pfosa_acoh"))  {
 cat.var <- paste0("cat.",i)
 pfas.pheno[[ cat.var ]] <-  findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } 

The "[[<-" function supports character values as column names during assignment.


> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Fri Apr 20 09:08:16 2018
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Fri, 20 Apr 2018 09:08:16 +0200
Subject: [R] Question "breakdown point" --> robust statistics
In-Reply-To: <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>
References: <VI1P192MB0029C98F9FECC8ABF48CFD96E0B10@VI1P192MB0029.EURP192.PROD.OUTLOOK.COM>
 <04099d4c-3b8e-745d-bcef-e8f024ce1025@yahoo.fr>
 <8f22db03-6ac4-1062-b461-ff8433f8c26e@campdenbri.co.uk>
 <8CBB318E-C614-4998-A924-88CFD87EA04A@univ-nantes.fr>
Message-ID: <23257.37344.708327.772528@stat.math.ethz.ch>

>>>>> Olivier Crouzet <olivier.crouzet at univ-nantes.fr>
>>>>>     on Thu, 19 Apr 2018 18:13:30 +0200 writes:

    > Hi,
    > I think he's talking about how much a statistical estimator is influenced by extreme datapoints, e.g.

    > https://en.m.wikipedia.org/wiki/Robust_statistics#Breakdown_point

    > Olivier

Definitely!  Thank you, Olivier.

I had not replied because the question looked more like homework
than something for which R-help is appropropriate.

There is the 'robustbase' package and more of a dozen other high
quality R packages about robust statistics -- in which
"breakdown point" is one crucial concept.

BTW: What econometricians tend to call "robust" is the idea
of using "sandwich" estimates (--> 'sandwich' package in R), aka
Newey-West aka HAC (Heteroscadisticity And Correlation adjusted) estimates.

Robust statistics in a proper sense considers "sensitivity" of
both estimates and their precision estimates in situations where
the distributional assumption (e.g. Gaussian errors) is only
approximately true, say 95% of the observations/errors/.. are Gaussian but the
remaining 5% can be anything (-> arbitrary extreme outliers).

There's the CRAN task view on robust statistical methods:
https://cran.r-project.org/web/views/Robust.html

Martin Maechler
ETH Zurich

    > -- 
    > Olivier Crouzet 
    > Assistant Professor
    > @LLING UMR6310 - Universit? de Nantes / CNRS
    > Guest Scientist
    > @UMCG - University Medical Center Groningen / RijksUniversiteit Groningen

    >> Le 19 avr. 2018 ? 11:00, Keith Jewell <Keith.Jewell at campdenbri.co.uk> a ?crit :
    >> 
    >>> On 15/04/2018 17:26, Marc Girondot via R-help wrote:
    >>>> Le 15/04/2018 ? 17:56, alireza daneshvar a ?crit :
    >>>> break-down point
    >>> Can you explain more what you plan to do and give an example of what you have tried to do until now to do a "break down point" in R. Perhaps a "break down point" is common in your field, but I have no idea about what it is !
    >>> https://en.wikipedia.org/wiki/Breakdown_(1997_film)
    >>> Sincerely
    >>> Marc
    >> Perhaps the OP means "breakpoint" in which case the 'strucchange' package might be relevant <https://cran.r-project.org/web/packages/strucchange/index.html>
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.

    > [[alternative HTML version deleted]]

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.



From j@ck@|r81 @end|ng |rom gm@||@com  Fri Apr 20 08:21:02 2018
From: j@ck@|r81 @end|ng |rom gm@||@com (Jack Frazer)
Date: Fri, 20 Apr 2018 10:51:02 +0430
Subject: [R] Problem reading R files
Message-ID: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>

 Dear R Developers,

I hope this email finds you well.

As a newcomer to the world of R, I'm trying different exercises. In my way,
I faced with some, seemingly, trivial problems but there is not any
response for that around the web. So, I thought can get help from you.
Specifically, in tutorial presented at http://www.rdatamining.com/doc
s/twitter-analysis-with-r,  I faced with a problem on using OAuth. When I
use the first approach, the following error will be occurred:

[1] "Using browser based authentication"
Error in curl::curl_fetch_memory(url, handle = handle) :
  Failed to connect to api.twitter.com port 443: Connection refused


And when it comes to the second approach, the following error rises:

[1] "Using direct authentication"
Error in check_twitter_oauth() : OAuth authentication error:
This most likely means that you have incorrectly called
setup_twitter_oauth()'

Unfortunately, the online resources could not help. For example, all the
solutions introduced in StackOverflow could not work for me.

https://stackoverflow.com/questions/31128492/twitter-setup-t
witter-oauth-failing

*Moreover, in reading data from the current directory, the readRDS method
sucks*. I got same error using import() in rio package.

https://stackoverflow.com/questions/49908803/error-in-reading-files-in-r

So, please  let me know if you have some solution for the issues.

Thanks for your consideration.

Regards,

Jack

	[[alternative HTML version deleted]]



From Anne@Ch@tton @end|ng |rom hcuge@ch  Fri Apr 20 10:32:24 2018
From: Anne@Ch@tton @end|ng |rom hcuge@ch (CHATTON Anne)
Date: Fri, 20 Apr 2018 08:32:24 +0000
Subject: [R] Further questions
Message-ID: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>

Hi R folks,
In my previous post I forgot to mention that I was new to R. I was really grateful for your quick help. I have two further questions:
1) In the graph of a regression line I would like to show one specific residual yi obs - yi pred (let's take the person whose residual is 76). How do I add a bracket to this vertical distance and name it? I'am getting stuck after the "textxy" function.
Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45, 
17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162, 
150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158, 
144, 130, 125, 175)
mean(Age)
mean(BloodPressure)
SimpleLinearReg1 <- lm(BloodPressure ~ Age)
summary(SimpleLinearReg1)
coeff <-coefficients(SimpleLinearReg1)
coeff
eq <- as.formula(
  paste0("y ~ ", round(coefficients(SimpleLinearReg1)[1],2), "", 
    paste(sprintf(" %+.2f*%s ", 
                  coefficients(SimpleLinearReg1)[-1],  
                  names(coefficients(SimpleLinearReg1)[-1])), 
          collapse="")))
eq <- paste0("y = ", round(coeff[2],1), "x + ", round(coeff[1],1))
plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue", 
main = "Graphe de la relation entre l'?ge et la pression art?rielle", 
xlab = "Age (ann?e)", ylab = "Pression art?rielle (mmHg)")
abline(SimpleLinearReg1, col="red")
res <- signif(residuals(SimpleLinearReg1), 2)
pre <- predict(SimpleLinearReg1) 
segments(Age, BloodPressure, Age, pre, col="red")
library(calibrate)
textxy(Age, BloodPressure, res, cex=0.7) 2) 

2) I also need your help plotting a hyperplan for a multiple regression and here I am really stuck...
inc <- c(25000, 28000, 17500, 30000, 25000, 32000, 30000, 29000, 26000, 40000)
age <- c(60, 36, 21, 35, 33, 43, 29, 45, 41, 48)
educ <- c(12, 12, 13, 16, 16, 12, 13, 15, 15, 20)
MultLinearReg1 <- lm(inc ~ age + educ)
summary(MultLinearReg1)

Thank you so much!



From Gerr|t@E|chner @end|ng |rom m@th@un|-g|e@@en@de  Fri Apr 20 17:23:46 2018
From: Gerr|t@E|chner @end|ng |rom m@th@un|-g|e@@en@de (Gerrit Eichner)
Date: Fri, 20 Apr 2018 17:23:46 +0200
Subject: [R] Further questions
In-Reply-To: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>
References: <3dc47d84cd0c4aa69105a10db512576d@wexchprod08.huge.ad.hcuge.ch>
Message-ID: <b8700159-9fa3-5348-5e44-aeca29fe4a1c@math.uni-giessen.de>

Hello, Anne,

just a few quick hints because I need to run.

First, try to format you R-code in emails like this
with adequate line breaks.

Second, if you boil down your problem to the crucial point
(and not just pack an email with very specific code) more
people may be more willing to respond.

Third, just to be sure: This list is not for home work.

Two more remarks see inline below.

  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

Am 20.04.2018 um 10:32 schrieb CHATTON Anne via R-help:
> Hi R folks,
> In my previous post I forgot to mention that I was new to R. I was
> really grateful for your quick help. I have two further questions:
> 1) In the graph of a regression line I would like to show one specific residual yi obs - yi pred (let's take the person whose residual is 76). How do I add a bracket to this vertical distance and name it? I'am getting stuck after the "textxy" function.
> Age <- c(39, 47, 45, 47, 65, 46, 67, 42, 67, 56, 64, 56, 59, 34, 42, 48, 45,
> 17, 20, 19, 36, 50, 39, 21, 44, 53, 63, 29, 25, 69)
> BloodPressure <- c(144, 220, 138, 145, 162, 142, 170, 124, 158, 154, 162,
> 150, 140, 110, 128, 130, 135, 114, 116, 124, 136, 142, 120, 120, 160, 158,
> 144, 130, 125, 175)
> mean(Age)
> mean(BloodPressure)
> SimpleLinearReg1 <- lm(BloodPressure ~ Age)
> summary(SimpleLinearReg1)
> coeff <-coefficients(SimpleLinearReg1)
> coeff
> eq <- as.formula(
>    paste0("y ~ ", round(coefficients(SimpleLinearReg1)[1],2), "",
>      paste(sprintf(" %+.2f*%s ",
>                    coefficients(SimpleLinearReg1)[-1],
>                    names(coefficients(SimpleLinearReg1)[-1])),
>            collapse="")))
> eq <- paste0("y = ", round(coeff[2],1), "x + ", round(coeff[1],1))
> plot(Age, BloodPressure, pch = 16, cex = 1.3, col = "blue",
> main = "Graphe de la relation entre l'?ge et la pression art?rielle",
> xlab = "Age (ann?e)", ylab = "Pression art?rielle (mmHg)")
> abline(SimpleLinearReg1, col="red")
> res <- signif(residuals(SimpleLinearReg1), 2)
> pre <- predict(SimpleLinearReg1)
> segments(Age, BloodPressure, Age, pre, col="red")
> library(calibrate)
> textxy(Age, BloodPressure, res, cex=0.7)

I don't understand what mean by "to add a bracket", but why
don't you just place a "name" next to the vertical line at
residual # 76 using the function text?


  2)
> 
> 2) I also need your help plotting a hyperplan for a multiple
> regression and here I am really stuck...

This is a bit more complicated. Learn, e.g., about function persp
or search for "plot regression surface with r" and find, e.g.,
https://stackoverflow.com/questions/7863906/plot-regression-surface#7864088 
as the first hit.


> inc <- c(25000, 28000, 17500, 30000, 25000, 32000, 30000, 29000, 26000, 40000)
> age <- c(60, 36, 21, 35, 33, 43, 29, 45, 41, 48)
> educ <- c(12, 12, 13, 16, 16, 12, 13, 15, 15, 20)
> MultLinearReg1 <- lm(inc ~ age + educ)
> summary(MultLinearReg1)
> 
> Thank you so much!
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ycd|ng @end|ng |rom coh@org  Fri Apr 20 19:11:31 2018
From: ycd|ng @end|ng |rom coh@org (Ding, Yuan Chun)
Date: Fri, 20 Apr 2018 17:11:31 +0000
Subject: [R] 
 create multiple categorical variables in a data frame using a loop
In-Reply-To: <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>
References: <A86C6438FB909A409DDEF926277952B6A7F177@PPWEXCH2KX14.coh.org>
 <4FA13F9F-7AB6-4055-899F-EA81168872CF@comcast.net>
 <461BC1DB-468E-4583-A631-C9A723BC3651@comcast.net>
Message-ID: <A86C6438FB909A409DDEF926277952B6A7F4EF@PPWEXCH2KX14.coh.org>

Hi David,

Thank you so much for your kind suggestion and fixing my code!! I learn a lot from you today.

Ding

-----Original Message-----
From: David Winsemius [mailto:dwinsemius at comcast.net] 
Sent: Thursday, April 19, 2018 6:58 PM
To: Ding, Yuan Chun <ycding at coh.org>
Cc: r-help at r-project.org
Subject: Re: [R] create multiple categorical variables in a data frame using a loop

[Attention: This email came from an external source. Do not open attachments or click on links from unknown senders or unexpected emails.]






> On Apr 19, 2018, at 1:22 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 19, 2018, at 11:20 AM, Ding, Yuan Chun <ycding at coh.org> wrote:
>> 
>> Hi All,
>> 
>> I want to create a categorical variable, cat.pfoa, in the file of pfas.pheno (a data frame) based on log2pfoa values. I can do it using the following code.
>> 
>> pfas.pheno <-within(pfas.pheno, {cat.pfoa<-NA 
>> cat.pfoa[pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.25, 
>> na.rm =T)]<-0 cat.pfoa[pfas.pheno$log2pfoa 
>> >=quantile(pfas.pheno$log2pfoa,0.75, na.rm =T)]<-2 cat.pfoa[pfas.pheno$log2pfoa >=quantile(pfas.pheno$log2pfoa,0.25, na.rm =T)
>>          &pfas.pheno$log2pfoa <=quantile(pfas.pheno$log2pfoa,0.75, 
>> na.rm =T)]<-1 }
> 
> This would be somewhat more compact and easier to maintain if you used findInterval (untested in the absence of a data object, which is your responsibility):
> 
> pfas.pheno <-within(pfas.pheno, {
> cat.pfoa  <- findInterval( log2pfoa , c(-Inf, quantile( 
> log2pfoa,c(.25,.75), Inf), na.rm =T), Inf)]-1 } )
> 
> 
> `findInterval` numbers its intervals from 1, so to get a sequence starting at 0 just subtract 1.
> 
> 
>> However, I have additional 7 similar variables, so I wrote the following code, but it does not work.
>> 
>> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh", "log2me_pfosa_acoh"))  {
>> cat.var <- paste0("cat.",i)
>> pfas.pheno <- within(pfas.pheno, {eval(parse(text= cat.var))<-NA
> 
> Nope. Cannot use R like a macro processor, at least not easily. R names are not the same as character vlaues. They "live in different realities". The `get` and `assign` functions can be used to "promote" character values to real R names and make assignments from and to what would otherwise be merely character values.
> 
> Perhaps this (also mostly untested (except for the strategy of making `assign` creat a new dataframe column:
> 
> for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
>             "log2me_pfosa_acoh"))  {
>  cat.var <- paste0("cat.",i)
>  assign( cat.var, findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } ),  
>                   envir=as.environment( get( pfas.pheno ) ) )

That wasn't good advice. I would rather suggest (but still untested in the absence of a good demo dataset from the OP):

for (i in c("log2pfoa","log2pfos", "log2pfna", "log2pfdea",   "log2pfuda", "log2pfhxs", "log2et_pfosa_acoh",  
            "log2me_pfosa_acoh"))  {
 cat.var <- paste0("cat.",i)
 pfas.pheno[[ cat.var ]] <-  findInterval( get(i) , c(-Inf, quantile( get(i), c(.25,.75), Inf), na.rm =T), Inf)]-1 } 

The "[[<-" function supports character values as column names during assignment.


> 
-- 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law







---------------------------------------------------------------------
-SECURITY/CONFIDENTIALITY WARNING-
This message (and any attachments) are intended solely f...{{dropped:28}}



From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Apr 20 19:48:53 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 20 Apr 2018 10:48:53 -0700
Subject: [R] Problem reading R files
In-Reply-To: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>
References: <CAEv8Y-1Uyaw0op4ZGMHSM=F5jdfrAsUM1fyMpzjOvWwtGwAWtw@mail.gmail.com>
Message-ID: <F25D0DC0-D9E1-4EA4-BDBE-7E5E369C2284@comcast.net>


> On Apr 19, 2018, at 11:21 PM, Jack Frazer <jack.fr81 at gmail.com> wrote:
> 
> Dear R Developers,
> 
> I hope this email finds you well.
> 
> As a newcomer to the world of R, I'm trying different exercises. In my way,
> I faced with some, seemingly, trivial problems but there is not any
> response for that around the web. So, I thought can get help from you.
> Specifically, in tutorial presented at http://www.rdatamining.com/doc
> s/twitter-analysis-with-r,  I faced with a problem on using OAuth. When I
> use the first approach, the following error will be occurred:
> 
> [1] "Using browser based authentication"
> Error in curl::curl_fetch_memory(url, handle = handle) :
>  Failed to connect to api.twitter.com port 443: Connection refused

Looks like you have not obtained a proper Twitter account and obtained a valid registration code to use the API. That should have been covered in your course materials. 

> And when it comes to the second approach,

... the second approach? We are expected to work through that tutorial for you?

> the following error rises:
> 
> [1] "Using direct authentication"
> Error in check_twitter_oauth() : OAuth authentication error:
> This most likely means that you have incorrectly called
> setup_twitter_oauth()'
> 

Same issue most likely?

> Unfortunately, the online resources could not help. For example, all the
> solutions introduced in StackOverflow could not work for me.
> 
> https://stackoverflow.com/questions/31128492/twitter-setup-t
> witter-oauth-failing
> 
> *Moreover, in reading data from the current directory, the readRDS method
> sucks*.

Generally use of such a description will be viewed as at best useless and at worst offensive.

> I got same error using import() in rio package.


> 
> https://stackoverflow.com/questions/49908803/error-in-reading-files-in-r

That posting describes entirely different issue. The first issue was that the file wasn't where you thought it was and the second error message that you posted in comments said it was the wrong format for the readRDS function.

There are two files with that name listed on the website and only one of them loads properly with readRDS.

 
> 
> So, please  let me know if you have some solution for the issues.
> 
> Thanks for your consideration.
> 
> Regards,
> 
> Jack
> 
> 	[[alternative HTML version deleted]]

Jack, you really should read the Posting Guide.

> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @gg@rw@|neh@2000 @end|ng |rom gm@||@com  Sat Apr 21 09:27:05 2018
From: @gg@rw@|neh@2000 @end|ng |rom gm@||@com (Neha Aggarwal)
Date: Sat, 21 Apr 2018 03:27:05 -0400
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
Message-ID: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>

Hi,

I am looking for a way in which I can check if rows in 1 dataframe are
present in another data frame in a unique way. A row in dataframe should be
super set of any row in another dataframe.

I can write a for loop for it, however, that will be inefficient. So, I am
looking for an efficient way to do this in R.

I have explained it with an example below:

I want to check if a row in dataframe B is:
1) either equal to any row in A or
2) has 1's atleast for the columns where (any) row in B has 1's.

My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
number of rows in B. The first row in B is exactly present in A so result
has first bit as 1. Second row in B has matches with 2nd row of dataframe A
(it has an extra 1 in 3rd column,which is ok);so second bit of result is
also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
in result is also a 1. Next, 4th row in B has 1 for a column where no row
in A has 1, so last bit in result is 0.

Dataframe A
1 0 1 0
1 1 0 0
0 1 1 0

Dataframe B
1 0 1 0
1 1 1 0
1 1 1 1
0 0 0 1

Result<- 1 1 1 0

Thanks for the help,
Neha

	[[alternative HTML version deleted]]



From er|cjberger @end|ng |rom gm@||@com  Sat Apr 21 10:32:56 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sat, 21 Apr 2018 11:32:56 +0300
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
In-Reply-To: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
References: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
Message-ID: <CAGgJW74V5uZksCowAvnqxoru06H27AN1F=9t0iYeVwki8WsHBA@mail.gmail.com>

Hi Neha,
How about this?

A <- as.matrix(A)
B <- as.matrix(B)

C   <- A %*% t(B)
SA  <- apply(A, MAR=1, sum )
SB  <- apply(B, MAR=1, sum )
vapply( 1:nrow(B), function(j) { sum( C[,j]==SA & SA <= SB[j] ) > 0 }, 1 )

HTH,
Eric


On Sat, Apr 21, 2018 at 10:27 AM, Neha Aggarwal <aggarwalneha2000 at gmail.com>
wrote:

> Hi,
>
> I am looking for a way in which I can check if rows in 1 dataframe are
> present in another data frame in a unique way. A row in dataframe should be
> super set of any row in another dataframe.
>
> I can write a for loop for it, however, that will be inefficient. So, I am
> looking for an efficient way to do this in R.
>
> I have explained it with an example below:
>
> I want to check if a row in dataframe B is:
> 1) either equal to any row in A or
> 2) has 1's atleast for the columns where (any) row in B has 1's.
>
> My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
> number of rows in B. The first row in B is exactly present in A so result
> has first bit as 1. Second row in B has matches with 2nd row of dataframe A
> (it has an extra 1 in 3rd column,which is ok);so second bit of result is
> also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
> in result is also a 1. Next, 4th row in B has 1 for a column where no row
> in A has 1, so last bit in result is 0.
>
> Dataframe A
> 1 0 1 0
> 1 1 0 0
> 0 1 1 0
>
> Dataframe B
> 1 0 1 0
> 1 1 1 0
> 1 1 1 1
> 0 0 0 1
>
> Result<- 1 1 1 0
>
> Thanks for the help,
> Neha
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From drj|m|emon @end|ng |rom gm@||@com  Sat Apr 21 10:57:15 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sat, 21 Apr 2018 18:57:15 +1000
Subject: [R] Check if row of dataframe is superset of any row in another
 dataframe.
In-Reply-To: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
References: <CAMe08vun6haoQA_3iNmc1gcqYLtxz+2FDRPEnZYRPkVhZskG4w@mail.gmail.com>
Message-ID: <CA+8X3fXEMm88BSZ_vDhoQOjfLa2yFUWwKMeo5SMg6Ps-EpPn6g@mail.gmail.com>

Hi Neha,
How about this?

find_subset<-function(x,y) {
 yrows<-dim(y)[1]
 match<-0
 for(row in 1:yrows) match<-sum(x&y[row]) >= sum(y[row])
 return(match)
}
apply(B,1,find_subset,A)

This is somewhat obscure, as the dataframe B is coerced to a matrix by
the apply function.

Jim

On Sat, Apr 21, 2018 at 5:27 PM, Neha Aggarwal
<aggarwalneha2000 at gmail.com> wrote:
> Hi,
>
> I am looking for a way in which I can check if rows in 1 dataframe are
> present in another data frame in a unique way. A row in dataframe should be
> super set of any row in another dataframe.
>
> I can write a for loop for it, however, that will be inefficient. So, I am
> looking for an efficient way to do this in R.
>
> I have explained it with an example below:
>
> I want to check if a row in dataframe B is:
> 1) either equal to any row in A or
> 2) has 1's atleast for the columns where (any) row in B has 1's.
>
> My output/result is a vector of 1(TRUE) or 0(FALSE) of length equal to
> number of rows in B. The first row in B is exactly present in A so result
> has first bit as 1. Second row in B has matches with 2nd row of dataframe A
> (it has an extra 1 in 3rd column,which is ok);so second bit of result is
> also 1. Similarly, the 3rd row of B, can match to any row in A, so 3rd bit
> in result is also a 1. Next, 4th row in B has 1 for a column where no row
> in A has 1, so last bit in result is 0.
>
> Dataframe A
> 1 0 1 0
> 1 1 0 0
> 0 1 1 0
>
> Dataframe B
> 1 0 1 0
> 1 1 1 0
> 1 1 1 1
> 0 0 0 1
>
> Result<- 1 1 1 0
>
> Thanks for the help,
> Neha
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From @oumen08 @end|ng |rom gm@||@com  Sat Apr 21 11:22:56 2018
From: @oumen08 @end|ng |rom gm@||@com (Soumen Banerjee)
Date: Sat, 21 Apr 2018 17:22:56 +0800
Subject: [R] Error : 'start' contains NA values when fitting frank copula
Message-ID: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>

Hello!
I am trying to fit a copula to some data in R and I get the error mentioned
above. This is the code for a reproducible example -

library(copula)
data = matrix(data=runif(600),nrow=200,ncol=3)
data[,2] = 2*data[,1]
data[,3] = 3*data[,1]
fr_cop = frankCopula(dim=3)
fit_fr_cop = fitCopula(fr_cop,pobs(data),method = "mpl") #Error Here

The error says : Error in fitCopula.ml(copula, u = data, method = method,
start = start, : 'start' contains NA values

What could be going wrong?

	[[alternative HTML version deleted]]



From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Sat Apr 21 19:46:06 2018
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Sat, 21 Apr 2018 19:46:06 +0200
Subject: [R] 
 Error : 'start' contains NA values when fitting frank copula
In-Reply-To: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
References: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
Message-ID: <23259.30942.79438.130874@stat.math.ethz.ch>

>>>>> Soumen Banerjee <soumen08 at gmail.com>
>>>>>     on Sat, 21 Apr 2018 17:22:56 +0800 writes:

    > Hello!  I am trying to fit a copula to some data in R and
    > I get the error mentioned above. This is the code for a
    > reproducible example -

(not really reproducible: You did not set the random seed, so
 the data is different every time;
 OTOH, yes, the following always gives an error)

    > library(copula)

Slightly clearer showing what you are doing:

    x <- runif(200)
    data <- cbind(x, 2*x, 3*x)

    > fr_cop = frankCopula(dim=3)
    > fit_fr_cop = fitCopula(fr_cop, pobs(data), method = "mpl") #Error Here

    > The error says : Error in fitCopula.ml(copula, u = data, method = method,
    > start = start, : 'start' contains NA values

    > What could be going wrong?

Is this a homework question? [probably not, but ..]

The homework question & answer would be

Q:  What is the best fitting 3D copula if you have perfectly
    correlated ("rank 1") data?

A:  The complete-dependence copula ... which is indeed a boundary case,
    hard to imagine you'd encounter for non-artifical data.

Another hint:

> fitCopula(normalCopula(,3), pobs(data))
Call: fitCopula(copula, data = data)
Fit based on "maximum pseudo-likelihood" and 200 3-dimensional observations.
Copula: normalCopula 
rho.1 
    1 
The maximized loglikelihood is 3686 
Optimization converged
>
-----------

Yes, one could adapt the fitCopula() code to work better for
this extreme boundary case,
and for the Frank copula,  it would return

> fitCopula(frankCopula(,3), pobs(data))
Call: fitCopula(copula, data = data)
Fit based on "maximum pseudo-likelihood" and 200 3-dimensional observations.
Copula: frankCopula 
   alpha 
7.21e+16 
The maximized loglikelihood is 1.798e+308 
Optimization converged


but it would need even more tweaking to also give such
  "alpha ~= +Inf"
results for other cases such as Gumbel or Joe.

I may add the possibility for frank*() as shown above for the
next release of the copula package...
but am a bit hesitant to complicate (and slowdown) the current
code by adding an extra check for this situation.

Martin Maechler
ETH Zurich



From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat Apr 21 20:48:55 2018
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sat, 21 Apr 2018 18:48:55 +0000 (UTC)
Subject: [R] Cross-validation : can't get the predicted response on the
 testing data
References: <1927286315.4697101.1524336535709.ref@mail.yahoo.com>
Message-ID: <1927286315.4697101.1524336535709@mail.yahoo.com>

Dear R-experts,

Doing cross-validation for 2 robust regressions (HBR and fast Tau). I can't get the 2 errors rates (RMSE and MAPE). The problem is to predict the response on the testing data. I get 2 error messages. 
Here below the reproducible (fictional example) R code.

#install.packages("MLmetrics")
# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages( "scatterplot3d" )
# install.packages("devtools")? # library("devtools") # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(scatterplot3d)
library(hbrfit)
library(MLmetrics)?

# numeric variables
A=c(2,3,4,3,2,6,5,6,4,3,5,55,6,5,4,5,6,6,7,52)
B= c(45,43,23,47,65,21,12,7,18,29,56,45,34,23,12,65,4,34,54,23)
C=c(21,54,34,12,4,56,74,3,12,71,14,15,63,34,35,23,24,21,69,32)

# Create a dataframe
BIO<-data.frame(A,B,C)
? 
# randomize sampling seed
set.seed(1)
n=dim(BIO)[1] 
p=0.667

# Sample size
sam=sample(1?:n,floor(p*n),replace=FALSE)

# Sample training data
Training =BIO [sam,]

# Sample testing data
Testing = BIO [-sam,]
? 
# Build the 2 models 
fit<- FastTau(model.matrix(~Training$A+Training$B),Training$C)
HBR<-hbrfit(C ~ A+B)

# Predict the response on the testing data
ypred=predict(fit,newdata=Testing)
ypred=predict(HBR,newdata=Testing)

# Get the true response from testing data
y=BIO[-sam,]$D

?# Get error rate
RMSE=sqrt(mean((y-ypred)^2))
RMSE
MAPE = mean(abs(y-ypred/y))
MAPE



From j@ck@rne@t@d @end|ng |rom gm@||@com  Sat Apr 21 21:16:55 2018
From: j@ck@rne@t@d @end|ng |rom gm@||@com (Jack Arnestad)
Date: Sat, 21 Apr 2018 19:16:55 +0000
Subject: [R] Removing columns from big.matrix which have only one value
Message-ID: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>

I have a very large binary matrix, stored as a big.matrix to conserve
memory (it is over 2 gb otherwise - 5 million columns and 100 rows).

r <- 100
c <- 10000
m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
m4 <- cbind(m4, 1)
m4 <- as.big.matrix(m4)

I need to remove every column which has only one unique value (in this
case, only 0s or only 1s). Because of the number of columns, I want to be
able to do this in parallel.

How can I accomplish this while keeping the data compressed as a
big.matrix? I can convert it into a df and loop over the columns looking
for the number of unique values, but this takes too much RAM.

Thanks!

	[[alternative HTML version deleted]]



From bgunter@4567 @end|ng |rom gm@||@com  Sat Apr 21 22:54:33 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 21 Apr 2018 20:54:33 +0000
Subject: [R] Removing columns from big.matrix which have only one value
In-Reply-To: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
References: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
Message-ID: <CAGxFJbTZBsMKcSd2pqozF8yBVdS7+xjq4OJVTqp-04L4Tj-fkA@mail.gmail.com>

Maybe base R's  unique() function might be useful? It uses hashing I
believe.

Bert

On Sat, Apr 21, 2018, 12:17 PM Jack Arnestad <jackarnestad at gmail.com> wrote:

> I have a very large binary matrix, stored as a big.matrix to conserve
> memory (it is over 2 gb otherwise - 5 million columns and 100 rows).
>
> r <- 100
> c <- 10000
> m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
> m4 <- cbind(m4, 1)
> m4 <- as.big.matrix(m4)
>
> I need to remove every column which has only one unique value (in this
> case, only 0s or only 1s). Because of the number of columns, I want to be
> able to do this in parallel.
>
> How can I accomplish this while keeping the data compressed as a
> big.matrix? I can convert it into a df and loop over the columns looking
> for the number of unique values, but this takes too much RAM.
>
> Thanks!
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From @oumen08 @end|ng |rom gm@||@com  Sun Apr 22 01:51:41 2018
From: @oumen08 @end|ng |rom gm@||@com (Soumen Banerjee)
Date: Sun, 22 Apr 2018 07:51:41 +0800
Subject: [R] 
 Error : 'start' contains NA values when fitting frank copula
In-Reply-To: <23259.30942.79438.130874@stat.math.ethz.ch>
References: <CAEZF6yyQO0KbD2tJeWP+2KO-dMj_W1czHqGPjioctGjJLwz+jg@mail.gmail.com>
 <23259.30942.79438.130874@stat.math.ethz.ch>
Message-ID: <CAEZF6yycB=0B=xPhvRRBbH9iJAm9mWZuT4QFe8Hw5nR204kFGw@mail.gmail.com>

Hi Martin,
Thanks for the reply. I tried to make a toy example so that I could get the
same error. I have attached the data file for which the error occurs in my
program.
The code after loading this file is -

fr_cop = frankCopula(dim=6)
fit_fr_cop = fitCopula(fr_cop,pobs(data),method="mpl")

This is about looking for the degree of monetary independence between a
country and large economies. In this data, the "this" country is UK, so
that there are two columns which are exactly equal, but there are 4 other
columns which aren't. Is this a valid case?

Soumen

On Sun, Apr 22, 2018 at 1:46 AM, Martin Maechler <maechler at stat.math.ethz.ch
> wrote:

> >>>>> Soumen Banerjee <soumen08 at gmail.com>
> >>>>>     on Sat, 21 Apr 2018 17:22:56 +0800 writes:
>
>     > Hello!  I am trying to fit a copula to some data in R and
>     > I get the error mentioned above. This is the code for a
>     > reproducible example -
>
> (not really reproducible: You did not set the random seed, so
>  the data is different every time;
>  OTOH, yes, the following always gives an error)
>
>     > library(copula)
>
> Slightly clearer showing what you are doing:
>
>     x <- runif(200)
>     data <- cbind(x, 2*x, 3*x)
>
>     > fr_cop = frankCopula(dim=3)
>     > fit_fr_cop = fitCopula(fr_cop, pobs(data), method = "mpl") #Error
> Here
>
>     > The error says : Error in fitCopula.ml(copula, u = data, method =
> method,
>     > start = start, : 'start' contains NA values
>
>     > What could be going wrong?
>
> Is this a homework question? [probably not, but ..]
>
> The homework question & answer would be
>
> Q:  What is the best fitting 3D copula if you have perfectly
>     correlated ("rank 1") data?
>
> A:  The complete-dependence copula ... which is indeed a boundary case,
>     hard to imagine you'd encounter for non-artifical data.
>
> Another hint:
>
> > fitCopula(normalCopula(,3), pobs(data))
> Call: fitCopula(copula, data = data)
> Fit based on "maximum pseudo-likelihood" and 200 3-dimensional
> observations.
> Copula: normalCopula
> rho.1
>     1
> The maximized loglikelihood is 3686
> Optimization converged
> >
> -----------
>
> Yes, one could adapt the fitCopula() code to work better for
> this extreme boundary case,
> and for the Frank copula,  it would return
>
> > fitCopula(frankCopula(,3), pobs(data))
> Call: fitCopula(copula, data = data)
> Fit based on "maximum pseudo-likelihood" and 200 3-dimensional
> observations.
> Copula: frankCopula
>    alpha
> 7.21e+16
> The maximized loglikelihood is 1.798e+308
> Optimization converged
>
>
> but it would need even more tweaking to also give such
>   "alpha ~= +Inf"
> results for other cases such as Gumbel or Joe.
>
> I may add the possibility for frank*() as shown above for the
> next release of the copula package...
> but am a bit hesitant to complicate (and slowdown) the current
> code by adding an extra check for this situation.
>
> Martin Maechler
> ETH Zurich
>


From |uc@m1968 @end|ng |rom gm@||@com  Sun Apr 22 10:13:52 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Sun, 22 Apr 2018 10:13:52 +0200
Subject: [R] How to dynamically add variables to a dataframe
Message-ID: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>

Hi,

I am a bit rusty with R programming and do not seem to find a solution to
add a number of variables to my existing dataframe. Basically I need to add
n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
V1, V2, V3, ... , V[dim(d1)[1])

When running the following code:

for (t in 1:dim(d1)[1]){
  d0$V[t] <- 0
}

all I get is a V variable populated with zeros...

I am sure there is a fairly straightforward code to accomplish what I need,
any suggestion?

Thank you,

Luca

	[[alternative HTML version deleted]]



From er|cjberger @end|ng |rom gm@||@com  Sun Apr 22 10:23:59 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 22 Apr 2018 11:23:59 +0300
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
Message-ID: <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>

Hi Luca,
How about this?

# create some dummy data since I don't have your d0 or d1
> n  <- 3
> d0 <- data.frame(a=runif(5),b=runif(5))

# here's the suggested code
> d1 <- cbind(d0, matrix(0,nrow(d0),n))
> colnames(d1)[1:n + ncol(d0)] <- paste("V",1:n,sep="")

HTH,
Eric


On Sun, Apr 22, 2018 at 11:13 AM, Luca Meyer <lucam1968 at gmail.com> wrote:

> Hi,
>
> I am a bit rusty with R programming and do not seem to find a solution to
> add a number of variables to my existing dataframe. Basically I need to add
> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
> V1, V2, V3, ... , V[dim(d1)[1])
>
> When running the following code:
>
> for (t in 1:dim(d1)[1]){
>   d0$V[t] <- 0
> }
>
> all I get is a V variable populated with zeros...
>
> I am sure there is a fairly straightforward code to accomplish what I need,
> any suggestion?
>
> Thank you,
>
> Luca
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From j@r|@ok@@nen @end|ng |rom ou|u@||  Sun Apr 22 16:59:55 2018
From: j@r|@ok@@nen @end|ng |rom ou|u@|| (Jari Oksanen)
Date: Sun, 22 Apr 2018 14:59:55 +0000
Subject: [R] nMDS with R: missing values
Message-ID: <4920C8E0-7E79-429A-A080-874E5684E2E1@oulu.fi>

Are you missing values coded as missing values? That is, are they NA? Such NA-values should be handled by vegan::monoMDS. Naturally, it can be possible that your data set cannot be meaningfully analysed if you have too many missing values or missing values are grouped in peculiar ways. Zero-values are not missing values, but they indicate 0-difference (= identical observations). The missing values must be coded as NA.

cheers, Jari Oksanen


From mr|@mor@d| @end|ng |rom gm@||@com  Sun Apr 22 17:20:05 2018
From: mr|@mor@d| @end|ng |rom gm@||@com (mohammad moradi)
Date: Sun, 22 Apr 2018 19:50:05 +0430
Subject: [R] Problem reading RDS files
Message-ID: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>

Hi there,

I faced a weird problem doing a seemingly simple task in R. Specifically,
when trying for reading an RDS file from the working directory, the
following error is appeared.

Code:

records <- readRDS("tweets.rds")


Error:

Error in readRDS("tweets.rds") : error reading from connection
In addition: Warning message:
In readRDS("tweets.rds") : invalid or incomplete compressed data


Thanks,

Mohammad

	[[alternative HTML version deleted]]



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Apr 22 18:46:51 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 22 Apr 2018 11:46:51 -0500
Subject: [R] Problem reading RDS files
In-Reply-To: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
Message-ID: <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>

Wouldn't the obvious problem be that your data file is corrupted or was never created  using saveRDS in the first place? Can you show us a complete example of creating and attempting to read what was just created? 

On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com> wrote:
>Hi there,
>
>I faced a weird problem doing a seemingly simple task in R.
>Specifically,
>when trying for reading an RDS file from the working directory, the
>following error is appeared.
>
>Code:
>
>records <- readRDS("tweets.rds")
>
>
>Error:
>
>Error in readRDS("tweets.rds") : error reading from connection
>In addition: Warning message:
>In readRDS("tweets.rds") : invalid or incomplete compressed data
>
>
>Thanks,
>
>Mohammad
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From bbb_@@@ m@iii@g oii verizo@@@et  Sun Apr 22 20:50:10 2018
From: bbb_@@@ m@iii@g oii verizo@@@et (bbb_@@@ m@iii@g oii verizo@@@et)
Date: Sun, 22 Apr 2018 14:50:10 -0400
Subject: [R] Gantt Chart Using Plotrix
Message-ID: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>

Hi

I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.

Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 

Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !

Any help you can provide on this would be great.

There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

Thanks
indr



From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Apr 22 22:31:07 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 13:31:07 -0700
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
References: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
Message-ID: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>


> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
> 
> Hi
> 
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
> 
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 
> 
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
> 
> Any help you can provide on this would be great.
> 
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".

> 
> Thanks
> indr
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From bbb_@@@ m@iii@g oii verizo@@@et  Mon Apr 23 00:10:54 2018
From: bbb_@@@ m@iii@g oii verizo@@@et (bbb_@@@ m@iii@g oii verizo@@@et)
Date: Sun, 22 Apr 2018 18:10:54 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>
Message-ID: <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>

>From the help file for plotrix:
"  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."

So I try to create an object that will contain this information.

abc <- read.csv("gntr1a.csv")

# The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates

> abc
  code tasks.labels      start        end depends done
1  101       task 1 2018/04/01 2018/04/15      NA  100
2  102        task2 2018/04/15 2018/05/31     101   50
3  103       task 3 2018/06/01 2018/06/30     102    0
> gantt.chart(abc)
Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) : 
  replacement has 0 rows, data has 3
> 

Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....





-----Original Message-----
From: David Winsemius <dwinsemius at comcast.net>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: r-help <r-help at r-project.org>
Sent: Sun, Apr 22, 2018 4:31 pm
Subject: Re: [R] Gantt Chart Using Plotrix


> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
> 
> Hi
> 
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
> 
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical. 
> 
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
> 
> Any help you can provide on this would be great.
> 
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.

The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".

> 
> Thanks
> indr
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @@r@h@go@|ee @end|ng |rom gm@||@com  Mon Apr 23 00:30:45 2018
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Sun, 22 Apr 2018 18:30:45 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>
References: <76FB14B0-6394-48CB-8A3A-C998889689B7@comcast.net>
 <162ef68edc6-c86-232a@webjasstg-vaa18.srv.aolmail.net>
Message-ID: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>

Hi,

The help file for gantt.chart states that dates must be in POSIXct
format, and the example shows how to do that. There's no reason that I
can see that you can't use a data frame as input to gantt.chart, but
you need to be very careful that your data frame matches the correct
format. I bet also that your character fields were imported as
factors, because you didn't specify not to.

Try running the first couple lines of the example code, then compare

str(abc)

with

str(gantt.info)

and adjust the format of your dataset as necessary.

If you still can't figure it out, then use dput(abc) to provide a
reproducible example, and submit that to the list. We can't tell the
format of the various columns from a copy and paste.

Sarah

On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
> From the help file for plotrix:
> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>
> So I try to create an object that will contain this information.
>
> abc <- read.csv("gntr1a.csv")
>
> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018/04/01 2018/04/15      NA  100
> 2  102        task2 2018/04/15 2018/05/31     101   50
> 3  103       task 3 2018/06/01 2018/06/30     102    0
>> gantt.chart(abc)
> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>   replacement has 0 rows, data has 3
>>
>
> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>
>
>
>
>
> -----Original Message-----
> From: David Winsemius <dwinsemius at comcast.net>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 4:31 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
>
>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>
>> Hi
>>
>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>
>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>
>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>
>> Any help you can provide on this would be great.
>>
>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>
>>
>> Thanks
>> indr
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>

-- 
Sarah Goslee
http://www.functionaldiversity.org



From drj|m|emon @end|ng |rom gm@||@com  Mon Apr 23 00:36:27 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 23 Apr 2018 08:36:27 +1000
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
References: <162eeb12427-c8b-9f7d@webjasstg-vab42.srv.aolmail.net>
Message-ID: <CA+8X3fUHvSuz7ufsmgBkg29JGVe6pXz8_QWiO41v7b+_gS1HZQ@mail.gmail.com>

Hi bbb_aaa,
The format for the input to the function (gantt.info) is a list. As
Sarah mentions, a data frame is a list, so as long as your columns
have the right names and are in the correct order, it should work. As
you probably know, you can import a CSV file into R as a data frame
using read.csv

Jim

On Mon, Apr 23, 2018 at 4:50 AM,  <bbb_aaa at verizon.net> wrote:
> Hi
>
> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>
> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>
> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>
> Any help you can provide on this would be great.
>
> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> Thanks
> indr
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From bbb_@@@ m@iii@g oii verizo@@@et  Mon Apr 23 01:50:30 2018
From: bbb_@@@ m@iii@g oii verizo@@@et (bbb_@@@ m@iii@g oii verizo@@@et)
Date: Sun, 22 Apr 2018 19:50:30 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>
Message-ID: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>


Hi Sarah

Thank you very much for your pointers.

Is there a way to specify the date string as POSIXct when reading in? 

I have tried the following (very inelegant way) and still have no luck.

--- Begin Code ---

# 1st read in the spreadsheet with stringsAsFactors set to FALSE

> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
> abc
  code tasks.labels      start        end depends done
1  101       task 1 2018-04-01 2018-04-15     101  100
2  102        task2 2018-04-15 2018-05-31     101   50
3  103       task 3 2018-06-01 2018-06-30     102    0


 # Next convert the date strings to POSIXct format:
 # The Idea here is to take each of the individual columns in the spreadsheet
 # and convert them to the required format and then assemble the dataframe back again:
 
 
> c1d1 <- abc$tasks.labels
> c1d1
[1] "task 1" "task2"  "task 3"
> c2d1 <- as.POSIXct(abc$start)
> c2d1
[1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
> c3d1 <- as.POSIXct(abc$end)
> c3d1
[1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
> cdfg <- data.frame(c1d1,c2d1,c3d1)
> cdfg
    c1d1       c2d1       c3d1
1 task 1 2018-04-01 2018-04-15
2  task2 2018-04-15 2018-05-31
3 task 3 2018-06-01 2018-06-30


# But still no luck !

> gantt.chart(cdfg)
Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) : 
  replacement has 0 rows, data has 3
> str(cdfg)
'data.frame':   3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
> dput(cdfg)
structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1", 
"task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200, 
1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""), 
    c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct", 
    "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
), row.names = c(NA, -3L), class = "data.frame")
> 

----- End Code ---


Thank you and Regards
Indr





-----Original Message-----
From: Sarah Goslee <sarah.goslee at gmail.com>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
Sent: Sun, Apr 22, 2018 6:30 pm
Subject: Re: [R] Gantt Chart Using Plotrix

Hi,

The help file for gantt.chart states that dates must be in POSIXct
format, and the example shows how to do that. There's no reason that I
can see that you can't use a data frame as input to gantt.chart, but
you need to be very careful that your data frame matches the correct
format. I bet also that your character fields were imported as
factors, because you didn't specify not to.

Try running the first couple lines of the example code, then compare

str(abc)

with

str(gantt.info)

and adjust the format of your dataset as necessary.

If you still can't figure it out, then use dput(abc) to provide a
reproducible example, and submit that to the list. We can't tell the
format of the various columns from a copy and paste.

Sarah

On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
> From the help file for plotrix:
> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>
> So I try to create an object that will contain this information.
>
> abc <- read.csv("gntr1a.csv")
>
> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018/04/01 2018/04/15      NA  100
> 2  102 task2 2018/04/15 2018/05/31     101   50
> 3  103       task 3 2018/06/01 2018/06/30     102    0
>> gantt.chart(abc)
> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>   replacement has 0 rows, data has 3
>>
>
> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>
>
>
>
>
> -----Original Message-----
> From: David Winsemius <dwinsemius at comcast.net>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 4:31 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
>
>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>
>> Hi
>>
>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>
>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>
>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>
>> Any help you can provide on this would be great.
>>
>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>
> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>
>>
>> Thanks
>> indr
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>

-- 
Sarah Goslee
http://www.functionaldiversity.org



From dw|n@em|u@ @end|ng |rom comc@@t@net  Mon Apr 23 03:53:48 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 18:53:48 -0700
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
References: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
Message-ID: <43A9A466-7410-4D0F-8A05-75EC48A89E25@comcast.net>


> On Apr 22, 2018, at 4:50 PM, bbb_aaa at verizon.net wrote:
> 
> 
> Hi Sarah
> 
> Thank you very much for your pointers.
> 
> Is there a way to specify the date string as POSIXct when reading in? 

Please read the Arguments and Details sections of the help page for read.csv with particular attention to the colClasses argument options.

-- 
David.
> 
> I have tried the following (very inelegant way) and still have no luck.
> 
> --- Begin Code ---
> 
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
> 
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>  code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31     101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
> 
> 
> # Next convert the date strings to POSIXct format:
> # The Idea here is to take each of the individual columns in the spreadsheet
> # and convert them to the required format and then assemble the dataframe back again:
> 
> 
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>    c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
> 
> 
> # But still no luck !
> 
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) : 
>  replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
> $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
> $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
> $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1", 
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200, 
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""), 
>    c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct", 
>    "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>> 
> 
> ----- End Code ---
> 
> 
> Thank you and Regards
> Indr
> 
> 
> 
> 
> 
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
> 
> Hi,
> 
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
> 
> Try running the first couple lines of the example code, then compare
> 
> str(abc)
> 
> with
> 
> str(gantt.info)
> 
> and adjust the format of your dataset as necessary.
> 
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
> 
> Sarah
> 
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>> 
>> So I try to create an object that will contain this information.
>> 
>> abc <- read.csv("gntr1a.csv")
>> 
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>> 
>>> abc
>>  code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>  replacement has 0 rows, data has 3
>>> 
>> 
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>> 
>> 
>> 
>> 
>> 
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>> 
>> 
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>> 
>>> Hi
>>> 
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>> 
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>> 
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>> 
>>> Any help you can provide on this would be great.
>>> 
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>> 
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>> 
>>> 
>>> Thanks
>>> indr
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>> 
> 
> -- 
> Sarah Goslee
> http://www.functionaldiversity.org
> 

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From mr|@mor@d| @end|ng |rom gm@||@com  Mon Apr 23 07:50:59 2018
From: mr|@mor@d| @end|ng |rom gm@||@com (mohammad moradi)
Date: Mon, 23 Apr 2018 10:20:59 +0430
Subject: [R] Problem reading RDS files
In-Reply-To: <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
 <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
Message-ID: <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>

I've tried to re-experiment the tutorial presented at
http://www.rdatamining.com/docs/twitter-analysis-with-r and specifically
aimed to use rds files (tweet records) at http://www.rdatamining.com/data/.

On Sun, Apr 22, 2018 at 9:16 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Wouldn't the obvious problem be that your data file is corrupted or was
> never created  using saveRDS in the first place? Can you show us a complete
> example of creating and attempting to read what was just created?
>
> On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com>
> wrote:
> >Hi there,
> >
> >I faced a weird problem doing a seemingly simple task in R.
> >Specifically,
> >when trying for reading an RDS file from the working directory, the
> >following error is appeared.
> >
> >Code:
> >
> >records <- readRDS("tweets.rds")
> >
> >
> >Error:
> >
> >Error in readRDS("tweets.rds") : error reading from connection
> >In addition: Warning message:
> >In readRDS("tweets.rds") : invalid or incomplete compressed data
> >
> >
> >Thanks,
> >
> >Mohammad
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]



From dw|n@em|u@ @end|ng |rom comc@@t@net  Mon Apr 23 08:58:45 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 22 Apr 2018 23:58:45 -0700
Subject: [R] Problem reading RDS files
In-Reply-To: <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>
References: <CAFPumUq-gUgkH+=L1qp6ju2T+Z=wAQ0mX3nOtQU8th1YJo6L_g@mail.gmail.com>
 <B1E79CA2-EA61-4CA8-857A-D2DE8659BCF2@dcn.davis.ca.us>
 <CAFPumUrEnsx8PyCgCy-CpFKeXQzioWeUefyJjDUsO2+6AWNrKA@mail.gmail.com>
Message-ID: <302248FD-B008-46A7-8427-4335CB4013BF@comcast.net>


> On Apr 22, 2018, at 10:50 PM, mohammad moradi <mri.moradi at gmail.com> wrote:
> 
> I've tried to re-experiment the tutorial presented at
> http://www.rdatamining.com/docs/twitter-analysis-with-r and specifically
> aimed to use rds files (tweet records) at http://www.rdatamining.com/data/.

There was a question with similar content on SO a couple of days ago. I searched for and found the rds file that was claimed to be difficult to load but had no errors when I loaded it from a copy taken from the Web. The first error indicated that the user had failed to provide the correct path/name for the file the second error (for which no code was offered) reported was that their copy was corrupt.

> my_rds <- readRDS("~/RDataMining-Tweets-20160203.rds")
Warning: namespace ?twitteR? is not available and has been replaced
by .GlobalEnv when processing object ?class?

# So I installed twitteR. I;m obviously not a user of the package and I don't use Twitter either.

trying URL 'https://cloud.r-project.org/bin/macosx/el-capitan/contrib/3.4/twitteR_1.1.9.tgz'
Content type 'application/x-gzip' length 466439 bytes (455 KB)
==================================================
downloaded 455 KB


The downloaded binary packages are in
	/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T//RtmpfbHYT3/downloaded_packages
> str(my_rds)
List of 447
 $ :Loading required package: twitteR

Attaching package: ?twitteR?

The following object is masked from ?package:acs?:

    name

The following objects are masked from ?package:dplyr?:

    id, location

Reference class 'status' [package "twitteR"] with 17 fields
  ..$ text         : chr "Vacancy of Data Scientist ? Healthcare Analytics, Adelaide, Australia\nhttps://t.co/3xDFIJskj8"
  ..$ favorited    : logi FALSE
  ..$ favoriteCount: num 2
  ..$ replyToSN    : chr(0) 
  ..$ created      : POSIXct[1:1], format: "2015-12-30 05:02:49"
  ..$ truncated    : logi FALSE
#---- snipped excessive output


So this puts the onus on you to show the code that you used that was giving errors. Also need version numbers (OS, R, packages) and all the usual information outlined in the Posting Guide.

-- 
David.


> 
> On Sun, Apr 22, 2018 at 9:16 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
> 
>> Wouldn't the obvious problem be that your data file is corrupted or was
>> never created  using saveRDS in the first place? Can you show us a complete
>> example of creating and attempting to read what was just created?
>> 
>> On April 22, 2018 10:20:05 AM CDT, mohammad moradi <mri.moradi at gmail.com>
>> wrote:
>>> Hi there,
>>> 
>>> I faced a weird problem doing a seemingly simple task in R.
>>> Specifically,
>>> when trying for reading an RDS file from the working directory, the
>>> following error is appeared.
>>> 
>>> Code:
>>> 
>>> records <- readRDS("tweets.rds")
>>> 
>>> 
>>> Error:
>>> 
>>> Error in readRDS("tweets.rds") : error reading from connection
>>> In addition: Warning message:
>>> In readRDS("tweets.rds") : invalid or incomplete compressed data
>>> 
>>> 
>>> Thanks,
>>> 
>>> Mohammad
>>> 
>>>      [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> --
>> Sent from my phone. Please excuse my brevity.
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From pd@me@ @end|ng |rom cb@@dk  Mon Apr 23 09:30:00 2018
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Mon, 23 Apr 2018 07:30:00 +0000
Subject: [R] R 3.5.0 is released
Message-ID: <3EF134EF-72F4-456F-991D-EA2D4242DAA1@cbs.dk>

The build system rolled up R-3.5.0.tar.gz (codename "Joy in Playing") this morning.

The list below details the changes in this release.

You can get the source code from

http://cran.r-project.org/src/base/R-3/R-3.5.0.tar.gz

or wait for it to be mirrored at a CRAN site nearer to you.

Binaries for various platforms will appear in due course.


For the R Core Team,

Peter Dalgaard

These are the checksums (md5 and SHA-256) for the freshly created files, in case you wish
to check that they are uncorrupted:

MD5 (AUTHORS) = b9c44f9f78cab3184ad9898bebc854b4
MD5 (COPYING) = eb723b61539feef013de476e68b5c50a
MD5 (COPYING.LIB) = a6f89e2100d9b6cdffcea4f398e37343
MD5 (FAQ) = 3bba37aa1dd06de3f781200a8081302f
MD5 (INSTALL) = 7893f754308ca31f1ccf62055090ad7b
MD5 (NEWS) = d7834f5943183d483f7e50a529cc9019
MD5 (NEWS.0) = bfcd7c147251b5474d96848c6f57e5a8
MD5 (NEWS.1) = eb78c4d053ec9c32b815cf0c2ebea801
MD5 (NEWS.2) = 591dcf615162127f904e4e461f330ce9
MD5 (R-latest.tar.gz) = c0455dbfa76ca807e4dfa93d49dcc817
MD5 (README) = f468f281c919665e276a1b691decbbe6
MD5 (RESOURCES) = 529223fd3ffef95731d0a87353108435
MD5 (THANKS) = 08158353102084599797db8c9ccf8e2a
MD5 (VERSION-INFO.dcf) = 5c265f4f7b2a5f7388063024cac0ee4b
MD5 (R-3/R-3.5.0.tar.gz) = c0455dbfa76ca807e4dfa93d49dcc817

2cde824a7b18958e5f06b391c801c8288be0f84fa8934b7ddefef23c67e60c09  AUTHORS
e6d6a009505e345fe949e1310334fcb0747f28dae2856759de102ab66b722cb4  COPYING
6095e9ffa777dd22839f7801aa845b31c9ed07f3d6bf8a26dc5d2dec8ccc0ef3  COPYING.LIB
98df47801c33cc4f4a4de98447cb2bd40e09c0920195f540a981ceed874714f2  FAQ
f87461be6cbaecc4dce44ac58e5bd52364b0491ccdadaf846cb9b452e9550f31  INSTALL
8b4e0508ccd96acd4cfe289370fe005f24f78a19e25e344394a92b3e47b60c3e  NEWS
4e21b62f515b749f80997063fceab626d7258c7d650e81a662ba8e0640f12f62  NEWS.0
12b30c724117b1b2b11484673906a6dcd48a361f69fc420b36194f9218692d01  NEWS.1
ca04f78ffe54afa326fe3ed40e7e1411aca0000ed2fa5ead97ddf51c6aa5b7bc  NEWS.2
fd1725535e21797d3d9fea8963d99be0ba4c3aecadcf081b43e261458b416870  R-latest.tar.gz
2fdd3e90f23f32692d4b3a0c0452f2c219a10882033d1774f8cadf25886c3ddc  README
408737572ecc6e1135fdb2cf7a9dbb1a6cb27967c757f1771b8c39d1fd2f1ab9  RESOURCES
2d2e85e85574c4430951f6b070c08cd5aff1602abfd1bb162bed6d89c436b11f  THANKS
a11bf153b2ebe6acc902cf2edf22060f65f6ef827cfb5c9ab9c8e9c577c5b568  VERSION-INFO.dcf
fd1725535e21797d3d9fea8963d99be0ba4c3aecadcf081b43e261458b416870  R-3/R-3.5.0.tar.gz

This is the relevant part of the NEWS file

CHANGES IN R 3.5.0:

  SIGNIFICANT USER-VISIBLE CHANGES:

    * All packages are by default byte-compiled on installation.  This
      makes the installed packages larger (usually marginally so) and
      may affect the format of messages and tracebacks (which often
      exclude .Call and similar).

  NEW FEATURES:

    * factor() now uses order() to sort its levels, rather than
      sort.list().  This allows factor() to support custom vector-like
      objects if methods for the appropriate generics are defined.  It
      has the side effect of making factor() succeed on empty or
      length-one non-atomic vector(-like) types (e.g., "list"), where
      it failed before.

    * diag() gets an optional names argument: this may require updates
      to packages defining S4 methods for it.

    * chooseCRANmirror() and chooseBioCmirror() no longer have a
      useHTTPS argument, not needed now all R builds support https://
      downloads.

    * New summary() method for warnings() with a (somewhat
      experimental) print() method.

    * (methods package.) .self is now automatically registered as a
      global variable when registering a reference class method.

    * tempdir(check = TRUE) recreates the tempdir() directory if it is
      no longer valid (e.g. because some other process has cleaned up
      the /tmp directory).

    * New askYesNo() function and "askYesNo" option to ask the user
      binary response questions in a customizable but consistent way.
      (Suggestion of PR#17242.)

    * New low level utilities ...elt(n) and ...length() for working
      with ... parts inside a function.

    * isTRUE() is more tolerant and now true in
      
         x <- rlnorm(99)
         isTRUE(median(x) == quantile(x)["50%"])

      New function isFALSE() defined analogously to isTRUE().

    * The default symbol table size has been increased from 4119 to
      49157; this may improve the performance of symbol resolution when
      many packages are loaded.  (Suggested by Jim Hester.)

    * line() gets a new option iter = 1.

    * Reading from connections in text mode is buffered, significantly
      improving the performance of readLines(), as well as scan() and
      read.table(), at least when specifying colClasses.

    * order() is smarter about picking a default sort method when its
      arguments are objects.

    * available.packages() has two new arguments which control if the
      values from the per-session repository cache are used (default
      true, as before) and if so how old cached values can be to be
      used (default one hour).

      These arguments can be passed from install.packages(),
      update.packages() and functions calling that: to enable this
      available.packages(), packageStatus() and download.file() gain a
      ... argument.

    * packageStatus()'s upgrade() method no longer ignores its ...
      argument but passes it to install.packages().

    * installed.packages() gains a ... argument to allow arguments
      (including noCache) to be passed from new.packages(),
      old.packages(), update.packages() and packageStatus().

    * factor(x, levels, labels) now allows duplicated labels (not
      duplicated levels!).  Hence you can map different values of x to
      the same level directly.

    * Attempting to use names<-() on an S4 derivative of a basic type
      no longer emits a warning.

    * The list method of within() gains an option keepAttrs = FALSE for
      some speed-up.

    * system() and system2() now allow the specification of a maximum
      elapsed time ('timeout').

    * debug() supports debugging of methods on any object of S4 class
      "genericFunction", including group generics.

    * Attempting to increase the length of a variable containing NULL
      using length()<- still has no effect on the target variable, but
      now triggers a warning.

    * type.convert() becomes a generic function, with additional
      methods that operate recursively over list and data.frame
      objects. Courtesy of Arni Magnusson (PR#17269).

    * lower.tri(x) and upper.tri(x) only needing dim(x) now work via
      new functions .row() and .col(), so no longer call as.matrix() by
      default in order to work efficiently for all kind of matrix-like
      objects.

    * print() methods for "xgettext" and "xngettext" now use
      encodeString() which keeps, e.g. "\n", visible.  (Wish of
      PR#17298.)

    * package.skeleton() gains an optional encoding argument.

    * approx(), spline(), splinefun() and approxfun() also work for
      long vectors.

    * deparse() and dump() are more useful for S4 objects, dput() now
      using the same internal C code instead of its previous imperfect
      workaround R code.  S4 objects now typically deparse perfectly,
      i.e., can be recreated identically from deparsed code.

      dput(), deparse() and dump() now print the names() information
      only once, using the more readable (tag = value) syntax, notably
      for list()s, i.e., including data frames.

      These functions gain a new control option "niceNames" (see
      .deparseOpts()), which when set (as by default) also uses the
      (tag = value) syntax for atomic vectors.  On the other hand,
      without deparse options "showAttributes" and "niceNames", names
      are no longer shown also for lists.  as.character(list( c (one =
      1))) now includes the name, as as.character(list(list(one = 1)))
      has always done.

      m:n now also deparses nicely when m > n.

      The "quoteExpressions" option, also part of "all", no longer
      quote()s formulas as that may not re-parse identically.
      (PR#17378)

    * If the option setWidthOnResize is set and TRUE, R run in a
      terminal using a recent readline library will set the width
      option when the terminal is resized.  Suggested by Ralf Goertz.

    * If multiple on.exit() expressions are set using add = TRUE then
      all expressions will now be run even if one signals an error.

    * mclapply() gets an option affinity.list which allows more
      efficient execution with heterogeneous processors, thanks to
      Helena Kotthaus.

    * The character methods for as.Date() and as.POSIXlt() are more
      flexible _via_ new arguments tryFormats and optional: see their
      help pages.

    * on.exit() gains an optional argument after with default TRUE.
      Using after = FALSE with add = TRUE adds an exit expression
      before any existing ones. This way the expressions are run in a
      first-in last-out fashion. (From Lionel Henry.)

    * On Windows, file.rename() internally retries the operation in
      case of error to attempt to recover from possible anti-virus
      interference.

    * Command line completion on :: now also includes lazy-loaded data.

    * If the TZ environment variable is set when date-time functions
      are first used, it is recorded as the session default and so will
      be used rather than the default deduced from the OS if TZ is
      subsequently unset.

    * There is now a [ method for class "DLLInfoList".

    * glm() and glm.fit get the same singular.ok = TRUE argument that
      lm() has had forever.  As a consequence, in glm(*, method =
      <your_own>), user specified methods need to accept a singular.ok
      argument as well.

    * aspell() gains a filter for Markdown (.md and .Rmd) files.

    * intToUtf8(multiple = FALSE) gains an argument to allow surrogate
      pairs to be interpreted.

    * The maximum number of DLLs that can be loaded into R e.g. _via_
      dyn.load() has been increased up to 614 when the OS limit on the
      number of open files allows.

    * Sys.timezone() on a Unix-alike caches the value at first use in a
      session: _inter alia_ this means that setting TZ later in the
      session affects only the _current_ time zone and not the _system_
      one.

      Sys.timezone() is now used to find the system timezone to pass to
      the code used when R is configured with --with-internal-tzcode.

    * When tar() is used with an external command which is detected to
      be GNU tar or libarchive tar (aka bsdtar), a different
      command-line is generated to circumvent line-length limits in the
      shell.

    * system(*, intern = FALSE), system2() (when not capturing output),
      file.edit() and file.show() now issue a warning when the external
      command cannot be executed.

    * The "default" ("lm" etc) methods of vcov() have gained new
      optional argument complete = TRUE which makes the vcov() methods
      more consistent with the coef() methods in the case of singular
      designs.  The former (back-compatible) behavior is given by
      vcov(*, complete = FALSE).

    * coef() methods (for lm etc) also gain a complete = TRUE optional
      argument for consistency with vcov().
      For "aov", both coef() and vcov() methods remain back-compatibly
      consistent, using the _other_ default, complete = FALSE.

    * attach(*, pos = 1) is now an error instead of a warning.

    * New function getDefaultCluster() in package parallel to get the
      default cluster set via setDefaultCluster().

    * str(x) for atomic objects x now treats both cases of is.vector(x)
      similarly, and hence much less often prints "atomic".  This is a
      slight non-back-compatible change producing typically both more
      informative and shorter output.

    * write.dcf() gets optional argument useBytes.

    * New, partly experimental packageDate() which tries to get a valid
      "Date" object from a package DESCRIPTION file, thanks to
      suggestions in PR#17324.

    * tools::resaveRdaFiles() gains a version argument, for use when
      packages should remain compatible with earlier versions of R.

    * ar.yw(x) and hence by default ar(x) now work when x has NAs,
      mostly thanks to a patch by Pavel Krivitsky in PR#17366.  The
      ar.yw.default()'s AIC computations have become more efficient by
      using determinant().

    * New warnErrList() utility (from package nlme, improved).

    * By default the (arbitrary) signs of the loadings from princomp()
      are chosen so the first element is non-negative.

    * If --default-packages is not used, then Rscript now checks the
      environment variable R_SCRIPT_DEFAULT_PACKAGES. If this is set,
      then it takes precedence over R_DEFAULT_PACKAGES. If default
      packages are not specified on the command line or by one of these
      environment variables, then Rscript now uses the same default
      packages as R. For now, the previous behavior of not including
      methods can be restored by setting the environment variable
      R_SCRIPT_LEGACY to yes.

    * When a package is found more than once, the warning from
      find.package(*, verbose=TRUE) lists all library locations.

    * POSIXt objects can now also be rounded or truncated to month or
      year.

    * stopifnot() can be used alternatively via new argument exprs
      which is nicer and useful when testing several expressions in one
      call.

    * The environment variable R_MAX_VSIZE can now be used to specify
      the maximal vector heap size. On macOS, unless specified by this
      environment variable, the maximal vector heap size is set to the
      maximum of 16GB and the available physical memory. This is to
      avoid having the R process killed when macOS over-commits memory.

    * sum(x) and sum(x1,x2,..,x<N>) with many or long logical or
      integer vectors no longer overflows (and returns NA with a
      warning), but returns double numbers in such cases.

    * Single components of "POSIXlt" objects can now be extracted and
      replaced via [ indexing with 2 indices.

    * S3 method lookup now searches the namespace registry after the
      top level environment of the calling environment.

    * Arithmetic sequences created by 1:n, seq_along, and the like now
      use compact internal representations via the ALTREP framework.
      Coercing integer and numeric vectors to character also now uses
      the ALTREP framework to defer the actual conversion until first
      use.

    * Finalizers are now run with interrupts suspended.

    * merge() gains new option no.dups and by default suffixes the
      second of two duplicated column names, thanks to a proposal by
      Scott Ritchie (and Gabe Becker).

    * scale.default(x, center, scale) now also allows center or scale
      to be "numeric-alike", i.e., such that as.numeric(.) coerces them
      correctly.  This also eliminates a wrong error message in such
      cases.

    * par*apply and par*applyLB gain an optional argument chunk.size
      which allows to specify the granularity of scheduling.

    * Some as.data.frame() methods, notably the matrix one, are now
      more careful in not accepting duplicated or NA row names, and by
      default produce unique non-NA row names.  This is based on new
      function .rowNamesDF(x, make.names = *) <- rNms where the logical
      argument make.names allows to specify _how_ invalid row names
      rNms are handled.  .rowNamesDF() is a "workaround" compatible
      default.

    * R has new serialization format (version 3) which supports custom
      serialization of ALTREP framework objects.  These objects can
      still be serialized in format 2, but less efficiently.
      Serialization format 3 also records the current native encoding
      of unflagged strings and converts them when de-serialized in R
      running under different native encoding.  Format 3 comes with new
      serialization magic numbers (RDA3, RDB3, RDX3).  Format 3 can be
      selected by version = 3 in save(), serialize() and saveRDS(), but
      format 2 remains the default for all serialization and saving of
      the workspace.  Serialized data in format 3 cannot be read by
      versions of R prior to version 3.5.0.

    * The "Date" and "date-time" classes "POSIXlt" and "POSIXct" now
      have a working `length<-` method, as wished in PR#17387.

    * optim(*, control = list(warn.1d.NelderMead = FALSE)) allows to
      turn off the warning when applying the default "Nelder-Mead"
      method to 1-dimensional problems.

    * matplot(.., panel.first = .) etc now work, as log becomes
      explicit argument and ... is passed to plot() unevaluated, as
      suggested by Sebastian Meyer in PR#17386.

    * Interrupts can be suspended while evaluating an expression using
      suspendInterrupts.  Subexpression can be evaluated with
      interrupts enabled using allowInterrupts.  These functions can be
      used to make sure cleanup handlers cannot be interrupted.

    * R 3.5.0 includes a framework that allows packages to provide
      alternate representations of basic R objects (ALTREP).  The
      framework is still experimental and may undergo changes in future
      R releases as more experience is gained. For now, documentation
      is provided in <URL:
      https://svn.r-project.org/R/branches/ALTREP/ALTREP.html>.

  UTILITIES:

    * install.packages() for source packages now has the possibility to
      set a 'timeout' (elapsed-time limit).  For serial installs this
      uses the timeout argument of system2(): for parallel installs it
      requires the timeout utility command from GNU coreutils.

    * It is now possible to set 'timeouts' (elapsed-time limits) for
      most parts of R CMD check _via_ environment variables documented
      in the 'R Internals' manual.

    * The 'BioC extra' repository which was dropped from Bioconductor
      3.6 and later has been removed from setRepositories().  This
      changes the mapping for 6-8 used by setRepositories(ind=).

    * R CMD check now also applies the settings of environment
      variables _R_CHECK_SUGGESTS_ONLY_ and _R_CHECK_DEPENDS_ONLY_ to
      the re-building of vignettes.

    * R CMD check with environment variable _R_CHECK_DEPENDS_ONLY_ set
      to a true value makes test-suite-management packages available
      and (for the time being) works around a common omission of
      rmarkdown from the VignetteBuilder field.

  INSTALLATION on a UNIX-ALIKE:

    * Support for a system Java on macOS has been removed - install a
      fairly recent Oracle Java (see 'R Installation and
      Administration' SSC.3.2).

    * configure works harder to set additional flags in SAFE_FFLAGS
      only where necessary, and to use flags which have little or no
      effect on performance.

      In rare circumstances it may be necessary to override the setting
      of SAFE_FFLAGS.

    * C99 functions expm1, hypot, log1p and nearbyint are now required.

    * configure sets a -std flag for the C++ compiler for all supported
      C++ standards (e.g., -std=gnu++11 for the C++11 compiler).
      Previously this was not done in a few cases where the default
      standard passed the tests made (e.g. clang 6.0.0 for C++11).

  C-LEVEL FACILITIES:

    * 'Writing R Extensions' documents macros MAYBE_REFERENCED,
      MAYBE_SHARED and MARK_NOT_MUTABLE that should be used by package
      C code instead NAMED or SET_NAMED.

    * The object header layout has been changed to support merging the
      ALTREP branch. This requires re-installing packages that use
      compiled code.

    * 'Writing R Extensions' now documents the R_tryCatch,
      R_tryCatchError, and R_UnwindProtect functions.

    * NAMEDMAX has been raised to 3 to allow protection of intermediate
      results from (usually ill-advised) assignments in arguments to
      BUILTIN functions. Package C code using SET_NAMED may need to be
      revised.

  DEPRECATED AND DEFUNCT:

    * Sys.timezone(location = FALSE) is defunct, and is ignored (with a
      warning).

    * methods:::bind_activation() is defunct now; it typically has been
      unneeded for years.

      The undocumented 'hidden' objects .__H__.cbind and .__H__.rbind
      in package base are deprecated (in favour of cbind and rbind).

    * The declaration of pythag() in Rmath.h has been removed - the
      entry point has not been provided since R 2.14.0.

  BUG FIXES:

    * printCoefmat() now also works without column names.

    * The S4 methods on Ops() for the "structure" class no longer cause
      infinite recursion when the structure is not an S4 object.

    * nlm(f, ..) for the case where f() has a "hessian" attribute now
      computes LL' = H + uI correctly.  (PR#17249).

    * An S4 method that "rematches" to its generic and overrides the
      default value of a generic formal argument to NULL no longer
      drops the argument from its formals.

    * Rscript can now accept more than one argument given on the #!
      line of a script. Previously, one could only pass a single
      argument on the #! line in Linux.

    * Connections are now written correctly with encoding "UTF-16LE".
      (PR#16737).

    * Evaluation of ..0 now signals an error.  When ..1 is used and ...
      is empty, the error message is more appropriate.

    * (Windows mainly.)  Unicode code points which require surrogate
      pairs in UTF-16 are now handled.  All systems should properly
      handle surrogate pairs, even those systems that do not need to
      make use of them.  (PR#16098)

    * stopifnot(e, e2, ...) now evaluates the expressions sequentially
      and in case of an error or warning shows the relevant expression
      instead of the full stopifnot(..)  call.

    * path.expand() on Windows now accepts paths specified as
      UTF-8-encoded character strings even if not representable in the
      current locale.  (PR#17120)

    * line(x, y) now correctly computes the medians of the left and
      right group's x-values and in all cases reproduces straight
      lines.

    * Extending S4 classes with slots corresponding to special
      attributes like dim and dimnames now works.

    * Fix for legend() when fill has multiple values the first of which
      is NA (all colours used to default to par(fg)).  (PR#17288)

    * installed.packages() did not remove the cached value for a
      library tree that had been emptied (but would not use the old
      value, just waste time checking it).

    * The documentation for installed.packages(noCache = TRUE)
      incorrectly claimed it would refresh the cache.

    * aggregate(<data.frame>) no longer uses spurious names in some
      cases.  (PR#17283)

    * object.size() now also works for long vectors.

    * packageDescription() tries harder to solve re-encoding issues,
      notably seen in some Windows locales.  This fixes the citation()
      issue in PR#17291.

    * poly(<matrix>, 3) now works, thanks to prompting by Marc
      Schwartz.

    * readLines() no longer segfaults on very large files with embedded
      '\0' (aka 'nul') characters.  (PR#17311)

    * ns() (package splines) now also works for a single observation.
      interpSpline() gives a more friendly error message when the
      number of points is less than four.

    * dist(x, method = "canberra") now uses the correct definition; the
      result may only differ when x contains values of differing signs,
      e.g. not for 0-1 data.

    * methods:::cbind() and methods:::rbind() avoid deep recursion,
      thanks to Suharto Anggono via PR#17300.

    * Arithmetic with zero-column data frames now works more
      consistently; issue raised by Bill Dunlap.

      Arithmetic with data frames gives a data frame for ^ (which
      previously gave a numeric matrix).

    * pretty(x, n) for large n or large diff(range(x)) now works better
      (though it was never meant for large n); internally it uses the
      same rounding fuzz (1e-10) as seq.default() - as it did up to
      2010-02-03 when both were 1e-7.

    * Internal C-level R_check_class_and_super() and hence
      R_check_class_etc() now also consider non-direct super classes
      and hence return a match in more cases.  This e.g., fixes
      behaviour of derived classes in package Matrix.

    * Reverted unintended change in behavior of return calls in on.exit
      expressions introduced by stack unwinding changes in R 3.3.0.

    * Attributes on symbols are now detected and prevented; attempt to
      add an attribute to a symbol results in an error.

    * fisher.test(*, workspace = <n>) now may also increase the
      internal stack size which allows larger problem to be solved,
      fixing PR#1662.

    * The methods package no longer directly copies slots (attributes)
      into a prototype that is of an "abnormal" (reference) type, like
      a symbol.

    * The methods package no longer attempts to call length<-() on NULL
      (during the bootstrap process).

    * The methods package correctly shows methods when there are
      multiple methods with the same signature for the same generic
      (still not fully supported, but at least the user can see them).

    * sys.on.exit() is now always evaluated in the right frame. (From
      Lionel Henry.)

    * seq.POSIXt(*, by = "<n> DSTdays") now should work correctly in
      all cases and is faster.  (PR#17342)

    * .C() when returning a logical vector now always maps values other
      than FALSE and NA to TRUE (as documented).

    * Subassignment with zero length vectors now coerces as documented
      (PR#17344).
      Further, x <- numeric(); x[1] <- character() now signals an error
      'replacement has length zero' (or a translation of that) instead
      of doing nothing.

    * (Package parallel.)  mclapply(), pvec() and mcparallel() (when
      mccollect() is used to collect results) no longer leave zombie
      processes behind.

    * R CMD INSTALL <pkg> now produces the intended error message when,
      e.g., the LazyData field is invalid.

    * as.matrix(dd) now works when the data frame dd contains a column
      which is a data frame or matrix, including a 0-column matrix/d.f.
      .

    * mclapply(X, mc.cores) now follows its documentation and calls
      lapply() in case mc.cores = 1 also in the case mc.preschedule is
      false.  (PR#17373)

    * aggregate(<data.frame>, drop=FALSE) no longer calls the function
      on <empty> parts but sets corresponding results to NA.  (Thanks
      to Suharto Anggono's patches in PR#17280).

    * The duplicated() method for data frames is now based on the list
      method (instead of string coercion).  Consequently unique() is
      better distinguishing data frame rows, fixing PR#17369 and
      PR#17381.  The methods for matrices and arrays are changed
      accordingly.

    * Calling names() on an S4 object derived from "environment"
      behaves (by default) like calling names() on an ordinary
      environment.

    * read.table() with a non-default separator now supports quotes
      following a non-whitespace character, matching the behavior of
      scan().

    * parLapplyLB and parSapplyLB have been fixed to do load balancing
      (dynamic scheduling).  This also means that results of
      computations depending on random number generators will now
      really be non-reproducible, as documented.

    * Indexing a list using dollar and empty string (l$"") returns
      NULL.

    * Using \usage{ data(<name>, package="<pkg>") } no longer produces
      R CMD check warnings.

    * match.arg() more carefully chooses the environment for
      constructing default choices, fixing PR#17401 as proposed by
      Duncan Murdoch.

    * Deparsing of consecutive ! calls is now consistent with deparsing
      unary - and + calls and creates code that can be reparsed
      exactly; thanks to a patch by Lionel Henry in PR#17397.  (As a
      side effect, this uses fewer parentheses in some other deparsing
      involving ! calls.)




-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce



From petr@p|k@| @end|ng |rom prechez@@cz  Mon Apr 23 14:41:22 2018
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 23 Apr 2018 12:41:22 +0000
Subject: [R] Removing columns from big.matrix which have only one value
In-Reply-To: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
References: <CADbGCVj_NwwubSESQwTtHna_J==Ane7cWVhNq4PzgPA76q57Zw@mail.gmail.com>
Message-ID: <32a1bd73bc5b4abea9b3b193cc7f2bb8@SRVEXCHCM1302.precheza.cz>

Hi

With
> which(colSums(m4)==0)

you get column numbers with only zeroes.

You could also remove zero column by.

m4[,colSums(m4)!=0]

And with that you could find colums with ones.
which(colSums(m4)==nrow(m4))
[1] 10001
Cheers
Petr

> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Jack Arnestad
> Sent: Saturday, April 21, 2018 9:17 PM
> To: r-help at r-project.org
> Subject: [R] Removing columns from big.matrix which have only one value
>
> I have a very large binary matrix, stored as a big.matrix to conserve memory (it
> is over 2 gb otherwise - 5 million columns and 100 rows).
>
> r <- 100
> c <- 10000
> m4 <- matrix(sample(0:1,r*c, replace=TRUE),r,c)
> m4 <- cbind(m4, 1)
> m4 <- as.big.matrix(m4)
>
> I need to remove every column which has only one unique value (in this case,
> only 0s or only 1s). Because of the number of columns, I want to be able to do
> this in parallel.
>
> How can I accomplish this while keeping the data compressed as a big.matrix? I
> can convert it into a df and loop over the columns looking for the number of
> unique values, but this takes too much RAM.
>
> Thanks!
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From @@r@h@go@|ee @end|ng |rom gm@||@com  Mon Apr 23 16:34:10 2018
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Mon, 23 Apr 2018 10:34:10 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
References: <CAM_vjumh8D6tYcEwd+CTjr8EGckB=zvcSeqxd2zcMNCFKPKXow@mail.gmail.com>
 <162efc42020-c8a-29f2@webjasstg-vaa20.srv.aolmail.net>
Message-ID: <CAM_vju=VWx7050LdHMV8EvtJL1XUxB04wyLBjO0dUG-necb_3Q@mail.gmail.com>

Hi,

Your attempt didn't work because you didn't do what I suggested, which
was make sure that your data frame matched the example given in the
help for gantt.chart.

Here's what you have:
> str(cdfg)
'data.frame': 3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" ...
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" ...


Here's what you should have (constructed from the example in the help file):
> str(gantt.info)
List of 4
 $ labels    : chr [1:5] "First task" "Second task" "Third task"
"Fourth task" ...
 $ starts    : POSIXct[1:5], format: "2004-01-01" "2004-02-02" ...
 $ ends      : POSIXct[1:5], format: "2004-03-03" "2004-05-05" ...
 $ priorities: num [1:5] 1 2 3 4 5

You got the dates into the correct format, but the names of the list
elements (columns) do not match, and your data.frame() call turned the
labels from character into factor while you weren't looking.

gantt.chart() has no idea what you're talking about, because it is
looking for particular names.

If you fix those problems, it works fine.

colnames(cdfg) <- c("labels", "starts", "ends")
cdfg$labels <- as.character(cdfg$labels)

gantt.chart(cdfg)

Sarah

On Sun, Apr 22, 2018 at 7:50 PM,  <bbb_aaa at verizon.net> wrote:
>
> Hi Sarah
>
> Thank you very much for your pointers.
>
> Is there a way to specify the date string as POSIXct when reading in?
>
> I have tried the following (very inelegant way) and still have no luck.
>
> --- Begin Code ---
>
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
>
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31     101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
>
>
>  # Next convert the date strings to POSIXct format:
>  # The Idea here is to take each of the individual columns in the spreadsheet
>  # and convert them to the required format and then assemble the dataframe back again:
>
>
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>     c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
>
>
> # But still no luck !
>
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) :
>   replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
>  $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
>  $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
>  $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1",
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200,
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""),
>     c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct",
>     "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>>
>
> ----- End Code ---
>
>
> Thank you and Regards
> Indr
>
>
>
>
>
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
> Hi,
>
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
>
> Try running the first couple lines of the example code, then compare
>
> str(abc)
>
> with
>
> str(gantt.info)
>
> and adjust the format of your dataset as necessary.
>
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
>
> Sarah
>
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>>
>> So I try to create an object that will contain this information.
>>
>> abc <- read.csv("gntr1a.csv")
>>
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>>
>>> abc
>>   code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>   replacement has 0 rows, data has 3
>>>
>>
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>>
>>
>>
>>
>>
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>>
>>
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>>
>>> Hi
>>>
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>>
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>>
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>>
>>> Any help you can provide on this would be great.
>>>
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>>
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>>
>>>
>>> Thanks
>>> indr
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



From |@t@z@hn @end|ng |rom gm@||@com  Mon Apr 23 20:48:31 2018
From: |@t@z@hn @end|ng |rom gm@||@com (Ista Zahn)
Date: Mon, 23 Apr 2018 14:48:31 -0400
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
 <CAGgJW75aJUePd6JvGQ-TmYF-Z9DifWQ3tac5-8Pb0fsPXE-48A@mail.gmail.com>
Message-ID: <CA+vqiLG-J9eHhtU=4B23Q6Uqo4DEL_b-BKWMgbWr5Wx17BkwPg@mail.gmail.com>

Another option is

d0[paste0("V", 1:nrow(d1))] <- 0

--Ista

On Sun, Apr 22, 2018 at 4:23 AM, Eric Berger <ericjberger at gmail.com> wrote:
> Hi Luca,
> How about this?
>
> # create some dummy data since I don't have your d0 or d1
>> n  <- 3
>> d0 <- data.frame(a=runif(5),b=runif(5))
>
> # here's the suggested code
>> d1 <- cbind(d0, matrix(0,nrow(d0),n))
>> colnames(d1)[1:n + ncol(d0)] <- paste("V",1:n,sep="")
>
> HTH,
> Eric
>
>
> On Sun, Apr 22, 2018 at 11:13 AM, Luca Meyer <lucam1968 at gmail.com> wrote:
>
>> Hi,
>>
>> I am a bit rusty with R programming and do not seem to find a solution to
>> add a number of variables to my existing dataframe. Basically I need to add
>> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
>> V1, V2, V3, ... , V[dim(d1)[1])
>>
>> When running the following code:
>>
>> for (t in 1:dim(d1)[1]){
>>   d0$V[t] <- 0
>> }
>>
>> all I get is a V variable populated with zeros...
>>
>> I am sure there is a fairly straightforward code to accomplish what I need,
>> any suggestion?
>>
>> Thank you,
>>
>> Luca
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From pd@|gd @end|ng |rom gm@||@com  Mon Apr 23 21:22:01 2018
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 23 Apr 2018 21:22:01 +0200
Subject: [R] How to dynamically add variables to a dataframe
In-Reply-To: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
References: <CABQyo86EpoJt33VLHK2gUPVQ=6Fz=3HAaM4e_FQP-nOpAoQW_w@mail.gmail.com>
Message-ID: <F21F4B68-860F-41FF-897F-3A1044900542@gmail.com>

Like this?

> V <- c("fee","fie","foe")
> aq <- head(airquality) # Just to get a shorter example
> aq[V] <- 0
> aq
  Ozone Solar.R Wind Temp Month Day fee fie foe
1    41     190  7.4   67     5   1   0   0   0
2    36     118  8.0   72     5   2   0   0   0
3    12     149 12.6   74     5   3   0   0   0
4    18     313 11.5   62     5   4   0   0   0
5    NA      NA 14.3   56     5   5   0   0   0
6    28      NA 14.9   66     5   6   0   0   0


> On 22 Apr 2018, at 10:13 , Luca Meyer <lucam1968 at gmail.com> wrote:
> 
> Hi,
> 
> I am a bit rusty with R programming and do not seem to find a solution to
> add a number of variables to my existing dataframe. Basically I need to add
> n=dim(d1)[1] variables to my d0 dataframe and I would like them to be named
> V1, V2, V3, ... , V[dim(d1)[1])
> 
> When running the following code:
> 
> for (t in 1:dim(d1)[1]){
>  d0$V[t] <- 0
> }
> 
> all I get is a V variable populated with zeros...
> 
> I am sure there is a fairly straightforward code to accomplish what I need,
> any suggestion?
> 
> Thank you,
> 
> Luca
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From bbb_@@@ m@iii@g oii verizo@@@et  Tue Apr 24 01:36:47 2018
From: bbb_@@@ m@iii@g oii verizo@@@et (bbb_@@@ m@iii@g oii verizo@@@et)
Date: Mon, 23 Apr 2018 19:36:47 -0400
Subject: [R] Gantt Chart Using Plotrix
In-Reply-To: <CAM_vju=VWx7050LdHMV8EvtJL1XUxB04wyLBjO0dUG-necb_3Q@mail.gmail.com>
Message-ID: <162f4dded1f-c8d-11163@webjasstg-vab04.srv.aolmail.net>

Hi Sarah

Sorry for the delay in responding.

Based on your earlier message I realized that the way I was reading in the data was causing this problem. I also realized that my attempt at fixing the problem (by selecting each of the columns using the $ operator and then changing it to the appropriate format) was not helping and is very clunky.

So, I did this:

abc <- read.csv("gntr1a.csv", header=TRUE, stringsAsFactors=FALSE, colClasses=c("character","POSIXct","POSIXct","integer"))

and this works (I think it is important to make sure the columns in the spreadsheet are named  "starts", "ends" , etc. before exporting in order for this to work).

So, once again thank you (and also Jim and David).

Regards
Indr




-----Original Message-----
From: Sarah Goslee <sarah.goslee at gmail.com>
To: bbb_aaa <bbb_aaa at verizon.net>
Cc: r-help <r-help at r-project.org>
Sent: Mon, Apr 23, 2018 10:34 am
Subject: Re: [R] Gantt Chart Using Plotrix

Hi,

Your attempt didn't work because you didn't do what I suggested, which
was make sure that your data frame matched the example given in the
help for gantt.chart.

Here's what you have:
> str(cdfg)
'data.frame': 3 obs. of  3 variables:
 $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
 $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" ...
 $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" ...


Here's what you should have (constructed from the example in the help file):
> str(gantt.info)
List of 4
 $ labels    : chr [1:5] "First task" "Second task" "Third task"
"Fourth task" ...
 $ starts    : POSIXct[1:5], format: "2004-01-01" "2004-02-02" ...
 $ ends      : POSIXct[1:5], format: "2004-03-03" "2004-05-05" ...
 $ priorities: num [1:5] 1 2 3 4 5

You got the dates into the correct format, but the names of the list
elements (columns) do not match, and your data.frame() call turned the
labels from character into factor while you weren't looking.

gantt.chart() has no idea what you're talking about, because it is
looking for particular names.

If you fix those problems, it works fine.

colnames(cdfg) <- c("labels", "starts", "ends")
cdfg$labels <- as.character(cdfg$labels)

gantt.chart(cdfg)

Sarah

On Sun, Apr 22, 2018 at 7:50 PM,  <bbb_aaa at verizon.net> wrote:
>
> Hi Sarah
>
> Thank you very much for your pointers.
>
> Is there a way to specify the date string as POSIXct when reading in?
>
> I have tried the following (very inelegant way) and still have no luck.
>
> --- Begin Code ---
>
> # 1st read in the spreadsheet with stringsAsFactors set to FALSE
>
>> abc <- read.csv("gntr1.csv", header=TRUE, stringsAsFactors=FALSE)
>> abc
>   code tasks.labels      start        end depends done
> 1  101       task 1 2018-04-01 2018-04-15     101  100
> 2  102        task2 2018-04-15 2018-05-31  101   50
> 3  103       task 3 2018-06-01 2018-06-30     102    0
>
>
>  # Next convert the date strings to POSIXct format:
>  # The Idea here is to take each of the individual columns in the spreadsheet
>  # and convert them to the required format and then assemble the dataframe back again:
>
>
>> c1d1 <- abc$tasks.labels
>> c1d1
> [1] "task 1" "task2"  "task 3"
>> c2d1 <- as.POSIXct(abc$start)
>> c2d1
> [1] "2018-04-01 EDT" "2018-04-15 EDT" "2018-06-01 EDT"
>> c3d1 <- as.POSIXct(abc$end)
>> c3d1
> [1] "2018-04-15 EDT" "2018-05-31 EDT" "2018-06-30 EDT"
>> cdfg <- data.frame(c1d1,c2d1,c3d1)
>> cdfg
>     c1d1       c2d1       c3d1
> 1 task 1 2018-04-01 2018-04-15
> 2  task2 2018-04-15 2018-05-31
> 3 task 3 2018-06-01 2018-06-30
>
>
> # But still no luck !
>
>> gantt.chart(cdfg)
> Error in `$<-.data.frame`(`*tmp*`, "priorities", value = numeric(0)) :
>   replacement has 0 rows, data has 3
>> str(cdfg)
> 'data.frame':   3 obs. of  3 variables:
>  $ c1d1: Factor w/ 3 levels "task 1","task 3",..: 1 3 2
>  $ c2d1: POSIXct, format: "2018-04-01" "2018-04-15" "2018-06-01"
>  $ c3d1: POSIXct, format: "2018-04-15" "2018-05-31" "2018-06-30"
>> dput(cdfg)
> structure(list(c1d1 = structure(c(1L, 3L, 2L), .Label = c("task 1",
> "task 3", "task2"), class = "factor"), c2d1 = structure(c(1522555200,
> 1523764800, 1527825600), class = c("POSIXct", "POSIXt"), tzone = ""),
>     c3d1 = structure(c(1523764800, 1527739200, 1530331200), class = c("POSIXct",
>     "POSIXt"), tzone = "")), .Names = c("c1d1", "c2d1", "c3d1"
> ), row.names = c(NA, -3L), class = "data.frame")
>>
>
> ----- End Code ---
>
>
> Thank you and Regards
> Indr
>
>
>
>
>
> -----Original Message-----
> From: Sarah Goslee <sarah.goslee at gmail.com>
> To: bbb_aaa <bbb_aaa at verizon.net>
> Cc: David Winsemius <dwinsemius at comcast.net>; r-help <r-help at r-project.org>
> Sent: Sun, Apr 22, 2018 6:30 pm
> Subject: Re: [R] Gantt Chart Using Plotrix
>
> Hi,
>
> The help file for gantt.chart states that dates must be in POSIXct
> format, and the example shows how to do that. There's no reason that I
> can see that you can't use a data frame as input to gantt.chart, but
> you need to be very careful that your data frame matches the correct
> format. I bet also that your character fields were imported as
> factors, because you didn't specify not to.
>
> Try running the first couple lines of the example code, then compare
>
> str(abc)
>
> with
>
> str(gantt.info)
>
> and adjust the format of your dataset as necessary.
>
> If you still can't figure it out, then use dput(abc) to provide a
> reproducible example, and submit that to the list. We can't tell the
> format of the various columns from a copy and paste.
>
> Sarah
>
> On Sun, Apr 22, 2018 at 6:10 PM,  <bbb_aaa at verizon.net> wrote:
>> From the help file for plotrix:
>> "  ... x - a list of task labels, start/end times and task priorities as returned by get.gantt.info ..."
>>
>> So I try to create an object that will contain this information.
>>
>> abc <- read.csv("gntr1a.csv")
>>
>> # The above csv file was generated from MS .xlsx file containing the tasks and corresponding dates
>>
>>> abc
>>   code tasks.labels      start        end depends done
>> 1  101       task 1 2018/04/01 2018/04/15      NA  100
>> 2  102 task2 2018/04/15 2018/05/31     101   50
>> 3  103       task 3 2018/06/01 2018/06/30     102    0
>>> gantt.chart(abc)
>> Error in `$<-.data.frame`(`*tmp*`, priorities, value = numeric(0)) :
>>   replacement has 0 rows, data has 3
>>>
>>
>> Manually adding the required tasks and dates (as given in the help file example) is not practical for my situation ....
>>
>>
>>
>>
>>
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: bbb_aaa <bbb_aaa at verizon.net>
>> Cc: r-help <r-help at r-project.org>
>> Sent: Sun, Apr 22, 2018 4:31 pm
>> Subject: Re: [R] Gantt Chart Using Plotrix
>>
>>
>>> On Apr 22, 2018, at 11:50 AM, bbb_aaa at verizon.net wrote:
>>>
>>> Hi
>>>
>>> I am trying to generate a complex Gantt chart using the gantt.chart function in the plotrix package.
>>>
>>> Ideally I would like to use a spreadsheet to populate the activities (tasks) and start and end dates that this function expects and then export the spreadsheet file as a .CSV text file so I can read in this file to generate the gantt chart. Reading through the help file I have not been able to see what exactly this spreadsheet should like. The example provided with the "gantt.chart" function seems to indicate all the information needs to be hand coded. Because of the complexity of my chart this is not only very error prone but also is impractical.
>>>
>>> Can anyone help me with this? There is also a "get.gantt.info" function for creating a gantt object but the help on this is almost next to nothing !
>>>
>>> Any help you can provide on this would be great.
>>>
>>> There is another R package called "plan" which is very user friendly but for my purpose this doesn't have all the functionality I am looking for.
>>
>> The method to generate the most interest and attention to a question is to post a reproducible example with a clear description of the desired "functionality".
>>
>>>
>>> Thanks
>>> indr
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> 'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law
>>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org
>



From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Tue Apr 24 05:17:41 2018
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Tue, 24 Apr 2018 15:17:41 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
Message-ID: <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>

Hi

I think the subsetting works by giving you the panels for the 
corresponding levels of the conditioning variable(s).  Note that, if 
there is more than one conditioning variable, you will need more than 
one subsetting index.

For example, taking this plot with two conditioning variables and 12 
panels in total ...

dotplot(variety ~ yield | year * site, data=barley)

... this produces three pages ...

dotplot(variety ~ yield | year * site, data=barley,
         layout=c(2,2))

... and this produces the second page (both panels for the first 
conditioning variable and the third and fourth panels for the second 
conditioning variable) ...

dotplot(variety ~ yield | year * site, data=barley,
         layout=c(2,2))[1:2, 3:4]

Hope that helps

Paul

On 14/04/18 12:25, Rolf Turner wrote:
> 
> Suppose that (e.g.) xyplot() returns an object "xxx" with (say) 3 pages.
> I would like to extract/plot (print) just one of these pages, e.g.
> page 2.
> 
> Here's a toy example:
> 
> x?? <- rep(seq(0,1,length=11),12)
> set.seed(42)
> y?? <- rnorm(3*44)
> a?? <- rep(letters[1:12],each=11)
> dta <- data.frame(x=x,y=y,a=a)
> xxx <- xyplot(y~x|a,data=dta,layout=c(2,2))
> 
> I would to extract from xxx and print page 2 (the page corresponding to
> levels e, f, g and h).
> 
> Is there any (simple) way that I can do this?
> 
> I've mucked around with update.trellis() and [.trellis, but I cannot 
> make head nor tail of the documentation.? The [.trellis method seems to 
> work in some situations, but not in others, and since I cannot 
> understand what it actually does, I cannot figure out why.
> 
> E.g. in my toy example "xxx[5:8]" seems to give me what I want, but in 
> the context of my real application a similar construction does not work.
> 
> Thanks for any insight.
> 
> cheers,
> 
> Rolf Turner
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/



From r@turner @end|ng |rom @uck|@nd@@c@nz  Tue Apr 24 07:51:32 2018
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Tue, 24 Apr 2018 17:51:32 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
Message-ID: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>


On 24/04/18 15:17, Paul Murrell wrote:

> Hi
> 
> I think the subsetting works by giving you the panels for the 
> corresponding levels of the conditioning variable(s).? Note that, if 
> there is more than one conditioning variable, you will need more than 
> one subsetting index.
> 
> For example, taking this plot with two conditioning variables and 12 
> panels in total ...
> 
> dotplot(variety ~ yield | year * site, data=barley)
> 
> ... this produces three pages ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>  ??????? layout=c(2,2))
> 
> ... and this produces the second page (both panels for the first 
> conditioning variable and the third and fourth panels for the second 
> conditioning variable) ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>  ??????? layout=c(2,2))[1:2, 3:4]
> 
> Hope that helps.

Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
wanted was to take

     bar <- dotplot(variety ~ yield | year * site, data=barley)

and then do (something like)

     foo <- bar[<something>]

so that foo contains only the second page of bar, and then do print(foo)
to get a plot of (just) the second page.  Without re-issuing a 
(modified) plot command.

Is that not at all possible?

cheers,

Rolf.

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276



From |uc@m1968 @end|ng |rom gm@||@com  Tue Apr 24 09:30:25 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Tue, 24 Apr 2018 09:30:25 +0200
Subject: [R] How to visualise what code is processed within a for loop
Message-ID: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>

Hi,

I am trying to debug the following code:

for (i in 1:10){
  t <- paste("d0$V",i,sep="")
  t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
}

and I would like to see what code is actually processing R, how can I do
that?

More to the point, I am trying to update my variables d0$V1 to d0$V10
according to the presence or absence of some text (contained in the file
d1) within the d0$X0 variable.

The code seem to run ok, if I add print(table(t)) within the loop I can see
that the ifelse procedure is working and to some cases within the d0$V1 to
d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
after the for loop they are all still equal to zero...

Thanks,

Luca

	[[alternative HTML version deleted]]



From rn|@boh @end|ng |rom gm@||@com  Tue Apr 24 10:19:45 2018
From: rn|@boh @end|ng |rom gm@||@com (Bob O'Hara)
Date: Tue, 24 Apr 2018 10:19:45 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
Message-ID: <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>

The loop never assigns anything to d0, only t. The first line makes t
a character string "d0$V1" (or "d0$V2" etc.). The second line assigns
either 0 or 1 to t.

Looking at this, I don't think you've got into the R psychology (bad
news if you want to use R, good news in many other ways). I assume d0
is a list, so could you put the V's into a vector, and then just use
this:

d0$V <- sapply(d1[1:10,1], grepl, d0$X0)

(I haven't checked it, but it looks,like it will do the trick. It
returns a logical vector, so if you need integers, then use an
as.numeric() around the right hand side. Or hope that R does type
conversion for you when you need it)

HTH

Bob

On 24 April 2018 at 09:30, Luca Meyer <lucam1968 at gmail.com> wrote:
> Hi,
>
> I am trying to debug the following code:
>
> for (i in 1:10){
>   t <- paste("d0$V",i,sep="")
>   t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
> }
>
> and I would like to see what code is actually processing R, how can I do
> that?
>
> More to the point, I am trying to update my variables d0$V1 to d0$V10
> according to the presence or absence of some text (contained in the file
> d1) within the d0$X0 variable.
>
> The code seem to run ok, if I add print(table(t)) within the loop I can see
> that the ifelse procedure is working and to some cases within the d0$V1 to
> d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
> after the for loop they are all still equal to zero...
>
> Thanks,
>
> Luca
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Bob O'Hara
NOTE NEW ADDRESS!!!
Institutt for matematiske fag
NTNU
7491 Trondheim
Norway

Mobile: +49 1515 888 5440
Journal of Negative Results - EEB: www.jnr-eeb.org



From robertob@kker @end|ng |rom gm@||@com  Tue Apr 24 11:23:56 2018
From: robertob@kker @end|ng |rom gm@||@com (P. Roberto Bakker)
Date: Tue, 24 Apr 2018 11:23:56 +0200
Subject: [R] Copy text from Script syntax into .txt
Message-ID: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>

Hi everybody,

How can I get text from RScript (e.g. syntax, reminder) into the result
text.
Sink() does not do that - I only read the results and therefore I have to
'guess' which syntax was used where - reminders I wrote are lost.

Bw and thank you in advance,

Roberto

	[[alternative HTML version deleted]]



From th|erry@onke||nx @end|ng |rom |nbo@be  Tue Apr 24 12:01:02 2018
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Tue, 24 Apr 2018 12:01:02 +0200
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>

Dear Roberto,

The easiest way IMHO is to convert your script into an R markdown
document. See https://rmarkdown.rstudio.com/

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
AND FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does
not ensure that a reasonable answer can be extracted from a given body
of data. ~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////




2018-04-24 11:23 GMT+02:00 P. Roberto Bakker <robertobakker at gmail.com>:
> Hi everybody,
>
> How can I get text from RScript (e.g. syntax, reminder) into the result
> text.
> Sink() does not do that - I only read the results and therefore I have to
> 'guess' which syntax was used where - reminders I wrote are lost.
>
> Bw and thank you in advance,
>
> Roberto
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From |uc@m1968 @end|ng |rom gm@||@com  Tue Apr 24 12:09:54 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Tue, 24 Apr 2018 12:09:54 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <CAN-Z0xV=Xumc4Q8BGqJQQ2jhmtize3_Xm3MrSWgA6-bn9k_2-Q@mail.gmail.com>
Message-ID: <CABQyo866MUWJXMy9A1LkksvFet1y6LYcAVisJN2D5igHKo7iGA@mail.gmail.com>

Hi Bob,

Thank you for your suggestion. Actually d0 is a dataframe, does that change
something in the code you propose?

Kind regards,

Luca

2018-04-24 10:19 GMT+02:00 Bob O'Hara <rni.boh at gmail.com>:

> The loop never assigns anything to d0, only t. The first line makes t
> a character string "d0$V1" (or "d0$V2" etc.). The second line assigns
> either 0 or 1 to t.
>
> Looking at this, I don't think you've got into the R psychology (bad
> news if you want to use R, good news in many other ways). I assume d0
> is a list, so could you put the V's into a vector, and then just use
> this:
>
> d0$V <- sapply(d1[1:10,1], grepl, d0$X0)
>
> (I haven't checked it, but it looks,like it will do the trick. It
> returns a logical vector, so if you need integers, then use an
> as.numeric() around the right hand side. Or hope that R does type
> conversion for you when you need it)
>
> HTH
>
> Bob
>
> On 24 April 2018 at 09:30, Luca Meyer <lucam1968 at gmail.com> wrote:
> > Hi,
> >
> > I am trying to debug the following code:
> >
> > for (i in 1:10){
> >   t <- paste("d0$V",i,sep="")
> >   t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
> > }
> >
> > and I would like to see what code is actually processing R, how can I do
> > that?
> >
> > More to the point, I am trying to update my variables d0$V1 to d0$V10
> > according to the presence or absence of some text (contained in the file
> > d1) within the d0$X0 variable.
> >
> > The code seem to run ok, if I add print(table(t)) within the loop I can
> see
> > that the ifelse procedure is working and to some cases within the d0$V1
> to
> > d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
> > after the for loop they are all still equal to zero...
> >
> > Thanks,
> >
> > Luca
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Bob O'Hara
> NOTE NEW ADDRESS!!!
> Institutt for matematiske fag
> NTNU
> 7491 Trondheim
> Norway
>
> Mobile: +49 1515 888 5440
> Journal of Negative Results - EEB: www.jnr-eeb.org
>

	[[alternative HTML version deleted]]



From du|c@|m@ @end|ng |rom b|gpond@com  Tue Apr 24 16:23:26 2018
From: du|c@|m@ @end|ng |rom b|gpond@com (Duncan Mackay)
Date: Wed, 25 Apr 2018 00:23:26 +1000
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
Message-ID: <000401d3dbd7$cfc6f310$6f54d930$@bigpond.com>

Hi Rolf

do you need to use the  layout argument?

The layout is conditioned by the levels of a or unique values if not a factor. easier with factor

unique(dta$a)
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l"
data.frame( a= unique(dta$a), page = rep(1:3, ea = 4), col = 1:2,row  = rep(1:2, ea = 2))
   a page col row
1  a    1   1   1
2  b    1   2   1
3  c    1   1   2
4  d    1   2   2
5  e    2   1   1
6  f    2   2   1
7  g    2   1   2
8  h    2   2   2
9  i    3   1   1
10 j    3   2   1
11 k    3   1   2
12 l    3   2   2

I hope I have got the order right

full dataset
xyplot(y~x|a,data=dta)


     bar  = xyplot(y~x|a,data = subset(dta, a %in% c("e","f","g","h")) ))

print(bar)
(missed the dotplot requirement) but principle is the same.

you can use packet.number or which.packet if needed to make it simpler

use par.settings to do colours lines etc as well as spacing.

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Rolf Turner
Sent: Tuesday, 24 April 2018 15:52
To: Paul Murrell
Cc: r-help at r-project.org; deepayan.sarkar at r-project.org
Subject: Re: [R] [FORGED] Extracting specified pages from a lattice ("trellis") object.


On 24/04/18 15:17, Paul Murrell wrote:

> Hi
> 
> I think the subsetting works by giving you the panels for the 
> corresponding levels of the conditioning variable(s).  Note that, if 
> there is more than one conditioning variable, you will need more than 
> one subsetting index.
> 
> For example, taking this plot with two conditioning variables and 12 
> panels in total ...
> 
> dotplot(variety ~ yield | year * site, data=barley)
> 
> ... this produces three pages ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>          layout=c(2,2))
> 
> ... and this produces the second page (both panels for the first 
> conditioning variable and the third and fourth panels for the second 
> conditioning variable) ...
> 
> dotplot(variety ~ yield | year * site, data=barley,
>          layout=c(2,2))[1:2, 3:4]
> 
> Hope that helps.

Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
wanted was to take

     bar <- dotplot(variety ~ yield | year * site, data=barley)

and then do (something like)

     foo <- bar[<something>]

so that foo contains only the second page of bar, and then do print(foo)
to get a plot of (just) the second page.  Without re-issuing a 
(modified) plot command.

Is that not at all possible?

cheers,

Rolf.

-- 
Technical Editor ANZJS
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From ted@h@rd|ng @end|ng |rom w|@ndre@@net  Tue Apr 24 18:53:13 2018
From: ted@h@rd|ng @end|ng |rom w|@ndre@@net (Ted Harding)
Date: Tue, 24 Apr 2018 17:53:13 +0100
Subject: [R] TEST message
Message-ID: <1524588793.5167.4.camel@deb2.fort.knox.uk>

Apologies for disturbance! Just checking that I can
get through to r-help.
Ted.



From nj@negovet|ch @end|ng |rom gm@||@com  Tue Apr 24 19:49:54 2018
From: nj@negovet|ch @end|ng |rom gm@||@com (Nicholas Negovetich)
Date: Tue, 24 Apr 2018 12:49:54 -0500
Subject: [R] TukeyHSD and glht differ for models with a covariate
Message-ID: <03e55b6c-742c-5247-573d-e2f33919d1d1@gmail.com>

I have a question about TukeyHSD and the glht function because I'm 
getting different answers when a covariate is included in model for 
ANCOVA.? I'm using the cabbages dataset in the 'MASS' package for 
repeatability.? If I include HeadWt as a covariate, then I get different 
answers when performing multiple comparisons using TukeyHSD and the glht 
function. The difference appears related to the predicted means used in 
the Tukey posthoc test. The glht function uses the marginal means, which 
I can obtain using the effect function in the 'effects' package.? 
TukeyHSD generates the means using the model.tables function.? Per the 
help file, "the implementation is incomplete, and only simpler cases 
have been tested thoroughly". Does this mean that TukeyHSD shouldn't be 
used when covariates are included in the model? Could anyone elaborate 
on why the model.tables function is generating means that differ from 
the effect function?? Thanks...

#--------------------------------
# Load libraries and data
library(multcomp)
library(effects)
data(cabbages, package='MASS')

#create the model
mod1 <- lm(VitC~HeadWt+Cult+Date, data=cabbages)

# Using TukeyHSD
TukeyHSD(aov(mod1), which='Date')

#? Tukey multiple comparisons of means
# ? 95% family-wise confidence level
#
#Fit: aov(formula = mod1)
#
#$Date
#????????????? diff??????? lwr????? upr???? p adj
#d20-d16 -0.9216847 -5.5216345 3.678265 0.8797985
#d21-d16? 3.4237706 -1.1761792 8.023720 0.1814431
#d21-d20? 4.3454553 -0.2544945 8.945405 0.0678038

# Tukey contrasts in glht should generate the same difference in means, 
but it does not
summary(glht(mod1, linfct=mcp(Date='Tukey')))

#
#???? Simultaneous Tests for General Linear Hypotheses
#
#Multiple Comparisons of Means: Tukey Contrasts
#
#
#Fit: lm(formula = VitC ~ HeadWt + Cult + Date, data = cabbages)
#
#Linear Hypotheses:
#?????????????? Estimate Std. Error t value Pr(>|t|)
#d20 - d16 == 0?? -1.213????? 1.926? -0.630?? 0.8042
#d21 - d16 == 0??? 4.186????? 2.018?? 2.074?? 0.1044
#d21 - d20 == 0??? 5.400????? 2.112?? 2.556?? 0.0351 *
#---
#Signif. codes:? 0 ?***? 0.001 ?**? 0.01 ?*? 0.05 ?.? 0.1 ? ? 1
#(Adjusted p values reported -- single-step method)

# Differences used for glht could be obtained with the effect function
effect('Date', mod1)

#
# Date effect
#Date
#???? d16????? d20????? d21
#56.95889 55.74578 61.14533

# model.tables() is used to generate the means for TukeyHSD
model.tables(aov(mod1), type='means')$tables$Date

#Date
#???? d16????? d20????? d21
#57.11597 56.19429 60.53974
#Warning message:
#In replications(paste("~", xx), data = mf) : non-factors ignored: HeadWt



From bog@@o@chr|@to|er @end|ng |rom gm@||@com  Tue Apr 24 20:29:20 2018
From: bog@@o@chr|@to|er @end|ng |rom gm@||@com (Christofer Bogaso)
Date: Tue, 24 Apr 2018 23:59:20 +0530
Subject: [R] Rolling window difference for zoo time series
Message-ID: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>

Hi,

I have a 'zoo' time series as below :

Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)

Now I want to calculate First order difference of order 1, rolling
window basis i.e.

(Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
(Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
.....

Is there any direct function available to achieve this?

Thanks,



From er|cjberger @end|ng |rom gm@||@com  Tue Apr 24 21:01:25 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 24 Apr 2018 22:01:25 +0300
Subject: [R] Rolling window difference for zoo time series
In-Reply-To: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
References: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
Message-ID: <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>

Zoo_TS/lag(Zoo_TS) - 1


On Tue, Apr 24, 2018 at 9:29 PM, Christofer Bogaso <
bogaso.christofer at gmail.com> wrote:

> Hi,
>
> I have a 'zoo' time series as below :
>
> Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)
>
> Now I want to calculate First order difference of order 1, rolling
> window basis i.e.
>
> (Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
> (Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
> .....
>
> Is there any direct function available to achieve this?
>
> Thanks,
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From 538280 @end|ng |rom gm@||@com  Tue Apr 24 21:42:19 2018
From: 538280 @end|ng |rom gm@||@com (Greg Snow)
Date: Tue, 24 Apr 2018 13:42:19 -0600
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>

Look at the spin and stitch functions in the knitr package if you want
to process an existing script into an output that mixes the code run
with the output.

Look at the txtStart and related functions in the TeachingDemos
package if you want the code and output saved in a file from a session
where you are typing in commands.

If in general you want text, code, and output mixed, learn the knitr
and/or rmarkdown packages for how to write a file that can be
processed into a report.  Also consider learning about RStudio
notebook documents where you can have the output mixed into the
"script" file.

On Tue, Apr 24, 2018 at 3:23 AM, P. Roberto Bakker
<robertobakker at gmail.com> wrote:
> Hi everybody,
>
> How can I get text from RScript (e.g. syntax, reminder) into the result
> text.
> Sink() does not do that - I only read the results and therefore I have to
> 'guess' which syntax was used where - reminders I wrote are lost.
>
> Bw and thank you in advance,
>
> Roberto
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com



From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Tue Apr 24 22:02:59 2018
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Tue, 24 Apr 2018 22:02:59 +0200 (CEST)
Subject: [R] Rolling window difference for zoo time series
In-Reply-To: <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>
References: <CA+dpOJmC=iuGxbuKQyP8OYDWg2k5A1EoHgyVCiUuBFphOdfhvw@mail.gmail.com>
 <CAGgJW76YuQ6OefSgJ67p-9xxQ0a3MwN4HNiRv58Y3y37nPjDLg@mail.gmail.com>
Message-ID: <alpine.DEB.2.21.1804242202060.7294@paninaro>

On Tue, 24 Apr 2018, Eric Berger wrote:

> Zoo_TS/lag(Zoo_TS) - 1

Or:

diff(Zoo_TS, arithmetic = FALSE) - 1

>
> On Tue, Apr 24, 2018 at 9:29 PM, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
>
>> Hi,
>>
>> I have a 'zoo' time series as below :
>>
>> Zoo_TS = zoo(5:1, as.Date(Sys.time())+0:4)
>>
>> Now I want to calculate First order difference of order 1, rolling
>> window basis i.e.
>>
>> (Zoo_TS[2] - Zoo_TS[1] ) / Zoo_TS[1]
>> (Zoo_TS[3] - Zoo_TS[2] ) / Zoo_TS[2]
>> .....
>>
>> Is there any direct function available to achieve this?
>>
>> Thanks,
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From donm@c @end|ng |rom m@t@t@t@com  Wed Apr 25 05:22:15 2018
From: donm@c @end|ng |rom m@t@t@t@com (Donald Macnaughton)
Date: Tue, 24 Apr 2018 23:22:15 -0400
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
Message-ID: <004a01d3dc44$9d309510$d791bf30$@matstat.com>

I'm drawing a paneled histogram using the lattice package. I've succeeded in
adding minor tick marks to the vertical axis, but I can't get the desired
number of minor tick marks between the major tick marks. 

I've attached a self-contained program to illustrate the problem.

Thanks for your help,

Don Macnaughton


Here's my sessionInfo:

R version 3.4.3 (2017-11-30)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 16299)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base     

other attached packages:
[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
[7] survival_2.41-3     lattice_0.20-35    

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
 [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
 [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
[37] munsell_0.4.3    


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Apr 25 05:28:26 2018
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 24 Apr 2018 20:28:26 -0700
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
Message-ID: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've
>succeeded in
>adding minor tick marks to the vertical axis, but I can't get the
>desired
>number of minor tick marks between the major tick marks. 
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit)
>Running under: Windows 10 x64 (build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.



From donm@c @end|ng |rom m@t@t@t@com  Wed Apr 25 06:12:38 2018
From: donm@c @end|ng |rom m@t@t@t@com (Donald Macnaughton)
Date: Wed, 25 Apr 2018 00:12:38 -0400
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
Message-ID: <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting guide seemed to imply that non-binary attachments would work. But I see that the file was stripped off. 

I installed the program file on a web site, but when I downloaded it, the line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in 
# the lattice package.
# This program requires the  latticeExtra  package to be installed to
# generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks on
# the vertical axis, which helps to show the viewer that all the bars
# in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package
# has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on
# the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application 
# the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0)
for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent, 
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help <R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.



From du|c@|m@ @end|ng |rom b|gpond@com  Wed Apr 25 07:26:37 2018
From: du|c@|m@ @end|ng |rom b|gpond@com (Duncan Mackay)
Date: Wed, 25 Apr 2018 15:26:37 +1000
Subject: [R] Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
 <000001d3dc4b$a6d6f6c0$f484e440$@matstat.com>
Message-ID: <000001d3dc55$fc366330$f4a32990$@bigpond.com>

Hi

You may need to make a custom function for yscale.components; I think there
is an example in the help guides
Also have a look at
https://stat.ethz.ch/pipermail/r-help/2007-June/134524.html 

Regards

Duncan


Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350

 

-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Donald
Macnaughton
Sent: Wednesday, 25 April 2018 14:13
To: 'Jeff Newmiller'; 'R-Help'
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting
guide seemed to imply that non-binary attachments would work. But I see that
the file was stripped off. 

I installed the program file on a web site, but when I downloaded it, the
line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in 
# the lattice package.
# This program requires the  latticeExtra  package to be installed to
# generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks
on
# the vertical axis, which helps to show the viewer that all the bars
# in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package
# has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on
# the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application 
# the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0)
for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent, 
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help
<R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com>
wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From petrett@ @end|ng |rom un|n@@|t  Wed Apr 25 10:42:11 2018
From: petrett@ @end|ng |rom un|n@@|t (Mario Petretta)
Date: Wed, 25 Apr 2018 10:42:11 +0200
Subject: [R] Fitting survival trees with competing risk
Message-ID: <000001d3dc71$4df76370$e9e62a50$@unina.it>

Dear all,

 

I'm interested in fitting survival trees with competing risk analysis.

The tree should show the cumulative incidence function for each terminal
node .

 

I read several paper illustrating this possibility, but to the best of my
knowledge no R code are reported.

 

There is any R package for this fit?

 

Thank you very much in advance.

 

Mario Petretta

 

 

----------------------------------------------------------------------------

Mario Petretta, MD, FAHA

Professor of Internal Medicine

Department of Translational Medical Sciences

Naples University "Federico II"

Italy

 


	[[alternative HTML version deleted]]



From donm@c @end|ng |rom m@t@t@t@com  Wed Apr 25 14:02:26 2018
From: donm@c @end|ng |rom m@t@t@t@com (Donald Macnaughton)
Date: Wed, 25 Apr 2018 08:02:26 -0400
Subject: [R] FW:  Can't Get Lattice Histogram Minor Tick Marks to Work
In-Reply-To: <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
References: <004a01d3dc44$9d309510$d791bf30$@matstat.com>
 <775FCCB7-0C45-4B7B-8C4C-55D1E4898D43@dcn.davis.ca.us>
Message-ID: <000701d3dc8d$48335720$d89a0560$@matstat.com>

Thanks Jeff, 

I attached a file with the program to my earlier email because the posting guide seemed to imply that non-binary attachments would work. But I see that the file was stripped off. 

Restating the problem:

I'm drawing a paneled histogram using the lattice package. I've succeeded in adding minor tick marks to the vertical axis, but I can't get the desired number of minor tick marks between the major tick marks.

I installed the program file on a web site, but when I downloaded it, the line breaks were stripped out. So I've included the program below:

-------------------------------------------------------

# This R program illustrates a problem with the histogram function in # the lattice package.
# This program requires the  latticeExtra  package to be installed to # generate the minor tickmarks.

library(lattice)
library(latticeExtra)  

# First, please run the program to see the problem.

# Note how the histogram shows minor tickmarks on the vertical axis. 
# I would like to show only a SINGLE minor tickmark between major tickmarks on # the vertical axis, which helps to show the viewer that all the bars # in the left panel are at five percent.

# The yscale.components.subticks function in the latticeExtras package # has arguments to contol the minor tickmarks, but I can't get them to work.
# How can a get a single minor tickmark between the major tickmarks on # the vertical axis?

# Thanks for your help,

# Don Macnaughton donmac at matstat.com


# Generate data in an 20 x 2 matrix for left panel. In my real application # the data file contains many more rows, but that's not necessary here.
for (i in 1:20) {
    if (i == 1) {pmat = c(0.045,0)} else {
                 pmat = rbind(pmat,c(i*0.05-0.001,0))}
                }

# Generate data for the right panel in the same matrix.
counts = c(90, 12.5, 9, 8, 7, 6.5, 6, 5.5, 5, 4.5, 
           4, 3.5, 3, 2.8, 2.2, 2, 1.8, 1.6, 1.4, 1.0) for (i in 1:20) {
    maxCount = 100 * counts[i]
    for (j in 1:maxCount){
    pmat = rbind( pmat, c(i*0.05-0.001,2) )
                         }
                }

# Convert the matrix to a data frame and add column names.
pDat = data.frame(pmat)
colnames(pDat) = c("pValue","nonCent")


# Create a factor to enable titles on the two panels.
nonCent.f = factor(pDat$nonCent,
  labels=c("Noncentrality = 0.0", "Noncentrality = 2.0"))

# Use the lattice histogram function to draw the histogram.
histogram( ~ pValue | nonCent.f, data = pDat, nint = 20,
   endpoints = c(0, 1), layout = c(2,1), 
   yscale.components=yscale.components.subticks,
   scales=list(alternating=FALSE,tck=c(1,0)),
   col="lightgray")

-------------------------------------------------------


Don Macnaughton



-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, April 24, 2018 11:28 PM
To: r-help at r-project.org; Donald Macnaughton <donmac at matstat.com>; R-Help <R-help at r-project.org>
Subject: Re: [R] Can't Get Lattice Histogram Minor Tick Marks to Work

Per the Posting Guide, why didn't you post the reproducible R code example? 

On April 24, 2018 8:22:15 PM PDT, Donald Macnaughton <donmac at matstat.com> wrote:
>I'm drawing a paneled histogram using the lattice package. I've 
>succeeded in adding minor tick marks to the vertical axis, but I can't 
>get the desired number of minor tick marks between the major tick 
>marks.
>
>I've attached a self-contained program to illustrate the problem.
>
>Thanks for your help,
>
>Don Macnaughton
>
>
>Here's my sessionInfo:
>
>R version 3.4.3 (2017-11-30)
>Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 
>(build 16299)
>
>Matrix products: default
>
>locale:
>[1] LC_COLLATE=English_United States.1252 
>[2] LC_CTYPE=English_United States.1252   
>[3] LC_MONETARY=English_United States.1252
>[4] LC_NUMERIC=C                          
>[5] LC_TIME=English_United States.1252    
>
>attached base packages:
>[1] graphics  grDevices utils     datasets  stats     methods   base   
> 
>
>other attached packages:
>[1] psych_1.7.8         latticeExtra_0.6-28 RColorBrewer_1.1-2 
>[4] Hmisc_4.0-3         ggplot2_2.2.1       Formula_1.2-2      
>[7] survival_2.41-3     lattice_0.20-35    
>
>loaded via a namespace (and not attached):
> [1] Rcpp_0.12.14        pillar_1.0.1        compiler_3.4.3     
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.3        
> [7] rpart_4.1-11        digest_0.6.13       nlme_3.1-131       
>[10] tibble_1.4.1        gtable_0.2.0        checkmate_1.8.5    
>[13] htmlTable_1.11.1    rlang_0.1.6         Matrix_1.2-12      
>[16] rstudioapi_0.7      parallel_3.4.3      gridExtra_2.3      
>[19] stringr_1.2.0       cluster_2.0.6       knitr_1.18         
>[22] htmlwidgets_0.9     grid_3.4.3          nnet_7.3-12        
>[25] data.table_1.10.4-3 foreign_0.8-69      magrittr_1.5       
>[28] backports_1.1.2     scales_0.5.0        htmltools_0.3.6    
>[31] splines_3.4.3       mnormt_1.5-5        colorspace_1.3-2   
>[34] stringi_1.1.6       acepack_1.4.1       lazyeval_0.2.1     
>[37] munsell_0.4.3    
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.



From robertob@kker @end|ng |rom gm@||@com  Wed Apr 25 17:20:41 2018
From: robertob@kker @end|ng |rom gm@||@com (P. Roberto Bakker)
Date: Wed, 25 Apr 2018 15:20:41 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <CAJuCY5wYUX6GcaJOO-rWPnSSypzjnm-Rkw1XqpDMEhrxObSU5Q@mail.gmail.com>
Message-ID: <CAKDq9_OJCT_QFgYY+PyjvAfWeoDN-93aRrLsYpSe5CsmVx8M5Q@mail.gmail.com>

Hi Thierry,

Thank you for your information.

Bw Roberto

Op di 24 apr. 2018 12:01 schreef Thierry Onkelinx <thierry.onkelinx at inbo.be
>:

> Dear Roberto,
>
> The easiest way IMHO is to convert your script into an R markdown
> document. See https://rmarkdown.rstudio.com/
>
> Best regards,
>
> ir. Thierry Onkelinx
> Statisticus / Statistician
>
> Vlaamse Overheid / Government of Flanders
> INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE
> AND FOREST
> Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
> thierry.onkelinx at inbo.be
> Havenlaan 88 bus 73, 1000 Brussel
> www.inbo.be
>
>
> ///////////////////////////////////////////////////////////////////////////////////////////
> To call in the statistician after the experiment is done may be no
> more than asking him to perform a post-mortem examination: he may be
> able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher
> The plural of anecdote is not data. ~ Roger Brinner
> The combination of some data and an aching desire for an answer does
> not ensure that a reasonable answer can be extracted from a given body
> of data. ~ John Tukey
>
> ///////////////////////////////////////////////////////////////////////////////////////////
>
>
>
>
> 2018-04-24 11:23 GMT+02:00 P. Roberto Bakker <robertobakker at gmail.com>:
> > Hi everybody,
> >
> > How can I get text from RScript (e.g. syntax, reminder) into the result
> > text.
> > Sink() does not do that - I only read the results and therefore I have to
> > 'guess' which syntax was used where - reminders I wrote are lost.
> >
> > Bw and thank you in advance,
> >
> > Roberto
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From robertob@kker @end|ng |rom gm@||@com  Wed Apr 25 17:21:35 2018
From: robertob@kker @end|ng |rom gm@||@com (P. Roberto Bakker)
Date: Wed, 25 Apr 2018 15:21:35 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <CAFEqCdwQWO8oGK25KO1oF8C10zt33qGqho3EdQmcf0Ufg3PQSQ@mail.gmail.com>
Message-ID: <CAKDq9_Ms7sTNfirbW7DjWLotbjZYbp3aw7yvQDP81EoiT9jxiw@mail.gmail.com>

Hi Greg,

Thank you for all information.

Bw Roberto




Op di 24 apr. 2018 21:42 schreef Greg Snow <538280 at gmail.com>:

> Look at the spin and stitch functions in the knitr package if you want
> to process an existing script into an output that mixes the code run
> with the output.
>
> Look at the txtStart and related functions in the TeachingDemos
> package if you want the code and output saved in a file from a session
> where you are typing in commands.
>
> If in general you want text, code, and output mixed, learn the knitr
> and/or rmarkdown packages for how to write a file that can be
> processed into a report.  Also consider learning about RStudio
> notebook documents where you can have the output mixed into the
> "script" file.
>
> On Tue, Apr 24, 2018 at 3:23 AM, P. Roberto Bakker
> <robertobakker at gmail.com> wrote:
> > Hi everybody,
> >
> > How can I get text from RScript (e.g. syntax, reminder) into the result
> > text.
> > Sink() does not do that - I only read the results and therefore I have to
> > 'guess' which syntax was used where - reminders I wrote are lost.
> >
> > Bw and thank you in advance,
> >
> > Roberto
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Gregory (Greg) L. Snow Ph.D.
> 538280 at gmail.com
>

	[[alternative HTML version deleted]]



From m@cqueen1 @end|ng |rom ||n|@gov  Wed Apr 25 23:03:52 2018
From: m@cqueen1 @end|ng |rom ||n|@gov (MacQueen, Don)
Date: Wed, 25 Apr 2018 21:03:52 +0000
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
Message-ID: <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>

Your code doesn't make sense to me in a couple of ways.

Inside the loop, the first line assigns a value to an object named "t".
Then, the second line does the same thing, assigns a value to an object named "t".

The value of the object named "t" after the second line will be the output of the ifelse() expression, whatever that is. This has the effect of making the first line irrelevant. Whatever value t has after the first line is replaced by whatever it gets from the second line.

It looks like the first line inside the loop is constructing the name of a data frame column, and storing that name as a character string. However, the second line doesn't use that name at all. If your goal is to update the contents of a column, you need to assign something to that column in the next line. Instead you assign it to the object named "t".

What you're looking for will be more along the lines of this:

    for (i in 1:10){
      nm <- paste0("V", i)
      d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
    }

This may not a complete solution, since I have no idea what the contents or structure of d1 are, or what the regexpr() is expected to return.

And notice the use of double brackets, [[ and ]]. This is one way to reference a column of a  data frame when you have the column's name stored in a variable. Another way is d0[ , nm]


A couple of additional comments:

 "t" is a poor choice of object name, because it is one of R's built-in functions (immediately after starting a fresh session of R, with nothing left over from any previous session, type help("r") and see what you get).

 ifelse() is intended for use on vectors, not scalars, and it looks like maybe you're using it on a scalar (can't be sure about this, though)

For example, ifelse() is designed for this kind of usage:
> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
[1]  1 12  3

Although it works ok for these
> ifelse(TRUE, 3, 4)
[1] 3
> ifelse(FALSE, 3, 4)
[1] 4
They are not really what it is intended for.

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:

    Hi,
    
    I am trying to debug the following code:
    
    for (i in 1:10){
      t <- paste("d0$V",i,sep="")
      t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
    }
    
    and I would like to see what code is actually processing R, how can I do
    that?
    
    More to the point, I am trying to update my variables d0$V1 to d0$V10
    according to the presence or absence of some text (contained in the file
    d1) within the d0$X0 variable.
    
    The code seem to run ok, if I add print(table(t)) within the loop I can see
    that the ifelse procedure is working and to some cases within the d0$V1 to
    d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to d0$V10
    after the for loop they are all still equal to zero...
    
    Thanks,
    
    Luca
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From m@cqueen1 @end|ng |rom ||n|@gov  Wed Apr 25 23:13:46 2018
From: m@cqueen1 @end|ng |rom ||n|@gov (MacQueen, Don)
Date: Wed, 25 Apr 2018 21:13:46 +0000
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
Message-ID: <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>

Try putting this
   options(echo=TRUE)
at the beginning of your script

See ?source for a clue

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509
 
 
?On 4/24/18, 2:23 AM, "R-help on behalf of P. Roberto Bakker" <r-help-bounces at r-project.org on behalf of robertobakker at gmail.com> wrote:

    Hi everybody,
    
    How can I get text from RScript (e.g. syntax, reminder) into the result
    text.
    Sink() does not do that - I only read the results and therefore I have to
    'guess' which syntax was used where - reminders I wrote are lost.
    
    Bw and thank you in advance,
    
    Roberto
    
    	[[alternative HTML version deleted]]
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Wed Apr 25 23:24:14 2018
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Wed, 25 Apr 2018 21:24:14 +0000 (UTC)
Subject: [R] Zero errors : Bug in my R code ?
References: <1750747372.1432716.1524691454704.ref@mail.yahoo.com>
Message-ID: <1750747372.1432716.1524691454704@mail.yahoo.com>

Dear R-experts,

I guess I have a problem with my fast function (fast tau estimator) here below. Indeed, zero errors look highly suspicious. I guess there is a bug in my R code. How could I correct my R code ?

# install.packages( "robustbase" )
# install.packages( "MASS" )
# install.packages( "quantreg" )
# install.packages( "RobPer" )
# install.packages("devtools")? # install_github("kloke/hbrfit") #install.packages('http://www.stat.wmich.edu/mckean/Stat666/Pkgs/npsmReg2_0.1.1.tar.gz') 
#install.packages("DMwR")

library(robustbase)
library(MASS)
library(quantreg)
library(RobPer)
library(hbrfit)
library("devtools") 
library("DMwR")

bmi=c(23,43,12,1,23,4,3,4,5,5,6,5,5,34,67,87,32,12,23,19) 
glucose=c(98,34,21,13,2,43,16,43,28,93,11,14,16,43,23,65,42,16,54,32)
crp=c(56,34,42,32,1,2,54,47,67,65,38,95,45,76,67,87,35,41,34,54)
newdata=data.frame(bmi,glucose,crp)
?
reg1 <- lm( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,reg1$fitted.values)

reg <- lmrob( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,reg$fitted.values)

Huber <- rlm( crp ~ bmi+glucose,data=newdata)
DMwR::regr.eval(newdata$crp,Huber$fitted.values)

Tukey <- rlm( crp ~ bmi+glucose, data=newdata, psi = psi.bisquare )
DMwR::regr.eval(newdata$crp,Tukey$fitted.values)

L1 <- rq( crp ~ bmi+glucose, data=newdata, tau = 0.5 )
DMwR::regr.eval(newdata$crp,L1$fitted.values)

fast <- FastTau(model.matrix(~newdata$bmi+newdata$glucose),newdata$crp)
DMwR::regr.eval(newdata$crp,fast$fitted.values)

HBR<-hbrfit(crp ~ bmi+glucose)
DMwR::regr.eval(newdata$crp,HBR$fitted.values)



From robertob@kker @end|ng |rom gm@||@com  Thu Apr 26 07:28:32 2018
From: robertob@kker @end|ng |rom gm@||@com (P. Roberto Bakker)
Date: Thu, 26 Apr 2018 07:28:32 +0200
Subject: [R] Copy text from Script syntax into .txt
In-Reply-To: <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>
References: <CAKDq9_OnneCm7RKi9_GRRRdt5WQ-ia_pwd65KqOxZmmco-bOoQ@mail.gmail.com>
 <24B58713-F865-4800-A379-D18B62577F83@llnl.gov>
Message-ID: <CAKDq9_M0Vi37ih23smHEYW8U4popPvK3t1r3jROMP9r-hgfLdg@mail.gmail.com>

Dear Don,

Thank you for your information.

Bw Roberto

2018-04-25 23:13 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Try putting this
>    options(echo=TRUE)
> at the beginning of your script
>
> See ?source for a clue
>
> -Don
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> ?On 4/24/18, 2:23 AM, "R-help on behalf of P. Roberto Bakker" <
> r-help-bounces at r-project.org on behalf of robertobakker at gmail.com> wrote:
>
>     Hi everybody,
>
>     How can I get text from RScript (e.g. syntax, reminder) into the result
>     text.
>     Sink() does not do that - I only read the results and therefore I have
> to
>     'guess' which syntax was used where - reminders I wrote are lost.
>
>     Bw and thank you in advance,
>
>     Roberto
>
>         [[alternative HTML version deleted]]
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com  Thu Apr 26 14:07:40 2018
From: @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 17:37:40 +0530
Subject: [R] Package 'data.table' in version R-3.5.0 not successfully being
 installed
Message-ID: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>

Dear Sir,

I am using R on Windows OS platform. I upgraded my R-system to version
R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
stuck up in the package 'data.table', which is required by many other
packages in R-codes in my R-Markdown files.

I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
well as "RStudio" mirrors when the following errors are being shown:

From  USA-berkely and UK-bristol mirrors:
=================================
Package which is only available in source form, and may need
  compilation of C/C++/Fortran: ?data.table?
  These will not be installed
Warning message:
In download.file(url, destfile = f, quiet = TRUE) :
  InternetOpenUrl failed: ''

From RStudio mirror:
================
Package which is only available in source form, and may need compilation of
  C/C++/Fortran: ?data.table?
  These will not be installed

Afterwards, I consulted google users, I downloaded the source package:
"data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
following command for installing from source only:


install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")

This generated following errors messages:

> install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
Installing package into ?C:/Users/Dr. A.K.
Singh/Documents/R/win-library/3.5?
(as ?lib? is unspecified)
* installing *source* package 'data.table' ...
** package 'data.table' successfully unpacked and MD5 sums checked
** libs
Warning in system(cmd) : 'make' not found
ERROR: compilation failed for package 'data.table'
* removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-library/3.5/data.table'
* restoring previous 'C:/Users/Dr. A.K.
Singh/Documents/R/win-library/3.5/data.table'
In R CMD INSTALL
Warning message:
In install.packages("C:\\Users\\Dr. A.K.
Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
  installation of package
?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero exit
status
>


I is requested to kindly help. I was writing a book using R-Markdown. And I
am stuck up as described above.

Dr. A.K. Singh
Professor and Head
Department of Agricultural Statistics
Indira Gandhi Krishi Vishwavidyalaya
Raipur
Chhattisgarh
India

	[[alternative HTML version deleted]]



From @tyen @end|ng |rom ntu@edu@tw  Thu Apr 26 14:15:26 2018
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Thu, 26 Apr 2018 20:15:26 +0800
Subject: [R] Problem building binary data into library file
In-Reply-To: <58e5630e-3274-b4ac-6e76-e4e8a46713d4@gmail.com>
References: <f1de81cd-9907-1782-2801-19556db2b91b@gmail.com>
 <58e5630e-3274-b4ac-6e76-e4e8a46713d4@gmail.com>
Message-ID: <cbc6ac0e-048e-d76b-1c74-44d0f60cd026@ntu.edu.tw>

I build binary data files into a library by placing the .rda files at the proper \data sub-folder before building the library with the following procedure:
1. File -> Open project
2. Build -> Build binary packages.
This has worked up to 3 .rda files.

Now, I add another .rda file to the folder. I received a very strange, seemingly unrelated warning message that says:

Warning: object '.Random.seed' is created by more than one data call

The weird thing about this is, repeating the procedure, I sometime can access the data file from the library (i.e., by data(filename)), other time I cannot access the data file. The data file is big but not so big (571 KB).

Any clues? Why am I getting that warning message?


==
Below is a log with more details.

==> Rcmd.exe INSTALL --build --preclean yenlib3

* installing to library 'C:/Users/syen01/Documents/R/win-library/3.4'
* installing *source* package 'yenlib3' ...
** R
** data
*** moving datasets to lazyload DB
Warning: object '.Random.seed' is created by more than one data call
** preparing package for lazy loading
** help
*** installing help indices
   converting help for package 'yenlib3'
     finding HTML links ... done
     aids                                    html
     all.variables                           html
  (truncated)
     ate.boprobitE                           html
** building package indices
** testing if installed package can be loaded
*** arch - i386
*** arch - x64
* MD5 sums
packaged installation of 'yenlib3' as yenlib3_1.1.0.zip
* DONE (yenlib3)
In R CMD INSTALL
Binary package written to Y:/


	[[alternative HTML version deleted]]



From po|ychron|@@ko@tou|@@ @end|ng |rom gm@||@com  Thu Apr 26 15:46:11 2018
From: po|ychron|@@ko@tou|@@ @end|ng |rom gm@||@com (Polychronis Kostoulas)
Date: Thu, 26 Apr 2018 16:46:11 +0300
Subject: [R] How to define mutualy exclusive parameters of a function
Message-ID: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>

Dear All,
apologies if this is basic: I am writing a function:

fb<-function(mean, median, mode, a, b=0.95, lower=F)
{....}

The arguments mean, median and mode are mutually exclusive (i.e. the user
should define only one of these). How do I code this within the function?

Thanks,
Pol

	[[alternative HTML version deleted]]



From er|cjberger @end|ng |rom gm@||@com  Thu Apr 26 16:10:16 2018
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 26 Apr 2018 17:10:16 +0300
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
Message-ID: <CAGgJW75voV6PUNpNC3cr4ZSoGAgvwv=kP9SNjDEfYrP+VrOF9A@mail.gmail.com>

Hi Pol,
Here is one way:

fb <- function(mean=NULL, median=NULL, mode=NULL, a, b=0.95, lower=F) {

    stopifnot ( (is.null(mean) + is.null(median) + is.null(mode)) == 2 )

    etc...

}


HTH,
Eric


On Thu, Apr 26, 2018 at 4:46 PM, Polychronis Kostoulas <
polychronis.kostoulas at gmail.com> wrote:

> Dear All,
> apologies if this is basic: I am writing a function:
>
> fb<-function(mean, median, mode, a, b=0.95, lower=F)
> {....}
>
> The arguments mean, median and mode are mutually exclusive (i.e. the user
> should define only one of these). How do I code this within the function?
>
> Thanks,
> Pol
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]



From j|ox @end|ng |rom mcm@@ter@c@  Thu Apr 26 16:33:28 2018
From: j|ox @end|ng |rom mcm@@ter@c@ (Fox, John)
Date: Thu, 26 Apr 2018 14:33:28 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>

Dear A.K. Singh,

As you discovered, the data.table package has an error under R 3.5.0 that prevents CRAN from distributing a Windows binary for the package. The reason that you weren't able to install the package from source is apparently that you haven't installed the R package-building tools for Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.

Because a number of users of my Rcmdr and car packages have contacted me with a similar issue, as a temporary work-around I've placed a Windows binary for the data.table package on my website at <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>. You should be able to install the package from there via the command

	install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")

I expect that this problem will go away when the maintainer of the data.table package fixes the error.

I hope this helps,
 John

--------------------------------------
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
Web: socialsciences.mcmaster.ca/jfox/



> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Akhilesh
> Singh
> Sent: Thursday, April 26, 2018 8:08 AM
> To: r-help mailing list <r-help at r-project.org>
> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> being installed
> 
> Dear Sir,
> 
> I am using R on Windows OS platform. I upgraded my R-system to version
> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> stuck up in the package 'data.table', which is required by many other
> packages in R-codes in my R-Markdown files.
> 
> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> well as "RStudio" mirrors when the following errors are being shown:
> 
> From  USA-berkely and UK-bristol mirrors:
> =================================
> Package which is only available in source form, and may need
>   compilation of C/C++/Fortran: ?data.table?
>   These will not be installed
> Warning message:
> In download.file(url, destfile = f, quiet = TRUE) :
>   InternetOpenUrl failed: ''
> 
> From RStudio mirror:
> ================
> Package which is only available in source form, and may need compilation
> of
>   C/C++/Fortran: ?data.table?
>   These will not be installed
> 
> Afterwards, I consulted google users, I downloaded the source package:
> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
> following command for installing from source only:
> 
> 
> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> type="source")
> 
> This generated following errors messages:
> 
> > install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> type="source") Installing package into ?C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5?
> (as ?lib? is unspecified)
> * installing *source* package 'data.table' ...
> ** package 'data.table' successfully unpacked and MD5 sums checked
> ** libs
> Warning in system(cmd) : 'make' not found
> ERROR: compilation failed for package 'data.table'
> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> library/3.5/data.table'
> * restoring previous 'C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5/data.table'
> In R CMD INSTALL
> Warning message:
> In install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>   installation of package
> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero
> exit status
> >
> 
> 
> I is requested to kindly help. I was writing a book using R-Markdown.
> And I am stuck up as described above.
> 
> Dr. A.K. Singh
> Professor and Head
> Department of Agricultural Statistics
> Indira Gandhi Krishi Vishwavidyalaya
> Raipur
> Chhattisgarh
> India
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Apr 26 18:14:16 2018
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 26 Apr 2018 12:14:16 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>

On 26/04/2018 10:33 AM, Fox, John wrote:
> Dear A.K. Singh,
> 
> As you discovered, the data.table package has an error under R 3.5.0 that prevents CRAN from distributing a Windows binary for the package. The reason that you weren't able to install the package from source is apparently that you haven't installed the R package-building tools for Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> 
> Because a number of users of my Rcmdr and car packages have contacted me with a similar issue, as a temporary work-around I've placed a Windows binary for the data.table package on my website at <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>. You should be able to install the package from there via the command
> 
> 	install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
> 
> I expect that this problem will go away when the maintainer of the data.table package fixes the error.

You can see the errors in the package on this web page:

https://cloud.r-project.org/web/checks/check_results_data.table.html

Currently it is failing self-tests on all platforms except r-oldrel, 
which is the previous release of R.  I'd recommend backing out of R 
3.5.0 and going to R 3.4.4 if that's a possibility for you.

Yet another possibility is to use a version of data.table from Github, 
which is newer than the version on CRAN and may have fixed the errors, 
but that would require an installation from source, which not every 
Windows user is comfortable with.

Duncan Murdoch



From ccberry @end|ng |rom uc@d@edu  Thu Apr 26 18:42:36 2018
From: ccberry @end|ng |rom uc@d@edu (Berry, Charles)
Date: Thu, 26 Apr 2018 16:42:36 +0000
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
Message-ID: <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>



> On Apr 26, 2018, at 6:46 AM, Polychronis Kostoulas <polychronis.kostoulas at gmail.com> wrote:
> 
> Dear All,
> apologies if this is basic: I am writing a function:
> 
> fb<-function(mean, median, mode, a, b=0.95, lower=F)
> {....}
> 
> The arguments mean, median and mode are mutually exclusive (i.e. the user
> should define only one of these). How do I code this within the function?
> 

See

?missing

HTH,

Chuck


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Apr 26 18:45:05 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 26 Apr 2018 17:45:05 +0100
Subject: [R] How to define mutualy exclusive parameters of a function
In-Reply-To: <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>
References: <CAFAkCyWsPn0wCJ8kqMTJpoFxLQ77RvBFZ9DqQESF+kCBX0U36w@mail.gmail.com>
 <FF06B433-6AEC-44BC-A286-3BA327F7FE72@ucsd.edu>
Message-ID: <2dd90635-e261-7d39-c154-6816ee828508@sapo.pt>

Hello,

Inline.

On 4/26/2018 5:42 PM, Berry, Charles wrote:
> 
> 
>> On Apr 26, 2018, at 6:46 AM, Polychronis Kostoulas <polychronis.kostoulas at gmail.com> wrote:
>>
>> Dear All,
>> apologies if this is basic: I am writing a function:
>>
>> fb<-function(mean, median, mode, a, b=0.95, lower=F)
>> {....}
>>
>> The arguments mean, median and mode are mutually exclusive (i.e. the user
>> should define only one of these). How do I code this within the function?
>>
> 
> See
> 
> ?missing

See also the first example in help("switch")

Hope this helps,

Rui Barradas


> 
> HTH,
> 
> Chuck
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From j|ox @end|ng |rom mcm@@ter@c@  Thu Apr 26 19:04:02 2018
From: j|ox @end|ng |rom mcm@@ter@c@ (Fox, John)
Date: Thu, 26 Apr 2018 17:04:02 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F2017@FHSDB2D11-2.csu.mcmaster.ca>

Dear Duncan,

I think that your advice to downgrade may make sense if A. K. Singh actually needs to use data.table. In the case of the car package, for example, which depends on data.table indirectly via the rio package, data.table never gets used. As well, the examples and vignettes in data.table appear to work under R 2.5.0, so it's possible that (much of) the functionality of the package is intact.

Best,
 John

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> Sent: Thursday, April 26, 2018 12:14 PM
> To: Fox, John <jfox at mcmaster.ca>; Akhilesh Singh
> <akhileshsingh.igkv at gmail.com>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not
> successfully being installed
> 
> On 26/04/2018 10:33 AM, Fox, John wrote:
> > Dear A.K. Singh,
> >
> > As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package.
> The reason that you weren't able to install the package from source is
> apparently that you haven't installed the R package-building tools for
> Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> >
> > Because a number of users of my Rcmdr and car packages have contacted
> > me with a similar issue, as a temporary work-around I've placed a
> > Windows binary for the data.table package on my website at
> > <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.z
> > ip>. You should be able to install the package from there via the
> > command
> >
> >
> > install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data
> > .table_1.10.4-3.zip", repos=NULL, type="win.binary")
> >
> > I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
> 
> You can see the errors in the package on this web page:
> 
> https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
> Currently it is failing self-tests on all platforms except r-oldrel,
> which is the previous release of R.  I'd recommend backing out of R
> 3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
> Yet another possibility is to use a version of data.table from Github,
> which is newer than the version on CRAN and may have fixed the errors,
> but that would require an installation from source, which not every
> Windows user is comfortable with.
> 
> Duncan Murdoch


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Apr 26 20:19:30 2018
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 26 Apr 2018 14:19:30 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
Message-ID: <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>

On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded 
> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of 
> old version. So, I would give a try each to the solutions suggested by 
> John Fox and Dengan Murdoch.

Here is some unsolicited advice:  I would strongly recommend that you 
make it a higher priority to have backups available.  In my experience 
computer hardware is becoming quite reliable, but software isn't, and 
the person next to the keyboard isn't either.  (My last desperate need 
for a backup was due to a hardware failure 2 years ago, but it wasn't 
the manufacturer's fault:  my laptop accidentally drowned.)

Backups can save you a lot of grief in the event of a mistake, or a 
software or hardware failure.  But even in the case of routine events 
like software updates that don't go as planned, they can save time.

Duncan Murdoch


> 
> With regards,
> 
> Dr. A.K. Singh
> 
> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com 
> <mailto:murdoch.duncan at gmail.com>> wrote:
> 
>     On 26/04/2018 10:33 AM, Fox, John wrote:
>      > Dear A.K. Singh,
>      >
>      > As you discovered, the data.table package has an error under R
>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>     package. The reason that you weren't able to install the package
>     from source is apparently that you haven't installed the R
>     package-building tools for Windows. See
>     <https://cran.r-project.org/bin/windows/Rtools/>.
>      >
>      > Because a number of users of my Rcmdr and car packages have
>     contacted me with a similar issue, as a temporary work-around I've
>     placed a Windows binary for the data.table package on my website at
>     <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>     You should be able to install the package from there via the command
>      >
>      >     
>      ?install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
>      >
>      > I expect that this problem will go away when the maintainer of
>     the data.table package fixes the error.
> 
>     You can see the errors in the package on this web page:
> 
>     https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
>     Currently it is failing self-tests on all platforms except r-oldrel,
>     which is the previous release of R.? I'd recommend backing out of R
>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
>     Yet another possibility is to use a version of data.table from Github,
>     which is newer than the version on CRAN and may have fixed the errors,
>     but that would require an installation from source, which not every
>     Windows user is comfortable with.
> 
>     Duncan Murdoch
> 
> 
> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com 
> <mailto:murdoch.duncan at gmail.com>> wrote:
> 
>     On 26/04/2018 10:33 AM, Fox, John wrote:
>      > Dear A.K. Singh,
>      >
>      > As you discovered, the data.table package has an error under R
>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>     package. The reason that you weren't able to install the package
>     from source is apparently that you haven't installed the R
>     package-building tools for Windows. See
>     <https://cran.r-project.org/bin/windows/Rtools/>.
>      >
>      > Because a number of users of my Rcmdr and car packages have
>     contacted me with a similar issue, as a temporary work-around I've
>     placed a Windows binary for the data.table package on my website at
>     <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>     You should be able to install the package from there via the command
>      >
>      >     
>      ?install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip", repos=NULL, type="win.binary")
>      >
>      > I expect that this problem will go away when the maintainer of
>     the data.table package fixes the error.
> 
>     You can see the errors in the package on this web page:
> 
>     https://cloud.r-project.org/web/checks/check_results_data.table.html
> 
>     Currently it is failing self-tests on all platforms except r-oldrel,
>     which is the previous release of R.? I'd recommend backing out of R
>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> 
>     Yet another possibility is to use a version of data.table from Github,
>     which is newer than the version on CRAN and may have fixed the errors,
>     but that would require an installation from source, which not every
>     Windows user is comfortable with.
> 
> 
>     Duncan Murdoch
> 
>



From dw|n@em|u@ @end|ng |rom comc@@t@net  Thu Apr 26 21:02:50 2018
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 26 Apr 2018 12:02:50 -0700
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
References: <CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
Message-ID: <691C91F5-1578-4CE4-B7BD-EC82FB46CBDF@comcast.net>


> On Apr 26, 2018, at 5:07 AM, Akhilesh Singh <akhileshsingh.igkv at gmail.com> wrote:
> 
> Dear Sir,
> 
> I am using R on Windows OS platform. I upgraded my R-system to version
> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> stuck up in the package 'data.table', which is required by many other
> packages in R-codes in my R-Markdown files.
> 
> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> well as "RStudio" mirrors when the following errors are being shown:
> 
> From  USA-berkely and UK-bristol mirrors:
> =================================
> Package which is only available in source form, and may need
>  compilation of C/C++/Fortran: ?data.table?
>  These will not be installed
> Warning message:
> In download.file(url, destfile = f, quiet = TRUE) :
>  InternetOpenUrl failed: ''
> 
> From RStudio mirror:
> ================
> Package which is only available in source form, and may need compilation of
>  C/C++/Fortran: ?data.table?
>  These will not be installed
> 
> Afterwards, I consulted google users, I downloaded the source package:
> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and tried
> following command for installing from source only:
> 
> 
> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
> 
> This generated following errors messages:
> 
>> install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL, type="source")
> Installing package into ?C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5?
> (as ?lib? is unspecified)
> * installing *source* package 'data.table' ...
> ** package 'data.table' successfully unpacked and MD5 sums checked
> ** libs
> Warning in system(cmd) : 'make' not found

I'm guessing you don't have the proper Rtools installation for 3.5:

https://cran.r-project.org/bin/windows/Rtools/index.html

Rtools35.exe
https://cran.r-project.org/bin/windows/Rtools/Rtools35.exe


> ERROR: compilation failed for package 'data.table'
> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-library/3.5/data.table'
> * restoring previous 'C:/Users/Dr. A.K.
> Singh/Documents/R/win-library/3.5/data.table'
> In R CMD INSTALL
> Warning message:
> In install.packages("C:\\Users\\Dr. A.K.
> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>  installation of package
> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-zero exit
> status
>> 
> 
> 
> I is requested to kindly help. I was writing a book using R-Markdown. And I
> am stuck up as described above.
> 
> Dr. A.K. Singh
> Professor and Head
> Department of Agricultural Statistics
> Indira Gandhi Krishi Vishwavidyalaya
> Raipur
> Chhattisgarh
> India
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law



From @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com  Thu Apr 26 19:54:12 2018
From: @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 17:54:12 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
Message-ID: <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>

My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded all
my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of old
version. So, I would give a try each to the solutions suggested by John Fox
and Dengan Murdoch.

With regards,

Dr. A.K. Singh

On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
wrote:

> On 26/04/2018 10:33 AM, Fox, John wrote:
> > Dear A.K. Singh,
> >
> > As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is
> apparently that you haven't installed the R package-building tools for
> Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
> >
> > Because a number of users of my Rcmdr and car packages have contacted me
> with a similar issue, as a temporary work-around I've placed a Windows
> binary for the data.table package on my website at <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> You should be able to install the package from there via the command
> >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >
> > I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
>
> You can see the errors in the package on this web page:
>
> https://cloud.r-project.org/web/checks/check_results_data.table.html
>
> Currently it is failing self-tests on all platforms except r-oldrel,
> which is the previous release of R.  I'd recommend backing out of R
> 3.5.0 and going to R 3.4.4 if that's a possibility for you.
>
> Yet another possibility is to use a version of data.table from Github,
> which is newer than the version on CRAN and may have fixed the errors,
> but that would require an installation from source, which not every
> Windows user is comfortable with.
>
> Duncan Murdoch
>
>
On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com> wrote:

On 26/04/2018 10:33 AM, Fox, John wrote:
> Dear A.K. Singh,
>
> As you discovered, the data.table package has an error under R 3.5.0 that
prevents CRAN from distributing a Windows binary for the package. The
reason that you weren't able to install the package from source is
apparently that you haven't installed the R package-building tools for
Windows. See <https://cran.r-project.org/bin/windows/Rtools/>.
>
> Because a number of users of my Rcmdr and car packages have contacted me
with a similar issue, as a temporary work-around I've placed a Windows
binary for the data.table package on my website at <
https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
You should be able to install the package from there via the command
>
>       install.packages("
https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
repos=NULL, type="win.binary")
>
> I expect that this problem will go away when the maintainer of the
data.table package fixes the error.

You can see the errors in the package on this web page:

https://cloud.r-project.org/web/checks/check_results_data.table.html

Currently it is failing self-tests on all platforms except r-oldrel,
which is the previous release of R.  I'd recommend backing out of R
3.5.0 and going to R 3.4.4 if that's a possibility for you.

Yet another possibility is to use a version of data.table from Github,
which is newer than the version on CRAN and may have fixed the errors,
but that would require an installation from source, which not every
Windows user is comfortable with.


Duncan Murdoch

	[[alternative HTML version deleted]]



From @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com  Thu Apr 26 20:41:35 2018
From: @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com (Akhilesh Singh)
Date: Thu, 26 Apr 2018 18:41:35 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
Message-ID: <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>

You are right. I do take backups. But, this time I was too sure that
nothing will go wrong. But, this was over-confidence. I need to take more
care in future. Thanks anyway.

With regards,

Dr. A.K. Singh

On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
wrote:

> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> > My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
> > all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
> > old version. So, I would give a try each to the solutions suggested by
> > John Fox and Dengan Murdoch.
>
> Here is some unsolicited advice:  I would strongly recommend that you
> make it a higher priority to have backups available.  In my experience
> computer hardware is becoming quite reliable, but software isn't, and
> the person next to the keyboard isn't either.  (My last desperate need
> for a backup was due to a hardware failure 2 years ago, but it wasn't
> the manufacturer's fault:  my laptop accidentally drowned.)
>
> Backups can save you a lot of grief in the event of a mistake, or a
> software or hardware failure.  But even in the case of routine events
> like software updates that don't go as planned, they can save time.
>
> Duncan Murdoch
>
>
> >
> > With regards,
> >
> > Dr. A.K. Singh
> >
> > On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
> > <mailto:murdoch.duncan at gmail.com>> wrote:
> >
> >     On 26/04/2018 10:33 AM, Fox, John wrote:
> >      > Dear A.K. Singh,
> >      >
> >      > As you discovered, the data.table package has an error under R
> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >     package. The reason that you weren't able to install the package
> >     from source is apparently that you haven't installed the R
> >     package-building tools for Windows. See
> >     <https://cran.r-project.org/bin/windows/Rtools/>.
> >      >
> >      > Because a number of users of my Rcmdr and car packages have
> >     contacted me with a similar issue, as a temporary work-around I've
> >     placed a Windows binary for the data.table package on my website at
> >     <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> >     You should be able to install the package from there via the command
> >      >
> >      >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >      >
> >      > I expect that this problem will go away when the maintainer of
> >     the data.table package fixes the error.
> >
> >     You can see the errors in the package on this web page:
> >
> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
> >
> >     Currently it is failing self-tests on all platforms except r-oldrel,
> >     which is the previous release of R.  I'd recommend backing out of R
> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >
> >     Yet another possibility is to use a version of data.table from
> Github,
> >     which is newer than the version on CRAN and may have fixed the
> errors,
> >     but that would require an installation from source, which not every
> >     Windows user is comfortable with.
> >
> >     Duncan Murdoch
> >
> >
> > On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
> > <mailto:murdoch.duncan at gmail.com>> wrote:
> >
> >     On 26/04/2018 10:33 AM, Fox, John wrote:
> >      > Dear A.K. Singh,
> >      >
> >      > As you discovered, the data.table package has an error under R
> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >     package. The reason that you weren't able to install the package
> >     from source is apparently that you haven't installed the R
> >     package-building tools for Windows. See
> >     <https://cran.r-project.org/bin/windows/Rtools/>.
> >      >
> >      > Because a number of users of my Rcmdr and car packages have
> >     contacted me with a similar issue, as a temporary work-around I've
> >     placed a Windows binary for the data.table package on my website at
> >     <
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
> >     You should be able to install the package from there via the command
> >      >
> >      >
> >       install.packages("
> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
> repos=NULL, type="win.binary")
> >      >
> >      > I expect that this problem will go away when the maintainer of
> >     the data.table package fixes the error.
> >
> >     You can see the errors in the package on this web page:
> >
> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
> >
> >     Currently it is failing self-tests on all platforms except r-oldrel,
> >     which is the previous release of R.  I'd recommend backing out of R
> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >
> >     Yet another possibility is to use a version of data.table from
> Github,
> >     which is newer than the version on CRAN and may have fixed the
> errors,
> >     but that would require an installation from source, which not every
> >     Windows user is comfortable with.
> >
> >
> >     Duncan Murdoch
> >
> >
>
>

	[[alternative HTML version deleted]]



From @evergiveup@o20015 m@iii@g oii gm@ii@com  Thu Apr 26 17:43:24 2018
From: @evergiveup@o20015 m@iii@g oii gm@ii@com (@evergiveup@o20015 m@iii@g oii gm@ii@com)
Date: Thu, 26 Apr 2018 08:43:24 -0700 (MST)
Subject: [R] help with tdm matrix and knn
Message-ID: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>

hello sir
im working on text classification using java and r programming

i start with exporting a document term matrix (tdm) from my java programme using corpus

and now i try to apply knn algorithem using the matrix and r

but i cant do that 

any help sir

here my data 
here my script
https://mega.nz/#!Q6J2ibAA!4PadiOKbP7rLodyiRrVsdKl-D2ZP7LYm0gaz94uBmF8

itry to post put icant whay!!




_____________________________________
Sent from http://r.789695.n4.nabble.com



From henr|k@bengt@@on @end|ng |rom gm@||@com  Thu Apr 26 23:01:03 2018
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Thu, 26 Apr 2018 14:01:03 -0700
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
Message-ID: <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>

If you're installing packages to the default location in your home
account and you didn't remove those library folders, you still have
you R 3.4 package installs there, e.g.

> dir(dirname(.libPaths()[1]), full.names = TRUE)
[1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
[2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
[3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"

/Henrik

On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
<akhileshsingh.igkv at gmail.com> wrote:
> You are right. I do take backups. But, this time I was too sure that
> nothing will go wrong. But, this was over-confidence. I need to take more
> care in future. Thanks anyway.
>
> With regards,
>
> Dr. A.K. Singh
>
> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
> wrote:
>
>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>> > My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>> > all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>> > old version. So, I would give a try each to the solutions suggested by
>> > John Fox and Dengan Murdoch.
>>
>> Here is some unsolicited advice:  I would strongly recommend that you
>> make it a higher priority to have backups available.  In my experience
>> computer hardware is becoming quite reliable, but software isn't, and
>> the person next to the keyboard isn't either.  (My last desperate need
>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>> the manufacturer's fault:  my laptop accidentally drowned.)
>>
>> Backups can save you a lot of grief in the event of a mistake, or a
>> software or hardware failure.  But even in the case of routine events
>> like software updates that don't go as planned, they can save time.
>>
>> Duncan Murdoch
>>
>>
>> >
>> > With regards,
>> >
>> > Dr. A.K. Singh
>> >
>> > On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>> > <mailto:murdoch.duncan at gmail.com>> wrote:
>> >
>> >     On 26/04/2018 10:33 AM, Fox, John wrote:
>> >      > Dear A.K. Singh,
>> >      >
>> >      > As you discovered, the data.table package has an error under R
>> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
>> >     package. The reason that you weren't able to install the package
>> >     from source is apparently that you haven't installed the R
>> >     package-building tools for Windows. See
>> >     <https://cran.r-project.org/bin/windows/Rtools/>.
>> >      >
>> >      > Because a number of users of my Rcmdr and car packages have
>> >     contacted me with a similar issue, as a temporary work-around I've
>> >     placed a Windows binary for the data.table package on my website at
>> >     <
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>> >     You should be able to install the package from there via the command
>> >      >
>> >      >
>> >       install.packages("
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>> repos=NULL, type="win.binary")
>> >      >
>> >      > I expect that this problem will go away when the maintainer of
>> >     the data.table package fixes the error.
>> >
>> >     You can see the errors in the package on this web page:
>> >
>> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
>> >
>> >     Currently it is failing self-tests on all platforms except r-oldrel,
>> >     which is the previous release of R.  I'd recommend backing out of R
>> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>> >
>> >     Yet another possibility is to use a version of data.table from
>> Github,
>> >     which is newer than the version on CRAN and may have fixed the
>> errors,
>> >     but that would require an installation from source, which not every
>> >     Windows user is comfortable with.
>> >
>> >     Duncan Murdoch
>> >
>> >
>> > On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>> > <mailto:murdoch.duncan at gmail.com>> wrote:
>> >
>> >     On 26/04/2018 10:33 AM, Fox, John wrote:
>> >      > Dear A.K. Singh,
>> >      >
>> >      > As you discovered, the data.table package has an error under R
>> >     3.5.0 that prevents CRAN from distributing a Windows binary for the
>> >     package. The reason that you weren't able to install the package
>> >     from source is apparently that you haven't installed the R
>> >     package-building tools for Windows. See
>> >     <https://cran.r-project.org/bin/windows/Rtools/>.
>> >      >
>> >      > Because a number of users of my Rcmdr and car packages have
>> >     contacted me with a similar issue, as a temporary work-around I've
>> >     placed a Windows binary for the data.table package on my website at
>> >     <
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>> >     You should be able to install the package from there via the command
>> >      >
>> >      >
>> >       install.packages("
>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>> repos=NULL, type="win.binary")
>> >      >
>> >      > I expect that this problem will go away when the maintainer of
>> >     the data.table package fixes the error.
>> >
>> >     You can see the errors in the package on this web page:
>> >
>> >     https://cloud.r-project.org/web/checks/check_results_data.table.html
>> >
>> >     Currently it is failing self-tests on all platforms except r-oldrel,
>> >     which is the previous release of R.  I'd recommend backing out of R
>> >     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>> >
>> >     Yet another possibility is to use a version of data.table from
>> Github,
>> >     which is newer than the version on CRAN and may have fixed the
>> errors,
>> >     but that would require an installation from source, which not every
>> >     Windows user is comfortable with.
>> >
>> >
>> >     Duncan Murdoch
>> >
>> >
>>
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From toth@dene@ @end|ng |rom kogentum@hu  Thu Apr 26 23:32:45 2018
From: toth@dene@ @end|ng |rom kogentum@hu (=?UTF-8?B?RMOpbmVzIFTDs3Ro?=)
Date: Thu, 26 Apr 2018 23:32:45 +0200
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
Message-ID: <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>

You might find this discussion useful, too:
https://github.com/Rdatatable/data.table/issues/2797


On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
> If you're installing packages to the default location in your home
> account and you didn't remove those library folders, you still have
> you R 3.4 package installs there, e.g.
> 
>> dir(dirname(.libPaths()[1]), full.names = TRUE)
> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
> 
> /Henrik
> 
> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
> <akhileshsingh.igkv at gmail.com> wrote:
>> You are right. I do take backups. But, this time I was too sure that
>> nothing will go wrong. But, this was over-confidence. I need to take more
>> care in future. Thanks anyway.
>>
>> With regards,
>>
>> Dr. A.K. Singh
>>
>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
>> wrote:
>>
>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>>>> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>>>> old version. So, I would give a try each to the solutions suggested by
>>>> John Fox and Dengan Murdoch.
>>>
>>> Here is some unsolicited advice:  I would strongly recommend that you
>>> make it a higher priority to have backups available.  In my experience
>>> computer hardware is becoming quite reliable, but software isn't, and
>>> the person next to the keyboard isn't either.  (My last desperate need
>>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>>> the manufacturer's fault:  my laptop accidentally drowned.)
>>>
>>> Backups can save you a lot of grief in the event of a mistake, or a
>>> software or hardware failure.  But even in the case of routine events
>>> like software updates that don't go as planned, they can save time.
>>>
>>> Duncan Murdoch
>>>
>>>
>>>>
>>>> With regards,
>>>>
>>>> Dr. A.K. Singh
>>>>
>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>
>>>>      On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>       > Dear A.K. Singh,
>>>>       >
>>>>       > As you discovered, the data.table package has an error under R
>>>>      3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>      package. The reason that you weren't able to install the package
>>>>      from source is apparently that you haven't installed the R
>>>>      package-building tools for Windows. See
>>>>      <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>       >
>>>>       > Because a number of users of my Rcmdr and car packages have
>>>>      contacted me with a similar issue, as a temporary work-around I've
>>>>      placed a Windows binary for the data.table package on my website at
>>>>      <
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>      You should be able to install the package from there via the command
>>>>       >
>>>>       >
>>>>        install.packages("
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>> repos=NULL, type="win.binary")
>>>>       >
>>>>       > I expect that this problem will go away when the maintainer of
>>>>      the data.table package fixes the error.
>>>>
>>>>      You can see the errors in the package on this web page:
>>>>
>>>>      https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>
>>>>      Currently it is failing self-tests on all platforms except r-oldrel,
>>>>      which is the previous release of R.  I'd recommend backing out of R
>>>>      3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>
>>>>      Yet another possibility is to use a version of data.table from
>>> Github,
>>>>      which is newer than the version on CRAN and may have fixed the
>>> errors,
>>>>      but that would require an installation from source, which not every
>>>>      Windows user is comfortable with.
>>>>
>>>>      Duncan Murdoch
>>>>
>>>>
>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>
>>>>      On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>       > Dear A.K. Singh,
>>>>       >
>>>>       > As you discovered, the data.table package has an error under R
>>>>      3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>      package. The reason that you weren't able to install the package
>>>>      from source is apparently that you haven't installed the R
>>>>      package-building tools for Windows. See
>>>>      <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>       >
>>>>       > Because a number of users of my Rcmdr and car packages have
>>>>      contacted me with a similar issue, as a temporary work-around I've
>>>>      placed a Windows binary for the data.table package on my website at
>>>>      <
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>      You should be able to install the package from there via the command
>>>>       >
>>>>       >
>>>>        install.packages("
>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>> repos=NULL, type="win.binary")
>>>>       >
>>>>       > I expect that this problem will go away when the maintainer of
>>>>      the data.table package fixes the error.
>>>>
>>>>      You can see the errors in the package on this web page:
>>>>
>>>>      https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>
>>>>      Currently it is failing self-tests on all platforms except r-oldrel,
>>>>      which is the previous release of R.  I'd recommend backing out of R
>>>>      3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>
>>>>      Yet another possibility is to use a version of data.table from
>>> Github,
>>>>      which is newer than the version on CRAN and may have fixed the
>>> errors,
>>>>      but that would require an installation from source, which not every
>>>>      Windows user is comfortable with.
>>>>
>>>>
>>>>      Duncan Murdoch
>>>>
>>>>
>>>
>>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From he||o @end|ng |rom e|v|nddov|k@com  Thu Apr 26 23:33:22 2018
From: he||o @end|ng |rom e|v|nddov|k@com (=?ISO-8859-15?Q?Eivind_K=2E_D=F8vik?=)
Date: Thu, 26 Apr 2018 23:33:22 +0200 (CEST)
Subject: [R] help with tdm matrix and knn
In-Reply-To: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>
References: <1414915634.77176.1524757404891.JavaMail.administrator@mben.nabble.com>
Message-ID: <alpine.DEB.2.20.1804262333130.6262@debian>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello,

I downloaded your .rar-file and looked through your R-code. You should 
revise your script. Specifically, start by looking at what data set you 
are referring to when training your knn-model: you never create the object 
"modeldata".

Best of luck.

Eivind K. Dovik
Bergen, NO

Public key 5D9BA1B4
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEE6y4swLA4T88WeBLTnPuPlYAtwfoFAlriRYkACgkQnPuPlYAt
wfpd4g//R+p5rJP6rO8yMfSzKyWCs6yd4T2CtaSknrwlSIhjRRYvrx3QbL/wZXG0
FRvb5ImKMXu2OJAI5s+dFsmiVqlJIVNAsNdDoPQbwBpTB7KIrd6/wlb5mXTVMdVA
nmpLMTcCz6sIo+R+xUEW+SiDktYlAOL8cS3ZEoLfP2eaFTGpr2lA9Dzra1UwsKEI
jV3fJUYj6HP6474z94G3qDxmhQTpDy3TFNgupoWZJrbtT0sro1q9TiiFIr3tsuH0
UL5rsyv8fJq8rL2ArVlDEX1zMHo0cjqC3rk0yWb8Agi8k5kvkxNF2bQxjWUeuI6w
+JS4FM6mo9g+aeTfRDoAYeYdT9ZOQMHKaZmv3yAXSTb89e9FHsantIwHl3SdvDDQ
GeMy2QuErduItv3KdzBvRmctWFSNqAhZfVcPHfkMqhlgd3lk9WcKHtIgS93R/Amv
Z4GAA6omRX/bEr3jB5cBK+vuNfYxhX3iwWrGniCMDBbSYLWuR6O62TvGvntsehnm
Y0Lt5VaeoJyoUCIAPKjC1X3mo4/FHNxoc6qJezQP1ChiSUrUJlJ7NnDypu7vO0jV
IiX0uQgWxLizX9hBMRMLtU3UaSt6VhJzEiP8ciFk1xihi7FgjDYOJFpOY2j79rKS
M5bx67eCp4JZMrY4uZMiDPFd5X9Lx3I6t6iLK1Z1kmeWRgs+nIw=
=r2Ve
-----END PGP SIGNATURE-----


On Thu, 26 Apr 2018, nevergiveupno20015 at gmail.com wrote:

> hello sir
> im working on text classification using java and r programming
>
> i start with exporting a document term matrix (tdm) from my java programme using corpus
>
> and now i try to apply knn algorithem using the matrix and r
>
> but i cant do that
>
> any help sir
>
> here my data
> here my script
> https://mega.nz/#!Q6J2ibAA!4PadiOKbP7rLodyiRrVsdKl-D2ZP7LYm0gaz94uBmF8
>
> itry to post put icant whay!!
>
>
>
>
> _____________________________________
> Sent from http://r.789695.n4.nabble.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Fri Apr 27 03:27:35 2018
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Fri, 27 Apr 2018 13:27:35 +1200
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
Message-ID: <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>

Hi

Does this not do what you want ... ?

allpages <- dotplot(variety ~ yield | year * site, data=barley,
                     layout=c(2,2))
page2 <- allpages[1:2, 3:4]
print(page2)

Paul

On 24/04/18 17:51, Rolf Turner wrote:
> 
> On 24/04/18 15:17, Paul Murrell wrote:
> 
>> Hi
>>
>> I think the subsetting works by giving you the panels for the 
>> corresponding levels of the conditioning variable(s).? Note that, if 
>> there is more than one conditioning variable, you will need more than 
>> one subsetting index.
>>
>> For example, taking this plot with two conditioning variables and 12 
>> panels in total ...
>>
>> dotplot(variety ~ yield | year * site, data=barley)
>>
>> ... this produces three pages ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>> ???????? layout=c(2,2))
>>
>> ... and this produces the second page (both panels for the first 
>> conditioning variable and the third and fourth panels for the second 
>> conditioning variable) ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>> ???????? layout=c(2,2))[1:2, 3:4]
>>
>> Hope that helps.
> 
> Hmm.? Thanks Paul.? I may be able to work with that.? But what I really 
> wanted was to take
> 
>  ??? bar <- dotplot(variety ~ yield | year * site, data=barley)
> 
> and then do (something like)
> 
>  ??? foo <- bar[<something>]
> 
> so that foo contains only the second page of bar, and then do print(foo)
> to get a plot of (just) the second page.? Without re-issuing a 
> (modified) plot command.
> 
> Is that not at all possible?
> 
> cheers,
> 
> Rolf.
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/



From pd@|gd @end|ng |rom gm@||@com  Fri Apr 27 14:46:33 2018
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Fri, 27 Apr 2018 14:46:33 +0200
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
 <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
Message-ID: <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>

Hmm, looks like that thread has more noise than signal...

AFAICT, data.table currently fails selftests i 3.5.0 on all platforms on the CRAN builders, so RTools issues are only incidental and it would be better to fix data.table in the sources. 

From the looks of it, I wouldn't be surprised if the root cause is the changes to POSIXlt methods in 3.5.0, but I haven't actually been digging in to check that.

- Peter D.

> On 26 Apr 2018, at 23:32 , D?nes T?th <toth.denes at kogentum.hu> wrote:
> 
> You might find this discussion useful, too:
> https://github.com/Rdatatable/data.table/issues/2797
> 
> 
> On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
>> If you're installing packages to the default location in your home
>> account and you didn't remove those library folders, you still have
>> you R 3.4 package installs there, e.g.
>>> dir(dirname(.libPaths()[1]), full.names = TRUE)
>> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
>> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
>> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
>> /Henrik
>> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
>> <akhileshsingh.igkv at gmail.com> wrote:
>>> You are right. I do take backups. But, this time I was too sure that
>>> nothing will go wrong. But, this was over-confidence. I need to take more
>>> care in future. Thanks anyway.
>>> 
>>> With regards,
>>> 
>>> Dr. A.K. Singh
>>> 
>>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch, <murdoch.duncan at gmail.com>
>>> wrote:
>>> 
>>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
>>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have upgraded
>>>>> all my R-3.4.3 libraries to R-3.5.0, and I have not backed-up copies of
>>>>> old version. So, I would give a try each to the solutions suggested by
>>>>> John Fox and Dengan Murdoch.
>>>> 
>>>> Here is some unsolicited advice:  I would strongly recommend that you
>>>> make it a higher priority to have backups available.  In my experience
>>>> computer hardware is becoming quite reliable, but software isn't, and
>>>> the person next to the keyboard isn't either.  (My last desperate need
>>>> for a backup was due to a hardware failure 2 years ago, but it wasn't
>>>> the manufacturer's fault:  my laptop accidentally drowned.)
>>>> 
>>>> Backups can save you a lot of grief in the event of a mistake, or a
>>>> software or hardware failure.  But even in the case of routine events
>>>> like software updates that don't go as planned, they can save time.
>>>> 
>>>> Duncan Murdoch
>>>> 
>>>> 
>>>>> 
>>>>> With regards,
>>>>> 
>>>>> Dr. A.K. Singh
>>>>> 
>>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch, <murdoch.duncan at gmail.com
>>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>> 
>>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>>      > Dear A.K. Singh,
>>>>>      >
>>>>>      > As you discovered, the data.table package has an error under R
>>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>>     package. The reason that you weren't able to install the package
>>>>>     from source is apparently that you haven't installed the R
>>>>>     package-building tools for Windows. See
>>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>>      >
>>>>>      > Because a number of users of my Rcmdr and car packages have
>>>>>     contacted me with a similar issue, as a temporary work-around I've
>>>>>     placed a Windows binary for the data.table package on my website at
>>>>>     <
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>>     You should be able to install the package from there via the command
>>>>>      >
>>>>>      >
>>>>>       install.packages("
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>>> repos=NULL, type="win.binary")
>>>>>      >
>>>>>      > I expect that this problem will go away when the maintainer of
>>>>>     the data.table package fixes the error.
>>>>> 
>>>>>     You can see the errors in the package on this web page:
>>>>> 
>>>>>     https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>> 
>>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
>>>>>     which is the previous release of R.  I'd recommend backing out of R
>>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>> 
>>>>>     Yet another possibility is to use a version of data.table from
>>>> Github,
>>>>>     which is newer than the version on CRAN and may have fixed the
>>>> errors,
>>>>>     but that would require an installation from source, which not every
>>>>>     Windows user is comfortable with.
>>>>> 
>>>>>     Duncan Murdoch
>>>>> 
>>>>> 
>>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch" <murdoch.duncan at gmail.com
>>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
>>>>> 
>>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
>>>>>      > Dear A.K. Singh,
>>>>>      >
>>>>>      > As you discovered, the data.table package has an error under R
>>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
>>>>>     package. The reason that you weren't able to install the package
>>>>>     from source is apparently that you haven't installed the R
>>>>>     package-building tools for Windows. See
>>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
>>>>>      >
>>>>>      > Because a number of users of my Rcmdr and car packages have
>>>>>     contacted me with a similar issue, as a temporary work-around I've
>>>>>     placed a Windows binary for the data.table package on my website at
>>>>>     <
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip>.
>>>>>     You should be able to install the package from there via the command
>>>>>      >
>>>>>      >
>>>>>       install.packages("
>>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip",
>>>> repos=NULL, type="win.binary")
>>>>>      >
>>>>>      > I expect that this problem will go away when the maintainer of
>>>>>     the data.table package fixes the error.
>>>>> 
>>>>>     You can see the errors in the package on this web page:
>>>>> 
>>>>>     https://cloud.r-project.org/web/checks/check_results_data.table.html
>>>>> 
>>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
>>>>>     which is the previous release of R.  I'd recommend backing out of R
>>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
>>>>> 
>>>>>     Yet another possibility is to use a version of data.table from
>>>> Github,
>>>>>     which is newer than the version on CRAN and may have fixed the
>>>> errors,
>>>>>     but that would require an installation from source, which not every
>>>>>     Windows user is comfortable with.
>>>>> 
>>>>> 
>>>>>     Duncan Murdoch
>>>>> 
>>>>> 
>>>> 
>>>> 
>>> 
>>>         [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com



From j|ox @end|ng |rom mcm@@ter@c@  Fri Apr 27 15:18:48 2018
From: j|ox @end|ng |rom mcm@@ter@c@ (Fox, John)
Date: Fri, 27 Apr 2018 13:18:48 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <54d11a88-e04d-7417-c993-04d7c092057a@gmail.com>
 <CACLgfx1FLbPSGZENQN4CThKag5evJCVgvzUQKXw4KG7ZiHRXXg@mail.gmail.com>
 <ebf6708a-6b6d-7b4a-d0cb-59450c8d99c6@gmail.com>
 <CACLgfx3tYrxqci_2h6gTcPFX07nCTrZiDUgNt9oyOuVKvuRoFA@mail.gmail.com>
 <CAFDcVCSh-1T7pep2+JQ7sVgC8DAMSGoKzAnWQa4UdSJzjc7Jkg@mail.gmail.com>
 <e9c9656f-07b7-1d3d-59ad-b41653b4ae71@kogentum.hu>
 <F69F14C0-1BC5-4212-88C5-F88A5EC0E47A@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F3642@FHSDB2D11-2.csu.mcmaster.ca>

Dear Peter,

> -----Original Message-----
> From: peter dalgaard [mailto:pdalgd at gmail.com]
> Sent: Friday, April 27, 2018 8:47 AM
> To: D?nes T?th <toth.denes at kogentum.hu>
> Cc: Akhilesh Singh <akhileshsingh.igkv at gmail.com>; r-help mailing list <r-
> help at r-project.org>; Fox, John <jfox at mcmaster.ca>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
> 
> Hmm, looks like that thread has more noise than signal...
> 
> AFAICT, data.table currently fails selftests i 3.5.0 on all platforms on the CRAN
> builders, so RTools issues are only incidental and it would be better to fix
> data.table in the sources.

Yes. Using Rtools to install the package from source or installing the binary I provided is just a band-aid that allows packages with dependencies on data.table (direct or indirect) to load.

Best,
 John

> 
> From the looks of it, I wouldn't be surprised if the root cause is the changes to
> POSIXlt methods in 3.5.0, but I haven't actually been digging in to check that.
> 
> - Peter D.
> 
> > On 26 Apr 2018, at 23:32 , D?nes T?th <toth.denes at kogentum.hu> wrote:
> >
> > You might find this discussion useful, too:
> > https://github.com/Rdatatable/data.table/issues/2797
> >
> >
> > On 04/26/2018 11:01 PM, Henrik Bengtsson wrote:
> >> If you're installing packages to the default location in your home
> >> account and you didn't remove those library folders, you still have
> >> you R 3.4 package installs there, e.g.
> >>> dir(dirname(.libPaths()[1]), full.names = TRUE)
> >> [1] "/home/hb/R/x86_64-pc-linux-gnu-library/3.4"
> >> [2] "/home/hb/R/x86_64-pc-linux-gnu-library/3.5"
> >> [3] "/home/hb/R/x86_64-pc-linux-gnu-library/3.6"
> >> /Henrik
> >> On Thu, Apr 26, 2018 at 11:41 AM, Akhilesh Singh
> >> <akhileshsingh.igkv at gmail.com> wrote:
> >>> You are right. I do take backups. But, this time I was too sure that
> >>> nothing will go wrong. But, this was over-confidence. I need to take
> >>> more care in future. Thanks anyway.
> >>>
> >>> With regards,
> >>>
> >>> Dr. A.K. Singh
> >>>
> >>> On Thu 26 Apr, 2018, 11:49 PM Duncan Murdoch,
> >>> <murdoch.duncan at gmail.com>
> >>> wrote:
> >>>
> >>>> On 26/04/2018 1:54 PM, Akhilesh Singh wrote:
> >>>>> My thanks to Dr. John Fox and Dr. Duncan Murdoch. But, I have
> >>>>> upgraded all my R-3.4.3 libraries to R-3.5.0, and I have not
> >>>>> backed-up copies of old version. So, I would give a try each to
> >>>>> the solutions suggested by John Fox and Dengan Murdoch.
> >>>>
> >>>> Here is some unsolicited advice:  I would strongly recommend that
> >>>> you make it a higher priority to have backups available.  In my
> >>>> experience computer hardware is becoming quite reliable, but
> >>>> software isn't, and the person next to the keyboard isn't either.
> >>>> (My last desperate need for a backup was due to a hardware failure
> >>>> 2 years ago, but it wasn't the manufacturer's fault:  my laptop
> >>>> accidentally drowned.)
> >>>>
> >>>> Backups can save you a lot of grief in the event of a mistake, or a
> >>>> software or hardware failure.  But even in the case of routine
> >>>> events like software updates that don't go as planned, they can save
> time.
> >>>>
> >>>> Duncan Murdoch
> >>>>
> >>>>
> >>>>>
> >>>>> With regards,
> >>>>>
> >>>>> Dr. A.K. Singh
> >>>>>
> >>>>> On Thu 26 Apr, 2018, 9:44 PM Duncan Murdoch,
> >>>>> <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>>
> wrote:
> >>>>>
> >>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
> >>>>>      > Dear A.K. Singh,
> >>>>>      >
> >>>>>      > As you discovered, the data.table package has an error under R
> >>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >>>>>     package. The reason that you weren't able to install the package
> >>>>>     from source is apparently that you haven't installed the R
> >>>>>     package-building tools for Windows. See
> >>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
> >>>>>      >
> >>>>>      > Because a number of users of my Rcmdr and car packages have
> >>>>>     contacted me with a similar issue, as a temporary work-around I've
> >>>>>     placed a Windows binary for the data.table package on my website
> at
> >>>>>     <
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-
> 3.zip>.
> >>>>>     You should be able to install the package from there via the
> command
> >>>>>      >
> >>>>>      >
> >>>>>       install.packages("
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3
> >>>> .zip",
> >>>> repos=NULL, type="win.binary")
> >>>>>      >
> >>>>>      > I expect that this problem will go away when the maintainer of
> >>>>>     the data.table package fixes the error.
> >>>>>
> >>>>>     You can see the errors in the package on this web page:
> >>>>>
> >>>>>
> >>>>> https://cloud.r-project.org/web/checks/check_results_data.table.ht
> >>>>> ml
> >>>>>
> >>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
> >>>>>     which is the previous release of R.  I'd recommend backing out of R
> >>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >>>>>
> >>>>>     Yet another possibility is to use a version of data.table from
> >>>> Github,
> >>>>>     which is newer than the version on CRAN and may have fixed the
> >>>> errors,
> >>>>>     but that would require an installation from source, which not every
> >>>>>     Windows user is comfortable with.
> >>>>>
> >>>>>     Duncan Murdoch
> >>>>>
> >>>>>
> >>>>> On 26-Apr-2018 9:44 PM, "Duncan Murdoch"
> <murdoch.duncan at gmail.com
> >>>>> <mailto:murdoch.duncan at gmail.com>> wrote:
> >>>>>
> >>>>>     On 26/04/2018 10:33 AM, Fox, John wrote:
> >>>>>      > Dear A.K. Singh,
> >>>>>      >
> >>>>>      > As you discovered, the data.table package has an error under R
> >>>>>     3.5.0 that prevents CRAN from distributing a Windows binary for the
> >>>>>     package. The reason that you weren't able to install the package
> >>>>>     from source is apparently that you haven't installed the R
> >>>>>     package-building tools for Windows. See
> >>>>>     <https://cran.r-project.org/bin/windows/Rtools/>.
> >>>>>      >
> >>>>>      > Because a number of users of my Rcmdr and car packages have
> >>>>>     contacted me with a similar issue, as a temporary work-around I've
> >>>>>     placed a Windows binary for the data.table package on my website
> at
> >>>>>     <
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-
> 3.zip>.
> >>>>>     You should be able to install the package from there via the
> command
> >>>>>      >
> >>>>>      >
> >>>>>       install.packages("
> >>>> https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3
> >>>> .zip",
> >>>> repos=NULL, type="win.binary")
> >>>>>      >
> >>>>>      > I expect that this problem will go away when the maintainer of
> >>>>>     the data.table package fixes the error.
> >>>>>
> >>>>>     You can see the errors in the package on this web page:
> >>>>>
> >>>>>
> >>>>> https://cloud.r-project.org/web/checks/check_results_data.table.ht
> >>>>> ml
> >>>>>
> >>>>>     Currently it is failing self-tests on all platforms except r-oldrel,
> >>>>>     which is the previous release of R.  I'd recommend backing out of R
> >>>>>     3.5.0 and going to R 3.4.4 if that's a possibility for you.
> >>>>>
> >>>>>     Yet another possibility is to use a version of data.table from
> >>>> Github,
> >>>>>     which is newer than the version on CRAN and may have fixed the
> >>>> errors,
> >>>>>     but that would require an installation from source, which not every
> >>>>>     Windows user is comfortable with.
> >>>>>
> >>>>>
> >>>>>     Duncan Murdoch
> >>>>>
> >>>>>
> >>>>
> >>>>
> >>>
> >>>         [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School Solbjerg Plads 3, 2000
> Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From j|ox @end|ng |rom mcm@@ter@c@  Fri Apr 27 15:21:28 2018
From: j|ox @end|ng |rom mcm@@ter@c@ (Fox, John)
Date: Fri, 27 Apr 2018 13:21:28 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>

Dear Akhilesh,

I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.

Best,
 John

> -----Original Message-----
> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
> Sent: Friday, April 27, 2018 4:10 AM
> To: Fox, John <jfox at mcmaster.ca>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
> 
> Dear Dr. John Fox,
> 
> The solution provided by you has worked. I downloaded the binary file of
> data.table package made available your website
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
> installed it in R and RStudio. And I happy to report that it has successfully
> worked. Many thanks to you, and to other members of R-team who have tried
> help me.
> 
> 
> With regards,
> 
> 
> Dr. A.K. Singh
> 
> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
> <mailto:jfox at mcmaster.ca> > wrote:
> 
> 
> 	Dear A.K. Singh,
> 
> 	As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is apparently
> that you haven't installed the R package-building tools for Windows. See
> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
> project.org/bin/windows/Rtools/> >.
> 
> 	Because a number of users of my Rcmdr and car packages have
> contacted me with a similar issue, as a temporary work-around I've placed a
> Windows binary for the data.table package on my website at
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
> You should be able to install the package from there via the command
> 
> 
> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
> 1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
> repos=NULL, type="win.binary")
> 
> 	I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
> 
> 	I hope this helps,
> 	 John
> 
> 	--------------------------------------
> 	John Fox, Professor Emeritus
> 	McMaster University
> 	Hamilton, Ontario, Canada
> 	Web: socialsciences.mcmaster.ca/jfox/
> <http://socialsciences.mcmaster.ca/jfox/>
> 
> 
> 
> 
> 	> -----Original Message-----
> 	> From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
> bounces at r-project.org> ] On Behalf Of Akhilesh
> 	> Singh
> 	> Sent: Thursday, April 26, 2018 8:08 AM
> 	> To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
> project.org> >
> 	> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> 	> being installed
> 	>
> 	> Dear Sir,
> 	>
> 	> I am using R on Windows OS platform. I upgraded my R-system to
> version
> 	> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> 	> stuck up in the package 'data.table', which is required by many
> other
> 	> packages in R-codes in my R-Markdown files.
> 	>
> 	> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> 	> well as "RStudio" mirrors when the following errors are being
> shown:
> 	>
> 	> From  USA-berkely and UK-bristol mirrors:
> 	> =================================
> 	> Package which is only available in source form, and may need
> 	>   compilation of C/C++/Fortran: ?data.table?
> 	>   These will not be installed
> 	> Warning message:
> 	> In download.file(url, destfile = f, quiet = TRUE) :
> 	>   InternetOpenUrl failed: ''
> 	>
> 	> From RStudio mirror:
> 	> ================
> 	> Package which is only available in source form, and may need
> compilation
> 	> of
> 	>   C/C++/Fortran: ?data.table?
> 	>   These will not be installed
> 	>
> 	> Afterwards, I consulted google users, I downloaded the source
> package:
> 	> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
> tried
> 	> following command for installing from source only:
> 	>
> 	>
> 	> install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> 	> type="source")
> 	>
> 	> This generated following errors messages:
> 	>
> 	> > install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> 	> type="source") Installing package into ?C:/Users/Dr. A.K.
> 	> Singh/Documents/R/win-library/3.5?
> 	> (as ?lib? is unspecified)
> 	> * installing *source* package 'data.table' ...
> 	> ** package 'data.table' successfully unpacked and MD5 sums
> checked
> 	> ** libs
> 	> Warning in system(cmd) : 'make' not found
> 	> ERROR: compilation failed for package 'data.table'
> 	> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> 	> library/3.5/data.table'
> 	> * restoring previous 'C:/Users/Dr. A.K.
> 	> Singh/Documents/R/win-library/3.5/data.table'
> 	> In R CMD INSTALL
> 	> Warning message:
> 	> In install.packages("C:\\Users\\Dr. A.K.
> 	> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
> 	>   installation of package
> 	> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
> zero
> 	> exit status
> 	> >
> 	>
> 	>
> 	> I is requested to kindly help. I was writing a book using R-
> Markdown.
> 	> And I am stuck up as described above.
> 	>
> 	> Dr. A.K. Singh
> 	> Professor and Head
> 	> Department of Agricultural Statistics
> 	> Indira Gandhi Krishi Vishwavidyalaya
> 	> Raipur
> 	> Chhattisgarh
> 	> India
> 	>
> 
> 	>       [[alternative HTML version deleted]]
> 	>
> 	> ______________________________________________
> 	> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
> To UNSUBSCRIBE and more, see
> 	> https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> 	> PLEASE do read the posting guide http://www.R-
> project.org/posting- <http://www.R-project.org/posting->
> 	> guide.html
> 	> and provide commented, minimal, self-contained, reproducible
> code.
> 
> 


From roger@bo@ @end|ng |rom roth@ch||d@com  Fri Apr 27 15:27:12 2018
From: roger@bo@ @end|ng |rom roth@ch||d@com (Bos, Roger)
Date: Fri, 27 Apr 2018 13:27:12 +0000
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>

Akhilesh,

I don't know if I am adding signal or noise here, but I installed R 3.5.0 yesterday and installed data.table just fine, but I have Rtools installed.  "Building packages from source" may sound intimidating, but Rtools is really easy to install and once installed, it does all the work for you.

Thanks,

Roger


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fox, John
Sent: Friday, April 27, 2018 9:21 AM
To: Akhilesh Singh
Cc: r-help mailing list
Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being installed

Dear Akhilesh,

I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.

Best,
 John

> -----Original Message-----
> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
> Sent: Friday, April 27, 2018 4:10 AM
> To: Fox, John <jfox at mcmaster.ca>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
> installed
>
> Dear Dr. John Fox,
>
> The solution provided by you has worked. I downloaded the binary file of
> data.table package made available your website
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
> installed it in R and RStudio. And I happy to report that it has successfully
> worked. Many thanks to you, and to other members of R-team who have tried
> help me.
>
>
> With regards,
>
>
> Dr. A.K. Singh
>
> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
> <mailto:jfox at mcmaster.ca> > wrote:
>
>
> Dear A.K. Singh,
>
> As you discovered, the data.table package has an error under R 3.5.0
> that prevents CRAN from distributing a Windows binary for the package. The
> reason that you weren't able to install the package from source is apparently
> that you haven't installed the R package-building tools for Windows. See
> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
> project.org/bin/windows/Rtools/> >.
>
> Because a number of users of my Rcmdr and car packages have
> contacted me with a similar issue, as a temporary work-around I've placed a
> Windows binary for the data.table package on my website at
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
> You should be able to install the package from there via the command
>
>
> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
> 1.10.4-3.zip
> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
> repos=NULL, type="win.binary")
>
> I expect that this problem will go away when the maintainer of the
> data.table package fixes the error.
>
> I hope this helps,
>  John
>
> --------------------------------------
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> Web: socialsciences.mcmaster.ca/jfox/
> <http://socialsciences.mcmaster.ca/jfox/>
>
>
>
>
> > -----Original Message-----
> > From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
> bounces at r-project.org> ] On Behalf Of Akhilesh
> > Singh
> > Sent: Thursday, April 26, 2018 8:08 AM
> > To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
> project.org> >
> > Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
> > being installed
> >
> > Dear Sir,
> >
> > I am using R on Windows OS platform. I upgraded my R-system to
> version
> > R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
> > stuck up in the package 'data.table', which is required by many
> other
> > packages in R-codes in my R-Markdown files.
> >
> > I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
> > well as "RStudio" mirrors when the following errors are being
> shown:
> >
> > From  USA-berkely and UK-bristol mirrors:
> > =================================
> > Package which is only available in source form, and may need
> >   compilation of C/C++/Fortran: ?data.table?
> >   These will not be installed
> > Warning message:
> > In download.file(url, destfile = f, quiet = TRUE) :
> >   InternetOpenUrl failed: ''
> >
> > From RStudio mirror:
> > ================
> > Package which is only available in source form, and may need
> compilation
> > of
> >   C/C++/Fortran: ?data.table?
> >   These will not be installed
> >
> > Afterwards, I consulted google users, I downloaded the source
> package:
> > "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
> tried
> > following command for installing from source only:
> >
> >
> > install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> > type="source")
> >
> > This generated following errors messages:
> >
> > > install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
> > type="source") Installing package into ?C:/Users/Dr. A.K.
> > Singh/Documents/R/win-library/3.5?
> > (as ?lib? is unspecified)
> > * installing *source* package 'data.table' ...
> > ** package 'data.table' successfully unpacked and MD5 sums
> checked
> > ** libs
> > Warning in system(cmd) : 'make' not found
> > ERROR: compilation failed for package 'data.table'
> > * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
> > library/3.5/data.table'
> > * restoring previous 'C:/Users/Dr. A.K.
> > Singh/Documents/R/win-library/3.5/data.table'
> > In R CMD INSTALL
> > Warning message:
> > In install.packages("C:\\Users\\Dr. A.K.
> > Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
> >   installation of package
> > ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
> zero
> > exit status
> > >
> >
> >
> > I is requested to kindly help. I was writing a book using R-
> Markdown.
> > And I am stuck up as described above.
> >
> > Dr. A.K. Singh
> > Professor and Head
> > Department of Agricultural Statistics
> > Indira Gandhi Krishi Vishwavidyalaya
> > Raipur
> > Chhattisgarh
> > India
> >
>
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
> To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> > PLEASE do read the posting guide http://www.R-
> project.org/posting- <http://www.R-project.org/posting->
> > guide.html
> > and provide commented, minimal, self-contained, reproducible
> code.
>
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.





From w||@onzh@ng746746 @end|ng |rom gm@||@com  Fri Apr 27 15:11:17 2018
From: w||@onzh@ng746746 @end|ng |rom gm@||@com (Zhang Wilson)
Date: Fri, 27 Apr 2018 15:11:17 +0200
Subject: [R] about combining analysis results using package 'flexmix' and '
 mice'
Message-ID: <CAN_1JwRxx+7+DiE7HYjf0NV9Oqnfbb89=7U1mD6+9LW4Ms1j+Q@mail.gmail.com>

Hi,

I am currently using package ?mice? to do multiple imputation for tourist
data here. Then the  complete datasets (e.g. m>= 100)  will be analyzed
with a finite mixture model using package ?flexmix?. I have found that it
seems no feasible way to combine the multiple results into a final one
smoothly using just a few commands. By the way I have seen that package
like ?semTools? has such function to combine the ?within variance? and ?
between variance? for the estimated parameters, but it applies for SEM
models only. Do you have some recommendations about the combinations of
results after ?mice? and ? flexmix? packages if available? Thank you very
much.


Sincerely

Wei

	[[alternative HTML version deleted]]



From kev|n@thorpe @end|ng |rom utoronto@c@  Fri Apr 27 16:29:56 2018
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin E. Thorpe)
Date: Fri, 27 Apr 2018 10:29:56 -0400
Subject: [R] Package ddalpha is not building for me in R 3.5.0
Message-ID: <5bb06967-4ed5-e90e-6d5b-168f3d5fe421@utoronto.ca>

I was updating packages after upgrading R to 3.5.0 and one package, 
ddalpha, that is dependency for caret is not building. All the compiled 
code builds but something seems to start going wrong at the byte-compile 
stage. Here is the error and sessionInfo(). My computer has 8 GB of RAM, 
by the way. Has anyone else encountered this?

** R
** data
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
Error in system2(file.path(R.home("bin"), "R"), c(if (nzchar(arch)) 
paste0("--arch=",  :
   cannot popen ' '/usr/local/lib64/R/bin/R' --no-save --slave 2>&1 < 
'/tmp/RtmpZB2yyH/file64c65776e871'', probable reason 'Cannot allocate 
memory'
* removing ?/usr/local/lib64/R/library/ddalpha?
Warning in q("no", status = status, runLast = FALSE) :
   system call failed: Cannot allocate memory

> sessionInfo()
R version 3.5.0 Patched (2018-04-23 r74633)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Slackware 14.2 x86_64 (post 14.2 -current)

Matrix products: default
BLAS: /usr/local/lib64/R/lib/libRblas.so
LAPACK: /usr/local/lib64/R/lib/libRlapack.so

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=C
  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_3.5.0 tools_3.5.0    tcltk_3.5.0


-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016



From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Apr 27 16:47:27 2018
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 27 Apr 2018 10:47:27 -0400
Subject: [R] 
 Package 'data.table' in version R-3.5.0 not successfully being
 installed
In-Reply-To: <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>
References: <5996_1524749106_w3QDP5Zh006771_CACLgfx333+FT9HYn2LbzaTBGhaCYQkaoM_5XRK3kQMg3E7N4Tw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F1B78@FHSDB2D11-2.csu.mcmaster.ca>
 <CACLgfx3aJ8VWzcHdu9odd8hVnMc4UskBHehvPNzBk+cAc5iQdw@mail.gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8367F3673@FHSDB2D11-2.csu.mcmaster.ca>
 <58888258666047448fcf823c3301865d@USNYMMSG001.rth.ad.rothschild.com>
Message-ID: <81db3ecd-a908-c387-cbfd-a42d4ce552f8@gmail.com>

On 27/04/2018 9:27 AM, Bos, Roger wrote:
> Akhilesh,
> 
> I don't know if I am adding signal or noise here, but I installed R 3.5.0 yesterday and installed data.table just fine, but I have Rtools installed.  "Building packages from source" may sound intimidating, but Rtools is really easy to install and once installed, it does all the work for you.

I agree, subject to a couple of caveats.

1.  There are apparently instructions online that somehow mess up the 
installation of Rtools, putting it in a location that doesn't work 
without other changes that aren't described.  If people just run the 
installer and accept the defaults, it works.  Don't trust bloggers, 
trust CRAN.

2.  data.table fails its self-tests in 3.5.0, as shown on CRAN. 
Apparently fixes are in the works, but being able to install it doesn't 
mean it will work properly.

Duncan Murdoch

> 
> Thanks,
> 
> Roger
> 
> 
> -----Original Message-----
> From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Fox, John
> Sent: Friday, April 27, 2018 9:21 AM
> To: Akhilesh Singh
> Cc: r-help mailing list
> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being installed
> 
> Dear Akhilesh,
> 
> I hope that it's clear that the Windows binary I provided for the data.table package is a temporary solution, and that the maintainer should fix the package so that it passes its own tests. You should be careful using the package in its current state.
> 
> Best,
>   John
> 
>> -----Original Message-----
>> From: Akhilesh Singh [mailto:akhileshsingh.igkv at gmail.com]
>> Sent: Friday, April 27, 2018 4:10 AM
>> To: Fox, John <jfox at mcmaster.ca>
>> Cc: r-help mailing list <r-help at r-project.org>
>> Subject: Re: [R] Package 'data.table' in version R-3.5.0 not successfully being
>> installed
>>
>> Dear Dr. John Fox,
>>
>> The solution provided by you has worked. I downloaded the binary file of
>> data.table package made available your website
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >,
>> installed it in R and RStudio. And I happy to report that it has successfully
>> worked. Many thanks to you, and to other members of R-team who have tried
>> help me.
>>
>>
>> With regards,
>>
>>
>> Dr. A.K. Singh
>>
>> On Thu, Apr 26, 2018 at 8:03 PM, Fox, John <jfox at mcmaster.ca
>> <mailto:jfox at mcmaster.ca> > wrote:
>>
>>
>> Dear A.K. Singh,
>>
>> As you discovered, the data.table package has an error under R 3.5.0
>> that prevents CRAN from distributing a Windows binary for the package. The
>> reason that you weren't able to install the package from source is apparently
>> that you haven't installed the R package-building tools for Windows. See
>> <https://cran.r-project.org/bin/windows/Rtools/ <https://cran.r-
>> project.org/bin/windows/Rtools/> >.
>>
>> Because a number of users of my Rcmdr and car packages have
>> contacted me with a similar issue, as a temporary work-around I've placed a
>> Windows binary for the data.table package on my website at
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> >.
>> You should be able to install the package from there via the command
>>
>>
>> install.packages("https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_
>> 1.10.4-3.zip
>> <https://socialsciences.mcmaster.ca/jfox/.Pickup/data.table_1.10.4-3.zip> ",
>> repos=NULL, type="win.binary")
>>
>> I expect that this problem will go away when the maintainer of the
>> data.table package fixes the error.
>>
>> I hope this helps,
>>   John
>>
>> --------------------------------------
>> John Fox, Professor Emeritus
>> McMaster University
>> Hamilton, Ontario, Canada
>> Web: socialsciences.mcmaster.ca/jfox/
>> <http://socialsciences.mcmaster.ca/jfox/>
>>
>>
>>
>>
>>> -----Original Message-----
>>> From: R-help [mailto:r-help-bounces at r-project.org <mailto:r-help-
>> bounces at r-project.org> ] On Behalf Of Akhilesh
>>> Singh
>>> Sent: Thursday, April 26, 2018 8:08 AM
>>> To: r-help mailing list <r-help at r-project.org <mailto:r-help at r-
>> project.org> >
>>> Subject: [R] Package 'data.table' in version R-3.5.0 not successfully
>>> being installed
>>>
>>> Dear Sir,
>>>
>>> I am using R on Windows OS platform. I upgraded my R-system to
>> version
>>> R-3.5.0. While upgrading my libraries in R as well as in RStudio, I am
>>> stuck up in the package 'data.table', which is required by many
>> other
>>> packages in R-codes in my R-Markdown files.
>>>
>>> I tried to install 'data.table' from "USA-berkely" and "UK-bristol"  as
>>> well as "RStudio" mirrors when the following errors are being
>> shown:
>>>
>>>  From  USA-berkely and UK-bristol mirrors:
>>> =================================
>>> Package which is only available in source form, and may need
>>>    compilation of C/C++/Fortran: ?data.table?
>>>    These will not be installed
>>> Warning message:
>>> In download.file(url, destfile = f, quiet = TRUE) :
>>>    InternetOpenUrl failed: ''
>>>
>>>  From RStudio mirror:
>>> ================
>>> Package which is only available in source form, and may need
>> compilation
>>> of
>>>    C/C++/Fortran: ?data.table?
>>>    These will not be installed
>>>
>>> Afterwards, I consulted google users, I downloaded the source
>> package:
>>> "data.table_1.10.4-3.tar.gz" from CRAN, stored it on desktop, and
>> tried
>>> following command for installing from source only:
>>>
>>>
>>> install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
>>> type="source")
>>>
>>> This generated following errors messages:
>>>
>>>> install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz", repos = NULL,
>>> type="source") Installing package into ?C:/Users/Dr. A.K.
>>> Singh/Documents/R/win-library/3.5?
>>> (as ?lib? is unspecified)
>>> * installing *source* package 'data.table' ...
>>> ** package 'data.table' successfully unpacked and MD5 sums
>> checked
>>> ** libs
>>> Warning in system(cmd) : 'make' not found
>>> ERROR: compilation failed for package 'data.table'
>>> * removing 'C:/Users/Dr. A.K. Singh/Documents/R/win-
>>> library/3.5/data.table'
>>> * restoring previous 'C:/Users/Dr. A.K.
>>> Singh/Documents/R/win-library/3.5/data.table'
>>> In R CMD INSTALL
>>> Warning message:
>>> In install.packages("C:\\Users\\Dr. A.K.
>>> Singh\\Desktop\\data.table_1.10.4-3.tar.gz",  :
>>>    installation of package
>>> ?C:/Users/DRAK~1.SIN/Desktop/data.table_1.10.4-3.tar.gz? had non-
>> zero
>>> exit status
>>>>
>>>
>>>
>>> I is requested to kindly help. I was writing a book using R-
>> Markdown.
>>> And I am stuck up as described above.
>>>
>>> Dr. A.K. Singh
>>> Professor and Head
>>> Department of Agricultural Statistics
>>> Indira Gandhi Krishi Vishwavidyalaya
>>> Raipur
>>> Chhattisgarh
>>> India
>>>
>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list --
>> To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>> PLEASE do read the posting guide http://www.R-
>> project.org/posting- <http://www.R-project.org/posting->
>>> guide.html
>>> and provide commented, minimal, self-contained, reproducible
>> code.
>>
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
> If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.
> 
> 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From du|c@|m@ @end|ng |rom b|gpond@com  Sat Apr 28 03:04:18 2018
From: du|c@|m@ @end|ng |rom b|gpond@com (Duncan Mackay)
Date: Sat, 28 Apr 2018 11:04:18 +1000
Subject: [R] 
 [FORGED] Extracting specified pages from a lattice ("trellis")
 object.
In-Reply-To: <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>
References: <bacf5203-e07c-7944-9935-5e5c18b9fa06@auckland.ac.nz>
 <c397f92a-2a61-6966-080b-b168e5ed458c@stat.auckland.ac.nz>
 <5e6a4fdb-89b7-094a-5646-ef5ce3eaf434@auckland.ac.nz>
 <3d8f5fcf-e7c6-326b-571c-394d175bf67d@stat.auckland.ac.nz>
Message-ID: <000a01d3de8c$d66b99c0$8342cd40$@bigpond.com>

Hi Paul, Rolf

I do not know how legal this is but this works if you have spaces around the ultimate plot due to changes in layout
Changing the layout parameters removes the unwanted space.

ap = dotplot(variety ~ yield | year * site, data=barley,layout = c(2,6))
apm = ap[1:2,3:4]
apm$layout <- c(2,2)
apm

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2350


-----Original Message-----
From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Paul Murrell
Sent: Friday, 27 April 2018 11:28
To: Rolf Turner
Cc: r-help at r-project.org; deepayan.sarkar at r-project.org
Subject: Re: [R] [FORGED] Extracting specified pages from a lattice ("trellis") object.

Hi

Does this not do what you want ... ?

allpages <- dotplot(variety ~ yield | year * site, data=barley,
                     layout=c(2,2))
page2 <- allpages[1:2, 3:4]
print(page2)

Paul

On 24/04/18 17:51, Rolf Turner wrote:
> 
> On 24/04/18 15:17, Paul Murrell wrote:
> 
>> Hi
>>
>> I think the subsetting works by giving you the panels for the 
>> corresponding levels of the conditioning variable(s).  Note that, if 
>> there is more than one conditioning variable, you will need more than 
>> one subsetting index.
>>
>> For example, taking this plot with two conditioning variables and 12 
>> panels in total ...
>>
>> dotplot(variety ~ yield | year * site, data=barley)
>>
>> ... this produces three pages ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>>          layout=c(2,2))
>>
>> ... and this produces the second page (both panels for the first 
>> conditioning variable and the third and fourth panels for the second 
>> conditioning variable) ...
>>
>> dotplot(variety ~ yield | year * site, data=barley,
>>          layout=c(2,2))[1:2, 3:4]
>>
>> Hope that helps.
> 
> Hmm.  Thanks Paul.  I may be able to work with that.  But what I really 
> wanted was to take
> 
>      bar <- dotplot(variety ~ yield | year * site, data=barley)
> 
> and then do (something like)
> 
>      foo <- bar[<something>]
> 
> so that foo contains only the second page of bar, and then do print(foo)
> to get a plot of (just) the second page.  Without re-issuing a 
> (modified) plot command.
> 
> Is that not at all possible?
> 
> cheers,
> 
> Rolf.
> 

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From |uc@m1968 @end|ng |rom gm@||@com  Sat Apr 28 21:45:15 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Sat, 28 Apr 2018 21:45:15 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
Message-ID: <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>

Thanks Don,

    for (i in 1:10){
      nm <- paste0("V", i)
      d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
    }

is exaclty what I needed.

Best regards,

Luca


2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Your code doesn't make sense to me in a couple of ways.
>
> Inside the loop, the first line assigns a value to an object named "t".
> Then, the second line does the same thing, assigns a value to an object
> named "t".
>
> The value of the object named "t" after the second line will be the output
> of the ifelse() expression, whatever that is. This has the effect of making
> the first line irrelevant. Whatever value t has after the first line is
> replaced by whatever it gets from the second line.
>
> It looks like the first line inside the loop is constructing the name of a
> data frame column, and storing that name as a character string. However,
> the second line doesn't use that name at all. If your goal is to update the
> contents of a column, you need to assign something to that column in the
> next line. Instead you assign it to the object named "t".
>
> What you're looking for will be more along the lines of this:
>
>     for (i in 1:10){
>       nm <- paste0("V", i)
>       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>     }
>
> This may not a complete solution, since I have no idea what the contents
> or structure of d1 are, or what the regexpr() is expected to return.
>
> And notice the use of double brackets, [[ and ]]. This is one way to
> reference a column of a  data frame when you have the column's name stored
> in a variable. Another way is d0[ , nm]
>
>
> A couple of additional comments:
>
>  "t" is a poor choice of object name, because it is one of R's built-in
> functions (immediately after starting a fresh session of R, with nothing
> left over from any previous session, type help("r") and see what you get).
>
>  ifelse() is intended for use on vectors, not scalars, and it looks like
> maybe you're using it on a scalar (can't be sure about this, though)
>
> For example, ifelse() is designed for this kind of usage:
> > ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
> [1]  1 12  3
>
> Although it works ok for these
> > ifelse(TRUE, 3, 4)
> [1] 3
> > ifelse(FALSE, 3, 4)
> [1] 4
> They are not really what it is intended for.
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>
>     Hi,
>
>     I am trying to debug the following code:
>
>     for (i in 1:10){
>       t <- paste("d0$V",i,sep="")
>       t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>     }
>
>     and I would like to see what code is actually processing R, how can I
> do
>     that?
>
>     More to the point, I am trying to update my variables d0$V1 to d0$V10
>     according to the presence or absence of some text (contained in the
> file
>     d1) within the d0$X0 variable.
>
>     The code seem to run ok, if I add print(table(t)) within the loop I
> can see
>     that the ifelse procedure is working and to some cases within the
> d0$V1 to
>     d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
>     after the for loop they are all still equal to zero...
>
>     Thanks,
>
>     Luca
>
>         [[alternative HTML version deleted]]
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Apr 28 23:12:55 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 28 Apr 2018 22:12:55 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
Message-ID: <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>

Hello,

instead of ifelse, the following is exactly the same and much more 
efficient.

d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)


Hope this helps,

Rui Barradas

On 4/28/2018 8:45 PM, Luca Meyer wrote:
> Thanks Don,
> 
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
> 
> is exaclty what I needed.
> 
> Best regards,
> 
> Luca
> 
> 
> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
> 
>> Your code doesn't make sense to me in a couple of ways.
>>
>> Inside the loop, the first line assigns a value to an object named "t".
>> Then, the second line does the same thing, assigns a value to an object
>> named "t".
>>
>> The value of the object named "t" after the second line will be the output
>> of the ifelse() expression, whatever that is. This has the effect of making
>> the first line irrelevant. Whatever value t has after the first line is
>> replaced by whatever it gets from the second line.
>>
>> It looks like the first line inside the loop is constructing the name of a
>> data frame column, and storing that name as a character string. However,
>> the second line doesn't use that name at all. If your goal is to update the
>> contents of a column, you need to assign something to that column in the
>> next line. Instead you assign it to the object named "t".
>>
>> What you're looking for will be more along the lines of this:
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> This may not a complete solution, since I have no idea what the contents
>> or structure of d1 are, or what the regexpr() is expected to return.
>>
>> And notice the use of double brackets, [[ and ]]. This is one way to
>> reference a column of a  data frame when you have the column's name stored
>> in a variable. Another way is d0[ , nm]
>>
>>
>> A couple of additional comments:
>>
>>   "t" is a poor choice of object name, because it is one of R's built-in
>> functions (immediately after starting a fresh session of R, with nothing
>> left over from any previous session, type help("r") and see what you get).
>>
>>   ifelse() is intended for use on vectors, not scalars, and it looks like
>> maybe you're using it on a scalar (can't be sure about this, though)
>>
>> For example, ifelse() is designed for this kind of usage:
>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>> [1]  1 12  3
>>
>> Although it works ok for these
>>> ifelse(TRUE, 3, 4)
>> [1] 3
>>> ifelse(FALSE, 3, 4)
>> [1] 4
>> They are not really what it is intended for.
>>
>> --
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> 7000 East Ave., L-627
>> Livermore, CA 94550
>> 925-423-1062
>> Lab cell 925-724-7509
>>
>>
>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>
>>      Hi,
>>
>>      I am trying to debug the following code:
>>
>>      for (i in 1:10){
>>        t <- paste("d0$V",i,sep="")
>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>      }
>>
>>      and I would like to see what code is actually processing R, how can I
>> do
>>      that?
>>
>>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>>      according to the presence or absence of some text (contained in the
>> file
>>      d1) within the d0$X0 variable.
>>
>>      The code seem to run ok, if I add print(table(t)) within the loop I
>> can see
>>      that the ifelse procedure is working and to some cases within the
>> d0$V1 to
>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
>> d0$V10
>>      after the for loop they are all still equal to zero...
>>
>>      Thanks,
>>
>>      Luca
>>
>>          [[alternative HTML version deleted]]
>>
>>      ______________________________________________
>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>      PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>>      and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Apr 28 23:18:59 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 28 Apr 2018 22:18:59 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
Message-ID: <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>

I forgot to explain why my suggestion.

The logical condition returns FALSE/TRUE that in R are coded as 0/1.
So all you have to do is coerce to integer.

This works because the ifelse will return a 1 or a 0 depending on the 
condition. Meaning exactly the same values. And is more efficient since 
ifelse creates both vectors, the true part and the false part, and then 
indexes those vectors in order to return the appropriate values. This is 
the double of the trouble and a great deal of memory used.

Rui Barradas

On 4/28/2018 10:12 PM, Rui Barradas wrote:
> Hello,
> 
> instead of ifelse, the following is exactly the same and much more 
> efficient.
> 
> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>> Thanks Don,
>>
>> ???? for (i in 1:10){
>> ?????? nm <- paste0("V", i)
>> ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>> ???? }
>>
>> is exaclty what I needed.
>>
>> Best regards,
>>
>> Luca
>>
>>
>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>
>>> Your code doesn't make sense to me in a couple of ways.
>>>
>>> Inside the loop, the first line assigns a value to an object named "t".
>>> Then, the second line does the same thing, assigns a value to an object
>>> named "t".
>>>
>>> The value of the object named "t" after the second line will be the 
>>> output
>>> of the ifelse() expression, whatever that is. This has the effect of 
>>> making
>>> the first line irrelevant. Whatever value t has after the first line is
>>> replaced by whatever it gets from the second line.
>>>
>>> It looks like the first line inside the loop is constructing the name 
>>> of a
>>> data frame column, and storing that name as a character string. However,
>>> the second line doesn't use that name at all. If your goal is to 
>>> update the
>>> contents of a column, you need to assign something to that column in the
>>> next line. Instead you assign it to the object named "t".
>>>
>>> What you're looking for will be more along the lines of this:
>>>
>>> ???? for (i in 1:10){
>>> ?????? nm <- paste0("V", i)
>>> ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>> ???? }
>>>
>>> This may not a complete solution, since I have no idea what the contents
>>> or structure of d1 are, or what the regexpr() is expected to return.
>>>
>>> And notice the use of double brackets, [[ and ]]. This is one way to
>>> reference a column of a? data frame when you have the column's name 
>>> stored
>>> in a variable. Another way is d0[ , nm]
>>>
>>>
>>> A couple of additional comments:
>>>
>>> ? "t" is a poor choice of object name, because it is one of R's built-in
>>> functions (immediately after starting a fresh session of R, with nothing
>>> left over from any previous session, type help("r") and see what you 
>>> get).
>>>
>>> ? ifelse() is intended for use on vectors, not scalars, and it looks 
>>> like
>>> maybe you're using it on a scalar (can't be sure about this, though)
>>>
>>> For example, ifelse() is designed for this kind of usage:
>>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>> [1]? 1 12? 3
>>>
>>> Although it works ok for these
>>>> ifelse(TRUE, 3, 4)
>>> [1] 3
>>>> ifelse(FALSE, 3, 4)
>>> [1] 4
>>> They are not really what it is intended for.
>>>
>>> -- 
>>> Don MacQueen
>>> Lawrence Livermore National Laboratory
>>> 7000 East Ave., L-627
>>> Livermore, CA 94550
>>> 925-423-1062
>>> Lab cell 925-724-7509
>>>
>>>
>>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>>
>>> ???? Hi,
>>>
>>> ???? I am trying to debug the following code:
>>>
>>> ???? for (i in 1:10){
>>> ?????? t <- paste("d0$V",i,sep="")
>>> ?????? t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>> ???? }
>>>
>>> ???? and I would like to see what code is actually processing R, how 
>>> can I
>>> do
>>> ???? that?
>>>
>>> ???? More to the point, I am trying to update my variables d0$V1 to 
>>> d0$V10
>>> ???? according to the presence or absence of some text (contained in the
>>> file
>>> ???? d1) within the d0$X0 variable.
>>>
>>> ???? The code seem to run ok, if I add print(table(t)) within the loop I
>>> can see
>>> ???? that the ifelse procedure is working and to some cases within the
>>> d0$V1 to
>>> ???? d0$V10 variable range a 1 is assigned. But when checking my 
>>> d0$V1 to
>>> d0$V10
>>> ???? after the for loop they are all still equal to zero...
>>>
>>> ???? Thanks,
>>>
>>> ???? Luca
>>>
>>> ???????? [[alternative HTML version deleted]]
>>>
>>> ???? ______________________________________________
>>> ???? R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> ???? https://stat.ethz.ch/mailman/listinfo/r-help
>>> ???? PLEASE do read the posting guide http://www.R-project.org/
>>> posting-guide.html
>>> ???? and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From b@k@burg1 @end|ng |rom gm@||@com  Sun Apr 29 17:52:36 2018
From: b@k@burg1 @end|ng |rom gm@||@com (Angelo D'Ambrosio)
Date: Sun, 29 Apr 2018 17:52:36 +0200
Subject: [R] Compare global and between group variability of 2 mixed effect
 models
Message-ID: <CALcwahOUiutiQNXPz-okHTBn-fxKbSH-HF=A4b3Z9Pa+NYpTZA@mail.gmail.com>

Hello,

We are comparing some features of our product against a competitor. Since
the product is produced in lots and we have proof that ambient temperature
is relevant for its functioning we used a mixed effect model (MEM)
structured this way (NB: R lme4 notation):

`out ~ Brand * Temperature + (Temperature | Lot)`

with out being the various outcomes, a random intercept on Lot and a random
slope on Temperature.

We need to understand which brand has more variability between single items
and between lots.

We thought of using the random intercept and residual standard deviations
from the MEM for each brand. The problem now is how to compare them.

We tried using the F distribution to build confidence intervals and
hypothesis test, but for most of the outcomes we evaluated, one or both
models had zero standard deviation on the random intercept, so it's
impossible to take the ratio (lots of zeros, infinity, NaN).

We investigated also the variance gamma distribution, that can describe the
difference of two standard deviations (so zeros are not a problem), but we
don't actually know how to pass the right parameters to describe our data.

As a third alternative, we tried modeling the ratio between standard
deviations with a bayes-regularized glm model with Poisson links:

`bayesglm(c(sd1, sd2) ~ c('mod1', 'mod2), weights = c(n1, n2), family =
poisson())

But we are not sure whether it could be a meaningful approximation or not.
We thought of a Poisson distribution because it can natively cope with
zeros and the bayes regularization to avoid too extreme estimates (eg: 0 -
Inf confidence intervals).

Finally, we thought of a much simpler approach:
- first use a Levene test to compare raw variances between brands.
- than using ANOVA to test for between-lots variability for each brand.

Although much simpler, this methodology don?t use the information on the
clustered structure of the data and the effect of temperature. Furthermore,
it doesn't formally compare between-lots variability between brands, it
just produce two F scores.

Any suggestions?

Thanks

	[[alternative HTML version deleted]]



From m||uj|@b @end|ng |rom gm@||@com  Sun Apr 29 20:19:04 2018
From: m||uj|@b @end|ng |rom gm@||@com (Miluji Sb)
Date: Sun, 29 Apr 2018 20:19:04 +0200
Subject: [R] Overlay line on a bar plot - multiple axis
Message-ID: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>

Dear all,

I am trying to make a similar plot -
https://peltiertech.com/images/2013-09/BarLineSampleChart4.png.

I have data for two variables; count and z by city and week. I would like
to have a horizontal bar plot of *count* by city and a line plot of weekly
average of the variable *z*.

I have tried the following:

ggplot() + geom_bar(data=dat, aes(x=city, y=count),
stat="identity",position="dodge") + coord_flip() +
geom_line(data=dat, aes(x=week, y=mean_tmin))

However, this flips the code for both the bar plot and the line plot. I
would the y-axis of the line plot to be on the left-vertical axis. I read
that it is difficult to have a secondary axis with ggplot. Any help will be
highly appreciated. Thank you!

dput(dat)
structure(list(city = structure(c(4L, 5L, 1L, 3L, 2L, 4L, 3L,
1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
"Houston", "NYC", "OKC"), class = "factor"), week = c(1L, 1L,
1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L), count = c(2.8,
2.7, 3.1, 2.5, 3.5, 5.3, 4.5, 9.5, 2.7, 2.1, 4.5, 9.5, 2.7, 5.3,
2.1), z = c(-4.1, 1.7, 1.5, 12.8, 1.9, 4, 11.2, 1.4, 2, 4, 10.9,
1.4, 1.7, 3.9, 4.3), City = structure(c(4L, 5L, 1L, 3L, 2L, 4L,
3L, 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
"Houston", "NYC", "OKC"), class = "factor"), Count = c(4.466667,
2.3, 7.366667, 3.833333, 2.966667, 4.466667, 3.833333, 7.366667,
2.966667, 2.3, 3.833333, 7.366667, 2.966667, 4.466667, 2.3),
    mean_tmin = c(2.76, 2.76, 2.76, 2.76, 2.76, 4.52, 4.52, 4.52,
    4.52, 4.52, 4.44, 4.44, 4.44, 4.44, 4.44)), .Names = c("city",
"week", "count", "z", "City", "Count", "mean_tmin"), class = "data.frame",
row.names = c(NA,
-15L))

	[[alternative HTML version deleted]]



From drj|m|emon @end|ng |rom gm@||@com  Mon Apr 30 01:47:58 2018
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 30 Apr 2018 09:47:58 +1000
Subject: [R] Overlay line on a bar plot - multiple axis
In-Reply-To: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>
References: <CAMLwc7NP++Fq4bPHSN4iR2Ei_7wB0ojT0KjDfgryOKUuxM3OCA@mail.gmail.com>
Message-ID: <CA+8X3fWeynVwYr-oYBP=dbaS6xH09GMqVFVEotRCRpXxArWb_w@mail.gmail.com>

Hi Miluji,
You have a problem as the x-axis is different for the two plots.
However, the y-axis can be the same, so you really don't need
different axes. I think you want to display city within week. The
example below shows how to display both the counts for the cities by
week, the mean z by week and then use legends to identify the
different parts of the plot. I'm afraid that I didn't even try to do
this in ggplot.

# this uses your structure "dat"
weekcity<-dat[order(dat$week,dat$city),1:4]
barpos<-barplot(matrix(weekcity$count,nrow=5),names.arg=1:3,
 legend.text=c("Akron","Boston","Houston","NYC","OKC"),
 args.legend=list(x=8,y=6),xlab="count",
 ylab="Week",beside=TRUE,horiz=TRUE)
lines(by(weekcity$z,weekcity$week,mean),colMeans(barpos),
 type="b",lwd=2)
legend(5.5,16,"Weekly mean of z",pch=1,lty=1,lwd=2)

Jim

On Mon, Apr 30, 2018 at 4:19 AM, Miluji Sb <milujisb at gmail.com> wrote:
> Dear all,
>
> I am trying to make a similar plot -
> https://peltiertech.com/images/2013-09/BarLineSampleChart4.png.
>
> I have data for two variables; count and z by city and week. I would like
> to have a horizontal bar plot of *count* by city and a line plot of weekly
> average of the variable *z*.
>
> I have tried the following:
>
> ggplot() + geom_bar(data=dat, aes(x=city, y=count),
> stat="identity",position="dodge") + coord_flip() +
> geom_line(data=dat, aes(x=week, y=mean_tmin))
>
> However, this flips the code for both the bar plot and the line plot. I
> would the y-axis of the line plot to be on the left-vertical axis. I read
> that it is difficult to have a secondary axis with ggplot. Any help will be
> highly appreciated. Thank you!
>
> dput(dat)
> structure(list(city = structure(c(4L, 5L, 1L, 3L, 2L, 4L, 3L,
> 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
> "Houston", "NYC", "OKC"), class = "factor"), week = c(1L, 1L,
> 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L), count = c(2.8,
> 2.7, 3.1, 2.5, 3.5, 5.3, 4.5, 9.5, 2.7, 2.1, 4.5, 9.5, 2.7, 5.3,
> 2.1), z = c(-4.1, 1.7, 1.5, 12.8, 1.9, 4, 11.2, 1.4, 2, 4, 10.9,
> 1.4, 1.7, 3.9, 4.3), City = structure(c(4L, 5L, 1L, 3L, 2L, 4L,
> 3L, 1L, 2L, 5L, 3L, 1L, 2L, 4L, 5L), .Label = c("Akron", "Boston",
> "Houston", "NYC", "OKC"), class = "factor"), Count = c(4.466667,
> 2.3, 7.366667, 3.833333, 2.966667, 4.466667, 3.833333, 7.366667,
> 2.966667, 2.3, 3.833333, 7.366667, 2.966667, 4.466667, 2.3),
>     mean_tmin = c(2.76, 2.76, 2.76, 2.76, 2.76, 4.52, 4.52, 4.52,
>     4.52, 4.52, 4.44, 4.44, 4.44, 4.44, 4.44)), .Names = c("city",
> "week", "count", "z", "City", "Count", "mean_tmin"), class = "data.frame",
> row.names = c(NA,
> -15L))
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From r@e@crump @end|ng |rom w@rw|ck@@c@uk  Mon Apr 30 12:28:31 2018
From: r@e@crump @end|ng |rom w@rw|ck@@c@uk (Ron Crump)
Date: Mon, 30 Apr 2018 11:28:31 +0100
Subject: [R] Overlay line on a bar plot - multiple axis
Message-ID: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>

Hi Miluji,

Using Jim's interpretation of your desired graph,
you could do it in ggplot2 using your dat DF by:

ggplot() +
  geom_bar(data=dat,
    aes(x=week,y=count,fill=city),stat="identity",position="dodge") +
  coord_flip() +
  geom_line(data=dat, aes(x=week, y=mean_tmin))

There would still need some work to be done to get the weekly mean
into a legend, but it is achievable if required.

Ron.



From m||uj|@b @end|ng |rom gm@||@com  Mon Apr 30 15:13:23 2018
From: m||uj|@b @end|ng |rom gm@||@com (Miluji Sb)
Date: Mon, 30 Apr 2018 15:13:23 +0200
Subject: [R] Overlay line on a bar plot - multiple axis
In-Reply-To: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>
References: <7d61319b-992f-6b1d-91e6-e56f46d64fc9@warwick.ac.uk>
Message-ID: <CAMLwc7PqT9C8WnEmariEFD=TQ4DZf_V+dLAfwNL_bLvdL11ffA@mail.gmail.com>

Dear Jim and Ron,

Thank you very much. Both the solutions are very neat and working.
Appreciate all your help.

Sincerely,

Milu

On Mon, Apr 30, 2018 at 12:28 PM, Ron Crump <r.e.crump at warwick.ac.uk> wrote:

> Hi Miluji,
>
> Using Jim's interpretation of your desired graph,
> you could do it in ggplot2 using your dat DF by:
>
> ggplot() +
>  geom_bar(data=dat,
>    aes(x=week,y=count,fill=city),stat="identity",position="dodge") +
>  coord_flip() +
>  geom_line(data=dat, aes(x=week, y=mean_tmin))
>
> There would still need some work to be done to get the weekly mean
> into a legend, but it is achievable if required.
>
> Ron.
>

	[[alternative HTML version deleted]]



From |uc@m1968 @end|ng |rom gm@||@com  Mon Apr 30 17:07:40 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Mon, 30 Apr 2018 17:07:40 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
Message-ID: <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>

Hi Rui

Thank you for your suggestion,

I have tested the code suggested by you against that supplied by Don in
terms of timing and results are very much aligned: to populate a 5954x899
0/1 matrix on my machine your procedure took 79 secs, while the one with
ifelse employed 80 secs, hence unfortunately not really any significant
time saved there.

Nevertheless thank you for your contribution.

Kind regards,

Luca

2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:

> I forgot to explain why my suggestion.
>
> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
> So all you have to do is coerce to integer.
>
> This works because the ifelse will return a 1 or a 0 depending on the
> condition. Meaning exactly the same values. And is more efficient since
> ifelse creates both vectors, the true part and the false part, and then
> indexes those vectors in order to return the appropriate values. This is
> the double of the trouble and a great deal of memory used.
>
> Rui Barradas
>
> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>
>> Hello,
>>
>> instead of ifelse, the following is exactly the same and much more
>> efficient.
>>
>> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>>
>>> Thanks Don,
>>>
>>>      for (i in 1:10){
>>>        nm <- paste0("V", i)
>>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>>      }
>>>
>>> is exaclty what I needed.
>>>
>>> Best regards,
>>>
>>> Luca
>>>
>>>
>>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>>
>>> Your code doesn't make sense to me in a couple of ways.
>>>>
>>>> Inside the loop, the first line assigns a value to an object named "t".
>>>> Then, the second line does the same thing, assigns a value to an object
>>>> named "t".
>>>>
>>>> The value of the object named "t" after the second line will be the
>>>> output
>>>> of the ifelse() expression, whatever that is. This has the effect of
>>>> making
>>>> the first line irrelevant. Whatever value t has after the first line is
>>>> replaced by whatever it gets from the second line.
>>>>
>>>> It looks like the first line inside the loop is constructing the name
>>>> of a
>>>> data frame column, and storing that name as a character string. However,
>>>> the second line doesn't use that name at all. If your goal is to update
>>>> the
>>>> contents of a column, you need to assign something to that column in the
>>>> next line. Instead you assign it to the object named "t".
>>>>
>>>> What you're looking for will be more along the lines of this:
>>>>
>>>>      for (i in 1:10){
>>>>        nm <- paste0("V", i)
>>>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>>>      }
>>>>
>>>> This may not a complete solution, since I have no idea what the contents
>>>> or structure of d1 are, or what the regexpr() is expected to return.
>>>>
>>>> And notice the use of double brackets, [[ and ]]. This is one way to
>>>> reference a column of a  data frame when you have the column's name
>>>> stored
>>>> in a variable. Another way is d0[ , nm]
>>>>
>>>>
>>>> A couple of additional comments:
>>>>
>>>>   "t" is a poor choice of object name, because it is one of R's built-in
>>>> functions (immediately after starting a fresh session of R, with nothing
>>>> left over from any previous session, type help("r") and see what you
>>>> get).
>>>>
>>>>   ifelse() is intended for use on vectors, not scalars, and it looks
>>>> like
>>>> maybe you're using it on a scalar (can't be sure about this, though)
>>>>
>>>> For example, ifelse() is designed for this kind of usage:
>>>>
>>>>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>>>>
>>>> [1]  1 12  3
>>>>
>>>> Although it works ok for these
>>>>
>>>>> ifelse(TRUE, 3, 4)
>>>>>
>>>> [1] 3
>>>>
>>>>> ifelse(FALSE, 3, 4)
>>>>>
>>>> [1] 4
>>>> They are not really what it is intended for.
>>>>
>>>> --
>>>> Don MacQueen
>>>> Lawrence Livermore National Laboratory
>>>> 7000 East Ave., L-627
>>>> Livermore, CA 94550
>>>> 925-423-1062
>>>> Lab cell 925-724-7509
>>>>
>>>>
>>>> ?On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>>>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>>>
>>>>      Hi,
>>>>
>>>>      I am trying to debug the following code:
>>>>
>>>>      for (i in 1:10){
>>>>        t <- paste("d0$V",i,sep="")
>>>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>>>      }
>>>>
>>>>      and I would like to see what code is actually processing R, how
>>>> can I
>>>> do
>>>>      that?
>>>>
>>>>      More to the point, I am trying to update my variables d0$V1 to
>>>> d0$V10
>>>>      according to the presence or absence of some text (contained in the
>>>> file
>>>>      d1) within the d0$X0 variable.
>>>>
>>>>      The code seem to run ok, if I add print(table(t)) within the loop I
>>>> can see
>>>>      that the ifelse procedure is working and to some cases within the
>>>> d0$V1 to
>>>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1
>>>> to
>>>> d0$V10
>>>>      after the for loop they are all still equal to zero...
>>>>
>>>>      Thanks,
>>>>
>>>>      Luca
>>>>
>>>>          [[alternative HTML version deleted]]
>>>>
>>>>      ______________________________________________
>>>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>>>      PLEASE do read the posting guide http://www.R-project.org/
>>>> posting-guide.html
>>>>      and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>
>>>>
>>>>
>>>     [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posti
>>> ng-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posti
>> ng-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]



From m@cqueen1 @end|ng |rom ||n|@gov  Mon Apr 30 17:25:26 2018
From: m@cqueen1 @end|ng |rom ||n|@gov (MacQueen, Don)
Date: Mon, 30 Apr 2018 15:25:26 +0000
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
Message-ID: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>

Luca,

If speed is important, you might improve performance by making d0 into a true matrix, rather than a data frame (assuming d0 is indeed a data frame at this point). Although data frames may look like matrices, they aren?t, and they have some overhead that matrices don?t.  I don?t think you would be able to use the [[nm]] syntax with a matrix, but [ , nm] should work, provided the matrix has column names. Or you could perhaps index by column number.

I had a project some years ago in which I reduced calculation time a lot by extracting the numeric columns of a data frame and working with them, then recombining them with the character columns. R?s performance working with data frames has improved since then, so I really don?t know if it would make a difference for your task.

-Don

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509


From: Luca Meyer <lucam1968 at gmail.com>
Date: Monday, April 30, 2018 at 8:08 AM
To: Rui Barradas <ruipbarradas at sapo.pt>
Cc: "MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <r-help at r-project.org>
Subject: Re: [R] How to visualise what code is processed within a for loop

Hi Rui
Thank you for your suggestion,

I have tested the code suggested by you against that supplied by Don in terms of timing and results are very much aligned: to populate a 5954x899 0/1 matrix on my machine your procedure took 79 secs, while the one with ifelse employed 80 secs, hence unfortunately not really any significant time saved there.
Nevertheless thank you for your contribution.
Kind regards,

Luca

2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>>:
I forgot to explain why my suggestion.

The logical condition returns FALSE/TRUE that in R are coded as 0/1.
So all you have to do is coerce to integer.

This works because the ifelse will return a 1 or a 0 depending on the condition. Meaning exactly the same values. And is more efficient since ifelse creates both vectors, the true part and the false part, and then indexes those vectors in order to return the appropriate values. This is the double of the trouble and a great deal of memory used.

Rui Barradas

On 4/28/2018 10:12 PM, Rui Barradas wrote:
Hello,

instead of ifelse, the following is exactly the same and much more efficient.

d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)


Hope this helps,

Rui Barradas

On 4/28/2018 8:45 PM, Luca Meyer wrote:
Thanks Don,

     for (i in 1:10){
       nm <- paste0("V", i)
       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
     }

is exaclty what I needed.

Best regards,

Luca


2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov<mailto:macqueen1 at llnl.gov>>:
Your code doesn't make sense to me in a couple of ways.

Inside the loop, the first line assigns a value to an object named "t".
Then, the second line does the same thing, assigns a value to an object
named "t".

The value of the object named "t" after the second line will be the output
of the ifelse() expression, whatever that is. This has the effect of making
the first line irrelevant. Whatever value t has after the first line is
replaced by whatever it gets from the second line.

It looks like the first line inside the loop is constructing the name of a
data frame column, and storing that name as a character string. However,
the second line doesn't use that name at all. If your goal is to update the
contents of a column, you need to assign something to that column in the
next line. Instead you assign it to the object named "t".

What you're looking for will be more along the lines of this:

     for (i in 1:10){
       nm <- paste0("V", i)
       d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
     }

This may not a complete solution, since I have no idea what the contents
or structure of d1 are, or what the regexpr() is expected to return.

And notice the use of double brackets, [[ and ]]. This is one way to
reference a column of a  data frame when you have the column's name stored
in a variable. Another way is d0[ , nm]


A couple of additional comments:

  "t" is a poor choice of object name, because it is one of R's built-in
functions (immediately after starting a fresh session of R, with nothing
left over from any previous session, type help("r") and see what you get).

  ifelse() is intended for use on vectors, not scalars, and it looks like
maybe you're using it on a scalar (can't be sure about this, though)

For example, ifelse() is designed for this kind of usage:
ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
[1]  1 12  3

Although it works ok for these
ifelse(TRUE, 3, 4)
[1] 3
ifelse(FALSE, 3, 4)
[1] 4
They are not really what it is intended for.

--
Don MacQueen
Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062
Lab cell 925-724-7509


On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org> on behalf of lucam1968 at gmail.com<mailto:lucam1968 at gmail.com>> wrote:

     Hi,

     I am trying to debug the following code:

     for (i in 1:10){
       t <- paste("d0$V",i,sep="")
       t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
     }

     and I would like to see what code is actually processing R, how can I
do
     that?

     More to the point, I am trying to update my variables d0$V1 to d0$V10
     according to the presence or absence of some text (contained in the
file
     d1) within the d0$X0 variable.

     The code seem to run ok, if I add print(table(t)) within the loop I
can see
     that the ifelse procedure is working and to some cases within the
d0$V1 to
     d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
d0$V10
     after the for loop they are all still equal to zero...

     Thanks,

     Luca

         [[alternative HTML version deleted]]

     ______________________________________________
     R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
     https://stat.ethz.ch/mailman/listinfo/r-help
     PLEASE do read the posting guide http://www.R-project.org/
posting-guide.html
     and provide commented, minimal, self-contained, reproducible code.



    [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Apr 30 17:56:49 2018
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 30 Apr 2018 16:56:49 +0100
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
Message-ID: <a7294f82-11e1-5946-f362-b589fda9ad04@sapo.pt>

Hello,

Another thing to note is that regexpr is likely to take (much) more time 
than ifelse or as.integer.
And the code will therefore not be very optimizable.

Rui Barradas

On 4/30/2018 4:25 PM, MacQueen, Don wrote:
> Luca,
> 
> If speed is important, you might improve performance by making d0 into a 
> true matrix, rather than a data frame (assuming d0 is indeed a data 
> frame at this point). Although data frames may look like matrices, they 
> aren?t, and they have some overhead that matrices don?t.? I don?t think 
> you would be able to use the [[nm]] syntax with a matrix, but [ , nm] 
> should work, provided the matrix has column names. Or you could perhaps 
> index by column number.
> 
> I had a project some years ago in which I reduced calculation time a lot 
> by extracting the numeric columns of a data frame and working with them, 
> then recombining them with the character columns. R?s performance 
> working with data frames has improved since then, so I really don?t know 
> if it would make a difference for your task.
> 
> -Don
> 
> --
> 
> Don MacQueen
> 
> Lawrence Livermore National Laboratory
> 
> 7000 East Ave., L-627
> 
> Livermore, CA 94550
> 
> 925-423-1062
> 
> Lab cell 925-724-7509
> 
> *From: *Luca Meyer <lucam1968 at gmail.com>
> *Date: *Monday, April 30, 2018 at 8:08 AM
> *To: *Rui Barradas <ruipbarradas at sapo.pt>
> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help 
> <r-help at r-project.org>
> *Subject: *Re: [R] How to visualise what code is processed within a for loop
> 
> Hi Rui
> 
> Thank you for your suggestion,
> 
> I have tested the code suggested by you against that supplied by Don in 
> terms of timing and results are very much aligned: to populate a 
> 5954x899 0/1 matrix on my machine your procedure took 79 secs, while the 
> one with ifelse employed 80 secs, hence unfortunately not really any 
> significant time saved there.
> 
> Nevertheless thank you for your contribution.
> 
> Kind regards,
> 
> Luca
> 
> 2018-04-28 23:18 GMT+02:00 Rui Barradas 
> <ruipbarradas at sapo.pt<mailto:ruipbarradas at sapo.pt>>:
> 
>     I forgot to explain why my suggestion.
> 
>     The logical condition returns FALSE/TRUE that in R are coded as 0/1.
>     So all you have to do is coerce to integer.
> 
>     This works because the ifelse will return a 1 or a 0 depending on
>     the condition. Meaning exactly the same values. And is more
>     efficient since ifelse creates both vectors, the true part and the
>     false part, and then indexes those vectors in order to return the
>     appropriate values. This is the double of the trouble and a great
>     deal of memory used.
> 
>     Rui Barradas
> 
>     On 4/28/2018 10:12 PM, Rui Barradas wrote:
> 
>         Hello,
> 
>         instead of ifelse, the following is exactly the same and much
>         more efficient.
> 
>         d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
> 
> 
>         Hope this helps,
> 
>         Rui Barradas
> 
>         On 4/28/2018 8:45 PM, Luca Meyer wrote:
> 
>             Thanks Don,
> 
>              ???? for (i in 1:10){
>              ?????? nm <- paste0("V", i)
>              ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>              ???? }
> 
>             is exaclty what I needed.
> 
>             Best regards,
> 
>             Luca
> 
> 
>             2018-04-25 23:03 GMT+02:00 MacQueen, Don
>             <macqueen1 at llnl.gov<mailto:macqueen1 at llnl.gov>>:
> 
>                 Your code doesn't make sense to me in a couple of ways.
> 
>                 Inside the loop, the first line assigns a value to an
>                 object named "t".
>                 Then, the second line does the same thing, assigns a
>                 value to an object
>                 named "t".
> 
>                 The value of the object named "t" after the second line
>                 will be the output
>                 of the ifelse() expression, whatever that is. This has
>                 the effect of making
>                 the first line irrelevant. Whatever value t has after
>                 the first line is
>                 replaced by whatever it gets from the second line.
> 
>                 It looks like the first line inside the loop is
>                 constructing the name of a
>                 data frame column, and storing that name as a character
>                 string. However,
>                 the second line doesn't use that name at all. If your
>                 goal is to update the
>                 contents of a column, you need to assign something to
>                 that column in the
>                 next line. Instead you assign it to the object named "t".
> 
>                 What you're looking for will be more along the lines of
>                 this:
> 
>                  ???? for (i in 1:10){
>                  ?????? nm <- paste0("V", i)
>                  ?????? d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0,
>                 1, 0)
>                  ???? }
> 
>                 This may not a complete solution, since I have no idea
>                 what the contents
>                 or structure of d1 are, or what the regexpr() is
>                 expected to return.
> 
>                 And notice the use of double brackets, [[ and ]]. This
>                 is one way to
>                 reference a column of a? data frame when you have the
>                 column's name stored
>                 in a variable. Another way is d0[ , nm]
> 
> 
>                 A couple of additional comments:
> 
>                  ? "t" is a poor choice of object name, because it is
>                 one of R's built-in
>                 functions (immediately after starting a fresh session of
>                 R, with nothing
>                 left over from any previous session, type help("r") and
>                 see what you get).
> 
>                  ? ifelse() is intended for use on vectors, not scalars,
>                 and it looks like
>                 maybe you're using it on a scalar (can't be sure about
>                 this, though)
> 
>                 For example, ifelse() is designed for this kind of usage:
> 
>                     ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
> 
>                 [1]? 1 12? 3
> 
>                 Although it works ok for these
> 
>                     ifelse(TRUE, 3, 4)
> 
>                 [1] 3
> 
>                     ifelse(FALSE, 3, 4)
> 
>                 [1] 4
>                 They are not really what it is intended for.
> 
>                 -- 
>                 Don MacQueen
>                 Lawrence Livermore National Laboratory
>                 7000 East Ave., L-627
>                 Livermore, CA 94550
>                 925-423-1062
>                 Lab cell 925-724-7509
> 
> 
>                 On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>                 r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>on
>                 behalf of
>                 lucam1968 at gmail.com<mailto:lucam1968 at gmail.com>> wrote:
> 
>                  ???? Hi,
> 
>                  ???? I am trying to debug the following code:
> 
>                  ???? for (i in 1:10){
>                  ?????? t <- paste("d0$V",i,sep="")
>                  ?????? t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>                  ???? }
> 
>                  ???? and I would like to see what code is actually
>                 processing R, how can I
>                 do
>                  ???? that?
> 
>                  ???? More to the point, I am trying to update my
>                 variables d0$V1 to d0$V10
>                  ???? according to the presence or absence of some text
>                 (contained in the
>                 file
>                  ???? d1) within the d0$X0 variable.
> 
>                  ???? The code seem to run ok, if I add print(table(t))
>                 within the loop I
>                 can see
>                  ???? that the ifelse procedure is working and to some
>                 cases within the
>                 d0$V1 to
>                  ???? d0$V10 variable range a 1 is assigned. But when
>                 checking my d0$V1 to
>                 d0$V10
>                  ???? after the for loop they are all still equal to zero...
> 
>                  ???? Thanks,
> 
>                  ???? Luca
> 
>                  ???????? [[alternative HTML version deleted]]
> 
>                  ???? ______________________________________________
>                 R-help at r-project.org<mailto:R-help at r-project.org>mailing
>                 list -- To UNSUBSCRIBE and more, see
>                 https://stat.ethz.ch/mailman/listinfo/r-help
>                  ???? PLEASE do read the posting guide
>                 http://www.R-project.org/
>                 posting-guide.html
>                  ???? and provide commented, minimal, self-contained,
>                 reproducible code.
> 
> 
> 
>              ????[[alternative HTML version deleted]]
> 
>             ______________________________________________
>             R-help at r-project.org<mailto:R-help at r-project.org>mailing
>             list -- To UNSUBSCRIBE and more, see
>             https://stat.ethz.ch/mailman/listinfo/r-help
>             PLEASE do read the posting guide
>             http://www.R-project.org/posting-guide.html
>             and provide commented, minimal, self-contained, reproducible
>             code.
> 
> 
>         ______________________________________________
>         R-help at r-project.org<mailto:R-help at r-project.org>mailing list --
>         To UNSUBSCRIBE and more, see
>         https://stat.ethz.ch/mailman/listinfo/r-help
>         PLEASE do read the posting guide
>         http://www.R-project.org/posting-guide.html
>         and provide commented, minimal, self-contained, reproducible code.
>



From |uc@m1968 @end|ng |rom gm@||@com  Mon Apr 30 18:25:28 2018
From: |uc@m1968 @end|ng |rom gm@||@com (Luca Meyer)
Date: Mon, 30 Apr 2018 18:25:28 +0200
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
Message-ID: <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>

Thank you for both replies Don & Rui,

The very issue here is that there is a search that needs to be done within
a text field and I agree with Rui later comment that regexpr might indeed
be the time consuming piece of code.

I might try to optimise this piece of code later on, but for the time being
I am working on the following part of building a neural network to try
indeed classifying some text.

Again, thanks,

Luca

2018-04-30 17:25 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:

> Luca,
>
>
>
> If speed is important, you might improve performance by making d0 into a
> true matrix, rather than a data frame (assuming d0 is indeed a data frame
> at this point). Although data frames may look like matrices, they aren?t,
> and they have some overhead that matrices don?t.  I don?t think you would
> be able to use the [[nm]] syntax with a matrix, but [ , nm] should work,
> provided the matrix has column names. Or you could perhaps index by column
> number.
>
>
>
> I had a project some years ago in which I reduced calculation time a lot
> by extracting the numeric columns of a data frame and working with them,
> then recombining them with the character columns. R?s performance working
> with data frames has improved since then, so I really don?t know if it
> would make a difference for your task.
>
>
>
> -Don
>
>
>
> --
>
> Don MacQueen
>
> Lawrence Livermore National Laboratory
>
> 7000 East Ave., L-627
>
> Livermore, CA 94550
>
> 925-423-1062
>
> Lab cell 925-724-7509
>
>
>
>
>
> *From: *Luca Meyer <lucam1968 at gmail.com>
> *Date: *Monday, April 30, 2018 at 8:08 AM
> *To: *Rui Barradas <ruipbarradas at sapo.pt>
> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <
> r-help at r-project.org>
> *Subject: *Re: [R] How to visualise what code is processed within a for
> loop
>
>
>
> Hi Rui
>
> Thank you for your suggestion,
>
>
>
> I have tested the code suggested by you against that supplied by Don in
> terms of timing and results are very much aligned: to populate a 5954x899
> 0/1 matrix on my machine your procedure took 79 secs, while the one with
> ifelse employed 80 secs, hence unfortunately not really any significant
> time saved there.
>
> Nevertheless thank you for your contribution.
>
> Kind regards,
>
>
>
> Luca
>
>
>
> 2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:
>
> I forgot to explain why my suggestion.
>
> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
> So all you have to do is coerce to integer.
>
> This works because the ifelse will return a 1 or a 0 depending on the
> condition. Meaning exactly the same values. And is more efficient since
> ifelse creates both vectors, the true part and the false part, and then
> indexes those vectors in order to return the appropriate values. This is
> the double of the trouble and a great deal of memory used.
>
> Rui Barradas
>
> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>
> Hello,
>
> instead of ifelse, the following is exactly the same and much more
> efficient.
>
> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>
>
> Hope this helps,
>
> Rui Barradas
>
> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>
> Thanks Don,
>
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
>
> is exaclty what I needed.
>
> Best regards,
>
> Luca
>
>
> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>
> Your code doesn't make sense to me in a couple of ways.
>
> Inside the loop, the first line assigns a value to an object named "t".
> Then, the second line does the same thing, assigns a value to an object
> named "t".
>
> The value of the object named "t" after the second line will be the output
> of the ifelse() expression, whatever that is. This has the effect of making
> the first line irrelevant. Whatever value t has after the first line is
> replaced by whatever it gets from the second line.
>
> It looks like the first line inside the loop is constructing the name of a
> data frame column, and storing that name as a character string. However,
> the second line doesn't use that name at all. If your goal is to update the
> contents of a column, you need to assign something to that column in the
> next line. Instead you assign it to the object named "t".
>
> What you're looking for will be more along the lines of this:
>
>      for (i in 1:10){
>        nm <- paste0("V", i)
>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>      }
>
> This may not a complete solution, since I have no idea what the contents
> or structure of d1 are, or what the regexpr() is expected to return.
>
> And notice the use of double brackets, [[ and ]]. This is one way to
> reference a column of a  data frame when you have the column's name stored
> in a variable. Another way is d0[ , nm]
>
>
> A couple of additional comments:
>
>   "t" is a poor choice of object name, because it is one of R's built-in
> functions (immediately after starting a fresh session of R, with nothing
> left over from any previous session, type help("r") and see what you get).
>
>   ifelse() is intended for use on vectors, not scalars, and it looks like
> maybe you're using it on a scalar (can't be sure about this, though)
>
> For example, ifelse() is designed for this kind of usage:
>
> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>
> [1]  1 12  3
>
> Although it works ok for these
>
> ifelse(TRUE, 3, 4)
>
> [1] 3
>
> ifelse(FALSE, 3, 4)
>
> [1] 4
> They are not really what it is intended for.
>
> --
> Don MacQueen
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> Lab cell 925-724-7509
>
>
> On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>
>      Hi,
>
>      I am trying to debug the following code:
>
>      for (i in 1:10){
>        t <- paste("d0$V",i,sep="")
>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>      }
>
>      and I would like to see what code is actually processing R, how can I
> do
>      that?
>
>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>      according to the presence or absence of some text (contained in the
> file
>      d1) within the d0$X0 variable.
>
>      The code seem to run ok, if I add print(table(t)) within the loop I
> can see
>      that the ifelse procedure is working and to some cases within the
> d0$V1 to
>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
> d0$V10
>      after the for loop they are all still equal to zero...
>
>      Thanks,
>
>      Luca
>
>          [[alternative HTML version deleted]]
>
>      ______________________________________________
>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      https://stat.ethz.ch/mailman/listinfo/r-help
>      PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
>      and provide commented, minimal, self-contained, reproducible code.
>
>
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]



From bgunter@4567 @end|ng |rom gm@||@com  Mon Apr 30 19:28:46 2018
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 30 Apr 2018 10:28:46 -0700
Subject: [R] How to visualise what code is processed within a for loop
In-Reply-To: <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>
References: <CABQyo86wj28fFqhAUVDjhjRbCka0kc5SzwxZ_=Bpe7QdQMjfcw@mail.gmail.com>
 <3CC68751-D5D8-4C69-89F6-4559D8A076B4@llnl.gov>
 <CABQyo87FfzO+DtQvcVFJR_jrGFQoa8a-_4mcGKsEA+y2HMKm2Q@mail.gmail.com>
 <a08aecd3-314c-96d6-2536-fa6e361bac43@sapo.pt>
 <eee2437a-04e6-05d1-8d2a-b2be8cbc4405@sapo.pt>
 <CABQyo87L_p0OSnh57sEX8tp=yMaVRsM43G8bzcQGUovq0L_N+A@mail.gmail.com>
 <22AC619F-6593-47AE-A684-47059A3C3083@llnl.gov>
 <CABQyo866x3K7xEgbp68No6HqC3B60EhiwJjH6iVeHCa_q+O_dA@mail.gmail.com>
Message-ID: <CAGxFJbSAdwUMdXNLxkSwOYkyv_S9iLhNM5Qj1_FP_ydW43xGag@mail.gmail.com>

"I am working on the following part of building a neural network to try
indeed classifying some text."

... and so you are most likely trying to reinvent wheels. There are
already many such tools available here:
https://cran.r-project.org/web/views/NaturalLanguageProcessing.html

Some of these are interfaces to C language code, and so are probably
much more efficient than anything you (or I) can do at the R level.

Of course, if this is mainly a programming exercise for you, than this
is largely irrelevant.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Apr 30, 2018 at 9:25 AM, Luca Meyer <lucam1968 at gmail.com> wrote:
> Thank you for both replies Don & Rui,
>
> The very issue here is that there is a search that needs to be done within
> a text field and I agree with Rui later comment that regexpr might indeed
> be the time consuming piece of code.
>
> I might try to optimise this piece of code later on, but for the time being
> I am working on the following part of building a neural network to try
> indeed classifying some text.
>
> Again, thanks,
>
> Luca
>
> 2018-04-30 17:25 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>
>> Luca,
>>
>>
>>
>> If speed is important, you might improve performance by making d0 into a
>> true matrix, rather than a data frame (assuming d0 is indeed a data frame
>> at this point). Although data frames may look like matrices, they aren?t,
>> and they have some overhead that matrices don?t.  I don?t think you would
>> be able to use the [[nm]] syntax with a matrix, but [ , nm] should work,
>> provided the matrix has column names. Or you could perhaps index by column
>> number.
>>
>>
>>
>> I had a project some years ago in which I reduced calculation time a lot
>> by extracting the numeric columns of a data frame and working with them,
>> then recombining them with the character columns. R?s performance working
>> with data frames has improved since then, so I really don?t know if it
>> would make a difference for your task.
>>
>>
>>
>> -Don
>>
>>
>>
>> --
>>
>> Don MacQueen
>>
>> Lawrence Livermore National Laboratory
>>
>> 7000 East Ave., L-627
>>
>> Livermore, CA 94550
>>
>> 925-423-1062
>>
>> Lab cell 925-724-7509
>>
>>
>>
>>
>>
>> *From: *Luca Meyer <lucam1968 at gmail.com>
>> *Date: *Monday, April 30, 2018 at 8:08 AM
>> *To: *Rui Barradas <ruipbarradas at sapo.pt>
>> *Cc: *"MacQueen, Don" <macqueen1 at llnl.gov>, array R-help <
>> r-help at r-project.org>
>> *Subject: *Re: [R] How to visualise what code is processed within a for
>> loop
>>
>>
>>
>> Hi Rui
>>
>> Thank you for your suggestion,
>>
>>
>>
>> I have tested the code suggested by you against that supplied by Don in
>> terms of timing and results are very much aligned: to populate a 5954x899
>> 0/1 matrix on my machine your procedure took 79 secs, while the one with
>> ifelse employed 80 secs, hence unfortunately not really any significant
>> time saved there.
>>
>> Nevertheless thank you for your contribution.
>>
>> Kind regards,
>>
>>
>>
>> Luca
>>
>>
>>
>> 2018-04-28 23:18 GMT+02:00 Rui Barradas <ruipbarradas at sapo.pt>:
>>
>> I forgot to explain why my suggestion.
>>
>> The logical condition returns FALSE/TRUE that in R are coded as 0/1.
>> So all you have to do is coerce to integer.
>>
>> This works because the ifelse will return a 1 or a 0 depending on the
>> condition. Meaning exactly the same values. And is more efficient since
>> ifelse creates both vectors, the true part and the false part, and then
>> indexes those vectors in order to return the appropriate values. This is
>> the double of the trouble and a great deal of memory used.
>>
>> Rui Barradas
>>
>> On 4/28/2018 10:12 PM, Rui Barradas wrote:
>>
>> Hello,
>>
>> instead of ifelse, the following is exactly the same and much more
>> efficient.
>>
>> d0[[nm]] <- as.integer(regexpr(d1[i,1], d0$X0) > 0)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> On 4/28/2018 8:45 PM, Luca Meyer wrote:
>>
>> Thanks Don,
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> is exaclty what I needed.
>>
>> Best regards,
>>
>> Luca
>>
>>
>> 2018-04-25 23:03 GMT+02:00 MacQueen, Don <macqueen1 at llnl.gov>:
>>
>> Your code doesn't make sense to me in a couple of ways.
>>
>> Inside the loop, the first line assigns a value to an object named "t".
>> Then, the second line does the same thing, assigns a value to an object
>> named "t".
>>
>> The value of the object named "t" after the second line will be the output
>> of the ifelse() expression, whatever that is. This has the effect of making
>> the first line irrelevant. Whatever value t has after the first line is
>> replaced by whatever it gets from the second line.
>>
>> It looks like the first line inside the loop is constructing the name of a
>> data frame column, and storing that name as a character string. However,
>> the second line doesn't use that name at all. If your goal is to update the
>> contents of a column, you need to assign something to that column in the
>> next line. Instead you assign it to the object named "t".
>>
>> What you're looking for will be more along the lines of this:
>>
>>      for (i in 1:10){
>>        nm <- paste0("V", i)
>>        d0[[nm]] <- ifelse( regexpr(d1[i,1], d0$X0) > 0, 1, 0)
>>      }
>>
>> This may not a complete solution, since I have no idea what the contents
>> or structure of d1 are, or what the regexpr() is expected to return.
>>
>> And notice the use of double brackets, [[ and ]]. This is one way to
>> reference a column of a  data frame when you have the column's name stored
>> in a variable. Another way is d0[ , nm]
>>
>>
>> A couple of additional comments:
>>
>>   "t" is a poor choice of object name, because it is one of R's built-in
>> functions (immediately after starting a fresh session of R, with nothing
>> left over from any previous session, type help("r") and see what you get).
>>
>>   ifelse() is intended for use on vectors, not scalars, and it looks like
>> maybe you're using it on a scalar (can't be sure about this, though)
>>
>> For example, ifelse() is designed for this kind of usage:
>>
>> ifelse( c(TRUE, FALSE, TRUE) , 1:3, 11:13)
>>
>> [1]  1 12  3
>>
>> Although it works ok for these
>>
>> ifelse(TRUE, 3, 4)
>>
>> [1] 3
>>
>> ifelse(FALSE, 3, 4)
>>
>> [1] 4
>> They are not really what it is intended for.
>>
>> --
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> 7000 East Ave., L-627
>> Livermore, CA 94550
>> 925-423-1062
>> Lab cell 925-724-7509
>>
>>
>> On 4/24/18, 12:30 AM, "R-help on behalf of Luca Meyer" <
>> r-help-bounces at r-project.org on behalf of lucam1968 at gmail.com> wrote:
>>
>>      Hi,
>>
>>      I am trying to debug the following code:
>>
>>      for (i in 1:10){
>>        t <- paste("d0$V",i,sep="")
>>        t <- ifelse(regexpr(d1[i,1],d0$X0)>0,1,0)
>>      }
>>
>>      and I would like to see what code is actually processing R, how can I
>> do
>>      that?
>>
>>      More to the point, I am trying to update my variables d0$V1 to d0$V10
>>      according to the presence or absence of some text (contained in the
>> file
>>      d1) within the d0$X0 variable.
>>
>>      The code seem to run ok, if I add print(table(t)) within the loop I
>> can see
>>      that the ifelse procedure is working and to some cases within the
>> d0$V1 to
>>      d0$V10 variable range a 1 is assigned. But when checking my d0$V1 to
>> d0$V10
>>      after the for loop they are all still equal to zero...
>>
>>      Thanks,
>>
>>      Luca
>>
>>          [[alternative HTML version deleted]]
>>
>>      ______________________________________________
>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>      PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>>      and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>>     [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/
>> posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From br|@n@d@v|@281 @end|ng |rom gm@||@com  Mon Apr 30 23:48:46 2018
From: br|@n@d@v|@281 @end|ng |rom gm@||@com (Brian Davis)
Date: Mon, 30 Apr 2018 15:48:46 -0600
Subject: [R] R 3.5 and RTools
Message-ID: <CAMM2pDo69mL2=w4GwWe=k7xHpHKwffMwLQuP90Uk+3ufxqOqVw@mail.gmail.com>

Is Rtools 3.4 or 3.5 the recommended version for to go along with R 3.5.0?

The reason I ask is our corporate IT upgraded our systems to R 3.5.0
but does not *want* to upgrade Rtools to 3.5 since it is not "frozen".
>From the RTools download page this seems like it should work but I 'd
like to confirm.

Thanks in advance,

Brian



