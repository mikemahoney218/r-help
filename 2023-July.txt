From m@rong|u@|u|g| @end|ng |rom gm@||@com  Sat Jul  1 20:20:53 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Sat, 1 Jul 2023 20:20:53 +0200
Subject: [R] How to plot both lines and points by group on ggplot2
Message-ID: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>

Hello,
I have a dataframe with measurements stratified by the concentration
of a certain substance. I would like to plot the points of the
measures and connect the points within each series of concentrations.
When I launch ggplot2 I get the error
```
geom_path: Each group consists of only one observation. Do you need to
adjust the
group aesthetic?
```
and no lines are drawn.
Where am I going wrong?
Thank you
Luigi

```
df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
                Time = rep(1:3, 3),
                Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
df$Time <- as.factor(df$Time)
levels(df$Time) = c(1, 4, 24)
df$Conc <- as.factor(df$Conc)
levels(df$Conc) = c(1, 2, 5)
library(ggplot2)
ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
  geom_point(size=6) +
  geom_line(aes(x=Time, y=Value, colour=Conc)) +
  scale_colour_manual(values = c("darkslategray3", "darkslategray4",
                                 "deepskyblue4")) +
  ggtitle("Working example") +
  xlab(expression(bold("Time (h)"))) +
  ylab(expression(bold("Concentration (mM)")))
```
-- 
Best regards,
Luigi


From bgunter@4567 @end|ng |rom gm@||@com  Sat Jul  1 20:43:14 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 1 Jul 2023 11:43:14 -0700
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <CAGxFJbRR=32BbB7=-8Wpcha2-dJnD-C8-O0wrwgG9=UYYeRTMw@mail.gmail.com>

Can your post a few lines of your data frame (e.g. via
dput(head(...))) to make it clearer. I found this statement confusing:
"... measurements stratified by the concentration
of a certain substance. I would like to plot the points of the
measures and connect the points within each series of concentrations."

This might or might not be the source of your problems, but I think
showing us (enough of) your data would help clarify things. I don't
use ggplot, but someone who does might have a better chance of
pinpointing the problem if you provide such data.

Cheers,
Bert

On Sat, Jul 1, 2023 at 11:21?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
>
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                 Time = rep(1:3, 3),
>                 Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
>   geom_point(size=6) +
>   geom_line(aes(x=Time, y=Value, colour=Conc)) +
>   scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                  "deepskyblue4")) +
>   ggtitle("Working example") +
>   xlab(expression(bold("Time (h)"))) +
>   ylab(expression(bold("Concentration (mM)")))
> ```
> --
> Best regards,
> Luigi
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From chr|@ho|d @end|ng |rom p@yctc@org  Sat Jul  1 20:48:49 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Sat, 1 Jul 2023 19:48:49 +0100
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>

[Whoops, forgot that default reply-to is to the sender.]


On 01/07/2023 19:20, Luigi Marongiu wrote:
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
>
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> Time = rep(1:3, 3),
> Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> geom_point(size=6) +
> geom_line(aes(x=Time, y=Value, colour=Conc)) +
> scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> "deepskyblue4")) +
> ggtitle("Working example") +
> xlab(expression(bold("Time (h)"))) +
> ylab(expression(bold("Concentration (mM)")))
> ```

If I understand what you want then I think all you need is to add "group 
= Conc".? That's what that message is telling you.

df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
 ??????????????? Time = rep(1:3, 3),
 ??????????????? Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 
0.67, 0.67))
df$Time <- as.factor(df$Time)
levels(df$Time) = c(1, 4, 24)
df$Conc <- as.factor(df$Conc)
levels(df$Conc) = c(1, 2, 5)
library(ggplot2)
ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
 ? geom_point(size=6) +
 ? geom_line(aes(x=Time, y=Value, colour=Conc)) +
 ? scale_colour_manual(values = c("darkslategray3", "darkslategray4",
 ???????????????????????????????? "deepskyblue4")) +
 ? ggtitle("Working example") +
 ? xlab(expression(bold("Time (h)"))) +
 ? ylab(expression(bold("Concentration (mM)")))

Very? best,


Chris

-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>


From bgunter@4567 @end|ng |rom gm@||@com  Sat Jul  1 20:57:50 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 1 Jul 2023 11:57:50 -0700
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
 <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>
Message-ID: <CAGxFJbRCbiz7N=4O9CNZfe5pX7D2t3dj-KqFvWW4L=maYHiGzw@mail.gmail.com>

... and so ignore my previous missive, as you *did* provide data.
Sorry for the noise.

-- Bert


On Sat, Jul 1, 2023 at 11:53?AM Chris Evans via R-help
<r-help at r-project.org> wrote:
>
> [Whoops, forgot that default reply-to is to the sender.]
>
>
> On 01/07/2023 19:20, Luigi Marongiu wrote:
> > Hello,
> > I have a dataframe with measurements stratified by the concentration
> > of a certain substance. I would like to plot the points of the
> > measures and connect the points within each series of concentrations.
> > When I launch ggplot2 I get the error
> > ```
> > geom_path: Each group consists of only one observation. Do you need to
> > adjust the
> > group aesthetic?
> > ```
> > and no lines are drawn.
> > Where am I going wrong?
> > Thank you
> > Luigi
> >
> > ```
> > df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> > Time = rep(1:3, 3),
> > Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> > df$Time <- as.factor(df$Time)
> > levels(df$Time) = c(1, 4, 24)
> > df$Conc <- as.factor(df$Conc)
> > levels(df$Conc) = c(1, 2, 5)
> > library(ggplot2)
> > ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> > geom_point(size=6) +
> > geom_line(aes(x=Time, y=Value, colour=Conc)) +
> > scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> > "deepskyblue4")) +
> > ggtitle("Working example") +
> > xlab(expression(bold("Time (h)"))) +
> > ylab(expression(bold("Concentration (mM)")))
> > ```
>
> If I understand what you want then I think all you need is to add "group
> = Conc".  That's what that message is telling you.
>
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95,
> 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
>
> Very  best,
>
>
> Chris
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays): https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Jul  1 21:24:14 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 1 Jul 2023 20:24:14 +0100
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <0f792256-dfbf-bdf9-a0f6-35a8c4282177@sapo.pt>

?s 19:20 de 01/07/2023, Luigi Marongiu escreveu:
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
> 
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
> ```
Hello,

Here are two solutions. I have removed the redundant aes() from 
geom_line in both plots.

1. If you do not coerce Time to factor, the x axis will be continuous.
    The plot will be as expected but you wi have to include a 
scale_x_continuous to have the wanted labels.



df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
                 Time = rep(1:3, 3),
                 Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 
0.67, 0.67))

library(ggplot2)

df$Conc <- factor(df$Conc, levels = c(1, 2, 5))

ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
   geom_point(size=6) +
   geom_line() +
   scale_colour_manual(values = c("darkslategray3", "darkslategray4", 
"deepskyblue4")) +
   scale_x_continuous(breaks = 1:3, labels = c(1, 2, 24)) +
   ggtitle("Working example") +
   xlab(expression(bold("Time (h)"))) +
   ylab(expression(bold("Concentration (mM)")))




2. Time is coerced to factor. Then, tell geom_line the data is grouped 
by Conc. This is probably the solution you should use.



df$Time <- factor(df$Time, labels = c(1, 4, 24))

ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
   geom_point(size=6) +
   geom_line(aes(group = Conc)) +
   scale_colour_manual(values = c("darkslategray3", "darkslategray4", 
"deepskyblue4")) +
   ggtitle("Working example") +
   xlab(expression(bold("Time (h)"))) +
   ylab(expression(bold("Concentration (mM)")))



Hope this helps,

Rui Barradas


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Sun Jul  2 07:31:57 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Sun, 2 Jul 2023 07:31:57 +0200
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <9bf6e614-0df4-fd45-a40c-50302a26d5a9@psyctc.org>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
 <9bf6e614-0df4-fd45-a40c-50302a26d5a9@psyctc.org>
Message-ID: <CAMk+s2QgD+q4x2nty=5mO7zjVG2Vr8fwqkoF0kjODFtUSLFP-w@mail.gmail.com>

Thank you that is exactly it!
The problem was to connect each point of the series 'Conc' with a line.
Best regards
Luigi

On Sat, Jul 1, 2023 at 8:33?PM Chris Evans <chrishold at psyctc.org> wrote:
>
>
> On 01/07/2023 19:20, Luigi Marongiu wrote:
> > Hello,
> > I have a dataframe with measurements stratified by the concentration
> > of a certain substance. I would like to plot the points of the
> > measures and connect the points within each series of concentrations.
> > When I launch ggplot2 I get the error
> > ```
> > geom_path: Each group consists of only one observation. Do you need to
> > adjust the
> > group aesthetic?
> > ```
> > and no lines are drawn.
> > Where am I going wrong?
> > Thank you
> > Luigi
> >
> > ```
> > df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> >                  Time = rep(1:3, 3),
> >                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> > df$Time <- as.factor(df$Time)
> > levels(df$Time) = c(1, 4, 24)
> > df$Conc <- as.factor(df$Conc)
> > levels(df$Conc) = c(1, 2, 5)
> > library(ggplot2)
> > ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> >    geom_point(size=6) +
> >    geom_line(aes(x=Time, y=Value, colour=Conc)) +
> >    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> >                                   "deepskyblue4")) +
> >    ggtitle("Working example") +
> >    xlab(expression(bold("Time (h)"))) +
> >    ylab(expression(bold("Concentration (mM)")))
> > ```
>
> If I understand what you want then I think all you need is to add "group
> = Conc".  That's what that message is telling you.
>
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95,
> 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
>
> Very  best,
>
>
> Chris
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor,
> University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays):
> https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>



-- 
Best regards,
Luigi


From r@v|@v@r@dh@n @end|ng |rom jhu@edu  Sat Jul  1 19:15:48 2023
From: r@v|@v@r@dh@n @end|ng |rom jhu@edu (Ravi Varadhan)
Date: Sat, 1 Jul 2023 17:15:48 +0000
Subject: [R] Number of Cores limited to two in CRAN
Message-ID: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>

Hi,
I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.

I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?

Thank you,
Ravi

	[[alternative HTML version deleted]]


From r@v|@v@r@dh@n @end|ng |rom jhu@edu  Sat Jul  1 19:46:43 2023
From: r@v|@v@r@dh@n @end|ng |rom jhu@edu (Ravi Varadhan)
Date: Sat, 1 Jul 2023 17:46:43 +0000
Subject: [R] Number of Cores limited to two in CRAN
In-Reply-To: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
References: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
Message-ID: <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>

This is the specific error messsage from R CMD check --as-cran


Error in .check_ncores(length(names)) : 16 simultaneous processes spawned
  Calls: prepost -> makeCluster -> makePSOCKcluster -> .check_ncores
  Execution halted


Thanks,
Ravi

________________________________
From: Ravi Varadhan
Sent: Saturday, July 1, 2023 1:15 PM
To: R-Help <r-help at r-project.org>
Subject: Number of Cores limited to two in CRAN

Hi,
I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.

I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?

Thank you,
Ravi

	[[alternative HTML version deleted]]


From henr|k@bengt@@on @end|ng |rom gm@||@com  Sun Jul  2 10:33:34 2023
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Sun, 2 Jul 2023 10:33:34 +0200
Subject: [R] Number of Cores limited to two in CRAN
In-Reply-To: <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>
References: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
 <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>
Message-ID: <CAFDcVCQ2Ej825e4q=A8pLUqvD9D-DN_PkUTUJQt1svWzLO-nTA@mail.gmail.com>

Short answer: You don't want to override that limit in your R package.
Don't do it.

Long answer: You'll find the reason for this in the 'CRAN Repository
Policy' (https://cran.r-project.org/web/packages/policies.html).
Specifically, the following passage:

"Checking the package should take as little CPU time as possible, as
the CRAN check farm is a very limited resource and there are thousands
of packages. Long-running tests and vignette code can be made optional
for checking, but do ensure that the checks that are left do exercise
all the features of the package.

**If running a package uses multiple threads/cores it must never use
more than two simultaneously: the check farm is a shared resource and
will typically be running many checks simultaneously.**

Examples should run for no more than a few seconds each: they are
intended to exemplify to the would-be user how to use the functions in
the package."

Basically, you can use two cores to demonstrate or validate (e.g. in
package tests) that your code *can* run in parallel, but you must not
use more than that to demonstrate that your code can "run super fast".

Even-longer answer: See my blog post 'Please Avoid detectCores() in
your R Packages' (https://www.jottr.org/2022/12/05/avoid-detectcores/)
from 2022-12-05 for even more reasons.

/Henrik

On Sun, Jul 2, 2023 at 9:55?AM Ravi Varadhan via R-help
<r-help at r-project.org> wrote:
>
> This is the specific error messsage from R CMD check --as-cran
>
>
> Error in .check_ncores(length(names)) : 16 simultaneous processes spawned
>   Calls: prepost -> makeCluster -> makePSOCKcluster -> .check_ncores
>   Execution halted
>
>
> Thanks,
> Ravi
>
> ________________________________
> From: Ravi Varadhan
> Sent: Saturday, July 1, 2023 1:15 PM
> To: R-Help <r-help at r-project.org>
> Subject: Number of Cores limited to two in CRAN
>
> Hi,
> I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.
>
> I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?
>
> Thank you,
> Ravi
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r@v|@v@r@dh@n @end|ng |rom jhu@edu  Sun Jul  2 14:40:22 2023
From: r@v|@v@r@dh@n @end|ng |rom jhu@edu (Ravi Varadhan)
Date: Sun, 2 Jul 2023 12:40:22 +0000
Subject: [R] Number of Cores limited to two in CRAN
In-Reply-To: <CAFDcVCQ2Ej825e4q=A8pLUqvD9D-DN_PkUTUJQt1svWzLO-nTA@mail.gmail.com>
References: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
 <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>
 <CAFDcVCQ2Ej825e4q=A8pLUqvD9D-DN_PkUTUJQt1svWzLO-nTA@mail.gmail.com>
Message-ID: <SJ0PR01MB6400D508E3D324C426301023F228A@SJ0PR01MB6400.prod.exchangelabs.com>

Dear Henrik,
Thank you!  This is quite helpful, especially your longer blog post.

Best regards,
Ravi
________________________________
From: Henrik Bengtsson <henrik.bengtsson at gmail.com>
Sent: Sunday, July 2, 2023 4:33 AM
To: Ravi Varadhan <ravi.varadhan at jhu.edu>
Cc: R-Help <r-help at r-project.org>
Subject: Re: [R] Number of Cores limited to two in CRAN


      External Email - Use Caution



Short answer: You don't want to override that limit in your R package.
Don't do it.

Long answer: You'll find the reason for this in the 'CRAN Repository
Policy' (https://nam02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcran.r-project.org%2Fweb%2Fpackages%2Fpolicies.html&data=05%7C01%7Cravi.varadhan%40jhu.edu%7Cbf56c90173504853907408db7ad70f08%7C9fa4f438b1e6473b803f86f8aedf0dec%7C0%7C0%7C638238836311718317%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=KDB6%2BqMgn4KrKtVEgWezfRY9isT926wLwZGg5yuDKI4%3D&reserved=0<https://cran.r-project.org/web/packages/policies.html>).
Specifically, the following passage:

"Checking the package should take as little CPU time as possible, as
the CRAN check farm is a very limited resource and there are thousands
of packages. Long-running tests and vignette code can be made optional
for checking, but do ensure that the checks that are left do exercise
all the features of the package.

**If running a package uses multiple threads/cores it must never use
more than two simultaneously: the check farm is a shared resource and
will typically be running many checks simultaneously.**

Examples should run for no more than a few seconds each: they are
intended to exemplify to the would-be user how to use the functions in
the package."

Basically, you can use two cores to demonstrate or validate (e.g. in
package tests) that your code *can* run in parallel, but you must not
use more than that to demonstrate that your code can "run super fast".

Even-longer answer: See my blog post 'Please Avoid detectCores() in
your R Packages' (https://nam02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.jottr.org%2F2022%2F12%2F05%2Favoid-detectcores%2F&data=05%7C01%7Cravi.varadhan%40jhu.edu%7Cbf56c90173504853907408db7ad70f08%7C9fa4f438b1e6473b803f86f8aedf0dec%7C0%7C0%7C638238836311718317%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=xPkA6JCccHZcST76lWa6xFYWWKBOZYQCOezF5t4YVPM%3D&reserved=0<https://www.jottr.org/2022/12/05/avoid-detectcores/>)
from 2022-12-05 for even more reasons.

/Henrik

On Sun, Jul 2, 2023 at 9:55?AM Ravi Varadhan via R-help
<r-help at r-project.org> wrote:
>
> This is the specific error messsage from R CMD check --as-cran
>
>
> Error in .check_ncores(length(names)) : 16 simultaneous processes spawned
>   Calls: prepost -> makeCluster -> makePSOCKcluster -> .check_ncores
>   Execution halted
>
>
> Thanks,
> Ravi
>
> ________________________________
> From: Ravi Varadhan
> Sent: Saturday, July 1, 2023 1:15 PM
> To: R-Help <r-help at r-project.org>
> Subject: Number of Cores limited to two in CRAN
>
> Hi,
> I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.
>
> I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?
>
> Thank you,
> Ravi
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://nam02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cravi.varadhan%40jhu.edu%7Cbf56c90173504853907408db7ad70f08%7C9fa4f438b1e6473b803f86f8aedf0dec%7C0%7C0%7C638238836311873942%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=KTNwXurNvbEhviVf15RF0la%2FvUVGBW60yuyVVy9Umxc%3D&reserved=0<https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide https://nam02.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cravi.varadhan%40jhu.edu%7Cbf56c90173504853907408db7ad70f08%7C9fa4f438b1e6473b803f86f8aedf0dec%7C0%7C0%7C638238836311873942%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=HvGb20UiUey9O3plynLiRmHQtqpjfrndk2iPfvleT3Q%3D&reserved=0<http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From |@go@g|ne @end|ng |rom @jd@e@  Mon Jul  3 08:36:27 2023
From: |@go@g|ne @end|ng |rom @jd@e@ (=?iso-8859-1?Q?Iago_Gin=E9_V=E1zquez?=)
Date: Mon, 3 Jul 2023 06:36:27 +0000
Subject: [R] Help/documentation on Rgui
Message-ID: <AM6PR02MB4423F1C4ED2FB19545C78FC09429A@AM6PR02MB4423.eurprd02.prod.outlook.com>

Hi all,

Where can I find a detailed document(ation) on the use of Rgui.exe. The most detailed I found is https://cran.r-project.org/doc/manuals/r-release/R-ints.html#GUI-consoles, where there is almost nothing.

Actually I want to know how to open Rgui.exe (let's say, from a terminal [mainly in Windows], even better, through the ViM plugin NVim-R) with a set of specific preferences, like a dark background or specific text colour and size, which I see I can modify once it is open.

Thank you for your help.

Iago


	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jul  3 09:42:56 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 3 Jul 2023 07:42:56 +0000
Subject: [R] Help/documentation on Rgui
In-Reply-To: <AM6PR02MB4423F1C4ED2FB19545C78FC09429A@AM6PR02MB4423.eurprd02.prod.outlook.com>
References: <AM6PR02MB4423F1C4ED2FB19545C78FC09429A@AM6PR02MB4423.eurprd02.prod.outlook.com>
Message-ID: <89e64ee67c91423cac3cb642c353ee1f@SRVEXCHCM1302.precheza.cz>

Hi

I am not sure about opening Rgui in terminal but for customising Rgui
appearance you can modify Rconsole and Rprofile or Rprofile.site which you
should find in etc folder of your R installation.

https://stat.ethz.ch/R-manual/R-devel/library/utils/html/Rconsole.html
https://rdrr.io/r/utils/Rconsole.html
and "Initialization at Start of an R Session" in R help
?Rprofile

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Iago Gin?
> V?zquez
> Sent: Monday, July 3, 2023 8:36 AM
> To: r-help at r-project.org
> Subject: [R] Help/documentation on Rgui
> 
> Hi all,
> 
> Where can I find a detailed document(ation) on the use of Rgui.exe. The
most
> detailed I found is https://cran.r-project.org/doc/manuals/r-release/R-
> ints.html#GUI-consoles, where there is almost nothing.
> 
> Actually I want to know how to open Rgui.exe (let's say, from a terminal
> [mainly in Windows], even better, through the ViM plugin NVim-R) with a
set
> of specific preferences, like a dark background or specific text colour
and size,
> which I see I can modify once it is open.
> 
> Thank you for your help.
> 
> Iago
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From |@go@g|ne @end|ng |rom @jd@e@  Mon Jul  3 09:47:52 2023
From: |@go@g|ne @end|ng |rom @jd@e@ (=?iso-8859-1?Q?Iago_Gin=E9_V=E1zquez?=)
Date: Mon, 3 Jul 2023 07:47:52 +0000
Subject: [R] Help/documentation on Rgui
Message-ID: <AM6PR02MB44235C1EA9517904E87741439429A@AM6PR02MB4423.eurprd02.prod.outlook.com>

Thank you Petr, great!

Best,
Iago

________________________________
De: PIKAL Petr
Enviat: Dilluns, 3-juliol 3e000 2023 9:42
Per a: Iago Gin? V?zquez; r-help at r-project.org
Assumpte: RE: Help/documentation on Rgui

Hi

I am not sure about opening Rgui in terminal but for customising Rgui
appearance you can modify Rconsole and Rprofile or Rprofile.site which you
should find in etc folder of your R installation.

https://stat.ethz.ch/R-manual/R-devel/library/utils/html/Rconsole.html
https://rdrr.io/r/utils/Rconsole.html
and "Initialization at Start of an R Session" in R help
?Rprofile

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Iago Gin?
> V?zquez
> Sent: Monday, July 3, 2023 8:36 AM
> To: r-help at r-project.org
> Subject: [R] Help/documentation on Rgui
>
> Hi all,
>
> Where can I find a detailed document(ation) on the use of Rgui.exe. The
most
> detailed I found is https://cran.r-project.org/doc/manuals/r-release/R-
> ints.html#GUI-consoles, where there is almost nothing.
>
> Actually I want to know how to open Rgui.exe (let's say, from a terminal
> [mainly in Windows], even better, through the ViM plugin NVim-R) with a
set
> of specific preferences, like a dark background or specific text colour
and size,
> which I see I can modify once it is open.
>
> Thank you for your help.
>
> Iago
>
>
>        [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @nupty@g| @end|ng |rom gm@||@com  Mon Jul  3 11:08:17 2023
From: @nupty@g| @end|ng |rom gm@||@com (Anupam Tyagi)
Date: Mon, 3 Jul 2023 14:38:17 +0530
Subject: [R] Plotting factors in graph panel
In-Reply-To: <CA+8X3fV8SxdDcaQ=Sd7rg6WmJ3xX0wgdjCSSf9wZ6zpaz9vDPQ@mail.gmail.com>
References: <CAFL9eu=85pvoKKdUKgaK-edX8CoELAMkzqH5wAupQ-Dh9ntFMg@mail.gmail.com>
 <CA+8X3fUkafDZ-0H5KhtQveQfRxRmf56xQzxCMiSc68XbNyOvRw@mail.gmail.com>
 <CAFL9eu=rLoYgKV3+Gprz8Mi6H3FDC-C7tPN4d8GqZuGthk--tQ@mail.gmail.com>
 <CA+8X3fV8SxdDcaQ=Sd7rg6WmJ3xX0wgdjCSSf9wZ6zpaz9vDPQ@mail.gmail.com>
Message-ID: <CAFL9eunJR8sRQBtTpJD0PrZf3P7FXw+u+4FmXqmS+zv35HmbUg@mail.gmail.com>

Thanks Jim, thanks everyone. I was caught up with work and moving home, so
a delay in response. I tried running the code you provided and it is not
running well in my R-Studio setup. It is giving errors and not producing
plots. I don't yet understand all the code well yet, so I need to work on
it and then get back to you all. Sorry for not posting data from a R
dataframe. My data is still in Excel. I organized data in Excel almost
exactly (look wise) as the output from Stata log file (text) for a
"tabulate" command for a survey dataset. I don't yet understand a good way
to organize this data in R, so I cannot send it to you now. Let me do some
work on this, understand the R code you have given, and get back to you in
a few days. I have not been using R lately, but I think the graph I am
trying to make will be done better and easier in R than in Stata. Thank you
all for all your help. Let me do some work and get back to you.


On Fri, 30 Jun 2023 at 04:41, Jim Lemon <drjimlemon at gmail.com> wrote:

> Okay. Here is a modification that does four single line plots.
>
> at_df<-read.table(text=
>  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None Bank_Current
> Bank_Savings Bank_NA
>  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
>  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
>  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
>  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
>  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208
>  No_Answer 9 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
>  header=TRUE,stringsAsFactors=FALSE)
> at_df<-at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA")]
> png("Income_pcts.png",height=700)
> par(mfrow=c(4,1))
> plot(at_df[,"Bank_Current"],
>  type="l",lwd=3,main="Bsnk_Current",
>  xlab="Income",ylab="%",xaxt="n")
> axis(1,at=1:5,labels=at_df$Income)
> plot(at_df[,"Bank_Savings"],
>  type="l",lwd=3,main="Bank_Sasvings",
>  xlab="Income",ylab="%",xaxt="n")
> axis(1,at=1:5,labels=at_df$Income)
> plot(at_df[,"MF_Equity"],
>  type="l",lwd=3,main="MF_Equity",
>  xlab="Income",ylab="%",xaxt="n")
> axis(1,at=1:5,labels=at_df$Income)
> plot(at_df[,"MF_Debt"],
>  type="l",lwd=3,main="MF_Debt",
>  xlab="Income",ylab="%",xaxt="n")
> axis(1,at=1:5,labels=at_df$Income)
> dev.off()
>
> Jim
>
> On Thu, Jun 29, 2023 at 1:49?PM Anupam Tyagi <anuptyagi at gmail.com> wrote:
> >
> > Thanks, Pikal and Jim. Yes, it has been a long time Jim. I hope you have
> > been well.
> >
> > Pikal, thanks. Your solution may be close to what I want. I did not know
> > that I was posting in HTML. I just copied the data from Excel and posted
> in
> > the email in Gmail. The data is still in Excel, because I have not yet
> > figured out what is a good way to organize it in R. I am posting it again
> > below as text. These are rows in Excel: 1,2,3,5,9 after MF are income
> > categories and No Answer category (9). Down the second column are
> > categories of MF and Bank AC. Rest of the columns are percentages.
> >
> > Jim, thanks for the graph. I am looking to plot only one line (category)
> > each in many small plots on the same page. I don't want to compare
> > different categories on the same graph as you do, but see how each
> category
> > varies by income, one category in each graph. Like Excel does with
> > Sparklines (Top menu: Insert, Sparklines, Lines). I have many categories
> > for many variables. I am only showing two MF and Bank AC.
> >
> > Income $10 $25 $40 $75 > $75 No Answer
> > MF 1 2 3 4 5 9
> > None 1 3.05 2.29 2.24 1.71 1.30 2.83
> > Equity 2 29.76 28.79 29.51 28.90 31.67 36.77
> > Debt 3 31.18 32.64 34.31 35.65 37.59 33.15
> > Hybrid 4 36.00 36.27 33.94 33.74 29.44 27.25
> > Bank AC
> > None 1 46.54 54.01 59.1 62.17 67.67 60.87
> > Current 2 24.75 24.4 25 24.61 24.02 21.09
> > Savings 3 25.4 18.7 29 11.48 7.103 13.46
> > No Answer 9 3.307 2.891 13.4 1.746 1.208 4.577
> >
> >
> > On Wed, 28 Jun 2023 at 17:30, Jim Lemon <drjimlemon at gmail.com> wrote:
> >
> > > Hi Anupam,
> > > Haven't heard from you in a long time. Perhaps you want something like
> > > this:
> > >
> > > at_df<-read.table(text=
> > >  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None Bank_Current
> > > Bank_Savings Bank_NA
> > >  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
> > >  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
> > >  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
> > >  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
> > >  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208
> > >  No_Answer 9 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
> > >  header=TRUE,stringsAsFactors=FALSE)
> > > at_df<-at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA")]
> > > png("MF_Bank.png",height=600)
> > > par(mfrow=c(2,1))
> > > matplot(at_df[,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid")],
> > >  type="l",col=1:4,lty=1:4,lwd=3,
> > >  main="Percentages by Income and MF type",
> > >  xlab="Income",ylab="Percentage of group",xaxt="n")
> > > axis(1,at=1:5,labels=at_df$Income)
> > > legend(3,24,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid"),
> > >  lty=1:4,lwd=3,col=1:4)
> > > matplot(at_df[,c("Bank_None","Bank_Current","Bank_Savings")],
> > >  type="l",col=1:3,lty=1:4,lwd=3,
> > >  main="Percentages by Income and Bank type",
> > >  xlab="Income",ylab="Percentage of group",xaxt="n")
> > > axis(1,at=1:5,labels=at_df$Income)
> > > legend(3,54,c("Bank_None","Bank_Current","Bank_Savings"),
> > >  lty=1:4,lwd=3,col=1:3)
> > > dev.off()
> > >
> > > Jim
> > >
> > > On Wed, Jun 28, 2023 at 6:33?PM Anupam Tyagi <anuptyagi at gmail.com>
> wrote:
> > > >
> > > > Hello,
> > > >
> > > > I want to plot the following kind of data (percentage of respondents
> > > from a
> > > > survey) that varies by Income into many small *line* graphs in a
> panel of
> > > > graphs. I want to omit "No Answer" categories. I want to see how
> each one
> > > > of the categories (percentages), "None", " Equity", etc. varies by
> > > Income.
> > > > How can I do this? How to organize the data well and how to plot? I
> > > thought
> > > > Lattice may be a good package to plot this, but I don't know for
> sure. I
> > > > prefer to do this in Base-R if possible, but I am open to ggplot. Any
> > > ideas
> > > > will be helpful.
> > > >
> > > > Income
> > > > $10 $25 $40 $75 > $75 No Answer
> > > > MF 1 2 3 4 5 9
> > > > None 1 3.05 2.29 2.24 1.71 1.30 2.83
> > > > Equity 2 29.76 28.79 29.51 28.90 31.67 36.77
> > > > Debt 3 31.18 32.64 34.31 35.65 37.59 33.15
> > > > Hybrid 4 36.00 36.27 33.94 33.74 29.44 27.25
> > > > Bank AC
> > > > None 1 46.54 54.01 59.1 62.17 67.67 60.87
> > > > Current 2 24.75 24.4 25 24.61 24.02 21.09
> > > > Savings 3 25.4 18.7 29 11.48 7.103 13.46
> > > > No Answer 9 3.307 2.891 13.4 1.746 1.208 4.577
> > > >
> > > > Thanks.
> > > > --
> > > > Anupam.
> > > >
> > > >         [[alternative HTML version deleted]]
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide
> > > http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> >
> > --
> > Anupam.
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
Anupam.

	[[alternative HTML version deleted]]


From @nupty@g| @end|ng |rom gm@||@com  Mon Jul  3 11:53:31 2023
From: @nupty@g| @end|ng |rom gm@||@com (Anupam Tyagi)
Date: Mon, 3 Jul 2023 15:23:31 +0530
Subject: [R] Plotting factors in graph panel
In-Reply-To: <CAFL9eumiW_+fa8RNk=yWEw8N7Uz0rK1mbbuaqXOT1FymEtRoVQ@mail.gmail.com>
References: <CAFL9eu=85pvoKKdUKgaK-edX8CoELAMkzqH5wAupQ-Dh9ntFMg@mail.gmail.com>
 <CA+8X3fUkafDZ-0H5KhtQveQfRxRmf56xQzxCMiSc68XbNyOvRw@mail.gmail.com>
 <CAFL9eu=rLoYgKV3+Gprz8Mi6H3FDC-C7tPN4d8GqZuGthk--tQ@mail.gmail.com>
 <CA+8X3fV8SxdDcaQ=Sd7rg6WmJ3xX0wgdjCSSf9wZ6zpaz9vDPQ@mail.gmail.com>
 <CAFL9eunJR8sRQBtTpJD0PrZf3P7FXw+u+4FmXqmS+zv35HmbUg@mail.gmail.com>
 <CAFL9eumiW_+fa8RNk=yWEw8N7Uz0rK1mbbuaqXOT1FymEtRoVQ@mail.gmail.com>
Message-ID: <CAFL9eumct3yOEKkhsc4DPCgj=_0rRbNLNexH7tro35uT5=v8_A@mail.gmail.com>

Attached is another example plot, that is better than the earlier one.

On Mon, 3 Jul 2023 at 15:21, Anupam Tyagi <anuptyagi at gmail.com> wrote:

> I thought maybe I can share with you how the data looks in Excel, and an
> example plot I found on the web that looks similar to what I want to plot.
> These are attached to this email as *.png files. I am trying to see (plot)
> how each row of data (percentages) varies with income, making many small
> graphs in the same plot. For each row of data there will be one graph. I
> can manually delete the "No Answer" rows in Excel, if that is the best
> solution. I want the output to look like the sparklines in column "I" of
> attached Excel screenshot, with labelling of each graphs. This is similar
> to the attached "Example_plot". I thought this could be done with Lattice,
> or base-R, or ggplot easily, but this turning out to be more difficult than
> I had thought.
>
> On Mon, 3 Jul 2023 at 14:38, Anupam Tyagi <anuptyagi at gmail.com> wrote:
>
>> Thanks Jim, thanks everyone. I was caught up with work and moving home,
>> so a delay in response. I tried running the code you provided and it is not
>> running well in my R-Studio setup. It is giving errors and not producing
>> plots. I don't yet understand all the code well yet, so I need to work on
>> it and then get back to you all. Sorry for not posting data from a R
>> dataframe. My data is still in Excel. I organized data in Excel almost
>> exactly (look wise) as the output from Stata log file (text) for a
>> "tabulate" command for a survey dataset. I don't yet understand a good way
>> to organize this data in R, so I cannot send it to you now. Let me do some
>> work on this, understand the R code you have given, and get back to you in
>> a few days. I have not been using R lately, but I think the graph I am
>> trying to make will be done better and easier in R than in Stata. Thank you
>> all for all your help. Let me do some work and get back to you.
>>
>>
>> On Fri, 30 Jun 2023 at 04:41, Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>>> Okay. Here is a modification that does four single line plots.
>>>
>>> at_df<-read.table(text=
>>>  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None Bank_Current
>>> Bank_Savings Bank_NA
>>>  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
>>>  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
>>>  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
>>>  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
>>>  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208
>>>  No_Answer 9 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
>>>  header=TRUE,stringsAsFactors=FALSE)
>>> at_df<-at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA")]
>>> png("Income_pcts.png",height=700)
>>> par(mfrow=c(4,1))
>>> plot(at_df[,"Bank_Current"],
>>>  type="l",lwd=3,main="Bsnk_Current",
>>>  xlab="Income",ylab="%",xaxt="n")
>>> axis(1,at=1:5,labels=at_df$Income)
>>> plot(at_df[,"Bank_Savings"],
>>>  type="l",lwd=3,main="Bank_Sasvings",
>>>  xlab="Income",ylab="%",xaxt="n")
>>> axis(1,at=1:5,labels=at_df$Income)
>>> plot(at_df[,"MF_Equity"],
>>>  type="l",lwd=3,main="MF_Equity",
>>>  xlab="Income",ylab="%",xaxt="n")
>>> axis(1,at=1:5,labels=at_df$Income)
>>> plot(at_df[,"MF_Debt"],
>>>  type="l",lwd=3,main="MF_Debt",
>>>  xlab="Income",ylab="%",xaxt="n")
>>> axis(1,at=1:5,labels=at_df$Income)
>>> dev.off()
>>>
>>> Jim
>>>
>>> On Thu, Jun 29, 2023 at 1:49?PM Anupam Tyagi <anuptyagi at gmail.com>
>>> wrote:
>>> >
>>> > Thanks, Pikal and Jim. Yes, it has been a long time Jim. I hope you
>>> have
>>> > been well.
>>> >
>>> > Pikal, thanks. Your solution may be close to what I want. I did not
>>> know
>>> > that I was posting in HTML. I just copied the data from Excel and
>>> posted in
>>> > the email in Gmail. The data is still in Excel, because I have not yet
>>> > figured out what is a good way to organize it in R. I am posting it
>>> again
>>> > below as text. These are rows in Excel: 1,2,3,5,9 after MF are income
>>> > categories and No Answer category (9). Down the second column are
>>> > categories of MF and Bank AC. Rest of the columns are percentages.
>>> >
>>> > Jim, thanks for the graph. I am looking to plot only one line
>>> (category)
>>> > each in many small plots on the same page. I don't want to compare
>>> > different categories on the same graph as you do, but see how each
>>> category
>>> > varies by income, one category in each graph. Like Excel does with
>>> > Sparklines (Top menu: Insert, Sparklines, Lines). I have many
>>> categories
>>> > for many variables. I am only showing two MF and Bank AC.
>>> >
>>> > Income $10 $25 $40 $75 > $75 No Answer
>>> > MF 1 2 3 4 5 9
>>> > None 1 3.05 2.29 2.24 1.71 1.30 2.83
>>> > Equity 2 29.76 28.79 29.51 28.90 31.67 36.77
>>> > Debt 3 31.18 32.64 34.31 35.65 37.59 33.15
>>> > Hybrid 4 36.00 36.27 33.94 33.74 29.44 27.25
>>> > Bank AC
>>> > None 1 46.54 54.01 59.1 62.17 67.67 60.87
>>> > Current 2 24.75 24.4 25 24.61 24.02 21.09
>>> > Savings 3 25.4 18.7 29 11.48 7.103 13.46
>>> > No Answer 9 3.307 2.891 13.4 1.746 1.208 4.577
>>> >
>>> >
>>> > On Wed, 28 Jun 2023 at 17:30, Jim Lemon <drjimlemon at gmail.com> wrote:
>>> >
>>> > > Hi Anupam,
>>> > > Haven't heard from you in a long time. Perhaps you want something
>>> like
>>> > > this:
>>> > >
>>> > > at_df<-read.table(text=
>>> > >  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None
>>> Bank_Current
>>> > > Bank_Savings Bank_NA
>>> > >  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
>>> > >  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
>>> > >  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
>>> > >  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
>>> > >  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208
>>> > >  No_Answer 9 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
>>> > >  header=TRUE,stringsAsFactors=FALSE)
>>> > >
>>> at_df<-at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA")]
>>> > > png("MF_Bank.png",height=600)
>>> > > par(mfrow=c(2,1))
>>> > > matplot(at_df[,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid")],
>>> > >  type="l",col=1:4,lty=1:4,lwd=3,
>>> > >  main="Percentages by Income and MF type",
>>> > >  xlab="Income",ylab="Percentage of group",xaxt="n")
>>> > > axis(1,at=1:5,labels=at_df$Income)
>>> > > legend(3,24,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid"),
>>> > >  lty=1:4,lwd=3,col=1:4)
>>> > > matplot(at_df[,c("Bank_None","Bank_Current","Bank_Savings")],
>>> > >  type="l",col=1:3,lty=1:4,lwd=3,
>>> > >  main="Percentages by Income and Bank type",
>>> > >  xlab="Income",ylab="Percentage of group",xaxt="n")
>>> > > axis(1,at=1:5,labels=at_df$Income)
>>> > > legend(3,54,c("Bank_None","Bank_Current","Bank_Savings"),
>>> > >  lty=1:4,lwd=3,col=1:3)
>>> > > dev.off()
>>> > >
>>> > > Jim
>>> > >
>>> > > On Wed, Jun 28, 2023 at 6:33?PM Anupam Tyagi <anuptyagi at gmail.com>
>>> wrote:
>>> > > >
>>> > > > Hello,
>>> > > >
>>> > > > I want to plot the following kind of data (percentage of
>>> respondents
>>> > > from a
>>> > > > survey) that varies by Income into many small *line* graphs in a
>>> panel of
>>> > > > graphs. I want to omit "No Answer" categories. I want to see how
>>> each one
>>> > > > of the categories (percentages), "None", " Equity", etc. varies by
>>> > > Income.
>>> > > > How can I do this? How to organize the data well and how to plot? I
>>> > > thought
>>> > > > Lattice may be a good package to plot this, but I don't know for
>>> sure. I
>>> > > > prefer to do this in Base-R if possible, but I am open to ggplot.
>>> Any
>>> > > ideas
>>> > > > will be helpful.
>>> > > >
>>> > > > Income
>>> > > > $10 $25 $40 $75 > $75 No Answer
>>> > > > MF 1 2 3 4 5 9
>>> > > > None 1 3.05 2.29 2.24 1.71 1.30 2.83
>>> > > > Equity 2 29.76 28.79 29.51 28.90 31.67 36.77
>>> > > > Debt 3 31.18 32.64 34.31 35.65 37.59 33.15
>>> > > > Hybrid 4 36.00 36.27 33.94 33.74 29.44 27.25
>>> > > > Bank AC
>>> > > > None 1 46.54 54.01 59.1 62.17 67.67 60.87
>>> > > > Current 2 24.75 24.4 25 24.61 24.02 21.09
>>> > > > Savings 3 25.4 18.7 29 11.48 7.103 13.46
>>> > > > No Answer 9 3.307 2.891 13.4 1.746 1.208 4.577
>>> > > >
>>> > > > Thanks.
>>> > > > --
>>> > > > Anupam.
>>> > > >
>>> > > >         [[alternative HTML version deleted]]
>>> > > >
>>> > > > ______________________________________________
>>> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > > > https://stat.ethz.ch/mailman/listinfo/r-help
>>> > > > PLEASE do read the posting guide
>>> > > http://www.R-project.org/posting-guide.html
>>> > > > and provide commented, minimal, self-contained, reproducible code.
>>> > >
>>> >
>>> >
>>> > --
>>> > Anupam.
>>> >
>>> >         [[alternative HTML version deleted]]
>>> >
>>> > ______________________________________________
>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > https://stat.ethz.ch/mailman/listinfo/r-help
>>> > PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> > and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>>
>> --
>> Anupam.
>>
>>
>
> --
> Anupam.
>
>

-- 
Anupam.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Example_plot2.png
Type: image/png
Size: 90776 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230703/6c120593/attachment.png>

From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jul  3 12:51:12 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 3 Jul 2023 10:51:12 +0000
Subject: [R] Plotting factors in graph panel
In-Reply-To: <CAFL9eumct3yOEKkhsc4DPCgj=_0rRbNLNexH7tro35uT5=v8_A@mail.gmail.com>
References: <CAFL9eu=85pvoKKdUKgaK-edX8CoELAMkzqH5wAupQ-Dh9ntFMg@mail.gmail.com>
 <CA+8X3fUkafDZ-0H5KhtQveQfRxRmf56xQzxCMiSc68XbNyOvRw@mail.gmail.com>
 <CAFL9eu=rLoYgKV3+Gprz8Mi6H3FDC-C7tPN4d8GqZuGthk--tQ@mail.gmail.com>
 <CA+8X3fV8SxdDcaQ=Sd7rg6WmJ3xX0wgdjCSSf9wZ6zpaz9vDPQ@mail.gmail.com>
 <CAFL9eunJR8sRQBtTpJD0PrZf3P7FXw+u+4FmXqmS+zv35HmbUg@mail.gmail.com>
 <CAFL9eumiW_+fa8RNk=yWEw8N7Uz0rK1mbbuaqXOT1FymEtRoVQ@mail.gmail.com>
 <CAFL9eumct3yOEKkhsc4DPCgj=_0rRbNLNexH7tro35uT5=v8_A@mail.gmail.com>
Message-ID: <48cbfde02f2a443fbf1be583b968a0f5@SRVEXCHCM1302.precheza.cz>

Hi

I believe that facet_grid his is quite close to what you expect.  

p <- ggplot(mpg, aes(displ, cty)) + geom_point()+geom_line()
p + facet_grid(vars(drv), vars(cyl))

You can inspect how mpg data is organized by head(mpg)

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Anupam Tyagi
> Sent: Monday, July 3, 2023 11:54 AM
> To: Jim Lemon <drjimlemon at gmail.com>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Plotting factors in graph panel
> 
> Attached is another example plot, that is better than the earlier one.
> 
> On Mon, 3 Jul 2023 at 15:21, Anupam Tyagi <anuptyagi at gmail.com> wrote:
> 
> > I thought maybe I can share with you how the data looks in Excel, and
> > an example plot I found on the web that looks similar to what I want to plot.
> > These are attached to this email as *.png files. I am trying to see
> > (plot) how each row of data (percentages) varies with income, making
> > many small graphs in the same plot. For each row of data there will be
> > one graph. I can manually delete the "No Answer" rows in Excel, if
> > that is the best solution. I want the output to look like the
> > sparklines in column "I" of attached Excel screenshot, with labelling
> > of each graphs. This is similar to the attached "Example_plot". I
> > thought this could be done with Lattice, or base-R, or ggplot easily,
> > but this turning out to be more difficult than I had thought.
> >
> > On Mon, 3 Jul 2023 at 14:38, Anupam Tyagi <anuptyagi at gmail.com> wrote:
> >
> >> Thanks Jim, thanks everyone. I was caught up with work and moving
> >> home, so a delay in response. I tried running the code you provided
> >> and it is not running well in my R-Studio setup. It is giving errors
> >> and not producing plots. I don't yet understand all the code well
> >> yet, so I need to work on it and then get back to you all. Sorry for
> >> not posting data from a R dataframe. My data is still in Excel. I
> >> organized data in Excel almost exactly (look wise) as the output from
> >> Stata log file (text) for a "tabulate" command for a survey dataset.
> >> I don't yet understand a good way to organize this data in R, so I
> >> cannot send it to you now. Let me do some work on this, understand
> >> the R code you have given, and get back to you in a few days. I have
> >> not been using R lately, but I think the graph I am trying to make
> >> will be done better and easier in R than in Stata. Thank you all for all your
> help. Let me do some work and get back to you.
> >>
> >>
> >> On Fri, 30 Jun 2023 at 04:41, Jim Lemon <drjimlemon at gmail.com> wrote:
> >>
> >>> Okay. Here is a modification that does four single line plots.
> >>>
> >>> at_df<-read.table(text=
> >>>  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None
> >>> Bank_Current Bank_Savings Bank_NA
> >>>  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
> >>>  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
> >>>  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
> >>>  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
> >>>  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208  No_Answer 9
> >>> 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
> >>>  header=TRUE,stringsAsFactors=FALSE)
> >>> at_df<-
> at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA"
> >>> )]
> >>> png("Income_pcts.png",height=700)
> >>> par(mfrow=c(4,1))
> >>> plot(at_df[,"Bank_Current"],
> >>>  type="l",lwd=3,main="Bsnk_Current",
> >>>  xlab="Income",ylab="%",xaxt="n")
> >>> axis(1,at=1:5,labels=at_df$Income)
> >>> plot(at_df[,"Bank_Savings"],
> >>>  type="l",lwd=3,main="Bank_Sasvings",
> >>>  xlab="Income",ylab="%",xaxt="n")
> >>> axis(1,at=1:5,labels=at_df$Income)
> >>> plot(at_df[,"MF_Equity"],
> >>>  type="l",lwd=3,main="MF_Equity",
> >>>  xlab="Income",ylab="%",xaxt="n")
> >>> axis(1,at=1:5,labels=at_df$Income)
> >>> plot(at_df[,"MF_Debt"],
> >>>  type="l",lwd=3,main="MF_Debt",
> >>>  xlab="Income",ylab="%",xaxt="n")
> >>> axis(1,at=1:5,labels=at_df$Income)
> >>> dev.off()
> >>>
> >>> Jim
> >>>
> >>> On Thu, Jun 29, 2023 at 1:49?PM Anupam Tyagi <anuptyagi at gmail.com>
> >>> wrote:
> >>> >
> >>> > Thanks, Pikal and Jim. Yes, it has been a long time Jim. I hope
> >>> > you
> >>> have
> >>> > been well.
> >>> >
> >>> > Pikal, thanks. Your solution may be close to what I want. I did
> >>> > not
> >>> know
> >>> > that I was posting in HTML. I just copied the data from Excel and
> >>> posted in
> >>> > the email in Gmail. The data is still in Excel, because I have not
> >>> > yet figured out what is a good way to organize it in R. I am
> >>> > posting it
> >>> again
> >>> > below as text. These are rows in Excel: 1,2,3,5,9 after MF are
> >>> > income categories and No Answer category (9). Down the second
> >>> > column are categories of MF and Bank AC. Rest of the columns are
> percentages.
> >>> >
> >>> > Jim, thanks for the graph. I am looking to plot only one line
> >>> (category)
> >>> > each in many small plots on the same page. I don't want to compare
> >>> > different categories on the same graph as you do, but see how each
> >>> category
> >>> > varies by income, one category in each graph. Like Excel does with
> >>> > Sparklines (Top menu: Insert, Sparklines, Lines). I have many
> >>> categories
> >>> > for many variables. I am only showing two MF and Bank AC.
> >>> >
> >>> > Income $10 $25 $40 $75 > $75 No Answer MF 1 2 3 4 5 9 None 1 3.05
> >>> > 2.29 2.24 1.71 1.30 2.83 Equity 2 29.76 28.79 29.51 28.90 31.67
> >>> > 36.77 Debt 3 31.18 32.64 34.31 35.65 37.59 33.15 Hybrid 4 36.00
> >>> > 36.27 33.94 33.74 29.44 27.25 Bank AC None 1 46.54 54.01 59.1
> >>> > 62.17 67.67 60.87 Current 2 24.75 24.4 25 24.61 24.02 21.09
> >>> > Savings 3 25.4 18.7 29 11.48 7.103 13.46 No Answer 9 3.307 2.891
> >>> > 13.4 1.746 1.208 4.577
> >>> >
> >>> >
> >>> > On Wed, 28 Jun 2023 at 17:30, Jim Lemon <drjimlemon at gmail.com>
> wrote:
> >>> >
> >>> > > Hi Anupam,
> >>> > > Haven't heard from you in a long time. Perhaps you want
> >>> > > something
> >>> like
> >>> > > this:
> >>> > >
> >>> > > at_df<-read.table(text=
> >>> > >  "Income MF MF_None MF_Equity MF_Debt MF_Hybrid Bank_None
> >>> Bank_Current
> >>> > > Bank_Savings Bank_NA
> >>> > >  $10 1 3.05 29.76 31.18 36.0 46.54 24.75 25.4 3.307
> >>> > >  $25 2 2.29 28.79 32.64 36.27 54.01 24.4 18.7 2.891
> >>> > >  $40 3 2.24 29.51 34.31 33.94 59.1 25.0 29 13.4
> >>> > >  $75 4 1.71 28.90 35.65 33.74 62.17 24.61 11.48 1.746
> >>> > >  >$75 5 1.30 31.67 37.59 29.44 67.67 24.02 7.103 1.208
> >>> > > No_Answer 9 2.83 36.77 33.15 27.25 60.87 21.09 13.46 4.577",
> >>> > >  header=TRUE,stringsAsFactors=FALSE)
> >>> > >
> >>> at_df<-
> at_df[at_df$Income!="No_Answer",which(names(at_df)!="Bank_NA"
> >>> )]
> >>> > > png("MF_Bank.png",height=600)
> >>> > > par(mfrow=c(2,1))
> >>> > > matplot(at_df[,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid")],
> >>> > >  type="l",col=1:4,lty=1:4,lwd=3,  main="Percentages by Income
> >>> > > and MF type",  xlab="Income",ylab="Percentage of
> >>> > > group",xaxt="n")
> >>> > > axis(1,at=1:5,labels=at_df$Income)
> >>> > > legend(3,24,c("MF_None","MF_Equity","MF_Debt","MF_Hybrid"),
> >>> > >  lty=1:4,lwd=3,col=1:4)
> >>> > > matplot(at_df[,c("Bank_None","Bank_Current","Bank_Savings")],
> >>> > >  type="l",col=1:3,lty=1:4,lwd=3,  main="Percentages by Income
> >>> > > and Bank type",  xlab="Income",ylab="Percentage of
> >>> > > group",xaxt="n")
> >>> > > axis(1,at=1:5,labels=at_df$Income)
> >>> > > legend(3,54,c("Bank_None","Bank_Current","Bank_Savings"),
> >>> > >  lty=1:4,lwd=3,col=1:3)
> >>> > > dev.off()
> >>> > >
> >>> > > Jim
> >>> > >
> >>> > > On Wed, Jun 28, 2023 at 6:33?PM Anupam Tyagi
> >>> > > <anuptyagi at gmail.com>
> >>> wrote:
> >>> > > >
> >>> > > > Hello,
> >>> > > >
> >>> > > > I want to plot the following kind of data (percentage of
> >>> respondents
> >>> > > from a
> >>> > > > survey) that varies by Income into many small *line* graphs in
> >>> > > > a
> >>> panel of
> >>> > > > graphs. I want to omit "No Answer" categories. I want to see
> >>> > > > how
> >>> each one
> >>> > > > of the categories (percentages), "None", " Equity", etc.
> >>> > > > varies by
> >>> > > Income.
> >>> > > > How can I do this? How to organize the data well and how to
> >>> > > > plot? I
> >>> > > thought
> >>> > > > Lattice may be a good package to plot this, but I don't know
> >>> > > > for
> >>> sure. I
> >>> > > > prefer to do this in Base-R if possible, but I am open to ggplot.
> >>> Any
> >>> > > ideas
> >>> > > > will be helpful.
> >>> > > >
> >>> > > > Income
> >>> > > > $10 $25 $40 $75 > $75 No Answer MF 1 2 3 4 5 9 None 1 3.05
> >>> > > > 2.29 2.24 1.71 1.30 2.83 Equity 2 29.76 28.79 29.51 28.90
> >>> > > > 31.67 36.77 Debt 3 31.18 32.64 34.31 35.65 37.59 33.15 Hybrid
> >>> > > > 4 36.00 36.27 33.94 33.74 29.44 27.25 Bank AC None 1 46.54
> >>> > > > 54.01 59.1 62.17 67.67 60.87 Current 2 24.75 24.4 25 24.61
> >>> > > > 24.02 21.09 Savings 3 25.4 18.7 29 11.48 7.103 13.46 No Answer
> >>> > > > 9 3.307 2.891 13.4 1.746 1.208 4.577
> >>> > > >
> >>> > > > Thanks.
> >>> > > > --
> >>> > > > Anupam.
> >>> > > >
> >>> > > >         [[alternative HTML version deleted]]
> >>> > > >
> >>> > > > ______________________________________________
> >>> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> >>> > > > see https://stat.ethz.ch/mailman/listinfo/r-help
> >>> > > > PLEASE do read the posting guide
> >>> > > http://www.R-project.org/posting-guide.html
> >>> > > > and provide commented, minimal, self-contained, reproducible
> code.
> >>> > >
> >>> >
> >>> >
> >>> > --
> >>> > Anupam.
> >>> >
> >>> >         [[alternative HTML version deleted]]
> >>> >
> >>> > ______________________________________________
> >>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> > https://stat.ethz.ch/mailman/listinfo/r-help
> >>> > PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> > and provide commented, minimal, self-contained, reproducible code.
> >>>
> >>
> >>
> >> --
> >> Anupam.
> >>
> >>
> >
> > --
> > Anupam.
> >
> >
> 
> --
> Anupam.

From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Mon Jul  3 20:00:32 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Mon, 3 Jul 2023 18:00:32 +0000
Subject: [R] Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
Message-ID: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>

I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) : 
  length of 'dimnames' [2] not equal to array extent" 

Please help me get the code to work.

Thank you,
John

# create variable names xxx1 and xxx2.
string=""
for (j in 1:2){
  name <- paste("xxx",j,sep="")
  string <- paste(string,name)
  print(string)
}
# Creation of xxx1 and xxx2 works
string

# Create matrix
myvalues <- matrix(nrow=2,ncol=4)
head(myvalues,1)
# Add "j" and "k" to the string of column names
zzz <- paste("j","k",string)
zzz
# assign column names, j, k, xxx1, xxx2 to the matrix
# create column names, j, k, xxx1, xxx2.
dimnames(myvalues)<-list(NULL,zzz)



From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jul  3 20:11:03 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 03 Jul 2023 11:11:03 -0700
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>

?colnames

On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) : 
>  length of 'dimnames' [2] not equal to array extent" 
>
>Please help me get the code to work.
>
>Thank you,
>John
>
># create variable names xxx1 and xxx2.
>string=""
>for (j in 1:2){
>  name <- paste("xxx",j,sep="")
>  string <- paste(string,name)
>  print(string)
>}
># Creation of xxx1 and xxx2 works
>string
>
># Create matrix
>myvalues <- matrix(nrow=2,ncol=4)
>head(myvalues,1)
># Add "j" and "k" to the string of column names
>zzz <- paste("j","k",string)
>zzz
># assign column names, j, k, xxx1, xxx2 to the matrix
># create column names, j, k, xxx1, xxx2.
>dimnames(myvalues)<-list(NULL,zzz)
>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Jul  3 20:34:44 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 3 Jul 2023 19:34:44 +0100
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <1c17cec4-de83-e2e7-3ee6-c649f4eb1fd4@sapo.pt>

?s 19:00 de 03/07/2023, Sorkin, John escreveu:
> I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) :
>    length of 'dimnames' [2] not equal to array extent"
> 
> Please help me get the code to work.
> 
> Thank you,
> John
> 
> # create variable names xxx1 and xxx2.
> string=""
> for (j in 1:2){
>    name <- paste("xxx",j,sep="")
>    string <- paste(string,name)
>    print(string)
> }
> # Creation of xxx1 and xxx2 works
> string
> 
> # Create matrix
> myvalues <- matrix(nrow=2,ncol=4)
> head(myvalues,1)
> # Add "j" and "k" to the string of column names
> zzz <- paste("j","k",string)
> zzz
> # assign column names, j, k, xxx1, xxx2 to the matrix
> # create column names, j, k, xxx1, xxx2.
> dimnames(myvalues)<-list(NULL,zzz)
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

You don't need so many calls to paste, one is enough.
And you don't need the for loop at all, paste and paste0 are vectorized.



myvalues <- matrix(nrow=2,ncol=4)

cnames <- paste0("xxx", 1:2)
cnames
# [1] "xxx1" "xxx2"

colnames(myvalues) <- c("j", "k", cnames)



Hope this helps,

Rui Barradas


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Mon Jul  3 20:39:37 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Mon, 3 Jul 2023 18:39:37 +0000
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
Message-ID: <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>

Jeff,
Thank you for your reply.
I should have said with dim names not column names. I want the Mateix to have dim names, no row names, dim names j, k, xxx1, xxx2.

John

John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street<x-apple-data-detectors://12>
GRECC<x-apple-data-detectors://12> (BT/18/GR)
Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
(Phone) 410-605-711<tel:410-605-7119>9
(Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)

On Jul 3, 2023, at 2:11 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:

??colnames

On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) :
length of 'dimnames' [2] not equal to array extent"

Please help me get the code to work.

Thank you,
John

# create variable names xxx1 and xxx2.
string=""
for (j in 1:2){
name <- paste("xxx",j,sep="")
string <- paste(string,name)
print(string)
}
# Creation of xxx1 and xxx2 works
string

# Create matrix
myvalues <- matrix(nrow=2,ncol=4)
head(myvalues,1)
# Add "j" and "k" to the string of column names
zzz <- paste("j","k",string)
zzz
# assign column names, j, k, xxx1, xxx2 to the matrix
# create column names, j, k, xxx1, xxx2.
dimnames(myvalues)<-list(NULL,zzz)


______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=y8kLruSvrjxQLegbbPNMMl665EEApCgiSOq%2BEmhQfNE%3D&reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=HBUMNAeG1KurerS2DAhKxxZVRs71TSF0YJSGjP%2FCixA%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=y8kLruSvrjxQLegbbPNMMl665EEApCgiSOq%2BEmhQfNE%3D&reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=HBUMNAeG1KurerS2DAhKxxZVRs71TSF0YJSGjP%2FCixA%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jul  3 20:45:25 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 03 Jul 2023 11:45:25 -0700
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
 <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>
Message-ID: <92543D52-786A-487D-B39E-9635EF9D5200@dcn.davis.ca.us>

I really think you should read that help page.  colnames() accesses the second element of dimnames() directly.

On July 3, 2023 11:39:37 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>Jeff,
>Thank you for your reply.
>I should have said with dim names not column names. I want the Mateix to have dim names, no row names, dim names j, k, xxx1, xxx2.
>
>John
>
>John David Sorkin M.D., Ph.D.
>Professor of Medicine
>Chief, Biostatistics and Informatics
>University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
>Baltimore VA Medical Center
>10 North Greene Street<x-apple-data-detectors://12>
>GRECC<x-apple-data-detectors://12> (BT/18/GR)
>Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
>(Phone) 410-605-711<tel:410-605-7119>9
>(Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)
>
>On Jul 3, 2023, at 2:11 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
>??colnames
>
>On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) :
>length of 'dimnames' [2] not equal to array extent"
>
>Please help me get the code to work.
>
>Thank you,
>John
>
># create variable names xxx1 and xxx2.
>string=""
>for (j in 1:2){
>name <- paste("xxx",j,sep="")
>string <- paste(string,name)
>print(string)
>}
># Creation of xxx1 and xxx2 works
>string
>
># Create matrix
>myvalues <- matrix(nrow=2,ncol=4)
>head(myvalues,1)
># Add "j" and "k" to the string of column names
>zzz <- paste("j","k",string)
>zzz
># assign column names, j, k, xxx1, xxx2 to the matrix
># create column names, j, k, xxx1, xxx2.
>dimnames(myvalues)<-list(NULL,zzz)
>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=y8kLruSvrjxQLegbbPNMMl665EEApCgiSOq%2BEmhQfNE%3D&reserved=0
>PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=HBUMNAeG1KurerS2DAhKxxZVRs71TSF0YJSGjP%2FCixA%3D&reserved=0
>and provide commented, minimal, self-contained, reproducible code.
>
>--
>Sent from my phone. Please excuse my brevity.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=y8kLruSvrjxQLegbbPNMMl665EEApCgiSOq%2BEmhQfNE%3D&reserved=0
>PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7CJSorkin%40som.umaryland.edu%7C4347c6a62c4b4956756708db7bf0ea2b%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638240046889096206%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=HBUMNAeG1KurerS2DAhKxxZVRs71TSF0YJSGjP%2FCixA%3D&reserved=0
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Mon Jul  3 21:26:38 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Mon, 3 Jul 2023 19:26:38 +0000
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <92543D52-786A-487D-B39E-9635EF9D5200@dcn.davis.ca.us>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
 <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>
 <92543D52-786A-487D-B39E-9635EF9D5200@dcn.davis.ca.us>
Message-ID: <MW4PR03MB6363C345F53BA12435A47AE8E229A@MW4PR03MB6363.namprd03.prod.outlook.com>

Jeff,
Again my thanks for your guidance.
I replaced dimnames(myvalues)<-list(NULL,c(zzz))
with
colnames(myvalues)<-zzz
and get the same error,
Error in dimnames(x) <- dn :
  length of 'dimnames' [2] not equal to array extent
It appears that I am creating the string zzz in a manner that is not compatable with either
dimnames(myvalues)<-list(NULL,c(zzz))
or
colnames(myvalues)<-zzz

I think I need to modify the way I create the string zzz.

# create variable names xxx1 and xxx2.
string=""
for (j in 1:2){
  name <- paste("xxx",j,sep="")
  string <- paste(string,name)
  print(string)
}
# Creation of xxx1 and xxx2 works
string

# Create matrix
myvalues <- matrix(nrow=2,ncol=4)
head(myvalues,1)
# Add "j" and "k" to the string of column names
zzz <- paste("j","k",string)
zzz
# assign column names, j, k, xxx1, xxx2 to the matrix
# create column names, j, k, xxx1, xxx2.
dimnames(myvalues)<-list(NULL,c(zzz))
colnames(myvalues)<-zzz
________________________________________
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Sent: Monday, July 3, 2023 2:45 PM
To: Sorkin, John
Cc: r-help at r-project.org
Subject: Re: [R]  Create matrix with column names wiht the same prefix xxxx and that end in 1, 2

I really think you should read that help page.  colnames() accesses the second element of dimnames() directly.

On July 3, 2023 11:39:37 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>Jeff,
>Thank you for your reply.
>I should have said with dim names not column names. I want the Mateix to have dim names, no row names, dim names j, k, xxx1, xxx2.
>
>John
>
>John David Sorkin M.D., Ph.D.
>Professor of Medicine
>Chief, Biostatistics and Informatics
>University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
>Baltimore VA Medical Center
>10 North Greene Street<x-apple-data-detectors://12>
>GRECC<x-apple-data-detectors://12> (BT/18/GR)
>Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
>(Phone) 410-605-711<tel:410-605-7119>9
>(Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)
>
>On Jul 3, 2023, at 2:11 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
>??colnames
>
>On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) :
>length of 'dimnames' [2] not equal to array extent"
>
>Please help me get the code to work.
>
>Thank you,
>John
>
># create variable names xxx1 and xxx2.
>string=""
>for (j in 1:2){
>name <- paste("xxx",j,sep="")
>string <- paste(string,name)
>print(string)
>}
># Creation of xxx1 and xxx2 works
>string
>
># Create matrix
>myvalues <- matrix(nrow=2,ncol=4)
>head(myvalues,1)
># Add "j" and "k" to the string of column names
>zzz <- paste("j","k",string)
>zzz
># assign column names, j, k, xxx1, xxx2 to the matrix
># create column names, j, k, xxx1, xxx2.
>dimnames(myvalues)<-list(NULL,zzz)
>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>
>--
>Sent from my phone. Please excuse my brevity.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Jul  3 21:55:20 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 3 Jul 2023 20:55:20 +0100
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <MW4PR03MB6363C345F53BA12435A47AE8E229A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
 <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>
 <92543D52-786A-487D-B39E-9635EF9D5200@dcn.davis.ca.us>
 <MW4PR03MB6363C345F53BA12435A47AE8E229A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <17f9849f-aabd-f714-2487-a6c31245ce62@sapo.pt>

?s 20:26 de 03/07/2023, Sorkin, John escreveu:
> Jeff,
> Again my thanks for your guidance.
> I replaced dimnames(myvalues)<-list(NULL,c(zzz))
> with
> colnames(myvalues)<-zzz
> and get the same error,
> Error in dimnames(x) <- dn :
>    length of 'dimnames' [2] not equal to array extent
> It appears that I am creating the string zzz in a manner that is not compatable with either
> dimnames(myvalues)<-list(NULL,c(zzz))
> or
> colnames(myvalues)<-zzz
> 
> I think I need to modify the way I create the string zzz.
> 
> # create variable names xxx1 and xxx2.
> string=""
> for (j in 1:2){
>    name <- paste("xxx",j,sep="")
>    string <- paste(string,name)
>    print(string)
> }
> # Creation of xxx1 and xxx2 works
> string
> 
> # Create matrix
> myvalues <- matrix(nrow=2,ncol=4)
> head(myvalues,1)
> # Add "j" and "k" to the string of column names
> zzz <- paste("j","k",string)
> zzz
> # assign column names, j, k, xxx1, xxx2 to the matrix
> # create column names, j, k, xxx1, xxx2.
> dimnames(myvalues)<-list(NULL,c(zzz))
> colnames(myvalues)<-zzz
> ________________________________________
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Sent: Monday, July 3, 2023 2:45 PM
> To: Sorkin, John
> Cc: r-help at r-project.org
> Subject: Re: [R]  Create matrix with column names wiht the same prefix xxxx and that end in 1, 2
> 
> I really think you should read that help page.  colnames() accesses the second element of dimnames() directly.
> 
> On July 3, 2023 11:39:37 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>> Jeff,
>> Thank you for your reply.
>> I should have said with dim names not column names. I want the Mateix to have dim names, no row names, dim names j, k, xxx1, xxx2.
>>
>> John
>>
>> John David Sorkin M.D., Ph.D.
>> Professor of Medicine
>> Chief, Biostatistics and Informatics
>> University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
>> Baltimore VA Medical Center
>> 10 North Greene Street<x-apple-data-detectors://12>
>> GRECC<x-apple-data-detectors://12> (BT/18/GR)
>> Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
>> (Phone) 410-605-711<tel:410-605-7119>9
>> (Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)
>>
>> On Jul 3, 2023, at 2:11 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>
>> ??colnames
>>
>> On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>> I am trying to create an array, myvalues, having 2 rows and 4 columns, where the column names are j,k,xxx1,xxx2. The code below fails, with the following error, "Error in dimnames(myvalues) <- list(NULL, zzz) :
>> length of 'dimnames' [2] not equal to array extent"
>>
>> Please help me get the code to work.
>>
>> Thank you,
>> John
>>
>> # create variable names xxx1 and xxx2.
>> string=""
>> for (j in 1:2){
>> name <- paste("xxx",j,sep="")
>> string <- paste(string,name)
>> print(string)
>> }
>> # Creation of xxx1 and xxx2 works
>> string
>>
>> # Create matrix
>> myvalues <- matrix(nrow=2,ncol=4)
>> head(myvalues,1)
>> # Add "j" and "k" to the string of column names
>> zzz <- paste("j","k",string)
>> zzz
>> # assign column names, j, k, xxx1, xxx2 to the matrix
>> # create column names, j, k, xxx1, xxx2.
>> dimnames(myvalues)<-list(NULL,zzz)
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

I should have pointed out in my answer that you are inded creating the 
names vector in a (very) wrong way. When in the loop you paste string 
and name you create one vector of length 1. When the loop ends, you have 
" xxx1 xxx2", not two names.


string=""
for (j in 1:2){
   name <- paste("xxx",j,sep="")
   string <- paste(string,name)
   print(string)
}
#> [1] " xxx1"
#> [1] " xxx1 xxx2"
# Creation of xxx1 and xxx2 works
string
#> [1] " xxx1 xxx2"



Quoting the comment above,

   Creation of xxx1 and xxx2 works

No, it does not!
And then you paste again, adding two extra letters to one string

zzz <- paste("j","k",string)


This zzz also is of length 1, check it.


With a loop the right way would be any of

# 1. concatenate the current name with string
string <- NULL   # or c(), perhaps more frequent
for (j in 1:2){
   name <- paste("xxx",j,sep="")
   string <- c(string, name)
   print(string)
}
#> [1] "xxx1"
#> [1] "xxx1" "xxx2"
# Now creation of xxx1 and xxx2 does work
string
#> [1] "xxx1" "xxx2"



# 2. create a vector of the appropriate length beforehand, my preferred
string <- character(2)
for (j in 1:2){
   string[j] <- paste0("xxx",j,sep="")
   print(string)
}
#> [1] "xxx1" ""
#> [1] "xxx1" "xxx2"
# Creation of xxx1 and xxx2 works
string
#> [1] "xxx1" "xxx2"



But the vectorized way is still the better one.

Hope this helps,

Rui Barradas


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Jul  3 22:02:26 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 3 Jul 2023 21:02:26 +0100
Subject: [R] 
 Create matrix with column names wiht the same prefix xxxx and
 that end in 1, 2
In-Reply-To: <17f9849f-aabd-f714-2487-a6c31245ce62@sapo.pt>
References: <MW4PR03MB6363F53E2F260B10E5695BFCE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAF74814-8ADF-44F8-ABF0-FB8AA73A3D96@dcn.davis.ca.us>
 <2B3D5683-8BC6-4EFA-BACE-696F262D31A9@som.umaryland.edu>
 <92543D52-786A-487D-B39E-9635EF9D5200@dcn.davis.ca.us>
 <MW4PR03MB6363C345F53BA12435A47AE8E229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <17f9849f-aabd-f714-2487-a6c31245ce62@sapo.pt>
Message-ID: <64cb9bc7-f554-04cb-0a17-cf889b202c78@sapo.pt>

?s 20:55 de 03/07/2023, Rui Barradas escreveu:
> ?s 20:26 de 03/07/2023, Sorkin, John escreveu:
>> Jeff,
>> Again my thanks for your guidance.
>> I replaced dimnames(myvalues)<-list(NULL,c(zzz))
>> with
>> colnames(myvalues)<-zzz
>> and get the same error,
>> Error in dimnames(x) <- dn :
>> ?? length of 'dimnames' [2] not equal to array extent
>> It appears that I am creating the string zzz in a manner that is not 
>> compatable with either
>> dimnames(myvalues)<-list(NULL,c(zzz))
>> or
>> colnames(myvalues)<-zzz
>>
>> I think I need to modify the way I create the string zzz.
>>
>> # create variable names xxx1 and xxx2.
>> string=""
>> for (j in 1:2){
>> ?? name <- paste("xxx",j,sep="")
>> ?? string <- paste(string,name)
>> ?? print(string)
>> }
>> # Creation of xxx1 and xxx2 works
>> string
>>
>> # Create matrix
>> myvalues <- matrix(nrow=2,ncol=4)
>> head(myvalues,1)
>> # Add "j" and "k" to the string of column names
>> zzz <- paste("j","k",string)
>> zzz
>> # assign column names, j, k, xxx1, xxx2 to the matrix
>> # create column names, j, k, xxx1, xxx2.
>> dimnames(myvalues)<-list(NULL,c(zzz))
>> colnames(myvalues)<-zzz
>> ________________________________________
>> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>> Sent: Monday, July 3, 2023 2:45 PM
>> To: Sorkin, John
>> Cc: r-help at r-project.org
>> Subject: Re: [R]? Create matrix with column names wiht the same prefix 
>> xxxx and that end in 1, 2
>>
>> I really think you should read that help page.? colnames() accesses 
>> the second element of dimnames() directly.
>>
>> On July 3, 2023 11:39:37 AM PDT, "Sorkin, John" 
>> <jsorkin at som.umaryland.edu> wrote:
>>> Jeff,
>>> Thank you for your reply.
>>> I should have said with dim names not column names. I want the Mateix 
>>> to have dim names, no row names, dim names j, k, xxx1, xxx2.
>>>
>>> John
>>>
>>> John David Sorkin M.D., Ph.D.
>>> Professor of Medicine
>>> Chief, Biostatistics and Informatics
>>> University of Maryland School of Medicine Division of Gerontology and 
>>> Geriatric Medicine
>>> Baltimore VA Medical Center
>>> 10 North Greene Street<x-apple-data-detectors://12>
>>> GRECC<x-apple-data-detectors://12> (BT/18/GR)
>>> Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
>>> (Phone) 410-605-711<tel:410-605-7119>9
>>> (Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above 
>>> prior to faxing)
>>>
>>> On Jul 3, 2023, at 2:11 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
>>> wrote:
>>>
>>> ??colnames
>>>
>>> On July 3, 2023 11:00:32 AM PDT, "Sorkin, John" 
>>> <jsorkin at som.umaryland.edu> wrote:
>>> I am trying to create an array, myvalues, having 2 rows and 4 
>>> columns, where the column names are j,k,xxx1,xxx2. The code below 
>>> fails, with the following error, "Error in dimnames(myvalues) <- 
>>> list(NULL, zzz) :
>>> length of 'dimnames' [2] not equal to array extent"
>>>
>>> Please help me get the code to work.
>>>
>>> Thank you,
>>> John
>>>
>>> # create variable names xxx1 and xxx2.
>>> string=""
>>> for (j in 1:2){
>>> name <- paste("xxx",j,sep="")
>>> string <- paste(string,name)
>>> print(string)
>>> }
>>> # Creation of xxx1 and xxx2 works
>>> string
>>>
>>> # Create matrix
>>> myvalues <- matrix(nrow=2,ncol=4)
>>> head(myvalues,1)
>>> # Add "j" and "k" to the string of column names
>>> zzz <- paste("j","k",string)
>>> zzz
>>> # assign column names, j, k, xxx1, xxx2 to the matrix
>>> # create column names, j, k, xxx1, xxx2.
>>> dimnames(myvalues)<-list(NULL,zzz)
>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.r-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> -- 
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.r-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> -- 
>> Sent from my phone. Please excuse my brevity.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> I should have pointed out in my answer that you are inded creating the 
> names vector in a (very) wrong way. When in the loop you paste string 
> and name you create one vector of length 1. When the loop ends, you have 
> " xxx1 xxx2", not two names.
> 
> 
> string=""
> for (j in 1:2){
>  ? name <- paste("xxx",j,sep="")
>  ? string <- paste(string,name)
>  ? print(string)
> }
> #> [1] " xxx1"
> #> [1] " xxx1 xxx2"
> # Creation of xxx1 and xxx2 works
> string
> #> [1] " xxx1 xxx2"
> 
> 
> 
> Quoting the comment above,
> 
>  ? Creation of xxx1 and xxx2 works
> 
> No, it does not!
> And then you paste again, adding two extra letters to one string
> 
> zzz <- paste("j","k",string)
> 
> 
> This zzz also is of length 1, check it.
> 
> 
> With a loop the right way would be any of
> 
> # 1. concatenate the current name with string
> string <- NULL?? # or c(), perhaps more frequent
> for (j in 1:2){
>  ? name <- paste("xxx",j,sep="")
>  ? string <- c(string, name)
>  ? print(string)
> }
> #> [1] "xxx1"
> #> [1] "xxx1" "xxx2"
> # Now creation of xxx1 and xxx2 does work
> string
> #> [1] "xxx1" "xxx2"
> 
> 
> 
> # 2. create a vector of the appropriate length beforehand, my preferred
> string <- character(2)
> for (j in 1:2){
>  ? string[j] <- paste0("xxx",j,sep="")
>  ? print(string)
> }
> #> [1] "xxx1" ""
> #> [1] "xxx1" "xxx2"
> # Creation of xxx1 and xxx2 works
> string
> #> [1] "xxx1" "xxx2"
> 
> 
> 
> But the vectorized way is still the better one.
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

The notation in my first post doesn't follow the OP's, so here is a MWE 
corrected.


myvalues <- matrix(nrow=2,ncol=4)

string <- paste0("xxx", 1:2)
length(string)
#> [1] 2
string
#> [1] "xxx1" "xxx2"

zzz <- c("j", "k", string)
length(zzz)
#> [1] 4
zzz
#> [1] "j"    "k"    "xxx1" "xxx2"

# with colnames
colnames(myvalues) <- zzz

# with dimnames
dimnames(myvalues) <- list(NULL, zzz)

myvalues
#>       j  k xxx1 xxx2
#> [1,] NA NA   NA   NA
#> [2,] NA NA   NA   NA



Hope this helps,

Rui Barradas


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Mon Jul  3 22:08:06 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Mon, 3 Jul 2023 20:08:06 +0000
Subject: [R] Create a variable lenght string that can be used in a dimnames
 statement
Message-ID: <MW4PR03MB636332F061D412D7125839EAE229A@MW4PR03MB6363.namprd03.prod.outlook.com>

Colleagues,

I am sending this email again with a better description of my problem and the area where I need help.

I need help creating a string of variables that will be accepted by the dimnames function. The string needs to start with the dimnames j and k followed by a series of dimnames xxx1, . . . ., xxx2, . . ., xxxn. I create xxx1, xxx2 (not  going to xxxn to shorten the code below) as a string using a for loop and the paste function. I then use a paste function, zzz <- paste("j","k",string) to create the full set of dimnames, j, k, xxx1, xxx2 as string. I create the matrix myvalues in the usual way and attempt to assign dim names to the matrix using the following dimnames statement,
dimnames(myvalues)<-list(NULL,c(zzz))
The dimnames statement leads to the following error, 
 Error in dimnames(x) <- dn : 
  length of 'dimnames' [2] not equal to array extent
A colnames statement,
colnames(myvalues)<-as.character(zzz)
produces the same error. 

Can someone tell me how to create a sting that can be used in the dimnames statment?

Thank you (and please accept my apologies for double posting).

John

# create variable names xxx1 and xxx2.
string=""
for (j in 1:2){
  name <- paste("xxx",j,sep="")
  string <- paste(string,name)
  print(string)
}
# Creation of xxx1 and xxx2 works
string

# Create matrix
myvalues <- matrix(nrow=2,ncol=4)
head(myvalues,1)
# Add "j" and "k" to the string of column names
zzz <- paste("j","k",string)
zzz
# assign column names, j, k, xxx1, xxx2 to the matrix
# create column names, j, k, xxx1, xxx2.
dimnames(myvalues)<-list(NULL,c(zzz))
colnames(myvalues) <- string

From bgunter@4567 @end|ng |rom gm@||@com  Mon Jul  3 22:40:41 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 3 Jul 2023 13:40:41 -0700
Subject: [R] 
 Create a variable lenght string that can be used in a dimnames
 statement
In-Reply-To: <MW4PR03MB636332F061D412D7125839EAE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB636332F061D412D7125839EAE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbS-oNXzomZ+Ry_fRGF6zCU7rya07tLyNvqOSTNg_WNB-w@mail.gmail.com>

I am not going to try to sort out your confusion, as others have already
tried and failed. But I will point out that "string" of variables is pretty
much nonsense in R. A "character vector"/"vector of strings" is probably
what you mean and want to provide column names // names for the second
component of the dim list for a matrix. e.g.

> m <- matrix(1:6, nr=3)
> m
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> dimnames(m)
NULL
> dimnames(m) <- list(letters[1:3], c('foo','bar'))
> m
  foo bar
a   1   4
b   2   5
c   3   6

Cheers,
Bert

On Mon, Jul 3, 2023 at 1:10?PM Sorkin, John <jsorkin at som.umaryland.edu>
wrote:

> Colleagues,
>
> I am sending this email again with a better description of my problem and
> the area where I need help.
>
> I need help creating a string of variables that will be accepted by the
> dimnames function. The string needs to start with the dimnames j and k
> followed by a series of dimnames xxx1, . . . ., xxx2, . . ., xxxn. I create
> xxx1, xxx2 (not  going to xxxn to shorten the code below) as a string using
> a for loop and the paste function. I then use a paste function, zzz <-
> paste("j","k",string) to create the full set of dimnames, j, k, xxx1, xxx2
> as string. I create the matrix myvalues in the usual way and attempt to
> assign dim names to the matrix using the following dimnames statement,
> dimnames(myvalues)<-list(NULL,c(zzz))
> The dimnames statement leads to the following error,
>  Error in dimnames(x) <- dn :
>   length of 'dimnames' [2] not equal to array extent
> A colnames statement,
> colnames(myvalues)<-as.character(zzz)
> produces the same error.
>
> Can someone tell me how to create a sting that can be used in the dimnames
> statment?
>
> Thank you (and please accept my apologies for double posting).
>
> John
>
> # create variable names xxx1 and xxx2.
> string=""
> for (j in 1:2){
>   name <- paste("xxx",j,sep="")
>   string <- paste(string,name)
>   print(string)
> }
> # Creation of xxx1 and xxx2 works
> string
>
> # Create matrix
> myvalues <- matrix(nrow=2,ncol=4)
> head(myvalues,1)
> # Add "j" and "k" to the string of column names
> zzz <- paste("j","k",string)
> zzz
> # assign column names, j, k, xxx1, xxx2 to the matrix
> # create column names, j, k, xxx1, xxx2.
> dimnames(myvalues)<-list(NULL,c(zzz))
> colnames(myvalues) <- string
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ro||turner @end|ng |rom po@teo@net  Tue Jul  4 00:34:05 2023
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Mon,  3 Jul 2023 22:34:05 +0000
Subject: [R] 
 Create a variable lenght string that can be used in a dimnames
 statement
In-Reply-To: <CAGxFJbS-oNXzomZ+Ry_fRGF6zCU7rya07tLyNvqOSTNg_WNB-w@mail.gmail.com>
References: <MW4PR03MB636332F061D412D7125839EAE229A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAGxFJbS-oNXzomZ+Ry_fRGF6zCU7rya07tLyNvqOSTNg_WNB-w@mail.gmail.com>
Message-ID: <20230704103405.385c8bb3@rolf-Latitude-E7470>


On Mon, 3 Jul 2023 13:40:41 -0700
Bert Gunter <bgunter.4567 at gmail.com> wrote:

> I am not going to try to sort out your confusion, as others have
> already tried and failed.

<SNIP>

Fortune nomination!!!

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


