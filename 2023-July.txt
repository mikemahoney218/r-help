From m@rong|u@|u|g| @end|ng |rom gm@||@com  Sat Jul  1 20:20:53 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Sat, 1 Jul 2023 20:20:53 +0200
Subject: [R] How to plot both lines and points by group on ggplot2
Message-ID: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>

Hello,
I have a dataframe with measurements stratified by the concentration
of a certain substance. I would like to plot the points of the
measures and connect the points within each series of concentrations.
When I launch ggplot2 I get the error
```
geom_path: Each group consists of only one observation. Do you need to
adjust the
group aesthetic?
```
and no lines are drawn.
Where am I going wrong?
Thank you
Luigi

```
df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
                Time = rep(1:3, 3),
                Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
df$Time <- as.factor(df$Time)
levels(df$Time) = c(1, 4, 24)
df$Conc <- as.factor(df$Conc)
levels(df$Conc) = c(1, 2, 5)
library(ggplot2)
ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
  geom_point(size=6) +
  geom_line(aes(x=Time, y=Value, colour=Conc)) +
  scale_colour_manual(values = c("darkslategray3", "darkslategray4",
                                 "deepskyblue4")) +
  ggtitle("Working example") +
  xlab(expression(bold("Time (h)"))) +
  ylab(expression(bold("Concentration (mM)")))
```
-- 
Best regards,
Luigi


From bgunter@4567 @end|ng |rom gm@||@com  Sat Jul  1 20:43:14 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 1 Jul 2023 11:43:14 -0700
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <CAGxFJbRR=32BbB7=-8Wpcha2-dJnD-C8-O0wrwgG9=UYYeRTMw@mail.gmail.com>

Can your post a few lines of your data frame (e.g. via
dput(head(...))) to make it clearer. I found this statement confusing:
"... measurements stratified by the concentration
of a certain substance. I would like to plot the points of the
measures and connect the points within each series of concentrations."

This might or might not be the source of your problems, but I think
showing us (enough of) your data would help clarify things. I don't
use ggplot, but someone who does might have a better chance of
pinpointing the problem if you provide such data.

Cheers,
Bert

On Sat, Jul 1, 2023 at 11:21?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
>
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                 Time = rep(1:3, 3),
>                 Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
>   geom_point(size=6) +
>   geom_line(aes(x=Time, y=Value, colour=Conc)) +
>   scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                  "deepskyblue4")) +
>   ggtitle("Working example") +
>   xlab(expression(bold("Time (h)"))) +
>   ylab(expression(bold("Concentration (mM)")))
> ```
> --
> Best regards,
> Luigi
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From chr|@ho|d @end|ng |rom p@yctc@org  Sat Jul  1 20:48:49 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Sat, 1 Jul 2023 19:48:49 +0100
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>

[Whoops, forgot that default reply-to is to the sender.]


On 01/07/2023 19:20, Luigi Marongiu wrote:
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
>
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> Time = rep(1:3, 3),
> Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> geom_point(size=6) +
> geom_line(aes(x=Time, y=Value, colour=Conc)) +
> scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> "deepskyblue4")) +
> ggtitle("Working example") +
> xlab(expression(bold("Time (h)"))) +
> ylab(expression(bold("Concentration (mM)")))
> ```

If I understand what you want then I think all you need is to add "group 
= Conc".? That's what that message is telling you.

df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
 ??????????????? Time = rep(1:3, 3),
 ??????????????? Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 
0.67, 0.67))
df$Time <- as.factor(df$Time)
levels(df$Time) = c(1, 4, 24)
df$Conc <- as.factor(df$Conc)
levels(df$Conc) = c(1, 2, 5)
library(ggplot2)
ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
 ? geom_point(size=6) +
 ? geom_line(aes(x=Time, y=Value, colour=Conc)) +
 ? scale_colour_manual(values = c("darkslategray3", "darkslategray4",
 ???????????????????????????????? "deepskyblue4")) +
 ? ggtitle("Working example") +
 ? xlab(expression(bold("Time (h)"))) +
 ? ylab(expression(bold("Concentration (mM)")))

Very? best,


Chris

-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>


From bgunter@4567 @end|ng |rom gm@||@com  Sat Jul  1 20:57:50 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 1 Jul 2023 11:57:50 -0700
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
 <d8140c35-9a98-dd45-12fb-883b434430fb@psyctc.org>
Message-ID: <CAGxFJbRCbiz7N=4O9CNZfe5pX7D2t3dj-KqFvWW4L=maYHiGzw@mail.gmail.com>

... and so ignore my previous missive, as you *did* provide data.
Sorry for the noise.

-- Bert


On Sat, Jul 1, 2023 at 11:53?AM Chris Evans via R-help
<r-help at r-project.org> wrote:
>
> [Whoops, forgot that default reply-to is to the sender.]
>
>
> On 01/07/2023 19:20, Luigi Marongiu wrote:
> > Hello,
> > I have a dataframe with measurements stratified by the concentration
> > of a certain substance. I would like to plot the points of the
> > measures and connect the points within each series of concentrations.
> > When I launch ggplot2 I get the error
> > ```
> > geom_path: Each group consists of only one observation. Do you need to
> > adjust the
> > group aesthetic?
> > ```
> > and no lines are drawn.
> > Where am I going wrong?
> > Thank you
> > Luigi
> >
> > ```
> > df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> > Time = rep(1:3, 3),
> > Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> > df$Time <- as.factor(df$Time)
> > levels(df$Time) = c(1, 4, 24)
> > df$Conc <- as.factor(df$Conc)
> > levels(df$Conc) = c(1, 2, 5)
> > library(ggplot2)
> > ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> > geom_point(size=6) +
> > geom_line(aes(x=Time, y=Value, colour=Conc)) +
> > scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> > "deepskyblue4")) +
> > ggtitle("Working example") +
> > xlab(expression(bold("Time (h)"))) +
> > ylab(expression(bold("Concentration (mM)")))
> > ```
>
> If I understand what you want then I think all you need is to add "group
> = Conc".  That's what that message is telling you.
>
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95,
> 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
>
> Very  best,
>
>
> Chris
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays): https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Jul  1 21:24:14 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 1 Jul 2023 20:24:14 +0100
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
Message-ID: <0f792256-dfbf-bdf9-a0f6-35a8c4282177@sapo.pt>

?s 19:20 de 01/07/2023, Luigi Marongiu escreveu:
> Hello,
> I have a dataframe with measurements stratified by the concentration
> of a certain substance. I would like to plot the points of the
> measures and connect the points within each series of concentrations.
> When I launch ggplot2 I get the error
> ```
> geom_path: Each group consists of only one observation. Do you need to
> adjust the
> group aesthetic?
> ```
> and no lines are drawn.
> Where am I going wrong?
> Thank you
> Luigi
> 
> ```
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
> ```
Hello,

Here are two solutions. I have removed the redundant aes() from 
geom_line in both plots.

1. If you do not coerce Time to factor, the x axis will be continuous.
    The plot will be as expected but you wi have to include a 
scale_x_continuous to have the wanted labels.



df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
                 Time = rep(1:3, 3),
                 Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 
0.67, 0.67))

library(ggplot2)

df$Conc <- factor(df$Conc, levels = c(1, 2, 5))

ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
   geom_point(size=6) +
   geom_line() +
   scale_colour_manual(values = c("darkslategray3", "darkslategray4", 
"deepskyblue4")) +
   scale_x_continuous(breaks = 1:3, labels = c(1, 2, 24)) +
   ggtitle("Working example") +
   xlab(expression(bold("Time (h)"))) +
   ylab(expression(bold("Concentration (mM)")))




2. Time is coerced to factor. Then, tell geom_line the data is grouped 
by Conc. This is probably the solution you should use.



df$Time <- factor(df$Time, labels = c(1, 4, 24))

ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
   geom_point(size=6) +
   geom_line(aes(group = Conc)) +
   scale_colour_manual(values = c("darkslategray3", "darkslategray4", 
"deepskyblue4")) +
   ggtitle("Working example") +
   xlab(expression(bold("Time (h)"))) +
   ylab(expression(bold("Concentration (mM)")))



Hope this helps,

Rui Barradas


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Sun Jul  2 07:31:57 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Sun, 2 Jul 2023 07:31:57 +0200
Subject: [R] How to plot both lines and points by group on ggplot2
In-Reply-To: <9bf6e614-0df4-fd45-a40c-50302a26d5a9@psyctc.org>
References: <CAMk+s2R96RiuV0fr16X4jBjPfM8X1mcRUO9kr3HTYdvP9gV_tg@mail.gmail.com>
 <9bf6e614-0df4-fd45-a40c-50302a26d5a9@psyctc.org>
Message-ID: <CAMk+s2QgD+q4x2nty=5mO7zjVG2Vr8fwqkoF0kjODFtUSLFP-w@mail.gmail.com>

Thank you that is exactly it!
The problem was to connect each point of the series 'Conc' with a line.
Best regards
Luigi

On Sat, Jul 1, 2023 at 8:33?PM Chris Evans <chrishold at psyctc.org> wrote:
>
>
> On 01/07/2023 19:20, Luigi Marongiu wrote:
> > Hello,
> > I have a dataframe with measurements stratified by the concentration
> > of a certain substance. I would like to plot the points of the
> > measures and connect the points within each series of concentrations.
> > When I launch ggplot2 I get the error
> > ```
> > geom_path: Each group consists of only one observation. Do you need to
> > adjust the
> > group aesthetic?
> > ```
> > and no lines are drawn.
> > Where am I going wrong?
> > Thank you
> > Luigi
> >
> > ```
> > df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
> >                  Time = rep(1:3, 3),
> >                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95, 0.67, 0.67))
> > df$Time <- as.factor(df$Time)
> > levels(df$Time) = c(1, 4, 24)
> > df$Conc <- as.factor(df$Conc)
> > levels(df$Conc) = c(1, 2, 5)
> > library(ggplot2)
> > ggplot(df, aes(x=Time, y=Value, colour=Conc)) +
> >    geom_point(size=6) +
> >    geom_line(aes(x=Time, y=Value, colour=Conc)) +
> >    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
> >                                   "deepskyblue4")) +
> >    ggtitle("Working example") +
> >    xlab(expression(bold("Time (h)"))) +
> >    ylab(expression(bold("Concentration (mM)")))
> > ```
>
> If I understand what you want then I think all you need is to add "group
> = Conc".  That's what that message is telling you.
>
> df = data.frame(Conc = c(rep(1, 3), rep(2, 3), rep(5, 3)),
>                  Time = rep(1:3, 3),
>                  Value = c(0.91, 0.67, 0.71, 0.91, 0.65, 0.74, 0.95,
> 0.67, 0.67))
> df$Time <- as.factor(df$Time)
> levels(df$Time) = c(1, 4, 24)
> df$Conc <- as.factor(df$Conc)
> levels(df$Conc) = c(1, 2, 5)
> library(ggplot2)
> ggplot(df, aes(x=Time, y=Value, colour=Conc, group = Conc)) +
>    geom_point(size=6) +
>    geom_line(aes(x=Time, y=Value, colour=Conc)) +
>    scale_colour_manual(values = c("darkslategray3", "darkslategray4",
>                                   "deepskyblue4")) +
>    ggtitle("Working example") +
>    xlab(expression(bold("Time (h)"))) +
>    ylab(expression(bold("Concentration (mM)")))
>
> Very  best,
>
>
> Chris
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor,
> University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays):
> https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>



-- 
Best regards,
Luigi


From r@v|@v@r@dh@n @end|ng |rom jhu@edu  Sat Jul  1 19:15:48 2023
From: r@v|@v@r@dh@n @end|ng |rom jhu@edu (Ravi Varadhan)
Date: Sat, 1 Jul 2023 17:15:48 +0000
Subject: [R] Number of Cores limited to two in CRAN
Message-ID: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>

Hi,
I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.

I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?

Thank you,
Ravi

	[[alternative HTML version deleted]]


From r@v|@v@r@dh@n @end|ng |rom jhu@edu  Sat Jul  1 19:46:43 2023
From: r@v|@v@r@dh@n @end|ng |rom jhu@edu (Ravi Varadhan)
Date: Sat, 1 Jul 2023 17:46:43 +0000
Subject: [R] Number of Cores limited to two in CRAN
In-Reply-To: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
References: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
Message-ID: <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>

This is the specific error messsage from R CMD check --as-cran


Error in .check_ncores(length(names)) : 16 simultaneous processes spawned
  Calls: prepost -> makeCluster -> makePSOCKcluster -> .check_ncores
  Execution halted


Thanks,
Ravi

________________________________
From: Ravi Varadhan
Sent: Saturday, July 1, 2023 1:15 PM
To: R-Help <r-help at r-project.org>
Subject: Number of Cores limited to two in CRAN

Hi,
I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.

I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?

Thank you,
Ravi

	[[alternative HTML version deleted]]


From henr|k@bengt@@on @end|ng |rom gm@||@com  Sun Jul  2 10:33:34 2023
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Sun, 2 Jul 2023 10:33:34 +0200
Subject: [R] Number of Cores limited to two in CRAN
In-Reply-To: <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>
References: <SJ0PR01MB6400F14976E2657491EF473CF22BA@SJ0PR01MB6400.prod.exchangelabs.com>
 <SJ0PR01MB6400A88A7DA6AFEE1C8DA7A0F22BA@SJ0PR01MB6400.prod.exchangelabs.com>
Message-ID: <CAFDcVCQ2Ej825e4q=A8pLUqvD9D-DN_PkUTUJQt1svWzLO-nTA@mail.gmail.com>

Short answer: You don't want to override that limit in your R package.
Don't do it.

Long answer: You'll find the reason for this in the 'CRAN Repository
Policy' (https://cran.r-project.org/web/packages/policies.html).
Specifically, the following passage:

"Checking the package should take as little CPU time as possible, as
the CRAN check farm is a very limited resource and there are thousands
of packages. Long-running tests and vignette code can be made optional
for checking, but do ensure that the checks that are left do exercise
all the features of the package.

**If running a package uses multiple threads/cores it must never use
more than two simultaneously: the check farm is a shared resource and
will typically be running many checks simultaneously.**

Examples should run for no more than a few seconds each: they are
intended to exemplify to the would-be user how to use the functions in
the package."

Basically, you can use two cores to demonstrate or validate (e.g. in
package tests) that your code *can* run in parallel, but you must not
use more than that to demonstrate that your code can "run super fast".

Even-longer answer: See my blog post 'Please Avoid detectCores() in
your R Packages' (https://www.jottr.org/2022/12/05/avoid-detectcores/)
from 2022-12-05 for even more reasons.

/Henrik

On Sun, Jul 2, 2023 at 9:55?AM Ravi Varadhan via R-help
<r-help at r-project.org> wrote:
>
> This is the specific error messsage from R CMD check --as-cran
>
>
> Error in .check_ncores(length(names)) : 16 simultaneous processes spawned
>   Calls: prepost -> makeCluster -> makePSOCKcluster -> .check_ncores
>   Execution halted
>
>
> Thanks,
> Ravi
>
> ________________________________
> From: Ravi Varadhan
> Sent: Saturday, July 1, 2023 1:15 PM
> To: R-Help <r-help at r-project.org>
> Subject: Number of Cores limited to two in CRAN
>
> Hi,
> I am developing a package where I would like to utilize multiple cores for parallel computing.  However, I get an error message when I run R CMD check --as-cran.
>
> I read that CRAN limits the number of cores to 2.  Is this correct? Is there any way to overcome this limitation?
>
> Thank you,
> Ravi
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


