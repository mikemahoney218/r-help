From t@n@@@ @end|ng |rom gm@||@com  Sun May  1 01:22:44 2022
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Sat, 30 Apr 2022 16:22:44 -0700
Subject: [R] hdf5 files
Message-ID: <CA+JEM03JtrYRPstfH_fxp60G-Mgd9fZbTWk7z+BV9-TT6Tbk4w@mail.gmail.com>

Dear all,

is there a way to read rge hd5 files in R without using hdf5r library ?

Thanks,

Bogdan

	[[alternative HTML version deleted]]


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sun May  1 14:36:54 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 1 May 2022 12:36:54 +0000
Subject: [R] struccchange on zoo time series
Message-ID: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>

I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R". ?This fit works when data input is an object of class ts, but not when data input is object of class zoo. ?I prefer to use zoo because it provides better housekeeping with dates. ?Is it possible to achieve the fit with zoo?

library(AER)
library(strucchange)

data(UKDriverDeaths)
dd <- log(UKDriverDeaths)
dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
? ? ? ? ? ? ? dd.lag12 = lag(dd.z, k = -12))

# Does not work
dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
? ? ? ? ? ? ? ?type = "OLS-CUSUM")
# Error message
# Error in eval(attr(mt, "variables")[[2]], data, env) : 
# numeric 'envir' arg not of length one

# Works
dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
? ? ? ? ? ? ? ?type = "OLS-CUSUM")

# But time stamps are lost
plot(dd.ocus)
# Time indexed from 0 to 180

Thanks,
Naresh

From er|cjberger @end|ng |rom gm@||@com  Sun May  1 16:18:54 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 17:18:54 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>

Hi Naresh,
The tsbox package on CRAN -
https://cran.r-project.org/web/packages/tsbox/index.html - has the
following description:

tsbox: Class-Agnostic Time Series

Time series toolkit with identical behavior for all time series
classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
between these classes.

Hopefully this will provide you the necessary tools to solve your problem.

Good luck,
Eric



On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com> wrote:
>
> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>
> library(AER)
> library(strucchange)
>
> data(UKDriverDeaths)
> dd <- log(UKDriverDeaths)
> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>               dd.lag12 = lag(dd.z, k = -12))
>
> # Does not work
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>                type = "OLS-CUSUM")
> # Error message
> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> # numeric 'envir' arg not of length one
>
> # Works
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>                type = "OLS-CUSUM")
>
> # But time stamps are lost
> plot(dd.ocus)
> # Time indexed from 0 to 180
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 16:53:33 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 16:53:33 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <f9eca0cf-b41f-9e89-7beb-fce16ce9d24@uibk.ac.at>

On Sun, 1 May 2022, Naresh Gurbuxani wrote:

> I am trying to replicate empirical fluctuation process fit (efp) 
> described in the book "Applied Econometrics with R". ?This fit works 
> when data input is an object of class ts, but not when data input is 
> object of class zoo. ?I prefer to use zoo because it provides better 
> housekeeping with dates. ?Is it possible to achieve the fit with zoo?

The efp() function has been written before zoo was available and is hence 
confined to ts objects. The gefp() function _g_enenralizes the efp idea 
and also works with zoo series out of the box - and also with models other 
than lm()..

Internally gefp always computes a score-based CUSUM process, based on 
which various structural change tests can be computed that encompass the 
OLS-based CUSUM test. Typically, I would recommend to compute the supLM 
test, though, which is more powerful against many structural change 
alternatives. See ?gefp and the references therein for more details. A 
worked example is included below.

> library(AER)
> library(strucchange)
>
> data(UKDriverDeaths)
> dd <- log(UKDriverDeaths)
> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> ? ? ? ? ? ? ? dd.lag12 = lag(dd.z, k = -12))

Then you can continue with the following for the full score-based CUSUM 
process and corresponding supLM test with 10% trimming:

dd.scus <- gefp(dd ~ dd.lag1 + dd.lag12, fit = lm, data = dd.z)
plot(dd.scus, functional = supLM(0.1))
sctest(dd.scus, functional = supLM(0.1))
## 	M-fluctuation test
## 
## data:  dd.scus
## f(efp) = 17.128, p-value = 0.01711

The OLS-based CUSUM test is also a special case but then you need to test 
just the first score without decorrelation:

dd.ocus <- gefp(dd ~ dd.lag1 + dd.lag12, fit = lm, data = dd.z,
   parm = 1, decorrelate = FALSE)
plot(dd.ocus)
sctest(dd.ocus)
## 	M-fluctuation test
## 
## data:  dd.ocus
## f(efp) = 1.4991, p-value = 0.02234

Compared to the book the results differ slightly due to different degrees 
of freedom adjustments that are used by default.

Best,
Achim

> # Does not work
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> ? ? ? ? ? ? ? ?type = "OLS-CUSUM")
> # Error message
> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> # numeric 'envir' arg not of length one
>
> # Works
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> ? ? ? ? ? ? ? ?type = "OLS-CUSUM")
>
> # But time stamps are lost
> plot(dd.ocus)
> # Time indexed from 0 to 180
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 16:56:18 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 16:56:18 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
Message-ID: <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>

On Sun, 1 May 2022, Eric Berger wrote:

> Hi Naresh,
> The tsbox package on CRAN -
> https://cran.r-project.org/web/packages/tsbox/index.html - has the
> following description:
>
> tsbox: Class-Agnostic Time Series
>
> Time series toolkit with identical behavior for all time series
> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> between these classes.
>
> Hopefully this will provide you the necessary tools to solve your problem.

Not really because the code inside strucchange::efp does not use tsbox but 
just ts directly.

Best,
Achim

> Good luck,
> Eric
>
>
>
> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> <naresh_gurbuxani at hotmail.com> wrote:
>>
>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>
>> library(AER)
>> library(strucchange)
>>
>> data(UKDriverDeaths)
>> dd <- log(UKDriverDeaths)
>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>               dd.lag12 = lag(dd.z, k = -12))
>>
>> # Does not work
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>                type = "OLS-CUSUM")
>> # Error message
>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>> # numeric 'envir' arg not of length one
>>
>> # Works
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>                type = "OLS-CUSUM")
>>
>> # But time stamps are lost
>> plot(dd.ocus)
>> # Time indexed from 0 to 180
>>
>> Thanks,
>> Naresh
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From er|cjberger @end|ng |rom gm@||@com  Sun May  1 16:58:52 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 17:58:52 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
Message-ID: <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>

Hi Achim,
My point was that tsbox (apparently) provides tools to convert zoo -->
ts which should help the OP.

On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>
> On Sun, 1 May 2022, Eric Berger wrote:
>
> > Hi Naresh,
> > The tsbox package on CRAN -
> > https://cran.r-project.org/web/packages/tsbox/index.html - has the
> > following description:
> >
> > tsbox: Class-Agnostic Time Series
> >
> > Time series toolkit with identical behavior for all time series
> > classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> > 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> > between these classes.
> >
> > Hopefully this will provide you the necessary tools to solve your problem.
>
> Not really because the code inside strucchange::efp does not use tsbox but
> just ts directly.
>
> Best,
> Achim
>
> > Good luck,
> > Eric
> >
> >
> >
> > On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> > <naresh_gurbuxani at hotmail.com> wrote:
> >>
> >> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
> >>
> >> library(AER)
> >> library(strucchange)
> >>
> >> data(UKDriverDeaths)
> >> dd <- log(UKDriverDeaths)
> >> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> >> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> >>               dd.lag12 = lag(dd.z, k = -12))
> >>
> >> # Does not work
> >> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> >>                type = "OLS-CUSUM")
> >> # Error message
> >> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> >> # numeric 'envir' arg not of length one
> >>
> >> # Works
> >> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> >>                type = "OLS-CUSUM")
> >>
> >> # But time stamps are lost
> >> plot(dd.ocus)
> >> # Time indexed from 0 to 180
> >>
> >> Thanks,
> >> Naresh
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 17:58:19 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 17:58:19 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
Message-ID: <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>

On Sun, 1 May 2022, Eric Berger wrote:

> Hi Achim,
> My point was that tsbox (apparently) provides tools to convert zoo -->
> ts which should help the OP.

Not necessarily, because ts can only represent regular and plain numeric 
time indexes whereas zoo (and also xts and tsibble) can represent 
irregular time indexes of different classes as well. Also, zoo (and also 
xts and tsibble) can convert to many other time series classes (including 
ts) directly, there is no need to go via tsbox for that.

In this particular case it would be possible, though, to convert back and 
forth between ts and zoo because the data is simply monthly. This can be 
done with as.ts() and as.zoo(), respectively.

dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
                type = "OLS-CUSUM")


> On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>>
>> On Sun, 1 May 2022, Eric Berger wrote:
>>
>>> Hi Naresh,
>>> The tsbox package on CRAN -
>>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
>>> following description:
>>>
>>> tsbox: Class-Agnostic Time Series
>>>
>>> Time series toolkit with identical behavior for all time series
>>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
>>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
>>> between these classes.
>>>
>>> Hopefully this will provide you the necessary tools to solve your problem.
>>
>> Not really because the code inside strucchange::efp does not use tsbox but
>> just ts directly.
>>
>> Best,
>> Achim
>>
>>> Good luck,
>>> Eric
>>>
>>>
>>>
>>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
>>> <naresh_gurbuxani at hotmail.com> wrote:
>>>>
>>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>>>
>>>> library(AER)
>>>> library(strucchange)
>>>>
>>>> data(UKDriverDeaths)
>>>> dd <- log(UKDriverDeaths)
>>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>>>               dd.lag12 = lag(dd.z, k = -12))
>>>>
>>>> # Does not work
>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>>>                type = "OLS-CUSUM")
>>>> # Error message
>>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>>>> # numeric 'envir' arg not of length one
>>>>
>>>> # Works
>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>>>                type = "OLS-CUSUM")
>>>>
>>>> # But time stamps are lost
>>>> plot(dd.ocus)
>>>> # Time indexed from 0 to 180
>>>>
>>>> Thanks,
>>>> Naresh
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>


From er|cjberger @end|ng |rom gm@||@com  Sun May  1 18:13:41 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 19:13:41 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
 <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
Message-ID: <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>

Thanks


On Sun, May 1, 2022 at 6:58 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>
> On Sun, 1 May 2022, Eric Berger wrote:
>
> > Hi Achim,
> > My point was that tsbox (apparently) provides tools to convert zoo -->
> > ts which should help the OP.
>
> Not necessarily, because ts can only represent regular and plain numeric
> time indexes whereas zoo (and also xts and tsibble) can represent
> irregular time indexes of different classes as well. Also, zoo (and also
> xts and tsibble) can convert to many other time series classes (including
> ts) directly, there is no need to go via tsbox for that.
>
> In this particular case it would be possible, though, to convert back and
> forth between ts and zoo because the data is simply monthly. This can be
> done with as.ts() and as.zoo(), respectively.
>
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
>                 type = "OLS-CUSUM")
>
>
> > On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
> >>
> >> On Sun, 1 May 2022, Eric Berger wrote:
> >>
> >>> Hi Naresh,
> >>> The tsbox package on CRAN -
> >>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
> >>> following description:
> >>>
> >>> tsbox: Class-Agnostic Time Series
> >>>
> >>> Time series toolkit with identical behavior for all time series
> >>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> >>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> >>> between these classes.
> >>>
> >>> Hopefully this will provide you the necessary tools to solve your problem.
> >>
> >> Not really because the code inside strucchange::efp does not use tsbox but
> >> just ts directly.
> >>
> >> Best,
> >> Achim
> >>
> >>> Good luck,
> >>> Eric
> >>>
> >>>
> >>>
> >>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> >>> <naresh_gurbuxani at hotmail.com> wrote:
> >>>>
> >>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
> >>>>
> >>>> library(AER)
> >>>> library(strucchange)
> >>>>
> >>>> data(UKDriverDeaths)
> >>>> dd <- log(UKDriverDeaths)
> >>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> >>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> >>>>               dd.lag12 = lag(dd.z, k = -12))
> >>>>
> >>>> # Does not work
> >>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> >>>>                type = "OLS-CUSUM")
> >>>> # Error message
> >>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> >>>> # numeric 'envir' arg not of length one
> >>>>
> >>>> # Works
> >>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> >>>>                type = "OLS-CUSUM")
> >>>>
> >>>> # But time stamps are lost
> >>>> plot(dd.ocus)
> >>>> # Time indexed from 0 to 180
> >>>>
> >>>> Thanks,
> >>>> Naresh
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >>>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sun May  1 18:23:06 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 1 May 2022 16:23:06 +0000
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
 <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
 <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>
Message-ID: <BL0PR01MB40364D14F4B9E7F14B432122FAFE9@BL0PR01MB4036.prod.exchangelabs.com>

Thanks all for detailed replies, which go beyond a narrow answer to my question.

Naresh

Sent from my iPhone

> On May 1, 2022, at 12:14 PM, Eric Berger <ericjberger at gmail.com> wrote:
> 
> Thanks
> 
> 
>> On Sun, May 1, 2022 at 6:58 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>> 
>>> On Sun, 1 May 2022, Eric Berger wrote:
>>> 
>>> Hi Achim,
>>> My point was that tsbox (apparently) provides tools to convert zoo -->
>>> ts which should help the OP.
>> 
>> Not necessarily, because ts can only represent regular and plain numeric
>> time indexes whereas zoo (and also xts and tsibble) can represent
>> irregular time indexes of different classes as well. Also, zoo (and also
>> xts and tsibble) can convert to many other time series classes (including
>> ts) directly, there is no need to go via tsbox for that.
>> 
>> In this particular case it would be possible, though, to convert back and
>> forth between ts and zoo because the data is simply monthly. This can be
>> done with as.ts() and as.zoo(), respectively.
>> 
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
>>                type = "OLS-CUSUM")
>> 
>> 
>>>> On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>>>> 
>>>>> On Sun, 1 May 2022, Eric Berger wrote:
>>>>> 
>>>>> Hi Naresh,
>>>>> The tsbox package on CRAN -
>>>>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
>>>>> following description:
>>>>> 
>>>>> tsbox: Class-Agnostic Time Series
>>>>> 
>>>>> Time series toolkit with identical behavior for all time series
>>>>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
>>>>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
>>>>> between these classes.
>>>>> 
>>>>> Hopefully this will provide you the necessary tools to solve your problem.
>>>> 
>>>> Not really because the code inside strucchange::efp does not use tsbox but
>>>> just ts directly.
>>>> 
>>>> Best,
>>>> Achim
>>>> 
>>>>> Good luck,
>>>>> Eric
>>>>> 
>>>>> 
>>>>> 
>>>>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
>>>>> <naresh_gurbuxani at hotmail.com> wrote:
>>>>>> 
>>>>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>>>>> 
>>>>>> library(AER)
>>>>>> library(strucchange)
>>>>>> 
>>>>>> data(UKDriverDeaths)
>>>>>> dd <- log(UKDriverDeaths)
>>>>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>>>>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>>>>>              dd.lag12 = lag(dd.z, k = -12))
>>>>>> 
>>>>>> # Does not work
>>>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>>>>>               type = "OLS-CUSUM")
>>>>>> # Error message
>>>>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>>>>>> # numeric 'envir' arg not of length one
>>>>>> 
>>>>>> # Works
>>>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>>>>>               type = "OLS-CUSUM")
>>>>>> 
>>>>>> # But time stamps are lost
>>>>>> plot(dd.ocus)
>>>>>> # Time indexed from 0 to 180
>>>>>> 
>>>>>> Thanks,
>>>>>> Naresh
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>> 
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>> 
>>> 


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May  2 10:26:01 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 2 May 2022 08:26:01 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <87zgk2oq0p.fsf@gmail.com>
References: <87zgk2oq0p.fsf@gmail.com>
Message-ID: <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>

Hallo

I do not have much experience with Linux, Rstudio and ESS, but you can
customise R startup by .Rprofile.site .Rconsole files which are situated in
/etc directory of your installation

You can find some info about it in Rintro chapter
10.8 Customizing the environment

Cheers
Petr
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Jeremie Juste
> Sent: Saturday, April 30, 2022 11:54 AM
> To: R-help at R-project.org
> Subject: [R] customizing edit.data.frame
> 
> Hello,
> 
> I was wondering how to customize the grid color of the GUI from the
> following command?
> 
> edit(data.frame())
> 
> The default grid color is red while on linux it is black. I also found out
that
> one can customize the mentioned color using the native R GUI in the menu
> preferences. After saving the preferences a file named Rconsole is
created.
> 
> I would like to know if there is a way to set the grid color directly when
> launching R from the terminal or RStudio or ESS?
> 
> Best regards,
> Jeremie
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Mon May  2 13:09:55 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Mon, 2 May 2022 11:09:55 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <87zgk2oq0p.fsf@gmail.com>
References: <87zgk2oq0p.fsf@gmail.com>
Message-ID: <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>

I would also love to find out how to make changes to the way edit() -- or in my case, View(), but that's presumably using the same resources -- looks under Linux. On my 4K display, the font size is so small as to be barely readable. I would assume this requires some adjustment to .Xresources, but I don't know what keys might be relevant. Searching through the source code didn't give me any clues. See also:

https://stackoverflow.com/questions/64459416/how-to-change-text-font-and-size-in-r-view

The only mention of Xresources I could find were under ?X11, but this pertains to plots, not edit() and View(). 

I asked about this on R-sig-Debian in 2017:

https://stat.ethz.ch/pipermail/r-sig-debian/2017-October/002776.html

I don't think I ever followed this up on R-devel (where maybe this belongs), so happy to move this there if nobody here has any suggestions.

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Jeremie Juste
>Sent: Saturday, 30 April, 2022 11:54
>To: R-help at R-project.org
>Subject: [R] customizing edit.data.frame
>
>Hello,
>
>I was wondering how to customize the grid color of the GUI from the following
>command?
>
>edit(data.frame())
>
>The default grid color is red while on linux it is black. I also found
>out that one can customize the mentioned color using the native R GUI in
>the menu preferences. After saving the preferences a file named Rconsole
>is created.
>
>I would like to know if there is a way to set the grid color directly
>when launching R from the terminal or RStudio or ESS?
>
>Best regards,
>Jeremie


From kry|ov@r00t @end|ng |rom gm@||@com  Mon May  2 15:30:44 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 2 May 2022 16:30:44 +0300
Subject: [R] customizing edit.data.frame
In-Reply-To: <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
References: <87zgk2oq0p.fsf@gmail.com>
 <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
Message-ID: <20220502163044.602d557b@trisector>

On Mon, 2 May 2022 11:09:55 +0000
"Viechtbauer, Wolfgang (NP)"
<wolfgang.viechtbauer at maastrichtuniversity.nl> wrote:

> I would also love to find out how to make changes to the way edit()
> -- or in my case, View(), but that's presumably using the same
> resources -- looks under Linux.

Looking at the source code [*], there is a way to set the font using an
undocumented option, but the its size is still hard-coded to "12 pt":
https://github.com/r-devel/r-svn/blob/d3e0e30f6da8ab81f24b04690a9a52d81603b189/src/modules/X11/dataentry.c#L1924

(Those are bitmap fonts intended for a fixed DPI which is likely
different from yours, which is why the font size measured in points is
wrong. I'm not an X11 expert, so I don't know whether this is possible,
but I've never seen these fonts packaged for more than 100 DPI.)

It's possible to get the desired result by passing a string with fixed
parameters instead of %s, %s, %d precisely in the right places, but
that's undefined behaviour and not intended to work this way:

stopifnot(l10n_info()$MBCS)
options(X11fonts = "-*-courier-%s-%s-*-*-34-*-*-*-*-*-*-*")
View(1)

(See the xfontsel command for what XLFD font names should look like and
X11Fonts() for what R expects to find in that option.)

-- 
Best regards,
Ivan


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Mon May  2 15:52:07 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Mon, 2 May 2022 13:52:07 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <20220502163044.602d557b@trisector>
References: <87zgk2oq0p.fsf@gmail.com>
 <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
 <20220502163044.602d557b@trisector>
Message-ID: <48957e76f5eb476ebfc9cdeaaca383c0@UM-MAIL3214.unimaas.nl>

Nice -- this is so much better for my aging eyes! Thanks!

In the long run, would be nice if there was an 'official' way of adjusting the font size under X11.

Best,
Wolfgang

>-----Original Message-----
>From: Ivan Krylov [mailto:krylov.r00t at gmail.com]
>Sent: Monday, 02 May, 2022 15:31
>To: Viechtbauer, Wolfgang (NP)
>Cc: R-help at R-project.org
>Subject: Re: [R] customizing edit.data.frame
>
>On Mon, 2 May 2022 11:09:55 +0000
>"Viechtbauer, Wolfgang (NP)"
><wolfgang.viechtbauer at maastrichtuniversity.nl> wrote:
>
>> I would also love to find out how to make changes to the way edit()
>> -- or in my case, View(), but that's presumably using the same
>> resources -- looks under Linux.
>
>Looking at the source code [*], there is a way to set the font using an
>undocumented option, but the its size is still hard-coded to "12 pt":
>https://github.com/r-devel/r-
>svn/blob/d3e0e30f6da8ab81f24b04690a9a52d81603b189/src/modules/X11/dataentry.c#L19
>24
>
>(Those are bitmap fonts intended for a fixed DPI which is likely
>different from yours, which is why the font size measured in points is
>wrong. I'm not an X11 expert, so I don't know whether this is possible,
>but I've never seen these fonts packaged for more than 100 DPI.)
>
>It's possible to get the desired result by passing a string with fixed
>parameters instead of %s, %s, %d precisely in the right places, but
>that's undefined behaviour and not intended to work this way:
>
>stopifnot(l10n_info()$MBCS)
>options(X11fonts = "-*-courier-%s-%s-*-*-34-*-*-*-*-*-*-*")
>View(1)
>
>(See the xfontsel command for what XLFD font names should look like and
>X11Fonts() for what R expects to find in that option.)
>
>--
>Best regards,
>Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Mon May  2 21:37:46 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 2 May 2022 22:37:46 +0300
Subject: [R] alist() and missing variables
Message-ID: <20220502223746.23ae8865@trisector>

Hi,

I've been playing around with formals() and stumbled upon some
behaviour which surprised me:

a <- alist(x=)
.Internal(inspect(a$x))
# @55b0ebae67b0 01 SYMSXP g0c0 [MARK,REF(5761)] "" (has value)
x <- a$x
.Internal(inspect(x))
# Error: argument "x" is missing, with no default
missing(x)
[1] TRUE

Apparently, the elements corresponding to formal arguments without a
default value can be passed to functions as arguments (and look like
empty symbols, which can't be created by as.symbol()), but when
assigned to a variable, they turn missing and can't be accessed.

How can I safely detect and work with such values?

-- 
Best regards,
Ivan


From iuke-tier@ey m@iii@g oii uiow@@edu  Mon May  2 22:07:39 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Mon, 2 May 2022 15:07:39 -0500 (CDT)
Subject: [R] [External]  alist() and missing variables
In-Reply-To: <20220502223746.23ae8865@trisector>
References: <20220502223746.23ae8865@trisector>
Message-ID: <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>

On Mon, 2 May 2022, Ivan Krylov wrote:

> Hi,
>
> I've been playing around with formals() and stumbled upon some
> behaviour which surprised me:
>
> a <- alist(x=)
> .Internal(inspect(a$x))
> # @55b0ebae67b0 01 SYMSXP g0c0 [MARK,REF(5761)] "" (has value)
> x <- a$x
> .Internal(inspect(x))
> # Error: argument "x" is missing, with no default
> missing(x)
> [1] TRUE
>
> Apparently, the elements corresponding to formal arguments without a
> default value can be passed to functions as arguments (and look like
> empty symbols, which can't be created by as.symbol()), but when
> assigned to a variable, they turn missing and can't be accessed.
>
> How can I safely detect and work with such values?

You can detect them as you did here using missing(). This is what the
byte code compiler implementation does.
[https://homepage.stat.uiowa.edu/~luke/R/compiler/compiler.pdf]

It's not ideal but it's what we have and not likely to change any time
soon.

Best,

luke

>
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 03:45:40 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 18:45:40 -0700
Subject: [R] Somewhat disconcerting behavior of seq.int()
Message-ID: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>

** Disconcerting to me, anyway; perhaps not to others**
(Apologies if this has been discussed before. I was a bit nonplussed by
it, but maybe I'm just clueless.) Anyway:

Here are two almost identical versions of the Sieve of Eratosthenes.
The difference between them is only in the call to seq.int() that is
highlighted

sieve1 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
####################
   s <- seq.int(2, to = m) ## Only difference here
######################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
####################
   s <- seq.int(2, to = m, by =1) ## Only difference here
#######################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

However, execution time is *quite* different.

library(microbenchmark)

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean  median       uq      max
 l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
 neval
    50

> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr      min      lq     mean   median       uq      max
 l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
 neval
    50

Now note that:
> identical(l1, l2)
[1] FALSE

## Because:
> str(l1)
 int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...

> str(l2)
 num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...

I therefore assume that seq.int(), an internal generic, is dispatching
to a method that uses integer arithmetic for sieve1 and floating point
for sieve2. Is this correct? If not, what do I fail to understand? And
is this indeed the source of the large difference in execution time?

Further, ?seq.int says:
"The interpretation of the unnamed arguments of seq and seq.int is not
standard, and it is recommended always to name the arguments when
programming."

The above suggests that maybe this advice should be qualified, and/or
adding some comments to the Help file regarding this behavior might be
useful to na?fs like me.

In case it makes a difference (and it might!):

> sessionInfo()
R version 4.2.0 (2022-04-22)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Monterey 12.3.1

Matrix products: default
LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] microbenchmark_1.4.9

loaded via a namespace (and not attached):
[1] compiler_4.2.0 tools_4.2.0


Thanks for any enlightenment and again apologies if I am plowing old ground.

Best to all,

Bert Gunter


From @kw@|mmo @end|ng |rom gm@||@com  Tue May  3 04:00:36 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Mon, 2 May 2022 22:00:36 -0400
Subject: [R] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
Message-ID: <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>

A sequence where 'from' and 'to' are both integer valued (not necessarily
class integer) will use R_compact_intrange; the return value is an integer
vector and is stored with minimal space.

In your case, you specified a 'from', 'to', and 'by'; if all are integer
class, then the return value is also integer class. I think if 'from' and
'to' are integer valued and 'by' is integer class, the return value is
integer class, might want to check that though. In your case, I think
replacing 'by = 1' with 'by = 1L' will mean the sequences are identical,
though it may still take longer than not specifying at all.

On Mon, May 2, 2022, 21:46 Bert Gunter <bgunter.4567 at gmail.com> wrote:

> ** Disconcerting to me, anyway; perhaps not to others**
> (Apologies if this has been discussed before. I was a bit nonplussed by
> it, but maybe I'm just clueless.) Anyway:
>
> Here are two almost identical versions of the Sieve of Eratosthenes.
> The difference between them is only in the call to seq.int() that is
> highlighted
>
> sieve1 <- function(m){
>    if(m < 2) return(NULL)
>    a <- floor(sqrt(m))
>    pr <- Recall(a)
> ####################
>    s <- seq.int(2, to = m) ## Only difference here
> ######################
>    for( i in pr) s <- s[as.logical(s %% i)]
>    c(pr,s)
> }
>
> sieve2 <- function(m){
>    if(m < 2) return(NULL)
>    a <- floor(sqrt(m))
>    pr <- Recall(a)
> ####################
>    s <- seq.int(2, to = m, by =1) ## Only difference here
> #######################
>    for( i in pr) s <- s[as.logical(s %% i)]
>    c(pr,s)
> }
>
> However, execution time is *quite* different.
>
> library(microbenchmark)
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                 expr      min       lq     mean  median       uq      max
>  l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
>  neval
>     50
>
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                 expr      min      lq     mean   median       uq      max
>  l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
>  neval
>     50
>
> Now note that:
> > identical(l1, l2)
> [1] FALSE
>
> ## Because:
> > str(l1)
>  int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> > str(l2)
>  num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> I therefore assume that seq.int(), an internal generic, is dispatching
> to a method that uses integer arithmetic for sieve1 and floating point
> for sieve2. Is this correct? If not, what do I fail to understand? And
> is this indeed the source of the large difference in execution time?
>
> Further, ?seq.int says:
> "The interpretation of the unnamed arguments of seq and seq.int is not
> standard, and it is recommended always to name the arguments when
> programming."
>
> The above suggests that maybe this advice should be qualified, and/or
> adding some comments to the Help file regarding this behavior might be
> useful to na?fs like me.
>
> In case it makes a difference (and it might!):
>
> > sessionInfo()
> R version 4.2.0 (2022-04-22)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Monterey 12.3.1
>
> Matrix products: default
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] microbenchmark_1.4.9
>
> loaded via a namespace (and not attached):
> [1] compiler_4.2.0 tools_4.2.0
>
>
> Thanks for any enlightenment and again apologies if I am plowing old
> ground.
>
> Best to all,
>
> Bert Gunter
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 05:02:16 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 20:02:16 -0700
Subject: [R] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>
Message-ID: <CAGxFJbQFGDJkvoRcLEurqAP0pRE9DF1pqvB508fhznQK06afZg@mail.gmail.com>

Thank you Andrew.

My response is: not quite, but you essentially explained it. Just
replacing "by = 1" by "by = 1L" was not sufficient (I had actually
tried that). But what I really needed to do was add an explicit cast
of the sieve2 sequence to integer:

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
###################### explicit cast
   s <- as.integer(seq.int(2L, to = m, by =1)) ## Only difference here
#####################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean   median       uq
 l1 <- sieve1(1e+05) 3.957168 4.001834 4.772071 4.018396 4.538917
      max neval
 8.135334    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr     min       lq     mean   median       uq   max
 l2 <- sieve2(1e+05) 3.98475 4.041709 4.805767 4.068167 4.446917 8.422
 neval
    50
> identical(l1,l2)
[1] TRUE
> identical(l1,l2)
[1] TRUE

So it is the %% generic that made the difference in timings in integer
vs. double. And the Help file does warn about this:

VALUE:
"seq.int and the default method of seq for numeric arguments return a
vector of type "integer" or "double": programmers should not rely on
which."

So I would have to say that it was my error (or failure to pay
attention, anyway).

Again, thanks for your help on this. It made the difference for me.

Bert

On Mon, May 2, 2022 at 7:00 PM Andrew Simmons <akwsimmo at gmail.com> wrote:
>
> A sequence where 'from' and 'to' are both integer valued (not necessarily class integer) will use R_compact_intrange; the return value is an integer vector and is stored with minimal space.
>
> In your case, you specified a 'from', 'to', and 'by'; if all are integer class, then the return value is also integer class. I think if 'from' and 'to' are integer valued and 'by' is integer class, the return value is integer class, might want to check that though. In your case, I think replacing 'by = 1' with 'by = 1L' will mean the sequences are identical, though it may still take longer than not specifying at all.
>
> On Mon, May 2, 2022, 21:46 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> ** Disconcerting to me, anyway; perhaps not to others**
>> (Apologies if this has been discussed before. I was a bit nonplussed by
>> it, but maybe I'm just clueless.) Anyway:
>>
>> Here are two almost identical versions of the Sieve of Eratosthenes.
>> The difference between them is only in the call to seq.int() that is
>> highlighted
>>
>> sieve1 <- function(m){
>>    if(m < 2) return(NULL)
>>    a <- floor(sqrt(m))
>>    pr <- Recall(a)
>> ####################
>>    s <- seq.int(2, to = m) ## Only difference here
>> ######################
>>    for( i in pr) s <- s[as.logical(s %% i)]
>>    c(pr,s)
>> }
>>
>> sieve2 <- function(m){
>>    if(m < 2) return(NULL)
>>    a <- floor(sqrt(m))
>>    pr <- Recall(a)
>> ####################
>>    s <- seq.int(2, to = m, by =1) ## Only difference here
>> #######################
>>    for( i in pr) s <- s[as.logical(s %% i)]
>>    c(pr,s)
>> }
>>
>> However, execution time is *quite* different.
>>
>> library(microbenchmark)
>>
>> > microbenchmark(l1 <- sieve1(1e5), times =50)
>> Unit: milliseconds
>>                 expr      min       lq     mean  median       uq      max
>>  l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
>>  neval
>>     50
>>
>> > microbenchmark(l2 <- sieve2(1e5), times =50)
>> Unit: milliseconds
>>                 expr      min      lq     mean   median       uq      max
>>  l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
>>  neval
>>     50
>>
>> Now note that:
>> > identical(l1, l2)
>> [1] FALSE
>>
>> ## Because:
>> > str(l1)
>>  int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>>
>> > str(l2)
>>  num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>>
>> I therefore assume that seq.int(), an internal generic, is dispatching
>> to a method that uses integer arithmetic for sieve1 and floating point
>> for sieve2. Is this correct? If not, what do I fail to understand? And
>> is this indeed the source of the large difference in execution time?
>>
>> Further, ?seq.int says:
>> "The interpretation of the unnamed arguments of seq and seq.int is not
>> standard, and it is recommended always to name the arguments when
>> programming."
>>
>> The above suggests that maybe this advice should be qualified, and/or
>> adding some comments to the Help file regarding this behavior might be
>> useful to na?fs like me.
>>
>> In case it makes a difference (and it might!):
>>
>> > sessionInfo()
>> R version 4.2.0 (2022-04-22)
>> Platform: x86_64-apple-darwin17.0 (64-bit)
>> Running under: macOS Monterey 12.3.1
>>
>> Matrix products: default
>> LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] microbenchmark_1.4.9
>>
>> loaded via a namespace (and not attached):
>> [1] compiler_4.2.0 tools_4.2.0
>>
>>
>> Thanks for any enlightenment and again apologies if I am plowing old ground.
>>
>> Best to all,
>>
>> Bert Gunter
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From iuke-tier@ey m@iii@g oii uiow@@edu  Tue May  3 05:52:56 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Mon, 2 May 2022 22:52:56 -0500 (CDT)
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
Message-ID: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>

Something is very different about your system. On my Linux system I get

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                 expr     min       lq     mean   median       uq     max neval
  l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                 expr      min       lq     mean   median      uq      max neval
  l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50

Similar on an Intel Mac.

Best,

luke

On Tue, 3 May 2022, Bert Gunter wrote:

> ** Disconcerting to me, anyway; perhaps not to others**
> (Apologies if this has been discussed before. I was a bit nonplussed by
> it, but maybe I'm just clueless.) Anyway:
>
> Here are two almost identical versions of the Sieve of Eratosthenes.
> The difference between them is only in the call to seq.int() that is
> highlighted
>
> sieve1 <- function(m){
>   if(m < 2) return(NULL)
>   a <- floor(sqrt(m))
>   pr <- Recall(a)
> ####################
>   s <- seq.int(2, to = m) ## Only difference here
> ######################
>   for( i in pr) s <- s[as.logical(s %% i)]
>   c(pr,s)
> }
>
> sieve2 <- function(m){
>   if(m < 2) return(NULL)
>   a <- floor(sqrt(m))
>   pr <- Recall(a)
> ####################
>   s <- seq.int(2, to = m, by =1) ## Only difference here
> #######################
>   for( i in pr) s <- s[as.logical(s %% i)]
>   c(pr,s)
> }
>
> However, execution time is *quite* different.
>
> library(microbenchmark)
>
>> microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                expr      min       lq     mean  median       uq      max
> l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> neval
>    50
>
>> microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                expr      min      lq     mean   median       uq      max
> l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> neval
>    50
>
> Now note that:
>> identical(l1, l2)
> [1] FALSE
>
> ## Because:
>> str(l1)
> int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
>> str(l2)
> num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> I therefore assume that seq.int(), an internal generic, is dispatching
> to a method that uses integer arithmetic for sieve1 and floating point
> for sieve2. Is this correct? If not, what do I fail to understand? And
> is this indeed the source of the large difference in execution time?
>
> Further, ?seq.int says:
> "The interpretation of the unnamed arguments of seq and seq.int is not
> standard, and it is recommended always to name the arguments when
> programming."
>
> The above suggests that maybe this advice should be qualified, and/or
> adding some comments to the Help file regarding this behavior might be
> useful to na?fs like me.
>
> In case it makes a difference (and it might!):
>
>> sessionInfo()
> R version 4.2.0 (2022-04-22)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Monterey 12.3.1
>
> Matrix products: default
> LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] microbenchmark_1.4.9
>
> loaded via a namespace (and not attached):
> [1] compiler_4.2.0 tools_4.2.0
>
>
> Thanks for any enlightenment and again apologies if I am plowing old ground.
>
> Best to all,
>
> Bert Gunter
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 06:37:37 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 21:37:37 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
Message-ID: <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>

Well, I'm on an M1 Mac, so that is certainly different than either of
your systems. I installed the precompiled binary, which may also have
something to do with it. Whether these make a difference I have no
clue.

However, the fact remains that the Help file *does* warn that the type
of the seq.int() value is essentially indeterminate, and when I
explicitly cast it to integer, all is well. So mea culpa.

I will fool around some tomorrow with more careful profiling to see if
I can learn anything, but the best I say at present is: it is what it
is. Unless, of course, someone provides an answer before then.

Bert Gunter


On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
>
> Something is very different about your system. On my Linux system I get
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                  expr     min       lq     mean   median       uq     max neval
>   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                  expr      min       lq     mean   median      uq      max neval
>   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
>
> Similar on an Intel Mac.
>
> Best,
>
> luke
>
> On Tue, 3 May 2022, Bert Gunter wrote:
>
> > ** Disconcerting to me, anyway; perhaps not to others**
> > (Apologies if this has been discussed before. I was a bit nonplussed by
> > it, but maybe I'm just clueless.) Anyway:
> >
> > Here are two almost identical versions of the Sieve of Eratosthenes.
> > The difference between them is only in the call to seq.int() that is
> > highlighted
> >
> > sieve1 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m) ## Only difference here
> > ######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > sieve2 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > #######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > However, execution time is *quite* different.
> >
> > library(microbenchmark)
> >
> >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                expr      min       lq     mean  median       uq      max
> > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > neval
> >    50
> >
> >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                expr      min      lq     mean   median       uq      max
> > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > neval
> >    50
> >
> > Now note that:
> >> identical(l1, l2)
> > [1] FALSE
> >
> > ## Because:
> >> str(l1)
> > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> >> str(l2)
> > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> > I therefore assume that seq.int(), an internal generic, is dispatching
> > to a method that uses integer arithmetic for sieve1 and floating point
> > for sieve2. Is this correct? If not, what do I fail to understand? And
> > is this indeed the source of the large difference in execution time?
> >
> > Further, ?seq.int says:
> > "The interpretation of the unnamed arguments of seq and seq.int is not
> > standard, and it is recommended always to name the arguments when
> > programming."
> >
> > The above suggests that maybe this advice should be qualified, and/or
> > adding some comments to the Help file regarding this behavior might be
> > useful to na?fs like me.
> >
> > In case it makes a difference (and it might!):
> >
> >> sessionInfo()
> > R version 4.2.0 (2022-04-22)
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> > Running under: macOS Monterey 12.3.1
> >
> > Matrix products: default
> > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] microbenchmark_1.4.9
> >
> > loaded via a namespace (and not attached):
> > [1] compiler_4.2.0 tools_4.2.0
> >
> >
> > Thanks for any enlightenment and again apologies if I am plowing old ground.
> >
> > Best to all,
> >
> > Bert Gunter
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Luke Tierney
> Ralph E. Wareham Professor of Mathematical Sciences
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>     Actuarial Science
> 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 07:08:48 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 22:08:48 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
Message-ID: <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>

Just confirming that it's %% in integers vs. doubles on my system:

> s1 <- seq.int(2, 1e5, by =1) ## doubles
> s2 = as.integer(s1)

##  **Note units below**

> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
Unit: milliseconds
        expr      min       lq    mean   median       uq      max neval
 v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50

> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
Unit: microseconds
         expr     min      lq     mean   median      uq     max neval
 v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50

I have no idea why the big difference, but I am pretty sure it's way
beyond me. Maybe Mac gurus can figure it out. I may post this on
r-sig-mac to see.

Bert

On Mon, May 2, 2022 at 9:37 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> Well, I'm on an M1 Mac, so that is certainly different than either of
> your systems. I installed the precompiled binary, which may also have
> something to do with it. Whether these make a difference I have no
> clue.
>
> However, the fact remains that the Help file *does* warn that the type
> of the seq.int() value is essentially indeterminate, and when I
> explicitly cast it to integer, all is well. So mea culpa.
>
> I will fool around some tomorrow with more careful profiling to see if
> I can learn anything, but the best I say at present is: it is what it
> is. Unless, of course, someone provides an answer before then.
>
> Bert Gunter
>
>
> On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
> >
> > Something is very different about your system. On my Linux system I get
> >
> > > microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                  expr     min       lq     mean   median       uq     max neval
> >   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > > microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                  expr      min       lq     mean   median      uq      max neval
> >   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
> >
> > Similar on an Intel Mac.
> >
> > Best,
> >
> > luke
> >
> > On Tue, 3 May 2022, Bert Gunter wrote:
> >
> > > ** Disconcerting to me, anyway; perhaps not to others**
> > > (Apologies if this has been discussed before. I was a bit nonplussed by
> > > it, but maybe I'm just clueless.) Anyway:
> > >
> > > Here are two almost identical versions of the Sieve of Eratosthenes.
> > > The difference between them is only in the call to seq.int() that is
> > > highlighted
> > >
> > > sieve1 <- function(m){
> > >   if(m < 2) return(NULL)
> > >   a <- floor(sqrt(m))
> > >   pr <- Recall(a)
> > > ####################
> > >   s <- seq.int(2, to = m) ## Only difference here
> > > ######################
> > >   for( i in pr) s <- s[as.logical(s %% i)]
> > >   c(pr,s)
> > > }
> > >
> > > sieve2 <- function(m){
> > >   if(m < 2) return(NULL)
> > >   a <- floor(sqrt(m))
> > >   pr <- Recall(a)
> > > ####################
> > >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > > #######################
> > >   for( i in pr) s <- s[as.logical(s %% i)]
> > >   c(pr,s)
> > > }
> > >
> > > However, execution time is *quite* different.
> > >
> > > library(microbenchmark)
> > >
> > >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > > Unit: milliseconds
> > >                expr      min       lq     mean  median       uq      max
> > > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > > neval
> > >    50
> > >
> > >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > > Unit: milliseconds
> > >                expr      min      lq     mean   median       uq      max
> > > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > > neval
> > >    50
> > >
> > > Now note that:
> > >> identical(l1, l2)
> > > [1] FALSE
> > >
> > > ## Because:
> > >> str(l1)
> > > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> > >
> > >> str(l2)
> > > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> > >
> > > I therefore assume that seq.int(), an internal generic, is dispatching
> > > to a method that uses integer arithmetic for sieve1 and floating point
> > > for sieve2. Is this correct? If not, what do I fail to understand? And
> > > is this indeed the source of the large difference in execution time?
> > >
> > > Further, ?seq.int says:
> > > "The interpretation of the unnamed arguments of seq and seq.int is not
> > > standard, and it is recommended always to name the arguments when
> > > programming."
> > >
> > > The above suggests that maybe this advice should be qualified, and/or
> > > adding some comments to the Help file regarding this behavior might be
> > > useful to na?fs like me.
> > >
> > > In case it makes a difference (and it might!):
> > >
> > >> sessionInfo()
> > > R version 4.2.0 (2022-04-22)
> > > Platform: x86_64-apple-darwin17.0 (64-bit)
> > > Running under: macOS Monterey 12.3.1
> > >
> > > Matrix products: default
> > > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> > >
> > > locale:
> > > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> > >
> > > attached base packages:
> > > [1] stats     graphics  grDevices utils     datasets  methods   base
> > >
> > > other attached packages:
> > > [1] microbenchmark_1.4.9
> > >
> > > loaded via a namespace (and not attached):
> > > [1] compiler_4.2.0 tools_4.2.0
> > >
> > >
> > > Thanks for any enlightenment and again apologies if I am plowing old ground.
> > >
> > > Best to all,
> > >
> > > Bert Gunter
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> > --
> > Luke Tierney
> > Ralph E. Wareham Professor of Mathematical Sciences
> > University of Iowa                  Phone:             319-335-3386
> > Department of Statistics and        Fax:               319-335-3017
> >     Actuarial Science
> > 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> > Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From @te|@nML @end|ng |rom co||oc@t|on@@de  Tue May  3 09:25:46 2022
From: @te|@nML @end|ng |rom co||oc@t|on@@de (Stephanie Evert)
Date: Tue, 3 May 2022 09:25:46 +0200
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
Message-ID: <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>



> On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
>> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> Unit: milliseconds
>        expr      min       lq    mean   median       uq      max neval
> v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> 
>> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> Unit: microseconds
>         expr     min      lq     mean   median      uq     max neval
> v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> 
> I have no idea why the big difference, but I am pretty sure it's way
> beyond me. Maybe Mac gurus can figure it out. I may post this on
> r-sig-mac to see.

Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.

Why not try with a native M1 version of R?

Best,
Stephanie

From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 16:41:33 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 07:41:33 -0700
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
Message-ID: <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>

Thank you. But the binary I installed *was* the "Apple silicon arm64
build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert
<stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >        expr      min       lq    mean   median       uq      max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> > Unit: microseconds
> >         expr     min      lq     mean   median      uq     max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> >
> > I have no idea why the big difference, but I am pretty sure it's way
> > beyond me. Maybe Mac gurus can figure it out. I may post this on
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie


From myer9108 @end|ng |rom v@nd@|@@u|d@ho@edu  Mon May  2 19:50:50 2022
From: myer9108 @end|ng |rom v@nd@|@@u|d@ho@edu (Myers, Cheyanne (myer9108@vandals.uidaho.edu))
Date: Mon, 2 May 2022 17:50:50 +0000
Subject: [R] Gas Flux Equation
Message-ID: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>

Hello

i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.

Thank you,

CHEYANNE MYERS, B. S.
Graduate Research Associate

College of Agricultural and Life Sciences
Animal Vet and Food Sciences
Office: 223G
Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
208-812-2414 (Cell)

[University of Idaho]


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 17:23:42 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 08:23:42 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
Message-ID: <CAGxFJbRZh_L2B0sMwtQ83LWQgkjTRprVUTiby7QrErG++M6Kcg@mail.gmail.com>

I resolved the problem by reinstalling R. See below. No clue as to
what may have been the cause (just an ignorant wild guess that is not
worth sharing).

Thanks again to all for your help.
Bert

> s1 <- seq.int(2, 1e5, by =1)
> s2 = as.integer(s1)
>
> microbenchmark( v1 <- s1 %% 2, times = 50)
Unit: microseconds
        expr     min      lq     mean   median      uq     max neval
 v1 <- s1%%2 396.839 410.943 433.6234 432.3245 457.068 491.057    50
> microbenchmark( v2 <- s2 %% 2L, times = 50)
Unit: microseconds
         expr     min      lq     mean  median      uq    max neval
 v2 <- s2%%2L 145.837 150.019 159.5441 162.032 164.943 177.12    50


sieve1 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
   s <- seq.int(2, to = m) ## Only difference here
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
   s <-seq.int(2L, to = m, by =1) ## Only difference here
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr     min       lq     mean  median       uq      max
 l1 <- sieve1(1e+05) 3.69533 4.068307 5.679122 4.28327 7.561425 10.07493
 neval
    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean   median       uq
 l2 <- sieve2(1e+05) 5.367679 6.128229 8.013111 8.940788 9.430246
      max neval
 11.52822    50

On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
>
> Something is very different about your system. On my Linux system I get
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                  expr     min       lq     mean   median       uq     max neval
>   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                  expr      min       lq     mean   median      uq      max neval
>   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
>
> Similar on an Intel Mac.
>
> Best,
>
> luke
>
> On Tue, 3 May 2022, Bert Gunter wrote:
>
> > ** Disconcerting to me, anyway; perhaps not to others**
> > (Apologies if this has been discussed before. I was a bit nonplussed by
> > it, but maybe I'm just clueless.) Anyway:
> >
> > Here are two almost identical versions of the Sieve of Eratosthenes.
> > The difference between them is only in the call to seq.int() that is
> > highlighted
> >
> > sieve1 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m) ## Only difference here
> > ######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > sieve2 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > #######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > However, execution time is *quite* different.
> >
> > library(microbenchmark)
> >
> >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                expr      min       lq     mean  median       uq      max
> > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > neval
> >    50
> >
> >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                expr      min      lq     mean   median       uq      max
> > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > neval
> >    50
> >
> > Now note that:
> >> identical(l1, l2)
> > [1] FALSE
> >
> > ## Because:
> >> str(l1)
> > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> >> str(l2)
> > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> > I therefore assume that seq.int(), an internal generic, is dispatching
> > to a method that uses integer arithmetic for sieve1 and floating point
> > for sieve2. Is this correct? If not, what do I fail to understand? And
> > is this indeed the source of the large difference in execution time?
> >
> > Further, ?seq.int says:
> > "The interpretation of the unnamed arguments of seq and seq.int is not
> > standard, and it is recommended always to name the arguments when
> > programming."
> >
> > The above suggests that maybe this advice should be qualified, and/or
> > adding some comments to the Help file regarding this behavior might be
> > useful to na?fs like me.
> >
> > In case it makes a difference (and it might!):
> >
> >> sessionInfo()
> > R version 4.2.0 (2022-04-22)
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> > Running under: macOS Monterey 12.3.1
> >
> > Matrix products: default
> > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] microbenchmark_1.4.9
> >
> > loaded via a namespace (and not attached):
> > [1] compiler_4.2.0 tools_4.2.0
> >
> >
> > Thanks for any enlightenment and again apologies if I am plowing old ground.
> >
> > Best to all,
> >
> > Bert Gunter
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Luke Tierney
> Ralph E. Wareham Professor of Mathematical Sciences
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>     Actuarial Science
> 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue May  3 17:29:15 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 03 May 2022 08:29:15 -0700
Subject: [R] Gas Flux Equation
In-Reply-To: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
References: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
Message-ID: <59FE3E7D-9F31-4031-9A6A-E36AA95C57EB@dcn.davis.ca.us>

Unlikely, but you can download the source file for the package and read it for yourself if it is not in the help file.

On May 2, 2022 10:50:50 AM PDT, "Myers, Cheyanne (myer9108--- via R-help" <r-help at r-project.org> wrote:
>Hello
>
>i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.
>
>Thank you,
>
>CHEYANNE MYERS, B. S.
>Graduate Research Associate
>
>College of Agricultural and Life Sciences
>Animal Vet and Food Sciences
>Office: 223G
>Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
>208-812-2414 (Cell)
>
>[University of Idaho]
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 17:29:46 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 08:29:46 -0700
Subject: [R] Gas Flux Equation
In-Reply-To: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
References: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
Message-ID: <CAGxFJbSajUvgbYuZV_U9Q=YA2MNkvUm1Ra1cM5Y9xv0VGvfJFA@mail.gmail.com>

?HMR.fit appeared to contain (at least part of) what you asked for.
Have you checked the package documentation, including the package
vignette?

Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Tue, May 3, 2022 at 8:15 AM Myers, Cheyanne (myer9108--- via R-help
<r-help at r-project.org> wrote:
>
> Hello
>
> i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.
>
> Thank you,
>
> CHEYANNE MYERS, B. S.
> Graduate Research Associate
>
> College of Agricultural and Life Sciences
> Animal Vet and Food Sciences
> Office: 223G
> Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
> 208-812-2414 (Cell)
>
> [University of Idaho]
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Tue May  3 17:46:38 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Tue, 3 May 2022 15:46:38 +0000 (UTC)
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
 <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
Message-ID: <1496634189.2231752.1651592798084@mail.yahoo.com>

I ahve no comment on what version of the software on what machine architecture might cause the issue?mentioned with differences in speed.
I have a more general question about increments.
The issue here is about creating a sequence starting at some value and ending no later than?another value with an optional step size for the increment that by default is exactly 1.
So how would you normally do this and does it matter?
In some languages like C, the increment can be done many ways including val++, or?val += 1, or val = val +1 ...
Those could produce identical code or different code. The compiler may optimize it or?go and evaluate things twice at times. You might have hardware that contains a registerthat has a rapid increment by 1 instruction built in but not for a decrement by one, let alone?increment by 12.?
And as has been discussed here, data types of various size ints (or float representations?of an integer) may need all kinds of conversions to operate on the same playing field. Who?hasn't used a language where a boolean value can be treated like a zero or a one but stored?compactly and yet if it is added to a large integer, needs some conversions?
How many assumptions can we really make about how someone wrote a function we use??Is it possible that the programmer for something like seq.int() decided to optimize their code.perhaps written in a dialect of C, so that when the default for "by=" is not mentioned, it increments?using val++ while if it is specified even as "by=1" it switches to incrementing using something?like "val = val + by" which may turn out to be slower?
I end by saying I am NOT talking about the complaint here as it seems likely to be specific?to their setup. But more globally, it is possible that choices in how something is programmed?can affect the outcome and assuming it was done the way you would is not always?warranted. Languages that are more flexible, such as interpreted languages that allow?many kinds of polymorphism can be very nice but with lots of overhead as underneath it?all, the deeper programming levels require precision and for each part to be exactly what fits?at that point. You can choose to store your numbers in various size containers, but at some level?they tend to e unpacked and converted before being handed to something in software or hardware?that expects EXACTLY one way. You may save on storage but sacrifice speed or other things.



-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Stephanie Evert <stefanML at collocations.de>
Cc: R-help Mailing List <R-help at r-project.org>
Sent: Tue, May 3, 2022 10:41 am
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

Thank you. But the binary I installed *was* the "Apple silicon arm64
build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert
<stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >? ? ? ? expr? ? ? min? ? ? lq? ? mean? median? ? ? uq? ? ? max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125? ? 50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)? ## integer
> > Unit: microseconds
> >? ? ? ? expr? ? min? ? ? lq? ? mean? median? ? ? uq? ? max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334? ? 50
> >
> > I have no idea why the big difference, but I am pretty sure it's way
> > beyond me. Maybe Mac gurus can figure it out. I may post this on
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.? I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Tue May  3 18:16:55 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 3 May 2022 16:16:55 +0000
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <1496634189.2231752.1651592798084@mail.yahoo.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
 <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
 <1496634189.2231752.1651592798084@mail.yahoo.com>
Message-ID: <BN6PR2201MB155318D12015AE3BC1E2F9F2CFC09@BN6PR2201MB1553.namprd22.prod.outlook.com>

microbenchmark(sieve1(1e5),sieve2(1e5), times =50)

Unit: milliseconds
                expr       min               lq                  mean            median      uq                  max          neval cld
 sieve1(1e+05)  6.863301     7.259901    10.89202      10.6819      13.7993       18.3648          50  a 
 sieve2(1e+05) 22.996701 28.284901     32.54760      30.1501      31.0805      166.4092        50   b

The difference is small but significant.

By setting "by" you are executing some different piece of code regardless of whether the step size equals the default. I tried by = TRUE, by=1L, and by=1.0 but all of those variants gave non-significant differences in execution time even with times=500.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Tuesday, May 3, 2022 11:47 AM
Cc: R-help at r-project.org
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

[External Email]

I ahve no comment on what version of the software on what machine architecture might cause the issue mentioned with differences in speed.
I have a more general question about increments.
The issue here is about creating a sequence starting at some value and ending no later than another value with an optional step size for the increment that by default is exactly 1.
So how would you normally do this and does it matter?
In some languages like C, the increment can be done many ways including val++, or val += 1, or val = val +1 ...
Those could produce identical code or different code. The compiler may optimize it or go and evaluate things twice at times. You might have hardware that contains a registerthat has a rapid increment by 1 instruction built in but not for a decrement by one, let alone increment by 12.
And as has been discussed here, data types of various size ints (or float representations of an integer) may need all kinds of conversions to operate on the same playing field. Who hasn't used a language where a boolean value can be treated like a zero or a one but stored compactly and yet if it is added to a large integer, needs some conversions?
How many assumptions can we really make about how someone wrote a function we use? Is it possible that the programmer for something like seq.int() decided to optimize their code.perhaps written in a dialect of C, so that when the default for "by=" is not mentioned, it increments using val++ while if it is specified even as "by=1" it switches to incrementing using something like "val = val + by" which may turn out to be slower?
I end by saying I am NOT talking about the complaint here as it seems likely to be specific to their setup. But more globally, it is possible that choices in how something is programmed can affect the outcome and assuming it was done the way you would is not always warranted. Languages that are more flexible, such as interpreted languages that allow many kinds of polymorphism can be very nice but with lots of overhead as underneath it all, the deeper programming levels require precision and for each part to be exactly what fits at that point. You can choose to store your numbers in various size containers, but at some level they tend to e unpacked and converted before being handed to something in software or hardware that expects EXACTLY one way. You may save on storage but sacrifice speed or other things.



-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Stephanie Evert <stefanML at collocations.de>
Cc: R-help Mailing List <R-help at r-project.org>
Sent: Tue, May 3, 2022 10:41 am
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

Thank you. But the binary I installed *was* the "Apple silicon arm64 build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert <stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >?       expr      min      lq    mean  median      uq      max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> > Unit: microseconds
> >?       expr    min      lq    mean  median      uq    max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> >
> > I have no idea why the big difference, but I am pretty sure it's way 
> > beyond me. Maybe Mac gurus can figure it out. I may post this on 
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=IV_pvMX6BFzDQ6XLe--bqFKiyaklMFk0vwnmDDVc42k&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=DMG-KdLD8dCjjVX1iizZc-FiM8Cn8i1D-MwKt26sBNo&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=IV_pvMX6BFzDQ6XLe--bqFKiyaklMFk0vwnmDDVc42k&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=DMG-KdLD8dCjjVX1iizZc-FiM8Cn8i1D-MwKt26sBNo&e=
and provide commented, minimal, self-contained, reproducible code.

From c@r|o-g|ov@nn|@c@m@rd@ @end|ng |rom |ned@|r  Tue May  3 22:40:27 2022
From: c@r|o-g|ov@nn|@c@m@rd@ @end|ng |rom |ned@|r (CAMARDA Carlo Giovanni)
Date: Tue, 3 May 2022 22:40:27 +0200 (CEST)
Subject: [R] hessian in solnp
In-Reply-To: <20220428133000.410a9817@arachnoid>
References: <2048420867.20259846.1651097765379.JavaMail.zimbra@ined.fr>
 <20220428133000.410a9817@arachnoid>
Message-ID: <938661721.21603563.1651610427080.JavaMail.zimbra@ined.fr>

Thanks. Yes, there is a Lagrange multiplier (though really small for the example). However, AFAIK the hessian is the square matrix of second-order partial derivatives and, given the simple constraint in the example, the second (partial) derivatives of the lagrangian function should simplify to the second (partial) derivatives of the loss function. Or do I miss something? Moreover, I would expect smaller standard errors of the estimated parameters when additional constraints are included, and it is not the case in the given example. 


De: "Ivan Krylov" <krylov.r00t at gmail.com> 
?: "CAMARDA Carlo Giovanni via R-help" <r-help at r-project.org> 
Cc: "Carlo Giovanni Camarda" <carlo-giovanni.camarda at ined.fr> 
Envoy?: Jeudi 28 Avril 2022 06:30:00 
Objet: Re: [R] hessian in solnp 

? Thu, 28 Apr 2022 00:16:05 +0200 (CEST) 
CAMARDA Carlo Giovanni via R-help <r-help at r-project.org> ?????: 

> when a constraint is added, hessian matrix is obviously changing, but 
> in a way I don't understand. 

Isn't it the point of augmented Lagrange multiplier, to solve the 
constrained optimisation problem by modifying the loss function and 
optimising the result in an unconstrained manner? Apologies if I 
misunderstood your question. 

Starting on 
<https://github.com/cran/Rsolnp/blob/4b56bb5cd7c5d1096d1ba2f3946df7afa9af4201/R/subnp.R#L282>, 
we can see how the functions are called: both the loss and the 
constraint function are concatenated into the `obm` vector (if there's 
no constraint, the function returns NULL, which is eaten by 
concatenation), which form the vectors `g` (seems to be the gradient) 
and `p`, which, in turn, form the matrix `hessv`. 

My reading of the code could be wrong (and so could be my understanding 
of augmented Lagrangian methods). Contacting maintainer('Rsolnp') could 
be an option; maybe there's some documentation for the original MATLAB 
version of the code at <https://web.stanford.edu/~yyye/Col.html>? 

-- 
Best regards, 
Ivan 


	[[alternative HTML version deleted]]


From jerem|eju@te @end|ng |rom gm@||@com  Tue May  3 23:49:06 2022
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Tue, 03 May 2022 23:49:06 +0200
Subject: [R] customizing edit.data.frame
In-Reply-To: <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>
 (PIKAL Petr's message of "Mon, 2 May 2022 08:26:01 +0000")
References: <87zgk2oq0p.fsf@gmail.com>
 <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>
Message-ID: <877d7270dp.fsf@gmail.com>

Hello Petr
On Monday,  2 May 2022 at 08:26, PIKAL Petr wrote:
> I do not have much experience with Linux, Rstudio and ESS, but you can
> customise R startup by .Rprofile.site .Rconsole files which are situated in
> /etc directory of your installation

Many thanks for the lead.
modifying /etc/.Rconsole, did the job, although I admit that I had to
use the modify the preferences in detault R-GUI on windows to find the right variable names.

If anyone else finds the the red grid of edit(data.frame())
difficult to use, the following modification might be handy. :-)

## Colours for console and pager(s)

background = white
normaltext = navy
usertext = black
pagerbg = white
pagertext = navy
highlight = DarkRed
dataeditbg = white
dataedittext = navy
dataedituser = gray59
editorbg = white
editortext = black


And I confirm that the above work regardless of the client ESS,RStudio,
R-Gui, on windows.

Best regards,
Jeremie


From c@ghpm @end|ng |rom gm@||@com  Wed May  4 00:46:52 2022
From: c@ghpm @end|ng |rom gm@||@com (Carlos Gonzalez)
Date: Tue, 3 May 2022 19:46:52 -0300
Subject: [R] After installing and loading package 'PMCMRplus' could not find
 function 'posthoc.kruskal.conover.test'
Message-ID: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods =
"BH") :
  could not find function "posthoc.kruskal.conover.test"
>

-- 
Saludos / Regards

Carlos A. Gonzalez
Mobile +598 94 234 653
caghpm at gmail.com

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed May  4 13:25:32 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 4 May 2022 11:25:32 +0000
Subject: [R] 
 After installing and loading package 'PMCMRplus' could not find
 function 'posthoc.kruskal.conover.test'
In-Reply-To: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>
References: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>
Message-ID: <BN6PR2201MB1553979FBA2022BC3DC35649CFC39@BN6PR2201MB1553.namprd22.prod.outlook.com>

Reading the documentation it looks like there might have been a name change as part of an update. Have you tried kwAllPairsConoverTest? The alternative is have you tried installing an older version of this package?


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Carlos Gonzalez
Sent: Tuesday, May 3, 2022 6:47 PM
To: R. Help Mailing List <r-help at r-project.org>
Subject: [R] After installing and loading package 'PMCMRplus' could not find function 'posthoc.kruskal.conover.test'

[External Email]

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods =
"BH") :
  could not find function "posthoc.kruskal.conover.test"
>

--
Saludos / Regards

Carlos A. Gonzalez
Mobile +598 94 234 653
caghpm at gmail.com

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=sBngBVkrhiJLKZK56n2wRCDnONIK6RBO_bzLKyTXXTHKZoHKge-vT8jGirOhReG_&s=qahco4sshWBg-2vlNBFmdVm8N88SxQxczHI8H1HY7Rs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=sBngBVkrhiJLKZK56n2wRCDnONIK6RBO_bzLKyTXXTHKZoHKge-vT8jGirOhReG_&s=nz2CBIPFa8dKBWFduWUirkW3YD8e24BbtDr6wyfn3Rw&e=
and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Wed May  4 13:39:21 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 4 May 2022 14:39:21 +0300
Subject: [R] [External]  alist() and missing variables
In-Reply-To: <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>
References: <20220502223746.23ae8865@trisector>
 <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>
Message-ID: <20220504143921.020499d2@arachnoid>

? Mon, 2 May 2022 15:07:39 -0500 (CDT)
luke-tierney at uiowa.edu ?????:

> You can detect them as you did here using missing(). This is what the
> byte code compiler implementation does.
> [https://homepage.stat.uiowa.edu/~luke/R/compiler/compiler.pdf]

Thanks for the link! Your notes are very useful. Last time I needed
information on the R_Serialize interface, I also used your notes from
https://homepage.stat.uiowa.edu/~luke/R/serialize/serialize.html.

> It's not ideal but it's what we have and not likely to change any time
> soon.

Understood. I'll be using missing() after assignment to detect such
situations, then.

-- 
Best regards,
Ivan


From out|ook_4A79DB47CD92951A @end|ng |rom out|ook@com  Tue May  3 23:47:48 2022
From: out|ook_4A79DB47CD92951A @end|ng |rom out|ook@com (Carlos Gonzalez)
Date: Tue, 3 May 2022 21:47:48 +0000
Subject: [R] After installing and loading package 'PMCMRplus' could not find
 function "posthoc.kruskal.conover.test"
Message-ID: <DM6PR07MB645996D665C686865402A459E4C09@DM6PR07MB6459.namprd07.prod.outlook.com>

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods = "BH") :
  could not find function "posthoc.kruskal.conover.test"
>

	[[alternative HTML version deleted]]


From r@u @end|ng |rom demogr@mpg@de  Wed May  4 13:20:10 2022
From: r@u @end|ng |rom demogr@mpg@de (Roland Rau)
Date: Wed, 4 May 2022 13:20:10 +0200
Subject: [R] Is there a canonical way to pronounce CRAN?
Message-ID: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>

Dear all,

I talked with colleagues this morning and we realized that some people 
(=me) pronounce CRAN like the German word "Kran" (probably pronounced 
like "cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was 
a student and has worked at the same institution as an R Core Developer 
and heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}


From kev|n@thorpe @end|ng |rom utoronto@c@  Wed May  4 16:38:13 2022
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin Thorpe)
Date: Wed, 4 May 2022 14:38:13 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>

Interesting.

I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.

Kevin


> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
> 
> Dear all,
> 
> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
> 
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> 
> Honestly: Is there a unique way how the core developers prounounce CRAN?
> 
> Not an urgent question at all but maybe interesting to many of us.
> 
> Thanks,
> Roland
> 
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael?s Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From c@deb @end|ng |rom u@g@@gov  Wed May  4 16:43:35 2022
From: c@deb @end|ng |rom u@g@@gov (Cade, Brian S)
Date: Wed, 4 May 2022 14:43:35 +0000
Subject: [R] [EXTERNAL]  Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>

CRAN as in cranberry.
Just my minor thought.

Brian


Brian S. Cade, PhD

U. S. Geological Survey
Fort Collins Science Center
2150 Centre Ave., Bldg. C
Fort Collins, CO  80526-8818

email:  cadeb at usgs.gov<mailto:brian_cade at usgs.gov>
tel:  970 226-9326

________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Roland Rau via R-help <r-help at r-project.org>
Sent: Wednesday, May 4, 2022 5:20 AM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [EXTERNAL] [R] Is there a canonical way to pronounce CRAN?



 This email has been received from outside of DOI - Use caution before clicking on links, opening attachments, or responding.



Dear all,

I talked with colleagues this morning and we realized that some people
(=me) pronounce CRAN like the German word "Kran" (probably pronounced
like "cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
a student and has worked at the same institution as an R Core Developer
and heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://gcc02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=3Kjxl0unxmrJ%2F%2BStjomrWPwCazomRId5lHuZBe7m2Zs%3D&amp;reserved=0
PLEASE do read the posting guide https://gcc02.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=6c3q9Wi01hKbgyiYGmldFoCJb6mMEcPf50ANDaZFT4s%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From p@u|o@pheno| @end|ng |rom gm@||@com  Wed May  4 16:57:43 2022
From: p@u|o@pheno| @end|ng |rom gm@||@com (Paulo Figueiredo)
Date: Wed, 4 May 2022 15:57:43 +0100
Subject: [R] [EXTERNAL] Is there a canonical way to pronounce CRAN?
In-Reply-To: <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>
Message-ID: <0a9bd957-df3e-51ec-2003-7b79d44a525c@gmail.com>

Same here. Never thought it can be pronounced otherwise.

On 04/05/2022 15:43, Cade, Brian S via R-help wrote:
> CRAN as in cranberry.
> Just my minor thought.
>
> Brian
>
>
> Brian S. Cade, PhD
>
> U. S. Geological Survey
> Fort Collins Science Center
> 2150 Centre Ave., Bldg. C
> Fort Collins, CO  80526-8818
>
> email:cadeb at usgs.gov<mailto:brian_cade at usgs.gov>
> tel:  970 226-9326
>
> ________________________________
> From: R-help<r-help-bounces at r-project.org>  on behalf of Roland Rau via R-help<r-help at r-project.org>
> Sent: Wednesday, May 4, 2022 5:20 AM
> To:r-help at r-project.org  <r-help at r-project.org>
> Subject: [EXTERNAL] [R] Is there a canonical way to pronounce CRAN?
>
>
>
>   This email has been received from outside of DOI - Use caution before clicking on links, opening attachments, or responding.
>
>
>
> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer
> and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://gcc02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=3Kjxl0unxmrJ%2F%2BStjomrWPwCazomRId5lHuZBe7m2Zs%3D&amp;reserved=0
> PLEASE do read the posting guidehttps://gcc02.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=6c3q9Wi01hKbgyiYGmldFoCJb6mMEcPf50ANDaZFT4s%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus

	[[alternative HTML version deleted]]


From ce@g|guere @end|ng |rom gm@||@com  Wed May  4 17:23:08 2022
From: ce@g|guere @end|ng |rom gm@||@com (=?iso-8859-1?Q?Charles-=C9douard_Gigu=E8re?=)
Date: Wed, 4 May 2022 11:23:08 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <001501d85fca$dc5cee60$9516cb20$@gmail.com>

I pronounce it like "Yes we CRAN!" but I don't know the answer to your
question.
Interesting question though : )
Charles-?douard

-----Message d'origine-----
De?: R-help <r-help-bounces at r-project.org> De la part de Roland Rau via
R-help
Envoy??: 4 mai 2022 07:20
??: r-help at r-project.org
Objet?: [R] Is there a canonical way to pronounce CRAN?

Dear all,

I talked with colleagues this morning and we realized that some people
(=me) pronounce CRAN like the German word "Kran" (probably pronounced like
"cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a
student and has worked at the same institution as an R Core Developer and
heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Wed May  4 17:56:43 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Wed, 4 May 2022 17:56:43 +0200 (CEST)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>

My personal impression is that in the early days of CRAN the pronouncation 
as in "C-Ran" was more common but this has shifted towards "Cran" over the 
years.

CRAN was named in the same style as CPAN for Perl and CTAN for TeX (as 
others have pointed out in this thread already). Many R users and 
developers were also active in other free software communities and were 
familiar with CPAN and CTAN as well. Hence "C-Ran" was natural.

But because - unlike the other abbreviations - CRAN can be pronounced as 
"Cran" it was attractive for wordplays like Cranberries 
(https://dirk.eddelbuettel.com/cranberries/), Crantastic 
(https://github.com/hadley/crantastic), fortunes::fortune("Yes we CRAN!"), 
etc. Also, I would guess that the vast majority of today's R users (and 
possibly also developers) is not familiar with CPAN or CTAN anymore. Hence 
"Cran" is more natural for most of them.

And given that even the founders of CRAN sometimes pronounce it in one and 
sometimes in the other way, I think it is fair to use both pronouncations.

Best wishes,
Achim


On Wed, 4 May 2022, Roland Rau via R-help wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people (=me) 
> pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" 
> in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a 
> student and has worked at the same institution as an R Core Developer and 
> heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From tebert @end|ng |rom u||@edu  Wed May  4 17:57:33 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 4 May 2022 15:57:33 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
Message-ID: <BN6PR2201MB1553835EFF1FB825C556FF24CFC39@BN6PR2201MB1553.namprd22.prod.outlook.com>

It would be nice in some ways if everyone would pronounce the same word in the same way, but then we could not argue over the correct pronunciation of words like tomato or aluminium/aluminum. I think of cran as "Kran". While I had German in high school I didnn't remember the German word for crane, so I did not consciously make any connection. I thought more of words like crunch, crouch, or crayfish to help pronounce cran. "Sea-Ran" also makes some sense, but it makes me wonder if the tide is going out or coming back in. Possibly many think of this like C-Span (C-Span.org). That would make even more sense if we had C-Ran rather than CRAN. I'll just leave "Sea-Run" alone. 
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Kevin Thorpe
Sent: Wednesday, May 4, 2022 10:38 AM
To: Roland Rau <rau at demogr.mpg.de>
Cc: R Help Mailing List <r-help at r-project.org>
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

Interesting.

I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.

Kevin


> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>
> Dear all,
>
> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic 
> ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZr
> RnwMSEM&s=RO9LQR9lV58rbI7LC8B_rUTsesnj1D_xV8ovrzBn4jI&e=
> PLEASE do read the posting guide 
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZ
> rRnwMSEM&s=Wlt5ym2p1MJIbbvh0nwyvPunaZJTWyZBx0o6qhe6zQo&e=
> and provide commented, minimal, self-contained, reproducible code.

--
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC) Li Ka Shing Knowledge Institute of St. Michael?s Hospital Assistant Professor, Dalla Lana School of Public Health University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZrRnwMSEM&s=RO9LQR9lV58rbI7LC8B_rUTsesnj1D_xV8ovrzBn4jI&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZrRnwMSEM&s=Wlt5ym2p1MJIbbvh0nwyvPunaZJTWyZBx0o6qhe6zQo&e=
and provide commented, minimal, self-contained, reproducible code.

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed May  4 18:01:26 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 04 May 2022 09:01:26 -0700
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
Message-ID: <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>

I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but with no in-person mentors influencing me I decided not to pronounce the C separately in CRAN. The "CRANberries" website indicates that I am not alone.

On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>Interesting.
>
>I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.
>
>Kevin
>
>
>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Sent from my phone. Please excuse my brevity.


From @v|gro@@ @end|ng |rom ver|zon@net  Wed May  4 19:21:13 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 4 May 2022 17:21:13 +0000 (UTC)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
Message-ID: <1477879899.2497902.1651684873865@mail.yahoo.com>

If R had remained just S, or even S++, would we be debating how to pronounce?CSAN?
I do note in some languages CS is pronounceable. LOL!


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: r-help at r-project.org; Kevin Thorpe <kevin.thorpe at utoronto.ca>; Roland Rau <rau at demogr.mpg.de>
Cc: R Help Mailing List <r-help at r-project.org>
Sent: Wed, May 4, 2022 12:01 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but with no in-person mentors influencing me I decided not to pronounce the C separately in CRAN. The "CRANberries" website indicates that I am not alone.

On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>Interesting.
>
>I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.
>
>Kevin
>
>
>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Wed May  4 19:55:01 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Wed, 4 May 2022 17:55:01 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1477879899.2497902.1651684873865@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
Message-ID: <c9718335e1af4962881485e9034e5d7b@UM-MAIL3214.unimaas.nl>

We would still be getting our S code from Statlib. There still seems to be a server running at http://lib.stat.cmu.edu but somebody might want to check on it ...

Here is an old snapshot from 2000:

https://web.archive.org/web/20000815063825/http://lib.stat.cmu.edu/S/

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Avi Gross via R-
>help
>Sent: Wednesday, 04 May, 2022 19:21
>Cc: r-help at r-project.org
>Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>
>If R had remained just S, or even S++, would we be debating how to
>pronounce?CSAN?
>I do note in some languages CS is pronounceable. LOL!
>
>-----Original Message-----
>From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>To: r-help at r-project.org; Kevin Thorpe <kevin.thorpe at utoronto.ca>; Roland Rau
><rau at demogr.mpg.de>
>Cc: R Help Mailing List <r-help at r-project.org>
>Sent: Wed, May 4, 2022 12:01 pm
>Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>
>I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but
>with no in-person mentors influencing me I decided not to pronounce the C
>separately in CRAN. The "CRANberries" website indicates that I am not alone.
>
>On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>>Interesting.
>>
>>I have always pronounced it as See-ran. This probably stems from my exposure to
>other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to.
>Obviously the latter two acronyms are unpronounceable as words so I generalized
>the approach to CRAN.
>>
>>Kevin
>>
>>
>>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org>
>wrote:
>>>
>>> Dear all,
>>>
>>> I talked with colleagues this morning and we realized that some people (=me)
>pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in
>English -- if it was a word).
>>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a
>student and has worked at the same institution as an R Core Developer and heard
>it from him personally.
>>>
>>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>>>
>>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>>>
>>> Not an urgent question at all but maybe interesting to many of us.
>>>
>>> Thanks,
>>> Roland

From @@mo|n@r @end|ng |rom @bcg|ob@|@net  Wed May  4 20:03:05 2022
From: @@mo|n@r @end|ng |rom @bcg|ob@|@net (Stephen P. Molnar)
Date: Wed, 4 May 2022 14:03:05 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1477879899.2497902.1651684873865@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
Message-ID: <6272BFD9.6020905@sbcglobal.net>

On 05/04/2022 01:21 PM, Avi Gross via R-help wrote:
> If R had remained just S, or even S++, would we be debating how to 
> pronounce CSAN? I do note in some languages CS is pronounceable. LOL! 
> -----Original Message----- From: Jeff Newmiller 
> <jdnewmil at dcn.davis.ca.us> To: r-help at r-project.org; Kevin Thorpe 
> <kevin.thorpe at utoronto.ca>; Roland Rau <rau at demogr.mpg.de> Cc: R Help 
> Mailing List <r-help at r-project.org> Sent: Wed, May 4, 2022 12:01 pm 
> Subject: Re: [R] Is there a canonical way to pronounce CRAN? I had 
> exposure to CPAN and CTAN before learning R, and then there is MRAN... 
> but with no in-person mentors influencing me I decided not to 
> pronounce the C separately in CRAN. The "CRANberries" website 
> indicates that I am not alone. On May 4, 2022 7:38:13 AM PDT, Kevin 
> Thorpe <kevin.thorpe at utoronto.ca> wrote:
>> Interesting. I have always pronounced it as See-ran. This probably 
>> stems from my exposure to other archive like CPAN (perl) and CTAN 
>> (TeX) that I have been exposed to. Obviously the latter two acronyms 
>> are unpronounceable as words so I generalized the approach to CRAN. 
>> Kevin
>>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help 
>>> <r-help at r-project.org> wrote: Dear all, I talked with colleagues 
>>> this morning and we realized that some people (=me) pronounce CRAN 
>>> like the German word "Kran" (probably pronounced like "cruhn" in 
>>> English -- if it was a word). My colleague pronounced it as 
>>> "Sea-Ran" or "Sea-Run". The colleague was a student and has worked 
>>> at the same institution as an R Core Developer and heard it from him 
>>> personally. So now I am puzzled. Have I been wrong about 43% of my 
>>> life? ;-) Honestly: Is there a unique way how the core developers 
>>> prounounce CRAN? Not an urgent question at all but maybe interesting 
>>> to many of us. Thanks, Roland -- This mail has been sent through the 
>>> MPI for Demographic ...{{dropped:2}} 
>>> ______________________________________________ R-help at r-project.org 
>>> mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do read the 
>>> posting guide http://www.R-project.org/posting-guide.html and 
>>> provide commented, minimal, self-contained, reproducible code.
Yes, I know that I'm contributing, but what a waste of band width.

-- Stephen P. Molnar, Ph.D. www.molecular-modeling.net 614.312.7528 (c) 
Skype: smolnar1


	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu May  5 00:46:19 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 5 May 2022 08:46:19 +1000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <6272BFD9.6020905@sbcglobal.net>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
Message-ID: <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym
into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly
pronounce DFAT, resign yourself to menial labor)
If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional
disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.


From @v|gro@@ @end|ng |rom ver|zon@net  Thu May  5 02:24:26 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 5 May 2022 00:24:26 +0000 (UTC)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
Message-ID: <1437512042.2642278.1651710266676@mail.yahoo.com>

Extended discussion may be a waste but speaking for myself, I found it highly?enlightening to hear that many had a mental image of an alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way to pronounce.

I often cringe when I listen to an audio book in the car and the person chosen?to narrate gets words not just wrong but very wrong as in nobody in any?country would likely pronounce it that way!

TV shows and elsewhere do the same. If someone asked me to check if?something was on see-ran or even see-are-a-en, it might take me a moment to?shift gears and realize they meant CRAN. There is no real right or wrong way?and we see organizations with names hard to pronounce like FBI or CIA are?often referred to with words like Quantico or Langley based on an area they?are associated with. People like words they can hope to pronounce like?the non-existent UNCLE or even SMERSH and KAOS.

I will say it is quite logical if you see C-SPAN as see-span then CPAN as C-PAN?you might then see CRAN the way you do as C-RAN.

But consider the many functions and packages in a language like R and ask if everyone?thinks or pronounces them the way you do? How many initially read runif() as run-if?until you realized it was a distribution of uniform random numbers in R as compared?to rnorm() for an R version of a normal distribution and thus maybe can be pronounced?more like r-unif and r-norm. Also, runif is part of a related set of functions all having?something to do with a uniform distribution, dunif(), punif() and qunif() so, again,?it hints to some of a consistent way to speak them aloud. Of course, in written?form, they speak for themselves.?
But not everything can or should be pronounced. We do not all speak the same?languages or the same way. Sometimes spelling things out as C-R-A-N is a better way?to go albeit if the others pronounce those letters differently, you end up like people who?think there is a Hungarian word for something like vey-tsey to mean toilet when it?actually is spelled WC as in borrowed from the English Water Closet and the way you say W as?a letter of the alphabet followed by the way you say C as a letter of the alphabet sounds ...


-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com>
To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list <r-help at r-project.org>
Sent: Wed, May 4, 2022 6:46 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym
into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly
pronounce DFAT, resign yourself to menial labor)
If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional
disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From twoo|m@n @end|ng |rom ont@rgettek@com  Thu May  5 03:33:09 2022
From: twoo|m@n @end|ng |rom ont@rgettek@com (Tom Woolman)
Date: Wed, 04 May 2022 21:33:09 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1437512042.2642278.1651710266676@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
Message-ID: <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>

Everyone needs to speak English exactly like I do or else they're doing 
it wrong
  :)

By I pronounce CRAN the same way that I pronounce the first half of 
cranberry.




On 2022-05-04 20:24, Avi Gross via R-help wrote:
> Extended discussion may be a waste but speaking for myself, I found it
> highly?enlightening to hear that many had a mental image of an
> alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way
> to pronounce.
> 
> I often cringe when I listen to an audio book in the car and the
> person chosen?to narrate gets words not just wrong but very wrong as
> in nobody in any?country would likely pronounce it that way!
> 
> TV shows and elsewhere do the same. If someone asked me to check
> if?something was on see-ran or even see-are-a-en, it might take me a
> moment to?shift gears and realize they meant CRAN. There is no real
> right or wrong way?and we see organizations with names hard to
> pronounce like FBI or CIA are?often referred to with words like
> Quantico or Langley based on an area they?are associated with. People
> like words they can hope to pronounce like?the non-existent UNCLE or
> even SMERSH and KAOS.
> 
> I will say it is quite logical if you see C-SPAN as see-span then CPAN
> as C-PAN?you might then see CRAN the way you do as C-RAN.
> 
> But consider the many functions and packages in a language like R and
> ask if everyone?thinks or pronounces them the way you do? How many
> initially read runif() as run-if?until you realized it was a
> distribution of uniform random numbers in R as compared?to rnorm() for
> an R version of a normal distribution and thus maybe can be
> pronounced?more like r-unif and r-norm. Also, runif is part of a
> related set of functions all having?something to do with a uniform
> distribution, dunif(), punif() and qunif() so, again,?it hints to some
> of a consistent way to speak them aloud. Of course, in written?form,
> they speak for themselves.?
> But not everything can or should be pronounced. We do not all speak
> the same?languages or the same way. Sometimes spelling things out as
> C-R-A-N is a better way?to go albeit if the others pronounce those
> letters differently, you end up like people who?think there is a
> Hungarian word for something like vey-tsey to mean toilet when
> it?actually is spelled WC as in borrowed from the English Water Closet
> and the way you say W as?a letter of the alphabet followed by the way
> you say C as a letter of the alphabet sounds ...
> 
> 
> -----Original Message-----
> From: Jim Lemon <drjimlemon at gmail.com>
> To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list
> <r-help at r-project.org>
> Sent: Wed, May 4, 2022 6:46 pm
> Subject: Re: [R] Is there a canonical way to pronounce CRAN?
> 
> Perhaps not entirely a waste. Shots have been fired over less.
> Allow the neologism 'packronym' to signify the packing of an acronym
> into a pronounceable word.
> (A necessary skill in the public service. If you cannot correctly
> pronounce DFAT, resign yourself to menial labor)
> If we endorse the anglophone packronym we get:
> kr?n
> An Italian might lean toward:
> t?r?n
> while Spanish (the happiest language, they say) would produce:
> kr?n
> So Babel continues to amuse or enrage us, depending upon our emotional
> disposition.
> I dare not comment upon those who would laboriously spell it out as:
> Charlie Romeo Alfa November
> 
> Jim
> 
> On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar 
> <s.molnar at sbcglobal.net> wrote:
>> Yes, I know that I'm contributing, but what a waste of band width.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Thu May  5 03:41:34 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 5 May 2022 01:41:34 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1437512042.2642278.1651710266676@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
Message-ID: <BN6PR2201MB1553E347B968B6AB01F5E429CFC29@BN6PR2201MB1553.namprd22.prod.outlook.com>

I too found the discussion enlightening and amusing. As a practical application think about giving or listening to a lecture where the person uses alternate pronunciations. If I am used to "Kran" and the other person uses "Sea-ran" it takes longer to process the conversation and makes communication more difficult. Sometimes I try to get more information by searching on the internet for things that I hear. Just by listening, if someone says "Sea-ran" do I look for cran, c-ran, sea-ran, see-ran, cee-ran, or some other variant? Kran is not much better as there is kran, k-ran, c-ran, cran, and many others depending on how clearly I speak. A novice might hear crayon when I say kran and then the wheels have really fallen off the cart. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Wednesday, May 4, 2022 8:24 PM
To: r-help at r-project.org
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

Extended discussion may be a waste but speaking for myself, I found it highly enlightening to hear that many had a mental image of an alternate way to pronounce CRAN as it so OBVIOUSLY had a natural way to pronounce.

I often cringe when I listen to an audio book in the car and the person chosen to narrate gets words not just wrong but very wrong as in nobody in any country would likely pronounce it that way!

TV shows and elsewhere do the same. If someone asked me to check if something was on see-ran or even see-are-a-en, it might take me a moment to shift gears and realize they meant CRAN. There is no real right or wrong way and we see organizations with names hard to pronounce like FBI or CIA are often referred to with words like Quantico or Langley based on an area they are associated with. People like words they can hope to pronounce like the non-existent UNCLE or even SMERSH and KAOS.

I will say it is quite logical if you see C-SPAN as see-span then CPAN as C-PAN you might then see CRAN the way you do as C-RAN.

But consider the many functions and packages in a language like R and ask if everyone thinks or pronounces them the way you do? How many initially read runif() as run-if until you realized it was a distribution of uniform random numbers in R as compared to rnorm() for an R version of a normal distribution and thus maybe can be pronounced more like r-unif and r-norm. Also, runif is part of a related set of functions all having something to do with a uniform distribution, dunif(), punif() and qunif() so, again, it hints to some of a consistent way to speak them aloud. Of course, in written form, they speak for themselves.
But not everything can or should be pronounced. We do not all speak the same languages or the same way. Sometimes spelling things out as C-R-A-N is a better way to go albeit if the others pronounce those letters differently, you end up like people who think there is a Hungarian word for something like vey-tsey to mean toilet when it actually is spelled WC as in borrowed from the English Water Closet and the way you say W as a letter of the alphabet followed by the way you say C as a letter of the alphabet sounds ...


-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com>
To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list <r-help at r-project.org>
Sent: Wed, May 4, 2022 6:46 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly pronounce DFAT, resign yourself to menial labor) If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=KxLjYu6l_GEpWeOBgrsC5Q-CRNeQ8uS0z-k9WR3HKzs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=51RzWjJFQj_1xwt7QejNLNeEirfUFUJOMRVirM3SN2g&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=KxLjYu6l_GEpWeOBgrsC5Q-CRNeQ8uS0z-k9WR3HKzs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=51RzWjJFQj_1xwt7QejNLNeEirfUFUJOMRVirM3SN2g&e=
and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu May  5 09:41:01 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 5 May 2022 08:41:01 +0100
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
 <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>
Message-ID: <38a5d4ff-ce6d-c8b0-11ae-7dce03583b38@sapo.pt>

Hello,

A while ago every time I typed "cran" on the Google search bar the first 
suggestion was "cranberries". But after hitting the spacebar it would 
become
"cran r".

Now with "cran" only it's "Cranberry" (capitalized) and after the spacebar
"cran r" followed by "cran packages", with a total of 5/10 CRAN related 
hits.

(Duckduckgo.com gives something else.)

And there's also the Meriam-Webster [1].

[1] https://www.merriam-webster.com/dictionary/cran

Rui Barradas

?s 02:33 de 05/05/2022, Tom Woolman escreveu:
> Everyone needs to speak English exactly like I do or else they're doing 
> it wrong
>  ?:)
> 
> By I pronounce CRAN the same way that I pronounce the first half of 
> cranberry.
> 
> 
> 
> 
> On 2022-05-04 20:24, Avi Gross via R-help wrote:
>> Extended discussion may be a waste but speaking for myself, I found it
>> highly?enlightening to hear that many had a mental image of an
>> alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way
>> to pronounce.
>>
>> I often cringe when I listen to an audio book in the car and the
>> person chosen?to narrate gets words not just wrong but very wrong as
>> in nobody in any?country would likely pronounce it that way!
>>
>> TV shows and elsewhere do the same. If someone asked me to check
>> if?something was on see-ran or even see-are-a-en, it might take me a
>> moment to?shift gears and realize they meant CRAN. There is no real
>> right or wrong way?and we see organizations with names hard to
>> pronounce like FBI or CIA are?often referred to with words like
>> Quantico or Langley based on an area they?are associated with. People
>> like words they can hope to pronounce like?the non-existent UNCLE or
>> even SMERSH and KAOS.
>>
>> I will say it is quite logical if you see C-SPAN as see-span then CPAN
>> as C-PAN?you might then see CRAN the way you do as C-RAN.
>>
>> But consider the many functions and packages in a language like R and
>> ask if everyone?thinks or pronounces them the way you do? How many
>> initially read runif() as run-if?until you realized it was a
>> distribution of uniform random numbers in R as compared?to rnorm() for
>> an R version of a normal distribution and thus maybe can be
>> pronounced?more like r-unif and r-norm. Also, runif is part of a
>> related set of functions all having?something to do with a uniform
>> distribution, dunif(), punif() and qunif() so, again,?it hints to some
>> of a consistent way to speak them aloud. Of course, in written?form,
>> they speak for themselves.
>> But not everything can or should be pronounced. We do not all speak
>> the same?languages or the same way. Sometimes spelling things out as
>> C-R-A-N is a better way?to go albeit if the others pronounce those
>> letters differently, you end up like people who?think there is a
>> Hungarian word for something like vey-tsey to mean toilet when
>> it?actually is spelled WC as in borrowed from the English Water Closet
>> and the way you say W as?a letter of the alphabet followed by the way
>> you say C as a letter of the alphabet sounds ...
>>
>>
>> -----Original Message-----
>> From: Jim Lemon <drjimlemon at gmail.com>
>> To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list
>> <r-help at r-project.org>
>> Sent: Wed, May 4, 2022 6:46 pm
>> Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>>
>> Perhaps not entirely a waste. Shots have been fired over less.
>> Allow the neologism 'packronym' to signify the packing of an acronym
>> into a pronounceable word.
>> (A necessary skill in the public service. If you cannot correctly
>> pronounce DFAT, resign yourself to menial labor)
>> If we endorse the anglophone packronym we get:
>> kr?n
>> An Italian might lean toward:
>> t?r?n
>> while Spanish (the happiest language, they say) would produce:
>> kr?n
>> So Babel continues to amuse or enrage us, depending upon our emotional
>> disposition.
>> I dare not comment upon those who would laboriously spell it out as:
>> Charlie Romeo Alfa November
>>
>> Jim
>>
>> On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar 
>> <s.molnar at sbcglobal.net> wrote:
>>> Yes, I know that I'm contributing, but what a waste of band width.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Thu May  5 14:40:50 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Thu, 5 May 2022 12:40:50 +0000
Subject: [R] legend in plot
Message-ID: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>

Is it possible to define legend in the plot command? ?That will ensure that legend is correctly associated with the points or lines in the plot.?

# I can do this
x <- seq(-3, 3, by = 0.01)
plot(x, x, type = "l")
lines(x, x^2, lty = 2, col = 2)
# In legend command, I need to remember that x^2 is lty = 2 and col = 2?
legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")

# I want to do something like this
plot(x, x, type = "l", label = "x")
lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
# legend command already knows the legend for each line
legend("bottomright", bty = "n")

Thanks,
Naresh

From b@row||ng@on @end|ng |rom |@nc@@ter@@c@uk  Thu May  5 15:13:15 2022
From: b@row||ng@on @end|ng |rom |@nc@@ter@@c@uk (Barry Rowlingson)
Date: Thu, 5 May 2022 14:13:15 +0100
Subject: [R] [External] Re:  Is there a canonical way to pronounce CRAN?
In-Reply-To: <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>

If the founders had called it the Big R Archive Network we wouldn't be
having this discussion but we'd all be getting our packages from BRAN.

Or how about "Big R Internet Archive Network".... Or would that be
confusing...

Barry

On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
wrote:

> This email originated outside the University. Check before clicking links
> or attachments.
>
> Interesting.
>
> I have always pronounced it as See-ran. This probably stems from my
> exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been
> exposed to. Obviously the latter two acronyms are unpronounceable as words
> so I generalized the approach to CRAN.
>
> Kevin
>
>
> > On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org>
> wrote:
> >
> > Dear all,
> >
> > I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced like
> "cruhn" in English -- if it was a word).
> > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer and
> heard it from him personally.
> >
> > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> >
> > Honestly: Is there a unique way how the core developers prounounce CRAN?
> >
> > Not an urgent question at all but maybe interesting to many of us.
> >
> > Thanks,
> > Roland
> >
> > --
> > This mail has been sent through the MPI for Demographic ...{{dropped:2}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Kevin E. Thorpe
> Head of Biostatistics,  Applied Health Research Centre (AHRC)
> Li Ka Shing Knowledge Institute of St. Michael?s Hospital
> Assistant Professor, Dalla Lana School of Public Health
> University of Toronto
> email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From er|nm@hodge@@ @end|ng |rom gm@||@com  Thu May  5 15:23:51 2022
From: er|nm@hodge@@ @end|ng |rom gm@||@com (Erin Hodgess)
Date: Thu, 5 May 2022 09:23:51 -0400
Subject: [R] [External] Re: Is there a canonical way to pronounce CRAN?
In-Reply-To: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
 <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
Message-ID: <CACxE24nkoYxfSr51DbpVBEY7x2esGXsTrdyd7vM984B0Hb=49g@mail.gmail.com>

In that case, if you were a user without common sense, would you be a BRAN
flake?

On Thu, May 5, 2022 at 9:13 AM Barry Rowlingson <
b.rowlingson at lancaster.ac.uk> wrote:

> If the founders had called it the Big R Archive Network we wouldn't be
> having this discussion but we'd all be getting our packages from BRAN.
>
> Or how about "Big R Internet Archive Network".... Or would that be
> confusing...
>
> Barry
>
> On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
> wrote:
>
> > This email originated outside the University. Check before clicking links
> > or attachments.
> >
> > Interesting.
> >
> > I have always pronounced it as See-ran. This probably stems from my
> > exposure to other archive like CPAN (perl) and CTAN (TeX) that I have
> been
> > exposed to. Obviously the latter two acronyms are unpronounceable as
> words
> > so I generalized the approach to CRAN.
> >
> > Kevin
> >
> >
> > > On May 4, 2022, at 7:20 AM, Roland Rau via R-help <
> r-help at r-project.org>
> > wrote:
> > >
> > > Dear all,
> > >
> > > I talked with colleagues this morning and we realized that some people
> > (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like
> > "cruhn" in English -- if it was a word).
> > > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> > a student and has worked at the same institution as an R Core Developer
> and
> > heard it from him personally.
> > >
> > > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> > >
> > > Honestly: Is there a unique way how the core developers prounounce
> CRAN?
> > >
> > > Not an urgent question at all but maybe interesting to many of us.
> > >
> > > Thanks,
> > > Roland
> > >
> > > --
> > > This mail has been sent through the MPI for Demographic
> ...{{dropped:2}}
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Kevin E. Thorpe
> > Head of Biostatistics,  Applied Health Research Centre (AHRC)
> > Li Ka Shing Knowledge Institute of St. Michael?s Hospital
> > Assistant Professor, Dalla Lana School of Public Health
> > University of Toronto
> > email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 
Erin Hodgess, PhD
mailto: erinm.hodgess at gmail.com

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Thu May  5 15:25:05 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 5 May 2022 13:25:05 +0000
Subject: [R] legend in plot
In-Reply-To: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <b9ffc71f51ee43febfd14276d7bdf62f@SRVEXCHCM1302.precheza.cz>

Hi.

AFAIK in regular plot it is not possible and you need to use 

x <- seq(-3, 3, by = 0.01)
plot(x, x, type = "l")
lines(x, x^2, lty = 2, col = 2)
legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col =
c(1, 2), bty = "n")

But you could use ggplot2 package with slightly modified data

# just prepare data
dat <- data.frame(x=x, y=x, z=x^2)
library(tidyr)
datm <- pivot_longer(dat, 2:3)
datm <- as.data.frame(datm)
names(datm)[2] <- "type"
datm$type <-factor(datm$type, labels=c("x", "x^2"))

#make plot
library(ggplot2)
p <- ggplot(datm, aes(x, value, colour=type) )
p+geom_line()

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Naresh
> Gurbuxani
> Sent: Thursday, May 5, 2022 2:41 PM
> To: r-help at r-project.org
> Subject: [R] legend in plot
> 
> Is it possible to define legend in the plot command? ?That will ensure
that
> legend is correctly associated with the points or lines in the plot.
> 
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col
= c(1,
> 2), bty = "n")
> 
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
> 
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From tebert @end|ng |rom u||@edu  Thu May  5 15:55:31 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 5 May 2022 13:55:31 +0000
Subject: [R] [External] Re:  Is there a canonical way to pronounce CRAN?
In-Reply-To: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
 <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
Message-ID: <BN6PR2201MB15536DB7F13294D041501113CFC29@BN6PR2201MB1553.namprd22.prod.outlook.com>

With "Big R Internet Archive Network" we could talk about the life of BRIAN, and any references to The Life of Brian would result in getting thrown to the floor by a Centurion. Better than a name like Windows where "Big Windows Internet Archive Network would be Bwian and we might wonder about thpiwit, (bwavado ... a touch of dewing-do), and about culturally insensitive joke names like Nortius Maximus and the risk of finding ourselves in gladiator school vewwy quickly with rotten behavior like this.

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Barry Rowlingson
Sent: Thursday, May 5, 2022 9:13 AM
To: Kevin Thorpe <kevin.thorpe at utoronto.ca>
Cc: R Help Mailing List <r-help at r-project.org>
Subject: Re: [R] [External] Re: Is there a canonical way to pronounce CRAN?

[External Email]

If the founders had called it the Big R Archive Network we wouldn't be having this discussion but we'd all be getting our packages from BRAN.

Or how about "Big R Internet Archive Network".... Or would that be confusing...

Barry

On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
wrote:

> This email originated outside the University. Check before clicking 
> links or attachments.
>
> Interesting.
>
> I have always pronounced it as See-ran. This probably stems from my 
> exposure to other archive like CPAN (perl) and CTAN (TeX) that I have 
> been exposed to. Obviously the latter two acronyms are unpronounceable 
> as words so I generalized the approach to CRAN.
>
> Kevin
>
>
> > On May 4, 2022, at 7:20 AM, Roland Rau via R-help 
> > <r-help at r-project.org>
> wrote:
> >
> > Dear all,
> >
> > I talked with colleagues this morning and we realized that some 
> > people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced 
> like "cruhn" in English -- if it was a word).
> > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague 
> > was
> a student and has worked at the same institution as an R Core 
> Developer and heard it from him personally.
> >
> > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> >
> > Honestly: Is there a unique way how the core developers prounounce CRAN?
> >
> > Not an urgent question at all but maybe interesting to many of us.
> >
> > Thanks,
> > Roland
> >
> > --
> > This mail has been sent through the MPI for Demographic 
> > ...{{dropped:2}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> > https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_ma
> > ilman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2k
> > VeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVH
> > URBIIG_LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
> > PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBII
> G_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Kevin E. Thorpe
> Head of Biostatistics,  Applied Health Research Centre (AHRC) Li Ka 
> Shing Knowledge Institute of St. Michael?s Hospital Assistant 
> Professor, Dalla Lana School of Public Health University of Toronto
> email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG
> _LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
> PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBII
> G_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG_LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
and provide commented, minimal, self-contained, reproducible code.

From drj|m|emon @end|ng |rom gm@||@com  Thu May  5 23:56:00 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 6 May 2022 07:56:00 +1000
Subject: [R] legend in plot
In-Reply-To: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>

Hi Naresh,
Have a look at the emptyspace function in the plotrix package. This
returns the center of the largest empty space on the plot.

Jim

On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com> wrote:
>
> Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
>
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
>
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @r|y@nkh@yer23 @end|ng |rom gm@||@com  Wed May  4 20:30:20 2022
From: @r|y@nkh@yer23 @end|ng |rom gm@||@com (Ariyan Khayer)
Date: Wed, 4 May 2022 23:00:20 +0430
Subject: [R] (no subject)
Message-ID: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>

Hello.i was interested in learning about programming.(Especially R) but I
do not have any source to study and learn from.can you help me with that?

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May  6 01:28:58 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 May 2022 16:28:58 -0700
Subject: [R] (no subject)
In-Reply-To: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
References: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
Message-ID: <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>

Sigh. You _do_ have a source... the Internet.

But to get off the dime, try https://rstudio-education.github.io/hopr. Once you have some familiarity with basic programming concepts in R, do read the manuals that come with R when you install it... and for contributed packages, vignettes are particularly useful.

On May 4, 2022 11:30:20 AM PDT, Ariyan Khayer <ariyankhayer23 at gmail.com> wrote:
>Hello.i was interested in learning about programming.(Especially R) but I
>do not have any source to study and learn from.can you help me with that?
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May  6 01:40:28 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 5 May 2022 23:40:28 +0000 (UTC)
Subject: [R] (no subject)
In-Reply-To: <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>
References: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
 <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>
Message-ID: <681519666.55948.1651794028393@mail.yahoo.com>

I get suspicious about patterns. A similar request from a gmail account with another username?was made just a day ago on a Python mailing list asking about learning that language. That user?has not responded so far to anything people replied.?
Hopefully this is not yet another person getting their jollies by having others waste their time.
I now refuse to answer overly general requests that tell us nothing about the background of?the person and are not really about more specific aspects of the language. As noted, there?are plenty of free resources on the Internet in text form and even classes as well as free?library books if you live in an area??that has them and of course books and classes you can?pay for. But what works for a person with zero programming experience is not what someone?who knows multiple languages already needs and so on.?
I apologize if I am wrong and see patterns where there may be none. But unless a new semester?is starting somewhere, why would we get such requests in early May?
I also note the request is not limited to R but programming in general. I don't volunteer.


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: r-help at r-project.org; Ariyan Khayer <ariyankhayer23 at gmail.com>
Sent: Thu, May 5, 2022 7:28 pm
Subject: Re: [R] (no subject)

Sigh. You _do_ have a source... the Internet.

But to get off the dime, try https://rstudio-education.github.io/hopr. Once you have some familiarity with basic programming concepts in R, do read the manuals that come with R when you install it... and for contributed packages, vignettes are particularly useful.

On May 4, 2022 11:30:20 AM PDT, Ariyan Khayer <ariyankhayer23 at gmail.com> wrote:
>Hello.i was interested in learning about programming.(Especially R) but I
>do not have any source to study and learn from.can you help me with that?
>
>??? [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Fri May  6 09:15:01 2022
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 6 May 2022 19:15:01 +1200
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>

I would like to point out that there is an English word
"cran" (one syllable, rhymes with "can" "ban" "than" ...).
It means "
a measure of fresh herrings, equivalent to 37 1/2 gallons".

If you are going to use "CRAN" as the name of something,

you are going to have to expect me to pronounce it like

the English word "cran".
I've been aware of CPAN and CTAN since their inception, but
it never occurred to pronounce the "C" as "sea".
I've been pronouncing those as "c'PAN" and "c'TAN" with a
schwa, as in "The Ballad of Lost C'Mell"
https://en.wikipedia.org/wiki/The_Ballad_of_Lost_C%27Mell


On Thu, 5 May 2022 at 02:31, Roland Rau via R-help <r-help at r-project.org>
wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer
> and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Fri May  6 14:02:24 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Fri, 6 May 2022 12:02:24 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>
Message-ID: <BN6PR2201MB1553F33342A3154644521214CFC59@BN6PR2201MB1553.namprd22.prod.outlook.com>

Could also be a glottal stop. American's encounter the problem with Hawaiian words, in part because we typically leave out the glottal stop when we spell them. Hawaii versus Hawai'I for example. If some can leave out the glottal stop, why not add it if it makes the word easier to pronounce to get C'RAN versus CRAN. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Friday, May 6, 2022 3:15 AM
To: Roland Rau <rau at demogr.mpg.de>
Cc: R Project Help <r-help at r-project.org>
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

I would like to point out that there is an English word "cran" (one syllable, rhymes with "can" "ban" "than" ...).
It means "
a measure of fresh herrings, equivalent to 37 1/2 gallons".

If you are going to use "CRAN" as the name of something,

you are going to have to expect me to pronounce it like

the English word "cran".
I've been aware of CPAN and CTAN since their inception, but it never occurred to pronounce the "C" as "sea".
I've been pronouncing those as "c'PAN" and "c'TAN" with a schwa, as in "The Ballad of Lost C'Mell"
https://urldefense.proofpoint.com/v2/url?u=https-3A__en.wikipedia.org_wiki_The-5FBallad-5Fof-5FLost-5FC-2527Mell&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=zu21-OJR3WLT9xoUYTtfDSHgs3LDe4eoJHa9g7CNK_4&e=


On Thu, 5 May 2022 at 02:31, Roland Rau via R-help <r-help at r-project.org>
wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced 
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague 
> was a student and has worked at the same institution as an R Core 
> Developer and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic 
> ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_
> WrQykkE&s=cJelZVdoFXAp-hHwrMGN7_pMaidBz8Eo2vzrvBi0ZHM&e=
> PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA
> _WrQykkE&s=vCgzxakKX-C4BY7JuebGQHUYW_sPH0H_T4RWYGEB6r0&e=
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=cJelZVdoFXAp-hHwrMGN7_pMaidBz8Eo2vzrvBi0ZHM&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=vCgzxakKX-C4BY7JuebGQHUYW_sPH0H_T4RWYGEB6r0&e=
and provide commented, minimal, self-contained, reproducible code.


From gu|do@hoo|ve|d @end|ng |rom wur@n|  Fri May  6 20:05:13 2022
From: gu|do@hoo|ve|d @end|ng |rom wur@n| (Hooiveld, Guido)
Date: Fri, 6 May 2022 18:05:13 +0000
Subject: [R] How to obtain named vector from single-column data frame?
Message-ID: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>

Dear all,

I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.

However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?

Thanks,
Guido  


> df <- data.frame("VarX" = c("A",2,"D",2,1) ,
+  "VarY" = c(5,7,9,8,7) )
> 
> unlist(df) #nice!
VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5 
  "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7" 
> names(unlist(df))
 [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
[10] "VarY5"
>
>
>
> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
[1] 5 7 9 8 7
> names(unlist(df[, "VarY"]))
NULL
>


From dc@r|@on @end|ng |rom t@mu@edu  Fri May  6 20:12:18 2022
From: dc@r|@on @end|ng |rom t@mu@edu (David Carlson)
Date: Fri, 6 May 2022 13:12:18 -0500
Subject: [R] legend in plot
In-Reply-To: <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
 <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
Message-ID: <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>

You can't get exactly what you want with base graphics, but you can get
close by defining line types and colors outside the plot command:

x <- seq(-3, 3, by = 0.01)
lns <- 1:2
clr <- 1:2
matplot(x, cbind(x, x^2), type="l", lty=lns, col=clr)
legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col =
clr, bty = "n")

David L Carlson

legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col =
clr, bty = "n")


On Thu, May 5, 2022 at 4:56 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Naresh, Have a look at the emptyspace function in the plotrix package.
> This returns the center of the largest empty space on the plot. Jim On Thu,
> May 5, 2022 at 10:41 PM Naresh Gurbuxani <naresh_gurbuxani at hotmail.com>
> wrote: >
> ZjQcmQRYFpfptBannerStart
> This Message Is From an External Sender
> This message came from outside your organization.
>
> ZjQcmQRYFpfptBannerEnd
>
> Hi Naresh,
> Have a look at the emptyspace function in the plotrix package. This
> returns the center of the largest empty space on the plot.
>
> Jim
>
> On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
> <naresh_gurbuxani at hotmail.com> wrote:
> >
> > Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
> >
> > # I can do this
> > x <- seq(-3, 3, by = 0.01)
> > plot(x, x, type = "l")
> > lines(x, x^2, lty = 2, col = 2)
> > # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> > legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
> >
> > # I want to do something like this
> > plot(x, x, type = "l", label = "x")
> > lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> > # legend command already knows the legend for each line
> > legend("bottomright", bty = "n")
> >
> > Thanks,
> > Naresh
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> > PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, seehttps://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May  6 20:17:14 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 6 May 2022 19:17:14 +0100
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
Message-ID: <bff1eb85-7dff-96c2-bcfb-2ce9f3dc5457@sapo.pt>

Hello,

When you unlist, the dimension is dropped since the result is just one 
vector. Add drop = FALSE and that's it.


unlist(df[, "VarY", drop = FALSE])


Hope this helps,

Rui Barradas

?s 19:05 de 06/05/2022, Hooiveld, Guido escreveu:
> Dear all,
> 
> I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.
> 
> However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?
> 
> Thanks,
> Guido
> 
> 
>> df <- data.frame("VarX" = c("A",2,"D",2,1) ,
> +  "VarY" = c(5,7,9,8,7) )
>>
>> unlist(df) #nice!
> VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5
>    "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"
>> names(unlist(df))
>   [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
> [10] "VarY5"
>>
>>
>>
>> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
> [1] 5 7 9 8 7
>> names(unlist(df[, "VarY"]))
> NULL
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dc@r|@on @end|ng |rom t@mu@edu  Fri May  6 20:26:25 2022
From: dc@r|@on @end|ng |rom t@mu@edu (David Carlson)
Date: Fri, 6 May 2022 13:26:25 -0500
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
Message-ID: <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>

Just use
names(unlist(df[, "VarY", drop=FALSE]))
# [1] "VarY1" "VarY2" "VarY3" "VarY4" "VarY5"

When you extract a single column from a data frame it converts it to a
vector by default.

David L Carlson



On Fri, May 6, 2022 at 1:05 PM Hooiveld, Guido <guido.hooiveld at wur.nl>
wrote:

> Dear all, I wrote a some code in which I 'convert' a data frame to a named
> vector using the function unlist(). This works very nicely for my use case,
> because each entry of the resulting vector is named after the column name
> of the data frame,
> ZjQcmQRYFpfptBannerStart
> This Message Is From an External Sender
> This message came from outside your organization.
>
> ZjQcmQRYFpfptBannerEnd
>
> Dear all,
>
> I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.
>
> However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?
>
> Thanks,
> Guido
>
>
> > df <- data.frame("VarX" = c("A",2,"D",2,1) ,
> +  "VarY" = c(5,7,9,8,7) )
> >
> > unlist(df) #nice!
> VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5
>   "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"
> > names(unlist(df))
>  [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
> [10] "VarY5"
> >
> >
> >
> > unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
> [1] 5 7 9 8 7
> > names(unlist(df[, "VarY"]))
> NULL
> >
>
> ______________________________________________R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, seehttps://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w$
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From gu|do@hoo|ve|d @end|ng |rom wur@n|  Fri May  6 20:59:30 2022
From: gu|do@hoo|ve|d @end|ng |rom wur@n| (Hooiveld, Guido)
Date: Fri, 6 May 2022 18:59:30 +0000
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
 <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>
Message-ID: <GV1PR01MB8786DB5281DF4D8C339AA04BE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>

Dear David and Rui,

Thanks a lot to both of you for your very fast answers; problem solved! :)

Regards,
Guido

From: David Carlson <dcarlson at tamu.edu>
Sent: 06 May 2022 20:26
To: Hooiveld, Guido <guido.hooiveld at wur.nl>
Cc: r-help at r-project.org
Subject: Re: [R] How to obtain named vector from single-column data frame?

Just use
names(unlist(df[, "VarY", drop=FALSE]))
# [1] "VarY1" "VarY2" "VarY3" "VarY4" "VarY5"

When you extract a single column from a data frame it converts it to a vector by default.

David L Carlson


On Fri, May 6, 2022 at 1:05 PM Hooiveld, Guido <guido.hooiveld at wur.nl<mailto:guido.hooiveld at wur.nl>> wrote:
Dear all, I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame,
ZjQcmQRYFpfptBannerStart
This Message Is From an External Sender
This message came from outside your organization.

ZjQcmQRYFpfptBannerEnd

Dear all,



I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.



However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?



Thanks,

Guido





> df <- data.frame("VarX" = c("A",2,"D",2,1) ,

+  "VarY" = c(5,7,9,8,7) )

>

> unlist(df) #nice!

VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5

  "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"

> names(unlist(df))

 [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"

[10] "VarY5"

>

>

>

> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"

[1] 5 7 9 8 7

> names(unlist(df[, "VarY"]))

NULL

>



______________________________________________

R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see

https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog$<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.com%2Fv3%2F__https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help__%3B!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog%24&data=05%7C01%7Cguido.hooiveld%40wur.nl%7Cbdd102be7b9042ccfec508da2f8df4c0%7C27d137e5761f4dc1af88d26430abb18f%7C0%7C0%7C637874584008711589%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=UGXlmkwuoBkGb%2F7dLZ0%2F3iFXJ9rtabtRB8%2FZ1sbMe8g%3D&reserved=0>

PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w$<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.com%2Fv3%2F__http%3A%2F%2Fwww.R-project.org%2Fposting-guide.html__%3B!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w%24&data=05%7C01%7Cguido.hooiveld%40wur.nl%7Cbdd102be7b9042ccfec508da2f8df4c0%7C27d137e5761f4dc1af88d26430abb18f%7C0%7C0%7C637874584008711589%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=okqIQIFy6e1vHNTqezf8cDO2tmt%2BuZnqCe98CUnGknQ%3D&reserved=0>

and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Fri May  6 21:23:58 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Fri, 6 May 2022 19:23:58 +0000
Subject: [R] legend in plot
In-Reply-To: <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
 <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
 <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>
Message-ID: <BL0PR01MB403637E5423C107AECB0D002FAC59@BL0PR01MB4036.prod.exchangelabs.com>

This is the solution that best fits my needs.

Thanks everyone for their responses,
Naresh

Sent from my iPhone

On May 6, 2022, at 2:12 PM, David Carlson <dcarlson at tamu.edu<mailto:dcarlson at tamu.edu>> wrote:

You can't get exactly what you want with base graphics, but you can get close by defining line types and colors outside the plot command:

x <- seq(-3, 3, by = 0.01)
lns <- 1:2
clr <- 1:2
matplot(x, cbind(x, x^2), type="l", lty=lns, col=clr)
legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col = clr, bty = "n")

David L Carlson

legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col = clr, bty = "n")


On Thu, May 5, 2022 at 4:56 PM Jim Lemon <drjimlemon at gmail.com<mailto:drjimlemon at gmail.com>> wrote:
Hi Naresh, Have a look at the emptyspace function in the plotrix package. This returns the center of the largest empty space on the plot. Jim On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani <naresh_gurbuxani at hotmail.com<mailto:naresh_gurbuxani at hotmail.com>> wrote: >
ZjQcmQRYFpfptBannerStart
This Message Is From an External Sender
This message came from outside your organization.

ZjQcmQRYFpfptBannerEnd

Hi Naresh,
Have a look at the emptyspace function in the plotrix package. This
returns the center of the largest empty space on the plot.

Jim

On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com<mailto:naresh_gurbuxani at hotmail.com>> wrote:
>
> Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
>
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
>
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From he|mut@@chuetz @end|ng |rom beb@c@@t  Sat May  7 14:06:53 2022
From: he|mut@@chuetz @end|ng |rom beb@c@@t (=?UTF-8?Q?Helmut_Sch=c3=bctz?=)
Date: Sat, 7 May 2022 14:06:53 +0200
Subject: [R] Error on r-oldrel-windows-ix86+x86_64
Message-ID: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>

Dear all,

I got an error: 
https://cran.r-project.org/web/checks/check_results_replicateBE.html
Specifically:
Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), 
versionCheck = vI[[j]]) :
 ? there is no package called 'nloptr'
The chain of dependecies are:
replicateBE > lmerTest > lme4 > nloptr

In v1.1.3 there where only changes in the man pages documenting data sets.
The previous v1.1.0 had no problems with the (then current) R4.1.3

Is this a transient problem on CRAN? Is there anything I can do about?

Helmut

-- 
Ing. Helmut Sch?tz
BEBAC ? Consultancy Services for
Bioequivalence and Bioavailability Studies
Neubaugasse 36/11
1070 Vienna, Austria
T +43 1 2311746
M +43 699 10792458
E helmut.schuetz at bebac.at <mailto:helmut.schuetz at bebac.at>
W https://bebac.at <https://bebac.at/>


From p@u|bern@|07 @end|ng |rom gm@||@com  Mon May  9 10:23:55 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Mon, 9 May 2022 03:23:55 -0500
Subject: [R] Filtering an Entire Dataset based on Several Conditions
Message-ID: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>

Dear friends,

I have a dataframe which every single (i,j) entry (i standing for ith row,
j for jth column) has been normalized (converted to z-scores).

Now I want to filter or subset the dataframe so that I only end up with a a
dataframe containing only entries greater than -3 or less than 3.

How could I accomplish this?

Best,
Paul

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Mon May  9 10:48:07 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Mon, 9 May 2022 11:48:07 +0300
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>

Hi Paul,
Not completely clear what you are looking for.
Please create a 3 x 3 example data frame with dummy data and show what you
want the result to be.



On Mon, May 9, 2022 at 11:24 AM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Dear friends,
>
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
>
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
>
> How could I accomplish this?
>
> Best,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Mon May  9 10:57:59 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Mon, 9 May 2022 10:57:59 +0200 (CEST)
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
Message-ID: <3cead993-ebe7-290-ce7-d6c195676f8c@uibk.ac.at>



On Mon, 9 May 2022, Eric Berger wrote:

> Hi Paul,
> Not completely clear what you are looking for.
> Please create a 3 x 3 example data frame with dummy data and show what you
> want the result to be.

Maybe something like this?

## scaled data frame
z <- scale(cars)

## all z scores < -1.6 or > 1.6
i <- apply(z < -1.6 | z > 1.6, 1, all)
## with 3 instead of 1.6 no observations would fulfill the condition

## select subset
z[i, ]
##         speed     dist
## [1,] 1.626433 1.902258
## [2,] 1.626433 1.941064
## [3,] 1.626433 2.988819
## [4,] 1.815553 1.630618


> On Mon, May 9, 2022 at 11:24 AM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
>> Dear friends,
>>
>> I have a dataframe which every single (i,j) entry (i standing for ith row,
>> j for jth column) has been normalized (converted to z-scores).
>>
>> Now I want to filter or subset the dataframe so that I only end up with a a
>> dataframe containing only entries greater than -3 or less than 3.
>>
>> How could I accomplish this?
>>
>> Best,
>> Paul
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jr@| @end|ng |rom po@teo@no  Mon May  9 11:04:24 2022
From: jr@| @end|ng |rom po@teo@no (Rasmus Liland)
Date: Mon,  9 May 2022 09:04:24 +0000
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
Message-ID: <YnjZGByVD3EGjgx7@posteo.no>

Dear Paul,

perhaps you could melt the wide df into 
a long one with columns i, j, and z, and 
then reshape df[df$z>-3 & df$z<3,] back 
into a wide one?

Best,
Rasmus


From drj|m|emon @end|ng |rom gm@||@com  Mon May  9 11:11:23 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 9 May 2022 19:11:23 +1000
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <CA+8X3fXjW2MJjmhpKx8XOd2buUe0oGz0O_kPpaGCaWsco7uxOQ@mail.gmail.com>

Hi Paul,
Based on my guess that all values have been normalized, I would say:

mat<-(matrix(runif(16,-5,5),4))
df<-as.data.frame(mat)
df[abs(df) < 3]<-NA
df
       V1       V2       V3        V4
1       NA 4.675699 3.166625        NA
2       NA       NA       NA  3.463660
3 4.288831       NA 4.032902 -4.343869
4       NA       NA       NA        NA

Beware that this behavior of data frames may not persist in the
future. You may have to convert to a matrix and then convert the
result back again.

Jim

On Mon, May 9, 2022 at 6:24 PM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
>
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
>
> How could I accomplish this?
>
> Best,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May  9 11:22:48 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 May 2022 10:22:48 +0100
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>

Hello,

Something like this?
First normalize the data.
Then a apply loop creates a logical matrix giving which numbers are in 
the range -3 to 3.
If they are all TRUE then their sum by rows is equal to the number of 
columns. This creates a logical index i.
Use that index i to subset the scaled data set.

# test data set, remove the Species column (not numeric)
df1 <- iris[-5]

df1_norm <- scale(df1)
i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)

# returns a matrix
df1_norm[i, ]

# returns a data.frame
as.data.frame(df1_norm[i,])


Hope this helps,

Rui Barradas

?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> Dear friends,
> 
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
> 
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
> 
> How could I accomplish this?
> 
> Best,
> Paul
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pedrop@u|o@chr|@p|m @end|ng |rom gm@||@com  Mon May  9 13:20:37 2022
From: pedrop@u|o@chr|@p|m @end|ng |rom gm@||@com (Pedro Paulo Chrispim)
Date: Mon, 9 May 2022 08:20:37 -0300
Subject: [R] R-help Digest, Vol 231, Issue 9
In-Reply-To: <mailman.366622.0.1652090401.55205.r-help@r-project.org>
References: <mailman.366622.0.1652090401.55205.r-help@r-project.org>
Message-ID: <804954d5-744e-f6a7-7749-ab6e2a0dd041@gmail.com>

Hi, Paul.

Not sure if you want to drop only cases out of limits or entire rows 
with any case out of limits.

When I face similar tasks to select only cases, I write a function to 
select the cases, like:

subset.zscore <- function(x){
 ? ifelse(x > -3 & x < 3, x, NA)
}

and use it to identify the cases. So if I have this dummy object:

a <- seq(from=-5, to=5, by=.01)
b <- seq(from=-6, to=4, by=.01)
df.original <- data.table::data.table(sample(a,100,replace = TRUE),
 ????????????????????????????????????? sample(b,100,replace = TRUE))

I would now subset? the cases (not entire rows):

df2 <- df.original[,lapply(.SD,(subset.zscore)]

Note that I use data.table package. You would need to convert your 
data.frame object into data.table before to run this code.

I hope this helps you.

Best,

Pedro Paulo.

On 09/05/22 07:00, r-help-request at r-project.org wrote:
> Send R-help mailing list submissions to
> 	r-help at r-project.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-help
> or, via email, send a message with subject or body 'help' to
> 	r-help-request at r-project.org
>
> You can reach the person managing the list at
> 	r-help-owner at r-project.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-help digest..."
>
> Today's Topics:
>
>     1. Filtering an Entire Dataset based on Several Conditions
>        (Paul Bernal)
>     2. Re: Filtering an Entire Dataset based on Several Conditions
>        (Eric Berger)
>     3. Re: Filtering an Entire Dataset based on Several Conditions
>        (Achim Zeileis)
>     4. Re: Filtering an Entire Dataset based on Several Conditions
>        (Rasmus Liland)
>     5. Re: Filtering an Entire Dataset based on Several Conditions
>        (Jim Lemon)
>     6. Re: Filtering an Entire Dataset based on Several Conditions
>        (Rui Barradas)
>
> _______________________________________________
> R-help at r-project.org  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
	[[alternative HTML version deleted]]


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Mon May  9 13:36:46 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Mon, 9 May 2022 17:06:46 +0530
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
Message-ID: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>

Hello Everyone,

I am trying to plot an Indian district shapefile filled with modeled yield,
corresponding to each GDMID. I needed to first merge the Yield data with
respect to each GDMID from the .RDS file with the district shapefile of
India. Each district is represented by a GDMID. After merging, the Indian
district map filled with modeled yield values needs to be plotted similar
to an example attached figure.

I feel there is something wrong with my code for merging and plotting by
ggplot.

I have attached herewith my code, .RDS dataframe, shapefile and sample
example fig.

It would be great if you could help me with merging issue and plotting the
map, showing yield value, and legend in tile format.

Regards and Thanks,
Ranjeet

--

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sample geo spatial crop production.PNG
Type: image/png
Size: 981726 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20220509/541ef57b/attachment-0001.png>

From bgunter@4567 @end|ng |rom gm@||@com  Mon May  9 16:28:04 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 May 2022 07:28:04 -0700
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
Message-ID: <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>

1. No code came through. Most attachments are filtered due to security
concerns. See the posting guide (linked below) for details.

2. Geo-type questions are better posted on r-sig-geo,
https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <ranjeetjhaiitkgp at gmail.com>
wrote:

> Hello Everyone,
>
> I am trying to plot an Indian district shapefile filled with modeled yield,
> corresponding to each GDMID. I needed to first merge the Yield data with
> respect to each GDMID from the .RDS file with the district shapefile of
> India. Each district is represented by a GDMID. After merging, the Indian
> district map filled with modeled yield values needs to be plotted similar
> to an example attached figure.
>
> I feel there is something wrong with my code for merging and plotting by
> ggplot.
>
> I have attached herewith my code, .RDS dataframe, shapefile and sample
> example fig.
>
> It would be great if you could help me with merging issue and plotting the
> map, showing yield value, and legend in tile format.
>
> Regards and Thanks,
> Ranjeet
>
> --
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From p@u|bern@|07 @end|ng |rom gm@||@com  Mon May  9 18:44:04 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Mon, 9 May 2022 11:44:04 -0500
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
Message-ID: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>

Dear Rui,

I was trying to dput() the datasets I am working on, but since it is a bit
large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
the data to include it here, so I am attaching a couple of files. One is
the raw data (called trainFeatures42k), which is the data I need to
normalize, and the other is normalized_Data, which is the data normalized
(or at least I think I got to normalize it).

 Normalized_Data.csv
<https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
 trainFeatures42k.xls
<https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>

I have tried some of the code you and other friends from the community have
kindly shared, but have not been able to filter values > -3 and < 3.

Thank you all for your valuable help always.
Best,
Paul

El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
escribi?:

> Hello,
>
> Something like this?
> First normalize the data.
> Then a apply loop creates a logical matrix giving which numbers are in
> the range -3 to 3.
> If they are all TRUE then their sum by rows is equal to the number of
> columns. This creates a logical index i.
> Use that index i to subset the scaled data set.
>
> # test data set, remove the Species column (not numeric)
> df1 <- iris[-5]
>
> df1_norm <- scale(df1)
> i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
>
> # returns a matrix
> df1_norm[i, ]
>
> # returns a data.frame
> as.data.frame(df1_norm[i,])
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > Dear friends,
> >
> > I have a dataframe which every single (i,j) entry (i standing for ith
> row,
> > j for jth column) has been normalized (converted to z-scores).
> >
> > Now I want to filter or subset the dataframe so that I only end up with
> a a
> > dataframe containing only entries greater than -3 or less than 3.
> >
> > How could I accomplish this?
> >
> > Best,
> > Paul
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Mon May  9 18:45:03 2022
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 9 May 2022 18:45:03 +0200
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>
Message-ID: <84956B68-BF71-4722-806A-EEF0E3B84C1D@gmail.com>

As far as I remember, "cranberries" as a parallel to "Java beans" was part of the original CRAN concept in 1997. (This can possibly be dug out from the mailing list archives; should be around March/April 1997.) But even within R Core the pronunciaton varies, possibly even within R Core members. I think Kurt says "Krahn", Uwe "C-ran", and I likely parrot whichever one I am talking to.

- Peter D.

> On 4 May 2022, at 17:56 , Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
> 
> My personal impression is that in the early days of CRAN the pronouncation as in "C-Ran" was more common but this has shifted towards "Cran" over the years.
> 
> CRAN was named in the same style as CPAN for Perl and CTAN for TeX (as others have pointed out in this thread already). Many R users and developers were also active in other free software communities and were familiar with CPAN and CTAN as well. Hence "C-Ran" was natural.
> 
> But because - unlike the other abbreviations - CRAN can be pronounced as "Cran" it was attractive for wordplays like Cranberries (https://dirk.eddelbuettel.com/cranberries/), Crantastic (https://github.com/hadley/crantastic), fortunes::fortune("Yes we CRAN!"), etc. Also, I would guess that the vast majority of today's R users (and possibly also developers) is not familiar with CPAN or CTAN anymore. Hence "Cran" is more natural for most of them.
> 
> And given that even the founders of CRAN sometimes pronounce it in one and sometimes in the other way, I think it is fair to use both pronouncations.
> 
> Best wishes,
> Achim
> 
> 
> On Wed, 4 May 2022, Roland Rau via R-help wrote:
> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May  9 19:54:31 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 May 2022 18:54:31 +0100
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <92648603-415b-971f-a44f-8c838bcba0da@sapo.pt>

Hello,

My code seems to work with your data, except that the first column is 
not to be scaled.



# file names
xlsfile <- file.path("~/dados", "trainFeatures42k.xls")
csvfile <- file.path("~/dados", "Normalized_Data.csv")
# read in the data files
df1 <- readxl::read_excel(xlsfile, col_names = FALSE)
df2 <- read.csv(csvfile)
# assign names to make all.equal happy
names(df1) <- sprintf("X%d", seq_len(ncol(df1)))
names(df2) <- sprintf("X%d", seq_len(ncol(df2)))

# the first column is not to be scaled
df1_norm <- scale(df1[-1])
# compare to the already scaled data from the Google Drive
# the data.frames are equal up to floating-point precision
identical(df2[-1], as.data.frame(df1_norm))
#[1] FALSE
all.equal(df2[-1], as.data.frame(df1_norm))
#[1] TRUE

# see if all values in each row are between -3 and 3
i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)

# filter and return a data.frame
df1_clean <- as.data.frame(df1_norm[i,])
dim(df1_clean)
#[1] 32494    60


See if you get the same results.

Hope this helps,

Rui Barradas


?s 17:44 de 09/05/2022, Paul Bernal escreveu:
> Dear Rui,
> 
> I was trying to dput() the datasets I am working on, but since it is a 
> bit large (42,000 rows by 60 columns) couldn?t retrieve all the 
> structure of the data to include it here, so I am attaching a couple of 
> files. One is the raw data (called trainFeatures42k), which is the data 
> I need to normalize, and the other is normalized_Data, which is the data 
> normalized (or at least I think I got to normalize it).
> 
> Normalized_Data.csv 
> <https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
> trainFeatures42k.xls 
> <https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>
> 
> I have tried some of the code you and other friends from the community 
> have kindly shared, but have not been able to filter values > -3 and < 3.
> 
> Thank you all for your valuable help always.
> Best,
> Paul
> 
> El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>) escribi?:
> 
>     Hello,
> 
>     Something like this?
>     First normalize the data.
>     Then a apply loop creates a logical matrix giving which numbers are in
>     the range -3 to 3.
>     If they are all TRUE then their sum by rows is equal to the number of
>     columns. This creates a logical index i.
>     Use that index i to subset the scaled data set.
> 
>     # test data set, remove the Species column (not numeric)
>     df1 <- iris[-5]
> 
>     df1_norm <- scale(df1)
>     i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
> 
>     # returns a matrix
>     df1_norm[i, ]
> 
>     # returns a data.frame
>     as.data.frame(df1_norm[i,])
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
>      > Dear friends,
>      >
>      > I have a dataframe which every single (i,j) entry (i standing for
>     ith row,
>      > j for jth column) has been normalized (converted to z-scores).
>      >
>      > Now I want to filter or subset the dataframe so that I only end
>     up with a a
>      > dataframe containing only entries greater than -3 or less than 3.
>      >
>      > How could I accomplish this?
>      >
>      > Best,
>      > Paul
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>


From bgunter@4567 @end|ng |rom gm@||@com  Mon May  9 20:09:39 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 May 2022 11:09:39 -0700
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <CAGxFJbSJxhgCNOFVBCvMxezV7EWV_e2qP=k1JJUFpJs5goUYSw@mail.gmail.com>

This is trivial, so perhaps there is a miscommunication. How do you want to
handle values outside your desired range? I would simply change them to NA
(see below), but perhaps you have something else in mind that you need to
describe more explicitly. Anyway, below is a simple example of what I
*think* you asked for. Apologies if I have misunderstood.

> set.seed(567)
> ## create a data frame with 3 columns and 5 rows from norm(0,3)
> d <- as.data.frame(lapply(rep(5,3), function(x)round(rnorm(x,0,3),2)))
> names(d) <- LETTERS[1:3]
> d
      A     B     C
1  1.97 -1.23 -3.41
2  1.02 -1.12 -2.27
3 -1.92 -6.37 -6.44
4 -4.32  0.18  4.08
5  0.66 -5.82 -0.81
> d[abs(d) > 3] <- NA
> d
      A     B     C
1  1.97 -1.23    NA
2  1.02 -1.12 -2.27
3 -1.92    NA    NA
4    NA  0.18    NA
5  0.66    NA -0.81

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, May 9, 2022 at 9:44 AM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Dear Rui,
>
> I was trying to dput() the datasets I am working on, but since it is a bit
> large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
> the data to include it here, so I am attaching a couple of files. One is
> the raw data (called trainFeatures42k), which is the data I need to
> normalize, and the other is normalized_Data, which is the data normalized
> (or at least I think I got to normalize it).
>
>  Normalized_Data.csv
> <
> https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web
> >
>  trainFeatures42k.xls
> <
> https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web
> >
>
> I have tried some of the code you and other friends from the community have
> kindly shared, but have not been able to filter values > -3 and < 3.
>
> Thank you all for your valuable help always.
> Best,
> Paul
>
> El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
> escribi?:
>
> > Hello,
> >
> > Something like this?
> > First normalize the data.
> > Then a apply loop creates a logical matrix giving which numbers are in
> > the range -3 to 3.
> > If they are all TRUE then their sum by rows is equal to the number of
> > columns. This creates a logical index i.
> > Use that index i to subset the scaled data set.
> >
> > # test data set, remove the Species column (not numeric)
> > df1 <- iris[-5]
> >
> > df1_norm <- scale(df1)
> > i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
> >
> > # returns a matrix
> > df1_norm[i, ]
> >
> > # returns a data.frame
> > as.data.frame(df1_norm[i,])
> >
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > > Dear friends,
> > >
> > > I have a dataframe which every single (i,j) entry (i standing for ith
> > row,
> > > j for jth column) has been normalized (converted to z-scores).
> > >
> > > Now I want to filter or subset the dataframe so that I only end up with
> > a a
> > > dataframe containing only entries greater than -3 or less than 3.
> > >
> > > How could I accomplish this?
> > >
> > > Best,
> > > Paul
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@r||nkcox @end|ng |rom gm@||@com  Mon May  9 21:30:44 2022
From: m@r||nkcox @end|ng |rom gm@||@com (Marlin Keith Cox)
Date: Mon, 9 May 2022 11:30:44 -0800
Subject: [R] Contract work for non-linear regressions
Message-ID: <CAHskWAW1JZzvEHrRx6qT-vgaxBjX5Lzumjuy_bAXU3k5vc-zdA@mail.gmail.com>

I am not sure if this is appropriate here, my apologies if not.  I have
used R for 20 years now and need help with non-linear regression analysis
over 100's of different frequencies and my data has exceeded by R program
capabilities.

My company would provide the contract.

keith

M. Keith Cox, Ph.D.
Principal
MKConsulting
17415 Christine Ave.
Juneau, AK 99801
U.S. 907.957.4606

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Mon May  9 23:57:58 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 9 May 2022 21:57:58 +0000 (UTC)
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <193583357.728595.1652133478719@mail.yahoo.com>

Paul,

I read through the public replies you received and clearly some of us were not too clear on what you asked.?Your subject line was not helpful as my first thought was that you wanted a single column?examined for two conditions, as in EITHER less than 3 standard deviations above the mean?OR more than three standard deviations below the mean. As someone else noted, using abs(whatever)?makes it easy to do with a single condition.?

You could have simply said you want to remove outliers more?than 3 standard deviations from the mean!?I note in standard normally distributed data, the ones you want to exclude may be only 0.3% but in 39 such?columns, quite a few rows will be an issue.

The voluminous data you shared makes it clear you have 39 columns of this. So it seems what you meant was?you wanted to apply the same logic to all 39 columns and maybe that is what you meant by multiple conditions.

But what result do you want? Do you want to remove rows that are all-out of bounds or even a single one outside??Do you want to remove the row or just mark the outlier, perhaps with an NA?

Some have suggested you convert to a matrix where many tools are available, and back to a data.frame if needed.?I note your solution becomes fairly trivial if you convert any values above 3.0 to an NA and then use?complete.cases( to remove any NA rows. This assumes, of course, you have no NA to start with.

There are all kinds of ways to do things and if you were using the dplyr package from the tidyverse, which we?are discouraged from talking about here, I can see possibilities including the rowwise() function.

One idea to consider is that you can use the max() and min() functions applied to rows or columns.?You can convert your data (perhaps as a matrix) using t() and remove any rows where the max of the?absolute value of "all row elements" exceeds 3.?

One thought is to re-scale your data again using a function that is a bit like a truncated normal distribution?but instead of tossing outliers, it returns an NA. As noted, then complete.cases() handles your need. But,?as noted,?

But in your case, all your columns are numeric and the same so fairly trivial code like:?

mydf[abs(mydf ) > 3] <- NA

mydf <- complete.cases(mydf)

just might do it for you.

Good luck!

-----Original Message-----
From: Paul Bernal <paulbernal07 at gmail.com>
To: Rui Barradas <ruipbarradas at sapo.pt>
Cc: R <r-help at r-project.org>
Sent: Mon, May 9, 2022 12:44 pm
Subject: Re: [R] Filtering an Entire Dataset based on Several Conditions

Dear Rui,

I was trying to dput() the datasets I am working on, but since it is a bit
large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
the data to include it here, so I am attaching a couple of files. One is
the raw data (called trainFeatures42k), which is the data I need to
normalize, and the other is normalized_Data, which is the data normalized
(or at least I think I got to normalize it).

 Normalized_Data.csv
<https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
 trainFeatures42k.xls
<https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>

I have tried some of the code you and other friends from the community have
kindly shared, but have not been able to filter values > -3 and < 3.

Thank you all for your valuable help always.
Best,
Paul

El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
escribi?:

> Hello,
>
> Something like this?
> First normalize the data.
> Then a apply loop creates a logical matrix giving which numbers are in
> the range -3 to 3.
> If they are all TRUE then their sum by rows is equal to the number of
> columns. This creates a logical index i.
> Use that index i to subset the scaled data set.
>
> # test data set, remove the Species column (not numeric)
> df1 <- iris[-5]
>
> df1_norm <- scale(df1)
> i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
>
> # returns a matrix
> df1_norm[i, ]
>
> # returns a data.frame
> as.data.frame(df1_norm[i,])
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > Dear friends,
> >
> > I have a dataframe which every single (i,j) entry (i standing for ith
> row,
> > j for jth column) has been normalized (converted to z-scores).
> >
> > Now I want to filter or subset the dataframe so that I only end up with
> a a
> > dataframe containing only entries greater than -3 or less than 3.
> >
> > How could I accomplish this?
> >
> > Best,
> > Paul
> >
> >? ? ? [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Mon May  9 19:01:45 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Mon, 9 May 2022 22:31:45 +0530
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
Message-ID: <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>

Thanks for your reply. Though codes are in
" yield. r" file.

Ranjeet

On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:

> 1. No code came through. Most attachments are filtered due to security
> concerns. See the posting guide (linked below) for details.
>
> 2. Geo-type questions are better posted on r-sig-geo,
> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
> ranjeetjhaiitkgp at gmail.com> wrote:
>
>> Hello Everyone,
>>
>> I am trying to plot an Indian district shapefile filled with modeled
>> yield,
>> corresponding to each GDMID. I needed to first merge the Yield data with
>> respect to each GDMID from the .RDS file with the district shapefile of
>> India. Each district is represented by a GDMID. After merging, the Indian
>> district map filled with modeled yield values needs to be plotted similar
>> to an example attached figure.
>>
>> I feel there is something wrong with my code for merging and plotting by
>> ggplot.
>>
>> I have attached herewith my code, .RDS dataframe, shapefile and sample
>> example fig.
>>
>> It would be great if you could help me with merging issue and plotting the
>> map, showing yield value, and legend in tile format.
>>
>> Regards and Thanks,
>> Ranjeet
>>
>> --
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Tue May 10 19:29:10 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 10 May 2022 17:29:10 +0000
Subject: [R] extracting numeric values returned when using the by function
 to run the acf function
Message-ID: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>

I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
1.00  0.15   -0.50  -0.15
How  can I isolate these four values from the output returned by the by function.

Sample code:

RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
cat("Here are the data\n")
RecallSmall
cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
# attempting to subset does not work at all
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
# this gives me more than I want, not just the numeric results.
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

# For your reference, this is what the acf function returns
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
# For your reference, this is what the acf function returns when the output is subset
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John

Thank you,
John









	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue May 10 19:40:09 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 10 May 2022 18:40:09 +0100
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>

Hello,

by returns an object of class "by" that inherits from class "list". So 
assign its return value and then use sapply to extract the list members 
you want.


RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))

acf_list <- 
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
sapply(acf_list, `[[`, 1)
#>          1
#> [1,]  1.00
#> [2,]  0.15
#> [3,] -0.50
#> [4,] -0.15


This can be coerced to vector with c().

Hope this helps,

Rui Barradas

?s 18:29 de 10/05/2022, Sorkin, John escreveu:
> I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by function.
> 
> Sample code:
> 
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> 
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
> 
> Thank you,
> John
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From er|cjberger @end|ng |rom gm@||@com  Tue May 10 19:40:48 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 10 May 2022 20:40:48 +0300
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAGgJW76wB=htkUK09OpZMFT7Xa=ttvMLKNqmk=Yrz9aEzNgiFg@mail.gmail.com>

as.numeric(by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)[[1]]$acf)


On Tue, May 10, 2022 at 8:29 PM Sorkin, John <jsorkin at som.umaryland.edu>
wrote:

> I am using the by function to run the acf function. Each run of the by
> function returns more information than I want. All I want is the four
> values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by
> function.
>
> Sample code:
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
>
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the
> output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
>
> Thank you,
> John
>
>
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @@r@h@go@|ee @end|ng |rom gm@||@com  Tue May 10 19:44:32 2022
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Tue, 10 May 2022 13:44:32 -0400
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAM_vjun+MyW0M5gfHfVwCdrO1RtNBGpHn8R8W2Bt8JHgTEaM9g@mail.gmail.com>

Hi,

You can either write a small function that returns just the values you
want, or use a convenience function within by, as in:

> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"], FUN=function(x){acf(x, na.action=na.pass,plot=FALSE)$acf})
RecallSmall[1:4, "ID"]: 1
, , 1

      [,1]
[1,]  1.00
[2,]  0.15
[3,] -0.50
[4,] -0.15

But I suspect that you would get something more like what you want by
splitting the data on ID, and then using sapply:

> RecallSmall <- data.frame(ID=c(1,1,1,1,2,2,2,2), value=c(6,5,3,4,6,5,3,4))
> result <- split(RecallSmall[["value"]], RecallSmall[["ID"]])
> result <- sapply(result, FUN=function(x){acf(x, na.action=na.pass,plot=FALSE)$acf})
> result
         1     2
[1,]  1.00  1.00
[2,]  0.15  0.15
[3,] -0.50 -0.50
[4,] -0.15 -0.15


Sarah

On Tue, May 10, 2022 at 1:29 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by function.
>
> Sample code:
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
>
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
>
> Thank you,
> John
>
>
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee (she/her)
http://www.numberwright.com


From bgunter@4567 @end|ng |rom gm@||@com  Tue May 10 20:11:04 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 10 May 2022 11:11:04 -0700
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
 <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>
Message-ID: <CAGxFJbR=dTfoB-2yxzQeWGRHBRtd3Mt_bOHyGMW_1QF5pBMZ8A@mail.gmail.com>

Just as a slight addendum to Rui's and Sarah's remarks, this is really more
of a use case for tapply() than by(), as you are only working with a
function, acf, that wants a vector as an argument rather than (several
columns of) a data frame. So the following also does the job (using a
slightly more realistic example with two groups rather than one; all the
rest of their comments are still germane, though):

> RecallSmall <- data.frame(ID=rep(c('a','b'), e=4),value=rep(c(6,5,3,4),2))
>
> out <- with(RecallSmall,tapply(value, ID,acf, na.action = na.pass, plot =
FALSE))
>
> str(out)
List of 2
 $ a:List of 6
  ..$ acf   : num [1:4, 1, 1] 1 0.15 -0.5 -0.15
  ..$ type  : chr "correlation"
  ..$ n.used: int 4
  ..$ lag   : num [1:4, 1, 1] 0 1 2 3
  ..$ series: chr "X[[i]]"
  ..$ snames: NULL
  ..- attr(*, "class")= chr "acf"
 $ b:List of 6
  ..$ acf   : num [1:4, 1, 1] 1 0.15 -0.5 -0.15
  ..$ type  : chr "correlation"
  ..$ n.used: int 4
  ..$ lag   : num [1:4, 1, 1] 0 1 2 3
  ..$ series: chr "X[[i]]"
  ..$ snames: NULL
  ..- attr(*, "class")= chr "acf"
 - attr(*, "dim")= int 2
 - attr(*, "dimnames")=List of 1
  ..$ : chr [1:2] "a" "b"
>
> sapply(out, \(x)x$acf) ## or as Rui suggested
         a     b
[1,]  1.00  1.00
[2,]  0.15  0.15
[3,] -0.50 -0.50
[4,] -0.15 -0.15


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, May 10, 2022 at 10:42 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> by returns an object of class "by" that inherits from class "list". So
> assign its return value and then use sapply to extract the list members
> you want.
>
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
>
> acf_list <-
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> sapply(acf_list, `[[`, 1)
> #>          1
> #> [1,]  1.00
> #> [2,]  0.15
> #> [3,] -0.50
> #> [4,] -0.15
>
>
> This can be coerced to vector with c().
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 18:29 de 10/05/2022, Sorkin, John escreveu:
> > I am using the by function to run the acf function. Each run of the by
> function returns more information than I want. All I want is the four
> values that acf returns, which using the data below would be
> > 1.00  0.15   -0.50  -0.15
> > How  can I isolate these four values from the output returned by the by
> function.
> >
> > Sample code:
> >
> > RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> > cat("Here are the data\n")
> > RecallSmall
> > cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> > # attempting to subset does not work at all
> >
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> > # this gives me more than I want, not just the numeric results.
> >
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> >
> > # For your reference, this is what the acf function returns
> > acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> > # For your reference, this is what the acf function returns when the
> output is subset
> > acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
> >
> > Thank you,
> > John
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Tue May 10 20:12:15 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Tue, 10 May 2022 18:12:15 +0000 (UTC)
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <1272956815.943966.1652206335535@mail.yahoo.com>


John,
What is returned is a specialized list structure called a 'by" and getting the part you want out can be done?sort of carefully and sometimes with a bit of trial and error as the contents are nested. You can use?str(0 and other tools but this seems to work with care as you need [[]] not just [] to get the internal?contents, not another list:
> byeby <- by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

> result <- byeby[[1]]$acf
> print(result)
, , 1
? ? ? [,1][1,]? 1.00[2,]? 0.15[3,] -0.50[4,] -0.15
To make it a more normal vector rather than an array you might want to do this.
> result <- as.vector(result)

> result

[1]? 1.00? 0.15 -0.50 -0.15

Again, we discourage use of packages here for some reason but there are many alternatives?to using by() that get around this issue by not producing a specialized class as output.?
And a review ofthe help page for by() shows you could have added simplify=TRUE to make a normal?list as in:

by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE, simplify=TRUE)


But it remains a nested list and getting the part you want in one long command line that works for me is:

by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE, simplify=TRUE)[[1]]$acf[1:4]



-----Original Message-----
From: Sorkin, John <jsorkin at som.umaryland.edu>
To: r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Sent: Tue, May 10, 2022 1:29 pm
Subject: [R] extracting numeric values returned when using the by function to run the acf function

I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
1.00? 0.15? -0.50? -0.15
How? can I isolate these four values from the output returned by the by function.

Sample code:

RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
cat("Here are the data\n")
RecallSmall
cat("All I want is autocorrerlations, e.g. 1.00? 0.15 -0.50 -0.15 \n ")
# attempting to subset does not work at all
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
# this gives me more than I want, not just the numeric results.
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

# For your reference, this is what the acf function returns
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
# For your reference, this is what the acf function returns when the output is subset
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John

Thank you,
John









??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Wed May 11 13:40:28 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Wed, 11 May 2022 12:40:28 +0100
Subject: [R] Code for funnel plot
Message-ID: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>

Hi,

I am using R 4.1, and I am trying to create a funnel plot for continuous
data (measure = mean difference), using metafor. I checked the site
https://www.metafor-project.org/doku.php/plots:funnel_plot_variations, and
code provided is for dichotomous data - measure OR.

res <- rma(yi, vi, data=dat.hackshaw1998, measure="OR", method="EE")

funnel(res, main="Standard Error",back = "lightblue")

My question is how to construct a code to get a funnel for my continuous
data? I am using DL method

Thank you

	[[alternative HTML version deleted]]


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Wed May 11 15:50:39 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Wed, 11 May 2022 13:50:39 +0000
Subject: [R] Code for funnel plot
In-Reply-To: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>
References: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>
Message-ID: <eba4bb05e30e4192a0a0bb7550249be9@UM-MAIL3214.unimaas.nl>

The code is the same for drawing the funnel plot. For computing mean differences, you can use escalc() with measure="MD".

Sidenote: There is a mailing list specifically for meta-analysis with R: https://stat.ethz.ch/mailman/listinfo/r-sig-meta-analysis

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of De Simone
>Sent: Wednesday, 11 May, 2022 13:40
>To: r-help at r-project.org
>Subject: [R] Code for funnel plot
>
>Hi,
>
>I am using R 4.1, and I am trying to create a funnel plot for continuous
>data (measure = mean difference), using metafor. I checked the site
>https://www.metafor-project.org/doku.php/plots:funnel_plot_variations, and
>code provided is for dichotomous data - measure OR.
>
>res <- rma(yi, vi, data=dat.hackshaw1998, measure="OR", method="EE")
>
>funnel(res, main="Standard Error",back = "lightblue")
>
>My question is how to construct a code to get a funnel for my continuous
>data? I am using DL method
>
>Thank you


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed May 11 22:35:35 2022
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 11 May 2022 13:35:35 -0700
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
 <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
Message-ID: <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>


On 5/9/22 10:01, Ranjeet Kumar Jha wrote:
> Thanks for your reply. Though codes are in
> " yield. r" file.


You need to pay better attention to what Bert said about your 
attachment. `.r` files are not allowed as an attachment type. You need 
to either provide a link to a publicly accessible location or include 
the code inline.


-- 

David

>
> Ranjeet
>
> On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:
>
>> 1. No code came through. Most attachments are filtered due to security
>> concerns. See the posting guide (linked below) for details.
>>
>> 2. Geo-type questions are better posted on r-sig-geo,
>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along and
>> sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
>> ranjeetjhaiitkgp at gmail.com> wrote:
>>
>>> Hello Everyone,
>>>
>>> I am trying to plot an Indian district shapefile filled with modeled
>>> yield,
>>> corresponding to each GDMID. I needed to first merge the Yield data with
>>> respect to each GDMID from the .RDS file with the district shapefile of
>>> India. Each district is represented by a GDMID. After merging, the Indian
>>> district map filled with modeled yield values needs to be plotted similar
>>> to an example attached figure.
>>>
>>> I feel there is something wrong with my code for merging and plotting by
>>> ggplot.
>>>
>>> I have attached herewith my code, .RDS dataframe, shapefile and sample
>>> example fig.
>>>
>>> It would be great if you could help me with merging issue and plotting the
>>> map, showing yield value, and legend in tile format.
>>>
>>> Regards and Thanks,
>>> Ranjeet
>>>
>>> --
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|n||68 @end|ng |rom gm@||@com  Thu May 12 06:03:22 2022
From: j|n||68 @end|ng |rom gm@||@com (Jin Li)
Date: Thu, 12 May 2022 14:03:22 +1000
Subject: [R] For gbm users
Message-ID: <CAGu_3ZJH0axOGJYNaLzc4Hxjf8XggOgxht=40+ocLoXVBXcFgw@mail.gmail.com>

Hi all,

The package `spm` has been updated last week, with a bug fixed for the
function `gbmcv` that can now be used for 0/1 data. Consequently, the
functions such as `stepgbm` in the package `stepgbm` can also be used for
1/0 data.

Please let me know if you have any questions.

Best regards,
-- 
Jin
------------------------------------------
Jin Li, PhD
Founder, Data2action, Australia
https://www.researchgate.net/profile/Jin_Li32
https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en

	[[alternative HTML version deleted]]


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Thu May 12 15:45:28 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Thu, 12 May 2022 13:45:28 +0000 (UTC)
Subject: [R] pcalg library : names of the variables ?
References: <405936561.4203178.1652363128605.ref@mail.yahoo.com>
Message-ID: <405936561.4203178.1652363128605@mail.yahoo.com>

Dear R-experts,

Here below my R code working but I would like to get the names of the variables to appear on the graph instead of 1 ; 2 ; 3 and 4.
Is it possible ? I have tried something with colnames(x) but I get an error message.
Many thanks for your help.

#############################
library(pcalg)
library("Rgraphviz")

x1<-c(505,530,419,486,608,468,519,486,532,289,529,474,571,546,458,476,376,474,598,419,479,615,507,473,532,392,496,426,480,583,490,499,513,444,542)

x2<-c(508,516,390,520,375,499,478,534,553,485,405,478,542,523,491,363,456,498,506,529,574,478,411,571,512,487,518,515,467,513,536,555,508,507,535)

x3<-c(469,500,394,486,653,453,494,546,453,431,448,635,444,473,416,561,644,435,582,513,424,696,435,476,467,595,566,567,495,557,494,372,660,432,586)
?
x4<-c(562,459,505,640,319,492,539,651,635,505,533,344,422,424,623,420,429,556,606,435,406,178,473,571,542,597,491,348,513,499,576,465,380,563,571)

x=c(x1,x2,x3,x4)
A=matrix(x,nrow=35)
A
colnames(x)<-c("engagement des ?l?ves","engagement des enseignants","engagement des parents","efficacit?")

suffStat<-list(C=cor(A),n=nrow(A))
adaptive.pag<-fci(suffStat,indepTest=gaussCItest ,p=4, alpha=0.1,type="adaptive")
par(mfrow=c(1,2))
plot(adaptive.pag)
#############################


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Thu May 12 09:09:07 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Thu, 12 May 2022 08:09:07 +0100
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
 <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
 <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>
Message-ID: <CAJfMH3ro=qvPkPJB07F9NCuSy68sDEFaYORWEo_KORVUfU-pWg@mail.gmail.com>

Hi David,

As suggested earlier, providing the link of a folder contains all files.

https://drive.google.com/drive/folders/1dNmGTI8_c9PK1QqmfIjnpbyzuiCXgxFC?msclkid=4816425dd04111ec912cf8b4175aa93c

Thanks,
Ranjeet

On Wed, May 11, 2022 at 9:35 PM David Winsemius <dwinsemius at comcast.net>
wrote:

>
> On 5/9/22 10:01, Ranjeet Kumar Jha wrote:
> > Thanks for your reply. Though codes are in
> > " yield. r" file.
>
>
> You need to pay better attention to what Bert said about your
> attachment. `.r` files are not allowed as an attachment type. You need
> to either provide a link to a publicly accessible location or include
> the code inline.
>
>
> --
>
> David
>
> >
> > Ranjeet
> >
> > On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:
> >
> >> 1. No code came through. Most attachments are filtered due to security
> >> concerns. See the posting guide (linked below) for details.
> >>
> >> 2. Geo-type questions are better posted on r-sig-geo,
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
> >>
> >> Bert Gunter
> >>
> >> "The trouble with having an open mind is that people keep coming along
> and
> >> sticking things into it."
> >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >>
> >>
> >> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
> >> ranjeetjhaiitkgp at gmail.com> wrote:
> >>
> >>> Hello Everyone,
> >>>
> >>> I am trying to plot an Indian district shapefile filled with modeled
> >>> yield,
> >>> corresponding to each GDMID. I needed to first merge the Yield data
> with
> >>> respect to each GDMID from the .RDS file with the district shapefile of
> >>> India. Each district is represented by a GDMID. After merging, the
> Indian
> >>> district map filled with modeled yield values needs to be plotted
> similar
> >>> to an example attached figure.
> >>>
> >>> I feel there is something wrong with my code for merging and plotting
> by
> >>> ggplot.
> >>>
> >>> I have attached herewith my code, .RDS dataframe, shapefile and sample
> >>> example fig.
> >>>
> >>> It would be great if you could help me with merging issue and plotting
> the
> >>> map, showing yield value, and legend in tile format.
> >>>
> >>> Regards and Thanks,
> >>> Ranjeet
> >>>
> >>> --
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
Ranjeet  Kumar Jha, M.Tech. (IIT Kharagpur), Ph.D. (USA)
https://www.linkedin.com/in/ranjeet-kumar-jha-ph-d-usa-73a5aa56
-----------------------------------------------------------
Email: *ranjeetjhaiitkgp at gmail.com <ranjeetjhaiitkgp at gmail.com>*


*"Simple Heart, Humble Attitude and Surrender to Supreme Being make our
lives beautiful!"*

	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Thu May 12 18:17:09 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Thu, 12 May 2022 09:17:09 -0700
Subject: [R] Building promise evaluations
Message-ID: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>

Hello,


I was hoping to build some promise evaluations and put them into a
call to be evaluated, but it doesn't seem as though there's an easy
way to build the promises. I can see from the r-source repository that
the C function mkPROMISE defined in Defn.h is what I need, but that
file doesn't seem to be included when downloaded (R.home("include")
does not contain this file).

I'm not particular about whether this has to be done at the R level or
at the C level, any solution is good to me.

Just in case anyone is wondering "why don't you just evaluate the call
in the same environment as you would assign to the promises?", I want
to evaluate the function and the first argument in my own environment,
and the rest of the arguments in an environment of the user's
choosing, and I can't do that without promises. Another question "why
don't you use the argument ... in your function to pass arguments
which will be evaluated in the user's environment?", I can't do that
either. The user's arguments are provided as a string from which the R
code is extracted, parsed, and then I can make use of them. Any help
is greatly appreciated!


Regards,
    Andrew Simmons


From iuke-tier@ey m@iii@g oii uiow@@edu  Thu May 12 18:30:47 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Thu, 12 May 2022 11:30:47 -0500 (CDT)
Subject: [R] [External]  Building promise evaluations
In-Reply-To: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>
References: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>
Message-ID: <3046f8f7-40f3-4b66-3f27-55eefd12f9a0@uiowa.edu>

Promises are an internal implementation detail that could change or
even disappear at any time. They should not be directly visible at the
R or package C level, the fact that they currently might be in some
case notwithstanding. delayedAssign is the only tool you can use for
programmatically creating delayed bindings in an environment (which
happen to currently be implemented via promises, but that could
change). Deferred evaluations should only exist in environments, not
anywhere else. So you should arrange what your are trying to do to
create a deferred binding in an environment in which you evaluate your
call.

Best,

luke

On Thu, 12 May 2022, Andrew Simmons wrote:

> Hello,
>
>
> I was hoping to build some promise evaluations and put them into a
> call to be evaluated, but it doesn't seem as though there's an easy
> way to build the promises. I can see from the r-source repository that
> the C function mkPROMISE defined in Defn.h is what I need, but that
> file doesn't seem to be included when downloaded (R.home("include")
> does not contain this file).
>
> I'm not particular about whether this has to be done at the R level or
> at the C level, any solution is good to me.
>
> Just in case anyone is wondering "why don't you just evaluate the call
> in the same environment as you would assign to the promises?", I want
> to evaluate the function and the first argument in my own environment,
> and the rest of the arguments in an environment of the user's
> choosing, and I can't do that without promises. Another question "why
> don't you use the argument ... in your function to pass arguments
> which will be evaluated in the user's environment?", I can't do that
> either. The user's arguments are provided as a string from which the R
> code is extracted, parsed, and then I can make use of them. Any help
> is greatly appreciated!
>
>
> Regards,
>    Andrew Simmons
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 21:31:51 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 19:31:51 +0000
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
Message-ID: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

I have a very strange problem. I am getting different results from 
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs. 
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?

From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 12 21:41:45 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 12 May 2022 22:41:45 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <20220512224145.330fd457@Tarkus>

On Thu, 12 May 2022 19:31:51 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> > mean(mlagFZ1,mlagFZ2,mlagFZ3)  
> [1] -0.3326792

match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
# mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)

mean() takes a vector to compute a mean of and additional arguments,
unlike sum(), which takes ... (almost arbitrary arguments) and sums all
of them. Unfortunately, the "trim" argument is documented to accept any
number and the na.rm argument is silently reinterpreted as logical in
your case.

-- 
Best regards,
Ivan


From d@v|d@@teven@ @end|ng |rom u@u@edu  Thu May 12 21:44:22 2022
From: d@v|d@@teven@ @end|ng |rom u@u@edu (David K Stevens)
Date: Thu, 12 May 2022 13:44:22 -0600
Subject: [R] [EXT]  result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <90e95f4e-de8c-e18a-77de-c1e862fbd7c9@usu.edu>

John - for both mean and sum, the numbers to be operated on need to be 
in a vector. This can be done with the 'c(...)' function, which takes 
the arguments (your three numbers) and concatenates them into a vector.

 > mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
[1] 0.01984417

 > sum(c(mlagFZ1,mlagFZ2,mlagFZ3))/3
[1] 0.01984417

What you have done is provide the mean (and sum) functions with three 
arguments. If you look at the documentation for 'mean', you have mlagFZ1 
as the 'x' argument, mlagFZ2 as the 'trim' argument, and mlagFZ3 as the 
'na.rm' argument, and makes no sense. With slightly different details, 
the same applies to the 'sum' function.

mean {base}??? R Documentation
Arithmetic Mean
Description
Generic function for the (trimmed) arithmetic mean.

Usage
mean(x, ...)

## Default S3 method:
mean(x, trim = 0, na.rm = FALSE, ...)
Arguments
x
An R object. Currently there are methods for numeric/logical vectors and 
date, date-time and time interval objects. Complex vectors are allowed 
for trim = 0, only.

trim
the fraction (0 to 0.5) of observations to be trimmed from each end of x 
before the mean is computed. Values of trim outside that range are taken 
as the nearest endpoint.

na.rm
a logical value indicating whether NA values should be stripped before 
the computation proceeds.
On 5/12/2022 1:31 PM, Sorkin, John wrote:
> I have a very strange problem. I am getting different results from
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> vs.
>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
>>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>
> R code:
> print(mlagFZ1)
> print(mlagFZ2)
> print(mlagFZ3)
>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
> output;
>> print(mlagFZ1)
> [1] -0.3326792
>> print(mlagFZ2)
> [1] -0.1890601
>> print(mlagFZ3)
> [1] -0.0840866
>>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> Can someone tell me what I did wrong?
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> CAUTION: This email originated from outside of USU. If this appears to be a USU employee, beware of impersonators. Do not click links, reply, download images, or open attachments unless you verify the sender?s identity and know the content is safe.
>
-- 
David K Stevens, PhD,PE
Professor
Civil and Environmental Engineering
Utah State University
Logan, UT 84322-8200
david.stevens at usu.edu
014357973229

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Thu May 12 21:44:23 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 12 May 2022 22:44:23 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512224145.330fd457@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
Message-ID: <CAGgJW74PCEya+igW=aU9WqkrNS-11x56GweHh=4aE_bCVh1C9g@mail.gmail.com>

Or ... to put it differently,, you need to wrap the numbers in c( .., ..,  )



On Thu, May 12, 2022 at 10:42 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Thu, 12 May 2022 19:31:51 +0000
> "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>
> > > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> > [1] -0.3326792
>
> match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
> # mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)
>
> mean() takes a vector to compute a mean of and additional arguments,
> unlike sum(), which takes ... (almost arbitrary arguments) and sums all
> of them. Unfortunately, the "trim" argument is documented to accept any
> number and the na.rm argument is silently reinterpreted as logical in
> your case.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 21:45:12 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 19:45:12 +0000
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512224145.330fd457@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
Message-ID: <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

Ivan,
Thank you for your quick reply. Unfortunately, I don't understand the concept you are trying toe explain. Can you try again?
Thank you,
John

________________________________________
From: Ivan Krylov <krylov.r00t at gmail.com>
Sent: Thursday, May 12, 2022 3:41 PM
To: Sorkin, John
Cc: r-help at r-project.org
Subject: Re: [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3

On Thu, 12 May 2022 19:31:51 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792

match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
# mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)

mean() takes a vector to compute a mean of and additional arguments,
unlike sum(), which takes ... (almost arbitrary arguments) and sums all
of them. Unfortunately, the "trim" argument is documented to accept any
number and the na.rm argument is silently reinterpreted as logical in
your case.

--
Best regards,
Ivan


From m@rc_@chw@rtz @end|ng |rom me@com  Thu May 12 21:47:40 2022
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Thu, 12 May 2022 15:47:40 -0400
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <etPan.627d645c.2d83963c.bed@me.com>

Hi John,

sum() takes an arbitrary "..." list as the initial argument, while mean() takes a vector "x" as the initial named argument.

Thus:

> sum(-0.3326792, -0.1890601, -0.0840866) / 3
[1] -0.201942

> mean(c(-0.3326792, -0.1890601, -0.0840866))
[1] -0.201942


Regards,

Marc Schwartz


On May 12, 2022 at 3:31:51 PM, Sorkin, John (jsorkin at som.umaryland.edu (mailto:jsorkin at som.umaryland.edu)) wrote:

> I have a very strange problem. I am getting different results from
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> vs.
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> > sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>
> R code:
> print(mlagFZ1)
> print(mlagFZ2)
> print(mlagFZ3)
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
> output;
> > print(mlagFZ1)
> [1] -0.3326792
> > print(mlagFZ2)
> [1] -0.1890601
> > print(mlagFZ3)
> [1] -0.0840866
> > sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> Can someone tell me what I did wrong?


From rmh @end|ng |rom temp|e@edu  Thu May 12 21:52:56 2022
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Thu, 12 May 2022 19:52:56 +0000
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>

you wrote
 mean(mlagFZ1,mlagFZ2,mlagFZ3)

you intended to write
 mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Thursday, May 12, 2022 3:31:51 PM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I have a very strange problem. I am getting different results from
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs.
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 12 22:05:14 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 12 May 2022 23:05:14 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <20220512230514.743ad214@Tarkus>

Eric Berger and Marc Schwartz and David K Stevens probably said it
better. I was trying to illustrate the way mean() takes its arguments
using the match.call function.

The sum() function can take individual numbers or vectors and
sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
or even sum(c(1, 2), 3): they all do what you mean them to do.

The mean() function is different. It may accept many arguments, but
only the first of them is the vector of numbers you're interested in:
mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
give it more arguments and they aren't what mean() expects them to be
(the second one should be a number in [0; 0.5] and the third one should
be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
or raise an error condition.

My use of match.call() was supposed to show that by calling mean(a, b,
c), I pass the number "b" as the "trim" argument to mean() and the
number "c" as the "na.rm" argument to mean(), which is not what was
intended here.

-- 
Best regards,
Ivan


From henr|k@bengt@@on @end|ng |rom gm@||@com  Thu May 12 22:39:20 2022
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Thu, 12 May 2022 13:39:20 -0700
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512230514.743ad214@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512230514.743ad214@Tarkus>
Message-ID: <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>

There's actually another reason why mean(x) and sum(x)/length(x) may
differ, e.g.

x <- c(rnorm(1e6, sd=.Machine$double.eps), rnorm(1e6, sd=1))
mean(x) - sum(x)/length(x)
#> [1] 1.011781e-18

The mean() function calculates the sample mean using a two pass scan
through the data.  The first scan calculates the total sum and divides
by the number of (non-missing) values. In the second scan, this
average is refined by adding the residuals towards the first average.
This way numerical precision of mean(x) is higher than
sum(x)/length(x) when there spread of 'x' is large.  It also means
that the processing time of mean(x) is roughly twice that of
sum(x)/length(x).

/Henrik

On Thu, May 12, 2022 at 1:22 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> Eric Berger and Marc Schwartz and David K Stevens probably said it
> better. I was trying to illustrate the way mean() takes its arguments
> using the match.call function.
>
> The sum() function can take individual numbers or vectors and
> sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
> or even sum(c(1, 2), 3): they all do what you mean them to do.
>
> The mean() function is different. It may accept many arguments, but
> only the first of them is the vector of numbers you're interested in:
> mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
> give it more arguments and they aren't what mean() expects them to be
> (the second one should be a number in [0; 0.5] and the third one should
> be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
> or raise an error condition.
>
> My use of match.call() was supposed to show that by calling mean(a, b,
> c), I pass the number "b" as the "trim" argument to mean() and the
> number "c" as the "na.rm" argument to mean(), which is not what was
> intended here.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 22:55:00 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 20:55:00 +0000
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
Message-ID: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3

I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!
The help file for 
sum says:
. . . numeric or complex or logical vectors

The help for mean says:
x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

While the help file for mean explains that mean expects its parameters to be a vector, it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3). 

Should the help file for mean be modified so that it checks to see if its parameter is a vector? If the parameter is not a vector, an error message might be generated. Without this, someone unsuspecting user (who does not check and think about results) might blindly accept the output of mean, use it to build a bridge, or skyscraper, which fails and result in the death of innocent victims. 

John




________________________________________
From: Richard M. Heiberger <rmh at temple.edu>
Sent: Thursday, May 12, 2022 3:52 PM
To: Sorkin, John; r-help at r-project.org
Subject: Re: [External] [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3

you wrote
 mean(mlagFZ1,mlagFZ2,mlagFZ3)

you intended to write
 mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Thursday, May 12, 2022 3:31:51 PM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I have a very strange problem. I am getting different results from
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs.
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=r3GGh3lTBrAXuhmDEbLFYlzYfGWM3gn7iXskUw72B40%3D&reserved=0>
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=0FD7GgnSphuw1Ha419vFHTDw3aGPIjXrwPigrMkMfOU%3D&reserved=0>
and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu May 12 23:30:48 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 12 May 2022 14:30:48 -0700
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <0BBF81AE-57EB-40F7-97EB-F63A6270466F@dcn.davis.ca.us>

R is at heart used for processing vectors of data. I find the flexibility of sum to be more disturbing than the constraints of mean.

On May 12, 2022 1:55:00 PM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
>I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!
>The help file for 
>sum says:
>. . . numeric or complex or logical vectors
>
>The help for mean says:
>x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.
>
>While the help file for mean explains that mean expects its parameters to be a vector, it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3). 
>
>Should the help file for mean be modified so that it checks to see if its parameter is a vector? If the parameter is not a vector, an error message might be generated. Without this, someone unsuspecting user (who does not check and think about results) might blindly accept the output of mean, use it to build a bridge, or skyscraper, which fails and result in the death of innocent victims. 
>
>John
>
>
>
>
>________________________________________
>From: Richard M. Heiberger <rmh at temple.edu>
>Sent: Thursday, May 12, 2022 3:52 PM
>To: Sorkin, John; r-help at r-project.org
>Subject: Re: [External] [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3
>
>you wrote
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
>you intended to write
> mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
>________________________________
>From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
>Sent: Thursday, May 12, 2022 3:31:51 PM
>To: r-help at r-project.org <r-help at r-project.org>
>Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3
>
>I have a very strange problem. I am getting different results from
>mean(mlagFZ1,mlagFZ2,mlagFZ3)
>vs.
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>[1] -0.3326792
>
>>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>[1] -0.201942
>
>R code:
>print(mlagFZ1)
>print(mlagFZ2)
>print(mlagFZ3)
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
>output;
>> print(mlagFZ1)
>[1] -0.3326792
>> print(mlagFZ2)
>[1] -0.1890601
>> print(mlagFZ3)
>[1] -0.0840866
>>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>[1] -0.201942
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>[1] -0.3326792
>
>Can someone tell me what I did wrong?
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=r3GGh3lTBrAXuhmDEbLFYlzYfGWM3gn7iXskUw72B40%3D&reserved=0>
>PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=0FD7GgnSphuw1Ha419vFHTDw3aGPIjXrwPigrMkMfOU%3D&reserved=0>
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Thu May 12 23:45:50 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 12 May 2022 14:45:50 -0700
Subject: [R] [External] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>

I believe you are still misunderstanding. Inline comments below.

On Thu, May 12, 2022 at 2:02 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
> I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!

Well, **any** function "may be used improperly"! It's up to the user
to study and follow the documentation.

>
> The help file for
> sum says:
> . . . numeric or complex or logical vectors
>
> The help for mean says:
> x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

You need to pay closer attention: mean() is a (S3) generic function
whose first argument, x, is an **object** that determines dispatch.
This object is not necessarily a vector -- that is,
inherits(x,"vector") need **not** be TRUE( and indeed is FALSE for
various methods. See methods('mean') ).  If you do not understand
this, you need to read up on R's S3 generic function mechanism.
>
>
> While the help file for mean explains that mean expects its parameters to be a vector,
**That is false. ** It is only true for the 'x' parameter for the
**default** method.

> it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3).
>
> Should the help file for mean be modified so that it checks to see if its parameter is a vector?

??  Based on what I noted above, this query seems misbegotten.
Moreover, of course, a help file doesn't check anything -- the
**function** would have to check its arguments (I assume that's what
you meant).

 -- Bert


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 13 00:59:47 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 12 May 2022 22:59:47 +0000 (UTC)
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512230514.743ad214@Tarkus>
 <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>
Message-ID: <589404244.1536593.1652396387733@mail.yahoo.com>

I think, in addition to earlier replies, that there are effects in R based on just about?everything being a vector. The number 1 is a vector of length 1 and is not really?different than a longer one like c(1,2,3) except for having a length of 1 versus 3.
So sum(1:3, 3:1, 1) adds to 13 as it is seen as sum(1, 2, 3, 3, 3, 1, 1) in a sense.

Your example did not trip up an error but this does:?mean(1:3, 7:9)
Error in mean.default(1:3, 7:9) : 'trim' must be numeric of length one

There is the hint because the optional trim= argument can only work with a?single scalar. I gave it a vector of c(7,8,9) and it barfed. Other R functionality?often just supplies a warning when it gets a vector when it expected a scalar albeit?they look the same otherwise. I mean if(... vector) may now start considering it an error.
How would you rewrite mean to catch odd cases? I can understand it assuming a second?argument to be for trim and a third argument for na.rm but it does not check for it to be "TRUE"?and accepts non-zero numbers as a version of na.rm=TRUE.
But anything with 4 or more arguments ought to be visibly WRONG but is apparently?blindly accepted as?mean(1,2,3,4,5,6,7,8,9) returns the wrong answer of 1 with no complaint.
I am a fan of not using keyword optional arguments without a keyword, even if it is legal.
If your function insisted on being called like:
mean(num, trim=num, na.rm=TRUE)
then it could easily catch errors like the one we are discussing.
I note median() is also similarly flawed now. It only has one documented argument ad still?does not catch getting 3 or more arguments. sd() fails on sd(3,3) with an NA but only because?sd(3) is equally NA. But for more arguments like?sd(3, 4, 5), it fails because of unused arguments.
So there are some inconsistencies that catch some errors and not others but a complete "fix"?may not work as long as R allows vectors of length 1 in all contexts.
Making optional arguments required to be spelled out would much existing code too.
For now, just using c() in solutions work well.?

-----Original Message-----
From: Henrik Bengtsson <henrik.bengtsson at gmail.com>
To: Ivan Krylov <krylov.r00t at gmail.com>
Cc: r-help at r-project.org <r-help at r-project.org>
Sent: Thu, May 12, 2022 4:39 pm
Subject: Re: [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

There's actually another reason why mean(x) and sum(x)/length(x) may
differ, e.g.

x <- c(rnorm(1e6, sd=.Machine$double.eps), rnorm(1e6, sd=1))
mean(x) - sum(x)/length(x)
#> [1] 1.011781e-18

The mean() function calculates the sample mean using a two pass scan
through the data.? The first scan calculates the total sum and divides
by the number of (non-missing) values. In the second scan, this
average is refined by adding the residuals towards the first average.
This way numerical precision of mean(x) is higher than
sum(x)/length(x) when there spread of 'x' is large.? It also means
that the processing time of mean(x) is roughly twice that of
sum(x)/length(x).

/Henrik

On Thu, May 12, 2022 at 1:22 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> Eric Berger and Marc Schwartz and David K Stevens probably said it
> better. I was trying to illustrate the way mean() takes its arguments
> using the match.call function.
>
> The sum() function can take individual numbers or vectors and
> sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
> or even sum(c(1, 2), 3): they all do what you mean them to do.
>
> The mean() function is different. It may accept many arguments, but
> only the first of them is the vector of numbers you're interested in:
> mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
> give it more arguments and they aren't what mean() expects them to be
> (the second one should be a number in [0; 0.5] and the third one should
> be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
> or raise an error condition.
>
> My use of match.call() was supposed to show that by calling mean(a, b,
> c), I pass the number "b" as the "trim" argument to mean() and the
> number "c" as the "na.rm" argument to mean(), which is not what was
> intended here.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 13 01:17:55 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 12 May 2022 23:17:55 +0000 (UTC)
Subject: [R] [External] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>
Message-ID: <759049126.1541065.1652397475879@mail.yahoo.com>

Good point, Bert. On my machine,?methods("mean") returns 8 variations including for Dates.
But this being R, if you LIKE having a version of mean() that does it your way, go for it!

mymean <- function(...) mean(c(...))

The function defined above takes any number of arguments and makes a vector of them?and passes it to mean() but note will not handle arguments about trim or na.rm.

mymean(1,2,3,4)

[1] 2.5

There are subtle errors if you try. using na.rm=TRUE has a term evaluated to 1. Using?trim=8 so you cannot mix and match just because you feel like it. Yes, there are ways?to evaluate the arguments and package some into a c() and pass along others but my?point is what others keep saying. Don't assume a function can be used the way you?want it to but the way the manual page says it can be used. Sometimes, though, you can?make your own function for personal use that does what you want. You don't even have?to piggyback like my example. Your function can take any number of arguments, evaluate?each one to see if it seems numeric and has length 1 and is not NA, calculate how many?it got that are valid,??add them together in a loop and divide by the total.
But you may not want to name it mean() unless ...
-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Sorkin, John <jsorkin at som.umaryland.edu>
Cc: r-help at r-project.org <r-help at r-project.org>; Schwartz, Marc (MSchwartz at mn.rr.com) <mschwartz at mn.rr.com>
Sent: Thu, May 12, 2022 5:45 pm
Subject: Re: [R] [External] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I believe you are still misunderstanding. Inline comments below.

On Thu, May 12, 2022 at 2:02 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
> I believe the explanations points out a? possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!

Well, **any** function "may be used improperly"! It's up to the user
to study and follow the documentation.

>
> The help file for
> sum says:
> . . . numeric or complex or logical vectors
>
> The help for mean says:
> x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

You need to pay closer attention: mean() is a (S3) generic function
whose first argument, x, is an **object** that determines dispatch.
This object is not necessarily a vector -- that is,
inherits(x,"vector") need **not** be TRUE( and indeed is FALSE for
various methods. See methods('mean') ).? If you do not understand
this, you need to read up on R's S3 generic function mechanism.
>
>
> While the help file for mean explains that mean expects its parameters to be a vector,
**That is false. ** It is only true for the 'x' parameter for the
**default** method.

> it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3).
>
> Should the help file for mean be modified so that it checks to see if its parameter is a vector?

??? Based on what I noted above, this query seems misbegotten.
Moreover, of course, a help file doesn't check anything -- the
**function** would have to check its arguments (I assume that's what
you meant).

 -- Bert

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri May 13 09:55:06 2022
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 13 May 2022 09:55:06 +0200
Subject: [R] Error on r-oldrel-windows-ix86+x86_64
In-Reply-To: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>
References: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>
Message-ID: <b43f846e-b01d-993a-bb42-5ce43a301972@statistik.tu-dortmund.de>



On 07.05.2022 14:06, Helmut Sch?tz wrote:
> Dear all,
> 
> I got an error: 
> https://cran.r-project.org/web/checks/check_results_replicateBE.html
> Specifically:
> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), 
> versionCheck = vI[[j]]) :
>  ? there is no package called 'nloptr'
> The chain of dependecies are:
> replicateBE > lmerTest > lme4 > nloptr
> 
> In v1.1.3 there where only changes in the man pages documenting data sets.
> The previous v1.1.0 had no problems with the (then current) R4.1.3
> 
> Is this a transient problem on CRAN? Is there anything I can do about?

It was transient.

Best,
Uwe Ligges



> Helmut
>


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 15:38:29 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 08:38:29 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
Message-ID: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>

Dear friends,

Hope you are doing great. I have installed R version 4.2.0 and
RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
2022-04-19) for Windows.

Last week, I developed a model in RStudio and was able to install and load
many packages, but now RStudio is behaving oddly.

I get the following errors whenever I try installing packages(which was not
happening to me last week):

https://cran.rstudio.com/bin/windows/Rtools/
Warning in install.packages :
  unable to access index for repository https://cran.rstudio.com/src/contrib
:
  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
Warning in install.packages :
  package ?Rtools? is not available for this version of R

A version of this package for your version of R might be available
elsewhere,
see the ideas at
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
Warning in install.packages :
  unable to access index for repository
https://cran.rstudio.com/bin/windows/contrib/4.2:
  cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
'

I try to install Rtools but was not able to.

Any clues on what could be happening?

Best regards,
Paul

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 13 16:14:18 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 13 May 2022 17:14:18 +0300
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <20220513171418.3bec0f1d@trisector>

On Fri, 13 May 2022 08:38:29 -0500
Paul Bernal <paulbernal07 at gmail.com> wrote:

> cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'

Can you open the URL manually? Or any of the mirrors at
https://cran.r-project.org/mirrors.html ? You can try using a different
mirror by using chooseCRANmirror().

-- 
Best regards,
Ivan


From bgunter@4567 @end|ng |rom gm@||@com  Fri May 13 16:19:17 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 13 May 2022 07:19:17 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <CAGxFJbQqCu62_ucHR9pquRwSoGdTKA-VMQgGVwx_uNvomTd84w@mail.gmail.com>

Sounds like an RStudio problem.

1. Try another repository. Try downloading packages manually from R.
See ?install.packages, ?setRepositories  .

2. Have you tried posting in RStudio's Help site: https://community.rstudio.com/

Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Fri, May 13, 2022 at 6:39 AM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> Hope you are doing great. I have installed R version 4.2.0 and
> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> 2022-04-19) for Windows.
>
> Last week, I developed a model in RStudio and was able to install and load
> many packages, but now RStudio is behaving oddly.
>
> I get the following errors whenever I try installing packages(which was not
> happening to me last week):
>
> https://cran.rstudio.com/bin/windows/Rtools/
> Warning in install.packages :
>   unable to access index for repository https://cran.rstudio.com/src/contrib
> :
>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> Warning in install.packages :
>   package ?Rtools? is not available for this version of R
>
> A version of this package for your version of R might be available
> elsewhere,
> see the ideas at
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> Warning in install.packages :
>   unable to access index for repository
> https://cran.rstudio.com/bin/windows/contrib/4.2:
>   cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> '
>
> I try to install Rtools but was not able to.
>
> Any clues on what could be happening?
>
> Best regards,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 13 16:35:11 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 May 2022 07:35:11 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>

A) You are repeatedly referring to RStudio... if you have a problem with RStudio, it is off-topic here and most people won't know how to fix it. RStudio occasionally gets out of sync with R and (the majority of us) don't keep track of that status here.

Assuming the problem is with R (you confirm this by using R or RGui directly and seeing the same errors)... 

B) When the R error messages say they cannot find the index, then that means you either have the wrong CRAN mirror URL (there is a whole list of them you can try) or there is some kind of network storm that will blow over if you try again later.

C) Finally, Rtools is not an R package... you will never succeed installing Rtools using install.packages. Use your web browser to look on CRAN for Rtools42 software and download the corresponding Windows setup program and run it. You should read and follow the instructions [1]. I am pretty sure you will need to re-start R so it will find Rtools.

[1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html

On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com> wrote:
>Dear friends,
>
>Hope you are doing great. I have installed R version 4.2.0 and
>RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>2022-04-19) for Windows.
>
>Last week, I developed a model in RStudio and was able to install and load
>many packages, but now RStudio is behaving oddly.
>
>I get the following errors whenever I try installing packages(which was not
>happening to me last week):
>
>https://cran.rstudio.com/bin/windows/Rtools/
>Warning in install.packages :
>  unable to access index for repository https://cran.rstudio.com/src/contrib
>:
>  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>Warning in install.packages :
>  package ?Rtools? is not available for this version of R
>
>A version of this package for your version of R might be available
>elsewhere,
>see the ideas at
>https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
>Warning in install.packages :
>  unable to access index for repository
>https://cran.rstudio.com/bin/windows/contrib/4.2:
>  cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>'
>
>I try to install Rtools but was not able to.
>
>Any clues on what could be happening?
>
>Best regards,
>Paul
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 16:57:33 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 09:57:33 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
Message-ID: <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>

Dear Jeff and R friends,

I fixed the issue. The problem was due to the fact that I had R version
4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
points to the latest R version installed, there were a lot of packages that
were not installed.

I just made RStudio point to an older R version and the issue was solved.

Cheers,
Paul
El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
jdnewmil at dcn.davis.ca.us> escribi?:

> A) You are repeatedly referring to RStudio... if you have a problem with
> RStudio, it is off-topic here and most people won't know how to fix it.
> RStudio occasionally gets out of sync with R and (the majority of us) don't
> keep track of that status here.
>
> Assuming the problem is with R (you confirm this by using R or RGui
> directly and seeing the same errors)...
>
> B) When the R error messages say they cannot find the index, then that
> means you either have the wrong CRAN mirror URL (there is a whole list of
> them you can try) or there is some kind of network storm that will blow
> over if you try again later.
>
> C) Finally, Rtools is not an R package... you will never succeed
> installing Rtools using install.packages. Use your web browser to look on
> CRAN for Rtools42 software and download the corresponding Windows setup
> program and run it. You should read and follow the instructions [1]. I am
> pretty sure you will need to re-start R so it will find Rtools.
>
> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>
> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
> wrote:
> >Dear friends,
> >
> >Hope you are doing great. I have installed R version 4.2.0 and
> >RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> >2022-04-19) for Windows.
> >
> >Last week, I developed a model in RStudio and was able to install and load
> >many packages, but now RStudio is behaving oddly.
> >
> >I get the following errors whenever I try installing packages(which was
> not
> >happening to me last week):
> >
> >https://cran.rstudio.com/bin/windows/Rtools/
> >Warning in install.packages :
> >  unable to access index for repository
> https://cran.rstudio.com/src/contrib
> >:
> >  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> >Warning in install.packages :
> >  package ?Rtools? is not available for this version of R
> >
> >A version of this package for your version of R might be available
> >elsewhere,
> >see the ideas at
> >
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> >Warning in install.packages :
> >  unable to access index for repository
> >https://cran.rstudio.com/bin/windows/contrib/4.2:
> >  cannot open URL '
> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> >'
> >
> >I try to install Rtools but was not able to.
> >
> >Any clues on what could be happening?
> >
> >Best regards,
> >Paul
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 13 18:47:58 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 13 May 2022 17:47:58 +0100
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
Message-ID: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>

Hello,

If that was the problem you should run update.packages().
It can take a lot of time dpending on how many packages you have 
installed but it will avoid you having to update the packages one by one.

Hope this helps,

Rui Barradas

?s 15:57 de 13/05/2022, Paul Bernal escreveu:
> Dear Jeff and R friends,
> 
> I fixed the issue. The problem was due to the fact that I had R version
> 4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
> points to the latest R version installed, there were a lot of packages that
> were not installed.
> 
> I just made RStudio point to an older R version and the issue was solved.
> 
> Cheers,
> Paul
> El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
> jdnewmil at dcn.davis.ca.us> escribi?:
> 
>> A) You are repeatedly referring to RStudio... if you have a problem with
>> RStudio, it is off-topic here and most people won't know how to fix it.
>> RStudio occasionally gets out of sync with R and (the majority of us) don't
>> keep track of that status here.
>>
>> Assuming the problem is with R (you confirm this by using R or RGui
>> directly and seeing the same errors)...
>>
>> B) When the R error messages say they cannot find the index, then that
>> means you either have the wrong CRAN mirror URL (there is a whole list of
>> them you can try) or there is some kind of network storm that will blow
>> over if you try again later.
>>
>> C) Finally, Rtools is not an R package... you will never succeed
>> installing Rtools using install.packages. Use your web browser to look on
>> CRAN for Rtools42 software and download the corresponding Windows setup
>> program and run it. You should read and follow the instructions [1]. I am
>> pretty sure you will need to re-start R so it will find Rtools.
>>
>> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>>
>> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
>> wrote:
>>> Dear friends,
>>>
>>> Hope you are doing great. I have installed R version 4.2.0 and
>>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>>> 2022-04-19) for Windows.
>>>
>>> Last week, I developed a model in RStudio and was able to install and load
>>> many packages, but now RStudio is behaving oddly.
>>>
>>> I get the following errors whenever I try installing packages(which was
>> not
>>> happening to me last week):
>>>
>>> https://cran.rstudio.com/bin/windows/Rtools/
>>> Warning in install.packages :
>>>   unable to access index for repository
>> https://cran.rstudio.com/src/contrib
>>> :
>>>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>>> Warning in install.packages :
>>>   package ?Rtools? is not available for this version of R
>>>
>>> A version of this package for your version of R might be available
>>> elsewhere,
>>> see the ideas at
>>>
>> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
>>> Warning in install.packages :
>>>   unable to access index for repository
>>> https://cran.rstudio.com/bin/windows/contrib/4.2:
>>>   cannot open URL '
>> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>>> '
>>>
>>> I try to install Rtools but was not able to.
>>>
>>> Any clues on what could be happening?
>>>
>>> Best regards,
>>> Paul
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri May 13 19:53:21 2022
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 13 May 2022 10:53:21 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
 <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
Message-ID: <b1b50241-07b9-54dc-cfa4-a753465577a1@comcast.net>


On 5/13/22 09:47, Rui Barradas wrote:
> Hello,
>
> If that was the problem you should run update.packages().

# ITYM:

update.packages( checkBuilt=TRUE, ask=FALSE)

-- 

David.

> It can take a lot of time dpending on how many packages you have 
> installed but it will avoid you having to update the packages one by one.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 15:57 de 13/05/2022, Paul Bernal escreveu:
>> Dear Jeff and R friends,
>>
>> I fixed the issue. The problem was due to the fact that I had R version
>> 4.1.2 and installed? the newer version R 4.2. Since RStudio 
>> automatically
>> points to the latest R version installed, there were a lot of 
>> packages that
>> were not installed.
>>
>> I just made RStudio point to an older R version and the issue was 
>> solved.
>>
>> Cheers,
>> Paul
>> El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
>> jdnewmil at dcn.davis.ca.us> escribi?:
>>
>>> A) You are repeatedly referring to RStudio... if you have a problem 
>>> with
>>> RStudio, it is off-topic here and most people won't know how to fix it.
>>> RStudio occasionally gets out of sync with R and (the majority of 
>>> us) don't
>>> keep track of that status here.
>>>
>>> Assuming the problem is with R (you confirm this by using R or RGui
>>> directly and seeing the same errors)...
>>>
>>> B) When the R error messages say they cannot find the index, then that
>>> means you either have the wrong CRAN mirror URL (there is a whole 
>>> list of
>>> them you can try) or there is some kind of network storm that will blow
>>> over if you try again later.
>>>
>>> C) Finally, Rtools is not an R package... you will never succeed
>>> installing Rtools using install.packages. Use your web browser to 
>>> look on
>>> CRAN for Rtools42 software and download the corresponding Windows setup
>>> program and run it. You should read and follow the instructions [1]. 
>>> I am
>>> pretty sure you will need to re-start R so it will find Rtools.
>>>
>>> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>>>
>>> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
>>> wrote:
>>>> Dear friends,
>>>>
>>>> Hope you are doing great. I have installed R version 4.2.0 and
>>>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>>>> 2022-04-19) for Windows.
>>>>
>>>> Last week, I developed a model in RStudio and was able to install 
>>>> and load
>>>> many packages, but now RStudio is behaving oddly.
>>>>
>>>> I get the following errors whenever I try installing packages(which 
>>>> was
>>> not
>>>> happening to me last week):
>>>>
>>>> https://cran.rstudio.com/bin/windows/Rtools/
>>>> Warning in install.packages :
>>>> ? unable to access index for repository
>>> https://cran.rstudio.com/src/contrib
>>>> :
>>>> ? cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>>>> Warning in install.packages :
>>>> ? package ?Rtools? is not available for this version of R
>>>>
>>>> A version of this package for your version of R might be available
>>>> elsewhere,
>>>> see the ideas at
>>>>
>>> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages 
>>>
>>>> Warning in install.packages :
>>>> ? unable to access index for repository
>>>> https://cran.rstudio.com/bin/windows/contrib/4.2:
>>>> ? cannot open URL '
>>> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>>>> '
>>>>
>>>> I try to install Rtools but was not able to.
>>>>
>>>> Any clues on what could be happening?
>>>>
>>>> Best regards,
>>>> Paul
>>>>
>>>> ?????? [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> -- 
>>> Sent from my phone. Please excuse my brevity.
>>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 20:13:24 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 13:13:24 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
 <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
Message-ID: <CAMOcQfNHBUge+UDf4P9B5xuVtDFD=+4sQWGVn5nKJFMmzByEXg@mail.gmail.com>

Thank you very much dear friend Rui.

Best,
Paul

El El vie, 13 de may. de 2022 a la(s) 11:48 a. m., Rui Barradas <
ruipbarradas at sapo.pt> escribi?:

> Hello,
>
> If that was the problem you should run update.packages().
> It can take a lot of time dpending on how many packages you have
> installed but it will avoid you having to update the packages one by one.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 15:57 de 13/05/2022, Paul Bernal escreveu:
> > Dear Jeff and R friends,
> >
> > I fixed the issue. The problem was due to the fact that I had R version
> > 4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
> > points to the latest R version installed, there were a lot of packages
> that
> > were not installed.
> >
> > I just made RStudio point to an older R version and the issue was solved.
> >
> > Cheers,
> > Paul
> > El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
> > jdnewmil at dcn.davis.ca.us> escribi?:
> >
> >> A) You are repeatedly referring to RStudio... if you have a problem with
> >> RStudio, it is off-topic here and most people won't know how to fix it.
> >> RStudio occasionally gets out of sync with R and (the majority of us)
> don't
> >> keep track of that status here.
> >>
> >> Assuming the problem is with R (you confirm this by using R or RGui
> >> directly and seeing the same errors)...
> >>
> >> B) When the R error messages say they cannot find the index, then that
> >> means you either have the wrong CRAN mirror URL (there is a whole list
> of
> >> them you can try) or there is some kind of network storm that will blow
> >> over if you try again later.
> >>
> >> C) Finally, Rtools is not an R package... you will never succeed
> >> installing Rtools using install.packages. Use your web browser to look
> on
> >> CRAN for Rtools42 software and download the corresponding Windows setup
> >> program and run it. You should read and follow the instructions [1]. I
> am
> >> pretty sure you will need to re-start R so it will find Rtools.
> >>
> >> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
> >>
> >> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
> >> wrote:
> >>> Dear friends,
> >>>
> >>> Hope you are doing great. I have installed R version 4.2.0 and
> >>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> >>> 2022-04-19) for Windows.
> >>>
> >>> Last week, I developed a model in RStudio and was able to install and
> load
> >>> many packages, but now RStudio is behaving oddly.
> >>>
> >>> I get the following errors whenever I try installing packages(which was
> >> not
> >>> happening to me last week):
> >>>
> >>> https://cran.rstudio.com/bin/windows/Rtools/
> >>> Warning in install.packages :
> >>>   unable to access index for repository
> >> https://cran.rstudio.com/src/contrib
> >>> :
> >>>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> >>> Warning in install.packages :
> >>>   package ?Rtools? is not available for this version of R
> >>>
> >>> A version of this package for your version of R might be available
> >>> elsewhere,
> >>> see the ideas at
> >>>
> >>
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> >>> Warning in install.packages :
> >>>   unable to access index for repository
> >>> https://cran.rstudio.com/bin/windows/contrib/4.2:
> >>>   cannot open URL '
> >> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> >>> '
> >>>
> >>> I try to install Rtools but was not able to.
> >>>
> >>> Any clues on what could be happening?
> >>>
> >>> Best regards,
> >>> Paul
> >>>
> >>>        [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> --
> >> Sent from my phone. Please excuse my brevity.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From chr|@t|@n @end|ng |rom echo||m@nn@ch  Sat May 14 10:02:42 2022
From: chr|@t|@n @end|ng |rom echo||m@nn@ch (Christian)
Date: Sat, 14 May 2022 10:02:42 +0200
Subject: [R] Where are my packages under R version 4.2.0 (2022-04-22)
Message-ID: <ff157380-2bf6-542f-0803-10bfe17c871d@echoffmann.ch>

Hi,

Where are my packages under R version 4.2.0 (2022-04-22)?

I am depending on my own package 'cwhmisc'. This is not any more listed 
under "Packages" in 'Available CRAN Packages By Name'.

What happened here?
-- 
Christian Hoffmann
Rigiblickstrasse 15b
CH-8915 Hausen am Albis
Switzerland
Telefon +41-(0)44-7640853


From gor@n@bro@trom @end|ng |rom umu@@e  Sat May 14 12:10:39 2022
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Sat, 14 May 2022 12:10:39 +0200
Subject: [R] Where are my packages under R version 4.2.0 (2022-04-22)
In-Reply-To: <ff157380-2bf6-542f-0803-10bfe17c871d@echoffmann.ch>
References: <ff157380-2bf6-542f-0803-10bfe17c871d@echoffmann.ch>
Message-ID: <05ca8757-5fd4-a19c-96c8-bebd8f424625@umu.se>



Den 2022-05-14 kl. 10:02, skrev Christian:
> Hi,
> 
> Where are my packages under R version 4.2.0 (2022-04-22)?
> 
> I am depending on my own package 'cwhmisc'. This is not any more listed 
> under "Packages" in 'Available CRAN Packages By Name'.
> 
> What happened here?

Package archived on my birthday 27-04, errors not fixed:

Check: examples
Result: ERROR
     Running examples in ?cwhmisc-Ex.R? failed
     The error most likely occurred in:

     > ### Name: cpos
     > ### Title: Find the position of a substring
     > ### Aliases: cpos cposV cposR issubstr
     > ### Keywords: misc character
     >
     > ### ** Examples
     >
     > cpos(" Baldrian","a",5) # 3
     [1] 3
     > cpos("Baldrian","B",15) # NA
     [1] NA
     > cposR(" Baldabcrian abcf","abc")
     Error in !is.na(x) && min(y) <= x :
      'length = 2' in coercion to 'logical(1)'
     Calls: cposR -> inrange
     Execution halted
Flavors: r-devel-linux-x86_64-fedora-clang, r-devel-linux-x86_64-fedora-gcc

G?ran


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Sat May 14 16:13:25 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Sat, 14 May 2022 19:43:25 +0530
Subject: [R] need to plot multiple spatial maps side-by-side in a single
 window using sf plot function in R
Message-ID: <CAJfMH3pDgHUWa+c+tBrFXJCKmMFaxDeizbej980LwwdZxatkYg@mail.gmail.com>

Hi,

I like to plot all my 5 spatial maps of drought indices in a single window
using the sf plot function in R. I am able to plot all maps separately but
unable to plot altogether. All indexes are showing drought indices.

I really appreciate your help!

Here is the code:

#merging using merge function
merge_drought_indices <- merge(shp_dist, drought_indices)
view(merge_drought_indices)
#plot in a single window
library(sp)
par(mfrow=c(2,2))
 plot(merge_drought_indices["r_count_lt_p05_harvest_end"],
 pal = colorRampPalette(c("red", "white", "blue","green")),
 main = "End harvest index variation in India during drought year 2000",
 key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)

 plot(merge_drought_indices["r_count_lt_p05_harvest"],
 pal = colorRampPalette(c("red", "white", "blue","green")),
 main = "Harvest variation index in India during drought year 2000",
 key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)

 plot(merge_drought_indices["r_count_lt_p05_main"],
 pal = colorRampPalette(c("red", "white", "blue","green")),
 main = "Main growth stage index variation in India during drought year 2000",
 key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)

 plot(merge_drought_indices["r_count_lt_p05_plant.start"],
 pal = colorRampPalette(c("red", "white", "blue","green")),
 main = "Plant start index variation in India during drought year 2000",
 key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)

 plot(merge_drought_indices["r_count_lt_p05_plant"],
 pal = colorRampPalette(c("red", "white", "blue","green")),
 main = "main plant stage index variation in India during drought year 2000",
 key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)


Regards and Thanks,

Ranjeet



-- 



*"Simple Heart, Humble Attitude and Surrender to Supreme Being make our
lives beautiful!"*

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Sat May 14 19:33:28 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Sat, 14 May 2022 17:33:28 +0000
Subject: [R] create distinct variable names
Message-ID: <MN2PR03MB51670EB6AD140D823EA2477EE2CD9@MN2PR03MB5167.namprd03.prod.outlook.com>

I am trying to create distinct variable names of the form Corr1, Corr2, etc. so that I can run cbind(nurkle,Corrk)
When I run the code below, I receive the following error message
Error in paste(Corr,k) <- out[[k]]$acf: could not find the function paste<-
How can I create a variable name with a sequential number than can be used as the receiving end of my assignment statement?


nurkle <- out[[1]]$acf
for (k in 2:10){
  paste(Corr,k) <- out[[k]]$acf
   nurkle<- cbind(nurkle,Corrk)
}

Thank you,
John

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sat May 14 20:06:17 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 14 May 2022 11:06:17 -0700
Subject: [R] need to plot multiple spatial maps side-by-side in a single
 window using sf plot function in R
In-Reply-To: <CAJfMH3pDgHUWa+c+tBrFXJCKmMFaxDeizbej980LwwdZxatkYg@mail.gmail.com>
References: <CAJfMH3pDgHUWa+c+tBrFXJCKmMFaxDeizbej980LwwdZxatkYg@mail.gmail.com>
Message-ID: <CAGxFJbSYJOc4-JEXig2psrcJk+PxAqtVda1wNSr4zhkhi+ZG3Q@mail.gmail.com>

It seems that sp uses the lattice package and spplot() for multiple
plots. These are completely incompatible with base plot's par(mfrow
=...) multiple plotting. I think you need to study how lattice works.
In particular, see ?plot.trellis and ?xyplot for some relevant info.

You might also do better posting this on r-sig-geo,
https://stat.ethz.ch/mailman/listinfo/r-sig-geo , where expertise on
this sort of thing is more likely to reside.

Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Sat, May 14, 2022 at 10:02 AM Ranjeet Kumar Jha
<ranjeetjhaiitkgp at gmail.com> wrote:
>
> Hi,
>
> I like to plot all my 5 spatial maps of drought indices in a single window
> using the sf plot function in R. I am able to plot all maps separately but
> unable to plot altogether. All indexes are showing drought indices.
>
> I really appreciate your help!
>
> Here is the code:
>
> #merging using merge function
> merge_drought_indices <- merge(shp_dist, drought_indices)
> view(merge_drought_indices)
> #plot in a single window
> library(sp)
> par(mfrow=c(2,2))
>  plot(merge_drought_indices["r_count_lt_p05_harvest_end"],
>  pal = colorRampPalette(c("red", "white", "blue","green")),
>  main = "End harvest index variation in India during drought year 2000",
>  key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)
>
>  plot(merge_drought_indices["r_count_lt_p05_harvest"],
>  pal = colorRampPalette(c("red", "white", "blue","green")),
>  main = "Harvest variation index in India during drought year 2000",
>  key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)
>
>  plot(merge_drought_indices["r_count_lt_p05_main"],
>  pal = colorRampPalette(c("red", "white", "blue","green")),
>  main = "Main growth stage index variation in India during drought year 2000",
>  key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)
>
>  plot(merge_drought_indices["r_count_lt_p05_plant.start"],
>  pal = colorRampPalette(c("red", "white", "blue","green")),
>  main = "Plant start index variation in India during drought year 2000",
>  key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)
>
>  plot(merge_drought_indices["r_count_lt_p05_plant"],
>  pal = colorRampPalette(c("red", "white", "blue","green")),
>  main = "main plant stage index variation in India during drought year 2000",
>  key.pos = 4, axes = TRUE, key.width = lcm(1.3), key.length = 1.0)
>
>
> Regards and Thanks,
>
> Ranjeet
>
>
>
> --
>
>
>
> *"Simple Heart, Humble Attitude and Surrender to Supreme Being make our
> lives beautiful!"*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat May 14 20:10:09 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 14 May 2022 19:10:09 +0100
Subject: [R] create distinct variable names
In-Reply-To: <MN2PR03MB51670EB6AD140D823EA2477EE2CD9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51670EB6AD140D823EA2477EE2CD9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <ccaac9e6-82be-b6dc-8d70-f45aee40bdc6@sapo.pt>

Hello,

Replace the for loop by a lapply loop and assign the names after, with

sprintf("Corr%d", 1:10)

Is out a data.frame? Can you post dput(head(out))?

Hope this helps,

Rui Barradas


?s 18:33 de 14/05/2022, Sorkin, John escreveu:
> I am trying to create distinct variable names of the form Corr1, Corr2, etc. so that I can run cbind(nurkle,Corrk)
> When I run the code below, I receive the following error message
> Error in paste(Corr,k) <- out[[k]]$acf: could not find the function paste<-
> How can I create a variable name with a sequential number than can be used as the receiving end of my assignment statement?
> 
> 
> nurkle <- out[[1]]$acf
> for (k in 2:10){
>    paste(Corr,k) <- out[[k]]$acf
>     nurkle<- cbind(nurkle,Corrk)
> }
> 
> Thank you,
> John
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Sat May 14 20:13:57 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 14 May 2022 11:13:57 -0700
Subject: [R] create distinct variable names
In-Reply-To: <MN2PR03MB51670EB6AD140D823EA2477EE2CD9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51670EB6AD140D823EA2477EE2CD9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbQRyr9EK_hCxmOnLtpvjcjiUFMQP3OvDV4_Erpzt34NBQ@mail.gmail.com>

?assign
as in
assign(paste0('Corr',k), out[[k]]$acf) ## note 'Corr' must be a string!

However, IMO you would do better keeping your results in a list using
lapply(), as overpopulating your workspace with 'suggestive' names is
error prone.

Bert

On Sat, May 14, 2022 at 10:34 AM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I am trying to create distinct variable names of the form Corr1, Corr2, etc. so that I can run cbind(nurkle,Corrk)
> When I run the code below, I receive the following error message
> Error in paste(Corr,k) <- out[[k]]$acf: could not find the function paste<-
> How can I create a variable name with a sequential number than can be used as the receiving end of my assignment statement?
>
>
> nurkle <- out[[1]]$acf
> for (k in 2:10){
>   paste(Corr,k) <- out[[k]]$acf
>    nurkle<- cbind(nurkle,Corrk)
> }
>
> Thank you,
> John
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Sun May 15 02:37:04 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Sun, 15 May 2022 01:37:04 +0100
Subject: [R] Help for funnel plot
Message-ID: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>

Hi,
Excuse me for this silly question
how do I get a colour gradient like the one attached. Colours are a bit
limited
Any specific code for the reference line and pseudo confidence lines. I use
"lty", but this do both

Here is my argument

dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
Duration_of_analgesia)



res <- rma(yi, vi, data=dat, measure="MD", method="DL")


funnel(res, main="Duration of analegsia", back = 12, xlab="Mean difference
(hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0), font.main =
1, font.lab = 2, font.axis = 2)

Thank you

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun May 15 10:14:08 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 15 May 2022 09:14:08 +0100
Subject: [R] Help for funnel plot
In-Reply-To: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
Message-ID: <7378651a-1d30-4ffe-b39d-a6892a4b3888@sapo.pt>

Hello,

No attachment came through, see the posting guide (a link is at the 
bottom of this and every R-Help e-mail) for the file formats allowed in 
attachments.

What do you mean by colour gradient? `metafor::funnel` has 3 arguments 
to set colors,

  - back, set in your code to 12;
  - shade, unused;
  - hlines, unused.

And when you use functions not in base R, start your scripts with calls 
to library() to load the packages where those functions can be found.


Hope this helps,

Rui Barradas


?s 01:37 de 15/05/2022, De Simone escreveu:
> Hi,
> Excuse me for this silly question
> how do I get a colour gradient like the one attached. Colours are a bit
> limited
> Any specific code for the reference line and pseudo confidence lines. I use
> "lty", but this do both
> 
> Here is my argument
> 
> dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> Duration_of_analgesia)
> 
> 
> 
> res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> 
> 
> funnel(res, main="Duration of analegsia", back = 12, xlab="Mean difference
> (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0), font.main =
> 1, font.lab = 2, font.axis = 2)
> 
> Thank you
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From drj|m|emon @end|ng |rom gm@||@com  Sun May 15 11:56:39 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sun, 15 May 2022 19:56:39 +1000
Subject: [R] Help for funnel plot
In-Reply-To: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
Message-ID: <CA+8X3fWsD4Bd4M5+xJDONbGJmHwPaPp407RY_dbGo6bPtw1-iw@mail.gmail.com>

Hi,
There are a number of functions that will transform numeric values
into colors. One is color.scale in the plotrix package. This accepts a
vector of numeric values and linearly transforms them into one or more
ranges of colors. The resulting colors can then be passed to the
appropriate arguments in your plotting function.

Jim

On Sun, May 15, 2022 at 3:48 PM De Simone <de.simone.belinda87 at gmail.com> wrote:
>
> Hi,
> Excuse me for this silly question
> how do I get a colour gradient like the one attached. Colours are a bit
> limited
> Any specific code for the reference line and pseudo confidence lines. I use
> "lty", but this do both
>
> Here is my argument
>
> dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> Duration_of_analgesia)
>
>
>
> res <- rma(yi, vi, data=dat, measure="MD", method="DL")
>
>
> funnel(res, main="Duration of analegsia", back = 12, xlab="Mean difference
> (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0), font.main =
> 1, font.lab = 2, font.axis = 2)
>
> Thank you
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Sun May 15 13:11:38 2022
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Sun, 15 May 2022 12:11:38 +0100
Subject: [R] Help for funnel plot
In-Reply-To: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
Message-ID: <cf2ffdde-3107-d3b7-29a2-968ee2583232@dewey.myzen.co.uk>

Dear Belinda

You need to specify lty as a vector to get different colours for the 
reference line and the limits of the pseudoe-confidence region. Does 
that solve your problem?

Michael

On 15/05/2022 01:37, De Simone wrote:
> Hi,
> Excuse me for this silly question
> how do I get a colour gradient like the one attached. Colours are a bit
> limited
> Any specific code for the reference line and pseudo confidence lines. I use
> "lty", but this do both
> 
> Here is my argument
> 
> dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> Duration_of_analgesia)
> 
> 
> 
> res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> 
> 
> funnel(res, main="Duration of analegsia", back = 12, xlab="Mean difference
> (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0), font.main =
> 1, font.lab = 2, font.axis = 2)
> 
> Thank you
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From g@@mo||n@k|1 @end|ng |rom gm@||@com  Sun May 15 19:03:40 2022
From: g@@mo||n@k|1 @end|ng |rom gm@||@com (=?UTF-8?Q?Grzegorz_Smoli=C5=84ski?=)
Date: Sun, 15 May 2022 19:03:40 +0200
Subject: [R] get line from file having 'at' step in function body
Message-ID: <CABxpnnn7wSPUE0hB=a-h7NJ_foRpa0LYOtqGArN+7C467KLyVw@mail.gmail.com>

Hi,

I'm looking for the reverse operation for utils::findLineNum(). Let's
take the code as below saved in file "test.R":

```
fun1 <- function() {
c(1,
2,
3)
}
```

Let's say in the file it starts from line 1, i.e. fun1 definition is
from line 1 to 5. I can now use `utils::findLineNum(fun1, line =
3)[[1]]$at` to get the location in the body, but how to get a line
having the location in the body?

Full code:

```
fun1 <- function() {
  c(1,
    2,
    3)
}

at <- utils::findLineNum("test.R", line = 3)[[1]]$at

getSrcLocation(body(fun1)[[at]], "line") # returns NULL, because
subsetting drops the 'srcref' attribute?
```
Is there some specific function for this? The problem is that in the
example above, the 'at' points to the line 2, not 3 if I can say that
(we can check this using `utils::findLineNum(fun1, line = 2)[[1]]$at`
- returned value is the same as for line 3) and I need to get this
first line to which the 'at' refers to. The only solution I see is to
use `findLineNum` on all previous lines (from the chosen line) and see
when the 'at' has changed - if has changed, then take the last checked
line. Is there a simpler solution?

Best regards,

Grzegorz


From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Sun May 15 13:52:34 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Sun, 15 May 2022 12:52:34 +0100
Subject: [R] Help for funnel plot
In-Reply-To: <7378651a-1d30-4ffe-b39d-a6892a4b3888@sapo.pt>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
 <7378651a-1d30-4ffe-b39d-a6892a4b3888@sapo.pt>
Message-ID: <CAHGyc-sjmnBqubqOa-kPG-XEZqADY5Tp+EY8hxwZhxjz0a6O5w@mail.gmail.com>

Hi Rui

Thank you. The default for the shade and hilinees is ok, that is why I
didn't add it.
I attached the example image as PDF
my question is how to get gradient colors for the background like the one
attached
And again how to get different types of lines for the Reference and
confidence. The argument "lty" do both

On Sun, May 15, 2022 at 9:14 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> No attachment came through, see the posting guide (a link is at the
> bottom of this and every R-Help e-mail) for the file formats allowed in
> attachments.
>
> What do you mean by colour gradient? `metafor::funnel` has 3 arguments
> to set colors,
>
>   - back, set in your code to 12;
>   - shade, unused;
>   - hlines, unused.
>
> And when you use functions not in base R, start your scripts with calls
> to library() to load the packages where those functions can be found.
>
>
> Hope this helps,
>
> Rui Barradas
>
>
> ?s 01:37 de 15/05/2022, De Simone escreveu:
> > Hi,
> > Excuse me for this silly question
> > how do I get a colour gradient like the one attached. Colours are a bit
> > limited
> > Any specific code for the reference line and pseudo confidence lines. I
> use
> > "lty", but this do both
> >
> > Here is my argument
> >
> > dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> > m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> > Duration_of_analgesia)
> >
> >
> >
> > res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> >
> >
> > funnel(res, main="Duration of analegsia", back = 12, xlab="Mean
> difference
> > (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0),
> font.main =
> > 1, font.lab = 2, font.axis = 2)
> >
> > Thank you
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Funnel.pdf
Type: application/pdf
Size: 57649 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20220515/137508d8/attachment.pdf>

From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Sun May 15 14:23:56 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Sun, 15 May 2022 13:23:56 +0100
Subject: [R] Help for funnel plot
In-Reply-To: <CA+8X3fWsD4Bd4M5+xJDONbGJmHwPaPp407RY_dbGo6bPtw1-iw@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
 <CA+8X3fWsD4Bd4M5+xJDONbGJmHwPaPp407RY_dbGo6bPtw1-iw@mail.gmail.com>
Message-ID: <CAHGyc-vq_NYs_oLeJN93MsE4TtJEO41+-aVH3ygr-kE4fY6m_g@mail.gmail.com>

Thank you Jim
I attached an example for color gradient
What would be the argument for one color gradient. I haven't used the
plotrix before

On Sun, May 15, 2022 at 10:56 AM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi,
> There are a number of functions that will transform numeric values
> into colors. One is color.scale in the plotrix package. This accepts a
> vector of numeric values and linearly transforms them into one or more
> ranges of colors. The resulting colors can then be passed to the
> appropriate arguments in your plotting function.
>
> Jim
>
> On Sun, May 15, 2022 at 3:48 PM De Simone <de.simone.belinda87 at gmail.com>
> wrote:
> >
> > Hi,
> > Excuse me for this silly question
> > how do I get a colour gradient like the one attached. Colours are a bit
> > limited
> > Any specific code for the reference line and pseudo confidence lines. I
> use
> > "lty", but this do both
> >
> > Here is my argument
> >
> > dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> > m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> > Duration_of_analgesia)
> >
> >
> >
> > res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> >
> >
> > funnel(res, main="Duration of analegsia", back = 12, xlab="Mean
> difference
> > (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0),
> font.main =
> > 1, font.lab = 2, font.axis = 2)
> >
> > Thank you
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Funnel.pdf
Type: application/pdf
Size: 57649 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20220515/f5fd0f96/attachment.pdf>

From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Sun May 15 14:27:58 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Sun, 15 May 2022 13:27:58 +0100
Subject: [R] Help for funnel plot
In-Reply-To: <cf2ffdde-3107-d3b7-29a2-968ee2583232@dewey.myzen.co.uk>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
 <cf2ffdde-3107-d3b7-29a2-968ee2583232@dewey.myzen.co.uk>
Message-ID: <CAHGyc-tLHZRpVsw5CptnNhM=eAjZUCbHrHpUv73xXVDCx3AeHQ@mail.gmail.com>

Hi Michael
Thank you so much for help
Apologies if my question wasn't clear. I'm looking to change the line type
(solid vs interrupted) not the color
Attached is an example for plot using solid for reference and interrupted
for confidence. The argument lty do both


On Sun, May 15, 2022 at 12:11 PM Michael Dewey <lists at dewey.myzen.co.uk>
wrote:

> Dear Belinda
>
> You need to specify lty as a vector to get different colours for the
> reference line and the limits of the pseudoe-confidence region. Does
> that solve your problem?
>
> Michael
>
> On 15/05/2022 01:37, De Simone wrote:
> > Hi,
> > Excuse me for this silly question
> > how do I get a colour gradient like the one attached. Colours are a bit
> > limited
> > Any specific code for the reference line and pseudo confidence lines. I
> use
> > "lty", but this do both
> >
> > Here is my argument
> >
> > dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> > m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> > Duration_of_analgesia)
> >
> >
> >
> > res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> >
> >
> > funnel(res, main="Duration of analegsia", back = 12, xlab="Mean
> difference
> > (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0),
> font.main =
> > 1, font.lab = 2, font.axis = 2)
> >
> > Thank you
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Michael
> http://www.dewey.myzen.co.uk/home.html
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Funnel.pdf
Type: application/pdf
Size: 57649 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20220515/23e69c11/attachment.pdf>

From drj|m|emon @end|ng |rom gm@||@com  Mon May 16 01:05:34 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 16 May 2022 09:05:34 +1000
Subject: [R] Help for funnel plot
In-Reply-To: <CAHGyc-vq_NYs_oLeJN93MsE4TtJEO41+-aVH3ygr-kE4fY6m_g@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
 <CA+8X3fWsD4Bd4M5+xJDONbGJmHwPaPp407RY_dbGo6bPtw1-iw@mail.gmail.com>
 <CAHGyc-vq_NYs_oLeJN93MsE4TtJEO41+-aVH3ygr-kE4fY6m_g@mail.gmail.com>
Message-ID: <CA+8X3fXr98n5yB7s_veWLeikC8Tp5uMRjDC7AEvH2kPc=bTnFg@mail.gmail.com>

Hi,
Looking at the help page for "funnel", I first thought that the
"shade" argument would be the one. However, that seems to take a
specific color. Perhaps the function computes the shading from that. I
have never used the "funnel" function myself, so I don't have a good
idea of how that left-to-right gradient is determined. Perhaps:

wvb at metafor-project.org

could tell you.

Jim

On Sun, May 15, 2022 at 10:24 PM De Simone
<de.simone.belinda87 at gmail.com> wrote:
>
> Thank you Jim
> I attached an example for color gradient
> What would be the argument for one color gradient. I haven't used the plotrix before
>
> On Sun, May 15, 2022 at 10:56 AM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>> Hi,
>> There are a number of functions that will transform numeric values
>> into colors. One is color.scale in the plotrix package. This accepts a
>> vector of numeric values and linearly transforms them into one or more
>> ranges of colors. The resulting colors can then be passed to the
>> appropriate arguments in your plotting function.
>>
>> Jim
>>
>> On Sun, May 15, 2022 at 3:48 PM De Simone <de.simone.belinda87 at gmail.com> wrote:
>> >
>> > Hi,
>> > Excuse me for this silly question
>> > how do I get a colour gradient like the one attached. Colours are a bit
>> > limited
>> > Any specific code for the reference line and pseudo confidence lines. I use
>> > "lty", but this do both
>> >
>> > Here is my argument
>> >
>> > dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
>> > m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
>> > Duration_of_analgesia)
>> >
>> >
>> >
>> > res <- rma(yi, vi, data=dat, measure="MD", method="DL")
>> >
>> >
>> > funnel(res, main="Duration of analegsia", back = 12, xlab="Mean difference
>> > (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0), font.main =
>> > 1, font.lab = 2, font.axis = 2)
>> >
>> > Thank you
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Mon May 16 01:11:49 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 15 May 2022 16:11:49 -0700
Subject: [R] Help for funnel plot
In-Reply-To: <CA+8X3fXr98n5yB7s_veWLeikC8Tp5uMRjDC7AEvH2kPc=bTnFg@mail.gmail.com>
References: <CAHGyc-uDDZHN03Rj=UbPhTWXvSpe1p02kgexQ5Q8wpeX5bEi0A@mail.gmail.com>
 <CA+8X3fWsD4Bd4M5+xJDONbGJmHwPaPp407RY_dbGo6bPtw1-iw@mail.gmail.com>
 <CAHGyc-vq_NYs_oLeJN93MsE4TtJEO41+-aVH3ygr-kE4fY6m_g@mail.gmail.com>
 <CA+8X3fXr98n5yB7s_veWLeikC8Tp5uMRjDC7AEvH2kPc=bTnFg@mail.gmail.com>
Message-ID: <CAGxFJbQHccmamDPqpA5uQCixQtbxCVdqsa5AX6nyoLQ6v4hDiw@mail.gmail.com>

... and/or post on the r-sig-meta-analysis page,
https://stat.ethz.ch/mailman/listinfo/r-sig-meta-analysis  not here.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, May 15, 2022 at 4:05 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi,
> Looking at the help page for "funnel", I first thought that the
> "shade" argument would be the one. However, that seems to take a
> specific color. Perhaps the function computes the shading from that. I
> have never used the "funnel" function myself, so I don't have a good
> idea of how that left-to-right gradient is determined. Perhaps:
>
> wvb at metafor-project.org
>
> could tell you.
>
> Jim
>
> On Sun, May 15, 2022 at 10:24 PM De Simone
> <de.simone.belinda87 at gmail.com> wrote:
> >
> > Thank you Jim
> > I attached an example for color gradient
> > What would be the argument for one color gradient. I haven't used the
> plotrix before
> >
> > On Sun, May 15, 2022 at 10:56 AM Jim Lemon <drjimlemon at gmail.com> wrote:
> >>
> >> Hi,
> >> There are a number of functions that will transform numeric values
> >> into colors. One is color.scale in the plotrix package. This accepts a
> >> vector of numeric values and linearly transforms them into one or more
> >> ranges of colors. The resulting colors can then be passed to the
> >> appropriate arguments in your plotting function.
> >>
> >> Jim
> >>
> >> On Sun, May 15, 2022 at 3:48 PM De Simone <
> de.simone.belinda87 at gmail.com> wrote:
> >> >
> >> > Hi,
> >> > Excuse me for this silly question
> >> > how do I get a colour gradient like the one attached. Colours are a
> bit
> >> > limited
> >> > Any specific code for the reference line and pseudo confidence lines.
> I use
> >> > "lty", but this do both
> >> >
> >> > Here is my argument
> >> >
> >> > dat <- escalc("MD", m1i=Mean_TAP, sd1i= SD_TAP, n1i= N_TAP,
> >> > m2i=Mean_caudal, sd2i= SD_caudal, n2i= N_caudal, slab=Study, data=
> >> > Duration_of_analgesia)
> >> >
> >> >
> >> >
> >> > res <- rma(yi, vi, data=dat, measure="MD", method="DL")
> >> >
> >> >
> >> > funnel(res, main="Duration of analegsia", back = 12, xlab="Mean
> difference
> >> > (hours)", cex = 1.2,  lwd = 2, lty = "solid", mgp = c(2, 1, 0),
> font.main =
> >> > 1, font.lab = 2, font.axis = 2)
> >> >
> >> > Thank you
> >> > ______________________________________________
> >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> > https://stat.ethz.ch/mailman/listinfo/r-help
> >> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May 16 13:15:55 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 16 May 2022 11:15:55 +0000
Subject: [R] ggplot pointrange from other df and missing legend
Message-ID: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>

Hallo all

 

Here are the data from dput

 

test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",

"B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype = c("one",

"one", "one", "two", "two", "two", "one", "one", "one", "two",

"two", "two", "one", "one", "one", "two", "two", "two"), value =
c(8.587645149,

8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,

9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,

10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,

10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,

8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11

), identity = c("point", "point", "point", "point", "point",

"point", "point", "point", "point", "point", "point", "point",

"point", "point", "point", "point", "point", "point")), row.names = c(NA,

18L), class = "data.frame")

 

test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3, 9.5, 11

), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"

)), row.names = c(NA, 3L), class = "data.frame")

 

I try to make some relatively simple barplot and I wanted to add points to
it which I somehow did.

 

library(ggplot2)

 

p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))

p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP, shape=identity),
size=5)+

scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
to",

labels=c("bla", "blabla"))+

guides(fill= guide_legend(override.aes = list(shape=NA)))+

scale_shape_manual(name = "Measured", values=19, labels=NULL)

 

But instead of points I want to use pointrange with data from other df. I
found some help and all is good except size of the points and missing legend

 

ggplot()+

geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype), position="dodge")+

scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
to",

labels=c("bla", "blabla"))+

geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,

ymax=avg+odch)) +

guides(fill= guide_legend(override.aes = list(shape=NA)))+

scale_shape_manual(name = "Measured", values=19, labels=NULL)

 

Although I will try to find some workable way I also would like to ask for
help from R gurus, maybe I overlooked some simple way how to do it.

 

Best regards

Petr


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May 16 13:45:05 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 16 May 2022 11:45:05 +0000
Subject: [R] ggplot pointrange from other df and missing legend
In-Reply-To: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
References: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
Message-ID: <73e9d13717c84678ad3dc8f21582ed8d@SRVEXCHCM1302.precheza.cz>

Hi.

I noticed missing tablePal which was originally set to

palette("Tableau 10")
tablePal <- palette()

So now both codes should work however missing legend still persists

library(ggplot2)

p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP, shape=identity),
size=5)+
scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
to",
labels=c("bla", "blabla"))+
guides(fill= guide_legend(override.aes = list(shape=NA)))+
scale_shape_manual(name = "Measured", values=19, labels=NULL)

ggplot()+
geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype), position="dodge")+
scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
to",
labels=c("bla", "blabla"))+
geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
ymax=avg+odch)) +
guides(fill= guide_legend(override.aes = list(shape=NA)))+
scale_shape_manual(name = "Measured", values=19, labels=NULL)

Best regards
Petr




> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of PIKAL Petr
> Sent: Monday, May 16, 2022 1:16 PM
> To: r-help at r-project.org
> Subject: [R] ggplot pointrange from other df and missing legend
> 
> Hallo all
> 
> 
> 
> Here are the data from dput
> 
> 
> 
> test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",
> 
> "B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype = c("one",
> 
> "one", "one", "two", "two", "two", "one", "one", "one", "two",
> 
> "two", "two", "one", "one", "one", "two", "two", "two"), value =
> c(8.587645149,
> 
> 8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,
> 
> 9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,
> 
> 10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,
> 
> 10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,
> 
> 8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11
> 
> ), identity = c("point", "point", "point", "point", "point",
> 
> "point", "point", "point", "point", "point", "point", "point",
> 
> "point", "point", "point", "point", "point", "point")), row.names = c(NA,
> 
> 18L), class = "data.frame")
> 
> 
> 
> test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3, 9.5, 11
> 
> ), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"
> 
> )), row.names = c(NA, 3L), class = "data.frame")
> 
> 
> 
> I try to make some relatively simple barplot and I wanted to add points to
> it which I somehow did.
> 
> 
> 
> library(ggplot2)
> 
> 
> 
> p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
> 
> p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP,
> shape=identity),
> size=5)+
> 
> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> according
> to",
> 
> labels=c("bla", "blabla"))+
> 
> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> 
> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> 
> 
> 
> But instead of points I want to use pointrange with data from other df. I
> found some help and all is good except size of the points and missing
legend
> 
> 
> 
> ggplot()+
> 
> geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype),
> position="dodge")+
> 
> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> according
> to",
> 
> labels=c("bla", "blabla"))+
> 
> geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
> 
> ymax=avg+odch)) +
> 
> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> 
> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> 
> 
> 
> Although I will try to find some workable way I also would like to ask for
> help from R gurus, maybe I overlooked some simple way how to do it.
> 
> 
> 
> Best regards
> 
> Petr


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May 16 13:52:41 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 16 May 2022 12:52:41 +0100
Subject: [R] ggplot pointrange from other df and missing legend
In-Reply-To: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
References: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
Message-ID: <f51ba422-e33f-1770-5790-1326c5ac42eb@sapo.pt>

Hello,

In the code below the legend is not missing, I couldn't reproduce that 
error.
As for the size of the points, include argument size. I have size=2.

Also:
  - tablePal is missing, I've chosen colors 2:3;
  - I have commented out the guides(.), you are setting the shape after 
so it makes no difference.


ggplot() +
   geom_col(
     data=test,
     aes(x=Sample, y=value, fill=SSAtype),
     position="dodge"
   ) +
   geom_pointrange(
     data=test.ag,
     aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
     size = 2
   ) +
   scale_fill_manual(
     #values=tablePal,
     values = 2:3,
     name="Calculation\n performed\n according to",
     labels=c("bla", "blabla")
   ) +
   #guides(fill = guide_legend(override.aes = list(shape = NA))) +
   scale_shape_manual(name = "Measured", values = 19, labels = NULL)


Hope this helps,

Rui Barradas


?s 12:15 de 16/05/2022, PIKAL Petr escreveu:
> Hallo all
> 
>   
> 
> Here are the data from dput
> 
>   
> 
> test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",
> 
> "B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype = c("one",
> 
> "one", "one", "two", "two", "two", "one", "one", "one", "two",
> 
> "two", "two", "one", "one", "one", "two", "two", "two"), value =
> c(8.587645149,
> 
> 8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,
> 
> 9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,
> 
> 10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,
> 
> 10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,
> 
> 8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11
> 
> ), identity = c("point", "point", "point", "point", "point",
> 
> "point", "point", "point", "point", "point", "point", "point",
> 
> "point", "point", "point", "point", "point", "point")), row.names = c(NA,
> 
> 18L), class = "data.frame")
> 
>   
> 
> test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3, 9.5, 11
> 
> ), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"
> 
> )), row.names = c(NA, 3L), class = "data.frame")
> 
>   
> 
> I try to make some relatively simple barplot and I wanted to add points to
> it which I somehow did.
> 
>   
> 
> library(ggplot2)
> 
>   
> 
> p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
> 
> p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP, shape=identity),
> size=5)+
> 
> scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
> to",
> 
> labels=c("bla", "blabla"))+
> 
> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> 
> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> 
>   
> 
> But instead of points I want to use pointrange with data from other df. I
> found some help and all is good except size of the points and missing legend
> 
>   
> 
> ggplot()+
> 
> geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype), position="dodge")+
> 
> scale_fill_manual(values=tablePal, name="Calculation\n performed\n according
> to",
> 
> labels=c("bla", "blabla"))+
> 
> geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
> 
> ymax=avg+odch)) +
> 
> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> 
> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> 
>   
> 
> Although I will try to find some workable way I also would like to ask for
> help from R gurus, maybe I overlooked some simple way how to do it.
> 
>   
> 
> Best regards
> 
> Petr
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May 16 14:21:40 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 16 May 2022 12:21:40 +0000
Subject: [R] ggplot pointrange from other df and missing legend
In-Reply-To: <f51ba422-e33f-1770-5790-1326c5ac42eb@sapo.pt>
References: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
 <f51ba422-e33f-1770-5790-1326c5ac42eb@sapo.pt>
Message-ID: <230dd7ebc105475f8d02ae4b4801e924@SRVEXCHCM1302.precheza.cz>

Hallo Rui

Thanks. After I sent the first mail I noticed the missing tablePal.

palette("Tableau 10")
tablePal <- palette()

ggplot() +
   geom_col(
     data=test,
     aes(x=Sample, y=value, fill=SSAtype),
     position="dodge"
   ) +
   geom_pointrange(
     data=test.ag,
     aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
     size = 2
   ) +
   scale_fill_manual(
    values=tablePal,
     name="Calculation\n performed\n according to",
     labels=c("bla", "blabla")
   ) +
   scale_shape_manual(name = "Measured", values = 19, labels = NULL)

You are correct that legend for bars is there. But the legend for points is missing. If I use only geom_point and values from the "test" data, also legend for the point appears. Is it possible that the second legend could be created only if all data are from one data frame?

Best regards
Petr

> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> Sent: Monday, May 16, 2022 1:53 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
> Subject: Re: [R] ggplot pointrange from other df and missing legend
> 
> Hello,
> 
> In the code below the legend is not missing, I couldn't reproduce that error.
> As for the size of the points, include argument size. I have size=2.
> 
> Also:
>   - tablePal is missing, I've chosen colors 2:3;
>   - I have commented out the guides(.), you are setting the shape after so it
> makes no difference.
> 
> 
> ggplot() +
>    geom_col(
>      data=test,
>      aes(x=Sample, y=value, fill=SSAtype),
>      position="dodge"
>    ) +
>    geom_pointrange(
>      data=test.ag,
>      aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
>      size = 2
>    ) +
>    scale_fill_manual(
>      #values=tablePal,
>      values = 2:3,
>      name="Calculation\n performed\n according to",
>      labels=c("bla", "blabla")
>    ) +
>    #guides(fill = guide_legend(override.aes = list(shape = NA))) +
>    scale_shape_manual(name = "Measured", values = 19, labels = NULL)
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> ?s 12:15 de 16/05/2022, PIKAL Petr escreveu:
> > Hallo all
> >
> >
> >
> > Here are the data from dput
> >
> >
> >
> > test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",
> >
> > "B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype = c("one",
> >
> > "one", "one", "two", "two", "two", "one", "one", "one", "two",
> >
> > "two", "two", "one", "one", "one", "two", "two", "two"), value =
> > c(8.587645149,
> >
> > 8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,
> >
> > 9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,
> >
> > 10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,
> >
> > 10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,
> >
> > 8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11
> >
> > ), identity = c("point", "point", "point", "point", "point",
> >
> > "point", "point", "point", "point", "point", "point", "point",
> >
> > "point", "point", "point", "point", "point", "point")), row.names = c(NA,
> >
> > 18L), class = "data.frame")
> >
> >
> >
> > test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3, 9.5, 11
> >
> > ), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"
> >
> > )), row.names = c(NA, 3L), class = "data.frame")
> >
> >
> >
> > I try to make some relatively simple barplot and I wanted to add points to
> > it which I somehow did.
> >
> >
> >
> > library(ggplot2)
> >
> >
> >
> > p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
> >
> > p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP,
> shape=identity),
> > size=5)+
> >
> > scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> according
> > to",
> >
> > labels=c("bla", "blabla"))+
> >
> > guides(fill= guide_legend(override.aes = list(shape=NA)))+
> >
> > scale_shape_manual(name = "Measured", values=19, labels=NULL)
> >
> >
> >
> > But instead of points I want to use pointrange with data from other df. I
> > found some help and all is good except size of the points and missing
> legend
> >
> >
> >
> > ggplot()+
> >
> > geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype),
> position="dodge")+
> >
> > scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> according
> > to",
> >
> > labels=c("bla", "blabla"))+
> >
> > geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
> >
> > ymax=avg+odch)) +
> >
> > guides(fill= guide_legend(override.aes = list(shape=NA)))+
> >
> > scale_shape_manual(name = "Measured", values=19, labels=NULL)
> >
> >
> >
> > Although I will try to find some workable way I also would like to ask for
> > help from R gurus, maybe I overlooked some simple way how to do it.
> >
> >
> >
> > Best regards
> >
> > Petr
> >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> > and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May 16 17:33:22 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 16 May 2022 16:33:22 +0100
Subject: [R] ggplot pointrange from other df and missing legend
In-Reply-To: <230dd7ebc105475f8d02ae4b4801e924@SRVEXCHCM1302.precheza.cz>
References: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
 <f51ba422-e33f-1770-5790-1326c5ac42eb@sapo.pt>
 <230dd7ebc105475f8d02ae4b4801e924@SRVEXCHCM1302.precheza.cz>
Message-ID: <61a031ba-8dc5-9d5b-3daa-34a84cb3c8ce@sapo.pt>

Hello,

OK, now I understand the problem better. What is the variable defining 
the points colors? Without a mapping to an aesthetic, there will be no 
legend. In what follows I map color = Sample and the legend shows up. 
Then scale_color_manual can change the colors.

Is this it?


palette("Tableau 10")
tablePal <- palette()

ggplot() +
   geom_col(
     data=test,
     aes(x=Sample, y=value, fill=SSAtype),
     position="dodge"
   ) +
   geom_pointrange(
     data=test.ag,
     aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch, color = Sample),
     size = 2
   ) +
   scale_fill_manual(
     values=tablePal,
     name="Calculation\n performed\n according to",
     labels=c("bla", "blabla")
   ) +
   guides(fill = guide_legend(override.aes = list(shape = NA))) +
   scale_shape_manual(name = "Measured", values = 19, labels = NULL) +
   scale_color_manual(values = tablePal[3:5])


Hope this helps,

Rui Barradas


?s 13:21 de 16/05/2022, PIKAL Petr escreveu:
> Hallo Rui
> 
> Thanks. After I sent the first mail I noticed the missing tablePal.
> 
> palette("Tableau 10")
> tablePal <- palette()
> 
> ggplot() +
>     geom_col(
>       data=test,
>       aes(x=Sample, y=value, fill=SSAtype),
>       position="dodge"
>     ) +
>     geom_pointrange(
>       data=test.ag,
>       aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
>       size = 2
>     ) +
>     scale_fill_manual(
>      values=tablePal,
>       name="Calculation\n performed\n according to",
>       labels=c("bla", "blabla")
>     ) +
>     scale_shape_manual(name = "Measured", values = 19, labels = NULL)
> 
> You are correct that legend for bars is there. But the legend for points is missing. If I use only geom_point and values from the "test" data, also legend for the point appears. Is it possible that the second legend could be created only if all data are from one data frame?
> 
> Best regards
> Petr
> 
>> -----Original Message-----
>> From: Rui Barradas <ruipbarradas at sapo.pt>
>> Sent: Monday, May 16, 2022 1:53 PM
>> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
>> Subject: Re: [R] ggplot pointrange from other df and missing legend
>>
>> Hello,
>>
>> In the code below the legend is not missing, I couldn't reproduce that error.
>> As for the size of the points, include argument size. I have size=2.
>>
>> Also:
>>    - tablePal is missing, I've chosen colors 2:3;
>>    - I have commented out the guides(.), you are setting the shape after so it
>> makes no difference.
>>
>>
>> ggplot() +
>>     geom_col(
>>       data=test,
>>       aes(x=Sample, y=value, fill=SSAtype),
>>       position="dodge"
>>     ) +
>>     geom_pointrange(
>>       data=test.ag,
>>       aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
>>       size = 2
>>     ) +
>>     scale_fill_manual(
>>       #values=tablePal,
>>       values = 2:3,
>>       name="Calculation\n performed\n according to",
>>       labels=c("bla", "blabla")
>>     ) +
>>     #guides(fill = guide_legend(override.aes = list(shape = NA))) +
>>     scale_shape_manual(name = "Measured", values = 19, labels = NULL)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>
>> ?s 12:15 de 16/05/2022, PIKAL Petr escreveu:
>>> Hallo all
>>>
>>>
>>>
>>> Here are the data from dput
>>>
>>>
>>>
>>> test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",
>>>
>>> "B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype = c("one",
>>>
>>> "one", "one", "two", "two", "two", "one", "one", "one", "two",
>>>
>>> "two", "two", "one", "one", "one", "two", "two", "two"), value =
>>> c(8.587645149,
>>>
>>> 8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,
>>>
>>> 9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,
>>>
>>> 10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,
>>>
>>> 10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,
>>>
>>> 8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11
>>>
>>> ), identity = c("point", "point", "point", "point", "point",
>>>
>>> "point", "point", "point", "point", "point", "point", "point",
>>>
>>> "point", "point", "point", "point", "point", "point")), row.names = c(NA,
>>>
>>> 18L), class = "data.frame")
>>>
>>>
>>>
>>> test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3, 9.5, 11
>>>
>>> ), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"
>>>
>>> )), row.names = c(NA, 3L), class = "data.frame")
>>>
>>>
>>>
>>> I try to make some relatively simple barplot and I wanted to add points to
>>> it which I somehow did.
>>>
>>>
>>>
>>> library(ggplot2)
>>>
>>>
>>>
>>> p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
>>>
>>> p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP,
>> shape=identity),
>>> size=5)+
>>>
>>> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
>> according
>>> to",
>>>
>>> labels=c("bla", "blabla"))+
>>>
>>> guides(fill= guide_legend(override.aes = list(shape=NA)))+
>>>
>>> scale_shape_manual(name = "Measured", values=19, labels=NULL)
>>>
>>>
>>>
>>> But instead of points I want to use pointrange with data from other df. I
>>> found some help and all is good except size of the points and missing
>> legend
>>>
>>>
>>>
>>> ggplot()+
>>>
>>> geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype),
>> position="dodge")+
>>>
>>> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
>> according
>>> to",
>>>
>>> labels=c("bla", "blabla"))+
>>>
>>> geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
>>>
>>> ymax=avg+odch)) +
>>>
>>> guides(fill= guide_legend(override.aes = list(shape=NA)))+
>>>
>>> scale_shape_manual(name = "Measured", values=19, labels=NULL)
>>>
>>>
>>>
>>> Although I will try to find some workable way I also would like to ask for
>>> help from R gurus, maybe I overlooked some simple way how to do it.
>>>
>>>
>>>
>>> Best regards
>>>
>>> Petr
>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>>> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Tue May 17 08:23:30 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 17 May 2022 06:23:30 +0000
Subject: [R] ggplot pointrange from other df and missing legend
In-Reply-To: <61a031ba-8dc5-9d5b-3daa-34a84cb3c8ce@sapo.pt>
References: <df52d73b10214a46aa105551bf4106bf@SRVEXCHCM1302.precheza.cz>
 <f51ba422-e33f-1770-5790-1326c5ac42eb@sapo.pt>
 <230dd7ebc105475f8d02ae4b4801e924@SRVEXCHCM1302.precheza.cz>
 <61a031ba-8dc5-9d5b-3daa-34a84cb3c8ce@sapo.pt>
Message-ID: <ccf50fce42b3428fab6fdedb1bdbee08@SRVEXCHCM1302.precheza.cz>

Hallo Rui

Yes, close to. But after some slight changes I got the figure I like.

- in geom_pointrange I used only black
- commented scale_shape_manual as it is not needed anymore
- in scale_colour_manual I used values 1 for black colour and labels NULL to supress "black" in measured label

and the plot has all parts as expected.

It is probably due to fact that I used mapping of shape in aesthetics in my original code using one data frame. When I added this aesthetic mapping to my code with two data frames it worked. I learned that first I need to use mapping in aesthetics and then I can to modify it by scale_whatever_manual.

Thank you very much for that lesson. 

Best regards
Petr

Expected plot, data in two data frames

ggplot() +
   geom_col(
     data=test,
     aes(x=Sample, y=value, fill=SSAtype),
     position="dodge"
   ) +
   geom_pointrange(
     data=test.ag,
     aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch, colour="black"),
     size = 1
   ) +
   scale_fill_manual(
     values=tablePal,
     name="Calculation\n performed\n according to",
     labels=c("bla", "blabla")
   ) +
   guides(fill = guide_legend(override.aes = list(shape = NA))) +
#   scale_shape_manual(name = "Measured", values = 19, labels = NULL) +
   scale_color_manual(name= "Measured", values=1, labels=NULL)

> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> Sent: Monday, May 16, 2022 5:33 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
> Subject: Re: [R] ggplot pointrange from other df and missing legend
> 
> Hello,
> 
> OK, now I understand the problem better. What is the variable defining the
> points colors? Without a mapping to an aesthetic, there will be no legend. In
> what follows I map color = Sample and the legend shows up.
> Then scale_color_manual can change the colors.
> 
> Is this it?
> 
> 
> palette("Tableau 10")
> tablePal <- palette()
> 
> ggplot() +
>    geom_col(
>      data=test,
>      aes(x=Sample, y=value, fill=SSAtype),
>      position="dodge"
>    ) +
>    geom_pointrange(
>      data=test.ag,
>      aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch, color = Sample),
>      size = 2
>    ) +
>    scale_fill_manual(
>      values=tablePal,
>      name="Calculation\n performed\n according to",
>      labels=c("bla", "blabla")
>    ) +
>    guides(fill = guide_legend(override.aes = list(shape = NA))) +
>    scale_shape_manual(name = "Measured", values = 19, labels = NULL) +
>    scale_color_manual(values = tablePal[3:5])
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> ?s 13:21 de 16/05/2022, PIKAL Petr escreveu:
> > Hallo Rui
> >
> > Thanks. After I sent the first mail I noticed the missing tablePal.
> >
> > palette("Tableau 10")
> > tablePal <- palette()
> >
> > ggplot() +
> >     geom_col(
> >       data=test,
> >       aes(x=Sample, y=value, fill=SSAtype),
> >       position="dodge"
> >     ) +
> >     geom_pointrange(
> >       data=test.ag,
> >       aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
> >       size = 2
> >     ) +
> >     scale_fill_manual(
> >      values=tablePal,
> >       name="Calculation\n performed\n according to",
> >       labels=c("bla", "blabla")
> >     ) +
> >     scale_shape_manual(name = "Measured", values = 19, labels = NULL)
> >
> > You are correct that legend for bars is there. But the legend for points is
> missing. If I use only geom_point and values from the "test" data, also
> legend for the point appears. Is it possible that the second legend could be
> created only if all data are from one data frame?
> >
> > Best regards
> > Petr
> >
> >> -----Original Message-----
> >> From: Rui Barradas <ruipbarradas at sapo.pt>
> >> Sent: Monday, May 16, 2022 1:53 PM
> >> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
> >> Subject: Re: [R] ggplot pointrange from other df and missing legend
> >>
> >> Hello,
> >>
> >> In the code below the legend is not missing, I couldn't reproduce that
> error.
> >> As for the size of the points, include argument size. I have size=2.
> >>
> >> Also:
> >>    - tablePal is missing, I've chosen colors 2:3;
> >>    - I have commented out the guides(.), you are setting the shape
> >> after so it makes no difference.
> >>
> >>
> >> ggplot() +
> >>     geom_col(
> >>       data=test,
> >>       aes(x=Sample, y=value, fill=SSAtype),
> >>       position="dodge"
> >>     ) +
> >>     geom_pointrange(
> >>       data=test.ag,
> >>       aes(x=Sample, y=avg, ymin=avg-odch, ymax=avg+odch),
> >>       size = 2
> >>     ) +
> >>     scale_fill_manual(
> >>       #values=tablePal,
> >>       values = 2:3,
> >>       name="Calculation\n performed\n according to",
> >>       labels=c("bla", "blabla")
> >>     ) +
> >>     #guides(fill = guide_legend(override.aes = list(shape = NA))) +
> >>     scale_shape_manual(name = "Measured", values = 19, labels = NULL)
> >>
> >>
> >> Hope this helps,
> >>
> >> Rui Barradas
> >>
> >>
> >> ?s 12:15 de 16/05/2022, PIKAL Petr escreveu:
> >>> Hallo all
> >>>
> >>>
> >>>
> >>> Here are the data from dput
> >>>
> >>>
> >>>
> >>> test <- structure(list(Sample = c("A", "A", "A", "A", "A", "A", "B",
> >>>
> >>> "B", "B", "B", "B", "B", "C", "C", "C", "C", "C", "C"), SSAtype =
> >>> c("one",
> >>>
> >>> "one", "one", "two", "two", "two", "one", "one", "one", "two",
> >>>
> >>> "two", "two", "one", "one", "one", "two", "two", "two"), value =
> >>> c(8.587645149,
> >>>
> >>> 8.743793651, 8.326440422, 9.255940687, 8.971931555, 8.856323865,
> >>>
> >>> 9.650809096, 9.725504448, 9.634449367, 9.69485369, 9.526758476,
> >>>
> >>> 10.03758001, 10.76845392, 10.66891602, 10.34894497, 10.76284989,
> >>>
> >>> 10.53074081, 11.16464528), SSAmeasuredP = c(8.3, 8.3, 8.3, 8.3,
> >>>
> >>> 8.3, 8.3, 9.5, 9.5, 9.5, 9.5, 9.5, 9.5, 11, 11, 11, 11, 11, 11
> >>>
> >>> ), identity = c("point", "point", "point", "point", "point",
> >>>
> >>> "point", "point", "point", "point", "point", "point", "point",
> >>>
> >>> "point", "point", "point", "point", "point", "point")), row.names =
> >>> c(NA,
> >>>
> >>> 18L), class = "data.frame")
> >>>
> >>>
> >>>
> >>> test.ag <- structure(list(Sample = c("A", "B", "C"), avg = c(8.3,
> >>> 9.5, 11
> >>>
> >>> ), odch = c(0.2, 0.4, 0.3), identity = c("point", "point", "point"
> >>>
> >>> )), row.names = c(NA, 3L), class = "data.frame")
> >>>
> >>>
> >>>
> >>> I try to make some relatively simple barplot and I wanted to add
> >>> points to it which I somehow did.
> >>>
> >>>
> >>>
> >>> library(ggplot2)
> >>>
> >>>
> >>>
> >>> p <- ggplot(test, aes(x=Sample, y=value, fill=SSAtype))
> >>>
> >>> p+geom_col(position="dodge")+geom_point(aes(y=SSAmeasuredP,
> >> shape=identity),
> >>> size=5)+
> >>>
> >>> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> >> according
> >>> to",
> >>>
> >>> labels=c("bla", "blabla"))+
> >>>
> >>> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> >>>
> >>> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> >>>
> >>>
> >>>
> >>> But instead of points I want to use pointrange with data from other
> >>> df. I found some help and all is good except size of the points and
> >>> missing
> >> legend
> >>>
> >>>
> >>>
> >>> ggplot()+
> >>>
> >>> geom_col(data=test, aes(x=Sample, y=value, fill=SSAtype),
> >> position="dodge")+
> >>>
> >>> scale_fill_manual(values=tablePal, name="Calculation\n performed\n
> >> according
> >>> to",
> >>>
> >>> labels=c("bla", "blabla"))+
> >>>
> >>> geom_pointrange(data=test.ag, aes(x=Sample, y=avg, ymin=avg-odch,
> >>>
> >>> ymax=avg+odch)) +
> >>>
> >>> guides(fill= guide_legend(override.aes = list(shape=NA)))+
> >>>
> >>> scale_shape_manual(name = "Measured", values=19, labels=NULL)
> >>>
> >>>
> >>>
> >>> Although I will try to find some workable way I also would like to
> >>> ask for help from R gurus, maybe I overlooked some simple way how to
> do it.
> >>>
> >>>
> >>>
> >>> Best regards
> >>>
> >>> Petr
> >>>
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide http://www.R-project.org/posting-
> >> guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.

From p@u|bern@|07 @end|ng |rom gm@||@com  Tue May 17 18:43:33 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Tue, 17 May 2022 11:43:33 -0500
Subject: [R] Error when trying to install package tableHTML
Message-ID: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>

Dear friends,

I installed R version 4.2.0 last week and was trying to install package
tableHTML and I got the following error message when attempting to do so:

Could this be due to network restrictions?

> install.packages("tableHTML")
--- Please select a CRAN mirror for use in this session ---
Warning: failed to download mirrors file (cannot open URL '
https://cran.r-project.org/CRAN_mirrors.csv'); using local file
'C:/Users/paulbernal/AppData/Local/Programs/R/R-4.2.0/doc/CRAN_mirrors.csv'
Warning: unable to access index for repository
https://mirrors.dotsrc.org/cran/src/contrib:
  cannot open URL 'https://mirrors.dotsrc.org/cran/src/contrib/PACKAGES'
Warning: unable to access index for repository
https://mirrors.dotsrc.org/cran/bin/windows/contrib/4.2:
  cannot open URL '
https://mirrors.dotsrc.org/cran/bin/windows/contrib/4.2/PACKAGES'
Warning messages:
1: In download.file(url, destfile = f, quiet = TRUE) :
  URL 'https://cran.r-project.org/CRAN_mirrors.csv': status was 'SSL peer
certificate or SSH remote key was not OK'
2: package ?tableHTML? is not available for this version of R

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue May 17 19:34:57 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 17 May 2022 10:34:57 -0700
Subject: [R] Error when trying to install package tableHTML
In-Reply-To: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>
References: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>
Message-ID: <82EEB74B-F3DB-4957-8360-8DA82EDA37AC@dcn.davis.ca.us>

Seems like that mirror has not been refreshed to have files for 4.2.

On May 17, 2022 9:43:33 AM PDT, Paul Bernal <paulbernal07 at gmail.com> wrote:
>Dear friends,
>
>I installed R version 4.2.0 last week and was trying to install package
>tableHTML and I got the following error message when attempting to do so:
>
>Could this be due to network restrictions?
>
>> install.packages("tableHTML")
>--- Please select a CRAN mirror for use in this session ---
>Warning: failed to download mirrors file (cannot open URL '
>https://cran.r-project.org/CRAN_mirrors.csv'); using local file
>'C:/Users/paulbernal/AppData/Local/Programs/R/R-4.2.0/doc/CRAN_mirrors.csv'
>Warning: unable to access index for repository
>https://mirrors.dotsrc.org/cran/src/contrib:
>  cannot open URL 'https://mirrors.dotsrc.org/cran/src/contrib/PACKAGES'
>Warning: unable to access index for repository
>https://mirrors.dotsrc.org/cran/bin/windows/contrib/4.2:
>  cannot open URL '
>https://mirrors.dotsrc.org/cran/bin/windows/contrib/4.2/PACKAGES'
>Warning messages:
>1: In download.file(url, destfile = f, quiet = TRUE) :
>  URL 'https://cran.r-project.org/CRAN_mirrors.csv': status was 'SSL peer
>certificate or SSH remote key was not OK'
>2: package ?tableHTML? is not available for this version of R
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kry|ov@r00t @end|ng |rom gm@||@com  Tue May 17 19:48:40 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 17 May 2022 20:48:40 +0300
Subject: [R] Error when trying to install package tableHTML
In-Reply-To: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>
References: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>
Message-ID: <20220517204840.4087caa6@Tarkus>

On Tue, 17 May 2022 11:43:33 -0500
Paul Bernal <paulbernal07 at gmail.com> wrote:

> Could this be due to network restrictions?

Yes, definitely.

> URL 'https://cran.r-project.org/CRAN_mirrors.csv': status was 'SSL
> peer certificate or SSH remote key was not OK'

Since most other people seem to be able to access this address, there
must be something about your network connection. Most likely, this
error message means that something is intercepting your connections to
cran.r-project.org / mirrors.dotsrc.org, and your system (or at least
the part of R which tries to connect there, which should be using the
same certificate store) is not set up to trust that entity. Is there a
network administrator you could contact with problems like this one?

-- 
Best regards,
Ivan


From p@u|bern@|07 @end|ng |rom gm@||@com  Tue May 17 19:56:28 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Tue, 17 May 2022 12:56:28 -0500
Subject: [R] Error when trying to install package tableHTML
In-Reply-To: <20220517204840.4087caa6@Tarkus>
References: <CAMOcQfMgKUmxHn9fd4hMOrQbm_2GNCdEhu2gQ=pZW_9oBLBg5g@mail.gmail.com>
 <20220517204840.4087caa6@Tarkus>
Message-ID: <CAMOcQfMU3qhhLtpRTPRBi3nHNp_cw+i3i+Su2DnnOzbL8=tOGg@mail.gmail.com>

Hi Ivan,

Thank you for your kind feedback. There is a team that I can contact for
sure.

Best,
Paul

El mar, 17 may 2022 a las 12:48, Ivan Krylov (<krylov.r00t at gmail.com>)
escribi?:

> On Tue, 17 May 2022 11:43:33 -0500
> Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> > Could this be due to network restrictions?
>
> Yes, definitely.
>
> > URL 'https://cran.r-project.org/CRAN_mirrors.csv': status was 'SSL
> > peer certificate or SSH remote key was not OK'
>
> Since most other people seem to be able to access this address, there
> must be something about your network connection. Most likely, this
> error message means that something is intercepting your connections to
> cran.r-project.org / mirrors.dotsrc.org, and your system (or at least
> the part of R which tries to connect there, which should be using the
> same certificate store) is not set up to trust that entity. Is there a
> network administrator you could contact with problems like this one?
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From kt1572757 @end|ng |rom gm@||@com  Wed May 18 19:01:10 2022
From: kt1572757 @end|ng |rom gm@||@com (Kelly Thompson)
Date: Wed, 18 May 2022 10:01:10 -0700
Subject: [R] From within R,
 what are "good" ways to run SQL code contained in a text file?
Message-ID: <CAHfBD2cLhrSEG9X+hSb68KJcNpBfAKbmO9wXuua76Rjdeo0Jfg@mail.gmail.com>

I am interested in this topic and found this post on StackOverflow,
https://stackoverflow.com/questions/44853322/how-to-read-the-contents-of-an-sql-file-into-an-r-script-to-run-a-query

This response seems especially useful,
https://stackoverflow.com/a/44886192/10816734

I'm curious about the thoughts and insights people here in r-help have
about this question and topic, and to learn if there are "better" ways
than what is suggested in the StackOverflow thread.

Thank you!


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed May 18 20:52:33 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 May 2022 11:52:33 -0700
Subject: [R] From within R,
 what are "good" ways to run SQL code contained in a text file?
In-Reply-To: <CAHfBD2cLhrSEG9X+hSb68KJcNpBfAKbmO9wXuua76Rjdeo0Jfg@mail.gmail.com>
References: <CAHfBD2cLhrSEG9X+hSb68KJcNpBfAKbmO9wXuua76Rjdeo0Jfg@mail.gmail.com>
Message-ID: <D61669F5-D8F7-42E0-89A2-8CEE7A45AA93@dcn.davis.ca.us>

Running external SQL files that you modify on the fly is almost certainly not a good idea because you should not be parameterizing with string manipulation but with dedicated parameterization code (e.g. [1]). Otherwise you risk encountering Little Bobby Tables (https://www.explainxkcd.com/wiki/index.php/Little_Bobby_Tables). Since this requires custom R code anyway, I reject the whole premise of your question.

[1] https://cran.r-project.org/web/packages/DBI/vignettes/DBI-advanced.html

On May 18, 2022 10:01:10 AM PDT, Kelly Thompson <kt1572757 at gmail.com> wrote:
>I am interested in this topic and found this post on StackOverflow,
>https://stackoverflow.com/questions/44853322/how-to-read-the-contents-of-an-sql-file-into-an-r-script-to-run-a-query
>
>This response seems especially useful,
>https://stackoverflow.com/a/44886192/10816734
>
>I'm curious about the thoughts and insights people here in r-help have
>about this question and topic, and to learn if there are "better" ways
>than what is suggested in the StackOverflow thread.
>
>Thank you!
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kt1572757 @end|ng |rom gm@||@com  Wed May 18 22:18:14 2022
From: kt1572757 @end|ng |rom gm@||@com (Kelly Thompson)
Date: Wed, 18 May 2022 13:18:14 -0700
Subject: [R] From within R,
 what are "good" ways to run SQL code contained in a text file?
In-Reply-To: <D61669F5-D8F7-42E0-89A2-8CEE7A45AA93@dcn.davis.ca.us>
References: <CAHfBD2cLhrSEG9X+hSb68KJcNpBfAKbmO9wXuua76Rjdeo0Jfg@mail.gmail.com>
 <D61669F5-D8F7-42E0-89A2-8CEE7A45AA93@dcn.davis.ca.us>
Message-ID: <CAHfBD2ciG4jA03YajtrrQ3LfJr-Kv5-EdwwJ-CPiFfVvAmZMAg@mail.gmail.com>

Jeff,
Thanks. Please, can you elaborate and explain what you mean when you
say "I reject the whole premise of your question".


On Wed, May 18, 2022 at 11:52 AM Jeff Newmiller
<jdnewmil at dcn.davis.ca.us> wrote:
>
> Running external SQL files that you modify on the fly is almost certainly not a good idea because you should not be parameterizing with string manipulation but with dedicated parameterization code (e.g. [1]). Otherwise you risk encountering Little Bobby Tables (https://www.explainxkcd.com/wiki/index.php/Little_Bobby_Tables). Since this requires custom R code anyway, I reject the whole premise of your question.
>
> [1] https://cran.r-project.org/web/packages/DBI/vignettes/DBI-advanced.html
>
> On May 18, 2022 10:01:10 AM PDT, Kelly Thompson <kt1572757 at gmail.com> wrote:
> >I am interested in this topic and found this post on StackOverflow,
> >https://stackoverflow.com/questions/44853322/how-to-read-the-contents-of-an-sql-file-into-an-r-script-to-run-a-query
> >
> >This response seems especially useful,
> >https://stackoverflow.com/a/44886192/10816734
> >
> >I'm curious about the thoughts and insights people here in r-help have
> >about this question and topic, and to learn if there are "better" ways
> >than what is suggested in the StackOverflow thread.
> >
> >Thank you!
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu May 19 00:54:58 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 May 2022 15:54:58 -0700
Subject: [R] From within R,
 what are "good" ways to run SQL code contained in a text file?
In-Reply-To: <CAHfBD2ciG4jA03YajtrrQ3LfJr-Kv5-EdwwJ-CPiFfVvAmZMAg@mail.gmail.com>
References: <CAHfBD2cLhrSEG9X+hSb68KJcNpBfAKbmO9wXuua76Rjdeo0Jfg@mail.gmail.com>
 <D61669F5-D8F7-42E0-89A2-8CEE7A45AA93@dcn.davis.ca.us>
 <CAHfBD2ciG4jA03YajtrrQ3LfJr-Kv5-EdwwJ-CPiFfVvAmZMAg@mail.gmail.com>
Message-ID: <244067B0-6473-4DAC-8E17-2293F6D7019E@dcn.davis.ca.us>

I do not agree with the idea that importing generic SQL files is an appropriate way to construct DML interactions between R and an SQL engine. Sort of like responding to "what is the most effective way to beat my dog" would have implications I would not want to be associated with.

On May 18, 2022 1:18:14 PM PDT, Kelly Thompson <kt1572757 at gmail.com> wrote:
>Jeff,
>Thanks. Please, can you elaborate and explain what you mean when you
>say "I reject the whole premise of your question".
>
>
>On Wed, May 18, 2022 at 11:52 AM Jeff Newmiller
><jdnewmil at dcn.davis.ca.us> wrote:
>>
>> Running external SQL files that you modify on the fly is almost certainly not a good idea because you should not be parameterizing with string manipulation but with dedicated parameterization code (e.g. [1]). Otherwise you risk encountering Little Bobby Tables (https://www.explainxkcd.com/wiki/index.php/Little_Bobby_Tables). Since this requires custom R code anyway, I reject the whole premise of your question.
>>
>> [1] https://cran.r-project.org/web/packages/DBI/vignettes/DBI-advanced.html
>>
>> On May 18, 2022 10:01:10 AM PDT, Kelly Thompson <kt1572757 at gmail.com> wrote:
>> >I am interested in this topic and found this post on StackOverflow,
>> >https://stackoverflow.com/questions/44853322/how-to-read-the-contents-of-an-sql-file-into-an-r-script-to-run-a-query
>> >
>> >This response seems especially useful,
>> >https://stackoverflow.com/a/44886192/10816734
>> >
>> >I'm curious about the thoughts and insights people here in r-help have
>> >about this question and topic, and to learn if there are "better" ways
>> >than what is suggested in the StackOverflow thread.
>> >
>> >Thank you!
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.

-- 
Sent from my phone. Please excuse my brevity.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Thu May 19 02:08:24 2022
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Thu, 19 May 2022 03:08:24 +0300
Subject: [R] regexpr: R takes very long with non-existent pattern
Message-ID: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>

Dear R Users,


I have run the following command in R:

# x = larger vector of strings (1200 Pubmed abstracts);
# patt = not defined;
npos = regexpr(patt, x, perl=TRUE);
# Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found


The problem:

R becomes unresponsive and it takes 1-2 minutes to return the error. The 
operation completes almost instantaneously with a valid pattern.

Is there a reason for this behavior?

Tested with R 4.2.0 on MS Windows 10.


I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone 
wants to check:

- see file: Example_Abstracts_Title_Pubmed.csv;

https://github.com/discoleo/R/tree/master/TextMining/Pubmed

The variable patt was not defined due to an error: but it took very long 
to exit the operation and report the error.


Many thanks,


Leonard


From @kw@|mmo @end|ng |rom gm@||@com  Thu May 19 02:26:17 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Wed, 18 May 2022 17:26:17 -0700
Subject: [R] regexpr: R takes very long with non-existent pattern
In-Reply-To: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
References: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
Message-ID: <CAPcHnpQi27qNmw7aYnjtGe07r7jbmQ67e9NU8d-2nB_xytKRMA@mail.gmail.com>

Hello,


I tried this myself, something like:


dat <- utils::read.csv(
    "https://raw.githubusercontent.com/discoleo/R/master/TextMining/Pubmed/Example_Abstracts_Title_Pubmed.csv",
    check.names = FALSE
)


regexpr(patt, dat$Abstract, perl = TRUE)
regexpr(patt, dat$Title, perl = TRUE)


and I can't reproduce your issue. Mine seems to raise the error within
a second or less that object 'patt' does not exist. I'm using R 4.2.0
and Windows 11, though that shouldn't be making a difference: if you
look at Sys.info(), it's still Windows 10 with a build version of
22000. Don't really know what else to say, have you tried it again
since?


Regards,
    Andrew Simmons

On Wed, May 18, 2022 at 5:09 PM Leonard Mada via R-help
<r-help at r-project.org> wrote:
>
> Dear R Users,
>
>
> I have run the following command in R:
>
> # x = larger vector of strings (1200 Pubmed abstracts);
> # patt = not defined;
> npos = regexpr(patt, x, perl=TRUE);
> # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
>
>
> The problem:
>
> R becomes unresponsive and it takes 1-2 minutes to return the error. The
> operation completes almost instantaneously with a valid pattern.
>
> Is there a reason for this behavior?
>
> Tested with R 4.2.0 on MS Windows 10.
>
>
> I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone
> wants to check:
>
> - see file: Example_Abstracts_Title_Pubmed.csv;
>
> https://github.com/discoleo/R/tree/master/TextMining/Pubmed
>
> The variable patt was not defined due to an error: but it took very long
> to exit the operation and report the error.
>
>
> Many thanks,
>
>
> Leonard
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Thu May 19 02:31:05 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 18 May 2022 17:31:05 -0700
Subject: [R] regexpr: R takes very long with non-existent pattern
In-Reply-To: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
References: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
Message-ID: <CAGxFJbQdboFiguUCrDALA0EiywMtaL9PzzFkLx0HiyzjQt8feA@mail.gmail.com>

Doubt that I can help, but what does "not defined" mean? -- NA, "", " " ?
Something else?
I would guess that if it's NA, you should get an immediate error.
If it's "" , that's a legitimate pattern and would result in matches of 0
length for everything, which might trigger an error in other parts of your
code.
All a guess, though.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, May 18, 2022 at 5:08 PM Leonard Mada via R-help <
r-help at r-project.org> wrote:

> Dear R Users,
>
>
> I have run the following command in R:
>
> # x = larger vector of strings (1200 Pubmed abstracts);
> # patt = not defined;
> npos = regexpr(patt, x, perl=TRUE);
> # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
>
>
> The problem:
>
> R becomes unresponsive and it takes 1-2 minutes to return the error. The
> operation completes almost instantaneously with a valid pattern.
>
> Is there a reason for this behavior?
>
> Tested with R 4.2.0 on MS Windows 10.
>
>
> I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone
> wants to check:
>
> - see file: Example_Abstracts_Title_Pubmed.csv;
>
> https://github.com/discoleo/R/tree/master/TextMining/Pubmed
>
> The variable patt was not defined due to an error: but it took very long
> to exit the operation and report the error.
>
>
> Many thanks,
>
>
> Leonard
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Thu May 19 02:35:16 2022
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Thu, 19 May 2022 03:35:16 +0300
Subject: [R] regexpr: R takes very long with non-existent pattern
In-Reply-To: <CAPcHnpQi27qNmw7aYnjtGe07r7jbmQ67e9NU8d-2nB_xytKRMA@mail.gmail.com>
References: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
 <CAPcHnpQi27qNmw7aYnjtGe07r7jbmQ67e9NU8d-2nB_xytKRMA@mail.gmail.com>
Message-ID: <a02fae88-f4f7-de8b-3ed1-f9097d8e7c45@syonic.eu>

Dear Andrew,


I screwed it a little bit up. The object was not a string vector, but an 
xml object (the original xml with the abstracts).

str(x)
List of 2
 ?$ node:<externalptr>
 ?$ doc :<externalptr>
 ?- attr(*, "class")= chr [1:2] "xml_document" "xml_node"


i pasted the R code for a function but had an error, which stopped the 
parsing of the function. But the next lines were still executed:

npos = regexpr(patt, x, perl=TRUE);
# Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found


Variable x was actually the xml object - my mistake. It still takes 1-2 
minutes to generate the final error.

Is regexpr trying to parse the xml with as.character first (I have not 
checked this)?

It makes more sense to first parse the regex expression.


Sincerely,


Leonard

On 5/19/2022 3:26 AM, Andrew Simmons wrote:
> Hello,
>
>
> I tried this myself, something like:
>
>
> dat <- utils::read.csv(
>      "https://raw.githubusercontent.com/discoleo/R/master/TextMining/Pubmed/Example_Abstracts_Title_Pubmed.csv",
>      check.names = FALSE
> )
>
>
> regexpr(patt, dat$Abstract, perl = TRUE)
> regexpr(patt, dat$Title, perl = TRUE)
>
>
> and I can't reproduce your issue. Mine seems to raise the error within
> a second or less that object 'patt' does not exist. I'm using R 4.2.0
> and Windows 11, though that shouldn't be making a difference: if you
> look at Sys.info(), it's still Windows 10 with a build version of
> 22000. Don't really know what else to say, have you tried it again
> since?
>
>
> Regards,
>      Andrew Simmons
>
> On Wed, May 18, 2022 at 5:09 PM Leonard Mada via R-help
> <r-help at r-project.org> wrote:
>> Dear R Users,
>>
>>
>> I have run the following command in R:
>>
>> # x = larger vector of strings (1200 Pubmed abstracts);
>> # patt = not defined;
>> npos = regexpr(patt, x, perl=TRUE);
>> # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
>>
>>
>> The problem:
>>
>> R becomes unresponsive and it takes 1-2 minutes to return the error. The
>> operation completes almost instantaneously with a valid pattern.
>>
>> Is there a reason for this behavior?
>>
>> Tested with R 4.2.0 on MS Windows 10.
>>
>>
>> I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone
>> wants to check:
>>
>> - see file: Example_Abstracts_Title_Pubmed.csv;
>>
>> https://github.com/discoleo/R/tree/master/TextMining/Pubmed
>>
>> The variable patt was not defined due to an error: but it took very long
>> to exit the operation and report the error.
>>
>>
>> Many thanks,
>>
>>
>> Leonard
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Thu May 19 02:39:47 2022
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Thu, 19 May 2022 03:39:47 +0300
Subject: [R] regexpr: R takes very long with non-existent pattern
In-Reply-To: <CAGxFJbQdboFiguUCrDALA0EiywMtaL9PzzFkLx0HiyzjQt8feA@mail.gmail.com>
References: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
 <CAGxFJbQdboFiguUCrDALA0EiywMtaL9PzzFkLx0HiyzjQt8feA@mail.gmail.com>
Message-ID: <c88e686d-e8fd-82e8-0dcc-c85d88d0967d@syonic.eu>

Dear Bert,


The variable patt does not exist in the R environment.


I was pasting the code for an R function in the R console and I had a 
syntax error on a line. But the next lines executed simply as simple R 
code. The variable patt was not previously defined.


Though x was a different object and the long execution time may 
originate there.

x = original xml with the Pubmed abstracts


Sincerely,


Leonard



On 5/19/2022 3:31 AM, Bert Gunter wrote:
> Doubt that I can help, but what does "not defined" mean? -- NA, "", " 
> " ? Something else?
> I would guess that if it's NA, you should get an immediate error.
> If it's "" , that's a legitimate pattern and would result in matches 
> of 0 length for everything, which might trigger an error in other 
> parts of your code.
> All a guess, though.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along 
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Wed, May 18, 2022 at 5:08 PM Leonard Mada via R-help 
> <r-help at r-project.org> wrote:
>
>     Dear R Users,
>
>
>     I have run the following command in R:
>
>     # x = larger vector of strings (1200 Pubmed abstracts);
>     # patt = not defined;
>     npos = regexpr(patt, x, perl=TRUE);
>     # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
>
>
>     The problem:
>
>     R becomes unresponsive and it takes 1-2 minutes to return the
>     error. The
>     operation completes almost instantaneously with a valid pattern.
>
>     Is there a reason for this behavior?
>
>     Tested with R 4.2.0 on MS Windows 10.
>
>
>     I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone
>     wants to check:
>
>     - see file: Example_Abstracts_Title_Pubmed.csv;
>
>     https://github.com/discoleo/R/tree/master/TextMining/Pubmed
>
>     The variable patt was not defined due to an error: but it took
>     very long
>     to exit the operation and report the error.
>
>
>     Many thanks,
>
>
>     Leonard
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>     and provide commented, minimal, self-contained, reproducible code.
>
	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Thu May 19 02:45:44 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Wed, 18 May 2022 17:45:44 -0700
Subject: [R] regexpr: R takes very long with non-existent pattern
In-Reply-To: <a02fae88-f4f7-de8b-3ed1-f9097d8e7c45@syonic.eu>
References: <29730744-8d7f-caaa-3183-723bdc07ef95@syonic.eu>
 <CAPcHnpQi27qNmw7aYnjtGe07r7jbmQ67e9NU8d-2nB_xytKRMA@mail.gmail.com>
 <a02fae88-f4f7-de8b-3ed1-f9097d8e7c45@syonic.eu>
Message-ID: <CAPcHnpQupj-o_pDbygv4BaaWwzUrEg_V_vkLzSnedex=mWP-Og@mail.gmail.com>

Hello again,


I think I know why it takes so long. In 'regexpr', the first line is:


if (!is.character(text))
    text <- as.character(text)


so it changes 'text' to a valid object before checking the other
argument's validity. I know why it does that first, it's because you
want to pick up the as.character methods at the R level: at the C
level, you might use coerceVector(text, STRSXP), but that will only
dispatch to the internal methods, and won't dispatch to methods set
with S3method() or methods::setMethod("as.character"). So yes it could
be changed to check the simpler arguments' validity first, but it
would cost some functionality in the process.
I haven't checked to see if there is an as.character method for
classes xml_document or xml_node, but my guess is that they're
extremely slow for the size you're dealing with.

Unfortunate, but not much you can do about it without sacrificing versatility.


Regards,
    Andrew Simmons

On Wed, May 18, 2022 at 5:35 PM Leonard Mada <leo.mada at syonic.eu> wrote:
>
> Dear Andrew,
>
>
> I screwed it a little bit up. The object was not a string vector, but an
> xml object (the original xml with the abstracts).
>
> str(x)
> List of 2
>   $ node:<externalptr>
>   $ doc :<externalptr>
>   - attr(*, "class")= chr [1:2] "xml_document" "xml_node"
>
>
> i pasted the R code for a function but had an error, which stopped the
> parsing of the function. But the next lines were still executed:
>
> npos = regexpr(patt, x, perl=TRUE);
> # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
>
>
> Variable x was actually the xml object - my mistake. It still takes 1-2
> minutes to generate the final error.
>
> Is regexpr trying to parse the xml with as.character first (I have not
> checked this)?
>
> It makes more sense to first parse the regex expression.
>
>
> Sincerely,
>
>
> Leonard
>
> On 5/19/2022 3:26 AM, Andrew Simmons wrote:
> > Hello,
> >
> >
> > I tried this myself, something like:
> >
> >
> > dat <- utils::read.csv(
> >      "https://raw.githubusercontent.com/discoleo/R/master/TextMining/Pubmed/Example_Abstracts_Title_Pubmed.csv",
> >      check.names = FALSE
> > )
> >
> >
> > regexpr(patt, dat$Abstract, perl = TRUE)
> > regexpr(patt, dat$Title, perl = TRUE)
> >
> >
> > and I can't reproduce your issue. Mine seems to raise the error within
> > a second or less that object 'patt' does not exist. I'm using R 4.2.0
> > and Windows 11, though that shouldn't be making a difference: if you
> > look at Sys.info(), it's still Windows 10 with a build version of
> > 22000. Don't really know what else to say, have you tried it again
> > since?
> >
> >
> > Regards,
> >      Andrew Simmons
> >
> > On Wed, May 18, 2022 at 5:09 PM Leonard Mada via R-help
> > <r-help at r-project.org> wrote:
> >> Dear R Users,
> >>
> >>
> >> I have run the following command in R:
> >>
> >> # x = larger vector of strings (1200 Pubmed abstracts);
> >> # patt = not defined;
> >> npos = regexpr(patt, x, perl=TRUE);
> >> # Error in regexpr(patt, x, perl = TRUE) : object 'patt' not found
> >>
> >>
> >> The problem:
> >>
> >> R becomes unresponsive and it takes 1-2 minutes to return the error. The
> >> operation completes almost instantaneously with a valid pattern.
> >>
> >> Is there a reason for this behavior?
> >>
> >> Tested with R 4.2.0 on MS Windows 10.
> >>
> >>
> >> I have uploaded a set with 1200 Pubmed abstracts on Github, if anyone
> >> wants to check:
> >>
> >> - see file: Example_Abstracts_Title_Pubmed.csv;
> >>
> >> https://github.com/discoleo/R/tree/master/TextMining/Pubmed
> >>
> >> The variable patt was not defined due to an error: but it took very long
> >> to exit the operation and report the error.
> >>
> >>
> >> Many thanks,
> >>
> >>
> >> Leonard
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.


From r@|pho|@@on @end|ng |rom bt|nternet@com  Wed May 18 17:33:22 2022
From: r@|pho|@@on @end|ng |rom bt|nternet@com (ralpholsson)
Date: Wed, 18 May 2022 16:33:22 +0100 (BST)
Subject: [R] Windows build 4.2.0 of R: libcurl not picking up self signed
 certificate from windows os, worked for 4.1.3
Message-ID: <71feb666.22dcc.180d7cd6047.Webtop.108@btinternet.com>

Hello,

Using the official windows build of R 4.2.0 from the CRAN website I can 
no longer download files from an internal website with a self signed 
certificate. This worked under build 4.1.3.

I apologise that the url in the following example is not publicly 
available and that the example is therefore not directly reproducible, 
this is a necessary part of the problem due to dealing with self signed 
certificates.

In 4.2.0:

> libcurlVersion()
[1] "7.81.0"
attr(,"ssl_version")
[1] "(OpenSSL/1.1.1m) Schannel"
attr(,"libssh_version")
[1] "libssh2/1.10.0"
attr(,"protocols")
  [1] "dict"    "file"    "ftp"     "ftps"    "gopher"  "gophers" "http" 
"https"   "imap"    "imaps"   "ldap"    "ldaps"   "mqtt"    "pop3" 
"pop3s"   "rtsp"    "scp"     "sftp"
> 
> download.file("https://my.site.com/index.html","./index.html",method="libcurl")
trying URL 'https://my.site.com/index.html'
Error in download.file("https://my.site.com/index.html",  :
   cannot open URL 'https://my.site.com/index.html'
In addition: Warning message:
In download.file("https://my.site.com/index.html",  :
   URL 'https://my.site.com/index.html': status was 'SSL peer 
certificate or SSH remote key was not OK'

In 4.1.3:

> libcurlVersion()
[1] "7.64.1"
attr(,"ssl_version")
[1] "(OpenSSL/1.1.1m) Schannel"
attr(,"libssh_version")
[1] "libssh2/1.8.2"
attr(,"protocols")
  [1] "dict"   "file"   "ftp"    "ftps"   "gopher" "http"   "https" 
"imap"   "imaps"  "ldap"   "ldaps"  "pop3"   "pop3s"  "rtsp"   "scp" 
"sftp"   "smtp"   "smtps"  "telnet"
[20] "tftp"
> 
> download.file("https://my.site.com/index.html","./index.html",method="libcurl")
trying URL 'https://my.site.com/index.html'
Content length 11082 bytes (10 KB)
downloaded 10 KB

My reading suggests that since libcurlVersion() reports "Schannel" in 
both cases it should be picking up the same certificates from the OS.

Please advise, many thanks,

Ralph


From r@hep@rd @end|ng |rom @pp|-eco@y@@com  Thu May 19 16:38:45 2022
From: r@hep@rd @end|ng |rom @pp|-eco@y@@com (Rich Shepard)
Date: Thu, 19 May 2022 07:38:45 -0700 (PDT)
Subject: [R] GSL update fails configuration
Message-ID: <eb591a5c-3667-3f4b-2fbf-2298f1cae47@appl-ecosys.com>

Installed on this workstation is gsl-2.1-x86_64-1.

When I attempt to update the gls package it fails:
checking for gsl-config... /usr/bin/gsl-config
checking if GSL version >= 2.1... checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether the compiler supports GNU C... yes
checking whether gcc accepts -g... yes
checking for gcc option to enable C11 features... none needed
configure: error: Need GSL version >= 1.16
ERROR: configuration failed for package ?gsl?

Since GSL-2.1 is found on line 2, why is there the error on line 11 that gsl
>= 1.16 is needed and not found?

What am I missing here?

Regards,

Rich


From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 19 17:04:51 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 19 May 2022 18:04:51 +0300
Subject: [R] GSL update fails configuration
In-Reply-To: <eb591a5c-3667-3f4b-2fbf-2298f1cae47@appl-ecosys.com>
References: <eb591a5c-3667-3f4b-2fbf-2298f1cae47@appl-ecosys.com>
Message-ID: <20220519180451.2292b3c1@arachnoid>

? Thu, 19 May 2022 07:38:45 -0700 (PDT)
Rich Shepard <rshepard at appl-ecosys.com> ?????:

> Since GSL-2.1 is found on line 2, why is there the error on line 11
> that gsl >= 1.16 is needed and not found?

In the current CRAN version of the package, the stated dependencies are
in wild disagreement with each other:
https://github.com/RobinHankin/gsl/issues/17

DESCRIPTION says that GSL >= 2.1 is required, ./configure error message
asks for >= 1.16, but the actual test is for GSL >= 2.5:
https://github.com/cran/gsl/blob/78211300997576f89fae61caada64483dc2538d1/configure.ac#L27

(Well, it's intended to test for >=2.5, but seems to test for any minor
version of 5 and above instead.)

I'm not sure which GSL features the package actually makes use of. You
can either try patching ./configure to actually check for GSL >= 2.1
and rebuilding the package (at which point something else may fail) or
upgrade GSL to >= 2.5.

-- 
Best regards,
Ivan


From r@hep@rd @end|ng |rom @pp|-eco@y@@com  Thu May 19 18:19:07 2022
From: r@hep@rd @end|ng |rom @pp|-eco@y@@com (Rich Shepard)
Date: Thu, 19 May 2022 09:19:07 -0700 (PDT)
Subject: [R] GSL update fails configuration
In-Reply-To: <20220519180451.2292b3c1@arachnoid>
References: <eb591a5c-3667-3f4b-2fbf-2298f1cae47@appl-ecosys.com>
 <20220519180451.2292b3c1@arachnoid>
Message-ID: <ce5a7e7-3366-b04f-11d2-86182a255ece@appl-ecosys.com>

On Thu, 19 May 2022, Ivan Krylov wrote:

> In the current CRAN version of the package, the stated dependencies are in
> wild disagreement with each other:
> https://github.com/RobinHankin/gsl/issues/17

Ivan,

Ah, so. I hadn't thought to search there.

> I'm not sure which GSL features the package actually makes use of. You can
> either try patching ./configure to actually check for GSL >= 2.1 and
> rebuilding the package (at which point something else may fail) or upgrade
> GSL to >= 2.5.

Thanks.

Rich


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Thu May 19 23:30:58 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Thu, 19 May 2022 23:30:58 +0200
Subject: [R] missing values error in if statement
Message-ID: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>

Why do I get the following error when my variable in the 'if statement' has
no missing values.

I check with is.na(my variable) and it has no missing values

Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed

Best regards

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 20 00:20:15 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 19 May 2022 15:20:15 -0700
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
Message-ID: <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>

Not reproducible. Posted HTML.

On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com> wrote:
>Why do I get the following error when my variable in the 'if statement' has
>no missing values.
>
>I check with is.na(my variable) and it has no missing values
>
>Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
>
>Best regards
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 20 00:50:46 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 19 May 2022 22:50:46 +0000 (UTC)
Subject: [R] missing values error in if statement
In-Reply-To: <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
Message-ID: <219729302.322175.1653000646598@mail.yahoo.com>

We are needing more info to reproduce and debug this problem of comparing an object you call?"fraction" to the number 1.

It can only be reproduced if the value/type is known and seen to be compatible with a numeric or logical value.

Those work fine for me. Using a vector of length greater than 1 returns a different error than the one specified.

Why not tell us what typeof(fraction) and class(fraction) return or show how it was made?

One GUESS is that you created or are using a data type?using some package. If so, it will not comparable to an integer?or floating point unless the package made implicit or explicit ways to do the comparison. One obvious way is to?use whatever you need to convert the fraction back to numeric before a comparison, or, if it supports it,?change the "1" to a fraction and use whatever comparison method you have available that can compare two?fractions.


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: r-help at r-project.org; Neha gupta <neha.bologna90 at gmail.com>; r-help mailing list <r-help at r-project.org>
Sent: Thu, May 19, 2022 6:20 pm
Subject: Re: [R] missing values error in if statement

Not reproducible. Posted HTML.

On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com> wrote:
>Why do I get the following error when my variable in the 'if statement' has
>no missing values.
>
>I check with is.na(my variable) and it has no missing values
>
>Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
>
>Best regards
>
>??? [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ||809 @end|ng |rom nc|@c@  Fri May 20 01:50:56 2022
From: ||809 @end|ng |rom nc|@c@ (Brian Lunergan)
Date: Thu, 19 May 2022 19:50:56 -0400
Subject: [R] Problem installing/updating nloptr...
Message-ID: <ec85484c6ac2f6aec89665472a7f79e7019afc52.camel@ncf.ca>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Evening folks:

Running R 4.2.0 on Linux Mint 19.3. When I tried to update package
nloptr the operation failed with this error text seeming to be key to
the problem.

CMake Error: The source directory
"/tmp/RtmpCNCU3l/R.INSTALL21c510095118/nloptr/src/CMAKE_RANLIB=/usr/bin
/ranlib" does not exist.
Specify --help for usage, or press the help button on the CMake GUI.
Unknown argument -j
Unknown argument 2
Usage: cmake --build <dir> [options] [-- [native-options]]
Options:
  <dir>          = Project binary directory to be built.
  --target <tgt> = Build <tgt> instead of default targets.
                   May only be specified once.
  --config <cfg> = For multi-configuration tools, choose <cfg>.
  --clean-first  = Build target 'clean' first, then build.
                   (To clean only, use --target 'clean'.)
  --use-stderr   = Ignored.  Behavior is default in CMake >= 3.0.
  --             = Pass remaining options to the native tool.
CMake Error: The source directory
"/tmp/RtmpCNCU3l/R.INSTALL21c510095118/nloptr/src/nlopt" does not
exist.
Specify --help for usage, or press the help button on the CMake GUI.
cp: cannot stat 'nlopt/include/*': No such file or directory

Uninstalled the package and tried reinstalling. Same stumble so I now
no longer have it at all, and it's needed to load Rcmdr.

Any help sorting this out would be appreciated. Please... :-(
- -- 
Brian Lunergan
Russell, Ontario
Canada

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCgAdFiEEQnNPvUcw8TGKI+uNUQG1sc4S+04FAmKG1+AACgkQUQG1sc4S
+06RxQgAo4Hq7rB99Gpvhv9RvzgvhoxVUXsFYuEmFMzysCIwFzfBVS+ZVgydSoRW
FfAxZYLruYOU2+i+9PGD/J3cW9sMaXw7NJQRUhYINTc1Q4vrSQZBmvRxwil8tPBq
z+KB5yxuEVMsyfhSRFjWdRGaBEnxVeRBlPnvWHRYgUYKFqrsosvwY1hdnlIwRMh9
/J9qfsi98mbSZB2HZd1OaCACxP+fAM0+jQuMJhTSNvvt4l3O583J6ewbvJE53YFT
2+gU9JJI7yn6rIamX2iHGKaueF9N+HPHMMnLfuO6lsmeE6OfzqyiFzy13Rr3H6yF
ptDrR2NTURpt5LyipIlK7vamJnt6pA==
=QWJP
-----END PGP SIGNATURE-----


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 20 02:35:05 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 19 May 2022 17:35:05 -0700
Subject: [R] Problem installing/updating nloptr...
In-Reply-To: <ec85484c6ac2f6aec89665472a7f79e7019afc52.camel@ncf.ca>
References: <ec85484c6ac2f6aec89665472a7f79e7019afc52.camel@ncf.ca>
Message-ID: <2B5DD732-67C0-4661-B6A1-60A8202AB7A7@dcn.davis.ca.us>

I don't have Mint, but I do have Ubuntu 20.04, and it has /usr/bin/ranlib, which is supplied by the binutils Ubuntu package. Have you apt installed the r-base-dev package?

On May 19, 2022 4:50:56 PM PDT, Brian Lunergan <ff809 at ncf.ca> wrote:
>-----BEGIN PGP SIGNED MESSAGE-----
>Hash: SHA512
>
>Evening folks:
>
>Running R 4.2.0 on Linux Mint 19.3. When I tried to update package
>nloptr the operation failed with this error text seeming to be key to
>the problem.
>
>CMake Error: The source directory
>"/tmp/RtmpCNCU3l/R.INSTALL21c510095118/nloptr/src/CMAKE_RANLIB=/usr/bin
>/ranlib" does not exist.
>Specify --help for usage, or press the help button on the CMake GUI.
>Unknown argument -j
>Unknown argument 2
>Usage: cmake --build <dir> [options] [-- [native-options]]
>Options:
>  <dir>          = Project binary directory to be built.
>  --target <tgt> = Build <tgt> instead of default targets.
>                   May only be specified once.
>  --config <cfg> = For multi-configuration tools, choose <cfg>.
>  --clean-first  = Build target 'clean' first, then build.
>                   (To clean only, use --target 'clean'.)
>  --use-stderr   = Ignored.  Behavior is default in CMake >= 3.0.
>  --             = Pass remaining options to the native tool.
>CMake Error: The source directory
>"/tmp/RtmpCNCU3l/R.INSTALL21c510095118/nloptr/src/nlopt" does not
>exist.
>Specify --help for usage, or press the help button on the CMake GUI.
>cp: cannot stat 'nlopt/include/*': No such file or directory
>
>Uninstalled the package and tried reinstalling. Same stumble so I now
>no longer have it at all, and it's needed to load Rcmdr.
>
>Any help sorting this out would be appreciated. Please... :-(
>- -- 
>Brian Lunergan
>Russell, Ontario
>Canada
>
>-----BEGIN PGP SIGNATURE-----
>
>iQEzBAEBCgAdFiEEQnNPvUcw8TGKI+uNUQG1sc4S+04FAmKG1+AACgkQUQG1sc4S
>+06RxQgAo4Hq7rB99Gpvhv9RvzgvhoxVUXsFYuEmFMzysCIwFzfBVS+ZVgydSoRW
>FfAxZYLruYOU2+i+9PGD/J3cW9sMaXw7NJQRUhYINTc1Q4vrSQZBmvRxwil8tPBq
>z+KB5yxuEVMsyfhSRFjWdRGaBEnxVeRBlPnvWHRYgUYKFqrsosvwY1hdnlIwRMh9
>/J9qfsi98mbSZB2HZd1OaCACxP+fAM0+jQuMJhTSNvvt4l3O583J6ewbvJE53YFT
>2+gU9JJI7yn6rIamX2iHGKaueF9N+HPHMMnLfuO6lsmeE6OfzqyiFzy13Rr3H6yF
>ptDrR2NTURpt5LyipIlK7vamJnt6pA==
>=QWJP
>-----END PGP SIGNATURE-----
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 20 07:58:02 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 20 May 2022 08:58:02 +0300
Subject: [R] Problem installing/updating nloptr...
In-Reply-To: <ec85484c6ac2f6aec89665472a7f79e7019afc52.camel@ncf.ca>
References: <ec85484c6ac2f6aec89665472a7f79e7019afc52.camel@ncf.ca>
Message-ID: <20220520085802.0710ac4b@Tarkus>

On Thu, 19 May 2022 19:50:56 -0400
Brian Lunergan <ff809 at ncf.ca> wrote:

> CMake Error: The source directory
> "/tmp/RtmpCNCU3l/R.INSTALL21c510095118/nloptr/src/CMAKE_RANLIB=/usr/bin
> /ranlib" does not exist.
> Specify --help for usage, or press the help button on the CMake GUI.
> Unknown argument -j
> Unknown argument 2
> Usage: cmake --build <dir> [options] [-- [native-options]]

The package's ./configure script got confused in a pretty spectacular
way. Unfortunately, Linux Mint 19.3 is based on Ubuntu 18.04, which
only has NLopt 2.4.2, insufficient for the latest version of nloptr (it
wants 2.7.0 or newer), so in order to install the latest version of the
package, you do need this step to succeed.

> Uninstalled the package and tried reinstalling. Same stumble so I now
> no longer have it at all, and it's needed to load Rcmdr.

Do you need the new version? Installing one of the older versions from
https://cran.r-project.org/src/contrib/Archive/nloptr/ should be a safe
bet. You can also use `sudo apt install libnlopt-dev` to skip the NLopt
build step once you find an old enough version of nloptr that's okay
with NLopt 2.4.2.

I'm not sure how this error could have happened, but if you send the
full installation log to <https://github.com/astamm/nloptr/issues>, they
may be able to figure it out.

-- 
Best regards,
Ivan


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 10:16:05 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 10:16:05 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
Message-ID: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>

I am sorry.. The code is here and data is provided at the end of this
email.

data = readARFF("aho.arff")

index= sample(1:nrow(data), 0.7*nrow(data))
train= data[index,]
test= data[-index,]

task = TaskClassif$new("data", backend = train, target = "isKilled")
learner= lrn("classif.randomForest", predict_type = "prob")
model= learner$train(task )

///explainer is created to identify a bias in a particular feature i.e. CE
feature in this case

explainer = explain_mlr3(model,
                         data = test[,-15],
                         y = as.numeric(test$isKilled)-1,
                         label="RF")
prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
privileged <- '1'


fc= fairness_check(explainer,
                          protected = prot,
                   privileged = privileged)
plot(fc)


////////////////////////////////////////// my data is

dput(test)
structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
"T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
"T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
"[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
"[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
"no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
465L, 469L, 471L, 472L, 483L), class = "data.frame")

On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Not reproducible. Posted HTML.
>
> On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com>
> wrote:
> >Why do I get the following error when my variable in the 'if statement'
> has
> >no missing values.
> >
> >I check with is.na(my variable) and it has no missing values
> >
> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
> >
> >Best regards
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Fri May 20 13:32:07 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 20 May 2022 11:32:07 +0000
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
Message-ID: <b2a937972daa490cb12fa5cd4502db3f@SRVEXCHCM1302.precheza.cz>

Hi 

Strange, you say

> prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here

but with your data

ifelse(test$CE == '2', 1, 0)
  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1
 [38] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0
0 0
 [75] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0
[112] 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 1 1

the code runs smoothly without error.

Cheers
Petr


> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
> Sent: Friday, May 20, 2022 10:16 AM
> To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] missing values error in if statement
> 
> I am sorry.. The code is here and data is provided at the end of this
> email.
> 
> data = readARFF("aho.arff")
> 
> index= sample(1:nrow(data), 0.7*nrow(data))
> train= data[index,]
> test= data[-index,]
> 
> task = TaskClassif$new("data", backend = train, target = "isKilled")
> learner= lrn("classif.randomForest", predict_type = "prob")
> model= learner$train(task )
> 
> ///explainer is created to identify a bias in a particular feature i.e. CE
> feature in this case
> 
> explainer = explain_mlr3(model,
>                          data = test[,-15],
>                          y = as.numeric(test$isKilled)-1,
>                          label="RF")
> prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> privileged <- '1'
> 
> 
> fc= fairness_check(explainer,
>                           protected = prot,
>                    privileged = privileged)
> plot(fc)
> 
> 
> ////////////////////////////////////////// my data is
> 
> dput(test)
> structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
> 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
> 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
> 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
> 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
> 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
> 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
> 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
> 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
> 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
> 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
> 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
> 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
> 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
> 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
> 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
> 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
> 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
> 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
> 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
> 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
> 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
> 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
> 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
> 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
> 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
> 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
> 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
> "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
> "T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
> 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
> 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
> 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
> "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
> 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
> 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
> 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
> 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
> 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
> 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
> 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
> 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
> 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
> 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
> 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
> 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
> 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
> 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
> 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
> 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
> 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
> 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
> 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
> 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
> 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
> 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
> 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
> 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
> 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
> 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
> 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
> 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
> 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
> 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
> 465L, 469L, 471L, 472L, 483L), class = "data.frame")
> 
> On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> <jdnewmil at dcn.davis.ca.us>
> wrote:
> 
> > Not reproducible. Posted HTML.
> >
> > On May 19, 2022 2:30:58 PM PDT, Neha gupta
> <neha.bologna90 at gmail.com>
> > wrote:
> > >Why do I get the following error when my variable in the 'if statement'
> > has
> > >no missing values.
> > >
> > >I check with is.na(my variable) and it has no missing values
> > >
> > >Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
> > >
> > >Best regards
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > >______________________________________________
> > >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >https://stat.ethz.ch/mailman/listinfo/r-help
> > >PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > >and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Sent from my phone. Please excuse my brevity.
> >
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 20 13:32:37 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 20 May 2022 14:32:37 +0300
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
Message-ID: <20220520143237.46b21dd9@Tarkus>

On Fri, 20 May 2022 10:16:05 +0200
Neha gupta <neha.bologna90 at gmail.com> wrote:

> prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here

I can't reproduce the error at this line with the data you have
attached. Are you sure it's not happening elsewhere? What does
traceback() say after the error?

-- 
Best regards,
Ivan


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 15:02:43 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 15:02:43 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
Message-ID: <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>

Actually I am not very sure where exactly the error raised but when I run
the plot(fc) , it shows the error.

I checked it online and people suggested that it may come with missing
values in 'if' or 'while; statements etc.

I do not know how your code works and mine not.

Best regards

On Fri, May 20, 2022 at 10:16 AM Neha gupta <neha.bologna90 at gmail.com>
wrote:

> I am sorry.. The code is here and data is provided at the end of this
> email.
>
> data = readARFF("aho.arff")
>
> index= sample(1:nrow(data), 0.7*nrow(data))
> train= data[index,]
> test= data[-index,]
>
> task = TaskClassif$new("data", backend = train, target = "isKilled")
> learner= lrn("classif.randomForest", predict_type = "prob")
> model= learner$train(task )
>
> ///explainer is created to identify a bias in a particular feature i.e. CE
> feature in this case
>
> explainer = explain_mlr3(model,
>                          data = test[,-15],
>                          y = as.numeric(test$isKilled)-1,
>                          label="RF")
> prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> privileged <- '1'
>
>
> fc= fairness_check(explainer,
>                           protected = prot,
>                    privileged = privileged)
> plot(fc)
>
>
> ////////////////////////////////////////// my data is
>
> dput(test)
> structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
> 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
> 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
> 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
> 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
> 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
> 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
> 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
> 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
> 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
> 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
> 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
> 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
> 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
> 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
> 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
> 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
> 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
> 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
> 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
> 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
> 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
> 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
> 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
> 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
> 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
> 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
> 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
> "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
> "T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
> 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
> 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
> 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
> "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
> 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
> 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
> 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
> 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
> 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
> 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
> 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
> 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
> 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
> 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
> 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
> 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
> 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
> 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
> 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
> 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
> 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
> 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
> 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
> 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
> 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
> 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
> 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
> 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
> 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
> 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
> 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
> 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
> 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
> 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
> 465L, 469L, 471L, 472L, 483L), class = "data.frame")
>
> On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
>
>> Not reproducible. Posted HTML.
>>
>> On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com>
>> wrote:
>> >Why do I get the following error when my variable in the 'if statement'
>> has
>> >no missing values.
>> >
>> >I check with is.na(my variable) and it has no missing values
>> >
>> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
>> >
>> >Best regards
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 20 15:06:49 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 20 May 2022 14:06:49 +0100
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
Message-ID: <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>

Hello,

This is a frequent way of coding and a source for questions.


ifelse(test$CE == '2', 1, 0)


is equivalent to the much more performant


as.integer(test$CE == '2')   # or as.numeric


If the code still runs with errors, then those errors came from elsewhere.

Hope this helps,

Rui Barradas


?s 09:16 de 20/05/2022, Neha gupta escreveu:
> I am sorry.. The code is here and data is provided at the end of this
> email.
> 
> data = readARFF("aho.arff")
> 
> index= sample(1:nrow(data), 0.7*nrow(data))
> train= data[index,]
> test= data[-index,]
> 
> task = TaskClassif$new("data", backend = train, target = "isKilled")
> learner= lrn("classif.randomForest", predict_type = "prob")
> model= learner$train(task )
> 
> ///explainer is created to identify a bias in a particular feature i.e. CE
> feature in this case
> 
> explainer = explain_mlr3(model,
>                           data = test[,-15],
>                           y = as.numeric(test$isKilled)-1,
>                           label="RF")
> prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> privileged <- '1'
> 
> 
> fc= fairness_check(explainer,
>                            protected = prot,
>                     privileged = privileged)
> plot(fc)
> 
> 
> ////////////////////////////////////////// my data is
> 
> dput(test)
> structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
> 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
> 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
> 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
> 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
> 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
> 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
> 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
> 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
> 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
> 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
> 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
> 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
> 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
> 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
> 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
> 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
> 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
> 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
> 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
> 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
> 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
> 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
> 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
> 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
> 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
> 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
> 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
> 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
> "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
> "T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
> 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
> 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
> 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
> "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
> 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
> 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
> 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
> 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
> 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
> 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
> 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
> 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
> 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
> 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
> 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
> 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
> 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
> 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
> 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
> 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
> 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
> 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
> 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
> 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
> 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
> 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
> 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
> 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
> 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
> 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
> 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
> 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
> 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
> 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
> 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
> 465L, 469L, 471L, 472L, 483L), class = "data.frame")
> 
> On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
> 
>> Not reproducible. Posted HTML.
>>
>> On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com>
>> wrote:
>>> Why do I get the following error when my variable in the 'if statement'
>> has
>>> no missing values.
>>>
>>> I check with is.na(my variable) and it has no missing values
>>>
>>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
>>>
>>> Best regards
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 15:12:40 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 15:12:40 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
Message-ID: <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>

When I run

print(fc)

it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe due
to missing values.

RF passes 1/5 metrics
Total loss :  Inf



On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> This is a frequent way of coding and a source for questions.
>
>
> ifelse(test$CE == '2', 1, 0)
>
>
> is equivalent to the much more performant
>
>
> as.integer(test$CE == '2')   # or as.numeric
>
>
> If the code still runs with errors, then those errors came from elsewhere.
>
> Hope this helps,
>
> Rui Barradas
>
>
> ?s 09:16 de 20/05/2022, Neha gupta escreveu:
> > I am sorry.. The code is here and data is provided at the end of this
> > email.
> >
> > data = readARFF("aho.arff")
> >
> > index= sample(1:nrow(data), 0.7*nrow(data))
> > train= data[index,]
> > test= data[-index,]
> >
> > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > learner= lrn("classif.randomForest", predict_type = "prob")
> > model= learner$train(task )
> >
> > ///explainer is created to identify a bias in a particular feature i.e.
> CE
> > feature in this case
> >
> > explainer = explain_mlr3(model,
> >                           data = test[,-15],
> >                           y = as.numeric(test$isKilled)-1,
> >                           label="RF")
> > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> > privileged <- '1'
> >
> >
> > fc= fairness_check(explainer,
> >                            protected = prot,
> >                     privileged = privileged)
> > plot(fc)
> >
> >
> > ////////////////////////////////////////// my data is
> >
> > dput(test)
> > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
> > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
> > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
> > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
> > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
> > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
> > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
> > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
> > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
> > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
> > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
> > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
> > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
> > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
> > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
> > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
> > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
> > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
> > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
> > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
> > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
> > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
> > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
> > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
> > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
> > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
> > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
> > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
> > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
> > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
> > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
> > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
> > "T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
> > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
> > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
> > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
> > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
> > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
> > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
> > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
> > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
> > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
> > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
> > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
> > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
> > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
> > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
> > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
> > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
> > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
> > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
> > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
> > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
> > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
> > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
> > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
> > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
> > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
> > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
> > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
> > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
> > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
> > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
> > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
> > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
> > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
> > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
> > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
> > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
> >
> > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller <
> jdnewmil at dcn.davis.ca.us>
> > wrote:
> >
> >> Not reproducible. Posted HTML.
> >>
> >> On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com>
> >> wrote:
> >>> Why do I get the following error when my variable in the 'if statement'
> >> has
> >>> no missing values.
> >>>
> >>> I check with is.na(my variable) and it has no missing values
> >>>
> >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
> >>>
> >>> Best regards
> >>>
> >>>        [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> --
> >> Sent from my phone. Please excuse my brevity.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 15:12:54 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 15:12:54 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <20220520143237.46b21dd9@Tarkus>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <20220520143237.46b21dd9@Tarkus>
Message-ID: <CA+nrPnstSftS2-ijA5jo4MWy1HbfdxcdGH3oHbwtDj2_avDcOQ@mail.gmail.com>

traceback()
4: readable_number(max_value - min_value, FALSE)
3: get_nice_ticks(lower_bound, upper_bound)
2: plot.fairness_object(fc)
1: plot(fc)

On Fri, May 20, 2022 at 1:32 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Fri, 20 May 2022 10:16:05 +0200
> Neha gupta <neha.bologna90 at gmail.com> wrote:
>
> > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
>
> I can't reproduce the error at this line with the data you have
> attached. Are you sure it's not happening elsewhere? What does
> traceback() say after the error?
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Fri May 20 15:18:06 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 20 May 2022 13:18:06 +0000
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
Message-ID: <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>

Hallo 

>From what you say the error comes from

> fraction <- NA
> if(fraction <= 1) print(5)
Error in if (fraction <= 1) print(5) : 
  missing value where TRUE/FALSE needed
>
so somewhere fraction is set to NA during your code.

I would consult traceback, you could try debug used functions but maybe you
should start with explainer, prot and privileged, if they are as expected by
fairness_check

> > fc= fairness_check(explainer,
> >                           protected = prot,
> >                    privileged = privileged)

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
> Sent: Friday, May 20, 2022 3:03 PM
> To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] missing values error in if statement
> 
> Actually I am not very sure where exactly the error raised but when I run
the
> plot(fc) , it shows the error.
> 
> I checked it online and people suggested that it may come with missing
> values in 'if' or 'while; statements etc.
> 
> I do not know how your code works and mine not.
> 
> Best regards
> 
> On Fri, May 20, 2022 at 10:16 AM Neha gupta
> <neha.bologna90 at gmail.com>
> wrote:
> 
> > I am sorry.. The code is here and data is provided at the end of this
> > email.
> >
> > data = readARFF("aho.arff")
> >
> > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,] test=
> > data[-index,]
> >
> > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > learner= lrn("classif.randomForest", predict_type = "prob") model=
> > learner$train(task )
> >
> > ///explainer is created to identify a bias in a particular feature
> > i.e. CE feature in this case
> >
> > explainer = explain_mlr3(model,
> >                          data = test[,-15],
> >                          y = as.numeric(test$isKilled)-1,
> >                          label="RF")
> > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> > privileged <- '1'
> >
> >
> > fc= fairness_check(explainer,
> >                           protected = prot,
> >                    privileged = privileged)
> > plot(fc)
> >
> >
> > ////////////////////////////////////////// my data is
> >
> > dput(test)
> > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
> > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
> > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
> > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
> > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
> > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
> > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7, 7,
> > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6, 6,
> > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
> > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3,
> > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2,
> > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
> > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
> > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
> > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
> > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
> > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
> > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
> > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
> > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
> > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
> > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L, 7L,
> > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
> > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L,
> > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
> > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L,
> > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L, 8L,
> > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L, 6L,
> > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
> > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L, 10L,
> > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6", "T7",
> > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
> > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
> > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
> > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
> > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
> > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16, 11,
> > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2, 4,
> > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
> > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
> > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
> > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
> > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55,
> > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9, 9,
> > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
> > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9, 9,
> > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
> > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14, 14,
> > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58, 58,
> > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11,
> > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10,
> > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0), isKilled
> > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
> > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
> > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
> > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
> > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L, 20L,
> > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L, 70L,
> > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
> > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
> > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
> > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
> > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
> > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
> > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
> > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
> > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
> > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
> > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
> > 472L, 483L), class = "data.frame")
> >
> > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> > <jdnewmil at dcn.davis.ca.us>
> > wrote:
> >
> >> Not reproducible. Posted HTML.
> >>
> >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> <neha.bologna90 at gmail.com>
> >> wrote:
> >> >Why do I get the following error when my variable in the 'if
statement'
> >> has
> >> >no missing values.
> >> >
> >> >I check with is.na(my variable) and it has no missing values
> >> >
> >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> >> >needed
> >> >
> >> >Best regards
> >> >
> >> >       [[alternative HTML version deleted]]
> >> >
> >> >______________________________________________
> >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> >https://stat.ethz.ch/mailman/listinfo/r-help
> >> >PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> >and provide commented, minimal, self-contained, reproducible code.
> >>
> >> --
> >> Sent from my phone. Please excuse my brevity.
> >>
> >
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 15:22:25 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 15:22:25 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
 <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
Message-ID: <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>

What do you mean by "fraction" ?

traceback()
4: readable_number(max_value - min_value, FALSE)
3: get_nice_ticks(lower_bound, upper_bound)
2: plot.fairness_object(fc)
1: plot(fc)

On Fri, May 20, 2022 at 3:18 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hallo
>
> From what you say the error comes from
>
> > fraction <- NA
> > if(fraction <= 1) print(5)
> Error in if (fraction <= 1) print(5) :
>   missing value where TRUE/FALSE needed
> >
> so somewhere fraction is set to NA during your code.
>
> I would consult traceback, you could try debug used functions but maybe you
> should start with explainer, prot and privileged, if they are as expected
> by
> fairness_check
>
> > > fc= fairness_check(explainer,
> > >                           protected = prot,
> > >                    privileged = privileged)
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
> > Sent: Friday, May 20, 2022 3:03 PM
> > To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> > Cc: r-help mailing list <r-help at r-project.org>
> > Subject: Re: [R] missing values error in if statement
> >
> > Actually I am not very sure where exactly the error raised but when I run
> the
> > plot(fc) , it shows the error.
> >
> > I checked it online and people suggested that it may come with missing
> > values in 'if' or 'while; statements etc.
> >
> > I do not know how your code works and mine not.
> >
> > Best regards
> >
> > On Fri, May 20, 2022 at 10:16 AM Neha gupta
> > <neha.bologna90 at gmail.com>
> > wrote:
> >
> > > I am sorry.. The code is here and data is provided at the end of this
> > > email.
> > >
> > > data = readARFF("aho.arff")
> > >
> > > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,] test=
> > > data[-index,]
> > >
> > > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > > learner= lrn("classif.randomForest", predict_type = "prob") model=
> > > learner$train(task )
> > >
> > > ///explainer is created to identify a bias in a particular feature
> > > i.e. CE feature in this case
> > >
> > > explainer = explain_mlr3(model,
> > >                          data = test[,-15],
> > >                          y = as.numeric(test$isKilled)-1,
> > >                          label="RF")
> > > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> > > privileged <- '1'
> > >
> > >
> > > fc= fairness_check(explainer,
> > >                           protected = prot,
> > >                    privileged = privileged)
> > > plot(fc)
> > >
> > >
> > > ////////////////////////////////////////// my data is
> > >
> > > dput(test)
> > > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
> > > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
> > > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
> > > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
> > > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7, 7,
> > > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6, 6,
> > > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
> > > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3,
> > > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2,
> > > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
> > > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
> > > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
> > > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
> > > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
> > > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
> > > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
> > > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
> > > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
> > > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
> > > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L, 7L,
> > > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
> > > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L,
> > > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
> > > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L,
> > > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L, 8L,
> > > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L, 6L,
> > > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
> > > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L, 10L,
> > > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6", "T7",
> > > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
> > > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
> > > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
> > > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
> > > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
> > > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16, 11,
> > > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2, 4,
> > > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
> > > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
> > > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
> > > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
> > > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55,
> > > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9, 9,
> > > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
> > > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9, 9,
> > > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
> > > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14, 14,
> > > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58, 58,
> > > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11,
> > > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10,
> > > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0), isKilled
> > > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
> > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
> > > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
> > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
> > > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> > > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L, 20L,
> > > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L, 70L,
> > > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
> > > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
> > > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
> > > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
> > > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
> > > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
> > > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
> > > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
> > > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
> > > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
> > > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
> > > 472L, 483L), class = "data.frame")
> > >
> > > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> > > <jdnewmil at dcn.davis.ca.us>
> > > wrote:
> > >
> > >> Not reproducible. Posted HTML.
> > >>
> > >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> > <neha.bologna90 at gmail.com>
> > >> wrote:
> > >> >Why do I get the following error when my variable in the 'if
> statement'
> > >> has
> > >> >no missing values.
> > >> >
> > >> >I check with is.na(my variable) and it has no missing values
> > >> >
> > >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> > >> >needed
> > >> >
> > >> >Best regards
> > >> >
> > >> >       [[alternative HTML version deleted]]
> > >> >
> > >> >______________________________________________
> > >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >> >https://stat.ethz.ch/mailman/listinfo/r-help
> > >> >PLEASE do read the posting guide
> > >> http://www.R-project.org/posting-guide.html
> > >> >and provide commented, minimal, self-contained, reproducible code.
> > >>
> > >> --
> > >> Sent from my phone. Please excuse my brevity.
> > >>
> > >
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tg@77m @end|ng |rom y@hoo@com  Fri May 20 15:27:20 2022
From: tg@77m @end|ng |rom y@hoo@com (Thomas Subia)
Date: Fri, 20 May 2022 13:27:20 +0000 (UTC)
Subject: [R] R and .asc file extension
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
Message-ID: <47096049.765872.1653053240121@mail.yahoo.com>

Colleagues,

I have data which has a .asc file extension.

Can R read that file extension?

All the best,

Thomas Subia
Statistician


From petr@p|k@| @end|ng |rom prechez@@cz  Fri May 20 15:37:58 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 20 May 2022 13:37:58 +0000
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
 <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
 <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
Message-ID: <ab30f263c74849eba6ad7e3d31e9b2c4@SRVEXCHCM1302.precheza.cz>

Hm,

what do **you** mean by fraction

This is what you posted

> >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> >> >needed
On May 19, 2022 2:30:58 PM PDT, Neha gupta

I just showed that if object **fraction** is NA, it results exactly in the 
error you posted. From where is this object I do not know.

>From help page
protected
factor, protected variable (also called sensitive attribute), containing 
privileged and unprivileged groups

should be factor, which is not. Maybe it does not matter but you could try to 
change it to one by as.factor function.

You probably modified the code from help page but in that case you should 
check if all your objects are the same mode and structure as the objects in 
help page code.

Cheers
Petr

From: Neha gupta <neha.bologna90 at gmail.com>
Sent: Friday, May 20, 2022 3:22 PM
To: PIKAL Petr <petr.pikal at precheza.cz>
Cc: r-help mailing list <r-help at r-project.org>
Subject: Re: [R] missing values error in if statement

What do you mean by "fraction" ?

traceback()
4: readable_number(max_value - min_value, FALSE)
3: get_nice_ticks(lower_bound, upper_bound)
2: plot.fairness_object(fc)
1: plot(fc)

On Fri, May 20, 2022 at 3:18 PM PIKAL Petr <mailto:petr.pikal at precheza.cz> 
wrote:
Hallo

>From what you say the error comes from

> fraction <- NA
> if(fraction <= 1) print(5)
Error in if (fraction <= 1) print(5) :
  missing value where TRUE/FALSE needed
>
so somewhere fraction is set to NA during your code.

I would consult traceback, you could try debug used functions but maybe you
should start with explainer, prot and privileged, if they are as expected by
fairness_check

> > fc= fairness_check(explainer,
> >                           protected = prot,
> >                    privileged = privileged)

Cheers
Petr

> -----Original Message-----
> From: R-help <mailto:r-help-bounces at r-project.org> On Behalf Of Neha gupta
> Sent: Friday, May 20, 2022 3:03 PM
> To: Jeff Newmiller <mailto:jdnewmil at dcn.davis.ca.us>
> Cc: r-help mailing list <mailto:r-help at r-project.org>
> Subject: Re: [R] missing values error in if statement
>
> Actually I am not very sure where exactly the error raised but when I run
the
> plot(fc) , it shows the error.
>
> I checked it online and people suggested that it may come with missing
> values in 'if' or 'while; statements etc.
>
> I do not know how your code works and mine not.
>
> Best regards
>
> On Fri, May 20, 2022 at 10:16 AM Neha gupta
> <mailto:neha.bologna90 at gmail.com>
> wrote:
>
> > I am sorry.. The code is here and data is provided at the end of this
> > email.
> >
> > data = readARFF("aho.arff")
> >
> > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,] test=
> > data[-index,]
> >
> > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > learner= lrn("classif.randomForest", predict_type = "prob") model=
> > learner$train(task )
> >
> > ///explainer is created to identify a bias in a particular feature
> > i.e. CE feature in this case
> >
> > explainer = explain_mlr3(model,
> >                          data = test[,-15],
> >                          y = as.numeric(test$isKilled)-1,
> >                          label="RF")
> > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> > privileged <- '1'
> >
> >
> > fc= fairness_check(explainer,
> >                           protected = prot,
> >                    privileged = privileged)
> > plot(fc)
> >
> >
> > ////////////////////////////////////////// my data is
> >
> > dput(test)
> > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
> > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
> > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
> > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
> > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
> > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
> > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7, 7,
> > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6, 6,
> > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
> > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3,
> > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2,
> > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
> > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
> > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
> > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
> > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
> > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
> > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
> > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
> > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
> > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
> > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L, 7L,
> > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
> > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L,
> > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
> > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L,
> > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L, 8L,
> > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L, 6L,
> > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
> > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L, 10L,
> > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6", "T7",
> > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
> > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
> > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
> > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
> > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
> > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
> > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16, 11,
> > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2, 4,
> > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
> > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
> > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
> > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
> > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55,
> > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9, 9,
> > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
> > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9, 9,
> > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
> > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14, 14,
> > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58, 58,
> > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11,
> > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10,
> > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0), isKilled
> > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
> > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
> > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
> > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
> > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
> > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L, 20L,
> > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L, 70L,
> > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
> > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
> > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
> > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
> > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
> > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
> > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
> > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
> > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
> > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
> > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
> > 472L, 483L), class = "data.frame")
> >
> > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> > <mailto:jdnewmil at dcn.davis.ca.us>
> > wrote:
> >
> >> Not reproducible. Posted HTML.
> >>
> >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> <mailto:neha.bologna90 at gmail.com>
> >> wrote:
> >> >Why do I get the following error when my variable in the 'if
statement'
> >> has
> >> >no missing values.
> >> >
> >> >I check with http://is.noclick_na(my variable) and it has no missing 
> >> >values
> >> >
> >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> >> >needed
> >> >
> >> >Best regards
> >> >
> >> >       [[alternative HTML version deleted]]
> >> >
> >> >______________________________________________
> >> >mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> >https://stat.ethz.ch/mailman/listinfo/r-help
> >> >PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> >and provide commented, minimal, self-contained, reproducible code.
> >>
> >> --
> >> Sent from my phone. Please excuse my brevity.
> >>
> >
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From petr@p|k@| @end|ng |rom prechez@@cz  Fri May 20 15:43:49 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 20 May 2022 13:43:49 +0000
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <43d772a2322549d2a15a2d9e2a68d3bc@SRVEXCHCM1302.precheza.cz>

Hallo Thomas

The asc extension could represent several different formats
https://fileinfo.com/extension/asc

you should check the contents with let say Notepad or any other plain text
editor or some commander. It could be plain text file which you can read by
usual ways into R.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Thomas Subia
> via R-help
> Sent: Friday, May 20, 2022 3:27 PM
> To: r-help at r-project.org
> Subject: [R] R and .asc file extension
> 
> Colleagues,
> 
> I have data which has a .asc file extension.
> 
> Can R read that file extension?
> 
> All the best,
> 
> Thomas Subia
> Statistician
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 20 15:47:45 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 20 May 2022 14:47:45 +0100
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
 <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
Message-ID: <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>

Hello,

I'm getting an error when running your code:

learner = lrn("classif.randomForest", predict_type = "prob")
#> Error: Element with key 'classif.randomForest' not found in 
DictionaryLearner!

Rui Barradas

?s 14:12 de 20/05/2022, Neha gupta escreveu:
> When I run
> 
> print(fc)
> 
> it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe 
> due to missing values.
> 
> RF passes 1/5 metrics
> Total loss : ?Inf
> 
> 
> 
> On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     This is a frequent way of coding and a source for questions.
> 
> 
>     ifelse(test$CE == '2', 1, 0)
> 
> 
>     is equivalent to the much more performant
> 
> 
>     as.integer(test$CE == '2')? ?# or as.numeric
> 
> 
>     If the code still runs with errors, then those errors came from
>     elsewhere.
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
> 
>     ?s 09:16 de 20/05/2022, Neha gupta escreveu:
>      > I am sorry.. The code is here and data is provided at the end of this
>      > email.
>      >
>      > data = readARFF("aho.arff")
>      >
>      > index= sample(1:nrow(data), 0.7*nrow(data))
>      > train= data[index,]
>      > test= data[-index,]
>      >
>      > task = TaskClassif$new("data", backend = train, target = "isKilled")
>      > learner= lrn("classif.randomForest", predict_type = "prob")
>      > model= learner$train(task )
>      >
>      > ///explainer is created to identify a bias in a particular
>     feature i.e. CE
>      > feature in this case
>      >
>      > explainer = explain_mlr3(model,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?data = test[,-15],
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?y = as.numeric(test$isKilled)-1,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?label="RF")
>      > prot <- ifelse(test$CE == '2', 1, 0)? ? ? ?/// Error comes here
>      > privileged <- '1'
>      >
>      >
>      > fc= fairness_check(explainer,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ? protected = prot,
>      >? ? ? ? ? ? ? ? ? ? ?privileged = privileged)
>      > plot(fc)
>      >
>      >
>      > ////////////////////////////////////////// my data is
>      >
>      > dput(test)
>      > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
>      > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
>      > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
>      > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
>      > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
>      > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
>      > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
>      > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
>      > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
>      > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
>      > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
>      > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
>      > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
>      > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
>      > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered
>     = c(0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
>      > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
>      > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
>      > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
>      > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
>      > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
>      > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
>      > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
>      > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
>      > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
>      > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
>      > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
>      > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
>      > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
>      > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
>      > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
>      > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
>      > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
>      > "T13", "T14", "T15"), class = "factor"), methodReturn =
>     structure(c(2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
>      > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
>      > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
>      > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
>      > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
>      > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
>      > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
>      > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
>      > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
>      > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
>      > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
>      > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
>      > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
>      > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
>      > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
>      > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
>      > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>      > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>      > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
>      > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
>      > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert
>     = c(3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
>      > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
>      > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
>      > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
>      > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
>      > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
>      > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
>      > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
>      > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
>      > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
>      > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
>      > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
>      > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
>      > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
>      > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
>      > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
>      > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
>      > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
>      > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
>      >
>      > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
>     <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us>>
>      > wrote:
>      >
>      >> Not reproducible. Posted HTML.
>      >>
>      >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
>     <neha.bologna90 at gmail.com <mailto:neha.bologna90 at gmail.com>>
>      >> wrote:
>      >>> Why do I get the following error when my variable in the 'if
>     statement'
>      >> has
>      >>> no missing values.
>      >>>
>      >>> I check with is.na <http://is.na>(my variable) and it has no
>     missing values
>      >>>
>      >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE
>     needed
>      >>>
>      >>> Best regards
>      >>>
>      >>>? ? ? ? [[alternative HTML version deleted]]
>      >>>
>      >>> ______________________________________________
>      >>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      >>> https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      >>> PLEASE do read the posting guide
>      >> http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      >>> and provide commented, minimal, self-contained, reproducible code.
>      >>
>      >> --
>      >> Sent from my phone. Please excuse my brevity.
>      >>
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri May 20 15:48:07 2022
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 20 May 2022 15:48:07 +0200
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <c015f845-9a19-c6cd-ba82-f58c3156730c@statistik.tu-dortmund.de>



On 20.05.2022 15:27, Thomas Subia via R-help wrote:
> Colleagues,
> 
> I have data which has a .asc file extension.

asc likely means ASCII and can be any kind of text data, so wed need 
some contents to suggest a function. But any for text files should work.
Best,
Uwe Ligges
> 
> Can R read that file extension?
> 
> All the best,
> 
> Thomas Subia
> Statistician
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Fri May 20 16:05:37 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Fri, 20 May 2022 14:05:37 +0000
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <BN6PR2201MB155301404D6AE15F2E0B6F34CFD39@BN6PR2201MB1553.namprd22.prod.outlook.com>

A google search returned a stack overflow page that might help.
stackoverflow.com/questions/20177581/reading-an-asc-file-into-r
(add the https part to get a functional link.)

I would also try looking at the file using something like notebook, or any program that is a plain text editor. That way I can see exactly what the file contains.

Tim




-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Thomas Subia via R-help
Sent: Friday, May 20, 2022 9:27 AM
To: r-help at r-project.org
Subject: [R] R and .asc file extension

[External Email]

Colleagues,

I have data which has a .asc file extension.

Can R read that file extension?

All the best,

Thomas Subia
Statistician

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OuZijT4yJ8dfQLVPVj4YWSCPkpUW4wkGCSHim27tbH9qYMjXbuMSxybv7i0cvWHl&s=7eUP-gSu0ZAEL_iEdxyJwCEEE7PQF15Fplf_dGvzMfM&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OuZijT4yJ8dfQLVPVj4YWSCPkpUW4wkGCSHim27tbH9qYMjXbuMSxybv7i0cvWHl&s=0Y81eoA64cMK6zoqQGZoDecTemarTEV4UxqvF-FSuMA&e=
and provide commented, minimal, self-contained, reproducible code.


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 16:07:43 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 16:07:43 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
 <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
 <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>
Message-ID: <CA+nrPnv5Q=2aK1KrTHwDXJB8jdkzpK0zsrStm9GEFM-CLMx4kQ@mail.gmail.com>

Actually it's found in a library (mlr3extralearners). I have already
imported this library in my code.

On Friday, May 20, 2022, Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> I'm getting an error when running your code:
>
> learner = lrn("classif.randomForest", predict_type = "prob")
> #> Error: Element with key 'classif.randomForest' not found in
> DictionaryLearner!
>
> Rui Barradas
>
> ?s 14:12 de 20/05/2022, Neha gupta escreveu:
>
>> When I run
>>
>> print(fc)
>>
>> it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe due
>> to missing values.
>>
>> RF passes 1/5 metrics
>> Total loss :  Inf
>>
>>
>>
>> On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt
>> <mailto:ruipbarradas at sapo.pt>> wrote:
>>
>>     Hello,
>>
>>     This is a frequent way of coding and a source for questions.
>>
>>
>>     ifelse(test$CE == '2', 1, 0)
>>
>>
>>     is equivalent to the much more performant
>>
>>
>>     as.integer(test$CE == '2')   # or as.numeric
>>
>>
>>     If the code still runs with errors, then those errors came from
>>     elsewhere.
>>
>>     Hope this helps,
>>
>>     Rui Barradas
>>
>>
>>     ?s 09:16 de 20/05/2022, Neha gupta escreveu:
>>      > I am sorry.. The code is here and data is provided at the end of
>> this
>>      > email.
>>      >
>>      > data = readARFF("aho.arff")
>>      >
>>      > index= sample(1:nrow(data), 0.7*nrow(data))
>>      > train= data[index,]
>>      > test= data[-index,]
>>      >
>>      > task = TaskClassif$new("data", backend = train, target =
>> "isKilled")
>>      > learner= lrn("classif.randomForest", predict_type = "prob")
>>      > model= learner$train(task )
>>      >
>>      > ///explainer is created to identify a bias in a particular
>>     feature i.e. CE
>>      > feature in this case
>>      >
>>      > explainer = explain_mlr3(model,
>>      >                           data = test[,-15],
>>      >                           y = as.numeric(test$isKilled)-1,
>>      >                           label="RF")
>>      > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
>>      > privileged <- '1'
>>      >
>>      >
>>      > fc= fairness_check(explainer,
>>      >                            protected = prot,
>>      >                     privileged = privileged)
>>      > plot(fc)
>>      >
>>      >
>>      > ////////////////////////////////////////// my data is
>>      >
>>      > dput(test)
>>      > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
>>      > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
>>      > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
>>      > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
>>      > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
>>      > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
>>      > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
>>      > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
>>      > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
>>      > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
>>      > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
>>      > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
>>      > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
>>      > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
>>      > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
>>      > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
>>      > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
>>      > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability =
>> c(0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
>>      > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered
>>     = c(0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
>>      > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
>>      > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
>>      > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
>>      > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
>>      > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
>>      > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
>>      > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
>>      > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
>>      > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
>>      > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
>>      > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
>>      > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
>>      > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
>>      > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
>>      > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
>>      > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
>>      > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
>>      > "T13", "T14", "T15"), class = "factor"), methodReturn =
>>     structure(c(2L,
>>      > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>      > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
>>      > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>      > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
>>      > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
>>      > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
>>      > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
>>      > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
>>      > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
>>      > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
>>      > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
>>      > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
>>      > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
>>      > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
>>      > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
>>      > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
>>      > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
>>      > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
>>      > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
>>      > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
>>      > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>>      > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>>      > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
>>      > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
>>      > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert
>>     = c(3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
>>      > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
>>      > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
>>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
>>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
>>      > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
>>      > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
>>      > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
>>      > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
>>      > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
>>      > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
>>      > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
>>      > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
>>      > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
>>      > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
>>      > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
>>      > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
>>      > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
>>      > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
>>      > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
>>      > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
>>      >
>>      > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
>>     <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us>>
>>      > wrote:
>>      >
>>      >> Not reproducible. Posted HTML.
>>      >>
>>      >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
>>     <neha.bologna90 at gmail.com <mailto:neha.bologna90 at gmail.com>>
>>      >> wrote:
>>      >>> Why do I get the following error when my variable in the 'if
>>     statement'
>>      >> has
>>      >>> no missing values.
>>      >>>
>>      >>> I check with is.na <http://is.na>(my variable) and it has no
>>     missing values
>>      >>>
>>      >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE
>>     needed
>>      >>>
>>      >>> Best regards
>>      >>>
>>      >>>        [[alternative HTML version deleted]]
>>      >>>
>>      >>> ______________________________________________
>>      >>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>>     -- To UNSUBSCRIBE and more, see
>>      >>> https://stat.ethz.ch/mailman/listinfo/r-help
>>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>>      >>> PLEASE do read the posting guide
>>      >> http://www.R-project.org/posting-guide.html
>>     <http://www.R-project.org/posting-guide.html>
>>      >>> and provide commented, minimal, self-contained, reproducible
>> code.
>>      >>
>>      >> --
>>      >> Sent from my phone. Please excuse my brevity.
>>      >>
>>      >
>>      >       [[alternative HTML version deleted]]
>>      >
>>      > ______________________________________________
>>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>>     -- To UNSUBSCRIBE and more, see
>>      > https://stat.ethz.ch/mailman/listinfo/r-help
>>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>>      > PLEASE do read the posting guide
>>     http://www.R-project.org/posting-guide.html
>>     <http://www.R-project.org/posting-guide.html>
>>      > and provide commented, minimal, self-contained, reproducible code.
>>
>>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 20 16:15:04 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 20 May 2022 07:15:04 -0700
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <16446D32-9207-4D5C-81EE-AD0D267A49AB@dcn.davis.ca.us>

R has no restrictions regarding file name extensions. Seriously.

What you are probably asking is whether there are functions available that can transform such a file into a usable R data object. Unfortunately, a file named with an ASC file extension could contain any kind of data, and even among "common" formats such files contain easily thousands of different formats. So deciding whether R can sensibly parse data based only on that information is impossible.

POSIX-conformant operating systems often have a utility program called "file" that looks in the file data and uses heuristics to guess what format is being used. But even that output may not be sufficient to answer that question.

Try opening it in a text editor, and if that works you might see some clues that you can google for. Or if you know from where you obtained the data what type of information it should contain, you may be able to use a search engine to find clues about it.

Don't be surprised if it is a one-of-a-kind format... it was not uncommon 30 years ago to re-direct output prepared for sending to a line printer into a file with an asc extension (short for "ASCII format"), with no defined format for other computers to recognize at all. You would have to use the readLines function and string search functions like grep or sub to extract information from it in that case, based on your ability to see patterns in a text viewer.

On May 20, 2022 6:27:20 AM PDT, Thomas Subia via R-help <r-help at r-project.org> wrote:
>Colleagues,
>
>I have data which has a .asc file extension.
>
>Can R read that file extension?
>
>All the best,
>
>Thomas Subia
>Statistician
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 20 16:16:55 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 20 May 2022 17:16:55 +0300
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <20220520171655.2bcc7593@arachnoid>

? Fri, 20 May 2022 13:27:20 +0000 (UTC)
Thomas Subia via R-help <r-help at r-project.org> ?????:

> I have data which has a .asc file extension.
>
> Can R read that file extension?

It very much depends on the content. ".asc" could mean ASCII text (in
which case read.table() or at least readLines() is your friend), or
something completely different. For example, RFC 4880 "ASCII armoured"
files typically have .asc extension, but you're much better off reading
those using an OpenPGP implementation, not R.

-- 
Best regards,
Ivan


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 20 16:26:23 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 20 May 2022 07:26:23 -0700
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPnv5Q=2aK1KrTHwDXJB8jdkzpK0zsrStm9GEFM-CLMx4kQ@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
 <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
 <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>
 <CA+nrPnv5Q=2aK1KrTHwDXJB8jdkzpK0zsrStm9GEFM-CLMx4kQ@mail.gmail.com>
Message-ID: <13C15D04-42E6-4633-A77B-9018FA1A24F0@dcn.davis.ca.us>

... how are we supposed to know that you had imported mlr3extralearners unless you included the library(mlr3extralearners) statement in your code???

It is sadly not unusual for people to forget to show such information .. so there is a package called "reprex" designed to help you verify that your example is reproducible before sending out confusing example code. I recommend it. It would have also complained at you for leaving your file import statement in the example code rather than the dput equivalent inline. Us having to tiptoe around certain lines manually also adds to the question marks about what caused your error.

On May 20, 2022 7:07:43 AM PDT, Neha gupta <neha.bologna90 at gmail.com> wrote:
>Actually it's found in a library (mlr3extralearners). I have already
>imported this library in my code.
>
>On Friday, May 20, 2022, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> I'm getting an error when running your code:
>>
>> learner = lrn("classif.randomForest", predict_type = "prob")
>> #> Error: Element with key 'classif.randomForest' not found in
>> DictionaryLearner!
>>
>> Rui Barradas
>>
>> ?s 14:12 de 20/05/2022, Neha gupta escreveu:
>>
>>> When I run
>>>
>>> print(fc)
>>>
>>> it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe due
>>> to missing values.
>>>
>>> RF passes 1/5 metrics
>>> Total loss :  Inf
>>>
>>>
>>>
>>> On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt
>>> <mailto:ruipbarradas at sapo.pt>> wrote:
>>>
>>>     Hello,
>>>
>>>     This is a frequent way of coding and a source for questions.
>>>
>>>
>>>     ifelse(test$CE == '2', 1, 0)
>>>
>>>
>>>     is equivalent to the much more performant
>>>
>>>
>>>     as.integer(test$CE == '2')   # or as.numeric
>>>
>>>
>>>     If the code still runs with errors, then those errors came from
>>>     elsewhere.
>>>
>>>     Hope this helps,
>>>
>>>     Rui Barradas
>>>
>>>
>>>     ?s 09:16 de 20/05/2022, Neha gupta escreveu:
>>>      > I am sorry.. The code is here and data is provided at the end of
>>> this
>>>      > email.
>>>      >
>>>      > data = readARFF("aho.arff")
>>>      >
>>>      > index= sample(1:nrow(data), 0.7*nrow(data))
>>>      > train= data[index,]
>>>      > test= data[-index,]
>>>      >
>>>      > task = TaskClassif$new("data", backend = train, target =
>>> "isKilled")
>>>      > learner= lrn("classif.randomForest", predict_type = "prob")
>>>      > model= learner$train(task )
>>>      >
>>>      > ///explainer is created to identify a bias in a particular
>>>     feature i.e. CE
>>>      > feature in this case
>>>      >
>>>      > explainer = explain_mlr3(model,
>>>      >                           data = test[,-15],
>>>      >                           y = as.numeric(test$isKilled)-1,
>>>      >                           label="RF")
>>>      > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
>>>      > privileged <- '1'
>>>      >
>>>      >
>>>      > fc= fairness_check(explainer,
>>>      >                            protected = prot,
>>>      >                     privileged = privileged)
>>>      > plot(fc)
>>>      >
>>>      >
>>>      > ////////////////////////////////////////// my data is
>>>      >
>>>      > dput(test)
>>>      > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
>>>      > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
>>>      > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
>>>      > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
>>>      > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
>>>      > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
>>>      > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
>>>      > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
>>>      > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
>>>      > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
>>>      > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
>>>      > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
>>>      > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
>>>      > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
>>>      > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
>>>      > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
>>>      > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
>>>      > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>>>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>>>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability =
>>> c(0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
>>>      > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered
>>>     = c(0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
>>>      > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
>>>      > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
>>>      > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
>>>      > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
>>>      > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
>>>      > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
>>>      > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
>>>      > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
>>>      > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
>>>      > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
>>>      > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
>>>      > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
>>>      > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
>>>      > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
>>>      > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
>>>      > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
>>>      > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
>>>      > "T13", "T14", "T15"), class = "factor"), methodReturn =
>>>     structure(c(2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>      > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
>>>      > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>      > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
>>>      > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
>>>      > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
>>>      > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
>>>      > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
>>>      > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
>>>      > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
>>>      > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
>>>      > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
>>>      > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
>>>      > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
>>>      > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
>>>      > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
>>>      > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
>>>      > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
>>>      > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
>>>      > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
>>>      > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>>>      > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>>>      > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
>>>      > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
>>>      > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert
>>>     = c(3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>>>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
>>>      > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
>>>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
>>>      > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
>>>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
>>>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
>>>      > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
>>>      > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
>>>      > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
>>>      > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
>>>      > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
>>>      > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
>>>      > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
>>>      > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
>>>      > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
>>>      > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
>>>      > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
>>>      > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
>>>      > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
>>>      > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
>>>      > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
>>>      > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
>>>      >
>>>      > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
>>>     <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us>>
>>>      > wrote:
>>>      >
>>>      >> Not reproducible. Posted HTML.
>>>      >>
>>>      >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
>>>     <neha.bologna90 at gmail.com <mailto:neha.bologna90 at gmail.com>>
>>>      >> wrote:
>>>      >>> Why do I get the following error when my variable in the 'if
>>>     statement'
>>>      >> has
>>>      >>> no missing values.
>>>      >>>
>>>      >>> I check with is.na <http://is.na>(my variable) and it has no
>>>     missing values
>>>      >>>
>>>      >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE
>>>     needed
>>>      >>>
>>>      >>> Best regards
>>>      >>>
>>>      >>>        [[alternative HTML version deleted]]
>>>      >>>
>>>      >>> ______________________________________________
>>>      >>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>>>     -- To UNSUBSCRIBE and more, see
>>>      >>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>      >>> PLEASE do read the posting guide
>>>      >> http://www.R-project.org/posting-guide.html
>>>     <http://www.R-project.org/posting-guide.html>
>>>      >>> and provide commented, minimal, self-contained, reproducible
>>> code.
>>>      >>
>>>      >> --
>>>      >> Sent from my phone. Please excuse my brevity.
>>>      >>
>>>      >
>>>      >       [[alternative HTML version deleted]]
>>>      >
>>>      > ______________________________________________
>>>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>>>     -- To UNSUBSCRIBE and more, see
>>>      > https://stat.ethz.ch/mailman/listinfo/r-help
>>>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>      > PLEASE do read the posting guide
>>>     http://www.R-project.org/posting-guide.html
>>>     <http://www.R-project.org/posting-guide.html>
>>>      > and provide commented, minimal, self-contained, reproducible code.
>>>
>>>

-- 
Sent from my phone. Please excuse my brevity.


From |r@nco|@@morne@u @end|ng |rom |gn@|r  Fri May 20 16:34:43 2022
From: |r@nco|@@morne@u @end|ng |rom |gn@|r (Francois Morneau)
Date: Fri, 20 May 2022 16:34:43 +0200
Subject: [R] R and .asc file extension
In-Reply-To: <47096049.765872.1653053240121@mail.yahoo.com>
References: <47096049.765872.1653053240121.ref@mail.yahoo.com>
 <47096049.765872.1653053240121@mail.yahoo.com>
Message-ID: <c2251d5b-ae25-0292-8fe4-61e4768becc8@ign.fr>

Dear Thomas,

If your .asc file is a raster (Esri ASCII raster format), you may 
consider the functions 'raster' in the raster package or 'read_starts' 
in the star package.

Otherwise (or even)? 'scan' or 'read.table' from base/utils may be your 
friends.

Best,

Fran?ois

Le 20/05/2022 ? 15:27, Thomas Subia via R-help a ?crit?:
> Colleagues,
>
> I have data which has a .asc file extension.
>
> Can R read that file extension?
>
> All the best,
>
> Thomas Subia
> Statistician


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 20 16:47:29 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 20 May 2022 15:47:29 +0100
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
 <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
Message-ID: <3eb25ee6-4dc8-ce23-0921-f6de3f3b4469@sapo.pt>

Hello,

After a sequence of getAnywhere instructions


capture.output(
   getAnywhere("plot.fairness_object"),
   file = "~/Temp/plot_fairness_object.txt"
)
getAnywhere("get_nice_ticks")
getAnywhere("readable_number")


to try to get to the offending function, here is what I found out.

1. The plot method for objects of S3 class "fairness_object" is defined 
in package fairmodels;
2. The error only occurs with fairness_metrics = "FPR";
3. The error comes from readable_number in package fairmodels;
4. It's the 2nd time this year [1] R-Help gets a question with the error

Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed

5. The call sequence is

plot.fairness_object > get_nice_ticks > readable_number

all in package fairmodels;



You should then write maintainer("fairmodels") explaining your problem, 
with a link to the start of this thread, but start your code with calls 
to library() to load the necessary packages for the code to run.

 From point 2 above,


fairness_metrics <- c("ACC", "TPR", "PPV", "FPR", "STP")
plot(fc, fairness_metrics = fairness_metrics[4])   # FPR, error


Assign any value but 4 to i_fm and you can plot the object fc.

i_fm <- 1
plot(fc, fairness_metrics = fairness_metrics[i_fm])  # OK


[1] https://www.mail-archive.com/r-help at r-project.org/msg264726.html

Hope this helps,

Rui Barradas


?s 14:12 de 20/05/2022, Neha gupta escreveu:
> When I run
> 
> print(fc)
> 
> it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe 
> due to missing values.
> 
> RF passes 1/5 metrics
> Total loss : ?Inf
> 
> 
> 
> On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     This is a frequent way of coding and a source for questions.
> 
> 
>     ifelse(test$CE == '2', 1, 0)
> 
> 
>     is equivalent to the much more performant
> 
> 
>     as.integer(test$CE == '2')? ?# or as.numeric
> 
> 
>     If the code still runs with errors, then those errors came from
>     elsewhere.
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
> 
>     ?s 09:16 de 20/05/2022, Neha gupta escreveu:
>      > I am sorry.. The code is here and data is provided at the end of this
>      > email.
>      >
>      > data = readARFF("aho.arff")
>      >
>      > index= sample(1:nrow(data), 0.7*nrow(data))
>      > train= data[index,]
>      > test= data[-index,]
>      >
>      > task = TaskClassif$new("data", backend = train, target = "isKilled")
>      > learner= lrn("classif.randomForest", predict_type = "prob")
>      > model= learner$train(task )
>      >
>      > ///explainer is created to identify a bias in a particular
>     feature i.e. CE
>      > feature in this case
>      >
>      > explainer = explain_mlr3(model,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?data = test[,-15],
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?y = as.numeric(test$isKilled)-1,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ?label="RF")
>      > prot <- ifelse(test$CE == '2', 1, 0)? ? ? ?/// Error comes here
>      > privileged <- '1'
>      >
>      >
>      > fc= fairness_check(explainer,
>      >? ? ? ? ? ? ? ? ? ? ? ? ? ? protected = prot,
>      >? ? ? ? ? ? ? ? ? ? ?privileged = privileged)
>      > plot(fc)
>      >
>      >
>      > ////////////////////////////////////////// my data is
>      >
>      > dput(test)
>      > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
>      > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
>      > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
>      > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
>      > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
>      > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
>      > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
>      > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
>      > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
>      > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
>      > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
>      > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
>      > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
>      > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
>      > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
>      > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
>      > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered
>     = c(0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
>      > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
>      > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
>      > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
>      > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
>      > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
>      > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
>      > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
>      > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
>      > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
>      > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
>      > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
>      > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
>      > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
>      > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
>      > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
>      > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
>      > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
>      > "T13", "T14", "T15"), class = "factor"), methodReturn =
>     structure(c(2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
>      > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
>      > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
>      > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
>      > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
>      > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
>      > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
>      > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
>      > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
>      > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
>      > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
>      > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
>      > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
>      > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
>      > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
>      > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
>      > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
>      > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>      > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
>      > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
>      > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
>      > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert
>     = c(3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
>      > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
>      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
>      > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
>      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
>      > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
>      > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
>      > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
>      > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
>      > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
>      > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
>      > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
>      > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
>      > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
>      > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
>      > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
>      > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
>      > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
>      > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
>      > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
>      > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
>      >
>      > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
>     <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us>>
>      > wrote:
>      >
>      >> Not reproducible. Posted HTML.
>      >>
>      >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
>     <neha.bologna90 at gmail.com <mailto:neha.bologna90 at gmail.com>>
>      >> wrote:
>      >>> Why do I get the following error when my variable in the 'if
>     statement'
>      >> has
>      >>> no missing values.
>      >>>
>      >>> I check with is.na <http://is.na>(my variable) and it has no
>     missing values
>      >>>
>      >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE
>     needed
>      >>>
>      >>> Best regards
>      >>>
>      >>>? ? ? ? [[alternative HTML version deleted]]
>      >>>
>      >>> ______________________________________________
>      >>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      >>> https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      >>> PLEASE do read the posting guide
>      >> http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      >>> and provide commented, minimal, self-contained, reproducible code.
>      >>
>      >> --
>      >> Sent from my phone. Please excuse my brevity.
>      >>
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 20 18:39:18 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Fri, 20 May 2022 16:39:18 +0000 (UTC)
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
Message-ID: <2014079824.473898.1653064758813@mail.yahoo.com>

Neha,

Others have not reproduced your issue. What you are sharing does not even?slightly resemble your first post as your code does NOT directly have the?"if" statement you asked about. The code you share has no variable called"fraction" visible. From your later messages, it sounds like your real?error message comes from within the hidden recesses of the plot()?command. So it may internally be doing things that end up generating an?NA or other anomalies.

Just as feedback, the code you shared does not seem complete.? You?clearly have some packages loaded you do not mention so they need to?be specified in order for readARFF() to be called and of course we need a?data file. More is missing.?

Skipping forward, you did supply a way to reconstitute the variable "test" afterwards soit is possible to examine your code somewhat mid-way.

You say this broke:

prot <- ifelse(test$CE == '2', 1, 0)? ? ? /// Error comes here


Well, in R "///" does not make a comment. You use a "#" and when you do that line runs and?makes a vector with 68 instances of 0 and 78 instances of 1. This corresponds fine with the?contents of test$CE

But not having explicit? knowledge of what I think are several packages, I see no reason?to continue trying. You are trying to explain but not yet giving the right amount and type? of info.If we need to guess your package is?mlr3extralearners then your importing the library into?your code may work for you but then don't ask others who start a new R session to help.?

As others have mentioned, a good representative example is one where you start a fresh R?session and it runs properly enough to show the error. You may learn that what you sent could?be improved.










-----Original Message-----
From: Neha gupta <neha.bologna90 at gmail.com>
To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Cc: r-help mailing list <r-help at r-project.org>
Sent: Fri, May 20, 2022 4:16 am
Subject: Re: [R] missing values error in if statement

I am sorry.. The code is here and data is provided at the end of this
email.

data = readARFF("aho.arff")

index= sample(1:nrow(data), 0.7*nrow(data))
train= data[index,]
test= data[-index,]

task = TaskClassif$new("data", backend = train, target = "isKilled")
learner= lrn("classif.randomForest", predict_type = "prob")
model= learner$train(task )

///explainer is created to identify a bias in a particular feature i.e. CE
feature in this case

explainer = explain_mlr3(model,
? ? ? ? ? ? ? ? ? ? ? ? data = test[,-15],
? ? ? ? ? ? ? ? ? ? ? ? y = as.numeric(test$isKilled)-1,
? ? ? ? ? ? ? ? ? ? ? ? label="RF")
prot <- ifelse(test$CE == '2', 1, 0)? ? ? /// Error comes here
privileged <- '1'


fc= fairness_check(explainer,
? ? ? ? ? ? ? ? ? ? ? ? ? protected = prot,
? ? ? ? ? ? ? ? ? privileged = privileged)
plot(fc)


////////////////////////////////////////// my data is

dput(test)
structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability = c(0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered = c(0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
"T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
"T13", "T14", "T15"), class = "factor"), methodReturn = structure(c(2L,
2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
"[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
"[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert = c(3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
"no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
465L, 469L, 471L, 472L, 483L), class = "data.frame")

On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Not reproducible. Posted HTML.
>
> On May 19, 2022 2:30:58 PM PDT, Neha gupta <neha.bologna90 at gmail.com>
> wrote:
> >Why do I get the following error when my variable in the 'if statement'
> has
> >no missing values.
> >
> >I check with is.na(my variable) and it has no missing values
> >
> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE needed
> >
> >Best regards
> >
> >? ? ? [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 20 19:37:51 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 20 May 2022 19:37:51 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <4ce894b1-2052-359c-3c58-a4a111c874a1@sapo.pt>
 <CA+nrPnvp3bgnepksD0vcVaCWMdzXi5Okim94kS9jwrb3tXeRpQ@mail.gmail.com>
 <b89f45d3-c551-836a-2822-42946d1560e1@sapo.pt>
Message-ID: <CA+nrPnvzqf5_-vjtX-VDy-D1YCrgJfzortzP2un75GJyCsUyPA@mail.gmail.com>

I am very sorry for not mentioning the libraries I used. Here I have
mentioned now


library(farff)
library(mlr3learners)
library(fairmodels)
library(mlr3extralearners)
library(mlr3)
library(DALEX)
library(DALEXtra)

On Fri, May 20, 2022 at 3:47 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> I'm getting an error when running your code:
>
> learner = lrn("classif.randomForest", predict_type = "prob")
> #> Error: Element with key 'classif.randomForest' not found in
> DictionaryLearner!
>
> Rui Barradas
>
> ?s 14:12 de 20/05/2022, Neha gupta escreveu:
> > When I run
> >
> > print(fc)
> >
> > it shows 'Inf'. It mean it doesn't calculate the bias/fairness, maybe
> > due to missing values.
> >
> > RF passes 1/5 metrics
> > Total loss :  Inf
> >
> >
> >
> > On Fri, May 20, 2022 at 3:06 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     This is a frequent way of coding and a source for questions.
> >
> >
> >     ifelse(test$CE == '2', 1, 0)
> >
> >
> >     is equivalent to the much more performant
> >
> >
> >     as.integer(test$CE == '2')   # or as.numeric
> >
> >
> >     If the code still runs with errors, then those errors came from
> >     elsewhere.
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >
> >     ?s 09:16 de 20/05/2022, Neha gupta escreveu:
> >      > I am sorry.. The code is here and data is provided at the end of
> this
> >      > email.
> >      >
> >      > data = readARFF("aho.arff")
> >      >
> >      > index= sample(1:nrow(data), 0.7*nrow(data))
> >      > train= data[index,]
> >      > test= data[-index,]
> >      >
> >      > task = TaskClassif$new("data", backend = train, target =
> "isKilled")
> >      > learner= lrn("classif.randomForest", predict_type = "prob")
> >      > model= learner$train(task )
> >      >
> >      > ///explainer is created to identify a bias in a particular
> >     feature i.e. CE
> >      > feature in this case
> >      >
> >      > explainer = explain_mlr3(model,
> >      >                           data = test[,-15],
> >      >                           y = as.numeric(test$isKilled)-1,
> >      >                           label="RF")
> >      > prot <- ifelse(test$CE == '2', 1, 0)       /// Error comes here
> >      > privileged <- '1'
> >      >
> >      >
> >      > fc= fairness_check(explainer,
> >      >                            protected = prot,
> >      >                     privileged = privileged)
> >      > plot(fc)
> >      >
> >      >
> >      > ////////////////////////////////////////// my data is
> >      >
> >      > dput(test)
> >      > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,
> >      > 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1,
> >      > 3, 3, 3, 3, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1,
> >      > 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,
> >      > 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5,
> >      > 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
> >      > 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> >      > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3,
> >      > 3, 3, 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> >      > 23, 23, 23, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8,
> >      > 16, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20,
> >      > 20, 20, 20, 20, 20, 7, 7, 7, 7, 18, 18, 18, 18, 18, 18, 15, 15,
> >      > 15, 15, 15, 15, 15, 15, 6, 6, 6, 15, 15, 15, 15, 15, 15, 9, 9,
> >      > 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4, 4, 5, 8, 8, 3, 3, 3, 7,
> >      > 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3, 3, 4, 4, 4, 4,
> >      > 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2, 1, 2,
> >      > 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1,
> >      > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CA = c(1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> >      > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> >      > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2), Instability =
> c(0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> >      > 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667, 0.667), numCovered
> >     = c(0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 54, 54,
> >      > 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> >      > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117,
> >      > 51, 66, 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129,
> >      > 0, 0, 6, 6, 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12,
> >      > 12, 12, 18, 12, 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141,
> >      > 141, 45, 141, 18, 39), operator = structure(c(4L, 13L, 13L, 1L,
> >      > 4L, 9L, 12L, 4L, 11L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L,
> >      > 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L, 7L, 8L, 8L, 8L, 8L, 8L, 9L,
> >      > 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 6L, 9L,
> >      > 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L, 1L, 7L, 7L,
> >      > 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L, 8L,
> >      > 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> >      > 8L, 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L,
> >      > 7L, 10L, 6L, 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L,
> >      > 2L, 2L, 2L, 8L, 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L,
> >      > 8L, 8L, 6L, 7L, 8L, 10L, 13L, 13L), .Label = c("T0", "T1", "T2",
> >      > "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12",
> >      > "T13", "T14", "T15"), class = "factor"), methodReturn =
> >     structure(c(2L,
> >      > 2L, 2L, 2L, 2L, 2L, 2L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> >      > 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L,
> >      > 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> >      > 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L, 3L, 1L, 4L,
> >      > 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L, 4L, 4L,
> >      > 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 2L,
> >      > 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> >      > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z",
> >      > "[[S", "[[B", "[[Z"), class = "factor"), numTestsCover = c(16,
> >      > 16, 16, 15, 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15,
> >      > 3, 3, 3, 2, 16, 11, 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16,
> >      > 16, 4, 16, 16, 3, 3, 3, 2, 4, 3, 2, 1, 4, 1, 15, 16, 15, 2, 3,
> >      > 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4,
> >      > 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 4,
> >      > 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2, 7, 0, 0, 0, 15,
> >      > 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4, 3, 4, 16,
> >      > 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55, 55,
> >      > 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
> >      > 9, 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55,
> >      > 13, 55, 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9,
> >      > 9, 9, 9, 9, 9, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> >      > 9, 9, 9, 9, 9, 9, 5, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
> >      > 9, 9, 9, 6, 9, 9, 9, 14, 14, 14, 0, 14, 0, 0, 2, 2, 2, 15, 0,
> >      > 0, 0, 55, 58, 58, 55, 55, 58, 58, 58, 55, 9, 6, 6, 6, 6, 6, 6,
> >      > 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11, 9, 9), classAssert
> >     = c(3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> >      > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10,
> >      > 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3,
> >      > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3,
> >      > 3, 3, 0, 0), isKilled = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L,
> >      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L,
> >      > 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L,
> >      > 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      > 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L,
> >      > 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> >      > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L,
> >      > 17L, 20L, 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L,
> >      > 64L, 65L, 70L, 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L,
> >      > 99L, 101L, 102L, 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L,
> >      > 129L, 134L, 141L, 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L,
> >      > 179L, 182L, 184L, 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L,
> >      > 205L, 209L, 211L, 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L,
> >      > 233L, 243L, 244L, 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L,
> >      > 270L, 273L, 274L, 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L,
> >      > 301L, 306L, 314L, 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L,
> >      > 346L, 347L, 348L, 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L,
> >      > 404L, 408L, 409L, 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L,
> >      > 440L, 441L, 447L, 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L,
> >      > 465L, 469L, 471L, 472L, 483L), class = "data.frame")
> >      >
> >      > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> >     <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us>>
> >      > wrote:
> >      >
> >      >> Not reproducible. Posted HTML.
> >      >>
> >      >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> >     <neha.bologna90 at gmail.com <mailto:neha.bologna90 at gmail.com>>
> >      >> wrote:
> >      >>> Why do I get the following error when my variable in the 'if
> >     statement'
> >      >> has
> >      >>> no missing values.
> >      >>>
> >      >>> I check with is.na <http://is.na>(my variable) and it has no
> >     missing values
> >      >>>
> >      >>> Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> >     needed
> >      >>>
> >      >>> Best regards
> >      >>>
> >      >>>        [[alternative HTML version deleted]]
> >      >>>
> >      >>> ______________________________________________
> >      >>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
> >     -- To UNSUBSCRIBE and more, see
> >      >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >     <https://stat.ethz.ch/mailman/listinfo/r-help>
> >      >>> PLEASE do read the posting guide
> >      >> http://www.R-project.org/posting-guide.html
> >     <http://www.R-project.org/posting-guide.html>
> >      >>> and provide commented, minimal, self-contained, reproducible
> code.
> >      >>
> >      >> --
> >      >> Sent from my phone. Please excuse my brevity.
> >      >>
> >      >
> >      >       [[alternative HTML version deleted]]
> >      >
> >      > ______________________________________________
> >      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
> >     -- To UNSUBSCRIBE and more, see
> >      > https://stat.ethz.ch/mailman/listinfo/r-help
> >     <https://stat.ethz.ch/mailman/listinfo/r-help>
> >      > PLEASE do read the posting guide
> >     http://www.R-project.org/posting-guide.html
> >     <http://www.R-project.org/posting-guide.html>
> >      > and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Sat May 21 04:54:38 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sat, 21 May 2022 02:54:38 +0000 (UTC)
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
 <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
 <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
Message-ID: <20481953.585845.1653101678901@mail.yahoo.com>

Neha,

This forum tends to be focused on General R help and your initial?question might have qualified.?

As you helped us understand better, it became obvious the proximal source?of your problem was deep in a package that created a special plot driver?called if the argument to the generic plot() function was of class?fairness_object

I have no experience using that package and probably few others?here do either. Your traceback shows an error happening several?functions deeper. Your bug can be in "fc" as a variable before?plotting it or something not anticipated or coded for in the custom plot?function.

Yes, an "if" statement is the proximal point of failure but I suggest?it did exactly what it should do given the arguments. Some people writecode protectively like checking for is.na() before calling anything that might?break badly or surrounding an area of code with a try() of some kind to catch and handle errors.

You have used various packages in your code so you need to monitor if any of the?functions you used to change your data introduced an NA. If not, the package maintainer?or some forum that focuses on it may be your best bet.?

Failing that, are there other packages you might use to do your analysis, perhaps?including parts you write for yourself by hand?


-----Original Message-----
From: Neha gupta <neha.bologna90 at gmail.com>
To: PIKAL Petr <petr.pikal at precheza.cz>
Cc: r-help mailing list <r-help at r-project.org>
Sent: Fri, May 20, 2022 9:22 am
Subject: Re: [R] missing values error in if statement

What do you mean by "fraction" ?

traceback()
4: readable_number(max_value - min_value, FALSE)
3: get_nice_ticks(lower_bound, upper_bound)
2: plot.fairness_object(fc)
1: plot(fc)

On Fri, May 20, 2022 at 3:18 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hallo
>
> From what you say the error comes from
>
> > fraction <- NA
> > if(fraction <= 1) print(5)
> Error in if (fraction <= 1) print(5) :
>? missing value where TRUE/FALSE needed
> >
> so somewhere fraction is set to NA during your code.
>
> I would consult traceback, you could try debug used functions but maybe you
> should start with explainer, prot and privileged, if they are as expected
> by
> fairness_check
>
> > > fc= fairness_check(explainer,
> > >? ? ? ? ? ? ? ? ? ? ? ? ? protected = prot,
> > >? ? ? ? ? ? ? ? ? ? privileged = privileged)
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
> > Sent: Friday, May 20, 2022 3:03 PM
> > To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> > Cc: r-help mailing list <r-help at r-project.org>
> > Subject: Re: [R] missing values error in if statement
> >
> > Actually I am not very sure where exactly the error raised but when I run
> the
> > plot(fc) , it shows the error.
> >
> > I checked it online and people suggested that it may come with missing
> > values in 'if' or 'while; statements etc.
> >
> > I do not know how your code works and mine not.
> >
> > Best regards
> >
> > On Fri, May 20, 2022 at 10:16 AM Neha gupta
> > <neha.bologna90 at gmail.com>
> > wrote:
> >
> > > I am sorry.. The code is here and data is provided at the end of this
> > > email.
> > >
> > > data = readARFF("aho.arff")
> > >
> > > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,] test=
> > > data[-index,]
> > >
> > > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > > learner= lrn("classif.randomForest", predict_type = "prob") model=
> > > learner$train(task )
> > >
> > > ///explainer is created to identify a bias in a particular feature
> > > i.e. CE feature in this case
> > >
> > > explainer = explain_mlr3(model,
> > >? ? ? ? ? ? ? ? ? ? ? ? ? data = test[,-15],
> > >? ? ? ? ? ? ? ? ? ? ? ? ? y = as.numeric(test$isKilled)-1,
> > >? ? ? ? ? ? ? ? ? ? ? ? ? label="RF")
> > > prot <- ifelse(test$CE == '2', 1, 0)? ? ? /// Error comes here
> > > privileged <- '1'
> > >
> > >
> > > fc= fairness_check(explainer,
> > >? ? ? ? ? ? ? ? ? ? ? ? ? protected = prot,
> > >? ? ? ? ? ? ? ? ? ? privileged = privileged)
> > > plot(fc)
> > >
> > >
> > > ////////////////////////////////////////// my data is
> > >
> > > dput(test)
> > > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass = c(0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
> > > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
> > > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
> > > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
> > > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7, 7,
> > > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6, 6,
> > > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
> > > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3, 3,
> > > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2, 2,
> > > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
> > > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
> > > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
> > > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
> > > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
> > > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
> > > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
> > > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
> > > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
> > > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
> > > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L, 7L,
> > > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
> > > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L, 8L,
> > > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
> > > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L,
> > > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L, 8L,
> > > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L, 6L,
> > > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
> > > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L, 10L,
> > > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6", "T7",
> > > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
> > > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
> > > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
> > > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
> > > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
> > > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16, 11,
> > > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2, 4,
> > > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
> > > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
> > > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
> > > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
> > > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55,
> > > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9, 9,
> > > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
> > > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9, 9,
> > > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
> > > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14, 14,
> > > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58, 58,
> > > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7, 11,
> > > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10,
> > > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0), isKilled
> > > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
> > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
> > > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
> > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
> > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
> > > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label = c("yes",
> > > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L, 20L,
> > > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L, 70L,
> > > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
> > > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
> > > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
> > > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
> > > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
> > > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
> > > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
> > > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
> > > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
> > > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
> > > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
> > > 472L, 483L), class = "data.frame")
> > >
> > > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> > > <jdnewmil at dcn.davis.ca.us>
> > > wrote:
> > >
> > >> Not reproducible. Posted HTML.
> > >>
> > >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> > <neha.bologna90 at gmail.com>
> > >> wrote:
> > >> >Why do I get the following error when my variable in the 'if
> statement'
> > >> has
> > >> >no missing values.
> > >> >
> > >> >I check with is.na(my variable) and it has no missing values
> > >> >
> > >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> > >> >needed
> > >> >
> > >> >Best regards
> > >> >
> > >> >? ? ? [[alternative HTML version deleted]]
> > >> >
> > >> >______________________________________________
> > >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >> >https://stat.ethz.ch/mailman/listinfo/r-help
> > >> >PLEASE do read the posting guide
> > >> http://www.R-project.org/posting-guide.html
> > >> >and provide commented, minimal, self-contained, reproducible code.
> > >>
> > >> --
> > >> Sent from my phone. Please excuse my brevity.
> > >>
> > >
> >
> >? ? ? [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Sat May 21 12:36:56 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Sat, 21 May 2022 12:36:56 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <20481953.585845.1653101678901@mail.yahoo.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
 <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
 <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
 <20481953.585845.1653101678901@mail.yahoo.com>
Message-ID: <CA+nrPnsL++ju0Hj-mco3MV-x3y-Y44BFFgLcrTZ-2NpC=TW43w@mail.gmail.com>

Thank you for all of your comments.

I have contacted the package creator and now waiting for his response.

Best regards

On Saturday, May 21, 2022, Avi Gross <avigross at verizon.net> wrote:

> Neha,
>
>
> This forum tends to be focused on General R help and your initial
> question might have qualified.
>
>
> As you helped us understand better, it became obvious the proximal source
> of your problem was deep in a package that created a special plot driver
> called if the argument to the generic plot() function was of class
> fairness_object
>
>
> I have no experience using that package and probably few others
> here do either. Your traceback shows an error happening several
> functions deeper. Your bug can be in "fc" as a variable before
> plotting it or something not anticipated or coded for in the custom plot
> function.
>
>
> Yes, an "if" statement is the proximal point of failure but I suggest
> it did exactly what it should do given the arguments. Some people write
> code protectively like checking for is.na() before calling anything that
> might
> break badly or surrounding an area of code with a try() of some kind to
> catch and handle errors.
>
>
> You have used various packages in your code so you need to monitor if any
> of the
> functions you used to change your data introduced an NA. If not, the
> package maintainer
> or some forum that focuses on it may be your best bet.
>
>
> Failing that, are there other packages you might use to do your analysis,
> perhaps
> including parts you write for yourself by hand?
>
>
>
> -----Original Message-----
> From: Neha gupta <neha.bologna90 at gmail.com>
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Cc: r-help mailing list <r-help at r-project.org>
> Sent: Fri, May 20, 2022 9:22 am
> Subject: Re: [R] missing values error in if statement
>
> What do you mean by "fraction" ?
>
> traceback()
> 4: readable_number(max_value - min_value, FALSE)
> 3: get_nice_ticks(lower_bound, upper_bound)
> 2: plot.fairness_object(fc)
> 1: plot(fc)
>
> On Fri, May 20, 2022 at 3:18 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
> > Hallo
> >
> > From what you say the error comes from
> >
> > > fraction <- NA
> > > if(fraction <= 1) print(5)
> > Error in if (fraction <= 1) print(5) :
> >  missing value where TRUE/FALSE needed
> > >
> > so somewhere fraction is set to NA during your code.
> >
> > I would consult traceback, you could try debug used functions but maybe
> you
> > should start with explainer, prot and privileged, if they are as expected
> > by
> > fairness_check
> >
> > > > fc= fairness_check(explainer,
> > > >                          protected = prot,
> > > >                    privileged = privileged)
> >
> > Cheers
> > Petr
> >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
> > > Sent: Friday, May 20, 2022 3:03 PM
> > > To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> > > Cc: r-help mailing list <r-help at r-project.org>
> > > Subject: Re: [R] missing values error in if statement
> > >
> > > Actually I am not very sure where exactly the error raised but when I
> run
> > the
> > > plot(fc) , it shows the error.
> > >
> > > I checked it online and people suggested that it may come with missing
> > > values in 'if' or 'while; statements etc.
> > >
> > > I do not know how your code works and mine not.
> > >
> > > Best regards
> > >
> > > On Fri, May 20, 2022 at 10:16 AM Neha gupta
> > > <neha.bologna90 at gmail.com>
> > > wrote:
> > >
> > > > I am sorry.. The code is here and data is provided at the end of this
> > > > email.
> > > >
> > > > data = readARFF("aho.arff")
> > > >
> > > > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,] test=
> > > > data[-index,]
> > > >
> > > > task = TaskClassif$new("data", backend = train, target = "isKilled")
> > > > learner= lrn("classif.randomForest", predict_type = "prob") model=
> > > > learner$train(task )
> > > >
> > > > ///explainer is created to identify a bias in a particular feature
> > > > i.e. CE feature in this case
> > > >
> > > > explainer = explain_mlr3(model,
> > > >                          data = test[,-15],
> > > >                          y = as.numeric(test$isKilled)-1,
> > > >                          label="RF")
> > > > prot <- ifelse(test$CE == '2', 1, 0)      /// Error comes here
> > > > privileged <- '1'
> > > >
> > > >
> > > > fc= fairness_check(explainer,
> > > >                          protected = prot,
> > > >                    privileged = privileged)
> > > > plot(fc)
> > > >
> > > >
> > > > ////////////////////////////////////////// my data is
> > > >
> > > > dput(test)
> > > > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass =
> c(0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
> > > > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
> > > > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
> > > > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
> > > > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
> > > > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
> > > > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
> > > > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
> > > > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7, 7,
> > > > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6,
> 6,
> > > > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
> > > > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3,
> 3,
> > > > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2,
> 2,
> > > > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
> > > > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
> > > > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
> > > > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2,
> 2,
> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
> > > > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
> > > > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
> > > > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
> > > > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
> > > > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
> > > > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
> > > > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
> > > > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
> > > > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L,
> 7L,
> > > > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
> > > > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L,
> 8L,
> > > > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
> > > > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L, 8L,
> > > > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
> 8L,
> > > > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L,
> 6L,
> > > > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
> > > > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L, 10L,
> > > > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6", "T7",
> > > > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
> > > > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
> > > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
> > > > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
> > > > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
> > > > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
> > > > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
> > > > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
> > > > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16,
> 11,
> > > > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2,
> 4,
> > > > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
> > > > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
> > > > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
> > > > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
> > > > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert = c(55,
> > > > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9, 9,
> > > > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
> > > > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9, 9,
> > > > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
> > > > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14,
> 14,
> > > > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58,
> 58,
> > > > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7,
> 11,
> > > > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10,
> > > > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
> > > > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0), isKilled
> > > > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
> > > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
> > > > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
> > > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
> > > > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label =
> c("yes",
> > > > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L,
> 20L,
> > > > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L, 70L,
> > > > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
> > > > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
> > > > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
> > > > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
> > > > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
> > > > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
> > > > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
> > > > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
> > > > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
> > > > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
> > > > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
> > > > 472L, 483L), class = "data.frame")
> > > >
> > > > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
> > > > <jdnewmil at dcn.davis.ca.us>
> > > > wrote:
> > > >
> > > >> Not reproducible. Posted HTML.
> > > >>
> > > >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
> > > <neha.bologna90 at gmail.com>
> > > >> wrote:
> > > >> >Why do I get the following error when my variable in the 'if
> > statement'
> > > >> has
> > > >> >no missing values.
> > > >> >
> > > >> >I check with is.na(my variable) and it has no missing values
> > > >> >
> > > >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
> > > >> >needed
> > > >> >
> > > >> >Best regards
> > > >> >
> > > >> >      [[alternative HTML version deleted]]
> > > >> >
> > > >> >______________________________________________
> > > >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > >> >https://stat.ethz.ch/mailman/listinfo/r-help
> > > >> >PLEASE do read the posting guide
> > > >> http://www.R-project.org/posting-guide.html
> <http://www.r-project.org/posting-guide.html>
> > > >> >and provide commented, minimal, self-contained, reproducible code.
> > > >>
> > > >> --
> > > >> Sent from my phone. Please excuse my brevity.
>
> > > >>
> > > >
> > >
> > >      [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide http://www.R-project.org/posting-
> <http://www.r-project.org/posting->
> > > guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html <http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Sat May 21 20:03:56 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Sat, 21 May 2022 20:03:56 +0200
Subject: [R] missing values error in if statement
In-Reply-To: <CA+nrPnsL++ju0Hj-mco3MV-x3y-Y44BFFgLcrTZ-2NpC=TW43w@mail.gmail.com>
References: <CA+nrPntKh_sbwa-ZqsxTG6BTip+Z7W5JV5-tRSB_QwLP_v8-Ew@mail.gmail.com>
 <45338E23-044A-4378-8B81-1939AB58CB10@dcn.davis.ca.us>
 <CA+nrPntWs4AxKJbPpciwsykcfoW3SPJp2-qZ87rO4Q1TkxCWrA@mail.gmail.com>
 <CA+nrPnu4QVV7ie=+eEQQgwmPmF6Wq2BwtkO=RGPkk4_uMUji-A@mail.gmail.com>
 <a9d0bb2df26345a4bf6308843fde610d@SRVEXCHCM1302.precheza.cz>
 <CA+nrPntg5KeC+V5fLZN-w9jG8NuN13BkcTEHrNUqiP47qZksGQ@mail.gmail.com>
 <20481953.585845.1653101678901@mail.yahoo.com>
 <CA+nrPnsL++ju0Hj-mco3MV-x3y-Y44BFFgLcrTZ-2NpC=TW43w@mail.gmail.com>
Message-ID: <CA+nrPnt=GL6hAfbecMHAYqS-cWZgRsTWXxwTYgnLYPsGcd1Tmg@mail.gmail.com>

When I try to replace 'CE' variable with another variable in the dataset,
the error is no longer there.

On Sat, May 21, 2022 at 12:36 PM Neha gupta <neha.bologna90 at gmail.com>
wrote:

> Thank you for all of your comments.
>
> I have contacted the package creator and now waiting for his response.
>
> Best regards
>
> On Saturday, May 21, 2022, Avi Gross <avigross at verizon.net> wrote:
>
>> Neha,
>>
>>
>> This forum tends to be focused on General R help and your initial
>> question might have qualified.
>>
>>
>> As you helped us understand better, it became obvious the proximal source
>> of your problem was deep in a package that created a special plot driver
>> called if the argument to the generic plot() function was of class
>> fairness_object
>>
>>
>> I have no experience using that package and probably few others
>> here do either. Your traceback shows an error happening several
>> functions deeper. Your bug can be in "fc" as a variable before
>> plotting it or something not anticipated or coded for in the custom plot
>> function.
>>
>>
>> Yes, an "if" statement is the proximal point of failure but I suggest
>> it did exactly what it should do given the arguments. Some people write
>> code protectively like checking for is.na() before calling anything that
>> might
>> break badly or surrounding an area of code with a try() of some kind to
>> catch and handle errors.
>>
>>
>> You have used various packages in your code so you need to monitor if any
>> of the
>> functions you used to change your data introduced an NA. If not, the
>> package maintainer
>> or some forum that focuses on it may be your best bet.
>>
>>
>> Failing that, are there other packages you might use to do your analysis,
>> perhaps
>> including parts you write for yourself by hand?
>>
>>
>>
>> -----Original Message-----
>> From: Neha gupta <neha.bologna90 at gmail.com>
>> To: PIKAL Petr <petr.pikal at precheza.cz>
>> Cc: r-help mailing list <r-help at r-project.org>
>> Sent: Fri, May 20, 2022 9:22 am
>> Subject: Re: [R] missing values error in if statement
>>
>> What do you mean by "fraction" ?
>>
>> traceback()
>> 4: readable_number(max_value - min_value, FALSE)
>> 3: get_nice_ticks(lower_bound, upper_bound)
>> 2: plot.fairness_object(fc)
>> 1: plot(fc)
>>
>> On Fri, May 20, 2022 at 3:18 PM PIKAL Petr <petr.pikal at precheza.cz>
>> wrote:
>>
>> > Hallo
>> >
>> > From what you say the error comes from
>> >
>> > > fraction <- NA
>> > > if(fraction <= 1) print(5)
>> > Error in if (fraction <= 1) print(5) :
>> >  missing value where TRUE/FALSE needed
>> > >
>> > so somewhere fraction is set to NA during your code.
>> >
>> > I would consult traceback, you could try debug used functions but maybe
>> you
>> > should start with explainer, prot and privileged, if they are as
>> expected
>> > by
>> > fairness_check
>> >
>> > > > fc= fairness_check(explainer,
>> > > >                          protected = prot,
>> > > >                    privileged = privileged)
>> >
>> > Cheers
>> > Petr
>> >
>> > > -----Original Message-----
>> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Neha gupta
>> > > Sent: Friday, May 20, 2022 3:03 PM
>> > > To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>> > > Cc: r-help mailing list <r-help at r-project.org>
>> > > Subject: Re: [R] missing values error in if statement
>> > >
>> > > Actually I am not very sure where exactly the error raised but when I
>> run
>> > the
>> > > plot(fc) , it shows the error.
>> > >
>> > > I checked it online and people suggested that it may come with missing
>> > > values in 'if' or 'while; statements etc.
>> > >
>> > > I do not know how your code works and mine not.
>> > >
>> > > Best regards
>> > >
>> > > On Fri, May 20, 2022 at 10:16 AM Neha gupta
>> > > <neha.bologna90 at gmail.com>
>> > > wrote:
>> > >
>> > > > I am sorry.. The code is here and data is provided at the end of
>> this
>> > > > email.
>> > > >
>> > > > data = readARFF("aho.arff")
>> > > >
>> > > > index= sample(1:nrow(data), 0.7*nrow(data)) train= data[index,]
>> test=
>> > > > data[-index,]
>> > > >
>> > > > task = TaskClassif$new("data", backend = train, target = "isKilled")
>> > > > learner= lrn("classif.randomForest", predict_type = "prob") model=
>> > > > learner$train(task )
>> > > >
>> > > > ///explainer is created to identify a bias in a particular feature
>> > > > i.e. CE feature in this case
>> > > >
>> > > > explainer = explain_mlr3(model,
>> > > >                          data = test[,-15],
>> > > >                          y = as.numeric(test$isKilled)-1,
>> > > >                          label="RF")
>> > > > prot <- ifelse(test$CE == '2', 1, 0)      /// Error comes here
>> > > > privileged <- '1'
>> > > >
>> > > >
>> > > > fc= fairness_check(explainer,
>> > > >                          protected = prot,
>> > > >                    privileged = privileged)
>> > > > plot(fc)
>> > > >
>> > > >
>> > > > ////////////////////////////////////////// my data is
>> > > >
>> > > > dput(test)
>> > > > structure(list(DepthTree = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1), NumSubclass =
>> c(0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 2), McCabe = c(1, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
>> > > > 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 5, 5, 5, 5, 5,
>> > > > 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2,
>> > > > 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 4, 4, 1, 1, 2, 2,
>> > > > 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), LOC = c(3,
>> > > > 3, 4, 10, 10, 10, 10, 4, 5, 22, 22, 22, 22, 22, 22, 22, 22, 3, 3, 3,
>> > > > 3, 8, 8, 4, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
>> > > > 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 16, 16, 16, 16, 16,
>> > > > 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 7,
>> 7,
>> > > > 7, 7, 18, 18, 18, 18, 18, 18, 15, 15, 15, 15, 15, 15, 15, 15, 6, 6,
>> 6,
>> > > > 15, 15, 15, 15, 15, 15, 9, 9, 9, 9, 9, 9, 9, 4, 4, 3, 3, 3, 3, 4, 4,
>> > > > 4, 5, 8, 8, 3, 3, 3, 7, 7, 3, 3, 15, 15, 15, 15, 15, 15, 15, 15, 3,
>> 3,
>> > > > 3, 4, 4, 4, 4, 8, 8, 8, 8, 4, 3), DepthNested = c(1, 1, 1, 2, 2, 2,
>> 2,
>> > > > 1, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2,
>> > > > 2, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1,
>> > > > 1), CA = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> > > > 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
>> > > > 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1), CE = c(2, 2, 2, 2, 2, 2, 2, 2, 2,
>> 2,
>> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
>> > > > 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2),
>> > > > Instability = c(0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667,
>> 0.667,
>> > > > 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.667, 0.667, 0.667,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0.667, 0, 0, 0, 0, 0.667,
>> > > > 0.667), numCovered = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123,
>> > > > 54, 54, 54, 123, 54, 54, 39, 84, 54, 54, 15, 138, 189, 189, 189, 27,
>> > > > 51, 33, 6, 27, 27, 150, 150, 150, 54, 150, 54, 54, 150, 117, 51, 66,
>> > > > 60, 15, 15, 72, 12, 45, 255, 255, 129, 129, 129, 0, 129, 0, 0, 6, 6,
>> > > > 6, 303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 12, 12, 12, 18, 12,
>> > > > 12, 48, 12, 1557, 48, 12, 171, 0, 0, 0, 141, 141, 45, 141, 18, 39),
>> > > > operator = structure(c(4L, 13L, 13L, 1L, 4L, 9L, 12L, 4L, 11L, 4L,
>> 7L,
>> > > > 8L, 8L, 8L, 8L, 8L, 9L, 7L, 8L, 8L, 6L, 7L, 8L, 4L, 1L, 2L, 3L, 4L,
>> > > > 7L, 8L, 8L, 8L, 8L, 8L, 9L, 11L, 12L, 12L, 4L, 6L, 7L, 7L, 7L, 8L,
>> 8L,
>> > > > 8L, 8L, 8L, 6L, 9L, 9L, 4L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 1L, 1L,
>> > > > 1L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 13L, 13L, 7L, 8L, 8L, 9L, 8L, 8L,
>> 8L,
>> > > > 8L, 9L, 10L, 1L, 4L, 4L, 6L, 7L, 8L, 8L, 8L, 9L, 10L, 10L, 7L, 8L,
>> 8L,
>> > > > 10L, 11L, 11L, 7L, 8L, 4L, 8L, 9L, 10L, 10L, 4L, 10L, 7L, 7L, 10L,
>> 6L,
>> > > > 8L, 8L, 10L, 8L, 8L, 10L, 9L, 8L, 10L, 7L, 7L, 13L, 2L, 2L, 2L, 8L,
>> > > > 8L, 8L, 8L, 8L, 11L, 10L, 10L, 13L, 13L, 8L, 8L, 8L, 6L, 7L, 8L,
>> 10L,
>> > > > 13L, 13L), .Label = c("T0", "T1", "T2", "T3", "T4", "T5", "T6",
>> "T7",
>> > > > "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"), class =
>> > > > "factor"), methodReturn = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L,
>> 4L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>> > > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>> > > > 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>> > > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 4L, 4L, 4L,
>> > > > 4L, 4L, 4L, 4L, 4L, 4L, 1L, 1L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 3L, 3L,
>> > > > 3L, 1L, 4L, 4L, 4L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 2L, 2L, 4L, 4L,
>> > > > 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 2L, 2L, 4L, 4L, 4L, 1L, 1L, 1L, 1L,
>> > > > 2L, 2L), .Label = c("I", "V", "Z", "method", "D", "[D", "[[D", "J",
>> > > > "[I", "C", "[J", "[C", "[S", "F", "[F", "[B", "S", "B", "[Z", "[[S",
>> > > > "[[B", "[[Z"), class = "factor"), numTestsCover = c(16, 16, 16, 15,
>> > > > 15, 16, 15, 4, 16, 16, 15, 16, 15, 15, 15, 15, 15, 3, 3, 3, 2, 16,
>> 11,
>> > > > 4, 16, 3, 16, 16, 16, 16, 16, 4, 16, 16, 16, 4, 16, 16, 3, 3, 3, 2,
>> 4,
>> > > > 3, 2, 1, 4, 1, 15, 16, 15, 2, 3, 2, 3, 3, 2, 2, 2, 3, 4, 5, 5, 5, 4,
>> > > > 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 4, 4, 5, 4, 5,
>> > > > 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 4, 4, 4, 6, 6, 6, 0, 6, 0, 0, 2, 2, 2,
>> > > > 7, 0, 0, 0, 15, 16, 16, 16, 15, 17, 17, 17, 15, 5, 4, 4, 4, 3, 4, 4,
>> > > > 3, 4, 16, 16, 4, 17, 0, 0, 0, 5, 5, 3, 5, 2, 3), mutantAssert =
>> c(55,
>> > > > 55, 55, 55, 55, 55, 55, 13, 55, 55, 55, 55, 55, 55, 55, 55, 55, 9,
>> 9,
>> > > > 9, 9, 55, 41, 13, 55, 5, 55, 55, 55, 55, 55, 13, 55, 55, 55, 13, 55,
>> > > > 55, 13, 13, 13, 8, 13, 13, 8, 4, 13, 4, 55, 55, 55, 9, 9, 9, 9, 9,
>> 9,
>> > > > 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5,
>> > > > 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 14,
>> 14,
>> > > > 14, 0, 14, 0, 0, 2, 2, 2, 15, 0, 0, 0, 55, 58, 58, 55, 55, 58, 58,
>> 58,
>> > > > 55, 9, 6, 6, 6, 6, 6, 6, 6, 6, 55, 55, 13, 57, 0, 0, 0, 11, 11, 7,
>> 11,
>> > > > 9, 9), classAssert = c(3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
>> > > > 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10, 10, 10, 10,
>> 10,
>> > > > 10, 10, 10, 10, 10, 10, 10, 10, 10, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
>> > > > 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0),
>> isKilled
>> > > > = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>> 2L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L,
>> > > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
>> > > > 2L, 1L, 2L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L,
>> > > > 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
>> > > > 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L,
>> > > > 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L), .Label =
>> c("yes",
>> > > > "no"), class = "factor")), row.names = c(3L, 4L, 5L, 7L, 9L, 17L,
>> 20L,
>> > > > 21L, 26L, 28L, 32L, 33L, 40L, 43L, 45L, 49L, 54L, 62L, 64L, 65L,
>> 70L,
>> > > > 75L, 77L, 81L, 84L, 86L, 88L, 89L, 93L, 95L, 97L, 99L, 101L, 102L,
>> > > > 106L, 111L, 112L, 113L, 118L, 122L, 125L, 128L, 129L, 134L, 141L,
>> > > > 142L, 143L, 146L, 156L, 168L, 169L, 174L, 178L, 179L, 182L, 184L,
>> > > > 185L, 192L, 193L, 195L, 197L, 198L, 199L, 203L, 205L, 209L, 211L,
>> > > > 215L, 216L, 218L, 220L, 224L, 227L, 228L, 230L, 233L, 243L, 244L,
>> > > > 246L, 247L, 251L, 252L, 259L, 262L, 263L, 265L, 270L, 273L, 274L,
>> > > > 275L, 284L, 285L, 286L, 291L, 296L, 297L, 300L, 301L, 306L, 314L,
>> > > > 316L, 322L, 328L, 331L, 332L, 333L, 336L, 341L, 346L, 347L, 348L,
>> > > > 360L, 363L, 366L, 367L, 383L, 392L, 395L, 398L, 404L, 408L, 409L,
>> > > > 410L, 420L, 421L, 426L, 428L, 434L, 437L, 438L, 440L, 441L, 447L,
>> > > > 449L, 450L, 452L, 454L, 457L, 458L, 459L, 463L, 465L, 469L, 471L,
>> > > > 472L, 483L), class = "data.frame")
>> > > >
>> > > > On Fri, May 20, 2022 at 12:20 AM Jeff Newmiller
>> > > > <jdnewmil at dcn.davis.ca.us>
>> > > > wrote:
>> > > >
>> > > >> Not reproducible. Posted HTML.
>> > > >>
>> > > >> On May 19, 2022 2:30:58 PM PDT, Neha gupta
>> > > <neha.bologna90 at gmail.com>
>> > > >> wrote:
>> > > >> >Why do I get the following error when my variable in the 'if
>> > statement'
>> > > >> has
>> > > >> >no missing values.
>> > > >> >
>> > > >> >I check with is.na(my variable) and it has no missing values
>> > > >> >
>> > > >> >Error in if (fraction <= 1) { : missing value where TRUE/FALSE
>> > > >> >needed
>> > > >> >
>> > > >> >Best regards
>> > > >> >
>> > > >> >      [[alternative HTML version deleted]]
>> > > >> >
>> > > >> >______________________________________________
>> > > >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > > >> >https://stat.ethz.ch/mailman/listinfo/r-help
>> > > >> >PLEASE do read the posting guide
>> > > >> http://www.R-project.org/posting-guide.html
>> <http://www.r-project.org/posting-guide.html>
>> > > >> >and provide commented, minimal, self-contained, reproducible code.
>> > > >>
>> > > >> --
>> > > >> Sent from my phone. Please excuse my brevity.
>>
>> > > >>
>> > > >
>> > >
>> > >      [[alternative HTML version deleted]]
>> > >
>> > > ______________________________________________
>> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > PLEASE do read the posting guide http://www.R-project.org/posting-
>> <http://www.r-project.org/posting->
>> > > guide.html
>> > > and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>>     [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> <http://www.r-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From d|r@zh@ng @end|ng |rom gm@||@com  Thu May 19 20:36:02 2022
From: d|r@zh@ng @end|ng |rom gm@||@com (Xinling Zhang)
Date: Thu, 19 May 2022 11:36:02 -0700
Subject: [R] need R installer(urgent)
Message-ID: <CA+i_x5=Qphfn_b-wuVEBqppLhaikawjPohgf_RjtLZVRFCRwNQ@mail.gmail.com>

Hi R team,

Could you send me one of the R installers? I searched online and couldn't
find any of them.

R-4.1.3-arm64.pkg
R-4.1.2-arm64.pkg
R-4.1.1-arm64.pkg
R-4.1.0-arm64.pkg

Best,

Xinling

	[[alternative HTML version deleted]]


From @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com  Fri May 20 15:19:43 2022
From: @kh||e@h@|ngh@|gkv @end|ng |rom gm@||@com (Akhilesh Singh)
Date: Fri, 20 May 2022 18:49:43 +0530
Subject: [R] Restoration of "rite" package of R as R-script editor or the
 like
Message-ID: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>

Dear Sir,

I am a professor at Indira Gandhi Agricultural University, Raipur,
Chhattisgarh, India. I have been teaching statistics in my department since
1986.

Almost since the last 10 years, I have included R capabilities in doing
practical-classes of various statistics courses in my department. I use the
default R-script editor that comes with RGUI.exe for that purpose. *But,
this text editor is too simple without syntax highlighting etc. And RStudio
is too heavy for the UG/PG level students who are basically from
agriculture stream.*

Meanwhile, I came across a "rite" package which was earlier maintained
by Thomas
J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
not being maintained by anyone.

At present, I am using the "rite" package for students' practical classes.
But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
and some of its features do not work, probably because it is not being
maintained anymore by CRAN.

Therefore, to remove this difficulty, the "rite" package must be maintained.


Sir, "rite" package is a very light weight editor for R codes suitable for
teaching to beginner students, with syntax highlighting facility and with
the facility of generating reports into HTML, markdown etc.

Therefore, I request you ,*one and all who are in control, to kindly make
sure to include the "rite" package into the regular packages with proper
maintenance, which will immensely help the beginner students to learn R*.

Or,

Kindly make sure that the *default R-script-editor gets the syntax
highlighting features and capability of creating basic reports*.

Or,

Kindly make a lighter version of RStudio *for beginner student-level only,
like the "rite" package,*  for executing R-scripts and for generating some
basic reports.

*In fact, the lack of a proper R-script editor is a major handicap among
the beginner students to learn R.*

Therefore, I earnestly request your kind attention to this problem.

Thaing you.


Dr. A.K. Singh
Professor and Ex-Head (Agricultural Statistics)
Department of Agricultural Statistics and Social Science (L)
Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
Chhattisgarh, India
Mobile: +918770625795
Email: akhileshsingh.igkv at gmail.com

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Sun May 22 08:18:09 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 22 May 2022 09:18:09 +0300
Subject: [R] need R installer(urgent)
In-Reply-To: <CA+i_x5=Qphfn_b-wuVEBqppLhaikawjPohgf_RjtLZVRFCRwNQ@mail.gmail.com>
References: <CA+i_x5=Qphfn_b-wuVEBqppLhaikawjPohgf_RjtLZVRFCRwNQ@mail.gmail.com>
Message-ID: <20220522091809.2d79060c@trisector>

On Thu, 19 May 2022 11:36:02 -0700
Xinling Zhang <dir.zhang at gmail.com> wrote:

> Could you send me one of the R installers? I searched online and
> couldn't find any of them.

On any CRAN mirror, when you follow the link to download R for macOS,
there's a subdirectory with the following description:

>> Binaries for macOS 11 or higher (Big Sur) for arm64-based Macs (aka
>> Apple silicon such as the M1 chip)

https://mirrors.ustc.edu.cn/CRAN/bin/macosx/big-sur-arm64/base/

Is this what you're looking for?

-- 
Best regards,
Ivan


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun May 22 08:33:07 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 21 May 2022 23:33:07 -0700
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <E0A5BBFE-0B3F-44AB-B810-F9E38FF858E2@dcn.davis.ca.us>

As respectful as you are trying to be, this isn't normally how open source happens. Open source is a herd of cats, and the more "in charge" some of those cats are, the less interested they tend to become in scratching _your_ itch... they respect doers, not askers.

Open source is developed and maintained by people like you... who need a feature. Such people rarely start out knowing how to do this... it is much more common that they have to learn as they go. But people who did not have that need rarely stick around to maintain a project even if they help out for awhile... so _you_ are likely going to need to do or at the very least help do this since it is so urgent for you.

Note that occasionally a corporate sponsor will donate some money to pay students for awhile... like Google Summer of Code. But the maintenance is still tough afterward... sometimes it takes off, other times not.

FWIW there are way too many independently maintained editors and terminal programs already out there for this to resonate with me. I don't share your interest in such a "minimalist" extension in the slightest... but I am just one mailing-list member.

On May 20, 2022 6:19:43 AM PDT, Akhilesh Singh <akhileshsingh.igkv at gmail.com> wrote:
>Dear Sir,
>
>I am a professor at Indira Gandhi Agricultural University, Raipur,
>Chhattisgarh, India. I have been teaching statistics in my department since
>1986.
>
>Almost since the last 10 years, I have included R capabilities in doing
>practical-classes of various statistics courses in my department. I use the
>default R-script editor that comes with RGUI.exe for that purpose. *But,
>this text editor is too simple without syntax highlighting etc. And RStudio
>is too heavy for the UG/PG level students who are basically from
>agriculture stream.*
>
>Meanwhile, I came across a "rite" package which was earlier maintained
>by Thomas
>J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
>not being maintained by anyone.
>
>At present, I am using the "rite" package for students' practical classes.
>But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
>and some of its features do not work, probably because it is not being
>maintained anymore by CRAN.
>
>Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
>Sir, "rite" package is a very light weight editor for R codes suitable for
>teaching to beginner students, with syntax highlighting facility and with
>the facility of generating reports into HTML, markdown etc.
>
>Therefore, I request you ,*one and all who are in control, to kindly make
>sure to include the "rite" package into the regular packages with proper
>maintenance, which will immensely help the beginner students to learn R*.
>
>Or,
>
>Kindly make sure that the *default R-script-editor gets the syntax
>highlighting features and capability of creating basic reports*.
>
>Or,
>
>Kindly make a lighter version of RStudio *for beginner student-level only,
>like the "rite" package,*  for executing R-scripts and for generating some
>basic reports.
>
>*In fact, the lack of a proper R-script editor is a major handicap among
>the beginner students to learn R.*
>
>Therefore, I earnestly request your kind attention to this problem.
>
>Thaing you.
>
>
>Dr. A.K. Singh
>Professor and Ex-Head (Agricultural Statistics)
>Department of Agricultural Statistics and Social Science (L)
>Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
>Chhattisgarh, India
>Mobile: +918770625795
>Email: akhileshsingh.igkv at gmail.com
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kry|ov@r00t @end|ng |rom gm@||@com  Sun May 22 08:35:28 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 22 May 2022 09:35:28 +0300
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <20220522093528.744a853c@trisector>

Dear Dr. A.K. Singh,

The person responsible for the "rite" package is Dr. Thomas J. Leeper,
and he doesn't seem interested in maintaining it further:
https://github.com/leeper/rite

(I do like the idea of a Tcl/Tk text editor with tight R integration,
but maintaining it, like maintaining anything, is a job one needs money
and/or other motivation to perform.)

Have you considered using some other programmer's text editor with R,
like Notepad++? I've heard there's a companion utility that helps
integrate R and Notepad++: https://github.com/halpo/NppToR

-- 
Best regards,
Ivan
(just another list member)


From mcg@rvey@bern@rd @end|ng |rom comc@@t@net  Sun May 22 19:39:54 2022
From: mcg@rvey@bern@rd @end|ng |rom comc@@t@net (Bernard McGarvey)
Date: Sun, 22 May 2022 13:39:54 -0400 (EDT)
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
Message-ID: <1713109156.132888.1653241194396@connect.xfinity.com>

I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.

The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.

Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .

The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:

1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.

2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.

3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.

4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.

5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.

Some other notes:

a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.

What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.

Thanks in advance

Bernard McGarvey, Ph.D.

Technical Advisor
Parenteral Supply Chain LLC

Bernard.First.Principles at gmail.com mailto:Bernard.First.Principles at gmail.com

(317) 627-4025



	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun May 22 19:52:04 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 22 May 2022 10:52:04 -0700
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <1713109156.132888.1653241194396@connect.xfinity.com>
References: <1713109156.132888.1653241194396@connect.xfinity.com>
Message-ID: <CAGxFJbQmFFBT9nq7Che=GSEuXf1JLwRARROMNdPWLedtjpPWTw@mail.gmail.com>

Please read the posting guide(PG) inked below. Your query sounds more like
a project that requires a paid consultant; if so, this is way beyond the
scope of this list as described in the PG. So don't be too surprised if you
don't get a useful response, which this isn't either of course.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, May 22, 2022 at 10:40 AM Bernard McGarvey <
mcgarvey.bernard at comcast.net> wrote:

> I work in aspects of Cold Chain transportation in the pharmaceutical
> industry. These shippers are used to transport temperature sensitive
> products by surrounding the product load box with insulating materials of
> various sorts. The product temperature has lower and upper allowed limits
> so that when the product temperature hits one of these limits, the shipper
> fails and this failure time is teh shipper duration. If the shipper is
> exposed to very low or very high ambient temperatures during a shipment
> then we expect the duration of the shipper to be low.
>
> The particular problem I am currently undertaking is to create a fast way
> to predict the duration of a shipping container when it is exposed to a
> given ambient temperature.
>
> Currently we have the ability to predict such durations using a calibrated
> 3D model (typically a finite element or finite volume transient
> representation of the heat transfer equations). These models can predict
> the temperature of the pharmaceutical product within the shipper over time
> as it is exposed to an external ambient temperature profile. .
>
> The problem with the 3D model is that it takes significant CPU time and
> the software is specialized. What I would like to do is to be able to enter
> the ambient profile into a spreadsheet and then be able to predict the
> expected duration of the shipper using a simple calculation that can be
> implemented in the spreadsheet environment. The idea I had was as follows:
>
> 1. Create a selection of ambient temperature profiles covering a wide
> range of ambient behavior. Ensure the profiles are long enough so that the
> shipper is sure to fail at some time during the ambient profile.
>
> 2. Use the 3D model to predict the shipper duration for the selection of
> ambient temperature profiles in (1). Each ambient temperature will have its
> own duration.
>
> 3. Since only the ambient temperatures up to the duration time are
> relevant, truncate each ambient profile for times greater than the duration.
>
> 4. Step (3) means that the ambient temperature profiles will have
> different lengths corresponding to the different durations.
>
> 5. Use the truncated ambient profiles and their corresponding durations to
> build some type of empirical model relating the duration to the
> corresponding ambient profile.
>
> Some other notes:
>
> a. We know from our understanding of how the shippers are constructed and
> the laws of heat transfer that some sections of the ambient profile will
> have more of an impact on determining the duration that other sections.
> b. Just correlating the duration with the average temperature of the
> profile can predict the duration for that profile to within 10-15%. We are
> looking for the ability to get within 2% of the shipper duration predicted
> by the 3D model.
>
> What I am looking for is suggestions as to how to approach step (5) with
> tools/packages available in R.
>
> Thanks in advance
>
> Bernard McGarvey, Ph.D.
>
> Technical Advisor
> Parenteral Supply Chain LLC
>
> Bernard.First.Principles at gmail.com mailto:
> Bernard.First.Principles at gmail.com
>
> (317) 627-4025
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From mcg@rvey@bern@rd @end|ng |rom comc@@t@net  Sun May 22 21:01:11 2022
From: mcg@rvey@bern@rd @end|ng |rom comc@@t@net (Bernard Comcast)
Date: Sun, 22 May 2022 15:01:11 -0400
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <CAGxFJbQmFFBT9nq7Che=GSEuXf1JLwRARROMNdPWLedtjpPWTw@mail.gmail.com>
References: <CAGxFJbQmFFBT9nq7Che=GSEuXf1JLwRARROMNdPWLedtjpPWTw@mail.gmail.com>
Message-ID: <07EFA795-87CB-461B-A25C-C3D97AF27D57@comcast.net>

Its simply a query to know what tools/packages R has for correlating single values with multivalued vectors. If that is outside the scope of the PG then so be it.

Bernard

Sent from my iPhone so please excuse the spelling!"

> On May 22, 2022, at 1:52 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
> ?
> Please read the posting guide(PG) inked below. Your query sounds more like a project that requires a paid consultant; if so, this is way beyond the scope of this list as described in the PG. So don't be too surprised if you don't get a useful response, which this isn't either of course.
> 
> 
> Bert Gunter
> 
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> 
> 
>> On Sun, May 22, 2022 at 10:40 AM Bernard McGarvey <mcgarvey.bernard at comcast.net> wrote:
>> I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.
>> 
>> The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.
>> 
>> Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .
>> 
>> The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:
>> 
>> 1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.
>> 
>> 2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.
>> 
>> 3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.
>> 
>> 4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.
>> 
>> 5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.
>> 
>> Some other notes:
>> 
>> a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
>> b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.
>> 
>> What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.
>> 
>> Thanks in advance
>> 
>> Bernard McGarvey, Ph.D.
>> 
>> Technical Advisor
>> Parenteral Supply Chain LLC
>> 
>> Bernard.First.Principles at gmail.com mailto:Bernard.First.Principles at gmail.com
>> 
>> (317) 627-4025
>> 
>> 
>> 
>>         [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun May 22 21:31:34 2022
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 22 May 2022 12:31:34 -0700
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <07EFA795-87CB-461B-A25C-C3D97AF27D57@comcast.net>
References: <07EFA795-87CB-461B-A25C-C3D97AF27D57@comcast.net>
Message-ID: <E54B6168-EB27-49DD-906C-816E57F4E643@comcast.net>

There are several CRAN Task Views. Some of them should intersect with your question. I don?t think your description of the problem suggest that multivariate correlation is the best approach.  Some sort of optimization or numerical simulation would seem to be more fruitful.

? 
David 
Sent from my iPhone

> On May 22, 2022, at 12:01 PM, Bernard Comcast <mcgarvey.bernard at comcast.net> wrote:
> 
> ?Its simply a query to know what tools/packages R has for correlating single values with multivalued vectors. If that is outside the scope of the PG then so be it.
> 
> Bernard
> 
> Sent from my iPhone so please excuse the spelling!"
> 
>> On May 22, 2022, at 1:52 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>> 
>> ?
>> Please read the posting guide(PG) inked below. Your query sounds more like a project that requires a paid consultant; if so, this is way beyond the scope of this list as described in the PG. So don't be too surprised if you don't get a useful response, which this isn't either of course.
>> 
>> 
>> Bert Gunter
>> 
>> "The trouble with having an open mind is that people keep coming along and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>> 
>> 
>>>> On Sun, May 22, 2022 at 10:40 AM Bernard McGarvey <mcgarvey.bernard at comcast.net> wrote:
>>> I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.
>>> 
>>> The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.
>>> 
>>> Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .
>>> 
>>> The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:
>>> 
>>> 1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.
>>> 
>>> 2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.
>>> 
>>> 3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.
>>> 
>>> 4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.
>>> 
>>> 5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.
>>> 
>>> Some other notes:
>>> 
>>> a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
>>> b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.
>>> 
>>> What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.
>>> 
>>> Thanks in advance
>>> 
>>> Bernard McGarvey, Ph.D.
>>> 
>>> Technical Advisor
>>> Parenteral Supply Chain LLC
>>> 
>>> Bernard.First.Principles at gmail.com mailto:Bernard.First.Principles at gmail.com
>>> 
>>> (317) 627-4025
>>> 
>>> 
>>> 
>>>        [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Sun May 22 22:09:05 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Sun, 22 May 2022 20:09:05 +0000
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <07EFA795-87CB-461B-A25C-C3D97AF27D57@comcast.net>
References: <CAGxFJbQmFFBT9nq7Che=GSEuXf1JLwRARROMNdPWLedtjpPWTw@mail.gmail.com>
 <07EFA795-87CB-461B-A25C-C3D97AF27D57@comcast.net>
Message-ID: <BN6PR2201MB1553FE90E0CE7EE0EC517F8ACFD59@BN6PR2201MB1553.namprd22.prod.outlook.com>

Would lm, nls, or nlme work for what you need? 
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Bernard Comcast
Sent: Sunday, May 22, 2022 3:01 PM
To: Bert Gunter <bgunter.4567 at gmail.com>
Cc: R-help at r-project.org
Subject: Re: [R] Suggestions as to how to proceed would be appreciated...............

[External Email]

Its simply a query to know what tools/packages R has for correlating single values with multivalued vectors. If that is outside the scope of the PG then so be it.

Bernard

Sent from my iPhone so please excuse the spelling!"

> On May 22, 2022, at 1:52 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> ?
> Please read the posting guide(PG) inked below. Your query sounds more like a project that requires a paid consultant; if so, this is way beyond the scope of this list as described in the PG. So don't be too surprised if you don't get a useful response, which this isn't either of course.
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
>> On Sun, May 22, 2022 at 10:40 AM Bernard McGarvey <mcgarvey.bernard at comcast.net> wrote:
>> I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.
>>
>> The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.
>>
>> Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .
>>
>> The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:
>>
>> 1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.
>>
>> 2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.
>>
>> 3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.
>>
>> 4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.
>>
>> 5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.
>>
>> Some other notes:
>>
>> a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
>> b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.
>>
>> What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.
>>
>> Thanks in advance
>>
>> Bernard McGarvey, Ph.D.
>>
>> Technical Advisor
>> Parenteral Supply Chain LLC
>>
>> Bernard.First.Principles at gmail.com 
>> mailto:Bernard.First.Principles at gmail.com
>>
>> (317) 627-4025
>>
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mai
>> lman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVe
>> AsRzsn7AkP-g&m=Pp0V5t70tdzhilCe5gEo6fR1inb2-RkIPZG4jtPvyUSKaWIjhiPEuI
>> 3ROOS_GDYh&s=O1gCEtqvVraPdsMGEWP_LcLa8IFCzatSw16BRhUsEF8&e=
>> PLEASE do read the posting guide 
>> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.o
>> rg_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kV
>> eAsRzsn7AkP-g&m=Pp0V5t70tdzhilCe5gEo6fR1inb2-RkIPZG4jtPvyUSKaWIjhiPEu
>> I3ROOS_GDYh&s=XggaTfrxoB9UFmUs6lC2e9SOz_QVk29KVRAMmgUT6ng&e=
>> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=Pp0V5t70tdzhilCe5gEo6fR1inb2-RkIPZG4jtPvyUSKaWIjhiPEuI3ROOS_GDYh&s=O1gCEtqvVraPdsMGEWP_LcLa8IFCzatSw16BRhUsEF8&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=Pp0V5t70tdzhilCe5gEo6fR1inb2-RkIPZG4jtPvyUSKaWIjhiPEuI3ROOS_GDYh&s=XggaTfrxoB9UFmUs6lC2e9SOz_QVk29KVRAMmgUT6ng&e=
and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun May 22 22:18:06 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 22 May 2022 21:18:06 +0100
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <f73dabf7-f7b0-631e-2c06-bf152ec01347@sapo.pt>

Hello,

I have never used package rite but if you have years of experience with 
it and it is now without maintainer, why not contact the developer and 
former maintainer and become the next maintainer?

And I disagree with the argument that RGui.exe is too simple therefore 
not suited for beginners. In fact, if it's simple it's easier to learn 
and to not have syntax highlighting forces the beginners to pay more 
attention to what they are doing. At least in my case it did. ANd when I 
look at my first scripts I notice two things, 1) the code is not very 
good but it worked and 2) the code is easy to follow. The latter is the 
point I'm trying to make, I was learning, exercises are not real life 
software, simplicity is natural and a feature, not an incovenience.

Finally, there are many computer languages that are not distributed with 
an editor. R for Windows is. And R users are very lucky to have the R 
Core Team, to which we should be thankfull for developing and 
maintaining the R language itself, make that *extra* effort for us.

Rui Barradas

?s 14:19 de 20/05/2022, Akhilesh Singh escreveu:
> Dear Sir,
> 
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
> 
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
> 
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
> 
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
> 
> Therefore, to remove this difficulty, the "rite" package must be maintained.
> 
> 
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
> 
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
> 
> Or,
> 
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
> 
> Or,
> 
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*  for executing R-scripts and for generating some
> basic reports.
> 
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
> 
> Therefore, I earnestly request your kind attention to this problem.
> 
> Thaing you.
> 
> 
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m@z@t|@nmex|co @end|ng |rom y@hoo@com  Sun May 22 23:24:50 2022
From: m@z@t|@nmex|co @end|ng |rom y@hoo@com (Felipe Carrillo)
Date: Sun, 22 May 2022 21:24:50 +0000 (UTC)
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <f73dabf7-f7b0-631e-2c06-bf152ec01347@sapo.pt>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <f73dabf7-f7b0-631e-2c06-bf152ec01347@sapo.pt>
Message-ID: <549883106.809594.1653254690126@mail.yahoo.com>

Tinn-R is a great editor, I have been using it for years and its maintainer (jcfaria) is very helpful with questions you may have should problems would arise. Check it out here:
https://www.google.com/url?sa=t&source=web&rct=j&url=https://sourceforge.net/projects/tinn-r/&ved=2ahUKEwjM7vK_g_T3AhVYno4IHYuWAicQFnoECAkQAQ&usg=AOvVaw1wL8RujV7FRvIVJAI4xGow


Sent from Yahoo Mail on Android 
 
  On Sun, May 22, 2022 at 1:19 PM, Rui Barradas<ruipbarradas at sapo.pt> wrote:   Hello,

I have never used package rite but if you have years of experience with 
it and it is now without maintainer, why not contact the developer and 
former maintainer and become the next maintainer?

And I disagree with the argument that RGui.exe is too simple therefore 
not suited for beginners. In fact, if it's simple it's easier to learn 
and to not have syntax highlighting forces the beginners to pay more 
attention to what they are doing. At least in my case it did. ANd when I 
look at my first scripts I notice two things, 1) the code is not very 
good but it worked and 2) the code is easy to follow. The latter is the 
point I'm trying to make, I was learning, exercises are not real life 
software, simplicity is natural and a feature, not an incovenience.

Finally, there are many computer languages that are not distributed with 
an editor. R for Windows is. And R users are very lucky to have the R 
Core Team, to which we should be thankfull for developing and 
maintaining the R language itself, make that *extra* effort for us.

Rui Barradas

?s 14:19 de 20/05/2022, Akhilesh Singh escreveu:
> Dear Sir,
> 
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
> 
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
> 
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
> 
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
> 
> Therefore, to remove this difficulty, the "rite" package must be maintained.
> 
> 
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
> 
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
> 
> Or,
> 
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
> 
> Or,
> 
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*? for executing R-scripts and for generating some
> basic reports.
> 
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
> 
> Therefore, I earnestly request your kind attention to this problem.
> 
> Thaing you.
> 
> 
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
  

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Mon May 23 00:44:03 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 23 May 2022 08:44:03 +1000
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <1713109156.132888.1653241194396@connect.xfinity.com>
References: <1713109156.132888.1653241194396@connect.xfinity.com>
Message-ID: <CA+8X3fWBmkiqbz68oF=bajM8VSRhTAj-MwmQnnhcCxBQCi8qRg@mail.gmail.com>

Hi Bernard,
My first guess would be to simulate changes in the internal
temperature of the shipment in manageable time increments, say one
hour. Then estimate the ambient temperature for each time increment
from historical records. This would require a few thousand
calculations for the usual shipment time if I'm correct. In other
words, just successively calculate the internal temperatures until
failure or successful delivery.

Jim

On Mon, May 23, 2022 at 3:40 AM Bernard McGarvey
<mcgarvey.bernard at comcast.net> wrote:
>
> I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.
>
> The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.
>
> Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .
>
> The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:
>
> 1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.
>
> 2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.
>
> 3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.
>
> 4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.
>
> 5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.
>
> Some other notes:
>
> a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
> b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.
>
> What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.
>
> Thanks in advance
>
> Bernard McGarvey, Ph.D.
>
> Technical Advisor
> Parenteral Supply Chain LLC
>
> Bernard.First.Principles at gmail.com mailto:Bernard.First.Principles at gmail.com
>
> (317) 627-4025
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon May 23 01:25:49 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 22 May 2022 16:25:49 -0700
Subject: [R] Suggestions as to how to proceed would be
 appreciated...............
In-Reply-To: <CA+8X3fWBmkiqbz68oF=bajM8VSRhTAj-MwmQnnhcCxBQCi8qRg@mail.gmail.com>
References: <1713109156.132888.1653241194396@connect.xfinity.com>
 <CA+8X3fWBmkiqbz68oF=bajM8VSRhTAj-MwmQnnhcCxBQCi8qRg@mail.gmail.com>
Message-ID: <300786DA-C89A-4C7A-ABEC-20D82DD7B814@dcn.davis.ca.us>

Some thoughts:

1) Actual profiles are only known after the shipment is complete. Thus, the largest source of uncertainty in prediction of shipping duration is likely to be in any prediction made regarding the shape/magnitude of the profile. Your goal of 2% may simply be infeasible.

2) Thermal conduction is fairly accurately modeled as a linear differential equation. As such, exposing your 3d model to a step change profile and fitting an exponential curve is likely to capture a lot of the characteristic behaviour of the shipment. However, time lags between the center and surface of the shipment create an initial transient that can obscure the effective coefficients. 

3) Convection is not so linear as conduction, so if your shipment is in the middle of a larger packing form then the coefficients will be different than if they were at the packing boundary. Also, when at the packing boundary, air velocity can affect the apparent coefficients, whereas if not then wind will not affect results.

On May 22, 2022 3:44:03 PM PDT, Jim Lemon <drjimlemon at gmail.com> wrote:
>Hi Bernard,
>My first guess would be to simulate changes in the internal
>temperature of the shipment in manageable time increments, say one
>hour. Then estimate the ambient temperature for each time increment
>from historical records. This would require a few thousand
>calculations for the usual shipment time if I'm correct. In other
>words, just successively calculate the internal temperatures until
>failure or successful delivery.
>
>Jim
>
>On Mon, May 23, 2022 at 3:40 AM Bernard McGarvey
><mcgarvey.bernard at comcast.net> wrote:
>>
>> I work in aspects of Cold Chain transportation in the pharmaceutical industry. These shippers are used to transport temperature sensitive products by surrounding the product load box with insulating materials of various sorts. The product temperature has lower and upper allowed limits so that when the product temperature hits one of these limits, the shipper fails and this failure time is teh shipper duration. If the shipper is exposed to very low or very high ambient temperatures during a shipment then we expect the duration of the shipper to be low.
>>
>> The particular problem I am currently undertaking is to create a fast way to predict the duration of a shipping container when it is exposed to a given ambient temperature.
>>
>> Currently we have the ability to predict such durations using a calibrated 3D model (typically a finite element or finite volume transient representation of the heat transfer equations). These models can predict the temperature of the pharmaceutical product within the shipper over time as it is exposed to an external ambient temperature profile. .
>>
>> The problem with the 3D model is that it takes significant CPU time and the software is specialized. What I would like to do is to be able to enter the ambient profile into a spreadsheet and then be able to predict the expected duration of the shipper using a simple calculation that can be implemented in the spreadsheet environment. The idea I had was as follows:
>>
>> 1. Create a selection of ambient temperature profiles covering a wide range of ambient behavior. Ensure the profiles are long enough so that the shipper is sure to fail at some time during the ambient profile.
>>
>> 2. Use the 3D model to predict the shipper duration for the selection of ambient temperature profiles in (1). Each ambient temperature will have its own duration.
>>
>> 3. Since only the ambient temperatures up to the duration time are relevant, truncate each ambient profile for times greater than the duration.
>>
>> 4. Step (3) means that the ambient temperature profiles will have different lengths corresponding to the different durations.
>>
>> 5. Use the truncated ambient profiles and their corresponding durations to build some type of empirical model relating the duration to the corresponding ambient profile.
>>
>> Some other notes:
>>
>> a. We know from our understanding of how the shippers are constructed and the laws of heat transfer that some sections of the ambient profile will have more of an impact on determining the duration that other sections.
>> b. Just correlating the duration with the average temperature of the profile can predict the duration for that profile to within 10-15%. We are looking for the ability to get within 2% of the shipper duration predicted by the 3D model.
>>
>> What I am looking for is suggestions as to how to approach step (5) with tools/packages available in R.
>>
>> Thanks in advance
>>
>> Bernard McGarvey, Ph.D.
>>
>> Technical Advisor
>> Parenteral Supply Chain LLC
>>
>> Bernard.First.Principles at gmail.com mailto:Bernard.First.Principles at gmail.com
>>
>> (317) 627-4025
>>
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May 23 09:14:09 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 23 May 2022 07:14:09 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <36303417354840239bf320e91144c46a@SRVEXCHCM1302.precheza.cz>

Hallo.

What about Tinn R
https://tinn-r.org/en/

It has syntax highlighting and you can easily send your whole code or its
part to R from it. 

Cheers
Petr


> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Akhilesh Singh
> Sent: Friday, May 20, 2022 3:20 PM
> To: r-help-owner at r-project.org; r-help mailing list <r-help at r-project.org>
> Subject: [R] Restoration of "rite" package of R as R-script editor or the
like
> 
> Dear Sir,
> 
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department
since
> 1986.
> 
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use
the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
this
> text editor is too simple without syntax highlighting etc. And RStudio is
too
> heavy for the UG/PG level students who are basically from agriculture
> stream.*
> 
> Meanwhile, I came across a "rite" package which was earlier maintained by
> Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into
> archives and not being maintained by anyone.
> 
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
and
> some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
> 
> Therefore, to remove this difficulty, the "rite" package must be
maintained.
> 
> 
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
the
> facility of generating reports into HTML, markdown etc.
> 
> Therefore, I request you ,*one and all who are in control, to kindly make
sure
> to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
> 
> Or,
> 
> Kindly make sure that the *default R-script-editor gets the syntax
highlighting
> features and capability of creating basic reports*.
> 
> Or,
> 
> Kindly make a lighter version of RStudio *for beginner student-level only,
like
> the "rite" package,*  for executing R-scripts and for generating some
basic
> reports.
> 
> *In fact, the lack of a proper R-script editor is a major handicap among
the
> beginner students to learn R.*
> 
> Therefore, I earnestly request your kind attention to this problem.
> 
> Thaing you.
> 
> 
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics) Department of Agricultural
> Statistics and Social Science (L) Indira Gandhi Krishi Vishwavidyalaya,
Raipur-
> 492 012, Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From @|ex@@b@|@z@ @end|ng |rom ppk@e|te@hu  Mon May 23 02:07:58 2022
From: @|ex@@b@|@z@ @end|ng |rom ppk@e|te@hu (=?windows-1250?Q?Alexa_Bal=E1zs_Istv=E1n?=)
Date: Mon, 23 May 2022 00:07:58 +0000
Subject: [R] "Site can't be reached"
Message-ID: <DB8PR09MB4310D72E9BDC106904F7AFAACCD49@DB8PR09MB4310.eurprd09.prod.outlook.com>

Guys,

I'm constantly getting the "This site can?t be reached" / "ERR_CONNECTION_REFUSED" error message instead of the website. My IP is 188.214.11.251

I don't get this message on any other site. Could you help please? I would need to download the latest R version.

Thank you,

Balazs

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May 23 12:47:40 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 23 May 2022 11:47:40 +0100
Subject: [R] "Site can't be reached"
In-Reply-To: <DB8PR09MB4310D72E9BDC106904F7AFAACCD49@DB8PR09MB4310.eurprd09.prod.outlook.com>
References: <DB8PR09MB4310D72E9BDC106904F7AFAACCD49@DB8PR09MB4310.eurprd09.prod.outlook.com>
Message-ID: <5625e196-9454-731e-0d89-0da75ffa1951@sapo.pt>

Hello,

The server at https://cran.r-project.org/ was down but is already up.
In cases like this, try a mirror. In Budapest, Hungary,

https://cran.rapporter.net/

Hope this helps,

Rui Barradas

?s 01:07 de 23/05/2022, Alexa Bal?zs Istv?n escreveu:
> Guys,
> 
> I'm constantly getting the "This site can?t be reached" / "ERR_CONNECTION_REFUSED" error message instead of the website. My IP is 188.214.11.251
> 
> I don't get this message on any other site. Could you help please? I would need to download the latest R version.
> 
> Thank you,
> 
> Balazs
> 
> 	[[alternative HTML version deleted]]
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Mon May 23 13:27:15 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Mon, 23 May 2022 11:27:15 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <36303417354840239bf320e91144c46a@SRVEXCHCM1302.precheza.cz>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <36303417354840239bf320e91144c46a@SRVEXCHCM1302.precheza.cz>
Message-ID: <BN6PR2201MB15533A4E4F3EF302B00309FECFD49@BN6PR2201MB1553.namprd22.prod.outlook.com>

Would you reconsider RStudio? If this is a person's first experience with a computer or cell phone then RStudio is a bit much. Relative to using a browser, MSWord, Excel, or many of the modern video games RStudio is simple. I have seen beginning R courses start at the level of print("Hello World") in RStudio.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of PIKAL Petr
Sent: Monday, May 23, 2022 3:14 AM
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>; r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

Hallo.

What about Tinn R
https://urldefense.proofpoint.com/v2/url?u=https-3A__tinn-2Dr.org_en_&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAsezOdeLgR&s=2UY_KBGDpwluIcSpraHEl1kBES9jOiBRk9R7_8FDfj8&e=

It has syntax highlighting and you can easily send your whole code or its part to R from it.

Cheers
Petr


> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Akhilesh 
> Singh
> Sent: Friday, May 20, 2022 3:20 PM
> To: r-help-owner at r-project.org; r-help mailing list 
> <r-help at r-project.org>
> Subject: [R] Restoration of "rite" package of R as R-script editor or 
> the
like
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur, 
> Chhattisgarh, India. I have been teaching statistics in my department
since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in 
> doing practical-classes of various statistics courses in my 
> department. I use
the
> default R-script editor that comes with RGUI.exe for that purpose. 
> *But,
this
> text editor is too simple without syntax highlighting etc. And RStudio 
> is
too
> heavy for the UG/PG level students who are basically from agriculture
> stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained 
> by Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into 
> archives and not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs 
> unnecessarily,
and
> some of its features do not work, probably because it is not being 
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be
maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable 
> for teaching to beginner students, with syntax highlighting facility 
> and with
the
> facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly 
> make
sure
> to include the "rite" package into the regular packages with proper 
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
highlighting
> features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level 
> only,
like
> the "rite" package,*  for executing R-scripts and for generating some
basic
> reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap 
> among
the
> beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics) Department of 
> Agricultural Statistics and Social Science (L) Indira Gandhi Krishi 
> Vishwavidyalaya,
Raipur-
> 492 012, Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAse
> zOdeLgR&s=PHWFRe2zkqUfCxzHFBsj_cgtliifvk2NvER7KbFnuig&e=
> PLEASE do read the posting guide 
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2D&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-
> g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAsezOdeLgR&s
> =MViP74_UzrLW3Y-aL14PnDHy-ELNxct8VWI5HVu3ZBk&e=
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pro|jcn@@h @end|ng |rom gm@||@com  Mon May 23 15:31:42 2022
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Mon, 23 May 2022 09:31:42 -0400
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <BN6PR2201MB15533A4E4F3EF302B00309FECFD49@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <36303417354840239bf320e91144c46a@SRVEXCHCM1302.precheza.cz>
 <BN6PR2201MB15533A4E4F3EF302B00309FECFD49@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <3b2a114c-ca79-061a-0618-78d7d3d978e2@gmail.com>

I will echo sentiments expressed by some others that open source means
"if you want it badly, then do it". But I'll add that complaining about
the maintainer is often misplaced. Many of us are retired and in
our 70s. Thus there is the natural and significant risk that we can
disappear from the R community, even if we would like to stay and help.
In this case, I suspect it is more that the maintainer has got other
priorities, and, as others have noted, there are many, many tools for
editing in R. I looked at the latest "rite" tarball, and the code is
substantial -- probably not worth the effort. The benefits of Rstudio
do, I feel, outweigh the learning costs, especially in the way Rmarkdown
can be used to generate very clean documents easily. And Rstudio has a
large team to maintain it. I even use Rstudio to write non-R material where
I want quick and tidy output.

Do get involved if you can, and encourage students as well. I have been
mentoring students in India and Indonesia in the last 4 years in the
Google Summer of Code initiative. Contributors (formerly students, but that
is no longer required) get paid by Google, and the level of payment is,
according to those who I mentored, attractive enought. If the "rite"
package has useful features that could be rendered more maintainable,
it could be an excellent candidate for the 2023 competition, and now is
  the time to start planning that so that the proposals and candidates
are strong.

John Nash

>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Akhilesh
>> Singh
>> Sent: Friday, May 20, 2022 3:20 PM
>> To: r-help-owner at r-project.org; r-help mailing list
>> <r-help at r-project.org>
>> Subject: [R] Restoration of "rite" package of R as R-script editor or
>> the
> like
>>
>> Dear Sir,
>>
>> I am a professor at Indira Gandhi Agricultural University, Raipur,
>> Chhattisgarh, India. I have been teaching statistics in my department
> since
>> 1986.
>>
>> Almost since the last 10 years, I have included R capabilities in
>> doing practical-classes of various statistics courses in my
>> department. I use
> the
>> default R-script editor that comes with RGUI.exe for that purpose.
>> *But,
> this
>> text editor is too simple without syntax highlighting etc. And RStudio
>> is
> too
>> heavy for the UG/PG level students who are basically from agriculture
>> stream.*
>>
>> Meanwhile, I came across a "rite" package which was earlier maintained
>> by Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into
>> archives and not being maintained by anyone.
>>
>> At present, I am using the "rite" package for students' practical classes.
>> But, I am facing difficulties using it. Sometimes, it hangs
>> unnecessarily,
> and
>> some of its features do not work, probably because it is not being
>> maintained anymore by CRAN.
>>
>> Therefore, to remove this difficulty, the "rite" package must be
> maintained.
>>
>>
>> Sir, "rite" package is a very light weight editor for R codes suitable
>> for teaching to beginner students, with syntax highlighting facility
>> and with
> the
>> facility of generating reports into HTML, markdown etc.
>>
>> Therefore, I request you ,*one and all who are in control, to kindly
>> make
> sure
>> to include the "rite" package into the regular packages with proper
>> maintenance, which will immensely help the beginner students to learn R*.
>>
>> Or,
>>
>> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting
>> features and capability of creating basic reports*.
>>
>> Or,
>>
>> Kindly make a lighter version of RStudio *for beginner student-level
>> only,
> like
>> the "rite" package,*  for executing R-scripts and for generating some
> basic
>> reports.
>>
>> *In fact, the lack of a proper R-script editor is a major handicap
>> among
> the
>> beginner students to learn R.*
>>
>> Therefore, I earnestly request your kind attention to this problem.
>>
>> Thaing you.
>>
>>
>> Dr. A.K. Singh
>> Professor and Ex-Head (Agricultural Statistics) Department of
>> Agricultural Statistics and Social Science (L) Indira Gandhi Krishi
>> Vishwavidyalaya,
> Raipur-
>> 492 012, Chhattisgarh, India
>> Mobile: +918770625795
>> Email: akhileshsingh.igkv at gmail.com
>>
>>        [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
>> man_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
>> Rzsn7AkP-g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAse
>> zOdeLgR&s=PHWFRe2zkqUfCxzHFBsj_cgtliifvk2NvER7KbFnuig&e=
>> PLEASE do read the posting guide
>> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
>> g_posting-2D&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-
>> g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAsezOdeLgR&s
>> =MViP74_UzrLW3Y-aL14PnDHy-ELNxct8VWI5HVu3ZBk&e=
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Mon May 23 16:00:39 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 23 May 2022 14:00:39 +0000 (UTC)
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <BN6PR2201MB15533A4E4F3EF302B00309FECFD49@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <36303417354840239bf320e91144c46a@SRVEXCHCM1302.precheza.cz>
 <BN6PR2201MB15533A4E4F3EF302B00309FECFD49@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <1520707865.939136.1653314439779@mail.yahoo.com>

This is, as usual, wandering away from the original request.
As I understand it, there was a working product that was free and met needs and the question mainly?was how to encourage getting it maintained and available.
Sometimes the best environment for newcomers is one that helps them and other times one that?does nothing and makes them learn by failing. A starting computer class in which most students?want to learn just enough to be able to do a few things and not become programmers is not the place?to exposes them to a complex GUI with many windows in place that can be replaced by yet more windows?or be resized and so on.?
I began by typing punch cards in high school and not easily seeing what my indentation looked like?or what errors in programming it contained UNTIL I submitted a deck of them with a rubber band and waited?hours or longer to get a fan fold printout. Almost anything, such as using? a linear plain text editor, like ED or later?a full-screen version like vi or variations on emacs was a huge improvement. Many GUI editors now can be?a step up in convenience albeit sometimes less powerful in other ways. Knowing one that is not focused on your?specific programming language can be very useful.
I have used many multi-paned GUI applications besides R-STUDIO and some get quite complex and a wrong click?or menu choice can leave you in uncharted territory you may not have any idea how to get out of.?
Like many good tools, RSTUDIO keeps adding functionality to the point where most people simply ignore?much of it or even have no idea what it is. I know this is not the place to discuss it, but my broader point?is that R itself can be independent from what editors and environments you are using. If your goal is to teach?someone to write a program and run it and evaluate the results and repeat, sort of like running a C program?that is not as interactive as R, then you have lots of choices. If you want a product that lets you create?multiple projects, and work on other file types besides R (including C/C++ and Python and Shell Scripts?and SQL and various markups and so on, fine, use RSTUDIO.?
I will say that for anything beyond an introductory class, such environments can be invaluable and I use them?whenever possible.?
I do note that this professor may be teaching students who may not have the resources to all be running modern?machines with lots of power and memory and speedy internet access. RSTUDIO can take lots of resources they?do not need. But there are lots of choices for a language-aware editor that have been discussed including some?that allow features the professor does not want the students to use but that might have a way to be turned off.
So I ask if they want their students to use R interactively or more like a compiled language? Environments like?RSTUDIO allow inspection of the contents of variables in multiple ways such as the Environment pane or see the?contents of a data.frame as a sort of spreadsheet tab? in the same viewing area they are programming in. They allow?easy access to help or graphics or managing downloads or help create code for importing files and also things?like running jobs in the background and so much more. You can teach a course or two in using it!
So is it for novices trying to just earn a bit about simple programming or something you add if they continue?and take more courses that will benefit from it? I started programming before much existed and kept changing?what kinds of computers and operating systems and all kinds of programs I used BUT that is not what is available today.
Students today expect to start with relatively modern tools and skip learning some of the earlier stages. They expect?to have the software they use to display some intelligence and handle routine things for them such as be aware?of what language they are using and appropriately do things like indentation or briefly show where a matching?parentheses is, or color-code parts. But arguably it is worth having them focus on the language just like learning actual?arithmetic or spelling is probably a good idea even if your device does it easily and usually finds the right spelling ...




-----Original Message-----
From: Ebert,Timothy Aaron <tebert at ufl.edu>
To: PIKAL Petr <petr.pikal at precheza.cz>; Akhilesh Singh <akhileshsingh.igkv at gmail.com>; r-help mailing list <r-help at r-project.org>
Sent: Mon, May 23, 2022 7:27 am
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

Would you reconsider RStudio? If this is a person's first experience with a computer or cell phone then RStudio is a bit much. Relative to using a browser, MSWord, Excel, or many of the modern video games RStudio is simple. I have seen beginning R courses start at the level of print("Hello World") in RStudio.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of PIKAL Petr
Sent: Monday, May 23, 2022 3:14 AM
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>; r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

Hallo.

What about Tinn R
https://urldefense.proofpoint.com/v2/url?u=https-3A__tinn-2Dr.org_en_&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAsezOdeLgR&s=2UY_KBGDpwluIcSpraHEl1kBES9jOiBRk9R7_8FDfj8&e=

It has syntax highlighting and you can easily send your whole code or its part to R from it.

Cheers
Petr


> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Akhilesh 
> Singh
> Sent: Friday, May 20, 2022 3:20 PM
> To: r-help-owner at r-project.org; r-help mailing list 
> <r-help at r-project.org>
> Subject: [R] Restoration of "rite" package of R as R-script editor or 
> the
like
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur, 
> Chhattisgarh, India. I have been teaching statistics in my department
since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in 
> doing practical-classes of various statistics courses in my 
> department. I use
the
> default R-script editor that comes with RGUI.exe for that purpose. 
> *But,
this
> text editor is too simple without syntax highlighting etc. And RStudio 
> is
too
> heavy for the UG/PG level students who are basically from agriculture
> stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained 
> by Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into 
> archives and not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs 
> unnecessarily,
and
> some of its features do not work, probably because it is not being 
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be
maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable 
> for teaching to beginner students, with syntax highlighting facility 
> and with
the
> facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly 
> make
sure
> to include the "rite" package into the regular packages with proper 
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
highlighting
> features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level 
> only,
like
> the "rite" package,*? for executing R-scripts and for generating some
basic
> reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap 
> among
the
> beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics) Department of 
> Agricultural Statistics and Social Science (L) Indira Gandhi Krishi 
> Vishwavidyalaya,
Raipur-
> 492 012, Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>? ? ? [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAse
> zOdeLgR&s=PHWFRe2zkqUfCxzHFBsj_cgtliifvk2NvER7KbFnuig&e=
> PLEASE do read the posting guide 
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2D&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-
> g&m=77JOiaooyKryeIksEwQVRP5LH9Y_sQB2KcKpYzX0bBecHpu80PU7XIAsezOdeLgR&s
> =MViP74_UzrLW3Y-aL14PnDHy-ELNxct8VWI5HVu3ZBk&e=
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From po|c1410 @end|ng |rom gm@||@com  Sun May 22 14:14:21 2022
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Sun, 22 May 2022 13:14:21 +0100
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <E0A5BBFE-0B3F-44AB-B810-F9E38FF858E2@dcn.davis.ca.us>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <E0A5BBFE-0B3F-44AB-B810-F9E38FF858E2@dcn.davis.ca.us>
Message-ID: <CA+etgPmWkJV5RRFDNzVzRWGpJpsPX7ZVVTWvxG+1Mi-CzpNgvA@mail.gmail.com>

As has been said, it's not for R CRAN to fix. This is open source code. If
the package maintainer is no longer keen anyone can fork the code, maintain
it and release it back to Cran and provided it meets their rules it would
be available for all. (If it doesn't you just need to provide the install
instructions from a different source.).... This ability is the beauty of
open source.

However, I'm not sure what "rite" really adds. It's a bit better than base
R and not as good as R Studio. So why not just use R Studio. What is too
much for them? The description for rite, reads pretty much how I tell
people to use R Studio.

On Sun, 22 May 2022, 07:33 Jeff Newmiller, <jdnewmil at dcn.davis.ca.us> wrote:

> As respectful as you are trying to be, this isn't normally how open source
> happens. Open source is a herd of cats, and the more "in charge" some of
> those cats are, the less interested they tend to become in scratching
> _your_ itch... they respect doers, not askers.
>
> Open source is developed and maintained by people like you... who need a
> feature. Such people rarely start out knowing how to do this... it is much
> more common that they have to learn as they go. But people who did not have
> that need rarely stick around to maintain a project even if they help out
> for awhile... so _you_ are likely going to need to do or at the very least
> help do this since it is so urgent for you.
>
> Note that occasionally a corporate sponsor will donate some money to pay
> students for awhile... like Google Summer of Code. But the maintenance is
> still tough afterward... sometimes it takes off, other times not.
>
> FWIW there are way too many independently maintained editors and terminal
> programs already out there for this to resonate with me. I don't share your
> interest in such a "minimalist" extension in the slightest... but I am just
> one mailing-list member.
>
> On May 20, 2022 6:19:43 AM PDT, Akhilesh Singh <
> akhileshsingh.igkv at gmail.com> wrote:
> >Dear Sir,
> >
> >I am a professor at Indira Gandhi Agricultural University, Raipur,
> >Chhattisgarh, India. I have been teaching statistics in my department
> since
> >1986.
> >
> >Almost since the last 10 years, I have included R capabilities in doing
> >practical-classes of various statistics courses in my department. I use
> the
> >default R-script editor that comes with RGUI.exe for that purpose. *But,
> >this text editor is too simple without syntax highlighting etc. And
> RStudio
> >is too heavy for the UG/PG level students who are basically from
> >agriculture stream.*
> >
> >Meanwhile, I came across a "rite" package which was earlier maintained
> >by Thomas
> >J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> >not being maintained by anyone.
> >
> >At present, I am using the "rite" package for students' practical classes.
> >But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> >and some of its features do not work, probably because it is not being
> >maintained anymore by CRAN.
> >
> >Therefore, to remove this difficulty, the "rite" package must be
> maintained.
> >
> >
> >Sir, "rite" package is a very light weight editor for R codes suitable for
> >teaching to beginner students, with syntax highlighting facility and with
> >the facility of generating reports into HTML, markdown etc.
> >
> >Therefore, I request you ,*one and all who are in control, to kindly make
> >sure to include the "rite" package into the regular packages with proper
> >maintenance, which will immensely help the beginner students to learn R*.
> >
> >Or,
> >
> >Kindly make sure that the *default R-script-editor gets the syntax
> >highlighting features and capability of creating basic reports*.
> >
> >Or,
> >
> >Kindly make a lighter version of RStudio *for beginner student-level only,
> >like the "rite" package,*  for executing R-scripts and for generating some
> >basic reports.
> >
> >*In fact, the lack of a proper R-script editor is a major handicap among
> >the beginner students to learn R.*
> >
> >Therefore, I earnestly request your kind attention to this problem.
> >
> >Thaing you.
> >
> >
> >Dr. A.K. Singh
> >Professor and Ex-Head (Agricultural Statistics)
> >Department of Agricultural Statistics and Social Science (L)
> >Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> >Chhattisgarh, India
> >Mobile: +918770625795
> >Email: akhileshsingh.igkv at gmail.com
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May 23 18:37:13 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 23 May 2022 17:37:13 +0100
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <20220522093528.744a853c@trisector>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <20220522093528.744a853c@trisector>
Message-ID: <ff1b8ad3-64b6-0e5d-db2a-ff98b7f7b4f1@sapo.pt>

Hello,

I was also thinking about Notepad++.

And about an editor no one mentinoed, vim. I've learned vi on unix SVR3 
and at least in micros it is all present, you can bet that no matter 
what the OS is there's a version for it. vim is lightweight and has 
syntax highlighting but its aging idiosyncrasies might outweight its 
benefits.

Rui Barradas

?s 07:35 de 22/05/2022, Ivan Krylov escreveu:
> Dear Dr. A.K. Singh,
> 
> The person responsible for the "rite" package is Dr. Thomas J. Leeper,
> and he doesn't seem interested in maintaining it further:
> https://github.com/leeper/rite
> 
> (I do like the idea of a Tcl/Tk text editor with tight R integration,
> but maintaining it, like maintaining anything, is a job one needs money
> and/or other motivation to perform.)
> 
> Have you considered using some other programmer's text editor with R,
> like Notepad++? I've heard there's a companion utility that helps
> integrate R and Notepad++: https://github.com/halpo/NppToR
>


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Mon May 23 19:03:08 2022
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Mon, 23 May 2022 18:03:08 +0100
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <ff1b8ad3-64b6-0e5d-db2a-ff98b7f7b4f1@sapo.pt>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <20220522093528.744a853c@trisector>
 <ff1b8ad3-64b6-0e5d-db2a-ff98b7f7b4f1@sapo.pt>
Message-ID: <81b8c85e-6197-9563-30fb-b6f3cfc94ee0@dewey.myzen.co.uk>

Notepad++ is fine as a light weight editor with syntax highlighting but 
the plug-in for R does not seem to have been updated for years.

Michael

On 23/05/2022 17:37, Rui Barradas wrote:
> Hello,
> 
> I was also thinking about Notepad++.
> 
> And about an editor no one mentinoed, vim. I've learned vi on unix SVR3 
> and at least in micros it is all present, you can bet that no matter 
> what the OS is there's a version for it. vim is lightweight and has 
> syntax highlighting but its aging idiosyncrasies might outweight its 
> benefits.
> 
> Rui Barradas
> 
> ?s 07:35 de 22/05/2022, Ivan Krylov escreveu:
>> Dear Dr. A.K. Singh,
>>
>> The person responsible for the "rite" package is Dr. Thomas J. Leeper,
>> and he doesn't seem interested in maintaining it further:
>> https://github.com/leeper/rite
>>
>> (I do like the idea of a Tcl/Tk text editor with tight R integration,
>> but maintaining it, like maintaining anything, is a job one needs money
>> and/or other motivation to perform.)
>>
>> Have you considered using some other programmer's text editor with R,
>> like Notepad++? I've heard there's a companion utility that helps
>> integrate R and Notepad++: https://github.com/halpo/NppToR
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From jr@| @end|ng |rom po@teo@no  Mon May 23 21:04:41 2022
From: jr@| @end|ng |rom po@teo@no (Rasmus Liland)
Date: Mon, 23 May 2022 19:04:41 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <ff1b8ad3-64b6-0e5d-db2a-ff98b7f7b4f1@sapo.pt>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <20220522093528.744a853c@trisector>
 <ff1b8ad3-64b6-0e5d-db2a-ff98b7f7b4f1@sapo.pt>
Message-ID: <YovayWj7NG3cVEnX@posteo.no>

On 2022-05-23 17:37 +0100, Rui Barradas wrote:
| And about an editor no one mentinoed, 
| vim. 

Hear, hear, +1 for vim ??  I use vim 
in st[1], and run Rscript everytime my 
long script changes using entr[2]

Also, ess I think might be good.[3]

I was able to install rite locally from 
github this way:

	rasmus at twosixty ~ % cd ~/src
	rasmus at twosixty ~/src % git clone https://github.com/leeper/rite
	Cloning into 'rite'...
	remote: Enumerating objects: 1392, done.
	remote: Total 1392 (delta 0), reused 0 (delta 0), pack-reused 1392
	Receiving objects: 100% (1392/1392), 295.63 KiB | 284.00 KiB/s, done.
	Resolving deltas: 100% (720/720), done.
	rasmus at twosixty ~/src % cd rite
	rasmus at twosixty ~/src/rite (git)-[master] % R CMD INSTALL
	Error: ERROR: no packages specified
	1 rasmus at twosixty ~/src/rite (git)-[master] % R CMD INSTALL .
	* installing to library ?/home/rasmus/R/x86_64-pc-linux-gnu-library/4.2?
	* installing *source* package ?rite? ...
	** using staged installation
	** R
	** inst
	** byte-compile and prepare package for lazy loading
	** help
	*** installing help indices
	** building package indices
	** testing if installed package can be loaded from temporary location
	** testing if installed package can be loaded from final location
	** testing if installed package keeps a record of temporary installation path
	* DONE (rite)
	rasmus at twosixty ~ % R
	
	R version 4.2.0 (2022-04-22) -- "Vigorous Calisthenics"
	Copyright (C) 2022 The R Foundation for Statistical Computing
	Platform: x86_64-pc-linux-gnu (64-bit)
	
	R is free software and comes with ABSOLUTELY NO WARRANTY.
	You are welcome to redistribute it under certain conditions.
	Type 'license()' or 'licence()' for distribution details.
	
	  Natural language support but running in an English locale
	
	R is a collaborative project with many contributors.
	Type 'contributors()' for more information and
	'citation()' on how to cite R or R packages in publications.
	
	Type 'demo()' for some demos, 'help()' for on-line help, or
	'help.start()' for an HTML browser interface to help.
	Type 'q()' to quit R.
	
	> rite::rite()
	Error in retrun() : could not find function "retrun"
	Save workspace image? [y/n/c]: n
	rasmus at twosixty ~ %

[1] https://st.suckless.org/
[2] http://eradman.com/entrproject
[3] https://ess.r-project.org/


From d|r@zh@ng @end|ng |rom gm@||@com  Mon May 23 21:06:16 2022
From: d|r@zh@ng @end|ng |rom gm@||@com (Xinling Zhang)
Date: Mon, 23 May 2022 12:06:16 -0700
Subject: [R] need R installer(urgent)
In-Reply-To: <20220522091809.2d79060c@trisector>
References: <CA+i_x5=Qphfn_b-wuVEBqppLhaikawjPohgf_RjtLZVRFCRwNQ@mail.gmail.com>
 <20220522091809.2d79060c@trisector>
Message-ID: <CA+i_x5nc=HzSTZgQunaYpHVhiG6YHtxNKedTnodzGDn_E4++ZA@mail.gmail.com>

Yes, they are. Thank you very much.

Best,
Xinling

On Sat, May 21, 2022 at 11:18 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Thu, 19 May 2022 11:36:02 -0700
> Xinling Zhang <dir.zhang at gmail.com> wrote:
>
> > Could you send me one of the R installers? I searched online and
> > couldn't find any of them.
>
> On any CRAN mirror, when you follow the link to download R for macOS,
> there's a subdirectory with the following description:
>
> >> Binaries for macOS 11 or higher (Big Sur) for arm64-based Macs (aka
> >> Apple silicon such as the M1 chip)
>
> https://mirrors.ustc.edu.cn/CRAN/bin/macosx/big-sur-arm64/base/
>
> Is this what you're looking for?
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From no@p@m @end|ng |rom ||@@e@NA  Tue May 24 11:52:04 2022
From: no@p@m @end|ng |rom ||@@e@NA (Dr Eberhard Lisse)
Date: Tue, 24 May 2022 11:52:04 +0200
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <t6i9s7$ecl$1@ciao.gmane.io>

As other have pointed out, use R-Studio.

Works on Windows, Linux and the Mac and does all you need (and more).

As other have pointed out CRAN does not "maintain" software.

el


On 20/05/2022 15:19, Akhilesh Singh wrote:
[...]
> At present, I am using the "rite" package for students' practical
> classes.  But, I am facing difficulties using it.  Sometimes, it hangs
> unnecessarily, and some of its features do not work, probably because
> it is not being maintained anymore by CRAN.
[...]

-- 
To email me replace 'nospam' with 'el'


From m@ithiii_shiv@ m@iii@g oii y@hoo@com  Tue May 24 16:00:51 2022
From: m@ithiii_shiv@ m@iii@g oii y@hoo@com (m@ithiii_shiv@ m@iii@g oii y@hoo@com)
Date: Tue, 24 May 2022 14:00:51 +0000 (UTC)
Subject: [R] How to improve accuracy of output?
References: <2044473094.1847317.1653400851041.ref@mail.yahoo.com>
Message-ID: <2044473094.1847317.1653400851041@mail.yahoo.com>

Dear Forum
In my code, I am trying to compute Value at risk.
I have an issue as mentioned below:
I have defined?


options(digits = 14)
But my output is something like
>? df$price
[1] 98.7185273? ? ? ? ?103.10265923? ............
However, if use Excel, I get values as
98.718527356108?103.10265923704
and so on.
Is there any way I can improve on R output accuracy.
Problem is If I use?
options(digits = 20)
I still get same prices as when I was using options(digits = 14) and on the other hand?my confidence level value, which should be equal to 0.99, gets distorted to 0.989999999999 impacting? Value at Risk value.
Please guide
Regards
Maithreyi
	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Tue May 24 16:03:32 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Tue, 24 May 2022 10:03:32 -0400
Subject: [R] How to improve accuracy of output?
In-Reply-To: <2044473094.1847317.1653400851041@mail.yahoo.com>
References: <2044473094.1847317.1653400851041.ref@mail.yahoo.com>
 <2044473094.1847317.1653400851041@mail.yahoo.com>
Message-ID: <CAPcHnpSoEfdkfAG3kqR84xabshuZ6jsxJ=vYLEBH0TmYX=j+Pw@mail.gmail.com>

I think you have to use print(df$price, digits = 14)

On Tue, May 24, 2022, 10:01 maithili_shiva--- via R-help <
r-help at r-project.org> wrote:

> Dear Forum
> In my code, I am trying to compute Value at risk.
> I have an issue as mentioned below:
> I have defined
>
>
> options(digits = 14)
> But my output is something like
> >  df$price
> [1] 98.7185273         103.10265923  ............
> However, if use Excel, I get values as
> 98.718527356108 103.10265923704
> and so on.
> Is there any way I can improve on R output accuracy.
> Problem is If I use
> options(digits = 20)
> I still get same prices as when I was using options(digits = 14) and on
> the other hand my confidence level value, which should be equal to 0.99,
> gets distorted to 0.989999999999 impacting  Value at Risk value.
> Please guide
> Regards
> Maithreyi
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From th|erry@onke||nx @end|ng |rom |nbo@be  Tue May 24 16:04:24 2022
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Tue, 24 May 2022 16:04:24 +0200
Subject: [R] How to improve accuracy of output?
In-Reply-To: <2044473094.1847317.1653400851041@mail.yahoo.com>
References: <2044473094.1847317.1653400851041.ref@mail.yahoo.com>
 <2044473094.1847317.1653400851041@mail.yahoo.com>
Message-ID: <CAJuCY5xM=Bf+acfKTxxAb8K3vM4NTPdJBLTq_7CSCW7Qs-rWEg@mail.gmail.com>

Dear Maithreyi,

You need to read FAQ 7.31. 0.99 and 0.9899999999999 are equivalent. And
their difference is most likely not relevant.

Best regards,

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE AND
FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no more
than asking him to perform a post-mortem examination: he may be able to say
what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does not
ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////

<https://www.inbo.be>


Op di 24 mei 2022 om 16:01 schreef maithili_shiva--- via R-help <
r-help at r-project.org>:

> Dear Forum
> In my code, I am trying to compute Value at risk.
> I have an issue as mentioned below:
> I have defined
>
>
> options(digits = 14)
> But my output is something like
> >  df$price
> [1] 98.7185273         103.10265923  ............
> However, if use Excel, I get values as
> 98.718527356108 103.10265923704
> and so on.
> Is there any way I can improve on R output accuracy.
> Problem is If I use
> options(digits = 20)
> I still get same prices as when I was using options(digits = 14) and on
> the other hand my confidence level value, which should be equal to 0.99,
> gets distorted to 0.989999999999 impacting  Value at Risk value.
> Please guide
> Regards
> Maithreyi
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue May 24 18:43:09 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 24 May 2022 17:43:09 +0100
Subject: [R] How to improve accuracy of output?
In-Reply-To: <2044473094.1847317.1653400851041@mail.yahoo.com>
References: <2044473094.1847317.1653400851041.ref@mail.yahoo.com>
 <2044473094.1847317.1653400851041@mail.yahoo.com>
Message-ID: <f9a3facf-6eee-14a1-a8ed-37de6254cd2e@sapo.pt>

Hello,

I cannot reproduce this print behavior, with digits=14, there are 14 
digits printed.


x <- c(98.718527356108, 103.10265923704)
x
#> [1]  98.71853 103.10266

old_dig <- options(digits = 14)
x
#> [1]  98.718527356108 103.102659237040

options(old_dig)


Maybe there's something else going on?

Hope this helps,

Rui Barradas

?s 15:00 de 24/05/2022, maithili_shiva--- via R-help escreveu:
> Dear Forum
> In my code, I am trying to compute Value at risk.
> I have an issue as mentioned below:
> I have defined
> 
> 
> options(digits = 14)
> But my output is something like
>>  ? df$price
> [1] 98.7185273? ? ? ? ?103.10265923? ............
> However, if use Excel, I get values as
> 98.718527356108?103.10265923704
> and so on.
> Is there any way I can improve on R output accuracy.
> Problem is If I use
> options(digits = 20)
> I still get same prices as when I was using options(digits = 14) and on the other hand?my confidence level value, which should be equal to 0.99, gets distorted to 0.989999999999 impacting? Value at Risk value.
> Please guide
> Regards
> Maithreyi
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tom@@@k@||ber@ @end|ng |rom gm@||@com  Tue May 24 23:42:41 2022
From: tom@@@k@||ber@ @end|ng |rom gm@||@com (Tomas Kalibera)
Date: Tue, 24 May 2022 23:42:41 +0200
Subject: [R] about opening R script Chinese annotation garble problem
In-Reply-To: <CAHqSRuRHQ9qgmX1mC7-tEs+FubC0kCragCZW83T4=BKLnUL8fQ@mail.gmail.com>
References: <tencent_82D863BBEAA3B88125F6D1FF41F885529406@qq.com>
 <CAHqSRuQRcG1bs4qh487O3Sfz8gX3gXD7WepGtueKOOaN8hHY0Q@mail.gmail.com>
 <CAHqSRuRHQ9qgmX1mC7-tEs+FubC0kCragCZW83T4=BKLnUL8fQ@mail.gmail.com>
Message-ID: <22a1eee8-a7c0-dbf3-50d8-d331803cc69b@gmail.com>


On 4/25/22 19:52, Bill Dunlap wrote:
> If your file is encoded as UTF-8 (as most stuff on the internet is, there
> will be no null bytes in the file), then R-4.2.0 on a recent enough version
> of Windows can source() it without mentioning the encoding.

And the same applies to scripts used by Rgui via "Open script". For R 
4.2.0 on recent Windows, the script file must be encoded as UTF-8. I've 
tested it on Bill's example expression and it works on my system.

However, please note that running a complete line of the script using 
Ctrl-R doesn't work due to a bug which has been already fixed, but the 
fix will appear in R 4.2.1. In R 4.2.0, you need to select the text 
before pressing Ctrl-R (or copy using Ctrl-C/Ctrl-V) if it contains 
non-ASCII characters.

Tomas


>
> -Bill
>
> On Mon, Apr 25, 2022 at 8:52 AM Bill Dunlap <williamwdunlap at gmail.com>
> wrote:
>
>> The answer depends on the encoding of the file containing the Chinese
>> characters and on the version of R (since you are using Windows).  I copied
>> your subject line into Wordpad and and added some syntax to make a valid R
>> expression
>>    s <- "?? via R-help"
>> I then saved it with the type "Unicode Text Document".  In my version of
>> Wordpad this means UTF-16.  The bytes in the file are
>>    4.2.0> readBin("Chinese-utf-16.txt", what="raw",
>> n=file.size("Chinese-utf-16.txt"))
>>     [1] ff fe 73 00 20 00 3c 00 2d 00 20 00 22 00 38 6c 1b 52
>>    [19] 20 00 76 00 69 00 61 00 20 00 52 00 2d 00 68 00 65 00
>>    [37] 6c 00 70 00 22 00 0d 00 0a 00
>> All the nulls in the file are a hint that this is encoded using UTF-16,
>> not UTF-8.
>>
>> With R-4.2.0 (released a few days ago) I can source the file with
>>    4.2.0> source("Chinese-utf-16.txt", encoding="UTF-16")
>>    4.2.0> s
>>    [1] "?? via R-help"
>>    4.2.0> Encoding(s)
>>    [1] "UTF-8"
>>
>> With R-4.1.2 I get
>>    > source("Chinese-utf-16.txt", encoding="UTF-16")
>>    Error in source("Chinese-utf-16.txt", encoding = "UTF-16") :
>>      Chinese-utf-16.txt:1:6: unexpected INCOMPLETE_STRING
>>    1: s <- "
>>             ^
>>    In addition: Warning message:
>>    In readLines(file, warn = FALSE) :
>>      invalid input found on input connection 'Chinese-utf-16.txt'
>>    > source(file("Chinese-utf-16.txt", encoding="UTF-16"))
>>    > s
>>    [1] "<U+6C38><U+521B> via R-help"
>>    > source(file("Chinese-utf-16.txt", encoding="UTF-16"), encoding="UTF-8")
>>    > s
>>    [1] "?? via R-help"
>>    > Encoding(s)
>>    [1] "UTF-8"
>>    > charToRaw(s)
>>     [1] e6 b0 b8 e5 88 9b 20 76 69 61 20 52 2d 68 65 6c 70
>>
>> R-4.2.0 makes this much easier.
>>
>> -Bill
>>
>> On Mon, Apr 25, 2022 at 1:04 AM ?? via R-help <r-help at r-project.org>
>> wrote:
>>
>>> Garbled characters appear in Chinese annotation when opening program
>>> script using RGui (see attached picture). I use a variety of methods have
>>> not been solved, I hope to help me solve this problem. Thank you.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ggrothend|eck @end|ng |rom gm@||@com  Wed May 25 02:25:59 2022
From: ggrothend|eck @end|ng |rom gm@||@com (Gabor Grothendieck)
Date: Tue, 24 May 2022 20:25:59 -0400
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>

Soren Hojsgaard had also written a tcltk based editor R package and although
it is deprecated too it may be simpler than rite in which case it is
more likely to work.  Contact him (he has other packages on CRAN)
and see if he would send it to you and if it fits your needs.

On Sun, May 22, 2022 at 12:54 AM Akhilesh Singh
<akhileshsingh.igkv at gmail.com> wrote:
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*  for executing R-scripts and for generating some
> basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From @v|gro@@ @end|ng |rom ver|zon@net  Wed May 25 04:25:17 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 25 May 2022 02:25:17 +0000 (UTC)
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
Message-ID: <1781326574.1461462.1653445517927@mail.yahoo.com>

This is changing from a discussion about the rite of passage?for non-programmers using the defunct "rite" editing software by?a software wright who no longer writes, to talking about?finding the right software for the purpose.

Kidding and wordplay aside, both public and private software is?not static and as the years go by, much of it stops working as?you keep upgrading aspects of the environment such as a new faster?CPU and operating systems and so on. Lots of for-sale software simply?stops being supported albeit you can often buy an upgrade.

I used Lotus 123 many ages ago and eventually moved to EXCEL or?Google Sheets or doing similar things using programming languages?or statistical packages and so on. It was discontinued a while ago?and I suspect users eventually had to migrate as older versions?might stop working on newer machines or they might have trouble?loading it on a machine without a CD drive and so on.

There is no reason to expect anyone to keep maintaining a package?especially if they don't have many remaining users. It is perhaps worse?when a language changes drastically. R has changed largely incrementally.?But a language like PYTHON did a major shift between version 2 and?version 3 that required serious effort to make a module work under the?new way and thus many remained behind and so did many users?who relied on them too much.

However, I can relate to the problem of how to teach a course in a way?that gets certain points across without making it a full-time job. It sounds?like the goal here is to take people without major computer experience?who do not particularly wish to be programmers but want to use some?statistical tools available in R. Many may even mainly want to take?sample R programs and lightly edit them to specify their own data file?names and perhaps edit a few column names, and just run the same?analysis.

So teaching them all about the operating system and how to back up?files and connect to some kind of source code control system as?they make changes and organize things in folders and projects, or use?various alternate methods to do things may be overkill. Simple may be?easier and take less class time to deal with and leave time for what is?actually what the class seems to be about. It sounds like applied?statistics, not so much about lots of math and theories. Many computer?languages could be used as well as expensive statistical packages?that likely cost too much.?

I suspect a course like that may want to teach?a fairly limited amount?of R focused on statistical functions and a?few well-chosen packages.

I still think R STUDIO is what I would use but for other reasons.?I feel it is very important in many data analysis situations to be able?to examine the data and make all kinds of tables and graphs whether?using mostly base R graphics or something I find more flexible and?expressive like ggplot. The complex looking RSTUDIO layout?integrates the graphical output into a part of the same interface andlets you go back and forth in a sort of history of the images you have?made. Throw in lots of info (overlaid in the same area) about HELP,as well as a fairly extensive sets of abilities to combine text output?with programs in a way that can be shared, or made into a PDF or?web page or WORD doc and so on, and you can teach the students?only what is needed but have them able to stretch and take advantage?of more. The simpler basic package is FREE and more functionality?that you may not need is available if they end up working in a?place that uses it.

But if all you want sounds like a TEXT EDITOR, there are so many?available including things like notepad (with or without a ++) to editing in?many word processors like WORD and saving it as "text" and making?sure it does the substitutions such as leaving regular unmatched quotes.

Of course if your students are using older machines in 640x400 mode and so on,?RSTUDIO may not be a great choice. Are they??


-----Original Message-----
From: Gabor Grothendieck <ggrothendieck at gmail.com>
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>
Cc: r-help mailing list <r-help at r-project.org>; r-help-owner at r-project.org
Sent: Tue, May 24, 2022 8:25 pm
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

Soren Hojsgaard had also written a tcltk based editor R package and although
it is deprecated too it may be simpler than rite in which case it is
more likely to work.? Contact him (he has other packages on CRAN)
and see if he would send it to you and if it fits your needs.

On Sun, May 22, 2022 at 12:54 AM Akhilesh Singh
<akhileshsingh.igkv at gmail.com> wrote:
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*? for executing R-scripts and for generating some
> basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>? ? ? ? [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed May 25 04:39:19 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Wed, 25 May 2022 02:39:19 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <1781326574.1461462.1653445517927@mail.yahoo.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
Message-ID: <MN2PR03MB51679913E5D760AF7102B206E2D69@MN2PR03MB5167.namprd03.prod.outlook.com>

An interesting thread that perhaps, at this time, needs to be put to bed.
j

________________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Avi Gross via R-help <r-help at r-project.org>
Sent: Tuesday, May 24, 2022 10:25 PM
Cc: r-help at r-project.org
Subject: Re: [R]  Restoration of "rite" package of R as R-script editor or the like

This is changing from a discussion about the rite of passage for non-programmers using the defunct "rite" editing software by a software wright who no longer writes, to talking about finding the right software for the purpose.

Kidding and wordplay aside, both public and private software is not static and as the years go by, much of it stops working as you keep upgrading aspects of the environment such as a new faster CPU and operating systems and so on. Lots of for-sale software simply stops being supported albeit you can often buy an upgrade.

I used Lotus 123 many ages ago and eventually moved to EXCEL or Google Sheets or doing similar things using programming languages or statistical packages and so on. It was discontinued a while ago and I suspect users eventually had to migrate as older versions might stop working on newer machines or they might have trouble loading it on a machine without a CD drive and so on.

There is no reason to expect anyone to keep maintaining a package especially if they don't have many remaining users. It is perhaps worse when a language changes drastically. R has changed largely incrementally. But a language like PYTHON did a major shift between version 2 and version 3 that required serious effort to make a module work under the new way and thus many remained behind and so did many users who relied on them too much.

However, I can relate to the problem of how to teach a course in a way that gets certain points across without making it a full-time job. It sounds like the goal here is to take people without major computer experience who do not particularly wish to be programmers but want to use some statistical tools available in R. Many may even mainly want to take sample R programs and lightly edit them to specify their own data file names and perhaps edit a few column names, and just run the same analysis.

So teaching them all about the operating system and how to back up files and connect to some kind of source code control system as they make changes and organize things in folders and projects, or use various alternate methods to do things may be overkill. Simple may be easier and take less class time to deal with and leave time for what is actually what the class seems to be about. It sounds like applied statistics, not so much about lots of math and theories. Many computer languages could be used as well as expensive statistical packages that likely cost too much.

I suspect a course like that may want to teach a fairly limited amount of R focused on statistical functions and a few well-chosen packages.

I still think R STUDIO is what I would use but for other reasons. I feel it is very important in many data analysis situations to be able to examine the data and make all kinds of tables and graphs whether using mostly base R graphics or something I find more flexible and expressive like ggplot. The complex looking RSTUDIO layout integrates the graphical output into a part of the same interface andlets you go back and forth in a sort of history of the images you have made. Throw in lots of info (overlaid in the same area) about HELP,as well as a fairly extensive sets of abilities to combine text output with programs in a way that can be shared, or made into a PDF or web page or WORD doc and so on, and you can teach the students only what is needed but have them able to stretch and take advantage of more. The simpler basic package is FREE and more functionality that you may not need is available if they end up working in a place that uses it.

But if all you want sounds like a TEXT EDITOR, there are so many available including things like notepad (with or without a ++) to editing in many word processors like WORD and saving it as "text" and making sure it does the substitutions such as leaving regular unmatched quotes.

Of course if your students are using older machines in 640x400 mode and so on, RSTUDIO may not be a great choice. Are they?


-----Original Message-----
From: Gabor Grothendieck <ggrothendieck at gmail.com>
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>
Cc: r-help mailing list <r-help at r-project.org>; r-help-owner at r-project.org
Sent: Tue, May 24, 2022 8:25 pm
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

Soren Hojsgaard had also written a tcltk based editor R package and although
it is deprecated too it may be simpler than rite in which case it is
more likely to work.  Contact him (he has other packages on CRAN)
and see if he would send it to you and if it fits your needs.

On Sun, May 22, 2022 at 12:54 AM Akhilesh Singh
<akhileshsingh.igkv at gmail.com> wrote:
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*  for executing R-scripts and for generating some
> basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>?       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=f%2BXfoK7H7p%2BF8S57n5mxoPEVZsryzoVAIviGNirJ0vw%3D&amp;reserved=0
> PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=zGknrIBomQ8A7CoK6R%2FbdUBmZRTk5BX8KFlUvwQRDro%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.



--
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=f%2BXfoK7H7p%2BF8S57n5mxoPEVZsryzoVAIviGNirJ0vw%3D&amp;reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=zGknrIBomQ8A7CoK6R%2FbdUBmZRTk5BX8KFlUvwQRDro%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=f%2BXfoK7H7p%2BF8S57n5mxoPEVZsryzoVAIviGNirJ0vw%3D&amp;reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7CJSorkin%40som.umaryland.edu%7Cb1b8bc72a8cb4dfb9e9d08da3df5dc28%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637890423448030208%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=zGknrIBomQ8A7CoK6R%2FbdUBmZRTk5BX8KFlUvwQRDro%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Wed May 25 05:31:36 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 25 May 2022 03:31:36 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <1781326574.1461462.1653445517927@mail.yahoo.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
Message-ID: <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>

Maybe we should ask what is the real focus? It is not realistic to take a student from "here is the power cord" to "this is a factor analysis" in one semester. If the goal is to teach statistics starting with "this is a mean" then most of that can be done with pencil and paper (maybe a calculator would be nice). A step up might be to use a spreadsheet like in OpenOffice (a free version of Excel). If the focus is on the goal rather than calculations there are free point-and-click stats packages that are available. I started looking at Past, but got sucked into R. I think there is a wide choice of free statistical software packages.

If the goal is coding, even simple coding, then RStudio may be the best choice despite initial problems. Though Excel has a macro feature where you can code in Excel. A nice thing about Excel is that you can start by "record macro" and go through a process with mouse clicks. Then look at the recorded macro, tweak it a bit and you are done. You can also write the macro from scratch if desired. There are free Basic compilers that would let you start with basic commands and build up. Some have said that you do not really understand a problem unless you have written computer code to solve it. This approach can get you to the point where you need to invert a matrix but I 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Tuesday, May 24, 2022 10:25 PM
Cc: r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

This is changing from a discussion about the rite of passage for non-programmers using the defunct "rite" editing software by a software wright who no longer writes, to talking about finding the right software for the purpose.

Kidding and wordplay aside, both public and private software is not static and as the years go by, much of it stops working as you keep upgrading aspects of the environment such as a new faster CPU and operating systems and so on. Lots of for-sale software simply stops being supported albeit you can often buy an upgrade.

I used Lotus 123 many ages ago and eventually moved to EXCEL or Google Sheets or doing similar things using programming languages or statistical packages and so on. It was discontinued a while ago and I suspect users eventually had to migrate as older versions might stop working on newer machines or they might have trouble loading it on a machine without a CD drive and so on.

There is no reason to expect anyone to keep maintaining a package especially if they don't have many remaining users. It is perhaps worse when a language changes drastically. R has changed largely incrementally. But a language like PYTHON did a major shift between version 2 and version 3 that required serious effort to make a module work under the new way and thus many remained behind and so did many users who relied on them too much.

However, I can relate to the problem of how to teach a course in a way that gets certain points across without making it a full-time job. It sounds like the goal here is to take people without major computer experience who do not particularly wish to be programmers but want to use some statistical tools available in R. Many may even mainly want to take sample R programs and lightly edit them to specify their own data file names and perhaps edit a few column names, and just run the same analysis.

So teaching them all about the operating system and how to back up files and connect to some kind of source code control system as they make changes and organize things in folders and projects, or use various alternate methods to do things may be overkill. Simple may be easier and take less class time to deal with and leave time for what is actually what the class seems to be about. It sounds like applied statistics, not so much about lots of math and theories. Many computer languages could be used as well as expensive statistical packages that likely cost too much.

I suspect a course like that may want to teach a fairly limited amount of R focused on statistical functions and a few well-chosen packages.

I still think R STUDIO is what I would use but for other reasons. I feel it is very important in many data analysis situations to be able to examine the data and make all kinds of tables and graphs whether using mostly base R graphics or something I find more flexible and expressive like ggplot. The complex looking RSTUDIO layout integrates the graphical output into a part of the same interface andlets you go back and forth in a sort of history of the images you have made. Throw in lots of info (overlaid in the same area) about HELP,as well as a fairly extensive sets of abilities to combine text output with programs in a way that can be shared, or made into a PDF or web page or WORD doc and so on, and you can teach the students only what is needed but have them able to stretch and take advantage of more. The simpler basic package is FREE and more functionality that you may not need is available if they end up working in a place that uses it.

But if all you want sounds like a TEXT EDITOR, there are so many available including things like notepad (with or without a ++) to editing in many word processors like WORD and saving it as "text" and making sure it does the substitutions such as leaving regular unmatched quotes.

Of course if your students are using older machines in 640x400 mode and so on, RSTUDIO may not be a great choice. Are they?


-----Original Message-----
From: Gabor Grothendieck <ggrothendieck at gmail.com>
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>
Cc: r-help mailing list <r-help at r-project.org>; r-help-owner at r-project.org
Sent: Tue, May 24, 2022 8:25 pm
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

Soren Hojsgaard had also written a tcltk based editor R package and although it is deprecated too it may be simpler than rite in which case it is more likely to work.  Contact him (he has other packages on CRAN) and see if he would send it to you and if it fits your needs.

On Sun, May 22, 2022 at 12:54 AM Akhilesh Singh <akhileshsingh.igkv at gmail.com> wrote:
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur, 
> Chhattisgarh, India. I have been teaching statistics in my department 
> since 1986.
>
> Almost since the last 10 years, I have included R capabilities in 
> doing practical-classes of various statistics courses in my 
> department. I use the default R-script editor that comes with RGUI.exe 
> for that purpose. *But, this text editor is too simple without syntax 
> highlighting etc. And RStudio is too heavy for the UG/PG level 
> students who are basically from agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained 
> by Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into 
> archives and not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs 
> unnecessarily, and some of its features do not work, probably because 
> it is not being maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable 
> for teaching to beginner students, with syntax highlighting facility 
> and with the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly 
> make sure to include the "rite" package into the regular packages with 
> proper maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax 
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level 
> only, like the "rite" package,*  for executing R-scripts and for 
> generating some basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap 
> among the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics) Department of 
> Agricultural Statistics and Social Science (L) Indira Gandhi Krishi 
> Vishwavidyalaya, Raipur-492 012, Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>?       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_
> htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
> PLEASE do read the posting guide 
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU
> _htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
> and provide commented, minimal, self-contained, reproducible code.



--
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
and provide commented, minimal, self-contained, reproducible code.

From tebert @end|ng |rom u||@edu  Wed May 25 05:41:08 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 25 May 2022 03:41:08 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
Message-ID: <DM5PR2201MB15647690F410D4E4258637A3CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>

... but I suspect they have not had linear algebra. 

Maybe trying to write with rite is not right?

Tim
-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Ebert,Timothy Aaron
Sent: Tuesday, May 24, 2022 11:32 PM
To: Avi Gross <avigross at verizon.net>
Cc: r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

Maybe we should ask what is the real focus? It is not realistic to take a student from "here is the power cord" to "this is a factor analysis" in one semester. If the goal is to teach statistics starting with "this is a mean" then most of that can be done with pencil and paper (maybe a calculator would be nice). A step up might be to use a spreadsheet like in OpenOffice (a free version of Excel). If the focus is on the goal rather than calculations there are free point-and-click stats packages that are available. I started looking at Past, but got sucked into R. I think there is a wide choice of free statistical software packages.

If the goal is coding, even simple coding, then RStudio may be the best choice despite initial problems. Though Excel has a macro feature where you can code in Excel. A nice thing about Excel is that you can start by "record macro" and go through a process with mouse clicks. Then look at the recorded macro, tweak it a bit and you are done. You can also write the macro from scratch if desired. There are free Basic compilers that would let you start with basic commands and build up. Some have said that you do not really understand a problem unless you have written computer code to solve it. This approach can get you to the point where you need to invert a matrix but I

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Tuesday, May 24, 2022 10:25 PM
Cc: r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

This is changing from a discussion about the rite of passage for non-programmers using the defunct "rite" editing software by a software wright who no longer writes, to talking about finding the right software for the purpose.

Kidding and wordplay aside, both public and private software is not static and as the years go by, much of it stops working as you keep upgrading aspects of the environment such as a new faster CPU and operating systems and so on. Lots of for-sale software simply stops being supported albeit you can often buy an upgrade.

I used Lotus 123 many ages ago and eventually moved to EXCEL or Google Sheets or doing similar things using programming languages or statistical packages and so on. It was discontinued a while ago and I suspect users eventually had to migrate as older versions might stop working on newer machines or they might have trouble loading it on a machine without a CD drive and so on.

There is no reason to expect anyone to keep maintaining a package especially if they don't have many remaining users. It is perhaps worse when a language changes drastically. R has changed largely incrementally. But a language like PYTHON did a major shift between version 2 and version 3 that required serious effort to make a module work under the new way and thus many remained behind and so did many users who relied on them too much.

However, I can relate to the problem of how to teach a course in a way that gets certain points across without making it a full-time job. It sounds like the goal here is to take people without major computer experience who do not particularly wish to be programmers but want to use some statistical tools available in R. Many may even mainly want to take sample R programs and lightly edit them to specify their own data file names and perhaps edit a few column names, and just run the same analysis.

So teaching them all about the operating system and how to back up files and connect to some kind of source code control system as they make changes and organize things in folders and projects, or use various alternate methods to do things may be overkill. Simple may be easier and take less class time to deal with and leave time for what is actually what the class seems to be about. It sounds like applied statistics, not so much about lots of math and theories. Many computer languages could be used as well as expensive statistical packages that likely cost too much.

I suspect a course like that may want to teach a fairly limited amount of R focused on statistical functions and a few well-chosen packages.

I still think R STUDIO is what I would use but for other reasons. I feel it is very important in many data analysis situations to be able to examine the data and make all kinds of tables and graphs whether using mostly base R graphics or something I find more flexible and expressive like ggplot. The complex looking RSTUDIO layout integrates the graphical output into a part of the same interface andlets you go back and forth in a sort of history of the images you have made. Throw in lots of info (overlaid in the same area) about HELP,as well as a fairly extensive sets of abilities to combine text output with programs in a way that can be shared, or made into a PDF or web page or WORD doc and so on, and you can teach the students only what is needed but have them able to stretch and take advantage of more. The simpler basic package is FREE and more functionality that you may not need is available if they end up working in a place that uses it.

But if all you want sounds like a TEXT EDITOR, there are so many available including things like notepad (with or without a ++) to editing in many word processors like WORD and saving it as "text" and making sure it does the substitutions such as leaving regular unmatched quotes.

Of course if your students are using older machines in 640x400 mode and so on, RSTUDIO may not be a great choice. Are they?


-----Original Message-----
From: Gabor Grothendieck <ggrothendieck at gmail.com>
To: Akhilesh Singh <akhileshsingh.igkv at gmail.com>
Cc: r-help mailing list <r-help at r-project.org>; r-help-owner at r-project.org
Sent: Tue, May 24, 2022 8:25 pm
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

Soren Hojsgaard had also written a tcltk based editor R package and although it is deprecated too it may be simpler than rite in which case it is more likely to work.  Contact him (he has other packages on CRAN) and see if he would send it to you and if it fits your needs.

On Sun, May 22, 2022 at 12:54 AM Akhilesh Singh <akhileshsingh.igkv at gmail.com> wrote:
>
> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur, 
> Chhattisgarh, India. I have been teaching statistics in my department 
> since 1986.
>
> Almost since the last 10 years, I have included R capabilities in 
> doing practical-classes of various statistics courses in my 
> department. I use the default R-script editor that comes with RGUI.exe 
> for that purpose. *But, this text editor is too simple without syntax 
> highlighting etc. And RStudio is too heavy for the UG/PG level 
> students who are basically from agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained 
> by Thomas J. Leeper <thosjleeper at gmail.com>. Now, it has been put into 
> archives and not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs 
> unnecessarily, and some of its features do not work, probably because 
> it is not being maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable 
> for teaching to beginner students, with syntax highlighting facility 
> and with the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly 
> make sure to include the "rite" package into the regular packages with 
> proper maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax 
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level 
> only, like the "rite" package,*  for executing R-scripts and for 
> generating some basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap 
> among the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics) Department of 
> Agricultural Statistics and Social Science (L) Indira Gandhi Krishi 
> Vishwavidyalaya, Raipur-492 012, Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>?       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_
> htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
> PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU
> _htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
> and provide commented, minimal, self-contained, reproducible code.



--
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=wyvZ31Gn9SCyz3NqarOtzNwnMeNWBiQz0Fraobd9txA&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=QOT_9CbrT4OOQoEb_OqvSfo8AC2hQvvBAO20ajn1xeJnTDRU5ExWXWBU_htHCoke&s=v6t3AVGbsAmNvNWTk_F4oaEREgWFhWRLrBa65qID5Jc&e=
and provide commented, minimal, self-contained, reproducible code.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=6HKpBnfMtpEkfDtOKS9vrF0CQmdMW6IblVxtCjeZOCblTtNdt0j0qV3i6Z1qCk7r&s=B7WyH4RDfEtIk1_Se6sY1ZJ4c6mxn4beZXjlGdEJRFA&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=6HKpBnfMtpEkfDtOKS9vrF0CQmdMW6IblVxtCjeZOCblTtNdt0j0qV3i6Z1qCk7r&s=3wAEzFVp9_WW8bBFXQDNt83TzxYbwZJUb94E9OXcS4c&e=
and provide commented, minimal, self-contained, reproducible code.

From r@oknz @end|ng |rom gm@||@com  Wed May 25 07:04:45 2022
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 25 May 2022 17:04:45 +1200
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
Message-ID: <CABcYAdLdDmsY1adG_tswiVXWRmT-HmGsRNJSd1++bHpquVXpEg@mail.gmail.com>

The original message starts in the middle.
What are the actual *requirements*?
What do the students actually *need*?

I am pretty much a minimalist in such matters.
Edit code in one window using a lightweight editor.
Run an R session in another window, using
source(foo.R) whenever I want to reload foo.R.
The single most important thing I need when doing
this is to *document* what I am writing and how I
meant to use it.  The actual R code doesn't comprise
all that much of the editing task.  (And if I were
doing it *right* it would comprise even less.)

I remember being horrified when I gave some
software engineering students a software reading
exercise about 10 years ago.  "How can you expect
us to read 2 pages of code without syntax colouring?"
"How can we read code if we can't run test cases?"

If your students aren't already caught-up in syntax-
colouring IDEs, this might be an opportunity to NOT
cripple their minds.

So we come to one of the requirement issues:
how *much* R code (and documentation) are your students
expected to write for each assignment?
Are they given a template like
# Library preamble: load required library packages.
# Function preamble: define own functions.
# Data preamble: acquire data.
# Cleaning: select, extract, transform, and correct data.
# Analysis: run analysis.
# Sanity check: look at results to see if they make sense.
# Save: write out results to include in the report.
to start from?

I personally have loathed vi and its successors since
vi first appeared in Edinburgh.  However, it *is*
multiplatform, and it *does* have good support for R,
or so I am told.
https://www.freecodecamp.org/news/turning-vim-into-an-r-ide-cd9602e8c217/

Emacs has had very good support for R for a long time,
and it is multiplatform, and it integrates quite a lot
of useful stuff.  Other programming editors seem to
have useful very high level stuff but to be like typing
through cold porridge when it comes to actual typing.
But tastes differ.

So had you considered "atom"?
http://www.goring.org/resources/atom_and_r.html

There is an interesting comment in that page:
"*If you are still getting started with R, I strongly suggest using RStudio*
."

RStudio exists.  It is actively maintained.
There are textbooks for it.
"Learning RStudio for R Statistical Computing"
"Learn RStudio IDE:
 Quick, Effective, and Productive Data Science"
"Beyond Spreadsheets with R"
"Using R and RStudio for Data Management:
 Statistical Analysis and Graphics"
"Reproducible Research with R and RStudio"
"Getting Started with RStudio"
which are just ones that I happen to have heard of.
rstudio.com has a bunch of webinars
called "RStudio Essentials" at
https://www.rstudio.com/collections/rstudio-essentials/
and of course there are RStudio tutorial videos
on Youtube.

I think it could be argued that it would be unfair
to students NOT to get them started with RStudio.

One of my laptops runs Windows 10, and I have
RStudio on it.  I was in the computer repair shop
with it last week, having stuck my thumb through
the CD drive and snapped off the plastic facing
of the CD tray.  The repairman commented "we can't
get parts for machines like that any more; we had
to send a stack of them to recycling not so long
ago"  If an elderly machine that cost me NZD 150
when I bought it second-hand can run RStudio fine,
are your students really going to have any trouble?



On Sun, 22 May 2022 at 16:54, Akhilesh Singh <akhileshsingh.igkv at gmail.com>
wrote:

> Dear Sir,
>
> I am a professor at Indira Gandhi Agricultural University, Raipur,
> Chhattisgarh, India. I have been teaching statistics in my department since
> 1986.
>
> Almost since the last 10 years, I have included R capabilities in doing
> practical-classes of various statistics courses in my department. I use the
> default R-script editor that comes with RGUI.exe for that purpose. *But,
> this text editor is too simple without syntax highlighting etc. And RStudio
> is too heavy for the UG/PG level students who are basically from
> agriculture stream.*
>
> Meanwhile, I came across a "rite" package which was earlier maintained
> by Thomas
> J. Leeper <thosjleeper at gmail.com>. Now, it has been put into archives and
> not being maintained by anyone.
>
> At present, I am using the "rite" package for students' practical classes.
> But, I am facing difficulties using it. Sometimes, it hangs unnecessarily,
> and some of its features do not work, probably because it is not being
> maintained anymore by CRAN.
>
> Therefore, to remove this difficulty, the "rite" package must be
> maintained.
>
>
> Sir, "rite" package is a very light weight editor for R codes suitable for
> teaching to beginner students, with syntax highlighting facility and with
> the facility of generating reports into HTML, markdown etc.
>
> Therefore, I request you ,*one and all who are in control, to kindly make
> sure to include the "rite" package into the regular packages with proper
> maintenance, which will immensely help the beginner students to learn R*.
>
> Or,
>
> Kindly make sure that the *default R-script-editor gets the syntax
> highlighting features and capability of creating basic reports*.
>
> Or,
>
> Kindly make a lighter version of RStudio *for beginner student-level only,
> like the "rite" package,*  for executing R-scripts and for generating some
> basic reports.
>
> *In fact, the lack of a proper R-script editor is a major handicap among
> the beginner students to learn R.*
>
> Therefore, I earnestly request your kind attention to this problem.
>
> Thaing you.
>
>
> Dr. A.K. Singh
> Professor and Ex-Head (Agricultural Statistics)
> Department of Agricultural Statistics and Social Science (L)
> Indira Gandhi Krishi Vishwavidyalaya, Raipur-492 012,
> Chhattisgarh, India
> Mobile: +918770625795
> Email: akhileshsingh.igkv at gmail.com
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@turner @end|ng |rom @uck|@nd@@c@nz  Thu May 26 00:35:02 2022
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Thu, 26 May 2022 10:35:02 +1200
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
Message-ID: <20220526103502.28a78450@rolf-Latitude-E7470>


On Wed, 25 May 2022 03:31:36 +0000
"Ebert,Timothy Aaron" <tebert at ufl.edu> wrote:

<SNIP>

> .... Though Excel has a macro feature where you can code in Excel ....

<SNIP>

Please see fortunes::fortune(198).

cheers,

Rolf

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From tebert @end|ng |rom u||@edu  Thu May 26 01:52:44 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 25 May 2022 23:52:44 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <20220526103502.28a78450@rolf-Latitude-E7470>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
 <20220526103502.28a78450@rolf-Latitude-E7470>
Message-ID: <BN6PR2201MB15538740588827F6059B8C69CFD69@BN6PR2201MB1553.namprd22.prod.outlook.com>

I agree about not using Excel for statistical analyses in research. I never do. That said, I see many colleagues using Excel and I cannot stop them. They listen politely then move on. With luck, all of the students will love computers, become expert at using them and can graduate out of Excel and into R. However, Excel has other uses and their new found skill in Excel will help them in other tasks. The problem in the original post was about teaching R to a bunch of students some of whom had never seen a computer or smart phone. To get them computer literate, programming,  and statistically savvy in one semester or even two seems a bit much to ask.

Regards,
Tim

-----Original Message-----
From: Rolf Turner <r.turner at auckland.ac.nz> 
Sent: Wednesday, May 25, 2022 6:35 PM
To: Ebert,Timothy Aaron <tebert at ufl.edu>
Cc: Avi Gross <avigross at verizon.net>; r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

On Wed, 25 May 2022 03:31:36 +0000
"Ebert,Timothy Aaron" <tebert at ufl.edu> wrote:

<SNIP>

> .... Though Excel has a macro feature where you can code in Excel ....

<SNIP>

Please see fortunes::fortune(198).

cheers,

Rolf

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From tebert @end|ng |rom u||@edu  Thu May 26 03:01:19 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 26 May 2022 01:01:19 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <20220526103502.28a78450@rolf-Latitude-E7470>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
 <20220526103502.28a78450@rolf-Latitude-E7470>
Message-ID: <BN6PR2201MB1553206E0AD44B7F81DFD60DCFD99@BN6PR2201MB1553.namprd22.prod.outlook.com>

I agree about not using Excel for statistical analyses in research. I never do. That said, I see many colleagues using Excel and I cannot stop them. They listen politely then move on. With luck, all of the students will love computers, become expert at using them and can graduate out of Excel and into R. However, Excel has other uses and their new found skill in Excel will help them in other tasks. The problem in the original post was about teaching R to a bunch of students some of whom had never seen a computer or smart phone. To get them computer literate, programming,  and statistically savvy in one semester or even two seems a bit much to ask. It often takes more than one course to get from "Hello world" to technically competent in one programming language even without a statistics component.

Regards,
Tim

-----Original Message-----
From: Rolf Turner <r.turner at auckland.ac.nz> 
Sent: Wednesday, May 25, 2022 6:35 PM
To: Ebert,Timothy Aaron <tebert at ufl.edu>
Cc: Avi Gross <avigross at verizon.net>; r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

On Wed, 25 May 2022 03:31:36 +0000
"Ebert,Timothy Aaron" <tebert at ufl.edu> wrote:

<SNIP>

> .... Though Excel has a macro feature where you can code in Excel ....

<SNIP>

Please see fortunes::fortune(198).

cheers,

Rolf

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu May 26 08:08:52 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 26 May 2022 07:08:52 +0100
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <20220526103502.28a78450@rolf-Latitude-E7470>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
 <20220526103502.28a78450@rolf-Latitude-E7470>
Message-ID: <29878e80-b3ec-a383-d126-532e718c9234@sapo.pt>

Hello,

But there's also

fortunes::fortune(59)

Rui Barradas

?s 23:35 de 25/05/2022, Rolf Turner escreveu:
> 
> On Wed, 25 May 2022 03:31:36 +0000
> "Ebert,Timothy Aaron" <tebert at ufl.edu> wrote:
> 
> <SNIP>
> 
>> .... Though Excel has a macro feature where you can code in Excel ....
> 
> <SNIP>
> 
> Please see fortunes::fortune(198).
> 
> cheers,
> 
> Rolf
>


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Thu May 26 12:30:12 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Thu, 26 May 2022 12:30:12 +0200
Subject: [R] Error in forest.meta : argument 3 matches multiple formal
 arguments
Message-ID: <CAMk+s2Q312ZO=KLg+_sTg_jPcNqhj6w5hkr5c04s4DTdM=BJ6w@mail.gmail.com>

Hello,
I am using the package meta to plot a forest plot. My data looks like this:

```
X
               Entry Cases Ca_pos Controls Co_pos Method       Tissue
Disease     Virus Set
6  de Villiers, 2007    82     72       82     61    PCR colon/rectum
cancer       TTV   3
7  de Villiers, 2002   162     38        0      0    ISH colon/rectum
cancer       TTV   3
15         Li , 2007    37     35       37     25    ISH colon/rectum
cancer Parvo B19   3
19      Pironi, 2009     8      4        0      0    PCR colon/rectum
cancer Parvo B19   3
```

but I get this error:
```
m10 = metabin(Ca_pos,Cases,Co_pos,Controls,
              sm="OR", method="MH", fixed=FALSE, studlab=Entry,
              data=X)
forest(m10, sortvar = TE, predict = TRUE, print.tau2 = TRUE, allstudies = FALSE,
       layout = "RevMan5")
> Error in forest.meta(m10, sortvar = TE, predict = TRUE, print.tau2 = TRUE,  :
  argument 3 matches multiple formal arguments
```

What am I getting wrong? How can I solve it?

-- 
Best regards,
Luigi


From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 26 12:38:18 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 26 May 2022 13:38:18 +0300
Subject: [R] Error in forest.meta : argument 3 matches multiple formal
 arguments
In-Reply-To: <CAMk+s2Q312ZO=KLg+_sTg_jPcNqhj6w5hkr5c04s4DTdM=BJ6w@mail.gmail.com>
References: <CAMk+s2Q312ZO=KLg+_sTg_jPcNqhj6w5hkr5c04s4DTdM=BJ6w@mail.gmail.com>
Message-ID: <20220526133818.18a60636@arachnoid>

? Thu, 26 May 2022 12:30:12 +0200
Luigi Marongiu <marongiu.luigi at gmail.com> ?????:

> > Error in forest.meta(m10, sortvar = TE, predict = TRUE, print.tau2
> > = TRUE,  :  
>   argument 3 matches multiple formal arguments

Look at help(forest.meta). There are multiple possible parameters that
start with "predict" (prediction, prediction.subgroup), so they both
partially match your "predict" argument (which is the third one in the
call). R doesn't know which one you meant.

-- 
Best regards,
Ivan


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Thu May 26 12:39:42 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Thu, 26 May 2022 12:39:42 +0200
Subject: [R] Error in forest.meta : argument 3 matches multiple formal
 arguments
In-Reply-To: <20220526133818.18a60636@arachnoid>
References: <CAMk+s2Q312ZO=KLg+_sTg_jPcNqhj6w5hkr5c04s4DTdM=BJ6w@mail.gmail.com>
 <20220526133818.18a60636@arachnoid>
Message-ID: <CAMk+s2SXNr34kjr4zigBPvNxPQ=r88ip4n7kPuBePkrDDuit_w@mail.gmail.com>

Thank you

On Thu, May 26, 2022 at 12:38 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> ? Thu, 26 May 2022 12:30:12 +0200
> Luigi Marongiu <marongiu.luigi at gmail.com> ?????:
>
> > > Error in forest.meta(m10, sortvar = TE, predict = TRUE, print.tau2
> > > = TRUE,  :
> >   argument 3 matches multiple formal arguments
>
> Look at help(forest.meta). There are multiple possible parameters that
> start with "predict" (prediction, prediction.subgroup), so they both
> partially match your "predict" argument (which is the third one in the
> call). R doesn't know which one you meant.
>
> --
> Best regards,
> Ivan



-- 
Best regards,
Luigi


From tebert @end|ng |rom u||@edu  Thu May 26 13:31:20 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 26 May 2022 11:31:20 +0000
Subject: [R] 
 Restoration of "rite" package of R as R-script editor or the like
In-Reply-To: <29878e80-b3ec-a383-d126-532e718c9234@sapo.pt>
References: <CACLgfx1xsgAd204sdmQb57y5UfLdTGKkN27Er5o-DX9xT=VBeg@mail.gmail.com>
 <CAP01uRmsuy5kc_Hxa=DKoE7AzdhhAKGY+B6UN6JYZuOvwCYxqg@mail.gmail.com>
 <1781326574.1461462.1653445517927@mail.yahoo.com>
 <DM5PR2201MB156497C23A5ACF727E760847CFD69@DM5PR2201MB1564.namprd22.prod.outlook.com>
 <20220526103502.28a78450@rolf-Latitude-E7470>
 <29878e80-b3ec-a383-d126-532e718c9234@sapo.pt>
Message-ID: <BN6PR2201MB1553BF7F65FE5A4103F95737CFD99@BN6PR2201MB1553.namprd22.prod.outlook.com>

Lmao, so true




-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt> 
Sent: Thursday, May 26, 2022 2:09 AM
To: Rolf Turner <r.turner at auckland.ac.nz>; Ebert,Timothy Aaron <tebert at ufl.edu>
Cc: r-help at r-project.org
Subject: Re: [R] Restoration of "rite" package of R as R-script editor or the like

[External Email]

Hello,

But there's also

fortunes::fortune(59)

Rui Barradas

?s 23:35 de 25/05/2022, Rolf Turner escreveu:
>
> On Wed, 25 May 2022 03:31:36 +0000
> "Ebert,Timothy Aaron" <tebert at ufl.edu> wrote:
>
> <SNIP>
>
>> .... Though Excel has a macro feature where you can code in Excel ....
>
> <SNIP>
>
> Please see fortunes::fortune(198).
>
> cheers,
>
> Rolf
>

From r @end|ng |rom e|onu@@net  Thu May 26 20:54:50 2022
From: r @end|ng |rom e|onu@@net (Andreas Matre)
Date: Thu, 26 May 2022 20:54:50 +0200
Subject: [R] Use of ellipsis
Message-ID: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>

Hello,
I am trying to figure out the proper way to use ellipsis to pass 
arguments to child functions. I'm trying to create a wrapper function 
around stats::lm and lme4::lmer such that if the formula passed to the 
wrapper function contains a random effect it will fit a lme4::lmer model 
and if not it will fit a stats::lm object. I want the function to alway 
want a formula and data argument and then use the ellipsis argument to 
pass additional arguments to either lme4::lmer or stats::lm. The problem 
is that when I pass additional arguments through the ellipsis argument I 
get the error
"Error in eval(extras, data, env) :
   ..1 used in an incorrect context, no ... to look in".

A simplified version of my attempt with a reproducible example is here:

fit_model <- function(formula, data, ...) {
   lm(formula, data, ...)
}
# Create test data
data <- data.frame(x1 = rnorm(100), x2 = rnorm(100))
data$y <- data$x1 + data$x2 + rnorm(100)

fit_model(y ~ x1 + x2, data = data) # This works
fit_model(y ~ x1 + x2, data = data, weights = rep(1, 100)) # This does 
not work

Any hints as to why this error occurs would be appreciated. I found [1], 
but I don't think that's relevant, since as far as I can tell, there 
should be no non-standard evaluation here.

[1] https://stat.ethz.ch/pipermail/r-help/2010-February/228881.html

Andreas Matre


From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 26 21:57:23 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 26 May 2022 22:57:23 +0300
Subject: [R] Use of ellipsis
In-Reply-To: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
Message-ID: <20220526225723.4f2f8708@Tarkus>

On Thu, 26 May 2022 20:54:50 +0200
Andreas Matre <r at elonus.net> wrote:

> fit_model <- function(formula, data, ...) {
>    lm(formula, data, ...)
> }

> fit_model(y ~ x1 + x2, data = data, weights = rep(1, 100)) # This
> does not work

When I run traceback(), I see an eval() there: lm() captures its own
call, replaces lm with stats::model.frame and evaluates that call in
the parent frame. I don't have a good explanation why it's the ellipsis
that fails here, but adding more non-standard evaluation seems to fix
the problem:

fit_model2 <- function(formula, data, ...)
 eval(substitute(lm(formula, data, ...)), parent.frame())

fit_model2(y ~ x1 + x2, data = data, weights = rep(1, 100))

I think this works because substitute() expands the ellipsis into its
return value.

-- 
Best regards,
Ivan


From bgunter@4567 @end|ng |rom gm@||@com  Thu May 26 22:00:30 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 26 May 2022 13:00:30 -0700
Subject: [R] Use of ellipsis
In-Reply-To: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
Message-ID: <CAGxFJbSLXNLJk=UC5vrC0Kk1mP+HNBLorZV=UwU4D1aLt2X=DA@mail.gmail.com>

Inline below.
Bert Gunter

...
"
> Any hints as to why this error occurs would be appreciated. I found [1],
> but I don't think that's relevant, since as far as I can tell, there
> should be no non-standard evaluation here.
>
> [1] https://stat.ethz.ch/pipermail/r-help/2010-February/228881.html
"


You are mistaken. Evaluation of any of the arguments in `data` **is**
exactly what is meant by nse.
?lm explicitly says:
"All of weights, subset and offset are evaluated in the same way as
variables in formula, that is first in data and then in the
environment of formula."

The following is one simple, but somewhat sloppy, way to handle it
(insufficient argument checking):
fit_model2 <- function(formula, data,...){
   arglist <- c(list(formula = formula, data = data),list(...))
   do.call(lm, arglist)
}
fit_model2(y ~ x1 + x2, data = data, weights = rep(1, 100))     ## works



>
>
>
> Andreas Matre
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Fri May 27 00:51:38 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 26 May 2022 15:51:38 -0700
Subject: [R] Use of ellipsis
In-Reply-To: <20220526225723.4f2f8708@Tarkus>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
Message-ID: <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>

Slight addendum. I would appreciate correction if anything I say is wrong.

"I think this works because substitute() expands the ellipsis into its
return value."

That seems to be correct. ?substitute explicitly states:
"Substitution takes place by examining each component of the parse
tree as follows: If it is not a bound symbol in env, it is unchanged.
***If it is a promise object, i.e., a formal argument to a function or
explicitly created using delayedAssign(), the expression slot of the
promise replaces the symbol. ***..."
I interpret the starred phrase as saying that the '...' argument is
replaced by its expression slot, which in the example call is
rep(1,100))

FWIW, you don't need to explicitly provide parent.frame() as it's the
default of the 'envir' argument of eval anyway.
My do.call() idiom works because, as usual,  list(...) evaluates its
... argument before calling list() on it.

Either way, the confusion of nse is avoided for the 'weights' argument.

Cheers,
Bert







Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Thu, May 26, 2022 at 12:57 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> On Thu, 26 May 2022 20:54:50 +0200
> Andreas Matre <r at elonus.net> wrote:
>
> > fit_model <- function(formula, data, ...) {
> >    lm(formula, data, ...)
> > }
>
> > fit_model(y ~ x1 + x2, data = data, weights = rep(1, 100)) # This
> > does not work
>
> When I run traceback(), I see an eval() there: lm() captures its own
> call, replaces lm with stats::model.frame and evaluates that call in
> the parent frame. I don't have a good explanation why it's the ellipsis
> that fails here, but adding more non-standard evaluation seems to fix
> the problem:
>
> fit_model2 <- function(formula, data, ...)
>  eval(substitute(lm(formula, data, ...)), parent.frame())
>
> fit_model2(y ~ x1 + x2, data = data, weights = rep(1, 100))
>
> I think this works because substitute() expands the ellipsis into its
> return value.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 27 01:40:10 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 27 May 2022 01:40:10 +0200
Subject: [R] How to show a specific value of a ggplot2
Message-ID: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>

I have a ggplot2 which has x-values 0-200 and y values 0-10

p=plot(mydata)
p+xlim(0, 200)

I want to show what is the y value when we have 75 as x value. The graph
which is displayed has a broad range (like 0-50, 50-100 etc on x axis) and
cannot determine the exact value of y at the value of 75 on x-axis.

Thank you

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 27 03:45:08 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Fri, 27 May 2022 01:45:08 +0000 (UTC)
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
Message-ID: <35105100.2031502.1653615908917@mail.yahoo.com>

What exactly do you want to show Neha?

First, I am not clear on how you use plot() rather than ggplot() in your example and do not?bind what x and y are in an aesthetic and more.

So I suspect you are again giving an incomplete example.

So what do you want in any case? Do you want to add say a horizontal or vertical line drawn at?one or more points such as a vertical line at x=75 that intersects the graph, or a horizontal line for?y at f(75) as one example.
Do you want a special dot of another color or some text near there specifying the number? Or do?you want toi change the breaks on the scale of the x axis to include a "75" or make more of them?closer together or ... ???

You can do many such things easily enough but unless you specify what you want, no point in?answering.



-----Original Message-----
From: Neha gupta <neha.bologna90 at gmail.com>
To: r-help mailing list <r-help at r-project.org>
Sent: Thu, May 26, 2022 7:40 pm
Subject: [R] How to show a specific value of a ggplot2

I have a ggplot2 which has x-values 0-200 and y values 0-10

p=plot(mydata)
p+xlim(0, 200)

I want to show what is the y value when we have 75 as x value. The graph
which is displayed has a broad range (like 0-50, 50-100 etc on x axis) and
cannot determine the exact value of y at the value of 75 on x-axis.

Thank you

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 27 07:49:42 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 27 May 2022 06:49:42 +0100
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
Message-ID: <2e7f632f-dd10-c4df-2d36-0f311bc1ef44@sapo.pt>

Hello,

If you cannot determine the exact value of y for given x, then isn't 
your problem how to determine an approximate value of y? Once you have 
it, it's easy to plot it.

With newdata = data.frame(x = 75, y = ???),


ggplot(mydata, mapping = aes(x, y)) +
   geom_point(color = "black") +
   geom_point(newdata, mapping = aes(x, y), color = "red") +
   xlim(0, 200)


The question is how to find newdata$y, interpolation, other method?

Hope this helps,

Rui Barradas

?s 00:40 de 27/05/2022, Neha gupta escreveu:
> I have a ggplot2 which has x-values 0-200 and y values 0-10
> 
> p=plot(mydata)
> p+xlim(0, 200)
> 
> I want to show what is the y value when we have 75 as x value. The graph
> which is displayed has a broad range (like 0-50, 50-100 etc on x axis) and
> cannot determine the exact value of y at the value of 75 on x-axis.
> 
> Thank you
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 27 08:24:21 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 27 May 2022 09:24:21 +0300
Subject: [R] Use of ellipsis
In-Reply-To: <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
 <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
Message-ID: <20220527092421.6cbe9b1d@Tarkus>

On Thu, 26 May 2022 15:51:38 -0700
Bert Gunter <bgunter.4567 at gmail.com> wrote:

> FWIW, you don't need to explicitly provide parent.frame() as it's the
> default of the 'envir' argument of eval anyway.

Unfortunately, there's a difference between evaluating parent.frame()
explicitly when calling eval() and letting eval() evaluate
parent.frame() as the default value of the envir argument. What I could
have used here is eval.parent():

x <- 'caller'
f <- function() {
 x <- 'function'
 list(
  eval = eval(quote(x)),
  explicit.parent = eval(quote(x), parent.frame()),
  eval.parent = eval.parent(quote(x))
 )
}
f()
# $eval
# [1] "function"
# 
# $explicit.parent
# [1] "caller"
# 
# $eval.parent
# [1] "caller"

-- 
Best regards,
Ivan


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 27 09:39:21 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 27 May 2022 08:39:21 +0100
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <CA+nrPnsF8vhWSbff2AFT63-XWRig7qAemE9nNiXp3Ne1aHQ0wQ@mail.gmail.com>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
 <2e7f632f-dd10-c4df-2d36-0f311bc1ef44@sapo.pt>
 <CA+nrPnsF8vhWSbff2AFT63-XWRig7qAemE9nNiXp3Ne1aHQ0wQ@mail.gmail.com>
Message-ID: <ef1dddf1-5c57-1269-b7d7-00d0c720cf4a@sapo.pt>

Hello,

Neha, it's not the first time you post questions to R-Help, please, 
please!, start your scripts by loading the packages needed.

I have never used package DALEX but for what I understand from its 
documentation it  helps to explore and explain models behavior. If your 
profile plot was output by method plot.model_profile(), the workflow is 
or seems to be

1. fit a model;
2. create an object of S3 class "model_profile" with functions explain() 
and model_profile();
3. plot that object.


So to know what is the value of y for a given x, predict from the fitted 
model, package DALEX and its plots have nothing to do with it.
If there's a predict method for the fitting function, then it should be 
as simple as


newdata75 <- data.frame(x = 75)
y75 <- predict(fit, newdata = newdata75)


or something similar.

I have never used this package so I might be completely wrong.

Hope this helps,

Rui Barradas

?s 08:09 de 27/05/2022, Neha gupta escreveu:
> Thank you Rui, Avi
> 
> I am using the plot(), in the Dalex package and it implements the ggplot.
> 
> So I only used plot(mydata) and it displays the ggplot . If we need to 
> adjust or make further?changes in the plot, I think people use
> 
> plot?+ .....
> I don't know if this group support the image pasting but my plot is 
> showing?like below. (bugs is a variable in my data whose values are 
> displayed on y-axis and RFC is another?variable in my dataset whose 
> value is shown on the x-axis. I want to know exactly (not necessarily 
> using the plot, a simple print function should also work for me) what is 
> the value of 'bug' when the value of 'rfc' is 75.
> 
> image.png
> 
> 
> On Fri, May 27, 2022 at 7:49 AM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     If you cannot determine the exact value of y for given x, then isn't
>     your problem how to determine an approximate value of y? Once you have
>     it, it's easy to plot it.
> 
>     With newdata = data.frame(x = 75, y = ???),
> 
> 
>     ggplot(mydata, mapping = aes(x, y)) +
>      ? ?geom_point(color = "black") +
>      ? ?geom_point(newdata, mapping = aes(x, y), color = "red") +
>      ? ?xlim(0, 200)
> 
> 
>     The question is how to find newdata$y, interpolation, other method?
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 00:40 de 27/05/2022, Neha gupta escreveu:
>      > I have a ggplot2 which has x-values 0-200 and y values 0-10
>      >
>      > p=plot(mydata)
>      > p+xlim(0, 200)
>      >
>      > I want to show what is the y value when we have 75 as x value.
>     The graph
>      > which is displayed has a broad range (like 0-50, 50-100 etc on x
>     axis) and
>      > cannot determine the exact value of y at the value of 75 on x-axis.
>      >
>      > Thank you
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 27 09:54:52 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 27 May 2022 09:54:52 +0200
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <ef1dddf1-5c57-1269-b7d7-00d0c720cf4a@sapo.pt>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
 <2e7f632f-dd10-c4df-2d36-0f311bc1ef44@sapo.pt>
 <CA+nrPnsF8vhWSbff2AFT63-XWRig7qAemE9nNiXp3Ne1aHQ0wQ@mail.gmail.com>
 <ef1dddf1-5c57-1269-b7d7-00d0c720cf4a@sapo.pt>
Message-ID: <CA+nrPnuiQFDuT1C9G+ZxF2HiDDW_+Dugh3=dqkxqCyMR95fLmQ@mail.gmail.com>

I am sorry for that.

I used

library(farff)
library(mlr3learners)
library(mlr3filters)
library(mlr3extralearners)
library(mlr3)
library(DALEX)
library(DALEXtra)

data = readARFF("ant.arff")
index= sample(1:nrow(data), 0.7*nrow(data))
train= data[index,]
test= data[-index,]
task = TaskRegr$new("data", backend = train, target = "bug")

learner= lrn("regr.randomForest")
model= learner$train(task )

explainer = explain_mlr3(model,
                          data = test[,-16],
                          y = as.numeric(test$bug)-1,
                          label="RF")

m=model_profile(explainer = explainer, variables = "rfc")

plot(m)

Ant it shows a plot, with values of x axis (bug) and y axis (rfc)

I can manually see what is the value of bug at rfc=75, but I need the exact
value and by seeing the plot and guessing the rfc=75 value for bug might
not be the exact value I need.

Thank you

On Fri, May 27, 2022 at 9:39 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Neha, it's not the first time you post questions to R-Help, please,
> please!, start your scripts by loading the packages needed.
>
> I have never used package DALEX but for what I understand from its
> documentation it  helps to explore and explain models behavior. If your
> profile plot was output by method plot.model_profile(), the workflow is
> or seems to be
>
> 1. fit a model;
> 2. create an object of S3 class "model_profile" with functions explain()
> and model_profile();
> 3. plot that object.
>
>
> So to know what is the value of y for a given x, predict from the fitted
> model, package DALEX and its plots have nothing to do with it.
> If there's a predict method for the fitting function, then it should be
> as simple as
>
>
> newdata75 <- data.frame(x = 75)
> y75 <- predict(fit, newdata = newdata75)
>
>
> or something similar.
>
> I have never used this package so I might be completely wrong.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 08:09 de 27/05/2022, Neha gupta escreveu:
> > Thank you Rui, Avi
> >
> > I am using the plot(), in the Dalex package and it implements the ggplot.
> >
> > So I only used plot(mydata) and it displays the ggplot . If we need to
> > adjust or make further changes in the plot, I think people use
> >
> > plot + .....
> > I don't know if this group support the image pasting but my plot is
> > showing like below. (bugs is a variable in my data whose values are
> > displayed on y-axis and RFC is another variable in my dataset whose
> > value is shown on the x-axis. I want to know exactly (not necessarily
> > using the plot, a simple print function should also work for me) what is
> > the value of 'bug' when the value of 'rfc' is 75.
> >
> > image.png
> >
> >
> > On Fri, May 27, 2022 at 7:49 AM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     If you cannot determine the exact value of y for given x, then isn't
> >     your problem how to determine an approximate value of y? Once you
> have
> >     it, it's easy to plot it.
> >
> >     With newdata = data.frame(x = 75, y = ???),
> >
> >
> >     ggplot(mydata, mapping = aes(x, y)) +
> >         geom_point(color = "black") +
> >         geom_point(newdata, mapping = aes(x, y), color = "red") +
> >         xlim(0, 200)
> >
> >
> >     The question is how to find newdata$y, interpolation, other method?
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 00:40 de 27/05/2022, Neha gupta escreveu:
> >      > I have a ggplot2 which has x-values 0-200 and y values 0-10
> >      >
> >      > p=plot(mydata)
> >      > p+xlim(0, 200)
> >      >
> >      > I want to show what is the y value when we have 75 as x value.
> >     The graph
> >      > which is displayed has a broad range (like 0-50, 50-100 etc on x
> >     axis) and
> >      > cannot determine the exact value of y at the value of 75 on
> x-axis.
> >      >
> >      > Thank you
> >      >
> >      >       [[alternative HTML version deleted]]
> >      >
> >      > ______________________________________________
> >      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
> >     -- To UNSUBSCRIBE and more, see
> >      > https://stat.ethz.ch/mailman/listinfo/r-help
> >     <https://stat.ethz.ch/mailman/listinfo/r-help>
> >      > PLEASE do read the posting guide
> >     http://www.R-project.org/posting-guide.html
> >     <http://www.R-project.org/posting-guide.html>
> >      > and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 27 12:17:17 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 27 May 2022 11:17:17 +0100
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <CA+nrPnuiQFDuT1C9G+ZxF2HiDDW_+Dugh3=dqkxqCyMR95fLmQ@mail.gmail.com>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
 <2e7f632f-dd10-c4df-2d36-0f311bc1ef44@sapo.pt>
 <CA+nrPnsF8vhWSbff2AFT63-XWRig7qAemE9nNiXp3Ne1aHQ0wQ@mail.gmail.com>
 <ef1dddf1-5c57-1269-b7d7-00d0c720cf4a@sapo.pt>
 <CA+nrPnuiQFDuT1C9G+ZxF2HiDDW_+Dugh3=dqkxqCyMR95fLmQ@mail.gmail.com>
Message-ID: <b8fd5108-4693-3bc6-c2dc-625c54538423@sapo.pt>

Hello,

I think the function find_x_from_profile below does what you want.
I have used the data set in the first example of ?readARFF, the built-in 
and all-present data set iris.

The function returns a one line data.frame whose column names are "x" 
and "y". Pass the y-axis value in argument ynew and the value you want 
is output column "x".
The function only takes one y value at a time, this can be changed if 
needed.


suppressPackageStartupMessages({
   library(farff)
   library(mlr3)
   library(mlr3learners)
   library(mlr3filters)
   library(mlr3extralearners)
   library(DALEX)
   library(DALEXtra)
   library(readr)
   library(ggplot2)
})

# make the results reproducible
set.seed(2022)

# this is the data for the reprex
path <- tempfile()
writeARFF(iris, path = path)
data <- readARFF(path)
#  Parse with reader=readr : 
C:\Users\ruipb\AppData\Local\Temp\RtmpUxSDP3\file578778a1417
#  header: 0.000000; preproc: 0.000000; data: 0.110000; postproc: 
0.000000; total: 0.110000

# data = readARFF("ant.arff")
index <- sample(1:nrow(data), 0.7*nrow(data))
train <- data[index,]
test <- data[-index,]
task <- TaskRegr$new("data", backend = train, target = "Sepal.Length")

learner <- lrn("regr.randomForest")
model <- learner$train(task )

explainer <- explain_mlr3(model,
                          data = test[,-16],
                          y = as.numeric(test$Sepal.Length)-1,
                          label="RF")
#  Preparation of a new explainer is initiated
#    -> model label       :  RF
#    -> data              :  45  rows  5  cols
#    -> target variable   :  45  values
#    -> predict function  :  yhat.LearnerRegr  will be used (  default  )
#    -> predicted values  :  No value for predict function target 
column. (  default  )
#    -> model_info        :  package mlr3 , ver. 0.13.3 , task 
regression (  default  )
#    -> predicted values  :  numerical, min =  4.775823 , mean = 
5.892271 , max =  7.226967
#    -> residual function :  difference between y and yhat (  default  )
#    -> residuals         :  numerical, min =  -1.642701 , mean = 
-0.9922714 , max =  -0.2101927
#    A new explainer has been created!

m <- model_profile(explainer = explainer, variables = "Sepal.Width")

find_x_from_profile <- function(model, xvar, ynew) {
   if(length(ynew) > 1) {
     warn <- "'ynew' length is greater than 1, only the first is 
considered."
     warning(warn)
     ynew <- ynew[1]
   }
   ap <- m$agr_profiles[c("_yhat_", "_x_")]
   names(ap) <- c("yhat", "x")
   i <- order(ap$yhat)
   ap <- ap[i, ]
   j <- findInterval(ynew, ap$yhat)
   olddata <- data.frame(
     x = ap$yhat[order(i)][j:(j + 1)],
     y = ap$x[order(i)][j:(j + 1)]
   )
   newdata <- approx(olddata, xout = ynew)
   newdata <- as.data.frame(newdata)
   names(newdata) <- rev(names(newdata))
   newdata[2:1]
}

find_x_from_profile(m, xvar = "Sepal.Width", 5.85)
#           x    y
#  1 2.941472 5.85

newdata <- find_x_from_profile(m, xvar = "Sepal.Width", 5.85)

p <- plot(m)
p +
   geom_point(
     data = newdata,
     mapping = aes(x, y),
     color = "red",
     size = 2,
     inherit.aes = FALSE
   )


Hope this helps,

Rui Barradas



?s 08:54 de 27/05/2022, Neha gupta escreveu:
> I am sorry for that.
> 
> I used
> 
> library(farff)
> library(mlr3learners)
> library(mlr3filters)
> library(mlr3extralearners)
> library(mlr3)
> library(DALEX)
> library(DALEXtra)
> 
> data = readARFF("ant.arff")
> index= sample(1:nrow(data), 0.7*nrow(data))
> train= data[index,]
> test= data[-index,]
> task = TaskRegr$new("data", backend = train, target = "bug")
> 
> learner= lrn("regr.randomForest")
> model= learner$train(task )
> 
> explainer = explain_mlr3(model,
>  ? ? ? ? ? ? ? ? ? ? ? ? ? data = test[,-16],
>  ? ? ? ? ? ? ? ? ? ? ? ? ? y = as.numeric(test$bug)-1,
>  ? ? ? ? ? ? ? ? ? ? ? ? ? label="RF")
> 
> m=model_profile(explainer = explainer, variables = "rfc")
> 
> plot(m)
> 
> Ant it shows a plot, with values of x axis (bug) and y axis (rfc)
> 
> I can manually?see what is the value of bug at rfc=75, but I need the 
> exact value and by seeing the plot and guessing the rfc=75 value for bug 
> might not be the exact value I need.
> 
> Thank you
> 
> On Fri, May 27, 2022 at 9:39 AM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     Neha, it's not the first time you post questions to R-Help, please,
>     please!, start your scripts by loading the packages needed.
> 
>     I have never used package DALEX but for what I understand from its
>     documentation it? helps to explore and explain models behavior. If your
>     profile plot was output by method plot.model_profile(), the workflow is
>     or seems to be
> 
>     1. fit a model;
>     2. create an object of S3 class "model_profile" with functions
>     explain()
>     and model_profile();
>     3. plot that object.
> 
> 
>     So to know what is the value of y for a given x, predict from the
>     fitted
>     model, package DALEX and its plots have nothing to do with it.
>     If there's a predict method for the fitting function, then it should be
>     as simple as
> 
> 
>     newdata75 <- data.frame(x = 75)
>     y75 <- predict(fit, newdata = newdata75)
> 
> 
>     or something similar.
> 
>     I have never used this package so I might be completely wrong.
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 08:09 de 27/05/2022, Neha gupta escreveu:
>      > Thank you Rui, Avi
>      >
>      > I am using the plot(), in the Dalex package and it implements the
>     ggplot.
>      >
>      > So I only used plot(mydata) and it displays the ggplot . If we
>     need to
>      > adjust or make further?changes in the plot, I think people use
>      >
>      > plot?+ .....
>      > I don't know if this group support the image pasting but my plot is
>      > showing?like below. (bugs is a variable in my data whose values are
>      > displayed on y-axis and RFC is another?variable in my dataset whose
>      > value is shown on the x-axis. I want to know exactly (not
>     necessarily
>      > using the plot, a simple print function should also work for me)
>     what is
>      > the value of 'bug' when the value of 'rfc' is 75.
>      >
>      > image.png
>      >
>      >
>      > On Fri, May 27, 2022 at 7:49 AM Rui Barradas
>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>> wrote:
>      >
>      >? ? ?Hello,
>      >
>      >? ? ?If you cannot determine the exact value of y for given x,
>     then isn't
>      >? ? ?your problem how to determine an approximate value of y? Once
>     you have
>      >? ? ?it, it's easy to plot it.
>      >
>      >? ? ?With newdata = data.frame(x = 75, y = ???),
>      >
>      >
>      >? ? ?ggplot(mydata, mapping = aes(x, y)) +
>      >? ? ? ? ?geom_point(color = "black") +
>      >? ? ? ? ?geom_point(newdata, mapping = aes(x, y), color = "red") +
>      >? ? ? ? ?xlim(0, 200)
>      >
>      >
>      >? ? ?The question is how to find newdata$y, interpolation, other
>     method?
>      >
>      >? ? ?Hope this helps,
>      >
>      >? ? ?Rui Barradas
>      >
>      >? ? ??s 00:40 de 27/05/2022, Neha gupta escreveu:
>      >? ? ? > I have a ggplot2 which has x-values 0-200 and y values 0-10
>      >? ? ? >
>      >? ? ? > p=plot(mydata)
>      >? ? ? > p+xlim(0, 200)
>      >? ? ? >
>      >? ? ? > I want to show what is the y value when we have 75 as x value.
>      >? ? ?The graph
>      >? ? ? > which is displayed has a broad range (like 0-50, 50-100
>     etc on x
>      >? ? ?axis) and
>      >? ? ? > cannot determine the exact value of y at the value of 75
>     on x-axis.
>      >? ? ? >
>      >? ? ? > Thank you
>      >? ? ? >
>      >? ? ? >? ? ? ?[[alternative HTML version deleted]]
>      >? ? ? >
>      >? ? ? > ______________________________________________
>      >? ? ? > R-help at r-project.org <mailto:R-help at r-project.org>
>     <mailto:R-help at r-project.org <mailto:R-help at r-project.org>> mailing list
>      >? ? ?-- To UNSUBSCRIBE and more, see
>      >? ? ? > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      >? ? ?<https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>>
>      >? ? ? > PLEASE do read the posting guide
>      > http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      >? ? ?<http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>>
>      >? ? ? > and provide commented, minimal, self-contained,
>     reproducible code.
>      >
>


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Fri May 27 12:39:44 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Fri, 27 May 2022 12:39:44 +0200
Subject: [R] How to show a specific value of a ggplot2
In-Reply-To: <b8fd5108-4693-3bc6-c2dc-625c54538423@sapo.pt>
References: <CA+nrPntNtWskWhDtiiJk1eVZJnCAniTMy-1Jv94UbBmm-TEvvg@mail.gmail.com>
 <2e7f632f-dd10-c4df-2d36-0f311bc1ef44@sapo.pt>
 <CA+nrPnsF8vhWSbff2AFT63-XWRig7qAemE9nNiXp3Ne1aHQ0wQ@mail.gmail.com>
 <ef1dddf1-5c57-1269-b7d7-00d0c720cf4a@sapo.pt>
 <CA+nrPnuiQFDuT1C9G+ZxF2HiDDW_+Dugh3=dqkxqCyMR95fLmQ@mail.gmail.com>
 <b8fd5108-4693-3bc6-c2dc-625c54538423@sapo.pt>
Message-ID: <CA+nrPntrC1W0bF6Xp3RMUa0=iykRHdTU_kB01i7bG16X-uPypw@mail.gmail.com>

Thank you for your detailed answer. I really appreciate it.

Best regards

On Friday, May 27, 2022, Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> I think the function find_x_from_profile below does what you want.
> I have used the data set in the first example of ?readARFF, the built-in
> and all-present data set iris.
>
> The function returns a one line data.frame whose column names are "x" and
> "y". Pass the y-axis value in argument ynew and the value you want is
> output column "x".
> The function only takes one y value at a time, this can be changed if
> needed.
>
>
> suppressPackageStartupMessages({
>   library(farff)
>   library(mlr3)
>   library(mlr3learners)
>   library(mlr3filters)
>   library(mlr3extralearners)
>   library(DALEX)
>   library(DALEXtra)
>   library(readr)
>   library(ggplot2)
> })
>
> # make the results reproducible
> set.seed(2022)
>
> # this is the data for the reprex
> path <- tempfile()
> writeARFF(iris, path = path)
> data <- readARFF(path)
> #  Parse with reader=readr : C:\Users\ruipb\AppData\Local\T
> emp\RtmpUxSDP3\file578778a1417
> #  header: 0.000000; preproc: 0.000000; data: 0.110000; postproc:
> 0.000000; total: 0.110000
>
> # data = readARFF("ant.arff")
> index <- sample(1:nrow(data), 0.7*nrow(data))
> train <- data[index,]
> test <- data[-index,]
> task <- TaskRegr$new("data", backend = train, target = "Sepal.Length")
>
> learner <- lrn("regr.randomForest")
> model <- learner$train(task )
>
> explainer <- explain_mlr3(model,
>                          data = test[,-16],
>                          y = as.numeric(test$Sepal.Length)-1,
>                          label="RF")
> #  Preparation of a new explainer is initiated
> #    -> model label       :  RF
> #    -> data              :  45  rows  5  cols
> #    -> target variable   :  45  values
> #    -> predict function  :  yhat.LearnerRegr  will be used (  default  )
> #    -> predicted values  :  No value for predict function target column.
> (  default  )
> #    -> model_info        :  package mlr3 , ver. 0.13.3 , task regression
> (  default  )
> #    -> predicted values  :  numerical, min =  4.775823 , mean = 5.892271
> , max =  7.226967
> #    -> residual function :  difference between y and yhat (  default  )
> #    -> residuals         :  numerical, min =  -1.642701 , mean =
> -0.9922714 , max =  -0.2101927
> #    A new explainer has been created!
>
> m <- model_profile(explainer = explainer, variables = "Sepal.Width")
>
> find_x_from_profile <- function(model, xvar, ynew) {
>   if(length(ynew) > 1) {
>     warn <- "'ynew' length is greater than 1, only the first is
> considered."
>     warning(warn)
>     ynew <- ynew[1]
>   }
>   ap <- m$agr_profiles[c("_yhat_", "_x_")]
>   names(ap) <- c("yhat", "x")
>   i <- order(ap$yhat)
>   ap <- ap[i, ]
>   j <- findInterval(ynew, ap$yhat)
>   olddata <- data.frame(
>     x = ap$yhat[order(i)][j:(j + 1)],
>     y = ap$x[order(i)][j:(j + 1)]
>   )
>   newdata <- approx(olddata, xout = ynew)
>   newdata <- as.data.frame(newdata)
>   names(newdata) <- rev(names(newdata))
>   newdata[2:1]
> }
>
> find_x_from_profile(m, xvar = "Sepal.Width", 5.85)
> #           x    y
> #  1 2.941472 5.85
>
> newdata <- find_x_from_profile(m, xvar = "Sepal.Width", 5.85)
>
> p <- plot(m)
> p +
>   geom_point(
>     data = newdata,
>     mapping = aes(x, y),
>     color = "red",
>     size = 2,
>     inherit.aes = FALSE
>   )
>
>
> Hope this helps,
>
> Rui Barradas
>
>
>
> ?s 08:54 de 27/05/2022, Neha gupta escreveu:
>
>> I am sorry for that.
>>
>> I used
>>
>> library(farff)
>> library(mlr3learners)
>> library(mlr3filters)
>> library(mlr3extralearners)
>> library(mlr3)
>> library(DALEX)
>> library(DALEXtra)
>>
>> data = readARFF("ant.arff")
>> index= sample(1:nrow(data), 0.7*nrow(data))
>> train= data[index,]
>> test= data[-index,]
>> task = TaskRegr$new("data", backend = train, target = "bug")
>>
>> learner= lrn("regr.randomForest")
>> model= learner$train(task )
>>
>> explainer = explain_mlr3(model,
>>                            data = test[,-16],
>>                            y = as.numeric(test$bug)-1,
>>                            label="RF")
>>
>> m=model_profile(explainer = explainer, variables = "rfc")
>>
>> plot(m)
>>
>> Ant it shows a plot, with values of x axis (bug) and y axis (rfc)
>>
>> I can manually see what is the value of bug at rfc=75, but I need the
>> exact value and by seeing the plot and guessing the rfc=75 value for bug
>> might not be the exact value I need.
>>
>> Thank you
>>
>> On Fri, May 27, 2022 at 9:39 AM Rui Barradas <ruipbarradas at sapo.pt
>> <mailto:ruipbarradas at sapo.pt>> wrote:
>>
>>     Hello,
>>
>>     Neha, it's not the first time you post questions to R-Help, please,
>>     please!, start your scripts by loading the packages needed.
>>
>>     I have never used package DALEX but for what I understand from its
>>     documentation it  helps to explore and explain models behavior. If
>> your
>>     profile plot was output by method plot.model_profile(), the workflow
>> is
>>     or seems to be
>>
>>     1. fit a model;
>>     2. create an object of S3 class "model_profile" with functions
>>     explain()
>>     and model_profile();
>>     3. plot that object.
>>
>>
>>     So to know what is the value of y for a given x, predict from the
>>     fitted
>>     model, package DALEX and its plots have nothing to do with it.
>>     If there's a predict method for the fitting function, then it should
>> be
>>     as simple as
>>
>>
>>     newdata75 <- data.frame(x = 75)
>>     y75 <- predict(fit, newdata = newdata75)
>>
>>
>>     or something similar.
>>
>>     I have never used this package so I might be completely wrong.
>>
>>     Hope this helps,
>>
>>     Rui Barradas
>>
>>     ?s 08:09 de 27/05/2022, Neha gupta escreveu:
>>      > Thank you Rui, Avi
>>      >
>>      > I am using the plot(), in the Dalex package and it implements the
>>     ggplot.
>>      >
>>      > So I only used plot(mydata) and it displays the ggplot . If we
>>     need to
>>      > adjust or make further changes in the plot, I think people use
>>      >
>>      > plot + .....
>>      > I don't know if this group support the image pasting but my plot is
>>      > showing like below. (bugs is a variable in my data whose values are
>>      > displayed on y-axis and RFC is another variable in my dataset whose
>>      > value is shown on the x-axis. I want to know exactly (not
>>     necessarily
>>      > using the plot, a simple print function should also work for me)
>>     what is
>>      > the value of 'bug' when the value of 'rfc' is 75.
>>      >
>>      > image.png
>>      >
>>      >
>>      > On Fri, May 27, 2022 at 7:49 AM Rui Barradas
>>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>> wrote:
>>      >
>>      >     Hello,
>>      >
>>      >     If you cannot determine the exact value of y for given x,
>>     then isn't
>>      >     your problem how to determine an approximate value of y? Once
>>     you have
>>      >     it, it's easy to plot it.
>>      >
>>      >     With newdata = data.frame(x = 75, y = ???),
>>      >
>>      >
>>      >     ggplot(mydata, mapping = aes(x, y)) +
>>      >         geom_point(color = "black") +
>>      >         geom_point(newdata, mapping = aes(x, y), color = "red") +
>>      >         xlim(0, 200)
>>      >
>>      >
>>      >     The question is how to find newdata$y, interpolation, other
>>     method?
>>      >
>>      >     Hope this helps,
>>      >
>>      >     Rui Barradas
>>      >
>>      >     ?s 00:40 de 27/05/2022, Neha gupta escreveu:
>>      >      > I have a ggplot2 which has x-values 0-200 and y values 0-10
>>      >      >
>>      >      > p=plot(mydata)
>>      >      > p+xlim(0, 200)
>>      >      >
>>      >      > I want to show what is the y value when we have 75 as x
>> value.
>>      >     The graph
>>      >      > which is displayed has a broad range (like 0-50, 50-100
>>     etc on x
>>      >     axis) and
>>      >      > cannot determine the exact value of y at the value of 75
>>     on x-axis.
>>      >      >
>>      >      > Thank you
>>      >      >
>>      >      >       [[alternative HTML version deleted]]
>>      >      >
>>      >      > ______________________________________________
>>      >      > R-help at r-project.org <mailto:R-help at r-project.org>
>>     <mailto:R-help at r-project.org <mailto:R-help at r-project.org>> mailing
>> list
>>      >     -- To UNSUBSCRIBE and more, see
>>      >      > https://stat.ethz.ch/mailman/listinfo/r-help
>>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>>      >     <https://stat.ethz.ch/mailman/listinfo/r-help
>>     <https://stat.ethz.ch/mailman/listinfo/r-help>>
>>      >      > PLEASE do read the posting guide
>>      > http://www.R-project.org/posting-guide.html
>>     <http://www.R-project.org/posting-guide.html>
>>      >     <http://www.R-project.org/posting-guide.html
>>     <http://www.R-project.org/posting-guide.html>>
>>      >      > and provide commented, minimal, self-contained,
>>     reproducible code.
>>      >
>>
>>

	[[alternative HTML version deleted]]


From @m|ty@bh|rup @end|ng |rom gm@||@com  Fri May 27 08:29:10 2022
From: @m|ty@bh|rup @end|ng |rom gm@||@com (ABHIRUP MOITRA)
Date: Fri, 27 May 2022 11:59:10 +0530
Subject: [R] Shiny app Deployment not Working
Message-ID: <CA+SP7+-s1NsQOR_OUUk7=CuGsDTPSA0D7SHOJN6y+ePQYdSTRQ@mail.gmail.com>

I want to deploy a shiny app where I have to use the package 'GeneBook'
which is not available in CRAN. So the app is not showing after deployment.

Thanks and regards
Abhirup Moitra

	[[alternative HTML version deleted]]


From @rne@henn|ng@en @end|ng |rom gm@||@com  Fri May 27 17:29:21 2022
From: @rne@henn|ng@en @end|ng |rom gm@||@com (Arne Henningsen)
Date: Fri, 27 May 2022 17:29:21 +0200
Subject: [R] Calling stargazer() with do.call() in R 4.2.0
Message-ID: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>

Dear all  (cc Marek = maintainer of the stargazer package)

We use do.call() to automatically create many LaTeX tables with
stargazer but after upgrading to R 4.2.0, this no longer works. I
illustrate this with a simple reproducible example:

R> data("USArrests")
R> res <- lm( Murder ~ UrbanPop, data = USArrests )
R> library(stargazer)
R> stargazer(res)  # works as expected
R> do.call( stargazer, list(res) )
Error in if (is.na(s)) { : the condition has length > 1

Any ideas what we can do so that the last command works with R 4.2.0?

/Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Fri May 27 17:37:08 2022
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Fri, 27 May 2022 16:37:08 +0100
Subject: [R] Shiny app Deployment not Working
In-Reply-To: <CA+SP7+-s1NsQOR_OUUk7=CuGsDTPSA0D7SHOJN6y+ePQYdSTRQ@mail.gmail.com>
References: <CA+SP7+-s1NsQOR_OUUk7=CuGsDTPSA0D7SHOJN6y+ePQYdSTRQ@mail.gmail.com>
Message-ID: <b1e16e5f-7c39-e1e8-d1d7-6c543944ae30@dewey.myzen.co.uk>

I think people are going to need more details here.

1 where does GeneBook come from if not CRAN?
2 what is the app you are hoping to deploy, is it part of GeneBook?
3 what exactly do you mean by not showing?


On 27/05/2022 07:29, ABHIRUP MOITRA wrote:
> I want to deploy a shiny app where I have to use the package 'GeneBook'
> which is not available in CRAN. So the app is not showing after deployment.
> 
> Thanks and regards
> Abhirup Moitra
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From bgunter@4567 @end|ng |rom gm@||@com  Fri May 27 17:45:03 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 27 May 2022 08:45:03 -0700
Subject: [R] Use of ellipsis
In-Reply-To: <20220527092421.6cbe9b1d@Tarkus>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
 <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
 <20220527092421.6cbe9b1d@Tarkus>
Message-ID: <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>

I think we're getting confused here. substitute() and quote() are
different. Your original suggestion used substitute(). eval() works
here as intended with the default env argument:

f <- function() {
   x <- 'function'
   list(qu = eval(quote(x), parent.frame()),
        defqu = eval(quote(x)),
        sub = eval(substitute(x), parent.frame()),
        defsub = eval(substitute(x))
   )

> f()
$qu
[1] "caller"

$defqu
[1] "function"

$sub
[1] "function"

$defsub
[1] "function"
}

So, there are 2 separate questions here:
1) What is the difference between substitute() and quote()
2) Why does eval() work differently with quote() with and without the
default 'parent.frame()' argument?

Herewith my understanding. Please **do** correct errors.

1. quote() just quotes its argument. quote(x) := x, (a 'name' language object.)
x is a bound symbol in the default evaluation environment, so
substitute(x) replaces x with its value. Hence eval() does nothing to
it with or without explicitly providing the default.

2.  Consider:
g1 <- function() {
   x <- 'function'
   eval(quote(x))
}

g2 <- function() {
   x <- 'function'
   eval(quote(x), env= parent.frame())
}

> g1()
[1] "function"
> g2()
[1] "caller"

This looks like to me a case of delayed assignment. In g1, the default
value of parent.frame() is a **promise**, and is not evaluated until
eval() is called, at which time the parent.frame is the environment of
g2, where x = 'function' . In g2, the env argument, parent.frame(),
is explicitly given and so is immediately evaluated in the environment
of g2, whose parent is .GlobalEnv where x lives as the value 'caller'.

HTH (and that I haven't screwed things up),

Bert




Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Thu, May 26, 2022 at 11:24 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> On Thu, 26 May 2022 15:51:38 -0700
> Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> > FWIW, you don't need to explicitly provide parent.frame() as it's the
> > default of the 'envir' argument of eval anyway.
>
> Unfortunately, there's a difference between evaluating parent.frame()
> explicitly when calling eval() and letting eval() evaluate
> parent.frame() as the default value of the envir argument. What I could
> have used here is eval.parent():
>
> x <- 'caller'
> f <- function() {
>  x <- 'function'
>  list(
>   eval = eval(quote(x)),
>   explicit.parent = eval(quote(x), parent.frame()),
>   eval.parent = eval.parent(quote(x))
>  )
> }
> f()
> # $eval
> # [1] "function"
> #
> # $explicit.parent
> # [1] "caller"
> #
> # $eval.parent
> # [1] "caller"
>
> --
> Best regards,
> Ivan


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 27 18:00:06 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 27 May 2022 09:00:06 -0700
Subject: [R] Shiny app Deployment not Working
In-Reply-To: <CA+SP7+-s1NsQOR_OUUk7=CuGsDTPSA0D7SHOJN6y+ePQYdSTRQ@mail.gmail.com>
References: <CA+SP7+-s1NsQOR_OUUk7=CuGsDTPSA0D7SHOJN6y+ePQYdSTRQ@mail.gmail.com>
Message-ID: <B06EBD89-DB7A-43B6-A8CF-167ABD3CDB26@dcn.davis.ca.us>

Please read and conform with the Posting Guide, mentioned in the footer below and in the info page for this mailing list. This includes using plain text to post, and posting in the right forum.

I don't know what you mean when you use the term "deploy"... this could be because it is a term specific to the contributed "shiny" package (read any recommendations for getting help here [1] such as the URL) or because you are referring to terminology specific to a particular IDE (see e.g. [2]). It may also be about the particular service you might be using to deploy into the cloud (there are I am sure many), or because you need info on CRAN rules ([3]) or you have some other question about packages ([4]). In any of these cases, it wouldn't be something about the R language or how to use R ([5]).

At the very least, a discussion here would need to know more specifics to redirect you correctly... and if it is about a menu option in the RStudio IDE you will likely find more expertise in a more relevant forum (e.g. [6]) since R as discussed here is used by a lot of people who have never used shiny or RStudio.

[1] https://shiny.rstudio.com/
[2] https://support.rstudio.com/hc/en-us/sections/203994097-RStudio-IDE
[3] https://cran.r-project.org/web/packages/policies.html
[4] https://stat.ethz.ch/mailman/listinfo/r-package-devel
[5] https://stat.ethz.ch/mailman/listinfo/r-help
[6] https://community.rstudio.com/

On May 26, 2022 11:29:10 PM PDT, ABHIRUP MOITRA <amityabhirup at gmail.com> wrote:
>I want to deploy a shiny app where I have to use the package 'GeneBook'
>which is not available in CRAN. So the app is not showing after deployment.
>
>Thanks and regards
>Abhirup Moitra
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Fri May 27 18:41:31 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 27 May 2022 09:41:31 -0700
Subject: [R] Use of ellipsis
In-Reply-To: <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
 <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
 <20220527092421.6cbe9b1d@Tarkus>
 <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>
Message-ID: <CAGxFJbQJkKdgGfJ=L-yPkBuctrzqUBZTDrzfkLCp2-MqC9-fDg@mail.gmail.com>

... and I need to add:
Thank you, Ivan, for correcting my previous false implication that
giving the parent.frame() call as a default or explicitly makes no
difference, as it obviously does (for the reasons I explained ...
correctly, I hope!).

Bert

On Fri, May 27, 2022 at 8:45 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> I think we're getting confused here. substitute() and quote() are
> different. Your original suggestion used substitute(). eval() works
> here as intended with the default env argument:
>
> f <- function() {
>    x <- 'function'
>    list(qu = eval(quote(x), parent.frame()),
>         defqu = eval(quote(x)),
>         sub = eval(substitute(x), parent.frame()),
>         defsub = eval(substitute(x))
>    )
>
> > f()
> $qu
> [1] "caller"
>
> $defqu
> [1] "function"
>
> $sub
> [1] "function"
>
> $defsub
> [1] "function"
> }
>
> So, there are 2 separate questions here:
> 1) What is the difference between substitute() and quote()
> 2) Why does eval() work differently with quote() with and without the
> default 'parent.frame()' argument?
>
> Herewith my understanding. Please **do** correct errors.
>
> 1. quote() just quotes its argument. quote(x) := x, (a 'name' language object.)
> x is a bound symbol in the default evaluation environment, so
> substitute(x) replaces x with its value. Hence eval() does nothing to
> it with or without explicitly providing the default.
>
> 2.  Consider:
> g1 <- function() {
>    x <- 'function'
>    eval(quote(x))
> }
>
> g2 <- function() {
>    x <- 'function'
>    eval(quote(x), env= parent.frame())
> }
>
> > g1()
> [1] "function"
> > g2()
> [1] "caller"
>
> This looks like to me a case of delayed assignment. In g1, the default
> value of parent.frame() is a **promise**, and is not evaluated until
> eval() is called, at which time the parent.frame is the environment of
> g2, where x = 'function' . In g2, the env argument, parent.frame(),
> is explicitly given and so is immediately evaluated in the environment
> of g2, whose parent is .GlobalEnv where x lives as the value 'caller'.
>
> HTH (and that I haven't screwed things up),
>
> Bert
>
>
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
> On Thu, May 26, 2022 at 11:24 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
> >
> > On Thu, 26 May 2022 15:51:38 -0700
> > Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> > > FWIW, you don't need to explicitly provide parent.frame() as it's the
> > > default of the 'envir' argument of eval anyway.
> >
> > Unfortunately, there's a difference between evaluating parent.frame()
> > explicitly when calling eval() and letting eval() evaluate
> > parent.frame() as the default value of the envir argument. What I could
> > have used here is eval.parent():
> >
> > x <- 'caller'
> > f <- function() {
> >  x <- 'function'
> >  list(
> >   eval = eval(quote(x)),
> >   explicit.parent = eval(quote(x), parent.frame()),
> >   eval.parent = eval.parent(quote(x))
> >  )
> > }
> > f()
> > # $eval
> > # [1] "function"
> > #
> > # $explicit.parent
> > # [1] "caller"
> > #
> > # $eval.parent
> > # [1] "caller"
> >
> > --
> > Best regards,
> > Ivan


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Sat May 28 01:21:11 2022
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Sat, 28 May 2022 01:21:11 +0200
Subject: [R] Calling stargazer() with do.call() in R 4.2.0
In-Reply-To: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>
References: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>
Message-ID: <af234546-216c-52d0-060e-d6dbc47dbc7c@statistik.tu-dortmund.de>



On 27.05.2022 17:29, Arne Henningsen wrote:
> Dear all  (cc Marek = maintainer of the stargazer package)
> 
> We use do.call() to automatically create many LaTeX tables with
> stargazer but after upgrading to R 4.2.0, this no longer works. I
> illustrate this with a simple reproducible example:
> 
> R> data("USArrests")
> R> res <- lm( Murder ~ UrbanPop, data = USArrests )
> R> library(stargazer)
> R> stargazer(res)  # works as expected
> R> do.call( stargazer, list(res) )
> Error in if (is.na(s)) { : the condition has length > 1


Without looking at the code in detail: The line aboce suggests the code 
needs an any():    if(any(is.na(x))) raher than if(is.na(x)).

Best,
Uwe Ligges
> 
> Any ideas what we can do so that the last command works with R 4.2.0?
> 
> /Arne
>


From kry|ov@r00t @end|ng |rom gm@||@com  Sat May 28 08:33:57 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 28 May 2022 09:33:57 +0300
Subject: [R] Use of ellipsis
In-Reply-To: <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
 <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
 <20220527092421.6cbe9b1d@Tarkus>
 <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>
Message-ID: <20220528093357.2c4d777d@trisector>

On Fri, 27 May 2022 08:45:03 -0700
Bert Gunter <bgunter.4567 at gmail.com> wrote:

> substitute() and quote() are different. Your original suggestion
> used substitute().

True. I used quote() to obtain a simpler expression that would still
give different results when evaluated in different contexts.

Thank you for a detailed explanation of the behaviour of
parent.frame(). You provided a much needed context that I'm frequently
too lazy to type out.

-- 
Best regards,
Ivan


From dpweyg@nd @end|ng |rom gm@||@com  Sat May 28 12:11:29 2022
From: dpweyg@nd @end|ng |rom gm@||@com (Dennis Weygand)
Date: Sat, 28 May 2022 06:11:29 -0400
Subject: [R] windows 11
Message-ID: <CAJgAAVQsq=CH-i2PtRyJG0P7+fsgrfaqxJBJPJhMpmOHyrC_VA@mail.gmail.com>

Does the current R run on Windows 11?
D.P. Weygand

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat May 28 13:19:56 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 28 May 2022 12:19:56 +0100
Subject: [R] windows 11
In-Reply-To: <CAJgAAVQsq=CH-i2PtRyJG0P7+fsgrfaqxJBJPJhMpmOHyrC_VA@mail.gmail.com>
References: <CAJgAAVQsq=CH-i2PtRyJG0P7+fsgrfaqxJBJPJhMpmOHyrC_VA@mail.gmail.com>
Message-ID: <e9d80610-f45e-ea78-c7c3-99d88fdd722e@sapo.pt>

Hello,

Yes, it does. I'm writing this on Windows 11 and my version of R is

R.version.string
# [1] "R version 4.2.0 (2022-04-22 ucrt)"

Hope this helps,

Rui Barradas


?s 11:11 de 28/05/2022, Dennis Weygand escreveu:
> Does the current R run on Windows 11?
> D.P. Weygand
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @erv|ce @end|ng |rom @hd@w@on@com  Sat May 28 17:39:19 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 28 May 2022 11:39:19 -0400
Subject: [R] Circular Graph Recommendation Request
Message-ID: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>

https://www.visualcapitalist.com/us-goods-exports-by-state/
Visualizing U.S. Exports by State

Good Morning,


https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-exports-by-state-infographic.jpg

Saw an impressive graph today. Sharing with the list.

The size proportionality of the state segments in a circle graph is catchy.

QUESTION
Is there a package one could use with R to accomplish this particular 
circular-style graph?


Kindest Regards,
-- 
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


From bgunter@4567 @end|ng |rom gm@||@com  Sat May 28 17:55:24 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 28 May 2022 08:55:24 -0700
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
Message-ID: <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>

Very nice plot. Thanks for sharing.
Can't help directly, but as the plot is sort of a map with polygonal
areas encoding the value of a variable, you might try posting on
r-sig-geo instead where there might be more relevant expertise in such
 things -- or perhaps suggestions for alternative visualizations that
work similarly.

Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help
<r-help at r-project.org> wrote:
>
> https://www.visualcapitalist.com/us-goods-exports-by-state/
> Visualizing U.S. Exports by State
>
> Good Morning,
>
>
> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-exports-by-state-infographic.jpg
>
> Saw an impressive graph today. Sharing with the list.
>
> The size proportionality of the state segments in a circle graph is catchy.
>
> QUESTION
> Is there a package one could use with R to accomplish this particular
> circular-style graph?
>
>
> Kindest Regards,
> --
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat May 28 17:58:34 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 28 May 2022 08:58:34 -0700
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
Message-ID: <DE79B4CD-74ED-4126-A42D-0BB8B5DE7BE4@dcn.davis.ca.us>

Dunno if there is one designed to do specifically that, but Google comes up with [1] and there is the deldir package for working with voronoi tessellation and with the resulting points you could use your favorite plotting tools.

[1] https://link.springer.com/article/10.1007/s10707-006-0006-8

On May 28, 2022 8:39:19 AM PDT, "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> wrote:
>https://www.visualcapitalist.com/us-goods-exports-by-state/
>Visualizing U.S. Exports by State
>
>Good Morning,
>
>
>https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-exports-by-state-infographic.jpg
>
>Saw an impressive graph today. Sharing with the list.
>
>The size proportionality of the state segments in a circle graph is catchy.
>
>QUESTION
>Is there a package one could use with R to accomplish this particular circular-style graph?
>
>
>Kindest Regards,

-- 
Sent from my phone. Please excuse my brevity.


From @erv|ce @end|ng |rom @hd@w@on@com  Sat May 28 18:08:55 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 28 May 2022 12:08:55 -0400
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <DE79B4CD-74ED-4126-A42D-0BB8B5DE7BE4@dcn.davis.ca.us>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <DE79B4CD-74ED-4126-A42D-0BB8B5DE7BE4@dcn.davis.ca.us>
Message-ID: <7b063fd5-4fac-5959-023f-1c2eb87b94fa@shdawson.com>

Thanks.

Not sure this is a possible option, but I will check it out.


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 11:58, Jeff Newmiller wrote:
> Dunno if there is one designed to do specifically that, but Google comes up with [1] and there is the deldir package for working with voronoi tessellation and with the resulting points you could use your favorite plotting tools.
>
> [1] https://link.springer.com/article/10.1007/s10707-006-0006-8
>
> On May 28, 2022 8:39:19 AM PDT, "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> wrote:
>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>> Visualizing U.S. Exports by State
>>
>> Good Morning,
>>
>>
>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-exports-by-state-infographic.jpg
>>
>> Saw an impressive graph today. Sharing with the list.
>>
>> The size proportionality of the state segments in a circle graph is catchy.
>>
>> QUESTION
>> Is there a package one could use with R to accomplish this particular circular-style graph?
>>
>>
>> Kindest Regards,


From @erv|ce @end|ng |rom @hd@w@on@com  Sat May 28 18:09:49 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 28 May 2022 12:09:49 -0400
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
Message-ID: <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>

Thanks, Bert. Will do.


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 11:55, Bert Gunter wrote:
> Very nice plot. Thanks for sharing.
> Can't help directly, but as the plot is sort of a map with polygonal
> areas encoding the value of a variable, you might try posting on
> r-sig-geo instead where there might be more relevant expertise in such
>   things -- or perhaps suggestions for alternative visualizations that
> work similarly.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
> On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help
> <r-help at r-project.org> wrote:
>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>> Visualizing U.S. Exports by State
>>
>> Good Morning,
>>
>>
>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-exports-by-state-infographic.jpg
>>
>> Saw an impressive graph today. Sharing with the list.
>>
>> The size proportionality of the state segments in a circle graph is catchy.
>>
>> QUESTION
>> Is there a package one could use with R to accomplish this particular
>> circular-style graph?
>>
>>
>> Kindest Regards,
>> --
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat May 28 20:21:22 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sat, 28 May 2022 18:21:22 +0000 (UTC)
Subject: [R] bootstrap CI of the difference between 2 Cramer's V
References: <2109899925.6516974.1653762082722.ref@mail.yahoo.com>
Message-ID: <2109899925.6516974.1653762082722@mail.yahoo.com>

Dear R-experts,

While comparing groups, it is better to assess confidence intervals of those differences rather than comparing confidence intervals for each group.
I am trying to calculate the CIs of the difference between the two Cramer's V and not the CI to the estimate of each group?s Cramer's V.

Here below my toy R example. There are error messages. Any help would be highly appreciated.

##############################
library(questionr)
library(boot)

gender1<-c("M","F","F","F","M","M","F","F","F","M","M","F","M","M","F","M","M","F","M","F","F","F","M","M","M","F","F","M","M","M","F","M","F","F","F","M","M","F","M","F")
color1<-c("blue","green","black","black","green","green","blue","blue","green","black","blue","green","blue","black","black","blue","green","blue","green","black","blue","blue","black","black","green","green","blue","green","black","green","blue","black","black","blue","green","green","green","blue","blue","black")

gender2<-c("F","F","F","M","M","F","M","M","M","F","F","M","F","M","F","F","M","M","M","F","M","M","M","F","F","F","M","M","M","F","M","M","M","F","F","F","M","F","F","F")
color2<-c("green","blue","black","blue","blue","blue","green","blue","green","black","blue","black","blue","blue","black","blue","blue","green","blue","black","blue","blue","black","black","green","blue","black","green","blue","green","black","blue","black","blue","green","blue","green","green","blue","black")

f1=data.frame(gender1,color1)
tab1<-table(gender1,color1)
e1<-cramer.v(tab1)

f2=data.frame(gender2,color2)
tab2<-table(gender2,color2)
e2<-cramer.v(tab2)

f3<-data.frame(e1-e2)

cramerdiff=function(x,w){
y<-tapply(x[w,1], x[w,2],cramer.v)
y[1]-y[2]
}

results<-boot(data=f3,statistic=cramerdiff,R=2000)
results

boot.ci(results,type="all")
##############################

?


From @erv|ce @end|ng |rom @hd@w@on@com  Sat May 28 20:37:03 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 28 May 2022 14:37:03 -0400
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <BL3PR14MB5532616C4C2307DF58BF5B5FCCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
 <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>
 <BL3PR14MB5532616C4C2307DF58BF5B5FCCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
Message-ID: <8e95de84-a0dc-989e-b5f5-a874b4460971@shdawson.com>

Thank you, Lucas!


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 14:33, Lucas Heber Mariano Dos Santos wrote:
> That`s voronoi tremap
> Here a tutorial to get you started
> https://www.stat.auckland.ac.nz/~paul/Reports/VoronoiTreemap/voronoiTreeMap.html
>
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Stephen H. Dawson, DSL via R-help
> Sent: Saturday, May 28, 2022 1:10 PM
> To: Bert Gunter <bgunter.4567 at gmail.com>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] Circular Graph Recommendation Request
>
> Thanks, Bert. Will do.
>
>
> Kindest Regards,
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
>
> On 5/28/22 11:55, Bert Gunter wrote:
>> Very nice plot. Thanks for sharing.
>> Can't help directly, but as the plot is sort of a map with polygonal
>> areas encoding the value of a variable, you might try posting on
>> r-sig-geo instead where there might be more relevant expertise in such
>>    things -- or perhaps suggestions for alternative visualizations that
>> work similarly.
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along
>> and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>> On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help
>> <r-help at r-project.org> wrote:
>>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>>> Visualizing U.S. Exports by State
>>>
>>> Good Morning,
>>>
>>>
>>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-export
>>> s-by-state-infographic.jpg
>>>
>>> Saw an impressive graph today. Sharing with the list.
>>>
>>> The size proportionality of the state segments in a circle graph is catchy.
>>>
>>> QUESTION
>>> Is there a package one could use with R to accomplish this particular
>>> circular-style graph?
>>>
>>>
>>> Kindest Regards,
>>> --
>>> *Stephen Dawson, DSL*
>>> /Executive Strategy Consultant/
>>> Business & Technology
>>> +1 (865) 804-3454
>>> http://www.shdawson.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @rne@henn|ng@en @end|ng |rom gm@||@com  Sat May 28 22:40:34 2022
From: @rne@henn|ng@en @end|ng |rom gm@||@com (Arne Henningsen)
Date: Sat, 28 May 2022 22:40:34 +0200
Subject: [R] Calling stargazer() with do.call() in R 4.2.0
In-Reply-To: <af234546-216c-52d0-060e-d6dbc47dbc7c@statistik.tu-dortmund.de>
References: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>
 <af234546-216c-52d0-060e-d6dbc47dbc7c@statistik.tu-dortmund.de>
Message-ID: <CAMTWbJjb+XDS2zL18vScsYJa8+B5SRQdiEaSGUVbatWFYoburQ@mail.gmail.com>

On Sat, 28 May 2022 at 01:21, Uwe Ligges
<ligges at statistik.tu-dortmund.de> wrote:
> On 27.05.2022 17:29, Arne Henningsen wrote:
>> Dear all  (cc Marek = maintainer of the stargazer package)
>>
>> We use do.call() to automatically create many LaTeX tables with
>> stargazer but after upgrading to R 4.2.0, this no longer works. I
>> illustrate this with a simple reproducible example:
>>
>> R> data("USArrests")
>> R> res <- lm( Murder ~ UrbanPop, data = USArrests )
>> R> library(stargazer)
>> R> stargazer(res)  # works as expected
>> R> do.call( stargazer, list(res) )
>> Error in if (is.na(s)) { : the condition has length > 1
>
> Without looking at the code in detail: The line aboce suggests the code
> needs an any():    if(any(is.na(x))) raher than if(is.na(x)).

Yes, this is likely a problem in the 'stargazer' package.

... but why does the problem occur when using do.call( stargazer, )
but the problem does *not* occur when using stargazer() directly?

Best regards,
Arne

>> Any ideas what we can do so that the last command works with R 4.2.0?
>>
>> /Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From @kw@|mmo @end|ng |rom gm@||@com  Sat May 28 23:13:02 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Sat, 28 May 2022 17:13:02 -0400
Subject: [R] Calling stargazer() with do.call() in R 4.2.0
In-Reply-To: <CAMTWbJjb+XDS2zL18vScsYJa8+B5SRQdiEaSGUVbatWFYoburQ@mail.gmail.com>
References: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>
 <af234546-216c-52d0-060e-d6dbc47dbc7c@statistik.tu-dortmund.de>
 <CAMTWbJjb+XDS2zL18vScsYJa8+B5SRQdiEaSGUVbatWFYoburQ@mail.gmail.com>
Message-ID: <CAPcHnpSe8Q0C5cMPfbVtJe8rZeHtYTpG16otS4=zYqjtraVEmA@mail.gmail.com>

Hello,


I don't have the slightest clue what stargazer is supposed to be
doing, but it seems as though it's trying to create names for the ...
list using:
object.names.string <- deparse(substitute(list(...)))

It makes an error in assuming that the return value of deparse will be
a character string. For stargazer(res), object.names.string becomes:
"list(res)"

while for do.call(stargazer, list(res)), object.names.string becomes:
[1] "list(structure(list(coefficients = c(`(Intercept)` =
6.41594246095523, "
[2] "UrbanPop = 0.0209346588197249), residuals = c(Alabama =
5.56984732750071, "
[3] "Alaska = 2.57919391569797, Arizona = 0.009284833466778, Arkansas
= 1.33732459805853, "
[4] "California = 0.679003586449805, Colorado = -0.148845848893771, "
[5] "Connecticut = -4.72791119007405, Delaware = -2.02323789597542, "
[6] "Florida = 7.30928483346678, Georgia = 9.72797800986128, Hawaii =
-2.8535191429924, "
[7] "Idaho = -4.94641403722037, Illinois = 2.2464808570076, Indiana =
-0.576695284237348, "
[8] "Iowa = -5.40921801367955, Kansas = -1.79762994305707, Kentucky =
2.19545528041907, "
[9] "Louisiana = 7.60237005694293, Maine = -5.3836100607612, Maryland
= 3.4814353981232, "
 [ reached getOption("max.print") -- omitted 110 entries ]

perhaps the package maintainer could change the line from:
object.names.string <- deparse(substitute(list(...)))
to:
object.names.string <- deparse1(substitute(list(...)), collapse = "")

or you could change your code to:
do.call(stargazer, alist(res))

please note that using alist instead of list is only a workaround, you
should still let the package maintainer know of this bug. If the
maintainer asks, this is what I used to get the strings above:
fun <- \(...) deparse(substitute(list(...)))
data("USArrests")
res <- lm( Murder ~ UrbanPop, data = USArrests)
fun(res)
print(do.call("fun", list(res)), max = 9)

On Sat, May 28, 2022 at 4:41 PM Arne Henningsen
<arne.henningsen at gmail.com> wrote:
>
> On Sat, 28 May 2022 at 01:21, Uwe Ligges
> <ligges at statistik.tu-dortmund.de> wrote:
> > On 27.05.2022 17:29, Arne Henningsen wrote:
> >> Dear all  (cc Marek = maintainer of the stargazer package)
> >>
> >> We use do.call() to automatically create many LaTeX tables with
> >> stargazer but after upgrading to R 4.2.0, this no longer works. I
> >> illustrate this with a simple reproducible example:
> >>
> >> R> data("USArrests")
> >> R> res <- lm( Murder ~ UrbanPop, data = USArrests )
> >> R> library(stargazer)
> >> R> stargazer(res)  # works as expected
> >> R> do.call( stargazer, list(res) )
> >> Error in if (is.na(s)) { : the condition has length > 1
> >
> > Without looking at the code in detail: The line aboce suggests the code
> > needs an any():    if(any(is.na(x))) raher than if(is.na(x)).
>
> Yes, this is likely a problem in the 'stargazer' package.
>
> ... but why does the problem occur when using do.call( stargazer, )
> but the problem does *not* occur when using stargazer() directly?
>
> Best regards,
> Arne
>
> >> Any ideas what we can do so that the last command works with R 4.2.0?
> >>
> >> /Arne
>
> --
> Arne Henningsen
> http://www.arne-henningsen.name
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @erv|ce @end|ng |rom @hd@w@on@com  Sat May 28 23:15:09 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 28 May 2022 17:15:09 -0400
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <BL3PR14MB5532F3FF584583911B987557CCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
 <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>
 <BL3PR14MB5532616C4C2307DF58BF5B5FCCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
 <8e95de84-a0dc-989e-b5f5-a874b4460971@shdawson.com>
 <BL3PR14MB5532F3FF584583911B987557CCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
Message-ID: <b871bdbd-c402-7bff-0638-fbbb83cf23ff@shdawson.com>

Thanks for your help.

*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 14:38, Lucas Heber Mariano Dos Santos wrote:
> Here another one https://rpubs.com/StevenDuttRoss/voronoiTreemap
>
> -----Original Message-----
> From: Stephen H. Dawson, DSL <service at shdawson.com>
> Sent: Saturday, May 28, 2022 3:37 PM
> To: Lucas Heber Mariano Dos Santos <lucasheber at outlook.com>; Bert Gunter <bgunter.4567 at gmail.com>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] Circular Graph Recommendation Request
>
> Thank you, Lucas!
>
>
> Kindest Regards,
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
>
> On 5/28/22 14:33, Lucas Heber Mariano Dos Santos wrote:
>> That`s voronoi tremap
>> Here a tutorial to get you started
>> https://www.stat.auckland.ac.nz/~paul/Reports/VoronoiTreemap/voronoiTr
>> eeMap.html
>>
>>
>>
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Stephen H.
>> Dawson, DSL via R-help
>> Sent: Saturday, May 28, 2022 1:10 PM
>> To: Bert Gunter <bgunter.4567 at gmail.com>
>> Cc: r-help <r-help at r-project.org>
>> Subject: Re: [R] Circular Graph Recommendation Request
>>
>> Thanks, Bert. Will do.
>>
>>
>> Kindest Regards,
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>>
>> On 5/28/22 11:55, Bert Gunter wrote:
>>> Very nice plot. Thanks for sharing.
>>> Can't help directly, but as the plot is sort of a map with polygonal
>>> areas encoding the value of a variable, you might try posting on
>>> r-sig-geo instead where there might be more relevant expertise in such
>>>     things -- or perhaps suggestions for alternative visualizations
>>> that work similarly.
>>>
>>> Bert Gunter
>>>
>>> "The trouble with having an open mind is that people keep coming
>>> along and sticking things into it."
>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>
>>> On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help
>>> <r-help at r-project.org> wrote:
>>>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>>>> Visualizing U.S. Exports by State
>>>>
>>>> Good Morning,
>>>>
>>>>
>>>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-expor
>>>> t
>>>> s-by-state-infographic.jpg
>>>>
>>>> Saw an impressive graph today. Sharing with the list.
>>>>
>>>> The size proportionality of the state segments in a circle graph is catchy.
>>>>
>>>> QUESTION
>>>> Is there a package one could use with R to accomplish this
>>>> particular circular-style graph?
>>>>
>>>>
>>>> Kindest Regards,
>>>> --
>>>> *Stephen Dawson, DSL*
>>>> /Executive Strategy Consultant/
>>>> Business & Technology
>>>> +1 (865) 804-3454
>>>> http://www.shdawson.com
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From |uc@@heber @end|ng |rom out|ook@com  Sat May 28 20:33:55 2022
From: |uc@@heber @end|ng |rom out|ook@com (Lucas Heber Mariano Dos Santos)
Date: Sat, 28 May 2022 18:33:55 +0000
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
 <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>
Message-ID: <BL3PR14MB5532616C4C2307DF58BF5B5FCCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>

That`s voronoi tremap
Here a tutorial to get you started
https://www.stat.auckland.ac.nz/~paul/Reports/VoronoiTreemap/voronoiTreeMap.html



-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Stephen H. Dawson, DSL via R-help
Sent: Saturday, May 28, 2022 1:10 PM
To: Bert Gunter <bgunter.4567 at gmail.com>
Cc: r-help <r-help at r-project.org>
Subject: Re: [R] Circular Graph Recommendation Request

Thanks, Bert. Will do.


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 11:55, Bert Gunter wrote:
> Very nice plot. Thanks for sharing.
> Can't help directly, but as the plot is sort of a map with polygonal 
> areas encoding the value of a variable, you might try posting on 
> r-sig-geo instead where there might be more relevant expertise in such
>   things -- or perhaps suggestions for alternative visualizations that 
> work similarly.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along 
> and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
> On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help 
> <r-help at r-project.org> wrote:
>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>> Visualizing U.S. Exports by State
>>
>> Good Morning,
>>
>>
>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-export
>> s-by-state-infographic.jpg
>>
>> Saw an impressive graph today. Sharing with the list.
>>
>> The size proportionality of the state segments in a circle graph is catchy.
>>
>> QUESTION
>> Is there a package one could use with R to accomplish this particular 
>> circular-style graph?
>>
>>
>> Kindest Regards,
>> --
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From |uc@@heber @end|ng |rom out|ook@com  Sat May 28 20:38:56 2022
From: |uc@@heber @end|ng |rom out|ook@com (Lucas Heber Mariano Dos Santos)
Date: Sat, 28 May 2022 18:38:56 +0000
Subject: [R] Circular Graph Recommendation Request
In-Reply-To: <8e95de84-a0dc-989e-b5f5-a874b4460971@shdawson.com>
References: <25f7132a-bcee-e1f3-1c48-e6f97724c20d@shdawson.com>
 <CAGxFJbS8EVSWq9uP0S5e64Uo--v2yimYvkzOjEb_VPC5S6NeGQ@mail.gmail.com>
 <a69a50d5-95b0-32ca-c499-8012276dfece@shdawson.com>
 <BL3PR14MB5532616C4C2307DF58BF5B5FCCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>
 <8e95de84-a0dc-989e-b5f5-a874b4460971@shdawson.com>
Message-ID: <BL3PR14MB5532F3FF584583911B987557CCDB9@BL3PR14MB5532.namprd14.prod.outlook.com>

Here another one https://rpubs.com/StevenDuttRoss/voronoiTreemap

-----Original Message-----
From: Stephen H. Dawson, DSL <service at shdawson.com> 
Sent: Saturday, May 28, 2022 3:37 PM
To: Lucas Heber Mariano Dos Santos <lucasheber at outlook.com>; Bert Gunter <bgunter.4567 at gmail.com>
Cc: r-help <r-help at r-project.org>
Subject: Re: [R] Circular Graph Recommendation Request

Thank you, Lucas!


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 5/28/22 14:33, Lucas Heber Mariano Dos Santos wrote:
> That`s voronoi tremap
> Here a tutorial to get you started
> https://www.stat.auckland.ac.nz/~paul/Reports/VoronoiTreemap/voronoiTr
> eeMap.html
>
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Stephen H. 
> Dawson, DSL via R-help
> Sent: Saturday, May 28, 2022 1:10 PM
> To: Bert Gunter <bgunter.4567 at gmail.com>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] Circular Graph Recommendation Request
>
> Thanks, Bert. Will do.
>
>
> Kindest Regards,
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
>
> On 5/28/22 11:55, Bert Gunter wrote:
>> Very nice plot. Thanks for sharing.
>> Can't help directly, but as the plot is sort of a map with polygonal 
>> areas encoding the value of a variable, you might try posting on 
>> r-sig-geo instead where there might be more relevant expertise in such
>>    things -- or perhaps suggestions for alternative visualizations 
>> that work similarly.
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming 
>> along and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>> On Sat, May 28, 2022 at 8:39 AM Stephen H. Dawson, DSL via R-help 
>> <r-help at r-project.org> wrote:
>>> https://www.visualcapitalist.com/us-goods-exports-by-state/
>>> Visualizing U.S. Exports by State
>>>
>>> Good Morning,
>>>
>>>
>>> https://www.visualcapitalist.com/wp-content/uploads/2022/05/us-expor
>>> t
>>> s-by-state-infographic.jpg
>>>
>>> Saw an impressive graph today. Sharing with the list.
>>>
>>> The size proportionality of the state segments in a circle graph is catchy.
>>>
>>> QUESTION
>>> Is there a package one could use with R to accomplish this 
>>> particular circular-style graph?
>>>
>>>
>>> Kindest Regards,
>>> --
>>> *Stephen Dawson, DSL*
>>> /Executive Strategy Consultant/
>>> Business & Technology
>>> +1 (865) 804-3454
>>> http://www.shdawson.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @rne@henn|ng@en @end|ng |rom gm@||@com  Sun May 29 06:52:28 2022
From: @rne@henn|ng@en @end|ng |rom gm@||@com (Arne Henningsen)
Date: Sun, 29 May 2022 06:52:28 +0200
Subject: [R] Calling stargazer() with do.call() in R 4.2.0
In-Reply-To: <CAPcHnpSe8Q0C5cMPfbVtJe8rZeHtYTpG16otS4=zYqjtraVEmA@mail.gmail.com>
References: <CAMTWbJiVBXDA5ABx2zGOueDk3OOPLCvWcjqJhY21tCSm5YWHMw@mail.gmail.com>
 <af234546-216c-52d0-060e-d6dbc47dbc7c@statistik.tu-dortmund.de>
 <CAMTWbJjb+XDS2zL18vScsYJa8+B5SRQdiEaSGUVbatWFYoburQ@mail.gmail.com>
 <CAPcHnpSe8Q0C5cMPfbVtJe8rZeHtYTpG16otS4=zYqjtraVEmA@mail.gmail.com>
Message-ID: <CAMTWbJgxm7DmWr-agv5HLyg15wj_qu0055XQ0fLAe=q9hMzjTw@mail.gmail.com>

Dear Andrew

Thanks a lot for investigating the problem and for suggesting a
solution and a workaround! I have asked the maintainer of the
'stargazer' package to fix the problem. Until then, we can use the
workaround that you suggested.

Best regards,
Arne

On Sat, 28 May 2022 at 23:13, Andrew Simmons <akwsimmo at gmail.com> wrote:
>
> Hello,
>
>
> I don't have the slightest clue what stargazer is supposed to be
> doing, but it seems as though it's trying to create names for the ...
> list using:
> object.names.string <- deparse(substitute(list(...)))
>
> It makes an error in assuming that the return value of deparse will be
> a character string. For stargazer(res), object.names.string becomes:
> "list(res)"
>
> while for do.call(stargazer, list(res)), object.names.string becomes:
> [1] "list(structure(list(coefficients = c(`(Intercept)` =
> 6.41594246095523, "
> [2] "UrbanPop = 0.0209346588197249), residuals = c(Alabama =
> 5.56984732750071, "
> [3] "Alaska = 2.57919391569797, Arizona = 0.009284833466778, Arkansas
> = 1.33732459805853, "
> [4] "California = 0.679003586449805, Colorado = -0.148845848893771, "
> [5] "Connecticut = -4.72791119007405, Delaware = -2.02323789597542, "
> [6] "Florida = 7.30928483346678, Georgia = 9.72797800986128, Hawaii =
> -2.8535191429924, "
> [7] "Idaho = -4.94641403722037, Illinois = 2.2464808570076, Indiana =
> -0.576695284237348, "
> [8] "Iowa = -5.40921801367955, Kansas = -1.79762994305707, Kentucky =
> 2.19545528041907, "
> [9] "Louisiana = 7.60237005694293, Maine = -5.3836100607612, Maryland
> = 3.4814353981232, "
>  [ reached getOption("max.print") -- omitted 110 entries ]
>
> perhaps the package maintainer could change the line from:
> object.names.string <- deparse(substitute(list(...)))
> to:
> object.names.string <- deparse1(substitute(list(...)), collapse = "")
>
> or you could change your code to:
> do.call(stargazer, alist(res))
>
> please note that using alist instead of list is only a workaround, you
> should still let the package maintainer know of this bug. If the
> maintainer asks, this is what I used to get the strings above:
> fun <- \(...) deparse(substitute(list(...)))
> data("USArrests")
> res <- lm( Murder ~ UrbanPop, data = USArrests)
> fun(res)
> print(do.call("fun", list(res)), max = 9)
>
> On Sat, May 28, 2022 at 4:41 PM Arne Henningsen
> <arne.henningsen at gmail.com> wrote:
> >
> > On Sat, 28 May 2022 at 01:21, Uwe Ligges
> > <ligges at statistik.tu-dortmund.de> wrote:
> > > On 27.05.2022 17:29, Arne Henningsen wrote:
> > >> Dear all  (cc Marek = maintainer of the stargazer package)
> > >>
> > >> We use do.call() to automatically create many LaTeX tables with
> > >> stargazer but after upgrading to R 4.2.0, this no longer works. I
> > >> illustrate this with a simple reproducible example:
> > >>
> > >> R> data("USArrests")
> > >> R> res <- lm( Murder ~ UrbanPop, data = USArrests )
> > >> R> library(stargazer)
> > >> R> stargazer(res)  # works as expected
> > >> R> do.call( stargazer, list(res) )
> > >> Error in if (is.na(s)) { : the condition has length > 1
> > >
> > > Without looking at the code in detail: The line aboce suggests the code
> > > needs an any():    if(any(is.na(x))) raher than if(is.na(x)).
> >
> > Yes, this is likely a problem in the 'stargazer' package.
> >
> > ... but why does the problem occur when using do.call( stargazer, )
> > but the problem does *not* occur when using stargazer() directly?
> >
> > Best regards,
> > Arne
> >
> > >> Any ideas what we can do so that the last command works with R 4.2.0?
> > >>
> > >> /Arne
> >
> > --
> > Arne Henningsen
> > http://www.arne-henningsen.name
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.



-- 
Arne Henningsen
http://www.arne-henningsen.name


From r @end|ng |rom e|onu@@net  Sun May 29 10:42:26 2022
From: r @end|ng |rom e|onu@@net (Andreas Matre)
Date: Sun, 29 May 2022 10:42:26 +0200
Subject: [R] Use of ellipsis
In-Reply-To: <20220528093357.2c4d777d@trisector>
References: <56bccc82-d76d-c06b-f7c7-482dbb4eb2f3@elonus.net>
 <20220526225723.4f2f8708@Tarkus>
 <CAGxFJbTviay5BCKFqB5g9O8P_aGze5eQhdZce1FzhUSue9p_nw@mail.gmail.com>
 <20220527092421.6cbe9b1d@Tarkus>
 <CAGxFJbQF=70O004Oi0zRf5p+8PPXRXE1weE1UntkTfbvy_bZUg@mail.gmail.com>
 <20220528093357.2c4d777d@trisector>
Message-ID: <0b747862-a051-3869-df42-db2e6d69f77c@elonus.net>


Thank you very much Ivan and Bert! I used the eval(substitute()) 
workaround suggested by Ivan and it worked perfectly.

Andreas Matre


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Sun May 29 20:46:07 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Sun, 29 May 2022 20:46:07 +0200
Subject: [R] How to color boxplots with respect to the variable names
Message-ID: <CA+nrPnsNujmDydqe4zc9Z3fevnumPFByhjHHDLWKi5=x=_Yf2A@mail.gmail.com>

I have the following data and I need to use a boxplot which displays the
variables (RF, Ranger, SVM, KNN) with one color, variables (RF_boot,
Ranger_boot, SVM_boot, KNN_boot) with another color and the variables
(RF_LOO, SVM_LOO, Ranger_LOO, KNN_LOO) with another color.

How can I do that? Currently, I am using the base boxplot which displays
them in one color. I know it will be more easily achieved with ggplot but I
have no experience/knowledge with it.

RF= c(4.7, 1.52, 1.46, 4.5, 0.62, 1.12)
RF_LOO= c(5.2, 1.52, 1.44, 4.3, 0.64, 1.11)
RF_boot= c(5.8, 1.5, 1.23, 4.3, 0.64, 1.12)
Ranger= c(4.5, 1.57, 1.25, 3.75, 0.56, 1.09)
Ranger_LOO= c(5, 1.56, 1.35, 3.7, 0.6, 1.0)
Ranger_boot= c(4.2, 1.53, 1.12, 3.7, 0.63, 1.1)
SVM= c(3.51, 1.34, 0.62, 1.45, 0.5, 1.06)
SVM_LOO= c(3.6, 1.33, 0.33, 1.4, 0.41, 1.1)
SVM_boot= c(3.75, 1.35, 0.58, 1.4, 0.4, 1.0)
KNN= c(2.85, 1.35, 0.25, 1.76, 0.43, 1.25)
KNN_LOO= c(2.85, 1.34, 0.375, 1.75, 0.44, 1.27)
KNN_boot= c(2.75, 1.35, 0.375, 1.75, 0.45, 1.27)

My base boxplot is here

colors = rep("blue",12)
at.x <- seq(1,by=.4, length.out = 10)
boxplot(RF, RF_LOO, RF_boot, Ranger, Ranger_LOO, Ranger_boot, SVM, SVM_LOO,
SVM_boot,
        KNN, KNN_LOO, KNN_boot, range = 0, col=colors, names= c("RF",
"RF_LOO", "RF_boot",
        "Ranger", "Ranger_LOO", "Ranger_boot", "SVM", "SVM_LOO", "SVM_boot",
        "KNN", "KNN_LOO",
"KNN_boot"),las=2,boxwex=0.5,outline=FALSE,cex.axis=0.8, main="Consistency
of the 100% features ")

	[[alternative HTML version deleted]]


From j@c@eco @end|ng |rom gm@||@com  Sun May 29 21:28:55 2022
From: j@c@eco @end|ng |rom gm@||@com (Janet Choate)
Date: Sun, 29 May 2022 12:28:55 -0700
Subject: [R] categorizing data
Message-ID: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>

Hi R community,
I have a data frame with three variables, where each row adds up to 90.
I want to assign a category of low, medium, or high to the values in each
row - where the lowest value per row will be set to 10, the medium value
set to 30, and the high value set to 50 - so each row still adds up to 90.

For example:
Data: Orig
tree  shrub  grass
32     11       47
23      41      26
49      23      18

Data: New
tree  shrub  grass
30      10      50
10       50     30
50       30     10

I am not attaching any code here as I have not been able to write anything
effective! appreciate help with this!
thank you,
JC

--

	[[alternative HTML version deleted]]


From twoo|m@n @end|ng |rom ont@rgettek@com  Sun May 29 21:42:38 2022
From: twoo|m@n @end|ng |rom ont@rgettek@com (Tom Woolman)
Date: Sun, 29 May 2022 15:42:38 -0400
Subject: [R] categorizing data
In-Reply-To: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
Message-ID: <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>


Some ideas:

You could create a cluster model with k=3 for each of the 3 variables, 
to determine what constitutes high/medium/low centroid values for each 
of the 3 types of plant types. Centroid values could then be used as the 
upper/lower boundary ranges for high/med/low.

Or utilize a histogram for each variable, and use quantiles or 
densities, etc. to determine the natural breaks for the high/med/low 
ranges for each of the IVs.




On 2022-05-29 15:28, Janet Choate wrote:
> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in 
> each
> row - where the lowest value per row will be set to 10, the medium 
> value
> set to 30, and the high value set to 50 - so each row still adds up to 
> 90.
> 
> For example:
> Data: Orig
> tree  shrub  grass
> 32     11       47
> 23      41      26
> 49      23      18
> 
> Data: New
> tree  shrub  grass
> 30      10      50
> 10       50     30
> 50       30     10
> 
> I am not attaching any code here as I have not been able to write 
> anything
> effective! appreciate help with this!
> thank you,
> JC
> 
> --
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Sun May 29 21:44:16 2022
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Sun, 29 May 2022 12:44:16 -0700
Subject: [R] categorizing data
In-Reply-To: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
Message-ID: <CAHqSRuR5jpH8ofXAyhd2YYxpoY=F8LuxALpsG4PBM8btJ=vLrA@mail.gmail.com>

You could write a function that deals with one row of your data, based on
the order() function.  E.g.,
  > to_10_30_50
  function(x) {
    stopifnot(is.numeric(x), length(x)==3, sum(x)==90, all(x>0))
    c(10,30,50)[order(x)]
  }
  <bytecode: 0x000001912dcd1bd8>
  > to_10_30_50(c(23,41,26))
  [1] 10 50 30
Then loop over the rows.  Since this is a data.frame and not a matrix, you
need to coerce each row from a single-row data.frame to a numeric vector:
  > data <- data.frame(tree=c(32,23,49), shrub=c(11,41,23),
grass=c(47,26,18))
  > for(i in 1:nrow(new)) data[i,] <- to_10_30_50(as.numeric(data[i,]))
  > data
    tree shrub grass
  1   30    10    50
  2   10    50    30
  3   50    30    10

-Bill

On Sun, May 29, 2022 at 12:29 PM Janet Choate <jsc.eco at gmail.com> wrote:

> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in each
> row - where the lowest value per row will be set to 10, the medium value
> set to 30, and the high value set to 50 - so each row still adds up to 90.
>
> For example:
> Data: Orig
> tree  shrub  grass
> 32     11       47
> 23      41      26
> 49      23      18
>
> Data: New
> tree  shrub  grass
> 30      10      50
> 10       50     30
> 50       30     10
>
> I am not attaching any code here as I have not been able to write anything
> effective! appreciate help with this!
> thank you,
> JC
>
> --
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From rmh @end|ng |rom temp|e@edu  Sun May 29 21:51:19 2022
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sun, 29 May 2022 19:51:19 +0000
Subject: [R] [External]  categorizing data
In-Reply-To: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
Message-ID: <B5866C30-2A1B-4501-8BC9-96C1F4F8A048@temple.edu>

Orig <- read.table(text="
tree shrub grass
32 11 47
23 41 26
49 23 18
", header=TRUE)

New <- Orig
for (i in seq(nrow(Orig)))
  New[i,] <- c(10, 30, 50)[order(unlist(Orig[i,]))]

New


> On May 29, 2022, at 15:28, Janet Choate <jsc.eco at gmail.com> wrote:
> 
> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in each
> row - where the lowest value per row will be set to 10, the medium value
> set to 30, and the high value set to 50 - so each row still adds up to 90.
> 
> For example:
> Data: Orig
> tree  shrub  grass
> 32     11       47
> 23      41      26
> 49      23      18
> 
> Data: New
> tree  shrub  grass
> 30      10      50
> 10       50     30
> 50       30     10
> 
> I am not attaching any code here as I have not been able to write anything
> effective! appreciate help with this!
> thank you,
> JC
> 
> --
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7C165bca7d509542fc339d08da41a98821%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637894493792524879%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=ZxDMzULApfm9p%2BnnXhToAfvFNZx7du6e%2BbqoaNc6iYE%3D&amp;reserved=0
> PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7C165bca7d509542fc339d08da41a98821%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637894493792524879%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=oVJe7FTikuD7Y59kbg9O1k4od357HPwTcylhTn6ZLWw%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun May 29 21:58:29 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 29 May 2022 20:58:29 +0100
Subject: [R] categorizing data
In-Reply-To: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
Message-ID: <742cd9ed-c4af-ba34-16b5-e6a02c858cfd@sapo.pt>

Hello,

Here is a way. Define a function to change the values and call it in a 
apply loop. But Tom's suggestions are more reasonable, you should have a 
good reason why to change the data.


x <- '
tree  shrub  grass
32     11       47
23      41      26
49      23      18'
orig <- read.table(textConnection(x), header = TRUE)

f <- function(x) {
   stopifnot(length(x) == 3L)
   i_min <- which.min(x)
   i_max <- which.max(x)
   s <- (x[i_min] - 10) + (x[i_max] - 50)
   x[i_min] <- 10
   x[i_max] <- 50
   x[-c(i_min, i_max)] <- x[-c(i_min, i_max)] + s
   x
}

t(apply(orig, 1, f))
#       tree shrub grass
#  [1,]   30    10    50
#  [2,]   10    50    30
#  [3,]   50    30    10


Hope this helps,

Rui Barradas

?s 20:28 de 29/05/2022, Janet Choate escreveu:
> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in each
> row - where the lowest value per row will be set to 10, the medium value
> set to 30, and the high value set to 50 - so each row still adds up to 90.
> 
> For example:
> Data: Orig
> tree  shrub  grass
> 32     11       47
> 23      41      26
> 49      23      18
> 
> Data: New
> tree  shrub  grass
> 30      10      50
> 10       50     30
> 50       30     10
> 
> I am not attaching any code here as I have not been able to write anything
> effective! appreciate help with this!
> thank you,
> JC
> 
> --
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Sun May 29 22:15:31 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sun, 29 May 2022 20:15:31 +0000 (UTC)
Subject: [R] categorizing data
In-Reply-To: <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
 <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>
Message-ID: <809232541.2501478.1653855331973@mail.yahoo.com>

Tom,
You may have a very different impression of what was asked! LOL!
Unless Janet clarifies what seems a bit like a homework assignment, it seems?to be a fairly simple and straightforward assignment with exactly three rows/columns and?asking how to replace the variables, in a sense, by finding the high and low and?perhaps thus identifying the medium, but to do this for each row without changing?the order of the resulting data.frame.
I note most techniques people have used focus on columns, not rows, but an all-numeric?data.frame can be transposed, or converted to a matrix and later converted back.
If this is HW, the question becomes what has been taught so far and is supposed to be?used in solving it. Can they make their own functions perhaps to be called three times,?once per row or column, to replace that row/column, or can they use some form of loop to?iterate over the columns? Does it need to sort of be done in place or can they create gradually?a second data.frame and then move the pointer to it and lots of other similar ideas.
I am not sure, other than as a HW assignment, why this transformation would need to be done?but of course, there may well be a reason.
I note that the particular example shown just happens to create almost a magic square as the sum?of rows and columns and the major diagonal happen to be 0, albeit the reverse diagonal is all 50's.?
Again, there are many solutions imaginable but the goal may be more specific and I shudder to?supply one given that too often questions here are not detailed enough and are misunderstood.?In this case, I thought I understood until I saw what Tom wrote! LOL!
I will add this. Is it guaranteed that no two items in the same row are never equal or is there some?requirement for how to handle a tie? And note there are base R functions called min() and max()?and you can ask for things like:

if ( current == min(mydata[1,])) ...


-----Original Message-----
From: Tom Woolman <twoolman at ontargettek.com>
To: Janet Choate <jsc.eco at gmail.com>
Cc: r-help at r-project.org
Sent: Sun, May 29, 2022 3:42 pm
Subject: Re: [R] categorizing data


Some ideas:

You could create a cluster model with k=3 for each of the 3 variables, 
to determine what constitutes high/medium/low centroid values for each 
of the 3 types of plant types. Centroid values could then be used as the 
upper/lower boundary ranges for high/med/low.

Or utilize a histogram for each variable, and use quantiles or 
densities, etc. to determine the natural breaks for the high/med/low 
ranges for each of the IVs.




On 2022-05-29 15:28, Janet Choate wrote:
> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in 
> each
> row - where the lowest value per row will be set to 10, the medium 
> value
> set to 30, and the high value set to 50 - so each row still adds up to 
> 90.
> 
> For example:
> Data: Orig
> tree? shrub? grass
> 32? ? 11? ? ? 47
> 23? ? ? 41? ? ? 26
> 49? ? ? 23? ? ? 18
> 
> Data: New
> tree? shrub? grass
> 30? ? ? 10? ? ? 50
> 10? ? ? 50? ? 30
> 50? ? ? 30? ? 10
> 
> I am not attaching any code here as I have not been able to write 
> anything
> effective! appreciate help with this!
> thank you,
> JC
> 
> --
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From j@c@eco @end|ng |rom gm@||@com  Sun May 29 22:31:45 2022
From: j@c@eco @end|ng |rom gm@||@com (Janet Choate)
Date: Sun, 29 May 2022 13:31:45 -0700
Subject: [R] categorizing data
In-Reply-To: <809232541.2501478.1653855331973@mail.yahoo.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
 <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>
 <809232541.2501478.1653855331973@mail.yahoo.com>
Message-ID: <CAEqw1VwbJDSU+iy9aPcFjo+UmCKkDMe6VwkM_9ztt-L-J=gZtQ@mail.gmail.com>

I'm sorry if this has come across as a homework assignment!I was trying to
provide a simple example.
There are actually 38323 rows of data, each row is an observation of the
percent that each of those veg types occupies in a spatial unit - where
each line adds to 90 - and values are different every line.
I need a way to categorize the data, so I can reduce the number of unique
observations.

So instead of 38323 unique observations - I can reduce this to
X number of High/Med/Low
X number of Med/Low/High
X number of Low/High/Med
etc... for all combinations

I hope this makes it more clear......
thank you all for your responses,
JC

On Sun, May 29, 2022 at 1:16 PM Avi Gross via R-help <r-help at r-project.org>
wrote:

> Tom,
> You may have a very different impression of what was asked! LOL!
> Unless Janet clarifies what seems a bit like a homework assignment, it
> seems to be a fairly simple and straightforward assignment with exactly
> three rows/columns and asking how to replace the variables, in a sense, by
> finding the high and low and perhaps thus identifying the medium, but to do
> this for each row without changing the order of the resulting data.frame.
> I note most techniques people have used focus on columns, not rows, but an
> all-numeric data.frame can be transposed, or converted to a matrix and
> later converted back.
> If this is HW, the question becomes what has been taught so far and is
> supposed to be used in solving it. Can they make their own functions
> perhaps to be called three times, once per row or column, to replace that
> row/column, or can they use some form of loop to iterate over the columns?
> Does it need to sort of be done in place or can they create gradually a
> second data.frame and then move the pointer to it and lots of other similar
> ideas.
> I am not sure, other than as a HW assignment, why this transformation
> would need to be done but of course, there may well be a reason.
> I note that the particular example shown just happens to create almost a
> magic square as the sum of rows and columns and the major diagonal happen
> to be 0, albeit the reverse diagonal is all 50's.
> Again, there are many solutions imaginable but the goal may be more
> specific and I shudder to supply one given that too often questions here
> are not detailed enough and are misunderstood. In this case, I thought I
> understood until I saw what Tom wrote! LOL!
> I will add this. Is it guaranteed that no two items in the same row are
> never equal or is there some requirement for how to handle a tie? And note
> there are base R functions called min() and max() and you can ask for
> things like:
>
> if ( current == min(mydata[1,])) ...
>
>
> -----Original Message-----
> From: Tom Woolman <twoolman at ontargettek.com>
> To: Janet Choate <jsc.eco at gmail.com>
> Cc: r-help at r-project.org
> Sent: Sun, May 29, 2022 3:42 pm
> Subject: Re: [R] categorizing data
>
>
> Some ideas:
>
> You could create a cluster model with k=3 for each of the 3 variables,
> to determine what constitutes high/medium/low centroid values for each
> of the 3 types of plant types. Centroid values could then be used as the
> upper/lower boundary ranges for high/med/low.
>
> Or utilize a histogram for each variable, and use quantiles or
> densities, etc. to determine the natural breaks for the high/med/low
> ranges for each of the IVs.
>
>
>
>
> On 2022-05-29 15:28, Janet Choate wrote:
> > Hi R community,
> > I have a data frame with three variables, where each row adds up to 90.
> > I want to assign a category of low, medium, or high to the values in
> > each
> > row - where the lowest value per row will be set to 10, the medium
> > value
> > set to 30, and the high value set to 50 - so each row still adds up to
> > 90.
> >
> > For example:
> > Data: Orig
> > tree  shrub  grass
> > 32    11      47
> > 23      41      26
> > 49      23      18
> >
> > Data: New
> > tree  shrub  grass
> > 30      10      50
> > 10      50    30
> > 50      30    10
> >
> > I am not attaching any code here as I have not been able to write
> > anything
> > effective! appreciate help with this!
> > thank you,
> > JC
> >
> > --
> >
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Tague Team Lab Manager
1005 Bren Hall
UCSB, Santa Barbara, CA.

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Sun May 29 23:51:49 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sun, 29 May 2022 21:51:49 +0000 (UTC)
Subject: [R] categorizing data
In-Reply-To: <CAEqw1VwbJDSU+iy9aPcFjo+UmCKkDMe6VwkM_9ztt-L-J=gZtQ@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
 <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>
 <809232541.2501478.1653855331973@mail.yahoo.com>
 <CAEqw1VwbJDSU+iy9aPcFjo+UmCKkDMe6VwkM_9ztt-L-J=gZtQ@mail.gmail.com>
Message-ID: <158826902.2496870.1653861109119@mail.yahoo.com>

Janet,
Thanks for the clarification.
What obfuscated your example a bit was specifying replacement by numbers adding up to 90.?Nothing wrong with that but R also often is used with categorical variables like strings of "low"",?"Medium" and "HIGH". You can then calculate other statistics using sum() and other methods but?using 10, 30 and 50 may be what you want or need.

Since you have lots of rows, you may not necessarily want to use some techniques such as?conversions to/from a matrix or transpositions. Others have made suggestion on ways to go and?a fairly straightforward and simple way to go would be a loop from 1 to nrow(df) in which you evaluate?that row. In a sense, it is cleaner to leave the data alone and make your changes to a second?data.frame or three new columns added to the current one and one way is judicious use of ifelse()?combined with min() and max(). Assuming you looped on variable "index" then in your loop youcan refer to the three column entries as df[index,] or df[index, 1:3] to get a horizontal slice as a?vector. you can feed that to min() and max() and have code in your explicit loop like:
threesome <-?df[index, 1:3] ; low <- min(threesome) ; high <- max(threesome)

Now to populate the three items with a replacement of 10, 30 50 you could use a nested if statement?(or ifelse if doing it vectorized) with logic like:

if (df[index,1] == min) {df[index, 1] <- 10)} else { if?(df[index,1] == max) {df[index, 1] <- 50)}?} else {df[index, 1] <- 30 }

My mailer formats my code horribly, hence the one-line codes as EXAMPLES best written on many lines.The point is you can repeat similar code changing the second through last items in place since you grabbed a?copy of the original contents.

Would I do it this way? Nope. I can see dozens of valid ways including some much more concise?or faster and some using functionality in packages like dplyr. I would likely use a helper function or two?and even replace entire rows at once.
It sounds like no matter which way you do this, you might want to do something like?the table() command to tabulate each column and count the occurrences.
Again, others have provided ways that are worth considering and the above is just a way to get?you started with actual code.?






-----Original Message-----
From: Janet Choate <jsc.eco at gmail.com>
To: Avi Gross <avigross at verizon.net>
Cc: r-help at r-project.org <r-help at r-project.org>
Sent: Sun, May 29, 2022 4:31 pm
Subject: Re: [R] categorizing data

I'm sorry if this has come across as a homework assignment!I was trying to provide a simple example.There are actually 38323 rows of data, each row is an observation of the percent that each of those veg types occupies in a spatial unit - where each line adds to 90 - and values are different every line.?I need a way to categorize the?data, so I can reduce the number of unique observations.

So instead of 38323 unique observations - I can reduce this to?X number of High/Med/LowX number of Med/Low/HighX number of Low/High/Medetc... for all combinations
I hope this makes it more clear......thank you all for your responses,JC
On Sun, May 29, 2022 at 1:16 PM Avi Gross via R-help <r-help at r-project.org> wrote:

Tom,
You may have a very different impression of what was asked! LOL!
Unless Janet clarifies what seems a bit like a homework assignment, it seems?to be a fairly simple and straightforward assignment with exactly three rows/columns and?asking how to replace the variables, in a sense, by finding the high and low and?perhaps thus identifying the medium, but to do this for each row without changing?the order of the resulting data.frame.
I note most techniques people have used focus on columns, not rows, but an all-numeric?data.frame can be transposed, or converted to a matrix and later converted back.
If this is HW, the question becomes what has been taught so far and is supposed to be?used in solving it. Can they make their own functions perhaps to be called three times,?once per row or column, to replace that row/column, or can they use some form of loop to?iterate over the columns? Does it need to sort of be done in place or can they create gradually?a second data.frame and then move the pointer to it and lots of other similar ideas.
I am not sure, other than as a HW assignment, why this transformation would need to be done?but of course, there may well be a reason.
I note that the particular example shown just happens to create almost a magic square as the sum?of rows and columns and the major diagonal happen to be 0, albeit the reverse diagonal is all 50's.?
Again, there are many solutions imaginable but the goal may be more specific and I shudder to?supply one given that too often questions here are not detailed enough and are misunderstood.?In this case, I thought I understood until I saw what Tom wrote! LOL!
I will add this. Is it guaranteed that no two items in the same row are never equal or is there some?requirement for how to handle a tie? And note there are base R functions called min() and max()?and you can ask for things like:

if ( current == min(mydata[1,])) ...


-----Original Message-----
From: Tom Woolman <twoolman at ontargettek.com>
To: Janet Choate <jsc.eco at gmail.com>
Cc: r-help at r-project.org
Sent: Sun, May 29, 2022 3:42 pm
Subject: Re: [R] categorizing data


Some ideas:

You could create a cluster model with k=3 for each of the 3 variables, 
to determine what constitutes high/medium/low centroid values for each 
of the 3 types of plant types. Centroid values could then be used as the 
upper/lower boundary ranges for high/med/low.

Or utilize a histogram for each variable, and use quantiles or 
densities, etc. to determine the natural breaks for the high/med/low 
ranges for each of the IVs.




On 2022-05-29 15:28, Janet Choate wrote:
> Hi R community,
> I have a data frame with three variables, where each row adds up to 90.
> I want to assign a category of low, medium, or high to the values in 
> each
> row - where the lowest value per row will be set to 10, the medium 
> value
> set to 30, and the high value set to 50 - so each row still adds up to 
> 90.
> 
> For example:
> Data: Orig
> tree? shrub? grass
> 32? ? 11? ? ? 47
> 23? ? ? 41? ? ? 26
> 49? ? ? 23? ? ? 18
> 
> Data: New
> tree? shrub? grass
> 30? ? ? 10? ? ? 50
> 10? ? ? 50? ? 30
> 50? ? ? 30? ? 10
> 
> I am not attaching any code here as I have not been able to write 
> anything
> effective! appreciate help with this!
> thank you,
> JC
> 
> --
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

? ? ? ? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



-- 
Tague Team Lab Manager1005 Bren HallUCSB, Santa Barbara, CA.
	[[alternative HTML version deleted]]


From roy@mende|@@ohn @end|ng |rom no@@@gov  Mon May 30 00:08:12 2022
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Sun, 29 May 2022 15:08:12 -0700
Subject: [R] categorizing data
In-Reply-To: <CAEqw1VwbJDSU+iy9aPcFjo+UmCKkDMe6VwkM_9ztt-L-J=gZtQ@mail.gmail.com>
References: <CAEqw1VzRHstc-MdgYNqDdDhUzpuNuv3KvZvM3JBTCYP2wQqLjg@mail.gmail.com>
 <0d8f01eb5646f8da35e321991a82bfad@ontargettek.com>
 <809232541.2501478.1653855331973@mail.yahoo.com>
 <CAEqw1VwbJDSU+iy9aPcFjo+UmCKkDMe6VwkM_9ztt-L-J=gZtQ@mail.gmail.com>
Message-ID: <B742AEFD-F490-450E-8F26-DFA752523628@noaa.gov>

Hi Janet:

here is a start to give you the idea,  now you need  loop either use a "for" or one of the apply functions.

1.  Preallocate new data  (i am lazy so it is array, for example of size three.

2.  order the data and set values.

junk <- array(0, dim = c(2,3))
values <- c(10, 30, 50)
junk[1, order(c(32, 11, 17))] <- values
junk[1, ]
[1] 50 10 30


This works because order() returns the index of the ordering, not the values.

HTH,

-Roy
> On May 29, 2022, at 1:31 PM, Janet Choate <jsc.eco at gmail.com> wrote:
> 
> I'm sorry if this has come across as a homework assignment!I was trying to
> provide a simple example.
> There are actually 38323 rows of data, each row is an observation of the
> percent that each of those veg types occupies in a spatial unit - where
> each line adds to 90 - and values are different every line.
> I need a way to categorize the data, so I can reduce the number of unique
> observations.
> 
> So instead of 38323 unique observations - I can reduce this to
> X number of High/Med/Low
> X number of Med/Low/High
> X number of Low/High/Med
> etc... for all combinations
> 
> I hope this makes it more clear......
> thank you all for your responses,
> JC
> 
> On Sun, May 29, 2022 at 1:16 PM Avi Gross via R-help <r-help at r-project.org>
> wrote:
> 
>> Tom,
>> You may have a very different impression of what was asked! LOL!
>> Unless Janet clarifies what seems a bit like a homework assignment, it
>> seems to be a fairly simple and straightforward assignment with exactly
>> three rows/columns and asking how to replace the variables, in a sense, by
>> finding the high and low and perhaps thus identifying the medium, but to do
>> this for each row without changing the order of the resulting data.frame.
>> I note most techniques people have used focus on columns, not rows, but an
>> all-numeric data.frame can be transposed, or converted to a matrix and
>> later converted back.
>> If this is HW, the question becomes what has been taught so far and is
>> supposed to be used in solving it. Can they make their own functions
>> perhaps to be called three times, once per row or column, to replace that
>> row/column, or can they use some form of loop to iterate over the columns?
>> Does it need to sort of be done in place or can they create gradually a
>> second data.frame and then move the pointer to it and lots of other similar
>> ideas.
>> I am not sure, other than as a HW assignment, why this transformation
>> would need to be done but of course, there may well be a reason.
>> I note that the particular example shown just happens to create almost a
>> magic square as the sum of rows and columns and the major diagonal happen
>> to be 0, albeit the reverse diagonal is all 50's.
>> Again, there are many solutions imaginable but the goal may be more
>> specific and I shudder to supply one given that too often questions here
>> are not detailed enough and are misunderstood. In this case, I thought I
>> understood until I saw what Tom wrote! LOL!
>> I will add this. Is it guaranteed that no two items in the same row are
>> never equal or is there some requirement for how to handle a tie? And note
>> there are base R functions called min() and max() and you can ask for
>> things like:
>> 
>> if ( current == min(mydata[1,])) ...
>> 
>> 
>> -----Original Message-----
>> From: Tom Woolman <twoolman at ontargettek.com>
>> To: Janet Choate <jsc.eco at gmail.com>
>> Cc: r-help at r-project.org
>> Sent: Sun, May 29, 2022 3:42 pm
>> Subject: Re: [R] categorizing data
>> 
>> 
>> Some ideas:
>> 
>> You could create a cluster model with k=3 for each of the 3 variables,
>> to determine what constitutes high/medium/low centroid values for each
>> of the 3 types of plant types. Centroid values could then be used as the
>> upper/lower boundary ranges for high/med/low.
>> 
>> Or utilize a histogram for each variable, and use quantiles or
>> densities, etc. to determine the natural breaks for the high/med/low
>> ranges for each of the IVs.
>> 
>> 
>> 
>> 
>> On 2022-05-29 15:28, Janet Choate wrote:
>>> Hi R community,
>>> I have a data frame with three variables, where each row adds up to 90.
>>> I want to assign a category of low, medium, or high to the values in
>>> each
>>> row - where the lowest value per row will be set to 10, the medium
>>> value
>>> set to 30, and the high value set to 50 - so each row still adds up to
>>> 90.
>>> 
>>> For example:
>>> Data: Orig
>>> tree  shrub  grass
>>> 32    11      47
>>> 23      41      26
>>> 49      23      18
>>> 
>>> Data: New
>>> tree  shrub  grass
>>> 30      10      50
>>> 10      50    30
>>> 50      30    10
>>> 
>>> I am not attaching any code here as I have not been able to write
>>> anything
>>> effective! appreciate help with this!
>>> thank you,
>>> JC
>>> 
>>> --
>>> 
>>>    [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> 
> -- 
> Tague Team Lab Manager
> 1005 Bren Hall
> UCSB, Santa Barbara, CA.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From drj|m|emon @end|ng |rom gm@||@com  Mon May 30 01:32:19 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 30 May 2022 09:32:19 +1000
Subject: [R] How to color boxplots with respect to the variable names
In-Reply-To: <CA+nrPnsNujmDydqe4zc9Z3fevnumPFByhjHHDLWKi5=x=_Yf2A@mail.gmail.com>
References: <CA+nrPnsNujmDydqe4zc9Z3fevnumPFByhjHHDLWKi5=x=_Yf2A@mail.gmail.com>
Message-ID: <CA+8X3fUYtB1A8Dfv3pgJKk7tzRnzjDpJzYYu+JxJUqKdq66E4A@mail.gmail.com>

Hi Neha,
As you have a distinguishing feature in the variable names, here is
one way to do it:

RF<- c(4.7, 1.52, 1.46, 4.5, 0.62, 1.12)
RF_LOO<- c(5.2, 1.52, 1.44, 4.3, 0.64, 1.11)
RF_boot<- c(5.8, 1.5, 1.23, 4.3, 0.64, 1.12)
Ranger<- c(4.5, 1.57, 1.25, 3.75, 0.56, 1.09)
Ranger_LOO<- c(5, 1.56, 1.35, 3.7, 0.6, 1.0)
Ranger_boot<- c(4.2, 1.53, 1.12, 3.7, 0.63, 1.1)
SVM<- c(3.51, 1.34, 0.62, 1.45, 0.5, 1.06)
SVM_LOO<- c(3.6, 1.33, 0.33, 1.4, 0.41, 1.1)
SVM_boot<- c(3.75, 1.35, 0.58, 1.4, 0.4, 1.0)
KNN<- c(2.85, 1.35, 0.25, 1.76, 0.43, 1.25)
KNN_LOO<- c(2.85, 1.34, 0.375, 1.75, 0.44, 1.27)
KNN_boot<- c(2.75, 1.35, 0.375, 1.75, 0.45, 1.27)
varnames<-c("RF","RF_LOO","RF_boot",
 "RANGER","RANGER_LOO","RANGER_boot",
 "SVM","SVM_LOO","SVM_boot",
 "KNN","KNN_LOO","KNN_boot")
colors<-rep("blue",length(varnames))
colors[grep("LOO",varnames)]<-"green"
colors[grep("boot",varnames)]<-"red"
at.x <- seq(1,by=.4, length.out = 10)
boxplot(RF, RF_LOO, RF_boot, Ranger, Ranger_LOO, Ranger_boot, SVM, SVM_LOO,
SVM_boot,
        KNN, KNN_LOO, KNN_boot, range = 0, col=colors, names= c("RF",
"RF_LOO", "RF_boot",
        "Ranger", "Ranger_LOO", "Ranger_boot", "SVM", "SVM_LOO", "SVM_boot",
        "KNN", "KNN_LOO",
"KNN_boot"),las=2,boxwex=0.5,outline=FALSE,cex.axis=0.8, main="Consistency
of the 100% features ")
legend(8,5.5,c("Raw","LOO","boot"),fill=c("blue","green","red"))

Jim

On Mon, May 30, 2022 at 4:46 AM Neha gupta <neha.bologna90 at gmail.com> wrote:
>
> I have the following data and I need to use a boxplot which displays the
> variables (RF, Ranger, SVM, KNN) with one color, variables (RF_boot,
> Ranger_boot, SVM_boot, KNN_boot) with another color and the variables
> (RF_LOO, SVM_LOO, Ranger_LOO, KNN_LOO) with another color.
>
> How can I do that? Currently, I am using the base boxplot which displays
> them in one color. I know it will be more easily achieved with ggplot but I
> have no experience/knowledge with it.
>
> RF= c(4.7, 1.52, 1.46, 4.5, 0.62, 1.12)
> RF_LOO= c(5.2, 1.52, 1.44, 4.3, 0.64, 1.11)
> RF_boot= c(5.8, 1.5, 1.23, 4.3, 0.64, 1.12)
> Ranger= c(4.5, 1.57, 1.25, 3.75, 0.56, 1.09)
> Ranger_LOO= c(5, 1.56, 1.35, 3.7, 0.6, 1.0)
> Ranger_boot= c(4.2, 1.53, 1.12, 3.7, 0.63, 1.1)
> SVM= c(3.51, 1.34, 0.62, 1.45, 0.5, 1.06)
> SVM_LOO= c(3.6, 1.33, 0.33, 1.4, 0.41, 1.1)
> SVM_boot= c(3.75, 1.35, 0.58, 1.4, 0.4, 1.0)
> KNN= c(2.85, 1.35, 0.25, 1.76, 0.43, 1.25)
> KNN_LOO= c(2.85, 1.34, 0.375, 1.75, 0.44, 1.27)
> KNN_boot= c(2.75, 1.35, 0.375, 1.75, 0.45, 1.27)
>
> My base boxplot is here
>
> colors = rep("blue",12)
> at.x <- seq(1,by=.4, length.out = 10)
> boxplot(RF, RF_LOO, RF_boot, Ranger, Ranger_LOO, Ranger_boot, SVM, SVM_LOO,
> SVM_boot,
>         KNN, KNN_LOO, KNN_boot, range = 0, col=colors, names= c("RF",
> "RF_LOO", "RF_boot",
>         "Ranger", "Ranger_LOO", "Ranger_boot", "SVM", "SVM_LOO", "SVM_boot",
>         "KNN", "KNN_LOO",
> "KNN_boot"),las=2,boxwex=0.5,outline=FALSE,cex.axis=0.8, main="Consistency
> of the 100% features ")
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Mon May 30 02:47:50 2022
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Mon, 30 May 2022 02:47:50 +0200
Subject: [R] How to color boxplots with respect to the variable names
In-Reply-To: <CA+8X3fUYtB1A8Dfv3pgJKk7tzRnzjDpJzYYu+JxJUqKdq66E4A@mail.gmail.com>
References: <CA+nrPnsNujmDydqe4zc9Z3fevnumPFByhjHHDLWKi5=x=_Yf2A@mail.gmail.com>
 <CA+8X3fUYtB1A8Dfv3pgJKk7tzRnzjDpJzYYu+JxJUqKdq66E4A@mail.gmail.com>
Message-ID: <CA+nrPnsUi8ke6hLS_hsTWct4DABw1rMbwKGS8hvabKvMM5=bCw@mail.gmail.com>

Thank you so much Jim for your help.

Best regards

On Monday, May 30, 2022, Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Neha,
> As you have a distinguishing feature in the variable names, here is
> one way to do it:
>
> RF<- c(4.7, 1.52, 1.46, 4.5, 0.62, 1.12)
> RF_LOO<- c(5.2, 1.52, 1.44, 4.3, 0.64, 1.11)
> RF_boot<- c(5.8, 1.5, 1.23, 4.3, 0.64, 1.12)
> Ranger<- c(4.5, 1.57, 1.25, 3.75, 0.56, 1.09)
> Ranger_LOO<- c(5, 1.56, 1.35, 3.7, 0.6, 1.0)
> Ranger_boot<- c(4.2, 1.53, 1.12, 3.7, 0.63, 1.1)
> SVM<- c(3.51, 1.34, 0.62, 1.45, 0.5, 1.06)
> SVM_LOO<- c(3.6, 1.33, 0.33, 1.4, 0.41, 1.1)
> SVM_boot<- c(3.75, 1.35, 0.58, 1.4, 0.4, 1.0)
> KNN<- c(2.85, 1.35, 0.25, 1.76, 0.43, 1.25)
> KNN_LOO<- c(2.85, 1.34, 0.375, 1.75, 0.44, 1.27)
> KNN_boot<- c(2.75, 1.35, 0.375, 1.75, 0.45, 1.27)
> varnames<-c("RF","RF_LOO","RF_boot",
>  "RANGER","RANGER_LOO","RANGER_boot",
>  "SVM","SVM_LOO","SVM_boot",
>  "KNN","KNN_LOO","KNN_boot")
> colors<-rep("blue",length(varnames))
> colors[grep("LOO",varnames)]<-"green"
> colors[grep("boot",varnames)]<-"red"
> at.x <- seq(1,by=.4, length.out = 10)
> boxplot(RF, RF_LOO, RF_boot, Ranger, Ranger_LOO, Ranger_boot, SVM, SVM_LOO,
> SVM_boot,
>         KNN, KNN_LOO, KNN_boot, range = 0, col=colors, names= c("RF",
> "RF_LOO", "RF_boot",
>         "Ranger", "Ranger_LOO", "Ranger_boot", "SVM", "SVM_LOO",
> "SVM_boot",
>         "KNN", "KNN_LOO",
> "KNN_boot"),las=2,boxwex=0.5,outline=FALSE,cex.axis=0.8, main="Consistency
> of the 100% features ")
> legend(8,5.5,c("Raw","LOO","boot"),fill=c("blue","green","red"))
>
> Jim
>
> On Mon, May 30, 2022 at 4:46 AM Neha gupta <neha.bologna90 at gmail.com>
> wrote:
> >
> > I have the following data and I need to use a boxplot which displays the
> > variables (RF, Ranger, SVM, KNN) with one color, variables (RF_boot,
> > Ranger_boot, SVM_boot, KNN_boot) with another color and the variables
> > (RF_LOO, SVM_LOO, Ranger_LOO, KNN_LOO) with another color.
> >
> > How can I do that? Currently, I am using the base boxplot which displays
> > them in one color. I know it will be more easily achieved with ggplot
> but I
> > have no experience/knowledge with it.
> >
> > RF= c(4.7, 1.52, 1.46, 4.5, 0.62, 1.12)
> > RF_LOO= c(5.2, 1.52, 1.44, 4.3, 0.64, 1.11)
> > RF_boot= c(5.8, 1.5, 1.23, 4.3, 0.64, 1.12)
> > Ranger= c(4.5, 1.57, 1.25, 3.75, 0.56, 1.09)
> > Ranger_LOO= c(5, 1.56, 1.35, 3.7, 0.6, 1.0)
> > Ranger_boot= c(4.2, 1.53, 1.12, 3.7, 0.63, 1.1)
> > SVM= c(3.51, 1.34, 0.62, 1.45, 0.5, 1.06)
> > SVM_LOO= c(3.6, 1.33, 0.33, 1.4, 0.41, 1.1)
> > SVM_boot= c(3.75, 1.35, 0.58, 1.4, 0.4, 1.0)
> > KNN= c(2.85, 1.35, 0.25, 1.76, 0.43, 1.25)
> > KNN_LOO= c(2.85, 1.34, 0.375, 1.75, 0.44, 1.27)
> > KNN_boot= c(2.75, 1.35, 0.375, 1.75, 0.45, 1.27)
> >
> > My base boxplot is here
> >
> > colors = rep("blue",12)
> > at.x <- seq(1,by=.4, length.out = 10)
> > boxplot(RF, RF_LOO, RF_boot, Ranger, Ranger_LOO, Ranger_boot, SVM,
> SVM_LOO,
> > SVM_boot,
> >         KNN, KNN_LOO, KNN_boot, range = 0, col=colors, names= c("RF",
> > "RF_LOO", "RF_boot",
> >         "Ranger", "Ranger_LOO", "Ranger_boot", "SVM", "SVM_LOO",
> "SVM_boot",
> >         "KNN", "KNN_LOO",
> > "KNN_boot"),las=2,boxwex=0.5,outline=FALSE,cex.axis=0.8,
> main="Consistency
> > of the 100% features ")
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


