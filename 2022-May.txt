From t@n@@@ @end|ng |rom gm@||@com  Sun May  1 01:22:44 2022
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Sat, 30 Apr 2022 16:22:44 -0700
Subject: [R] hdf5 files
Message-ID: <CA+JEM03JtrYRPstfH_fxp60G-Mgd9fZbTWk7z+BV9-TT6Tbk4w@mail.gmail.com>

Dear all,

is there a way to read rge hd5 files in R without using hdf5r library ?

Thanks,

Bogdan

	[[alternative HTML version deleted]]


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sun May  1 14:36:54 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 1 May 2022 12:36:54 +0000
Subject: [R] struccchange on zoo time series
Message-ID: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>

I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R". ?This fit works when data input is an object of class ts, but not when data input is object of class zoo. ?I prefer to use zoo because it provides better housekeeping with dates. ?Is it possible to achieve the fit with zoo?

library(AER)
library(strucchange)

data(UKDriverDeaths)
dd <- log(UKDriverDeaths)
dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
? ? ? ? ? ? ? dd.lag12 = lag(dd.z, k = -12))

# Does not work
dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
? ? ? ? ? ? ? ?type = "OLS-CUSUM")
# Error message
# Error in eval(attr(mt, "variables")[[2]], data, env) : 
# numeric 'envir' arg not of length one

# Works
dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
? ? ? ? ? ? ? ?type = "OLS-CUSUM")

# But time stamps are lost
plot(dd.ocus)
# Time indexed from 0 to 180

Thanks,
Naresh

From er|cjberger @end|ng |rom gm@||@com  Sun May  1 16:18:54 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 17:18:54 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>

Hi Naresh,
The tsbox package on CRAN -
https://cran.r-project.org/web/packages/tsbox/index.html - has the
following description:

tsbox: Class-Agnostic Time Series

Time series toolkit with identical behavior for all time series
classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
between these classes.

Hopefully this will provide you the necessary tools to solve your problem.

Good luck,
Eric



On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com> wrote:
>
> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>
> library(AER)
> library(strucchange)
>
> data(UKDriverDeaths)
> dd <- log(UKDriverDeaths)
> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>               dd.lag12 = lag(dd.z, k = -12))
>
> # Does not work
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>                type = "OLS-CUSUM")
> # Error message
> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> # numeric 'envir' arg not of length one
>
> # Works
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>                type = "OLS-CUSUM")
>
> # But time stamps are lost
> plot(dd.ocus)
> # Time indexed from 0 to 180
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 16:53:33 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 16:53:33 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <f9eca0cf-b41f-9e89-7beb-fce16ce9d24@uibk.ac.at>

On Sun, 1 May 2022, Naresh Gurbuxani wrote:

> I am trying to replicate empirical fluctuation process fit (efp) 
> described in the book "Applied Econometrics with R". ?This fit works 
> when data input is an object of class ts, but not when data input is 
> object of class zoo. ?I prefer to use zoo because it provides better 
> housekeeping with dates. ?Is it possible to achieve the fit with zoo?

The efp() function has been written before zoo was available and is hence 
confined to ts objects. The gefp() function _g_enenralizes the efp idea 
and also works with zoo series out of the box - and also with models other 
than lm()..

Internally gefp always computes a score-based CUSUM process, based on 
which various structural change tests can be computed that encompass the 
OLS-based CUSUM test. Typically, I would recommend to compute the supLM 
test, though, which is more powerful against many structural change 
alternatives. See ?gefp and the references therein for more details. A 
worked example is included below.

> library(AER)
> library(strucchange)
>
> data(UKDriverDeaths)
> dd <- log(UKDriverDeaths)
> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> ? ? ? ? ? ? ? dd.lag12 = lag(dd.z, k = -12))

Then you can continue with the following for the full score-based CUSUM 
process and corresponding supLM test with 10% trimming:

dd.scus <- gefp(dd ~ dd.lag1 + dd.lag12, fit = lm, data = dd.z)
plot(dd.scus, functional = supLM(0.1))
sctest(dd.scus, functional = supLM(0.1))
## 	M-fluctuation test
## 
## data:  dd.scus
## f(efp) = 17.128, p-value = 0.01711

The OLS-based CUSUM test is also a special case but then you need to test 
just the first score without decorrelation:

dd.ocus <- gefp(dd ~ dd.lag1 + dd.lag12, fit = lm, data = dd.z,
   parm = 1, decorrelate = FALSE)
plot(dd.ocus)
sctest(dd.ocus)
## 	M-fluctuation test
## 
## data:  dd.ocus
## f(efp) = 1.4991, p-value = 0.02234

Compared to the book the results differ slightly due to different degrees 
of freedom adjustments that are used by default.

Best,
Achim

> # Does not work
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> ? ? ? ? ? ? ? ?type = "OLS-CUSUM")
> # Error message
> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> # numeric 'envir' arg not of length one
>
> # Works
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> ? ? ? ? ? ? ? ?type = "OLS-CUSUM")
>
> # But time stamps are lost
> plot(dd.ocus)
> # Time indexed from 0 to 180
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 16:56:18 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 16:56:18 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
Message-ID: <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>

On Sun, 1 May 2022, Eric Berger wrote:

> Hi Naresh,
> The tsbox package on CRAN -
> https://cran.r-project.org/web/packages/tsbox/index.html - has the
> following description:
>
> tsbox: Class-Agnostic Time Series
>
> Time series toolkit with identical behavior for all time series
> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> between these classes.
>
> Hopefully this will provide you the necessary tools to solve your problem.

Not really because the code inside strucchange::efp does not use tsbox but 
just ts directly.

Best,
Achim

> Good luck,
> Eric
>
>
>
> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> <naresh_gurbuxani at hotmail.com> wrote:
>>
>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>
>> library(AER)
>> library(strucchange)
>>
>> data(UKDriverDeaths)
>> dd <- log(UKDriverDeaths)
>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>               dd.lag12 = lag(dd.z, k = -12))
>>
>> # Does not work
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>                type = "OLS-CUSUM")
>> # Error message
>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>> # numeric 'envir' arg not of length one
>>
>> # Works
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>                type = "OLS-CUSUM")
>>
>> # But time stamps are lost
>> plot(dd.ocus)
>> # Time indexed from 0 to 180
>>
>> Thanks,
>> Naresh
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From er|cjberger @end|ng |rom gm@||@com  Sun May  1 16:58:52 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 17:58:52 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
Message-ID: <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>

Hi Achim,
My point was that tsbox (apparently) provides tools to convert zoo -->
ts which should help the OP.

On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>
> On Sun, 1 May 2022, Eric Berger wrote:
>
> > Hi Naresh,
> > The tsbox package on CRAN -
> > https://cran.r-project.org/web/packages/tsbox/index.html - has the
> > following description:
> >
> > tsbox: Class-Agnostic Time Series
> >
> > Time series toolkit with identical behavior for all time series
> > classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> > 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> > between these classes.
> >
> > Hopefully this will provide you the necessary tools to solve your problem.
>
> Not really because the code inside strucchange::efp does not use tsbox but
> just ts directly.
>
> Best,
> Achim
>
> > Good luck,
> > Eric
> >
> >
> >
> > On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> > <naresh_gurbuxani at hotmail.com> wrote:
> >>
> >> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
> >>
> >> library(AER)
> >> library(strucchange)
> >>
> >> data(UKDriverDeaths)
> >> dd <- log(UKDriverDeaths)
> >> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> >> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> >>               dd.lag12 = lag(dd.z, k = -12))
> >>
> >> # Does not work
> >> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> >>                type = "OLS-CUSUM")
> >> # Error message
> >> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> >> # numeric 'envir' arg not of length one
> >>
> >> # Works
> >> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> >>                type = "OLS-CUSUM")
> >>
> >> # But time stamps are lost
> >> plot(dd.ocus)
> >> # Time indexed from 0 to 180
> >>
> >> Thanks,
> >> Naresh
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Sun May  1 17:58:19 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Sun, 1 May 2022 17:58:19 +0200 (CEST)
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
Message-ID: <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>

On Sun, 1 May 2022, Eric Berger wrote:

> Hi Achim,
> My point was that tsbox (apparently) provides tools to convert zoo -->
> ts which should help the OP.

Not necessarily, because ts can only represent regular and plain numeric 
time indexes whereas zoo (and also xts and tsibble) can represent 
irregular time indexes of different classes as well. Also, zoo (and also 
xts and tsibble) can convert to many other time series classes (including 
ts) directly, there is no need to go via tsbox for that.

In this particular case it would be possible, though, to convert back and 
forth between ts and zoo because the data is simply monthly. This can be 
done with as.ts() and as.zoo(), respectively.

dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
                type = "OLS-CUSUM")


> On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>>
>> On Sun, 1 May 2022, Eric Berger wrote:
>>
>>> Hi Naresh,
>>> The tsbox package on CRAN -
>>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
>>> following description:
>>>
>>> tsbox: Class-Agnostic Time Series
>>>
>>> Time series toolkit with identical behavior for all time series
>>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
>>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
>>> between these classes.
>>>
>>> Hopefully this will provide you the necessary tools to solve your problem.
>>
>> Not really because the code inside strucchange::efp does not use tsbox but
>> just ts directly.
>>
>> Best,
>> Achim
>>
>>> Good luck,
>>> Eric
>>>
>>>
>>>
>>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
>>> <naresh_gurbuxani at hotmail.com> wrote:
>>>>
>>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>>>
>>>> library(AER)
>>>> library(strucchange)
>>>>
>>>> data(UKDriverDeaths)
>>>> dd <- log(UKDriverDeaths)
>>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>>>               dd.lag12 = lag(dd.z, k = -12))
>>>>
>>>> # Does not work
>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>>>                type = "OLS-CUSUM")
>>>> # Error message
>>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>>>> # numeric 'envir' arg not of length one
>>>>
>>>> # Works
>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>>>                type = "OLS-CUSUM")
>>>>
>>>> # But time stamps are lost
>>>> plot(dd.ocus)
>>>> # Time indexed from 0 to 180
>>>>
>>>> Thanks,
>>>> Naresh
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>


From er|cjberger @end|ng |rom gm@||@com  Sun May  1 18:13:41 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 1 May 2022 19:13:41 +0300
Subject: [R] struccchange on zoo time series
In-Reply-To: <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
 <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
Message-ID: <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>

Thanks


On Sun, May 1, 2022 at 6:58 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>
> On Sun, 1 May 2022, Eric Berger wrote:
>
> > Hi Achim,
> > My point was that tsbox (apparently) provides tools to convert zoo -->
> > ts which should help the OP.
>
> Not necessarily, because ts can only represent regular and plain numeric
> time indexes whereas zoo (and also xts and tsibble) can represent
> irregular time indexes of different classes as well. Also, zoo (and also
> xts and tsibble) can convert to many other time series classes (including
> ts) directly, there is no need to go via tsbox for that.
>
> In this particular case it would be possible, though, to convert back and
> forth between ts and zoo because the data is simply monthly. This can be
> done with as.ts() and as.zoo(), respectively.
>
> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
>                 type = "OLS-CUSUM")
>
>
> > On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
> >>
> >> On Sun, 1 May 2022, Eric Berger wrote:
> >>
> >>> Hi Naresh,
> >>> The tsbox package on CRAN -
> >>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
> >>> following description:
> >>>
> >>> tsbox: Class-Agnostic Time Series
> >>>
> >>> Time series toolkit with identical behavior for all time series
> >>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
> >>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
> >>> between these classes.
> >>>
> >>> Hopefully this will provide you the necessary tools to solve your problem.
> >>
> >> Not really because the code inside strucchange::efp does not use tsbox but
> >> just ts directly.
> >>
> >> Best,
> >> Achim
> >>
> >>> Good luck,
> >>> Eric
> >>>
> >>>
> >>>
> >>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
> >>> <naresh_gurbuxani at hotmail.com> wrote:
> >>>>
> >>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
> >>>>
> >>>> library(AER)
> >>>> library(strucchange)
> >>>>
> >>>> data(UKDriverDeaths)
> >>>> dd <- log(UKDriverDeaths)
> >>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
> >>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
> >>>>               dd.lag12 = lag(dd.z, k = -12))
> >>>>
> >>>> # Does not work
> >>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
> >>>>                type = "OLS-CUSUM")
> >>>> # Error message
> >>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
> >>>> # numeric 'envir' arg not of length one
> >>>>
> >>>> # Works
> >>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
> >>>>                type = "OLS-CUSUM")
> >>>>
> >>>> # But time stamps are lost
> >>>> plot(dd.ocus)
> >>>> # Time indexed from 0 to 180
> >>>>
> >>>> Thanks,
> >>>> Naresh
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >>>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sun May  1 18:23:06 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 1 May 2022 16:23:06 +0000
Subject: [R] struccchange on zoo time series
In-Reply-To: <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>
References: <BL0PR01MB403699823A70BE131E24D30DFAFE9@BL0PR01MB4036.prod.exchangelabs.com>
 <CAGgJW75mEhw064ixXcr8rWJCvbfE33EOTXkb3gQ1ABYPkitZLA@mail.gmail.com>
 <c6deedf4-8631-f2ec-bec-d8abbb8cca5a@uibk.ac.at>
 <CAGgJW76hJx-0E6jVJqP5mFapvtm1fTUzBW11GtsbWcZdUF1g_g@mail.gmail.com>
 <54d8ec58-e6b2-36d4-a6bc-599a8108580@uibk.ac.at>
 <CAGgJW75uAd6-oo767_mrjvmO8QYr_B_Uc_9SU9_+pRcEfJeo-w@mail.gmail.com>
Message-ID: <BL0PR01MB40364D14F4B9E7F14B432122FAFE9@BL0PR01MB4036.prod.exchangelabs.com>

Thanks all for detailed replies, which go beyond a narrow answer to my question.

Naresh

Sent from my iPhone

> On May 1, 2022, at 12:14 PM, Eric Berger <ericjberger at gmail.com> wrote:
> 
> Thanks
> 
> 
>> On Sun, May 1, 2022 at 6:58 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>> 
>>> On Sun, 1 May 2022, Eric Berger wrote:
>>> 
>>> Hi Achim,
>>> My point was that tsbox (apparently) provides tools to convert zoo -->
>>> ts which should help the OP.
>> 
>> Not necessarily, because ts can only represent regular and plain numeric
>> time indexes whereas zoo (and also xts and tsibble) can represent
>> irregular time indexes of different classes as well. Also, zoo (and also
>> xts and tsibble) can convert to many other time series classes (including
>> ts) directly, there is no need to go via tsbox for that.
>> 
>> In this particular case it would be possible, though, to convert back and
>> forth between ts and zoo because the data is simply monthly. This can be
>> done with as.ts() and as.zoo(), respectively.
>> 
>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = as.ts(na.trim(dd.z)),
>>                type = "OLS-CUSUM")
>> 
>> 
>>>> On Sun, May 1, 2022 at 5:56 PM Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
>>>> 
>>>>> On Sun, 1 May 2022, Eric Berger wrote:
>>>>> 
>>>>> Hi Naresh,
>>>>> The tsbox package on CRAN -
>>>>> https://cran.r-project.org/web/packages/tsbox/index.html - has the
>>>>> following description:
>>>>> 
>>>>> tsbox: Class-Agnostic Time Series
>>>>> 
>>>>> Time series toolkit with identical behavior for all time series
>>>>> classes: 'ts','xts', 'data.frame', 'data.table', 'tibble', 'zoo',
>>>>> 'timeSeries', 'tsibble', 'tis' or 'irts'. Also converts reliably
>>>>> between these classes.
>>>>> 
>>>>> Hopefully this will provide you the necessary tools to solve your problem.
>>>> 
>>>> Not really because the code inside strucchange::efp does not use tsbox but
>>>> just ts directly.
>>>> 
>>>> Best,
>>>> Achim
>>>> 
>>>>> Good luck,
>>>>> Eric
>>>>> 
>>>>> 
>>>>> 
>>>>> On Sun, May 1, 2022 at 3:37 PM Naresh Gurbuxani
>>>>> <naresh_gurbuxani at hotmail.com> wrote:
>>>>>> 
>>>>>> I am trying to replicate empirical fluctuation process fit (efp) described in the book "Applied Econometrics with R".  This fit works when data input is an object of class ts, but not when data input is object of class zoo.  I prefer to use zoo because it provides better housekeeping with dates.  Is it possible to achieve the fit with zoo?
>>>>>> 
>>>>>> library(AER)
>>>>>> library(strucchange)
>>>>>> 
>>>>>> data(UKDriverDeaths)
>>>>>> dd <- log(UKDriverDeaths)
>>>>>> dd.z <- zoo(dd, order.by = as.yearmon(time(dd)))
>>>>>> dd.z <- merge(dd = dd.z, dd.lag1 = lag(dd.z, k = -1),
>>>>>>              dd.lag12 = lag(dd.z, k = -12))
>>>>>> 
>>>>>> # Does not work
>>>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = na.trim(dd.z),
>>>>>>               type = "OLS-CUSUM")
>>>>>> # Error message
>>>>>> # Error in eval(attr(mt, "variables")[[2]], data, env) :
>>>>>> # numeric 'envir' arg not of length one
>>>>>> 
>>>>>> # Works
>>>>>> dd.ocus <- efp(dd ~ dd.lag1 + dd.lag12, data = ts(na.trim(dd.z)),
>>>>>>               type = "OLS-CUSUM")
>>>>>> 
>>>>>> # But time stamps are lost
>>>>>> plot(dd.ocus)
>>>>>> # Time indexed from 0 to 180
>>>>>> 
>>>>>> Thanks,
>>>>>> Naresh
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>> 
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>> 
>>> 


From petr@p|k@| @end|ng |rom prechez@@cz  Mon May  2 10:26:01 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 2 May 2022 08:26:01 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <87zgk2oq0p.fsf@gmail.com>
References: <87zgk2oq0p.fsf@gmail.com>
Message-ID: <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>

Hallo

I do not have much experience with Linux, Rstudio and ESS, but you can
customise R startup by .Rprofile.site .Rconsole files which are situated in
/etc directory of your installation

You can find some info about it in Rintro chapter
10.8 Customizing the environment

Cheers
Petr
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Jeremie Juste
> Sent: Saturday, April 30, 2022 11:54 AM
> To: R-help at R-project.org
> Subject: [R] customizing edit.data.frame
> 
> Hello,
> 
> I was wondering how to customize the grid color of the GUI from the
> following command?
> 
> edit(data.frame())
> 
> The default grid color is red while on linux it is black. I also found out
that
> one can customize the mentioned color using the native R GUI in the menu
> preferences. After saving the preferences a file named Rconsole is
created.
> 
> I would like to know if there is a way to set the grid color directly when
> launching R from the terminal or RStudio or ESS?
> 
> Best regards,
> Jeremie
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Mon May  2 13:09:55 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Mon, 2 May 2022 11:09:55 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <87zgk2oq0p.fsf@gmail.com>
References: <87zgk2oq0p.fsf@gmail.com>
Message-ID: <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>

I would also love to find out how to make changes to the way edit() -- or in my case, View(), but that's presumably using the same resources -- looks under Linux. On my 4K display, the font size is so small as to be barely readable. I would assume this requires some adjustment to .Xresources, but I don't know what keys might be relevant. Searching through the source code didn't give me any clues. See also:

https://stackoverflow.com/questions/64459416/how-to-change-text-font-and-size-in-r-view

The only mention of Xresources I could find were under ?X11, but this pertains to plots, not edit() and View(). 

I asked about this on R-sig-Debian in 2017:

https://stat.ethz.ch/pipermail/r-sig-debian/2017-October/002776.html

I don't think I ever followed this up on R-devel (where maybe this belongs), so happy to move this there if nobody here has any suggestions.

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Jeremie Juste
>Sent: Saturday, 30 April, 2022 11:54
>To: R-help at R-project.org
>Subject: [R] customizing edit.data.frame
>
>Hello,
>
>I was wondering how to customize the grid color of the GUI from the following
>command?
>
>edit(data.frame())
>
>The default grid color is red while on linux it is black. I also found
>out that one can customize the mentioned color using the native R GUI in
>the menu preferences. After saving the preferences a file named Rconsole
>is created.
>
>I would like to know if there is a way to set the grid color directly
>when launching R from the terminal or RStudio or ESS?
>
>Best regards,
>Jeremie


From kry|ov@r00t @end|ng |rom gm@||@com  Mon May  2 15:30:44 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 2 May 2022 16:30:44 +0300
Subject: [R] customizing edit.data.frame
In-Reply-To: <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
References: <87zgk2oq0p.fsf@gmail.com>
 <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
Message-ID: <20220502163044.602d557b@trisector>

On Mon, 2 May 2022 11:09:55 +0000
"Viechtbauer, Wolfgang (NP)"
<wolfgang.viechtbauer at maastrichtuniversity.nl> wrote:

> I would also love to find out how to make changes to the way edit()
> -- or in my case, View(), but that's presumably using the same
> resources -- looks under Linux.

Looking at the source code [*], there is a way to set the font using an
undocumented option, but the its size is still hard-coded to "12 pt":
https://github.com/r-devel/r-svn/blob/d3e0e30f6da8ab81f24b04690a9a52d81603b189/src/modules/X11/dataentry.c#L1924

(Those are bitmap fonts intended for a fixed DPI which is likely
different from yours, which is why the font size measured in points is
wrong. I'm not an X11 expert, so I don't know whether this is possible,
but I've never seen these fonts packaged for more than 100 DPI.)

It's possible to get the desired result by passing a string with fixed
parameters instead of %s, %s, %d precisely in the right places, but
that's undefined behaviour and not intended to work this way:

stopifnot(l10n_info()$MBCS)
options(X11fonts = "-*-courier-%s-%s-*-*-34-*-*-*-*-*-*-*")
View(1)

(See the xfontsel command for what XLFD font names should look like and
X11Fonts() for what R expects to find in that option.)

-- 
Best regards,
Ivan


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Mon May  2 15:52:07 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Mon, 2 May 2022 13:52:07 +0000
Subject: [R] customizing edit.data.frame
In-Reply-To: <20220502163044.602d557b@trisector>
References: <87zgk2oq0p.fsf@gmail.com>
 <0a989c8f77fc4662b266b7428ce3ef1e@UM-MAIL3214.unimaas.nl>
 <20220502163044.602d557b@trisector>
Message-ID: <48957e76f5eb476ebfc9cdeaaca383c0@UM-MAIL3214.unimaas.nl>

Nice -- this is so much better for my aging eyes! Thanks!

In the long run, would be nice if there was an 'official' way of adjusting the font size under X11.

Best,
Wolfgang

>-----Original Message-----
>From: Ivan Krylov [mailto:krylov.r00t at gmail.com]
>Sent: Monday, 02 May, 2022 15:31
>To: Viechtbauer, Wolfgang (NP)
>Cc: R-help at R-project.org
>Subject: Re: [R] customizing edit.data.frame
>
>On Mon, 2 May 2022 11:09:55 +0000
>"Viechtbauer, Wolfgang (NP)"
><wolfgang.viechtbauer at maastrichtuniversity.nl> wrote:
>
>> I would also love to find out how to make changes to the way edit()
>> -- or in my case, View(), but that's presumably using the same
>> resources -- looks under Linux.
>
>Looking at the source code [*], there is a way to set the font using an
>undocumented option, but the its size is still hard-coded to "12 pt":
>https://github.com/r-devel/r-
>svn/blob/d3e0e30f6da8ab81f24b04690a9a52d81603b189/src/modules/X11/dataentry.c#L19
>24
>
>(Those are bitmap fonts intended for a fixed DPI which is likely
>different from yours, which is why the font size measured in points is
>wrong. I'm not an X11 expert, so I don't know whether this is possible,
>but I've never seen these fonts packaged for more than 100 DPI.)
>
>It's possible to get the desired result by passing a string with fixed
>parameters instead of %s, %s, %d precisely in the right places, but
>that's undefined behaviour and not intended to work this way:
>
>stopifnot(l10n_info()$MBCS)
>options(X11fonts = "-*-courier-%s-%s-*-*-34-*-*-*-*-*-*-*")
>View(1)
>
>(See the xfontsel command for what XLFD font names should look like and
>X11Fonts() for what R expects to find in that option.)
>
>--
>Best regards,
>Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Mon May  2 21:37:46 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 2 May 2022 22:37:46 +0300
Subject: [R] alist() and missing variables
Message-ID: <20220502223746.23ae8865@trisector>

Hi,

I've been playing around with formals() and stumbled upon some
behaviour which surprised me:

a <- alist(x=)
.Internal(inspect(a$x))
# @55b0ebae67b0 01 SYMSXP g0c0 [MARK,REF(5761)] "" (has value)
x <- a$x
.Internal(inspect(x))
# Error: argument "x" is missing, with no default
missing(x)
[1] TRUE

Apparently, the elements corresponding to formal arguments without a
default value can be passed to functions as arguments (and look like
empty symbols, which can't be created by as.symbol()), but when
assigned to a variable, they turn missing and can't be accessed.

How can I safely detect and work with such values?

-- 
Best regards,
Ivan


From iuke-tier@ey m@iii@g oii uiow@@edu  Mon May  2 22:07:39 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Mon, 2 May 2022 15:07:39 -0500 (CDT)
Subject: [R] [External]  alist() and missing variables
In-Reply-To: <20220502223746.23ae8865@trisector>
References: <20220502223746.23ae8865@trisector>
Message-ID: <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>

On Mon, 2 May 2022, Ivan Krylov wrote:

> Hi,
>
> I've been playing around with formals() and stumbled upon some
> behaviour which surprised me:
>
> a <- alist(x=)
> .Internal(inspect(a$x))
> # @55b0ebae67b0 01 SYMSXP g0c0 [MARK,REF(5761)] "" (has value)
> x <- a$x
> .Internal(inspect(x))
> # Error: argument "x" is missing, with no default
> missing(x)
> [1] TRUE
>
> Apparently, the elements corresponding to formal arguments without a
> default value can be passed to functions as arguments (and look like
> empty symbols, which can't be created by as.symbol()), but when
> assigned to a variable, they turn missing and can't be accessed.
>
> How can I safely detect and work with such values?

You can detect them as you did here using missing(). This is what the
byte code compiler implementation does.
[https://homepage.stat.uiowa.edu/~luke/R/compiler/compiler.pdf]

It's not ideal but it's what we have and not likely to change any time
soon.

Best,

luke

>
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 03:45:40 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 18:45:40 -0700
Subject: [R] Somewhat disconcerting behavior of seq.int()
Message-ID: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>

** Disconcerting to me, anyway; perhaps not to others**
(Apologies if this has been discussed before. I was a bit nonplussed by
it, but maybe I'm just clueless.) Anyway:

Here are two almost identical versions of the Sieve of Eratosthenes.
The difference between them is only in the call to seq.int() that is
highlighted

sieve1 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
####################
   s <- seq.int(2, to = m) ## Only difference here
######################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
####################
   s <- seq.int(2, to = m, by =1) ## Only difference here
#######################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

However, execution time is *quite* different.

library(microbenchmark)

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean  median       uq      max
 l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
 neval
    50

> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr      min      lq     mean   median       uq      max
 l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
 neval
    50

Now note that:
> identical(l1, l2)
[1] FALSE

## Because:
> str(l1)
 int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...

> str(l2)
 num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...

I therefore assume that seq.int(), an internal generic, is dispatching
to a method that uses integer arithmetic for sieve1 and floating point
for sieve2. Is this correct? If not, what do I fail to understand? And
is this indeed the source of the large difference in execution time?

Further, ?seq.int says:
"The interpretation of the unnamed arguments of seq and seq.int is not
standard, and it is recommended always to name the arguments when
programming."

The above suggests that maybe this advice should be qualified, and/or
adding some comments to the Help file regarding this behavior might be
useful to na?fs like me.

In case it makes a difference (and it might!):

> sessionInfo()
R version 4.2.0 (2022-04-22)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Monterey 12.3.1

Matrix products: default
LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] microbenchmark_1.4.9

loaded via a namespace (and not attached):
[1] compiler_4.2.0 tools_4.2.0


Thanks for any enlightenment and again apologies if I am plowing old ground.

Best to all,

Bert Gunter


From @kw@|mmo @end|ng |rom gm@||@com  Tue May  3 04:00:36 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Mon, 2 May 2022 22:00:36 -0400
Subject: [R] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
Message-ID: <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>

A sequence where 'from' and 'to' are both integer valued (not necessarily
class integer) will use R_compact_intrange; the return value is an integer
vector and is stored with minimal space.

In your case, you specified a 'from', 'to', and 'by'; if all are integer
class, then the return value is also integer class. I think if 'from' and
'to' are integer valued and 'by' is integer class, the return value is
integer class, might want to check that though. In your case, I think
replacing 'by = 1' with 'by = 1L' will mean the sequences are identical,
though it may still take longer than not specifying at all.

On Mon, May 2, 2022, 21:46 Bert Gunter <bgunter.4567 at gmail.com> wrote:

> ** Disconcerting to me, anyway; perhaps not to others**
> (Apologies if this has been discussed before. I was a bit nonplussed by
> it, but maybe I'm just clueless.) Anyway:
>
> Here are two almost identical versions of the Sieve of Eratosthenes.
> The difference between them is only in the call to seq.int() that is
> highlighted
>
> sieve1 <- function(m){
>    if(m < 2) return(NULL)
>    a <- floor(sqrt(m))
>    pr <- Recall(a)
> ####################
>    s <- seq.int(2, to = m) ## Only difference here
> ######################
>    for( i in pr) s <- s[as.logical(s %% i)]
>    c(pr,s)
> }
>
> sieve2 <- function(m){
>    if(m < 2) return(NULL)
>    a <- floor(sqrt(m))
>    pr <- Recall(a)
> ####################
>    s <- seq.int(2, to = m, by =1) ## Only difference here
> #######################
>    for( i in pr) s <- s[as.logical(s %% i)]
>    c(pr,s)
> }
>
> However, execution time is *quite* different.
>
> library(microbenchmark)
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                 expr      min       lq     mean  median       uq      max
>  l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
>  neval
>     50
>
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                 expr      min      lq     mean   median       uq      max
>  l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
>  neval
>     50
>
> Now note that:
> > identical(l1, l2)
> [1] FALSE
>
> ## Because:
> > str(l1)
>  int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> > str(l2)
>  num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> I therefore assume that seq.int(), an internal generic, is dispatching
> to a method that uses integer arithmetic for sieve1 and floating point
> for sieve2. Is this correct? If not, what do I fail to understand? And
> is this indeed the source of the large difference in execution time?
>
> Further, ?seq.int says:
> "The interpretation of the unnamed arguments of seq and seq.int is not
> standard, and it is recommended always to name the arguments when
> programming."
>
> The above suggests that maybe this advice should be qualified, and/or
> adding some comments to the Help file regarding this behavior might be
> useful to na?fs like me.
>
> In case it makes a difference (and it might!):
>
> > sessionInfo()
> R version 4.2.0 (2022-04-22)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Monterey 12.3.1
>
> Matrix products: default
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] microbenchmark_1.4.9
>
> loaded via a namespace (and not attached):
> [1] compiler_4.2.0 tools_4.2.0
>
>
> Thanks for any enlightenment and again apologies if I am plowing old
> ground.
>
> Best to all,
>
> Bert Gunter
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 05:02:16 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 20:02:16 -0700
Subject: [R] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <CAPcHnpS5Lsq5nZe-ZWNM1vfNFep0KKw7BjghdKmfmpgfiCbn8Q@mail.gmail.com>
Message-ID: <CAGxFJbQFGDJkvoRcLEurqAP0pRE9DF1pqvB508fhznQK06afZg@mail.gmail.com>

Thank you Andrew.

My response is: not quite, but you essentially explained it. Just
replacing "by = 1" by "by = 1L" was not sufficient (I had actually
tried that). But what I really needed to do was add an explicit cast
of the sieve2 sequence to integer:

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
###################### explicit cast
   s <- as.integer(seq.int(2L, to = m, by =1)) ## Only difference here
#####################
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean   median       uq
 l1 <- sieve1(1e+05) 3.957168 4.001834 4.772071 4.018396 4.538917
      max neval
 8.135334    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr     min       lq     mean   median       uq   max
 l2 <- sieve2(1e+05) 3.98475 4.041709 4.805767 4.068167 4.446917 8.422
 neval
    50
> identical(l1,l2)
[1] TRUE
> identical(l1,l2)
[1] TRUE

So it is the %% generic that made the difference in timings in integer
vs. double. And the Help file does warn about this:

VALUE:
"seq.int and the default method of seq for numeric arguments return a
vector of type "integer" or "double": programmers should not rely on
which."

So I would have to say that it was my error (or failure to pay
attention, anyway).

Again, thanks for your help on this. It made the difference for me.

Bert

On Mon, May 2, 2022 at 7:00 PM Andrew Simmons <akwsimmo at gmail.com> wrote:
>
> A sequence where 'from' and 'to' are both integer valued (not necessarily class integer) will use R_compact_intrange; the return value is an integer vector and is stored with minimal space.
>
> In your case, you specified a 'from', 'to', and 'by'; if all are integer class, then the return value is also integer class. I think if 'from' and 'to' are integer valued and 'by' is integer class, the return value is integer class, might want to check that though. In your case, I think replacing 'by = 1' with 'by = 1L' will mean the sequences are identical, though it may still take longer than not specifying at all.
>
> On Mon, May 2, 2022, 21:46 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> ** Disconcerting to me, anyway; perhaps not to others**
>> (Apologies if this has been discussed before. I was a bit nonplussed by
>> it, but maybe I'm just clueless.) Anyway:
>>
>> Here are two almost identical versions of the Sieve of Eratosthenes.
>> The difference between them is only in the call to seq.int() that is
>> highlighted
>>
>> sieve1 <- function(m){
>>    if(m < 2) return(NULL)
>>    a <- floor(sqrt(m))
>>    pr <- Recall(a)
>> ####################
>>    s <- seq.int(2, to = m) ## Only difference here
>> ######################
>>    for( i in pr) s <- s[as.logical(s %% i)]
>>    c(pr,s)
>> }
>>
>> sieve2 <- function(m){
>>    if(m < 2) return(NULL)
>>    a <- floor(sqrt(m))
>>    pr <- Recall(a)
>> ####################
>>    s <- seq.int(2, to = m, by =1) ## Only difference here
>> #######################
>>    for( i in pr) s <- s[as.logical(s %% i)]
>>    c(pr,s)
>> }
>>
>> However, execution time is *quite* different.
>>
>> library(microbenchmark)
>>
>> > microbenchmark(l1 <- sieve1(1e5), times =50)
>> Unit: milliseconds
>>                 expr      min       lq     mean  median       uq      max
>>  l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
>>  neval
>>     50
>>
>> > microbenchmark(l2 <- sieve2(1e5), times =50)
>> Unit: milliseconds
>>                 expr      min      lq     mean   median       uq      max
>>  l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
>>  neval
>>     50
>>
>> Now note that:
>> > identical(l1, l2)
>> [1] FALSE
>>
>> ## Because:
>> > str(l1)
>>  int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>>
>> > str(l2)
>>  num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>>
>> I therefore assume that seq.int(), an internal generic, is dispatching
>> to a method that uses integer arithmetic for sieve1 and floating point
>> for sieve2. Is this correct? If not, what do I fail to understand? And
>> is this indeed the source of the large difference in execution time?
>>
>> Further, ?seq.int says:
>> "The interpretation of the unnamed arguments of seq and seq.int is not
>> standard, and it is recommended always to name the arguments when
>> programming."
>>
>> The above suggests that maybe this advice should be qualified, and/or
>> adding some comments to the Help file regarding this behavior might be
>> useful to na?fs like me.
>>
>> In case it makes a difference (and it might!):
>>
>> > sessionInfo()
>> R version 4.2.0 (2022-04-22)
>> Platform: x86_64-apple-darwin17.0 (64-bit)
>> Running under: macOS Monterey 12.3.1
>>
>> Matrix products: default
>> LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] microbenchmark_1.4.9
>>
>> loaded via a namespace (and not attached):
>> [1] compiler_4.2.0 tools_4.2.0
>>
>>
>> Thanks for any enlightenment and again apologies if I am plowing old ground.
>>
>> Best to all,
>>
>> Bert Gunter
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From iuke-tier@ey m@iii@g oii uiow@@edu  Tue May  3 05:52:56 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Mon, 2 May 2022 22:52:56 -0500 (CDT)
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
Message-ID: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>

Something is very different about your system. On my Linux system I get

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                 expr     min       lq     mean   median       uq     max neval
  l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                 expr      min       lq     mean   median      uq      max neval
  l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50

Similar on an Intel Mac.

Best,

luke

On Tue, 3 May 2022, Bert Gunter wrote:

> ** Disconcerting to me, anyway; perhaps not to others**
> (Apologies if this has been discussed before. I was a bit nonplussed by
> it, but maybe I'm just clueless.) Anyway:
>
> Here are two almost identical versions of the Sieve of Eratosthenes.
> The difference between them is only in the call to seq.int() that is
> highlighted
>
> sieve1 <- function(m){
>   if(m < 2) return(NULL)
>   a <- floor(sqrt(m))
>   pr <- Recall(a)
> ####################
>   s <- seq.int(2, to = m) ## Only difference here
> ######################
>   for( i in pr) s <- s[as.logical(s %% i)]
>   c(pr,s)
> }
>
> sieve2 <- function(m){
>   if(m < 2) return(NULL)
>   a <- floor(sqrt(m))
>   pr <- Recall(a)
> ####################
>   s <- seq.int(2, to = m, by =1) ## Only difference here
> #######################
>   for( i in pr) s <- s[as.logical(s %% i)]
>   c(pr,s)
> }
>
> However, execution time is *quite* different.
>
> library(microbenchmark)
>
>> microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                expr      min       lq     mean  median       uq      max
> l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> neval
>    50
>
>> microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                expr      min      lq     mean   median       uq      max
> l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> neval
>    50
>
> Now note that:
>> identical(l1, l2)
> [1] FALSE
>
> ## Because:
>> str(l1)
> int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
>> str(l2)
> num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
>
> I therefore assume that seq.int(), an internal generic, is dispatching
> to a method that uses integer arithmetic for sieve1 and floating point
> for sieve2. Is this correct? If not, what do I fail to understand? And
> is this indeed the source of the large difference in execution time?
>
> Further, ?seq.int says:
> "The interpretation of the unnamed arguments of seq and seq.int is not
> standard, and it is recommended always to name the arguments when
> programming."
>
> The above suggests that maybe this advice should be qualified, and/or
> adding some comments to the Help file regarding this behavior might be
> useful to na?fs like me.
>
> In case it makes a difference (and it might!):
>
>> sessionInfo()
> R version 4.2.0 (2022-04-22)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Monterey 12.3.1
>
> Matrix products: default
> LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] microbenchmark_1.4.9
>
> loaded via a namespace (and not attached):
> [1] compiler_4.2.0 tools_4.2.0
>
>
> Thanks for any enlightenment and again apologies if I am plowing old ground.
>
> Best to all,
>
> Bert Gunter
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 06:37:37 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 21:37:37 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
Message-ID: <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>

Well, I'm on an M1 Mac, so that is certainly different than either of
your systems. I installed the precompiled binary, which may also have
something to do with it. Whether these make a difference I have no
clue.

However, the fact remains that the Help file *does* warn that the type
of the seq.int() value is essentially indeterminate, and when I
explicitly cast it to integer, all is well. So mea culpa.

I will fool around some tomorrow with more careful profiling to see if
I can learn anything, but the best I say at present is: it is what it
is. Unless, of course, someone provides an answer before then.

Bert Gunter


On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
>
> Something is very different about your system. On my Linux system I get
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                  expr     min       lq     mean   median       uq     max neval
>   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                  expr      min       lq     mean   median      uq      max neval
>   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
>
> Similar on an Intel Mac.
>
> Best,
>
> luke
>
> On Tue, 3 May 2022, Bert Gunter wrote:
>
> > ** Disconcerting to me, anyway; perhaps not to others**
> > (Apologies if this has been discussed before. I was a bit nonplussed by
> > it, but maybe I'm just clueless.) Anyway:
> >
> > Here are two almost identical versions of the Sieve of Eratosthenes.
> > The difference between them is only in the call to seq.int() that is
> > highlighted
> >
> > sieve1 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m) ## Only difference here
> > ######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > sieve2 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > #######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > However, execution time is *quite* different.
> >
> > library(microbenchmark)
> >
> >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                expr      min       lq     mean  median       uq      max
> > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > neval
> >    50
> >
> >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                expr      min      lq     mean   median       uq      max
> > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > neval
> >    50
> >
> > Now note that:
> >> identical(l1, l2)
> > [1] FALSE
> >
> > ## Because:
> >> str(l1)
> > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> >> str(l2)
> > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> > I therefore assume that seq.int(), an internal generic, is dispatching
> > to a method that uses integer arithmetic for sieve1 and floating point
> > for sieve2. Is this correct? If not, what do I fail to understand? And
> > is this indeed the source of the large difference in execution time?
> >
> > Further, ?seq.int says:
> > "The interpretation of the unnamed arguments of seq and seq.int is not
> > standard, and it is recommended always to name the arguments when
> > programming."
> >
> > The above suggests that maybe this advice should be qualified, and/or
> > adding some comments to the Help file regarding this behavior might be
> > useful to na?fs like me.
> >
> > In case it makes a difference (and it might!):
> >
> >> sessionInfo()
> > R version 4.2.0 (2022-04-22)
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> > Running under: macOS Monterey 12.3.1
> >
> > Matrix products: default
> > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] microbenchmark_1.4.9
> >
> > loaded via a namespace (and not attached):
> > [1] compiler_4.2.0 tools_4.2.0
> >
> >
> > Thanks for any enlightenment and again apologies if I am plowing old ground.
> >
> > Best to all,
> >
> > Bert Gunter
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Luke Tierney
> Ralph E. Wareham Professor of Mathematical Sciences
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>     Actuarial Science
> 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 07:08:48 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 2 May 2022 22:08:48 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
Message-ID: <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>

Just confirming that it's %% in integers vs. doubles on my system:

> s1 <- seq.int(2, 1e5, by =1) ## doubles
> s2 = as.integer(s1)

##  **Note units below**

> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
Unit: milliseconds
        expr      min       lq    mean   median       uq      max neval
 v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50

> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
Unit: microseconds
         expr     min      lq     mean   median      uq     max neval
 v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50

I have no idea why the big difference, but I am pretty sure it's way
beyond me. Maybe Mac gurus can figure it out. I may post this on
r-sig-mac to see.

Bert

On Mon, May 2, 2022 at 9:37 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> Well, I'm on an M1 Mac, so that is certainly different than either of
> your systems. I installed the precompiled binary, which may also have
> something to do with it. Whether these make a difference I have no
> clue.
>
> However, the fact remains that the Help file *does* warn that the type
> of the seq.int() value is essentially indeterminate, and when I
> explicitly cast it to integer, all is well. So mea culpa.
>
> I will fool around some tomorrow with more careful profiling to see if
> I can learn anything, but the best I say at present is: it is what it
> is. Unless, of course, someone provides an answer before then.
>
> Bert Gunter
>
>
> On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
> >
> > Something is very different about your system. On my Linux system I get
> >
> > > microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                  expr     min       lq     mean   median       uq     max neval
> >   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > > microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                  expr      min       lq     mean   median      uq      max neval
> >   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
> >
> > Similar on an Intel Mac.
> >
> > Best,
> >
> > luke
> >
> > On Tue, 3 May 2022, Bert Gunter wrote:
> >
> > > ** Disconcerting to me, anyway; perhaps not to others**
> > > (Apologies if this has been discussed before. I was a bit nonplussed by
> > > it, but maybe I'm just clueless.) Anyway:
> > >
> > > Here are two almost identical versions of the Sieve of Eratosthenes.
> > > The difference between them is only in the call to seq.int() that is
> > > highlighted
> > >
> > > sieve1 <- function(m){
> > >   if(m < 2) return(NULL)
> > >   a <- floor(sqrt(m))
> > >   pr <- Recall(a)
> > > ####################
> > >   s <- seq.int(2, to = m) ## Only difference here
> > > ######################
> > >   for( i in pr) s <- s[as.logical(s %% i)]
> > >   c(pr,s)
> > > }
> > >
> > > sieve2 <- function(m){
> > >   if(m < 2) return(NULL)
> > >   a <- floor(sqrt(m))
> > >   pr <- Recall(a)
> > > ####################
> > >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > > #######################
> > >   for( i in pr) s <- s[as.logical(s %% i)]
> > >   c(pr,s)
> > > }
> > >
> > > However, execution time is *quite* different.
> > >
> > > library(microbenchmark)
> > >
> > >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > > Unit: milliseconds
> > >                expr      min       lq     mean  median       uq      max
> > > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > > neval
> > >    50
> > >
> > >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > > Unit: milliseconds
> > >                expr      min      lq     mean   median       uq      max
> > > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > > neval
> > >    50
> > >
> > > Now note that:
> > >> identical(l1, l2)
> > > [1] FALSE
> > >
> > > ## Because:
> > >> str(l1)
> > > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> > >
> > >> str(l2)
> > > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> > >
> > > I therefore assume that seq.int(), an internal generic, is dispatching
> > > to a method that uses integer arithmetic for sieve1 and floating point
> > > for sieve2. Is this correct? If not, what do I fail to understand? And
> > > is this indeed the source of the large difference in execution time?
> > >
> > > Further, ?seq.int says:
> > > "The interpretation of the unnamed arguments of seq and seq.int is not
> > > standard, and it is recommended always to name the arguments when
> > > programming."
> > >
> > > The above suggests that maybe this advice should be qualified, and/or
> > > adding some comments to the Help file regarding this behavior might be
> > > useful to na?fs like me.
> > >
> > > In case it makes a difference (and it might!):
> > >
> > >> sessionInfo()
> > > R version 4.2.0 (2022-04-22)
> > > Platform: x86_64-apple-darwin17.0 (64-bit)
> > > Running under: macOS Monterey 12.3.1
> > >
> > > Matrix products: default
> > > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> > >
> > > locale:
> > > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> > >
> > > attached base packages:
> > > [1] stats     graphics  grDevices utils     datasets  methods   base
> > >
> > > other attached packages:
> > > [1] microbenchmark_1.4.9
> > >
> > > loaded via a namespace (and not attached):
> > > [1] compiler_4.2.0 tools_4.2.0
> > >
> > >
> > > Thanks for any enlightenment and again apologies if I am plowing old ground.
> > >
> > > Best to all,
> > >
> > > Bert Gunter
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> > --
> > Luke Tierney
> > Ralph E. Wareham Professor of Mathematical Sciences
> > University of Iowa                  Phone:             319-335-3386
> > Department of Statistics and        Fax:               319-335-3017
> >     Actuarial Science
> > 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> > Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From @te|@nML @end|ng |rom co||oc@t|on@@de  Tue May  3 09:25:46 2022
From: @te|@nML @end|ng |rom co||oc@t|on@@de (Stephanie Evert)
Date: Tue, 3 May 2022 09:25:46 +0200
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
Message-ID: <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>



> On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
>> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> Unit: milliseconds
>        expr      min       lq    mean   median       uq      max neval
> v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> 
>> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> Unit: microseconds
>         expr     min      lq     mean   median      uq     max neval
> v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> 
> I have no idea why the big difference, but I am pretty sure it's way
> beyond me. Maybe Mac gurus can figure it out. I may post this on
> r-sig-mac to see.

Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.

Why not try with a native M1 version of R?

Best,
Stephanie

From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 16:41:33 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 07:41:33 -0700
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
Message-ID: <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>

Thank you. But the binary I installed *was* the "Apple silicon arm64
build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert
<stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >        expr      min       lq    mean   median       uq      max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> > Unit: microseconds
> >         expr     min      lq     mean   median      uq     max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> >
> > I have no idea why the big difference, but I am pretty sure it's way
> > beyond me. Maybe Mac gurus can figure it out. I may post this on
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie


From myer9108 @end|ng |rom v@nd@|@@u|d@ho@edu  Mon May  2 19:50:50 2022
From: myer9108 @end|ng |rom v@nd@|@@u|d@ho@edu (Myers, Cheyanne (myer9108@vandals.uidaho.edu))
Date: Mon, 2 May 2022 17:50:50 +0000
Subject: [R] Gas Flux Equation
Message-ID: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>

Hello

i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.

Thank you,

CHEYANNE MYERS, B. S.
Graduate Research Associate

College of Agricultural and Life Sciences
Animal Vet and Food Sciences
Office: 223G
Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
208-812-2414 (Cell)

[University of Idaho]


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 17:23:42 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 08:23:42 -0700
Subject: [R] [External]  Somewhat disconcerting behavior of seq.int()
In-Reply-To: <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
Message-ID: <CAGxFJbRZh_L2B0sMwtQ83LWQgkjTRprVUTiby7QrErG++M6Kcg@mail.gmail.com>

I resolved the problem by reinstalling R. See below. No clue as to
what may have been the cause (just an ignorant wild guess that is not
worth sharing).

Thanks again to all for your help.
Bert

> s1 <- seq.int(2, 1e5, by =1)
> s2 = as.integer(s1)
>
> microbenchmark( v1 <- s1 %% 2, times = 50)
Unit: microseconds
        expr     min      lq     mean   median      uq     max neval
 v1 <- s1%%2 396.839 410.943 433.6234 432.3245 457.068 491.057    50
> microbenchmark( v2 <- s2 %% 2L, times = 50)
Unit: microseconds
         expr     min      lq     mean  median      uq    max neval
 v2 <- s2%%2L 145.837 150.019 159.5441 162.032 164.943 177.12    50


sieve1 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
   s <- seq.int(2, to = m) ## Only difference here
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

sieve2 <- function(m){
   if(m < 2) return(NULL)
   a <- floor(sqrt(m))
   pr <- Recall(a)
   s <-seq.int(2L, to = m, by =1) ## Only difference here
   for( i in pr) s <- s[as.logical(s %% i)]
   c(pr,s)
}

> microbenchmark(l1 <- sieve1(1e5), times =50)
Unit: milliseconds
                expr     min       lq     mean  median       uq      max
 l1 <- sieve1(1e+05) 3.69533 4.068307 5.679122 4.28327 7.561425 10.07493
 neval
    50
> microbenchmark(l2 <- sieve2(1e5), times =50)
Unit: milliseconds
                expr      min       lq     mean   median       uq
 l2 <- sieve2(1e+05) 5.367679 6.128229 8.013111 8.940788 9.430246
      max neval
 11.52822    50

On Mon, May 2, 2022 at 8:53 PM <luke-tierney at uiowa.edu> wrote:
>
> Something is very different about your system. On my Linux system I get
>
> > microbenchmark(l1 <- sieve1(1e5), times =50)
> Unit: milliseconds
>                  expr     min       lq     mean   median       uq     max neval
>   l1 <- sieve1(1e+05) 5.04615 5.350576 6.967507 5.787626 7.323502 28.3085    50
> > microbenchmark(l2 <- sieve2(1e5), times =50)
> Unit: milliseconds
>                  expr      min       lq     mean   median      uq      max neval
>   l2 <- sieve2(1e+05) 14.58763 15.79368 17.00738 16.29299 17.0723 30.57338    50
>
> Similar on an Intel Mac.
>
> Best,
>
> luke
>
> On Tue, 3 May 2022, Bert Gunter wrote:
>
> > ** Disconcerting to me, anyway; perhaps not to others**
> > (Apologies if this has been discussed before. I was a bit nonplussed by
> > it, but maybe I'm just clueless.) Anyway:
> >
> > Here are two almost identical versions of the Sieve of Eratosthenes.
> > The difference between them is only in the call to seq.int() that is
> > highlighted
> >
> > sieve1 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m) ## Only difference here
> > ######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > sieve2 <- function(m){
> >   if(m < 2) return(NULL)
> >   a <- floor(sqrt(m))
> >   pr <- Recall(a)
> > ####################
> >   s <- seq.int(2, to = m, by =1) ## Only difference here
> > #######################
> >   for( i in pr) s <- s[as.logical(s %% i)]
> >   c(pr,s)
> > }
> >
> > However, execution time is *quite* different.
> >
> > library(microbenchmark)
> >
> >> microbenchmark(l1 <- sieve1(1e5), times =50)
> > Unit: milliseconds
> >                expr      min       lq     mean  median       uq      max
> > l1 <- sieve1(1e+05) 3.957084 3.997959 4.732045 4.01698 4.184918 7.627751
> > neval
> >    50
> >
> >> microbenchmark(l2 <- sieve2(1e5), times =50)
> > Unit: milliseconds
> >                expr      min      lq     mean   median       uq      max
> > l2 <- sieve2(1e+05) 681.6209 682.555 683.8279 682.9368 685.2253 687.9464
> > neval
> >    50
> >
> > Now note that:
> >> identical(l1, l2)
> > [1] FALSE
> >
> > ## Because:
> >> str(l1)
> > int [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> >> str(l2)
> > num [1:9592] 2 3 5 7 11 13 17 19 23 29 ...
> >
> > I therefore assume that seq.int(), an internal generic, is dispatching
> > to a method that uses integer arithmetic for sieve1 and floating point
> > for sieve2. Is this correct? If not, what do I fail to understand? And
> > is this indeed the source of the large difference in execution time?
> >
> > Further, ?seq.int says:
> > "The interpretation of the unnamed arguments of seq and seq.int is not
> > standard, and it is recommended always to name the arguments when
> > programming."
> >
> > The above suggests that maybe this advice should be qualified, and/or
> > adding some comments to the Help file regarding this behavior might be
> > useful to na?fs like me.
> >
> > In case it makes a difference (and it might!):
> >
> >> sessionInfo()
> > R version 4.2.0 (2022-04-22)
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> > Running under: macOS Monterey 12.3.1
> >
> > Matrix products: default
> > LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] microbenchmark_1.4.9
> >
> > loaded via a namespace (and not attached):
> > [1] compiler_4.2.0 tools_4.2.0
> >
> >
> > Thanks for any enlightenment and again apologies if I am plowing old ground.
> >
> > Best to all,
> >
> > Bert Gunter
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Luke Tierney
> Ralph E. Wareham Professor of Mathematical Sciences
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>     Actuarial Science
> 241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue May  3 17:29:15 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 03 May 2022 08:29:15 -0700
Subject: [R] Gas Flux Equation
In-Reply-To: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
References: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
Message-ID: <59FE3E7D-9F31-4031-9A6A-E36AA95C57EB@dcn.davis.ca.us>

Unlikely, but you can download the source file for the package and read it for yourself if it is not in the help file.

On May 2, 2022 10:50:50 AM PDT, "Myers, Cheyanne (myer9108--- via R-help" <r-help at r-project.org> wrote:
>Hello
>
>i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.
>
>Thank you,
>
>CHEYANNE MYERS, B. S.
>Graduate Research Associate
>
>College of Agricultural and Life Sciences
>Animal Vet and Food Sciences
>Office: 223G
>Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
>208-812-2414 (Cell)
>
>[University of Idaho]
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Tue May  3 17:29:46 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 May 2022 08:29:46 -0700
Subject: [R] Gas Flux Equation
In-Reply-To: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
References: <BY5PR04MB6294AA8C5C16908F97F6E4B8F0C19@BY5PR04MB6294.namprd04.prod.outlook.com>
Message-ID: <CAGxFJbSajUvgbYuZV_U9Q=YA2MNkvUm1Ra1cM5Y9xv0VGvfJFA@mail.gmail.com>

?HMR.fit appeared to contain (at least part of) what you asked for.
Have you checked the package documentation, including the package
vignette?

Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Tue, May 3, 2022 at 8:15 AM Myers, Cheyanne (myer9108--- via R-help
<r-help at r-project.org> wrote:
>
> Hello
>
> i was wondering if anyone could send me the equation used for the linear and HMR function in the gasfluxes package.
>
> Thank you,
>
> CHEYANNE MYERS, B. S.
> Graduate Research Associate
>
> College of Agricultural and Life Sciences
> Animal Vet and Food Sciences
> Office: 223G
> Email: myer9108 at vandals.uidaho.edu<mailto:myer9108 at vandals.uidaho.edu>
> 208-812-2414 (Cell)
>
> [University of Idaho]
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Tue May  3 17:46:38 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Tue, 3 May 2022 15:46:38 +0000 (UTC)
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
 <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
Message-ID: <1496634189.2231752.1651592798084@mail.yahoo.com>

I ahve no comment on what version of the software on what machine architecture might cause the issue?mentioned with differences in speed.
I have a more general question about increments.
The issue here is about creating a sequence starting at some value and ending no later than?another value with an optional step size for the increment that by default is exactly 1.
So how would you normally do this and does it matter?
In some languages like C, the increment can be done many ways including val++, or?val += 1, or val = val +1 ...
Those could produce identical code or different code. The compiler may optimize it or?go and evaluate things twice at times. You might have hardware that contains a registerthat has a rapid increment by 1 instruction built in but not for a decrement by one, let alone?increment by 12.?
And as has been discussed here, data types of various size ints (or float representations?of an integer) may need all kinds of conversions to operate on the same playing field. Who?hasn't used a language where a boolean value can be treated like a zero or a one but stored?compactly and yet if it is added to a large integer, needs some conversions?
How many assumptions can we really make about how someone wrote a function we use??Is it possible that the programmer for something like seq.int() decided to optimize their code.perhaps written in a dialect of C, so that when the default for "by=" is not mentioned, it increments?using val++ while if it is specified even as "by=1" it switches to incrementing using something?like "val = val + by" which may turn out to be slower?
I end by saying I am NOT talking about the complaint here as it seems likely to be specific?to their setup. But more globally, it is possible that choices in how something is programmed?can affect the outcome and assuming it was done the way you would is not always?warranted. Languages that are more flexible, such as interpreted languages that allow?many kinds of polymorphism can be very nice but with lots of overhead as underneath it?all, the deeper programming levels require precision and for each part to be exactly what fits?at that point. You can choose to store your numbers in various size containers, but at some level?they tend to e unpacked and converted before being handed to something in software or hardware?that expects EXACTLY one way. You may save on storage but sacrifice speed or other things.



-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Stephanie Evert <stefanML at collocations.de>
Cc: R-help Mailing List <R-help at r-project.org>
Sent: Tue, May 3, 2022 10:41 am
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

Thank you. But the binary I installed *was* the "Apple silicon arm64
build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert
<stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >? ? ? ? expr? ? ? min? ? ? lq? ? mean? median? ? ? uq? ? ? max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125? ? 50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)? ## integer
> > Unit: microseconds
> >? ? ? ? expr? ? min? ? ? lq? ? mean? median? ? ? uq? ? max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334? ? 50
> >
> > I have no idea why the big difference, but I am pretty sure it's way
> > beyond me. Maybe Mac gurus can figure it out. I may post this on
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.? I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Tue May  3 18:16:55 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 3 May 2022 16:16:55 +0000
Subject: [R] [External] Somewhat disconcerting behavior of seq.int()
In-Reply-To: <1496634189.2231752.1651592798084@mail.yahoo.com>
References: <CAGxFJbTpcwho-XxanKdzb4X_U5t-SbbB5LHNCYMz=Vj7ActLWw@mail.gmail.com>
 <bb29aaeb-39ad-559f-286e-ee9a9894fbd3@uiowa.edu>
 <CAGxFJbRCVoxU8Cifm=EDMW=b4swn3=XEz0Kn20P4y+kqPa4GMw@mail.gmail.com>
 <CAGxFJbQN3Jz4nQbj5D05R-ksmtwaurYB8jSk_x-EeU4XBjCoNQ@mail.gmail.com>
 <16B71787-EA35-44AF-B280-B9B6D61096BF@collocations.de>
 <CAGxFJbT1=bQdvjVNAWwH3QXShiv+Tuks8jObzNeON8kJN3mH5A@mail.gmail.com>
 <1496634189.2231752.1651592798084@mail.yahoo.com>
Message-ID: <BN6PR2201MB155318D12015AE3BC1E2F9F2CFC09@BN6PR2201MB1553.namprd22.prod.outlook.com>

microbenchmark(sieve1(1e5),sieve2(1e5), times =50)

Unit: milliseconds
                expr       min               lq                  mean            median      uq                  max          neval cld
 sieve1(1e+05)  6.863301     7.259901    10.89202      10.6819      13.7993       18.3648          50  a 
 sieve2(1e+05) 22.996701 28.284901     32.54760      30.1501      31.0805      166.4092        50   b

The difference is small but significant.

By setting "by" you are executing some different piece of code regardless of whether the step size equals the default. I tried by = TRUE, by=1L, and by=1.0 but all of those variants gave non-significant differences in execution time even with times=500.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Tuesday, May 3, 2022 11:47 AM
Cc: R-help at r-project.org
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

[External Email]

I ahve no comment on what version of the software on what machine architecture might cause the issue mentioned with differences in speed.
I have a more general question about increments.
The issue here is about creating a sequence starting at some value and ending no later than another value with an optional step size for the increment that by default is exactly 1.
So how would you normally do this and does it matter?
In some languages like C, the increment can be done many ways including val++, or val += 1, or val = val +1 ...
Those could produce identical code or different code. The compiler may optimize it or go and evaluate things twice at times. You might have hardware that contains a registerthat has a rapid increment by 1 instruction built in but not for a decrement by one, let alone increment by 12.
And as has been discussed here, data types of various size ints (or float representations of an integer) may need all kinds of conversions to operate on the same playing field. Who hasn't used a language where a boolean value can be treated like a zero or a one but stored compactly and yet if it is added to a large integer, needs some conversions?
How many assumptions can we really make about how someone wrote a function we use? Is it possible that the programmer for something like seq.int() decided to optimize their code.perhaps written in a dialect of C, so that when the default for "by=" is not mentioned, it increments using val++ while if it is specified even as "by=1" it switches to incrementing using something like "val = val + by" which may turn out to be slower?
I end by saying I am NOT talking about the complaint here as it seems likely to be specific to their setup. But more globally, it is possible that choices in how something is programmed can affect the outcome and assuming it was done the way you would is not always warranted. Languages that are more flexible, such as interpreted languages that allow many kinds of polymorphism can be very nice but with lots of overhead as underneath it all, the deeper programming levels require precision and for each part to be exactly what fits at that point. You can choose to store your numbers in various size containers, but at some level they tend to e unpacked and converted before being handed to something in software or hardware that expects EXACTLY one way. You may save on storage but sacrifice speed or other things.



-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Stephanie Evert <stefanML at collocations.de>
Cc: R-help Mailing List <R-help at r-project.org>
Sent: Tue, May 3, 2022 10:41 am
Subject: Re: [R] [External] Somewhat disconcerting behavior of seq.int()

Thank you. But the binary I installed *was* the "Apple silicon arm64 build, signed and notarized package."

Bert

On Tue, May 3, 2022 at 12:25 AM Stephanie Evert <stefanML at collocations.de> wrote:
>
>
>
> > On 3 May 2022, at 07:08, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> microbenchmark( v1 <- s1 %% 2, times = 50) ## floating point
> > Unit: milliseconds
> >?       expr      min      lq    mean  median      uq      max neval
> > v1 <- s1%%2 69.28204 69.60496 69.8957 69.81379 70.01729 71.36125    50
> >
> >> microbenchmark( v2 <- s2 %% 2L, times = 50)  ## integer
> > Unit: microseconds
> >?       expr    min      lq    mean  median      uq    max neval
> > v2 <- s2%%2L 166.626 167.042 172.7431 170.5215 177.667 194.334    50
> >
> > I have no idea why the big difference, but I am pretty sure it's way 
> > beyond me. Maybe Mac gurus can figure it out. I may post this on 
> > r-sig-mac to see.
>
> Very likely some inefficiency of the Intel emulator on your M1 mac.  I can imagine it has to do with the substantial differences between Intel and Arm floating-point architectures.
>
> Why not try with a native M1 version of R?
>
> Best,
> Stephanie

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=IV_pvMX6BFzDQ6XLe--bqFKiyaklMFk0vwnmDDVc42k&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=DMG-KdLD8dCjjVX1iizZc-FiM8Cn8i1D-MwKt26sBNo&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=IV_pvMX6BFzDQ6XLe--bqFKiyaklMFk0vwnmDDVc42k&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=GcWRKLnAFuhomCgVbp6K_6w4IZ6FKDQtwH9ziOpgA35oOVWpYhUruurscWYNqP1p&s=DMG-KdLD8dCjjVX1iizZc-FiM8Cn8i1D-MwKt26sBNo&e=
and provide commented, minimal, self-contained, reproducible code.

From c@r|o-g|ov@nn|@c@m@rd@ @end|ng |rom |ned@|r  Tue May  3 22:40:27 2022
From: c@r|o-g|ov@nn|@c@m@rd@ @end|ng |rom |ned@|r (CAMARDA Carlo Giovanni)
Date: Tue, 3 May 2022 22:40:27 +0200 (CEST)
Subject: [R] hessian in solnp
In-Reply-To: <20220428133000.410a9817@arachnoid>
References: <2048420867.20259846.1651097765379.JavaMail.zimbra@ined.fr>
 <20220428133000.410a9817@arachnoid>
Message-ID: <938661721.21603563.1651610427080.JavaMail.zimbra@ined.fr>

Thanks. Yes, there is a Lagrange multiplier (though really small for the example). However, AFAIK the hessian is the square matrix of second-order partial derivatives and, given the simple constraint in the example, the second (partial) derivatives of the lagrangian function should simplify to the second (partial) derivatives of the loss function. Or do I miss something? Moreover, I would expect smaller standard errors of the estimated parameters when additional constraints are included, and it is not the case in the given example. 


De: "Ivan Krylov" <krylov.r00t at gmail.com> 
?: "CAMARDA Carlo Giovanni via R-help" <r-help at r-project.org> 
Cc: "Carlo Giovanni Camarda" <carlo-giovanni.camarda at ined.fr> 
Envoy?: Jeudi 28 Avril 2022 06:30:00 
Objet: Re: [R] hessian in solnp 

? Thu, 28 Apr 2022 00:16:05 +0200 (CEST) 
CAMARDA Carlo Giovanni via R-help <r-help at r-project.org> ?????: 

> when a constraint is added, hessian matrix is obviously changing, but 
> in a way I don't understand. 

Isn't it the point of augmented Lagrange multiplier, to solve the 
constrained optimisation problem by modifying the loss function and 
optimising the result in an unconstrained manner? Apologies if I 
misunderstood your question. 

Starting on 
<https://github.com/cran/Rsolnp/blob/4b56bb5cd7c5d1096d1ba2f3946df7afa9af4201/R/subnp.R#L282>, 
we can see how the functions are called: both the loss and the 
constraint function are concatenated into the `obm` vector (if there's 
no constraint, the function returns NULL, which is eaten by 
concatenation), which form the vectors `g` (seems to be the gradient) 
and `p`, which, in turn, form the matrix `hessv`. 

My reading of the code could be wrong (and so could be my understanding 
of augmented Lagrangian methods). Contacting maintainer('Rsolnp') could 
be an option; maybe there's some documentation for the original MATLAB 
version of the code at <https://web.stanford.edu/~yyye/Col.html>? 

-- 
Best regards, 
Ivan 


	[[alternative HTML version deleted]]


From jerem|eju@te @end|ng |rom gm@||@com  Tue May  3 23:49:06 2022
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Tue, 03 May 2022 23:49:06 +0200
Subject: [R] customizing edit.data.frame
In-Reply-To: <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>
 (PIKAL Petr's message of "Mon, 2 May 2022 08:26:01 +0000")
References: <87zgk2oq0p.fsf@gmail.com>
 <e1c4187d9f774aed8aacd27a8eb6022e@SRVEXCHCM1302.precheza.cz>
Message-ID: <877d7270dp.fsf@gmail.com>

Hello Petr
On Monday,  2 May 2022 at 08:26, PIKAL Petr wrote:
> I do not have much experience with Linux, Rstudio and ESS, but you can
> customise R startup by .Rprofile.site .Rconsole files which are situated in
> /etc directory of your installation

Many thanks for the lead.
modifying /etc/.Rconsole, did the job, although I admit that I had to
use the modify the preferences in detault R-GUI on windows to find the right variable names.

If anyone else finds the the red grid of edit(data.frame())
difficult to use, the following modification might be handy. :-)

## Colours for console and pager(s)

background = white
normaltext = navy
usertext = black
pagerbg = white
pagertext = navy
highlight = DarkRed
dataeditbg = white
dataedittext = navy
dataedituser = gray59
editorbg = white
editortext = black


And I confirm that the above work regardless of the client ESS,RStudio,
R-Gui, on windows.

Best regards,
Jeremie


From c@ghpm @end|ng |rom gm@||@com  Wed May  4 00:46:52 2022
From: c@ghpm @end|ng |rom gm@||@com (Carlos Gonzalez)
Date: Tue, 3 May 2022 19:46:52 -0300
Subject: [R] After installing and loading package 'PMCMRplus' could not find
 function 'posthoc.kruskal.conover.test'
Message-ID: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods =
"BH") :
  could not find function "posthoc.kruskal.conover.test"
>

-- 
Saludos / Regards

Carlos A. Gonzalez
Mobile +598 94 234 653
caghpm at gmail.com

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed May  4 13:25:32 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 4 May 2022 11:25:32 +0000
Subject: [R] 
 After installing and loading package 'PMCMRplus' could not find
 function 'posthoc.kruskal.conover.test'
In-Reply-To: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>
References: <CAGa55hSreA9Fp-V6Q2S=y3rHdvN4DSSXDUKuLNiS5CYRYooqhA@mail.gmail.com>
Message-ID: <BN6PR2201MB1553979FBA2022BC3DC35649CFC39@BN6PR2201MB1553.namprd22.prod.outlook.com>

Reading the documentation it looks like there might have been a name change as part of an update. Have you tried kwAllPairsConoverTest? The alternative is have you tried installing an older version of this package?


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Carlos Gonzalez
Sent: Tuesday, May 3, 2022 6:47 PM
To: R. Help Mailing List <r-help at r-project.org>
Subject: [R] After installing and loading package 'PMCMRplus' could not find function 'posthoc.kruskal.conover.test'

[External Email]

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods =
"BH") :
  could not find function "posthoc.kruskal.conover.test"
>

--
Saludos / Regards

Carlos A. Gonzalez
Mobile +598 94 234 653
caghpm at gmail.com

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=sBngBVkrhiJLKZK56n2wRCDnONIK6RBO_bzLKyTXXTHKZoHKge-vT8jGirOhReG_&s=qahco4sshWBg-2vlNBFmdVm8N88SxQxczHI8H1HY7Rs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=sBngBVkrhiJLKZK56n2wRCDnONIK6RBO_bzLKyTXXTHKZoHKge-vT8jGirOhReG_&s=nz2CBIPFa8dKBWFduWUirkW3YD8e24BbtDr6wyfn3Rw&e=
and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Wed May  4 13:39:21 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 4 May 2022 14:39:21 +0300
Subject: [R] [External]  alist() and missing variables
In-Reply-To: <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>
References: <20220502223746.23ae8865@trisector>
 <6559d520-e7cf-a1d8-3ee6-7468b48324@uiowa.edu>
Message-ID: <20220504143921.020499d2@arachnoid>

? Mon, 2 May 2022 15:07:39 -0500 (CDT)
luke-tierney at uiowa.edu ?????:

> You can detect them as you did here using missing(). This is what the
> byte code compiler implementation does.
> [https://homepage.stat.uiowa.edu/~luke/R/compiler/compiler.pdf]

Thanks for the link! Your notes are very useful. Last time I needed
information on the R_Serialize interface, I also used your notes from
https://homepage.stat.uiowa.edu/~luke/R/serialize/serialize.html.

> It's not ideal but it's what we have and not likely to change any time
> soon.

Understood. I'll be using missing() after assignment to detect such
situations, then.

-- 
Best regards,
Ivan


From out|ook_4A79DB47CD92951A @end|ng |rom out|ook@com  Tue May  3 23:47:48 2022
From: out|ook_4A79DB47CD92951A @end|ng |rom out|ook@com (Carlos Gonzalez)
Date: Tue, 3 May 2022 21:47:48 +0000
Subject: [R] After installing and loading package 'PMCMRplus' could not find
 function "posthoc.kruskal.conover.test"
Message-ID: <DM6PR07MB645996D665C686865402A459E4C09@DM6PR07MB6459.namprd07.prod.outlook.com>

> source("~/.active-rstudio-document", echo=TRUE)

> library(tidyverse)

> library(PMCMRplus)

> m1 <- c(83, 91, 94)

> m2 <- c(91, 90, 81, 83)

> m3 <- c(78, 82, 77)

> pKW(list(m1, m2, m3), method = "Asymptotic")
Ties are present, so p-values are based on conditional null distribution.
Group sizes: 3 4 3
Kruskal-Wallis H' Statistic: 5.5031
Asymptotic upper-tail probability: 0.0638

> posthoc.kruskal.conover.test(list(m1, m2, m3),
+                              p.adjust.methods = "BH")
Error in posthoc.kruskal.conover.test(list(m1, m2, m3), p.adjust.methods = "BH") :
  could not find function "posthoc.kruskal.conover.test"
>

	[[alternative HTML version deleted]]


From r@u @end|ng |rom demogr@mpg@de  Wed May  4 13:20:10 2022
From: r@u @end|ng |rom demogr@mpg@de (Roland Rau)
Date: Wed, 4 May 2022 13:20:10 +0200
Subject: [R] Is there a canonical way to pronounce CRAN?
Message-ID: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>

Dear all,

I talked with colleagues this morning and we realized that some people 
(=me) pronounce CRAN like the German word "Kran" (probably pronounced 
like "cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was 
a student and has worked at the same institution as an R Core Developer 
and heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}


From kev|n@thorpe @end|ng |rom utoronto@c@  Wed May  4 16:38:13 2022
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin Thorpe)
Date: Wed, 4 May 2022 14:38:13 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>

Interesting.

I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.

Kevin


> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
> 
> Dear all,
> 
> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
> 
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> 
> Honestly: Is there a unique way how the core developers prounounce CRAN?
> 
> Not an urgent question at all but maybe interesting to many of us.
> 
> Thanks,
> Roland
> 
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael?s Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From c@deb @end|ng |rom u@g@@gov  Wed May  4 16:43:35 2022
From: c@deb @end|ng |rom u@g@@gov (Cade, Brian S)
Date: Wed, 4 May 2022 14:43:35 +0000
Subject: [R] [EXTERNAL]  Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>

CRAN as in cranberry.
Just my minor thought.

Brian


Brian S. Cade, PhD

U. S. Geological Survey
Fort Collins Science Center
2150 Centre Ave., Bldg. C
Fort Collins, CO  80526-8818

email:  cadeb at usgs.gov<mailto:brian_cade at usgs.gov>
tel:  970 226-9326

________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Roland Rau via R-help <r-help at r-project.org>
Sent: Wednesday, May 4, 2022 5:20 AM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [EXTERNAL] [R] Is there a canonical way to pronounce CRAN?



 This email has been received from outside of DOI - Use caution before clicking on links, opening attachments, or responding.



Dear all,

I talked with colleagues this morning and we realized that some people
(=me) pronounce CRAN like the German word "Kran" (probably pronounced
like "cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
a student and has worked at the same institution as an R Core Developer
and heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://gcc02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=3Kjxl0unxmrJ%2F%2BStjomrWPwCazomRId5lHuZBe7m2Zs%3D&amp;reserved=0
PLEASE do read the posting guide https://gcc02.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=6c3q9Wi01hKbgyiYGmldFoCJb6mMEcPf50ANDaZFT4s%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From p@u|o@pheno| @end|ng |rom gm@||@com  Wed May  4 16:57:43 2022
From: p@u|o@pheno| @end|ng |rom gm@||@com (Paulo Figueiredo)
Date: Wed, 4 May 2022 15:57:43 +0100
Subject: [R] [EXTERNAL] Is there a canonical way to pronounce CRAN?
In-Reply-To: <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <SA1PR09MB753606BB0E6A14B3CC6684C0D9C39@SA1PR09MB7536.namprd09.prod.outlook.com>
Message-ID: <0a9bd957-df3e-51ec-2003-7b79d44a525c@gmail.com>

Same here. Never thought it can be pronounced otherwise.

On 04/05/2022 15:43, Cade, Brian S via R-help wrote:
> CRAN as in cranberry.
> Just my minor thought.
>
> Brian
>
>
> Brian S. Cade, PhD
>
> U. S. Geological Survey
> Fort Collins Science Center
> 2150 Centre Ave., Bldg. C
> Fort Collins, CO  80526-8818
>
> email:cadeb at usgs.gov<mailto:brian_cade at usgs.gov>
> tel:  970 226-9326
>
> ________________________________
> From: R-help<r-help-bounces at r-project.org>  on behalf of Roland Rau via R-help<r-help at r-project.org>
> Sent: Wednesday, May 4, 2022 5:20 AM
> To:r-help at r-project.org  <r-help at r-project.org>
> Subject: [EXTERNAL] [R] Is there a canonical way to pronounce CRAN?
>
>
>
>   This email has been received from outside of DOI - Use caution before clicking on links, opening attachments, or responding.
>
>
>
> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer
> and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://gcc02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=3Kjxl0unxmrJ%2F%2BStjomrWPwCazomRId5lHuZBe7m2Zs%3D&amp;reserved=0
> PLEASE do read the posting guidehttps://gcc02.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ccadeb%40usgs.gov%7C48c806c0b048465ba4ed08da2ddae08f%7C0693b5ba4b184d7b9341f32f400a5494%7C0%7C0%7C637872715339917142%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=6c3q9Wi01hKbgyiYGmldFoCJb6mMEcPf50ANDaZFT4s%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus

	[[alternative HTML version deleted]]


From ce@g|guere @end|ng |rom gm@||@com  Wed May  4 17:23:08 2022
From: ce@g|guere @end|ng |rom gm@||@com (=?iso-8859-1?Q?Charles-=C9douard_Gigu=E8re?=)
Date: Wed, 4 May 2022 11:23:08 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <001501d85fca$dc5cee60$9516cb20$@gmail.com>

I pronounce it like "Yes we CRAN!" but I don't know the answer to your
question.
Interesting question though : )
Charles-?douard

-----Message d'origine-----
De?: R-help <r-help-bounces at r-project.org> De la part de Roland Rau via
R-help
Envoy??: 4 mai 2022 07:20
??: r-help at r-project.org
Objet?: [R] Is there a canonical way to pronounce CRAN?

Dear all,

I talked with colleagues this morning and we realized that some people
(=me) pronounce CRAN like the German word "Kran" (probably pronounced like
"cruhn" in English -- if it was a word).
My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a
student and has worked at the same institution as an R Core Developer and
heard it from him personally.

So now I am puzzled. Have I been wrong about 43% of my life? ;-)

Honestly: Is there a unique way how the core developers prounounce CRAN?

Not an urgent question at all but maybe interesting to many of us.

Thanks,
Roland

--
This mail has been sent through the MPI for Demographic ...{{dropped:2}}

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Wed May  4 17:56:43 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Wed, 4 May 2022 17:56:43 +0200 (CEST)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>

My personal impression is that in the early days of CRAN the pronouncation 
as in "C-Ran" was more common but this has shifted towards "Cran" over the 
years.

CRAN was named in the same style as CPAN for Perl and CTAN for TeX (as 
others have pointed out in this thread already). Many R users and 
developers were also active in other free software communities and were 
familiar with CPAN and CTAN as well. Hence "C-Ran" was natural.

But because - unlike the other abbreviations - CRAN can be pronounced as 
"Cran" it was attractive for wordplays like Cranberries 
(https://dirk.eddelbuettel.com/cranberries/), Crantastic 
(https://github.com/hadley/crantastic), fortunes::fortune("Yes we CRAN!"), 
etc. Also, I would guess that the vast majority of today's R users (and 
possibly also developers) is not familiar with CPAN or CTAN anymore. Hence 
"Cran" is more natural for most of them.

And given that even the founders of CRAN sometimes pronounce it in one and 
sometimes in the other way, I think it is fair to use both pronouncations.

Best wishes,
Achim


On Wed, 4 May 2022, Roland Rau via R-help wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people (=me) 
> pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" 
> in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a 
> student and has worked at the same institution as an R Core Developer and 
> heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From tebert @end|ng |rom u||@edu  Wed May  4 17:57:33 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 4 May 2022 15:57:33 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
Message-ID: <BN6PR2201MB1553835EFF1FB825C556FF24CFC39@BN6PR2201MB1553.namprd22.prod.outlook.com>

It would be nice in some ways if everyone would pronounce the same word in the same way, but then we could not argue over the correct pronunciation of words like tomato or aluminium/aluminum. I think of cran as "Kran". While I had German in high school I didnn't remember the German word for crane, so I did not consciously make any connection. I thought more of words like crunch, crouch, or crayfish to help pronounce cran. "Sea-Ran" also makes some sense, but it makes me wonder if the tide is going out or coming back in. Possibly many think of this like C-Span (C-Span.org). That would make even more sense if we had C-Ran rather than CRAN. I'll just leave "Sea-Run" alone. 
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Kevin Thorpe
Sent: Wednesday, May 4, 2022 10:38 AM
To: Roland Rau <rau at demogr.mpg.de>
Cc: R Help Mailing List <r-help at r-project.org>
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

Interesting.

I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.

Kevin


> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>
> Dear all,
>
> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic 
> ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZr
> RnwMSEM&s=RO9LQR9lV58rbI7LC8B_rUTsesnj1D_xV8ovrzBn4jI&e=
> PLEASE do read the posting guide 
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZ
> rRnwMSEM&s=Wlt5ym2p1MJIbbvh0nwyvPunaZJTWyZBx0o6qhe6zQo&e=
> and provide commented, minimal, self-contained, reproducible code.

--
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC) Li Ka Shing Knowledge Institute of St. Michael?s Hospital Assistant Professor, Dalla Lana School of Public Health University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZrRnwMSEM&s=RO9LQR9lV58rbI7LC8B_rUTsesnj1D_xV8ovrzBn4jI&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIGaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=anAxC6nLaRTnsHblKIhnuFXziz9rGvolLryp1bna2ydLx6PBZI_yOmVZrRnwMSEM&s=Wlt5ym2p1MJIbbvh0nwyvPunaZJTWyZBx0o6qhe6zQo&e=
and provide commented, minimal, self-contained, reproducible code.

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed May  4 18:01:26 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 04 May 2022 09:01:26 -0700
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
Message-ID: <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>

I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but with no in-person mentors influencing me I decided not to pronounce the C separately in CRAN. The "CRANberries" website indicates that I am not alone.

On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>Interesting.
>
>I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.
>
>Kevin
>
>
>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Sent from my phone. Please excuse my brevity.


From @v|gro@@ @end|ng |rom ver|zon@net  Wed May  4 19:21:13 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 4 May 2022 17:21:13 +0000 (UTC)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
Message-ID: <1477879899.2497902.1651684873865@mail.yahoo.com>

If R had remained just S, or even S++, would we be debating how to pronounce?CSAN?
I do note in some languages CS is pronounceable. LOL!


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: r-help at r-project.org; Kevin Thorpe <kevin.thorpe at utoronto.ca>; Roland Rau <rau at demogr.mpg.de>
Cc: R Help Mailing List <r-help at r-project.org>
Sent: Wed, May 4, 2022 12:01 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but with no in-person mentors influencing me I decided not to pronounce the C separately in CRAN. The "CRANberries" website indicates that I am not alone.

On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>Interesting.
>
>I have always pronounced it as See-ran. This probably stems from my exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to. Obviously the latter two acronyms are unpronounceable as words so I generalized the approach to CRAN.
>
>Kevin
>
>
>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org> wrote:
>> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Wed May  4 19:55:01 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Wed, 4 May 2022 17:55:01 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1477879899.2497902.1651684873865@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
Message-ID: <c9718335e1af4962881485e9034e5d7b@UM-MAIL3214.unimaas.nl>

We would still be getting our S code from Statlib. There still seems to be a server running at http://lib.stat.cmu.edu but somebody might want to check on it ...

Here is an old snapshot from 2000:

https://web.archive.org/web/20000815063825/http://lib.stat.cmu.edu/S/

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of Avi Gross via R-
>help
>Sent: Wednesday, 04 May, 2022 19:21
>Cc: r-help at r-project.org
>Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>
>If R had remained just S, or even S++, would we be debating how to
>pronounce?CSAN?
>I do note in some languages CS is pronounceable. LOL!
>
>-----Original Message-----
>From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>To: r-help at r-project.org; Kevin Thorpe <kevin.thorpe at utoronto.ca>; Roland Rau
><rau at demogr.mpg.de>
>Cc: R Help Mailing List <r-help at r-project.org>
>Sent: Wed, May 4, 2022 12:01 pm
>Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>
>I had exposure to CPAN and CTAN before learning R, and then there is MRAN... but
>with no in-person mentors influencing me I decided not to pronounce the C
>separately in CRAN. The "CRANberries" website indicates that I am not alone.
>
>On May 4, 2022 7:38:13 AM PDT, Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>>Interesting.
>>
>>I have always pronounced it as See-ran. This probably stems from my exposure to
>other archive like CPAN (perl) and CTAN (TeX) that I have been exposed to.
>Obviously the latter two acronyms are unpronounceable as words so I generalized
>the approach to CRAN.
>>
>>Kevin
>>
>>
>>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org>
>wrote:
>>>
>>> Dear all,
>>>
>>> I talked with colleagues this morning and we realized that some people (=me)
>pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in
>English -- if it was a word).
>>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a
>student and has worked at the same institution as an R Core Developer and heard
>it from him personally.
>>>
>>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>>>
>>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>>>
>>> Not an urgent question at all but maybe interesting to many of us.
>>>
>>> Thanks,
>>> Roland

From @@mo|n@r @end|ng |rom @bcg|ob@|@net  Wed May  4 20:03:05 2022
From: @@mo|n@r @end|ng |rom @bcg|ob@|@net (Stephen P. Molnar)
Date: Wed, 4 May 2022 14:03:05 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1477879899.2497902.1651684873865@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
Message-ID: <6272BFD9.6020905@sbcglobal.net>

On 05/04/2022 01:21 PM, Avi Gross via R-help wrote:
> If R had remained just S, or even S++, would we be debating how to 
> pronounce CSAN? I do note in some languages CS is pronounceable. LOL! 
> -----Original Message----- From: Jeff Newmiller 
> <jdnewmil at dcn.davis.ca.us> To: r-help at r-project.org; Kevin Thorpe 
> <kevin.thorpe at utoronto.ca>; Roland Rau <rau at demogr.mpg.de> Cc: R Help 
> Mailing List <r-help at r-project.org> Sent: Wed, May 4, 2022 12:01 pm 
> Subject: Re: [R] Is there a canonical way to pronounce CRAN? I had 
> exposure to CPAN and CTAN before learning R, and then there is MRAN... 
> but with no in-person mentors influencing me I decided not to 
> pronounce the C separately in CRAN. The "CRANberries" website 
> indicates that I am not alone. On May 4, 2022 7:38:13 AM PDT, Kevin 
> Thorpe <kevin.thorpe at utoronto.ca> wrote:
>> Interesting. I have always pronounced it as See-ran. This probably 
>> stems from my exposure to other archive like CPAN (perl) and CTAN 
>> (TeX) that I have been exposed to. Obviously the latter two acronyms 
>> are unpronounceable as words so I generalized the approach to CRAN. 
>> Kevin
>>> On May 4, 2022, at 7:20 AM, Roland Rau via R-help 
>>> <r-help at r-project.org> wrote: Dear all, I talked with colleagues 
>>> this morning and we realized that some people (=me) pronounce CRAN 
>>> like the German word "Kran" (probably pronounced like "cruhn" in 
>>> English -- if it was a word). My colleague pronounced it as 
>>> "Sea-Ran" or "Sea-Run". The colleague was a student and has worked 
>>> at the same institution as an R Core Developer and heard it from him 
>>> personally. So now I am puzzled. Have I been wrong about 43% of my 
>>> life? ;-) Honestly: Is there a unique way how the core developers 
>>> prounounce CRAN? Not an urgent question at all but maybe interesting 
>>> to many of us. Thanks, Roland -- This mail has been sent through the 
>>> MPI for Demographic ...{{dropped:2}} 
>>> ______________________________________________ R-help at r-project.org 
>>> mailing list -- To UNSUBSCRIBE and more, see 
>>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do read the 
>>> posting guide http://www.R-project.org/posting-guide.html and 
>>> provide commented, minimal, self-contained, reproducible code.
Yes, I know that I'm contributing, but what a waste of band width.

-- Stephen P. Molnar, Ph.D. www.molecular-modeling.net 614.312.7528 (c) 
Skype: smolnar1


	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu May  5 00:46:19 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 5 May 2022 08:46:19 +1000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <6272BFD9.6020905@sbcglobal.net>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
Message-ID: <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym
into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly
pronounce DFAT, resign yourself to menial labor)
If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional
disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.


From @v|gro@@ @end|ng |rom ver|zon@net  Thu May  5 02:24:26 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 5 May 2022 00:24:26 +0000 (UTC)
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
Message-ID: <1437512042.2642278.1651710266676@mail.yahoo.com>

Extended discussion may be a waste but speaking for myself, I found it highly?enlightening to hear that many had a mental image of an alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way to pronounce.

I often cringe when I listen to an audio book in the car and the person chosen?to narrate gets words not just wrong but very wrong as in nobody in any?country would likely pronounce it that way!

TV shows and elsewhere do the same. If someone asked me to check if?something was on see-ran or even see-are-a-en, it might take me a moment to?shift gears and realize they meant CRAN. There is no real right or wrong way?and we see organizations with names hard to pronounce like FBI or CIA are?often referred to with words like Quantico or Langley based on an area they?are associated with. People like words they can hope to pronounce like?the non-existent UNCLE or even SMERSH and KAOS.

I will say it is quite logical if you see C-SPAN as see-span then CPAN as C-PAN?you might then see CRAN the way you do as C-RAN.

But consider the many functions and packages in a language like R and ask if everyone?thinks or pronounces them the way you do? How many initially read runif() as run-if?until you realized it was a distribution of uniform random numbers in R as compared?to rnorm() for an R version of a normal distribution and thus maybe can be pronounced?more like r-unif and r-norm. Also, runif is part of a related set of functions all having?something to do with a uniform distribution, dunif(), punif() and qunif() so, again,?it hints to some of a consistent way to speak them aloud. Of course, in written?form, they speak for themselves.?
But not everything can or should be pronounced. We do not all speak the same?languages or the same way. Sometimes spelling things out as C-R-A-N is a better way?to go albeit if the others pronounce those letters differently, you end up like people who?think there is a Hungarian word for something like vey-tsey to mean toilet when it?actually is spelled WC as in borrowed from the English Water Closet and the way you say W as?a letter of the alphabet followed by the way you say C as a letter of the alphabet sounds ...


-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com>
To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list <r-help at r-project.org>
Sent: Wed, May 4, 2022 6:46 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym
into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly
pronounce DFAT, resign yourself to menial labor)
If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional
disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From twoo|m@n @end|ng |rom ont@rgettek@com  Thu May  5 03:33:09 2022
From: twoo|m@n @end|ng |rom ont@rgettek@com (Tom Woolman)
Date: Wed, 04 May 2022 21:33:09 -0400
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1437512042.2642278.1651710266676@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
Message-ID: <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>

Everyone needs to speak English exactly like I do or else they're doing 
it wrong
  :)

By I pronounce CRAN the same way that I pronounce the first half of 
cranberry.




On 2022-05-04 20:24, Avi Gross via R-help wrote:
> Extended discussion may be a waste but speaking for myself, I found it
> highly?enlightening to hear that many had a mental image of an
> alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way
> to pronounce.
> 
> I often cringe when I listen to an audio book in the car and the
> person chosen?to narrate gets words not just wrong but very wrong as
> in nobody in any?country would likely pronounce it that way!
> 
> TV shows and elsewhere do the same. If someone asked me to check
> if?something was on see-ran or even see-are-a-en, it might take me a
> moment to?shift gears and realize they meant CRAN. There is no real
> right or wrong way?and we see organizations with names hard to
> pronounce like FBI or CIA are?often referred to with words like
> Quantico or Langley based on an area they?are associated with. People
> like words they can hope to pronounce like?the non-existent UNCLE or
> even SMERSH and KAOS.
> 
> I will say it is quite logical if you see C-SPAN as see-span then CPAN
> as C-PAN?you might then see CRAN the way you do as C-RAN.
> 
> But consider the many functions and packages in a language like R and
> ask if everyone?thinks or pronounces them the way you do? How many
> initially read runif() as run-if?until you realized it was a
> distribution of uniform random numbers in R as compared?to rnorm() for
> an R version of a normal distribution and thus maybe can be
> pronounced?more like r-unif and r-norm. Also, runif is part of a
> related set of functions all having?something to do with a uniform
> distribution, dunif(), punif() and qunif() so, again,?it hints to some
> of a consistent way to speak them aloud. Of course, in written?form,
> they speak for themselves.?
> But not everything can or should be pronounced. We do not all speak
> the same?languages or the same way. Sometimes spelling things out as
> C-R-A-N is a better way?to go albeit if the others pronounce those
> letters differently, you end up like people who?think there is a
> Hungarian word for something like vey-tsey to mean toilet when
> it?actually is spelled WC as in borrowed from the English Water Closet
> and the way you say W as?a letter of the alphabet followed by the way
> you say C as a letter of the alphabet sounds ...
> 
> 
> -----Original Message-----
> From: Jim Lemon <drjimlemon at gmail.com>
> To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list
> <r-help at r-project.org>
> Sent: Wed, May 4, 2022 6:46 pm
> Subject: Re: [R] Is there a canonical way to pronounce CRAN?
> 
> Perhaps not entirely a waste. Shots have been fired over less.
> Allow the neologism 'packronym' to signify the packing of an acronym
> into a pronounceable word.
> (A necessary skill in the public service. If you cannot correctly
> pronounce DFAT, resign yourself to menial labor)
> If we endorse the anglophone packronym we get:
> kr?n
> An Italian might lean toward:
> t?r?n
> while Spanish (the happiest language, they say) would produce:
> kr?n
> So Babel continues to amuse or enrage us, depending upon our emotional
> disposition.
> I dare not comment upon those who would laboriously spell it out as:
> Charlie Romeo Alfa November
> 
> Jim
> 
> On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar 
> <s.molnar at sbcglobal.net> wrote:
>> Yes, I know that I'm contributing, but what a waste of band width.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Thu May  5 03:41:34 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 5 May 2022 01:41:34 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <1437512042.2642278.1651710266676@mail.yahoo.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
Message-ID: <BN6PR2201MB1553E347B968B6AB01F5E429CFC29@BN6PR2201MB1553.namprd22.prod.outlook.com>

I too found the discussion enlightening and amusing. As a practical application think about giving or listening to a lecture where the person uses alternate pronunciations. If I am used to "Kran" and the other person uses "Sea-ran" it takes longer to process the conversation and makes communication more difficult. Sometimes I try to get more information by searching on the internet for things that I hear. Just by listening, if someone says "Sea-ran" do I look for cran, c-ran, sea-ran, see-ran, cee-ran, or some other variant? Kran is not much better as there is kran, k-ran, c-ran, cran, and many others depending on how clearly I speak. A novice might hear crayon when I say kran and then the wheels have really fallen off the cart. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Avi Gross via R-help
Sent: Wednesday, May 4, 2022 8:24 PM
To: r-help at r-project.org
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

Extended discussion may be a waste but speaking for myself, I found it highly enlightening to hear that many had a mental image of an alternate way to pronounce CRAN as it so OBVIOUSLY had a natural way to pronounce.

I often cringe when I listen to an audio book in the car and the person chosen to narrate gets words not just wrong but very wrong as in nobody in any country would likely pronounce it that way!

TV shows and elsewhere do the same. If someone asked me to check if something was on see-ran or even see-are-a-en, it might take me a moment to shift gears and realize they meant CRAN. There is no real right or wrong way and we see organizations with names hard to pronounce like FBI or CIA are often referred to with words like Quantico or Langley based on an area they are associated with. People like words they can hope to pronounce like the non-existent UNCLE or even SMERSH and KAOS.

I will say it is quite logical if you see C-SPAN as see-span then CPAN as C-PAN you might then see CRAN the way you do as C-RAN.

But consider the many functions and packages in a language like R and ask if everyone thinks or pronounces them the way you do? How many initially read runif() as run-if until you realized it was a distribution of uniform random numbers in R as compared to rnorm() for an R version of a normal distribution and thus maybe can be pronounced more like r-unif and r-norm. Also, runif is part of a related set of functions all having something to do with a uniform distribution, dunif(), punif() and qunif() so, again, it hints to some of a consistent way to speak them aloud. Of course, in written form, they speak for themselves.
But not everything can or should be pronounced. We do not all speak the same languages or the same way. Sometimes spelling things out as C-R-A-N is a better way to go albeit if the others pronounce those letters differently, you end up like people who think there is a Hungarian word for something like vey-tsey to mean toilet when it actually is spelled WC as in borrowed from the English Water Closet and the way you say W as a letter of the alphabet followed by the way you say C as a letter of the alphabet sounds ...


-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com>
To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list <r-help at r-project.org>
Sent: Wed, May 4, 2022 6:46 pm
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

Perhaps not entirely a waste. Shots have been fired over less.
Allow the neologism 'packronym' to signify the packing of an acronym into a pronounceable word.
(A necessary skill in the public service. If you cannot correctly pronounce DFAT, resign yourself to menial labor) If we endorse the anglophone packronym we get:
kr?n
An Italian might lean toward:
t?r?n
while Spanish (the happiest language, they say) would produce:
kr?n
So Babel continues to amuse or enrage us, depending upon our emotional disposition.
I dare not comment upon those who would laboriously spell it out as:
Charlie Romeo Alfa November

Jim

On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar <s.molnar at sbcglobal.net> wrote:
> Yes, I know that I'm contributing, but what a waste of band width.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=KxLjYu6l_GEpWeOBgrsC5Q-CRNeQ8uS0z-k9WR3HKzs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=51RzWjJFQj_1xwt7QejNLNeEirfUFUJOMRVirM3SN2g&e=
and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=KxLjYu6l_GEpWeOBgrsC5Q-CRNeQ8uS0z-k9WR3HKzs&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=OYL9qCJhdlEPX5eOPNo4a6cWQDrOFsQkVLpz-lXYBOz3vqyGoSlmp89e7BQZj3eG&s=51RzWjJFQj_1xwt7QejNLNeEirfUFUJOMRVirM3SN2g&e=
and provide commented, minimal, self-contained, reproducible code.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu May  5 09:41:01 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 5 May 2022 08:41:01 +0100
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <C82A1FE9-0D95-4E64-9D26-39B76A399438@utoronto.ca>
 <4244872E-B08F-4D62-9970-6F5D29BCBE70@dcn.davis.ca.us>
 <1477879899.2497902.1651684873865@mail.yahoo.com>
 <6272BFD9.6020905@sbcglobal.net>
 <CA+8X3fWv3mBUdOgeqMoyt1YQVGD0BWcSPMsaqvags-7Akz0PKg@mail.gmail.com>
 <1437512042.2642278.1651710266676@mail.yahoo.com>
 <9c681753c253d011c5dc639b17a5d16e@ontargettek.com>
Message-ID: <38a5d4ff-ce6d-c8b0-11ae-7dce03583b38@sapo.pt>

Hello,

A while ago every time I typed "cran" on the Google search bar the first 
suggestion was "cranberries". But after hitting the spacebar it would 
become
"cran r".

Now with "cran" only it's "Cranberry" (capitalized) and after the spacebar
"cran r" followed by "cran packages", with a total of 5/10 CRAN related 
hits.

(Duckduckgo.com gives something else.)

And there's also the Meriam-Webster [1].

[1] https://www.merriam-webster.com/dictionary/cran

Rui Barradas

?s 02:33 de 05/05/2022, Tom Woolman escreveu:
> Everyone needs to speak English exactly like I do or else they're doing 
> it wrong
>  ?:)
> 
> By I pronounce CRAN the same way that I pronounce the first half of 
> cranberry.
> 
> 
> 
> 
> On 2022-05-04 20:24, Avi Gross via R-help wrote:
>> Extended discussion may be a waste but speaking for myself, I found it
>> highly?enlightening to hear that many had a mental image of an
>> alternate way?to pronounce CRAN as it so OBVIOUSLY had a natural way
>> to pronounce.
>>
>> I often cringe when I listen to an audio book in the car and the
>> person chosen?to narrate gets words not just wrong but very wrong as
>> in nobody in any?country would likely pronounce it that way!
>>
>> TV shows and elsewhere do the same. If someone asked me to check
>> if?something was on see-ran or even see-are-a-en, it might take me a
>> moment to?shift gears and realize they meant CRAN. There is no real
>> right or wrong way?and we see organizations with names hard to
>> pronounce like FBI or CIA are?often referred to with words like
>> Quantico or Langley based on an area they?are associated with. People
>> like words they can hope to pronounce like?the non-existent UNCLE or
>> even SMERSH and KAOS.
>>
>> I will say it is quite logical if you see C-SPAN as see-span then CPAN
>> as C-PAN?you might then see CRAN the way you do as C-RAN.
>>
>> But consider the many functions and packages in a language like R and
>> ask if everyone?thinks or pronounces them the way you do? How many
>> initially read runif() as run-if?until you realized it was a
>> distribution of uniform random numbers in R as compared?to rnorm() for
>> an R version of a normal distribution and thus maybe can be
>> pronounced?more like r-unif and r-norm. Also, runif is part of a
>> related set of functions all having?something to do with a uniform
>> distribution, dunif(), punif() and qunif() so, again,?it hints to some
>> of a consistent way to speak them aloud. Of course, in written?form,
>> they speak for themselves.
>> But not everything can or should be pronounced. We do not all speak
>> the same?languages or the same way. Sometimes spelling things out as
>> C-R-A-N is a better way?to go albeit if the others pronounce those
>> letters differently, you end up like people who?think there is a
>> Hungarian word for something like vey-tsey to mean toilet when
>> it?actually is spelled WC as in borrowed from the English Water Closet
>> and the way you say W as?a letter of the alphabet followed by the way
>> you say C as a letter of the alphabet sounds ...
>>
>>
>> -----Original Message-----
>> From: Jim Lemon <drjimlemon at gmail.com>
>> To: Stephen P. Molnar <s.molnar at sbcglobal.net>; r-help mailing list
>> <r-help at r-project.org>
>> Sent: Wed, May 4, 2022 6:46 pm
>> Subject: Re: [R] Is there a canonical way to pronounce CRAN?
>>
>> Perhaps not entirely a waste. Shots have been fired over less.
>> Allow the neologism 'packronym' to signify the packing of an acronym
>> into a pronounceable word.
>> (A necessary skill in the public service. If you cannot correctly
>> pronounce DFAT, resign yourself to menial labor)
>> If we endorse the anglophone packronym we get:
>> kr?n
>> An Italian might lean toward:
>> t?r?n
>> while Spanish (the happiest language, they say) would produce:
>> kr?n
>> So Babel continues to amuse or enrage us, depending upon our emotional
>> disposition.
>> I dare not comment upon those who would laboriously spell it out as:
>> Charlie Romeo Alfa November
>>
>> Jim
>>
>> On Thu, May 5, 2022 at 4:05 AM Stephen P. Molnar 
>> <s.molnar at sbcglobal.net> wrote:
>>> Yes, I know that I'm contributing, but what a waste of band width.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Thu May  5 14:40:50 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Thu, 5 May 2022 12:40:50 +0000
Subject: [R] legend in plot
Message-ID: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>

Is it possible to define legend in the plot command? ?That will ensure that legend is correctly associated with the points or lines in the plot.?

# I can do this
x <- seq(-3, 3, by = 0.01)
plot(x, x, type = "l")
lines(x, x^2, lty = 2, col = 2)
# In legend command, I need to remember that x^2 is lty = 2 and col = 2?
legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")

# I want to do something like this
plot(x, x, type = "l", label = "x")
lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
# legend command already knows the legend for each line
legend("bottomright", bty = "n")

Thanks,
Naresh

From b@row||ng@on @end|ng |rom |@nc@@ter@@c@uk  Thu May  5 15:13:15 2022
From: b@row||ng@on @end|ng |rom |@nc@@ter@@c@uk (Barry Rowlingson)
Date: Thu, 5 May 2022 14:13:15 +0100
Subject: [R] [External] Re:  Is there a canonical way to pronounce CRAN?
In-Reply-To: <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>

If the founders had called it the Big R Archive Network we wouldn't be
having this discussion but we'd all be getting our packages from BRAN.

Or how about "Big R Internet Archive Network".... Or would that be
confusing...

Barry

On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
wrote:

> This email originated outside the University. Check before clicking links
> or attachments.
>
> Interesting.
>
> I have always pronounced it as See-ran. This probably stems from my
> exposure to other archive like CPAN (perl) and CTAN (TeX) that I have been
> exposed to. Obviously the latter two acronyms are unpronounceable as words
> so I generalized the approach to CRAN.
>
> Kevin
>
>
> > On May 4, 2022, at 7:20 AM, Roland Rau via R-help <r-help at r-project.org>
> wrote:
> >
> > Dear all,
> >
> > I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced like
> "cruhn" in English -- if it was a word).
> > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer and
> heard it from him personally.
> >
> > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> >
> > Honestly: Is there a unique way how the core developers prounounce CRAN?
> >
> > Not an urgent question at all but maybe interesting to many of us.
> >
> > Thanks,
> > Roland
> >
> > --
> > This mail has been sent through the MPI for Demographic ...{{dropped:2}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Kevin E. Thorpe
> Head of Biostatistics,  Applied Health Research Centre (AHRC)
> Li Ka Shing Knowledge Institute of St. Michael?s Hospital
> Assistant Professor, Dalla Lana School of Public Health
> University of Toronto
> email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From er|nm@hodge@@ @end|ng |rom gm@||@com  Thu May  5 15:23:51 2022
From: er|nm@hodge@@ @end|ng |rom gm@||@com (Erin Hodgess)
Date: Thu, 5 May 2022 09:23:51 -0400
Subject: [R] [External] Re: Is there a canonical way to pronounce CRAN?
In-Reply-To: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
 <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
Message-ID: <CACxE24nkoYxfSr51DbpVBEY7x2esGXsTrdyd7vM984B0Hb=49g@mail.gmail.com>

In that case, if you were a user without common sense, would you be a BRAN
flake?

On Thu, May 5, 2022 at 9:13 AM Barry Rowlingson <
b.rowlingson at lancaster.ac.uk> wrote:

> If the founders had called it the Big R Archive Network we wouldn't be
> having this discussion but we'd all be getting our packages from BRAN.
>
> Or how about "Big R Internet Archive Network".... Or would that be
> confusing...
>
> Barry
>
> On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
> wrote:
>
> > This email originated outside the University. Check before clicking links
> > or attachments.
> >
> > Interesting.
> >
> > I have always pronounced it as See-ran. This probably stems from my
> > exposure to other archive like CPAN (perl) and CTAN (TeX) that I have
> been
> > exposed to. Obviously the latter two acronyms are unpronounceable as
> words
> > so I generalized the approach to CRAN.
> >
> > Kevin
> >
> >
> > > On May 4, 2022, at 7:20 AM, Roland Rau via R-help <
> r-help at r-project.org>
> > wrote:
> > >
> > > Dear all,
> > >
> > > I talked with colleagues this morning and we realized that some people
> > (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like
> > "cruhn" in English -- if it was a word).
> > > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> > a student and has worked at the same institution as an R Core Developer
> and
> > heard it from him personally.
> > >
> > > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> > >
> > > Honestly: Is there a unique way how the core developers prounounce
> CRAN?
> > >
> > > Not an urgent question at all but maybe interesting to many of us.
> > >
> > > Thanks,
> > > Roland
> > >
> > > --
> > > This mail has been sent through the MPI for Demographic
> ...{{dropped:2}}
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Kevin E. Thorpe
> > Head of Biostatistics,  Applied Health Research Centre (AHRC)
> > Li Ka Shing Knowledge Institute of St. Michael?s Hospital
> > Assistant Professor, Dalla Lana School of Public Health
> > University of Toronto
> > email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 
Erin Hodgess, PhD
mailto: erinm.hodgess at gmail.com

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Thu May  5 15:25:05 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 5 May 2022 13:25:05 +0000
Subject: [R] legend in plot
In-Reply-To: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <b9ffc71f51ee43febfd14276d7bdf62f@SRVEXCHCM1302.precheza.cz>

Hi.

AFAIK in regular plot it is not possible and you need to use 

x <- seq(-3, 3, by = 0.01)
plot(x, x, type = "l")
lines(x, x^2, lty = 2, col = 2)
legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col =
c(1, 2), bty = "n")

But you could use ggplot2 package with slightly modified data

# just prepare data
dat <- data.frame(x=x, y=x, z=x^2)
library(tidyr)
datm <- pivot_longer(dat, 2:3)
datm <- as.data.frame(datm)
names(datm)[2] <- "type"
datm$type <-factor(datm$type, labels=c("x", "x^2"))

#make plot
library(ggplot2)
p <- ggplot(datm, aes(x, value, colour=type) )
p+geom_line()

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Naresh
> Gurbuxani
> Sent: Thursday, May 5, 2022 2:41 PM
> To: r-help at r-project.org
> Subject: [R] legend in plot
> 
> Is it possible to define legend in the plot command? ?That will ensure
that
> legend is correctly associated with the points or lines in the plot.
> 
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col
= c(1,
> 2), bty = "n")
> 
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
> 
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From tebert @end|ng |rom u||@edu  Thu May  5 15:55:31 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 5 May 2022 13:55:31 +0000
Subject: [R] [External] Re:  Is there a canonical way to pronounce CRAN?
In-Reply-To: <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <7d6128a18a5e4da898d82e3d74be5d5c@LO2P265MB3344.GBRP265.PROD.OUTLOOK.COM>
 <CANVKczNq9MpBKicav9gZvLjU0WskMT9SZa_5sj7GzDPVZ4Jf2w@mail.gmail.com>
Message-ID: <BN6PR2201MB15536DB7F13294D041501113CFC29@BN6PR2201MB1553.namprd22.prod.outlook.com>

With "Big R Internet Archive Network" we could talk about the life of BRIAN, and any references to The Life of Brian would result in getting thrown to the floor by a Centurion. Better than a name like Windows where "Big Windows Internet Archive Network would be Bwian and we might wonder about thpiwit, (bwavado ... a touch of dewing-do), and about culturally insensitive joke names like Nortius Maximus and the risk of finding ourselves in gladiator school vewwy quickly with rotten behavior like this.

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Barry Rowlingson
Sent: Thursday, May 5, 2022 9:13 AM
To: Kevin Thorpe <kevin.thorpe at utoronto.ca>
Cc: R Help Mailing List <r-help at r-project.org>
Subject: Re: [R] [External] Re: Is there a canonical way to pronounce CRAN?

[External Email]

If the founders had called it the Big R Archive Network we wouldn't be having this discussion but we'd all be getting our packages from BRAN.

Or how about "Big R Internet Archive Network".... Or would that be confusing...

Barry

On Wed, May 4, 2022 at 3:51 PM Kevin Thorpe <kevin.thorpe at utoronto.ca>
wrote:

> This email originated outside the University. Check before clicking 
> links or attachments.
>
> Interesting.
>
> I have always pronounced it as See-ran. This probably stems from my 
> exposure to other archive like CPAN (perl) and CTAN (TeX) that I have 
> been exposed to. Obviously the latter two acronyms are unpronounceable 
> as words so I generalized the approach to CRAN.
>
> Kevin
>
>
> > On May 4, 2022, at 7:20 AM, Roland Rau via R-help 
> > <r-help at r-project.org>
> wrote:
> >
> > Dear all,
> >
> > I talked with colleagues this morning and we realized that some 
> > people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced 
> like "cruhn" in English -- if it was a word).
> > My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague 
> > was
> a student and has worked at the same institution as an R Core 
> Developer and heard it from him personally.
> >
> > So now I am puzzled. Have I been wrong about 43% of my life? ;-)
> >
> > Honestly: Is there a unique way how the core developers prounounce CRAN?
> >
> > Not an urgent question at all but maybe interesting to many of us.
> >
> > Thanks,
> > Roland
> >
> > --
> > This mail has been sent through the MPI for Demographic 
> > ...{{dropped:2}}
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> > https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_ma
> > ilman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2k
> > VeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVH
> > URBIIG_LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
> > PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBII
> G_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Kevin E. Thorpe
> Head of Biostatistics,  Applied Health Research Centre (AHRC) Li Ka 
> Shing Knowledge Institute of St. Michael?s Hospital Assistant 
> Professor, Dalla Lana School of Public Health University of Toronto
> email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG
> _LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
> PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBII
> G_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG_LfXUWd&s=0SOims-BsJKOSCU9mEW32yWnBs-wBOLtRYlcpIasIG4&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIFaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=USNU1Bn6LOj8L27uaaejA9QIy4Z9TjiDs0gYSgRZ2srI9SeHEVHURBIIG_LfXUWd&s=xyxzfc-QdYM7LYtfNIxxfDMOGYyRl-cCo9mC0tfXpE4&e=
and provide commented, minimal, self-contained, reproducible code.

From drj|m|emon @end|ng |rom gm@||@com  Thu May  5 23:56:00 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 6 May 2022 07:56:00 +1000
Subject: [R] legend in plot
In-Reply-To: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
Message-ID: <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>

Hi Naresh,
Have a look at the emptyspace function in the plotrix package. This
returns the center of the largest empty space on the plot.

Jim

On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com> wrote:
>
> Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
>
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
>
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @r|y@nkh@yer23 @end|ng |rom gm@||@com  Wed May  4 20:30:20 2022
From: @r|y@nkh@yer23 @end|ng |rom gm@||@com (Ariyan Khayer)
Date: Wed, 4 May 2022 23:00:20 +0430
Subject: [R] (no subject)
Message-ID: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>

Hello.i was interested in learning about programming.(Especially R) but I
do not have any source to study and learn from.can you help me with that?

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May  6 01:28:58 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 05 May 2022 16:28:58 -0700
Subject: [R] (no subject)
In-Reply-To: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
References: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
Message-ID: <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>

Sigh. You _do_ have a source... the Internet.

But to get off the dime, try https://rstudio-education.github.io/hopr. Once you have some familiarity with basic programming concepts in R, do read the manuals that come with R when you install it... and for contributed packages, vignettes are particularly useful.

On May 4, 2022 11:30:20 AM PDT, Ariyan Khayer <ariyankhayer23 at gmail.com> wrote:
>Hello.i was interested in learning about programming.(Especially R) but I
>do not have any source to study and learn from.can you help me with that?
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May  6 01:40:28 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 5 May 2022 23:40:28 +0000 (UTC)
Subject: [R] (no subject)
In-Reply-To: <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>
References: <CA+cdOXow8FRin=vXbSNisz8VHw6S-_De9rR4f6Tf1fD98JJ=4g@mail.gmail.com>
 <6953C2B0-C8CB-42D8-9FD0-1B5CADB75417@dcn.davis.ca.us>
Message-ID: <681519666.55948.1651794028393@mail.yahoo.com>

I get suspicious about patterns. A similar request from a gmail account with another username?was made just a day ago on a Python mailing list asking about learning that language. That user?has not responded so far to anything people replied.?
Hopefully this is not yet another person getting their jollies by having others waste their time.
I now refuse to answer overly general requests that tell us nothing about the background of?the person and are not really about more specific aspects of the language. As noted, there?are plenty of free resources on the Internet in text form and even classes as well as free?library books if you live in an area??that has them and of course books and classes you can?pay for. But what works for a person with zero programming experience is not what someone?who knows multiple languages already needs and so on.?
I apologize if I am wrong and see patterns where there may be none. But unless a new semester?is starting somewhere, why would we get such requests in early May?
I also note the request is not limited to R but programming in general. I don't volunteer.


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: r-help at r-project.org; Ariyan Khayer <ariyankhayer23 at gmail.com>
Sent: Thu, May 5, 2022 7:28 pm
Subject: Re: [R] (no subject)

Sigh. You _do_ have a source... the Internet.

But to get off the dime, try https://rstudio-education.github.io/hopr. Once you have some familiarity with basic programming concepts in R, do read the manuals that come with R when you install it... and for contributed packages, vignettes are particularly useful.

On May 4, 2022 11:30:20 AM PDT, Ariyan Khayer <ariyankhayer23 at gmail.com> wrote:
>Hello.i was interested in learning about programming.(Especially R) but I
>do not have any source to study and learn from.can you help me with that?
>
>??? [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Fri May  6 09:15:01 2022
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 6 May 2022 19:15:01 +1200
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
Message-ID: <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>

I would like to point out that there is an English word
"cran" (one syllable, rhymes with "can" "ban" "than" ...).
It means "
a measure of fresh herrings, equivalent to 37 1/2 gallons".

If you are going to use "CRAN" as the name of something,

you are going to have to expect me to pronounce it like

the English word "cran".
I've been aware of CPAN and CTAN since their inception, but
it never occurred to pronounce the "C" as "sea".
I've been pronouncing those as "c'PAN" and "c'TAN" with a
schwa, as in "The Ballad of Lost C'Mell"
https://en.wikipedia.org/wiki/The_Ballad_of_Lost_C%27Mell


On Thu, 5 May 2022 at 02:31, Roland Rau via R-help <r-help at r-project.org>
wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was
> a student and has worked at the same institution as an R Core Developer
> and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Fri May  6 14:02:24 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Fri, 6 May 2022 12:02:24 +0000
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <CABcYAdKTy-CE0OVbnVDwyTOpcMe2i57fv4+6__qjdc-8=Vxt3w@mail.gmail.com>
Message-ID: <BN6PR2201MB1553F33342A3154644521214CFC59@BN6PR2201MB1553.namprd22.prod.outlook.com>

Could also be a glottal stop. American's encounter the problem with Hawaiian words, in part because we typically leave out the glottal stop when we spell them. Hawaii versus Hawai'I for example. If some can leave out the glottal stop, why not add it if it makes the word easier to pronounce to get C'RAN versus CRAN. 

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Friday, May 6, 2022 3:15 AM
To: Roland Rau <rau at demogr.mpg.de>
Cc: R Project Help <r-help at r-project.org>
Subject: Re: [R] Is there a canonical way to pronounce CRAN?

[External Email]

I would like to point out that there is an English word "cran" (one syllable, rhymes with "can" "ban" "than" ...).
It means "
a measure of fresh herrings, equivalent to 37 1/2 gallons".

If you are going to use "CRAN" as the name of something,

you are going to have to expect me to pronounce it like

the English word "cran".
I've been aware of CPAN and CTAN since their inception, but it never occurred to pronounce the "C" as "sea".
I've been pronouncing those as "c'PAN" and "c'TAN" with a schwa, as in "The Ballad of Lost C'Mell"
https://urldefense.proofpoint.com/v2/url?u=https-3A__en.wikipedia.org_wiki_The-5FBallad-5Fof-5FLost-5FC-2527Mell&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=zu21-OJR3WLT9xoUYTtfDSHgs3LDe4eoJHa9g7CNK_4&e=


On Thu, 5 May 2022 at 02:31, Roland Rau via R-help <r-help at r-project.org>
wrote:

> Dear all,
>
> I talked with colleagues this morning and we realized that some people
> (=me) pronounce CRAN like the German word "Kran" (probably pronounced 
> like "cruhn" in English -- if it was a word).
> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague 
> was a student and has worked at the same institution as an R Core 
> Developer and heard it from him personally.
>
> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>
> Honestly: Is there a unique way how the core developers prounounce CRAN?
>
> Not an urgent question at all but maybe interesting to many of us.
>
> Thanks,
> Roland
>
> --
> This mail has been sent through the MPI for Demographic 
> ...{{dropped:2}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mail
> man_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAs
> Rzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_
> WrQykkE&s=cJelZVdoFXAp-hHwrMGN7_pMaidBz8Eo2vzrvBi0ZHM&e=
> PLEASE do read the posting guide
> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.or
> g_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeA
> sRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA
> _WrQykkE&s=vCgzxakKX-C4BY7JuebGQHUYW_sPH0H_T4RWYGEB6r0&e=
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=cJelZVdoFXAp-hHwrMGN7_pMaidBz8Eo2vzrvBi0ZHM&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=oZZCgXE7cv8lexIiRyLIB30gZuVs8jjOWtdXMp-sxO3ZpsvtXcqYzgbA_WrQykkE&s=vCgzxakKX-C4BY7JuebGQHUYW_sPH0H_T4RWYGEB6r0&e=
and provide commented, minimal, self-contained, reproducible code.


From gu|do@hoo|ve|d @end|ng |rom wur@n|  Fri May  6 20:05:13 2022
From: gu|do@hoo|ve|d @end|ng |rom wur@n| (Hooiveld, Guido)
Date: Fri, 6 May 2022 18:05:13 +0000
Subject: [R] How to obtain named vector from single-column data frame?
Message-ID: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>

Dear all,

I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.

However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?

Thanks,
Guido  


> df <- data.frame("VarX" = c("A",2,"D",2,1) ,
+  "VarY" = c(5,7,9,8,7) )
> 
> unlist(df) #nice!
VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5 
  "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7" 
> names(unlist(df))
 [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
[10] "VarY5"
>
>
>
> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
[1] 5 7 9 8 7
> names(unlist(df[, "VarY"]))
NULL
>


From dc@r|@on @end|ng |rom t@mu@edu  Fri May  6 20:12:18 2022
From: dc@r|@on @end|ng |rom t@mu@edu (David Carlson)
Date: Fri, 6 May 2022 13:12:18 -0500
Subject: [R] legend in plot
In-Reply-To: <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
 <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
Message-ID: <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>

You can't get exactly what you want with base graphics, but you can get
close by defining line types and colors outside the plot command:

x <- seq(-3, 3, by = 0.01)
lns <- 1:2
clr <- 1:2
matplot(x, cbind(x, x^2), type="l", lty=lns, col=clr)
legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col =
clr, bty = "n")

David L Carlson

legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col =
clr, bty = "n")


On Thu, May 5, 2022 at 4:56 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Naresh, Have a look at the emptyspace function in the plotrix package.
> This returns the center of the largest empty space on the plot. Jim On Thu,
> May 5, 2022 at 10:41 PM Naresh Gurbuxani <naresh_gurbuxani at hotmail.com>
> wrote: >
> ZjQcmQRYFpfptBannerStart
> This Message Is From an External Sender
> This message came from outside your organization.
>
> ZjQcmQRYFpfptBannerEnd
>
> Hi Naresh,
> Have a look at the emptyspace function in the plotrix package. This
> returns the center of the largest empty space on the plot.
>
> Jim
>
> On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
> <naresh_gurbuxani at hotmail.com> wrote:
> >
> > Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
> >
> > # I can do this
> > x <- seq(-3, 3, by = 0.01)
> > plot(x, x, type = "l")
> > lines(x, x^2, lty = 2, col = 2)
> > # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> > legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
> >
> > # I want to do something like this
> > plot(x, x, type = "l", label = "x")
> > lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> > # legend command already knows the legend for each line
> > legend("bottomright", bty = "n")
> >
> > Thanks,
> > Naresh
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> > PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, seehttps://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May  6 20:17:14 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 6 May 2022 19:17:14 +0100
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
Message-ID: <bff1eb85-7dff-96c2-bcfb-2ce9f3dc5457@sapo.pt>

Hello,

When you unlist, the dimension is dropped since the result is just one 
vector. Add drop = FALSE and that's it.


unlist(df[, "VarY", drop = FALSE])


Hope this helps,

Rui Barradas

?s 19:05 de 06/05/2022, Hooiveld, Guido escreveu:
> Dear all,
> 
> I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.
> 
> However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?
> 
> Thanks,
> Guido
> 
> 
>> df <- data.frame("VarX" = c("A",2,"D",2,1) ,
> +  "VarY" = c(5,7,9,8,7) )
>>
>> unlist(df) #nice!
> VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5
>    "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"
>> names(unlist(df))
>   [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
> [10] "VarY5"
>>
>>
>>
>> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
> [1] 5 7 9 8 7
>> names(unlist(df[, "VarY"]))
> NULL
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dc@r|@on @end|ng |rom t@mu@edu  Fri May  6 20:26:25 2022
From: dc@r|@on @end|ng |rom t@mu@edu (David Carlson)
Date: Fri, 6 May 2022 13:26:25 -0500
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
Message-ID: <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>

Just use
names(unlist(df[, "VarY", drop=FALSE]))
# [1] "VarY1" "VarY2" "VarY3" "VarY4" "VarY5"

When you extract a single column from a data frame it converts it to a
vector by default.

David L Carlson



On Fri, May 6, 2022 at 1:05 PM Hooiveld, Guido <guido.hooiveld at wur.nl>
wrote:

> Dear all, I wrote a some code in which I 'convert' a data frame to a named
> vector using the function unlist(). This works very nicely for my use case,
> because each entry of the resulting vector is named after the column name
> of the data frame,
> ZjQcmQRYFpfptBannerStart
> This Message Is From an External Sender
> This message came from outside your organization.
>
> ZjQcmQRYFpfptBannerEnd
>
> Dear all,
>
> I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.
>
> However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?
>
> Thanks,
> Guido
>
>
> > df <- data.frame("VarX" = c("A",2,"D",2,1) ,
> +  "VarY" = c(5,7,9,8,7) )
> >
> > unlist(df) #nice!
> VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5
>   "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"
> > names(unlist(df))
>  [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"
> [10] "VarY5"
> >
> >
> >
> > unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"
> [1] 5 7 9 8 7
> > names(unlist(df[, "VarY"]))
> NULL
> >
>
> ______________________________________________R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, seehttps://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w$
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From gu|do@hoo|ve|d @end|ng |rom wur@n|  Fri May  6 20:59:30 2022
From: gu|do@hoo|ve|d @end|ng |rom wur@n| (Hooiveld, Guido)
Date: Fri, 6 May 2022 18:59:30 +0000
Subject: [R] How to obtain named vector from single-column data frame?
In-Reply-To: <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>
References: <GV1PR01MB87866B2C8E56DE52D50A689CE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>
 <CAE-dL2rzKBszkqWmWdQh3pN86fhjShoj7iCton0JSuiCaRsPzg@mail.gmail.com>
Message-ID: <GV1PR01MB8786DB5281DF4D8C339AA04BE2C59@GV1PR01MB8786.eurprd01.prod.exchangelabs.com>

Dear David and Rui,

Thanks a lot to both of you for your very fast answers; problem solved! :)

Regards,
Guido

From: David Carlson <dcarlson at tamu.edu>
Sent: 06 May 2022 20:26
To: Hooiveld, Guido <guido.hooiveld at wur.nl>
Cc: r-help at r-project.org
Subject: Re: [R] How to obtain named vector from single-column data frame?

Just use
names(unlist(df[, "VarY", drop=FALSE]))
# [1] "VarY1" "VarY2" "VarY3" "VarY4" "VarY5"

When you extract a single column from a data frame it converts it to a vector by default.

David L Carlson


On Fri, May 6, 2022 at 1:05 PM Hooiveld, Guido <guido.hooiveld at wur.nl<mailto:guido.hooiveld at wur.nl>> wrote:
Dear all, I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame,
ZjQcmQRYFpfptBannerStart
This Message Is From an External Sender
This message came from outside your organization.

ZjQcmQRYFpfptBannerEnd

Dear all,



I wrote a some code in which I 'convert' a data frame to a named vector using the function unlist(). This works very nicely for my use case, because each entry of the resulting vector is named after the column name of the data frame, with a number automatically appended. I am using these names for the subsequent part of my code.



However, I noticed that when I subset the data frame so it contains only a single column, the naming of the vector (as described above) doesn't occur anymore (i.e. names() = NULL). This breaks my downstream code. Any suggestion on how to still obtain a named vector from such single-column data frame?



Thanks,

Guido





> df <- data.frame("VarX" = c("A",2,"D",2,1) ,

+  "VarY" = c(5,7,9,8,7) )

>

> unlist(df) #nice!

VarX1 VarX2 VarX3 VarX4 VarX5 VarY1 VarY2 VarY3 VarY4 VarY5

  "A"   "2"   "D"   "2"   "1"   "5"   "7"   "9"   "8"   "7"

> names(unlist(df))

 [1] "VarX1" "VarX2" "VarX3" "VarX4" "VarX5" "VarY1" "VarY2" "VarY3" "VarY4"

[10] "VarY5"

>

>

>

> unlist(df[, "VarY"]) #where are the names now? Expected them to be "VarY1" ... "VarY5"

[1] 5 7 9 8 7

> names(unlist(df[, "VarY"]))

NULL

>



______________________________________________

R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see

https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog$<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.com%2Fv3%2F__https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help__%3B!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXEBOEqSIog%24&data=05%7C01%7Cguido.hooiveld%40wur.nl%7Cbdd102be7b9042ccfec508da2f8df4c0%7C27d137e5761f4dc1af88d26430abb18f%7C0%7C0%7C637874584008711589%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=UGXlmkwuoBkGb%2F7dLZ0%2F3iFXJ9rtabtRB8%2FZ1sbMe8g%3D&reserved=0>

PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w$<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.com%2Fv3%2F__http%3A%2F%2Fwww.R-project.org%2Fposting-guide.html__%3B!!KwNVnqRv!EUndg3P-mraBuPMXbhvgZkIok13frVGjcD2ebHWlTHVrETkmNqEfYu0YPT6BEisdkhcijOfxsGlfsGoPXECRkw_-4w%24&data=05%7C01%7Cguido.hooiveld%40wur.nl%7Cbdd102be7b9042ccfec508da2f8df4c0%7C27d137e5761f4dc1af88d26430abb18f%7C0%7C0%7C637874584008711589%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=okqIQIFy6e1vHNTqezf8cDO2tmt%2BuZnqCe98CUnGknQ%3D&reserved=0>

and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Fri May  6 21:23:58 2022
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Fri, 6 May 2022 19:23:58 +0000
Subject: [R] legend in plot
In-Reply-To: <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>
References: <BL0PR01MB4036C827DDB820107DDA0438FAC29@BL0PR01MB4036.prod.exchangelabs.com>
 <CA+8X3fXnwqVbGPyQ6XbX_hsZ9-H83FxCnXqcBFvSbnq1hs3a-w@mail.gmail.com>
 <CAE-dL2q4HiuQv_YQP4HB=D+Lt1uxKTyzZZhOrDMwoFeRbb9asA@mail.gmail.com>
Message-ID: <BL0PR01MB403637E5423C107AECB0D002FAC59@BL0PR01MB4036.prod.exchangelabs.com>

This is the solution that best fits my needs.

Thanks everyone for their responses,
Naresh

Sent from my iPhone

On May 6, 2022, at 2:12 PM, David Carlson <dcarlson at tamu.edu<mailto:dcarlson at tamu.edu>> wrote:

You can't get exactly what you want with base graphics, but you can get close by defining line types and colors outside the plot command:

x <- seq(-3, 3, by = 0.01)
lns <- 1:2
clr <- 1:2
matplot(x, cbind(x, x^2), type="l", lty=lns, col=clr)
legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col = clr, bty = "n")

David L Carlson

legend("bottomright", legend = c("x", expression(x^2)), lty = lns, col = clr, bty = "n")


On Thu, May 5, 2022 at 4:56 PM Jim Lemon <drjimlemon at gmail.com<mailto:drjimlemon at gmail.com>> wrote:
Hi Naresh, Have a look at the emptyspace function in the plotrix package. This returns the center of the largest empty space on the plot. Jim On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani <naresh_gurbuxani at hotmail.com<mailto:naresh_gurbuxani at hotmail.com>> wrote: >
ZjQcmQRYFpfptBannerStart
This Message Is From an External Sender
This message came from outside your organization.

ZjQcmQRYFpfptBannerEnd

Hi Naresh,
Have a look at the emptyspace function in the plotrix package. This
returns the center of the largest empty space on the plot.

Jim

On Thu, May 5, 2022 at 10:41 PM Naresh Gurbuxani
<naresh_gurbuxani at hotmail.com<mailto:naresh_gurbuxani at hotmail.com>> wrote:
>
> Is it possible to define legend in the plot command?  That will ensure that legend is correctly associated with the points or lines in the plot.
>
> # I can do this
> x <- seq(-3, 3, by = 0.01)
> plot(x, x, type = "l")
> lines(x, x^2, lty = 2, col = 2)
> # In legend command, I need to remember that x^2 is lty = 2 and col = 2
> legend("bottomright", legend = c("x", expression(x^2)), lty = c(1, 2), col = c(1, 2), bty = "n")
>
> # I want to do something like this
> plot(x, x, type = "l", label = "x")
> lines(x, x^2, lty = 2, col = 2, label = expression(x^2))
> # legend command already knows the legend for each line
> legend("bottomright", bty = "n")
>
> Thanks,
> Naresh
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoYZCPlaA$
PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!KwNVnqRv!EYg6PPgiIfAXtUtQ0ynC6qvjRRReVyXbg66szoAq-KGtyrB_Aw3y2jP6nK_opXOaTsRO6SIjfuBoIIlYb4A$
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From he|mut@@chuetz @end|ng |rom beb@c@@t  Sat May  7 14:06:53 2022
From: he|mut@@chuetz @end|ng |rom beb@c@@t (=?UTF-8?Q?Helmut_Sch=c3=bctz?=)
Date: Sat, 7 May 2022 14:06:53 +0200
Subject: [R] Error on r-oldrel-windows-ix86+x86_64
Message-ID: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>

Dear all,

I got an error: 
https://cran.r-project.org/web/checks/check_results_replicateBE.html
Specifically:
Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), 
versionCheck = vI[[j]]) :
 ? there is no package called 'nloptr'
The chain of dependecies are:
replicateBE > lmerTest > lme4 > nloptr

In v1.1.3 there where only changes in the man pages documenting data sets.
The previous v1.1.0 had no problems with the (then current) R4.1.3

Is this a transient problem on CRAN? Is there anything I can do about?

Helmut

-- 
Ing. Helmut Sch?tz
BEBAC ? Consultancy Services for
Bioequivalence and Bioavailability Studies
Neubaugasse 36/11
1070 Vienna, Austria
T +43 1 2311746
M +43 699 10792458
E helmut.schuetz at bebac.at <mailto:helmut.schuetz at bebac.at>
W https://bebac.at <https://bebac.at/>


From p@u|bern@|07 @end|ng |rom gm@||@com  Mon May  9 10:23:55 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Mon, 9 May 2022 03:23:55 -0500
Subject: [R] Filtering an Entire Dataset based on Several Conditions
Message-ID: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>

Dear friends,

I have a dataframe which every single (i,j) entry (i standing for ith row,
j for jth column) has been normalized (converted to z-scores).

Now I want to filter or subset the dataframe so that I only end up with a a
dataframe containing only entries greater than -3 or less than 3.

How could I accomplish this?

Best,
Paul

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Mon May  9 10:48:07 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Mon, 9 May 2022 11:48:07 +0300
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>

Hi Paul,
Not completely clear what you are looking for.
Please create a 3 x 3 example data frame with dummy data and show what you
want the result to be.



On Mon, May 9, 2022 at 11:24 AM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Dear friends,
>
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
>
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
>
> How could I accomplish this?
>
> Best,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Mon May  9 10:57:59 2022
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Mon, 9 May 2022 10:57:59 +0200 (CEST)
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
Message-ID: <3cead993-ebe7-290-ce7-d6c195676f8c@uibk.ac.at>



On Mon, 9 May 2022, Eric Berger wrote:

> Hi Paul,
> Not completely clear what you are looking for.
> Please create a 3 x 3 example data frame with dummy data and show what you
> want the result to be.

Maybe something like this?

## scaled data frame
z <- scale(cars)

## all z scores < -1.6 or > 1.6
i <- apply(z < -1.6 | z > 1.6, 1, all)
## with 3 instead of 1.6 no observations would fulfill the condition

## select subset
z[i, ]
##         speed     dist
## [1,] 1.626433 1.902258
## [2,] 1.626433 1.941064
## [3,] 1.626433 2.988819
## [4,] 1.815553 1.630618


> On Mon, May 9, 2022 at 11:24 AM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
>> Dear friends,
>>
>> I have a dataframe which every single (i,j) entry (i standing for ith row,
>> j for jth column) has been normalized (converted to z-scores).
>>
>> Now I want to filter or subset the dataframe so that I only end up with a a
>> dataframe containing only entries greater than -3 or less than 3.
>>
>> How could I accomplish this?
>>
>> Best,
>> Paul
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jr@| @end|ng |rom po@teo@no  Mon May  9 11:04:24 2022
From: jr@| @end|ng |rom po@teo@no (Rasmus Liland)
Date: Mon,  9 May 2022 09:04:24 +0000
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <CAGgJW74k7AxO2y01BJua2TCvsEm_BVdek-d=iYNOKmrH_i34XA@mail.gmail.com>
Message-ID: <YnjZGByVD3EGjgx7@posteo.no>

Dear Paul,

perhaps you could melt the wide df into 
a long one with columns i, j, and z, and 
then reshape df[df$z>-3 & df$z<3,] back 
into a wide one?

Best,
Rasmus


From drj|m|emon @end|ng |rom gm@||@com  Mon May  9 11:11:23 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 9 May 2022 19:11:23 +1000
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <CA+8X3fXjW2MJjmhpKx8XOd2buUe0oGz0O_kPpaGCaWsco7uxOQ@mail.gmail.com>

Hi Paul,
Based on my guess that all values have been normalized, I would say:

mat<-(matrix(runif(16,-5,5),4))
df<-as.data.frame(mat)
df[abs(df) < 3]<-NA
df
       V1       V2       V3        V4
1       NA 4.675699 3.166625        NA
2       NA       NA       NA  3.463660
3 4.288831       NA 4.032902 -4.343869
4       NA       NA       NA        NA

Beware that this behavior of data frames may not persist in the
future. You may have to convert to a matrix and then convert the
result back again.

Jim

On Mon, May 9, 2022 at 6:24 PM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
>
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
>
> How could I accomplish this?
>
> Best,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May  9 11:22:48 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 May 2022 10:22:48 +0100
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
Message-ID: <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>

Hello,

Something like this?
First normalize the data.
Then a apply loop creates a logical matrix giving which numbers are in 
the range -3 to 3.
If they are all TRUE then their sum by rows is equal to the number of 
columns. This creates a logical index i.
Use that index i to subset the scaled data set.

# test data set, remove the Species column (not numeric)
df1 <- iris[-5]

df1_norm <- scale(df1)
i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)

# returns a matrix
df1_norm[i, ]

# returns a data.frame
as.data.frame(df1_norm[i,])


Hope this helps,

Rui Barradas

?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> Dear friends,
> 
> I have a dataframe which every single (i,j) entry (i standing for ith row,
> j for jth column) has been normalized (converted to z-scores).
> 
> Now I want to filter or subset the dataframe so that I only end up with a a
> dataframe containing only entries greater than -3 or less than 3.
> 
> How could I accomplish this?
> 
> Best,
> Paul
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pedrop@u|o@chr|@p|m @end|ng |rom gm@||@com  Mon May  9 13:20:37 2022
From: pedrop@u|o@chr|@p|m @end|ng |rom gm@||@com (Pedro Paulo Chrispim)
Date: Mon, 9 May 2022 08:20:37 -0300
Subject: [R] R-help Digest, Vol 231, Issue 9
In-Reply-To: <mailman.366622.0.1652090401.55205.r-help@r-project.org>
References: <mailman.366622.0.1652090401.55205.r-help@r-project.org>
Message-ID: <804954d5-744e-f6a7-7749-ab6e2a0dd041@gmail.com>

Hi, Paul.

Not sure if you want to drop only cases out of limits or entire rows 
with any case out of limits.

When I face similar tasks to select only cases, I write a function to 
select the cases, like:

subset.zscore <- function(x){
 ? ifelse(x > -3 & x < 3, x, NA)
}

and use it to identify the cases. So if I have this dummy object:

a <- seq(from=-5, to=5, by=.01)
b <- seq(from=-6, to=4, by=.01)
df.original <- data.table::data.table(sample(a,100,replace = TRUE),
 ????????????????????????????????????? sample(b,100,replace = TRUE))

I would now subset? the cases (not entire rows):

df2 <- df.original[,lapply(.SD,(subset.zscore)]

Note that I use data.table package. You would need to convert your 
data.frame object into data.table before to run this code.

I hope this helps you.

Best,

Pedro Paulo.

On 09/05/22 07:00, r-help-request at r-project.org wrote:
> Send R-help mailing list submissions to
> 	r-help at r-project.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-help
> or, via email, send a message with subject or body 'help' to
> 	r-help-request at r-project.org
>
> You can reach the person managing the list at
> 	r-help-owner at r-project.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-help digest..."
>
> Today's Topics:
>
>     1. Filtering an Entire Dataset based on Several Conditions
>        (Paul Bernal)
>     2. Re: Filtering an Entire Dataset based on Several Conditions
>        (Eric Berger)
>     3. Re: Filtering an Entire Dataset based on Several Conditions
>        (Achim Zeileis)
>     4. Re: Filtering an Entire Dataset based on Several Conditions
>        (Rasmus Liland)
>     5. Re: Filtering an Entire Dataset based on Several Conditions
>        (Jim Lemon)
>     6. Re: Filtering an Entire Dataset based on Several Conditions
>        (Rui Barradas)
>
> _______________________________________________
> R-help at r-project.org  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
	[[alternative HTML version deleted]]


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Mon May  9 13:36:46 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Mon, 9 May 2022 17:06:46 +0530
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
Message-ID: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>

Hello Everyone,

I am trying to plot an Indian district shapefile filled with modeled yield,
corresponding to each GDMID. I needed to first merge the Yield data with
respect to each GDMID from the .RDS file with the district shapefile of
India. Each district is represented by a GDMID. After merging, the Indian
district map filled with modeled yield values needs to be plotted similar
to an example attached figure.

I feel there is something wrong with my code for merging and plotting by
ggplot.

I have attached herewith my code, .RDS dataframe, shapefile and sample
example fig.

It would be great if you could help me with merging issue and plotting the
map, showing yield value, and legend in tile format.

Regards and Thanks,
Ranjeet

--

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sample geo spatial crop production.PNG
Type: image/png
Size: 981726 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20220509/541ef57b/attachment-0001.png>

From bgunter@4567 @end|ng |rom gm@||@com  Mon May  9 16:28:04 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 May 2022 07:28:04 -0700
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
Message-ID: <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>

1. No code came through. Most attachments are filtered due to security
concerns. See the posting guide (linked below) for details.

2. Geo-type questions are better posted on r-sig-geo,
https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <ranjeetjhaiitkgp at gmail.com>
wrote:

> Hello Everyone,
>
> I am trying to plot an Indian district shapefile filled with modeled yield,
> corresponding to each GDMID. I needed to first merge the Yield data with
> respect to each GDMID from the .RDS file with the district shapefile of
> India. Each district is represented by a GDMID. After merging, the Indian
> district map filled with modeled yield values needs to be plotted similar
> to an example attached figure.
>
> I feel there is something wrong with my code for merging and plotting by
> ggplot.
>
> I have attached herewith my code, .RDS dataframe, shapefile and sample
> example fig.
>
> It would be great if you could help me with merging issue and plotting the
> map, showing yield value, and legend in tile format.
>
> Regards and Thanks,
> Ranjeet
>
> --
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From p@u|bern@|07 @end|ng |rom gm@||@com  Mon May  9 18:44:04 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Mon, 9 May 2022 11:44:04 -0500
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
Message-ID: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>

Dear Rui,

I was trying to dput() the datasets I am working on, but since it is a bit
large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
the data to include it here, so I am attaching a couple of files. One is
the raw data (called trainFeatures42k), which is the data I need to
normalize, and the other is normalized_Data, which is the data normalized
(or at least I think I got to normalize it).

 Normalized_Data.csv
<https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
 trainFeatures42k.xls
<https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>

I have tried some of the code you and other friends from the community have
kindly shared, but have not been able to filter values > -3 and < 3.

Thank you all for your valuable help always.
Best,
Paul

El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
escribi?:

> Hello,
>
> Something like this?
> First normalize the data.
> Then a apply loop creates a logical matrix giving which numbers are in
> the range -3 to 3.
> If they are all TRUE then their sum by rows is equal to the number of
> columns. This creates a logical index i.
> Use that index i to subset the scaled data set.
>
> # test data set, remove the Species column (not numeric)
> df1 <- iris[-5]
>
> df1_norm <- scale(df1)
> i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
>
> # returns a matrix
> df1_norm[i, ]
>
> # returns a data.frame
> as.data.frame(df1_norm[i,])
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > Dear friends,
> >
> > I have a dataframe which every single (i,j) entry (i standing for ith
> row,
> > j for jth column) has been normalized (converted to z-scores).
> >
> > Now I want to filter or subset the dataframe so that I only end up with
> a a
> > dataframe containing only entries greater than -3 or less than 3.
> >
> > How could I accomplish this?
> >
> > Best,
> > Paul
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Mon May  9 18:45:03 2022
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 9 May 2022 18:45:03 +0200
Subject: [R] Is there a canonical way to pronounce CRAN?
In-Reply-To: <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>
References: <9156e154-6b8b-f4be-8826-010ceff590c4@demogr.mpg.de>
 <a24f0f-bf73-944e-3df-be2c1f9142d9@uibk.ac.at>
Message-ID: <84956B68-BF71-4722-806A-EEF0E3B84C1D@gmail.com>

As far as I remember, "cranberries" as a parallel to "Java beans" was part of the original CRAN concept in 1997. (This can possibly be dug out from the mailing list archives; should be around March/April 1997.) But even within R Core the pronunciaton varies, possibly even within R Core members. I think Kurt says "Krahn", Uwe "C-ran", and I likely parrot whichever one I am talking to.

- Peter D.

> On 4 May 2022, at 17:56 , Achim Zeileis <Achim.Zeileis at uibk.ac.at> wrote:
> 
> My personal impression is that in the early days of CRAN the pronouncation as in "C-Ran" was more common but this has shifted towards "Cran" over the years.
> 
> CRAN was named in the same style as CPAN for Perl and CTAN for TeX (as others have pointed out in this thread already). Many R users and developers were also active in other free software communities and were familiar with CPAN and CTAN as well. Hence "C-Ran" was natural.
> 
> But because - unlike the other abbreviations - CRAN can be pronounced as "Cran" it was attractive for wordplays like Cranberries (https://dirk.eddelbuettel.com/cranberries/), Crantastic (https://github.com/hadley/crantastic), fortunes::fortune("Yes we CRAN!"), etc. Also, I would guess that the vast majority of today's R users (and possibly also developers) is not familiar with CPAN or CTAN anymore. Hence "Cran" is more natural for most of them.
> 
> And given that even the founders of CRAN sometimes pronounce it in one and sometimes in the other way, I think it is fair to use both pronouncations.
> 
> Best wishes,
> Achim
> 
> 
> On Wed, 4 May 2022, Roland Rau via R-help wrote:
> 
>> Dear all,
>> 
>> I talked with colleagues this morning and we realized that some people (=me) pronounce CRAN like the German word "Kran" (probably pronounced like "cruhn" in English -- if it was a word).
>> My colleague pronounced it as "Sea-Ran" or "Sea-Run". The colleague was a student and has worked at the same institution as an R Core Developer and heard it from him personally.
>> 
>> So now I am puzzled. Have I been wrong about 43% of my life? ;-)
>> 
>> Honestly: Is there a unique way how the core developers prounounce CRAN?
>> 
>> Not an urgent question at all but maybe interesting to many of us.
>> 
>> Thanks,
>> Roland
>> 
>> --
>> This mail has been sent through the MPI for Demographic ...{{dropped:2}}
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon May  9 19:54:31 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 May 2022 18:54:31 +0100
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <92648603-415b-971f-a44f-8c838bcba0da@sapo.pt>

Hello,

My code seems to work with your data, except that the first column is 
not to be scaled.



# file names
xlsfile <- file.path("~/dados", "trainFeatures42k.xls")
csvfile <- file.path("~/dados", "Normalized_Data.csv")
# read in the data files
df1 <- readxl::read_excel(xlsfile, col_names = FALSE)
df2 <- read.csv(csvfile)
# assign names to make all.equal happy
names(df1) <- sprintf("X%d", seq_len(ncol(df1)))
names(df2) <- sprintf("X%d", seq_len(ncol(df2)))

# the first column is not to be scaled
df1_norm <- scale(df1[-1])
# compare to the already scaled data from the Google Drive
# the data.frames are equal up to floating-point precision
identical(df2[-1], as.data.frame(df1_norm))
#[1] FALSE
all.equal(df2[-1], as.data.frame(df1_norm))
#[1] TRUE

# see if all values in each row are between -3 and 3
i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)

# filter and return a data.frame
df1_clean <- as.data.frame(df1_norm[i,])
dim(df1_clean)
#[1] 32494    60


See if you get the same results.

Hope this helps,

Rui Barradas


?s 17:44 de 09/05/2022, Paul Bernal escreveu:
> Dear Rui,
> 
> I was trying to dput() the datasets I am working on, but since it is a 
> bit large (42,000 rows by 60 columns) couldn?t retrieve all the 
> structure of the data to include it here, so I am attaching a couple of 
> files. One is the raw data (called trainFeatures42k), which is the data 
> I need to normalize, and the other is normalized_Data, which is the data 
> normalized (or at least I think I got to normalize it).
> 
> Normalized_Data.csv 
> <https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
> trainFeatures42k.xls 
> <https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>
> 
> I have tried some of the code you and other friends from the community 
> have kindly shared, but have not been able to filter values > -3 and < 3.
> 
> Thank you all for your valuable help always.
> Best,
> Paul
> 
> El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>) escribi?:
> 
>     Hello,
> 
>     Something like this?
>     First normalize the data.
>     Then a apply loop creates a logical matrix giving which numbers are in
>     the range -3 to 3.
>     If they are all TRUE then their sum by rows is equal to the number of
>     columns. This creates a logical index i.
>     Use that index i to subset the scaled data set.
> 
>     # test data set, remove the Species column (not numeric)
>     df1 <- iris[-5]
> 
>     df1_norm <- scale(df1)
>     i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
> 
>     # returns a matrix
>     df1_norm[i, ]
> 
>     # returns a data.frame
>     as.data.frame(df1_norm[i,])
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
>      > Dear friends,
>      >
>      > I have a dataframe which every single (i,j) entry (i standing for
>     ith row,
>      > j for jth column) has been normalized (converted to z-scores).
>      >
>      > Now I want to filter or subset the dataframe so that I only end
>     up with a a
>      > dataframe containing only entries greater than -3 or less than 3.
>      >
>      > How could I accomplish this?
>      >
>      > Best,
>      > Paul
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>


From bgunter@4567 @end|ng |rom gm@||@com  Mon May  9 20:09:39 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 May 2022 11:09:39 -0700
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <CAGxFJbSJxhgCNOFVBCvMxezV7EWV_e2qP=k1JJUFpJs5goUYSw@mail.gmail.com>

This is trivial, so perhaps there is a miscommunication. How do you want to
handle values outside your desired range? I would simply change them to NA
(see below), but perhaps you have something else in mind that you need to
describe more explicitly. Anyway, below is a simple example of what I
*think* you asked for. Apologies if I have misunderstood.

> set.seed(567)
> ## create a data frame with 3 columns and 5 rows from norm(0,3)
> d <- as.data.frame(lapply(rep(5,3), function(x)round(rnorm(x,0,3),2)))
> names(d) <- LETTERS[1:3]
> d
      A     B     C
1  1.97 -1.23 -3.41
2  1.02 -1.12 -2.27
3 -1.92 -6.37 -6.44
4 -4.32  0.18  4.08
5  0.66 -5.82 -0.81
> d[abs(d) > 3] <- NA
> d
      A     B     C
1  1.97 -1.23    NA
2  1.02 -1.12 -2.27
3 -1.92    NA    NA
4    NA  0.18    NA
5  0.66    NA -0.81

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, May 9, 2022 at 9:44 AM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Dear Rui,
>
> I was trying to dput() the datasets I am working on, but since it is a bit
> large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
> the data to include it here, so I am attaching a couple of files. One is
> the raw data (called trainFeatures42k), which is the data I need to
> normalize, and the other is normalized_Data, which is the data normalized
> (or at least I think I got to normalize it).
>
>  Normalized_Data.csv
> <
> https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web
> >
>  trainFeatures42k.xls
> <
> https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web
> >
>
> I have tried some of the code you and other friends from the community have
> kindly shared, but have not been able to filter values > -3 and < 3.
>
> Thank you all for your valuable help always.
> Best,
> Paul
>
> El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
> escribi?:
>
> > Hello,
> >
> > Something like this?
> > First normalize the data.
> > Then a apply loop creates a logical matrix giving which numbers are in
> > the range -3 to 3.
> > If they are all TRUE then their sum by rows is equal to the number of
> > columns. This creates a logical index i.
> > Use that index i to subset the scaled data set.
> >
> > # test data set, remove the Species column (not numeric)
> > df1 <- iris[-5]
> >
> > df1_norm <- scale(df1)
> > i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
> >
> > # returns a matrix
> > df1_norm[i, ]
> >
> > # returns a data.frame
> > as.data.frame(df1_norm[i,])
> >
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > > Dear friends,
> > >
> > > I have a dataframe which every single (i,j) entry (i standing for ith
> > row,
> > > j for jth column) has been normalized (converted to z-scores).
> > >
> > > Now I want to filter or subset the dataframe so that I only end up with
> > a a
> > > dataframe containing only entries greater than -3 or less than 3.
> > >
> > > How could I accomplish this?
> > >
> > > Best,
> > > Paul
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@r||nkcox @end|ng |rom gm@||@com  Mon May  9 21:30:44 2022
From: m@r||nkcox @end|ng |rom gm@||@com (Marlin Keith Cox)
Date: Mon, 9 May 2022 11:30:44 -0800
Subject: [R] Contract work for non-linear regressions
Message-ID: <CAHskWAW1JZzvEHrRx6qT-vgaxBjX5Lzumjuy_bAXU3k5vc-zdA@mail.gmail.com>

I am not sure if this is appropriate here, my apologies if not.  I have
used R for 20 years now and need help with non-linear regression analysis
over 100's of different frequencies and my data has exceeded by R program
capabilities.

My company would provide the contract.

keith

M. Keith Cox, Ph.D.
Principal
MKConsulting
17415 Christine Ave.
Juneau, AK 99801
U.S. 907.957.4606

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Mon May  9 23:57:58 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 9 May 2022 21:57:58 +0000 (UTC)
Subject: [R] Filtering an Entire Dataset based on Several Conditions
In-Reply-To: <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
References: <CAMOcQfNktCeewntVW0DS+cZKtev5Nry4g1mRvVwud2NvRVajnQ@mail.gmail.com>
 <e84da058-ac3a-8716-7206-eab1e49b817f@sapo.pt>
 <CAMOcQfPwZq8wrviJ=ALOAU8gXBWpk6QgNm+-UfYB4GphgzoE6g@mail.gmail.com>
Message-ID: <193583357.728595.1652133478719@mail.yahoo.com>

Paul,

I read through the public replies you received and clearly some of us were not too clear on what you asked.?Your subject line was not helpful as my first thought was that you wanted a single column?examined for two conditions, as in EITHER less than 3 standard deviations above the mean?OR more than three standard deviations below the mean. As someone else noted, using abs(whatever)?makes it easy to do with a single condition.?

You could have simply said you want to remove outliers more?than 3 standard deviations from the mean!?I note in standard normally distributed data, the ones you want to exclude may be only 0.3% but in 39 such?columns, quite a few rows will be an issue.

The voluminous data you shared makes it clear you have 39 columns of this. So it seems what you meant was?you wanted to apply the same logic to all 39 columns and maybe that is what you meant by multiple conditions.

But what result do you want? Do you want to remove rows that are all-out of bounds or even a single one outside??Do you want to remove the row or just mark the outlier, perhaps with an NA?

Some have suggested you convert to a matrix where many tools are available, and back to a data.frame if needed.?I note your solution becomes fairly trivial if you convert any values above 3.0 to an NA and then use?complete.cases( to remove any NA rows. This assumes, of course, you have no NA to start with.

There are all kinds of ways to do things and if you were using the dplyr package from the tidyverse, which we?are discouraged from talking about here, I can see possibilities including the rowwise() function.

One idea to consider is that you can use the max() and min() functions applied to rows or columns.?You can convert your data (perhaps as a matrix) using t() and remove any rows where the max of the?absolute value of "all row elements" exceeds 3.?

One thought is to re-scale your data again using a function that is a bit like a truncated normal distribution?but instead of tossing outliers, it returns an NA. As noted, then complete.cases() handles your need. But,?as noted,?

But in your case, all your columns are numeric and the same so fairly trivial code like:?

mydf[abs(mydf ) > 3] <- NA

mydf <- complete.cases(mydf)

just might do it for you.

Good luck!

-----Original Message-----
From: Paul Bernal <paulbernal07 at gmail.com>
To: Rui Barradas <ruipbarradas at sapo.pt>
Cc: R <r-help at r-project.org>
Sent: Mon, May 9, 2022 12:44 pm
Subject: Re: [R] Filtering an Entire Dataset based on Several Conditions

Dear Rui,

I was trying to dput() the datasets I am working on, but since it is a bit
large (42,000 rows by 60 columns) couldn?t retrieve all the structure of
the data to include it here, so I am attaching a couple of files. One is
the raw data (called trainFeatures42k), which is the data I need to
normalize, and the other is normalized_Data, which is the data normalized
(or at least I think I got to normalize it).

 Normalized_Data.csv
<https://drive.google.com/file/d/143I1O710gAqWjzx48Gt1bwUbrG0mbpfa/view?usp=drive_web>
 trainFeatures42k.xls
<https://drive.google.com/file/d/1deMzGMkJyeVsnRzTKirmm4VqIBRzbvzV/view?usp=drive_web>

I have tried some of the code you and other friends from the community have
kindly shared, but have not been able to filter values > -3 and < 3.

Thank you all for your valuable help always.
Best,
Paul

El lun, 9 may 2022 a las 4:22, Rui Barradas (<ruipbarradas at sapo.pt>)
escribi?:

> Hello,
>
> Something like this?
> First normalize the data.
> Then a apply loop creates a logical matrix giving which numbers are in
> the range -3 to 3.
> If they are all TRUE then their sum by rows is equal to the number of
> columns. This creates a logical index i.
> Use that index i to subset the scaled data set.
>
> # test data set, remove the Species column (not numeric)
> df1 <- iris[-5]
>
> df1_norm <- scale(df1)
> i <- rowSums(apply(df1_norm, 2, \(x) x > -3 & x < 3)) == ncol(df1_norm)
>
> # returns a matrix
> df1_norm[i, ]
>
> # returns a data.frame
> as.data.frame(df1_norm[i,])
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 09:23 de 09/05/2022, Paul Bernal escreveu:
> > Dear friends,
> >
> > I have a dataframe which every single (i,j) entry (i standing for ith
> row,
> > j for jth column) has been normalized (converted to z-scores).
> >
> > Now I want to filter or subset the dataframe so that I only end up with
> a a
> > dataframe containing only entries greater than -3 or less than 3.
> >
> > How could I accomplish this?
> >
> > Best,
> > Paul
> >
> >? ? ? [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Mon May  9 19:01:45 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Mon, 9 May 2022 22:31:45 +0530
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
Message-ID: <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>

Thanks for your reply. Though codes are in
" yield. r" file.

Ranjeet

On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:

> 1. No code came through. Most attachments are filtered due to security
> concerns. See the posting guide (linked below) for details.
>
> 2. Geo-type questions are better posted on r-sig-geo,
> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
> ranjeetjhaiitkgp at gmail.com> wrote:
>
>> Hello Everyone,
>>
>> I am trying to plot an Indian district shapefile filled with modeled
>> yield,
>> corresponding to each GDMID. I needed to first merge the Yield data with
>> respect to each GDMID from the .RDS file with the district shapefile of
>> India. Each district is represented by a GDMID. After merging, the Indian
>> district map filled with modeled yield values needs to be plotted similar
>> to an example attached figure.
>>
>> I feel there is something wrong with my code for merging and plotting by
>> ggplot.
>>
>> I have attached herewith my code, .RDS dataframe, shapefile and sample
>> example fig.
>>
>> It would be great if you could help me with merging issue and plotting the
>> map, showing yield value, and legend in tile format.
>>
>> Regards and Thanks,
>> Ranjeet
>>
>> --
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Tue May 10 19:29:10 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 10 May 2022 17:29:10 +0000
Subject: [R] extracting numeric values returned when using the by function
 to run the acf function
Message-ID: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>

I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
1.00  0.15   -0.50  -0.15
How  can I isolate these four values from the output returned by the by function.

Sample code:

RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
cat("Here are the data\n")
RecallSmall
cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
# attempting to subset does not work at all
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
# this gives me more than I want, not just the numeric results.
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

# For your reference, this is what the acf function returns
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
# For your reference, this is what the acf function returns when the output is subset
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John

Thank you,
John









	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue May 10 19:40:09 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 10 May 2022 18:40:09 +0100
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>

Hello,

by returns an object of class "by" that inherits from class "list". So 
assign its return value and then use sapply to extract the list members 
you want.


RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))

acf_list <- 
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
sapply(acf_list, `[[`, 1)
#>          1
#> [1,]  1.00
#> [2,]  0.15
#> [3,] -0.50
#> [4,] -0.15


This can be coerced to vector with c().

Hope this helps,

Rui Barradas

?s 18:29 de 10/05/2022, Sorkin, John escreveu:
> I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by function.
> 
> Sample code:
> 
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> 
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
> 
> Thank you,
> John
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From er|cjberger @end|ng |rom gm@||@com  Tue May 10 19:40:48 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 10 May 2022 20:40:48 +0300
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAGgJW76wB=htkUK09OpZMFT7Xa=ttvMLKNqmk=Yrz9aEzNgiFg@mail.gmail.com>

as.numeric(by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)[[1]]$acf)


On Tue, May 10, 2022 at 8:29 PM Sorkin, John <jsorkin at som.umaryland.edu>
wrote:

> I am using the by function to run the acf function. Each run of the by
> function returns more information than I want. All I want is the four
> values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by
> function.
>
> Sample code:
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
>
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the
> output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
>
> Thank you,
> John
>
>
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @@r@h@go@|ee @end|ng |rom gm@||@com  Tue May 10 19:44:32 2022
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Tue, 10 May 2022 13:44:32 -0400
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAM_vjun+MyW0M5gfHfVwCdrO1RtNBGpHn8R8W2Bt8JHgTEaM9g@mail.gmail.com>

Hi,

You can either write a small function that returns just the values you
want, or use a convenience function within by, as in:

> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"], FUN=function(x){acf(x, na.action=na.pass,plot=FALSE)$acf})
RecallSmall[1:4, "ID"]: 1
, , 1

      [,1]
[1,]  1.00
[2,]  0.15
[3,] -0.50
[4,] -0.15

But I suspect that you would get something more like what you want by
splitting the data on ID, and then using sapply:

> RecallSmall <- data.frame(ID=c(1,1,1,1,2,2,2,2), value=c(6,5,3,4,6,5,3,4))
> result <- split(RecallSmall[["value"]], RecallSmall[["ID"]])
> result <- sapply(result, FUN=function(x){acf(x, na.action=na.pass,plot=FALSE)$acf})
> result
         1     2
[1,]  1.00  1.00
[2,]  0.15  0.15
[3,] -0.50 -0.50
[4,] -0.15 -0.15


Sarah

On Tue, May 10, 2022 at 1:29 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
> 1.00  0.15   -0.50  -0.15
> How  can I isolate these four values from the output returned by the by function.
>
> Sample code:
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> cat("Here are the data\n")
> RecallSmall
> cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> # attempting to subset does not work at all
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> # this gives me more than I want, not just the numeric results.
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
>
> # For your reference, this is what the acf function returns
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> # For your reference, this is what the acf function returns when the output is subset
> acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
>
> Thank you,
> John
>
>
>
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee (she/her)
http://www.numberwright.com


From bgunter@4567 @end|ng |rom gm@||@com  Tue May 10 20:11:04 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 10 May 2022 11:11:04 -0700
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
 <1000a060-1378-7fab-b205-af4be30134bc@sapo.pt>
Message-ID: <CAGxFJbR=dTfoB-2yxzQeWGRHBRtd3Mt_bOHyGMW_1QF5pBMZ8A@mail.gmail.com>

Just as a slight addendum to Rui's and Sarah's remarks, this is really more
of a use case for tapply() than by(), as you are only working with a
function, acf, that wants a vector as an argument rather than (several
columns of) a data frame. So the following also does the job (using a
slightly more realistic example with two groups rather than one; all the
rest of their comments are still germane, though):

> RecallSmall <- data.frame(ID=rep(c('a','b'), e=4),value=rep(c(6,5,3,4),2))
>
> out <- with(RecallSmall,tapply(value, ID,acf, na.action = na.pass, plot =
FALSE))
>
> str(out)
List of 2
 $ a:List of 6
  ..$ acf   : num [1:4, 1, 1] 1 0.15 -0.5 -0.15
  ..$ type  : chr "correlation"
  ..$ n.used: int 4
  ..$ lag   : num [1:4, 1, 1] 0 1 2 3
  ..$ series: chr "X[[i]]"
  ..$ snames: NULL
  ..- attr(*, "class")= chr "acf"
 $ b:List of 6
  ..$ acf   : num [1:4, 1, 1] 1 0.15 -0.5 -0.15
  ..$ type  : chr "correlation"
  ..$ n.used: int 4
  ..$ lag   : num [1:4, 1, 1] 0 1 2 3
  ..$ series: chr "X[[i]]"
  ..$ snames: NULL
  ..- attr(*, "class")= chr "acf"
 - attr(*, "dim")= int 2
 - attr(*, "dimnames")=List of 1
  ..$ : chr [1:2] "a" "b"
>
> sapply(out, \(x)x$acf) ## or as Rui suggested
         a     b
[1,]  1.00  1.00
[2,]  0.15  0.15
[3,] -0.50 -0.50
[4,] -0.15 -0.15


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, May 10, 2022 at 10:42 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> by returns an object of class "by" that inherits from class "list". So
> assign its return value and then use sapply to extract the list members
> you want.
>
>
> RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
>
> acf_list <-
>
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> sapply(acf_list, `[[`, 1)
> #>          1
> #> [1,]  1.00
> #> [2,]  0.15
> #> [3,] -0.50
> #> [4,] -0.15
>
>
> This can be coerced to vector with c().
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 18:29 de 10/05/2022, Sorkin, John escreveu:
> > I am using the by function to run the acf function. Each run of the by
> function returns more information than I want. All I want is the four
> values that acf returns, which using the data below would be
> > 1.00  0.15   -0.50  -0.15
> > How  can I isolate these four values from the output returned by the by
> function.
> >
> > Sample code:
> >
> > RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
> > cat("Here are the data\n")
> > RecallSmall
> > cat("All I want is autocorrerlations, e.g. 1.00  0.15 -0.50 -0.15 \n ")
> > # attempting to subset does not work at all
> >
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
> > # this gives me more than I want, not just the numeric results.
> >
> by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)
> >
> > # For your reference, this is what the acf function returns
> > acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
> > # For your reference, this is what the acf function returns when the
> output is subset
> > acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John
> >
> > Thank you,
> > John
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Tue May 10 20:12:15 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Tue, 10 May 2022 18:12:15 +0000 (UTC)
Subject: [R] 
 extracting numeric values returned when using the by function
 to run the acf function
In-Reply-To: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167862FE54C8BDBF52CB516E2C99@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <1272956815.943966.1652206335535@mail.yahoo.com>


John,
What is returned is a specialized list structure called a 'by" and getting the part you want out can be done?sort of carefully and sometimes with a bit of trial and error as the contents are nested. You can use?str(0 and other tools but this seems to work with care as you need [[]] not just [] to get the internal?contents, not another list:
> byeby <- by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

> result <- byeby[[1]]$acf
> print(result)
, , 1
? ? ? [,1][1,]? 1.00[2,]? 0.15[3,] -0.50[4,] -0.15
To make it a more normal vector rather than an array you might want to do this.
> result <- as.vector(result)

> result

[1]? 1.00? 0.15 -0.50 -0.15

Again, we discourage use of packages here for some reason but there are many alternatives?to using by() that get around this issue by not producing a specialized class as output.?
And a review ofthe help page for by() shows you could have added simplify=TRUE to make a normal?list as in:

by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE, simplify=TRUE)


But it remains a nested list and getting the part you want in one long command line that works for me is:

by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE, simplify=TRUE)[[1]]$acf[1:4]



-----Original Message-----
From: Sorkin, John <jsorkin at som.umaryland.edu>
To: r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Sent: Tue, May 10, 2022 1:29 pm
Subject: [R] extracting numeric values returned when using the by function to run the acf function

I am using the by function to run the acf function. Each run of the by function returns more information than I want. All I want is the four values that acf returns, which using the data below would be
1.00? 0.15? -0.50? -0.15
How? can I isolate these four values from the output returned by the by function.

Sample code:

RecallSmall <- data.frame(ID=c(1,1,1,1),value=c(6,5,3,4))
cat("Here are the data\n")
RecallSmall
cat("All I want is autocorrerlations, e.g. 1.00? 0.15 -0.50 -0.15 \n ")
# attempting to subset does not work at all
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)$acf
# this gives me more than I want, not just the numeric results.
by(RecallSmall[1:4,"value"],RecallSmall[1:4,"ID"],acf,na.action=na.pass,plot=FALSE)

# For your reference, this is what the acf function returns
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)
# For your reference, this is what the acf function returns when the output is subset
acf(RecallSmall[1:4,"value"],na.action=na.pass,plot=FALSE)Thank you, John

Thank you,
John









??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From de@@|mone@be||nd@87 @end|ng |rom gm@||@com  Wed May 11 13:40:28 2022
From: de@@|mone@be||nd@87 @end|ng |rom gm@||@com (De Simone)
Date: Wed, 11 May 2022 12:40:28 +0100
Subject: [R] Code for funnel plot
Message-ID: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>

Hi,

I am using R 4.1, and I am trying to create a funnel plot for continuous
data (measure = mean difference), using metafor. I checked the site
https://www.metafor-project.org/doku.php/plots:funnel_plot_variations, and
code provided is for dichotomous data - measure OR.

res <- rma(yi, vi, data=dat.hackshaw1998, measure="OR", method="EE")

funnel(res, main="Standard Error",back = "lightblue")

My question is how to construct a code to get a funnel for my continuous
data? I am using DL method

Thank you

	[[alternative HTML version deleted]]


From wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n|  Wed May 11 15:50:39 2022
From: wo||g@ng@v|echtb@uer @end|ng |rom m@@@tr|chtun|ver@|ty@n| (Viechtbauer, Wolfgang (NP))
Date: Wed, 11 May 2022 13:50:39 +0000
Subject: [R] Code for funnel plot
In-Reply-To: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>
References: <CAHGyc-vZCYS6V5nt2yDOn5GKh_5as8v2NaSSrce8Y3iToTO_5Q@mail.gmail.com>
Message-ID: <eba4bb05e30e4192a0a0bb7550249be9@UM-MAIL3214.unimaas.nl>

The code is the same for drawing the funnel plot. For computing mean differences, you can use escalc() with measure="MD".

Sidenote: There is a mailing list specifically for meta-analysis with R: https://stat.ethz.ch/mailman/listinfo/r-sig-meta-analysis

Best,
Wolfgang

>-----Original Message-----
>From: R-help [mailto:r-help-bounces at r-project.org] On Behalf Of De Simone
>Sent: Wednesday, 11 May, 2022 13:40
>To: r-help at r-project.org
>Subject: [R] Code for funnel plot
>
>Hi,
>
>I am using R 4.1, and I am trying to create a funnel plot for continuous
>data (measure = mean difference), using metafor. I checked the site
>https://www.metafor-project.org/doku.php/plots:funnel_plot_variations, and
>code provided is for dichotomous data - measure OR.
>
>res <- rma(yi, vi, data=dat.hackshaw1998, measure="OR", method="EE")
>
>funnel(res, main="Standard Error",back = "lightblue")
>
>My question is how to construct a code to get a funnel for my continuous
>data? I am using DL method
>
>Thank you


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed May 11 22:35:35 2022
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 11 May 2022 13:35:35 -0700
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
 <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
Message-ID: <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>


On 5/9/22 10:01, Ranjeet Kumar Jha wrote:
> Thanks for your reply. Though codes are in
> " yield. r" file.


You need to pay better attention to what Bert said about your 
attachment. `.r` files are not allowed as an attachment type. You need 
to either provide a link to a publicly accessible location or include 
the code inline.


-- 

David

>
> Ranjeet
>
> On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:
>
>> 1. No code came through. Most attachments are filtered due to security
>> concerns. See the posting guide (linked below) for details.
>>
>> 2. Geo-type questions are better posted on r-sig-geo,
>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along and
>> sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
>> ranjeetjhaiitkgp at gmail.com> wrote:
>>
>>> Hello Everyone,
>>>
>>> I am trying to plot an Indian district shapefile filled with modeled
>>> yield,
>>> corresponding to each GDMID. I needed to first merge the Yield data with
>>> respect to each GDMID from the .RDS file with the district shapefile of
>>> India. Each district is represented by a GDMID. After merging, the Indian
>>> district map filled with modeled yield values needs to be plotted similar
>>> to an example attached figure.
>>>
>>> I feel there is something wrong with my code for merging and plotting by
>>> ggplot.
>>>
>>> I have attached herewith my code, .RDS dataframe, shapefile and sample
>>> example fig.
>>>
>>> It would be great if you could help me with merging issue and plotting the
>>> map, showing yield value, and legend in tile format.
>>>
>>> Regards and Thanks,
>>> Ranjeet
>>>
>>> --
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|n||68 @end|ng |rom gm@||@com  Thu May 12 06:03:22 2022
From: j|n||68 @end|ng |rom gm@||@com (Jin Li)
Date: Thu, 12 May 2022 14:03:22 +1000
Subject: [R] For gbm users
Message-ID: <CAGu_3ZJH0axOGJYNaLzc4Hxjf8XggOgxht=40+ocLoXVBXcFgw@mail.gmail.com>

Hi all,

The package `spm` has been updated last week, with a bug fixed for the
function `gbmcv` that can now be used for 0/1 data. Consequently, the
functions such as `stepgbm` in the package `stepgbm` can also be used for
1/0 data.

Please let me know if you have any questions.

Best regards,
-- 
Jin
------------------------------------------
Jin Li, PhD
Founder, Data2action, Australia
https://www.researchgate.net/profile/Jin_Li32
https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en

	[[alternative HTML version deleted]]


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Thu May 12 15:45:28 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Thu, 12 May 2022 13:45:28 +0000 (UTC)
Subject: [R] pcalg library : names of the variables ?
References: <405936561.4203178.1652363128605.ref@mail.yahoo.com>
Message-ID: <405936561.4203178.1652363128605@mail.yahoo.com>

Dear R-experts,

Here below my R code working but I would like to get the names of the variables to appear on the graph instead of 1 ; 2 ; 3 and 4.
Is it possible ? I have tried something with colnames(x) but I get an error message.
Many thanks for your help.

#############################
library(pcalg)
library("Rgraphviz")

x1<-c(505,530,419,486,608,468,519,486,532,289,529,474,571,546,458,476,376,474,598,419,479,615,507,473,532,392,496,426,480,583,490,499,513,444,542)

x2<-c(508,516,390,520,375,499,478,534,553,485,405,478,542,523,491,363,456,498,506,529,574,478,411,571,512,487,518,515,467,513,536,555,508,507,535)

x3<-c(469,500,394,486,653,453,494,546,453,431,448,635,444,473,416,561,644,435,582,513,424,696,435,476,467,595,566,567,495,557,494,372,660,432,586)
?
x4<-c(562,459,505,640,319,492,539,651,635,505,533,344,422,424,623,420,429,556,606,435,406,178,473,571,542,597,491,348,513,499,576,465,380,563,571)

x=c(x1,x2,x3,x4)
A=matrix(x,nrow=35)
A
colnames(x)<-c("engagement des ?l?ves","engagement des enseignants","engagement des parents","efficacit?")

suffStat<-list(C=cor(A),n=nrow(A))
adaptive.pag<-fci(suffStat,indepTest=gaussCItest ,p=4, alpha=0.1,type="adaptive")
par(mfrow=c(1,2))
plot(adaptive.pag)
#############################


From r@njeetjh@||tkgp @end|ng |rom gm@||@com  Thu May 12 09:09:07 2022
From: r@njeetjh@||tkgp @end|ng |rom gm@||@com (Ranjeet Kumar Jha)
Date: Thu, 12 May 2022 08:09:07 +0100
Subject: [R] Need help with merging .RDS data frame yield value with
 district shapefile corresponding GDMID and plot the graph
In-Reply-To: <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>
References: <CAJfMH3p+WvpaFsAQOC2j2Yd_=QPp+FYtWVXBJ6ek0UVY7_AaOA@mail.gmail.com>
 <CAGxFJbRDd-fpMy6XAL2AFUn-CBLnHwEMw+nMtky=OX30FLMpGQ@mail.gmail.com>
 <CAJfMH3q64CkZH4WY6pewCsgrnQt=MGrQJEgK7dmeiJiOu6q_6Q@mail.gmail.com>
 <0af24dad-1e84-5ea9-bfb2-d8b81bb51a32@comcast.net>
Message-ID: <CAJfMH3ro=qvPkPJB07F9NCuSy68sDEFaYORWEo_KORVUfU-pWg@mail.gmail.com>

Hi David,

As suggested earlier, providing the link of a folder contains all files.

https://drive.google.com/drive/folders/1dNmGTI8_c9PK1QqmfIjnpbyzuiCXgxFC?msclkid=4816425dd04111ec912cf8b4175aa93c

Thanks,
Ranjeet

On Wed, May 11, 2022 at 9:35 PM David Winsemius <dwinsemius at comcast.net>
wrote:

>
> On 5/9/22 10:01, Ranjeet Kumar Jha wrote:
> > Thanks for your reply. Though codes are in
> > " yield. r" file.
>
>
> You need to pay better attention to what Bert said about your
> attachment. `.r` files are not allowed as an attachment type. You need
> to either provide a link to a publicly accessible location or include
> the code inline.
>
>
> --
>
> David
>
> >
> > Ranjeet
> >
> > On Mon, 9 May 2022, 7:58 pm Bert Gunter, <bgunter.4567 at gmail.com> wrote:
> >
> >> 1. No code came through. Most attachments are filtered due to security
> >> concerns. See the posting guide (linked below) for details.
> >>
> >> 2. Geo-type questions are better posted on r-sig-geo,
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-geo, rather than here.
> >>
> >> Bert Gunter
> >>
> >> "The trouble with having an open mind is that people keep coming along
> and
> >> sticking things into it."
> >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >>
> >>
> >> On Mon, May 9, 2022 at 5:22 AM Ranjeet Kumar Jha <
> >> ranjeetjhaiitkgp at gmail.com> wrote:
> >>
> >>> Hello Everyone,
> >>>
> >>> I am trying to plot an Indian district shapefile filled with modeled
> >>> yield,
> >>> corresponding to each GDMID. I needed to first merge the Yield data
> with
> >>> respect to each GDMID from the .RDS file with the district shapefile of
> >>> India. Each district is represented by a GDMID. After merging, the
> Indian
> >>> district map filled with modeled yield values needs to be plotted
> similar
> >>> to an example attached figure.
> >>>
> >>> I feel there is something wrong with my code for merging and plotting
> by
> >>> ggplot.
> >>>
> >>> I have attached herewith my code, .RDS dataframe, shapefile and sample
> >>> example fig.
> >>>
> >>> It would be great if you could help me with merging issue and plotting
> the
> >>> map, showing yield value, and legend in tile format.
> >>>
> >>> Regards and Thanks,
> >>> Ranjeet
> >>>
> >>> --
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
Ranjeet  Kumar Jha, M.Tech. (IIT Kharagpur), Ph.D. (USA)
https://www.linkedin.com/in/ranjeet-kumar-jha-ph-d-usa-73a5aa56
-----------------------------------------------------------
Email: *ranjeetjhaiitkgp at gmail.com <ranjeetjhaiitkgp at gmail.com>*


*"Simple Heart, Humble Attitude and Surrender to Supreme Being make our
lives beautiful!"*

	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Thu May 12 18:17:09 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Thu, 12 May 2022 09:17:09 -0700
Subject: [R] Building promise evaluations
Message-ID: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>

Hello,


I was hoping to build some promise evaluations and put them into a
call to be evaluated, but it doesn't seem as though there's an easy
way to build the promises. I can see from the r-source repository that
the C function mkPROMISE defined in Defn.h is what I need, but that
file doesn't seem to be included when downloaded (R.home("include")
does not contain this file).

I'm not particular about whether this has to be done at the R level or
at the C level, any solution is good to me.

Just in case anyone is wondering "why don't you just evaluate the call
in the same environment as you would assign to the promises?", I want
to evaluate the function and the first argument in my own environment,
and the rest of the arguments in an environment of the user's
choosing, and I can't do that without promises. Another question "why
don't you use the argument ... in your function to pass arguments
which will be evaluated in the user's environment?", I can't do that
either. The user's arguments are provided as a string from which the R
code is extracted, parsed, and then I can make use of them. Any help
is greatly appreciated!


Regards,
    Andrew Simmons


From iuke-tier@ey m@iii@g oii uiow@@edu  Thu May 12 18:30:47 2022
From: iuke-tier@ey m@iii@g oii uiow@@edu (iuke-tier@ey m@iii@g oii uiow@@edu)
Date: Thu, 12 May 2022 11:30:47 -0500 (CDT)
Subject: [R] [External]  Building promise evaluations
In-Reply-To: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>
References: <CAPcHnpSpqVjMXi7MKBAFew50MbRhK087YkQu4eedZ3PVS7ygyw@mail.gmail.com>
Message-ID: <3046f8f7-40f3-4b66-3f27-55eefd12f9a0@uiowa.edu>

Promises are an internal implementation detail that could change or
even disappear at any time. They should not be directly visible at the
R or package C level, the fact that they currently might be in some
case notwithstanding. delayedAssign is the only tool you can use for
programmatically creating delayed bindings in an environment (which
happen to currently be implemented via promises, but that could
change). Deferred evaluations should only exist in environments, not
anywhere else. So you should arrange what your are trying to do to
create a deferred binding in an environment in which you evaluate your
call.

Best,

luke

On Thu, 12 May 2022, Andrew Simmons wrote:

> Hello,
>
>
> I was hoping to build some promise evaluations and put them into a
> call to be evaluated, but it doesn't seem as though there's an easy
> way to build the promises. I can see from the r-source repository that
> the C function mkPROMISE defined in Defn.h is what I need, but that
> file doesn't seem to be included when downloaded (R.home("include")
> does not contain this file).
>
> I'm not particular about whether this has to be done at the R level or
> at the C level, any solution is good to me.
>
> Just in case anyone is wondering "why don't you just evaluate the call
> in the same environment as you would assign to the promises?", I want
> to evaluate the function and the first argument in my own environment,
> and the rest of the arguments in an environment of the user's
> choosing, and I can't do that without promises. Another question "why
> don't you use the argument ... in your function to pass arguments
> which will be evaluated in the user's environment?", I can't do that
> either. The user's arguments are provided as a string from which the R
> code is extracted, parsed, and then I can make use of them. Any help
> is greatly appreciated!
>
>
> Regards,
>    Andrew Simmons
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 21:31:51 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 19:31:51 +0000
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
Message-ID: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

I have a very strange problem. I am getting different results from 
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs. 
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?

From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 12 21:41:45 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 12 May 2022 22:41:45 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <20220512224145.330fd457@Tarkus>

On Thu, 12 May 2022 19:31:51 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> > mean(mlagFZ1,mlagFZ2,mlagFZ3)  
> [1] -0.3326792

match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
# mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)

mean() takes a vector to compute a mean of and additional arguments,
unlike sum(), which takes ... (almost arbitrary arguments) and sums all
of them. Unfortunately, the "trim" argument is documented to accept any
number and the na.rm argument is silently reinterpreted as logical in
your case.

-- 
Best regards,
Ivan


From d@v|d@@teven@ @end|ng |rom u@u@edu  Thu May 12 21:44:22 2022
From: d@v|d@@teven@ @end|ng |rom u@u@edu (David K Stevens)
Date: Thu, 12 May 2022 13:44:22 -0600
Subject: [R] [EXT]  result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <90e95f4e-de8c-e18a-77de-c1e862fbd7c9@usu.edu>

John - for both mean and sum, the numbers to be operated on need to be 
in a vector. This can be done with the 'c(...)' function, which takes 
the arguments (your three numbers) and concatenates them into a vector.

 > mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
[1] 0.01984417

 > sum(c(mlagFZ1,mlagFZ2,mlagFZ3))/3
[1] 0.01984417

What you have done is provide the mean (and sum) functions with three 
arguments. If you look at the documentation for 'mean', you have mlagFZ1 
as the 'x' argument, mlagFZ2 as the 'trim' argument, and mlagFZ3 as the 
'na.rm' argument, and makes no sense. With slightly different details, 
the same applies to the 'sum' function.

mean {base}??? R Documentation
Arithmetic Mean
Description
Generic function for the (trimmed) arithmetic mean.

Usage
mean(x, ...)

## Default S3 method:
mean(x, trim = 0, na.rm = FALSE, ...)
Arguments
x
An R object. Currently there are methods for numeric/logical vectors and 
date, date-time and time interval objects. Complex vectors are allowed 
for trim = 0, only.

trim
the fraction (0 to 0.5) of observations to be trimmed from each end of x 
before the mean is computed. Values of trim outside that range are taken 
as the nearest endpoint.

na.rm
a logical value indicating whether NA values should be stripped before 
the computation proceeds.
On 5/12/2022 1:31 PM, Sorkin, John wrote:
> I have a very strange problem. I am getting different results from
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> vs.
>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
>>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>
> R code:
> print(mlagFZ1)
> print(mlagFZ2)
> print(mlagFZ3)
>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
> output;
>> print(mlagFZ1)
> [1] -0.3326792
>> print(mlagFZ2)
> [1] -0.1890601
>> print(mlagFZ3)
> [1] -0.0840866
>>   sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> Can someone tell me what I did wrong?
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> CAUTION: This email originated from outside of USU. If this appears to be a USU employee, beware of impersonators. Do not click links, reply, download images, or open attachments unless you verify the sender?s identity and know the content is safe.
>
-- 
David K Stevens, PhD,PE
Professor
Civil and Environmental Engineering
Utah State University
Logan, UT 84322-8200
david.stevens at usu.edu
014357973229

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Thu May 12 21:44:23 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 12 May 2022 22:44:23 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512224145.330fd457@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
Message-ID: <CAGgJW74PCEya+igW=aU9WqkrNS-11x56GweHh=4aE_bCVh1C9g@mail.gmail.com>

Or ... to put it differently,, you need to wrap the numbers in c( .., ..,  )



On Thu, May 12, 2022 at 10:42 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Thu, 12 May 2022 19:31:51 +0000
> "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>
> > > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> > [1] -0.3326792
>
> match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
> # mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)
>
> mean() takes a vector to compute a mean of and additional arguments,
> unlike sum(), which takes ... (almost arbitrary arguments) and sums all
> of them. Unfortunately, the "trim" argument is documented to accept any
> number and the na.rm argument is silently reinterpreted as logical in
> your case.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 21:45:12 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 19:45:12 +0000
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512224145.330fd457@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
Message-ID: <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

Ivan,
Thank you for your quick reply. Unfortunately, I don't understand the concept you are trying toe explain. Can you try again?
Thank you,
John

________________________________________
From: Ivan Krylov <krylov.r00t at gmail.com>
Sent: Thursday, May 12, 2022 3:41 PM
To: Sorkin, John
Cc: r-help at r-project.org
Subject: Re: [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3

On Thu, 12 May 2022 19:31:51 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792

match.call(mean.default, quote(mean(mlagFZ1, mlagFZ2, mlagFZ3)))
# mean(x = mlagFZ1, trim = mlagFZ2, na.rm = mlagFZ3)

mean() takes a vector to compute a mean of and additional arguments,
unlike sum(), which takes ... (almost arbitrary arguments) and sums all
of them. Unfortunately, the "trim" argument is documented to accept any
number and the na.rm argument is silently reinterpreted as logical in
your case.

--
Best regards,
Ivan


From m@rc_@chw@rtz @end|ng |rom me@com  Thu May 12 21:47:40 2022
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Thu, 12 May 2022 15:47:40 -0400
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <etPan.627d645c.2d83963c.bed@me.com>

Hi John,

sum() takes an arbitrary "..." list as the initial argument, while mean() takes a vector "x" as the initial named argument.

Thus:

> sum(-0.3326792, -0.1890601, -0.0840866) / 3
[1] -0.201942

> mean(c(-0.3326792, -0.1890601, -0.0840866))
[1] -0.201942


Regards,

Marc Schwartz


On May 12, 2022 at 3:31:51 PM, Sorkin, John (jsorkin at som.umaryland.edu (mailto:jsorkin at som.umaryland.edu)) wrote:

> I have a very strange problem. I am getting different results from
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
> vs.
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> > sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
>
> R code:
> print(mlagFZ1)
> print(mlagFZ2)
> print(mlagFZ3)
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
> output;
> > print(mlagFZ1)
> [1] -0.3326792
> > print(mlagFZ2)
> [1] -0.1890601
> > print(mlagFZ3)
> [1] -0.0840866
> > sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
> [1] -0.201942
> > mean(mlagFZ1,mlagFZ2,mlagFZ3)
> [1] -0.3326792
>
> Can someone tell me what I did wrong?


From rmh @end|ng |rom temp|e@edu  Thu May 12 21:52:56 2022
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Thu, 12 May 2022 19:52:56 +0000
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>

you wrote
 mean(mlagFZ1,mlagFZ2,mlagFZ3)

you intended to write
 mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Thursday, May 12, 2022 3:31:51 PM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I have a very strange problem. I am getting different results from
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs.
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Thu May 12 22:05:14 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 12 May 2022 23:05:14 +0300
Subject: [R] result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <20220512230514.743ad214@Tarkus>

Eric Berger and Marc Schwartz and David K Stevens probably said it
better. I was trying to illustrate the way mean() takes its arguments
using the match.call function.

The sum() function can take individual numbers or vectors and
sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
or even sum(c(1, 2), 3): they all do what you mean them to do.

The mean() function is different. It may accept many arguments, but
only the first of them is the vector of numbers you're interested in:
mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
give it more arguments and they aren't what mean() expects them to be
(the second one should be a number in [0; 0.5] and the third one should
be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
or raise an error condition.

My use of match.call() was supposed to show that by calling mean(a, b,
c), I pass the number "b" as the "trim" argument to mean() and the
number "c" as the "na.rm" argument to mean(), which is not what was
intended here.

-- 
Best regards,
Ivan


From henr|k@bengt@@on @end|ng |rom gm@||@com  Thu May 12 22:39:20 2022
From: henr|k@bengt@@on @end|ng |rom gm@||@com (Henrik Bengtsson)
Date: Thu, 12 May 2022 13:39:20 -0700
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <20220512230514.743ad214@Tarkus>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512230514.743ad214@Tarkus>
Message-ID: <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>

There's actually another reason why mean(x) and sum(x)/length(x) may
differ, e.g.

x <- c(rnorm(1e6, sd=.Machine$double.eps), rnorm(1e6, sd=1))
mean(x) - sum(x)/length(x)
#> [1] 1.011781e-18

The mean() function calculates the sample mean using a two pass scan
through the data.  The first scan calculates the total sum and divides
by the number of (non-missing) values. In the second scan, this
average is refined by adding the residuals towards the first average.
This way numerical precision of mean(x) is higher than
sum(x)/length(x) when there spread of 'x' is large.  It also means
that the processing time of mean(x) is roughly twice that of
sum(x)/length(x).

/Henrik

On Thu, May 12, 2022 at 1:22 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> Eric Berger and Marc Schwartz and David K Stevens probably said it
> better. I was trying to illustrate the way mean() takes its arguments
> using the match.call function.
>
> The sum() function can take individual numbers or vectors and
> sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
> or even sum(c(1, 2), 3): they all do what you mean them to do.
>
> The mean() function is different. It may accept many arguments, but
> only the first of them is the vector of numbers you're interested in:
> mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
> give it more arguments and they aren't what mean() expects them to be
> (the second one should be a number in [0; 0.5] and the third one should
> be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
> or raise an error condition.
>
> My use of match.call() was supposed to show that by calling mean(a, b,
> c), I pass the number "b" as the "trim" argument to mean() and the
> number "c" as the "na.rm" argument to mean(), which is not what was
> intended here.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu May 12 22:55:00 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 12 May 2022 20:55:00 +0000
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
Message-ID: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>

I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3

I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!
The help file for 
sum says:
. . . numeric or complex or logical vectors

The help for mean says:
x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

While the help file for mean explains that mean expects its parameters to be a vector, it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3). 

Should the help file for mean be modified so that it checks to see if its parameter is a vector? If the parameter is not a vector, an error message might be generated. Without this, someone unsuspecting user (who does not check and think about results) might blindly accept the output of mean, use it to build a bridge, or skyscraper, which fails and result in the death of innocent victims. 

John




________________________________________
From: Richard M. Heiberger <rmh at temple.edu>
Sent: Thursday, May 12, 2022 3:52 PM
To: Sorkin, John; r-help at r-project.org
Subject: Re: [External] [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3

you wrote
 mean(mlagFZ1,mlagFZ2,mlagFZ3)

you intended to write
 mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Thursday, May 12, 2022 3:31:51 PM
To: r-help at r-project.org <r-help at r-project.org>
Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I have a very strange problem. I am getting different results from
mean(mlagFZ1,mlagFZ2,mlagFZ3)
vs.
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3


> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942

R code:
print(mlagFZ1)
print(mlagFZ2)
print(mlagFZ3)
 sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
mean(mlagFZ1,mlagFZ2,mlagFZ3)

output;
> print(mlagFZ1)
[1] -0.3326792
> print(mlagFZ2)
[1] -0.1890601
> print(mlagFZ3)
[1] -0.0840866
>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
[1] -0.201942
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
[1] -0.3326792

Can someone tell me what I did wrong?
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=r3GGh3lTBrAXuhmDEbLFYlzYfGWM3gn7iXskUw72B40%3D&reserved=0>
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=0FD7GgnSphuw1Ha419vFHTDw3aGPIjXrwPigrMkMfOU%3D&reserved=0>
and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu May 12 23:30:48 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 12 May 2022 14:30:48 -0700
Subject: [R] [External]  result of mean(v1, v2,
 v3) of three real number  not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <0BBF81AE-57EB-40F7-97EB-F63A6270466F@dcn.davis.ca.us>

R is at heart used for processing vectors of data. I find the flexibility of sum to be more disturbing than the constraints of mean.

On May 12, 2022 1:55:00 PM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
>I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!
>The help file for 
>sum says:
>. . . numeric or complex or logical vectors
>
>The help for mean says:
>x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.
>
>While the help file for mean explains that mean expects its parameters to be a vector, it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3). 
>
>Should the help file for mean be modified so that it checks to see if its parameter is a vector? If the parameter is not a vector, an error message might be generated. Without this, someone unsuspecting user (who does not check and think about results) might blindly accept the output of mean, use it to build a bridge, or skyscraper, which fails and result in the death of innocent victims. 
>
>John
>
>
>
>
>________________________________________
>From: Richard M. Heiberger <rmh at temple.edu>
>Sent: Thursday, May 12, 2022 3:52 PM
>To: Sorkin, John; r-help at r-project.org
>Subject: Re: [External] [R] result of mean(v1, v2, v3) of three real number  not the same as sum(v1, v2, v3)/3
>
>you wrote
> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
>you intended to write
> mean(c(mlagFZ1,mlagFZ2,mlagFZ3))
>________________________________
>From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
>Sent: Thursday, May 12, 2022 3:31:51 PM
>To: r-help at r-project.org <r-help at r-project.org>
>Subject: [External] [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3
>
>I have a very strange problem. I am getting different results from
>mean(mlagFZ1,mlagFZ2,mlagFZ3)
>vs.
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>
>
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>[1] -0.3326792
>
>>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>[1] -0.201942
>
>R code:
>print(mlagFZ1)
>print(mlagFZ2)
>print(mlagFZ3)
> sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>mean(mlagFZ1,mlagFZ2,mlagFZ3)
>
>output;
>> print(mlagFZ1)
>[1] -0.3326792
>> print(mlagFZ2)
>[1] -0.1890601
>> print(mlagFZ3)
>[1] -0.0840866
>>  sum(mlagFZ1,mlagFZ2,mlagFZ3)/3
>[1] -0.201942
>> mean(mlagFZ1,mlagFZ2,mlagFZ3)
>[1] -0.3326792
>
>Can someone tell me what I did wrong?
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=hFFO1S%2BKjqyVjjkiF%2BrI2WoqyYtbAL1eQNRCLWNZrGc%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=r3GGh3lTBrAXuhmDEbLFYlzYfGWM3gn7iXskUw72B40%3D&reserved=0>
>PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Crmh%40temple.edu%7Cad57db1be49d481a7b8b08da344e1ce5%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637879807634239778%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=h7unlucyqKJ2yWZ2nqVhZWekHPRq%2FbeTBEy1OSKIfZ0%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdf1463e5f1f04d96525408da34510361%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637879819908301628%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&sdata=0FD7GgnSphuw1Ha419vFHTDw3aGPIjXrwPigrMkMfOU%3D&reserved=0>
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Thu May 12 23:45:50 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 12 May 2022 14:45:50 -0700
Subject: [R] [External] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>

I believe you are still misunderstanding. Inline comments below.

On Thu, May 12, 2022 at 2:02 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
> I believe the explanations points out a  possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!

Well, **any** function "may be used improperly"! It's up to the user
to study and follow the documentation.

>
> The help file for
> sum says:
> . . . numeric or complex or logical vectors
>
> The help for mean says:
> x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

You need to pay closer attention: mean() is a (S3) generic function
whose first argument, x, is an **object** that determines dispatch.
This object is not necessarily a vector -- that is,
inherits(x,"vector") need **not** be TRUE( and indeed is FALSE for
various methods. See methods('mean') ).  If you do not understand
this, you need to read up on R's S3 generic function mechanism.
>
>
> While the help file for mean explains that mean expects its parameters to be a vector,
**That is false. ** It is only true for the 'x' parameter for the
**default** method.

> it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3).
>
> Should the help file for mean be modified so that it checks to see if its parameter is a vector?

??  Based on what I noted above, this query seems misbegotten.
Moreover, of course, a help file doesn't check anything -- the
**function** would have to check its arguments (I assume that's what
you meant).

 -- Bert


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 13 00:59:47 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 12 May 2022 22:59:47 +0000 (UTC)
Subject: [R] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512224145.330fd457@Tarkus>
 <MN2PR03MB5167EF5676FB6B711BBA3E18E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <20220512230514.743ad214@Tarkus>
 <CAFDcVCTD9KVKEzmwsW63QRB897gxWObT6-F1eMh8SXhzSuhJ0A@mail.gmail.com>
Message-ID: <589404244.1536593.1652396387733@mail.yahoo.com>

I think, in addition to earlier replies, that there are effects in R based on just about?everything being a vector. The number 1 is a vector of length 1 and is not really?different than a longer one like c(1,2,3) except for having a length of 1 versus 3.
So sum(1:3, 3:1, 1) adds to 13 as it is seen as sum(1, 2, 3, 3, 3, 1, 1) in a sense.

Your example did not trip up an error but this does:?mean(1:3, 7:9)
Error in mean.default(1:3, 7:9) : 'trim' must be numeric of length one

There is the hint because the optional trim= argument can only work with a?single scalar. I gave it a vector of c(7,8,9) and it barfed. Other R functionality?often just supplies a warning when it gets a vector when it expected a scalar albeit?they look the same otherwise. I mean if(... vector) may now start considering it an error.
How would you rewrite mean to catch odd cases? I can understand it assuming a second?argument to be for trim and a third argument for na.rm but it does not check for it to be "TRUE"?and accepts non-zero numbers as a version of na.rm=TRUE.
But anything with 4 or more arguments ought to be visibly WRONG but is apparently?blindly accepted as?mean(1,2,3,4,5,6,7,8,9) returns the wrong answer of 1 with no complaint.
I am a fan of not using keyword optional arguments without a keyword, even if it is legal.
If your function insisted on being called like:
mean(num, trim=num, na.rm=TRUE)
then it could easily catch errors like the one we are discussing.
I note median() is also similarly flawed now. It only has one documented argument ad still?does not catch getting 3 or more arguments. sd() fails on sd(3,3) with an NA but only because?sd(3) is equally NA. But for more arguments like?sd(3, 4, 5), it fails because of unused arguments.
So there are some inconsistencies that catch some errors and not others but a complete "fix"?may not work as long as R allows vectors of length 1 in all contexts.
Making optional arguments required to be spelled out would much existing code too.
For now, just using c() in solutions work well.?

-----Original Message-----
From: Henrik Bengtsson <henrik.bengtsson at gmail.com>
To: Ivan Krylov <krylov.r00t at gmail.com>
Cc: r-help at r-project.org <r-help at r-project.org>
Sent: Thu, May 12, 2022 4:39 pm
Subject: Re: [R] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

There's actually another reason why mean(x) and sum(x)/length(x) may
differ, e.g.

x <- c(rnorm(1e6, sd=.Machine$double.eps), rnorm(1e6, sd=1))
mean(x) - sum(x)/length(x)
#> [1] 1.011781e-18

The mean() function calculates the sample mean using a two pass scan
through the data.? The first scan calculates the total sum and divides
by the number of (non-missing) values. In the second scan, this
average is refined by adding the residuals towards the first average.
This way numerical precision of mean(x) is higher than
sum(x)/length(x) when there spread of 'x' is large.? It also means
that the processing time of mean(x) is roughly twice that of
sum(x)/length(x).

/Henrik

On Thu, May 12, 2022 at 1:22 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> Eric Berger and Marc Schwartz and David K Stevens probably said it
> better. I was trying to illustrate the way mean() takes its arguments
> using the match.call function.
>
> The sum() function can take individual numbers or vectors and
> sum all their elements, so sum(c(1, 2, 3)) is the same as sum(1, 2, 3),
> or even sum(c(1, 2), 3): they all do what you mean them to do.
>
> The mean() function is different. It may accept many arguments, but
> only the first of them is the vector of numbers you're interested in:
> mean(c(1, 2, 3)) is the correct way to call it. Unfortunately, when you
> give it more arguments and they aren't what mean() expects them to be
> (the second one should be a number in [0; 0.5] and the third one should
> be TRUE or FALSE, see help(mean) if you're curious), R doesn't warn you
> or raise an error condition.
>
> My use of match.call() was supposed to show that by calling mean(a, b,
> c), I pass the number "b" as the "trim" argument to mean() and the
> number "c" as the "na.rm" argument to mean(), which is not what was
> intended here.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Fri May 13 01:17:55 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 12 May 2022 23:17:55 +0000 (UTC)
Subject: [R] [External] result of mean(v1, v2,
 v3) of three real number not the same as sum(v1, v2, v3)/3
In-Reply-To: <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>
References: <MN2PR03MB51673EEEA93ABE2F460A43C6E2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239E9B0F8268B21C634A0F0D2CB9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB5167036D2E1DBA28BFEE102BE2CB9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <CAGxFJbRgUpVdT=FvkNWL8mza4sBC4=ZoARgXMoQk5g+x07Mw9g@mail.gmail.com>
Message-ID: <759049126.1541065.1652397475879@mail.yahoo.com>

Good point, Bert. On my machine,?methods("mean") returns 8 variations including for Dates.
But this being R, if you LIKE having a version of mean() that does it your way, go for it!

mymean <- function(...) mean(c(...))

The function defined above takes any number of arguments and makes a vector of them?and passes it to mean() but note will not handle arguments about trim or na.rm.

mymean(1,2,3,4)

[1] 2.5

There are subtle errors if you try. using na.rm=TRUE has a term evaluated to 1. Using?trim=8 so you cannot mix and match just because you feel like it. Yes, there are ways?to evaluate the arguments and package some into a c() and pass along others but my?point is what others keep saying. Don't assume a function can be used the way you?want it to but the way the manual page says it can be used. Sometimes, though, you can?make your own function for personal use that does what you want. You don't even have?to piggyback like my example. Your function can take any number of arguments, evaluate?each one to see if it seems numeric and has length 1 and is not NA, calculate how many?it got that are valid,??add them together in a loop and divide by the total.
But you may not want to name it mean() unless ...
-----Original Message-----
From: Bert Gunter <bgunter.4567 at gmail.com>
To: Sorkin, John <jsorkin at som.umaryland.edu>
Cc: r-help at r-project.org <r-help at r-project.org>; Schwartz, Marc (MSchwartz at mn.rr.com) <mschwartz at mn.rr.com>
Sent: Thu, May 12, 2022 5:45 pm
Subject: Re: [R] [External] result of mean(v1, v2, v3) of three real number not the same as sum(v1, v2, v3)/3

I believe you are still misunderstanding. Inline comments below.

On Thu, May 12, 2022 at 2:02 PM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I thank Richard Heiberger, Marc Schwartz, Eric Berger, Ivan Krylov, and David Stevens for answering my question regarding different results obtained from mean(v1,v2,v3)) and sum(v1,v2,v3)/3
>
> I believe the explanations points out a? possibly dangerous aspect of the sum vs mean functions. Mean may be used improperly!

Well, **any** function "may be used improperly"! It's up to the user
to study and follow the documentation.

>
> The help file for
> sum says:
> . . . numeric or complex or logical vectors
>
> The help for mean says:
> x, An R object, Currently there are methods for numeric/logical vectors, date, date/time/ and interval objects.

You need to pay closer attention: mean() is a (S3) generic function
whose first argument, x, is an **object** that determines dispatch.
This object is not necessarily a vector -- that is,
inherits(x,"vector") need **not** be TRUE( and indeed is FALSE for
various methods. See methods('mean') ).? If you do not understand
this, you need to read up on R's S3 generic function mechanism.
>
>
> While the help file for mean explains that mean expects its parameters to be a vector,
**That is false. ** It is only true for the 'x' parameter for the
**default** method.

> it is reasonable for an R user to assume that mean works on a series of scalers, i.e. v1,v2,v3 rather than requiring a vector i.e. c(v1,v2,v3).
>
> Should the help file for mean be modified so that it checks to see if its parameter is a vector?

??? Based on what I noted above, this query seems misbegotten.
Moreover, of course, a help file doesn't check anything -- the
**function** would have to check its arguments (I assume that's what
you meant).

 -- Bert

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri May 13 09:55:06 2022
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 13 May 2022 09:55:06 +0200
Subject: [R] Error on r-oldrel-windows-ix86+x86_64
In-Reply-To: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>
References: <629414a3-d9d0-7fcf-93cf-a3f4be513a9d@bebac.at>
Message-ID: <b43f846e-b01d-993a-bb42-5ce43a301972@statistik.tu-dortmund.de>



On 07.05.2022 14:06, Helmut Sch?tz wrote:
> Dear all,
> 
> I got an error: 
> https://cran.r-project.org/web/checks/check_results_replicateBE.html
> Specifically:
> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), 
> versionCheck = vI[[j]]) :
>  ? there is no package called 'nloptr'
> The chain of dependecies are:
> replicateBE > lmerTest > lme4 > nloptr
> 
> In v1.1.3 there where only changes in the man pages documenting data sets.
> The previous v1.1.0 had no problems with the (then current) R4.1.3
> 
> Is this a transient problem on CRAN? Is there anything I can do about?

It was transient.

Best,
Uwe Ligges



> Helmut
>


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 15:38:29 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 08:38:29 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
Message-ID: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>

Dear friends,

Hope you are doing great. I have installed R version 4.2.0 and
RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
2022-04-19) for Windows.

Last week, I developed a model in RStudio and was able to install and load
many packages, but now RStudio is behaving oddly.

I get the following errors whenever I try installing packages(which was not
happening to me last week):

https://cran.rstudio.com/bin/windows/Rtools/
Warning in install.packages :
  unable to access index for repository https://cran.rstudio.com/src/contrib
:
  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
Warning in install.packages :
  package ?Rtools? is not available for this version of R

A version of this package for your version of R might be available
elsewhere,
see the ideas at
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
Warning in install.packages :
  unable to access index for repository
https://cran.rstudio.com/bin/windows/contrib/4.2:
  cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
'

I try to install Rtools but was not able to.

Any clues on what could be happening?

Best regards,
Paul

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Fri May 13 16:14:18 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 13 May 2022 17:14:18 +0300
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <20220513171418.3bec0f1d@trisector>

On Fri, 13 May 2022 08:38:29 -0500
Paul Bernal <paulbernal07 at gmail.com> wrote:

> cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'

Can you open the URL manually? Or any of the mirrors at
https://cran.r-project.org/mirrors.html ? You can try using a different
mirror by using chooseCRANmirror().

-- 
Best regards,
Ivan


From bgunter@4567 @end|ng |rom gm@||@com  Fri May 13 16:19:17 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 13 May 2022 07:19:17 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <CAGxFJbQqCu62_ucHR9pquRwSoGdTKA-VMQgGVwx_uNvomTd84w@mail.gmail.com>

Sounds like an RStudio problem.

1. Try another repository. Try downloading packages manually from R.
See ?install.packages, ?setRepositories  .

2. Have you tried posting in RStudio's Help site: https://community.rstudio.com/

Bert Gunter

"The trouble with having an open mind is that people keep coming along
and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )

On Fri, May 13, 2022 at 6:39 AM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> Hope you are doing great. I have installed R version 4.2.0 and
> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> 2022-04-19) for Windows.
>
> Last week, I developed a model in RStudio and was able to install and load
> many packages, but now RStudio is behaving oddly.
>
> I get the following errors whenever I try installing packages(which was not
> happening to me last week):
>
> https://cran.rstudio.com/bin/windows/Rtools/
> Warning in install.packages :
>   unable to access index for repository https://cran.rstudio.com/src/contrib
> :
>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> Warning in install.packages :
>   package ?Rtools? is not available for this version of R
>
> A version of this package for your version of R might be available
> elsewhere,
> see the ideas at
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> Warning in install.packages :
>   unable to access index for repository
> https://cran.rstudio.com/bin/windows/contrib/4.2:
>   cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> '
>
> I try to install Rtools but was not able to.
>
> Any clues on what could be happening?
>
> Best regards,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri May 13 16:35:11 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 13 May 2022 07:35:11 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
Message-ID: <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>

A) You are repeatedly referring to RStudio... if you have a problem with RStudio, it is off-topic here and most people won't know how to fix it. RStudio occasionally gets out of sync with R and (the majority of us) don't keep track of that status here.

Assuming the problem is with R (you confirm this by using R or RGui directly and seeing the same errors)... 

B) When the R error messages say they cannot find the index, then that means you either have the wrong CRAN mirror URL (there is a whole list of them you can try) or there is some kind of network storm that will blow over if you try again later.

C) Finally, Rtools is not an R package... you will never succeed installing Rtools using install.packages. Use your web browser to look on CRAN for Rtools42 software and download the corresponding Windows setup program and run it. You should read and follow the instructions [1]. I am pretty sure you will need to re-start R so it will find Rtools.

[1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html

On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com> wrote:
>Dear friends,
>
>Hope you are doing great. I have installed R version 4.2.0 and
>RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>2022-04-19) for Windows.
>
>Last week, I developed a model in RStudio and was able to install and load
>many packages, but now RStudio is behaving oddly.
>
>I get the following errors whenever I try installing packages(which was not
>happening to me last week):
>
>https://cran.rstudio.com/bin/windows/Rtools/
>Warning in install.packages :
>  unable to access index for repository https://cran.rstudio.com/src/contrib
>:
>  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>Warning in install.packages :
>  package ?Rtools? is not available for this version of R
>
>A version of this package for your version of R might be available
>elsewhere,
>see the ideas at
>https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
>Warning in install.packages :
>  unable to access index for repository
>https://cran.rstudio.com/bin/windows/contrib/4.2:
>  cannot open URL 'https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>'
>
>I try to install Rtools but was not able to.
>
>Any clues on what could be happening?
>
>Best regards,
>Paul
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 16:57:33 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 09:57:33 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
Message-ID: <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>

Dear Jeff and R friends,

I fixed the issue. The problem was due to the fact that I had R version
4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
points to the latest R version installed, there were a lot of packages that
were not installed.

I just made RStudio point to an older R version and the issue was solved.

Cheers,
Paul
El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
jdnewmil at dcn.davis.ca.us> escribi?:

> A) You are repeatedly referring to RStudio... if you have a problem with
> RStudio, it is off-topic here and most people won't know how to fix it.
> RStudio occasionally gets out of sync with R and (the majority of us) don't
> keep track of that status here.
>
> Assuming the problem is with R (you confirm this by using R or RGui
> directly and seeing the same errors)...
>
> B) When the R error messages say they cannot find the index, then that
> means you either have the wrong CRAN mirror URL (there is a whole list of
> them you can try) or there is some kind of network storm that will blow
> over if you try again later.
>
> C) Finally, Rtools is not an R package... you will never succeed
> installing Rtools using install.packages. Use your web browser to look on
> CRAN for Rtools42 software and download the corresponding Windows setup
> program and run it. You should read and follow the instructions [1]. I am
> pretty sure you will need to re-start R so it will find Rtools.
>
> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>
> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
> wrote:
> >Dear friends,
> >
> >Hope you are doing great. I have installed R version 4.2.0 and
> >RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> >2022-04-19) for Windows.
> >
> >Last week, I developed a model in RStudio and was able to install and load
> >many packages, but now RStudio is behaving oddly.
> >
> >I get the following errors whenever I try installing packages(which was
> not
> >happening to me last week):
> >
> >https://cran.rstudio.com/bin/windows/Rtools/
> >Warning in install.packages :
> >  unable to access index for repository
> https://cran.rstudio.com/src/contrib
> >:
> >  cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> >Warning in install.packages :
> >  package ?Rtools? is not available for this version of R
> >
> >A version of this package for your version of R might be available
> >elsewhere,
> >see the ideas at
> >
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> >Warning in install.packages :
> >  unable to access index for repository
> >https://cran.rstudio.com/bin/windows/contrib/4.2:
> >  cannot open URL '
> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> >'
> >
> >I try to install Rtools but was not able to.
> >
> >Any clues on what could be happening?
> >
> >Best regards,
> >Paul
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri May 13 18:47:58 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 13 May 2022 17:47:58 +0100
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
Message-ID: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>

Hello,

If that was the problem you should run update.packages().
It can take a lot of time dpending on how many packages you have 
installed but it will avoid you having to update the packages one by one.

Hope this helps,

Rui Barradas

?s 15:57 de 13/05/2022, Paul Bernal escreveu:
> Dear Jeff and R friends,
> 
> I fixed the issue. The problem was due to the fact that I had R version
> 4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
> points to the latest R version installed, there were a lot of packages that
> were not installed.
> 
> I just made RStudio point to an older R version and the issue was solved.
> 
> Cheers,
> Paul
> El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
> jdnewmil at dcn.davis.ca.us> escribi?:
> 
>> A) You are repeatedly referring to RStudio... if you have a problem with
>> RStudio, it is off-topic here and most people won't know how to fix it.
>> RStudio occasionally gets out of sync with R and (the majority of us) don't
>> keep track of that status here.
>>
>> Assuming the problem is with R (you confirm this by using R or RGui
>> directly and seeing the same errors)...
>>
>> B) When the R error messages say they cannot find the index, then that
>> means you either have the wrong CRAN mirror URL (there is a whole list of
>> them you can try) or there is some kind of network storm that will blow
>> over if you try again later.
>>
>> C) Finally, Rtools is not an R package... you will never succeed
>> installing Rtools using install.packages. Use your web browser to look on
>> CRAN for Rtools42 software and download the corresponding Windows setup
>> program and run it. You should read and follow the instructions [1]. I am
>> pretty sure you will need to re-start R so it will find Rtools.
>>
>> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>>
>> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
>> wrote:
>>> Dear friends,
>>>
>>> Hope you are doing great. I have installed R version 4.2.0 and
>>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>>> 2022-04-19) for Windows.
>>>
>>> Last week, I developed a model in RStudio and was able to install and load
>>> many packages, but now RStudio is behaving oddly.
>>>
>>> I get the following errors whenever I try installing packages(which was
>> not
>>> happening to me last week):
>>>
>>> https://cran.rstudio.com/bin/windows/Rtools/
>>> Warning in install.packages :
>>>   unable to access index for repository
>> https://cran.rstudio.com/src/contrib
>>> :
>>>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>>> Warning in install.packages :
>>>   package ?Rtools? is not available for this version of R
>>>
>>> A version of this package for your version of R might be available
>>> elsewhere,
>>> see the ideas at
>>>
>> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
>>> Warning in install.packages :
>>>   unable to access index for repository
>>> https://cran.rstudio.com/bin/windows/contrib/4.2:
>>>   cannot open URL '
>> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>>> '
>>>
>>> I try to install Rtools but was not able to.
>>>
>>> Any clues on what could be happening?
>>>
>>> Best regards,
>>> Paul
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri May 13 19:53:21 2022
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 13 May 2022 10:53:21 -0700
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
 <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
Message-ID: <b1b50241-07b9-54dc-cfa4-a753465577a1@comcast.net>


On 5/13/22 09:47, Rui Barradas wrote:
> Hello,
>
> If that was the problem you should run update.packages().

# ITYM:

update.packages( checkBuilt=TRUE, ask=FALSE)

-- 

David.

> It can take a lot of time dpending on how many packages you have 
> installed but it will avoid you having to update the packages one by one.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 15:57 de 13/05/2022, Paul Bernal escreveu:
>> Dear Jeff and R friends,
>>
>> I fixed the issue. The problem was due to the fact that I had R version
>> 4.1.2 and installed? the newer version R 4.2. Since RStudio 
>> automatically
>> points to the latest R version installed, there were a lot of 
>> packages that
>> were not installed.
>>
>> I just made RStudio point to an older R version and the issue was 
>> solved.
>>
>> Cheers,
>> Paul
>> El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
>> jdnewmil at dcn.davis.ca.us> escribi?:
>>
>>> A) You are repeatedly referring to RStudio... if you have a problem 
>>> with
>>> RStudio, it is off-topic here and most people won't know how to fix it.
>>> RStudio occasionally gets out of sync with R and (the majority of 
>>> us) don't
>>> keep track of that status here.
>>>
>>> Assuming the problem is with R (you confirm this by using R or RGui
>>> directly and seeing the same errors)...
>>>
>>> B) When the R error messages say they cannot find the index, then that
>>> means you either have the wrong CRAN mirror URL (there is a whole 
>>> list of
>>> them you can try) or there is some kind of network storm that will blow
>>> over if you try again later.
>>>
>>> C) Finally, Rtools is not an R package... you will never succeed
>>> installing Rtools using install.packages. Use your web browser to 
>>> look on
>>> CRAN for Rtools42 software and download the corresponding Windows setup
>>> program and run it. You should read and follow the instructions [1]. 
>>> I am
>>> pretty sure you will need to re-start R so it will find Rtools.
>>>
>>> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
>>>
>>> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
>>> wrote:
>>>> Dear friends,
>>>>
>>>> Hope you are doing great. I have installed R version 4.2.0 and
>>>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
>>>> 2022-04-19) for Windows.
>>>>
>>>> Last week, I developed a model in RStudio and was able to install 
>>>> and load
>>>> many packages, but now RStudio is behaving oddly.
>>>>
>>>> I get the following errors whenever I try installing packages(which 
>>>> was
>>> not
>>>> happening to me last week):
>>>>
>>>> https://cran.rstudio.com/bin/windows/Rtools/
>>>> Warning in install.packages :
>>>> ? unable to access index for repository
>>> https://cran.rstudio.com/src/contrib
>>>> :
>>>> ? cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
>>>> Warning in install.packages :
>>>> ? package ?Rtools? is not available for this version of R
>>>>
>>>> A version of this package for your version of R might be available
>>>> elsewhere,
>>>> see the ideas at
>>>>
>>> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages 
>>>
>>>> Warning in install.packages :
>>>> ? unable to access index for repository
>>>> https://cran.rstudio.com/bin/windows/contrib/4.2:
>>>> ? cannot open URL '
>>> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
>>>> '
>>>>
>>>> I try to install Rtools but was not able to.
>>>>
>>>> Any clues on what could be happening?
>>>>
>>>> Best regards,
>>>> Paul
>>>>
>>>> ?????? [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> -- 
>>> Sent from my phone. Please excuse my brevity.
>>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From p@u|bern@|07 @end|ng |rom gm@||@com  Fri May 13 20:13:24 2022
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 13 May 2022 13:13:24 -0500
Subject: [R] Issue when trying to install or load packages in RStudio
In-Reply-To: <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
References: <CAMOcQfOw-q6Ga_fC4Q4PwKxT07HdBeyV4h60hUqQG8=DJ27cUw@mail.gmail.com>
 <93667DE9-28F5-418B-8212-A221B7CE3578@dcn.davis.ca.us>
 <CAMOcQfNnr2kKS47J=hy7N6_qVn3ev27vd=HqcvqmTNt0cZUufA@mail.gmail.com>
 <f4116b7a-d7a7-23d0-767a-433b9c22fcfc@sapo.pt>
Message-ID: <CAMOcQfNHBUge+UDf4P9B5xuVtDFD=+4sQWGVn5nKJFMmzByEXg@mail.gmail.com>

Thank you very much dear friend Rui.

Best,
Paul

El El vie, 13 de may. de 2022 a la(s) 11:48 a. m., Rui Barradas <
ruipbarradas at sapo.pt> escribi?:

> Hello,
>
> If that was the problem you should run update.packages().
> It can take a lot of time dpending on how many packages you have
> installed but it will avoid you having to update the packages one by one.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 15:57 de 13/05/2022, Paul Bernal escreveu:
> > Dear Jeff and R friends,
> >
> > I fixed the issue. The problem was due to the fact that I had R version
> > 4.1.2 and installed  the newer version R 4.2. Since RStudio automatically
> > points to the latest R version installed, there were a lot of packages
> that
> > were not installed.
> >
> > I just made RStudio point to an older R version and the issue was solved.
> >
> > Cheers,
> > Paul
> > El El vie, 13 de may. de 2022 a la(s) 9:35 a. m., Jeff Newmiller <
> > jdnewmil at dcn.davis.ca.us> escribi?:
> >
> >> A) You are repeatedly referring to RStudio... if you have a problem with
> >> RStudio, it is off-topic here and most people won't know how to fix it.
> >> RStudio occasionally gets out of sync with R and (the majority of us)
> don't
> >> keep track of that status here.
> >>
> >> Assuming the problem is with R (you confirm this by using R or RGui
> >> directly and seeing the same errors)...
> >>
> >> B) When the R error messages say they cannot find the index, then that
> >> means you either have the wrong CRAN mirror URL (there is a whole list
> of
> >> them you can try) or there is some kind of network storm that will blow
> >> over if you try again later.
> >>
> >> C) Finally, Rtools is not an R package... you will never succeed
> >> installing Rtools using install.packages. Use your web browser to look
> on
> >> CRAN for Rtools42 software and download the corresponding Windows setup
> >> program and run it. You should read and follow the instructions [1]. I
> am
> >> pretty sure you will need to re-start R so it will find Rtools.
> >>
> >> [1] https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html
> >>
> >> On May 13, 2022 6:38:29 AM PDT, Paul Bernal <paulbernal07 at gmail.com>
> >> wrote:
> >>> Dear friends,
> >>>
> >>> Hope you are doing great. I have installed R version 4.2.0 and
> >>> RStudio 2022.02.2 Build 485 "Prairie Trillium" Release (8acbd38b,
> >>> 2022-04-19) for Windows.
> >>>
> >>> Last week, I developed a model in RStudio and was able to install and
> load
> >>> many packages, but now RStudio is behaving oddly.
> >>>
> >>> I get the following errors whenever I try installing packages(which was
> >> not
> >>> happening to me last week):
> >>>
> >>> https://cran.rstudio.com/bin/windows/Rtools/
> >>> Warning in install.packages :
> >>>   unable to access index for repository
> >> https://cran.rstudio.com/src/contrib
> >>> :
> >>>   cannot open URL 'https://cran.rstudio.com/src/contrib/PACKAGES'
> >>> Warning in install.packages :
> >>>   package ?Rtools? is not available for this version of R
> >>>
> >>> A version of this package for your version of R might be available
> >>> elsewhere,
> >>> see the ideas at
> >>>
> >>
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
> >>> Warning in install.packages :
> >>>   unable to access index for repository
> >>> https://cran.rstudio.com/bin/windows/contrib/4.2:
> >>>   cannot open URL '
> >> https://cran.rstudio.com/bin/windows/contrib/4.2/PACKAGES
> >>> '
> >>>
> >>> I try to install Rtools but was not able to.
> >>>
> >>> Any clues on what could be happening?
> >>>
> >>> Best regards,
> >>> Paul
> >>>
> >>>        [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> --
> >> Sent from my phone. Please excuse my brevity.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


