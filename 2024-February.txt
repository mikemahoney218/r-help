From roy@mende|@@ohn @end|ng |rom no@@@gov  Thu Feb  1 00:47:18 2024
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Wed, 31 Jan 2024 15:47:18 -0800
Subject: [R] Need help testing a problem
Message-ID: <15EE349C-1593-481E-9A22-2014393B8DB9@noaa.gov>

HI All:

We are trying to figure out a problem that is occurring with a package,  and we need a non-NOAA person with a Windows computer with the latest R to test for us what is failing (but works on Macs and Linux from different sites).  Part of the problem is there is an Akamai service in between that we feel may be messing up things. To do this you would need to be willing to:

1.  install the ?rerddap? package from CRAN,  with all dependencies - or if installed make certain it is the latest

2. make certain that the packages ?curl?, ?crul? and ?http? are up to date.  

3.  Run the following:

# load rerddap
library("rerddap?)
# delete rerddap cache just in case
cache_delete_all()
# get the data extract
dat <- tabledap('FED_JSATS_detects', url = "https://oceanview.pfeg.noaa.gov/erddap/", 'study_id="RBDD_2018"', callopts = list(verbose = TRUE), store = memory())

4. If it works also do:

 head(dat)

Either way if all the output could be sent to me it would be very helpful.  The download may take a couple of minutes,
the file size is about 3.5MB.

If anyone has concerns about what is being downloaded you can check the ?rerddap? docs to see these are all legitimate ?rerddap' commands,  the datasets being accessed is https://oceanview.pfeg.noaa.gov/erddap/tabledap/FED_JSATS_detects.html.  The downloaded file goes to R temp space, and its location,  if successful is given in the output.

Thanks to anyone willing to help.  One of my issues is I have been unable to reproduce the error,  but I also do not have ready access to a Windows machine.

-ROy
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Feb  1 11:16:33 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Feb 2024 10:16:33 +0000
Subject: [R] Need help testing a problem
In-Reply-To: <15EE349C-1593-481E-9A22-2014393B8DB9@noaa.gov>
References: <15EE349C-1593-481E-9A22-2014393B8DB9@noaa.gov>
Message-ID: <06f41ffa-4505-49db-b7a4-6ec78919b761@sapo.pt>

?s 23:47 de 31/01/2024, Roy Mendelssohn - NOAA Federal via R-help escreveu:
> HI All:
> 
> We are trying to figure out a problem that is occurring with a package,  and we need a non-NOAA person with a Windows computer with the latest R to test for us what is failing (but works on Macs and Linux from different sites).  Part of the problem is there is an Akamai service in between that we feel may be messing up things. To do this you would need to be willing to:
> 
> 1.  install the ?rerddap? package from CRAN,  with all dependencies - or if installed make certain it is the latest
> 
> 2. make certain that the packages ?curl?, ?crul? and ?http? are up to date.
> 
> 3.  Run the following:
> 
> # load rerddap
> library("rerddap?)
> # delete rerddap cache just in case
> cache_delete_all()
> # get the data extract
> dat <- tabledap('FED_JSATS_detects', url = "https://oceanview.pfeg.noaa.gov/erddap/", 'study_id="RBDD_2018"', callopts = list(verbose = TRUE), store = memory())
> 
> 4. If it works also do:
> 
>   head(dat)
> 
> Either way if all the output could be sent to me it would be very helpful.  The download may take a couple of minutes,
> the file size is about 3.5MB.
> 
> If anyone has concerns about what is being downloaded you can check the ?rerddap? docs to see these are all legitimate ?rerddap' commands,  the datasets being accessed is https://oceanview.pfeg.noaa.gov/erddap/tabledap/FED_JSATS_detects.html.  The downloaded file goes to R temp space, and its location,  if successful is given in the output.
> 
> Thanks to anyone willing to help.  One of my issues is I have been unable to reproduce the error,  but I also do not have ready access to a Windows machine.
> 
> -ROy
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Tested with R 4.3.2 running on Windows 11.

1. You mention package http but there is no package http on CRAN, did 
you mean package httr?

2. I wrote a script rhelp.R, ran it on a command window and here is what 
I got on the command window output.



C:\Users\ruipb\Documents>R -q -f rhelp.R > rhelp_out.txt
* WARNING: failed to open cookie file ""
* Found bundle for host: 0x21cb7410670 [serially]
* Can not multiplex, even if we wanted to
* Re-using existing connection with host oceanview.pfeg.noaa.gov
 > GET 
/erddap/tabledap/FED_JSATS_detects.csv?&study_id%3D%22RBDD_2018%22 HTTP/1.1
Host: oceanview.pfeg.noaa.gov
User-Agent: libcurl/8.3.0 r-curl/5.2.0 crul/1.4.0
Accept-Encoding: gzip, deflate
Accept: application/json, text/xml, application/xml, */*

< HTTP/1.1 504 Gateway Time-out
< Server: AkamaiGHost
< Mime-Version: 1.0
< Content-Type: text/html
< Content-Length: 176
< Expires: Thu, 01 Feb 2024 09:56:40 GMT
< Date: Thu, 01 Feb 2024 09:56:40 GMT
< Connection: keep-alive
< Strict-Transport-Security: max-age=31536000
<
* Connection #0 to host oceanview.pfeg.noaa.gov left intact


3. The file rhelp_out.txt was created and its contents are the 
following. (I installed package "hoardr" separately because for some 
reason it was not being recognized as a dependency)



 > # pkgs <- c("hoardr", "rerddap", "curl", "crul", "httr")
 > # utils::install.packages(
 > 	# pkgs = pkgs,
 > 	# lib = .libPaths()[1],
 > 	# repos = "https://cloud.r-project.org",
 > 	# dependencies = TRUE
 > # )
 >
 > # load rerddap
 > library("rerddap")
 > # delete rerddap cache just in case
 > cache_delete_all()
 > # get the data extract
 > dat <- tryCatch(
+   tabledap(
+     'FED_JSATS_detects',
+     url = "https://oceanview.pfeg.noaa.gov/erddap/",
+ 	'study_id="RBDD_2018"',
+ 	callopts = list(verbose = TRUE),
+ 	store = memory()
+   ),
+   warning = function(w) w,
+   error = function(e) e,
+   finally = print("download end")
+ )
[1] "download end"
 >
 > # 4. If it works also do:
 > head(dat)
$message
[1] ""

$call
NULL

 >
 > str(dat)
List of 2
  $ message: chr ""
  $ call   : NULL
  - attr(*, "class")= chr [1:3] "simpleError" "error" "condition"
 >
 > sessionInfo()
R version 4.3.2 (2023-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 11 x64 (build 22621)

Matrix products: default


locale:
[1] LC_COLLATE=Portuguese_Portugal.utf8 
LC_CTYPE=Portuguese_Portugal.utf8
[3] LC_MONETARY=Portuguese_Portugal.utf8 LC_NUMERIC=C 

[5] LC_TIME=Portuguese_Portugal.utf8

time zone: Europe/Lisbon
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] rerddap_1.1.0

loaded via a namespace (and not attached):
  [1] vctrs_0.6.3       cli_3.6.1         rlang_1.1.1       ncdf4_1.22 

  [5] crul_1.4.0        generics_0.1.3    jsonlite_1.8.7 
data.table_1.14.8
  [9] glue_1.6.2        httpcode_0.3.0    triebeard_0.4.1   fansi_1.0.5 

[13] rappdirs_0.3.3    tibble_3.2.1      hoardr_0.5.4      lifecycle_1.0.4
[17] compiler_4.3.2    dplyr_1.1.3       Rcpp_1.0.12       pkgconfig_2.0.3
[21] digest_0.6.33     R6_2.5.1          tidyselect_1.2.0  utf8_1.2.4
[25] pillar_1.9.0      curl_5.2.0        magrittr_2.0.3    urltools_1.7.3
[29] xml2_1.3.5
 >



So there was an unspecified error, an error without a condition message 
and no call expression. I find this stranger, a call like the following 
is expected.


tryCatch(stop("error"), error = function(e) e) |> str()
List of 2
  $ message: chr "error"
  $ call   : language doTryCatch(return(expr), name, parentenv, handler)
  - attr(*, "class")= chr [1:3] "simpleError" "error" "condition"


Function tabledap doesn't seem to be handling errors properly.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From roy@mende|@@ohn @end|ng |rom no@@@gov  Thu Feb  1 16:09:01 2024
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Thu, 1 Feb 2024 07:09:01 -0800
Subject: [R] Need help testing a problem
In-Reply-To: <06f41ffa-4505-49db-b7a4-6ec78919b761@sapo.pt>
References: <15EE349C-1593-481E-9A22-2014393B8DB9@noaa.gov>
 <06f41ffa-4505-49db-b7a4-6ec78919b761@sapo.pt>
Message-ID: <8191B147-3A93-4346-92F6-E29C4A4F7067@noaa.gov>

HI Rui:

First and foremost thanks  for taking the time to do this.  That was a typo,  it was httr and is not needed,  I was careless.  That request works fine on a Mac and a Linux box.  We needed to check if there was something about  iour internal network settings, our Windows setup or something else that was causing the problem.  Bill Dunlop got the same results so it is something else,  We do not know how much Akamai is interfering with this,  we have had issues with folks running Windows behind Cloudfare that caused problems.

Again,  thanks for taking the time,  it eliminates on possible cause.

-Roy



> On Feb 1, 2024, at 2:16 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
> ?s 23:47 de 31/01/2024, Roy Mendelssohn - NOAA Federal via R-help escreveu:
>> HI All:
>> We are trying to figure out a problem that is occurring with a package,  and we need a non-NOAA person with a Windows computer with the latest R to test for us what is failing (but works on Macs and Linux from different sites).  Part of the problem is there is an Akamai service in between that we feel may be messing up things. To do this you would need to be willing to:
>> 1.  install the ?rerddap? package from CRAN,  with all dependencies - or if installed make certain it is the latest
>> 2. make certain that the packages ?curl?, ?crul? and ?http? are up to date.
>> 3.  Run the following:
>> # load rerddap
>> library("rerddap?)
>> # delete rerddap cache just in case
>> cache_delete_all()
>> # get the data extract
>> dat <- tabledap('FED_JSATS_detects', url = "https://oceanview.pfeg.noaa.gov/erddap/", 'study_id="RBDD_2018"', callopts = list(verbose = TRUE), store = memory())
>> 4. If it works also do:
>>  head(dat)
>> Either way if all the output could be sent to me it would be very helpful.  The download may take a couple of minutes,
>> the file size is about 3.5MB.
>> If anyone has concerns about what is being downloaded you can check the ?rerddap? docs to see these are all legitimate ?rerddap' commands,  the datasets being accessed is https://oceanview.pfeg.noaa.gov/erddap/tabledap/FED_JSATS_detects.html.  The downloaded file goes to R temp space, and its location,  if successful is given in the output.
>> Thanks to anyone willing to help.  One of my issues is I have been unable to reproduce the error,  but I also do not have ready access to a Windows machine.
>> -ROy
>> 	[[alternative HTML version deleted]]
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> Tested with R 4.3.2 running on Windows 11.
> 
> 1. You mention package http but there is no package http on CRAN, did you mean package httr?
> 
> 2. I wrote a script rhelp.R, ran it on a command window and here is what I got on the command window output.
> 
> 
> 
> C:\Users\ruipb\Documents>R -q -f rhelp.R > rhelp_out.txt
> * WARNING: failed to open cookie file ""
> * Found bundle for host: 0x21cb7410670 [serially]
> * Can not multiplex, even if we wanted to
> * Re-using existing connection with host oceanview.pfeg.noaa.gov
> > GET /erddap/tabledap/FED_JSATS_detects.csv?&study_id%3D%22RBDD_2018%22 HTTP/1.1
> Host: oceanview.pfeg.noaa.gov
> User-Agent: libcurl/8.3.0 r-curl/5.2.0 crul/1.4.0
> Accept-Encoding: gzip, deflate
> Accept: application/json, text/xml, application/xml, */*
> 
> < HTTP/1.1 504 Gateway Time-out
> < Server: AkamaiGHost
> < Mime-Version: 1.0
> < Content-Type: text/html
> < Content-Length: 176
> < Expires: Thu, 01 Feb 2024 09:56:40 GMT
> < Date: Thu, 01 Feb 2024 09:56:40 GMT
> < Connection: keep-alive
> < Strict-Transport-Security: max-age=31536000
> <
> * Connection #0 to host oceanview.pfeg.noaa.gov left intact
> 
> 
> 3. The file rhelp_out.txt was created and its contents are the following. (I installed package "hoardr" separately because for some reason it was not being recognized as a dependency)
> 
> 
> 
> > # pkgs <- c("hoardr", "rerddap", "curl", "crul", "httr")
> > # utils::install.packages(
> > 	# pkgs = pkgs,
> > 	# lib = .libPaths()[1],
> > 	# repos = "https://cloud.r-project.org",
> > 	# dependencies = TRUE
> > # )
> >
> > # load rerddap
> > library("rerddap")
> > # delete rerddap cache just in case
> > cache_delete_all()
> > # get the data extract
> > dat <- tryCatch(
> +   tabledap(
> +     'FED_JSATS_detects',
> +     url = "https://oceanview.pfeg.noaa.gov/erddap/",
> + 	'study_id="RBDD_2018"',
> + 	callopts = list(verbose = TRUE),
> + 	store = memory()
> +   ),
> +   warning = function(w) w,
> +   error = function(e) e,
> +   finally = print("download end")
> + )
> [1] "download end"
> >
> > # 4. If it works also do:
> > head(dat)
> $message
> [1] ""
> 
> $call
> NULL
> 
> >
> > str(dat)
> List of 2
> $ message: chr ""
> $ call   : NULL
> - attr(*, "class")= chr [1:3] "simpleError" "error" "condition"
> >
> > sessionInfo()
> R version 4.3.2 (2023-10-31 ucrt)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> Running under: Windows 11 x64 (build 22621)
> 
> Matrix products: default
> 
> 
> locale:
> [1] LC_COLLATE=Portuguese_Portugal.utf8 LC_CTYPE=Portuguese_Portugal.utf8
> [3] LC_MONETARY=Portuguese_Portugal.utf8 LC_NUMERIC=C 
> [5] LC_TIME=Portuguese_Portugal.utf8
> 
> time zone: Europe/Lisbon
> tzcode source: internal
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] rerddap_1.1.0
> 
> loaded via a namespace (and not attached):
> [1] vctrs_0.6.3       cli_3.6.1         rlang_1.1.1       ncdf4_1.22 
> [5] crul_1.4.0        generics_0.1.3    jsonlite_1.8.7 data.table_1.14.8
> [9] glue_1.6.2        httpcode_0.3.0    triebeard_0.4.1   fansi_1.0.5 
> [13] rappdirs_0.3.3    tibble_3.2.1      hoardr_0.5.4      lifecycle_1.0.4
> [17] compiler_4.3.2    dplyr_1.1.3       Rcpp_1.0.12       pkgconfig_2.0.3
> [21] digest_0.6.33     R6_2.5.1          tidyselect_1.2.0  utf8_1.2.4
> [25] pillar_1.9.0      curl_5.2.0        magrittr_2.0.3    urltools_1.7.3
> [29] xml2_1.3.5
> >
> 
> 
> 
> So there was an unspecified error, an error without a condition message and no call expression. I find this stranger, a call like the following is expected.
> 
> 
> tryCatch(stop("error"), error = function(e) e) |> str()
> List of 2
> $ message: chr "error"
> $ call   : language doTryCatch(return(expr), name, parentenv, handler)
> - attr(*, "class")= chr [1:3] "simpleError" "error" "condition"
> 
> 
> Function tabledap doesn't seem to be handling errors properly.
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> -- 
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
> www.avg.com

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From teotjunk @end|ng |rom hotm@||@com  Fri Feb  2 01:37:21 2024
From: teotjunk @end|ng |rom hotm@||@com (TJUN KIAT TEO)
Date: Fri, 2 Feb 2024 00:37:21 +0000
Subject: [R] List of Words in BioWordVec
Message-ID: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>

Is there a way to extract list of words in  BioWordVec  in R

Thank you

Tjun Kiat

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Feb  2 03:09:04 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 1 Feb 2024 18:09:04 -0800
Subject: [R] List of Words in BioWordVec
In-Reply-To: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>
References: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>
Message-ID: <CAGxFJbRrO7GtsYCQB83sjFm7pVX00X6bMww2JEM4W6jVTXqbNg@mail.gmail.com>

I *think* this might be better posted here:
https://bioconductor.org/help/support/

Cheers,
Bert

On Thu, Feb 1, 2024 at 4:37?PM TJUN KIAT TEO <teotjunk at hotmail.com> wrote:

> Is there a way to extract list of words in  BioWordVec  in R
>
> Thank you
>
> Tjun Kiat
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Feb  2 03:57:18 2024
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 01 Feb 2024 18:57:18 -0800
Subject: [R] List of Words in BioWordVec
In-Reply-To: <CAGxFJbRrO7GtsYCQB83sjFm7pVX00X6bMww2JEM4W6jVTXqbNg@mail.gmail.com>
References: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>
 <CAGxFJbRrO7GtsYCQB83sjFm7pVX00X6bMww2JEM4W6jVTXqbNg@mail.gmail.com>
Message-ID: <06877C2E-A5B4-4AC6-A156-C3BB0E2F5B3A@dcn.davis.ca.us>

I thought so too, but Google suggests there is at least one package on CRAN with this symbol in it.

OP:

a) You should always mention which contributed package you are using. Most references to this term online seem to be related to Python rather than R.

b) This seems like extremely specialized knowledge... even if it is a CRAN package this doesn't seem like the kind of R language topic normally discussed here. The CRAN package entry online may include a pointer to a more appropriate venue for getting help.

c) Also, we can only see the text portion of your email ... it is strongly recommended in the Posting Guide (linked in the message footer) to send your questions formatted as text rather than HTML to avoid "we don't see what you see" mis-communication. Sorry if that seems vague, but there are too many email programs out there for us to know how you should configure yours to do this... but it is practically always possible.

On February 1, 2024 6:09:04 PM PST, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>I *think* this might be better posted here:
>https://bioconductor.org/help/support/
>
>Cheers,
>Bert
>
>On Thu, Feb 1, 2024 at 4:37?PM TJUN KIAT TEO <teotjunk at hotmail.com> wrote:
>
>> Is there a way to extract list of words in  BioWordVec  in R
>>
>> Thank you
>>
>> Tjun Kiat
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From tr|ng @end|ng |rom gvdnet@dk  Fri Feb  2 11:01:43 2024
From: tr|ng @end|ng |rom gvdnet@dk (Troels Ring)
Date: Fri, 2 Feb 2024 11:01:43 +0100
Subject: [R] gathering denominator under frac
Message-ID: <d20ae319-3a9f-4fc2-b5cf-7c0bb814fe68@gvdnet.dk>

Hi friends - I'm plotting a ratio of bicarbonates i ggplot2 and

ylab(expression(paste(frac("additive BIC","true BIC")))) worked OK - but 
now I have been asked to put the chemistry instead - so I wrote

 ?ylab(expression(paste(frac("additive",HCO[3]^"-","true",HCO[3]^"-")))) 
- and frac saw that as additive = numerator and HCO3- = denominator and 
the rest was ignored-

So how do I make frac ignore the first ","? and print the fraction as I 
want?


All best wishes
Troels


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Feb  2 12:05:47 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 2 Feb 2024 11:05:47 +0000
Subject: [R] gathering denominator under frac
In-Reply-To: <d20ae319-3a9f-4fc2-b5cf-7c0bb814fe68@gvdnet.dk>
References: <d20ae319-3a9f-4fc2-b5cf-7c0bb814fe68@gvdnet.dk>
Message-ID: <e836fc61-edef-4087-962f-357c69ec5e35@sapo.pt>

?s 10:01 de 02/02/2024, Troels Ring escreveu:
> Hi friends - I'm plotting a ratio of bicarbonates i ggplot2 and
> 
> ylab(expression(paste(frac("additive BIC","true BIC")))) worked OK - but 
> now I have been asked to put the chemistry instead - so I wrote
> 
>  ?ylab(expression(paste(frac("additive",HCO[3]^"-","true",HCO[3]^"-")))) 
> - and frac saw that as additive = numerator and HCO3- = denominator and 
> the rest was ignored-
> 
> So how do I make frac ignore the first ","? and print the fraction as I 
> want?
> 
> 
> All best wishes
> Troels
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

This seems to work. Instead of separating the two numerator strings with 
a comma, separate them with a tilde. The same goes for the denominator.
And there is no need for double quotes around "additive" and "true".


library(ggplot2)

g <- ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
   geom_point()

g + ylab(expression(paste(frac(
   additive~HCO[3]^"-",
   true~HCO[3]^"-"
))))



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From bgunter@4567 @end|ng |rom gm@||@com  Fri Feb  2 17:33:44 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 2 Feb 2024 08:33:44 -0800
Subject: [R] gathering denominator under frac
In-Reply-To: <e836fc61-edef-4087-962f-357c69ec5e35@sapo.pt>
References: <d20ae319-3a9f-4fc2-b5cf-7c0bb814fe68@gvdnet.dk>
 <e836fc61-edef-4087-962f-357c69ec5e35@sapo.pt>
Message-ID: <CAGxFJbQcPomfULky7_aDrNvNnFnBAWH46uyAb7i+1VrU=dGSXA@mail.gmail.com>

... or if I understand correctly, simply

expression(frac(additive ~ HCO[3]^"-",
                           true ~ HCO[3]^"-" )))

Cheers,
Bert

On Fri, Feb 2, 2024 at 3:06?AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> ?s 10:01 de 02/02/2024, Troels Ring escreveu:
> > Hi friends - I'm plotting a ratio of bicarbonates i ggplot2 and
> >
> > ylab(expression(paste(frac("additive BIC","true BIC")))) worked OK - but
> > now I have been asked to put the chemistry instead - so I wrote
> >
> >   ylab(expression(paste(frac("additive",HCO[3]^"-","true",HCO[3]^"-"))))
> > - and frac saw that as additive = numerator and HCO3- = denominator and
> > the rest was ignored-
> >
> > So how do I make frac ignore the first ","  and print the fraction as I
> > want?
> >
> >
> > All best wishes
> > Troels
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> This seems to work. Instead of separating the two numerator strings with
> a comma, separate them with a tilde. The same goes for the denominator.
> And there is no need for double quotes around "additive" and "true".
>
>
> library(ggplot2)
>
> g <- ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
>    geom_point()
>
> g + ylab(expression(paste(frac(
>    additive~HCO[3]^"-",
>    true~HCO[3]^"-"
> ))))
>
>
>
> Hope this helps,
>
> Rui Barradas
>
>
> --
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a
> presen?a de v?rus.
> www.avg.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Feb  2 23:04:09 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 2 Feb 2024 14:04:09 -0800
Subject: [R] gathering denominator under frac
In-Reply-To: <CAGxFJbQcPomfULky7_aDrNvNnFnBAWH46uyAb7i+1VrU=dGSXA@mail.gmail.com>
References: <d20ae319-3a9f-4fc2-b5cf-7c0bb814fe68@gvdnet.dk>
 <e836fc61-edef-4087-962f-357c69ec5e35@sapo.pt>
 <CAGxFJbQcPomfULky7_aDrNvNnFnBAWH46uyAb7i+1VrU=dGSXA@mail.gmail.com>
Message-ID: <CAGxFJbQKhVxSp=JvG97w10_JqazTNGBNK_HMD2_oTJdMxiNR4Q@mail.gmail.com>

BTW, for your amusement,

ylab = ~ frac(additive ~ HCO[3]^"-",
                           true ~ HCO[3]^"-" ))

also should work. The reason is (from ?plotmath):

"In most cases other language objects (names and calls, including
formulas) are coerced to expressions and so can also be used."

Cheers,
Bert


On Fri, Feb 2, 2024 at 8:33?AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> ... or if I understand correctly, simply
>
> expression(frac(additive ~ HCO[3]^"-",
>                            true ~ HCO[3]^"-" )))
>
> Cheers,
> Bert
>
> On Fri, Feb 2, 2024 at 3:06?AM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>
>> ?s 10:01 de 02/02/2024, Troels Ring escreveu:
>> > Hi friends - I'm plotting a ratio of bicarbonates i ggplot2 and
>> >
>> > ylab(expression(paste(frac("additive BIC","true BIC")))) worked OK - but
>> > now I have been asked to put the chemistry instead - so I wrote
>> >
>> >   ylab(expression(paste(frac("additive",HCO[3]^"-","true",HCO[3]^"-"))))
>> > - and frac saw that as additive = numerator and HCO3- = denominator and
>> > the rest was ignored-
>> >
>> > So how do I make frac ignore the first ","  and print the fraction as I
>> > want?
>> >
>> >
>> > All best wishes
>> > Troels
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> This seems to work. Instead of separating the two numerator strings with
>> a comma, separate them with a tilde. The same goes for the denominator.
>> And there is no need for double quotes around "additive" and "true".
>>
>>
>> library(ggplot2)
>>
>> g <- ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
>>    geom_point()
>>
>> g + ylab(expression(paste(frac(
>>    additive~HCO[3]^"-",
>>    true~HCO[3]^"-"
>> ))))
>>
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>
>> --
>> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
>> www.avg.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From tr@xp|@yer @end|ng |rom gm@||@com  Sat Feb  3 10:27:07 2024
From: tr@xp|@yer @end|ng |rom gm@||@com (=?UTF-8?Q?Martin_M=C3=B8ller_Skarbiniks_Pedersen?=)
Date: Sat, 3 Feb 2024 10:27:07 +0100
Subject: [R] List of Words in BioWordVec
In-Reply-To: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>
References: <TYSPR04MB8035F2072634C71C8E6A2733DF422@TYSPR04MB8035.apcprd04.prod.outlook.com>
Message-ID: <CAGAA5bcs2qgM3MP-y=9ek8eXW3X6eG=gZP68QmuFnG=gvO701w@mail.gmail.com>

On Fri, Feb 2, 2024, 01:37 TJUN KIAT TEO <teotjunk at hotmail.com> wrote:

> Is there a way to extract list of words in  BioWordVec  in R
>

library(text)


word_vectors <- textEmbed(texts = NULL, model = 'bioWordVecModel',
model_type = 'wordvectors')

word_list <- rownames(word_vectors$wordvectors)

	[[alternative HTML version deleted]]


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Sun Feb  4 11:10:00 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Sun, 4 Feb 2024 11:10:00 +0100
Subject: [R] Help
Message-ID: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>

I have done a scatter plot in R. I want to insert the coefficient of
determination R^2 = 0.62 as a text in the plot. I have tried to write R^2
but could not produce R2. I would appreciate it if someone could help me
with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)), but
it did not produce R squared, rather it gave me error messages. Thanks.
Jibrin Alhassan
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka

	[[alternative HTML version deleted]]


From j@zh@o @end|ng |rom ye@h@net  Sun Feb  4 15:19:09 2024
From: j@zh@o @end|ng |rom ye@h@net (Jinsong Zhao)
Date: Sun, 4 Feb 2024 22:19:09 +0800
Subject: [R] Help
In-Reply-To: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
Message-ID: <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>

?plotmath

expression(R^2==0.62)

On 2024/2/4 18:10, Jibrin Alhassan wrote:
> I have done a scatter plot in R. I want to insert the coefficient of
> determination R^2 = 0.62 as a text in the plot. I have tried to write R^2
> but could not produce R2. I would appreciate it if someone could help me
> with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)), but
> it did not produce R squared, rather it gave me error messages. Thanks.
> Jibrin Alhassan
> *Jibrin Adejoh Alhassan (Ph.D)*
> Department of Physics and Astronomy,
> University of Nigeria, Nsukka
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Sun Feb  4 16:45:32 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Sun, 4 Feb 2024 16:45:32 +0100
Subject: [R] Help
In-Reply-To: <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
Message-ID: <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>

Thank you Zhao for the code. When I replotted the graph after inserting the
code in my script, it gave me this error message without plotting the graph:
Warning message:
In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...) :
 extra argument ?col? will be disregarded.
My regards.
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka


On Sun, Feb 4, 2024 at 3:21?PM Jinsong Zhao <jszhao at yeah.net> wrote:

> ?plotmath
>
> expression(R^2==0.62)
>
> On 2024/2/4 18:10, Jibrin Alhassan wrote:
> > I have done a scatter plot in R. I want to insert the coefficient of
> > determination R^2 = 0.62 as a text in the plot. I have tried to write R^2
> > but could not produce R2. I would appreciate it if someone could help me
> > with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)), but
> > it did not produce R squared, rather it gave me error messages. Thanks.
> > Jibrin Alhassan
> > *Jibrin Adejoh Alhassan (Ph.D)*
> > Department of Physics and Astronomy,
> > University of Nigeria, Nsukka
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From k|mmo@e|o @end|ng |rom utu@||  Sun Feb  4 16:46:57 2024
From: k|mmo@e|o @end|ng |rom utu@|| (Kimmo Elo)
Date: Sun, 4 Feb 2024 15:46:57 +0000
Subject: [R] Help
In-Reply-To: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
Message-ID: <adc8fa21-82b4-4a0c-b75f-c34c4cb20253@utu.fi>

Hi,

maybe this works:

expression(R^2 * "= 0.62")

HTH,

Kimmo

4. helmik. 2024, 16.11, Jibrin Alhassan <jibrin.alhassan at unn.edu.ng<mailto:jibrin.alhassan at unn.edu.ng>> kirjoitti:

I have done a scatter plot in R. I want to insert the coefficient of
determination R^2 = 0.62 as a text in the plot. I have tried to write R^2
but could not produce R2. I would appreciate it if someone could help me
with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)), but
it did not produce R squared, rather it gave me error messages. Thanks.
Jibrin Alhassan
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka

 [[alternative HTML version deleted]]

________________________________

R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Sun Feb  4 17:03:06 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Sun, 4 Feb 2024 17:03:06 +0100
Subject: [R] Help
In-Reply-To: <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
 <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
Message-ID: <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>

Hi Elo,
It gave this error message:
CR_plot2.R:14:37: unexpected string constant
13: plot(FDapt,FDcli, pch = 16,  cex.lab = 1.6, cex.axis = 1.4, cex.main =
0.8, font.lab = 1.7, font.axis = 1.7,  col = "red",main = "Simultaneous
Events at CLMX and APTY",ylab="CLMX",xlab="APTY")
14: text(-8,-8, "expression(R^2*"=  0.62"),  r = 0.79, N = 161"
                                        ^
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka


On Sun, Feb 4, 2024 at 4:45?PM Jibrin Alhassan <jibrin.alhassan at unn.edu.ng>
wrote:

> Thank you Zhao for the code. When I replotted the graph after inserting
> the code in my script, it gave me this error message without plotting the
> graph:
> Warning message:
> In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...) :
>  extra argument ?col? will be disregarded.
> My regards.
> *Jibrin Adejoh Alhassan (Ph.D)*
> Department of Physics and Astronomy,
> University of Nigeria, Nsukka
>
>
> On Sun, Feb 4, 2024 at 3:21?PM Jinsong Zhao <jszhao at yeah.net> wrote:
>
>> ?plotmath
>>
>> expression(R^2==0.62)
>>
>> On 2024/2/4 18:10, Jibrin Alhassan wrote:
>> > I have done a scatter plot in R. I want to insert the coefficient of
>> > determination R^2 = 0.62 as a text in the plot. I have tried to write
>> R^2
>> > but could not produce R2. I would appreciate it if someone could help me
>> > with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)),
>> but
>> > it did not produce R squared, rather it gave me error messages. Thanks.
>> > Jibrin Alhassan
>> > *Jibrin Adejoh Alhassan (Ph.D)*
>> > Department of Physics and Astronomy,
>> > University of Nigeria, Nsukka
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Sun Feb  4 17:16:23 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Sun, 4 Feb 2024 17:16:23 +0100
Subject: [R] Help
In-Reply-To: <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
 <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
 <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>
Message-ID: <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>

Here is the script I used to plot the graph indicating the text I wanted to
insert. The line in the script that I have issues with is: text(-8,-8,
"R^2=  0.62",  r = 0.79, N = 161", cex = 2
R^2=  0.62 is not producing R squared = 0.62.
Thanks.
Sys.setenv( TZ="GMT" )
dt <- read.table("CLMXAPTY_sim", col.names = c("FDcli", "FDapt"))
FDcli=dt$FDcli
FDapt=dt$FDapt
setEPS()
postscript(file = "cliapt2.eps")
par(mar = c(4.3, 4.3, 1.3, 1.3), oma = c(1, 1, 1 , 1))
plot(FDapt,FDcli, pch = 16,  cex.lab = 1.6, cex.axis = 1.4, cex.main = 0.8,
font.lab = 1.7, font.axis = 1.7,  col = "red",main = "Simultaneous Events
at CLMX and APTY",ylab="CLMX",xlab="APTY")
text(-8,-8, "R^2=  0.62",  r = 0.79, N = 161", cex = 2 )
abline(lm(FDcli ~ FDapt, col="black"))
dev.off()
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka


On Sun, Feb 4, 2024 at 5:03?PM Jibrin Alhassan <jibrin.alhassan at unn.edu.ng>
wrote:

> Hi Elo,
> It gave this error message:
> CR_plot2.R:14:37: unexpected string constant
> 13: plot(FDapt,FDcli, pch = 16,  cex.lab = 1.6, cex.axis = 1.4, cex.main =
> 0.8, font.lab = 1.7, font.axis = 1.7,  col = "red",main = "Simultaneous
> Events at CLMX and APTY",ylab="CLMX",xlab="APTY")
> 14: text(-8,-8, "expression(R^2*"=  0.62"),  r = 0.79, N = 161"
>                                         ^
> *Jibrin Adejoh Alhassan (Ph.D)*
> Department of Physics and Astronomy,
> University of Nigeria, Nsukka
>
>
> On Sun, Feb 4, 2024 at 4:45?PM Jibrin Alhassan <jibrin.alhassan at unn.edu.ng>
> wrote:
>
>> Thank you Zhao for the code. When I replotted the graph after inserting
>> the code in my script, it gave me this error message without plotting the
>> graph:
>> Warning message:
>> In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...) :
>>  extra argument ?col? will be disregarded.
>> My regards.
>> *Jibrin Adejoh Alhassan (Ph.D)*
>> Department of Physics and Astronomy,
>> University of Nigeria, Nsukka
>>
>>
>> On Sun, Feb 4, 2024 at 3:21?PM Jinsong Zhao <jszhao at yeah.net> wrote:
>>
>>> ?plotmath
>>>
>>> expression(R^2==0.62)
>>>
>>> On 2024/2/4 18:10, Jibrin Alhassan wrote:
>>> > I have done a scatter plot in R. I want to insert the coefficient of
>>> > determination R^2 = 0.62 as a text in the plot. I have tried to write
>>> R^2
>>> > but could not produce R2. I would appreciate it if someone could help
>>> me
>>> > with the syntax. I have tried:  expression(paste("", R^2,"=", 0.62)),
>>> but
>>> > it did not produce R squared, rather it gave me error messages. Thanks.
>>> > Jibrin Alhassan
>>> > *Jibrin Adejoh Alhassan (Ph.D)*
>>> > Department of Physics and Astronomy,
>>> > University of Nigeria, Nsukka
>>> >
>>> >       [[alternative HTML version deleted]]
>>> >
>>> > ______________________________________________
>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > https://stat.ethz.ch/mailman/listinfo/r-help
>>> > PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> > and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>

	[[alternative HTML version deleted]]


From tr@xp|@yer @end|ng |rom gm@||@com  Sun Feb  4 19:01:23 2024
From: tr@xp|@yer @end|ng |rom gm@||@com (=?UTF-8?Q?Martin_M=C3=B8ller_Skarbiniks_Pedersen?=)
Date: Sun, 4 Feb 2024 19:01:23 +0100
Subject: [R] Help
In-Reply-To: <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
 <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
 <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>
 <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>
Message-ID: <CAGAA5bftVHmGBkCQrggBgutgAUF8fzOCEbD9rK7aHouNxye2bA@mail.gmail.com>

On Sun, 4 Feb 2024 at 17:26, Jibrin Alhassan <jibrin.alhassan at unn.edu.ng> wrote:
>
> Here is the script I used to plot the graph indicating the text I wanted to
> insert. The line in the script that I have issues with is: text(-8,-8,
> "R^2=  0.62",  r = 0.79, N = 161", cex = 2
> R^2=  0.62 is not producing R squared = 0.62.
> Thanks.

This works for me:

curve(dnorm, from=-3, to=3, main="Normal Distribution")
text(x=0, y=0.1, cex=1.5, expression(R^2 == 0.62))

if you are used to write expression using LaTeX math , then maybe you
like the latex2exp package:
curve(dnorm, from=-3, to=3, main="Normal Distribution")
text(0, 0.1, latex2exp::TeX("$R^2 = 0.62$"))

Regards
Martin


From ro||turner @end|ng |rom po@teo@net  Mon Feb  5 01:06:46 2024
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Mon,  5 Feb 2024 00:06:46 +0000
Subject: [R] Help
In-Reply-To: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
Message-ID: <20240205130646.384993ca@rolf-Latitude-E7470>


Please see fortunes::fortune(285).

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Mon Feb  5 07:25:11 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Mon, 5 Feb 2024 07:25:11 +0100
Subject: [R] Help
In-Reply-To: <20240205130646.384993ca@rolf-Latitude-E7470>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <20240205130646.384993ca@rolf-Latitude-E7470>
Message-ID: <CAEGeL+FCcM13F8aQ5TRs5ohjn-csCtfe22o2qiCNCRJpEVS7eA@mail.gmail.com>

Many thanks.

On Mon, Feb 5, 2024, 1:06 AM Rolf Turner <rolfturner at posteo.net> wrote:

>
> Please see fortunes::fortune(285).
>
> cheers,
>
> Rolf Turner
>
> --
> Honorary Research Fellow
> Department of Statistics
> University of Auckland
> Stats. Dep't. (secretaries) phone:
>          +64-9-373-7599 ext. 89622
> Home phone: +64-9-480-4619
>

	[[alternative HTML version deleted]]


From k|mmo@e|o @end|ng |rom utu@||  Mon Feb  5 07:40:17 2024
From: k|mmo@e|o @end|ng |rom utu@|| (Kimmo Elo)
Date: Mon, 5 Feb 2024 06:40:17 +0000
Subject: [R] Help
In-Reply-To: <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
 <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
 <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>
 <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>
Message-ID: <6336a0a33a73e5f94e7227937f23df47363fe5ab.camel@utu.fi>

Hi,

the command line with 'text' should be:

text(-8,-8, expression(R^2 * " = 0.62,  r = 0.79, N = 161"), cex = 2 )

Best,

Kimmo

su, 2024-02-04 kello 17:16 +0100, Jibrin Alhassan kirjoitti:
> Here is the script I used to plot the graph indicating the text I
> wanted to
> insert. The line in the script that I have issues with is: text(-8,-
> 8,
> "R^2=? 0.62",? r = 0.79, N = 161", cex = 2
> R^2=? 0.62 is not producing R squared = 0.62.
> Thanks.
> Sys.setenv( TZ="GMT" )
> dt <- read.table("CLMXAPTY_sim", col.names = c("FDcli", "FDapt"))
> FDcli=dt$FDcli
> FDapt=dt$FDapt
> setEPS()
> postscript(file = "cliapt2.eps")
> par(mar = c(4.3, 4.3, 1.3, 1.3), oma = c(1, 1, 1 , 1))
> plot(FDapt,FDcli, pch = 16,? cex.lab = 1.6, cex.axis = 1.4, cex.main
> = 0.8,
> font.lab = 1.7, font.axis = 1.7,? col = "red",main = "Simultaneous
> Events
> at CLMX and APTY",ylab="CLMX",xlab="APTY")
> text(-8,-8, "R^2=? 0.62",? r = 0.79, N = 161", cex = 2 )
> abline(lm(FDcli ~ FDapt, col="black"))
> dev.off()
> *Jibrin Adejoh Alhassan (Ph.D)*
> Department of Physics and Astronomy,
> University of Nigeria, Nsukka
> 
> 
> On Sun, Feb 4, 2024 at 5:03?PM Jibrin Alhassan
> <jibrin.alhassan at unn.edu.ng>
> wrote:
> 
> > Hi Elo,
> > It gave this error message:
> > CR_plot2.R:14:37: unexpected string constant
> > 13: plot(FDapt,FDcli, pch = 16,? cex.lab = 1.6, cex.axis = 1.4,
> > cex.main =
> > 0.8, font.lab = 1.7, font.axis = 1.7,? col = "red",main =
> > "Simultaneous
> > Events at CLMX and APTY",ylab="CLMX",xlab="APTY")
> > 14: text(-8,-8, "expression(R^2*"=? 0.62"),? r = 0.79, N = 161"
> > ??????????????????????????????????????? ^
> > *Jibrin Adejoh Alhassan (Ph.D)*
> > Department of Physics and Astronomy,
> > University of Nigeria, Nsukka
> > 
> > 
> > On Sun, Feb 4, 2024 at 4:45?PM Jibrin Alhassan
> > <jibrin.alhassan at unn.edu.ng>
> > wrote:
> > 
> > > Thank you Zhao for the code. When I replotted the graph after
> > > inserting
> > > the code in my script, it gave me this error message without
> > > plotting the
> > > graph:
> > > Warning message:
> > > In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...)
> > > :
> > > ?extra argument ?col? will be disregarded.
> > > My regards.
> > > *Jibrin Adejoh Alhassan (Ph.D)*
> > > Department of Physics and Astronomy,
> > > University of Nigeria, Nsukka
> > > 
> > > 
> > > On Sun, Feb 4, 2024 at 3:21?PM Jinsong Zhao <jszhao at yeah.net>
> > > wrote:
> > > 
> > > > ?plotmath
> > > > 
> > > > expression(R^2==0.62)
> > > > 
> > > > On 2024/2/4 18:10, Jibrin Alhassan wrote:
> > > > > I have done a scatter plot in R. I want to insert the
> > > > > coefficient of
> > > > > determination R^2 = 0.62 as a text in the plot. I have tried
> > > > > to write
> > > > R^2
> > > > > but could not produce R2. I would appreciate it if someone
> > > > > could help
> > > > me
> > > > > with the syntax. I have tried:? expression(paste("", R^2,"=",
> > > > > 0.62)),
> > > > but
> > > > > it did not produce R squared, rather it gave me error
> > > > > messages. Thanks.
> > > > > Jibrin Alhassan
> > > > > *Jibrin Adejoh Alhassan (Ph.D)*
> > > > > Department of Physics and Astronomy,
> > > > > University of Nigeria, Nsukka
> > > > > 
> > > > > ????? [[alternative HTML version deleted]]
> > > > > 
> > > > > ______________________________________________
> > > > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more,
> > > > > see
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> > > > http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible
> > > > > code.
> > > > 
> > > > ______________________________________________
> > > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more,
> > > > see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide
> > > > http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > > 
> > > 
> 
> ????????[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Mon Feb  5 08:13:10 2024
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Mon, 5 Feb 2024 08:13:10 +0100
Subject: [R] Help
In-Reply-To: <6336a0a33a73e5f94e7227937f23df47363fe5ab.camel@utu.fi>
References: <CAEGeL+EiEd2uiToa1CNGjmq2rmuvmV6j9Nnpj2N8CBfWUrRVaw@mail.gmail.com>
 <7cf73cd9-e6c6-49ce-9fe9-14de39c17c8e@yeah.net>
 <CAEGeL+FU1wPhrpR+=iMhT-Ro6RDfrb8rAoAEbXG18-NbQU5qVQ@mail.gmail.com>
 <CAEGeL+GoL7v0rrw-LmF2M0+sMbUjs7PFzKiysOCZptcG592ROA@mail.gmail.com>
 <CAEGeL+HwuqiwbctxUgyQh-rJSTamNweZatvqTZ0ur7Jv1u6JKw@mail.gmail.com>
 <6336a0a33a73e5f94e7227937f23df47363fe5ab.camel@utu.fi>
Message-ID: <CAEGeL+GqpKpSokrdEv8dCn2gPnDdpyFRUgcMNx2RxnBktmwz2Q@mail.gmail.com>

Hi Kimmo,
The code you sent has worked for me. Thank you very much.
*Jibrin Adejoh Alhassan (Ph.D)*
Department of Physics and Astronomy,
University of Nigeria, Nsukka


On Mon, Feb 5, 2024 at 7:40?AM Kimmo Elo <kimmo.elo at utu.fi> wrote:

> Hi,
>
> the command line with 'text' should be:
>
> text(-8,-8, expression(R^2 * " = 0.62,  r = 0.79, N = 161"), cex = 2 )
>
> Best,
>
> Kimmo
>
> su, 2024-02-04 kello 17:16 +0100, Jibrin Alhassan kirjoitti:
> > Here is the script I used to plot the graph indicating the text I
> > wanted to
> > insert. The line in the script that I have issues with is: text(-8,-
> > 8,
> > "R^2=  0.62",  r = 0.79, N = 161", cex = 2
> > R^2=  0.62 is not producing R squared = 0.62.
> > Thanks.
> > Sys.setenv( TZ="GMT" )
> > dt <- read.table("CLMXAPTY_sim", col.names = c("FDcli", "FDapt"))
> > FDcli=dt$FDcli
> > FDapt=dt$FDapt
> > setEPS()
> > postscript(file = "cliapt2.eps")
> > par(mar = c(4.3, 4.3, 1.3, 1.3), oma = c(1, 1, 1 , 1))
> > plot(FDapt,FDcli, pch = 16,  cex.lab = 1.6, cex.axis = 1.4, cex.main
> > = 0.8,
> > font.lab = 1.7, font.axis = 1.7,  col = "red",main = "Simultaneous
> > Events
> > at CLMX and APTY",ylab="CLMX",xlab="APTY")
> > text(-8,-8, "R^2=  0.62",  r = 0.79, N = 161", cex = 2 )
> > abline(lm(FDcli ~ FDapt, col="black"))
> > dev.off()
> > *Jibrin Adejoh Alhassan (Ph.D)*
> > Department of Physics and Astronomy,
> > University of Nigeria, Nsukka
> >
> >
> > On Sun, Feb 4, 2024 at 5:03?PM Jibrin Alhassan
> > <jibrin.alhassan at unn.edu.ng>
> > wrote:
> >
> > > Hi Elo,
> > > It gave this error message:
> > > CR_plot2.R:14:37: unexpected string constant
> > > 13: plot(FDapt,FDcli, pch = 16,  cex.lab = 1.6, cex.axis = 1.4,
> > > cex.main =
> > > 0.8, font.lab = 1.7, font.axis = 1.7,  col = "red",main =
> > > "Simultaneous
> > > Events at CLMX and APTY",ylab="CLMX",xlab="APTY")
> > > 14: text(-8,-8, "expression(R^2*"=  0.62"),  r = 0.79, N = 161"
> > >                                         ^
> > > *Jibrin Adejoh Alhassan (Ph.D)*
> > > Department of Physics and Astronomy,
> > > University of Nigeria, Nsukka
> > >
> > >
> > > On Sun, Feb 4, 2024 at 4:45?PM Jibrin Alhassan
> > > <jibrin.alhassan at unn.edu.ng>
> > > wrote:
> > >
> > > > Thank you Zhao for the code. When I replotted the graph after
> > > > inserting
> > > > the code in my script, it gave me this error message without
> > > > plotting the
> > > > graph:
> > > > Warning message:
> > > > In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...)
> > > > :
> > > >  extra argument ?col? will be disregarded.
> > > > My regards.
> > > > *Jibrin Adejoh Alhassan (Ph.D)*
> > > > Department of Physics and Astronomy,
> > > > University of Nigeria, Nsukka
> > > >
> > > >
> > > > On Sun, Feb 4, 2024 at 3:21?PM Jinsong Zhao <jszhao at yeah.net>
> > > > wrote:
> > > >
> > > > > ?plotmath
> > > > >
> > > > > expression(R^2==0.62)
> > > > >
> > > > > On 2024/2/4 18:10, Jibrin Alhassan wrote:
> > > > > > I have done a scatter plot in R. I want to insert the
> > > > > > coefficient of
> > > > > > determination R^2 = 0.62 as a text in the plot. I have tried
> > > > > > to write
> > > > > R^2
> > > > > > but could not produce R2. I would appreciate it if someone
> > > > > > could help
> > > > > me
> > > > > > with the syntax. I have tried:  expression(paste("", R^2,"=",
> > > > > > 0.62)),
> > > > > but
> > > > > > it did not produce R squared, rather it gave me error
> > > > > > messages. Thanks.
> > > > > > Jibrin Alhassan
> > > > > > *Jibrin Adejoh Alhassan (Ph.D)*
> > > > > > Department of Physics and Astronomy,
> > > > > > University of Nigeria, Nsukka
> > > > > >
> > > > > >       [[alternative HTML version deleted]]
> > > > > >
> > > > > > ______________________________________________
> > > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > > > see
> > > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > > PLEASE do read the posting guide
> > > > > http://www.R-project.org/posting-guide.html
> > > > > > and provide commented, minimal, self-contained, reproducible
> > > > > > code.
> > > > >
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > > see
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> > > > > http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible
> > > > > code.
> > > > >
> > > >
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From sibyiie@stoeckii m@iii@g oii gmx@ch  Mon Feb  5 11:00:16 2024
From: sibyiie@stoeckii m@iii@g oii gmx@ch (sibyiie@stoeckii m@iii@g oii gmx@ch)
Date: Mon, 5 Feb 2024 11:00:16 +0100
Subject: [R] ggarrange & legend
Message-ID: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>

Dear R community

It is possible to adjust the legend in combined ggplots using ggarrange with
be positions top, bottom, left and right.
My question: Is there a function to change the position of the legend to
topright or bottomleft? Right and top etc are in the middle of the axis.

Kind regards
Sibylle


From @n@@j@m@hed1994 @end|ng |rom gm@||@com  Mon Feb  5 12:03:47 2024
From: @n@@j@m@hed1994 @end|ng |rom gm@||@com (Anas Jamshed)
Date: Mon, 5 Feb 2024 16:03:47 +0500
Subject: [R] DrDimont package in R
Message-ID: <CAG0CrLgV34ZcOejR-CZw=q87s3MU+kTssyK8F6fBaVMO-QJGMA@mail.gmail.com>



	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Mon Feb  5 13:52:25 2024
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 5 Feb 2024 07:52:25 -0500
Subject: [R] DrDimont package in R
In-Reply-To: <CAG0CrLgV34ZcOejR-CZw=q87s3MU+kTssyK8F6fBaVMO-QJGMA@mail.gmail.com>
References: <CAG0CrLgV34ZcOejR-CZw=q87s3MU+kTssyK8F6fBaVMO-QJGMA@mail.gmail.com>
Message-ID: <CAKZQJMC=FjgpTPUhot3-AZQWX3jMhLtxhL2Z5B1tTNka7RdYxQ@mail.gmail.com>

Nothing got through.  Try plain text rather than HTML.

On Mon, 5 Feb 2024 at 06:04, Anas Jamshed <anasjamshed1994 at gmail.com> wrote:

>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Mon Feb  5 13:58:37 2024
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 5 Feb 2024 07:58:37 -0500
Subject: [R] ggarrange & legend
In-Reply-To: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
Message-ID: <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>

Could you supply us with a MWE (minimal working example)of what you have so
far?
Thanks.

On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <
r-help at r-project.org> wrote:

> Dear R community
>
> It is possible to adjust the legend in combined ggplots using ggarrange
> with
> be positions top, bottom, left and right.
> My question: Is there a function to change the position of the legend to
> topright or bottomleft? Right and top etc are in the middle of the axis.
>
> Kind regards
> Sibylle
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From sibyiie@stoeckii m@iii@g oii gmx@ch  Mon Feb  5 14:42:39 2024
From: sibyiie@stoeckii m@iii@g oii gmx@ch (sibyiie@stoeckii m@iii@g oii gmx@ch)
Date: Mon, 5 Feb 2024 14:42:39 +0100
Subject: [R] ggarrange & legend
In-Reply-To: <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
 <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
Message-ID: <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>

Dear John Kane

Dear R community

 

Here my working example

1.	Example that is working with legend=?top?. However, as mentioned, the legend is in the middle of the top axis. 

mylist<-list(p1, p2)

dev.new(width=28, height=18)

fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top", labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), ncol=2)

fig1

 

2.	My question is how I can position the legend on the topright of the top axis. However, ?topright? is not a common label for legend in ggarrange (but in other plot functions), so legend =?topright? is not working.

mylist<-list(p1, p2)

dev.new(width=28, height=18)

fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="topright", labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), ncol=2)

fig1

 

Kind regards

Sibylle

 

From: John Kane <jrkrideau at gmail.com> 
Sent: Monday, February 5, 2024 1:59 PM
To: sibylle.stoeckli at gmx.ch
Cc: r-help at r-project.org
Subject: Re: [R] ggarrange & legend

 

Could you supply us with a MWE (minimal working example)of what you have so far?

Thanks.

 

On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:

Dear R community

It is possible to adjust the legend in combined ggplots using ggarrange with
be positions top, bottom, left and right.
My question: Is there a function to change the position of the legend to
topright or bottomleft? Right and top etc are in the middle of the axis.

Kind regards
Sibylle

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



-- 

John Kane
Kingston ON Canada


	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Mon Feb  5 15:13:32 2024
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 5 Feb 2024 09:13:32 -0500
Subject: [R] ggarrange & legend
In-Reply-To: <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
 <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
 <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
Message-ID: <CAKZQJMB8S5wXDgXPFF8GO1DNAivwjTFio3Z_S82-BUE_Lq9PAg@mail.gmail.com>

I'm sorry but that is not a working example.

A working example needs to create the plots being used.

For example, stealing some code from
https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html
#=================================================================

data <https://rdrr.io/r/utils/data.html>("ToothGrowth")df <-
ToothGrowthdf$dose <- as.factor
<https://rdrr.io/r/base/factor.html>(df$dose)# Box plotbxp <-
ggboxplot <https://rpkgs.datanovia.com/ggpubr/reference/ggboxplot.html>(df,
x = "dose", y = "len",    color = "dose", palette = "jco")# Density
plotdens <- ggdensity
<https://rpkgs.datanovia.com/ggpubr/reference/ggdensity.html>(df, x =
"len", fill = "dose", palette = "jco")

mylist<-list(bxp, dens)

dev.new(width=28, height=18)

fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top",
labels = c("(A)", "(B)"), font.label = list(size = 18, color =
"black"), ncol=2)

fig1
#=====================================================================================


On Mon, 5 Feb 2024 at 08:44, <sibylle.stoeckli at gmx.ch> wrote:

> Dear John Kane
>
> Dear R community
>
>
>
> Here my working example
>
>    1. Example that is working with legend=?top?. However, as mentioned,
>    the legend is in the middle of the top axis.
>
> mylist<-list(p1, p2)
>
> dev.new(width=28, height=18)
>
> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top",
> labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"),
> ncol=2)
>
> fig1
>
>
>
>    1. My question is how I can position the legend on the topright of the
>    top axis. However, ?topright? is not a common label for legend in ggarrange
>    (but in other plot functions), so legend =?topright? is not working.
>
> mylist<-list(p1, p2)
>
> dev.new(width=28, height=18)
>
> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="topright",
> labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"),
> ncol=2)
>
> fig1
>
>
>
> Kind regards
>
> Sibylle
>
>
>
> *From:* John Kane <jrkrideau at gmail.com>
> *Sent:* Monday, February 5, 2024 1:59 PM
> *To:* sibylle.stoeckli at gmx.ch
> *Cc:* r-help at r-project.org
> *Subject:* Re: [R] ggarrange & legend
>
>
>
> Could you supply us with a MWE (minimal working example)of what you have
> so far?
>
> Thanks.
>
>
>
> On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <
> r-help at r-project.org> wrote:
>
> Dear R community
>
> It is possible to adjust the legend in combined ggplots using ggarrange
> with
> be positions top, bottom, left and right.
> My question: Is there a function to change the position of the legend to
> topright or bottomleft? Right and top etc are in the middle of the axis.
>
> Kind regards
> Sibylle
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
>
> John Kane
> Kingston ON Canada
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Mon Feb  5 15:19:32 2024
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Mon, 5 Feb 2024 14:19:32 +0000
Subject: [R] ggarrange & legend
In-Reply-To: <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
 <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
 <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
Message-ID: <CH3PR22MB45148693E1DB5BF879B42D6DCF472@CH3PR22MB4514.namprd22.prod.outlook.com>

Would something like this help?
library(ggplot2)

# Create a plot
p <- ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point() +
  labs(title = "Scatter Plot", x = "Weight", y = "Miles Per Gallon")

# Add text at a specific location
p + annotate("text", x = min(mtcars$wt) + 23, y = max(mtcars$mpg) - 10, label = "Custom Text")


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of SIBYLLE ST?CKLI via R-help
Sent: Monday, February 5, 2024 8:43 AM
To: 'John Kane' <jrkrideau at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] ggarrange & legend

[External Email]

Dear John Kane

Dear R community



Here my working example

1.      Example that is working with legend="top". However, as mentioned, the legend is in the middle of the top axis.

mylist<-list(p1, p2)

dev.new(width=28, height=18)

fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top", labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), ncol=2)

fig1



2.      My question is how I can position the legend on the topright of the top axis. However, "topright" is not a common label for legend in ggarrange (but in other plot functions), so legend ="topright" is not working.

mylist<-list(p1, p2)

dev.new(width=28, height=18)

fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="topright", labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), ncol=2)

fig1



Kind regards

Sibylle



From: John Kane <jrkrideau at gmail.com>
Sent: Monday, February 5, 2024 1:59 PM
To: sibylle.stoeckli at gmx.ch
Cc: r-help at r-project.org
Subject: Re: [R] ggarrange & legend



Could you supply us with a MWE (minimal working example)of what you have so far?

Thanks.



On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:

Dear R community

It is possible to adjust the legend in combined ggplots using ggarrange with be positions top, bottom, left and right.
My question: Is there a function to change the position of the legend to topright or bottomleft? Right and top etc are in the middle of the axis.

Kind regards
Sibylle

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



--

John Kane
Kingston ON Canada


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jrkr|de@u @end|ng |rom gm@||@com  Mon Feb  5 15:22:44 2024
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 5 Feb 2024 09:22:44 -0500
Subject: [R] ggarrange & legend
In-Reply-To: <CAKZQJMB8S5wXDgXPFF8GO1DNAivwjTFio3Z_S82-BUE_Lq9PAg@mail.gmail.com>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
 <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
 <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
 <CAKZQJMB8S5wXDgXPFF8GO1DNAivwjTFio3Z_S82-BUE_Lq9PAg@mail.gmail.com>
Message-ID: <CAKZQJMDU7VDRQ+Z6xdDa7RNbKbi6CE=rEuwVJZG7YmrNfmoQOQ@mail.gmail.com>

Blast it hit send by accident. Anyway the code above is a WWE.

I don't see any obvious way no move the legend


On Mon, 5 Feb 2024 at 09:13, John Kane <jrkrideau at gmail.com> wrote:

> I'm sorry but that is not a working example.
>
> A working example needs to create the plots being used.
>
> For example, stealing some code from
> https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html
> #=================================================================
>
> data <https://rdrr.io/r/utils/data.html>("ToothGrowth")df <- ToothGrowthdf$dose <- as.factor <https://rdrr.io/r/base/factor.html>(df$dose)# Box plotbxp <- ggboxplot <https://rpkgs.datanovia.com/ggpubr/reference/ggboxplot.html>(df, x = "dose", y = "len",    color = "dose", palette = "jco")# Density plotdens <- ggdensity <https://rpkgs.datanovia.com/ggpubr/reference/ggdensity.html>(df, x = "len", fill = "dose", palette = "jco")
>
> mylist<-list(bxp, dens)
>
> dev.new(width=28, height=18)
>
> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top", labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), ncol=2)
>
> fig1
> #=====================================================================================
>
>
> On Mon, 5 Feb 2024 at 08:44, <sibylle.stoeckli at gmx.ch> wrote:
>
>> Dear John Kane
>>
>> Dear R community
>>
>>
>>
>> Here my working example
>>
>>    1. Example that is working with legend=?top?. However, as mentioned,
>>    the legend is in the middle of the top axis.
>>
>> mylist<-list(p1, p2)
>>
>> dev.new(width=28, height=18)
>>
>> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top",
>> labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"),
>> ncol=2)
>>
>> fig1
>>
>>
>>
>>    1. My question is how I can position the legend on the topright of
>>    the top axis. However, ?topright? is not a common label for legend in
>>    ggarrange (but in other plot functions), so legend =?topright? is not
>>    working.
>>
>> mylist<-list(p1, p2)
>>
>> dev.new(width=28, height=18)
>>
>> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE,
>> legend="topright", labels = c("(A)", "(B)"), font.label = list(size = 18,
>> color = "black"), ncol=2)
>>
>> fig1
>>
>>
>>
>> Kind regards
>>
>> Sibylle
>>
>>
>>
>> *From:* John Kane <jrkrideau at gmail.com>
>> *Sent:* Monday, February 5, 2024 1:59 PM
>> *To:* sibylle.stoeckli at gmx.ch
>> *Cc:* r-help at r-project.org
>> *Subject:* Re: [R] ggarrange & legend
>>
>>
>>
>> Could you supply us with a MWE (minimal working example)of what you have
>> so far?
>>
>> Thanks.
>>
>>
>>
>> On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <
>> r-help at r-project.org> wrote:
>>
>> Dear R community
>>
>> It is possible to adjust the legend in combined ggplots using ggarrange
>> with
>> be positions top, bottom, left and right.
>> My question: Is there a function to change the position of the legend to
>> topright or bottomleft? Right and top etc are in the middle of the axis.
>>
>> Kind regards
>> Sibylle
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>> --
>>
>> John Kane
>> Kingston ON Canada
>>
>
>
> --
> John Kane
> Kingston ON Canada
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Tue Feb  6 21:28:38 2024
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Wed, 7 Feb 2024 09:28:38 +1300
Subject: [R] ggarrange & legend
In-Reply-To: <CAKZQJMDU7VDRQ+Z6xdDa7RNbKbi6CE=rEuwVJZG7YmrNfmoQOQ@mail.gmail.com>
References: <009201da581a$1ef2e600$5cd8b200$@gmx.ch>
 <CAKZQJMDNXW9TGaEBDY4BQ4Lv-nGSjFbk4r+vr9-=i45cCs7wyQ@mail.gmail.com>
 <00ee01da5839$2fa9faa0$8efdefe0$@gmx.ch>
 <CAKZQJMB8S5wXDgXPFF8GO1DNAivwjTFio3Z_S82-BUE_Lq9PAg@mail.gmail.com>
 <CAKZQJMDU7VDRQ+Z6xdDa7RNbKbi6CE=rEuwVJZG7YmrNfmoQOQ@mail.gmail.com>
Message-ID: <61b6e988-dc04-4742-99bf-dd284b94068a@stat.auckland.ac.nz>

Hi

Using John's example ...


data("ToothGrowth")
df <-ToothGrowth
df$dose <- as.factor(df$dose)
## Box plot
bxp <- ggboxplot(df, x = "dose", y = "len",
	         color = "dose", palette = "jco")
## Density plot
dens <- ggdensity(df, x = "len", fill = "dose", palette = "jco")
mylist<-list(bxp, dens)
dev.new(width=28, height=18)
fig1<- ggarrange(plotlist=mylist, common.legend = TRUE,
                  legend="top",
                  labels = c("(A)", "(B)"),
                  font.label = list(size = 18, color = "black"), ncol=2)
fig1


... the problem is that even though 'ggplot2' allows a numeric 'legend'
(although this result is probably not what you want anyway) ...


bxp + theme(legend.position=c(1, 1))


... ggpubr::ggarrange() passes the 'legend' on to ggpubr:::.plot_grid(),
which does an explicit switch(legend), which fails ...


try(ggarrange(plotlist=mylist, common.legend = TRUE,
               legend=c(1, 1),
               labels = c("(A)", "(B)"),
               font.label = list(size = 18, color = "black"), ncol=2))


One option is to extract the legend
('position' will affect orientation of legend?) ...


legend <- ggpubr::get_legend(bxp, position="top")


... and then draw the legend yourself (in the top-right corner)
and tell ggarange() NOT to draw the legend ...


library(grid)
h <- sum(legend$height)
w <- sum(legend$width)
combined <- ggarrange(plotlist=mylist, common.legend = TRUE,
                       legend="none",
                       labels = c("(A)", "(B)"),
                       font.label = list(size = 18, color = "black"),
                       ncol=2)
grid.newpage()
pushViewport(viewport(y=1, height=h,
                       x=1, width=w,
                       just=c("right", "top")))
grid.draw(legend)
popViewport()
pushViewport(viewport(y=0, height=unit(1, "npc") - h, just="bottom"))
print(combined, newpage=FALSE)
popViewport()


Is that what you were looking for?

Paul


On 6/02/24 03:22, John Kane wrote:
> Blast it hit send by accident. Anyway the code above is a WWE.
> 
> I don't see any obvious way no move the legend
> 
> 
> On Mon, 5 Feb 2024 at 09:13, John Kane <jrkrideau at gmail.com> wrote:
> 
>  > I'm sorry but that is not a working example.
>  >
>  > A working example needs to create the plots being used.
>  >
>  > For example, stealing some code from
>  > https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html 
> <https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html>
>  > #=================================================================
>  >
>  > data <https://rdrr.io/r/utils/data.html 
> <https://rdrr.io/r/utils/data.html>>("ToothGrowth")df <- ToothGrowthdf$dose <- as.factor <https://rdrr.io/r/base/factor.html <https://rdrr.io/r/base/factor.html>>(df$dose)# Box plotbxp <- ggboxplot <https://rpkgs.datanovia.com/ggpubr/reference/ggboxplot.html <https://rpkgs.datanovia.com/ggpubr/reference/ggboxplot.html>>(df, x = "dose", y = "len", color = "dose", palette = "jco")# Density plotdens <- ggdensity <https://rpkgs.datanovia.com/ggpubr/reference/ggdensity.html <https://rpkgs.datanovia.com/ggpubr/reference/ggdensity.html>>(df, x = "len", fill = "dose", palette = "jco")
>  >
>  > mylist<-list(bxp, dens)
>  >
>  > dev.new(width=28, height=18)
>  >
>  > fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top", 
> labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"), 
> ncol=2)
>  >
>  > fig1
>  > 
> #=====================================================================================
>  >
>  >
>  > On Mon, 5 Feb 2024 at 08:44, <sibylle.stoeckli at gmx.ch> wrote:
>  >
>  >> Dear John Kane
>  >>
>  >> Dear R community
>  >>
>  >>
>  >>
>  >> Here my working example
>  >>
>  >> 1. Example that is working with legend=?top?. However, as mentioned,
>  >> the legend is in the middle of the top axis.
>  >>
>  >> mylist<-list(p1, p2)
>  >>
>  >> dev.new(width=28, height=18)
>  >>
>  >> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE, legend="top",
>  >> labels = c("(A)", "(B)"), font.label = list(size = 18, color = "black"),
>  >> ncol=2)
>  >>
>  >> fig1
>  >>
>  >>
>  >>
>  >> 1. My question is how I can position the legend on the topright of
>  >> the top axis. However, ?topright? is not a common label for legend in
>  >> ggarrange (but in other plot functions), so legend =?topright? is not
>  >> working.
>  >>
>  >> mylist<-list(p1, p2)
>  >>
>  >> dev.new(width=28, height=18)
>  >>
>  >> fig1<- ggarrange(plotlist=mylist, common.legend = TRUE,
>  >> legend="topright", labels = c("(A)", "(B)"), font.label = list(size 
> = 18,
>  >> color = "black"), ncol=2)
>  >>
>  >> fig1
>  >>
>  >>
>  >>
>  >> Kind regards
>  >>
>  >> Sibylle
>  >>
>  >>
>  >>
>  >> *From:* John Kane <jrkrideau at gmail.com>
>  >> *Sent:* Monday, February 5, 2024 1:59 PM
>  >> *To:* sibylle.stoeckli at gmx.ch
>  >> *Cc:* r-help at r-project.org
>  >> *Subject:* Re: [R] ggarrange & legend
>  >>
>  >>
>  >>
>  >> Could you supply us with a MWE (minimal working example)of what you have
>  >> so far?
>  >>
>  >> Thanks.
>  >>
>  >>
>  >>
>  >> On Mon, 5 Feb 2024 at 05:00, SIBYLLE ST?CKLI via R-help <
>  >> r-help at r-project.org> wrote:
>  >>
>  >> Dear R community
>  >>
>  >> It is possible to adjust the legend in combined ggplots using ggarrange
>  >> with
>  >> be positions top, bottom, left and right.
>  >> My question: Is there a function to change the position of the legend to
>  >> topright or bottomleft? Right and top etc are in the middle of the axis.
>  >>
>  >> Kind regards
>  >> Sibylle
>  >>
>  >> ______________________________________________
>  >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>  >> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
>  >> PLEASE do read the posting guide
>  >> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
>  >> and provide commented, minimal, self-contained, reproducible code.
>  >>
>  >>
>  >>
>  >> --
>  >>
>  >> John Kane
>  >> Kingston ON Canada
>  >>
>  >
>  >
>  > --
>  > John Kane
>  > Kingston ON Canada
>  >
> 
> 
> -- 
> John Kane
> Kingston ON Canada
> 
> [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland 1142, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From @rb@utjc @end|ng |rom gm@||@com  Thu Feb  8 02:18:11 2024
From: @rb@utjc @end|ng |rom gm@||@com (Jean-Claude Arbaut)
Date: Thu, 8 Feb 2024 02:18:11 +0100
Subject: [R] Is simplify2array working for dimension > 2?
Message-ID: <CANufCk64bQiuD+rSf+_1kxeOHjfhfdcayseGsacf7MVSt8QLkg@mail.gmail.com>

Reading the doc for ?simplify2array, I got the impression that with the
'higher = T' argument the function returns an array of dimension greater
than 2 when it makes sense (the doc says "when appropriate", which is
rather vague). I would expect

a <- list(
  list(list(1, 2), list(3, 4)),
  list(list(5, 6), list(7, 8))
)
simplify2array(a, higher = T)

to return the same (possibly up to a dimension permutation) as
array(1:8, dim = c(2, 2, 2))

However, in this case simplify2array returns a matrix (i.e. 2 dimensional
array), whose elements are lists.
It's the same as
structure(list(list(1, 2), list(3, 4), list(5, 6), list(7, 8)), dim = c(2,
2))

I get the same behavior with
a <- list(
  list(c(1, 2), c(3, 4)),
  list(c(5, 6), c(7, 8))
)
but then the matrix elements are numeric vectors instead of lists.

Did I miss something to get the result I expected with this function? Or is
it a bug? Or maybe the function is not supposed to return a higher
dimensional array, and I didn't understand the documentation correctly?

There is a workaround, one can do for instance
array(unlist(a), dim = c(2, 2, 2))
and there may be better options (checking dimensions?).

In case it's important: running R 4.3.2 on Debian 12.4.

Best regards,

Jean-Claude Arbaut

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb  8 10:32:35 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 8 Feb 2024 01:32:35 -0800
Subject: [R] Is simplify2array working for dimension > 2?
In-Reply-To: <CANufCk64bQiuD+rSf+_1kxeOHjfhfdcayseGsacf7MVSt8QLkg@mail.gmail.com>
References: <CANufCk64bQiuD+rSf+_1kxeOHjfhfdcayseGsacf7MVSt8QLkg@mail.gmail.com>
Message-ID: <CAGxFJbRvMX=CTLedrS1aLoJms4iVF1Ei6WxX143xZJgpU3kLLQ@mail.gmail.com>

Jean-Claude:

Well, here's my "explanation". Caveat emptor!

Note that:
"simplify2array() is the utility called from sapply() when simplify is
not false"

and

> sapply(a, I, simplify = "array")
     [,1]   [,2]
[1,] list,2 list,2
[2,] list,2 list,2

So it seems that simplify2array() is not intended to operate in the
way that you expected, i.e. that recursive simplification is done.
And, indeed, if you check the code for the function, you will see that
that is the case. Perhaps the key phrase in the docs is in the
sapply() part that says:

"sapply is a user-friendly version and wrapper of lapply by default
returning a vector, matrix or, if simplify = "array", an array ***if
appropriate***, by applying simplify2array(). "   In other words,
recursive simplification is considered not "appropriate".

FWIW I also find this somewhat confusing and think that explicitly
saying that recursive simplification is not done might make it less
so. But writing docs that  address all our possible misconceptions is
pretty difficult (or impossible!), and maybe adding that explicit
caveat would confuse others even more... :-(

Cheers,
Bert









On Thu, Feb 8, 2024 at 12:12?AM Jean-Claude Arbaut <arbautjc at gmail.com> wrote:
>
> Reading the doc for ?simplify2array, I got the impression that with the
> 'higher = T' argument the function returns an array of dimension greater
> than 2 when it makes sense (the doc says "when appropriate", which is
> rather vague). I would expect
>
> a <- list(
>   list(list(1, 2), list(3, 4)),
>   list(list(5, 6), list(7, 8))
> )
> simplify2array(a, higher = T)
>
> to return the same (possibly up to a dimension permutation) as
> array(1:8, dim = c(2, 2, 2))
>
> However, in this case simplify2array returns a matrix (i.e. 2 dimensional
> array), whose elements are lists.
> It's the same as
> structure(list(list(1, 2), list(3, 4), list(5, 6), list(7, 8)), dim = c(2,
> 2))
>
> I get the same behavior with
> a <- list(
>   list(c(1, 2), c(3, 4)),
>   list(c(5, 6), c(7, 8))
> )
> but then the matrix elements are numeric vectors instead of lists.
>
> Did I miss something to get the result I expected with this function? Or is
> it a bug? Or maybe the function is not supposed to return a higher
> dimensional array, and I didn't understand the documentation correctly?
>
> There is a workaround, one can do for instance
> array(unlist(a), dim = c(2, 2, 2))
> and there may be better options (checking dimensions?).
>
> In case it's important: running R 4.3.2 on Debian 12.4.
>
> Best regards,
>
> Jean-Claude Arbaut
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |@go@g|ne @end|ng |rom @jd@e@  Fri Feb  9 12:25:56 2024
From: |@go@g|ne @end|ng |rom @jd@e@ (=?utf-8?B?SWFnbyBHaW7DqSBWw6F6cXVleg==?=)
Date: Fri, 9 Feb 2024 11:25:56 +0000
Subject: [R] Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
Message-ID: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>

Hi all,

I cite from README.Rterm

^D, DEL?????: Delete the character under the cursor.

That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?

Thanks!

Best regards,
Iago

	[[alternative HTML version deleted]]


From @rb@utjc @end|ng |rom gm@||@com  Thu Feb  8 23:14:58 2024
From: @rb@utjc @end|ng |rom gm@||@com (Jean-Claude Arbaut)
Date: Thu, 8 Feb 2024 23:14:58 +0100
Subject: [R] Is simplify2array working for dimension > 2?
In-Reply-To: <CAGxFJbRvMX=CTLedrS1aLoJms4iVF1Ei6WxX143xZJgpU3kLLQ@mail.gmail.com>
References: <CANufCk64bQiuD+rSf+_1kxeOHjfhfdcayseGsacf7MVSt8QLkg@mail.gmail.com>
 <CAGxFJbRvMX=CTLedrS1aLoJms4iVF1Ei6WxX143xZJgpU3kLLQ@mail.gmail.com>
Message-ID: <CANufCk6afaSDTcdKFfjAgj1p-Kj4+DLPZYaDD8TXJurW2mERkQ@mail.gmail.com>

Re your mention in your other mail (which didn't go to r-help) of this part
of the doc:

"The default value, TRUE, returns a vector or matrix if appropriate,
whereas if simplify = "array" the result may be an array of ?rank?
(==length(dim(.))) **one higher than the result of FUN(X[[i]]).**"

It's not I understood this, but it makes some sense:

sapply(1:2, function(i) diag(3)) is a matrix, but
sapply(1:2, function(i) diag(3), simplify = "array") is a rank-3 array.

So this is the "appropriate case", and recursively simplifying nested list
to high rank arrays is not something that's supposed to be done.

And indeed, simplify2array(list(diag(2), diag(2))) does yield a rank-3
array as well. And it works for a list of rank-3 arrays, converted to
rank-4, etc.

So list of array is ok, list of list is not, except for rank 2. The
behavior for rank 2 led me to think it applied as well for higher rank, and
the doc for the 'higher' argument seemed to confirm this, but I was a bit
optimistic.

Thanks for your answer. I believe the doc may be improved a little bit, but
the intent looks clearer now.



Le jeu. 8 f?vr. 2024 ? 10:32, Bert Gunter <bgunter.4567 at gmail.com> a ?crit :

> Jean-Claude:
>
> Well, here's my "explanation". Caveat emptor!
>
> Note that:
> "simplify2array() is the utility called from sapply() when simplify is
> not false"
>
> and
>
> > sapply(a, I, simplify = "array")
>      [,1]   [,2]
> [1,] list,2 list,2
> [2,] list,2 list,2
>
> So it seems that simplify2array() is not intended to operate in the
> way that you expected, i.e. that recursive simplification is done.
> And, indeed, if you check the code for the function, you will see that
> that is the case. Perhaps the key phrase in the docs is in the
> sapply() part that says:
>
> "sapply is a user-friendly version and wrapper of lapply by default
> returning a vector, matrix or, if simplify = "array", an array ***if
> appropriate***, by applying simplify2array(). "   In other words,
> recursive simplification is considered not "appropriate".
>
> FWIW I also find this somewhat confusing and think that explicitly
> saying that recursive simplification is not done might make it less
> so. But writing docs that  address all our possible misconceptions is
> pretty difficult (or impossible!), and maybe adding that explicit
> caveat would confuse others even more... :-(
>
> Cheers,
> Bert
>
>
>
>
>
>
>
>
>
> On Thu, Feb 8, 2024 at 12:12?AM Jean-Claude Arbaut <arbautjc at gmail.com>
> wrote:
> >
> > Reading the doc for ?simplify2array, I got the impression that with the
> > 'higher = T' argument the function returns an array of dimension greater
> > than 2 when it makes sense (the doc says "when appropriate", which is
> > rather vague). I would expect
> >
> > a <- list(
> >   list(list(1, 2), list(3, 4)),
> >   list(list(5, 6), list(7, 8))
> > )
> > simplify2array(a, higher = T)
> >
> > to return the same (possibly up to a dimension permutation) as
> > array(1:8, dim = c(2, 2, 2))
> >
> > However, in this case simplify2array returns a matrix (i.e. 2 dimensional
> > array), whose elements are lists.
> > It's the same as
> > structure(list(list(1, 2), list(3, 4), list(5, 6), list(7, 8)), dim =
> c(2,
> > 2))
> >
> > I get the same behavior with
> > a <- list(
> >   list(c(1, 2), c(3, 4)),
> >   list(c(5, 6), c(7, 8))
> > )
> > but then the matrix elements are numeric vectors instead of lists.
> >
> > Did I miss something to get the result I expected with this function? Or
> is
> > it a bug? Or maybe the function is not supposed to return a higher
> > dimensional array, and I didn't understand the documentation correctly?
> >
> > There is a workaround, one can do for instance
> > array(unlist(a), dim = c(2, 2, 2))
> > and there may be better options (checking dimensions?).
> >
> > In case it's important: running R 4.3.2 on Debian 12.4.
> >
> > Best regards,
> >
> > Jean-Claude Arbaut
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |@go@g|ne @end|ng |rom @jd@e@  Fri Feb  9 16:03:52 2024
From: |@go@g|ne @end|ng |rom @jd@e@ (=?utf-8?B?SWFnbyBHaW7DqSBWw6F6cXVleg==?=)
Date: Fri, 9 Feb 2024 15:03:52 +0000
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
Message-ID: <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>

Yes, indeed, I am talking about Rterm in Windows.

Iago
________________________________
De: Duncan Murdoch <murdoch.duncan at gmail.com>
Enviat el: divendres, 9 de febrer de 2024 13:50
Per a: Iago Gin? V?zquez <iago.gine at sjd.es>
Tema: Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when there are no characters in cursor line

On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
> Hi all,
>
> I cite from README.Rterm
>
> ^D, DEL?????: Delete the character under the cursor.
>
> That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?

Are you talking about rterm in Windows, or which front end?

Duncan Murdoch


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Feb  9 18:20:44 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 9 Feb 2024 12:20:44 -0500
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
 <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
Message-ID: <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>

That looks to me like a bug, but I don't use Windows any more, so I 
won't offer to try to fix it for you.  In fact I don't think Rterm has 
many users at all:  most Windows users probably use RStudio or one of 
the other graphical front ends (Visual Studio, Emacs, Rgui, etc.)

So maybe you can track down the issue, or someone else will try.  Or 
maybe you'll just have to avoid triggering the bug (if it really is one).

Duncan Murdoch

On 09/02/2024 10:03 a.m., Iago Gin? V?zquez wrote:
> Yes, indeed, I am talking about Rterm in Windows.
> 
> Iago
> ------------------------------------------------------------------------
> *De:* Duncan Murdoch <murdoch.duncan at gmail.com>
> *Enviat el:* divendres, 9 de febrer de 2024 13:50
> *Per a:* Iago Gin? V?zquez <iago.gine at sjd.es>
> *Tema:* Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when 
> there are no characters in cursor line
> On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
>> Hi all,
>> 
>> I cite from README.Rterm
>> 
>> ^D, DEL?????: Delete the character under the cursor.
>> 
>> That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?
> 
> Are you talking about rterm in Windows, or which front end?
> 
> Duncan Murdoch
>


From po|c1410 @end|ng |rom gm@||@com  Fri Feb  9 18:28:50 2024
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Fri, 9 Feb 2024 17:28:50 +0000
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
 <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>
Message-ID: <CA+etgPnD=8r_5Jgyk672S-50mYfWDzdcSOr7HBEo9eO-e84WOQ@mail.gmail.com>

I don't use term, but I've just tested it and this is reproducable.

Is it a bug? Not sure. If you hit c after getting the message it will
cancel the q() request.


On Fri, 9 Feb 2024, 17:21 Duncan Murdoch, <murdoch.duncan at gmail.com> wrote:

> That looks to me like a bug, but I don't use Windows any more, so I
> won't offer to try to fix it for you.  In fact I don't think Rterm has
> many users at all:  most Windows users probably use RStudio or one of
> the other graphical front ends (Visual Studio, Emacs, Rgui, etc.)
>
> So maybe you can track down the issue, or someone else will try.  Or
> maybe you'll just have to avoid triggering the bug (if it really is one).
>
> Duncan Murdoch
>
> On 09/02/2024 10:03 a.m., Iago Gin? V?zquez wrote:
> > Yes, indeed, I am talking about Rterm in Windows.
> >
> > Iago
> > ------------------------------------------------------------------------
> > *De:* Duncan Murdoch <murdoch.duncan at gmail.com>
> > *Enviat el:* divendres, 9 de febrer de 2024 13:50
> > *Per a:* Iago Gin? V?zquez <iago.gine at sjd.es>
> > *Tema:* Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when
> > there are no characters in cursor line
> > On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
> >> Hi all,
> >>
> >> I cite from README.Rterm
> >>
> >> ^D, DEL : Delete the character under the cursor.
> >>
> >> That is the general behaviour, but when there is no character (neither
> under the cursor nor at its left), pressing the Delete key suggests closing
> the R terminal. Is there any (configurable) way to avoid this behaviour?
> >
> > Are you talking about rterm in Windows, or which front end?
> >
> > Duncan Murdoch
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |@go@g|ne @end|ng |rom @jd@e@  Fri Feb  9 21:39:48 2024
From: |@go@g|ne @end|ng |rom @jd@e@ (=?utf-8?B?SWFnbyBHaW7DqSBWw6F6cXVleg==?=)
Date: Fri, 9 Feb 2024 20:39:48 +0000
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <CA+etgPnD=8r_5Jgyk672S-50mYfWDzdcSOr7HBEo9eO-e84WOQ@mail.gmail.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
 <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>
 <CA+etgPnD=8r_5Jgyk672S-50mYfWDzdcSOr7HBEo9eO-e84WOQ@mail.gmail.com>
Message-ID: <AM6PR02MB4423799DFE3EF7EE0DD4DC4C944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>

Duncan, do you think it's worth to comment this in R-devel list?

Iago

________________________________
De: CALUM POLWART <polc1410 at gmail.com>
Enviat el: divendres, 9 de febrer de 2024 18:28
Per a: Duncan Murdoch <murdoch.duncan at gmail.com>
A/c: Iago Gin? V?zquez <iago.gine at sjd.es>; r-help at r-project.org <r-help at r-project.org>
Tema: Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when there are no characters in cursor line

I don't use term, but I've just tested it and this is reproducable.

Is it a bug? Not sure. If you hit c after getting the message it will cancel the q() request.


On Fri, 9 Feb 2024, 17:21 Duncan Murdoch, <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>> wrote:
That looks to me like a bug, but I don't use Windows any more, so I
won't offer to try to fix it for you.  In fact I don't think Rterm has
many users at all:  most Windows users probably use RStudio or one of
the other graphical front ends (Visual Studio, Emacs, Rgui, etc.)

So maybe you can track down the issue, or someone else will try.  Or
maybe you'll just have to avoid triggering the bug (if it really is one).

Duncan Murdoch

On 09/02/2024 10:03 a.m., Iago Gin? V?zquez wrote:
> Yes, indeed, I am talking about Rterm in Windows.
>
> Iago
> ------------------------------------------------------------------------
> *De:* Duncan Murdoch <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>>
> *Enviat el:* divendres, 9 de febrer de 2024 13:50
> *Per a:* Iago Gin? V?zquez <iago.gine at sjd.es<mailto:iago.gine at sjd.es>>
> *Tema:* Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when
> there are no characters in cursor line
> On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
>> Hi all,
>>
>> I cite from README.Rterm
>>
>> ^D, DEL?????: Delete the character under the cursor.
>>
>> That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?
>
> Are you talking about rterm in Windows, or which front end?
>
> Duncan Murdoch
>

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From tom@@@k@||ber@ @end|ng |rom gm@||@com  Mon Feb 12 11:18:01 2024
From: tom@@@k@||ber@ @end|ng |rom gm@||@com (Tomas Kalibera)
Date: Mon, 12 Feb 2024 11:18:01 +0100
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <AM6PR02MB4423799DFE3EF7EE0DD4DC4C944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
 <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>
 <CA+etgPnD=8r_5Jgyk672S-50mYfWDzdcSOr7HBEo9eO-e84WOQ@mail.gmail.com>
 <AM6PR02MB4423799DFE3EF7EE0DD4DC4C944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
Message-ID: <5a2995dd-a134-42a9-903f-07c1769a9e88@gmail.com>

On 2/9/24 21:39, Iago Gin? V?zquez wrote:
> Duncan, do you think it's worth to comment this in R-devel list?

Duncan filed a bug report via R bugzilla (thanks).

There is no way to disable this functionality and it has existed for 
very long time, I tested that at least in R 3.0. Optionally ending the 
session was I believe intentional with Ctrl+D, when the input is empty, 
and it is also how Unix terminals work. But ending the session with DEL 
was probably an implementation compromise and I've changed that in 
R-devel. Thanks for the report.

More implementation details in the bugzilla report:
https://bugs.r-project.org/show_bug.cgi?id=18666

Best
Tomas

> Iago
>
> ________________________________
> De: CALUM POLWART <polc1410 at gmail.com>
> Enviat el: divendres, 9 de febrer de 2024 18:28
> Per a: Duncan Murdoch <murdoch.duncan at gmail.com>
> A/c: Iago Gin? V?zquez <iago.gine at sjd.es>; r-help at r-project.org <r-help at r-project.org>
> Tema: Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when there are no characters in cursor line
>
> I don't use term, but I've just tested it and this is reproducable.
>
> Is it a bug? Not sure. If you hit c after getting the message it will cancel the q() request.
>
>
> On Fri, 9 Feb 2024, 17:21 Duncan Murdoch, <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>> wrote:
> That looks to me like a bug, but I don't use Windows any more, so I
> won't offer to try to fix it for you.  In fact I don't think Rterm has
> many users at all:  most Windows users probably use RStudio or one of
> the other graphical front ends (Visual Studio, Emacs, Rgui, etc.)
>
> So maybe you can track down the issue, or someone else will try.  Or
> maybe you'll just have to avoid triggering the bug (if it really is one).
>
> Duncan Murdoch
>
> On 09/02/2024 10:03 a.m., Iago Gin? V?zquez wrote:
>> Yes, indeed, I am talking about Rterm in Windows.
>>
>> Iago
>> ------------------------------------------------------------------------
>> *De:* Duncan Murdoch <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>>
>> *Enviat el:* divendres, 9 de febrer de 2024 13:50
>> *Per a:* Iago Gin? V?zquez <iago.gine at sjd.es<mailto:iago.gine at sjd.es>>
>> *Tema:* Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when
>> there are no characters in cursor line
>> On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
>>> Hi all,
>>>
>>> I cite from README.Rterm
>>>
>>> ^D, DEL?????: Delete the character under the cursor.
>>>
>>> That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?
>> Are you talking about rterm in Windows, or which front end?
>>
>> Duncan Murdoch
>>
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |@go@g|ne @end|ng |rom @jd@e@  Mon Feb 12 11:24:05 2024
From: |@go@g|ne @end|ng |rom @jd@e@ (=?utf-8?B?SWFnbyBHaW7DqSBWw6F6cXVleg==?=)
Date: Mon, 12 Feb 2024 10:24:05 +0000
Subject: [R] 
 Avoiding Delete key function as 'Quit R' in Rterm when there
 are no characters in cursor line
In-Reply-To: <5a2995dd-a134-42a9-903f-07c1769a9e88@gmail.com>
References: <AM6PR02MB44232D0185AEEA5CAFB6CAE4944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <fdd21940-a5d2-4d43-85c4-66ed3bce8310@gmail.com>
 <AM6PR02MB4423C21E3B6538A1FD962316944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <cc818ba3-8fd6-48f5-8e8b-7b6347d5ce39@gmail.com>
 <CA+etgPnD=8r_5Jgyk672S-50mYfWDzdcSOr7HBEo9eO-e84WOQ@mail.gmail.com>
 <AM6PR02MB4423799DFE3EF7EE0DD4DC4C944B2@AM6PR02MB4423.eurprd02.prod.outlook.com>
 <5a2995dd-a134-42a9-903f-07c1769a9e88@gmail.com>
Message-ID: <AM6PR02MB44238E3D00D4B0FDA218A1AB94482@AM6PR02MB4423.eurprd02.prod.outlook.com>

Thanks to both, Duncan and Thomas.

Best,
Iago

________________________________
De: Tomas Kalibera <tomas.kalibera at gmail.com>
Enviat el: dilluns, 12 de febrer de 2024 11:18
Per a: Iago Gin? V?zquez <iago.gine at sjd.es>; CALUM POLWART <polc1410 at gmail.com>; Duncan Murdoch <murdoch.duncan at gmail.com>
A/c: r-help at r-project.org <r-help at r-project.org>
Tema: Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when there are no characters in cursor line

On 2/9/24 21:39, Iago Gin? V?zquez wrote:
> Duncan, do you think it's worth to comment this in R-devel list?

Duncan filed a bug report via R bugzilla (thanks).

There is no way to disable this functionality and it has existed for
very long time, I tested that at least in R 3.0. Optionally ending the
session was I believe intentional with Ctrl+D, when the input is empty,
and it is also how Unix terminals work. But ending the session with DEL
was probably an implementation compromise and I've changed that in
R-devel. Thanks for the report.

More implementation details in the bugzilla report:
https://bugs.r-project.org/show_bug.cgi?id=18666

Best
Tomas

> Iago
>
> ________________________________
> De: CALUM POLWART <polc1410 at gmail.com>
> Enviat el: divendres, 9 de febrer de 2024 18:28
> Per a: Duncan Murdoch <murdoch.duncan at gmail.com>
> A/c: Iago Gin? V?zquez <iago.gine at sjd.es>; r-help at r-project.org <r-help at r-project.org>
> Tema: Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when there are no characters in cursor line
>
> I don't use term, but I've just tested it and this is reproducable.
>
> Is it a bug? Not sure. If you hit c after getting the message it will cancel the q() request.
>
>
> On Fri, 9 Feb 2024, 17:21 Duncan Murdoch, <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>> wrote:
> That looks to me like a bug, but I don't use Windows any more, so I
> won't offer to try to fix it for you.  In fact I don't think Rterm has
> many users at all:  most Windows users probably use RStudio or one of
> the other graphical front ends (Visual Studio, Emacs, Rgui, etc.)
>
> So maybe you can track down the issue, or someone else will try.  Or
> maybe you'll just have to avoid triggering the bug (if it really is one).
>
> Duncan Murdoch
>
> On 09/02/2024 10:03 a.m., Iago Gin? V?zquez wrote:
>> Yes, indeed, I am talking about Rterm in Windows.
>>
>> Iago
>> ------------------------------------------------------------------------
>> *De:* Duncan Murdoch <murdoch.duncan at gmail.com<mailto:murdoch.duncan at gmail.com>>
>> *Enviat el:* divendres, 9 de febrer de 2024 13:50
>> *Per a:* Iago Gin? V?zquez <iago.gine at sjd.es<mailto:iago.gine at sjd.es>>
>> *Tema:* Re: [R] Avoiding Delete key function as 'Quit R' in Rterm when
>> there are no characters in cursor line
>> On 09/02/2024 6:25 a.m., Iago Gin? V?zquez wrote:
>>> Hi all,
>>>
>>> I cite from README.Rterm
>>>
>>> ^D, DEL?????: Delete the character under the cursor.
>>>
>>> That is the general behaviour, but when there is no character (neither under the cursor nor at its left), pressing the Delete key suggests closing the R terminal. Is there any (configurable) way to avoid this behaviour?
>> Are you talking about rterm in Windows, or which front end?
>>
>> Duncan Murdoch
>>
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>        [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ger@ophii m@iii@g oii gmx@@et  Tue Feb 13 09:59:17 2024
From: ger@ophii m@iii@g oii gmx@@et (ger@ophii m@iii@g oii gmx@@et)
Date: Tue, 13 Feb 2024 09:59:17 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
Message-ID: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>

Hey everyone,
?
this question is related to this (https://community.rstudio.com/t/packages-are-not-updating/166214/3), this (https://www.biostars.org/p/9586316/#9586323) and this (https://support.bioconductor.org/p/9156283/#9156308). The two latter ones are pots from myself.
?
To sum it up: If I am updating packages (be it via Bioconductor or CRAN) some packages simply don?t update, but they also don?t throw any warning or error that they have not been updated. The reason behind this is most likely that there is an update, but it?s not yet available as a binary ? in my case as a "mac.binary.big-sur-arm64", since I am on Apple Silicon. My pkgType is set to "both" (default), but my .Platform$pkgType is "mac.binary.big-sur-arm64" (also default).
?
If the system shows an update is available and I click update (or update via install.packages()), but the package will not be updated, I would expect any kind of message that the package will not be updated, since no newer binary is available or a prompt, if I want to compile from source. However, the only message I get is:
```
trying URL '<url_to_package>'
Content type 'application/x-gzip' length XXXXXXX bytes (X.X MB)
==================================================
downloaded X.X MB
?
?
The downloaded binary packages are in
??????????????? /var/folders/ws/XXX/T//YYY/downloaded_packages
```
To see, if the package was actually updated, I have to check for updates again (or check the version of the installed package). Is this the expected behavior and if so, why? (Also, why is there a double slash in the path to the downloaded packages?)
?
Thanks for your help.
?
Best,
Philipp


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Feb 13 10:53:22 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 13 Feb 2024 04:53:22 -0500
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <7f0678ca-bd6f-45b2-ae3d-ae0644c495b5@gmail.com>
References: <7f0678ca-bd6f-45b2-ae3d-ae0644c495b5@gmail.com>
Message-ID: <ef3ab7c9-8e71-4f77-98ca-c97fca79e1fb@gmail.com>


Those three references are about RStudio and Bioconductor (or at least 
they start out that way, I didn't read through the long threads). 
Neither of those is relevant here, but from my quick scan it appears the 
issue is that those systems detect a package in source form is 
available, then install an older binary instead.

If you have an example where update.packages() does this, that would be 
on topic on this list.  Please post just that here:  your calls, and all 
the output you received.  In my experience update.packages() asks 
whether you want the source or binary install and respects your choice.

Duncan Murdoch

On 13/02/2024 3:59 a.m., gernophil--- via R-help wrote:
> Hey everyone,
>   
> this question is related to this (https://community.rstudio.com/t/packages-are-not-updating/166214/3), this (https://www.biostars.org/p/9586316/#9586323) and this (https://support.bioconductor.org/p/9156283/#9156308). The two latter ones are pots from myself.
>   
> To sum it up: If I am updating packages (be it via Bioconductor or CRAN) some packages simply don?t update, but they also don?t throw any warning or error that they have not been updated. The reason behind this is most likely that there is an update, but it?s not yet available as a binary ? in my case as a "mac.binary.big-sur-arm64", since I am on Apple Silicon. My pkgType is set to "both" (default), but my .Platform$pkgType is "mac.binary.big-sur-arm64" (also default).
>   
> If the system shows an update is available and I click update (or update via install.packages()), but the package will not be updated, I would expect any kind of message that the package will not be updated, since no newer binary is available or a prompt, if I want to compile from source. However, the only message I get is:
> ```
> trying URL '<url_to_package>'
> Content type 'application/x-gzip' length XXXXXXX bytes (X.X MB)
> ==================================================
> downloaded X.X MB
>   
>   
> The downloaded binary packages are in
>  ??????????????? /var/folders/ws/XXX/T//YYY/downloaded_packages
> ```
> To see, if the package was actually updated, I have to check for updates again (or check the version of the installed package). Is this the expected behavior and if so, why? (Also, why is there a double slash in the path to the downloaded packages?)
>   
> Thanks for your help.
>   
> Best,
> Philipp
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ger@ophii m@iii@g oii gmx@@et  Tue Feb 13 11:09:26 2024
From: ger@ophii m@iii@g oii gmx@@et (ger@ophii m@iii@g oii gmx@@et)
Date: Tue, 13 Feb 2024 11:09:26 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
Message-ID: <trinity-ef76e042-2013-41fe-afbc-2772fec46bf2-1707818966682@3c-app-gmx-bs12>

Yes you're right that it started as an Bioconductor issue. The reason I am writing it here, if because of one of the core members of the Bioconductor project stated this:
"(...) But anyway, it's almost certainly an install.packages issue rather than BiocManager::install, so you might check over at r-help at r-project.org."
?
It's hard to give an explicit example here since it's always a bit time dependent, when and if this happens. And "unfortunately", right now all packages can be updated, but I'll come back to this as soon as I experience it again. It's more of a general feature request then a help request, but as you say "In my experience update.packages() asks whether you want the source or binary install and respects your choice." However, at least for me, it does not do this anymore, but simply silently fails to update those packages.
?
The Bioconductor thread is the most informative for this (https://support.bioconductor.org/p/9156283[https://support.bioconductor.org/p/9156283/#9156308]) in case anyone wants to check the situation in more detail.

?
Philipp
?

Gesendet:?Dienstag, 13. Februar 2024 um 10:53 Uhr
Von:?"Duncan Murdoch" <murdoch.duncan at gmail.com>
An:?"R Project Help" <R-help at r-project.org>
Betreff:?[R] Packages sometimes don't update, but no error or warning is thrown
Those three references are about RStudio and Bioconductor (or at least
they start out that way, I didn't read through the long threads).
Neither of those is relevant here, but from my quick scan it appears the
issue is that those systems detect a package in source form is
available, then install an older binary instead.

If you have an example where update.packages() does this, that would be
on topic on this list. Please post just that here: your calls, and all
the output you received. In my experience update.packages() asks
whether you want the source or binary install and respects your choice.

Duncan Murdoch

On 13/02/2024 3:59 a.m., gernophil--- via R-help wrote:
> Hey everyone,
>
> this question is related to this (https://community.rstudio.com/t/packages-are-not-updating/166214/3[https://community.rstudio.com/t/packages-are-not-updating/166214/3]), this (https://www.biostars.org/p/9586316/#9586323[https://www.biostars.org/p/9586316/#9586323]) and this (https://support.bioconductor.org/p/9156283/#9156308[https://support.bioconductor.org/p/9156283/#9156308]). The two latter ones are pots from myself.
>
> To sum it up: If I am updating packages (be it via Bioconductor or CRAN) some packages simply don?t update, but they also don?t throw any warning or error that they have not been updated. The reason behind this is most likely that there is an update, but it?s not yet available as a binary ? in my case as a "mac.binary.big-sur-arm64", since I am on Apple Silicon. My pkgType is set to "both" (default), but my .Platform$pkgType is "mac.binary.big-sur-arm64" (also default).
>
> If the system shows an update is available and I click update (or update via install.packages()), but the package will not be updated, I would expect any kind of message that the package will not be updated, since no newer binary is available or a prompt, if I want to compile from source. However, the only message I get is:
> ```
> trying URL '<url_to_package>'
> Content type 'application/x-gzip' length XXXXXXX bytes (X.X MB)
> ==================================================
> downloaded X.X MB
>
>
> The downloaded binary packages are in
> ??????????????? /var/folders/ws/XXX/T//YYY/downloaded_packages
> ```
> To see, if the package was actually updated, I have to check for updates again (or check the version of the installed package). Is this the expected behavior and if so, why? (Also, why is there a double slash in the path to the downloaded packages?)
>
> Thanks for your help.
>
> Best,
> Philipp
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]
and provide commented, minimal, self-contained, reproducible code.
?
?


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Feb 13 11:33:29 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 13 Feb 2024 10:33:29 +0000
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-ef76e042-2013-41fe-afbc-2772fec46bf2-1707818966682@3c-app-gmx-bs12>
References: <trinity-ef76e042-2013-41fe-afbc-2772fec46bf2-1707818966682@3c-app-gmx-bs12>
Message-ID: <e54d2a2c-d0e3-4718-9656-9ba67c8edeaa@sapo.pt>

?s 10:09 de 13/02/2024, gernophil--- via R-help escreveu:
> Yes you're right that it started as an Bioconductor issue. The reason I am writing it here, if because of one of the core members of the Bioconductor project stated this:
> "(...) But anyway, it's almost certainly an install.packages issue rather than BiocManager::install, so you might check over at r-help at r-project.org."
>   
> It's hard to give an explicit example here since it's always a bit time dependent, when and if this happens. And "unfortunately", right now all packages can be updated, but I'll come back to this as soon as I experience it again. It's more of a general feature request then a help request, but as you say "In my experience update.packages() asks whether you want the source or binary install and respects your choice." However, at least for me, it does not do this anymore, but simply silently fails to update those packages.
>   
> The Bioconductor thread is the most informative for this (https://support.bioconductor.org/p/9156283[https://support.bioconductor.org/p/9156283/#9156308]) in case anyone wants to check the situation in more detail.
> 
>   
> Philipp
>   
> 
> Gesendet:?Dienstag, 13. Februar 2024 um 10:53 Uhr
> Von:?"Duncan Murdoch" <murdoch.duncan at gmail.com>
> An:?"R Project Help" <R-help at r-project.org>
> Betreff:?[R] Packages sometimes don't update, but no error or warning is thrown
> Those three references are about RStudio and Bioconductor (or at least
> they start out that way, I didn't read through the long threads).
> Neither of those is relevant here, but from my quick scan it appears the
> issue is that those systems detect a package in source form is
> available, then install an older binary instead.
> 
> If you have an example where update.packages() does this, that would be
> on topic on this list. Please post just that here: your calls, and all
> the output you received. In my experience update.packages() asks
> whether you want the source or binary install and respects your choice.
> 
> Duncan Murdoch
> 
> On 13/02/2024 3:59 a.m., gernophil--- via R-help wrote:
>> Hey everyone,
>>
>> this question is related to this (https://community.rstudio.com/t/packages-are-not-updating/166214/3[https://community.rstudio.com/t/packages-are-not-updating/166214/3]), this (https://www.biostars.org/p/9586316/#9586323[https://www.biostars.org/p/9586316/#9586323]) and this (https://support.bioconductor.org/p/9156283/#9156308[https://support.bioconductor.org/p/9156283/#9156308]). The two latter ones are pots from myself.
>>
>> To sum it up: If I am updating packages (be it via Bioconductor or CRAN) some packages simply don?t update, but they also don?t throw any warning or error that they have not been updated. The reason behind this is most likely that there is an update, but it?s not yet available as a binary ? in my case as a "mac.binary.big-sur-arm64", since I am on Apple Silicon. My pkgType is set to "both" (default), but my .Platform$pkgType is "mac.binary.big-sur-arm64" (also default).
>>
>> If the system shows an update is available and I click update (or update via install.packages()), but the package will not be updated, I would expect any kind of message that the package will not be updated, since no newer binary is available or a prompt, if I want to compile from source. However, the only message I get is:
>> ```
>> trying URL '<url_to_package>'
>> Content type 'application/x-gzip' length XXXXXXX bytes (X.X MB)
>> ==================================================
>> downloaded X.X MB
>>
>>
>> The downloaded binary packages are in
>>  ??????????????? /var/folders/ws/XXX/T//YYY/downloaded_packages
>> ```
>> To see, if the package was actually updated, I have to check for updates again (or check the version of the installed package). Is this the expected behavior and if so, why? (Also, why is there a double slash in the path to the downloaded packages?)
>>
>> Thanks for your help.
>>
>> Best,
>> Philipp
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]
> and provide commented, minimal, self-contained, reproducible code.
>   
>   
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Not exactly an answer, just a thought:
Whenever I have problems updating or installing packages from whithin 
RStudio I close RStudio, write a script with the install.packages() call 
and run it from a command window.


R -q -f "instscript.R"


This many times works better and it also works with Bioconductor's 
BiocManager::install or with remotes'/devtools's install_github.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Feb 13 11:36:04 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 13 Feb 2024 05:36:04 -0500
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-6b5ee632-3d81-4345-98d2-b3dc429115d6-1707818851857@3c-app-gmx-bs12>
References: <7f0678ca-bd6f-45b2-ae3d-ae0644c495b5@gmail.com>
 <ef3ab7c9-8e71-4f77-98ca-c97fca79e1fb@gmail.com>
 <trinity-6b5ee632-3d81-4345-98d2-b3dc429115d6-1707818851857@3c-app-gmx-bs12>
Message-ID: <4fad3bfa-a119-44a1-81e3-348277f4fac5@gmail.com>

I think you should ask more from the BioC folks, or do more digging 
yourself.  At a minimum we would need to know what arguments were used 
in the call that failed before we could help you with this.  So if this 
ever happens again, here's what you can do:

  Run debug(install.packages), then the call to BiocManager::install. 
It will break to the debugger when install.packages is called.  It will 
print the whole source of install.packages which is quite long, but at 
the very top it will show something like

   debugging in: install.packages(pkgs = x)

The "install.packages(pkgs = x)" will be the call from whatever function 
calls install.packages.  The arguments shown may be constants or 
variables like x; the argument names may or may not be shown, depending 
on the Bioconductor code.  If they are variables, they are in the scope 
of the caller, not install.packages, whereas the argument name "pkgs" 
would be in scope and you could print it.  Record all the arguments that 
were passed, then quit using Q.

Now run undebug(install.packages), and re-run the install.packages() 
call from the command line, substituting the variables you recorded.  If 
that shows the same problems as when called from BiocManager::install, 
show us the log of what happened.  If not, it's a Bioconductor issue.

Duncan Murdoch

On 13/02/2024 5:07 a.m., gernophil at gmx.net wrote:
> Yes you're right that it started as an Bioconductor issue. The reason I 
> am writing it here, if because of one of the core members of the 
> Bioconductor project stated this:
> "(...) But anyway, it's almost certainly an install.packages issue 
> rather than BiocManager::install, so you might check over at 
> r-help at r-project.org."
> It's hard to give an explicit example here since it's always a bit time 
> dependent, when and if this happens. And "unfortunately", right now all 
> packages can be updated, but I'll come back to this as soon as I 
> experience it again. It's more of a general feature request then a help 
> request, but as you say "In my experience update.packages() asks whether 
> you want the source or binary install and respects your choice." 
> However, at least for me, it does not do this anymore, but simply 
> silently fails to update those packages.
> The Bioconductor thread is the most informative for this 
> (https://support.bioconductor.org/p/9156283 
> <https://support.bioconductor.org/p/9156283/#9156308>) in case anyone 
> wants to check the situation in more detail.
> Philipp
> *Gesendet:*?Dienstag, 13. Februar 2024 um 10:53 Uhr
> *Von:*?"Duncan Murdoch" <murdoch.duncan at gmail.com>
> *An:*?"R Project Help" <R-help at r-project.org>
> *Betreff:*?[R] Packages sometimes don't update, but no error or warning 
> is thrown
> 
> Those three references are about RStudio and Bioconductor (or at least
> they start out that way, I didn't read through the long threads).
> Neither of those is relevant here, but from my quick scan it appears the
> issue is that those systems detect a package in source form is
> available, then install an older binary instead.
> 
> If you have an example where update.packages() does this, that would be
> on topic on this list. Please post just that here: your calls, and all
> the output you received. In my experience update.packages() asks
> whether you want the source or binary install and respects your choice.
> 
> Duncan Murdoch
> 
> On 13/02/2024 3:59 a.m., gernophil--- via R-help wrote:
>  > Hey everyone,
>  >
>  > this question is related to this 
> (https://community.rstudio.com/t/packages-are-not-updating/166214/3 
> <https://community.rstudio.com/t/packages-are-not-updating/166214/3>), 
> this (https://www.biostars.org/p/9586316/#9586323 
> <https://www.biostars.org/p/9586316/#9586323>) and this 
> (https://support.bioconductor.org/p/9156283/#9156308 
> <https://support.bioconductor.org/p/9156283/#9156308>). The two latter 
> ones are pots from myself.
>  >
>  > To sum it up: If I am updating packages (be it via Bioconductor or 
> CRAN) some packages simply don?t update, but they also don?t throw any 
> warning or error that they have not been updated. The reason behind this 
> is most likely that there is an update, but it?s not yet available as a 
> binary ? in my case as a "mac.binary.big-sur-arm64", since I am on Apple 
> Silicon. My pkgType is set to "both" (default), but my .Platform$pkgType 
> is "mac.binary.big-sur-arm64" (also default).
>  >
>  > If the system shows an update is available and I click update (or 
> update via install.packages()), but the package will not be updated, I 
> would expect any kind of message that the package will not be updated, 
> since no newer binary is available or a prompt, if I want to compile 
> from source. However, the only message I get is:
>  > ```
>  > trying URL '<url_to_package>'
>  > Content type 'application/x-gzip' length XXXXXXX bytes (X.X MB)
>  > ==================================================
>  > downloaded X.X MB
>  >
>  >
>  > The downloaded binary packages are in
>  > ??????????????? /var/folders/ws/XXX/T//YYY/downloaded_packages
>  > ```
>  > To see, if the package was actually updated, I have to check for 
> updates again (or check the version of the installed package). Is this 
> the expected behavior and if so, why? (Also, why is there a double slash 
> in the path to the downloaded packages?)
>  >
>  > Thanks for your help.
>  >
>  > Best,
>  > Philipp
>  >
>  > ______________________________________________
>  > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>  > https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
>  > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
>  > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Tue Feb 13 16:29:10 2024
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leo Mada)
Date: Tue, 13 Feb 2024 15:29:10 +0000
Subject: [R] Skip jumps in curve
Message-ID: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>

Dear R-Users,

Is there a way to skip over without plotting the jumps/discontinuities in curve()?

I have not seen such an option, but maybe I am missing something.

plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n = 1000) {
   curve(gamma(x), from = xlim[1], to = xlim[2], ylim=ylim, n=n);
   if( ! is.null(hline)) abline(h = hline, col = "green");
}

Euler = 0.57721566490153286060651209008240243079;
plot.gamma(hline = Euler)

Adding an option to the function curve may be useful:
options = c("warn", "silent", "unconnected")

This is part of some experiments in math; but that's another topic. For latest version:
https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R

Sincerely,

Leonard


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Feb 13 17:05:47 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 13 Feb 2024 11:05:47 -0500
Subject: [R] Skip jumps in curve
In-Reply-To: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>
References: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>
Message-ID: <ee12deaf-cc74-4c98-b240-1e6fc166cebc@gmail.com>

On 13/02/2024 10:29 a.m., Leo Mada via R-help wrote:
> Dear R-Users,
> 
> Is there a way to skip over without plotting the jumps/discontinuities in curve()?
> 
> I have not seen such an option, but maybe I am missing something.
> 
> plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n = 1000) {
>     curve(gamma(x), from = xlim[1], to = xlim[2], ylim=ylim, n=n);
>     if( ! is.null(hline)) abline(h = hline, col = "green");
> }
> 
> Euler = 0.57721566490153286060651209008240243079;
> plot.gamma(hline = Euler)
> 
> Adding an option to the function curve may be useful:
> options = c("warn", "silent", "unconnected")
> 
> This is part of some experiments in math; but that's another topic. For latest version:
> https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R

If you know where the discontinuities are, plot multiple times with the 
discontinuities as endpoints:

plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n 
= 1000) {
   start <- floor(xlim[1]):floor(xlim[2])
   end <- start + 1

   start[1] <- xlim[1]
   end[length(end)] <- xlim[2]

   n <- round(n/length(start))

   curve(gamma(x), from = start[1], to = end[1], ylim=ylim, n=n, xlim = 
xlim)
   for (i in seq_along(start)[-1])
     curve(gamma(x), from = start[i], to = end[i], add = TRUE, n)
   if( ! is.null(hline)) abline(h = hline, col = "green");
}

Euler = 0.57721566490153286060651209008240243079;
plot.gamma(hline = Euler)

If you don't know where the discontinuities are, it would be much 
harder, because discontinuities can be hard to detect unless the jumps 
are really big.

Duncan Murdoch


From |eo@m@d@ @end|ng |rom @yon|c@eu  Tue Feb 13 19:44:20 2024
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leo Mada)
Date: Tue, 13 Feb 2024 18:44:20 +0000
Subject: [R] Skip jumps in curve
In-Reply-To: <ee12deaf-cc74-4c98-b240-1e6fc166cebc@gmail.com>
References: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>
 <ee12deaf-cc74-4c98-b240-1e6fc166cebc@gmail.com>
Message-ID: <VI1P192MB009569F845A43F604D1BD5FE844F2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>

Dear Duncan,

Thank you very much for the response. I suspected that such an option has not been implemented yet.

The plot was very cluttered due to those vertical lines. Fortunately, the gamma function is easy to handle. But the feature remains on my wishlist as useful more in general.

Sincerely,

Leonard

________________________________
From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Tuesday, February 13, 2024 6:05 PM
To: Leo Mada <leo.mada at syonic.eu>; r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Skip jumps in curve

On 13/02/2024 10:29 a.m., Leo Mada via R-help wrote:
> Dear R-Users,
>
> Is there a way to skip over without plotting the jumps/discontinuities in curve()?
>
> I have not seen such an option, but maybe I am missing something.
>
> plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n = 1000) {
>     curve(gamma(x), from = xlim[1], to = xlim[2], ylim=ylim, n=n);
>     if( ! is.null(hline)) abline(h = hline, col = "green");
> }
>
> Euler = 0.57721566490153286060651209008240243079;
> plot.gamma(hline = Euler)
>
> Adding an option to the function curve may be useful:
> options = c("warn", "silent", "unconnected")
>
> This is part of some experiments in math; but that's another topic. For latest version:
> https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R

If you know where the discontinuities are, plot multiple times with the
discontinuities as endpoints:

plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n
= 1000) {
   start <- floor(xlim[1]):floor(xlim[2])
   end <- start + 1

   start[1] <- xlim[1]
   end[length(end)] <- xlim[2]

   n <- round(n/length(start))

   curve(gamma(x), from = start[1], to = end[1], ylim=ylim, n=n, xlim =
xlim)
   for (i in seq_along(start)[-1])
     curve(gamma(x), from = start[i], to = end[i], add = TRUE, n)
   if( ! is.null(hline)) abline(h = hline, col = "green");
}

Euler = 0.57721566490153286060651209008240243079;
plot.gamma(hline = Euler)

If you don't know where the discontinuities are, it would be much
harder, because discontinuities can be hard to detect unless the jumps
are really big.

Duncan Murdoch



	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Feb 13 19:49:31 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 13 Feb 2024 13:49:31 -0500
Subject: [R] Skip jumps in curve
In-Reply-To: <VI1P192MB009569F845A43F604D1BD5FE844F2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>
References: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>
 <ee12deaf-cc74-4c98-b240-1e6fc166cebc@gmail.com>
 <VI1P192MB009569F845A43F604D1BD5FE844F2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>
Message-ID: <1fcc5d21-77e2-41f3-8da1-afd0e8ab304b@gmail.com>

It should be pretty easy to generalize my version of the `plot.gamma()` 
function to a version of `curve()` with an extra `discontinuities` argument.

Duncan Murdoch

On 13/02/2024 1:44 p.m., Leo Mada wrote:
> Dear Duncan,
> 
> Thank you very much for the response. I suspected that such an option 
> has not been implemented yet.
> 
> The plot was very cluttered due to those vertical lines. Fortunately, 
> the gamma function?is easy to handle. But the feature remains on my 
> wishlist as useful more in general.
> 
> Sincerely,
> 
> Leonard
> 
> ------------------------------------------------------------------------
> *From:* Duncan Murdoch <murdoch.duncan at gmail.com>
> *Sent:* Tuesday, February 13, 2024 6:05 PM
> *To:* Leo Mada <leo.mada at syonic.eu>; r-help at r-project.org 
> <r-help at r-project.org>
> *Subject:* Re: [R] Skip jumps in curve
> On 13/02/2024 10:29 a.m., Leo Mada via R-help wrote:
>> Dear R-Users,
>> 
>> Is there a way to skip over without plotting the jumps/discontinuities in curve()?
>> 
>> I have not seen such an option, but maybe I am missing something.
>> 
>> plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n = 1000) {
>>???? curve(gamma(x), from = xlim[1], to = xlim[2], ylim=ylim, n=n);
>>???? if( ! is.null(hline)) abline(h = hline, col = "green");
>> }
>> 
>> Euler = 0.57721566490153286060651209008240243079;
>> plot.gamma(hline = Euler)
>> 
>> Adding an option to the function curve may be useful:
>> options = c("warn", "silent", "unconnected")
>> 
>> This is part of some experiments in math; but that's another topic. For latest version:
>> https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R 
> <https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R>
> 
> If you know where the discontinuities are, plot multiple times with the
> discontinuities as endpoints:
> 
> plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n
> = 1000) {
>  ?? start <- floor(xlim[1]):floor(xlim[2])
>  ?? end <- start + 1
> 
>  ?? start[1] <- xlim[1]
>  ?? end[length(end)] <- xlim[2]
> 
>  ?? n <- round(n/length(start))
> 
>  ?? curve(gamma(x), from = start[1], to = end[1], ylim=ylim, n=n, xlim =
> xlim)
>  ?? for (i in seq_along(start)[-1])
>  ???? curve(gamma(x), from = start[i], to = end[i], add = TRUE, n)
>  ?? if( ! is.null(hline)) abline(h = hline, col = "green");
> }
> 
> Euler = 0.57721566490153286060651209008240243079;
> plot.gamma(hline = Euler)
> 
> If you don't know where the discontinuities are, it would be much
> harder, because discontinuities can be hard to detect unless the jumps
> are really big.
> 
> Duncan Murdoch
> 
>


From w||||@mwdun|@p @end|ng |rom gm@||@com  Tue Feb 13 22:54:23 2024
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Tue, 13 Feb 2024 13:54:23 -0800
Subject: [R] Skip jumps in curve
In-Reply-To: <1fcc5d21-77e2-41f3-8da1-afd0e8ab304b@gmail.com>
References: <AM5P192MB00825BB890639BC5C560F5FC844F2@AM5P192MB0082.EURP192.PROD.OUTLOOK.COM>
 <ee12deaf-cc74-4c98-b240-1e6fc166cebc@gmail.com>
 <VI1P192MB009569F845A43F604D1BD5FE844F2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>
 <1fcc5d21-77e2-41f3-8da1-afd0e8ab304b@gmail.com>
Message-ID: <CAHqSRuQg0aRoweUehnZ6nQCL2aZXYNGTjZ797eNp9b=L0e_sKA@mail.gmail.com>

Here is the skeleton of a function that lets you supply a function that
will be applied to diff(y) to say if this next point should be connected by
a line to the previous point.

p <- function (x, y = NULL, dy = diff(y), predicate = function(dy)
abs(dy)>2, ...,
  xlab = if (!missing(x)) deparse1(substitute(x)),
  ylab = if (!missing(y)) deparse1(substitute(y)), log = "", type="l")
{
  force(xlab)
  force(ylab)
  xy <- xy.coords(x, y, xlab, ylab, log)
  x <- xy$x
  y <- xy$y
  group <- cumsum( c(TRUE, !is.finite(dy) | predicate(dy)))
  plot(x, y, xlab=xy$xlab, ylab=xy$ylab, log=log, ..., type="n")
  sx <- split(x, group)
  sy <- split(y, group)
  lapply(seq_len(max(group)), function(i)points(type=type, sx[[i]],
sy[[i]]))
  invisible()
}


E.g., plot the tangent function where we know that the discontinuities are
where diff(y) is negative:

par(mfrow=c(2,1))
plot(tan(seq(0,10,by=1/4)), type="b")
p(tan(seq(0,10,by=1/4)), predicate = function(dy)dy<0, type="b")

-Bill

On Tue, Feb 13, 2024 at 10:54?AM Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> It should be pretty easy to generalize my version of the `plot.gamma()`
> function to a version of `curve()` with an extra `discontinuities`
> argument.
>
> Duncan Murdoch
>
> On 13/02/2024 1:44 p.m., Leo Mada wrote:
> > Dear Duncan,
> >
> > Thank you very much for the response. I suspected that such an option
> > has not been implemented yet.
> >
> > The plot was very cluttered due to those vertical lines. Fortunately,
> > the gamma function is easy to handle. But the feature remains on my
> > wishlist as useful more in general.
> >
> > Sincerely,
> >
> > Leonard
> >
> > ------------------------------------------------------------------------
> > *From:* Duncan Murdoch <murdoch.duncan at gmail.com>
> > *Sent:* Tuesday, February 13, 2024 6:05 PM
> > *To:* Leo Mada <leo.mada at syonic.eu>; r-help at r-project.org
> > <r-help at r-project.org>
> > *Subject:* Re: [R] Skip jumps in curve
> > On 13/02/2024 10:29 a.m., Leo Mada via R-help wrote:
> >> Dear R-Users,
> >>
> >> Is there a way to skip over without plotting the jumps/discontinuities
> in curve()?
> >>
> >> I have not seen such an option, but maybe I am missing something.
> >>
> >> plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n
> = 1000) {
> >>     curve(gamma(x), from = xlim[1], to = xlim[2], ylim=ylim, n=n);
> >>     if( ! is.null(hline)) abline(h = hline, col = "green");
> >> }
> >>
> >> Euler = 0.57721566490153286060651209008240243079;
> >> plot.gamma(hline = Euler)
> >>
> >> Adding an option to the function curve may be useful:
> >> options = c("warn", "silent", "unconnected")
> >>
> >> This is part of some experiments in math; but that's another topic. For
> latest version:
> >> https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R
> > <https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R>
> >
> > If you know where the discontinuities are, plot multiple times with the
> > discontinuities as endpoints:
> >
> > plot.gamma = function(xlim = c(-6, -1), ylim = c(-1,3), hline = NULL, n
> > = 1000) {
> >     start <- floor(xlim[1]):floor(xlim[2])
> >     end <- start + 1
> >
> >     start[1] <- xlim[1]
> >     end[length(end)] <- xlim[2]
> >
> >     n <- round(n/length(start))
> >
> >     curve(gamma(x), from = start[1], to = end[1], ylim=ylim, n=n, xlim =
> > xlim)
> >     for (i in seq_along(start)[-1])
> >       curve(gamma(x), from = start[i], to = end[i], add = TRUE, n)
> >     if( ! is.null(hline)) abline(h = hline, col = "green");
> > }
> >
> > Euler = 0.57721566490153286060651209008240243079;
> > plot.gamma(hline = Euler)
> >
> > If you don't know where the discontinuities are, it would be much
> > harder, because discontinuities can be hard to detect unless the jumps
> > are really big.
> >
> > Duncan Murdoch
> >
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Feb 14 02:16:11 2024
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leo Mada)
Date: Wed, 14 Feb 2024 01:16:11 +0000
Subject: [R] Optimal use of optim?
Message-ID: <VI1P192MB0095CC74932B18D9846F8603844E2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>

Dear R-Users,

I am interested in the optimal strategy for optim:

Q: How to formulate the optimization problem?
Q1: Are there benefits for abs(f(x)) vs (f(x))^2?
Q2: Are there any limitations for using abs(...)?

Regarding point 1: my feeling is that the gradients should be more robust with the abs(...) method; but I did not test it.

Regarding point 2: Obviously, abs(f(x)) is not differentiable. This is a limitation from a mathematical point of view, but the gradient should be still computable using a finite difference method. Are there any other limitations?

The question is based on the following example:
solving gamma(x) = y for some given y.

Function multiroot in package rootSolve fails when y < 1. The version using optim fares much better. However, I had to tweak somewhat the parameters in order to get a higher precision. This made me curious about the optimal strategy; unfortunately, I do not have much experience with optimizations.

The example is also available on GitHub:
https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R

Sincerely,

Leonard

### Example:
gamma.invN = function(x, x0, lim, ...,
????????????ndeps = 1E-5, rtol = 1E-9, gtol = 0.0001, digits = 10) {
??????v = x;
??????if(length(lim) == 1) lim = c(lim - 1 + gtol, lim - gtol);
??????cntr = c(list(...), ndeps = ndeps, pgtol = rtol);
??????# abs(): should provide greater precision than ()^2 when computing the gradients;
??????# param ndeps: needed to improve accuracy;
??????r = optim(x0, \(x) { abs(gamma(x) - v); }, lower = lim[1], upper =lim[2],
????????????method = "L-BFGS-B", control = cntr);
??????if( ! is.null(digits)) print(r$par, digits);
??????return(r$par);
}

### Example
Euler   = 0.57721566490153286060651209008240243079;
x = gamma.invN(Euler, -3.5, lim = -3)
gamma(x) - Euler
x = gamma.invN(Euler, -3.9, lim = -3)
gamma(x) - Euler


	[[alternative HTML version deleted]]


From pro|jcn@@h @end|ng |rom gm@||@com  Wed Feb 14 02:40:46 2024
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Tue, 13 Feb 2024 17:40:46 -0800
Subject: [R] Optimal use of optim?
In-Reply-To: <VI1P192MB0095CC74932B18D9846F8603844E2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>
References: <VI1P192MB0095CC74932B18D9846F8603844E2@VI1P192MB0095.EURP192.PROD.OUTLOOK.COM>
Message-ID: <ba506c2b-37a6-4fb9-9803-2fc21e5c71fb@gmail.com>

This won't answer the questions, but will point out that I wrote the Nelder-Mead,
BFGS (I call it Variable Metric) and CG methods in BASIC in 1974. They were re-coded
many times and then incorporated in R around 1995 as I recall (Brian Ripley did the
incorporation). There are some great 50 year old cars, but ....

Might want to look at some of the more recent evolutions of the codes (all in R)
in optimx. Note that not all the optimx methods are "good". Many are present to
allow for comparison. Rvmmin and Rcgmin have proved quite reliable; if rarely
the winners in all cases, they tend to come in close to the front. Both do, however,
need gradients. Note that derivative of abs(x) can be defined as 0 at x=0 (even
if that offends purists). If you must use numerical derivatives, avoid forward or
backward approximations in favour of central or better ones.

JN


On 2024-02-13 17:16, Leo Mada via R-help wrote:
> Dear R-Users,
> 
> I am interested in the optimal strategy for optim:
> 
> Q: How to formulate the optimization problem?
> Q1: Are there benefits for abs(f(x)) vs (f(x))^2?
> Q2: Are there any limitations for using abs(...)?
> 
> Regarding point 1: my feeling is that the gradients should be more robust with the abs(...) method; but I did not test it.
> 
> Regarding point 2: Obviously, abs(f(x)) is not differentiable. This is a limitation from a mathematical point of view, but the gradient should be still computable using a finite difference method. Are there any other limitations?
> 
> The question is based on the following example:
> solving gamma(x) = y for some given y.
> 
> Function multiroot in package rootSolve fails when y < 1. The version using optim fares much better. However, I had to tweak somewhat the parameters in order to get a higher precision. This made me curious about the optimal strategy; unfortunately, I do not have much experience with optimizations.
> 
> The example is also available on GitHub:
> https://github.com/discoleo/R/blob/master/Math/Integrals.Gamma.Inv.R
> 
> Sincerely,
> 
> Leonard
> 
> ### Example:
> gamma.invN = function(x, x0, lim, ...,
> ????????????ndeps = 1E-5, rtol = 1E-9, gtol = 0.0001, digits = 10) {
> ??????v = x;
> ??????if(length(lim) == 1) lim = c(lim - 1 + gtol, lim - gtol);
> ??????cntr = c(list(...), ndeps = ndeps, pgtol = rtol);
> ??????# abs(): should provide greater precision than ()^2 when computing the gradients;
> ??????# param ndeps: needed to improve accuracy;
> ??????r = optim(x0, \(x) { abs(gamma(x) - v); }, lower = lim[1], upper =lim[2],
> ????????????method = "L-BFGS-B", control = cntr);
> ??????if( ! is.null(digits)) print(r$par, digits);
> ??????return(r$par);
> }
> 
> ### Example
> Euler   = 0.57721566490153286060651209008240243079;
> x = gamma.invN(Euler, -3.5, lim = -3)
> gamma(x) - Euler
> x = gamma.invN(Euler, -3.9, lim = -3)
> gamma(x) - Euler
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From berw|n@tur|@ch @end|ng |rom gm@||@com  Wed Feb 14 04:47:41 2024
From: berw|n@tur|@ch @end|ng |rom gm@||@com (Berwin A Turlach)
Date: Wed, 14 Feb 2024 11:47:41 +0800
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
Message-ID: <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>

G'day Philipp,

On Tue, 13 Feb 2024 09:59:17 +0100
gernophil--- via R-help <r-help at r-project.org> wrote:

> this question is related to this
> (https://community.rstudio.com/t/packages-are-not-updating/166214/3),
> [...]

> To sum it up: If I am updating packages (be it via Bioconductor or
> CRAN) some packages simply don?t update, [...]

> I would expect any kind of message that the package will not be
> updated, since no newer binary is available or a prompt, if I want to
> compile from source. 

RStudio is doing its own thing for some task, including
'install.packages()' (and for some reasons, at least on the platforms
on which I use RStudio, RStudio calls 'install.packages()' and not
'update.packages()' when an update is requested via the GUI). See:

RStudio> install.packages
function (...) 
.rs.callAs(name, hook, original, ...)
<environment: 0x55bab9293998>

compared to:

R> install.packages
function (pkgs, lib, repos = getOption("repos"), contriburl =
    contrib.url(repos, type), method, available = NULL, destdir = NULL,
    dependencies = NA, type = getOption("pkgType"), configure.args =
    getOption("configure.args"), configure.vars =
    getOption("configure.vars"), clean = FALSE, Ncpus =
    getOption("Ncpus", 1L), verbose = getOption("verbose"), libs_only =
    FALSE, INSTALL_opts, quiet = FALSE, keep_outputs = FALSE, ...) 
{
[...]

So if you use Install/Update in the Packages tab of RStudio and do not
experience the behaviour you are expecting, it is something that you
need to discuss with Posit, not with R. :)

> However, the only message I get is: 
> ``` 
> trying URL '<url_to_package>' 

The package name has the version number encoded in it, so theoretical
you should be able to tell at this point whether the package that is
downloaded is the version that is already installed, hence no update
will happen.

Best wishes,

	Berwin


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Wed Feb 14 11:50:53 2024
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Wed, 14 Feb 2024 11:50:53 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
Message-ID: <26060.39693.24783.516514@stat.math.ethz.ch>

>>>>> Berwin A Turlach 
>>>>>     on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>> Berwin A Turlach 
>>>>>     on Wed, 14 Feb 2024 11:47:41 +0800 writes:

    > G'day Philipp,

    > On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
    > <r-help at r-project.org> wrote:

    >> this question is related to this
    >> (https://community.rstudio.com/t/packages-are-not-updating/166214/3),
    >> [...]

    >> To sum it up: If I am updating packages (be it via
    >> Bioconductor or CRAN) some packages simply don?t update,
    >> [...]

    >> I would expect any kind of message that the package will
    >> not be updated, since no newer binary is available or a
    >> prompt, if I want to compile from source.

    > RStudio is doing its own thing for some task, including
    > 'install.packages()' (and for some reasons, at least on
    > the platforms on which I use RStudio, RStudio calls
    > 'install.packages()' and not 'update.packages()' when an
    > update is requested via the GUI). See:

    RStudio> install.packages
    > function (...)  .rs.callAs(name, hook, original, ...)
    > <environment: 0x55bab9293998>

    > compared to:

    R> install.packages
    > function (pkgs, lib, repos = getOption("repos"),
    > contriburl = contrib.url(repos, type), method, available =
    > NULL, destdir = NULL, dependencies = NA, type =
    > getOption("pkgType"), configure.args =
    > getOption("configure.args"), configure.vars =
    > getOption("configure.vars"), clean = FALSE, Ncpus =
    > getOption("Ncpus", 1L), verbose = getOption("verbose"),
    > libs_only = FALSE, INSTALL_opts, quiet = FALSE,
    > keep_outputs = FALSE, ...)  { [...]


    > So if you use Install/Update in the Packages tab of
    > RStudio and do not experience the behaviour you are
    > expecting, it is something that you need to discuss with
    > Posit, not with R. :)

    >> However, the only message I get is: ``` trying URL
    >> '<url_to_package>'

    > The package name has the version number encoded in it, so
    > theoretical you should be able to tell at this point
    > whether the package that is downloaded is the version that
    > is already installed, hence no update will happen.

    > Best wishes,

    > 	Berwin


Yes, thank's a lot, Berwin.

Indeed I've raised the fact that RStudio
hides R's own install.packages() from the user  and uses its
own, undocumented one ... this has been the case for quite a few years.
I found out during teaching --- one of the few times, I use
RStudio to use R... in another case where RStudio's
install.packages() behaved differently than R's.

I'm pretty sure this is reason for quite a bit of confusion...

Martin


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Feb 14 18:38:49 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 14 Feb 2024 17:38:49 +0000
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <26060.39693.24783.516514@stat.math.ethz.ch>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
 <26060.39693.24783.516514@stat.math.ethz.ch>
Message-ID: <04793a54-497a-4cdc-8805-4a9459d2d05f@sapo.pt>

?s 10:50 de 14/02/2024, Martin Maechler escreveu:
>>>>>> Berwin A Turlach
>>>>>>      on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>>> Berwin A Turlach
>>>>>>      on Wed, 14 Feb 2024 11:47:41 +0800 writes:
> 
>      > G'day Philipp,
> 
>      > On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
>      > <r-help at r-project.org> wrote:
> 
>      >> this question is related to this
>      >> (https://community.rstudio.com/t/packages-are-not-updating/166214/3),
>      >> [...]
> 
>      >> To sum it up: If I am updating packages (be it via
>      >> Bioconductor or CRAN) some packages simply don?t update,
>      >> [...]
> 
>      >> I would expect any kind of message that the package will
>      >> not be updated, since no newer binary is available or a
>      >> prompt, if I want to compile from source.
> 
>      > RStudio is doing its own thing for some task, including
>      > 'install.packages()' (and for some reasons, at least on
>      > the platforms on which I use RStudio, RStudio calls
>      > 'install.packages()' and not 'update.packages()' when an
>      > update is requested via the GUI). See:
> 
>      RStudio> install.packages
>      > function (...)  .rs.callAs(name, hook, original, ...)
>      > <environment: 0x55bab9293998>
> 
>      > compared to:
> 
>      R> install.packages
>      > function (pkgs, lib, repos = getOption("repos"),
>      > contriburl = contrib.url(repos, type), method, available =
>      > NULL, destdir = NULL, dependencies = NA, type =
>      > getOption("pkgType"), configure.args =
>      > getOption("configure.args"), configure.vars =
>      > getOption("configure.vars"), clean = FALSE, Ncpus =
>      > getOption("Ncpus", 1L), verbose = getOption("verbose"),
>      > libs_only = FALSE, INSTALL_opts, quiet = FALSE,
>      > keep_outputs = FALSE, ...)  { [...]
> 
> 
>      > So if you use Install/Update in the Packages tab of
>      > RStudio and do not experience the behaviour you are
>      > expecting, it is something that you need to discuss with
>      > Posit, not with R. :)
> 
>      >> However, the only message I get is: ``` trying URL
>      >> '<url_to_package>'
> 
>      > The package name has the version number encoded in it, so
>      > theoretical you should be able to tell at this point
>      > whether the package that is downloaded is the version that
>      > is already installed, hence no update will happen.
> 
>      > Best wishes,
> 
>      > 	Berwin
> 
> 
> Yes, thank's a lot, Berwin.
> 
> Indeed I've raised the fact that RStudio
> hides R's own install.packages() from the user  and uses its
> own, undocumented one ... this has been the case for quite a few years.
> I found out during teaching --- one of the few times, I use
> RStudio to use R... in another case where RStudio's
> install.packages() behaved differently than R's.
> 
> I'm pretty sure this is reason for quite a bit of confusion...
> 
> Martin
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

 From within RStudio you can always run the qualified names

utils::install.packages()
utils::update.packages()

or run from the command line.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From pd@|gd @end|ng |rom gm@||@com  Wed Feb 14 18:41:23 2024
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 14 Feb 2024 18:41:23 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <26060.39693.24783.516514@stat.math.ethz.ch>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
 <26060.39693.24783.516514@stat.math.ethz.ch>
Message-ID: <A3B36397-05C0-4AC1-8838-16118B321FAF@gmail.com>

What Martin says...

Also, it might help to know that the original, base-R functions are still there, as

utils::install.packages()
utils::update.packages()

(+ most likely, a restart of RStudio to make it adapt to the packages that you installed behind its back.)

- Peter D.

> On 14 Feb 2024, at 11:50 , Martin Maechler <maechler at stat.math.ethz.ch> wrote:
> 
>>>>>> Berwin A Turlach 
>>>>>>    on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>>> Berwin A Turlach 
>>>>>>    on Wed, 14 Feb 2024 11:47:41 +0800 writes:
> 
>> G'day Philipp,
> 
>> On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
>> <r-help at r-project.org> wrote:
> 
>>> this question is related to this
>>> (https://community.rstudio.com/t/packages-are-not-updating/166214/3),
>>> [...]
> 
>>> To sum it up: If I am updating packages (be it via
>>> Bioconductor or CRAN) some packages simply don?t update,
>>> [...]
> 
>>> I would expect any kind of message that the package will
>>> not be updated, since no newer binary is available or a
>>> prompt, if I want to compile from source.
> 
>> RStudio is doing its own thing for some task, including
>> 'install.packages()' (and for some reasons, at least on
>> the platforms on which I use RStudio, RStudio calls
>> 'install.packages()' and not 'update.packages()' when an
>> update is requested via the GUI). See:
> 
>    RStudio> install.packages
>> function (...)  .rs.callAs(name, hook, original, ...)
>> <environment: 0x55bab9293998>
> 
>> compared to:
> 
>    R> install.packages
>> function (pkgs, lib, repos = getOption("repos"),
>> contriburl = contrib.url(repos, type), method, available =
>> NULL, destdir = NULL, dependencies = NA, type =
>> getOption("pkgType"), configure.args =
>> getOption("configure.args"), configure.vars =
>> getOption("configure.vars"), clean = FALSE, Ncpus =
>> getOption("Ncpus", 1L), verbose = getOption("verbose"),
>> libs_only = FALSE, INSTALL_opts, quiet = FALSE,
>> keep_outputs = FALSE, ...)  { [...]
> 
> 
>> So if you use Install/Update in the Packages tab of
>> RStudio and do not experience the behaviour you are
>> expecting, it is something that you need to discuss with
>> Posit, not with R. :)
> 
>>> However, the only message I get is: ``` trying URL
>>> '<url_to_package>'
> 
>> The package name has the version number encoded in it, so
>> theoretical you should be able to tell at this point
>> whether the package that is downloaded is the version that
>> is already installed, hence no update will happen.
> 
>> Best wishes,
> 
>> 	Berwin
> 
> 
> Yes, thank's a lot, Berwin.
> 
> Indeed I've raised the fact that RStudio
> hides R's own install.packages() from the user  and uses its
> own, undocumented one ... this has been the case for quite a few years.
> I found out during teaching --- one of the few times, I use
> RStudio to use R... in another case where RStudio's
> install.packages() behaved differently than R's.
> 
> I'm pretty sure this is reason for quite a bit of confusion...
> 
> Martin
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb 14 18:44:16 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 14 Feb 2024 12:44:16 -0500
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <26060.39693.24783.516514@stat.math.ethz.ch>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
 <26060.39693.24783.516514@stat.math.ethz.ch>
Message-ID: <72f2883d-209e-4d62-b395-28b0c8accc32@gmail.com>

On 14/02/2024 5:50 a.m., Martin Maechler wrote:
>>>>>> Berwin A Turlach
>>>>>>      on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>>> Berwin A Turlach
>>>>>>      on Wed, 14 Feb 2024 11:47:41 +0800 writes:
> 
>      > G'day Philipp,
> 
>      > On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
>      > <r-help at r-project.org> wrote:
> 
>      >> this question is related to this
>      >> (https://community.rstudio.com/t/packages-are-not-updating/166214/3),
>      >> [...]
> 
>      >> To sum it up: If I am updating packages (be it via
>      >> Bioconductor or CRAN) some packages simply don?t update,
>      >> [...]
> 
>      >> I would expect any kind of message that the package will
>      >> not be updated, since no newer binary is available or a
>      >> prompt, if I want to compile from source.
> 
>      > RStudio is doing its own thing for some task, including
>      > 'install.packages()' (and for some reasons, at least on
>      > the platforms on which I use RStudio, RStudio calls
>      > 'install.packages()' and not 'update.packages()' when an
>      > update is requested via the GUI). See:
> 
>      RStudio> install.packages
>      > function (...)  .rs.callAs(name, hook, original, ...)
>      > <environment: 0x55bab9293998>
> 
>      > compared to:
> 
>      R> install.packages
>      > function (pkgs, lib, repos = getOption("repos"),
>      > contriburl = contrib.url(repos, type), method, available =
>      > NULL, destdir = NULL, dependencies = NA, type =
>      > getOption("pkgType"), configure.args =
>      > getOption("configure.args"), configure.vars =
>      > getOption("configure.vars"), clean = FALSE, Ncpus =
>      > getOption("Ncpus", 1L), verbose = getOption("verbose"),
>      > libs_only = FALSE, INSTALL_opts, quiet = FALSE,
>      > keep_outputs = FALSE, ...)  { [...]
> 
> 
>      > So if you use Install/Update in the Packages tab of
>      > RStudio and do not experience the behaviour you are
>      > expecting, it is something that you need to discuss with
>      > Posit, not with R. :)
> 
>      >> However, the only message I get is: ``` trying URL
>      >> '<url_to_package>'
> 
>      > The package name has the version number encoded in it, so
>      > theoretical you should be able to tell at this point
>      > whether the package that is downloaded is the version that
>      > is already installed, hence no update will happen.
> 
>      > Best wishes,
> 
>      > 	Berwin
> 
> 
> Yes, thank's a lot, Berwin.
> 
> Indeed I've raised the fact that RStudio
> hides R's own install.packages() from the user  and uses its
> own, undocumented one ... this has been the case for quite a few years.
> I found out during teaching --- one of the few times, I use
> RStudio to use R... in another case where RStudio's
> install.packages() behaved differently than R's.
> 
> I'm pretty sure this is reason for quite a bit of confusion...

Did they ignore your bug report?

Duncan Murdoch


From z@ch@ry@benner @end|ng |rom m@|ne@edu  Thu Feb 15 18:23:08 2024
From: z@ch@ry@benner @end|ng |rom m@|ne@edu (Zachary Benner)
Date: Thu, 15 Feb 2024 12:23:08 -0500
Subject: [R] VPAT OR Accessibility Conformance Report Request
Message-ID: <CAAYDE5qWpU1mcuPqt5uT-+s6DeA+4Z=-UyF2D3OzjHiaoEJP1A@mail.gmail.com>

To Whom It May Concern,
My name is Zach Benner and I am the Accessibility (A.D.A.-Americans with
Disabilities Act) Coordinator here at University of Maine at Machias.  I am
reaching out on the behalf of our science professors here at UMM. The
professor is looking to utilize your software to implement within his
courses however, due to possible accessibility concerns our IT department
will not download the software onto school computers unless we have a copy
of a VPAT or Accessibility Conformance Information Report. I was wondering
if I could obtain this information to provide to the IT department?
Thank you for your time on this matter and I look forward to hearing from
you soon. Please let me know if you have any questions or concerns.
Sincerely,
Zach Benner
Accessibility Coordinator & Student Success Liaison
University of Maine Machias
Office: 229A  Torrey Hall
116 O'Brien Ave
Machias, ME, 04654
Office Number: 207-255-1228

Confidentiality Notice:  This e-mail and any attachments...{{dropped:12}}


From r@@@pdx @end|ng |rom gm@||@com  Fri Feb 16 12:24:25 2024
From: r@@@pdx @end|ng |rom gm@||@com (Richard Sherman)
Date: Fri, 16 Feb 2024 17:24:25 +0600
Subject: [R] VPAT OR Accessibility Conformance Report Request (Zachary
 Benner)
In-Reply-To: <mailman.370901.1.1708081202.25132.r-help@r-project.org>
References: <mailman.370901.1.1708081202.25132.r-help@r-project.org>
Message-ID: <2C687B96-0E89-4E23-A96A-580A6E40BF2D@gmail.com>

Dear Zachary,

People will rightly point you to:

this article: https://journal.r-project.org/archive/2013-1/godfrey.pdf

and this book chapter: https://r-resources.massey.ac.nz/BrailleRInAction/WorkingBlind.html

There is additional information elsewhere, for example here:

https://www.google.com/search?q=using+r+as+a+blind+person&oq=using+r+as+a+blind+person

though people with visual difficulties may not be your only concern.

"VPAT or Accessibility Conformance Information Report? is rather insider-ish and evidently American; you?re kind-of on your own there. R is not our software; it?s free open-source software.

-Richard
---
Richard Sherman
Associate Dean of Academic Affairs
Associate Professor of International Relations and Political Science
Director, Politics, Philosophy and Economics
Asian University for Women
https://asian-university.org/

> On Feb 16, 2024, at 5:00?PM, r-help-request at r-project.org wrote:
> 
> Send R-help mailing list submissions to
> r-help at r-project.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> https://stat.ethz.ch/mailman/listinfo/r-help
> or, via email, send a message with subject or body 'help' to
> r-help-request at r-project.org
> 
> You can reach the person managing the list at
> r-help-owner at r-project.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-help digest..."
> 
> 
> Today's Topics:
> 
>   1. VPAT OR Accessibility Conformance Report Request (Zachary Benner)
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Thu, 15 Feb 2024 12:23:08 -0500
> From: Zachary Benner <zachary.benner at maine.edu>
> To: r-help at r-project.org, r-devel at r-project.org
> Subject: [R] VPAT OR Accessibility Conformance Report Request
> Message-ID:
> <CAAYDE5qWpU1mcuPqt5uT-+s6DeA+4Z=-UyF2D3OzjHiaoEJP1A at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
> 
> To Whom It May Concern,
> My name is Zach Benner and I am the Accessibility (A.D.A.-Americans with
> Disabilities Act) Coordinator here at University of Maine at Machias.  I am
> reaching out on the behalf of our science professors here at UMM. The
> professor is looking to utilize your software to implement within his
> courses however, due to possible accessibility concerns our IT department
> will not download the software onto school computers unless we have a copy
> of a VPAT or Accessibility Conformance Information Report. I was wondering
> if I could obtain this information to provide to the IT department?
> Thank you for your time on this matter and I look forward to hearing from
> you soon. Please let me know if you have any questions or concerns.
> Sincerely,
> Zach Benner
> Accessibility Coordinator & Student Success Liaison
> University of Maine Machias
> Office: 229A  Torrey Hall
> 116 O'Brien Ave
> Machias, ME, 04654
> Office Number: 207-255-1228
> 
> Confidentiality Notice:  This e-mail and any attachments...{{dropped:12}}
> 
> 
> 
> 
> ------------------------------
> 
> Subject: Digest Footer
> 
> _______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> ------------------------------
> 
> End of R-help Digest, Vol 252, Issue 13
> ***************************************


From pd@me@ @end|ng |rom cb@@dk  Fri Feb 16 13:05:43 2024
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Fri, 16 Feb 2024 12:05:43 +0000
Subject: [R] [Rd] R 4.3.3 scheduled for February 29
Message-ID: <883B56B8-B61A-459C-B91B-33DB65AEB833@cbs.dk>

Full schedule available on developer.r-project.org in a short while.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Feb 16 18:01:58 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 16 Feb 2024 12:01:58 -0500
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-cf8df504-ced1-4ee4-9e11-07b32d3b2d58-1708101193179@3c-app-gmx-bs23>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
 <26060.39693.24783.516514@stat.math.ethz.ch>
 <72f2883d-209e-4d62-b395-28b0c8accc32@gmail.com>
 <trinity-cf8df504-ced1-4ee4-9e11-07b32d3b2d58-1708101193179@3c-app-gmx-bs23>
Message-ID: <c744b5fe-f311-4c6e-bbc1-f2d17782b00c@gmail.com>

The normal way to update packages is to use update.packages() rather 
than install.packages().  Likely the problem you're having is from using 
install.packages() (or RStudio using it). I normally use 
update.packages(ask=FALSE), but if you want to pick and choose, you 
could use the default which will prompt you for each one.

Duncan Murdoch

On 16/02/2024 11:33 a.m., Philipp Schneider wrote:
> Hey everyone,
> 
> Thanks for all the input. It's happening again. This time for the 
> packages "DBI", "parallelly", "segmented", "survival", "V8". So, RStudio 
> shows updates for those and updating them via RStudio leads to this output:
> 
> ```
>  > install.packages(c("DBI", "parallelly", "segmented", "survival", "V8"))
> trying URL 
> 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/DBI_1.2.0.tgz' <https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/DBI_1.2.0.tgz'>
> Content type 'application/x-gzip' length 822755 bytes (803 KB)
> ==================================================
> downloaded 803 KB
> 
> trying URL 
> 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz' <https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz'>
> Content type 'application/x-gzip' length 349831 bytes (341 KB)
> ==================================================
> downloaded 341 KB
> 
> trying URL 
> 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz' <https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz'>
> Content type 'application/x-gzip' length 1210146 bytes (1.2 MB)
> ==================================================
> downloaded 1.2 MB
> 
> trying URL 
> 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz' <https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz'>
> Content type 'application/x-gzip' length 7101721 bytes (6.8 MB)
> ==================================================
> downloaded 6.8 MB
> 
> trying URL 
> 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz' <https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz'>
> Content type 'application/x-gzip' length 10093069 bytes (9.6 MB)
> ==================================================
> downloaded 9.6 MB
> 
> 
> The downloaded binary packages are in
> /var/folders/ws/XXX/T//YYY/downloaded_packages
> ```
> 
> After that, all the packages are still updatable. No warning, no error, 
> but also no updated packages. utils::install.packages(c("DBI", 
> "parallelly", "segmented", "survival", "V8")) leads to the exact same 
> output. The only difference, if I run it directly from command-line is, 
> that I have to select a mirror. After that it's again the same output. 
> The DBI package for example is installed with version 1.2.0, which is 
> the latest available macOS arm64 binary. However, there is an update 
> available for other binaries or source. So, I guess in the end, it's not 
> the install.packages() that is failing, but the check for updates from 
> RStudio. On the other hand, shouldn't there be at least a warning that 
> there are new updates available, just no new binaries.
> 
> Best,
> Philipp
> 
> 
> 
> 
> 
> Gesendet:?Mittwoch, 14. Februar 2024 um 18:44 Uhr
> Von:?"Duncan Murdoch" <murdoch.duncan at gmail.com>
> An:?"Martin Maechler" <maechler at stat.math.ethz.ch>, "Berwin A Turlach" 
> <berwin.turlach at gmail.com>
> Cc:?"gernophil--- via R-help" <r-help at r-project.org>
> Betreff:?Re: [R] Packages sometimes don't update, but no error or 
> warning is thrown
> On 14/02/2024 5:50 a.m., Martin Maechler wrote:
>  >>>>>> Berwin A Turlach
>  >>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>  >>>>>> Berwin A Turlach
>  >>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>  >
>  > > G'day Philipp,
>  >
>  > > On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
>  > > <r-help at r-project.org> wrote:
>  >
>  > >> this question is related to this
>  > >> 
> (https://community.rstudio.com/t/packages-are-not-updating/166214/3 
> <https://community.rstudio.com/t/packages-are-not-updating/166214/3>),
>  > >> [...]
>  >
>  > >> To sum it up: If I am updating packages (be it via
>  > >> Bioconductor or CRAN) some packages simply don?t update,
>  > >> [...]
>  >
>  > >> I would expect any kind of message that the package will
>  > >> not be updated, since no newer binary is available or a
>  > >> prompt, if I want to compile from source.
>  >
>  > > RStudio is doing its own thing for some task, including
>  > > 'install.packages()' (and for some reasons, at least on
>  > > the platforms on which I use RStudio, RStudio calls
>  > > 'install.packages()' and not 'update.packages()' when an
>  > > update is requested via the GUI). See:
>  >
>  > RStudio> install.packages
>  > > function (...) .rs.callAs(name, hook, original, ...)
>  > > <environment: 0x55bab9293998>
>  >
>  > > compared to:
>  >
>  > R> install.packages
>  > > function (pkgs, lib, repos = getOption("repos"),
>  > > contriburl = contrib.url(repos, type), method, available =
>  > > NULL, destdir = NULL, dependencies = NA, type =
>  > > getOption("pkgType"), configure.args =
>  > > getOption("configure.args"), configure.vars =
>  > > getOption("configure.vars"), clean = FALSE, Ncpus =
>  > > getOption("Ncpus", 1L), verbose = getOption("verbose"),
>  > > libs_only = FALSE, INSTALL_opts, quiet = FALSE,
>  > > keep_outputs = FALSE, ...) { [...]
>  >
>  >
>  > > So if you use Install/Update in the Packages tab of
>  > > RStudio and do not experience the behaviour you are
>  > > expecting, it is something that you need to discuss with
>  > > Posit, not with R. :)
>  >
>  > >> However, the only message I get is: ``` trying URL
>  > >> '<url_to_package>'
>  >
>  > > The package name has the version number encoded in it, so
>  > > theoretical you should be able to tell at this point
>  > > whether the package that is downloaded is the version that
>  > > is already installed, hence no update will happen.
>  >
>  > > Best wishes,
>  >
>  > > Berwin
>  >
>  >
>  > Yes, thank's a lot, Berwin.
>  >
>  > Indeed I've raised the fact that RStudio
>  > hides R's own install.packages() from the user and uses its
>  > own, undocumented one ... this has been the case for quite a few years.
>  > I found out during teaching --- one of the few times, I use
>  > RStudio to use R... in another case where RStudio's
>  > install.packages() behaved differently than R's.
>  >
>  > I'm pretty sure this is reason for quite a bit of confusion...
> 
> Did they ignore your bug report?
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>[https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>]
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>[http://www.R-project.org/posting-guide.html <http://www.R-project.org/posting-guide.html>]
> and provide commented, minimal, self-contained, reproducible code.


From ger@ophii m@iii@g oii gmx@@et  Fri Feb 16 17:35:26 2024
From: ger@ophii m@iii@g oii gmx@@et (ger@ophii m@iii@g oii gmx@@et)
Date: Fri, 16 Feb 2024 17:35:26 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
Message-ID: <trinity-e9363815-1d02-4788-bad6-c8b436d687a3-1708101325968@3c-app-gmx-bap42>

Hey everyone,

Thanks for all the input. It's happening again. This time for the packages "DBI", "parallelly", "segmented", "survival", "V8". So, RStudio shows updates for those and updating them via RStudio leads to this output:
```
> install.packages(c("DBI", "parallelly", "segmented", "survival", "V8"))
trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/DBI_1.2.0.tgz'
Content type 'application/x-gzip' length 822755 bytes (803 KB)
==================================================
downloaded 803 KB

trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz']
Content type 'application/x-gzip' length 349831 bytes (341 KB)
==================================================
downloaded 341 KB

trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz']
Content type 'application/x-gzip' length 1210146 bytes (1.2 MB)
==================================================
downloaded 1.2 MB

trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz']
Content type 'application/x-gzip' length 7101721 bytes (6.8 MB)
==================================================
downloaded 6.8 MB

trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz']
Content type 'application/x-gzip' length 10093069 bytes (9.6 MB)
==================================================
downloaded 9.6 MB


The downloaded binary packages are in
/var/folders/ws/XXX/T//YYY/downloaded_packages
```

After that, all the packages are still updatable. No warning, no error, but also no updated packages. utils::install.packages(c("DBI", "parallelly", "segmented", "survival", "V8")) leads to the exact same output. The only difference, if I run it directly from command-line is, that I have to select a mirror. After that it's again the same output. The DBI package for example is installed with version 1.2.0, which is the latest available macOS arm64 binary. However, there is an update available for other binaries or source. So, I guess in the end, it's not the install.packages() that is failing, but the check for updates from RStudio. On the other hand, shouldn't there be at least a warning that there are new updates available, just no new binaries.

Best,
Philipp

?
?
?

Gesendet:?Mittwoch, 14. Februar 2024 um 18:44 Uhr
Von:?"Duncan Murdoch" <murdoch.duncan at gmail.com>
An:?"Martin Maechler" <maechler at stat.math.ethz.ch>, "Berwin A Turlach" <berwin.turlach at gmail.com>
Cc:?"gernophil--- via R-help" <r-help at r-project.org>
Betreff:?Re: [R] Packages sometimes don't update, but no error or warning is thrown
On 14/02/2024 5:50 a.m., Martin Maechler wrote:
>>>>>> Berwin A Turlach
>>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>>> Berwin A Turlach
>>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>
> > G'day Philipp,
>
> > On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
> > <r-help at r-project.org> wrote:
>
> >> this question is related to this
> >> (https://community.rstudio.com/t/packages-are-not-updating/166214/3[https://community.rstudio.com/t/packages-are-not-updating/166214/3]),
> >> [...]
>
> >> To sum it up: If I am updating packages (be it via
> >> Bioconductor or CRAN) some packages simply don?t update,
> >> [...]
>
> >> I would expect any kind of message that the package will
> >> not be updated, since no newer binary is available or a
> >> prompt, if I want to compile from source.
>
> > RStudio is doing its own thing for some task, including
> > 'install.packages()' (and for some reasons, at least on
> > the platforms on which I use RStudio, RStudio calls
> > 'install.packages()' and not 'update.packages()' when an
> > update is requested via the GUI). See:
>
> RStudio> install.packages
> > function (...) .rs.callAs(name, hook, original, ...)
> > <environment: 0x55bab9293998>
>
> > compared to:
>
> R> install.packages
> > function (pkgs, lib, repos = getOption("repos"),
> > contriburl = contrib.url(repos, type), method, available =
> > NULL, destdir = NULL, dependencies = NA, type =
> > getOption("pkgType"), configure.args =
> > getOption("configure.args"), configure.vars =
> > getOption("configure.vars"), clean = FALSE, Ncpus =
> > getOption("Ncpus", 1L), verbose = getOption("verbose"),
> > libs_only = FALSE, INSTALL_opts, quiet = FALSE,
> > keep_outputs = FALSE, ...) { [...]
>
>
> > So if you use Install/Update in the Packages tab of
> > RStudio and do not experience the behaviour you are
> > expecting, it is something that you need to discuss with
> > Posit, not with R. :)
>
> >> However, the only message I get is: ``` trying URL
> >> '<url_to_package>'
>
> > The package name has the version number encoded in it, so
> > theoretical you should be able to tell at this point
> > whether the package that is downloaded is the version that
> > is already installed, hence no update will happen.
>
> > Best wishes,
>
> > Berwin
>
>
> Yes, thank's a lot, Berwin.
>
> Indeed I've raised the fact that RStudio
> hides R's own install.packages() from the user and uses its
> own, undocumented one ... this has been the case for quite a few years.
> I found out during teaching --- one of the few times, I use
> RStudio to use R... in another case where RStudio's
> install.packages() behaved differently than R's.
>
> I'm pretty sure this is reason for quite a bit of confusion...

Did they ignore your bug report?

Duncan Murdoch

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help][https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]]
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html][http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]]
and provide commented, minimal, self-contained, reproducible code.


From berw|n@tur|@ch @end|ng |rom gm@||@com  Sun Feb 18 05:31:33 2024
From: berw|n@tur|@ch @end|ng |rom gm@||@com (Berwin A Turlach)
Date: Sun, 18 Feb 2024 12:31:33 +0800
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-cf8df504-ced1-4ee4-9e11-07b32d3b2d58-1708101193179@3c-app-gmx-bs23>
References: <trinity-0a48d5f6-d21d-472d-8b19-ff5b2ef80e6c-1707814757726@3c-app-gmx-bs39>
 <20240214114741.6c4ccc3a@dep59159.uniwa.uwa.edu.au>
 <26060.39693.24783.516514@stat.math.ethz.ch>
 <72f2883d-209e-4d62-b395-28b0c8accc32@gmail.com>
 <trinity-cf8df504-ced1-4ee4-9e11-07b32d3b2d58-1708101193179@3c-app-gmx-bs23>
Message-ID: <20240218123133.2c0f885c@absentia>

G'day Philipp,

On Fri, 16 Feb 2024 17:33:13 +0100
Philipp Schneider <philipp-schneider at gmx.net> wrote:

> Thanks for all the input. It's happening again. This time for the
> packages "DBI", "parallelly", "segmented", "survival", "V8". So,
> RStudio shows updates for those and updating them via RStudio leads
> to this output:

Perhaps, as Duncan suggested, you should use update.packages() instead
of install.packages(). 

Also, what happens if you try to do the update in R and not from
RStudio?  I.e. start R and say update.packages() in R?

What does the command 'getOption(pkgType)' output on your machine?  It
should be "both" for either binary or source package.  If it is
"mac.binary" you should investigate where that is set and why your
system is configured to install binary packages early.

Finally, you can always recall the command: 

> install.packages(c("DBI", "parallelly", "segmented", "survival", "V8"))

and modify it to:

> install.packages(c("DBI", "parallelly", "segmented", "survival", "V8"), type = "source")

This, of course, assumes that you have the tools installed to compile
source packages.

Best wishes,
	
	Berwin


From r@c@rtwr|ght @end|ng |rom gm@||@com  Sat Feb 17 19:15:43 2024
From: r@c@rtwr|ght @end|ng |rom gm@||@com (Reed A. Cartwright)
Date: Sat, 17 Feb 2024 11:15:43 -0700
Subject: [R] Capturing Function Arguments
Message-ID: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>

I'm wrapping a function in R and I want to record all the arguments
passed to it, including default values and missing values. I want to
be able to snoop on function calls in sourced scripts as part of a
unit testing framework.

I can capture the values fine, but I'm having trouble evaluating them
as if `force()` had been applied to each of them.

Here is a minimal example:

f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL

f <- function(...) {
  call <- rlang::call_match(fn = f0, defaults = TRUE)
  args <- rlang::call_args(call)
  # do something here to evaluate args as if force() had been called
  # I've tried many things but haven't found a solution that handled everything
  args
}

# In the below example args1 and args2 should be the same
a <- 1
args1 <- f(a, z = 1 + 100)

args2 <- list( a = 1, y = 202, z = 101, a = NULL, b = rlang::missing_arg() )

If anyone knows how to get this to work, I would appreciate the help.

Thanks,
Reed

--
Reed A. Cartwright, PhD
Associate Professor of Genomics, Evolution, and Bioinformatics
School of Life Sciences and The Biodesign Institute
Arizona State University
==================
Address: The Biodesign Institute, PO Box 876401, Tempe, AZ 85287-6401 USA
Packages: The Biodesign Institute, 1001 S. McAllister Ave, Tempe, AZ
85287-6401 USA
Office: Biodesign B-220C, 1-480-965-9949
Website: http://cartwrig.ht/


From |kw@|mmo @end|ng |rom gm@||@com  Sun Feb 18 11:59:03 2024
From: |kw@|mmo @end|ng |rom gm@||@com (Iris Simmons)
Date: Sun, 18 Feb 2024 05:59:03 -0500
Subject: [R] Capturing Function Arguments
In-Reply-To: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>
References: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>
Message-ID: <CADNULg_33+vuNjoSuGE51Xxrk3K_HW6d1Zw42qBGs0PG5yKdcA@mail.gmail.com>

Hi Reed,


I need to stress before giving my answer that no solution can handle
everything. These scenarios will always lead to problems:

* if any of the formal arguments rely on the current state of the call stack

* if any of the formal arguments rely on a variable that is only
defined later in the body of the function

That being said, this function does well to handle other scenarios:

```R
f <- function (...)
{
    ## replace f0 as needed
    wrapped_function <- f0
    call <- match.call(wrapped_function, expand.dots = FALSE)
    args <- as.list(call)[-1L]
    e <- new.env(parent = environment(wrapped_function))
    parent_frame <- parent.frame()
    formal_args <- formals(wrapped_function)
    for (sym in names(formal_args)) {
        ## if the formal argument is one of the provided arguments
        if (i <- match(sym, names(args), 0L)) {
            ## if the argument is missing, assign as is
            if (identical(args[[i]], quote(expr = )))
                e[[sym]] <- quote(expr = )
            ## if the argument is not ..., assign as a promise
            else if (sym != "...")
                eval(call("delayedAssign", quote(sym), args[[i]],
eval.env = quote(parent_frame), assign.env = quote(e)))
            else {
                ## handle ... separately
                ## create a variable corresponding to each dot argument,
                ## then capture them with get("...")
                dots <- args[[i]]
                for (i in seq_along(dots)) {
                    sym <- paste0("dd", i)
                    eval(call("delayedAssign", quote(sym), dots[[i]],
eval.env = quote(parent_frame)))
                    dots[[i]] <- as.symbol(sym)
                }
                e[["..."]] <- eval(as.call(c(function(...) get("..."), dots)))
            }
        }
        else {
            ## similar to above, but this time evaluate in e not parent_frame
            i <- match(sym, names(formal_args), 0L)
            if (identical(formal_args[[i]], quote(expr = )))
                e[[sym]] <- quote(expr = )
            else eval(call("delayedAssign", quote(sym),
formal_args[[i]], eval.env = quote(e), assign.env = quote(e)))
        }
    }
    ## you don't need to turn into a list, but you can
    args2 <- as.list(e, all.names = TRUE)
    list(call = call, args = args, args2 = args2, e = e)
    ## do whatever else you want to here
}
```

in the test scenario you described, it works:

```R
f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL
a <- 1
x <- f(a, z = 1 + 100)
x$args2
```

produces:

```
> f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL
> a <- 1
> x <- f(a, z = 1 + 100)
> x$args2
$x
[1] 1

$y
[1] 202

$z
[1] 101

$a
NULL

$b


>
```

Regards,
    Iris

On Sun, Feb 18, 2024 at 3:51?AM Reed A. Cartwright
<racartwright at gmail.com> wrote:
>
> I'm wrapping a function in R and I want to record all the arguments
> passed to it, including default values and missing values. I want to
> be able to snoop on function calls in sourced scripts as part of a
> unit testing framework.
>
> I can capture the values fine, but I'm having trouble evaluating them
> as if `force()` had been applied to each of them.
>
> Here is a minimal example:
>
> f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL
>
> f <- function(...) {
>   call <- rlang::call_match(fn = f0, defaults = TRUE)
>   args <- rlang::call_args(call)
>   # do something here to evaluate args as if force() had been called
>   # I've tried many things but haven't found a solution that handled everything
>   args
> }
>
> # In the below example args1 and args2 should be the same
> a <- 1
> args1 <- f(a, z = 1 + 100)
>
> args2 <- list( a = 1, y = 202, z = 101, a = NULL, b = rlang::missing_arg() )
>
> If anyone knows how to get this to work, I would appreciate the help.
>
> Thanks,
> Reed
>
> --
> Reed A. Cartwright, PhD
> Associate Professor of Genomics, Evolution, and Bioinformatics
> School of Life Sciences and The Biodesign Institute
> Arizona State University
> ==================
> Address: The Biodesign Institute, PO Box 876401, Tempe, AZ 85287-6401 USA
> Packages: The Biodesign Institute, 1001 S. McAllister Ave, Tempe, AZ
> 85287-6401 USA
> Office: Biodesign B-220C, 1-480-965-9949
> Website: http://cartwrig.ht/
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |kry|ov @end|ng |rom d|@root@org  Sun Feb 18 12:16:57 2024
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Sun, 18 Feb 2024 14:16:57 +0300
Subject: [R] Capturing Function Arguments
In-Reply-To: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>
References: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>
Message-ID: <20240218141657.36c7733e@Tarkus>

? Sat, 17 Feb 2024 11:15:43 -0700
"Reed A. Cartwright" <racartwright at gmail.com> ?????:

> I'm wrapping a function in R and I want to record all the arguments
> passed to it, including default values and missing values.

This is hard if not impossible to implement for the general case
because the default arguments are evaluated in the environment of the
function as it is running:

f0 <- function(arg = frobnicate()) {
 frobnicate <- switch(
  sample.int(3, 1),
  function() environment(),
  function(n=1) runif(n),
  function() alist(a=)$a
 )
 arg
}

(And some arguments aren't meant to be evaluated at all.)

Even starting with rlang::call_match(call = NULL, defaults = TRUE) is
doomed to a certain extent because it gives you f(x = a, a = NULL) for
both function(x, a = NULL), f(a) (where `a` passed as an argument `x`
and `a` should be taken from the parent frame) and function(x = a, a =
NULL), f() (in which case `x` defaults to `a`, which in turn defaults
to NULL).

I think the key here is evaluating the arguments first, then matching.
This makes a lot of assumptions about the function being inspected: no
NSE, no ellipsis, formals don't depend on the body, nothing weird about
the environment of the function...

f <- function(...) {
 .makemissing <- function() alist(a=)$a
 .ismissing <- function(x) identical(x, .makemissing())

 # prepare to evaluate formals
 params <- formals(f0)
 e <- new.env(parent = environment(f0))
 # assign non-missing formals
 for (n in names(params)) if (!.ismissing(params[[n]])) eval(
  # work around delayedAssign quoting its second argument
  call('delayedAssign', n, params[[n]], e, e)
 )

 # match the evaluated arguments against the names of the formals
 args <- as.list(match.call(f0, as.call(c('f0', list(...)))))[-1]
 for (n in names(args)) assign(n, args[[n]], envir = e)

 # evaluate everything, default argument or not
 mget(names(params), e, ifnotfound = list(.makemissing()))
}

f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL
a <- 1
identical(
 f(a, z = 1 + 100),
 list(x = 1, y = 202, z = 101, a = NULL, b = rlang::missing_arg())
)
# [1] TRUE

-- 
Best regards,
Ivan


From @tyen @end|ng |rom ntu@edu@tw  Mon Feb 19 04:27:44 2024
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Mon, 19 Feb 2024 11:27:44 +0800
Subject: [R] Looping
Message-ID: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>

I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is, 

data<-read.csv(?data1.csv?)
?
data<-read.csv(?data24.csv?)
?

Is there a way to do this in a loop? Thank you.

Steven from iPhone
	[[alternative HTML version deleted]]


From peter@|@ng|e|der @end|ng |rom gm@||@com  Mon Feb 19 04:55:59 2024
From: peter@|@ng|e|der @end|ng |rom gm@||@com (Peter Langfelder)
Date: Mon, 19 Feb 2024 11:55:59 +0800
Subject: [R] Looping
In-Reply-To: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
References: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
Message-ID: <CA+hbrhVJwOikHzmfbfx3j7E__EQtE8mKMuNE34Eii46G=orOcg@mail.gmail.com>

Try

for (ind in 1:24)
{
   data = read.csv(paste0("data", ind, ".csv"))
   ...
}


Peter

On Mon, Feb 19, 2024 at 11:33?AM Steven Yen <styen at ntu.edu.tw> wrote:
>
> I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is,
>
> data<-read.csv(?data1.csv?)
> ?
> data<-read.csv(?data24.csv?)
> ?
>
> Is there a way to do this in a loop? Thank you.
>
> Steven from iPhone
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @vi@e@gross m@iii@g oii gm@ii@com  Mon Feb 19 05:01:33 2024
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Sun, 18 Feb 2024 23:01:33 -0500
Subject: [R] Looping
In-Reply-To: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
References: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
Message-ID: <012701da62e8$54227510$fc675f30$@gmail.com>

Steven,

It depends what you want to do. What you are showing seems to replace the values stored in "data" each time.

Many kinds of loops will do that, with one simple way being to store all the filenames in a list and loop on the contents of the list as arguments to read.csv.

Since you show filenames as having a number from 1 to 24 in middle, you can make such a vector using paste().

A somewhat related question is if you want to concatenate all the data into one larger data.frame. 


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Steven Yen
Sent: Sunday, February 18, 2024 10:28 PM
To: R-help Mailing List <r-help at r-project.org>
Subject: [R] Looping

I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is, 

data<-read.csv(?data1.csv?)
?
data<-read.csv(?data24.csv?)
?

Is there a way to do this in a loop? Thank you.

Steven from iPhone
	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From r@oknz @end|ng |rom gm@||@com  Mon Feb 19 05:19:53 2024
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Mon, 19 Feb 2024 17:19:53 +1300
Subject: [R] Looping
In-Reply-To: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
References: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
Message-ID: <CABcYAdKvk=mo-vFHQT+sVhLRyCfSHrqx98TcbSoHZKoE10tiGw@mail.gmail.com>

f <- function (filename) {
  data<- read.csv(filename)
  ..
}
for (filename in paste0("data", 1:24, ".csv")) f(filename)

Depending on what exactly you have in your file system,

for (filename in system("ls data*.csv", TRUE)) f(filename)

might work.

On Mon, 19 Feb 2024 at 16:33, Steven Yen <styen at ntu.edu.tw> wrote:
>
> I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is,
>
> data<-read.csv(?data1.csv?)
> ?
> data<-read.csv(?data24.csv?)
> ?
>
> Is there a way to do this in a loop? Thank you.
>
> Steven from iPhone
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Feb 19 06:54:44 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 19 Feb 2024 05:54:44 +0000
Subject: [R] Looping
In-Reply-To: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
References: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
Message-ID: <197cab94-ba3c-4384-b0f7-84fa4bf13180@sapo.pt>

?s 03:27 de 19/02/2024, Steven Yen escreveu:
> I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is,
> 
> data<-read.csv(?data1.csv?)
> ?
> data<-read.csv(?data24.csv?)
> ?
> 
> Is there a way to do this in a loop? Thank you.
> 
> Steven from iPhone
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Here is a way of reading the files in a *apply loop. The file names are 
created by getting them from file (list.files) or by a string editing 
function (sprintf).


# file_names_vec <- list.files(pattern = "data\\d+\\.csv")
file_names_vec <- sprintf("data%d.csv", 1:24)
data_list <- sapply(file_names_vec, read.csv, simplify = FALSE)

# access the 1st data.frame
data_list[[1L]]
# same as above
data_list[["data1.csv"]]
# same as above
data_list$data1.csv


Hope this helps,

Rui Barradas



-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From m@rc_grt @end|ng |rom y@hoo@|r  Mon Feb 19 09:36:05 2024
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Mon, 19 Feb 2024 09:36:05 +0100
Subject: [R] Looping
In-Reply-To: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
References: <9837CD60-2F2B-459B-B031-C860CCA95FB7@ntu.edu.tw>
Message-ID: <2b523360-46bf-4220-af13-c3598e51da62@yahoo.fr>

In my package HelpersMG, I have included a function to read in one time 
all the files of a folder and they are stored in a list:

read_folder(
 ? folder = try(file.choose(), silent = TRUE),
 ? file = NULL,
 ? wildcard = "*.*",
 ? read = read.delim,
 ? ...
)

In your case, for example:

library("HelpersMG")
data_list <- read_folder(folder=".", file=paste0("data", 
as.character(1:24),".csv"), read=read.csv)
data_df <- ? do.call("rbind", data_list)

Marc

Le 19/02/2024 ? 04:27, Steven Yen a ?crit?:
> I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is,
>
> data<-read.csv(?data1.csv?)
> ?
> data<-read.csv(?data24.csv?)
> ?
>
> Is there a way to do this in a loop? Thank you.
>
> Steven from iPhone
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r@c@rtwr|ght @end|ng |rom gm@||@com  Mon Feb 19 02:55:28 2024
From: r@c@rtwr|ght @end|ng |rom gm@||@com (Reed A. Cartwright)
Date: Sun, 18 Feb 2024 18:55:28 -0700
Subject: [R] Capturing Function Arguments
In-Reply-To: <20240218141657.36c7733e@Tarkus>
References: <CALOkxuyq6-Ka70A5obg-OY-choUEC4s69aLKgEXEbFiodEL2qw@mail.gmail.com>
 <20240218141657.36c7733e@Tarkus>
Message-ID: <CALOkxuxAowSdkjb1KQ5=kctn_oSe8VCCB8P80EhyYm=F2YtxDw@mail.gmail.com>

Thanks Ivan and Iris for your solutions, I'll look over them.

The solution that I came up with last night involves creating a
function that has the same formals signature as the wrapped function
and relying on `environment()` and `list(...)` to return a function's
variables at the beginning of the call. Since some default variables
can't be successfully created at the beginning of the function, I
manually clean up the formals as needed so that
`as.list(environment())` won't fail. I'm thinking about returning a
copy of the environment instead of a list to avoid having to clean up
the formals, as I can selectively ignore problematic arguments later
instead of modifying the signature ahead of time.

Thanks again for the suggestions,
Reed

```
capture <- function(fun, env = parent.frame()) {
    fun_name <- deparse(substitute(fun))
    # extract formal arguments and append ... if needed
    fmls <- formals(fun)
    if(! "..." %in% names(fmls)) {
        fmls <- c(fmls, alist("..." = ))
    }

    # construct wrapped function
    f <- function() TRUE
    formals(f) <- fmls
    body(f) <- bquote({
        args <- as.list(environment())
        args <- c(args, list(...))
        mc <- match.call()
        mc[[1L]] <- quote(.(substitute(fun)))
        res <- eval.parent(mc)
        out <- list(fun = .(fun_name),
            args = args,
            result = res
        )
        invisible(structure(out, class="function_call"))
    })
    environment(f) <- env
    return(f)
}

# example usage
hist <- capture(graphics::hist.default)
formals(hist) <- c(formals(hist), list(xname = NA_character_))
```

On Sun, Feb 18, 2024 at 4:17?AM Ivan Krylov <ikrylov at disroot.org> wrote:
>
> ? Sat, 17 Feb 2024 11:15:43 -0700
> "Reed A. Cartwright" <racartwright at gmail.com> ?????:
>
> > I'm wrapping a function in R and I want to record all the arguments
> > passed to it, including default values and missing values.
>
> This is hard if not impossible to implement for the general case
> because the default arguments are evaluated in the environment of the
> function as it is running:
>
> f0 <- function(arg = frobnicate()) {
>  frobnicate <- switch(
>   sample.int(3, 1),
>   function() environment(),
>   function(n=1) runif(n),
>   function() alist(a=)$a
>  )
>  arg
> }
>
> (And some arguments aren't meant to be evaluated at all.)
>
> Even starting with rlang::call_match(call = NULL, defaults = TRUE) is
> doomed to a certain extent because it gives you f(x = a, a = NULL) for
> both function(x, a = NULL), f(a) (where `a` passed as an argument `x`
> and `a` should be taken from the parent frame) and function(x = a, a =
> NULL), f() (in which case `x` defaults to `a`, which in turn defaults
> to NULL).
>
> I think the key here is evaluating the arguments first, then matching.
> This makes a lot of assumptions about the function being inspected: no
> NSE, no ellipsis, formals don't depend on the body, nothing weird about
> the environment of the function...
>
> f <- function(...) {
>  .makemissing <- function() alist(a=)$a
>  .ismissing <- function(x) identical(x, .makemissing())
>
>  # prepare to evaluate formals
>  params <- formals(f0)
>  e <- new.env(parent = environment(f0))
>  # assign non-missing formals
>  for (n in names(params)) if (!.ismissing(params[[n]])) eval(
>   # work around delayedAssign quoting its second argument
>   call('delayedAssign', n, params[[n]], e, e)
>  )
>
>  # match the evaluated arguments against the names of the formals
>  args <- as.list(match.call(f0, as.call(c('f0', list(...)))))[-1]
>  for (n in names(args)) assign(n, args[[n]], envir = e)
>
>  # evaluate everything, default argument or not
>  mget(names(params), e, ifnotfound = list(.makemissing()))
> }
>
> f0 <- function(x, y = 2 * z, z, a = NULL, b) NULL
> a <- 1
> identical(
>  f(a, z = 1 + 100),
>  list(x = 1, y = 202, z = 101, a = NULL, b = rlang::missing_arg())
> )
> # [1] TRUE
>
> --
> Best regards,
> Ivan


From pd@|gd @end|ng |rom gm@||@com  Mon Feb 19 19:50:57 2024
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 19 Feb 2024 19:50:57 +0100
Subject: [R] Packages sometimes don't update,
 but no error or warning is thrown
In-Reply-To: <trinity-e9363815-1d02-4788-bad6-c8b436d687a3-1708101325968@3c-app-gmx-bap42>
References: <trinity-e9363815-1d02-4788-bad6-c8b436d687a3-1708101325968@3c-app-gmx-bap42>
Message-ID: <6F47B300-CB2B-4211-A827-66A51566FCA3@gmail.com>

Is it possible that there is a version skew between binaries and source packages?

If you try the RStudio Update option, which versions does it claim that you have installed? If it is the same versions that you download, then no wonder that the update doesn't change anything.

E.g. I see that you have been downloading survival_3.5-7.tgz for arm64, but this is now updated to 3.5-8, so maybe it wasn't looking at available binaries, but possibly at available source packages.

-pd

> On 16 Feb 2024, at 17:35 , gernophil--- via R-help <r-help at r-project.org> wrote:
> 
> Hey everyone,
> 
> Thanks for all the input. It's happening again. This time for the packages "DBI", "parallelly", "segmented", "survival", "V8". So, RStudio shows updates for those and updating them via RStudio leads to this output:
> ```
>> install.packages(c("DBI", "parallelly", "segmented", "survival", "V8"))
> trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/DBI_1.2.0.tgz'
> Content type 'application/x-gzip' length 822755 bytes (803 KB)
> ==================================================
> downloaded 803 KB
> 
> trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/parallelly_1.36.0.tgz']
> Content type 'application/x-gzip' length 349831 bytes (341 KB)
> ==================================================
> downloaded 341 KB
> 
> trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/segmented_2.0-2.tgz']
> Content type 'application/x-gzip' length 1210146 bytes (1.2 MB)
> ==================================================
> downloaded 1.2 MB
> 
> trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/survival_3.5-7.tgz']
> Content type 'application/x-gzip' length 7101721 bytes (6.8 MB)
> ==================================================
> downloaded 6.8 MB
> 
> trying URL 'https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz'[https://cran.rstudio.com/bin/macosx/big-sur-arm64/contrib/4.3/V8_4.4.1.tgz']
> Content type 'application/x-gzip' length 10093069 bytes (9.6 MB)
> ==================================================
> downloaded 9.6 MB
> 
> 
> The downloaded binary packages are in
> /var/folders/ws/XXX/T//YYY/downloaded_packages
> ```
> 
> After that, all the packages are still updatable. No warning, no error, but also no updated packages. utils::install.packages(c("DBI", "parallelly", "segmented", "survival", "V8")) leads to the exact same output. The only difference, if I run it directly from command-line is, that I have to select a mirror. After that it's again the same output. The DBI package for example is installed with version 1.2.0, which is the latest available macOS arm64 binary. However, there is an update available for other binaries or source. So, I guess in the end, it's not the install.packages() that is failing, but the check for updates from RStudio. On the other hand, shouldn't there be at least a warning that there are new updates available, just no new binaries.
> 
> Best,
> Philipp
> 
>  
>  
>  
> 
> Gesendet: Mittwoch, 14. Februar 2024 um 18:44 Uhr
> Von: "Duncan Murdoch" <murdoch.duncan at gmail.com>
> An: "Martin Maechler" <maechler at stat.math.ethz.ch>, "Berwin A Turlach" <berwin.turlach at gmail.com>
> Cc: "gernophil--- via R-help" <r-help at r-project.org>
> Betreff: Re: [R] Packages sometimes don't update, but no error or warning is thrown
> On 14/02/2024 5:50 a.m., Martin Maechler wrote:
>>>>>>> Berwin A Turlach
>>>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>>>>>>> Berwin A Turlach
>>>>>>> on Wed, 14 Feb 2024 11:47:41 +0800 writes:
>> 
>>> G'day Philipp,
>> 
>>> On Tue, 13 Feb 2024 09:59:17 +0100 gernophil--- via R-help
>>> <r-help at r-project.org> wrote:
>> 
>>>> this question is related to this
>>>> (https://community.rstudio.com/t/packages-are-not-updating/166214/3[https://community.rstudio.com/t/packages-are-not-updating/166214/3]),
>>>> [...]
>> 
>>>> To sum it up: If I am updating packages (be it via
>>>> Bioconductor or CRAN) some packages simply don?t update,
>>>> [...]
>> 
>>>> I would expect any kind of message that the package will
>>>> not be updated, since no newer binary is available or a
>>>> prompt, if I want to compile from source.
>> 
>>> RStudio is doing its own thing for some task, including
>>> 'install.packages()' (and for some reasons, at least on
>>> the platforms on which I use RStudio, RStudio calls
>>> 'install.packages()' and not 'update.packages()' when an
>>> update is requested via the GUI). See:
>> 
>> RStudio> install.packages
>>> function (...) .rs.callAs(name, hook, original, ...)
>>> <environment: 0x55bab9293998>
>> 
>>> compared to:
>> 
>> R> install.packages
>>> function (pkgs, lib, repos = getOption("repos"),
>>> contriburl = contrib.url(repos, type), method, available =
>>> NULL, destdir = NULL, dependencies = NA, type =
>>> getOption("pkgType"), configure.args =
>>> getOption("configure.args"), configure.vars =
>>> getOption("configure.vars"), clean = FALSE, Ncpus =
>>> getOption("Ncpus", 1L), verbose = getOption("verbose"),
>>> libs_only = FALSE, INSTALL_opts, quiet = FALSE,
>>> keep_outputs = FALSE, ...) { [...]
>> 
>> 
>>> So if you use Install/Update in the Packages tab of
>>> RStudio and do not experience the behaviour you are
>>> expecting, it is something that you need to discuss with
>>> Posit, not with R. :)
>> 
>>>> However, the only message I get is: ``` trying URL
>>>> '<url_to_package>'
>> 
>>> The package name has the version number encoded in it, so
>>> theoretical you should be able to tell at this point
>>> whether the package that is downloaded is the version that
>>> is already installed, hence no update will happen.
>> 
>>> Best wishes,
>> 
>>> Berwin
>> 
>> 
>> Yes, thank's a lot, Berwin.
>> 
>> Indeed I've raised the fact that RStudio
>> hides R's own install.packages() from the user and uses its
>> own, undocumented one ... this has been the case for quite a few years.
>> I found out during teaching --- one of the few times, I use
>> RStudio to use R... in another case where RStudio's
>> install.packages() behaved differently than R's.
>> 
>> I'm pretty sure this is reason for quite a bit of confusion...
> 
> Did they ignore your bug report?
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help][https://stat.ethz.ch/mailman/listinfo/r-help[https://stat.ethz.ch/mailman/listinfo/r-help]]
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html][http://www.R-project.org/posting-guide.html[http://www.R-project.org/posting-guide.html]]
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @tyen @end|ng |rom ntu@edu@tw  Tue Feb 20 16:24:55 2024
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Tue, 20 Feb 2024 23:24:55 +0800
Subject: [R] Looping
In-Reply-To: <7BE29554-4AF6-434F-8EAA-24B93EA241EF@ntu.edu.tw>
References: <7BE29554-4AF6-434F-8EAA-24B93EA241EF@ntu.edu.tw>
Message-ID: <D5671A42-24C1-4970-8988-BF901413CBFD@ntu.edu.tw>


Steven from iPhone

> On Feb 19, 2024, at 4:56?PM, Steven Yen <styen at ntu.edu.tw> wrote:
> 
> ?Thanks to all. Glad there are many options.
> 
> Steven from iPhone
> 
>>> On Feb 19, 2024, at 1:55?PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>> 
>> ??s 03:27 de 19/02/2024, Steven Yen escreveu:
>>> I need to read csv files repeatedly, named data1.csv, data2.csv,? data24.csv, 24 altogether. That is,
>>> data<-read.csv(?data1.csv?)
>>> ?
>>> data<-read.csv(?data24.csv?)
>>> ?
>>> Is there a way to do this in a loop? Thank you.
>>> Steven from iPhone
>>>    [[alternative HTML version deleted]]
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>> 
>> Here is a way of reading the files in a *apply loop. The file names are created by getting them from file (list.files) or by a string editing function (sprintf).
>> 
>> 
>> # file_names_vec <- list.files(pattern = "data\\d+\\.csv")
>> file_names_vec <- sprintf("data%d.csv", 1:24)
>> data_list <- sapply(file_names_vec, read.csv, simplify = FALSE)
>> 
>> # access the 1st data.frame
>> data_list[[1L]]
>> # same as above
>> data_list[["data1.csv"]]
>> # same as above
>> data_list$data1.csv
>> 
>> 
>> Hope this helps,
>> 
>> Rui Barradas
>> 
>> 
>> 
>> --
>> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
>> www.avg.com

	[[alternative HTML version deleted]]


From @tyen @end|ng |rom ntu@edu@tw  Tue Feb 20 16:36:20 2024
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Tue, 20 Feb 2024 23:36:20 +0800
Subject: [R] Including an external set of coded
Message-ID: <A21650AA-EB37-40F0-8A4B-558A3683FDA4@ntu.edu.tw>

How can I call and include an external set of R codes, not necessarily a complete procedure (which can be include with a ?source? command). Example:

#I like to include and run the following lines residing in a file outside the main program:

mydata<-transform(mydata,
a<-b+c
d<-e+f
}


Steven from iPhone
	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb 20 16:41:36 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 20 Feb 2024 07:41:36 -0800
Subject: [R] Including an external set of coded
In-Reply-To: <A21650AA-EB37-40F0-8A4B-558A3683FDA4@ntu.edu.tw>
References: <A21650AA-EB37-40F0-8A4B-558A3683FDA4@ntu.edu.tw>
Message-ID: <CAGxFJbTSgd62y5uz+0uQuc5LoWhLNwDxp=rSUfm==GEV02yKSg@mail.gmail.com>

I believe you will have to expain what you want more fully, as what you
requested appears to be exactly what source() does, to me anyway. Please
reread its help file more carefully perhaps?

-- Bert

On Tue, Feb 20, 2024 at 7:36?AM Steven Yen <styen at ntu.edu.tw> wrote:

> How can I call and include an external set of R codes, not necessarily a
> complete procedure (which can be include with a ?source? command). Example:
>
> #I like to include and run the following lines residing in a file outside
> the main program:
>
> mydata<-transform(mydata,
> a<-b+c
> d<-e+f
> }
>
>
> Steven from iPhone
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From po|c1410 @end|ng |rom gm@||@com  Tue Feb 20 17:43:58 2024
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Tue, 20 Feb 2024 16:43:58 +0000
Subject: [R] Including an external set of coded
In-Reply-To: <CAGxFJbTSgd62y5uz+0uQuc5LoWhLNwDxp=rSUfm==GEV02yKSg@mail.gmail.com>
References: <A21650AA-EB37-40F0-8A4B-558A3683FDA4@ntu.edu.tw>
 <CAGxFJbTSgd62y5uz+0uQuc5LoWhLNwDxp=rSUfm==GEV02yKSg@mail.gmail.com>
Message-ID: <CA+etgPkRJYsnjfyVvyvPj8r+SvBjz+bnqTXWevxVPqaWhmRbcg@mail.gmail.com>

Are you asking to source lines 5-10 of a file for instance?

Never seen that done in R. Feels a dodgy thing to do as changing line will
screw things up.  On the other hand - I'd often have functions in a file
called perhaps "functions.R" and source("functions.R")

Then I can call an individual function something like

tranform_mydata(mydata)



With the functions.R containing

transform_mydata <- function (mydata) {

mydata<-transform(mydata,
a<-b+c
d<-e+f

return(mydata)
}

On Tue, 20 Feb 2024, 15:46 Bert Gunter, <bgunter.4567 at gmail.com> wrote:

> I believe you will have to expain what you want more fully, as what you
> requested appears to be exactly what source() does, to me anyway. Please
> reread its help file more carefully perhaps?
>
> -- Bert
>
> On Tue, Feb 20, 2024 at 7:36?AM Steven Yen <styen at ntu.edu.tw> wrote:
>
> > How can I call and include an external set of R codes, not necessarily a
> > complete procedure (which can be include with a ?source? command).
> Example:
> >
> > #I like to include and run the following lines residing in a file outside
> > the main program:
> >
> > mydata<-transform(mydata,
> > a<-b+c
> > d<-e+f
> > }
> >
> >
> > Steven from iPhone
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From J@me@@Powe|| @end|ng |rom h@e@|e  Tue Feb 20 12:26:09 2024
From: J@me@@Powe|| @end|ng |rom h@e@|e (James Powell)
Date: Tue, 20 Feb 2024 11:26:09 +0000
Subject: [R] Network issue
Message-ID: <DB9PR05MB11038348EF13C5E2DCE323B33F5502@DB9PR05MB11038.eurprd05.prod.outlook.com>

An embedded and charset-unspecified text was scrubbed...
Name: R Errors.txt
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20240220/1cb99e48/attachment.txt>

From ||@@@hup|er @end|ng |rom gmx@de  Mon Feb 19 17:39:23 2024
From: ||@@@hup|er @end|ng |rom gmx@de (Lisa Hupfer)
Date: Mon, 19 Feb 2024 17:39:23 +0100
Subject: [R] Help
Message-ID: <3C3DF8CD-C12A-4CFB-8AE9-D903BBCB2EDA@gmx.de>

I am writing my master thesis in which I compared two cultures . So for my statistics I need to compare Age,Sex,Culture as well as have a look at the tasks scores .

Anyone familiar with this ?
I?d love to share my script so you guide me where I did wrong . 

Regards 


From po|c1410 @end|ng |rom gm@||@com  Tue Feb 20 18:37:58 2024
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Tue, 20 Feb 2024 17:37:58 +0000
Subject: [R] Including an external set of coded
In-Reply-To: <BE44CD03-444B-4094-982C-781583E00C3F@ntu.edu.tw>
References: <CA+etgPkRJYsnjfyVvyvPj8r+SvBjz+bnqTXWevxVPqaWhmRbcg@mail.gmail.com>
 <BE44CD03-444B-4094-982C-781583E00C3F@ntu.edu.tw>
Message-ID: <CA+etgPkBWQgec3T6sj91onZtTjYET+EGxp02gyq7p1Thn8grrw@mail.gmail.com>

What happens if you add a line to the code in lines 1-5.  So line 5 is now
line 6 etc?

Your "procedure" needs a name

So either it's a function, OR, we each procedure is a file to source?

On Tue, 20 Feb 2024, 16:55 Steven Yen, <styen at ntu.edu.tw> wrote:

> I see??still put those lines in a procedure and call the procedure by
> ?source?. I source procedures all the time.
>
> I just wondered whether there is a way to ?source? these lines without
> putting them in a procedure. Because I have too many of such lines which I
> use in several main programs annd only reason I want to do this is to keep
> my main programs compact.
>
> Steven from iPhone
>
> On Feb 21, 2024, at 12:44?AM, CALUM POLWART <polc1410 at gmail.com> wrote:
>
> ?
> Are you asking to source lines 5-10 of a file for instance?
>
> Never seen that done in R. Feels a dodgy thing to do as changing line will
> screw things up.  On the other hand - I'd often have functions in a file
> called perhaps "functions.R" and source("functions.R")
>
> Then I can call an individual function something like
>
> tranform_mydata(mydata)
>
>
>
> With the functions.R containing
>
> transform_mydata <- function (mydata) {
>
> mydata<-transform(mydata,
> a<-b+c
> d<-e+f
>
> return(mydata)
> }
>
> On Tue, 20 Feb 2024, 15:46 Bert Gunter, <bgunter.4567 at gmail.com> wrote:
>
>> I believe you will have to expain what you want more fully, as what you
>> requested appears to be exactly what source() does, to me anyway. Please
>> reread its help file more carefully perhaps?
>>
>> -- Bert
>>
>> On Tue, Feb 20, 2024 at 7:36?AM Steven Yen <styen at ntu.edu.tw> wrote:
>>
>> > How can I call and include an external set of R codes, not necessarily a
>> > complete procedure (which can be include with a ?source? command).
>> Example:
>> >
>> > #I like to include and run the following lines residing in a file
>> outside
>> > the main program:
>> >
>> > mydata<-transform(mydata,
>> > a<-b+c
>> > d<-e+f
>> > }
>> >
>> >
>> > Steven from iPhone
>> >         [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From @@e||ck @end|ng |rom gm@||@com  Tue Feb 20 20:43:24 2024
From: @@e||ck @end|ng |rom gm@||@com (stephen sefick)
Date: Tue, 20 Feb 2024 14:43:24 -0500
Subject: [R] Network issue
In-Reply-To: <DB9PR05MB11038348EF13C5E2DCE323B33F5502@DB9PR05MB11038.eurprd05.prod.outlook.com>
References: <DB9PR05MB11038348EF13C5E2DCE323B33F5502@DB9PR05MB11038.eurprd05.prod.outlook.com>
Message-ID: <CADKEMqj7RjgoCPFzgkpL0VLnBgAQfaQBTJS2V3Th9v42oUE+Vg@mail.gmail.com>

Maybe I missed the rest of the post? You are more likely to get help with
your problems if you create a minimal reproducible example.
Kindest regards,

Stephen Sefick

On Tue, Feb 20, 2024, 12:24 James Powell <James.Powell at hse.ie> wrote:

>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb 20 21:15:52 2024
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 20 Feb 2024 12:15:52 -0800
Subject: [R] Network issue
In-Reply-To: <CADKEMqj7RjgoCPFzgkpL0VLnBgAQfaQBTJS2V3Th9v42oUE+Vg@mail.gmail.com>
References: <DB9PR05MB11038348EF13C5E2DCE323B33F5502@DB9PR05MB11038.eurprd05.prod.outlook.com>
 <CADKEMqj7RjgoCPFzgkpL0VLnBgAQfaQBTJS2V3Th9v42oUE+Vg@mail.gmail.com>
Message-ID: <33F2A078-15E9-49E3-AC85-5BFD15F3156A@dcn.davis.ca.us>

... and if the problem is networking, then you will likely need help from someone who knows your local configuration. Employers often do things that limit what R can do, and none of us are likely to know about those things.

On February 20, 2024 11:43:24 AM PST, stephen sefick <ssefick at gmail.com> wrote:
>Maybe I missed the rest of the post? You are more likely to get help with
>your problems if you create a minimal reproducible example.
>Kindest regards,
>
>Stephen Sefick
>
>On Tue, Feb 20, 2024, 12:24 James Powell <James.Powell at hse.ie> wrote:
>
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ro||turner @end|ng |rom po@teo@net  Tue Feb 20 23:14:58 2024
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Tue, 20 Feb 2024 22:14:58 +0000
Subject: [R] Help
In-Reply-To: <3C3DF8CD-C12A-4CFB-8AE9-D903BBCB2EDA@gmx.de>
References: <3C3DF8CD-C12A-4CFB-8AE9-D903BBCB2EDA@gmx.de>
Message-ID: <20240221111458.08549d3f@rolf-Latitude-E7470>


On Mon, 19 Feb 2024 17:39:23 +0100
Lisa Hupfer via R-help <r-help at r-project.org> wrote:

> I am writing my master thesis in which I compared two cultures . So
> for my statistics I need to compare Age,Sex,Culture as well as have a
> look at the tasks scores .
> 
> Anyone familiar with this ?
> I?d love to share my script so you guide me where I did wrong .

(1) This post is far too vague to be appropriate for this list.

(2) You should learn some statistics; probably linear modelling.

(3) You should talk to your thesis advisor.

(4) Please see fortunes::fortune(285).

cheers,

Rolf Turner


-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb 20 23:28:39 2024
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 20 Feb 2024 14:28:39 -0800
Subject: [R] Help
In-Reply-To: <20240221111458.08549d3f@rolf-Latitude-E7470>
References: <3C3DF8CD-C12A-4CFB-8AE9-D903BBCB2EDA@gmx.de>
 <20240221111458.08549d3f@rolf-Latitude-E7470>
Message-ID: <B6D013D0-E977-44B1-8F15-0517ED19474F@dcn.davis.ca.us>

Regarding 1 and 2, please read the Posting Guide mentioned at the bottom of every R-help post. R does not equal statistics... and education about statistics is way too ambitious to include in this mailing list that is about a tool that happens to be useful for statisticians.

There are forums online that do cater to statistical methods (e.g. Cross Validated or many results from a search engine)... but such conversations can be extensive so as Rolf suggests this is a good time to learn what resources your educational institutions can provide... online forums may be too limiting when your questions are so vague.

On February 20, 2024 2:14:58 PM PST, Rolf Turner <rolfturner at posteo.net> wrote:
>
>On Mon, 19 Feb 2024 17:39:23 +0100
>Lisa Hupfer via R-help <r-help at r-project.org> wrote:
>
>> I am writing my master thesis in which I compared two cultures . So
>> for my statistics I need to compare Age,Sex,Culture as well as have a
>> look at the tasks scores .
>> 
>> Anyone familiar with this ?
>> I?d love to share my script so you guide me where I did wrong .
>
>(1) This post is far too vague to be appropriate for this list.
>
>(2) You should learn some statistics; probably linear modelling.
>
>(3) You should talk to your thesis advisor.
>
>(4) Please see fortunes::fortune(285).
>
>cheers,
>
>Rolf Turner
>
>

-- 
Sent from my phone. Please excuse my brevity.


