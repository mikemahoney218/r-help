From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Jan  1 12:16:19 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 1 Jan 2023 11:16:19 +0000
Subject: [R] CRAN Packages By Date
In-Reply-To: <CAGQHekw0dJ3EBdvwmNVAGMHzdX4i7YsX_CtNNsHL7+A_yHQnLw@mail.gmail.com>
References: <CAGQHekw0dJ3EBdvwmNVAGMHzdX4i7YsX_CtNNsHL7+A_yHQnLw@mail.gmail.com>
Message-ID: <7084e077-7a00-879c-80d9-bb54070594d5@sapo.pt>

?s 08:45 de 31/12/2022, Marco Scazzocchio escreveu:
> Hi,
> 
> why the list of "Available CRAN Packages By Date of Publication" is stopped
> at 2022-12-25 ?
> 
> Regards
> 
> Marco Scazzocchio
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

 From CRAN's main page [1], *in red* after the title:

Submitting to CRAN

CRAN submission will be offline from Dec 22, 2022 to Jan 5, 2023 (CRAN 
team vacation and maintenance work).


[1] https://cran.r-project.org/

Hope this helps,

Rui Barradas


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jan  2 09:56:21 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 02 Jan 2023 00:56:21 -0800
Subject: [R] R Certification
In-Reply-To: <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
Message-ID: <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>

I think this request is like saying "I want a unicorn." There are many organizations that will enter your name into a certificate form for a fee, possibly with some credibility... but if they put "r-project.org" down as the name of the organization granting this "certificate" then you are probably getting fooled.

On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org> wrote:
>Hello R Support Team,
>
> 
>
>I want to do R certification, could you help me with the list of
>certificates with their prices so it helps me to register.
>
> 
>
>I want to do the certification directly from the governing body
>"r-project.org" and not from any 3rd party.
>
> 
>
>Please help.
>
> 
>
> 
>
> 
>
>Mukesh
>
>+91 9819285174
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From mukesh@iekhr@j@@i m@iii@g oii y@hoo@com  Mon Jan  2 13:03:56 2023
From: mukesh@iekhr@j@@i m@iii@g oii y@hoo@com (mukesh@iekhr@j@@i m@iii@g oii y@hoo@com)
Date: Mon, 2 Jan 2023 17:33:56 +0530
Subject: [R] R Certification
In-Reply-To: <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
Message-ID: <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>

Hello Jeff !

Yes, you are right.. and that?s why I am asking this question - just like other governing bodies that issue certification on their respective technologies, does "r-project.org" also have a learning path ? and then a certification.

Say - Microsoft issues certificate for C#, .Net, etc..
Then, Oracle issues certificates for Java, DB etc..

These are authentic governing bodies for learning and issuing certificates 

On exactly similar lines -  "r-project.org" would also be having some learning path and then let "r-project" take the proctored exam and issue a certificate...

I am not looking at any external institute for certifying me on "R" - but, the governing body itself..

So, the question again is - "does r-project provide a learning path and issue certificate after taking exams"

Thanks, Mukesh
9819285174



-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Monday, January 2, 2023 2:26 PM
To: mukesh.lekhrajani at yahoo.com; Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org>; r-help at r-project.org
Subject: Re: [R] R Certification

I think this request is like saying "I want a unicorn." There are many organizations that will enter your name into a certificate form for a fee, possibly with some credibility... but if they put "r-project.org" down as the name of the organization granting this "certificate" then you are probably getting fooled.

On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org> wrote:
>Hello R Support Team,
>
> 
>
>I want to do R certification, could you help me with the list of 
>certificates with their prices so it helps me to register.
>
> 
>
>I want to do the certification directly from the governing body 
>"r-project.org" and not from any 3rd party.
>
> 
>
>Please help.
>
> 
>
> 
>
> 
>
>Mukesh
>
>+91 9819285174
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide 
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jan  2 13:43:11 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 2 Jan 2023 12:43:11 +0000
Subject: [R] R Certification
In-Reply-To: <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
Message-ID: <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>

Hallo Mukesh

R project is not Microsoft or Oracle AFAIK. But if you need some certificate you could take courses on Coursera, they are offering certificates.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Mukesh
> Ghanshyamdas Lekhrajani via R-help
> Sent: Monday, January 2, 2023 1:04 PM
> To: 'Jeff Newmiller' <jdnewmil at dcn.davis.ca.us>; 'Mukesh Ghanshyamdas
> Lekhrajani via R-help' <r-help at r-project.org>; r-help at r-project.org
> Subject: Re: [R] R Certification
> 
> Hello Jeff !
> 
> Yes, you are right.. and that?s why I am asking this question - just like other
> governing bodies that issue certification on their respective technologies, does
> "r-project.org" also have a learning path ? and then a certification.
> 
> Say - Microsoft issues certificate for C#, .Net, etc..
> Then, Oracle issues certificates for Java, DB etc..
> 
> These are authentic governing bodies for learning and issuing certificates
> 
> On exactly similar lines -  "r-project.org" would also be having some learning
> path and then let "r-project" take the proctored exam and issue a certificate...
> 
> I am not looking at any external institute for certifying me on "R" - but, the
> governing body itself..
> 
> So, the question again is - "does r-project provide a learning path and issue
> certificate after taking exams"
> 
> Thanks, Mukesh
> 9819285174
> 
> 
> 
> -----Original Message-----
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Sent: Monday, January 2, 2023 2:26 PM
> To: mukesh.lekhrajani at yahoo.com; Mukesh Ghanshyamdas Lekhrajani via R-
> help <r-help at r-project.org>; r-help at r-project.org
> Subject: Re: [R] R Certification
> 
> I think this request is like saying "I want a unicorn." There are many
> organizations that will enter your name into a certificate form for a fee, possibly
> with some credibility... but if they put "r-project.org" down as the name of the
> organization granting this "certificate" then you are probably getting fooled.
> 
> On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via
> R-help <r-help at r-project.org> wrote:
> >Hello R Support Team,
> >
> >
> >
> >I want to do R certification, could you help me with the list of
> >certificates with their prices so it helps me to register.
> >
> >
> >
> >I want to do the certification directly from the governing body
> >"r-project.org" and not from any 3rd party.
> >
> >
> >
> >Please help.
> >
> >
> >
> >
> >
> >
> >
> >Mukesh
> >
> >+91 9819285174
> >
> >
> >	[[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From mukesh@iekhr@j@@i m@iii@g oii y@hoo@com  Mon Jan  2 14:17:43 2023
From: mukesh@iekhr@j@@i m@iii@g oii y@hoo@com (mukesh@iekhr@j@@i m@iii@g oii y@hoo@com)
Date: Mon, 2 Jan 2023 18:47:43 +0530
Subject: [R] R Certification
In-Reply-To: <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
Message-ID: <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>

Thanks Petr !

I will look at other training bodies as Coursera, or few others... but I was just wondering if there could be a  certificate from the "originators" itself, I mean an "R" certificate from "r-project" itself and that would carry more importance than external / unauthorized certificate bodies.

But, if you suggest there is no such certification provided by "r-project", then the only option for me is to search else where like - Coursera or few others.

I now have got my answers, but later the day - if ever "r-project" comes up with "R Language" certifications, do keep me informed.


Thanks, Mukesh
9819285174.


-----Original Message-----
From: PIKAL Petr <petr.pikal at precheza.cz> 
Sent: Monday, January 2, 2023 6:13 PM
To: mukesh.lekhrajani at yahoo.com; R-help Mailing List <r-help at r-project.org>
Subject: RE: [R] R Certification

Hallo Mukesh

R project is not Microsoft or Oracle AFAIK. But if you need some certificate you could take courses on Coursera, they are offering certificates.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Mukesh
> Ghanshyamdas Lekhrajani via R-help
> Sent: Monday, January 2, 2023 1:04 PM
> To: 'Jeff Newmiller' <jdnewmil at dcn.davis.ca.us>; 'Mukesh Ghanshyamdas
> Lekhrajani via R-help' <r-help at r-project.org>; r-help at r-project.org
> Subject: Re: [R] R Certification
> 
> Hello Jeff !
> 
> Yes, you are right.. and that?s why I am asking this question - just like other
> governing bodies that issue certification on their respective technologies, does
> "r-project.org" also have a learning path ? and then a certification.
> 
> Say - Microsoft issues certificate for C#, .Net, etc..
> Then, Oracle issues certificates for Java, DB etc..
> 
> These are authentic governing bodies for learning and issuing certificates
> 
> On exactly similar lines -  "r-project.org" would also be having some learning
> path and then let "r-project" take the proctored exam and issue a certificate...
> 
> I am not looking at any external institute for certifying me on "R" - but, the
> governing body itself..
> 
> So, the question again is - "does r-project provide a learning path and issue
> certificate after taking exams"
> 
> Thanks, Mukesh
> 9819285174
> 
> 
> 
> -----Original Message-----
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Sent: Monday, January 2, 2023 2:26 PM
> To: mukesh.lekhrajani at yahoo.com; Mukesh Ghanshyamdas Lekhrajani via R-
> help <r-help at r-project.org>; r-help at r-project.org
> Subject: Re: [R] R Certification
> 
> I think this request is like saying "I want a unicorn." There are many
> organizations that will enter your name into a certificate form for a fee, possibly
> with some credibility... but if they put "r-project.org" down as the name of the
> organization granting this "certificate" then you are probably getting fooled.
> 
> On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via
> R-help <r-help at r-project.org> wrote:
> >Hello R Support Team,
> >
> >
> >
> >I want to do R certification, could you help me with the list of
> >certificates with their prices so it helps me to register.
> >
> >
> >
> >I want to do the certification directly from the governing body
> >"r-project.org" and not from any 3rd party.
> >
> >
> >
> >Please help.
> >
> >
> >
> >
> >
> >
> >
> >Mukesh
> >
> >+91 9819285174
> >
> >
> >	[[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From gm@|om@ok|1980 @end|ng |rom gm@||@com  Mon Jan  2 17:50:09 2023
From: gm@|om@ok|1980 @end|ng |rom gm@||@com (=?UTF-8?Q?G=C3=A1bor_Malomsoki?=)
Date: Mon, 2 Jan 2023 17:50:09 +0100
Subject: [R] Stepmax in Neuralnet
Message-ID: <CAEJRAFY2V_DhAuhAXuGXE8ZkmhK8tC+9C8yJjAAoqXP10pp=pw@mail.gmail.com>

Dear all,

if i set the stepmax parameter higher then i increase the performance of
the neuralnet?
Would be my prediction more accurate?

thanks
Best regards
Gabor

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Mon Jan  2 18:24:03 2023
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 2 Jan 2023 12:24:03 -0500
Subject: [R] R Certification
In-Reply-To: <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
Message-ID: <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>

Hi Mukesh,

Have a look at the blurb that prints at the start-up of R.

"R is free software and comes with ABSOLUTELY NO WARRANTY."

This is a hint that the R-Project is unlikely to be issuing certificates.



On Mon, 2 Jan 2023 at 08:18, Mukesh Ghanshyamdas Lekhrajani via R-help <
r-help at r-project.org> wrote:

> Thanks Petr !
>
> I will look at other training bodies as Coursera, or few others... but I
> was just wondering if there could be a  certificate from the "originators"
> itself, I mean an "R" certificate from "r-project" itself and that would
> carry more importance than external / unauthorized certificate bodies.
>
> But, if you suggest there is no such certification provided by
> "r-project", then the only option for me is to search else where like -
> Coursera or few others.
>
> I now have got my answers, but later the day - if ever "r-project" comes
> up with "R Language" certifications, do keep me informed.
>
>
> Thanks, Mukesh
> 9819285174.
>
>
> -----Original Message-----
> From: PIKAL Petr <petr.pikal at precheza.cz>
> Sent: Monday, January 2, 2023 6:13 PM
> To: mukesh.lekhrajani at yahoo.com; R-help Mailing List <r-help at r-project.org
> >
> Subject: RE: [R] R Certification
>
> Hallo Mukesh
>
> R project is not Microsoft or Oracle AFAIK. But if you need some
> certificate you could take courses on Coursera, they are offering
> certificates.
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Mukesh
> > Ghanshyamdas Lekhrajani via R-help
> > Sent: Monday, January 2, 2023 1:04 PM
> > To: 'Jeff Newmiller' <jdnewmil at dcn.davis.ca.us>; 'Mukesh Ghanshyamdas
> > Lekhrajani via R-help' <r-help at r-project.org>; r-help at r-project.org
> > Subject: Re: [R] R Certification
> >
> > Hello Jeff !
> >
> > Yes, you are right.. and that?s why I am asking this question - just
> like other
> > governing bodies that issue certification on their respective
> technologies, does
> > "r-project.org" also have a learning path ? and then a certification.
> >
> > Say - Microsoft issues certificate for C#, .Net, etc..
> > Then, Oracle issues certificates for Java, DB etc..
> >
> > These are authentic governing bodies for learning and issuing
> certificates
> >
> > On exactly similar lines -  "r-project.org" would also be having some
> learning
> > path and then let "r-project" take the proctored exam and issue a
> certificate...
> >
> > I am not looking at any external institute for certifying me on "R" -
> but, the
> > governing body itself..
> >
> > So, the question again is - "does r-project provide a learning path and
> issue
> > certificate after taking exams"
> >
> > Thanks, Mukesh
> > 9819285174
> >
> >
> >
> > -----Original Message-----
> > From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> > Sent: Monday, January 2, 2023 2:26 PM
> > To: mukesh.lekhrajani at yahoo.com; Mukesh Ghanshyamdas Lekhrajani via R-
> > help <r-help at r-project.org>; r-help at r-project.org
> > Subject: Re: [R] R Certification
> >
> > I think this request is like saying "I want a unicorn." There are many
> > organizations that will enter your name into a certificate form for a
> fee, possibly
> > with some credibility... but if they put "r-project.org" down as the
> name of the
> > organization granting this "certificate" then you are probably getting
> fooled.
> >
> > On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via
> > R-help <r-help at r-project.org> wrote:
> > >Hello R Support Team,
> > >
> > >
> > >
> > >I want to do R certification, could you help me with the list of
> > >certificates with their prices so it helps me to register.
> > >
> > >
> > >
> > >I want to do the certification directly from the governing body
> > >"r-project.org" and not from any 3rd party.
> > >
> > >
> > >
> > >Please help.
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >Mukesh
> > >
> > >+91 9819285174
> > >
> > >
> > >     [[alternative HTML version deleted]]
> > >
> > >______________________________________________
> > >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >https://stat.ethz.ch/mailman/listinfo/r-help
> > >PLEASE do read the posting guide
> > >http://www.R-project.org/posting-guide.html
> > >and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Sent from my phone. Please excuse my brevity.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From @pencer@gr@ve@ @end|ng |rom e||ect|vede|en@e@org  Mon Jan  2 19:07:03 2023
From: @pencer@gr@ve@ @end|ng |rom e||ect|vede|en@e@org (Spencer Graves)
Date: Mon, 2 Jan 2023 12:07:03 -0600
Subject: [R] R Certification
In-Reply-To: <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
Message-ID: <14282363-a5b0-c5a5-2886-a1e351bc50ca@effectivedefense.org>

	  If you go to "https://cran.r-project.org" and click, "Download R for 
macOS", you will find several versions that you can download and that 
have a "digital signature".


	  After downloading, you can "check the integrity of the downloaded 
package by checking the signature: pkgutil --check-signature R-4.2.2.pkg".


	  Beyond that, RStudio and other companies will happily sell you a 
maintenance contract, which will get you more polite answers than from a 
list serve like this ;-)


	  Spencer Graves


On 1/2/23 11:24 AM, John Kane wrote:
> Hi Mukesh,
> 
> Have a look at the blurb that prints at the start-up of R.
> 
> "R is free software and comes with ABSOLUTELY NO WARRANTY."
> 
> This is a hint that the R-Project is unlikely to be issuing certificates.
> 
> 
> 
> On Mon, 2 Jan 2023 at 08:18, Mukesh Ghanshyamdas Lekhrajani via R-help <
> r-help at r-project.org> wrote:
> 
>> Thanks Petr !
>>
>> I will look at other training bodies as Coursera, or few others... but I
>> was just wondering if there could be a  certificate from the "originators"
>> itself, I mean an "R" certificate from "r-project" itself and that would
>> carry more importance than external / unauthorized certificate bodies.
>>
>> But, if you suggest there is no such certification provided by
>> "r-project", then the only option for me is to search else where like -
>> Coursera or few others.
>>
>> I now have got my answers, but later the day - if ever "r-project" comes
>> up with "R Language" certifications, do keep me informed.
>>
>>
>> Thanks, Mukesh
>> 9819285174.
>>
>>
>> -----Original Message-----
>> From: PIKAL Petr <petr.pikal at precheza.cz>
>> Sent: Monday, January 2, 2023 6:13 PM
>> To: mukesh.lekhrajani at yahoo.com; R-help Mailing List <r-help at r-project.org
>>>
>> Subject: RE: [R] R Certification
>>
>> Hallo Mukesh
>>
>> R project is not Microsoft or Oracle AFAIK. But if you need some
>> certificate you could take courses on Coursera, they are offering
>> certificates.
>>
>> Cheers
>> Petr
>>
>>> -----Original Message-----
>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Mukesh
>>> Ghanshyamdas Lekhrajani via R-help
>>> Sent: Monday, January 2, 2023 1:04 PM
>>> To: 'Jeff Newmiller' <jdnewmil at dcn.davis.ca.us>; 'Mukesh Ghanshyamdas
>>> Lekhrajani via R-help' <r-help at r-project.org>; r-help at r-project.org
>>> Subject: Re: [R] R Certification
>>>
>>> Hello Jeff !
>>>
>>> Yes, you are right.. and that?s why I am asking this question - just
>> like other
>>> governing bodies that issue certification on their respective
>> technologies, does
>>> "r-project.org" also have a learning path ? and then a certification.
>>>
>>> Say - Microsoft issues certificate for C#, .Net, etc..
>>> Then, Oracle issues certificates for Java, DB etc..
>>>
>>> These are authentic governing bodies for learning and issuing
>> certificates
>>>
>>> On exactly similar lines -  "r-project.org" would also be having some
>> learning
>>> path and then let "r-project" take the proctored exam and issue a
>> certificate...
>>>
>>> I am not looking at any external institute for certifying me on "R" -
>> but, the
>>> governing body itself..
>>>
>>> So, the question again is - "does r-project provide a learning path and
>> issue
>>> certificate after taking exams"
>>>
>>> Thanks, Mukesh
>>> 9819285174
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>>> Sent: Monday, January 2, 2023 2:26 PM
>>> To: mukesh.lekhrajani at yahoo.com; Mukesh Ghanshyamdas Lekhrajani via R-
>>> help <r-help at r-project.org>; r-help at r-project.org
>>> Subject: Re: [R] R Certification
>>>
>>> I think this request is like saying "I want a unicorn." There are many
>>> organizations that will enter your name into a certificate form for a
>> fee, possibly
>>> with some credibility... but if they put "r-project.org" down as the
>> name of the
>>> organization granting this "certificate" then you are probably getting
>> fooled.
>>>
>>> On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via
>>> R-help <r-help at r-project.org> wrote:
>>>> Hello R Support Team,
>>>>
>>>>
>>>>
>>>> I want to do R certification, could you help me with the list of
>>>> certificates with their prices so it helps me to register.
>>>>
>>>>
>>>>
>>>> I want to do the certification directly from the governing body
>>>> "r-project.org" and not from any 3rd party.
>>>>
>>>>
>>>>
>>>> Please help.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> Mukesh
>>>>
>>>> +91 9819285174
>>>>
>>>>
>>>>      [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
>


From mukesh@iekhr@j@@i m@iii@g oii y@hoo@com  Mon Jan  2 19:09:21 2023
From: mukesh@iekhr@j@@i m@iii@g oii y@hoo@com (mukesh@iekhr@j@@i m@iii@g oii y@hoo@com)
Date: Mon, 2 Jan 2023 23:39:21 +0530
Subject: [R] R Certification
In-Reply-To: <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
Message-ID: <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>

Thanks John, 

 

Will surely do.

 

 

Thanks, Mukesh

9819285174

 

From: John Kane <jrkrideau at gmail.com> 
Sent: Monday, January 2, 2023 10:54 PM
To: mukesh.lekhrajani at yahoo.com
Cc: PIKAL Petr <petr.pikal at precheza.cz>; R-help Mailing List <r-help at r-project.org>
Subject: Re: [R] R Certification

 

Hi Mukesh,

 

Have a look at the blurb that prints at the start-up of R.


"R is free software and comes with ABSOLUTELY NO WARRANTY."

 

This is a hint that the R-Project is unlikely to be issuing certificates.  

 

 

On Mon, 2 Jan 2023 at 08:18, Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:

Thanks Petr !

I will look at other training bodies as Coursera, or few others... but I was just wondering if there could be a  certificate from the "originators" itself, I mean an "R" certificate from "r-project" itself and that would carry more importance than external / unauthorized certificate bodies.

But, if you suggest there is no such certification provided by "r-project", then the only option for me is to search else where like - Coursera or few others.

I now have got my answers, but later the day - if ever "r-project" comes up with "R Language" certifications, do keep me informed.


Thanks, Mukesh
9819285174.


-----Original Message-----
From: PIKAL Petr <petr.pikal at precheza.cz <mailto:petr.pikal at precheza.cz> > 
Sent: Monday, January 2, 2023 6:13 PM
To: mukesh.lekhrajani at yahoo.com <mailto:mukesh.lekhrajani at yahoo.com> ; R-help Mailing List <r-help at r-project.org <mailto:r-help at r-project.org> >
Subject: RE: [R] R Certification

Hallo Mukesh

R project is not Microsoft or Oracle AFAIK. But if you need some certificate you could take courses on Coursera, they are offering certificates.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org> > On Behalf Of Mukesh
> Ghanshyamdas Lekhrajani via R-help
> Sent: Monday, January 2, 2023 1:04 PM
> To: 'Jeff Newmiller' <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us> >; 'Mukesh Ghanshyamdas
> Lekhrajani via R-help' <r-help at r-project.org <mailto:r-help at r-project.org> >; r-help at r-project.org <mailto:r-help at r-project.org> 
> Subject: Re: [R] R Certification
> 
> Hello Jeff !
> 
> Yes, you are right.. and that?s why I am asking this question - just like other
> governing bodies that issue certification on their respective technologies, does
> "r-project.org <http://r-project.org> " also have a learning path ? and then a certification.
> 
> Say - Microsoft issues certificate for C#, .Net, etc..
> Then, Oracle issues certificates for Java, DB etc..
> 
> These are authentic governing bodies for learning and issuing certificates
> 
> On exactly similar lines -  "r-project.org <http://r-project.org> " would also be having some learning
> path and then let "r-project" take the proctored exam and issue a certificate...
> 
> I am not looking at any external institute for certifying me on "R" - but, the
> governing body itself..
> 
> So, the question again is - "does r-project provide a learning path and issue
> certificate after taking exams"
> 
> Thanks, Mukesh
> 9819285174
> 
> 
> 
> -----Original Message-----
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us <mailto:jdnewmil at dcn.davis.ca.us> >
> Sent: Monday, January 2, 2023 2:26 PM
> To: mukesh.lekhrajani at yahoo.com <mailto:mukesh.lekhrajani at yahoo.com> ; Mukesh Ghanshyamdas Lekhrajani via R-
> help <r-help at r-project.org <mailto:r-help at r-project.org> >; r-help at r-project.org <mailto:r-help at r-project.org> 
> Subject: Re: [R] R Certification
> 
> I think this request is like saying "I want a unicorn." There are many
> organizations that will enter your name into a certificate form for a fee, possibly
> with some credibility... but if they put "r-project.org <http://r-project.org> " down as the name of the
> organization granting this "certificate" then you are probably getting fooled.
> 
> On December 30, 2022 8:33:09 AM PST, Mukesh Ghanshyamdas Lekhrajani via
> R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:
> >Hello R Support Team,
> >
> >
> >
> >I want to do R certification, could you help me with the list of
> >certificates with their prices so it helps me to register.
> >
> >
> >
> >I want to do the certification directly from the governing body
> >"r-project.org <http://r-project.org> " and not from any 3rd party.
> >
> >
> >
> >Please help.
> >
> >
> >
> >
> >
> >
> >
> >Mukesh
> >
> >+91 9819285174
> >
> >
> >     [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



-- 

John Kane
Kingston ON Canada


	[[alternative HTML version deleted]]


From m|ke|@ch @end|ng |rom @@@@upenn@edu  Mon Jan  2 18:59:21 2023
From: m|ke|@ch @end|ng |rom @@@@upenn@edu (Michael Lachanski)
Date: Mon, 2 Jan 2023 12:59:21 -0500
Subject: [R] 
 Functional Programming Problem Using purr and R's data.table
 shift function
In-Reply-To: <a8139e35-06d6-36fa-a732-c097f7c03f19@kogentum.hu>
References: <CAJKr4LMDHwqpJ5_pOswEfdKKQrU+wx+kcwHWq2T0pAjLcebDFA@mail.gmail.com>
 <2374d4d9-f2f2-1736-6814-bc606c41d4ad@sapo.pt>
 <a8139e35-06d6-36fa-a732-c097f7c03f19@kogentum.hu>
Message-ID: <CAJKr4LP6XA0h+Pz2cfNVcQREeT1yS2LOQ6iPpM94BKZFqZGmow@mail.gmail.com>

D?nes, thank you for the guidance - which is well-taken.

Your side note raises an interesting question: I find the piping %>%
operator readable. Is there any downside to it? Or is the side note meant
to tell me to drop the last: "%>% `[`"?

Thank you,


==
Michael Lachanski
PhD Student in Demography and Sociology
MA Candidate in Statistics
University of Pennsylvania
mikelach at sas.upenn.edu


On Sat, Dec 31, 2022 at 9:22 AM D?nes T?th <toth.denes at kogentum.hu> wrote:

> Hi Michael,
>
> Note that you have to be very careful when using by-reference operations
> in data.table (see `?data.table::set`), especially in a functional
> programming approach. In your function, you avoid this problem by
> calling `data.table(A)` which makes a copy of A even if it is already a
> data.table. However, for large data.table-s, copying can be a very
> expensive operation (esp. in terms of RAM usage), which can be totally
> eliminated by using data.tables in the data.table-way (e.g., joining,
> grouping, and aggregating in the same step by performing these
> operations within `[`, see `?data.table`).
>
> So instead of blindly functionalizing all your code, try to be
> pragmatic. Functional programming is not about using pure functions in
> *every* part of your code base, because it is unfeasible in 99.9% of
> real-world problems. Even Haskell has `IO` and `do`; the point is that
> the  imperative and functional parts of the code are clearly separated
> and imperative components are (tried to be) as top-level as possible.
>
> So when using data.table, a good strategy is to use pure functions for
> performing within-data.table operations, e.g., `DT[, lapply(.SD, mean),
> .SDcols = is.numeric]`, and when these operations alter `DT` by
> reference, invoke the chains of these operations in "pure" wrappers -
> e.g., calling `A <- copy(A)` on the top and then modifying `A` directly.
>
> Cheers,
> Denes
>
> Side note: You do not need to use `DT[ , A:= shift(A, fill = NA, type =
> "lag", n = 1)] %>% `[`(return(DT))`. `[.data.table` returns the result
> (the modified DT) invisibly. If you want to let auto-print work, you can
> just use `DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)][]`.
>
> Note that this also means you usually you do not need to use magrittr's
> or base-R pipe when transforming data.table-s. You can do this instead:
> ```
> DT[
>    ## filter rows where 'x' column equals "a"
>    x == "a"
> ][
>    ## calculate the mean of `z` for each gender and assign it to `y`
>    , y := mean(z), by = "gender"
> ][
>    ## do whatever you want
>    ...
> ]
> ```
>
>
> On 12/31/22 13:39, Rui Barradas wrote:
> > ?s 06:50 de 31/12/2022, Michael Lachanski escreveu:
> >> Hello,
> >>
> >> I am trying to make a habit of "functionalizing" all of my code as
> >> recommended by Hadley Wickham. I have found it surprisingly difficult
> >> to do
> >> so because several intermediate features from data.table break or give
> >> unexpected results using purrr and its data.table adaptation, tidytable.
> >> Here is the a minimal working example of what has stumped me most
> >> recently:
> >>
> >> ===
> >>
> >> library(data.table); library(tidytable)
> >>
> >> minimal_failing_function <- function(A){
> >>    DT <- data.table(A)
> >>    DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)] %>% `[`
> >>    return(DT)}
> >> # works
> >> minimal_failing_function(c(1,2))
> >> # fails
> >> tidytable::pmap_dfr(.l = list(c(1,2)),
> >>                      .f = minimal_failing_function)
> >>
> >>
> >> ===
> >> These should ideally give the same output, but do not. This also fails
> >> using purrr::pmap_dfr rather than tidytable. I am using R 4.2.2 and I
> >> am on
> >> Mac OS Ventura 13.1.
> >>
> >> Thank you for any help you can provide or general guidance.
> >>
> >>
> >> ==
> >> Michael Lachanski
> >> PhD Student in Demography and Sociology
> >> MA Candidate in Statistics
> >> University of Pennsylvania
> >> mikelach at sas.upenn.edu
> >>
> >>     [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$
> >> PLEASE do read the posting guide
> >>
> https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$
> >> and provide commented, minimal, self-contained, reproducible code.
> > Hello,
> >
> > Use map_dfr instead of pmap_dfr.
> >
> >
> > library(data.table)
> > library(tidytable)
> >
> > minimal_failing_function <- function(A) {
> >    DT <- data.table(A)
> >    DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)] %>% `[`
> >    return(DT)
> > }
> >
> > # works
> > tidytable::map_dfr(.x = list(c(1,2)),
> >                     .f = minimal_failing_function)
> > #> # A tidytable: 2 ? 1
> > #>       A
> > #>   <dbl>
> > #> 1    NA
> > #> 2     1
> >
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$
> > PLEASE do read the posting guide
> >
> https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$
> > and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Jan  3 11:20:50 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 3 Jan 2023 13:20:50 +0300
Subject: [R] Stepmax in Neuralnet
In-Reply-To: <CAEJRAFY2V_DhAuhAXuGXE8ZkmhK8tC+9C8yJjAAoqXP10pp=pw@mail.gmail.com>
References: <CAEJRAFY2V_DhAuhAXuGXE8ZkmhK8tC+9C8yJjAAoqXP10pp=pw@mail.gmail.com>
Message-ID: <20230103132050.14c53878@Tarkus>

On Mon, 2 Jan 2023 17:50:09 +0100
G?bor Malomsoki <gmalomsoki1980 at gmail.com> wrote:

> if i set the stepmax parameter higher then i increase the performance
> of the neuralnet?
> Would be my prediction more accurate?

Unfortunately, it's very hard to give a good answer to this question as
stated. If the model is underfitted, giving it more iterations might
result in performance increase. If the model is not underfitted, giving
it more iterations may improve its training set performance while
worsening its ability to predict non-training samples.

Have you tried it yourself?

-- 
Best regards,
Ivan


From gm@|om@ok|1980 @end|ng |rom gm@||@com  Tue Jan  3 11:41:18 2023
From: gm@|om@ok|1980 @end|ng |rom gm@||@com (=?UTF-8?Q?G=C3=A1bor_Malomsoki?=)
Date: Tue, 3 Jan 2023 11:41:18 +0100
Subject: [R] Stepmax in Neuralnet
In-Reply-To: <20230103132050.14c53878@Tarkus>
References: <CAEJRAFY2V_DhAuhAXuGXE8ZkmhK8tC+9C8yJjAAoqXP10pp=pw@mail.gmail.com>
 <20230103132050.14c53878@Tarkus>
Message-ID: <CAEJRAFb92UZEGXumcwQqRMq5N=LMFeMqm=Gy==zSq2K4A57Eww@mail.gmail.com>

thanks,
i have not tried yet, because the memory of my computer is too small, and i
have to wait for the result ca 1 day.



Am Di., 3. Jan. 2023 um 11:21 Uhr schrieb Ivan Krylov <krylov.r00t at gmail.com
>:

> On Mon, 2 Jan 2023 17:50:09 +0100
> G?bor Malomsoki <gmalomsoki1980 at gmail.com> wrote:
>
> > if i set the stepmax parameter higher then i increase the performance
> > of the neuralnet?
> > Would be my prediction more accurate?
>
> Unfortunately, it's very hard to give a good answer to this question as
> stated. If the model is underfitted, giving it more iterations might
> result in performance increase. If the model is not underfitted, giving
> it more iterations may improve its training set performance while
> worsening its ability to predict non-training samples.
>
> Have you tried it yourself?
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From toth@dene@ @end|ng |rom kogentum@hu  Tue Jan  3 11:48:54 2023
From: toth@dene@ @end|ng |rom kogentum@hu (=?UTF-8?B?RMOpbmVzIFTDs3Ro?=)
Date: Tue, 3 Jan 2023 11:48:54 +0100
Subject: [R] 
 Functional Programming Problem Using purr and R's data.table
 shift function
In-Reply-To: <CAJKr4LP6XA0h+Pz2cfNVcQREeT1yS2LOQ6iPpM94BKZFqZGmow@mail.gmail.com>
References: <CAJKr4LMDHwqpJ5_pOswEfdKKQrU+wx+kcwHWq2T0pAjLcebDFA@mail.gmail.com>
 <2374d4d9-f2f2-1736-6814-bc606c41d4ad@sapo.pt>
 <a8139e35-06d6-36fa-a732-c097f7c03f19@kogentum.hu>
 <CAJKr4LP6XA0h+Pz2cfNVcQREeT1yS2LOQ6iPpM94BKZFqZGmow@mail.gmail.com>
Message-ID: <b5bb833d-18c8-a2f8-eef9-ddb69bdf3bbc@kogentum.hu>

Hi Michael,

R returns the result of the last evaluated expression by default:
```
add_2 <- function(x) {
   x + 2L
}
```

is the same as and preferred over
```
add_2_return <- function(x) {
   out <- x + 2L
   return(out)
}
```

In the idiomatic use of R, one uses explicit `return` when one wants to 
break the control flow, e.g.:
```
add_2_if_number <- function(x) {
   ## early return if x is not numeric
   if (!is.numeric(x)) {
     return(x)
   }
   ## process otherwise (usually more complicated steps)
   ## note: this part will not be reached for non-numeric x
   x + 2L
}
```

So yes, you should drop the last "%>% `[`" altogether as `[.data.table` 
already returns the whole (modified) data.table when `:=` is used.

Side note:: If you use >=R4.1.0 and you do not use special features of 
`%>%`, try the native `|>` operator first (see `?pipeOp`). 1) You do not 
depend an a user-contributed package, and 2) it works at the parser level.

Cheers,
Denes

On 1/2/23 18:59, Michael Lachanski wrote:
> D?nes, thank you for the guidance - which is well-taken.
> 
> Your side note raises an interesting question: I find the piping %>% 
> operator readable. Is there any downside to it? Or is the side note 
> meant to tell me to drop the last: "%>% `[`"?
> 
> Thank you,
> 
> 
> ==
> Michael Lachanski
> PhD Student in Demography and Sociology
> MA Candidate in Statistics
> University of Pennsylvania
> mikelach at sas.upenn.edu <mailto:mikelach at sas.upenn.edu>
> 
> 
> On Sat, Dec 31, 2022 at 9:22 AM D?nes T?th <toth.denes at kogentum.hu 
> <mailto:toth.denes at kogentum.hu>> wrote:
> 
>     Hi Michael,
> 
>     Note that you have to be very careful when using by-reference
>     operations
>     in data.table (see `?data.table::set`), especially in a functional
>     programming approach. In your function, you avoid this problem by
>     calling `data.table(A)` which makes a copy of A even if it is already a
>     data.table. However, for large data.table-s, copying can be a very
>     expensive operation (esp. in terms of RAM usage), which can be totally
>     eliminated by using data.tables in the data.table-way (e.g., joining,
>     grouping, and aggregating in the same step by performing these
>     operations within `[`, see `?data.table`).
> 
>     So instead of blindly functionalizing all your code, try to be
>     pragmatic. Functional programming is not about using pure functions in
>     *every* part of your code base, because it is unfeasible in 99.9% of
>     real-world problems. Even Haskell has `IO` and `do`; the point is that
>     the? imperative and functional parts of the code are clearly separated
>     and imperative components are (tried to be) as top-level as possible.
> 
>     So when using data.table, a good strategy is to use pure functions for
>     performing within-data.table operations, e.g., `DT[, lapply(.SD, mean),
>     .SDcols = is.numeric]`, and when these operations alter `DT` by
>     reference, invoke the chains of these operations in "pure" wrappers -
>     e.g., calling `A <- copy(A)` on the top and then modifying `A` directly.
> 
>     Cheers,
>     Denes
> 
>     Side note: You do not need to use `DT[ , A:= shift(A, fill = NA, type =
>     "lag", n = 1)] %>% `[`(return(DT))`. `[.data.table` returns the result
>     (the modified DT) invisibly. If you want to let auto-print work, you
>     can
>     just use `DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)][]`.
> 
>     Note that this also means you usually you do not need to use magrittr's
>     or base-R pipe when transforming data.table-s. You can do this instead:
>     ```
>     DT[
>      ? ?## filter rows where 'x' column equals "a"
>      ? ?x == "a"
>     ][
>      ? ?## calculate the mean of `z` for each gender and assign it to `y`
>      ? ?, y := mean(z), by = "gender"
>     ][
>      ? ?## do whatever you want
>      ? ?...
>     ]
>     ```
> 
> 
>     On 12/31/22 13:39, Rui Barradas wrote:
>      > ?s 06:50 de 31/12/2022, Michael Lachanski escreveu:
>      >> Hello,
>      >>
>      >> I am trying to make a habit of "functionalizing" all of my code as
>      >> recommended by Hadley Wickham. I have found it surprisingly
>     difficult
>      >> to do
>      >> so because several intermediate features from data.table break
>     or give
>      >> unexpected results using purrr and its data.table adaptation,
>     tidytable.
>      >> Here is the a minimal working example of what has stumped me most
>      >> recently:
>      >>
>      >> ===
>      >>
>      >> library(data.table); library(tidytable)
>      >>
>      >> minimal_failing_function <- function(A){
>      >> ?? DT <- data.table(A)
>      >> ?? DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)] %>% `[`
>      >> ?? return(DT)}
>      >> # works
>      >> minimal_failing_function(c(1,2))
>      >> # fails
>      >> tidytable::pmap_dfr(.l = list(c(1,2)),
>      >> ???????????????????? .f = minimal_failing_function)
>      >>
>      >>
>      >> ===
>      >> These should ideally give the same output, but do not. This also
>     fails
>      >> using purrr::pmap_dfr rather than tidytable. I am using R 4.2.2
>     and I
>      >> am on
>      >> Mac OS Ventura 13.1.
>      >>
>      >> Thank you for any help you can provide or general guidance.
>      >>
>      >>
>      >> ==
>      >> Michael Lachanski
>      >> PhD Student in Demography and Sociology
>      >> MA Candidate in Statistics
>      >> University of Pennsylvania
>      >> mikelach at sas.upenn.edu <mailto:mikelach at sas.upenn.edu>
>      >>
>      >> ????[[alternative HTML version deleted]]
>      >>
>      >> ______________________________________________
>      >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      >>
>     https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$ <https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$>
>      >> PLEASE do read the posting guide
>      >>
>     https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$ <https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$>
>      >> and provide commented, minimal, self-contained, reproducible code.
>      > Hello,
>      >
>      > Use map_dfr instead of pmap_dfr.
>      >
>      >
>      > library(data.table)
>      > library(tidytable)
>      >
>      > minimal_failing_function <- function(A) {
>      >? ? DT <- data.table(A)
>      >? ? DT[ , A:= shift(A, fill = NA, type = "lag", n = 1)] %>% `[`
>      >? ? return(DT)
>      > }
>      >
>      > # works
>      > tidytable::map_dfr(.x = list(c(1,2)),
>      >? ?????????????????? .f = minimal_failing_function)
>      > #> # A tidytable: 2 ? 1
>      > #>?????? A
>      > #>?? <dbl>
>      > #> 1??? NA
>      > #> 2???? 1
>      >
>      >
>      > Hope this helps,
>      >
>      > Rui Barradas
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      >
>     https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$ <https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_xXCvB6t$>
>      > PLEASE do read the posting guide
>      >
>     https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$ <https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!IBzWLUs!VdfzdJ15GLScUok_hiqL3DvTJ20Ce8JMBkQ1NosBfyOvu68iuQkh9nsPZuUBbB9BtrsZBh86OjGyyj3lAB2g_3rS2yQK$>
>      > and provide commented, minimal, self-contained, reproducible code.
>      >
>


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Tue Jan  3 17:48:30 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 3 Jan 2023 16:48:30 +0000
Subject: [R] Pipe operator
In-Reply-To: <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
Message-ID: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>

I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other? 

P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.  

John


From cry@n @end|ng |rom b|ngh@mton@edu  Tue Jan  3 17:57:24 2023
From: cry@n @end|ng |rom b|ngh@mton@edu (Christopher Ryan)
Date: Tue, 3 Jan 2023 11:57:24 -0500
Subject: [R] [External Email]  Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CAM+rpYm5GaG+0Ed04meDaWNhihJGXTHZqgPUKnD8avODQt=J2A@mail.gmail.com>

I think there are probably a number of purposes for (advantages to?)
the pipe operator. One is that it can avoid nested operations:

plot(mean(sqrt(c(1:10))))  ## this is my silly example code

which can get difficult to read.  This is arguably easier to read and
understand:

c(1:10) %>% sqrt() %>% mean() %>% plot()

As the chain of operations become longer, and as each "link" in the
chain becomes more complex, the value of the pipe approach, compared
to deep nesting in parentheses, increases, in my view.

--Chris Ryan

On Tue, Jan 3, 2023 at 11:48 AM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Tue Jan  3 18:07:52 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 3 Jan 2023 17:07:52 +0000
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>

The pipe shortens code and results in fewer variables because you do not have to save intermediate steps. Once you get used to the idea it is useful. Note that there is also the |> pipe that is part of base R. As far as I know it does the same thing as %>%, or at my level of programing I have not encountered a difference.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Tuesday, January 3, 2023 11:49 AM
To: 'R-help Mailing List' <r-help at r-project.org>
Subject: [R] Pipe operator

[External Email]

I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?

P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.

John

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4e084253a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083613362415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=fV9Ca3OAleDX%2BwuPJIONYStrAdaQhXTsq61jh2pLtDY%3D&reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4e084253a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083613362415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=YUnV9kE1RcbB3BwM5gKwKwc3qNKhIVNFtxOxKmpbGrQ%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Tue Jan  3 18:13:22 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 3 Jan 2023 17:13:22 +0000
Subject: [R] Pipe operator
In-Reply-To: <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>

Tim,

Thank you for your reply. I did not know about the |> operator. Do both %>% and |> work in base R?

You suggested that the pipe operator can produce code with fewer variables. May I ask you to send a short example in which the pipe operator saves variables. Does said saving of variables speed up processing or result in less memory usage?

Thank you,
John

________________________________________
From: Ebert,Timothy Aaron <tebert at ufl.edu>
Sent: Tuesday, January 3, 2023 12:07 PM
To: Sorkin, John; 'R-help Mailing List'
Subject: RE: Pipe operator

The pipe shortens code and results in fewer variables because you do not have to save intermediate steps. Once you get used to the idea it is useful. Note that there is also the |> pipe that is part of base R. As far as I know it does the same thing as %>%, or at my level of programing I have not encountered a difference.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Tuesday, January 3, 2023 11:49 AM
To: 'R-help Mailing List' <r-help at r-project.org>
Subject: [R] Pipe operator

[External Email]

I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?

P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.

John

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=7dDMSg%2FmPQ5xXP6zu6MWLmARdtdlrYWb3mXPZQj0La0%3D&reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=l5BZyjup%2Bho%2FijE1zQMxb5JE3F5VfKBZpUKHYW4k4Fg%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Tue Jan  3 18:34:37 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 3 Jan 2023 17:34:37 +0000
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <BN6PR2201MB155378D68586F7781F2EEA60CFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>

Christopher Ryan sent this example
c(1:10) %>% sqrt() %>% mean() %>% plot()
I could code this as

A <- c(1:10)
B <- sqrt(A)
C<- mean(B)
plot(C)

I can then clean up by removing variables that I have no further use for.
rm(A, B, C)

The %>% operator is from the magriter package. It can be installed directly, or it is also installed if you use the tidyverse package (and possibly many others). The |> is base R, but it was added in R version 4.1.0.

I do not know if it increases processing speed.
It can save memory usage, especially if one is a messy programmer and does not tidy up after each task.
If you wanted to test execution times for bits of code there is the microbenchmark package.

Tim

-----Original Message-----
From: Sorkin, John <jsorkin at som.umaryland.edu> 
Sent: Tuesday, January 3, 2023 12:13 PM
To: Ebert,Timothy Aaron <tebert at ufl.edu>; 'R-help Mailing List' <r-help at r-project.org>
Subject: Re: Pipe operator

[External Email]

Tim,

Thank you for your reply. I did not know about the |> operator. Do both %>% and |> work in base R?

You suggested that the pipe operator can produce code with fewer variables. May I ask you to send a short example in which the pipe operator saves variables. Does said saving of variables speed up processing or result in less memory usage?

Thank you,
John

________________________________________
From: Ebert,Timothy Aaron <tebert at ufl.edu>
Sent: Tuesday, January 3, 2023 12:07 PM
To: Sorkin, John; 'R-help Mailing List'
Subject: RE: Pipe operator

The pipe shortens code and results in fewer variables because you do not have to save intermediate steps. Once you get used to the idea it is useful. Note that there is also the |> pipe that is part of base R. As far as I know it does the same thing as %>%, or at my level of programing I have not encountered a difference.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Tuesday, January 3, 2023 11:49 AM
To: 'R-help Mailing List' <r-help at r-project.org>
Subject: [R] Pipe operator

[External Email]

I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?

P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.

John

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu%7Cfa39e74a28354e3b3f6c08daedadd2ab%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083628073049849%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=qCK4H%2BtClknwzT9sQpQAUeei9I6dFz7vP904X0n39cw%3D&reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7Cfa39e74a28354e3b3f6c08daedadd2ab%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083628073049849%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=%2F75VhIpUPDD1VjEHWJ5HBKcQO6cYciTJSMPJ9nETmMQ%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.


From 538280 @end|ng |rom gm@||@com  Tue Jan  3 18:35:29 2023
From: 538280 @end|ng |rom gm@||@com (Greg Snow)
Date: Tue, 3 Jan 2023 10:35:29 -0700
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CAFEqCdzdZmy2WrCFDKbh018rhTuODzav27TRJpOm3DwTdLe7bA@mail.gmail.com>

To expand a little on Christopher's answer.

The short answer is that having the different syntaxes can lead to
more readable code (when used properly).

Note that there are now 2 different (but somewhat similar) pipes
available in R (there could be more in some package(s) that I don't
know about, but will just talk about the main 2).

The %>% pipe comes from the magrittr package, but many other packages
now import that package.  But you need to load the magrittr package,
either directly or indirectly, before you can use that pipe.  The
magrittr pipe is a function call, so there is small increase in time
and memory for using it, but it is a small fraction of a second and a
few bytes of memory, so you probably will not notice the increased
usage.

The core R language now has a built in pipe |> which is handled by the
parser, so no extra function calls and you do not need to load any
extra packages (though you need a somewhat recent version of R, within
the last year or so).

The built-in |> pipe is a little pickier, you need to include the
parentheses in a function call, e.g. 1:10 |> mean() where the magrittr
pipe can work with that call or the function without parentheses, e.g.
1:10 %>% mean or 1:10 %>% mean(), this makes %>% a little easier to
work with anonymous functions.  If the previous return needs to be
passed to an argument other than the first, then %>% uses "." and |>
uses "_".

The magrittr package has additional versions of the pipe and some
functions that wrap around common operators to make it easier to use
them with pipes, so there are still advantages to loading that package
if any of those are helpful.

For a simple case like your example, the pipe probably does not help
with readability much, but as we string more function calls together.
For example, here are 3 ways to compute the geometric mean of the data
in a vector "x":

exp(mean(log(x)))

logx <- log(x)
mlx <- mean(logx)
exp(mtx)

x |>
   log() |>
   mean() |>
   exp()

These all do the same thing, but the first option is read from the
middle outward (which can be tricky) and is even more complicated if
you use additional arguments to any of the functions.
The second option reads top down, but requires creating intermediate
variables.  The last reads similar to the second, but without the
extra variables.  Spreading the series of function calls across
multiple rows makes it easier to read and easily lets you insert a
line like `print() |>` for debugging or checking intermediate results,
and single lines can easily be commented out to skip that step.

I have found myself using code like the following to compute a table,
print it, and compute the proportions all in one step:

table(f, g) |>
  print() |>
  prop.table()

The pipes also work very well with the tidyverse, or even the tidy
data ideas without those packages where we use a single function for
each change, e.g. start with a data frame, select a subset of the
columns, filter to a subset of the rows, mutate a column, join to
another data frame, then pass the final result to a modeling function
like `lm` (and then pass that result to a summary function).  This is
nicely readable when each step is its own line.

On Tue, Jan 3, 2023 at 9:49 AM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>
> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From @vi@e@gross m@iii@g oii gm@ii@com  Tue Jan  3 18:40:44 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 3 Jan 2023 12:40:44 -0500
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <004b01d91f9a$822dbb00$86893100$@gmail.com>

John,

The topic has indeed been discussed here endlessly but new people still
stumble upon it.

Until recently, the formal R language did not have a built-in pipe
functionality. It was widely used through an assortment of packages and
there are quite a few variations on the theme including different
implementations.

Most existing code does use the operator %>% but there is now a built-in |>
operator that is generally faster but is not as easy to use in a few cases.

Please forget the use of the word FILE here. Pipes are a form of syntactic
sugar that generally is about the FIRST argument to a function. They are NOT
meant to be used just for the trivial case you mention where indeed there is
an easy way to do things. Yes, they work in such situations. But consider a
deeply nested expression like this:

Result <- round(max(cos(x), 3.14159/4), 3)

There are MANY deeper nested expressions like this commonly used. The above
can be written linearly as in

Temp1 <- cos(x)
Temp2 <- max(Temp1, 3.14159/4)
Result <- round(Temp2, 3)

Translation, for some variable x, calculate the cosine and take the maximum
value of it as compared to pi/4 and round the result to three decimal
places. Not an uncommon kind of thing to do and sometimes you can nest such
things many layers deep and get hopelessly confused if not done somewhat
linearly.

What pipes allow is to write this closer to the second way while not seeing
or keeping any temporary variables around. The goal is to replace the FIRST
argument to a function with whatever resulted as the value of the previous
expression. That is often a vector or data.frame or list or any kind of
object but can also be fairly complex as in a list of lists of matrices.

So you can still start with cos(x) OR you can write this where the x is
removed from within and leaves cos() empty:

x %>% cos
or
x |> cos()

In the previous version of pipes the parentheses after cos() are optional if
there are no additional arguments but the new pipe requires them.

So continuing the above, using multiple lines, the pipe looks like:

Result <-
  x %>%
  cos() %>%
  max(3.14159/4) %>%
  round(3)

This gives the same result but is arguably easier for some to read and
follow. Nobody forces you to use it and for simple cases, most people don't.

There is a grouping of packages called the tidyverse that makes heavy use of
pipes routine as they made most or all their functions such that the first
argument is the one normally piped to and it can be very handy to write code
that says, read in your data into a variable (a data.frame or tibble often)
and PIPE IT to a function that renames some columns and PIPE the resulting
modified object to a function that retains only selected rows and pipe that
to a function that drops some of the columns and pipe that to a function
that groups the items or sorts them and pipe that to a function that does a
join with another object or generates a report or so many other things.

So the real answer is that piping is another WAY of doing things from a
programmers perspective. Underneath it all, it is mostly syntactic sugar and
the interpreter rearranges your code and performs the steps in what seems
like a different order at times. Generally, you do not need to care.



-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Tuesday, January 3, 2023 11:49 AM
To: 'R-help Mailing List' <r-help at r-project.org>
Subject: [R] Pipe operator

I am trying to understand the reason for existence of the pipe operator,
%>%, and when one should use it. It is my understanding that the operator
sends the file to the left of the operator to the function immediately to
the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
result one obtains using the mean function directly, viz. mean(c(1:10)).
What is the reason for having two syntactically different but semantically
identical ways to call a function? Is one more efficient than the other?
Does one use less memory than the other? 

P.S. Please forgive what might seem to be a question with an obvious answer.
I am a programmer dinosaur. I have been programming for more than 50 years.
When I started programming in the 1960s the only pipe one spoke about was a
bong.  

John

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From @vi@e@gross m@iii@g oii gm@ii@com  Tue Jan  3 19:34:25 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 3 Jan 2023 13:34:25 -0500
Subject: [R] Pipe operator
In-Reply-To: <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <004d01d91fa2$01931640$04b942c0$@gmail.com>

Tim,

There are differences and this one can be huge.

The other pipe operators let you pass the current object to a later argument
instead of the first by using a period to represent where to put it. The new
one has a harder albeit flexible method by creating an anonymous function.

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Ebert,Timothy Aaron
Sent: Tuesday, January 3, 2023 12:08 PM
To: Sorkin, John <jsorkin at som.umaryland.edu>; 'R-help Mailing List'
<r-help at r-project.org>
Subject: Re: [R] Pipe operator

The pipe shortens code and results in fewer variables because you do not
have to save intermediate steps. Once you get used to the idea it is useful.
Note that there is also the |> pipe that is part of base R. As far as I know
it does the same thing as %>%, or at my level of programing I have not
encountered a difference.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Tuesday, January 3, 2023 11:49 AM
To: 'R-help Mailing List' <r-help at r-project.org>
Subject: [R] Pipe operator

[External Email]

I am trying to understand the reason for existence of the pipe operator,
%>%, and when one should use it. It is my understanding that the operator
sends the file to the left of the operator to the function immediately to
the right of the operator:

c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
result one obtains using the mean function directly, viz. mean(c(1:10)).
What is the reason for having two syntactically different but semantically
identical ways to call a function? Is one more efficient than the other?
Does one use less memory than the other?

P.S. Please forgive what might seem to be a question with an obvious answer.
I am a programmer dinosaur. I have been programming for more than 50 years.
When I started programming in the 1960s the only pipe one spoke about was a
bong.

John

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.
ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4
e084253a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6380836
13362415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJB
TiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=fV9Ca3OAleDX%2BwuPJIONYStrA
daQhXTsq61jh2pLtDY%3D&reserved=0
PLEASE do read the posting guide
https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-proje
ct.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4e0842
53a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083613362
415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6I
k1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=YUnV9kE1RcbB3BwM5gKwKwc3qNKhIVNF
txOxKmpbGrQ%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bor|@@@te|pe @end|ng |rom utoronto@c@  Tue Jan  3 20:00:46 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Tue, 3 Jan 2023 19:00:46 +0000
Subject: [R] Pipe operator
In-Reply-To: <004b01d91f9a$822dbb00$86893100$@gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <004b01d91f9a$822dbb00$86893100$@gmail.com>
Message-ID: <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>

Working off Avi's example - would:

  x |> cos() |> max(pi/4) |> round(3) |> assign("x", value = _)

...be even more intuitive to read? Or are there hidden problems with that?



Cheers,
Boris


> On 2023-01-03, at 12:40, avi.e.gross at gmail.com wrote:
> 
> John,
> 
> The topic has indeed been discussed here endlessly but new people still
> stumble upon it.
> 
> Until recently, the formal R language did not have a built-in pipe
> functionality. It was widely used through an assortment of packages and
> there are quite a few variations on the theme including different
> implementations.
> 
> Most existing code does use the operator %>% but there is now a built-in |>
> operator that is generally faster but is not as easy to use in a few cases.
> 
> Please forget the use of the word FILE here. Pipes are a form of syntactic
> sugar that generally is about the FIRST argument to a function. They are NOT
> meant to be used just for the trivial case you mention where indeed there is
> an easy way to do things. Yes, they work in such situations. But consider a
> deeply nested expression like this:
> 
> Result <- round(max(cos(x), 3.14159/4), 3)
> 
> There are MANY deeper nested expressions like this commonly used. The above
> can be written linearly as in
> 
> Temp1 <- cos(x)
> Temp2 <- max(Temp1, 3.14159/4)
> Result <- round(Temp2, 3)
> 
> Translation, for some variable x, calculate the cosine and take the maximum
> value of it as compared to pi/4 and round the result to three decimal
> places. Not an uncommon kind of thing to do and sometimes you can nest such
> things many layers deep and get hopelessly confused if not done somewhat
> linearly.
> 
> What pipes allow is to write this closer to the second way while not seeing
> or keeping any temporary variables around. The goal is to replace the FIRST
> argument to a function with whatever resulted as the value of the previous
> expression. That is often a vector or data.frame or list or any kind of
> object but can also be fairly complex as in a list of lists of matrices.
> 
> So you can still start with cos(x) OR you can write this where the x is
> removed from within and leaves cos() empty:
> 
> x %>% cos
> or
> x |> cos()
> 
> In the previous version of pipes the parentheses after cos() are optional if
> there are no additional arguments but the new pipe requires them.
> 
> So continuing the above, using multiple lines, the pipe looks like:
> 
> Result <-
>  x %>%
>  cos() %>%
>  max(3.14159/4) %>%
>  round(3)
> 
> This gives the same result but is arguably easier for some to read and
> follow. Nobody forces you to use it and for simple cases, most people don't.
> 
> There is a grouping of packages called the tidyverse that makes heavy use of
> pipes routine as they made most or all their functions such that the first
> argument is the one normally piped to and it can be very handy to write code
> that says, read in your data into a variable (a data.frame or tibble often)
> and PIPE IT to a function that renames some columns and PIPE the resulting
> modified object to a function that retains only selected rows and pipe that
> to a function that drops some of the columns and pipe that to a function
> that groups the items or sorts them and pipe that to a function that does a
> join with another object or generates a report or so many other things.
> 
> So the real answer is that piping is another WAY of doing things from a
> programmers perspective. Underneath it all, it is mostly syntactic sugar and
> the interpreter rearranges your code and performs the steps in what seems
> like a different order at times. Generally, you do not need to care.
> 
> 
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
> Sent: Tuesday, January 3, 2023 11:49 AM
> To: 'R-help Mailing List' <r-help at r-project.org>
> Subject: [R] Pipe operator
> 
> I am trying to understand the reason for existence of the pipe operator,
> %>%, and when one should use it. It is my understanding that the operator
> sends the file to the left of the operator to the function immediately to
> the right of the operator:
> 
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
> result one obtains using the mean function directly, viz. mean(c(1:10)).
> What is the reason for having two syntactically different but semantically
> identical ways to call a function? Is one more efficient than the other?
> Does one use less memory than the other? 
> 
> P.S. Please forgive what might seem to be a question with an obvious answer.
> I am a programmer dinosaur. I have been programming for more than 50 years.
> When I started programming in the 1960s the only pipe one spoke about was a
> bong.  
> 
> John
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


--
Boris Steipe MD, PhD

Professor em.
Department of Biochemistry 
Temerty Faculty of Medicine
University of Toronto


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jan  3 20:07:35 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 03 Jan 2023 11:07:35 -0800
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <C57F1CA3-8A75-4929-AAAB-B09229D86B60@dcn.davis.ca.us>

The other responses here have been very good, but I felt it necessary to point out that the concept of a pipe originated around when you started programming [1] (text based). It did take awhile for it to migrate into programming languages such as OCaml, but Powershell makes extensive use of (object-based) pipes.

Re memory use: not so much. Variables are small... it is the data they point to that is large, and it is not possible to analyze data without storing it somewhere. But when the variables are numerous they can interfere with our ability to understand the program... using pipes lets us focus on results obtained after several steps so fewer intermediate values clutter the variable space.

Re speed: the magrittr pipe (%>%) is much slower than the built-in pipe at coordinating the transfer of data from left to right, but that is not usually significant compared to the computation speed on the actual data in the functions.

 [1] https://en.m.wikipedia.org/wiki/Pipeline_(Unix)#:~:text=The%20concept%20of%20pipelines%20was,Ritchie%20%26%20Thompson%2C%201974).

On January 3, 2023 9:13:22 AM PST, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>Tim,
>
>Thank you for your reply. I did not know about the |> operator. Do both %>% and |> work in base R?
>
>You suggested that the pipe operator can produce code with fewer variables. May I ask you to send a short example in which the pipe operator saves variables. Does said saving of variables speed up processing or result in less memory usage?
>
>Thank you,
>John
>
>________________________________________
>From: Ebert,Timothy Aaron <tebert at ufl.edu>
>Sent: Tuesday, January 3, 2023 12:07 PM
>To: Sorkin, John; 'R-help Mailing List'
>Subject: RE: Pipe operator
>
>The pipe shortens code and results in fewer variables because you do not have to save intermediate steps. Once you get used to the idea it is useful. Note that there is also the |> pipe that is part of base R. As far as I know it does the same thing as %>%, or at my level of programing I have not encountered a difference.
>
>Tim
>
>-----Original Message-----
>From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
>Sent: Tuesday, January 3, 2023 11:49 AM
>To: 'R-help Mailing List' <r-help at r-project.org>
>Subject: [R] Pipe operator
>
>[External Email]
>
>I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
>c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
>P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
>John
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=7dDMSg%2FmPQ5xXP6zu6MWLmARdtdlrYWb3mXPZQj0La0%3D&reserved=0
>PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=l5BZyjup%2Bho%2FijE1zQMxb5JE3F5VfKBZpUKHYW4k4Fg%3D&reserved=0
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jan  3 20:14:49 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 3 Jan 2023 19:14:49 +0000
Subject: [R] Pipe operator
In-Reply-To: <CAFEqCdzdZmy2WrCFDKbh018rhTuODzav27TRJpOm3DwTdLe7bA@mail.gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAFEqCdzdZmy2WrCFDKbh018rhTuODzav27TRJpOm3DwTdLe7bA@mail.gmail.com>
Message-ID: <e1d6c5fb-6885-f9ce-8bf4-5c64d0a0e8e7@sapo.pt>

?s 17:35 de 03/01/2023, Greg Snow escreveu:
> To expand a little on Christopher's answer.
> 
> The short answer is that having the different syntaxes can lead to
> more readable code (when used properly).
> 
> Note that there are now 2 different (but somewhat similar) pipes
> available in R (there could be more in some package(s) that I don't
> know about, but will just talk about the main 2).
> 
> The %>% pipe comes from the magrittr package, but many other packages
> now import that package.  But you need to load the magrittr package,
> either directly or indirectly, before you can use that pipe.  The
> magrittr pipe is a function call, so there is small increase in time
> and memory for using it, but it is a small fraction of a second and a
> few bytes of memory, so you probably will not notice the increased
> usage.
> 
> The core R language now has a built in pipe |> which is handled by the
> parser, so no extra function calls and you do not need to load any
> extra packages (though you need a somewhat recent version of R, within
> the last year or so).
> 
> The built-in |> pipe is a little pickier, you need to include the
> parentheses in a function call, e.g. 1:10 |> mean() where the magrittr
> pipe can work with that call or the function without parentheses, e.g.
> 1:10 %>% mean or 1:10 %>% mean(), this makes %>% a little easier to
> work with anonymous functions.  If the previous return needs to be
> passed to an argument other than the first, then %>% uses "." and |>
> uses "_".
> 
> The magrittr package has additional versions of the pipe and some
> functions that wrap around common operators to make it easier to use
> them with pipes, so there are still advantages to loading that package
> if any of those are helpful.
> 
> For a simple case like your example, the pipe probably does not help
> with readability much, but as we string more function calls together.
> For example, here are 3 ways to compute the geometric mean of the data
> in a vector "x":
> 
> exp(mean(log(x)))
> 
> logx <- log(x)
> mlx <- mean(logx)
> exp(mtx)
> 
> x |>
>     log() |>
>     mean() |>
>     exp()
> 
> These all do the same thing, but the first option is read from the
> middle outward (which can be tricky) and is even more complicated if
> you use additional arguments to any of the functions.
> The second option reads top down, but requires creating intermediate
> variables.  The last reads similar to the second, but without the
> extra variables.  Spreading the series of function calls across
> multiple rows makes it easier to read and easily lets you insert a
> line like `print() |>` for debugging or checking intermediate results,
> and single lines can easily be commented out to skip that step.
> 
> I have found myself using code like the following to compute a table,
> print it, and compute the proportions all in one step:
> 
> table(f, g) |>
>    print() |>
>    prop.table()
> 
> The pipes also work very well with the tidyverse, or even the tidy
> data ideas without those packages where we use a single function for
> each change, e.g. start with a data frame, select a subset of the
> columns, filter to a subset of the rows, mutate a column, join to
> another data frame, then pass the final result to a modeling function
> like `lm` (and then pass that result to a summary function).  This is
> nicely readable when each step is its own line.
> 
> On Tue, Jan 3, 2023 at 9:49 AM Sorkin, John <jsorkin at som.umaryland.edu> wrote:
>>
>> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>>
>> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>>
>> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>>
>> John
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 

Hello,

Not a long time ago, there was (very) relevant post to r-devel [1] by 
Paul Murrell linking to a YouTube video [2].

[1] https://stat.ethz.ch/pipermail/r-devel/2022-September/081959.html
[2] https://youtu.be/IMpXB30MP48

Hope this helps,

Rui Barradas


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jan  3 20:15:11 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 03 Jan 2023 11:15:11 -0800
Subject: [R] Pipe operator
In-Reply-To: <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <004b01d91f9a$822dbb00$86893100$@gmail.com>
 <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
Message-ID: <C1BDF935-9594-45D4-BB57-2E1DA7EC6FA8@dcn.davis.ca.us>

Ick.

Some people like

x |> cos() |> max(pi/4) |> round(3) -> x

but I much prefer

x <- x |> cos() |> max(pi/4) |> round(3)

On January 3, 2023 11:00:46 AM PST, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>Working off Avi's example - would:
>
>  x |> cos() |> max(pi/4) |> round(3) |> assign("x", value = _)
>
>...be even more intuitive to read? Or are there hidden problems with that?
>
>
>
>Cheers,
>Boris
>
>
>> On 2023-01-03, at 12:40, avi.e.gross at gmail.com wrote:
>> 
>> John,
>> 
>> The topic has indeed been discussed here endlessly but new people still
>> stumble upon it.
>> 
>> Until recently, the formal R language did not have a built-in pipe
>> functionality. It was widely used through an assortment of packages and
>> there are quite a few variations on the theme including different
>> implementations.
>> 
>> Most existing code does use the operator %>% but there is now a built-in |>
>> operator that is generally faster but is not as easy to use in a few cases.
>> 
>> Please forget the use of the word FILE here. Pipes are a form of syntactic
>> sugar that generally is about the FIRST argument to a function. They are NOT
>> meant to be used just for the trivial case you mention where indeed there is
>> an easy way to do things. Yes, they work in such situations. But consider a
>> deeply nested expression like this:
>> 
>> Result <- round(max(cos(x), 3.14159/4), 3)
>> 
>> There are MANY deeper nested expressions like this commonly used. The above
>> can be written linearly as in
>> 
>> Temp1 <- cos(x)
>> Temp2 <- max(Temp1, 3.14159/4)
>> Result <- round(Temp2, 3)
>> 
>> Translation, for some variable x, calculate the cosine and take the maximum
>> value of it as compared to pi/4 and round the result to three decimal
>> places. Not an uncommon kind of thing to do and sometimes you can nest such
>> things many layers deep and get hopelessly confused if not done somewhat
>> linearly.
>> 
>> What pipes allow is to write this closer to the second way while not seeing
>> or keeping any temporary variables around. The goal is to replace the FIRST
>> argument to a function with whatever resulted as the value of the previous
>> expression. That is often a vector or data.frame or list or any kind of
>> object but can also be fairly complex as in a list of lists of matrices.
>> 
>> So you can still start with cos(x) OR you can write this where the x is
>> removed from within and leaves cos() empty:
>> 
>> x %>% cos
>> or
>> x |> cos()
>> 
>> In the previous version of pipes the parentheses after cos() are optional if
>> there are no additional arguments but the new pipe requires them.
>> 
>> So continuing the above, using multiple lines, the pipe looks like:
>> 
>> Result <-
>>  x %>%
>>  cos() %>%
>>  max(3.14159/4) %>%
>>  round(3)
>> 
>> This gives the same result but is arguably easier for some to read and
>> follow. Nobody forces you to use it and for simple cases, most people don't.
>> 
>> There is a grouping of packages called the tidyverse that makes heavy use of
>> pipes routine as they made most or all their functions such that the first
>> argument is the one normally piped to and it can be very handy to write code
>> that says, read in your data into a variable (a data.frame or tibble often)
>> and PIPE IT to a function that renames some columns and PIPE the resulting
>> modified object to a function that retains only selected rows and pipe that
>> to a function that drops some of the columns and pipe that to a function
>> that groups the items or sorts them and pipe that to a function that does a
>> join with another object or generates a report or so many other things.
>> 
>> So the real answer is that piping is another WAY of doing things from a
>> programmers perspective. Underneath it all, it is mostly syntactic sugar and
>> the interpreter rearranges your code and performs the steps in what seems
>> like a different order at times. Generally, you do not need to care.
>> 
>> 
>> 
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
>> Sent: Tuesday, January 3, 2023 11:49 AM
>> To: 'R-help Mailing List' <r-help at r-project.org>
>> Subject: [R] Pipe operator
>> 
>> I am trying to understand the reason for existence of the pipe operator,
>> %>%, and when one should use it. It is my understanding that the operator
>> sends the file to the left of the operator to the function immediately to
>> the right of the operator:
>> 
>> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
>> result one obtains using the mean function directly, viz. mean(c(1:10)).
>> What is the reason for having two syntactically different but semantically
>> identical ways to call a function? Is one more efficient than the other?
>> Does one use less memory than the other? 
>> 
>> P.S. Please forgive what might seem to be a question with an obvious answer.
>> I am a programmer dinosaur. I have been programming for more than 50 years.
>> When I started programming in the 1960s the only pipe one spoke about was a
>> bong.  
>> 
>> John
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
>--
>Boris Steipe MD, PhD
>
>Professor em.
>Department of Biochemistry 
>Temerty Faculty of Medicine
>University of Toronto
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jan  3 20:22:36 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 3 Jan 2023 19:22:36 +0000
Subject: [R] Pipe operator
In-Reply-To: <e1d6c5fb-6885-f9ce-8bf4-5c64d0a0e8e7@sapo.pt>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <CAFEqCdzdZmy2WrCFDKbh018rhTuODzav27TRJpOm3DwTdLe7bA@mail.gmail.com>
 <e1d6c5fb-6885-f9ce-8bf4-5c64d0a0e8e7@sapo.pt>
Message-ID: <12a40452-f736-ad88-5bd3-c673aafbf2d7@sapo.pt>

?s 19:14 de 03/01/2023, Rui Barradas escreveu:
> ?s 17:35 de 03/01/2023, Greg Snow escreveu:
>> To expand a little on Christopher's answer.
>>
>> The short answer is that having the different syntaxes can lead to
>> more readable code (when used properly).
>>
>> Note that there are now 2 different (but somewhat similar) pipes
>> available in R (there could be more in some package(s) that I don't
>> know about, but will just talk about the main 2).
>>
>> The %>% pipe comes from the magrittr package, but many other packages
>> now import that package.? But you need to load the magrittr package,
>> either directly or indirectly, before you can use that pipe.? The
>> magrittr pipe is a function call, so there is small increase in time
>> and memory for using it, but it is a small fraction of a second and a
>> few bytes of memory, so you probably will not notice the increased
>> usage.
>>
>> The core R language now has a built in pipe |> which is handled by the
>> parser, so no extra function calls and you do not need to load any
>> extra packages (though you need a somewhat recent version of R, within
>> the last year or so).
>>
>> The built-in |> pipe is a little pickier, you need to include the
>> parentheses in a function call, e.g. 1:10 |> mean() where the magrittr
>> pipe can work with that call or the function without parentheses, e.g.
>> 1:10 %>% mean or 1:10 %>% mean(), this makes %>% a little easier to
>> work with anonymous functions.? If the previous return needs to be
>> passed to an argument other than the first, then %>% uses "." and |>
>> uses "_".
>>
>> The magrittr package has additional versions of the pipe and some
>> functions that wrap around common operators to make it easier to use
>> them with pipes, so there are still advantages to loading that package
>> if any of those are helpful.
>>
>> For a simple case like your example, the pipe probably does not help
>> with readability much, but as we string more function calls together.
>> For example, here are 3 ways to compute the geometric mean of the data
>> in a vector "x":
>>
>> exp(mean(log(x)))
>>
>> logx <- log(x)
>> mlx <- mean(logx)
>> exp(mtx)
>>
>> x |>
>> ??? log() |>
>> ??? mean() |>
>> ??? exp()
>>
>> These all do the same thing, but the first option is read from the
>> middle outward (which can be tricky) and is even more complicated if
>> you use additional arguments to any of the functions.
>> The second option reads top down, but requires creating intermediate
>> variables.? The last reads similar to the second, but without the
>> extra variables.? Spreading the series of function calls across
>> multiple rows makes it easier to read and easily lets you insert a
>> line like `print() |>` for debugging or checking intermediate results,
>> and single lines can easily be commented out to skip that step.
>>
>> I have found myself using code like the following to compute a table,
>> print it, and compute the proportions all in one step:
>>
>> table(f, g) |>
>> ?? print() |>
>> ?? prop.table()
>>
>> The pipes also work very well with the tidyverse, or even the tidy
>> data ideas without those packages where we use a single function for
>> each change, e.g. start with a data frame, select a subset of the
>> columns, filter to a subset of the rows, mutate a column, join to
>> another data frame, then pass the final result to a modeling function
>> like `lm` (and then pass that result to a summary function).? This is
>> nicely readable when each step is its own line.
>>
>> On Tue, Jan 3, 2023 at 9:49 AM Sorkin, John 
>> <jsorkin at som.umaryland.edu> wrote:
>>>
>>> I am trying to understand the reason for existence of the pipe 
>>> operator, %>%, and when one should use it. It is my understanding 
>>> that the operator sends the file to the left of the operator to the 
>>> function immediately to the right of the operator:
>>>
>>> c(1:10) %>% mean results in a value of 5.5 which is exactly the same 
>>> as the result one obtains using the mean function directly, viz. 
>>> mean(c(1:10)). What is the reason for having two syntactically 
>>> different but semantically identical ways to call a function? Is one 
>>> more efficient than the other? Does one use less memory than the other?
>>>
>>> P.S. Please forgive what might seem to be a question with an obvious 
>>> answer. I am a programmer dinosaur. I have been programming for more 
>>> than 50 years. When I started programming in the 1960s the only pipe 
>>> one spoke about was a bong.
>>>
>>> John
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
> 
> Hello,
> 
> Not a long time ago, there was (very) relevant post to r-devel [1] by 
> Paul Murrell linking to a YouTube video [2].
> 
> [1] https://stat.ethz.ch/pipermail/r-devel/2022-September/081959.html
> [2] https://youtu.be/IMpXB30MP48
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Sorry, I forgot the link to the beginning of that r-devel thread.

https://stat.ethz.ch/pipermail/r-devel/2022-April/081636.html

Rui Barradas


From @h@rt @end|ng |rom d|m@uch||e@c|  Tue Jan  3 20:21:37 2023
From: @h@rt @end|ng |rom d|m@uch||e@c| (Andrew Hart)
Date: Tue, 3 Jan 2023 16:21:37 -0300
Subject: [R] Pipe operator
In-Reply-To: <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <004b01d91f9a$822dbb00$86893100$@gmail.com>
 <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
Message-ID: <7c96c95f-35e3-0fc5-2853-3f3c5db8f291@dim.uchile.cl>

Keep in mind that in thie example you're processing x and placing the 
result back in x (so x must already exist). You can write this a bit 
more cleanly using the -> variant of the assignment operator as follows:

   x |> cos() |> max(pi/4) |> round(3) -> x

Hth,
Andrew.

On 3/01/2023 16:00, Boris Steipe wrote:
> Working off Avi's example - would:
> 
>    x |> cos() |> max(pi/4) |> round(3) |> assign("x", value = _)
> 
> ...be even more intuitive to read? Or are there hidden problems with that?
> 
> 
> 
> Cheers,
> Boris
> 
> 
>> On 2023-01-03, at 12:40, avi.e.gross at gmail.com wrote:
>>
>> John,
>>
>> The topic has indeed been discussed here endlessly but new people still
>> stumble upon it.
>>
>> Until recently, the formal R language did not have a built-in pipe
>> functionality. It was widely used through an assortment of packages and
>> there are quite a few variations on the theme including different
>> implementations.
>>
>> Most existing code does use the operator %>% but there is now a built-in |>
>> operator that is generally faster but is not as easy to use in a few cases.
>>
>> Please forget the use of the word FILE here. Pipes are a form of syntactic
>> sugar that generally is about the FIRST argument to a function. They are NOT
>> meant to be used just for the trivial case you mention where indeed there is
>> an easy way to do things. Yes, they work in such situations. But consider a
>> deeply nested expression like this:
>>
>> Result <- round(max(cos(x), 3.14159/4), 3)
>>
>> There are MANY deeper nested expressions like this commonly used. The above
>> can be written linearly as in
>>
>> Temp1 <- cos(x)
>> Temp2 <- max(Temp1, 3.14159/4)
>> Result <- round(Temp2, 3)
>>
>> Translation, for some variable x, calculate the cosine and take the maximum
>> value of it as compared to pi/4 and round the result to three decimal
>> places. Not an uncommon kind of thing to do and sometimes you can nest such
>> things many layers deep and get hopelessly confused if not done somewhat
>> linearly.
>>
>> What pipes allow is to write this closer to the second way while not seeing
>> or keeping any temporary variables around. The goal is to replace the FIRST
>> argument to a function with whatever resulted as the value of the previous
>> expression. That is often a vector or data.frame or list or any kind of
>> object but can also be fairly complex as in a list of lists of matrices.
>>
>> So you can still start with cos(x) OR you can write this where the x is
>> removed from within and leaves cos() empty:
>>
>> x %>% cos
>> or
>> x |> cos()
>>
>> In the previous version of pipes the parentheses after cos() are optional if
>> there are no additional arguments but the new pipe requires them.
>>
>> So continuing the above, using multiple lines, the pipe looks like:
>>
>> Result <-
>>   x %>%
>>   cos() %>%
>>   max(3.14159/4) %>%
>>   round(3)
>>
>> This gives the same result but is arguably easier for some to read and
>> follow. Nobody forces you to use it and for simple cases, most people don't.
>>
>> There is a grouping of packages called the tidyverse that makes heavy use of
>> pipes routine as they made most or all their functions such that the first
>> argument is the one normally piped to and it can be very handy to write code
>> that says, read in your data into a variable (a data.frame or tibble often)
>> and PIPE IT to a function that renames some columns and PIPE the resulting
>> modified object to a function that retains only selected rows and pipe that
>> to a function that drops some of the columns and pipe that to a function
>> that groups the items or sorts them and pipe that to a function that does a
>> join with another object or generates a report or so many other things.
>>
>> So the real answer is that piping is another WAY of doing things from a
>> programmers perspective. Underneath it all, it is mostly syntactic sugar and
>> the interpreter rearranges your code and performs the steps in what seems
>> like a different order at times. Generally, you do not need to care.
>>
>>
>>
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
>> Sent: Tuesday, January 3, 2023 11:49 AM
>> To: 'R-help Mailing List' <r-help at r-project.org>
>> Subject: [R] Pipe operator
>>
>> I am trying to understand the reason for existence of the pipe operator,
>> %>%, and when one should use it. It is my understanding that the operator
>> sends the file to the left of the operator to the function immediately to
>> the right of the operator:
>>
>> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
>> result one obtains using the mean function directly, viz. mean(c(1:10)).
>> What is the reason for having two syntactically different but semantically
>> identical ways to call a function? Is one more efficient than the other?
>> Does one use less memory than the other?
>>
>> P.S. Please forgive what might seem to be a question with an obvious answer.
>> I am a programmer dinosaur. I have been programming for more than 50 years.
>> When I started programming in the 1960s the only pipe one spoke about was a
>> bong.
>>
>> John
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> --
> Boris Steipe MD, PhD
> 
> Professor em.
> Department of Biochemistry
> Temerty Faculty of Medicine
> University of Toronto
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Tue Jan  3 17:58:56 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Tue, 3 Jan 2023 17:58:56 +0100
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <0a7e860f-5f8b-53eb-8ecf-9378960e4e78@leiza.de>

Dear John,

some more experienced users might give you a different and more helpful 
answer, but I was not really convinced by the pipe operator until I 
tried it out, for the same reasons as you.

In my opinion, the pipe operator is there only to improve the 
readability of your code. Think about e.g. format()ing or round()ing the 
example you gave: you start having a lot of imbricated functions and it 
becomes difficult to read (because of lots of brackets, commas and so 
on, and it gets worse when adding arguments). The pipe operator makes it 
clearer.
An alternative to the pipe operator with good readability is creating 
intermediary objects, but you create a lot of useless objects. Depending 
on the size of the objects, it could become problematic.

Somehow, I just ended up paraphrasing Wickham & Grolemund 
(https://r4ds.had.co.nz/pipes.html); they explain the advantages much 
better than I can.

In any case, once I started using it, I realized that all the pros for 
the pipe operator are real and now I like using it!

Best,
Ivan




	*LEIBNIZ-ZENTRUM*
*F?R ARCH?OLOGIE*

*Dr. Ivan CALANDRA*
**Imaging Lab

MONREPOS Archaeological Research Centre, Schloss Monrepos
56567 Neuwied, Germany

T: +49 2631 9772 243
T: +49 6131 8885 543
ivan.calandra at leiza.de

leiza.de <http://www.leiza.de/>
<http://www.leiza.de/>
ORCID <https://orcid.org/0000-0003-3816-6359>
ResearchGate
<https://www.researchgate.net/profile/Ivan_Calandra>

LEIZA is a foundation under public law of the State of 
Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
Mainz. Supervision is carried out by the Ministry of Science and Health 
of the State of Rhineland-Palatinate. LEIZA is a research museum of the 
Leibniz Association.

On 03/01/2023 17:48, Sorkin, John wrote:
> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Tue Jan  3 23:32:17 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Tue, 3 Jan 2023 23:32:17 +0100
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <ad6cd2c2-8dcb-9863-c5c9-93d20e6f42a3@statistik.tu-dortmund.de>

R is a functional language, hence the pipe operator is not needed.
Also it makes the code unreadable as it is less obvious how a call stack 
looks like and what the arguments to the function calls are.

It is relevant for a shell for piping text streams.

If people cannot live without the pipe operator (and I wonder why you 
want to add a level of complexity, as it is more obfuscated what the 
actual function calls are), please use R's internal one, as it is known 
by the parser and hence debugging etc is better integrated.

Best,
Uwe Ligges



On 03.01.2023 17:48, Sorkin, John wrote:
> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
> 
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
> 
> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
> 
> John
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jan  4 00:10:50 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 03 Jan 2023 15:10:50 -0800
Subject: [R] Pipe operator
In-Reply-To: <ad6cd2c2-8dcb-9863-c5c9-93d20e6f42a3@statistik.tu-dortmund.de>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <ad6cd2c2-8dcb-9863-c5c9-93d20e6f42a3@statistik.tu-dortmund.de>
Message-ID: <E9FB3D00-2347-4826-841E-5FACBBE7C063@dcn.davis.ca.us>

> R is a functional language, hence the pipe operator is not needed.

Not factual... just opinion. Please be conscious of your biases and preface opinion with a disclaimer.

I heard identical complaints from embedded assembly language programmers when C became all the rage... "don't need another way to say the same thing."

>Also it makes the code unreadable as it is less obvious how a call stack looks like and what the arguments to the function calls are.

How can it make the code unreadable if there is a 1:1 mapping between nested function calls and a pipe?

If _you_ don't like pipes, that is your opinion, but that statement is factually incorrect... both the parser equivalence and the popularity of the syntax prove you wrong. Many people find it more readable than nested prefix notation.

>It is relevant for a shell for piping text streams.

So you are willing to allow that it makes sense in shell script but not in R script? This is not a self-consistent position. The same expressive principles can apply in both shell and in R.

On January 3, 2023 2:32:17 PM PST, Uwe Ligges <ligges at statistik.tu-dortmund.de> wrote:
>R is a functional language, hence the pipe operator is not needed.
>Also it makes the code unreadable as it is less obvious how a call stack looks like and what the arguments to the function calls are.
>
>It is relevant for a shell for piping text streams.
>
>If people cannot live without the pipe operator (and I wonder why you want to add a level of complexity, as it is more obfuscated what the actual function calls are), please use R's internal one, as it is known by the parser and hence debugging etc is better integrated.
>
>Best,
>Uwe Ligges
>
>
>
>On 03.01.2023 17:48, Sorkin, John wrote:
>> I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>> 
>> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>> 
>> P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>> 
>> John
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed Jan  4 01:05:01 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Wed, 4 Jan 2023 00:05:01 +0000
Subject: [R] Pipe operator
In-Reply-To: <C57F1CA3-8A75-4929-AAAB-B09229D86B60@dcn.davis.ca.us>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <C57F1CA3-8A75-4929-AAAB-B09229D86B60@dcn.davis.ca.us>
Message-ID: <MW4PR03MB636330816A139BCED751CD7CE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>

Jeff,
Thank you for contributing important information to this thread. 

________________________________________
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Sent: Tuesday, January 3, 2023 2:07 PM
To: r-help at r-project.org; Sorkin, John; Ebert,Timothy Aaron; 'R-help Mailing List'
Subject: Re: [R] Pipe operator

The other responses here have been very good, but I felt it necessary to point out that the concept of a pipe originated around when you started programming [1] (text based). It did take awhile for it to migrate into programming languages such as OCaml, but Powershell makes extensive use of (object-based) pipes.

Re memory use: not so much. Variables are small... it is the data they point to that is large, and it is not possible to analyze data without storing it somewhere. But when the variables are numerous they can interfere with our ability to understand the program... using pipes lets us focus on results obtained after several steps so fewer intermediate values clutter the variable space.

Re speed: the magrittr pipe (%>%) is much slower than the built-in pipe at coordinating the transfer of data from left to right, but that is not usually significant compared to the computation speed on the actual data in the functions.

 [1] https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fen.m.wikipedia.org%2Fwiki%2FPipeline_&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7C94e1ec7b93c642286aae08daedbdc79f%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083696601759531%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=gdooVKcK8iDNN0X6ZaYmDNk9pQ1Pe%2BgQiUGioPGB%2Fps%3D&reserved=0(Unix)#:~:text=The%20concept%20of%20pipelines%20was,Ritchie%20%26%20Thompson%2C%201974).

On January 3, 2023 9:13:22 AM PST, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>Tim,
>
>Thank you for your reply. I did not know about the |> operator. Do both %>% and |> work in base R?
>
>You suggested that the pipe operator can produce code with fewer variables. May I ask you to send a short example in which the pipe operator saves variables. Does said saving of variables speed up processing or result in less memory usage?
>
>Thank you,
>John
>
>________________________________________
>From: Ebert,Timothy Aaron <tebert at ufl.edu>
>Sent: Tuesday, January 3, 2023 12:07 PM
>To: Sorkin, John; 'R-help Mailing List'
>Subject: RE: Pipe operator
>
>The pipe shortens code and results in fewer variables because you do not have to save intermediate steps. Once you get used to the idea it is useful. Note that there is also the |> pipe that is part of base R. As far as I know it does the same thing as %>%, or at my level of programing I have not encountered a difference.
>
>Tim
>
>-----Original Message-----
>From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
>Sent: Tuesday, January 3, 2023 11:49 AM
>To: 'R-help Mailing List' <r-help at r-project.org>
>Subject: [R] Pipe operator
>
>[External Email]
>
>I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
>c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
>P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
>John
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7C94e1ec7b93c642286aae08daedbdc79f%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083696601759531%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=jQx8iLm1i%2BQky6NTJ05AmhH6Fb6gJScFuafmEEFs2nM%3D&reserved=0
>PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7C94e1ec7b93c642286aae08daedbdc79f%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083696601759531%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=jHwquXRkVY6hOIB7dKo4jcEiuA%2F5lz%2FiFeAle2CrBbY%3D&reserved=0
>and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7C94e1ec7b93c642286aae08daedbdc79f%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083696601759531%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=jQx8iLm1i%2BQky6NTJ05AmhH6Fb6gJScFuafmEEFs2nM%3D&reserved=0
>PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7C94e1ec7b93c642286aae08daedbdc79f%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083696601759531%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=jHwquXRkVY6hOIB7dKo4jcEiuA%2F5lz%2FiFeAle2CrBbY%3D&reserved=0
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.


From r@oknz @end|ng |rom gm@||@com  Wed Jan  4 01:37:46 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 4 Jan 2023 13:37:46 +1300
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CABcYAdKCwViTa2+kdw-rOcXLWCtx_iydo4P9jyfH4OMdFB-XEQ@mail.gmail.com>

The simplest and best answer is "fashion".
In FSharp,
> (|>);;
val it: ('a -> ('a -> 'b) -> 'b)
The ability to turn f x y into y |> f x
makes perfect sense in a programming language
where Currying (representing a function of n
arguments as a function of 1 argument that
returns a function of n-1 arguments, similarly
represented) is a way of life.  It can result
in code that is more readable.  And it is
pretty much unavoidable:
let x |> f = f x
is definable in the language.

In programming languages like Erlang and R,
where Currying is *not* a way of life, the
matter is otherwise.

Really, it's all about whether you talk like Luke
or like Yoda talk, it's not about what you say or
efficiency or anything but perceived readability.


On Wed, 4 Jan 2023 at 05:49, Sorkin, John <jsorkin at som.umaryland.edu> wrote:

> I am trying to understand the reason for existence of the pipe operator,
> %>%, and when one should use it. It is my understanding that the operator
> sends the file to the left of the operator to the function immediately to
> the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as
> the result one obtains using the mean function directly, viz.
> mean(c(1:10)). What is the reason for having two syntactically different
> but semantically identical ways to call a function? Is one more efficient
> than the other? Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious
> answer. I am a programmer dinosaur. I have been programming for more than
> 50 years. When I started programming in the 1960s the only pipe one spoke
> about was a bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @vi@e@gross m@iii@g oii gm@ii@com  Wed Jan  4 01:44:46 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 3 Jan 2023 19:44:46 -0500
Subject: [R] Pipe operator
In-Reply-To: <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <004b01d91f9a$822dbb00$86893100$@gmail.com>
 <8E39C1BA-5CCE-4C36-A64E-C6BF6CBA1967@utoronto.ca>
Message-ID: <006f01d91fd5$be848030$3b8d8090$@gmail.com>

Boris,

There are MANY variations possible and yours does not seem that common or
useful albeit perfectly useful.

I am not talking about making it a one-liner, albeit I find the multi-line
version more useful.

The pipeline concept seems sort of atomic in the following sense. R allows
several in-line variants of assignment besides something like:

    Assign("string", value)

And, variations on the above that are more useful when making multiple
assignments in a loop or using other environments.

What is more common is:

    Name <- Expression

And of course occasionally:

    Expression -> Name

So back to pipelines, you have two perfectly valid ways to do a pipeline and
assign the result. I showed a version like:

Name <-
    Variable |>
    Pipeline.item(...) |>
    ... |>
    Pipeline.item(...)


But you can equally well assign it at the end:

    Variable |>
    Pipeline.item(...) |>
    ... |>
    Pipeline.item(...) -> Name


I think a more valid use of assign is in mid-pipeline as one way to save an
intermediate result in a variable or perhaps in another environment, such as
may be useful when debugging:

Name <-
    Variable |>
    Pipeline.item(...) |>
    assign("temp1", _) |>
    ... |>
    Pipeline.item(...)

This works because assign(), like print() also returns a copy of the
argument that can be passed along the pipeline and thus captured for a side
effect. When done debugging, removing some lines makes it continue working
seamlessly.

BTW, your example does something I am not sure you intended:

  x |> cos() |> max(pi/4) |> round(3) |> assign("x", value = _)

I prefer showing it like this:

     x |> 
    cos() |> 
    max(pi/4) |> 
    round(3) |> 
    assign("x", value = _)

Did you notice you changed "x" by assigning a new value to the one you
started with? That is perfectly legal but may not have been intended.

And, yes, for completeness, there are two more assignment operators I
generally have no use for of <<- and ->> that work in a global sense.

And for even more completeness you can also use the operators above like
this:

> z = `<-`("x", 7)
> z
[1] 7
> x
[1] 7

For even more completeness, the example we are using can use the above
notation with a silly twist. Placing the results in z instead, I find the
new pipe INSISTS _ can only be used with a named argument. Duh, `<-` does
not have named arguments, just positional. So I see any valid name is just
ignored and the following works!

x |> cos() |> max(pi/4) |> round(3) |> `<-`("z", any.identifier = _)

And, frankly, many functions that need the pipe to feed a second or later
position can easily be changed to use the first argument. If you feel the
need to use "assign" make this function before using the pipeline:

assignyx <- function(x, y) assign(y, x)

Then your code can save a variable without an underscore and keyword:

x |> cos() |> max(pi/4) |> round(3) |> assignyx("x")

Or use the new lambda function somewhat designed for this case use which I
find a bit ugly but it is a matter of taste.

But to end this, there is no reason to make things complex in situations
like this. Just use a simple assignment pre or post as meets your needs.





-----Original Message-----
From: Boris Steipe <boris.steipe at utoronto.ca> 
Sent: Tuesday, January 3, 2023 2:01 PM
To: R-help Mailing List <r-help at r-project.org>
Cc: avi.e.gross at gmail.com
Subject: Re: [R] Pipe operator

Working off Avi's example - would:

  x |> cos() |> max(pi/4) |> round(3) |> assign("x", value = _)

...be even more intuitive to read? Or are there hidden problems with that?



Cheers,
Boris


> On 2023-01-03, at 12:40, avi.e.gross at gmail.com wrote:
> 
> John,
> 
> The topic has indeed been discussed here endlessly but new people 
> still stumble upon it.
> 
> Until recently, the formal R language did not have a built-in pipe 
> functionality. It was widely used through an assortment of packages 
> and there are quite a few variations on the theme including different 
> implementations.
> 
> Most existing code does use the operator %>% but there is now a 
> built-in |> operator that is generally faster but is not as easy to use in
a few cases.
> 
> Please forget the use of the word FILE here. Pipes are a form of 
> syntactic sugar that generally is about the FIRST argument to a 
> function. They are NOT meant to be used just for the trivial case you 
> mention where indeed there is an easy way to do things. Yes, they work 
> in such situations. But consider a deeply nested expression like this:
> 
> Result <- round(max(cos(x), 3.14159/4), 3)
> 
> There are MANY deeper nested expressions like this commonly used. The 
> above can be written linearly as in
> 
> Temp1 <- cos(x)
> Temp2 <- max(Temp1, 3.14159/4)
> Result <- round(Temp2, 3)
> 
> Translation, for some variable x, calculate the cosine and take the 
> maximum value of it as compared to pi/4 and round the result to three 
> decimal places. Not an uncommon kind of thing to do and sometimes you 
> can nest such things many layers deep and get hopelessly confused if 
> not done somewhat linearly.
> 
> What pipes allow is to write this closer to the second way while not 
> seeing or keeping any temporary variables around. The goal is to 
> replace the FIRST argument to a function with whatever resulted as the 
> value of the previous expression. That is often a vector or data.frame 
> or list or any kind of object but can also be fairly complex as in a list
of lists of matrices.
> 
> So you can still start with cos(x) OR you can write this where the x 
> is removed from within and leaves cos() empty:
> 
> x %>% cos
> or
> x |> cos()
> 
> In the previous version of pipes the parentheses after cos() are 
> optional if there are no additional arguments but the new pipe requires
them.
> 
> So continuing the above, using multiple lines, the pipe looks like:
> 
> Result <-
>  x %>%
>  cos() %>%
>  max(3.14159/4) %>%
>  round(3)
> 
> This gives the same result but is arguably easier for some to read and 
> follow. Nobody forces you to use it and for simple cases, most people
don't.
> 
> There is a grouping of packages called the tidyverse that makes heavy 
> use of pipes routine as they made most or all their functions such 
> that the first argument is the one normally piped to and it can be 
> very handy to write code that says, read in your data into a variable 
> (a data.frame or tibble often) and PIPE IT to a function that renames 
> some columns and PIPE the resulting modified object to a function that 
> retains only selected rows and pipe that to a function that drops some 
> of the columns and pipe that to a function that groups the items or 
> sorts them and pipe that to a function that does a join with another
object or generates a report or so many other things.
> 
> So the real answer is that piping is another WAY of doing things from 
> a programmers perspective. Underneath it all, it is mostly syntactic 
> sugar and the interpreter rearranges your code and performs the steps 
> in what seems like a different order at times. Generally, you do not need
to care.
> 
> 
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
> Sent: Tuesday, January 3, 2023 11:49 AM
> To: 'R-help Mailing List' <r-help at r-project.org>
> Subject: [R] Pipe operator
> 
> I am trying to understand the reason for existence of the pipe 
> operator, %>%, and when one should use it. It is my understanding that 
> the operator sends the file to the left of the operator to the 
> function immediately to the right of the operator:
> 
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same 
> as the result one obtains using the mean function directly, viz.
mean(c(1:10)).
> What is the reason for having two syntactically different but 
> semantically identical ways to call a function? Is one more efficient than
the other?
> Does one use less memory than the other? 
> 
> P.S. Please forgive what might seem to be a question with an obvious
answer.
> I am a programmer dinosaur. I have been programming for more than 50
years.
> When I started programming in the 1960s the only pipe one spoke about 
> was a bong.
> 
> John
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


--
Boris Steipe MD, PhD

Professor em.
Department of Biochemistry
Temerty Faculty of Medicine
University of Toronto


From r@oknz @end|ng |rom gm@||@com  Wed Jan  4 01:50:11 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 4 Jan 2023 13:50:11 +1300
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <MW4PR03MB63630F7F3EA776AB218EFD2AE2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <CABcYAdLiqbfTJzZrDerjh2X18unwCf1fSYYdV01qguY91_X5zw@mail.gmail.com>

"Does saving of variables speed up processing" no
"or save memory" no.
The manual is quite explicit:
> ?"|>"
...
Currently, pipe operations are implemented as syntax
transformations.  So an expression written as 'x |> f(y)' is
parsed as 'f(x, y)'.

Strictly speaking, using |> *doesn't* save any variables.
x |> f(y) |> g() |> h(1,z)
simply is h(g(f(x,y)),1,z) in which precisely the same
variables appear.  All that changes is the order in which
you write the function names; the order in which things are
evaluated does not change (the manual is explicit about
that too).

I personally find |> in R extremely confusing because
in x |> f(y) |> g() |> h(1,z)
it LOOKS as if there are calls to f(f), to g(), and to
h(1,z) and in Haskell or F# that would be true, but in
R the expressions f(y), g(), and h(1,z) are NOT
evaluated.  |> is and has to be special syntax with a
very restricted right-hand side.

Eliminating well-chosen variables can of course make
code much less readable.  It's funny how my code seems
prettier using |> but other people's code seems hopelessly
obscure...


On Wed, 4 Jan 2023 at 06:19, Sorkin, John <jsorkin at som.umaryland.edu> wrote:

> Tim,
>
> Thank you for your reply. I did not know about the |> operator. Do both
> %>% and |> work in base R?
>
> You suggested that the pipe operator can produce code with fewer
> variables. May I ask you to send a short example in which the pipe operator
> saves variables. Does said saving of variables speed up processing or
> result in less memory usage?
>
> Thank you,
> John
>
> ________________________________________
> From: Ebert,Timothy Aaron <tebert at ufl.edu>
> Sent: Tuesday, January 3, 2023 12:07 PM
> To: Sorkin, John; 'R-help Mailing List'
> Subject: RE: Pipe operator
>
> The pipe shortens code and results in fewer variables because you do not
> have to save intermediate steps. Once you get used to the idea it is
> useful. Note that there is also the |> pipe that is part of base R. As far
> as I know it does the same thing as %>%, or at my level of programing I
> have not encountered a difference.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
> Sent: Tuesday, January 3, 2023 11:49 AM
> To: 'R-help Mailing List' <r-help at r-project.org>
> Subject: [R] Pipe operator
>
> [External Email]
>
> I am trying to understand the reason for existence of the pipe operator,
> %>%, and when one should use it. It is my understanding that the operator
> sends the file to the left of the operator to the function immediately to
> the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as
> the result one obtains using the mean function directly, viz.
> mean(c(1:10)). What is the reason for having two syntactically different
> but semantically identical ways to call a function? Is one more efficient
> than the other? Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious
> answer. I am a programmer dinosaur. I have been programming for more than
> 50 years. When I started programming in the 1960s the only pipe one spoke
> about was a bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>
> https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=7dDMSg%2FmPQ5xXP6zu6MWLmARdtdlrYWb3mXPZQj0La0%3D&reserved=0
> PLEASE do read the posting guide
> https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Cjsorkin%40som.umaryland.edu%7Cdc0d677272114cf6ba2808daedad0ec5%7C717009a620de461a88940312a395cac9%7C0%7C0%7C638083624783034240%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=l5BZyjup%2Bho%2FijE1zQMxb5JE3F5VfKBZpUKHYW4k4Fg%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From new@ @end|ng |rom m||@ng|@c|er@com  Wed Jan  4 05:45:56 2023
From: new@ @end|ng |rom m||@ng|@c|er@com (Milan Glacier)
Date: Tue, 3 Jan 2023 23:45:56 -0500
Subject: [R] Pipe operator
In-Reply-To: <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <20230104044543.v37ctmwpvajd55wk@zoho.com>

With 50 years of programming experience, just think about how useful
pipe operator is in shell scripting. The output of previous call becomes
the input of next call... Genious idea from our beloved unix
conversion...


On 01/03/23 16:48, Sorkin, John wrote:
>I am trying to understand the reason for existence of the pipe operator, %>%, and when one should use it. It is my understanding that the operator sends the file to the left of the operator to the function immediately to the right of the operator:
>
>c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the result one obtains using the mean function directly, viz. mean(c(1:10)). What is the reason for having two syntactically different but semantically identical ways to call a function? Is one more efficient than the other? Does one use less memory than the other?
>
>P.S. Please forgive what might seem to be a question with an obvious answer. I am a programmer dinosaur. I have been programming for more than 50 years. When I started programming in the 1960s the only pipe one spoke about was a bong.
>
>John


From r@oknz @end|ng |rom gm@||@com  Wed Jan  4 07:55:45 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 4 Jan 2023 19:55:45 +1300
Subject: [R] Pipe operator
In-Reply-To: <20230104044543.v37ctmwpvajd55wk@zoho.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <20230104044543.v37ctmwpvajd55wk@zoho.com>
Message-ID: <CABcYAdJL8Whk9c9i-hWbySyqeS8-kSpFn0reBHYz_HHJn4SW0g@mail.gmail.com>

This is both true and misleading.
The shell pipe operation came from functional
programming.  In fact the shell pipe operation
is NOT "flip apply", which is what |> is, but
it is functional composition.  That is
<in command = command(in)
command >out = let out = command
cmd1 | cmd2 = \x.cmd2(cmd1(x)).

Pragmatically, the Unix shell pipe operator does
something very important, which |> (and even
functional composition doesn't in F#):
<in cmd1 | cmd2 > out *interleaves* the computation
of cmd1 and cmd2, streaming the data.  But in R,
x |> f() |> g()
is by definition g(f(x)), and if g needs the value
of its argument, the *whole* of f(x) is evaluated
before g resumes.  This is much closer to what the
pipe syntax in the MS-DOS shell did, if I recall
correctly.



On Wed, 4 Jan 2023 at 17:46, Milan Glacier <news at milanglacier.com> wrote:

> With 50 years of programming experience, just think about how useful
> pipe operator is in shell scripting. The output of previous call becomes
> the input of next call... Genious idea from our beloved unix
> conversion...
>
>
> On 01/03/23 16:48, Sorkin, John wrote:
> >I am trying to understand the reason for existence of the pipe operator,
> %>%, and when one should use it. It is my understanding that the operator
> sends the file to the left of the operator to the function immediately to
> the right of the operator:
> >
> >c(1:10) %>% mean results in a value of 5.5 which is exactly the same as
> the result one obtains using the mean function directly, viz.
> mean(c(1:10)). What is the reason for having two syntactically different
> but semantically identical ways to call a function? Is one more efficient
> than the other? Does one use less memory than the other?
> >
> >P.S. Please forgive what might seem to be a question with an obvious
> answer. I am a programmer dinosaur. I have been programming for more than
> 50 years. When I started programming in the 1960s the only pipe one spoke
> about was a bong.
> >
> >John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Wed Jan  4 08:20:50 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Wed, 4 Jan 2023 08:20:50 +0100
Subject: [R] Pipe operator
In-Reply-To: <004d01d91fa2$01931640$04b942c0$@gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <BN6PR2201MB1553BE35AD212F0C0E07874ACFF49@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <004d01d91fa2$01931640$04b942c0$@gmail.com>
Message-ID: <53cf54ed-43d4-fa66-f816-0080802b388d@leiza.de>

Maybe I missed it in the whole discussion, but since R 4.2.0 the base R 
pipe operator also has a placeholder '_' to specify where the result of 
the left-hand side should be used in the right-hand side (see 
https://stat.ethz.ch/pipermail/r-announce/2022/000683.html).

So the only difference in usage between >%> and |> is that the 
placeholder '.' of the magrittr pipe can appear several times.
It would also be nice if R/Rstudio had a default keyboard shortcut to 
insert the base R pipe like for the magrittr pipe (Ctrl+Shift+M or 
Cmd+Shift+M). The vertical bar is not always easy to find (especially 
when you switch between Mac, Windows and different languages).

Ivan


On 03/01/2023 19:34, avi.e.gross at gmail.com wrote:

> Tim,
>
> There are differences and this one can be huge.
>
> The other pipe operators let you pass the current object to a later argument
> instead of the first by using a period to represent where to put it. The new
> one has a harder albeit flexible method by creating an anonymous function.
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Ebert,Timothy Aaron
> Sent: Tuesday, January 3, 2023 12:08 PM
> To: Sorkin, John <jsorkin at som.umaryland.edu>; 'R-help Mailing List'
> <r-help at r-project.org>
> Subject: Re: [R] Pipe operator
>
> The pipe shortens code and results in fewer variables because you do not
> have to save intermediate steps. Once you get used to the idea it is useful.
> Note that there is also the |> pipe that is part of base R. As far as I know
> it does the same thing as %>%, or at my level of programing I have not
> encountered a difference.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
> Sent: Tuesday, January 3, 2023 11:49 AM
> To: 'R-help Mailing List' <r-help at r-project.org>
> Subject: [R] Pipe operator
>
> [External Email]
>
> I am trying to understand the reason for existence of the pipe operator,
> %>%, and when one should use it. It is my understanding that the operator
> sends the file to the left of the operator to the function immediately to
> the right of the operator:
>
> c(1:10) %>% mean results in a value of 5.5 which is exactly the same as the
> result one obtains using the mean function directly, viz. mean(c(1:10)).
> What is the reason for having two syntactically different but semantically
> identical ways to call a function? Is one more efficient than the other?
> Does one use less memory than the other?
>
> P.S. Please forgive what might seem to be a question with an obvious answer.
> I am a programmer dinosaur. I have been programming for more than 50 years.
> When I started programming in the 1960s the only pipe one spoke about was a
> bong.
>
> John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.
> ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4
> e084253a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6380836
> 13362415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJB
> TiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=fV9Ca3OAleDX%2BwuPJIONYStrA
> daQhXTsq61jh2pLtDY%3D&reserved=0
> PLEASE do read the posting guide
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-proje
> ct.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C73edce5d4e0842
> 53a39008daedaa653f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638083613362
> 415015%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6I
> k1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=YUnV9kE1RcbB3BwM5gKwKwc3qNKhIVNF
> txOxKmpbGrQ%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r@oknz @end|ng |rom gm@||@com  Wed Jan  4 09:19:07 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 4 Jan 2023 21:19:07 +1300
Subject: [R] R Certification
In-Reply-To: <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
Message-ID: <CABcYAdKZq2qg4xVGzKVDfvRyxekJaCnDYuTexVvBNbbTbm6Ucw@mail.gmail.com>

I note that Java, for example, has changed a LOT and
a certificate from, say, 10 years ago, wouldn't impress
me much today.  The same can be said of C#, and of R.
So the question would be, "what VALUE would a certificate
about R provide?"

Well, for one thing, it would be a certificate of
proficiency in the core R programming language and
the contents of the 'base' and 'stats' packages.
But there is a huge number of packages serving a
huge number of needs.  If, for example, I needed
someone who understood how to exchange data between
R and a GIS system like GRASS, how to do spatial
analysis with R, and how to produce a report with
knitr, that's at least three packages that would NOT
be covered by an 'R' certificate.  And honestly, if
I were in the happy position of being able to hire a
data analyst for the region-scale data I have in
mind, I wouldn't *care* whether they used R, SciPy,
or Julia.

So if you want to show potential employers a
certificate to persuade them that you know something
useful, I suggest that you ask some of them what
they would like such a certificate to be *about*.
It would not surprise me if they said "how about a
degree in statistics, or in data science, or in
data visualisation" or something of the sort.



On Mon, 2 Jan 2023 at 21:33, Mukesh Ghanshyamdas Lekhrajani via R-help <
r-help at r-project.org> wrote:

> Hello R Support Team,
>
>
>
> I want to do R certification, could you help me with the list of
> certificates with their prices so it helps me to register.
>
>
>
> I want to do the certification directly from the governing body
> "r-project.org" and not from any 3rd party.
>
>
>
> Please help.
>
>
>
>
>
>
>
> Mukesh
>
> +91 9819285174
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From mukesh@iekhr@j@@i m@iii@g oii y@hoo@com  Wed Jan  4 10:07:55 2023
From: mukesh@iekhr@j@@i m@iii@g oii y@hoo@com (mukesh@iekhr@j@@i m@iii@g oii y@hoo@com)
Date: Wed, 4 Jan 2023 14:37:55 +0530
Subject: [R] R Certification
In-Reply-To: <CABcYAdKZq2qg4xVGzKVDfvRyxekJaCnDYuTexVvBNbbTbm6Ucw@mail.gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <CABcYAdKZq2qg4xVGzKVDfvRyxekJaCnDYuTexVvBNbbTbm6Ucw@mail.gmail.com>
Message-ID: <00c201d9201c$08c06560$1a413020$@yahoo.com>

Hey Rich, 

 

Out of all the help that I have received so far on my email, this email (below) resolves 95% of my query, the remaining 5% is to justify a few things?.

 

"what VALUE would a certificate

about R provide?"

*	Few of my prospect employers are looking at data analyst with specialization in ?R? so, they want ?R? only, and not SciPy or Julia..
*	They think that a person with ?R? knowledge and another candidate with ?R? knowledge + ?R? Certification will fit the position more.. (Human Mentality Vs. Law Of Fitment) ?

 

proficiency in the core R programming language and

the contents of the 'base' and 'stats' packages.

But there is a huge number of packages serving a

huge number of needs. 

*	In my example it would be ? {abc} is a Certified ?R? Developer With Specialization in ?Package 1? , ?Package 2? and ?Package 3? or ?Stats? set of packages with reporting (Prospect employers love to see certificates of these sorts)

 

I were in the happy position of being able to hire a

data analyst for the region-scale data I have in

mind, I wouldn't *care* whether they used R, SciPy,

or Julia.

*	Few employers want ready stuff, so if they hire someone with Julia, but the employers them selves are using ?R? as their specialization for solutions to their customer, they would prefer to hire someone who already is a champion at ?R? ? such employers will not want to invest in training cost for their employees/candidates.

 

 

 

 

From: Richard O'Keefe <raoknz at gmail.com> 
Sent: Wednesday, January 4, 2023 1:49 PM
To: mukesh.lekhrajani at yahoo.com
Cc: r-help at r-project.org
Subject: Re: [R] R Certification

 

I note that Java, for example, has changed a LOT and

a certificate from, say, 10 years ago, wouldn't impress

me much today.  The same can be said of C#, and of R.

So the question would be, "what VALUE would a certificate

about R provide?"

 

Well, for one thing, it would be a certificate of

proficiency in the core R programming language and

the contents of the 'base' and 'stats' packages.

But there is a huge number of packages serving a

huge number of needs.  If, for example, I needed

someone who understood how to exchange data between

R and a GIS system like GRASS, how to do spatial

analysis with R, and how to produce a report with

knitr, that's at least three packages that would NOT

be covered by an 'R' certificate.  And honestly, if

I were in the happy position of being able to hire a

data analyst for the region-scale data I have in

mind, I wouldn't *care* whether they used R, SciPy,

or Julia.

 

So if you want to show potential employers a

certificate to persuade them that you know something

useful, I suggest that you ask some of them what

they would like such a certificate to be *about*.

It would not surprise me if they said "how about a

degree in statistics, or in data science, or in

data visualisation" or something of the sort.

 

 

 

On Mon, 2 Jan 2023 at 21:33, Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:

Hello R Support Team,



I want to do R certification, could you help me with the list of
certificates with their prices so it helps me to register.



I want to do the certification directly from the governing body
"r-project.org <http://r-project.org> " and not from any 3rd party.



Please help.







Mukesh

+91 9819285174


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From cry@n @end|ng |rom b|ngh@mton@edu  Wed Jan  4 16:29:34 2023
From: cry@n @end|ng |rom b|ngh@mton@edu (Christopher Ryan)
Date: Wed, 4 Jan 2023 10:29:34 -0500
Subject: [R] [External Email] Re:  R Certification
In-Reply-To: <00c201d9201c$08c06560$1a413020$@yahoo.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <CABcYAdKZq2qg4xVGzKVDfvRyxekJaCnDYuTexVvBNbbTbm6Ucw@mail.gmail.com>
 <00c201d9201c$08c06560$1a413020$@yahoo.com>
Message-ID: <CAM+rpYndPpgf895U+5PBPBPznh7+GaN97-5k7f8Y9cVGDUAF6w@mail.gmail.com>

Couldn't one just show prospective employers some impressive things
one has done in R? Seems to me that would be more meaningful than any
sort of certificate.

--Chris Ryan

On Wed, Jan 4, 2023 at 4:08 AM Mukesh Ghanshyamdas Lekhrajani via
R-help <r-help at r-project.org> wrote:
>
> Hey Rich,
>
>
>
> Out of all the help that I have received so far on my email, this email (below) resolves 95% of my query, the remaining 5% is to justify a few things?.
>
>
>
> "what VALUE would a certificate
>
> about R provide?"
>
> *       Few of my prospect employers are looking at data analyst with specialization in ?R? so, they want ?R? only, and not SciPy or Julia..
> *       They think that a person with ?R? knowledge and another candidate with ?R? knowledge + ?R? Certification will fit the position more.. (Human Mentality Vs. Law Of Fitment) ?
>
>
>
> proficiency in the core R programming language and
>
> the contents of the 'base' and 'stats' packages.
>
> But there is a huge number of packages serving a
>
> huge number of needs.
>
> *       In my example it would be ? {abc} is a Certified ?R? Developer With Specialization in ?Package 1? , ?Package 2? and ?Package 3? or ?Stats? set of packages with reporting (Prospect employers love to see certificates of these sorts)
>
>
>
> I were in the happy position of being able to hire a
>
> data analyst for the region-scale data I have in
>
> mind, I wouldn't *care* whether they used R, SciPy,
>
> or Julia.
>
> *       Few employers want ready stuff, so if they hire someone with Julia, but the employers them selves are using ?R? as their specialization for solutions to their customer, they would prefer to hire someone who already is a champion at ?R? ? such employers will not want to invest in training cost for their employees/candidates.
>
>
>
>
>
>
>
>
>
> From: Richard O'Keefe <raoknz at gmail.com>
> Sent: Wednesday, January 4, 2023 1:49 PM
> To: mukesh.lekhrajani at yahoo.com
> Cc: r-help at r-project.org
> Subject: Re: [R] R Certification
>
>
>
> I note that Java, for example, has changed a LOT and
>
> a certificate from, say, 10 years ago, wouldn't impress
>
> me much today.  The same can be said of C#, and of R.
>
> So the question would be, "what VALUE would a certificate
>
> about R provide?"
>
>
>
> Well, for one thing, it would be a certificate of
>
> proficiency in the core R programming language and
>
> the contents of the 'base' and 'stats' packages.
>
> But there is a huge number of packages serving a
>
> huge number of needs.  If, for example, I needed
>
> someone who understood how to exchange data between
>
> R and a GIS system like GRASS, how to do spatial
>
> analysis with R, and how to produce a report with
>
> knitr, that's at least three packages that would NOT
>
> be covered by an 'R' certificate.  And honestly, if
>
> I were in the happy position of being able to hire a
>
> data analyst for the region-scale data I have in
>
> mind, I wouldn't *care* whether they used R, SciPy,
>
> or Julia.
>
>
>
> So if you want to show potential employers a
>
> certificate to persuade them that you know something
>
> useful, I suggest that you ask some of them what
>
> they would like such a certificate to be *about*.
>
> It would not surprise me if they said "how about a
>
> degree in statistics, or in data science, or in
>
> data visualisation" or something of the sort.
>
>
>
>
>
>
>
> On Mon, 2 Jan 2023 at 21:33, Mukesh Ghanshyamdas Lekhrajani via R-help <r-help at r-project.org <mailto:r-help at r-project.org> > wrote:
>
> Hello R Support Team,
>
>
>
> I want to do R certification, could you help me with the list of
> certificates with their prices so it helps me to register.
>
>
>
> I want to do the certification directly from the governing body
> "r-project.org <http://r-project.org> " and not from any 3rd party.
>
>
>
> Please help.
>
>
>
>
>
>
>
> Mukesh
>
> +91 9819285174
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From y@ngk@|9999 @end|ng |rom y@hoo@com  Wed Jan  4 17:18:48 2023
From: y@ngk@|9999 @end|ng |rom y@hoo@com (Kai Yang)
Date: Wed, 4 Jan 2023 16:18:48 +0000 (UTC)
Subject: [R] is it possible to run multiple rmd files together
References: <2132794730.4116158.1672849128376.ref@mail.yahoo.com>
Message-ID: <2132794730.4116158.1672849128376@mail.yahoo.com>

Hi Team,I have multiple rmd files (~50) for difference study report. I did try the source command to run them together, but it seems doesn't work.Is there a way to run those rmd files from one script?Thanks,Kai
	[[alternative HTML version deleted]]


From @nder@@|ex @end|ng |rom gm@||@com  Wed Jan  4 18:31:11 2023
From: @nder@@|ex @end|ng |rom gm@||@com (Anders Alexandersson)
Date: Wed, 4 Jan 2023 12:31:11 -0500
Subject: [R] is it possible to run multiple rmd files together
In-Reply-To: <2132794730.4116158.1672849128376@mail.yahoo.com>
References: <2132794730.4116158.1672849128376.ref@mail.yahoo.com>
 <2132794730.4116158.1672849128376@mail.yahoo.com>
Message-ID: <CAKJpBt+=mnoessTbcqgBxDhdAS4yF6PkAF8iC6AkyeZQ0MCVgw@mail.gmail.com>

Try the bookdown package:

https://bookdown.org/yihui/bookdown/usage.html

On Wed, Jan 4, 2023 at 11:19 AM Kai Yang via R-help <r-help at r-project.org>
wrote:

> Hi Team,I have multiple rmd files (~50) for difference study report. I did
> try the source command to run them together, but it seems doesn't work.Is
> there a way to run those rmd files from one script?Thanks,Kai
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @vi@e@gross m@iii@g oii gm@ii@com  Wed Jan  4 19:59:44 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Wed, 4 Jan 2023 13:59:44 -0500
Subject: [R] Pipe operator
In-Reply-To: <CABcYAdJL8Whk9c9i-hWbySyqeS8-kSpFn0reBHYz_HHJn4SW0g@mail.gmail.com>
References: <02b901d91c6c$6759e2d0$360da870$.ref@yahoo.com>
 <02b901d91c6c$6759e2d0$360da870$@yahoo.com>
 <4B42882F-8DBA-4D3F-8B5E-DF33772052D9@dcn.davis.ca.us>
 <023f01d91ea2$4b1e6a40$e15b3ec0$@yahoo.com>
 <7bf767b8da4744f8932de0d16dfc787b@SRVEXCHCM1302.precheza.cz>
 <026301d91eac$99e5e950$cdb1bbf0$@yahoo.com>
 <CAKZQJMDpo2-GDTxJULgmkJ7Cd3RTr26k+rg20WwWEbYZL+krYQ@mail.gmail.com>
 <047e01d91ed5$577e42a0$067ac7e0$@yahoo.com>
 <MW4PR03MB63630F75F8C75E3448161E00E2F49@MW4PR03MB6363.namprd03.prod.outlook.com>
 <20230104044543.v37ctmwpvajd55wk@zoho.com>
 <CABcYAdJL8Whk9c9i-hWbySyqeS8-kSpFn0reBHYz_HHJn4SW0g@mail.gmail.com>
Message-ID: <004a01d9206e$b59e1d70$20da5850$@gmail.com>

Yes, not every use of a word has the same meaning. The UNIX pipe was in many
ways a very different animal where the PIPE was a very real thing and looked
like a sort of temporary file in the file system with special properties.
Basically it was a fixed-size buffer that effectively was written into by a
process that was paused when the buffer was getting full and allowed to
continue when it was drained by a second process reading from it that also
was similarly managed. It assured many things that a temporary file would
not have supplied including uniqueness and privacy. Later they created a
related animal with persistence called a NAMED PIPE.

So the pipelines we are discussing in R do indeed run very synchronously in
whatever order they need to be run so one finishes producing an output into
an anonymous variable that can then be handed to the next function in the
pipeline. 

If you look at a language like Python or perhaps JavaScript, there are ways
to simulate a relatively asynchronous way to run functions on whatever data
is available from other functions, using ideas like generators and iterators
and more. You can create functions that call other functions just to get one
item such as the next prime number, and do some work and call it again so it
yields just one more value and so on. You can build these in chains so that
lots of functions stay resident in memory and only keep producing data just
in time as needed and perhaps even running on multiple processors in even
more parallelism.

R can possibly add such things and it has elements with things not being
evaluated till needed that can have interesting results and of course it is
possible to spawn additional processes, as with many languages, that are
linked together to run at once, but all such speculation is beyond the
bounds of what operators we call PIPES, such as %>% and |> are doing. It
remains very much syntactic sugar that makes life easier for some and annoys
others.

I note some code I see has people hedging their bets a bit about the missing
first argument. They harmlessly keep the first argument and call it a period
as in:
mutate(mydata, ...) %>%
    filter( ., ...) %>%
    group_by( ., ...) %>%
    summarize( ., ...)


In the above, "..." means fill it in and not an alternate meaning, and the
point is the first argument is a period which is replaced by the
passed-along object but that would have been done without it by default. It
remains a reminder that there still is that first argument and I guess it
could be helpful in some ways too and avoids some potential confusion if
others read your code and look up a man page and understand what the second
and subsequent arguments match up to.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Wednesday, January 4, 2023 1:56 AM
To: Milan Glacier <news at milanglacier.com>
Cc: R-help Mailing List <r-help at r-project.org>
Subject: Re: [R] Pipe operator

This is both true and misleading.
The shell pipe operation came from functional programming.  In fact the
shell pipe operation is NOT "flip apply", which is what |> is, but it is
functional composition.  That is <in command = command(in) command >out =
let out = command
cmd1 | cmd2 = \x.cmd2(cmd1(x)).

Pragmatically, the Unix shell pipe operator does something very important,
which |> (and even functional composition doesn't in F#):
<in cmd1 | cmd2 > out *interleaves* the computation of cmd1 and cmd2,
streaming the data.  But in R, x |> f() |> g() is by definition g(f(x)), and
if g needs the value of its argument, the *whole* of f(x) is evaluated
before g resumes.  This is much closer to what the pipe syntax in the MS-DOS
shell did, if I recall correctly.



On Wed, 4 Jan 2023 at 17:46, Milan Glacier <news at milanglacier.com> wrote:

> With 50 years of programming experience, just think about how useful 
> pipe operator is in shell scripting. The output of previous call 
> becomes the input of next call... Genious idea from our beloved unix 
> conversion...
>
>
> On 01/03/23 16:48, Sorkin, John wrote:
> >I am trying to understand the reason for existence of the pipe 
> >operator,
> %>%, and when one should use it. It is my understanding that the 
> operator sends the file to the left of the operator to the function 
> immediately to the right of the operator:
> >
> >c(1:10) %>% mean results in a value of 5.5 which is exactly the same 
> >as
> the result one obtains using the mean function directly, viz.
> mean(c(1:10)). What is the reason for having two syntactically 
> different but semantically identical ways to call a function? Is one 
> more efficient than the other? Does one use less memory than the other?
> >
> >P.S. Please forgive what might seem to be a question with an obvious
> answer. I am a programmer dinosaur. I have been programming for more 
> than
> 50 years. When I started programming in the 1960s the only pipe one 
> spoke about was a bong.
> >
> >John
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From thom@@@@ub|@ @end|ng |rom |m|ndu@tr|e@@com  Wed Jan  4 22:08:20 2023
From: thom@@@@ub|@ @end|ng |rom |m|ndu@tr|e@@com (Thomas Subia)
Date: Wed, 4 Jan 2023 21:08:20 +0000
Subject: [R] Date order question
Message-ID: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>

Colleagues,

date<-c("12-29","12-30","01-01")
PT <- c(.106,.130,.121)
data <- data.frame(date,PT)
ggplot(data, aes(x=date,y=PT,group=1))+
  geom_point(size=4)+
  geom_line()+
  geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
  scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
  annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold") +
  annotate("text", x=2.5, y=.45, label="Inadequate",size=6,fontface="bold")+
  annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
  annotate("text", x=2.5, y=-.05, label="PT Not Done",size=5,fontface="bold")+
  theme_cowplot()

The plot has the wrong date order.
What is desired is 12-29, 12-30 and 01-01.

Some feedback would be appreciated.

All the best,
Thomas Subia

"De quoi devenir chevre? Des donnees"


From @kw@|mmo @end|ng |rom gm@||@com  Wed Jan  4 22:15:51 2023
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Wed, 4 Jan 2023 16:15:51 -0500
Subject: [R] Date order question
In-Reply-To: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
References: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
Message-ID: <CAPcHnpR2Kx0kwWv9+rXhR=zUXoe7J3JAhqwfhNkb8Gd-ivLYRQ@mail.gmail.com>

I converted `date` to a factor and it seemed to work:


```
library(ggplot2)
library(cowplot)
date <- c("12-29","12-30","01-01")
date <- factor(date, labels = unique(date))
PT <- c(.106,.130,.121)
data <- data.frame(date,PT)
ggplot(data, aes(x=date,y=PT,group=1))+
  geom_point(size=4)+
  geom_line()+
  geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
  scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
  annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold") +
  annotate("text", x=2.5, y=.45, label="Inadequate",size=6,fontface="bold")+
  annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
  annotate("text", x=2.5, y=-.05, label="PT Not Done",size=5,fontface="bold")+
  theme_cowplot()
```

On Wed, Jan 4, 2023 at 4:09 PM Thomas Subia
<thomas.subia at fmindustries.com> wrote:
>
> Colleagues,
>
> date<-c("12-29","12-30","01-01")
> PT <- c(.106,.130,.121)
> data <- data.frame(date,PT)
> ggplot(data, aes(x=date,y=PT,group=1))+
>   geom_point(size=4)+
>   geom_line()+
>   geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
>   scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
>   annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
>   annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
>   annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold") +
>   annotate("text", x=2.5, y=.45, label="Inadequate",size=6,fontface="bold")+
>   annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
>   annotate("text", x=2.5, y=-.05, label="PT Not Done",size=5,fontface="bold")+
>   theme_cowplot()
>
> The plot has the wrong date order.
> What is desired is 12-29, 12-30 and 01-01.
>
> Some feedback would be appreciated.
>
> All the best,
> Thomas Subia
>
> "De quoi devenir chevre? Des donnees"
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tebert @end|ng |rom u||@edu  Wed Jan  4 22:20:03 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 4 Jan 2023 21:20:03 +0000
Subject: [R] Date order question
In-Reply-To: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
References: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
Message-ID: <BN6PR2201MB15538EF366D4F448311D73D0CFF59@BN6PR2201MB1553.namprd22.prod.outlook.com>

1) Your "dates" are not being processed as dates. They are strings.
2) As written your date "01-01" comes first because year is not specified and January comes before December.
3) A library statement is missing. I tried running the program and theme_cowplot() was not found.

As you are plotting strings, you could put a space character in front of the December dates so that they are first. 
date<-c(" 12-29"," 12-30","01-01")
That fixes the problem in this example. You can order all the dates by putting more spaces in front of earlier years. That will get messy.


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Thomas Subia
Sent: Wednesday, January 4, 2023 4:08 PM
To: r-help at r-project.org
Subject: [R] Date order question

[External Email]

Colleagues,

date<-c("12-29","12-30","01-01")
PT <- c(.106,.130,.121)
data <- data.frame(date,PT)
ggplot(data, aes(x=date,y=PT,group=1))+
  geom_point(size=4)+
  geom_line()+
  geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
  scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
  annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
  annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold") +
  annotate("text", x=2.5, y=.45, label="Inadequate",size=6,fontface="bold")+
  annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
  annotate("text", x=2.5, y=-.05, label="PT Not Done",size=5,fontface="bold")+
  theme_cowplot()

The plot has the wrong date order.
What is desired is 12-29, 12-30 and 01-01.

Some feedback would be appreciated.

All the best,
Thomas Subia

"De quoi devenir chevre? Des donnees"

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu%7C9f58ce4e64d04d2b3f0908daee97dcb5%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638084633565926697%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=y7Co7Ae8RJG4AWxjwLLNcvopfUt7fGRBguUovhYaxl8%3D&reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C9f58ce4e64d04d2b3f0908daee97dcb5%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638084633565926697%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=pTYhbgrmoAu6g3%2FDepzJJt45Euazik4D6UJKByOZKuQ%3D&reserved=0
and provide commented, minimal, self-contained, reproducible code.


From po|c1410 @end|ng |rom gm@||@com  Wed Jan  4 23:26:48 2023
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Wed, 4 Jan 2023 22:26:48 +0000
Subject: [R] is it possible to run multiple rmd files together
In-Reply-To: <2132794730.4116158.1672849128376@mail.yahoo.com>
References: <2132794730.4116158.1672849128376.ref@mail.yahoo.com>
 <2132794730.4116158.1672849128376@mail.yahoo.com>
Message-ID: <CA+etgPkrwrWUGcvv=LuR3KZ5EqQX=0vYYLA27_XddWuX1kgziA@mail.gmail.com>

I get frustrated by our peers who reply "please provide a worked example"
but OMG... Please provide a worked example!

You can't use:

source("filename.Rmd") as it isn't a simple set of R code.

You can do:

Rmarkdown::render("filename.Rmd")

You can also knit child files. But it is completely unclear what you have
tried, what you want to happen or what your expected outcome is.

On Wed, 4 Jan 2023, 16:19 Kai Yang via R-help, <r-help at r-project.org> wrote:

> Hi Team,I have multiple rmd files (~50) for difference study report. I did
> try the source command to run them together, but it seems doesn't work.Is
> there a way to run those rmd files from one script?Thanks,Kai
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jan  4 23:36:39 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 4 Jan 2023 22:36:39 +0000
Subject: [R] Date order question
In-Reply-To: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
References: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
Message-ID: <f04ef387-132f-bbf7-1192-de335f5afc2d@sapo.pt>

?s 21:08 de 04/01/2023, Thomas Subia escreveu:
> Colleagues,
> 
> date<-c("12-29","12-30","01-01")
> PT <- c(.106,.130,.121)
> data <- data.frame(date,PT)
> ggplot(data, aes(x=date,y=PT,group=1))+
>    geom_point(size=4)+
>    geom_line()+
>    geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
>    scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
>    annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
>    annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
>    annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold") +
>    annotate("text", x=2.5, y=.45, label="Inadequate",size=6,fontface="bold")+
>    annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
>    annotate("text", x=2.5, y=-.05, label="PT Not Done",size=5,fontface="bold")+
>    theme_cowplot()
> 
> The plot has the wrong date order.
> What is desired is 12-29, 12-30 and 01-01.
> 
> Some feedback would be appreciated.
> 
> All the best,
> Thomas Subia
> 
> "De quoi devenir chevre? Des donnees"
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Transform `date` into a real date column in a dplyr pipe so that the 
original data remains unchanged and plot with scale_x_date which will 
allow for control over the axis breaks and labels.

The only problem are now the text annotations. The x coordinate is 
numeric and it must also be a date object. Below I solve this by 
creating a annotations data set ann_data. In geom_text the data argument 
is now another one, but one layer only annotates all areas.


library(ggplot2)
library(cowplot)
library(dplyr)

date<-c("12-29","12-30","01-01")
PT <- c(.106,.130,.121)
data <- data.frame(date,PT)

ann_data <- data.frame(
   y = c(0.1, 0.225, 0.28, 0.45, 0.8, -0.05),
   text = c("Very Good", "Good", "Marginal", "Inadequate", "OOC", "PT 
Not Done")
)
ann_data$x <- as.Date("2022-12-31")


data %>%
   mutate(newyear = ifelse(substr(date, 1, 2) > "01", "2022-", "2023-"),
          date = as.Date(paste0(newyear, date))) %>%
   ggplot(aes(x = date, y = PT)) +
   geom_point(size = 4) +
   geom_line() +
   geom_hline(yintercept = c(1,.60,0,.30,.25,.2)) +
   #
   geom_text(
     data = ann_data,
     mapping = aes(x = x, y = y, label = text),
     size = 5, fontface = "bold"
   ) +
   scale_x_date(date_breaks = "1 day", date_labels = "%m-%d") +
   #
 
scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.2))+
   theme_cowplot()



Hope this helps,

Rui Barradas


From po|c1410 @end|ng |rom gm@||@com  Wed Jan  4 23:51:02 2023
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Wed, 4 Jan 2023 22:51:02 +0000
Subject: [R] Date order question
In-Reply-To: <BN6PR2201MB15538EF366D4F448311D73D0CFF59@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
 <BN6PR2201MB15538EF366D4F448311D73D0CFF59@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <CA+etgPnUSSxsaTsn3Dc6TAtLjY1uRhon_HXRp5x-TjdJG_ofAg@mail.gmail.com>

On Wed, 4 Jan 2023, 21:29 Ebert,Timothy Aaron, <tebert at ufl.edu> wrote:

>
> As you are plotting strings, you could put a space character in front of
> the December dates so that they are first.
> date<-c(" 12-29"," 12-30","01-01")
> That fixes the problem in this example. You can order all the dates by
> putting more spaces in front of earlier years. That will get messy.
>

Put the year in front +/- apply as.Date() and you would be fine...

date<-c("2022-12-29","2022-12-30","2023-01-01") |> as.Date()

It may be that the source data doesn't have a year and the example given is
to show us dummy data.  You could 'automate' the addition along the lines
of:

require(tidyverse)
#if you have up to date Tidyverse this includes lubridate
current_date <- sys.Date()
current_month <- month(current_date)
current_year <- year(current_date)
date<-c("12-29","12-30","01-01")
PT <- c(.106,.130,.121)
data <- data.frame(date,PT)
data |>
  # separate the date into month and day column
  separate (date, c("Month", "Day"), sep="-") |>
  # add a year if month is > current month must be last year
 mutate (year = if_else(Month > current_month, current_year - 1,
current_year)) |>
  #rebuild the date
  unite (date, c("Year", "Month", "Day"), sep="-") |>
  mutate(date = as.Date(date)) -> data

If you don't want year on the axis of the graph, that should be dealt with
in ggplot not in the data carpentry

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jan  5 08:06:34 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 5 Jan 2023 07:06:34 +0000
Subject: [R] Date order question
In-Reply-To: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
References: <BY5PR12MB5512AA7ADEE6A85B5E97A4E0ECF59@BY5PR12MB5512.namprd12.prod.outlook.com>
Message-ID: <8c216c1b7bba41b4a4bcf2028b4d840a@SRVEXCHCM1302.precheza.cz>

Hallo Thomas

Similar as suggested by Rui, you shall change your date to real date e.g. by

library(lubridate)
date <- paste(date, c(rep(2022,2), 2023), sep="-")
date <- mdy(date)

and you need to change also x coordinate in annotate.

ggplot(data, aes(x=date,y=PT,group=1))+
  geom_point(size=4)+
  geom_line()+
  geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
 
scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.
2))+
  annotate("text", x=date[2], y=.1, label="Very
Good",size=5,fontface="bold")+
  annotate("text", x=date[2], y=.225, label="Good",size=5,fontface="bold")+
  annotate("text", x=date[2], y=.28,
label="Marginal",size=5,fontface="bold") +
  annotate("text", x=date[2], y=.45,
label="Inadequate",size=6,fontface="bold")+
  annotate("text", x=date[2], y=.8, label="OOC",size=6,fontface="bold")+
  annotate("text", x=date[2], y=-.05, label="PT Not
Done",size=5,fontface="bold")

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Thomas Subia
> Sent: Wednesday, January 4, 2023 10:08 PM
> To: r-help at r-project.org
> Subject: [R] Date order question
> 
> Colleagues,
> 
> date<-c("12-29","12-30","01-01")
> PT <- c(.106,.130,.121)
> data <- data.frame(date,PT)
> ggplot(data, aes(x=date,y=PT,group=1))+
>   geom_point(size=4)+
>   geom_line()+
>   geom_hline(yintercept =c(1,.60,0,.30,.25,.2))+
> 
>
scale_y_continuous(label=scales::label_percent(),breaks=c(1,0.6,0,.3,0.25,0.
2))
> +
>   annotate("text", x=2.5, y=.1, label="Very Good",size=5,fontface="bold")+
>   annotate("text", x=2.5, y=.225, label="Good",size=5,fontface="bold")+
>   annotate("text", x=2.5, y=.28, label="Marginal",size=5,fontface="bold")
+
>   annotate("text", x=2.5, y=.45,
label="Inadequate",size=6,fontface="bold")+
>   annotate("text", x=2.5, y=.8, label="OOC",size=6,fontface="bold")+
>   annotate("text", x=2.5, y=-.05, label="PT Not
Done",size=5,fontface="bold")+
>   theme_cowplot()
> 
> The plot has the wrong date order.
> What is desired is 12-29, 12-30 and 01-01.
> 
> Some feedback would be appreciated.
> 
> All the best,
> Thomas Subia
> 
> "De quoi devenir chevre? Des donnees"
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From Steph@ne@P|@|@@nce @end|ng |rom v|b@be  Thu Jan  5 09:23:52 2023
From: Steph@ne@P|@|@@nce @end|ng |rom v|b@be (=?utf-8?B?U3TDqXBoYW5lIFBsYWlzYW5jZQ==?=)
Date: Thu, 5 Jan 2023 08:23:52 +0000
Subject: [R] Issue building from source on RHEL7
Message-ID: <1589E032-2163-4A52-B2E8-40817EB861A3@contoso.com>

Dear,

After trying other methods, I finally went for the build from source as detailed on the RStudio site (https://docs.posit.co/resources/install-r-source/).

################
I did the following as per the info on the Posit page:

sudo yum-builddep R

export R_VERSION=4.2.2

curl -O https://cran.rstudio.com/src/base/R-4/R-${R_VERSION}.tar.gz<https://cran.rstudio.com/src/base/R-4/R-$%7bR_VERSION%7d.tar.gz>
$ tar -xzvf R-${R_VERSION}.tar.gz
$ cd R-${R_VERSION}

$ ./configure \
    --prefix=/opt/R \
    --enable-memory-profiling \
    --enable-R-shlib \
    --with-blas \
    --with-lapack

$ make
$ make check
$ sudo make install

I could build R from source and the tests report success


$ make check

make[1]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests/Examples'

Testing examples for package ?base?

Testing examples for package ?tools?

  comparing ?tools-Ex.Rout? to ?tools-Ex.Rout.save? ... OK

Testing examples for package ?utils?

Testing examples for package ?grDevices?

  comparing ?grDevices-Ex.Rout? to ?grDevices-Ex.Rout.save? ... OK

Testing examples for package ?graphics?

  comparing ?graphics-Ex.Rout? to ?graphics-Ex.Rout.save? ... OK

Testing examples for package ?stats?

  comparing ?stats-Ex.Rout? to ?stats-Ex.Rout.save? ... OK

Testing examples for package ?datasets?

  comparing ?datasets-Ex.Rout? to ?datasets-Ex.Rout.save? ... OK

Testing examples for package ?methods?

Testing examples for package ?grid?

  comparing ?grid-Ex.Rout? to ?grid-Ex.Rout.save? ... OK

Testing examples for package ?splines?

  comparing ?splines-Ex.Rout? to ?splines-Ex.Rout.save? ... OK

Testing examples for package ?stats4?

  comparing ?stats4-Ex.Rout? to ?stats4-Ex.Rout.save? ... OK

Testing examples for package ?tcltk?

Testing examples for package ?compiler?

Testing examples for package ?parallel?

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests/Examples'

make[2]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running strict specific tests

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'eval-etc.R' ... OK

  comparing 'eval-etc.Rout' to './eval-etc.Rout.save' ... OK

running code in 'simple-true.R' ... OK

  comparing 'simple-true.Rout' to './simple-true.Rout.save' ... OK

running code in 'arith-true.R' ... OK

  comparing 'arith-true.Rout' to './arith-true.Rout.save' ... OK

running code in 'arith.R' ... OK

  comparing 'arith.Rout' to './arith.Rout.save' ... OK

running code in 'lm-tests.R' ... OK

  comparing 'lm-tests.Rout' to './lm-tests.Rout.save' ... OK

running code in 'ok-errors.R' ... OK

  comparing 'ok-errors.Rout' to './ok-errors.Rout.save' ... OK

running code in 'method-dispatch.R' ... OK

  comparing 'method-dispatch.Rout' to './method-dispatch.Rout.save' ... OK

running code in 'any-all.R' ... OK

  comparing 'any-all.Rout' to './any-all.Rout.save' ... OK

running code in 'structure.R' ... OK

  comparing 'structure.Rout' to './structure.Rout.save' ... OK

running code in 'd-p-q-r-tests.R' ... OK

  comparing 'd-p-q-r-tests.Rout' to './d-p-q-r-tests.Rout.save' ... OK

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

running sloppy specific tests

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'complex.R' ... OK

  comparing 'complex.Rout' to './complex.Rout.save' ... OK

running code in 'print-tests.R' ... OK

  comparing 'print-tests.Rout' to './print-tests.Rout.save' ... OK

running code in 'lapack.R' ... OK

  comparing 'lapack.Rout' to './lapack.Rout.save' ... OK

running code in 'datasets.R' ... OK

  comparing 'datasets.Rout' to './datasets.Rout.save' ... OK

running code in 'datetime.R' ... OK

  comparing 'datetime.Rout' to './datetime.Rout.save' ... OK

running code in 'iec60559.R' ... OK

  comparing 'iec60559.Rout' to './iec60559.Rout.save' ... OK

running code in 'eval-etc-2.R' ... OK

  comparing 'eval-etc-2.Rout' to './eval-etc-2.Rout.save' ... OK

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

checking Sys.timezone ...

make[4]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'timezone.R' ... OK

make[4]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running regression tests ...

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'array-subset.R' ... OK

running code in 'reg-tests-1a.R' ... OK

running code in 'reg-tests-1b.R' ... OK

running code in 'reg-tests-1c.R' ... OK

running code in 'reg-tests-1d.R' ... OK

running code in 'reg-tests-2.R' ... OK

  comparing 'reg-tests-2.Rout' to './reg-tests-2.Rout.save' ... OK

running code in 'reg-examples1.R' ... OK

running code in 'reg-examples2.R' ... OK

running code in 'reg-packages.R' ... OK

running code in 'p-qbeta-strict-tst.R' ... OK

running code in 'd-p-q-r-tst-2.R' ... OK

running code in 'r-strict-tst.R' ... OK

running code in 'reg-IO.R' ... OK

  comparing 'reg-IO.Rout' to './reg-IO.Rout.save' ... OK

running code in 'reg-IO2.R' ... OK

  comparing 'reg-IO2.Rout' to './reg-IO2.Rout.save' ... OK

running code in 'reg-plot.R' ... OK

  comparing 'reg-plot.pdf' to './reg-plot.pdf.save' ... OK

running code in 'reg-S4-examples.R' ... OK

running code in 'reg-BLAS.R' ... OK

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'reg-tests-3.R' ... OK

  comparing 'reg-tests-3.Rout' to './reg-tests-3.Rout.save' ... OK

running code in 'reg-examples3.R' ... OK

  comparing 'reg-examples3.Rout' to './reg-examples3.Rout.save' ... OK

running tests of plotting Latin-1

  expect failure or some differences if not in a Latin-1 or UTF-8 locale

running code in 'reg-plot-latin1.R' ... OK

  comparing 'reg-plot-latin1.pdf' to './reg-plot-latin1.pdf.save' ... OK

running code in 'reg-S4.R' ... OK

  comparing 'reg-S4.Rout' to './reg-S4.Rout.save' ... OK

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running tests of Internet functions

make[3]: Entering directory `/home/splaisan/Downloads/R-4.2.2/tests'

running code in 'internet.R' ... OK

  comparing 'internet.Rout' to './internet.Rout.save' ...39d38

< [24] "</html>"

 OK

make[3]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[2]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

make[1]: Leaving directory `/home/splaisan/Downloads/R-4.2.2/tests'

R almost works when run from the build /bin folder (besides a couple of warnings which I do not understand)


$ bin/R

Error in gzfile(file, "rb") : cannot open the connection

In addition: Warning message:

In gzfile(file, "rb") :

  cannot open compressed file '/usr/lib64/R/library/base/R/base.rdx', probable reason 'No such file or directory'

Error: could not find function "attach"



R version 4.2.2 (2022-10-31) -- "Innocent and Trusting"

Copyright (C) 2022 The R Foundation for Statistical Computing

Platform: x86_64-pc-linux-gnu (64-bit)



R is free software and comes with ABSOLUTELY NO WARRANTY.

You are welcome to redistribute it under certain conditions.

Type 'license()' or 'licence()' for distribution details.



  Natural language support but running in an English locale



R is a collaborative project with many contributors.

Type 'contributors()' for more information and

'citation()' on how to cite R or R packages in publications.



Type 'demo()' for some demos, 'help()' for on-line help, or

'help.start()' for an HTML browser interface to help.

Type 'q()' to quit R.



Error: object '.ArgsEnv' not found

Fatal error: unable to initialize the JIT


Then when I run ?sudo make install?, the prefix path only gets part of the expected folders and the resulting collection is not functional (it lacks even the library folder)

Can you please help me fix this?

Thanks in advance

Stephane


####################################
The resulting opt/R/ folder contains:


$ ll /opt/R/

total 4.0K

drwxr-xr-x.  5 root root   40 Jan  4 17:22 .

drwxr-xr-x. 18 root root 4.0K Jan  4 14:30 ..

drwxr-xr-x.  2 root root   28 Jan  4 17:22 bin

drwxr-xr-x.  4 root root   30 Jan  4 17:22 lib64

drwxr-xr-x.  3 root root   16 Jan  4 17:22 share

which is far from what I have on a functional different server (ubuntu 20)

$ ll /usr/lib/R
total 44K
drwxr-xr-x   8 root root 4.0K Nov 14 09:28 .
drwxr-xr-x 158 root root  12K Nov 18 06:20 ..
drwxr-xr-x   3 root root 4.0K Nov 14 09:28 bin
lrwxrwxrwx   1 root root   33 Nov 12 17:12 COPYING -> ../../share/common-licenses/GPL-2
drwxr-xr-x   2 root root 4.0K Nov 14 09:28 etc
drwxr-xr-x   2 root root 4.0K Nov 14 09:28 lib
drwxr-xr-x  32 root root 4.0K Sep  6 13:07 library
drwxr-xr-x   2 root root 4.0K Nov 14 09:28 modules
drwxr-xr-x   2 root root 4.0K Aug 11 02:31 site-library
-rw-r--r--   1 root root   46 Nov 12 17:12 SVN-REVISION




	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Jan  5 17:52:32 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 5 Jan 2023 19:52:32 +0300
Subject: [R] Issue building from source on RHEL7
In-Reply-To: <1589E032-2163-4A52-B2E8-40817EB861A3@contoso.com>
References: <1589E032-2163-4A52-B2E8-40817EB861A3@contoso.com>
Message-ID: <20230105195232.6c75f5f3@Tarkus>

On Thu, 5 Jan 2023 08:23:52 +0000
St?phane Plaisance <Stephane.Plaisance at vib.be> wrote:

> I finally went for the build from source as detailed on the RStudio
> site (https://docs.posit.co/resources/install-r-source/).

The official installation manual can be found at
<https://cran.r-project.org/doc/manuals/r-release/R-admin.html>, not at
the Posit website.

> $ ./configure \
>     --prefix=/opt/R \
>     --enable-memory-profiling \
>     --enable-R-shlib \
>     --with-blas \
>     --with-lapack
> $ make
> $ make check
> $ sudo make install

This should have worked. In fact, I cannot reproduce your problem on my
own: with the same command line, R passes the check and runs both from
the build directory as ./bin/R and (after a `make install`) from the
prefix I specified.

> $ bin/R
> Error in gzfile(file, "rb") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "rb") :
> cannot open compressed file '/usr/lib64/R/library/base/R/base.rdx',
> probable reason 'No such file or directory'

Something about remembering the prefix must have gone horribly wrong,
making your build of R confused enough to go looking for its files in
the wrong directory. Do you have any lingering R-related environment
variables set? Does `env | grep R` show anything useful? Is there
anything useful about the prefix in config.log? Do the generated files
src/scripts/R.fe and bin/R contain the right value of the R_HOME_DIR
variable?

> 	[[alternative HTML version deleted]]

When you compose your messages in HTML, we only get the plain text
version automatically generated by your mailer. This transformation is
sometimes lossy:
https://stat.ethz.ch/pipermail/r-help/2023-January/476610.html

-- 
Best regards,
Ivan


From Steph@ne@P|@|@@nce @end|ng |rom v|b@be  Thu Jan  5 18:49:34 2023
From: Steph@ne@P|@|@@nce @end|ng |rom v|b@be (=?utf-8?B?U3TDqXBoYW5lIFBsYWlzYW5jZQ==?=)
Date: Thu, 5 Jan 2023 17:49:34 +0000
Subject: [R] Issue building from source on RHEL7
In-Reply-To: <20230105195232.6c75f5f3@Tarkus>
References: <1589E032-2163-4A52-B2E8-40817EB861A3@contoso.com>
 <20230105195232.6c75f5f3@Tarkus>
Message-ID: <FED10FAD-13C1-40EF-9B43-A3D8A69D2372@vib.be>

Thanks Ivan,

The instruction on Posit are almost identical to those in R except they add a version folder to be able to instyall multiple R's in parallel. I do not think this is the reason.

I apparently fixed my 4.1.3 issue by adding a symlink R in /usr/lib64/ pointing to /opt/R/${R_VERSION}/lib64/R folder
This additional symlink is not detailed in the doc(s) and apparently takes care of re-establishing the link to lib and source files when running R.

I now do not have errors anymore and it even works inside RStudio

Thanks a lot for your help, hoep this can help others with the same issue.

Stephane

=============

?On 05/01/2023, 17:52, "Ivan Krylov" <krylov.r00t at gmail.com> wrote:

    On Thu, 5 Jan 2023 08:23:52 +0000
    St?phane Plaisance <Stephane.Plaisance at vib.be> wrote:

    > I finally went for the build from source as detailed on the RStudio
    > site (https://docs.posit.co/resources/install-r-source/).

    The official installation manual can be found at
    <https://cran.r-project.org/doc/manuals/r-release/R-admin.html>, not at
    the Posit website.

    > $ ./configure \
    >     --prefix=/opt/R \
    >     --enable-memory-profiling \
    >     --enable-R-shlib \
    >     --with-blas \
    >     --with-lapack
    > $ make
    > $ make check
    > $ sudo make install

    This should have worked. In fact, I cannot reproduce your problem on my
    own: with the same command line, R passes the check and runs both from
    the build directory as ./bin/R and (after a `make install`) from the
    prefix I specified.

    > $ bin/R
    > Error in gzfile(file, "rb") : cannot open the connection
    > In addition: Warning message:
    > In gzfile(file, "rb") :
    > cannot open compressed file '/usr/lib64/R/library/base/R/base.rdx',
    > probable reason 'No such file or directory'

    Something about remembering the prefix must have gone horribly wrong,
    making your build of R confused enough to go looking for its files in
    the wrong directory. Do you have any lingering R-related environment
    variables set? Does `env | grep R` show anything useful? Is there
    anything useful about the prefix in config.log? Do the generated files
    src/scripts/R.fe and bin/R contain the right value of the R_HOME_DIR
    variable?

    > 	[[alternative HTML version deleted]]

    When you compose your messages in HTML, we only get the plain text
    version automatically generated by your mailer. This transformation is
    sometimes lossy:
    https://stat.ethz.ch/pipermail/r-help/2023-January/476610.html

    -- 
    Best regards,
    Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Jan  5 19:25:31 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 5 Jan 2023 21:25:31 +0300
Subject: [R] Issue building from source on RHEL7
In-Reply-To: <FED10FAD-13C1-40EF-9B43-A3D8A69D2372@vib.be>
References: <1589E032-2163-4A52-B2E8-40817EB861A3@contoso.com>
 <20230105195232.6c75f5f3@Tarkus>
 <FED10FAD-13C1-40EF-9B43-A3D8A69D2372@vib.be>
Message-ID: <20230105212531.77171771@Tarkus>

On Thu, 5 Jan 2023 17:49:34 +0000
St?phane Plaisance <Stephane.Plaisance at vib.be> wrote:

> The instruction on Posit are almost identical to those in R except
> they add a version folder to be able to instyall multiple R's in
> parallel. I do not think this is the reason.

You're right. I don't currently see anything in Posit's instruction
that could have caused this.

> I apparently fixed my 4.1.3 issue by adding a symlink R in
> /usr/lib64/ pointing to /opt/R/${R_VERSION}/lib64/R folder
> This additional symlink is not detailed in the doc(s) and
> apparently takes care of re-establishing the link to lib and source
> files when running R.

Congratulations on getting R running!

I'm afraid that's not the way R is intended to be working. I think
there's something else currently broken in your R installation, though
feel free to ignore me if you don't want to deal with this right now.

There should be no need to create such symlinks when installing R: if
told to run from under a given prefix, it should be entirely possible
to avoid touching the rest of the filesystem. Are you sure you didn't
have R_HOME or some other environment variables interfering with the
workings of R? Was the R-4.1.3 installation also built from source the
same way you were building R-4.2.2, or did it come from an RPM?

-- 
Best regards,
Ivan


From rremed|o @end|ng |rom hotm@||@com  Thu Jan  5 20:52:25 2023
From: rremed|o @end|ng |rom hotm@||@com (=?UTF-8?Q?Rodrigo_Ribeiro_Rem=c3=a9dio?=)
Date: Thu, 5 Jan 2023 16:52:25 -0300
Subject: [R] R 'arima' discrepancies
Message-ID: <CP4P284MB1650D7A2FB5FE08CB81E51B6C0FA9@CP4P284MB1650.BRAP284.PROD.OUTLOOK.COM>

Rob J Hyndman gives great explanation here 
(https://robjhyndman.com/hyndsight/estimation/) for reasons why results 
from R's arima may differ from other softwares.

@iacobus, to cite one, 'Major discrepancies between R and Stata for 
ARIMA' 
(https://stackoverflow.com/questions/22443395/major-discrepancies-between-r-and-stata-for-arima), 
assign the, sometimes, big diferences from R and other softwares to 
different optimization algorithms. However, I think this is overstate 
the reason.

I explain better. I fit arima models regularly using |forecast| or 
|fable| packages, besides using Stata, Eviews and Gretl. All these 
packages, except for R, give very consistent results with each other. 
I'll give one example using R, Eviews and Gretl. I'll use "BFGS" 
algorithm and observed hessian based standard errors (in Gretl and in 
Eviews).


    |library(GetBCBData) library(lubridate) library(tsibble)
    library(tsbox) library(forecast) library(tidyr) library(dplyr)
    #============================================================# #Data
    ---- #============================================================#
    #Brazilian CPI and analytical components ipca <-
    gbcbd_get_series(c(433, 4449, 10844, 11428, 27863, 27864),
    first.date = dmy("01/01/2004")) ipca <- ipca %>% mutate(series.name
    = case_when(id.num == 433 ~ "ipca", id.num == 4449 ~
    "administrados", id.num == 10844 ~ "servicos", id.num == 11428 ~
    "livres", id.num == 27863 ~ "industriais", id.num == 27864 ~
    "alimentos", TRUE ~ series.name)) ipca <- ipca %>% select(data =
    ref.date, valor = value, series.name) %>% pivot_wider(names_from =
    "series.name", values_from = "valor") ipca_tsb <- ipca %>%
    mutate(data = yearmonth(data)) %>% arrange(data) %>% as_tsibble()
    ipca_ts <- ipca_tsb %>% ts_ts() ##Eviews and Gretl can easily import
    'dta' files ---- ipca %>% foreign::write.dta("ipca.dta")
    #============================================================#
    #Model ----
    #============================================================#
    #ARIMA(2,0,1)(2,0,2)[12] modelo <- ipca_ts %>% .[, "servicos"] %>%
    Arima(order = c(2, 0, 1), seasonal = c(2, 0, 2), include.mean = T,
    method = "ML", optim.method = "BFGS", optim.control = list(maxit =
    1000)) #'fable' gives identical results: ipca_tsb%>%
    model(ARIMA(servicos ~ 1 + pdq(2, 0, 1) + PDQ(2, 0, 2), method =
    "ML", optim.method = "BFGS", optim.control = list(maxit = 1000)))
    %>% report() summary(modelo) |*|Series: . ARIMA(2,0,1)(2,0,2)[12]
    with non-zero mean Coefficients: ar1 ar2 ma1 sar1 sar2 sma1 sma2
    mean 0.7534 0.0706 -0.5705 0.1759 0.7511 0.3533 -0.6283 0.5001 s.e.
    NaN NaN 0.0011 NaN NaN NaN NaN 0.1996 sigma^2 = 0.05312: log
    likelihood = 1.75 AIC=14.5 AICc=15.33 BIC=45.33 Training set error
    measures: ME RMSE MAE MPE MAPE MASE ACF1 Training set -0.006082139
    0.2263897 0.1678378 -33.39711 79.74708 0.7674419 0.01342733 Warning
    message: In sqrt(diag(x$var.coef)) : NaNs produce|*


|Gretl||output: 
https://drive.google.com/file/d/1T_thtM0mRXvlJbPrgkwqlc_tLqCbsXYe/view?usp=sharing|

|Eviews output: 
https://drive.google.com/file/d/1Ta8b5vPwftRFhZpb3Pg95aVRfvhl01vO/view?usp=sharing|


Coefficients comparisson: 
https://docs.google.com/spreadsheets/d/1TfXmQaCEOtOX6e0foSHI9gTAHJ1vW6Ui/edit?usp=sharing&ouid=104001235447994085528&rtpof=true&sd=true


Both Eviews and Gretl give results that differ after a few decimal 
places, which is expected. R, by its turn, gives completlely different 
results. Again, all of them used "BFGS" algorithm. Even the standard 
erros, which I'm not questioning here, are very similar between Gretl 
and Eviews. In this example, the major difference is in AR(1) coefficient.

I know this is just only one example, but I see these kind of divergent 
results everyday. Not to mention situations where including a single 
observation messes up the entire result, or when R cannot calculate 
standard errors ("In sqrt(diag(best$var.coef))").

All that make me wonder: as results may differ greatly from other 
software, is |arima| from R truly reliable? Is |optim| the problem or 
other intricacies inside |arima| function and its methodology? Or are 
all the other softwares making mistakes (converging when they shouldn't, 
for example)?

In a summary, the question is: is R's base |arima| (which |Arima|, from 
'forecast', and |ARIMA| from 'fable' are based on) really reliable?


Edit: Stata gives the same results as did Gretl and Eviews. Stata 
output: 
https://drive.google.com/file/d/1TeKfj59aJNjxaWx0Uslke4y8RJWqMxRl/view?usp=sharing


Rodrigo Rem?dio

rremedio at hotmail.com


||*||*||


From pro|jcn@@h @end|ng |rom gm@||@com  Fri Jan  6 15:37:08 2023
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Fri, 6 Jan 2023 09:37:08 -0500
Subject: [R] R 'arima' discrepancies
In-Reply-To: <CP4P284MB1650D7A2FB5FE08CB81E51B6C0FA9@CP4P284MB1650.BRAP284.PROD.OUTLOOK.COM>
References: <CP4P284MB1650D7A2FB5FE08CB81E51B6C0FA9@CP4P284MB1650.BRAP284.PROD.OUTLOOK.COM>
Message-ID: <85c133f9-9d95-ff90-e2e4-944364bd21c0@gmail.com>

As the original author of what became "BFGS" in optim(), I would point out that BFGS is a catch-all
phrase that should be applied only to the formula used to update EITHER (my emphasis) the approximate
Hessian or the INVERSE approximate Hessian. The starting approximation can vary as well, along with
choices of the line search based on a search direction the approximate (inverse?) Hessian generates.

The optim::BFGS starts with a unit matrix approximation to the inverse hessian and uses a backtrack
line search. There are some choices of how fast to backtrack and the stopping criteria. Also optim::BFGS
allows a relatively crude gradient approximation to be used.

Rvmmin (now part of optimx) is an all-R implementation of the same ideas, but with some changes in local
strategies. Even putting in what I believe are the same choices, I don't get identical iterates to
optim::BFGS, likely due to some ways in which C works. The "vm" in the name is for the original
"Variable Metric" algorithm of Fletcher (1970). I sat with Roger in Dundee in Jan. 1976 and we used a red
pencil and simplified his Fortran code. I made just 1 more change when I returned to Ottawa -- my approach
always tries a steepest descent (i.e., new unit inverse Hessian) before quitting.

One choice I have made with Rvmmin is to insist on a gradient function. I've found approximations don't
work so well, not for speed but for knowing that an answer has a nearly zero gradient.

There is likely a useful but modest project to explore the differences Rodrigo has pointed out. It should not
be too difficult to set up the optimization to try different optimizers. I'll be happy to collaborate in
this. Note that Google Summer of Code is a possibility, but prospective students and mentors need to be
starting now.

Cheers,

John Nash

On 2023-01-05 14:52, Rodrigo Ribeiro Rem?dio wrote:
> Rob J Hyndman gives great explanation here (https://robjhyndman.com/hyndsight/estimation/) for reasons why results from 
> R's arima may differ from other softwares.
> 
> @iacobus, to cite one, 'Major discrepancies between R and Stata for ARIMA' 
> (https://stackoverflow.com/questions/22443395/major-discrepancies-between-r-and-stata-for-arima), assign the, sometimes, 
> big diferences from R and other softwares to different optimization algorithms. However, I think this is overstate the 
> reason.
> 
> I explain better. I fit arima models regularly using |forecast| or |fable| packages, besides using Stata, Eviews and 
> Gretl. All these packages, except for R, give very consistent results with each other. I'll give one example using R, 
> Eviews and Gretl. I'll use "BFGS" algorithm and observed hessian based standard errors (in Gretl and in Eviews).
> 
> 
>  ?? |library(GetBCBData) library(lubridate) library(tsibble)
>  ?? library(tsbox) library(forecast) library(tidyr) library(dplyr)
>  ?? #============================================================# #Data
>  ?? ---- #============================================================#
>  ?? #Brazilian CPI and analytical components ipca <-
>  ?? gbcbd_get_series(c(433, 4449, 10844, 11428, 27863, 27864),
>  ?? first.date = dmy("01/01/2004")) ipca <- ipca %>% mutate(series.name
>  ?? = case_when(id.num == 433 ~ "ipca", id.num == 4449 ~
>  ?? "administrados", id.num == 10844 ~ "servicos", id.num == 11428 ~
>  ?? "livres", id.num == 27863 ~ "industriais", id.num == 27864 ~
>  ?? "alimentos", TRUE ~ series.name)) ipca <- ipca %>% select(data =
>  ?? ref.date, valor = value, series.name) %>% pivot_wider(names_from =
>  ?? "series.name", values_from = "valor") ipca_tsb <- ipca %>%
>  ?? mutate(data = yearmonth(data)) %>% arrange(data) %>% as_tsibble()
>  ?? ipca_ts <- ipca_tsb %>% ts_ts() ##Eviews and Gretl can easily import
>  ?? 'dta' files ---- ipca %>% foreign::write.dta("ipca.dta")
>  ?? #============================================================#
>  ?? #Model ----
>  ?? #============================================================#
>  ?? #ARIMA(2,0,1)(2,0,2)[12] modelo <- ipca_ts %>% .[, "servicos"] %>%
>  ?? Arima(order = c(2, 0, 1), seasonal = c(2, 0, 2), include.mean = T,
>  ?? method = "ML", optim.method = "BFGS", optim.control = list(maxit =
>  ?? 1000)) #'fable' gives identical results: ipca_tsb%>%
>  ?? model(ARIMA(servicos ~ 1 + pdq(2, 0, 1) + PDQ(2, 0, 2), method =
>  ?? "ML", optim.method = "BFGS", optim.control = list(maxit = 1000)))
>  ?? %>% report() summary(modelo) |*|Series: . ARIMA(2,0,1)(2,0,2)[12]
>  ?? with non-zero mean Coefficients: ar1 ar2 ma1 sar1 sar2 sma1 sma2
>  ?? mean 0.7534 0.0706 -0.5705 0.1759 0.7511 0.3533 -0.6283 0.5001 s.e.
>  ?? NaN NaN 0.0011 NaN NaN NaN NaN 0.1996 sigma^2 = 0.05312: log
>  ?? likelihood = 1.75 AIC=14.5 AICc=15.33 BIC=45.33 Training set error
>  ?? measures: ME RMSE MAE MPE MAPE MASE ACF1 Training set -0.006082139
>  ?? 0.2263897 0.1678378 -33.39711 79.74708 0.7674419 0.01342733 Warning
>  ?? message: In sqrt(diag(x$var.coef)) : NaNs produce|*
> 
> 
> |Gretl||output: https://drive.google.com/file/d/1T_thtM0mRXvlJbPrgkwqlc_tLqCbsXYe/view?usp=sharing|
> 
> |Eviews output: https://drive.google.com/file/d/1Ta8b5vPwftRFhZpb3Pg95aVRfvhl01vO/view?usp=sharing|
> 
> 
> Coefficients comparisson: 
> https://docs.google.com/spreadsheets/d/1TfXmQaCEOtOX6e0foSHI9gTAHJ1vW6Ui/edit?usp=sharing&ouid=104001235447994085528&rtpof=true&sd=true
> 
> 
> Both Eviews and Gretl give results that differ after a few decimal places, which is expected. R, by its turn, gives 
> completlely different results. Again, all of them used "BFGS" algorithm. Even the standard erros, which I'm not 
> questioning here, are very similar between Gretl and Eviews. In this example, the major difference is in AR(1) coefficient.
> 
> I know this is just only one example, but I see these kind of divergent results everyday. Not to mention situations 
> where including a single observation messes up the entire result, or when R cannot calculate standard errors ("In 
> sqrt(diag(best$var.coef))").
> 
> All that make me wonder: as results may differ greatly from other software, is |arima| from R truly reliable? Is |optim| 
> the problem or other intricacies inside |arima| function and its methodology? Or are all the other softwares making 
> mistakes (converging when they shouldn't, for example)?
> 
> In a summary, the question is: is R's base |arima| (which |Arima|, from 'forecast', and |ARIMA| from 'fable' are based 
> on) really reliable?
> 
> 
> Edit: Stata gives the same results as did Gretl and Eviews. Stata output: 
> https://drive.google.com/file/d/1TeKfj59aJNjxaWx0Uslke4y8RJWqMxRl/view?usp=sharing
> 
> 
> Rodrigo Rem?dio
> 
> rremedio at hotmail.com
> 
> 
> ||*||*||
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Sat Jan  7 17:29:35 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Sat, 7 Jan 2023 17:29:35 +0100
Subject: [R] gmp::bigq vs. MASS::fractions
Message-ID: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de>

Hi,

has someone experience which routine should be used for creating 
fractional numbers? The two conversion routines deliver different results

 > x <- (0:7)/7

 > MASS::fractions(x)

[1]   0 1/7 2/7 3/7 4/7 5/7 6/7   1

 > gmp::as.bigq(x)

Big Rational ('bigq') object of length 8:

[1] 0 
2573485501354569/18014398509481984 2573485501354569/9007199254740992

[4] 7720456504063707/18014398509481984 2573485501354569/4503599627370496 
  6433713753386423/9007199254740992

[7] 7720456504063707/9007199254740992  1

Following the example I would compute my fractional numbers with 
MASS::fractions and store them for further processing as Big Rational.

Thanks Sigbert


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Jan  7 17:55:00 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 7 Jan 2023 19:55:00 +0300
Subject: [R] gmp::bigq vs. MASS::fractions
In-Reply-To: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de>
References: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de>
Message-ID: <20230107195500.3ceb4d83@Tarkus>

On Sat, 7 Jan 2023 17:29:35 +0100
Sigbert Klinke <sigbert at wiwi.hu-berlin.de> wrote:

>  > x <- (0:7)/7  
> 
>  > MASS::fractions(x)  
> 
> [1]   0 1/7 2/7 3/7 4/7 5/7 6/7   1
> 
>  > gmp::as.bigq(x)  
> 
> Big Rational ('bigq') object of length 8:
> 
> [1] 0 
> 2573485501354569/18014398509481984 2573485501354569/9007199254740992
> 
> [4] 7720456504063707/18014398509481984
> 2573485501354569/4503599627370496 6433713753386423/9007199254740992
> 
> [7] 7720456504063707/9007199254740992  1

That's a consequence of the way fractions are internally represented
inside most modern processors. In short, gmp::as.bigq takes the red
pill and shows you the reality as it is (all fractions have a limited
number of significant digits -- 52 binary digits -- and are required to
have a denominator that's a power of two), while MASS::fractions tries
to guess what the original number might have been before an imprecise
approximation of k/7 had been computed. (Since 7 is not a power of 2,
only 0 and 1 have an exact representation in your example.)

For more information, see R FAQ 7.31:
https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f

What do you need the fractions for?

-- 
Best regards,
Ivan


From |eo@m@d@ @end|ng |rom @yon|c@eu  Sun Jan  8 04:24:05 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Sun, 8 Jan 2023 05:24:05 +0200
Subject: [R] Problem with integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
Message-ID: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>

Dear List-Members,

I encounter a problem while trying to integrate the following function:

integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
# Error in integrate(function(x) x^3/sin(x), -pi/2, pi/2) :
#? non-finite function value

# the value should be finite:
curve(x^3 / sin(x), -pi/2, pi/2)
integrate(function(x) x^3 / sin(x), -pi/2, 0)
integrate(function(x) x^3 / sin(x), 0, pi/2)
# but this does NOT work:
integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4096)
integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4097)
# works:
integrate(function(x) x^3 / sin(x), -pi/2, pi/2 + 1E-10)


# Note: works directly with other packages

pracma::integral(function(x) x^3 / sin(x), -pi/2, pi/2 )
# 3.385985


I hope that integrate() gets improved in base R as well.


Sincerely,


Leonard


From @kw@|mmo @end|ng |rom gm@||@com  Sun Jan  8 04:32:25 2023
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Sat, 7 Jan 2023 22:32:25 -0500
Subject: [R] 
 Problem with integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
In-Reply-To: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>
References: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>
Message-ID: <CAPcHnpS5eLjZ9UsB+H9PqD6PjoyVwN5=2T9JmM3BfdYg+qiBXQ@mail.gmail.com>

You're dividing 0 by 0, giving you NaN, perhaps you should try

function(x) ifelse(x == 0, 0, x^3/sin(x))

On Sat, Jan 7, 2023, 22:24 Leonard Mada via R-help <r-help at r-project.org>
wrote:

> Dear List-Members,
>
> I encounter a problem while trying to integrate the following function:
>
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
> # Error in integrate(function(x) x^3/sin(x), -pi/2, pi/2) :
> #  non-finite function value
>
> # the value should be finite:
> curve(x^3 / sin(x), -pi/2, pi/2)
> integrate(function(x) x^3 / sin(x), -pi/2, 0)
> integrate(function(x) x^3 / sin(x), 0, pi/2)
> # but this does NOT work:
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4096)
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4097)
> # works:
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2 + 1E-10)
>
>
> # Note: works directly with other packages
>
> pracma::integral(function(x) x^3 / sin(x), -pi/2, pi/2 )
> # 3.385985
>
>
> I hope that integrate() gets improved in base R as well.
>
>
> Sincerely,
>
>
> Leonard
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Sun Jan  8 05:02:09 2023
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Sat, 7 Jan 2023 23:02:09 -0500
Subject: [R] 
 Problem with integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
In-Reply-To: <8d1cba31-d670-c019-1700-60ceb64f2e2d@syonic.eu>
References: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>
 <CAPcHnpS5eLjZ9UsB+H9PqD6PjoyVwN5=2T9JmM3BfdYg+qiBXQ@mail.gmail.com>
 <8d1cba31-d670-c019-1700-60ceb64f2e2d@syonic.eu>
Message-ID: <CAPcHnpQGSk2oQ2xgZdMivoMsNNB9EeSWwVV0-0QZ3tKgn9WP-A@mail.gmail.com>

`subdivisions` is the maximum number of subintervals. Looking here

https://github.com/wch/r-source/blob/79298c499218846d14500255efd622b5021c10ec/src/appl/integrate.c#L1275

I'm not surprised that changing `subdivisions` has no effect on the
outcome. The integration method from {pracma} might work, maybe it
never calculates the function at 0, maybe it's using some alternate
method. Or maybe it did calculate f(0) and got NaN and just assumed
that the limit converged. Maybe that's a fair assumption, and maybe
it's not.

However:

integrate(function(x) ifelse(x == 0, 0, x^3/sin(x), -pi/2, pi/2)

works perfectly fine and is a better function definition anyway.
`integrate` in the {stats} package is unlikely to change, so use the
alternate function definition or use {pracma}.

On Sat, Jan 7, 2023 at 10:41 PM Leonard Mada <leo.mada at syonic.eu> wrote:
>
> Dear Andrew,
>
>
> The limit when x approaches 0 is 0. I think most integration algorithms handle this situation.
>
>
> This actually works, and it "includes" formally the point x = 0:
>
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2 + 1E-10)
>
>
> Trying to "bypass" the 0 using subdivisions unfortunately did not work:
>
> integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4097) # or 4096
>
>
> Sincerely,
>
>
> Leonard
>
>
> On 1/8/2023 5:32 AM, Andrew Simmons wrote:
>
> You're dividing 0 by 0, giving you NaN, perhaps you should try
>
> function(x) ifelse(x == 0, 0, x^3/sin(x))
>
> On Sat, Jan 7, 2023, 22:24 Leonard Mada via R-help <r-help at r-project.org> wrote:
>>
>> Dear List-Members,
>>
>> I encounter a problem while trying to integrate the following function:
>>
>> integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
>> # Error in integrate(function(x) x^3/sin(x), -pi/2, pi/2) :
>> #  non-finite function value
>>
>> # the value should be finite:
>> curve(x^3 / sin(x), -pi/2, pi/2)
>> integrate(function(x) x^3 / sin(x), -pi/2, 0)
>> integrate(function(x) x^3 / sin(x), 0, pi/2)
>> # but this does NOT work:
>> integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4096)
>> integrate(function(x) x^3 / sin(x), -pi/2, pi/2, subdivisions=4097)
>> # works:
>> integrate(function(x) x^3 / sin(x), -pi/2, pi/2 + 1E-10)
>>
>>
>> # Note: works directly with other packages
>>
>> pracma::integral(function(x) x^3 / sin(x), -pi/2, pi/2 )
>> # 3.385985
>>
>>
>> I hope that integrate() gets improved in base R as well.
>>
>>
>> Sincerely,
>>
>>
>> Leonard
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Sun Jan  8 08:27:05 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 8 Jan 2023 10:27:05 +0300
Subject: [R] 
 Problem with integrate(function(x) x^3 / sin(x), -pi/2, pi/2)
In-Reply-To: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>
References: <9b342177-ce55-b234-0b4f-699b4ca81b20@syonic.eu>
Message-ID: <20230108102705.348ae5c4@Tarkus>

On Sun, 8 Jan 2023 05:24:05 +0200
Leonard Mada via R-help <r-help at r-project.org> wrote:

> pracma::integral(function(x) x^3 / sin(x), -pi/2, pi/2 )
> # 3.385985

Note that at least one implementation used by pracma::integral has the
same problem:

pracma::integral(function(x) x^3/sin(x), -pi/2, pi/2, no_intervals=7)
# [1] NaN
# Warning:
# In .gkadpt(f, a, b, tol = tol) : Infinite or NA function value
# encountered.

You just have to be less lucky to have it evaluate the function at 0.
By default, the subdivision strategy used by pracma::integral combined
with the default number of intervals leaves the special point on the
edge of the interval, where the function happens not to be evaluated.

-- 
Best regards,
Ivan


From @k@h@y_e4 @end|ng |rom hotm@||@com  Sun Jan  8 09:59:58 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Sun, 8 Jan 2023 08:59:58 +0000
Subject: [R] extracting a table from pdf file....
Message-ID: <PU4P216MB156880E6BD28FFC8405882F8C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

dear members,
                            I am extracting a pdf table into a data frame from this URL:

https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf

I am using extract_table() from the tabulizer package (it is archived and have installed it from github)

IDTpdf <- extract_tables("https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf",output="data.frame")

But IDTpdf consists of four different dfs, and I want to collapse them into one. The dput of IDTpdf:

list(structure(list(SCRIPS.AVAILABLE.FOR.INTRADAY.WITH.LEVERAGES.PROVIDED.ON.THEM = c("S.No.",
"times)", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10",
"11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21",
"22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32",
"33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43",
"44", "45", "46", "47", "48", "49", "50", "51", "52", "53"),
    X = c("Scrip Name", "", "ALKEM LABORATORIES LTD.", "ATUL LTD",
    "ABB INDIA LIMITED", "AARTI INDUSTRIES LTD", "ABBOTT INDIA LIMITED",
    "ADITYA BIRLA CAPITAL LTD.", "ADITYA BIRLA FASHION & RT",
    "ACC LIMITED", "ADANI ENTERPRISES LIMITED", "ADANI PORT & SEZ LTD",
    "AMARA RAJA BATTERIES LTD.", "ASTRAL LIMITED", "AMBUJA CEMENTS LTD",
    "ALEMBIC PHARMA LTD", "APOLLO HOSPITALS ENTER. L", "APOLLO TYRES LTD",
    "ASHOK LEYLAND LTD", "ASIAN PAINTS LIMITED", "AU SMALL FINANCE BANK LTD",
    "AUROBINDO PHARMA LTD", "AXIS BANK LIMITED", "BAJAJ AUTO LIMITED",
    "BAJAJ FINSERV LTD.", "BAJAJ FINANCE LIMITED", "BALRAMPUR CHINI MILLS LTD",
    "BANDHAN BANK LIMITED", "BANK OF BARODA", "BATA INDIA LTD",
    "BHARAT ELECTRONICS LTD", "BERGER PAINTS (I) LTD", "BHARTI AIRTEL LIMITED",
    "BHEL", "BIOCON LIMITED.", "BOSCH LIMITED", "BRITANNIA INDUSTRIES LTD",
    "BIRLASOFT LIMITED", "ZYDUS LIFESCIENCES LTD", "CANARA BANK",
    "CAN FIN HOMES LTD", "CHAMBAL FERTILIZERS LTD", "CHOLAMANDALAM IN & FIN CO",
    "CIPLA LTD", "COAL INDIA LTD", "COFORGE LIMITED", "COLGATE PALMOLIVE LTD.",
    "CONTAINER CORP OF IND LTD", "COROMANDEL INTERNTL. LTD",
    "CROMPT GREA CON ELEC LTD", "CITY UNION BANK LTD", "CUMMINS INDIA LTD",
    "DABUR INDIA LTD", "DEEPAK NITRITE LTD", "DELTA CORP LIMITED"
    ), X.1 = c("Symbol Series", "", "ALKEM", "ATUL", "ABB", "AARTIIND",
    "ABBOTINDIA", "ABCAPITAL", "ABFRL", "ACC", "ADANIENT", "ADANIPORTS",
    "AMARAJABAT", "ASTRAL", "AMBUJACEM", "APLLTD", "APOLLOHOSP",
    "APOLLOTYRE", "ASHOKLEY", "ASIANPAINT", "AUBANK", "AUROPHARMA",
    "AXISBANK", "BAJAJ-AUTO", "BAJAJFINSV", "BAJFINANCE", "BALRAMCHIN",
    "BANDHANBNK", "BANKBARODA", "BATAINDIA", "BEL", "BERGEPAINT",
    "BHARTIARTL", "BHEL", "BIOCON", "BOSCHLTD", "BRITANNIA",
    "BSOFT", "ZYDUSLIFE", "CANBK", "CANFINHOME", "CHAMBLFERT",
    "CHOLAFIN", "CIPLA", "COALINDIA", "COFORGE", "COLPAL", "CONCOR",
    "COROMANDEL", "CROMPTON", "CUB", "CUMMINSIND", "DABUR", "DEEPAKNTR",
    "DELTACORP"), X.2 = c("Leverage (in", "", "4.5", "4.5", "4.5",
    "4.5", "4.5", "4.5", "4.5", "4.5", "4", "4.5", "4.5", "4.5",
    "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5",
    "4.5", "4.5", "4.5", "4", "4", "4.5", "4.5", "4.5", "4.5",
    "4.5", "4", "4.5", "4.5", "4.5", "4", "4.5", "4", "4.5",
    "4", "4", "4.5", "4.5", "4", "4.5", "4.5", "4.5", "4.5",
    "4.5", "4.5", "4.5", "4.5", "4")), class = "data.frame", row.names = c(NA,
-55L)), structure(list(X54 = 55:110, DIVI.S.LABORATORIES.LTD = c("DIXON TECHNO (INDIA) LTD",
"DLF LIMITED", "DR. REDDY S LABORATORIES", "ESCORTS INDIA LTD",
"EXIDE INDUSTRIES LTD", "FEDERAL BANK LTD", "FIRSTSOURCE SOLU. LTD.",
"GAIL (INDIA) LTD", "GLENMARK PHARMACEUTICALS", "GMR INFRASTRUCTURE LTD.",
"GUJ NAR VAL FER & CHEM L", "DALMIA BHARAT LIMITED", "GODREJ CONSUMER PRODUCTS",
"GRANULES INDIA LIMITED", "GRASIM INDUSTRIES LTD", "GUJARAT STATE PETRO LTD",
"GUJARAT GAS LIMITED", "HINDUSTAN AERONAUTICS LTD", "HAVELLS INDIA LIMITED",
"HCL TECHNOLOGIES LTD", "HDFC LTD", "HDFC AMC LIMITED", "HDFC BANK LTD",
"HDFC LIFE INS CO LTD", "HERO MOTOCORP LIMITED", "HINDALCO INDUSTRIES LTD",
"HINDUSTAN COPPER LTD", "HONEYWELL AUTOMATION IND", "ICICI BANK LTD.",
"ICICI LOMBARD GIC LIMITED", "ICICI PRU LIFE INS CO LTD", "IDFC LIMITED",
"IDFC FIRST BANK LIMITED", "INDIAN ENERGY EXC LTD", "INDRAPRASTHA GAS LTD",
"THE INDIAN HOTELS CO. LTD", "THE INDIA CEMENTS LIMITED", "INDIAMART INTERMESH LTD",
"INTERGLOBE AVIATION LTD", "INDUSIND BANK LIMITED", "INDUS TOWERS LIMITED",
"INFOSYS LIMITED", "INTELLECT DESIGN ARENA", "INDIAN OIL CORP LTD",
"IPCA LABORATORIES LTD", "INDIAN RAIL TOUR CORP LTD", "ITC LTD",
"JINDAL STEEL & POWER LTD", "JSW STEEL LIMITED", "JUBILANT FOODWORKS LTD",
"KOTAK MAHINDRA BANK LTD", "L&T FINANCE HOLDINGS LTD", "DR. LAL PATH LABS LTD.",
"LAURUS LABS LIMITED", "LIC HOUSING FINANCE LTD", "LARSEN & TOUBRO LTD."
), DIVISLAB = c("DIXON", "DLF", "DRREDDY", "ESCORTS", "EXIDEIND",
"FEDERALBNK", "FSL", "GAIL", "GLENMARK", "GMRINFRA", "GNFC",
"DALBHARAT", "GODREJCP", "GRANULES", "GRASIM", "GSPL", "GUJGASLTD",
"HAL", "HAVELLS", "HCLTECH", "HDFC", "HDFCAMC", "HDFCBANK", "HDFCLIFE",
"HEROMOTOCO", "HINDALCO", "HINDCOPPER", "HONAUT", "ICICIBANK",
"ICICIGI", "ICICIPRULI", "IDFC", "IDFCFIRSTB", "IEX", "IGL",
"INDHOTEL", "INDIACEM", "INDIAMART", "INDIGO", "INDUSINDBK",
"INDUSTOWER", "INFY", "INTELLECT", "IOC", "IPCALAB", "IRCTC",
"ITC", "JINDALSTEL", "JSWSTEEL", "JUBLFOOD", "KOTAKBANK", "L&TFH",
"LALPATHLAB", "LAURUSLABS", "LICHSGFIN", "LT"), X4.5 = c(4.5,
4, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5,
4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4, 4, 4.5, 4, 4, 4.5, 4,
4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
-56L)), structure(list(X111 = 112:167, L.T.INFOTECH.LIMITED = c("L&T TECHNOLOGY SER. LTD.",
"LUPIN LIMITED", "MAHINDRA & MAHINDRA LTD", "M&M FIN. SERVICES LTD",
"MANAPPURAM FINANCE LTD", "MARICO LIMITED", "MARUTI SUZUKI INDIA LTD.",
"UNITED SPIRITS LIMITED", "MULTI COMMODITY EXCHANGE", "MAX FINANCIAL SERV LTD",
"MAHANAGAR GAS LTD.", "MINDTREE LIMITED", "MOTHERSON SUMI SYSTEMS LT",
"MPHASIS LIMITED", "MRF LTD", "MUTHOOT FINANCE LIMITED", "NATIONAL ALUMINIUM CO LTD",
"INFO EDGE (I) LTD", "NAVIN FLUORINE INT. LTD", "NBCC (INDIA) LIMITED",
"NMDC LTD.", "NTPC LTD", "OBEROI REALTY LIMITED", "ORACLE FIN SERV SOFT LTD.",
"OIL AND NATURAL GAS CORP.", "PAGE INDUSTRIES LTD", "PIRAMAL ENTERPRISES LTD",
"PERSISTENT SYSTEMS LTD", "PETRONET LNG LIMITED", "POWER FIN CORP LTD.",
"PIDILITE INDUSTRIES LTD", "PI INDUSTRIES LTD", "PUNJAB NATIONAL BANK",
"POLYCAB INDIA LIMITED", "POWER GRID CORP. LTD.", "PVR LIMITED",
"RAIN INDUSTRIES LIMITED", "THE RAMCO CEMENTS LIMITED", "RBL BANK LIMITED",
"REC LIMITED", "RELIANCE INDUSTRIES LTD", "STEEL AUTHORITY OF INDIA",
"SBI CARDS & PAY SER LTD", "SBI LIFE INSURANCE CO LTD", "STATE BANK OF INDIA",
"SHREE CEMENT LIMITED", "SIEMENS LTD", "SRF LTD", "SHRIRAM TRANSPORT FIN CO.",
"STRIDES PHARMA SCI LTD", "SUN PHARMACEUTICAL IND L", "SUN TV NETWORK LIMITED",
"SYNGENE INTERNATIONAL LTD", "TATA CHEMICALS LTD", "TATA COMMUNICATIONS LTD",
"TATA CONSUMER PRODUCT LTD"), LTI = c("LTTS", "LUPIN", "M&M",
"M&MFIN", "MANAPPURAM", "MARICO", "MARUTI", "MCDOWELL-N", "MCX",
"MFSL", "MGL", "MINDTREE", "MOTHERSUMI", "MPHASIS", "MRF", "MUTHOOTFIN",
"NATIONALUM", "NAUKRI", "NAVINFLUOR", "NBCC", "NMDC", "NTPC",
"OBEROIRLTY", "OFSS", "ONGC", "PAGEIND", "PEL", "PERSISTENT",
"PETRONET", "PFC", "PIDILITIND", "PIIND", "PNB", "POLYCAB", "POWERGRID",
"PVR", "RAIN", "RAMCOCEM", "RBLBANK", "RECLTD", "RELIANCE", "SAIL",
"SBICARD", "SBILIFE", "SBIN", "SHREECEM", "SIEMENS", "SRF", "SRTRANSFIN",
"STAR", "SUNPHARMA", "SUNTV", "SYNGENE", "TATACHEM", "TATACOMM",
"TATACONSUM"), X4.5 = c(4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
4.5, 4, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
-56L)), structure(list(X168 = 169:198, TATA.MOTORS.LIMITED = c("TATA POWER CO LTD",
"TATA STEEL LIMITED", "TATA CONSULTANCY SERV LT", "TECH MAHINDRA LIMITED",
"TITAN COMPANY LIMITED", "TORRENT PHARMACEUTICALS L", "TORRENT POWER LTD",
"TRENT LTD", "TVS MOTOR COMPANY  LTD", "UNITED BREWERIES LTD",
"ULTRATECH CEMENT LIMITED", "UPL LIMITED", "VEDANTA LIMITED",
"VOLTAS LTD", "WHIRLPOOL OF INDIA LTD", "WIPRO LTD", "ZEE ENTERTAINMENT ENT LTD",
"BALKRISHNA IND. LTD", "BHARAT FORGE LTD", "BHARAT PETROLEUM CORP  LT",
"EICHER MOTORS LTD", "GODREJ PROPERTIES LTD", "HINDUSTAN PETROLEUM CORP",
"JK CEMENT LIMITED", "NESTLE INDIA LIMITED", "METROPOLIS HEALTHCARE LTD",
"HINDUSTAN UNILEVER LTD.", "VODAFONE IDEA LIMITED", "NIPPON L I A M LTD",
"INDIABULLS HSG FIN LTD"), TATAMOTORS = c("TATAPOWER", "TATASTEEL",
"TCS", "TECHM", "TITAN", "TORNTPHARM", "TORNTPOWER", "TRENT",
"TVSMOTOR", "UBL", "ULTRACEMCO", "UPL", "VEDL", "VOLTAS", "WHIRLPOOL",
"WIPRO", "ZEEL", "BALKRISIND", "BHARATFORG", "BPCL", "EICHERMOT",
"GODREJPROP", "HINDPETRO", "JKCEMENT", "NESTLEIND", "METROPOLIS",
"HINDUNILVR", "IDEA", "NAM-INDIA", "IBULHSGFIN"), X4 = c(4.5,
4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
4.5, 4.5, 3, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5,
4.5, 4.5, 3)), class = "data.frame", row.names = c(NA, -30L)))

unlist(IDTpdf) is not working. It makes IDTpdf a lot messier...

I want IDTpdf to be one data frame combining all the four pages in the above url...

ANy help will be greatly appreciated...

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI


	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Jan  8 11:29:19 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 08 Jan 2023 02:29:19 -0800
Subject: [R] extracting a table from pdf file....
In-Reply-To: <PU4P216MB156880E6BD28FFC8405882F8C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB156880E6BD28FFC8405882F8C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <E354499F-1297-4EA5-A35B-30E7139969A1@dcn.davis.ca.us>

Here is a start for two of them... PDF files are actually programs written in the Postscript language... there are a lot of ways to write a program to put marks on a page, so this mess is actually not as bad a result as you might have encountered.

str(IDTpdf)

DF <- IDTpdf[[1]][ -(1:2), ]
names( DF ) <- c( "SNo", "Scrip", "Symbol", "Leverage" )
DF$SNo <- as.integer( DF$SNo )
DF$Leverage <- as.numeric( DF$Leverage )
IDTpdf[[ 1 ]] <- DF

DF <- IDTpdf[[2]]
names( DF ) <- c( "SNo", "Scrip", "Symbol", "Leverage" )
DF <- rbind(
  data.frame(
    SNo = 54
  , Symbol = "DIVISLAB"
  , Scrip = "DIVIS LABORATORIES LTD"
  , Leverage = 4.5
  )
, DF
)
IDTpdf[[ 2 ]] <- DF

do.call( rbind, IDTpdf[ 1:2 ] )

On January 8, 2023 12:59:58 AM PST, akshay kulkarni <akshay_e4 at hotmail.com> wrote:
>dear members,
>                            I am extracting a pdf table into a data frame from this URL:
>
>https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf
>
>I am using extract_table() from the tabulizer package (it is archived and have installed it from github)
>
>IDTpdf <- extract_tables("https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf",output="data.frame")
>
>But IDTpdf consists of four different dfs, and I want to collapse them into one. The dput of IDTpdf:
>
>list(structure(list(SCRIPS.AVAILABLE.FOR.INTRADAY.WITH.LEVERAGES.PROVIDED.ON.THEM = c("S.No.",
>"times)", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10",
>"11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21",
>"22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32",
>"33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43",
>"44", "45", "46", "47", "48", "49", "50", "51", "52", "53"),
>    X = c("Scrip Name", "", "ALKEM LABORATORIES LTD.", "ATUL LTD",
>    "ABB INDIA LIMITED", "AARTI INDUSTRIES LTD", "ABBOTT INDIA LIMITED",
>    "ADITYA BIRLA CAPITAL LTD.", "ADITYA BIRLA FASHION & RT",
>    "ACC LIMITED", "ADANI ENTERPRISES LIMITED", "ADANI PORT & SEZ LTD",
>    "AMARA RAJA BATTERIES LTD.", "ASTRAL LIMITED", "AMBUJA CEMENTS LTD",
>    "ALEMBIC PHARMA LTD", "APOLLO HOSPITALS ENTER. L", "APOLLO TYRES LTD",
>    "ASHOK LEYLAND LTD", "ASIAN PAINTS LIMITED", "AU SMALL FINANCE BANK LTD",
>    "AUROBINDO PHARMA LTD", "AXIS BANK LIMITED", "BAJAJ AUTO LIMITED",
>    "BAJAJ FINSERV LTD.", "BAJAJ FINANCE LIMITED", "BALRAMPUR CHINI MILLS LTD",
>    "BANDHAN BANK LIMITED", "BANK OF BARODA", "BATA INDIA LTD",
>    "BHARAT ELECTRONICS LTD", "BERGER PAINTS (I) LTD", "BHARTI AIRTEL LIMITED",
>    "BHEL", "BIOCON LIMITED.", "BOSCH LIMITED", "BRITANNIA INDUSTRIES LTD",
>    "BIRLASOFT LIMITED", "ZYDUS LIFESCIENCES LTD", "CANARA BANK",
>    "CAN FIN HOMES LTD", "CHAMBAL FERTILIZERS LTD", "CHOLAMANDALAM IN & FIN CO",
>    "CIPLA LTD", "COAL INDIA LTD", "COFORGE LIMITED", "COLGATE PALMOLIVE LTD.",
>    "CONTAINER CORP OF IND LTD", "COROMANDEL INTERNTL. LTD",
>    "CROMPT GREA CON ELEC LTD", "CITY UNION BANK LTD", "CUMMINS INDIA LTD",
>    "DABUR INDIA LTD", "DEEPAK NITRITE LTD", "DELTA CORP LIMITED"
>    ), X.1 = c("Symbol Series", "", "ALKEM", "ATUL", "ABB", "AARTIIND",
>    "ABBOTINDIA", "ABCAPITAL", "ABFRL", "ACC", "ADANIENT", "ADANIPORTS",
>    "AMARAJABAT", "ASTRAL", "AMBUJACEM", "APLLTD", "APOLLOHOSP",
>    "APOLLOTYRE", "ASHOKLEY", "ASIANPAINT", "AUBANK", "AUROPHARMA",
>    "AXISBANK", "BAJAJ-AUTO", "BAJAJFINSV", "BAJFINANCE", "BALRAMCHIN",
>    "BANDHANBNK", "BANKBARODA", "BATAINDIA", "BEL", "BERGEPAINT",
>    "BHARTIARTL", "BHEL", "BIOCON", "BOSCHLTD", "BRITANNIA",
>    "BSOFT", "ZYDUSLIFE", "CANBK", "CANFINHOME", "CHAMBLFERT",
>    "CHOLAFIN", "CIPLA", "COALINDIA", "COFORGE", "COLPAL", "CONCOR",
>    "COROMANDEL", "CROMPTON", "CUB", "CUMMINSIND", "DABUR", "DEEPAKNTR",
>    "DELTACORP"), X.2 = c("Leverage (in", "", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4.5", "4", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4", "4", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4", "4.5", "4.5", "4.5", "4", "4.5", "4", "4.5",
>    "4", "4", "4.5", "4.5", "4", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4")), class = "data.frame", row.names = c(NA,
>-55L)), structure(list(X54 = 55:110, DIVI.S.LABORATORIES.LTD = c("DIXON TECHNO (INDIA) LTD",
>"DLF LIMITED", "DR. REDDY S LABORATORIES", "ESCORTS INDIA LTD",
>"EXIDE INDUSTRIES LTD", "FEDERAL BANK LTD", "FIRSTSOURCE SOLU. LTD.",
>"GAIL (INDIA) LTD", "GLENMARK PHARMACEUTICALS", "GMR INFRASTRUCTURE LTD.",
>"GUJ NAR VAL FER & CHEM L", "DALMIA BHARAT LIMITED", "GODREJ CONSUMER PRODUCTS",
>"GRANULES INDIA LIMITED", "GRASIM INDUSTRIES LTD", "GUJARAT STATE PETRO LTD",
>"GUJARAT GAS LIMITED", "HINDUSTAN AERONAUTICS LTD", "HAVELLS INDIA LIMITED",
>"HCL TECHNOLOGIES LTD", "HDFC LTD", "HDFC AMC LIMITED", "HDFC BANK LTD",
>"HDFC LIFE INS CO LTD", "HERO MOTOCORP LIMITED", "HINDALCO INDUSTRIES LTD",
>"HINDUSTAN COPPER LTD", "HONEYWELL AUTOMATION IND", "ICICI BANK LTD.",
>"ICICI LOMBARD GIC LIMITED", "ICICI PRU LIFE INS CO LTD", "IDFC LIMITED",
>"IDFC FIRST BANK LIMITED", "INDIAN ENERGY EXC LTD", "INDRAPRASTHA GAS LTD",
>"THE INDIAN HOTELS CO. LTD", "THE INDIA CEMENTS LIMITED", "INDIAMART INTERMESH LTD",
>"INTERGLOBE AVIATION LTD", "INDUSIND BANK LIMITED", "INDUS TOWERS LIMITED",
>"INFOSYS LIMITED", "INTELLECT DESIGN ARENA", "INDIAN OIL CORP LTD",
>"IPCA LABORATORIES LTD", "INDIAN RAIL TOUR CORP LTD", "ITC LTD",
>"JINDAL STEEL & POWER LTD", "JSW STEEL LIMITED", "JUBILANT FOODWORKS LTD",
>"KOTAK MAHINDRA BANK LTD", "L&T FINANCE HOLDINGS LTD", "DR. LAL PATH LABS LTD.",
>"LAURUS LABS LIMITED", "LIC HOUSING FINANCE LTD", "LARSEN & TOUBRO LTD."
>), DIVISLAB = c("DIXON", "DLF", "DRREDDY", "ESCORTS", "EXIDEIND",
>"FEDERALBNK", "FSL", "GAIL", "GLENMARK", "GMRINFRA", "GNFC",
>"DALBHARAT", "GODREJCP", "GRANULES", "GRASIM", "GSPL", "GUJGASLTD",
>"HAL", "HAVELLS", "HCLTECH", "HDFC", "HDFCAMC", "HDFCBANK", "HDFCLIFE",
>"HEROMOTOCO", "HINDALCO", "HINDCOPPER", "HONAUT", "ICICIBANK",
>"ICICIGI", "ICICIPRULI", "IDFC", "IDFCFIRSTB", "IEX", "IGL",
>"INDHOTEL", "INDIACEM", "INDIAMART", "INDIGO", "INDUSINDBK",
>"INDUSTOWER", "INFY", "INTELLECT", "IOC", "IPCALAB", "IRCTC",
>"ITC", "JINDALSTEL", "JSWSTEEL", "JUBLFOOD", "KOTAKBANK", "L&TFH",
>"LALPATHLAB", "LAURUSLABS", "LICHSGFIN", "LT"), X4.5 = c(4.5,
>4, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
>4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4, 4, 4.5, 4, 4, 4.5, 4,
>4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
>-56L)), structure(list(X111 = 112:167, L.T.INFOTECH.LIMITED = c("L&T TECHNOLOGY SER. LTD.",
>"LUPIN LIMITED", "MAHINDRA & MAHINDRA LTD", "M&M FIN. SERVICES LTD",
>"MANAPPURAM FINANCE LTD", "MARICO LIMITED", "MARUTI SUZUKI INDIA LTD.",
>"UNITED SPIRITS LIMITED", "MULTI COMMODITY EXCHANGE", "MAX FINANCIAL SERV LTD",
>"MAHANAGAR GAS LTD.", "MINDTREE LIMITED", "MOTHERSON SUMI SYSTEMS LT",
>"MPHASIS LIMITED", "MRF LTD", "MUTHOOT FINANCE LIMITED", "NATIONAL ALUMINIUM CO LTD",
>"INFO EDGE (I) LTD", "NAVIN FLUORINE INT. LTD", "NBCC (INDIA) LIMITED",
>"NMDC LTD.", "NTPC LTD", "OBEROI REALTY LIMITED", "ORACLE FIN SERV SOFT LTD.",
>"OIL AND NATURAL GAS CORP.", "PAGE INDUSTRIES LTD", "PIRAMAL ENTERPRISES LTD",
>"PERSISTENT SYSTEMS LTD", "PETRONET LNG LIMITED", "POWER FIN CORP LTD.",
>"PIDILITE INDUSTRIES LTD", "PI INDUSTRIES LTD", "PUNJAB NATIONAL BANK",
>"POLYCAB INDIA LIMITED", "POWER GRID CORP. LTD.", "PVR LIMITED",
>"RAIN INDUSTRIES LIMITED", "THE RAMCO CEMENTS LIMITED", "RBL BANK LIMITED",
>"REC LIMITED", "RELIANCE INDUSTRIES LTD", "STEEL AUTHORITY OF INDIA",
>"SBI CARDS & PAY SER LTD", "SBI LIFE INSURANCE CO LTD", "STATE BANK OF INDIA",
>"SHREE CEMENT LIMITED", "SIEMENS LTD", "SRF LTD", "SHRIRAM TRANSPORT FIN CO.",
>"STRIDES PHARMA SCI LTD", "SUN PHARMACEUTICAL IND L", "SUN TV NETWORK LIMITED",
>"SYNGENE INTERNATIONAL LTD", "TATA CHEMICALS LTD", "TATA COMMUNICATIONS LTD",
>"TATA CONSUMER PRODUCT LTD"), LTI = c("LTTS", "LUPIN", "M&M",
>"M&MFIN", "MANAPPURAM", "MARICO", "MARUTI", "MCDOWELL-N", "MCX",
>"MFSL", "MGL", "MINDTREE", "MOTHERSUMI", "MPHASIS", "MRF", "MUTHOOTFIN",
>"NATIONALUM", "NAUKRI", "NAVINFLUOR", "NBCC", "NMDC", "NTPC",
>"OBEROIRLTY", "OFSS", "ONGC", "PAGEIND", "PEL", "PERSISTENT",
>"PETRONET", "PFC", "PIDILITIND", "PIIND", "PNB", "POLYCAB", "POWERGRID",
>"PVR", "RAIN", "RAMCOCEM", "RBLBANK", "RECLTD", "RELIANCE", "SAIL",
>"SBICARD", "SBILIFE", "SBIN", "SHREECEM", "SIEMENS", "SRF", "SRTRANSFIN",
>"STAR", "SUNPHARMA", "SUNTV", "SYNGENE", "TATACHEM", "TATACOMM",
>"TATACONSUM"), X4.5 = c(4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
>-56L)), structure(list(X168 = 169:198, TATA.MOTORS.LIMITED = c("TATA POWER CO LTD",
>"TATA STEEL LIMITED", "TATA CONSULTANCY SERV LT", "TECH MAHINDRA LIMITED",
>"TITAN COMPANY LIMITED", "TORRENT PHARMACEUTICALS L", "TORRENT POWER LTD",
>"TRENT LTD", "TVS MOTOR COMPANY  LTD", "UNITED BREWERIES LTD",
>"ULTRATECH CEMENT LIMITED", "UPL LIMITED", "VEDANTA LIMITED",
>"VOLTAS LTD", "WHIRLPOOL OF INDIA LTD", "WIPRO LTD", "ZEE ENTERTAINMENT ENT LTD",
>"BALKRISHNA IND. LTD", "BHARAT FORGE LTD", "BHARAT PETROLEUM CORP  LT",
>"EICHER MOTORS LTD", "GODREJ PROPERTIES LTD", "HINDUSTAN PETROLEUM CORP",
>"JK CEMENT LIMITED", "NESTLE INDIA LIMITED", "METROPOLIS HEALTHCARE LTD",
>"HINDUSTAN UNILEVER LTD.", "VODAFONE IDEA LIMITED", "NIPPON L I A M LTD",
>"INDIABULLS HSG FIN LTD"), TATAMOTORS = c("TATAPOWER", "TATASTEEL",
>"TCS", "TECHM", "TITAN", "TORNTPHARM", "TORNTPOWER", "TRENT",
>"TVSMOTOR", "UBL", "ULTRACEMCO", "UPL", "VEDL", "VOLTAS", "WHIRLPOOL",
>"WIPRO", "ZEEL", "BALKRISIND", "BHARATFORG", "BPCL", "EICHERMOT",
>"GODREJPROP", "HINDPETRO", "JKCEMENT", "NESTLEIND", "METROPOLIS",
>"HINDUNILVR", "IDEA", "NAM-INDIA", "IBULHSGFIN"), X4 = c(4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 3, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 3)), class = "data.frame", row.names = c(NA, -30L)))
>
>unlist(IDTpdf) is not working. It makes IDTpdf a lot messier...
>
>I want IDTpdf to be one data frame combining all the four pages in the above url...
>
>ANy help will be greatly appreciated...
>
>Thanking you,
>Yours sincerely,
>AKSHAY M KULKARNI
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @k@h@y_e4 @end|ng |rom hotm@||@com  Sun Jan  8 12:54:45 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Sun, 8 Jan 2023 11:54:45 +0000
Subject: [R] extracting a table from pdf file....
In-Reply-To: <E354499F-1297-4EA5-A35B-30E7139969A1@dcn.davis.ca.us>
References: <PU4P216MB156880E6BD28FFC8405882F8C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <E354499F-1297-4EA5-A35B-30E7139969A1@dcn.davis.ca.us>
Message-ID: <PU4P216MB156834688CD4CCC8910B686EC8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear jeff,
                  Thanks a lot....

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Sent: Sunday, January 8, 2023 3:59 PM
To: r-help at r-project.org <r-help at r-project.org>; akshay kulkarni <akshay_e4 at hotmail.com>; R help Mailing list <r-help at r-project.org>
Subject: Re: [R] extracting a table from pdf file....

Here is a start for two of them... PDF files are actually programs written in the Postscript language... there are a lot of ways to write a program to put marks on a page, so this mess is actually not as bad a result as you might have encountered.

str(IDTpdf)

DF <- IDTpdf[[1]][ -(1:2), ]
names( DF ) <- c( "SNo", "Scrip", "Symbol", "Leverage" )
DF$SNo <- as.integer( DF$SNo )
DF$Leverage <- as.numeric( DF$Leverage )
IDTpdf[[ 1 ]] <- DF

DF <- IDTpdf[[2]]
names( DF ) <- c( "SNo", "Scrip", "Symbol", "Leverage" )
DF <- rbind(
  data.frame(
    SNo = 54
  , Symbol = "DIVISLAB"
  , Scrip = "DIVIS LABORATORIES LTD"
  , Leverage = 4.5
  )
, DF
)
IDTpdf[[ 2 ]] <- DF

do.call( rbind, IDTpdf[ 1:2 ] )

On January 8, 2023 12:59:58 AM PST, akshay kulkarni <akshay_e4 at hotmail.com> wrote:
>dear members,
>                            I am extracting a pdf table into a data frame from this URL:
>
>https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf
>
>I am using extract_table() from the tabulizer package (it is archived and have installed it from github)
>
>IDTpdf <- extract_tables("https://www.canmoney.in/pdf/INTRADAYLEVERAGE-20220531-latest.pdf",output="data.frame")
>
>But IDTpdf consists of four different dfs, and I want to collapse them into one. The dput of IDTpdf:
>
>list(structure(list(SCRIPS.AVAILABLE.FOR.INTRADAY.WITH.LEVERAGES.PROVIDED.ON.THEM = c("S.No.",
>"times)", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10",
>"11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21",
>"22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32",
>"33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43",
>"44", "45", "46", "47", "48", "49", "50", "51", "52", "53"),
>    X = c("Scrip Name", "", "ALKEM LABORATORIES LTD.", "ATUL LTD",
>    "ABB INDIA LIMITED", "AARTI INDUSTRIES LTD", "ABBOTT INDIA LIMITED",
>    "ADITYA BIRLA CAPITAL LTD.", "ADITYA BIRLA FASHION & RT",
>    "ACC LIMITED", "ADANI ENTERPRISES LIMITED", "ADANI PORT & SEZ LTD",
>    "AMARA RAJA BATTERIES LTD.", "ASTRAL LIMITED", "AMBUJA CEMENTS LTD",
>    "ALEMBIC PHARMA LTD", "APOLLO HOSPITALS ENTER. L", "APOLLO TYRES LTD",
>    "ASHOK LEYLAND LTD", "ASIAN PAINTS LIMITED", "AU SMALL FINANCE BANK LTD",
>    "AUROBINDO PHARMA LTD", "AXIS BANK LIMITED", "BAJAJ AUTO LIMITED",
>    "BAJAJ FINSERV LTD.", "BAJAJ FINANCE LIMITED", "BALRAMPUR CHINI MILLS LTD",
>    "BANDHAN BANK LIMITED", "BANK OF BARODA", "BATA INDIA LTD",
>    "BHARAT ELECTRONICS LTD", "BERGER PAINTS (I) LTD", "BHARTI AIRTEL LIMITED",
>    "BHEL", "BIOCON LIMITED.", "BOSCH LIMITED", "BRITANNIA INDUSTRIES LTD",
>    "BIRLASOFT LIMITED", "ZYDUS LIFESCIENCES LTD", "CANARA BANK",
>    "CAN FIN HOMES LTD", "CHAMBAL FERTILIZERS LTD", "CHOLAMANDALAM IN & FIN CO",
>    "CIPLA LTD", "COAL INDIA LTD", "COFORGE LIMITED", "COLGATE PALMOLIVE LTD.",
>    "CONTAINER CORP OF IND LTD", "COROMANDEL INTERNTL. LTD",
>    "CROMPT GREA CON ELEC LTD", "CITY UNION BANK LTD", "CUMMINS INDIA LTD",
>    "DABUR INDIA LTD", "DEEPAK NITRITE LTD", "DELTA CORP LIMITED"
>    ), X.1 = c("Symbol Series", "", "ALKEM", "ATUL", "ABB", "AARTIIND",
>    "ABBOTINDIA", "ABCAPITAL", "ABFRL", "ACC", "ADANIENT", "ADANIPORTS",
>    "AMARAJABAT", "ASTRAL", "AMBUJACEM", "APLLTD", "APOLLOHOSP",
>    "APOLLOTYRE", "ASHOKLEY", "ASIANPAINT", "AUBANK", "AUROPHARMA",
>    "AXISBANK", "BAJAJ-AUTO", "BAJAJFINSV", "BAJFINANCE", "BALRAMCHIN",
>    "BANDHANBNK", "BANKBARODA", "BATAINDIA", "BEL", "BERGEPAINT",
>    "BHARTIARTL", "BHEL", "BIOCON", "BOSCHLTD", "BRITANNIA",
>    "BSOFT", "ZYDUSLIFE", "CANBK", "CANFINHOME", "CHAMBLFERT",
>    "CHOLAFIN", "CIPLA", "COALINDIA", "COFORGE", "COLPAL", "CONCOR",
>    "COROMANDEL", "CROMPTON", "CUB", "CUMMINSIND", "DABUR", "DEEPAKNTR",
>    "DELTACORP"), X.2 = c("Leverage (in", "", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4.5", "4", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4", "4", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4", "4.5", "4.5", "4.5", "4", "4.5", "4", "4.5",
>    "4", "4", "4.5", "4.5", "4", "4.5", "4.5", "4.5", "4.5",
>    "4.5", "4.5", "4.5", "4.5", "4")), class = "data.frame", row.names = c(NA,
>-55L)), structure(list(X54 = 55:110, DIVI.S.LABORATORIES.LTD = c("DIXON TECHNO (INDIA) LTD",
>"DLF LIMITED", "DR. REDDY S LABORATORIES", "ESCORTS INDIA LTD",
>"EXIDE INDUSTRIES LTD", "FEDERAL BANK LTD", "FIRSTSOURCE SOLU. LTD.",
>"GAIL (INDIA) LTD", "GLENMARK PHARMACEUTICALS", "GMR INFRASTRUCTURE LTD.",
>"GUJ NAR VAL FER & CHEM L", "DALMIA BHARAT LIMITED", "GODREJ CONSUMER PRODUCTS",
>"GRANULES INDIA LIMITED", "GRASIM INDUSTRIES LTD", "GUJARAT STATE PETRO LTD",
>"GUJARAT GAS LIMITED", "HINDUSTAN AERONAUTICS LTD", "HAVELLS INDIA LIMITED",
>"HCL TECHNOLOGIES LTD", "HDFC LTD", "HDFC AMC LIMITED", "HDFC BANK LTD",
>"HDFC LIFE INS CO LTD", "HERO MOTOCORP LIMITED", "HINDALCO INDUSTRIES LTD",
>"HINDUSTAN COPPER LTD", "HONEYWELL AUTOMATION IND", "ICICI BANK LTD.",
>"ICICI LOMBARD GIC LIMITED", "ICICI PRU LIFE INS CO LTD", "IDFC LIMITED",
>"IDFC FIRST BANK LIMITED", "INDIAN ENERGY EXC LTD", "INDRAPRASTHA GAS LTD",
>"THE INDIAN HOTELS CO. LTD", "THE INDIA CEMENTS LIMITED", "INDIAMART INTERMESH LTD",
>"INTERGLOBE AVIATION LTD", "INDUSIND BANK LIMITED", "INDUS TOWERS LIMITED",
>"INFOSYS LIMITED", "INTELLECT DESIGN ARENA", "INDIAN OIL CORP LTD",
>"IPCA LABORATORIES LTD", "INDIAN RAIL TOUR CORP LTD", "ITC LTD",
>"JINDAL STEEL & POWER LTD", "JSW STEEL LIMITED", "JUBILANT FOODWORKS LTD",
>"KOTAK MAHINDRA BANK LTD", "L&T FINANCE HOLDINGS LTD", "DR. LAL PATH LABS LTD.",
>"LAURUS LABS LIMITED", "LIC HOUSING FINANCE LTD", "LARSEN & TOUBRO LTD."
>), DIVISLAB = c("DIXON", "DLF", "DRREDDY", "ESCORTS", "EXIDEIND",
>"FEDERALBNK", "FSL", "GAIL", "GLENMARK", "GMRINFRA", "GNFC",
>"DALBHARAT", "GODREJCP", "GRANULES", "GRASIM", "GSPL", "GUJGASLTD",
>"HAL", "HAVELLS", "HCLTECH", "HDFC", "HDFCAMC", "HDFCBANK", "HDFCLIFE",
>"HEROMOTOCO", "HINDALCO", "HINDCOPPER", "HONAUT", "ICICIBANK",
>"ICICIGI", "ICICIPRULI", "IDFC", "IDFCFIRSTB", "IEX", "IGL",
>"INDHOTEL", "INDIACEM", "INDIAMART", "INDIGO", "INDUSINDBK",
>"INDUSTOWER", "INFY", "INTELLECT", "IOC", "IPCALAB", "IRCTC",
>"ITC", "JINDALSTEL", "JSWSTEEL", "JUBLFOOD", "KOTAKBANK", "L&TFH",
>"LALPATHLAB", "LAURUSLABS", "LICHSGFIN", "LT"), X4.5 = c(4.5,
>4, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
>4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4, 4, 4.5, 4, 4, 4.5, 4,
>4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
>-56L)), structure(list(X111 = 112:167, L.T.INFOTECH.LIMITED = c("L&T TECHNOLOGY SER. LTD.",
>"LUPIN LIMITED", "MAHINDRA & MAHINDRA LTD", "M&M FIN. SERVICES LTD",
>"MANAPPURAM FINANCE LTD", "MARICO LIMITED", "MARUTI SUZUKI INDIA LTD.",
>"UNITED SPIRITS LIMITED", "MULTI COMMODITY EXCHANGE", "MAX FINANCIAL SERV LTD",
>"MAHANAGAR GAS LTD.", "MINDTREE LIMITED", "MOTHERSON SUMI SYSTEMS LT",
>"MPHASIS LIMITED", "MRF LTD", "MUTHOOT FINANCE LIMITED", "NATIONAL ALUMINIUM CO LTD",
>"INFO EDGE (I) LTD", "NAVIN FLUORINE INT. LTD", "NBCC (INDIA) LIMITED",
>"NMDC LTD.", "NTPC LTD", "OBEROI REALTY LIMITED", "ORACLE FIN SERV SOFT LTD.",
>"OIL AND NATURAL GAS CORP.", "PAGE INDUSTRIES LTD", "PIRAMAL ENTERPRISES LTD",
>"PERSISTENT SYSTEMS LTD", "PETRONET LNG LIMITED", "POWER FIN CORP LTD.",
>"PIDILITE INDUSTRIES LTD", "PI INDUSTRIES LTD", "PUNJAB NATIONAL BANK",
>"POLYCAB INDIA LIMITED", "POWER GRID CORP. LTD.", "PVR LIMITED",
>"RAIN INDUSTRIES LIMITED", "THE RAMCO CEMENTS LIMITED", "RBL BANK LIMITED",
>"REC LIMITED", "RELIANCE INDUSTRIES LTD", "STEEL AUTHORITY OF INDIA",
>"SBI CARDS & PAY SER LTD", "SBI LIFE INSURANCE CO LTD", "STATE BANK OF INDIA",
>"SHREE CEMENT LIMITED", "SIEMENS LTD", "SRF LTD", "SHRIRAM TRANSPORT FIN CO.",
>"STRIDES PHARMA SCI LTD", "SUN PHARMACEUTICAL IND L", "SUN TV NETWORK LIMITED",
>"SYNGENE INTERNATIONAL LTD", "TATA CHEMICALS LTD", "TATA COMMUNICATIONS LTD",
>"TATA CONSUMER PRODUCT LTD"), LTI = c("LTTS", "LUPIN", "M&M",
>"M&MFIN", "MANAPPURAM", "MARICO", "MARUTI", "MCDOWELL-N", "MCX",
>"MFSL", "MGL", "MINDTREE", "MOTHERSUMI", "MPHASIS", "MRF", "MUTHOOTFIN",
>"NATIONALUM", "NAUKRI", "NAVINFLUOR", "NBCC", "NMDC", "NTPC",
>"OBEROIRLTY", "OFSS", "ONGC", "PAGEIND", "PEL", "PERSISTENT",
>"PETRONET", "PFC", "PIDILITIND", "PIIND", "PNB", "POLYCAB", "POWERGRID",
>"PVR", "RAIN", "RAMCOCEM", "RBLBANK", "RECLTD", "RELIANCE", "SAIL",
>"SBICARD", "SBILIFE", "SBIN", "SHREECEM", "SIEMENS", "SRF", "SRTRANSFIN",
>"STAR", "SUNPHARMA", "SUNTV", "SYNGENE", "TATACHEM", "TATACOMM",
>"TATACONSUM"), X4.5 = c(4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 4, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4, 4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5)), class = "data.frame", row.names = c(NA,
>-56L)), structure(list(X168 = 169:198, TATA.MOTORS.LIMITED = c("TATA POWER CO LTD",
>"TATA STEEL LIMITED", "TATA CONSULTANCY SERV LT", "TECH MAHINDRA LIMITED",
>"TITAN COMPANY LIMITED", "TORRENT PHARMACEUTICALS L", "TORRENT POWER LTD",
>"TRENT LTD", "TVS MOTOR COMPANY  LTD", "UNITED BREWERIES LTD",
>"ULTRATECH CEMENT LIMITED", "UPL LIMITED", "VEDANTA LIMITED",
>"VOLTAS LTD", "WHIRLPOOL OF INDIA LTD", "WIPRO LTD", "ZEE ENTERTAINMENT ENT LTD",
>"BALKRISHNA IND. LTD", "BHARAT FORGE LTD", "BHARAT PETROLEUM CORP  LT",
>"EICHER MOTORS LTD", "GODREJ PROPERTIES LTD", "HINDUSTAN PETROLEUM CORP",
>"JK CEMENT LIMITED", "NESTLE INDIA LIMITED", "METROPOLIS HEALTHCARE LTD",
>"HINDUSTAN UNILEVER LTD.", "VODAFONE IDEA LIMITED", "NIPPON L I A M LTD",
>"INDIABULLS HSG FIN LTD"), TATAMOTORS = c("TATAPOWER", "TATASTEEL",
>"TCS", "TECHM", "TITAN", "TORNTPHARM", "TORNTPOWER", "TRENT",
>"TVSMOTOR", "UBL", "ULTRACEMCO", "UPL", "VEDL", "VOLTAS", "WHIRLPOOL",
>"WIPRO", "ZEEL", "BALKRISIND", "BHARATFORG", "BPCL", "EICHERMOT",
>"GODREJPROP", "HINDPETRO", "JKCEMENT", "NESTLEIND", "METROPOLIS",
>"HINDUNILVR", "IDEA", "NAM-INDIA", "IBULHSGFIN"), X4 = c(4.5,
>4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 3, 4.5, 4.5, 4.5, 4.5, 4, 4.5, 4.5, 4.5, 4.5, 4.5,
>4.5, 4.5, 3)), class = "data.frame", row.names = c(NA, -30L)))
>
>unlist(IDTpdf) is not working. It makes IDTpdf a lot messier...
>
>I want IDTpdf to be one data frame combining all the four pages in the above url...
>
>ANy help will be greatly appreciated...
>
>Thanking you,
>Yours sincerely,
>AKSHAY M KULKARNI
>
>
>       [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

	[[alternative HTML version deleted]]


From n|ckmwr@y @end|ng |rom gm@||@com  Sun Jan  8 19:04:19 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Sun, 8 Jan 2023 18:04:19 +0000
Subject: [R] getting information out of Rao test output
Message-ID: <CABxY9BOF4k10GedwPr0f_awO2Dpwsu_+qZ67_Zri4Dro2wetUQ@mail.gmail.com>

Hello  I'm using the Rao Spacing test from the circular package on a series
of (circular) data vectors but I can't find a way of simply recording
whether the null is rejected or not for each vector in the series - the
test gives me an individual result but unlike with other tests in R (say
MannKendall or pettitt etc) I can't find a way of delving into the guts of
the output to extract either1)both the test statistic and critical value
or 2)the status of ejection or not of the null eg as T/F

I''ve tried various things including str(rao) and rao[[1]]
as.character(rao) etc

rao<-rao.spacing.test(pi_data,alpha=0.05) ## my input


 Rao's Spacing Test of Uniformity

Test Statistic = 169.6952
Level 0.05 critical value = 155.19
Reject null hypothesis of uniformity-- can't break this down

Des anyone know how I could do this?

Thanks, Nick Wray

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Jan  8 19:37:10 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 8 Jan 2023 18:37:10 +0000
Subject: [R] getting information out of Rao test output
In-Reply-To: <CABxY9BOF4k10GedwPr0f_awO2Dpwsu_+qZ67_Zri4Dro2wetUQ@mail.gmail.com>
References: <CABxY9BOF4k10GedwPr0f_awO2Dpwsu_+qZ67_Zri4Dro2wetUQ@mail.gmail.com>
Message-ID: <080dcdba-6084-0e98-3ba9-1f9d2d4ba63a@sapo.pt>

?s 18:04 de 08/01/2023, Nick Wray escreveu:
> Hello  I'm using the Rao Spacing test from the circular package on a series
> of (circular) data vectors but I can't find a way of simply recording
> whether the null is rejected or not for each vector in the series - the
> test gives me an individual result but unlike with other tests in R (say
> MannKendall or pettitt etc) I can't find a way of delving into the guts of
> the output to extract either1)both the test statistic and critical value
> or 2)the status of ejection or not of the null eg as T/F
> 
> I''ve tried various things including str(rao) and rao[[1]]
> as.character(rao) etc
> 
> rao<-rao.spacing.test(pi_data,alpha=0.05) ## my input
> 
> 
>   Rao's Spacing Test of Uniformity
> 
> Test Statistic = 169.6952
> Level 0.05 critical value = 155.19
> Reject null hypothesis of uniformity-- can't break this down
> 
> Des anyone know how I could do this?
> 
> Thanks, Nick Wray
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

This test returns a non-standard object, meaning, not an object of class 
"htest" and its print method creates and invisibly returns an object 
with the value you want.



library(circular)
#>
#> Attaching package: 'circular'
#> The following objects are masked from 'package:stats':
#>
#>     sd, var

# data
x <- circular(runif(200, 0, 2*pi))
# run the test
test_result <- rao.spacing.test(x, alpha=0.1)
# save the print method result
print_result <- print(test_result)
#>
#>        Rao's Spacing Test of Uniformity
#>
#> Test Statistic = 135.2864
#> Level 0.1 critical value = 140.06
#> Do not reject null hypothesis of uniformity
print_result$accepted
#> [1] TRUE



If you run

getAnywhere("print.rao.spacing.test")

you will see that the printing is made by a series of cat instructions 
so to get the TRUE/FALSE above you will need to print the result like above.


From @k@h@y_e4 @end|ng |rom hotm@||@com  Sun Jan  8 20:35:09 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Sun, 8 Jan 2023 19:35:09 +0000
Subject: [R] free_port returning only one port...
Message-ID: <PU4P216MB156874B71B5E8932902B9064C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear members,
                            I am using free_port from the netstat package, but it is returning only one value:

> library(netstat)
> free_port()
[1] 14415

This is occurring in both Linux and Windows. Previously it used to output thousands of ports. What has gone wrong?

thanking you,
Yours sincerely,
AKSHAY M KULKARNI

	[[alternative HTML version deleted]]


From djnord|und @end|ng |rom gm@||@com  Sun Jan  8 21:05:32 2023
From: djnord|und @end|ng |rom gm@||@com (Daniel Nordlund)
Date: Sun, 8 Jan 2023 12:05:32 -0800
Subject: [R] free_port returning only one port...
In-Reply-To: <PU4P216MB156874B71B5E8932902B9064C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB156874B71B5E8932902B9064C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <7f87fbfe-456f-ef28-b95a-c6c5d1aabc85@gmail.com>

On 1/8/2023 11:35 AM, akshay kulkarni wrote:
> Dear members,
>                              I am using free_port from the netstat package, but it is returning only one value:
>
>> library(netstat)
>> free_port()
> [1] 14415
>
> This is occurring in both Linux and Windows. Previously it used to output thousands of ports. What has gone wrong?
>
> thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

I haven't used that function before, and I don't know what you 
previously experienced, but if you set the parameter random=TRUE you 
will get a different port on each invocation

free_port(random=TRUE)


Hope this is helpful,

Dan

-- 
Daniel Nordlund
Port Townsend, WA  USA


-- 
This email has been checked for viruses by Avast antivirus software.
www.avast.com


From @k@h@y_e4 @end|ng |rom hotm@||@com  Sun Jan  8 21:09:43 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Sun, 8 Jan 2023 20:09:43 +0000
Subject: [R] free_port returning only one port...
In-Reply-To: <7f87fbfe-456f-ef28-b95a-c6c5d1aabc85@gmail.com>
References: <PU4P216MB156874B71B5E8932902B9064C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <7f87fbfe-456f-ef28-b95a-c6c5d1aabc85@gmail.com>
Message-ID: <PU4P216MB1568262F3505A0C218CF733AC8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

dear Dan,
                   Yes, i just read the documentation...Previously i was using it with RSelenium package and never got to know that the argument random defaulted to FALSE. I was just using it blindly...only now I got to know that you must set random = TRUE to get different values across invocations...
Thanks anyways...

Thanking you,
Yours sincerely
AKSHAY M KULKARNI

________________________________
From: Daniel Nordlund <djnordlund at gmail.com>
Sent: Monday, January 9, 2023 1:35 AM
To: akshay kulkarni <akshay_e4 at hotmail.com>; R help Mailing list <r-help at r-project.org>
Subject: Re: [R] free_port returning only one port...

On 1/8/2023 11:35 AM, akshay kulkarni wrote:
> Dear members,
>                              I am using free_port from the netstat package, but it is returning only one value:
>
>> library(netstat)
>> free_port()
> [1] 14415
>

 thousands of ports. What has gone wrong?
>
> thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>        [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

I haven't used that function before, and I don't know what you
previously experienced, but if you set the parameter random=TRUE you
will get a different port on each invocation

free_port(random=TRUE)


Hope this is helpful,

Dan

--
Daniel Nordlund
Port Townsend, WA  USA


--
This email has been checked for viruses by Avast antivirus software.
www.avast.com<http://www.avast.com>

	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Sun Jan  8 21:44:20 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Sun, 8 Jan 2023 20:44:20 +0000
Subject: [R] on parallel package.....
Message-ID: <PU4P216MB1568757F5BCD02CA859BA4D4C8F99@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

dear members,
                            I want to parallelize a scraping code. Is mclapply() and clusterApplyLB() similar in functionality? I read the documentation and noted that there is copious information on clusyterApplyLB(), but not much on mclapply (it just says that on Unix alikes mclapply "uses parallel oprations"). I have a AWS EC2 Linux instance. Can I substitute mclapply() for clusterApplyLB()? Where can I get more information on mclapply()?

any help will be greatly appreciated
Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

	[[alternative HTML version deleted]]


From m@pjg @end|ng |rom br|@to|@@c@uk  Sun Jan  8 15:13:52 2023
From: m@pjg @end|ng |rom br|@to|@@c@uk (Peter Green)
Date: Sun, 8 Jan 2023 14:13:52 +0000
Subject: [R] [R-pkgs] gRaven package - Bayes Nets: 'RHugin' Emulation with
 'gRain'
Message-ID: <3877ec85-3309-fec1-5cd5-579f291d401f@bristol.ac.uk>

Dear all,

I am pleased to announce that CRAN now hosts my package gRaven.

This provides wrappers for functions in the 'gRain' package to emulate 
some 'RHugin' functionality, allowing the building of Bayesian networks 
consisting of discrete chance nodes incrementally - through adding 
nodes, edges and conditional probability tables, the setting of 
evidence, whether 'hard' (boolean) or 'soft' (likelihoods), and querying 
marginal joint probabilities and normalizing constants.

Computations will typically not be so fast as they are with 'RHugin', 
but this package should assist users without access to the commercial 
package 'Hugin' to use existing code written to use 'RHugin'.

I am open to extending the functionality of the package in future, in 
response to user demand.

regards,

Peter Green

-- 
Peter Green, p.j.green at bristol.ac.uk
-- 
Emeritus Professor of Statistics & Professorial Research Fellow
University of Bristol, Bristol BS8 1UG, UK
T: +44 117 455 2611; W: https://petergreenweb.wordpress.com/

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From e@ @end|ng |rom enr|co@chum@nn@net  Mon Jan  9 11:18:24 2023
From: e@ @end|ng |rom enr|co@chum@nn@net (Enrico Schumann)
Date: Mon, 09 Jan 2023 11:18:24 +0100
Subject: [R] gmp::bigq vs. MASS::fractions
In-Reply-To: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de> (Sigbert
 Klinke's message of "Sat, 7 Jan 2023 17:29:35 +0100")
References: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de>
Message-ID: <87pmboko3z.fsf@enricoschumann.net>

On Sat, 07 Jan 2023, Sigbert Klinke writes:

> Hi,
>
> has someone experience which routine should be used for
> creating fractional numbers? The two conversion
> routines deliver different results
>
>> x <- (0:7)/7
>
>> MASS::fractions(x)
>
> [1]   0 1/7 2/7 3/7 4/7 5/7 6/7   1
>
>> gmp::as.bigq(x)
>
> Big Rational ('bigq') object of length 8:
>
> [1] 0 2573485501354569/18014398509481984
> 2573485501354569/9007199254740992
>
> [4] 7720456504063707/18014398509481984
> 2573485501354569/4503599627370496
> 6433713753386423/9007199254740992
>
> [7] 7720456504063707/9007199254740992  1
>
> Following the example I would compute my fractional
> numbers with MASS::fractions and store them for further
> processing as Big Rational.
>
> Thanks Sigbert
>

'gmp' allows you to create the fractions directly:

    gmp::as.bigq(n = 0:7, d = 7)
    ## Big Rational ('bigq') object of length 8:
    ## [1] 0   1/7 2/7 3/7 4/7 5/7 6/7 1  



-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From grond @end|ng |rom number|@nd@de  Mon Jan  9 14:58:02 2023
From: grond @end|ng |rom number|@nd@de (Wolfgang Grond)
Date: Mon, 9 Jan 2023 14:58:02 +0100
Subject: [R] Interactive 3D Plot with non-numeric axis tick labels
Message-ID: <24275806-7ac5-fc74-5d6e-505b886a834e@numberland.de>

Dear all,

What I want to create is an interactive 3D plot from a data frame like this:

#: number
TLD: Countrycode
Date: date
String: a label

Because plot3d can only deal with numbers I converted Date to Year and
TLD as well as String to a numeric value like this:

numTLD <- as.numeric(factor(df$TLD))



#   	TLD	Date		String	Year	numTLD	numString
1	DE	1988-11-07	B23K	1988	3	74
2	DE	1984-09-06	B23K	1984	3	74
3	DE	1996-03-21	B23K	1996	3	74
4	DE	1996-03-21	B23K	1996	3	74
5	DE	1996-03-21	B23K	1996	3	74
6	DE	1996-03-21	B23K	1996	3	74
7	DE	1996-03-21	B23K	1996	3	74
8	DE	1996-03-21	B23K	1996	3	74
9	DE	1996-03-21	B23K	1996	3	74

To create an interactive 3D plot I use:

plot3d(df$numTLD, df$Year, df$numString)

The plot then shows numeric axis ticks labels, which is what I want to 
get in the case of Year. But for numTLD and numString I want to have

- DE instead of 3 for TLD
- B23K instead of 74 for String

(axis ticks labeled with strings, not with numbers).

I didn't succeed to figure out how this can be reached.

Thanks in advance for any help.

Regards


From @k@h@y_e4 @end|ng |rom hotm@||@com  Mon Jan  9 15:47:21 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Mon, 9 Jan 2023 14:47:21 +0000
Subject: [R] return value of {....}
Message-ID: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear members,
                             I have the following code:

> TB <- {x <- 3;y <- 5}
> TB
[1] 5

It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.

But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:

F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}

Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Jan  9 17:18:11 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 9 Jan 2023 16:18:11 +0000
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <47c2883a-d4c0-211a-02ab-a916f829292f@sapo.pt>

?s 14:47 de 09/01/2023, akshay kulkarni escreveu:
> Dear members,
>                               I have the following code:
> 
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
> 
> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
> 
> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
> 
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
> 
> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
> 
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

Hello,

Everything happens as you have described it, expr5 is accessible outside 
{}. Whether it is advantageous to solve pratical problems is another 
thing. The way f() is called creates variable `input` and this can be 
seen in many places of the R sources. Personally, I find it harder to 
read and prefer to break that one-liner into two instructions.

The code below shows a seldom pratical feature, if ever, put to work.


f <- function(X) {
   x <- X; y <- x*2
   u <- {
     z <- y     # expr5 creates a variable by assigning it a value
     z*pi       # expr7's value is assigned to u
   }
   v <- u + z   # expr5's value is accessible
   10 * v
}

# the call also creates input
f(input <- 1)
#> [1] 82.83185
.Last.value / 10
#> [1] 0.1
.Last.value - input*2
#> [1] -1
.Last.value / pi
#> [1] 0.3183099
.Last.value / 2
#> [1] 0.5
.Last.value == input
#> [1] TRUE


Hoep this helps,

Rui Barradas


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jan  9 17:29:41 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Jan 2023 08:29:41 -0800
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>

Unless you do something special within a function, only the value(s)
returned are available to the caller. That is the essence of
functional-type programming languages.

You need to read up on (function) environments in R . You can search on
this. ?function and its links also contain useful information, but it may
too terse to be explicable to you. There are of course many available
references on the internet.

I believe your mental model for how R works is flawed, and you have some
homework to do to correct it. I may be wrong, naturally, but you can judge
by looking at some tutorials.

-- Bert

On Mon, Jan 9, 2023 at 6:47 AM akshay kulkarni <akshay_e4 at hotmail.com>
wrote:

> Dear members,
>                              I have the following code:
>
> > TB <- {x <- 3;y <- 5}
> > TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
> expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
> advantageous for solving practical problems? Specifically, consider the
> following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code outside
> of the nested braces right? But the "return value" of the nested braces is
> expr7. So doesn't this mean that only expr7 should be accessible? Please
> help me entangle this (of course the return value of F is expr10, and all
> the other objects created by the preceding expressions are deleted. But
> expr5 is not, after the control passes outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Mon Jan  9 17:54:38 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Mon, 9 Jan 2023 16:54:38 +0000
Subject: [R] return value of {....}
In-Reply-To: <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
Message-ID: <PU4P216MB15687CC331A108D736437955C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

dear Bert,
                   Thanks a lot...

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: Bert Gunter <bgunter.4567 at gmail.com>
Sent: Monday, January 9, 2023 9:59 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Unless you do something special within a function, only the value(s) returned are available to the caller. That is the essence of functional-type programming languages.

You need to read up on (function) environments in R . You can search on this. ?function and its links also contain useful information, but it may too terse to be explicable to you. There are of course many available references on the internet.

I believe your mental model for how R works is flawed, and you have some homework to do to correct it. I may be wrong, naturally, but you can judge by looking at some tutorials.

-- Bert

On Mon, Jan 9, 2023 at 6:47 AM akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>> wrote:
Dear members,
                             I have the following code:

> TB <- {x <- 3;y <- 5}
> TB
[1] 5

It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.

But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:

F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}

Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jan  9 17:59:12 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Jan 2023 08:59:12 -0800
Subject: [R] return value of {....}
In-Reply-To: <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
Message-ID: <CAGxFJbTdNF277j02uZbeKwYLg=5+S8zOSH1BfNJiEkKzwk4NwQ@mail.gmail.com>

Perhaps the following may be of use to you.

Consider:

> f <- function(){ x <- 3; function(y) x+y}
> x <- 5

##What does this give?
> f()
## Why?
## How about this?
>f()(10)
## Why?

## If you remove "x <- 3" from the above, what will you get when you repeat
the exercise?

-- Bert

On Mon, Jan 9, 2023 at 8:29 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Unless you do something special within a function, only the value(s)
> returned are available to the caller. That is the essence of
> functional-type programming languages.
>
> You need to read up on (function) environments in R . You can search on
> this. ?function and its links also contain useful information, but it may
> too terse to be explicable to you. There are of course many available
> references on the internet.
>
> I believe your mental model for how R works is flawed, and you have some
> homework to do to correct it. I may be wrong, naturally, but you can judge
> by looking at some tutorials.
>
> -- Bert
>
> On Mon, Jan 9, 2023 at 6:47 AM akshay kulkarni <akshay_e4 at hotmail.com>
> wrote:
>
>> Dear members,
>>                              I have the following code:
>>
>> > TB <- {x <- 3;y <- 5}
>> > TB
>> [1] 5
>>
>> It is consistent with the documentation: For {, the result of the last
>> expression evaluated. This has the visibility of the last evaluation.
>>
>> But both x AND y are created, but the "return value" is y. How can this
>> be advantageous for solving practical problems? Specifically, consider the
>> following code:
>>
>> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>>
>> Both expr5 and expr7 are created, and are accessible by the code outside
>> of the nested braces right? But the "return value" of the nested braces is
>> expr7. So doesn't this mean that only expr7 should be accessible? Please
>> help me entangle this (of course the return value of F is expr10, and all
>> the other objects created by the preceding expressions are deleted. But
>> expr5 is not, after the control passes outside of the nested braces!)
>>
>> Thanking you,
>> Yours sincerely,
>> AKSHAY M KULKARNI
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Mon Jan  9 17:57:21 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Mon, 9 Jan 2023 16:57:21 +0000
Subject: [R] return value of {....}
In-Reply-To: <47c2883a-d4c0-211a-02ab-a916f829292f@sapo.pt>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <47c2883a-d4c0-211a-02ab-a916f829292f@sapo.pt>
Message-ID: <PU4P216MB1568AAE0B25AF6B2ADF47EC8C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

dear Rui,
                 Thanks a lot....

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Monday, January 9, 2023 9:48 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>; R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

?s 14:47 de 09/01/2023, akshay kulkarni escreveu:
> Dear members,
>                               I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>        [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

Hello,

Everything happens as you have described it, expr5 is accessible outside
{}. Whether it is advantageous to solve pratical problems is another
thing. The way f() is called creates variable `input` and this can be
seen in many places of the R sources. Personally, I find it harder to
read and prefer to break that one-liner into two instructions.

The code below shows a seldom pratical feature, if ever, put to work.


f <- function(X) {
   x <- X; y <- x*2
   u <- {
     z <- y     # expr5 creates a variable by assigning it a value
     z*pi       # expr7's value is assigned to u
   }
   v <- u + z   # expr5's value is accessible
   10 * v
}

# the call also creates input
f(input <- 1)
#> [1] 82.83185
.Last.value / 10
#> [1] 0.1
.Last.value - input*2
#> [1] -1
.Last.value / pi
#> [1] 0.3183099
.Last.value / 2
#> [1] 0.5
.Last.value == input
#> [1] TRUE


Hoep this helps,

Rui Barradas


	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Mon Jan  9 18:05:47 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Mon, 9 Jan 2023 17:05:47 +0000
Subject: [R] return value of {....}
In-Reply-To: <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
Message-ID: <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear Valentin,
                          But why should {....} "return" a value? It could just as well evaluate all the expressions and store the resulting objects in whatever environment the interpreter chooses, and then it would be left to the user to manipulate any object he chooses. Don't you think returning the last, or any value, is redundant? We are living in the 21st century world, and the R-core team might,I suppose, have a definite reason for"returning" the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at>
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Mon Jan  9 18:22:40 2023
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Mon, 9 Jan 2023 12:22:40 -0500
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <CAPcHnpR0va+Ouk=Ur6GRS7uuvOFTn76e_MO81i3nMJzTCHuamQ@mail.gmail.com>

Returning the last value of { is the basis of functions not needing a
return statement. Before R invokes a function (specifically a closure), it
creates a new context. When R evaluates a call to return, it looks for a
context to return from and finds the context of function, ending the
context and the evaluation of the function body early. However, if you
don't use return, R just returns the value from evaluating the function
body, and if your function body starts with {, it will return the last
expression from the function body, as desired.

On Mon, Jan 9, 2023, 12:15 akshay kulkarni <akshay_e4 at hotmail.com> wrote:

> Dear Valentin,
>                           But why should {....} "return" a value? It could
> just as well evaluate all the expressions and store the resulting objects
> in whatever environment the interpreter chooses, and then it would be left
> to the user to manipulate any object he chooses. Don't you think returning
> the last, or any value, is redundant? We are living in the 21st century
> world, and the R-core team might,I suppose, have a definite reason
> for"returning" the last value. Any comments?
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
> ________________________________
> From: Valentin Petzel <valentin at petzel.at>
> Sent: Monday, January 9, 2023 9:18 PM
> To: akshay kulkarni <akshay_e4 at hotmail.com>
> Cc: R help Mailing list <r-help at r-project.org>
> Subject: Re: [R] return value of {....}
>
> Hello Akshai,
>
> I think you are confusing {...} with local({...}). This one will evaluate
> the expression in a separate environment, returning the last expression.
>
> {...} simply evaluates multiple expressions as one and returns the result
> of the last line, but it still evaluates each expression.
>
> Assignment returns the assigned value, so we can chain assignments like
> this
>
> a <- 1 + (b <- 2)
>
> conveniently.
>
> So when is {...} useful? Well, anyplace where you want to execute complex
> stuff in a function argument. E.g. you might do:
>
> data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})
>
> Regards,
> Valentin Petzel
>
> 09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:
>
> > Dear members,
> >                              I have the following code:
> >
> >> TB <- {x <- 3;y <- 5}
> >> TB
> > [1] 5
> >
> > It is consistent with the documentation: For {, the result of the last
> expression evaluated. This has the visibility of the last evaluation.
> >
> > But both x AND y are created, but the "return value" is y. How can this
> be advantageous for solving practical problems? Specifically, consider the
> following code:
> >
> > F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
> >
> > Both expr5 and expr7 are created, and are accessible by the code outside
> of the nested braces right? But the "return value" of the nested braces is
> expr7. So doesn't this mean that only expr7 should be accessible? Please
> help me entangle this (of course the return value of F is expr10, and all
> the other objects created by the preceding expressions are deleted. But
> expr5 is not, after the control passes outside of the nested braces!)
> >
> > Thanking you,
> > Yours sincerely,
> > AKSHAY M KULKARNI
> >
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Mon Jan  9 18:27:53 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Mon, 9 Jan 2023 17:27:53 +0000
Subject: [R] return value of {....}
In-Reply-To: <CAPcHnpR0va+Ouk=Ur6GRS7uuvOFTn76e_MO81i3nMJzTCHuamQ@mail.gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CAPcHnpR0va+Ouk=Ur6GRS7uuvOFTn76e_MO81i3nMJzTCHuamQ@mail.gmail.com>
Message-ID: <PU4P216MB1568A89AE9169F39BB15E50CC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear Andrew,
                          Nice point.....

THanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: Andrew Simmons <akwsimmo at gmail.com>
Sent: Monday, January 9, 2023 10:52 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: Valentin Petzel <valentin at petzel.at>; R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Returning the last value of { is the basis of functions not needing a return statement. Before R invokes a function (specifically a closure), it creates a new context. When R evaluates a call to return, it looks for a context to return from and finds the context of function, ending the context and the evaluation of the function body early. However, if you don't use return, R just returns the value from evaluating the function body, and if your function body starts with {, it will return the last expression from the function body, as desired.

On Mon, Jan 9, 2023, 12:15 akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>> wrote:
Dear Valentin,
                          But why should {....} "return" a value? It could just as well evaluate all the expressions and store the resulting objects in whatever environment the interpreter chooses, and then it would be left to the user to manipulate any object he chooses. Don't you think returning the last, or any value, is redundant? We are living in the 21st century world, and the R-core team might,I suppose, have a definite reason for"returning" the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at<mailto:valentin at petzel.at>>
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>>
Cc: R help Mailing list <r-help at r-project.org<mailto:r-help at r-project.org>>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>>:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @vi@e@gross m@iii@g oii gm@ii@com  Tue Jan 10 00:09:57 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Mon, 9 Jan 2023 18:09:57 -0500
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <009401d9247f$7e426fb0$7ac74f10$@gmail.com>

Akshay,

Your question seems a tad mysterious to me as you are complaining about
NOTHING.

R was designed to return single values. The last statement executed in a
function body, for example, is the value returned even when not at the end.

Scoping is another issue entirely. What is visible is another discussion.

So, yes, if you can see ALL the variables, you might see the last one BUT
there often is no variable at the end. There is an expression that evaluates
to a value with no NAME attached. You cannot reference that unless the block
in curly braces returns that value.

You can design your own language any way you want. The people who designed R
did it this way. Mind you, the most common use of curly braces is probably
in function bodies, or if/else blocks and loops, not quite what you are
looking at and complaining about. The design is what it is.

Others require things like an explicit return() statement. R chose not to.

And if the value is redundant for you, who cares?

Did you know that when running a program in the interpreter the last value
is stored in a variable like this:

> x <- 6
> .Last.value
[1] 6

Why would that duplicate be needed or useful?

Consider a partial calculation you want to reuse in another context:

> y = x*2 + 2*x -3
> z <- .Last.value/2
> z
[1] 10.5

Yes, you could have used "y" ...




-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of akshay kulkarni
Sent: Monday, January 9, 2023 12:06 PM
To: Valentin Petzel <valentin at petzel.at>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Dear Valentin,
                          But why should {....} "return" a value? It could
just as well evaluate all the expressions and store the resulting objects in
whatever environment the interpreter chooses, and then it would be left to
the user to manipulate any object he chooses. Don't you think returning the
last, or any value, is redundant? We are living in the 21st century world,
and the R-core team might,I suppose, have a definite reason for"returning"
the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at>
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate
the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of
the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex
stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
advantageous for solving practical problems? Specifically, consider the
following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code 
> outside of the nested braces right? But the "return value" of the 
> nested braces is expr7. So doesn't this mean that only expr7 should be 
> accessible? Please help me entangle this (of course the return value 
> of F is expr10, and all the other objects created by the preceding 
> expressions are deleted. But expr5 is not, after the control passes 
> outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jan 10 00:16:03 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 09 Jan 2023 15:16:03 -0800
Subject: [R] return value of {....}
In-Reply-To: <CAGxFJbTdNF277j02uZbeKwYLg=5+S8zOSH1BfNJiEkKzwk4NwQ@mail.gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
 <CAGxFJbTdNF277j02uZbeKwYLg=5+S8zOSH1BfNJiEkKzwk4NwQ@mail.gmail.com>
Message-ID: <960758A2-98A2-41A1-9169-458AE62156AE@dcn.davis.ca.us>

I suspect akshay is (or was? Not sure) unclear about what braces do. They are not closures... they create an expression that wraps multiple expressions into one expression... they are a little more like parentheses than closures. They are not intrinsically associated with creation of environments for holding variables.

Functions are closures... they run in a call-specific environment that inherits from the environment where the function was defined. Blocks (created with braces) simply work with the environment in which they are constructed directly. If you want a block that creates a new local environment without defining a new function then pass your code block to the ?local function.

On January 9, 2023 8:59:12 AM PST, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>Perhaps the following may be of use to you.
>
>Consider:
>
>> f <- function(){ x <- 3; function(y) x+y}
>> x <- 5
>
>##What does this give?
>> f()
>## Why?
>## How about this?
>>f()(10)
>## Why?
>
>## If you remove "x <- 3" from the above, what will you get when you repeat
>the exercise?
>
>-- Bert
>
>On Mon, Jan 9, 2023 at 8:29 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
>> Unless you do something special within a function, only the value(s)
>> returned are available to the caller. That is the essence of
>> functional-type programming languages.
>>
>> You need to read up on (function) environments in R . You can search on
>> this. ?function and its links also contain useful information, but it may
>> too terse to be explicable to you. There are of course many available
>> references on the internet.
>>
>> I believe your mental model for how R works is flawed, and you have some
>> homework to do to correct it. I may be wrong, naturally, but you can judge
>> by looking at some tutorials.
>>
>> -- Bert
>>
>> On Mon, Jan 9, 2023 at 6:47 AM akshay kulkarni <akshay_e4 at hotmail.com>
>> wrote:
>>
>>> Dear members,
>>>                              I have the following code:
>>>
>>> > TB <- {x <- 3;y <- 5}
>>> > TB
>>> [1] 5
>>>
>>> It is consistent with the documentation: For {, the result of the last
>>> expression evaluated. This has the visibility of the last evaluation.
>>>
>>> But both x AND y are created, but the "return value" is y. How can this
>>> be advantageous for solving practical problems? Specifically, consider the
>>> following code:
>>>
>>> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>>>
>>> Both expr5 and expr7 are created, and are accessible by the code outside
>>> of the nested braces right? But the "return value" of the nested braces is
>>> expr7. So doesn't this mean that only expr7 should be accessible? Please
>>> help me entangle this (of course the return value of F is expr10, and all
>>> the other objects created by the preceding expressions are deleted. But
>>> expr5 is not, after the control passes outside of the nested braces!)
>>>
>>> Thanking you,
>>> Yours sincerely,
>>> AKSHAY M KULKARNI
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jan 10 00:48:31 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 9 Jan 2023 15:48:31 -0800
Subject: [R] return value of {....}
In-Reply-To: <960758A2-98A2-41A1-9169-458AE62156AE@dcn.davis.ca.us>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CAGxFJbQAE2Na=+LFTjHch=9==O-UXwpLhyrW=Z-R_QDX7ZirDA@mail.gmail.com>
 <CAGxFJbTdNF277j02uZbeKwYLg=5+S8zOSH1BfNJiEkKzwk4NwQ@mail.gmail.com>
 <960758A2-98A2-41A1-9169-458AE62156AE@dcn.davis.ca.us>
Message-ID: <CAGxFJbQyFL=-EKSsrEQ=dcws8ko-YqNK596mzKp6EwT3idKmcw@mail.gmail.com>

"I suspect akshay is (or was? Not sure) unclear about what braces do.
They are not closures... they create an expression that wraps multiple
expressions into one expression... they are a little more like
parentheses than closures. They are not **intrinsically associated**
with creation of environments for holding variables."

Perhaps confusion comes from this behavior described in ?body:
"The bodies of all but the simplest are braced expressions, that is
calls to {: see the ?Examples? section for how to create such a call."

and

"body returns the body of the function specified. This is normally a
language object, most often a call to {, but it can also be a symbol
such as pi or a constant (e.g., 3 or "R") to be the return value of
the function."

So braces are needed to demarcate the code/expressions within a
function, but as you said, they do not themselves create closures.
More technically, '{' is primitive, not a closure.

Bert







On Mon, Jan 9, 2023 at 3:16 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
> I suspect akshay is (or was? Not sure) unclear about what braces do. They are not closures... they create an expression that wraps multiple expressions into one expression... they are a little more like parentheses than closures. They are not intrinsically associated with creation of environments for holding variables.
>
> Functions are closures... they run in a call-specific environment that inherits from the environment where the function was defined. Blocks (created with braces) simply work with the environment in which they are constructed directly. If you want a block that creates a new local environment without defining a new function then pass your code block to the ?local function.
>
> On January 9, 2023 8:59:12 AM PST, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >Perhaps the following may be of use to you.
> >
> >Consider:
> >
> >> f <- function(){ x <- 3; function(y) x+y}
> >> x <- 5
> >
> >##What does this give?
> >> f()
> >## Why?
> >## How about this?
> >>f()(10)
> >## Why?
> >
> >## If you remove "x <- 3" from the above, what will you get when you repeat
> >the exercise?
> >
> >-- Bert
> >
> >On Mon, Jan 9, 2023 at 8:29 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> >> Unless you do something special within a function, only the value(s)
> >> returned are available to the caller. That is the essence of
> >> functional-type programming languages.
> >>
> >> You need to read up on (function) environments in R . You can search on
> >> this. ?function and its links also contain useful information, but it may
> >> too terse to be explicable to you. There are of course many available
> >> references on the internet.
> >>
> >> I believe your mental model for how R works is flawed, and you have some
> >> homework to do to correct it. I may be wrong, naturally, but you can judge
> >> by looking at some tutorials.
> >>
> >> -- Bert
> >>
> >> On Mon, Jan 9, 2023 at 6:47 AM akshay kulkarni <akshay_e4 at hotmail.com>
> >> wrote:
> >>
> >>> Dear members,
> >>>                              I have the following code:
> >>>
> >>> > TB <- {x <- 3;y <- 5}
> >>> > TB
> >>> [1] 5
> >>>
> >>> It is consistent with the documentation: For {, the result of the last
> >>> expression evaluated. This has the visibility of the last evaluation.
> >>>
> >>> But both x AND y are created, but the "return value" is y. How can this
> >>> be advantageous for solving practical problems? Specifically, consider the
> >>> following code:
> >>>
> >>> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
> >>>
> >>> Both expr5 and expr7 are created, and are accessible by the code outside
> >>> of the nested braces right? But the "return value" of the nested braces is
> >>> expr7. So doesn't this mean that only expr7 should be accessible? Please
> >>> help me entangle this (of course the return value of F is expr10, and all
> >>> the other objects created by the preceding expressions are deleted. But
> >>> expr5 is not, after the control passes outside of the nested braces!)
> >>>
> >>> Thanking you,
> >>> Yours sincerely,
> >>> AKSHAY M KULKARNI
> >>>
> >>>         [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.


From v@|ent|n @end|ng |rom petze|@@t  Mon Jan  9 16:48:09 2023
From: v@|ent|n @end|ng |rom petze|@@t (Valentin Petzel)
Date: Mon, 9 Jan 2023 16:48:09 +0100 (GMT+01:00)
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:

> Dear members,
> ???????????????????????????? I have the following code:
> 
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
> 
> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
> 
> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
> 
> F <- function(X) {? expr; expr2; { expr5; expr7}; expr8;expr10}
> 
> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
> 
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @k@h@y_e4 @end|ng |rom hotm@||@com  Tue Jan 10 15:32:48 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Tue, 10 Jan 2023 14:32:48 +0000
Subject: [R] return value of {....}
In-Reply-To: <009401d9247f$7e426fb0$7ac74f10$@gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <009401d9247f$7e426fb0$7ac74f10$@gmail.com>
Message-ID: <PU4P216MB15680CE40E939E34B5671D4BC8FF9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear Avi,
                 Thanks for your reply...your exhortations are indeed justified...! But one caveat: I was not complaining about anything...just was curious of the rationale of a particular design....Thanks again...

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of avi.e.gross at gmail.com <avi.e.gross at gmail.com>
Sent: Tuesday, January 10, 2023 4:39 AM
Cc: 'R help Mailing list' <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Akshay,

Your question seems a tad mysterious to me as you are complaining about
NOTHING.

R was designed to return single values. The last statement executed in a
function body, for example, is the value returned even when not at the end.

Scoping is another issue entirely. What is visible is another discussion.

So, yes, if you can see ALL the variables, you might see the last one BUT
there often is no variable at the end. There is an expression that evaluates
to a value with no NAME attached. You cannot reference that unless the block
in curly braces returns that value.

You can design your own language any way you want. The people who designed R
did it this way. Mind you, the most common use of curly braces is probably
in function bodies, or if/else blocks and loops, not quite what you are
looking at and complaining about. The design is what it is.

Others require things like an explicit return() statement. R chose not to.

And if the value is redundant for you, who cares?

Did you know that when running a program in the interpreter the last value
is stored in a variable like this:

> x <- 6
> .Last.value
[1] 6

Why would that duplicate be needed or useful?

Consider a partial calculation you want to reuse in another context:

> y = x*2 + 2*x -3
> z <- .Last.value/2
> z
[1] 10.5

Yes, you could have used "y" ...




-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of akshay kulkarni
Sent: Monday, January 9, 2023 12:06 PM
To: Valentin Petzel <valentin at petzel.at>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Dear Valentin,
                          But why should {....} "return" a value? It could
just as well evaluate all the expressions and store the resulting objects in
whatever environment the interpreter chooses, and then it would be left to
the user to manipulate any object he chooses. Don't you think returning the
last, or any value, is redundant? We are living in the 21st century world,
and the R-core team might,I suppose, have a definite reason for"returning"
the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at>
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate
the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of
the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex
stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
advantageous for solving practical problems? Specifically, consider the
following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code
> outside of the nested braces right? But the "return value" of the
> nested braces is expr7. So doesn't this mean that only expr7 should be
> accessible? Please help me entangle this (of course the return value
> of F is expr10, and all the other objects created by the preceding
> expressions are deleted. But expr5 is not, after the control passes
> outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From k@hun|ny@@h@13296 @end|ng |rom gm@||@com  Sat Jan  7 08:03:12 2023
From: k@hun|ny@@h@13296 @end|ng |rom gm@||@com (Nyasha)
Date: Sat, 7 Jan 2023 09:03:12 +0200
Subject: [R] 
 MLE Estimation of Gamma Distribution Parameters for data with
 'zeros'
Message-ID: <CAPO0VmZxiSzzpsKVQPpsMSodKM1qisXNCfR1Zm32T9=70se_MQ@mail.gmail.com>

Please how can one go about this one? I don't know how to go about it.

	[[alternative HTML version deleted]]


From mn@||z@deh @end|ng |rom y@hoo@com  Tue Jan 10 13:30:53 2023
From: mn@||z@deh @end|ng |rom y@hoo@com (Fahimeh Alizadeh)
Date: Tue, 10 Jan 2023 12:30:53 +0000 (UTC)
Subject: [R] My forest plot is not fit to windows in R software
References: <1899380576.9643212.1673353853414.ref@mail.yahoo.com>
Message-ID: <1899380576.9643212.1673353853414@mail.yahoo.com>

Dear Prof.?My forest plot is not fit to windows in R software, I have 49 studies but forest plot only show from 9 to 42.?
forest.meta(hidemeta, layout="RevMan5", xlab="Proportion", comb.r=T, comb.f=F, xlim = c(0,1), fontsize=10, digits=3)


Whould you please help me to access full forest plot??Thank you

Sincerely,Fahimeh

Dr. Fahimeh AlizadehPost-Doctorate Fellow and Ph.DMicrobial Biotechnology
Islamic Azad University
? ? ? ? ? ? ? ? ? ?
 
 ?
? ? ? ? ? ? ? ? ? ??
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1673296370309blob.jpg
Type: image/png
Size: 78623 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230110/2bd45762/attachment.png>

From @vi@e@gross m@iii@g oii gm@ii@com  Tue Jan 10 17:53:46 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 10 Jan 2023 11:53:46 -0500
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB15680CE40E939E34B5671D4BC8FF9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <009401d9247f$7e426fb0$7ac74f10$@gmail.com>
 <PU4P216MB15680CE40E939E34B5671D4BC8FF9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <005a01d92514$1b5eedc0$521cc940$@gmail.com>

Fair enough, Akshay. Wondering why a design was chosen is reasonable.

 

There are languages like python that allow unpacking multiple values and it
is not uncommon to return multiple things from some constructs as in this:

 

>>> a,b,c = { 4, 5, 6 }

>>> a

4

>>> b

5

>>> c

6

 

But that is a bit of an illusion as the thing in curly braces is a very
different creature called a set with three items.  Python does not need or
use curly braces for the purposes used in R as indentation levels group
things.

 

It is different in design. I do not know what other computer languages you
have used, but R is NOT them and must be approached for what it is, and it
is a fairly simple paradigm for the last item in a sequence to be the value
of the sequence. You can return multiple things, if you wish, in other ways.
Such as making a list:

 

vals <- list(1+2, sin(.7), cos(.7))

 

> vals[2:3]

[[1]]

[1] 0.6442177

 

[[2]]

[1] 0.7648422

 

You get the idea. R returns ONE thing and it ca have parts, named or not.

 

 

From: akshay kulkarni <akshay_e4 at hotmail.com> 
Sent: Tuesday, January 10, 2023 9:33 AM
To: avi.e.gross at gmail.com
Cc: 'R help Mailing list' <r-help at r-project.org>
Subject: Re: [R] return value of {....}

 

Dear Avi,

                 Thanks for your reply...your exhortations are indeed
justified...! But one caveat: I was not complaining about anything...just
was curious of the rationale of a particular design....Thanks again...

 

Thanking you,

Yours sincerely,

AKSHAY M KULKARNI   

  _____  

From: R-help <r-help-bounces at r-project.org
<mailto:r-help-bounces at r-project.org> > on behalf of avi.e.gross at gmail.com
<mailto:avi.e.gross at gmail.com>  <avi.e.gross at gmail.com
<mailto:avi.e.gross at gmail.com> >
Sent: Tuesday, January 10, 2023 4:39 AM
Cc: 'R help Mailing list' <r-help at r-project.org
<mailto:r-help at r-project.org> >
Subject: Re: [R] return value of {....} 

 

Akshay,

Your question seems a tad mysterious to me as you are complaining about
NOTHING.

R was designed to return single values. The last statement executed in a
function body, for example, is the value returned even when not at the end.

Scoping is another issue entirely. What is visible is another discussion.

So, yes, if you can see ALL the variables, you might see the last one BUT
there often is no variable at the end. There is an expression that evaluates
to a value with no NAME attached. You cannot reference that unless the block
in curly braces returns that value.

You can design your own language any way you want. The people who designed R
did it this way. Mind you, the most common use of curly braces is probably
in function bodies, or if/else blocks and loops, not quite what you are
looking at and complaining about. The design is what it is.

Others require things like an explicit return() statement. R chose not to.

And if the value is redundant for you, who cares?

Did you know that when running a program in the interpreter the last value
is stored in a variable like this:

> x <- 6
> .Last.value
[1] 6

Why would that duplicate be needed or useful?

Consider a partial calculation you want to reuse in another context:

> y = x*2 + 2*x -3
> z <- .Last.value/2
> z
[1] 10.5

Yes, you could have used "y" ...




-----Original Message-----
From: R-help <r-help-bounces at r-project.org
<mailto:r-help-bounces at r-project.org> > On Behalf Of akshay kulkarni
Sent: Monday, January 9, 2023 12:06 PM
To: Valentin Petzel <valentin at petzel.at <mailto:valentin at petzel.at> >
Cc: R help Mailing list <r-help at r-project.org <mailto:r-help at r-project.org>
>
Subject: Re: [R] return value of {....}

Dear Valentin,
                          But why should {....} "return" a value? It could
just as well evaluate all the expressions and store the resulting objects in
whatever environment the interpreter chooses, and then it would be left to
the user to manipulate any object he chooses. Don't you think returning the
last, or any value, is redundant? We are living in the 21st century world,
and the R-core team might,I suppose, have a definite reason for"returning"
the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at <mailto:valentin at petzel.at> >
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com <mailto:akshay_e4 at hotmail.com> >
Cc: R help Mailing list <r-help at r-project.org <mailto:r-help at r-project.org>
>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate
the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of
the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex
stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com
<mailto:akshay_e4 at hotmail.com> >:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
advantageous for solving practical problems? Specifically, consider the
following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code 
> outside of the nested braces right? But the "return value" of the 
> nested braces is expr7. So doesn't this mean that only expr7 should be 
> accessible? Please help me entangle this (of course the return value 
> of F is expr10, and all the other objects created by the preceding 
> expressions are deleted. But expr5 is not, after the control passes 
> outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To
UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To
UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To
UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From @k@h@y_e4 @end|ng |rom hotm@||@com  Tue Jan 10 18:09:51 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Tue, 10 Jan 2023 17:09:51 +0000
Subject: [R] return value of {....}
In-Reply-To: <005a01d92514$1b5eedc0$521cc940$@gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <009401d9247f$7e426fb0$7ac74f10$@gmail.com>
 <PU4P216MB15680CE40E939E34B5671D4BC8FF9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <005a01d92514$1b5eedc0$521cc940$@gmail.com>
Message-ID: <PU4P216MB15684D5D6851C277AD7FAA41C8FF9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear Avi,
                 THanks a lot..much of the "rationale" is explained ....!

Thanking you,
Yours sincerely
AKSHAY M KULKARNI
________________________________
From: avi.e.gross at gmail.com <avi.e.gross at gmail.com>
Sent: Tuesday, January 10, 2023 10:23 PM
To: 'akshay kulkarni' <akshay_e4 at hotmail.com>
Cc: 'R help Mailing list' <r-help at r-project.org>
Subject: RE: [R] return value of {....}


Fair enough, Akshay. Wondering why a design was chosen is reasonable.



There are languages like python that allow unpacking multiple values and it is not uncommon to return multiple things from some constructs as in this:



>>> a,b,c = { 4, 5, 6 }

>>> a

4

>>> b

5

>>> c

6



But that is a bit of an illusion as the thing in curly braces is a very different creature called a set with three items.  Python does not need or use curly braces for the purposes used in R as indentation levels group things.



It is different in design. I do not know what other computer languages you have used, but R is NOT them and must be approached for what it is, and it is a fairly simple paradigm for the last item in a sequence to be the value of the sequence. You can return multiple things, if you wish, in other ways. Such as making a list:



vals <- list(1+2, sin(.7), cos(.7))



> vals[2:3]

[[1]]

[1] 0.6442177



[[2]]

[1] 0.7648422



You get the idea. R returns ONE thing and it ca have parts, named or not.





From: akshay kulkarni <akshay_e4 at hotmail.com>
Sent: Tuesday, January 10, 2023 9:33 AM
To: avi.e.gross at gmail.com
Cc: 'R help Mailing list' <r-help at r-project.org>
Subject: Re: [R] return value of {....}



Dear Avi,

                 Thanks for your reply...your exhortations are indeed justified...! But one caveat: I was not complaining about anything...just was curious of the rationale of a particular design....Thanks again...



Thanking you,

Yours sincerely,

AKSHAY M KULKARNI

________________________________

From: R-help <r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>> on behalf of avi.e.gross at gmail.com<mailto:avi.e.gross at gmail.com> <avi.e.gross at gmail.com<mailto:avi.e.gross at gmail.com>>
Sent: Tuesday, January 10, 2023 4:39 AM
Cc: 'R help Mailing list' <r-help at r-project.org<mailto:r-help at r-project.org>>
Subject: Re: [R] return value of {....}



Akshay,

Your question seems a tad mysterious to me as you are complaining about
NOTHING.

R was designed to return single values. The last statement executed in a
function body, for example, is the value returned even when not at the end.

Scoping is another issue entirely. What is visible is another discussion.

So, yes, if you can see ALL the variables, you might see the last one BUT
there often is no variable at the end. There is an expression that evaluates
to a value with no NAME attached. You cannot reference that unless the block
in curly braces returns that value.

You can design your own language any way you want. The people who designed R
did it this way. Mind you, the most common use of curly braces is probably
in function bodies, or if/else blocks and loops, not quite what you are
looking at and complaining about. The design is what it is.

Others require things like an explicit return() statement. R chose not to.

And if the value is redundant for you, who cares?

Did you know that when running a program in the interpreter the last value
is stored in a variable like this:

> x <- 6
> .Last.value
[1] 6

Why would that duplicate be needed or useful?

Consider a partial calculation you want to reuse in another context:

> y = x*2 + 2*x -3
> z <- .Last.value/2
> z
[1] 10.5

Yes, you could have used "y" ...




-----Original Message-----
From: R-help <r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>> On Behalf Of akshay kulkarni
Sent: Monday, January 9, 2023 12:06 PM
To: Valentin Petzel <valentin at petzel.at<mailto:valentin at petzel.at>>
Cc: R help Mailing list <r-help at r-project.org<mailto:r-help at r-project.org>>
Subject: Re: [R] return value of {....}

Dear Valentin,
                          But why should {....} "return" a value? It could
just as well evaluate all the expressions and store the resulting objects in
whatever environment the interpreter chooses, and then it would be left to
the user to manipulate any object he chooses. Don't you think returning the
last, or any value, is redundant? We are living in the 21st century world,
and the R-core team might,I suppose, have a definite reason for"returning"
the last value. Any comments?

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

________________________________
From: Valentin Petzel <valentin at petzel.at<mailto:valentin at petzel.at>>
Sent: Monday, January 9, 2023 9:18 PM
To: akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>>
Cc: R help Mailing list <r-help at r-project.org<mailto:r-help at r-project.org>>
Subject: Re: [R] return value of {....}

Hello Akshai,

I think you are confusing {...} with local({...}). This one will evaluate
the expression in a separate environment, returning the last expression.

{...} simply evaluates multiple expressions as one and returns the result of
the last line, but it still evaluates each expression.

Assignment returns the assigned value, so we can chain assignments like this

a <- 1 + (b <- 2)

conveniently.

So when is {...} useful? Well, anyplace where you want to execute complex
stuff in a function argument. E.g. you might do:

data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})

Regards,
Valentin Petzel

09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>>:

> Dear members,
>                              I have the following code:
>
>> TB <- {x <- 3;y <- 5}
>> TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
advantageous for solving practical problems? Specifically, consider the
following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code
> outside of the nested braces right? But the "return value" of the
> nested braces is expr7. So doesn't this mean that only expr7 should be
> accessible? Please help me entangle this (of course the return value
> of F is expr10, and all the other objects created by the preceding
> expressions are deleted. But expr5 is not, after the control passes
> outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jan 10 18:42:35 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 10 Jan 2023 09:42:35 -0800
Subject: [R] 
 MLE Estimation of Gamma Distribution Parameters for data with
 'zeros'
In-Reply-To: <CAPO0VmZxiSzzpsKVQPpsMSodKM1qisXNCfR1Zm32T9=70se_MQ@mail.gmail.com>
References: <CAPO0VmZxiSzzpsKVQPpsMSodKM1qisXNCfR1Zm32T9=70se_MQ@mail.gmail.com>
Message-ID: <CAGxFJbT3HZLWs9V0NpMcdz6EPP1KbDzBmP5jmwYDFp_6=4LNng@mail.gmail.com>

Is this homework? This list has a no-homework policy.


-- Bert

On Tue, Jan 10, 2023 at 8:13 AM Nyasha <kahuninyasha13296 at gmail.com> wrote:
>
> Please how can one go about this one? I don't know how to go about it.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Tue Jan 10 19:16:32 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 10 Jan 2023 18:16:32 +0000
Subject: [R] My forest plot is not fit to windows in R software
In-Reply-To: <1899380576.9643212.1673353853414@mail.yahoo.com>
References: <1899380576.9643212.1673353853414.ref@mail.yahoo.com>
 <1899380576.9643212.1673353853414@mail.yahoo.com>
Message-ID: <5c10ff47-3a4a-ba1b-526b-2b0babdddb02@dewey.myzen.co.uk>

Dear Fahimeh

It would help if you also told us what package you are using as there 
are several which perform forest plots. I assume it is meta.

Your plot is cropped on three side as far as I can see. What parameters 
did you give to the call of the graphics device? What happens if you use 
a different graphics format like pdf? Then we may be able to see where 
the issue lies.

Michael

On 10/01/2023 12:30, Fahimeh Alizadeh via R-help wrote:
> Dear Prof.?My forest plot is not fit to windows in R software, I have 49 studies but forest plot only show from 9 to 42.
> forest.meta(hidemeta, layout="RevMan5", xlab="Proportion", comb.r=T, comb.f=F, xlim = c(0,1), fontsize=10, digits=3)
> 
> 
> Whould you please help me to access full forest plot??Thank you
> 
> Sincerely,Fahimeh
> 
> Dr. Fahimeh AlizadehPost-Doctorate Fellow and Ph.DMicrobial Biotechnology
> Islamic Azad University
>                     
>   
>    
>                      
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From mn@||z@deh @end|ng |rom y@hoo@com  Tue Jan 10 20:37:08 2023
From: mn@||z@deh @end|ng |rom y@hoo@com (Fahimeh Alizadeh)
Date: Tue, 10 Jan 2023 19:37:08 +0000 (UTC)
Subject: [R] My forest plot is not fit to windows in R software
In-Reply-To: <5c10ff47-3a4a-ba1b-526b-2b0babdddb02@dewey.myzen.co.uk>
References: <1899380576.9643212.1673353853414.ref@mail.yahoo.com>
 <1899380576.9643212.1673353853414@mail.yahoo.com>
 <5c10ff47-3a4a-ba1b-526b-2b0babdddb02@dewey.myzen.co.uk>
Message-ID: <176828580.10152576.1673379428214@mail.yahoo.com>

Dear Prof.Thank you for your kind response. I have only used:
install.packages("tidyverse")

install.packages("meta")

install.packages("metafor")

library(tidyverse)

library(meta)
library(metafor)and then,forest.meta(hidemeta, layout="RevMan5", xlab="Proportion", comb.r=T, comb.f=F, xlim = c(0,1), fontsize=10, digits=3)Unfortunately I am not familiar to R software, I have not chosen graphics device. could you please help me to choose graphics format like pdf?
All the best for you
Sincerely,Fahimeh Alizadeh



Dr. Fahimeh AlizadehPost-Doctorate Fellow and Ph.DMicrobial Biotechnology
Islamic Azad University
? ? ? ? ? ? ? ? ? ?
 
 ?
? ? ? ? ? ? ? ? ? ?? 

    On Tuesday, January 10, 2023 at 09:46:40 PM GMT+3:30, Michael Dewey <lists at dewey.myzen.co.uk> wrote:  
 
 Dear Fahimeh

It would help if you also told us what package you are using as there 
are several which perform forest plots. I assume it is meta.

Your plot is cropped on three side as far as I can see. What parameters 
did you give to the call of the graphics device? What happens if you use 
a different graphics format like pdf? Then we may be able to see where 
the issue lies.

Michael

On 10/01/2023 12:30, Fahimeh Alizadeh via R-help wrote:
> Dear Prof.?My forest plot is not fit to windows in R software, I have 49 studies but forest plot only show from 9 to 42.
> forest.meta(hidemeta, layout="RevMan5", xlab="Proportion", comb.r=T, comb.f=F, xlim = c(0,1), fontsize=10, digits=3)
> 
> 
> Whould you please help me to access full forest plot??Thank you
> 
> Sincerely,Fahimeh
> 
> Dr. Fahimeh AlizadehPost-Doctorate Fellow and Ph.DMicrobial Biotechnology
> Islamic Azad University
>? ? ? ? ? ? ? ? ? ? 
>? 
>? ? 
>? ? ? ? ? ? ? ? ? ? ? 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Michael
http://www.dewey.myzen.co.uk/home.html
  
	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Wed Jan 11 04:01:03 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 11 Jan 2023 16:01:03 +1300
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <CABcYAdKVMuvyg8ss8PTqDaGP4Pt6kmdfTYFnLgfLhQhF7dst_Q@mail.gmail.com>

I am more than a little puzzled by your question.
In the construct {expr1; expr2; expr3} all of the
expressions expr1, expr2, and expr3 are evaluated,
in that order.  That's what curly braces are FOR.
When you want some expressions evaluated in a
specific order, that's why and when you use curly
braces.  If that's not what you want, don't use them.
Complaining about it is like complaining that + adds.


On Tue, 10 Jan 2023 at 03:47, akshay kulkarni <akshay_e4 at hotmail.com> wrote:

> Dear members,
>                              I have the following code:
>
> > TB <- {x <- 3;y <- 5}
> > TB
> [1] 5
>
> It is consistent with the documentation: For {, the result of the last
> expression evaluated. This has the visibility of the last evaluation.
>
> But both x AND y are created, but the "return value" is y. How can this be
> advantageous for solving practical problems? Specifically, consider the
> following code:
>
> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
>
> Both expr5 and expr7 are created, and are accessible by the code outside
> of the nested braces right? But the "return value" of the nested braces is
> expr7. So doesn't this mean that only expr7 should be accessible? Please
> help me entangle this (of course the return value of F is expr10, and all
> the other objects created by the preceding expressions are deleted. But
> expr5 is not, after the control passes outside of the nested braces!)
>
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Wed Jan 11 11:30:12 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Wed, 11 Jan 2023 10:30:12 +0000
Subject: [R] My forest plot is not fit to windows in R software
In-Reply-To: <176828580.10152576.1673379428214@mail.yahoo.com>
References: <1899380576.9643212.1673353853414.ref@mail.yahoo.com>
 <1899380576.9643212.1673353853414@mail.yahoo.com>
 <5c10ff47-3a4a-ba1b-526b-2b0babdddb02@dewey.myzen.co.uk>
 <176828580.10152576.1673379428214@mail.yahoo.com>
Message-ID: <c0769532-bf08-7193-f24f-59b874ea3dbe@dewey.myzen.co.uk>

Dear Fahimeh

Try preceding your call of forest.meta with

pdf("myplot.pdf")
forest.meta(..............)
dev.off()

Why did you set xlim to c(0, 1)

Michael

On 10/01/2023 19:37, Fahimeh Alizadeh wrote:
> Dear Prof.
> Thank you for your kind response. I have only used:
> 
> install.packages("tidyverse")
> 
> install.packages("meta")
> 
> install.packages("metafor")
> 
> library(tidyverse)
> 
> library(meta)
> 
> library(metafor)
> and then,
> 
> forest.meta(hidemeta, layout="|RevMan5|", xlab="Proportion", comb.r=T, comb.f=F, xlim = c(0,1), fontsize=10, 
> digits=3)
> 
> Unfortunately I am not familiar to R software, I have not chosen graphics device. could you please help me to choosegraphics format like pdf?
> 
> 
> All the best for you
> 
> 
> Sincerely,
> 
> Fahimeh Alizadeh
> 
> 
> 
> 
> 
> Dr. Fahimeh Alizadeh
> Post-Doctorate Fellow and Ph.D
> Microbial Biotechnology
> Islamic Azad University
> 
> 
> 
> 
> 
> 
> On Tuesday, January 10, 2023 at 09:46:40 PM GMT+3:30, Michael Dewey 
> <lists at dewey.myzen.co.uk> wrote:
> 
> 
> Dear Fahimeh
> 
> It would help if you also told us what package you are using as there
> are several which perform forest plots. I assume it is meta.
> 
> Your plot is cropped on three side as far as I can see. What parameters
> did you give to the call of the graphics device? What happens if you use
> a different graphics format like pdf? Then we may be able to see where
> the issue lies.
> 
> Michael
> 
> On 10/01/2023 12:30, Fahimeh Alizadeh via R-help wrote:
>  > Dear Prof.?My forest plot is not fit to windows in R software, I have 
> 49 studies but forest plot only show from 9 to 42.
>  > forest.meta(hidemeta, layout="RevMan5", xlab="Proportion", comb.r=T, 
> comb.f=F, xlim = c(0,1), fontsize=10, digits=3)
>  >
>  >
>  > Whould you please help me to access full forest plot??Thank you
>  >
>  > Sincerely,Fahimeh
>  >
>  > Dr. Fahimeh AlizadehPost-Doctorate Fellow and Ph.DMicrobial Biotechnology
>  > Islamic Azad University
> 
>  >
>  >
>  >
>  >
>  >
>  >
>  > ______________________________________________
>  > R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To 
> UNSUBSCRIBE and more, see
>  > https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
>  > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
>  > and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Michael
> http://www.dewey.myzen.co.uk/home.html 
> <http://www.dewey.myzen.co.uk/home.html>
> 
> 
> <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>	Virus-free.www.avg.com <http://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
> 
> <#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Wed Jan 11 12:38:20 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Wed, 11 Jan 2023 17:08:20 +0530
Subject: [R] Reg: ggplot error
Message-ID: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>

Dear All,

I am using roptest  function of package "ROptEst" (Kohl and Ruckdeschel
(2019)) to find out the ML, CvM-MD, and the RMX estimator and their
asymptotic confidence intervals. I am assuming 1-5% of erroneous data for
the RMX estimator.

Then I am trying to Plot the data in the form of a histogram and add the
three Gamma distribution densities with the estimated parameters and
validate the three models additionally with pp- and qq-plots.

I have tried to code it. I have attached the code and data. I am getting
error while fitting ggplot to plot the distribution densities.

I am doing some error which I am not able to correct. Please help me to
find out my error.

With sincere regards,
Upananda Pani

From er|cjberger @end|ng |rom gm@||@com  Wed Jan 11 13:01:38 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 11 Jan 2023 14:01:38 +0200
Subject: [R] Reg: ggplot error
In-Reply-To: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
References: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
Message-ID: <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>

No code or data came through.
Please read the posting guidelines.


On Wed, Jan 11, 2023 at 1:38 PM Upananda Pani <upananda.pani at gmail.com> wrote:
>
> Dear All,
>
> I am using roptest  function of package "ROptEst" (Kohl and Ruckdeschel
> (2019)) to find out the ML, CvM-MD, and the RMX estimator and their
> asymptotic confidence intervals. I am assuming 1-5% of erroneous data for
> the RMX estimator.
>
> Then I am trying to Plot the data in the form of a histogram and add the
> three Gamma distribution densities with the estimated parameters and
> validate the three models additionally with pp- and qq-plots.
>
> I have tried to code it. I have attached the code and data. I am getting
> error while fitting ggplot to plot the distribution densities.
>
> I am doing some error which I am not able to correct. Please help me to
> find out my error.
>
> With sincere regards,
> Upananda Pani
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Wed Jan 11 13:05:54 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Wed, 11 Jan 2023 17:35:54 +0530
Subject: [R] Reg: ggplot error
In-Reply-To: <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>
References: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
 <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>
Message-ID: <CAEezrQSaqVWPu-t7xUsSW_reKY42=pZQxUb4Qi6ywCBT_VoxBQ@mail.gmail.com>

I am sorry.

On Wed, Jan 11, 2023 at 5:32 PM Eric Berger <ericjberger at gmail.com> wrote:

> No code or data came through.
> Please read the posting guidelines.
>
>
> On Wed, Jan 11, 2023 at 1:38 PM Upananda Pani <upananda.pani at gmail.com>
> wrote:
> >
> > Dear All,
> >
> > I am using roptest  function of package "ROptEst" (Kohl and Ruckdeschel
> > (2019)) to find out the ML, CvM-MD, and the RMX estimator and their
> > asymptotic confidence intervals. I am assuming 1-5% of erroneous data for
> > the RMX estimator.
> >
> > Then I am trying to Plot the data in the form of a histogram and add the
> > three Gamma distribution densities with the estimated parameters and
> > validate the three models additionally with pp- and qq-plots.
> >
> > I have tried to code it. I have attached the code and data. I am getting
> > error while fitting ggplot to plot the distribution densities.
> >
> > I am doing some error which I am not able to correct. Please help me to
> > find out my error.
> >
> > With sincere regards,
> > Upananda Pani
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Wed Jan 11 13:37:01 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 11 Jan 2023 12:37:01 +0000
Subject: [R] Reg: ggplot error
In-Reply-To: <CAEezrQSaqVWPu-t7xUsSW_reKY42=pZQxUb4Qi6ywCBT_VoxBQ@mail.gmail.com>
References: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
 <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>
 <CAEezrQSaqVWPu-t7xUsSW_reKY42=pZQxUb4Qi6ywCBT_VoxBQ@mail.gmail.com>
Message-ID: <b83e8f46715b492798c7cd0cae17f2ca@SRVEXCHCM1302.precheza.cz>

Hi

Attachments are mostly removed from emails so they probably will not reach
r-help.

You said you get an error, which is the first place you should look at. It
can navigate you to the source of the error if you read it carefully.

Anyway, if your code is complicated it is difficult to understand and
decipher. So think about simplification and maybe you will find the error
source yourself during this simplification.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Upananda Pani
> Sent: Wednesday, January 11, 2023 1:06 PM
> To: Eric Berger <ericjberger at gmail.com>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] Reg: ggplot error
> 
> I am sorry.
> 
> On Wed, Jan 11, 2023 at 5:32 PM Eric Berger <ericjberger at gmail.com> wrote:
> 
> > No code or data came through.
> > Please read the posting guidelines.
> >
> >
> > On Wed, Jan 11, 2023 at 1:38 PM Upananda Pani
> > <upananda.pani at gmail.com>
> > wrote:
> > >
> > > Dear All,
> > >
> > > I am using roptest  function of package "ROptEst" (Kohl and
> > > Ruckdeschel
> > > (2019)) to find out the ML, CvM-MD, and the RMX estimator and their
> > > asymptotic confidence intervals. I am assuming 1-5% of erroneous
> > > data for the RMX estimator.
> > >
> > > Then I am trying to Plot the data in the form of a histogram and add
> > > the three Gamma distribution densities with the estimated parameters
> > > and validate the three models additionally with pp- and qq-plots.
> > >
> > > I have tried to code it. I have attached the code and data. I am
> > > getting error while fitting ggplot to plot the distribution densities.
> > >
> > > I am doing some error which I am not able to correct. Please help me
> > > to find out my error.
> > >
> > > With sincere regards,
> > > Upananda Pani
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From n|ckmwr@y @end|ng |rom gm@||@com  Wed Jan 11 13:47:39 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Wed, 11 Jan 2023 12:47:39 +0000
Subject: [R] Topological network Map
Message-ID: <CABxY9BOoZV-NUmcwZ5xqWYmH=Ez=OS5x7yV3Q=_WK9SF8MwNPg@mail.gmail.com>

Hello I'd like to create a simple topological map of a river system, ie all
the waterways, where they join and points on them such as gauging stations
so that it looks something like the London Tube map - where distances are
not important but the relationships of the nodes are.
I could probably Heath-Robinson something together but I wondered whether
there was any kind of package already out there to save me reinventing the
wheel.  I've had a look but I can't find anything which seems to do this.
Does anyone know whether there is already such a thing or is this an
opportunity to create my first candidate R package?
Thanks Nick Wray

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Wed Jan 11 13:54:47 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 11 Jan 2023 14:54:47 +0200
Subject: [R] Topological network Map
In-Reply-To: <CABxY9BOoZV-NUmcwZ5xqWYmH=Ez=OS5x7yV3Q=_WK9SF8MwNPg@mail.gmail.com>
References: <CABxY9BOoZV-NUmcwZ5xqWYmH=Ez=OS5x7yV3Q=_WK9SF8MwNPg@mail.gmail.com>
Message-ID: <CAGgJW75T7vzEwBaT_YjD9LejMQzpvi=_uzXsnWKWOkW4n3n1Wg@mail.gmail.com>

Google using "R package subway map"
produced
https://www.r-bloggers.com/2021/01/non-hierarchical-edge-bundling-flow-maps-and-metro-maps-in-r/

which looks promising

On Wed, Jan 11, 2023 at 2:48 PM Nick Wray <nickmwray at gmail.com> wrote:
>
> Hello I'd like to create a simple topological map of a river system, ie all
> the waterways, where they join and points on them such as gauging stations
> so that it looks something like the London Tube map - where distances are
> not important but the relationships of the nodes are.
> I could probably Heath-Robinson something together but I wondered whether
> there was any kind of package already out there to save me reinventing the
> wheel.  I've had a look but I can't find anything which seems to do this.
> Does anyone know whether there is already such a thing or is this an
> opportunity to create my first candidate R package?
> Thanks Nick Wray
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Wed Jan 11 17:13:57 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Wed, 11 Jan 2023 17:13:57 +0100
Subject: [R] gmp::bigq vs. MASS::fractions
In-Reply-To: <20230107195500.3ceb4d83@Tarkus>
References: <6c8a775d-b141-edc0-c222-fbeea1d5cb95@wiwi.hu-berlin.de>
 <20230107195500.3ceb4d83@Tarkus>
Message-ID: <9abe8ed4-6f3d-0f6d-0184-be70256de25c@wiwi.hu-berlin.de>

Hello,

Am 07.01.23 um 17:55 schrieb Ivan Krylov:
 > What do you need the fractions for?
 >

When writing tasks for statistics exams, I try to avoid non-terminal 
intermediate results. Students might round them and arrive at a final 
result that might be slightly different from the true value. Although 
the exam package supports a tolerance for checking the result, this 
could be problematic. To check if a number is non-terminal, I calculate 
a fraction representation and check if the denominator can be expressed 
by 2^p 5^q.

@Enrico: When I started developing assignments a few years ago, I was 
not familiar with gmp. :(

Thanks Sigbert


From @k@h@y_e4 @end|ng |rom hotm@||@com  Wed Jan 11 18:04:41 2023
From: @k@h@y_e4 @end|ng |rom hotm@||@com (akshay kulkarni)
Date: Wed, 11 Jan 2023 17:04:41 +0000
Subject: [R] return value of {....}
In-Reply-To: <CABcYAdKVMuvyg8ss8PTqDaGP4Pt6kmdfTYFnLgfLhQhF7dst_Q@mail.gmail.com>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <CABcYAdKVMuvyg8ss8PTqDaGP4Pt6kmdfTYFnLgfLhQhF7dst_Q@mail.gmail.com>
Message-ID: <PU4P216MB1568AC749BD19CFC3A19BC6CC8FC9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>

Dear Richard,
                        Thanks for your reply. As replied to Avi, i was not complaining, just inquiring: was just curious to know the rationale for the design of {...}, thas all...!

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI
________________________________
From: Richard O'Keefe <raoknz at gmail.com>
Sent: Wednesday, January 11, 2023 8:31 AM
To: akshay kulkarni <akshay_e4 at hotmail.com>
Cc: R help Mailing list <r-help at r-project.org>
Subject: Re: [R] return value of {....}

I am more than a little puzzled by your question.
In the construct {expr1; expr2; expr3} all of the
expressions expr1, expr2, and expr3 are evaluated,
in that order.  That's what curly braces are FOR.
When you want some expressions evaluated in a
specific order, that's why and when you use curly
braces.  If that's not what you want, don't use them.
Complaining about it is like complaining that + adds.


On Tue, 10 Jan 2023 at 03:47, akshay kulkarni <akshay_e4 at hotmail.com<mailto:akshay_e4 at hotmail.com>> wrote:
Dear members,
                             I have the following code:

> TB <- {x <- 3;y <- 5}
> TB
[1] 5

It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.

But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:

F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}

Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)

Thanking you,
Yours sincerely,
AKSHAY M KULKARNI

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jan 12 06:48:54 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 12 Jan 2023 05:48:54 +0000
Subject: [R] Reg: ggplot error
In-Reply-To: <CAEezrQR-fp+9+cbF3s7KLSoORFLXCO+JpE+pqvwE51EOXcuKig@mail.gmail.com>
References: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
 <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>
 <CAEezrQSaqVWPu-t7xUsSW_reKY42=pZQxUb4Qi6ywCBT_VoxBQ@mail.gmail.com>
 <b83e8f46715b492798c7cd0cae17f2ca@SRVEXCHCM1302.precheza.cz>
 <CAEezrQR-fp+9+cbF3s7KLSoORFLXCO+JpE+pqvwE51EOXcuKig@mail.gmail.com>
Message-ID: <ea9c7d0cf8e940e1a7388f96dce02e9b@SRVEXCHCM1302.precheza.cz>

Hallo

I am not familiar with any of packages you use (except of MASS and ggplot2) and the code is too complicated without any hint where the error could come from and what is the message you get. I wonder if anybody would like to go through your whole code.

1. data seems to be read correctly
ICUData <- read.csv(file = "ICUData.csv", stringsAsFactors = TRUE)
ICUData.neuro <- ICUData[ICUData$surgery == "neuro",]

2. ggplot(ICUData, aes(x=ICUData.neuro$LOS)) +
  geom_histogram(aes(y=after_stat(density)), binwidth = 5, 
                 fill = "darkgrey")

gives me error

Error in `check_aesthetics()`:
! Aesthetics must be either length 1 or the same as the data (500): x
Run `]8;;rstudio:run:rlang::last_error()rlang::last_error()]8;;` to see where the error occurred.

which, I believe, resulted from using whole ICUData in ggplot but only ICUData.neuro as aes value. Compare:

ggplot(ICUData.neuro, aes(x=ICUData.neuro$LOS)) +
  geom_histogram(aes(y=after_stat(density)), binwidth = 5,
                 fill = "darkgrey")

with

ggplot(ICUData, aes(x=ICUData.neuro$LOS)) +
  geom_histogram(aes(y=after_stat(density)), binwidth = 5,
                 fill = "darkgrey")

Cheers
Petr

And I do not provide private consulting so keep your posts to R help. Others may have much more insightful answers.


From: Upananda Pani <upananda.pani at gmail.com> 
Sent: Wednesday, January 11, 2023 2:43 PM
To: PIKAL Petr <petr.pikal at precheza.cz>
Subject: Re: [R] Reg: ggplot error

Hi Respected Member,

Please find attached.

Regards,
Upananda Pani

On Wed, Jan 11, 2023 at 6:07 PM PIKAL Petr <mailto:petr.pikal at precheza.cz> wrote:
Hi

Attachments are mostly removed from emails so they probably will not reach
r-help.

You said you get an error, which is the first place you should look at. It
can navigate you to the source of the error if you read it carefully.

Anyway, if your code is complicated it is difficult to understand and
decipher. So think about simplification and maybe you will find the error
source yourself during this simplification.

Cheers
Petr

> -----Original Message-----
> From: R-help <mailto:r-help-bounces at r-project.org> On Behalf Of Upananda Pani
> Sent: Wednesday, January 11, 2023 1:06 PM
> To: Eric Berger <mailto:ericjberger at gmail.com>
> Cc: r-help <mailto:r-help at r-project.org>
> Subject: Re: [R] Reg: ggplot error
> 
> I am sorry.
> 
> On Wed, Jan 11, 2023 at 5:32 PM Eric Berger <mailto:ericjberger at gmail.com> wrote:
> 
> > No code or data came through.
> > Please read the posting guidelines.
> >
> >
> > On Wed, Jan 11, 2023 at 1:38 PM Upananda Pani
> > <mailto:upananda.pani at gmail.com>
> > wrote:
> > >
> > > Dear All,
> > >
> > > I am using roptest  function of package "ROptEst" (Kohl and
> > > Ruckdeschel
> > > (2019)) to find out the ML, CvM-MD, and the RMX estimator and their
> > > asymptotic confidence intervals. I am assuming 1-5% of erroneous
> > > data for the RMX estimator.
> > >
> > > Then I am trying to Plot the data in the form of a histogram and add
> > > the three Gamma distribution densities with the estimated parameters
> > > and validate the three models additionally with pp- and qq-plots.
> > >
> > > I have tried to code it. I have attached the code and data. I am
> > > getting error while fitting ggplot to plot the distribution densities.
> > >
> > > I am doing some error which I am not able to correct. Please help me
> > > to find out my error.
> > >
> > > With sincere regards,
> > > Upananda Pani
> > > ______________________________________________
> > > mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
> 
>       [[alternative HTML version deleted]]
> 
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From @tyen @end|ng |rom ntu@edu@tw  Thu Jan 12 07:15:23 2023
From: @tyen @end|ng |rom ntu@edu@tw (Steven T. Yen)
Date: Thu, 12 Jan 2023 14:15:23 +0800
Subject: [R] Background for word
Message-ID: <3363b692-7cd7-e24b-f8bd-464e92b8a7f4@ntu.edu.tw>

Dear,

I am having a lucky day. I am programming in RStudio and when I type 
"black" (quotation signs included, the word turn into a word with black 
ground. Couldn't get rid of the background----copying to Word, Excel, 
text editor and paste back to Rstudio, the word is still in black 
background? Help!

 ??? dv.group<-c("black","othrrace"); cat.ref<-"white"


From bor|@@@te|pe @end|ng |rom utoronto@c@  Thu Jan 12 08:17:15 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Thu, 12 Jan 2023 07:17:15 +0000
Subject: [R] Background for word
In-Reply-To: <3363b692-7cd7-e24b-f8bd-464e92b8a7f4@ntu.edu.tw>
References: <3363b692-7cd7-e24b-f8bd-464e92b8a7f4@ntu.edu.tw>
Message-ID: <D6227D7D-E2A8-4092-8804-32D654997D88@utoronto.ca>

It's a new editor feature: see the release notes:

https://dailies.rstudio.com/version/2022.12.0+353.pro20/
? Code editor can show previews of color in strings (R named colors e.g. ?tomato3? or of the forms ?#rgb?, ?#rrggbb?, ?#rrggbbaa?) when Options > Code > Display > [ ] enable preview of named and hexadecimal colors is checked.

You can turn it off in the global preferences if it bothers you.
Tools > Global Options ... > Code > Display ... there is the checkbox mentioned above

I like it, it's really useful to set up colour ramps. 


Cheers,
Boris 


> On 2023-01-12, at 01:15, Steven T. Yen <styen at ntu.edu.tw> wrote:
> 
> Dear,
> 
> I am having a lucky day. I am programming in RStudio and when I type "black" (quotation signs included, the word turn into a word with black ground. Couldn't get rid of the background----copying to Word, Excel, text editor and paste back to Rstudio, the word is still in black background? Help!
> 
>     dv.group<-c("black","othrrace"); cat.ref<-"white"
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jan 12 08:51:11 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 12 Jan 2023 07:51:11 +0000
Subject: [R] Reg: ggplot error
In-Reply-To: <ea9c7d0cf8e940e1a7388f96dce02e9b@SRVEXCHCM1302.precheza.cz>
References: <CAEezrQQ-Y81MZfX5OOYLvH5ZGioJ2aZ3q-=pusWKPeEBTuL2eA@mail.gmail.com>
 <CAGgJW7657DZxsAgqAcT4B7_CrSv7cGWwz2QQszGObRGrpL_R7w@mail.gmail.com>
 <CAEezrQSaqVWPu-t7xUsSW_reKY42=pZQxUb4Qi6ywCBT_VoxBQ@mail.gmail.com>
 <b83e8f46715b492798c7cd0cae17f2ca@SRVEXCHCM1302.precheza.cz>
 <CAEezrQR-fp+9+cbF3s7KLSoORFLXCO+JpE+pqvwE51EOXcuKig@mail.gmail.com>
 <ea9c7d0cf8e940e1a7388f96dce02e9b@SRVEXCHCM1302.precheza.cz>
Message-ID: <0637e55d-21f2-3f7e-cae7-d4cbc8f0f8d4@sapo.pt>

?s 05:48 de 12/01/2023, PIKAL Petr escreveu:
> Hallo
> 
> I am not familiar with any of packages you use (except of MASS and ggplot2) and the code is too complicated without any hint where the error could come from and what is the message you get. I wonder if anybody would like to go through your whole code.
> 
> 1. data seems to be read correctly
> ICUData <- read.csv(file = "ICUData.csv", stringsAsFactors = TRUE)
> ICUData.neuro <- ICUData[ICUData$surgery == "neuro",]
> 
> 2. ggplot(ICUData, aes(x=ICUData.neuro$LOS)) +
>    geom_histogram(aes(y=after_stat(density)), binwidth = 5,
>                   fill = "darkgrey")
> 
> gives me error
> 
> Error in `check_aesthetics()`:
> ! Aesthetics must be either length 1 or the same as the data (500): x
> Run `]8;;rstudio:run:rlang::last_error()rlang::last_error()]8;;` to see where the error occurred.
> 
> which, I believe, resulted from using whole ICUData in ggplot but only ICUData.neuro as aes value. Compare:
> 
> ggplot(ICUData.neuro, aes(x=ICUData.neuro$LOS)) +
>    geom_histogram(aes(y=after_stat(density)), binwidth = 5,
>                   fill = "darkgrey")
> 
> with
> 
> ggplot(ICUData, aes(x=ICUData.neuro$LOS)) +
>    geom_histogram(aes(y=after_stat(density)), binwidth = 5,
>                   fill = "darkgrey")
> 
> Cheers
> Petr
> 
> And I do not provide private consulting so keep your posts to R help. Others may have much more insightful answers.
> 
> 
> From: Upananda Pani <upananda.pani at gmail.com>
> Sent: Wednesday, January 11, 2023 2:43 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Subject: Re: [R] Reg: ggplot error
> 
> Hi Respected Member,
> 
> Please find attached.
> 
> Regards,
> Upananda Pani
> 
> On Wed, Jan 11, 2023 at 6:07 PM PIKAL Petr <mailto:petr.pikal at precheza.cz> wrote:
> Hi
> 
> Attachments are mostly removed from emails so they probably will not reach
> r-help.
> 
> You said you get an error, which is the first place you should look at. It
> can navigate you to the source of the error if you read it carefully.
> 
> Anyway, if your code is complicated it is difficult to understand and
> decipher. So think about simplification and maybe you will find the error
> source yourself during this simplification.
> 
> Cheers
> Petr
> 
>> -----Original Message-----
>> From: R-help <mailto:r-help-bounces at r-project.org> On Behalf Of Upananda Pani
>> Sent: Wednesday, January 11, 2023 1:06 PM
>> To: Eric Berger <mailto:ericjberger at gmail.com>
>> Cc: r-help <mailto:r-help at r-project.org>
>> Subject: Re: [R] Reg: ggplot error
>>
>> I am sorry.
>>
>> On Wed, Jan 11, 2023 at 5:32 PM Eric Berger <mailto:ericjberger at gmail.com> wrote:
>>
>>> No code or data came through.
>>> Please read the posting guidelines.
>>>
>>>
>>> On Wed, Jan 11, 2023 at 1:38 PM Upananda Pani
>>> <mailto:upananda.pani at gmail.com>
>>> wrote:
>>>>
>>>> Dear All,
>>>>
>>>> I am using roptest  function of package "ROptEst" (Kohl and
>>>> Ruckdeschel
>>>> (2019)) to find out the ML, CvM-MD, and the RMX estimator and their
>>>> asymptotic confidence intervals. I am assuming 1-5% of erroneous
>>>> data for the RMX estimator.
>>>>
>>>> Then I am trying to Plot the data in the form of a histogram and add
>>>> the three Gamma distribution densities with the estimated parameters
>>>> and validate the three models additionally with pp- and qq-plots.
>>>>
>>>> I have tried to code it. I have attached the code and data. I am
>>>> getting error while fitting ggplot to plot the distribution densities.
>>>>
>>>> I am doing some error which I am not able to correct. Please help me
>>>> to find out my error.
>>>>
>>>> With sincere regards,
>>>> Upananda Pani
>>>> ______________________________________________
>>>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>>        [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
Hello,

This seems to be solvable with only the column name in aes().


ggplot(ICUData.neuro, aes(x = LOS)) +
   geom_histogram(aes(y = after_stat(density)), binwidth = 5, fill = 
"darkgrey")


Hope this helps,

Rui Barradas


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jan 12 09:00:06 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 12 Jan 2023 08:00:06 +0000
Subject: [R] Background for word
In-Reply-To: <3363b692-7cd7-e24b-f8bd-464e92b8a7f4@ntu.edu.tw>
References: <3363b692-7cd7-e24b-f8bd-464e92b8a7f4@ntu.edu.tw>
Message-ID: <f04c0396-71cb-9a27-92f9-9b410f022462@sapo.pt>

?s 06:15 de 12/01/2023, Steven T. Yen escreveu:
> Dear,
> 
> I am having a lucky day. I am programming in RStudio and when I type 
> "black" (quotation signs included, the word turn into a word with black 
> ground. Couldn't get rid of the background----copying to Word, Excel, 
> text editor and paste back to Rstudio, the word is still in black 
> background? Help!
> 
>  ??? dv.group<-c("black","othrrace"); cat.ref<-"white"
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

I had the same problem and asked the RStudio Community about it. The 
answer solved the problem.


https://community.rstudio.com/t/after-updating-rstudio-color-names-are-highlighted/155600


Hope this helps,

Rui Barradas


From r-p@ck@ge@ @end|ng |rom r-project@org  Wed Jan 11 19:41:56 2023
From: r-p@ck@ge@ @end|ng |rom r-project@org (Vivek Atal via R-packages)
Date: Wed, 11 Jan 2023 18:41:56 +0000 (UTC)
Subject: [R] [R-pkgs] New CRAN package announcement: azlogr
References: <1506840172.8984.1673462516211.ref@mail.yahoo.com>
Message-ID: <1506840172.8984.1673462516211@mail.yahoo.com>

I am excited to announce that `azlogr` is published on CRAN!
This package?enables logging in 'R' by extending the functionality of 'logger' package. There is an option to add additional custom meta-data while logging, which can sometimes be helpful.?Logging messages are displayed on console and optionally they are sent to 'Azure Log Analytics' workspace in real-time.
The package comes with a vignette, How to use azlogr, that (hopefully) provides a good introduction to using the functions for easy logging. Example usage below:
# Azure Log Analytics workspace id and shared key are fetched
# from environment variables.
Sys.setenv(AZ_LOG_ID = "<enter-your-Azure-Log-Analytics-workspace-id>")
Sys.setenv(AZ_LOG_KEY = "<enter-your-Azure-Log-Analytics-shared-key>")

library(azlogr)

# Optionally, add additional meta-data, `country` and `id`, to be collected
# while logging, on top of the default fields - 'level', 'time', 'msg'.
set_log_config(
  log_fields = c("level", "time", "msg"),
  additional_fields = list(country = "in", id = 123)
)

# Use logger_* functions with appropriate logging level to log.
# If POST is successful, then it will be available in custom log table on
# Azure Log Analytics, by default table name will be `log_from_r`_CL (_CL is
# added by Azure for any custom log table)
logger_info("log info sent to Azure")
#> {"level":"INFO","time":"2023-01-11 13:15:04","msg":"log info sent to Azure","country":"in","id":123}

# If the POST request is unsuccessful due to Azure credential issue, then log
# message is displayed on console and a warning is generated with error details.
logger_info("log info sent to Azure")
#> {"level":"INFO","time":"2023-01-11 13:15:04","msg":"log info sent to Azure","country":"in","id":123}
#> Warning message:
#> In logger_level(logger::INFO, ...) :
#>   Some error happened while sending POST request to 'Azure Log Analytics' workspace.
#> Error message: Error in curl::curl_fetch_memory(url, handle = handle) :
#>   Could not resolve host: abcd.ods.opinsights.azure.com
Many thanks to the author of?'logger' package,?and to the CRAN team for a speedy onboarding!

RegardsVivek Atal
	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From |eo@m@d@ @end|ng |rom @yon|c@eu  Thu Jan 12 21:14:45 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Thu, 12 Jan 2023 22:14:45 +0200
Subject: [R] return value of {....}
Message-ID: <bf2b6310-a43e-c46b-ff91-72e11f014f1b@syonic.eu>

Dear Akshay,

The best response was given by Andrew. "{...}" is not a closure.

This is unusual for someone used to C-type languages. But I will try to 
explain some of the rationale.

In the case that "{...}" was a closure, then external variables would 
need to be explicitly declared before the closure (in order to reuse 
those values):
intermediate = c()
{
 ??? intermediate = ...;
 ??? result = someFUN(intermediate);
}

1.) Interactive Sessions
This is cumbersome in interactive sessions. For example: you often 
compute the mean or the variance as intermediary results, and will need 
them later on as well. They could have been computed outside the 
"closure", but writing code in interactive sessions may not always be 
straightforward.

2.) Missing arguments
f = function(x, y) {
 ??? if(missing(y)) {
 ?? ?? ? # assuming x = matrix
 ??? ??? y = x[,2]; x = x[,1];
 ??? }
}
It would be much more cumbersome to define/use a temporary tempY.

I hope this gives a better perspective why this is indeed a useful 
feature - even if it is counterintuitive.

Sincerely,

Leonard


From ro@||n@ump @end|ng |rom gm@||@com  Fri Jan 13 06:11:30 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Fri, 13 Jan 2023 13:11:30 +0800
Subject: [R] Customise Plot tick label on time series plot using date series
Message-ID: <CANTvJZKHgwQA+CzXhnfSd3zfnFG4hx7mA_mr7zkpCGvLLrBJug@mail.gmail.com>

Hi,

I would like to customise my date series on the plot. I tried this:

dt_ts <- ts(dt)
autoplot(dt_ts[,2]) + ylab("Charge counts") + xlab("Daily")

but the label is not the date series.

Tqvm for any help given.


> dput(dt)
structure(list(time = c("1/1/2014", "2/1/2014", "3/1/2014", "4/1/2014",
"5/1/2014", "6/1/2014", "7/1/2014", "8/1/2014", "9/1/2014", "10/1/2014",
"11/1/2014", "12/1/2014", "13/1/2014", "14/1/2014", "15/1/2014",
"16/1/2014", "17/1/2014", "18/1/2014", "19/1/2014", "20/1/2014",
"21/1/2014", "22/1/2014", "23/1/2014", "24/1/2014", "25/1/2014",
"26/1/2014", "27/1/2014", "28/1/2014", "29/1/2014", "30/1/2014",
"31/1/2014", "1/2/2014", "2/2/2014", "3/2/2014", "4/2/2014",
"5/2/2014", "6/2/2014", "7/2/2014", "8/2/2014", "9/2/2014", "10/2/2014",
"11/2/2014", "12/2/2014", "13/2/2014", "14/2/2014", "15/2/2014",
"16/2/2014", "17/2/2014", "18/2/2014", "19/2/2014", "20/2/2014",
"21/2/2014", "22/2/2014", "23/2/2014", "24/2/2014", "25/2/2014",
"26/2/2014", "27/2/2014", "28/2/2014", "1/3/2014", "2/3/2014",
"3/3/2014", "4/3/2014", "5/3/2014", "6/3/2014", "7/3/2014", "8/3/2014",
"9/3/2014", "10/3/2014", "11/3/2014", "12/3/2014", "13/3/2014",
"14/3/2014", "15/3/2014", "16/3/2014", "17/3/2014", "18/3/2014",
"19/3/2014", "20/3/2014", "21/3/2014", "22/3/2014", "23/3/2014",
"24/3/2014", "25/3/2014", "26/3/2014", "27/3/2014", "28/3/2014",
"29/3/2014", "30/3/2014", "31/3/2014", "1/4/2014", "2/4/2014",
"3/4/2014", "4/4/2014", "5/4/2014", "6/4/2014", "7/4/2014", "8/4/2014",
"9/4/2014", "10/4/2014", "11/4/2014", "12/4/2014", "13/4/2014",
"14/4/2014", "15/4/2014", "16/4/2014", "17/4/2014", "18/4/2014",
"19/4/2014", "20/4/2014", "21/4/2014", "22/4/2014", "23/4/2014",
"24/4/2014", "25/4/2014", "26/4/2014", "27/4/2014", "28/4/2014",
"29/4/2014", "30/4/2014", "1/5/2014", "2/5/2014", "3/5/2014",
"4/5/2014", "5/5/2014", "6/5/2014", "7/5/2014", "8/5/2014", "9/5/2014",
"10/5/2014", "11/5/2014", "12/5/2014", "13/5/2014", "14/5/2014",
"15/5/2014", "16/5/2014", "17/5/2014", "18/5/2014", "19/5/2014",
"20/5/2014", "21/5/2014", "22/5/2014", "23/5/2014", "24/5/2014",
"25/5/2014", "26/5/2014", "27/5/2014", "28/5/2014", "29/5/2014",
"30/5/2014", "31/5/2014", "1/6/2014", "2/6/2014", "3/6/2014",
"4/6/2014", "5/6/2014", "6/6/2014", "7/6/2014", "8/6/2014", "9/6/2014",
"10/6/2014", "11/6/2014", "12/6/2014", "13/6/2014", "14/6/2014",
"15/6/2014", "16/6/2014", "17/6/2014", "18/6/2014", "19/6/2014",
"20/6/2014", "21/6/2014", "22/6/2014", "23/6/2014", "24/6/2014",
"25/6/2014", "26/6/2014", "27/6/2014", "28/6/2014", "29/6/2014",
"30/6/2014", "1/7/2014", "2/7/2014", "3/7/2014", "4/7/2014",
"5/7/2014", "6/7/2014", "7/7/2014", "8/7/2014", "9/7/2014", "10/7/2014",
"11/7/2014", "12/7/2014", "13/7/2014", "14/7/2014", "15/7/2014",
"16/7/2014", "17/7/2014", "18/7/2014", "19/7/2014", "20/7/2014",
"21/7/2014", "22/7/2014", "23/7/2014", "24/7/2014", "25/7/2014",
"26/7/2014", "27/7/2014", "28/7/2014", "29/7/2014", "30/7/2014",
"31/7/2014", "1/8/2014", "2/8/2014", "3/8/2014", "4/8/2014",
"5/8/2014", "6/8/2014", "7/8/2014", "8/8/2014", "9/8/2014", "10/8/2014",
"11/8/2014", "12/8/2014", "13/8/2014", "14/8/2014", "15/8/2014",
"16/8/2014", "17/8/2014", "18/8/2014", "19/8/2014", "20/8/2014",
"21/8/2014", "22/8/2014", "23/8/2014", "24/8/2014", "25/8/2014",
"26/8/2014", "27/8/2014", "28/8/2014", "29/8/2014", "30/8/2014",
"31/8/2014", "1/9/2014", "2/9/2014", "3/9/2014", "4/9/2014",
"5/9/2014", "6/9/2014", "7/9/2014", "8/9/2014", "9/9/2014", "10/9/2014",
"11/9/2014", "12/9/2014", "13/9/2014", "14/9/2014", "15/9/2014",
"16/9/2014", "17/9/2014", "18/9/2014", "19/9/2014", "20/9/2014",
"21/9/2014", "22/9/2014", "23/9/2014", "24/9/2014", "25/9/2014",
"26/9/2014", "27/9/2014", "28/9/2014", "29/9/2014", "30/9/2014",
"1/10/2014", "2/10/2014", "3/10/2014", "4/10/2014", "5/10/2014",
"6/10/2014", "7/10/2014", "8/10/2014", "9/10/2014", "10/10/2014",
"11/10/2014", "12/10/2014", "13/10/2014", "14/10/2014", "15/10/2014",
"16/10/2014", "17/10/2014", "18/10/2014", "19/10/2014", "20/10/2014",
"21/10/2014", "22/10/2014", "23/10/2014", "24/10/2014", "25/10/2014",
"26/10/2014", "27/10/2014", "28/10/2014", "29/10/2014", "30/10/2014",
"31/10/2014", "1/11/2014", "2/11/2014", "3/11/2014", "4/11/2014",
"5/11/2014", "6/11/2014", "7/11/2014", "8/11/2014", "9/11/2014",
"10/11/2014", "11/11/2014", "12/11/2014", "13/11/2014", "14/11/2014",
"15/11/2014", "16/11/2014", "17/11/2014", "18/11/2014", "19/11/2014",
"20/11/2014", "21/11/2014", "22/11/2014", "23/11/2014", "24/11/2014",
"25/11/2014", "26/11/2014", "27/11/2014", "28/11/2014", "29/11/2014",
"30/11/2014", "1/12/2014", "2/12/2014", "3/12/2014", "4/12/2014",
"5/12/2014", "6/12/2014", "7/12/2014", "8/12/2014", "9/12/2014",
"10/12/2014", "11/12/2014", "12/12/2014", "13/12/2014", "14/12/2014",
"15/12/2014"), cnt_charge_events = c(2L, 3L, 4L, 3L, 5L, 6L,
3L, 5L, 4L, 4L, 6L, 5L, 3L, 3L, 3L, 4L, 7L, 5L, 5L, 5L, 5L, 5L,
4L, 5L, 5L, 6L, 8L, 7L, 4L, 4L, 5L, 4L, 9L, 7L, 7L, 5L, 6L, 10L,
8L, 7L, 10L, 8L, 8L, 10L, 12L, 8L, 10L, 13L, 11L, 9L, 14L, 9L,
11L, 11L, 15L, 15L, 15L, 13L, 17L, 14L, 12L, 20L, 13L, 16L, 16L,
10L, 11L, 12L, 16L, 12L, 15L, 18L, 14L, 9L, 15L, 15L, 16L, 16L,
15L, 15L, 22L, 15L, 16L, 21L, 22L, 19L, 18L, 15L, 17L, 19L, 24L,
23L, 21L, 22L, 15L, 18L, 15L, 17L, 20L, 16L, 13L, 12L, 17L, 14L,
15L, 15L, 19L, 13L, 18L, 11L, 17L, 20L, 23L, 19L, 22L, 20L, 19L,
25L, 21L, 32L, 24L, 20L, 14L, 18L, 17L, 22L, 24L, 24L, 23L, 21L,
21L, 21L, 29L, 25L, 22L, 22L, 17L, 19L, 27L, 28L, 29L, 33L, 28L,
20L, 15L, 16L, 21L, 36L, 28L, 24L, 21L, 21L, 24L, 34L, 29L, 36L,
28L, 23L, 25L, 29L, 28L, 38L, 29L, 23L, 23L, 29L, 25L, 36L, 33L,
26L, 23L, 17L, 20L, 33L, 28L, 33L, 31L, 24L, 17L, 29L, 28L, 32L,
43L, 31L, 27L, 21L, 23L, 26L, 32L, 31L, 34L, 26L, 24L, 24L, 26L,
35L, 34L, 33L, 27L, 23L, 25L, 27L, 31L, 34L, 38L, 24L, 23L, 27L,
40L, 32L, 27L, 34L, 33L, 28L, 23L, 30L, 33L, 28L, 33L, 30L, 23L,
31L, 29L, 34L, 33L, 33L, 27L, 23L, 24L, 38L, 33L, 32L, 39L, 35L,
24L, 28L, 27L, 40L, 42L, 37L, 30L, 21L, 22L, 41L, 36L, 41L, 37L,
36L, 26L, 29L, 35L, 39L, 39L, 48L, 38L, 27L, 34L, 49L, 45L, 52L,
42L, 40L, 27L, 36L, 42L, 51L, 46L, 52L, 39L, 29L, 33L, 39L, 48L,
39L, 50L, 39L, 36L, 37L, 52L, 51L, 50L, 49L, 38L, 33L, 38L, 59L,
55L, 43L, 43L, 37L, 25L, 31L, 32L, 48L, 51L, 49L, 37L, 33L, 23L,
40L, 39L, 49L, 43L, 37L, 30L, 41L, 56L, 54L, 53L, 51L, 46L, 37L,
34L, 56L, 59L, 54L, 50L, 48L, 40L, 39L, 49L, 57L, 51L, 54L, 51L,
37L, 48L, 55L, 64L, 56L, 51L, 47L, 37L, 37L, 55L, 59L, 52L, 57L,
52L, 45L, 42L, 55L, 66L, 59L, 53L, 50L, 40L, 39L, 53L)), class =
"data.frame", row.names = c(NA,
-349L))
-- 
*Roslina Zakaria*

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jan 13 08:35:52 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 13 Jan 2023 07:35:52 +0000
Subject: [R] 
 Customise Plot tick label on time series plot using date series
In-Reply-To: <CANTvJZKHgwQA+CzXhnfSd3zfnFG4hx7mA_mr7zkpCGvLLrBJug@mail.gmail.com>
References: <CANTvJZKHgwQA+CzXhnfSd3zfnFG4hx7mA_mr7zkpCGvLLrBJug@mail.gmail.com>
Message-ID: <3861885d-d25d-3de8-2cc0-5d962cfb3745@sapo.pt>

?s 05:11 de 13/01/2023, roslinazairimah zakaria escreveu:
> Hi,
> 
> I would like to customise my date series on the plot. I tried this:
> 
> dt_ts <- ts(dt)
> autoplot(dt_ts[,2]) + ylab("Charge counts") + xlab("Daily")
> 
> but the label is not the date series.
> 
> Tqvm for any help given.
> 
> 
>> dput(dt)
> structure(list(time = c("1/1/2014", "2/1/2014", "3/1/2014", "4/1/2014",
> "5/1/2014", "6/1/2014", "7/1/2014", "8/1/2014", "9/1/2014", "10/1/2014",
> "11/1/2014", "12/1/2014", "13/1/2014", "14/1/2014", "15/1/2014",
> "16/1/2014", "17/1/2014", "18/1/2014", "19/1/2014", "20/1/2014",
> "21/1/2014", "22/1/2014", "23/1/2014", "24/1/2014", "25/1/2014",
> "26/1/2014", "27/1/2014", "28/1/2014", "29/1/2014", "30/1/2014",
> "31/1/2014", "1/2/2014", "2/2/2014", "3/2/2014", "4/2/2014",
> "5/2/2014", "6/2/2014", "7/2/2014", "8/2/2014", "9/2/2014", "10/2/2014",
> "11/2/2014", "12/2/2014", "13/2/2014", "14/2/2014", "15/2/2014",
> "16/2/2014", "17/2/2014", "18/2/2014", "19/2/2014", "20/2/2014",
> "21/2/2014", "22/2/2014", "23/2/2014", "24/2/2014", "25/2/2014",
> "26/2/2014", "27/2/2014", "28/2/2014", "1/3/2014", "2/3/2014",
> "3/3/2014", "4/3/2014", "5/3/2014", "6/3/2014", "7/3/2014", "8/3/2014",
> "9/3/2014", "10/3/2014", "11/3/2014", "12/3/2014", "13/3/2014",
> "14/3/2014", "15/3/2014", "16/3/2014", "17/3/2014", "18/3/2014",
> "19/3/2014", "20/3/2014", "21/3/2014", "22/3/2014", "23/3/2014",
> "24/3/2014", "25/3/2014", "26/3/2014", "27/3/2014", "28/3/2014",
> "29/3/2014", "30/3/2014", "31/3/2014", "1/4/2014", "2/4/2014",
> "3/4/2014", "4/4/2014", "5/4/2014", "6/4/2014", "7/4/2014", "8/4/2014",
> "9/4/2014", "10/4/2014", "11/4/2014", "12/4/2014", "13/4/2014",
> "14/4/2014", "15/4/2014", "16/4/2014", "17/4/2014", "18/4/2014",
> "19/4/2014", "20/4/2014", "21/4/2014", "22/4/2014", "23/4/2014",
> "24/4/2014", "25/4/2014", "26/4/2014", "27/4/2014", "28/4/2014",
> "29/4/2014", "30/4/2014", "1/5/2014", "2/5/2014", "3/5/2014",
> "4/5/2014", "5/5/2014", "6/5/2014", "7/5/2014", "8/5/2014", "9/5/2014",
> "10/5/2014", "11/5/2014", "12/5/2014", "13/5/2014", "14/5/2014",
> "15/5/2014", "16/5/2014", "17/5/2014", "18/5/2014", "19/5/2014",
> "20/5/2014", "21/5/2014", "22/5/2014", "23/5/2014", "24/5/2014",
> "25/5/2014", "26/5/2014", "27/5/2014", "28/5/2014", "29/5/2014",
> "30/5/2014", "31/5/2014", "1/6/2014", "2/6/2014", "3/6/2014",
> "4/6/2014", "5/6/2014", "6/6/2014", "7/6/2014", "8/6/2014", "9/6/2014",
> "10/6/2014", "11/6/2014", "12/6/2014", "13/6/2014", "14/6/2014",
> "15/6/2014", "16/6/2014", "17/6/2014", "18/6/2014", "19/6/2014",
> "20/6/2014", "21/6/2014", "22/6/2014", "23/6/2014", "24/6/2014",
> "25/6/2014", "26/6/2014", "27/6/2014", "28/6/2014", "29/6/2014",
> "30/6/2014", "1/7/2014", "2/7/2014", "3/7/2014", "4/7/2014",
> "5/7/2014", "6/7/2014", "7/7/2014", "8/7/2014", "9/7/2014", "10/7/2014",
> "11/7/2014", "12/7/2014", "13/7/2014", "14/7/2014", "15/7/2014",
> "16/7/2014", "17/7/2014", "18/7/2014", "19/7/2014", "20/7/2014",
> "21/7/2014", "22/7/2014", "23/7/2014", "24/7/2014", "25/7/2014",
> "26/7/2014", "27/7/2014", "28/7/2014", "29/7/2014", "30/7/2014",
> "31/7/2014", "1/8/2014", "2/8/2014", "3/8/2014", "4/8/2014",
> "5/8/2014", "6/8/2014", "7/8/2014", "8/8/2014", "9/8/2014", "10/8/2014",
> "11/8/2014", "12/8/2014", "13/8/2014", "14/8/2014", "15/8/2014",
> "16/8/2014", "17/8/2014", "18/8/2014", "19/8/2014", "20/8/2014",
> "21/8/2014", "22/8/2014", "23/8/2014", "24/8/2014", "25/8/2014",
> "26/8/2014", "27/8/2014", "28/8/2014", "29/8/2014", "30/8/2014",
> "31/8/2014", "1/9/2014", "2/9/2014", "3/9/2014", "4/9/2014",
> "5/9/2014", "6/9/2014", "7/9/2014", "8/9/2014", "9/9/2014", "10/9/2014",
> "11/9/2014", "12/9/2014", "13/9/2014", "14/9/2014", "15/9/2014",
> "16/9/2014", "17/9/2014", "18/9/2014", "19/9/2014", "20/9/2014",
> "21/9/2014", "22/9/2014", "23/9/2014", "24/9/2014", "25/9/2014",
> "26/9/2014", "27/9/2014", "28/9/2014", "29/9/2014", "30/9/2014",
> "1/10/2014", "2/10/2014", "3/10/2014", "4/10/2014", "5/10/2014",
> "6/10/2014", "7/10/2014", "8/10/2014", "9/10/2014", "10/10/2014",
> "11/10/2014", "12/10/2014", "13/10/2014", "14/10/2014", "15/10/2014",
> "16/10/2014", "17/10/2014", "18/10/2014", "19/10/2014", "20/10/2014",
> "21/10/2014", "22/10/2014", "23/10/2014", "24/10/2014", "25/10/2014",
> "26/10/2014", "27/10/2014", "28/10/2014", "29/10/2014", "30/10/2014",
> "31/10/2014", "1/11/2014", "2/11/2014", "3/11/2014", "4/11/2014",
> "5/11/2014", "6/11/2014", "7/11/2014", "8/11/2014", "9/11/2014",
> "10/11/2014", "11/11/2014", "12/11/2014", "13/11/2014", "14/11/2014",
> "15/11/2014", "16/11/2014", "17/11/2014", "18/11/2014", "19/11/2014",
> "20/11/2014", "21/11/2014", "22/11/2014", "23/11/2014", "24/11/2014",
> "25/11/2014", "26/11/2014", "27/11/2014", "28/11/2014", "29/11/2014",
> "30/11/2014", "1/12/2014", "2/12/2014", "3/12/2014", "4/12/2014",
> "5/12/2014", "6/12/2014", "7/12/2014", "8/12/2014", "9/12/2014",
> "10/12/2014", "11/12/2014", "12/12/2014", "13/12/2014", "14/12/2014",
> "15/12/2014"), cnt_charge_events = c(2L, 3L, 4L, 3L, 5L, 6L,
> 3L, 5L, 4L, 4L, 6L, 5L, 3L, 3L, 3L, 4L, 7L, 5L, 5L, 5L, 5L, 5L,
> 4L, 5L, 5L, 6L, 8L, 7L, 4L, 4L, 5L, 4L, 9L, 7L, 7L, 5L, 6L, 10L,
> 8L, 7L, 10L, 8L, 8L, 10L, 12L, 8L, 10L, 13L, 11L, 9L, 14L, 9L,
> 11L, 11L, 15L, 15L, 15L, 13L, 17L, 14L, 12L, 20L, 13L, 16L, 16L,
> 10L, 11L, 12L, 16L, 12L, 15L, 18L, 14L, 9L, 15L, 15L, 16L, 16L,
> 15L, 15L, 22L, 15L, 16L, 21L, 22L, 19L, 18L, 15L, 17L, 19L, 24L,
> 23L, 21L, 22L, 15L, 18L, 15L, 17L, 20L, 16L, 13L, 12L, 17L, 14L,
> 15L, 15L, 19L, 13L, 18L, 11L, 17L, 20L, 23L, 19L, 22L, 20L, 19L,
> 25L, 21L, 32L, 24L, 20L, 14L, 18L, 17L, 22L, 24L, 24L, 23L, 21L,
> 21L, 21L, 29L, 25L, 22L, 22L, 17L, 19L, 27L, 28L, 29L, 33L, 28L,
> 20L, 15L, 16L, 21L, 36L, 28L, 24L, 21L, 21L, 24L, 34L, 29L, 36L,
> 28L, 23L, 25L, 29L, 28L, 38L, 29L, 23L, 23L, 29L, 25L, 36L, 33L,
> 26L, 23L, 17L, 20L, 33L, 28L, 33L, 31L, 24L, 17L, 29L, 28L, 32L,
> 43L, 31L, 27L, 21L, 23L, 26L, 32L, 31L, 34L, 26L, 24L, 24L, 26L,
> 35L, 34L, 33L, 27L, 23L, 25L, 27L, 31L, 34L, 38L, 24L, 23L, 27L,
> 40L, 32L, 27L, 34L, 33L, 28L, 23L, 30L, 33L, 28L, 33L, 30L, 23L,
> 31L, 29L, 34L, 33L, 33L, 27L, 23L, 24L, 38L, 33L, 32L, 39L, 35L,
> 24L, 28L, 27L, 40L, 42L, 37L, 30L, 21L, 22L, 41L, 36L, 41L, 37L,
> 36L, 26L, 29L, 35L, 39L, 39L, 48L, 38L, 27L, 34L, 49L, 45L, 52L,
> 42L, 40L, 27L, 36L, 42L, 51L, 46L, 52L, 39L, 29L, 33L, 39L, 48L,
> 39L, 50L, 39L, 36L, 37L, 52L, 51L, 50L, 49L, 38L, 33L, 38L, 59L,
> 55L, 43L, 43L, 37L, 25L, 31L, 32L, 48L, 51L, 49L, 37L, 33L, 23L,
> 40L, 39L, 49L, 43L, 37L, 30L, 41L, 56L, 54L, 53L, 51L, 46L, 37L,
> 34L, 56L, 59L, 54L, 50L, 48L, 40L, 39L, 49L, 57L, 51L, 54L, 51L,
> 37L, 48L, 55L, 64L, 56L, 51L, 47L, 37L, 37L, 55L, 59L, 52L, 57L,
> 52L, 45L, 42L, 55L, 66L, 59L, 53L, 50L, 40L, 39L, 53L)), class =
> "data.frame", row.names = c(NA,
> -349L))

Hello,

There are two main problems with your code:

1. The time column is not a date, it's a character column. Start by 
coercing it to a real date class.

2. autoplot is a ggplot2 function and it does not support objects of 
class "ts", you should first coerce the data set dt to class "zoo" or to 
class "xts". In the code below I will coerce to class "zoo".


# When calling non-base functions
# always start the scripts by loading
# the packages where those functions
# can be found
library(ggplot2)
library(zoo)

# coerce the time column to class "Date"
dt$time <- as.Date(dt$time, "%d/%m/%Y")
str(dt)
# 'data.frame':	349 obs. of  2 variables:
#  $ time             : Date, format: "2014-01-01" ...
#  $ cnt_charge_events: int  2 3 4 3 5 6 3 5 4 4 ...


# now coerce the time series to a "zoo" time series
dt_ts <- zoo(dt$cnt_charge_events, order.by = dt$time)

# the x axis labels are right, quarterly date breaks are automatic
# and plot the object dt_ts, not its second column dt_ts[,2]
autoplot(dt_ts) +
   xlab("Daily") +
   ylab("Charge counts")


# scale_x_date allows for custom breaks and labels,
# here monthly breaks and the same labels format
# with more axis labels they need to be rotated in order to be readable
# (as a side note I have displayed the axis labels in one instruction only)
autoplot(dt_ts) +
   labs(x = "Daily", y = "Charge counts") +
   scale_x_date(date_breaks = "1 month", date_labels = "%b %Y") +
   theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1))



Hope this helps,

Rui Barradas


From ro@||n@ump @end|ng |rom gm@||@com  Fri Jan 13 10:34:34 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Fri, 13 Jan 2023 17:34:34 +0800
Subject: [R] 
 Customise Plot tick label on time series plot using date series
In-Reply-To: <3861885d-d25d-3de8-2cc0-5d962cfb3745@sapo.pt>
References: <CANTvJZKHgwQA+CzXhnfSd3zfnFG4hx7mA_mr7zkpCGvLLrBJug@mail.gmail.com>
 <3861885d-d25d-3de8-2cc0-5d962cfb3745@sapo.pt>
Message-ID: <CANTvJZ+zqC2NdvFu7A-LjAdr_gnz7y-ac5zZpEUH7dkEM6zTXw@mail.gmail.com>

Hi Rui,

Thank you very much. It works beautifully.

On Fri, Jan 13, 2023 at 3:36 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> ?s 05:11 de 13/01/2023, roslinazairimah zakaria escreveu:
> > Hi,
> >
> > I would like to customise my date series on the plot. I tried this:
> >
> > dt_ts <- ts(dt)
> > autoplot(dt_ts[,2]) + ylab("Charge counts") + xlab("Daily")
> >
> > but the label is not the date series.
> >
> > Tqvm for any help given.
> >
> >
> >> dput(dt)
> > structure(list(time = c("1/1/2014", "2/1/2014", "3/1/2014", "4/1/2014",
> > "5/1/2014", "6/1/2014", "7/1/2014", "8/1/2014", "9/1/2014", "10/1/2014",
> > "11/1/2014", "12/1/2014", "13/1/2014", "14/1/2014", "15/1/2014",
> > "16/1/2014", "17/1/2014", "18/1/2014", "19/1/2014", "20/1/2014",
> > "21/1/2014", "22/1/2014", "23/1/2014", "24/1/2014", "25/1/2014",
> > "26/1/2014", "27/1/2014", "28/1/2014", "29/1/2014", "30/1/2014",
> > "31/1/2014", "1/2/2014", "2/2/2014", "3/2/2014", "4/2/2014",
> > "5/2/2014", "6/2/2014", "7/2/2014", "8/2/2014", "9/2/2014", "10/2/2014",
> > "11/2/2014", "12/2/2014", "13/2/2014", "14/2/2014", "15/2/2014",
> > "16/2/2014", "17/2/2014", "18/2/2014", "19/2/2014", "20/2/2014",
> > "21/2/2014", "22/2/2014", "23/2/2014", "24/2/2014", "25/2/2014",
> > "26/2/2014", "27/2/2014", "28/2/2014", "1/3/2014", "2/3/2014",
> > "3/3/2014", "4/3/2014", "5/3/2014", "6/3/2014", "7/3/2014", "8/3/2014",
> > "9/3/2014", "10/3/2014", "11/3/2014", "12/3/2014", "13/3/2014",
> > "14/3/2014", "15/3/2014", "16/3/2014", "17/3/2014", "18/3/2014",
> > "19/3/2014", "20/3/2014", "21/3/2014", "22/3/2014", "23/3/2014",
> > "24/3/2014", "25/3/2014", "26/3/2014", "27/3/2014", "28/3/2014",
> > "29/3/2014", "30/3/2014", "31/3/2014", "1/4/2014", "2/4/2014",
> > "3/4/2014", "4/4/2014", "5/4/2014", "6/4/2014", "7/4/2014", "8/4/2014",
> > "9/4/2014", "10/4/2014", "11/4/2014", "12/4/2014", "13/4/2014",
> > "14/4/2014", "15/4/2014", "16/4/2014", "17/4/2014", "18/4/2014",
> > "19/4/2014", "20/4/2014", "21/4/2014", "22/4/2014", "23/4/2014",
> > "24/4/2014", "25/4/2014", "26/4/2014", "27/4/2014", "28/4/2014",
> > "29/4/2014", "30/4/2014", "1/5/2014", "2/5/2014", "3/5/2014",
> > "4/5/2014", "5/5/2014", "6/5/2014", "7/5/2014", "8/5/2014", "9/5/2014",
> > "10/5/2014", "11/5/2014", "12/5/2014", "13/5/2014", "14/5/2014",
> > "15/5/2014", "16/5/2014", "17/5/2014", "18/5/2014", "19/5/2014",
> > "20/5/2014", "21/5/2014", "22/5/2014", "23/5/2014", "24/5/2014",
> > "25/5/2014", "26/5/2014", "27/5/2014", "28/5/2014", "29/5/2014",
> > "30/5/2014", "31/5/2014", "1/6/2014", "2/6/2014", "3/6/2014",
> > "4/6/2014", "5/6/2014", "6/6/2014", "7/6/2014", "8/6/2014", "9/6/2014",
> > "10/6/2014", "11/6/2014", "12/6/2014", "13/6/2014", "14/6/2014",
> > "15/6/2014", "16/6/2014", "17/6/2014", "18/6/2014", "19/6/2014",
> > "20/6/2014", "21/6/2014", "22/6/2014", "23/6/2014", "24/6/2014",
> > "25/6/2014", "26/6/2014", "27/6/2014", "28/6/2014", "29/6/2014",
> > "30/6/2014", "1/7/2014", "2/7/2014", "3/7/2014", "4/7/2014",
> > "5/7/2014", "6/7/2014", "7/7/2014", "8/7/2014", "9/7/2014", "10/7/2014",
> > "11/7/2014", "12/7/2014", "13/7/2014", "14/7/2014", "15/7/2014",
> > "16/7/2014", "17/7/2014", "18/7/2014", "19/7/2014", "20/7/2014",
> > "21/7/2014", "22/7/2014", "23/7/2014", "24/7/2014", "25/7/2014",
> > "26/7/2014", "27/7/2014", "28/7/2014", "29/7/2014", "30/7/2014",
> > "31/7/2014", "1/8/2014", "2/8/2014", "3/8/2014", "4/8/2014",
> > "5/8/2014", "6/8/2014", "7/8/2014", "8/8/2014", "9/8/2014", "10/8/2014",
> > "11/8/2014", "12/8/2014", "13/8/2014", "14/8/2014", "15/8/2014",
> > "16/8/2014", "17/8/2014", "18/8/2014", "19/8/2014", "20/8/2014",
> > "21/8/2014", "22/8/2014", "23/8/2014", "24/8/2014", "25/8/2014",
> > "26/8/2014", "27/8/2014", "28/8/2014", "29/8/2014", "30/8/2014",
> > "31/8/2014", "1/9/2014", "2/9/2014", "3/9/2014", "4/9/2014",
> > "5/9/2014", "6/9/2014", "7/9/2014", "8/9/2014", "9/9/2014", "10/9/2014",
> > "11/9/2014", "12/9/2014", "13/9/2014", "14/9/2014", "15/9/2014",
> > "16/9/2014", "17/9/2014", "18/9/2014", "19/9/2014", "20/9/2014",
> > "21/9/2014", "22/9/2014", "23/9/2014", "24/9/2014", "25/9/2014",
> > "26/9/2014", "27/9/2014", "28/9/2014", "29/9/2014", "30/9/2014",
> > "1/10/2014", "2/10/2014", "3/10/2014", "4/10/2014", "5/10/2014",
> > "6/10/2014", "7/10/2014", "8/10/2014", "9/10/2014", "10/10/2014",
> > "11/10/2014", "12/10/2014", "13/10/2014", "14/10/2014", "15/10/2014",
> > "16/10/2014", "17/10/2014", "18/10/2014", "19/10/2014", "20/10/2014",
> > "21/10/2014", "22/10/2014", "23/10/2014", "24/10/2014", "25/10/2014",
> > "26/10/2014", "27/10/2014", "28/10/2014", "29/10/2014", "30/10/2014",
> > "31/10/2014", "1/11/2014", "2/11/2014", "3/11/2014", "4/11/2014",
> > "5/11/2014", "6/11/2014", "7/11/2014", "8/11/2014", "9/11/2014",
> > "10/11/2014", "11/11/2014", "12/11/2014", "13/11/2014", "14/11/2014",
> > "15/11/2014", "16/11/2014", "17/11/2014", "18/11/2014", "19/11/2014",
> > "20/11/2014", "21/11/2014", "22/11/2014", "23/11/2014", "24/11/2014",
> > "25/11/2014", "26/11/2014", "27/11/2014", "28/11/2014", "29/11/2014",
> > "30/11/2014", "1/12/2014", "2/12/2014", "3/12/2014", "4/12/2014",
> > "5/12/2014", "6/12/2014", "7/12/2014", "8/12/2014", "9/12/2014",
> > "10/12/2014", "11/12/2014", "12/12/2014", "13/12/2014", "14/12/2014",
> > "15/12/2014"), cnt_charge_events = c(2L, 3L, 4L, 3L, 5L, 6L,
> > 3L, 5L, 4L, 4L, 6L, 5L, 3L, 3L, 3L, 4L, 7L, 5L, 5L, 5L, 5L, 5L,
> > 4L, 5L, 5L, 6L, 8L, 7L, 4L, 4L, 5L, 4L, 9L, 7L, 7L, 5L, 6L, 10L,
> > 8L, 7L, 10L, 8L, 8L, 10L, 12L, 8L, 10L, 13L, 11L, 9L, 14L, 9L,
> > 11L, 11L, 15L, 15L, 15L, 13L, 17L, 14L, 12L, 20L, 13L, 16L, 16L,
> > 10L, 11L, 12L, 16L, 12L, 15L, 18L, 14L, 9L, 15L, 15L, 16L, 16L,
> > 15L, 15L, 22L, 15L, 16L, 21L, 22L, 19L, 18L, 15L, 17L, 19L, 24L,
> > 23L, 21L, 22L, 15L, 18L, 15L, 17L, 20L, 16L, 13L, 12L, 17L, 14L,
> > 15L, 15L, 19L, 13L, 18L, 11L, 17L, 20L, 23L, 19L, 22L, 20L, 19L,
> > 25L, 21L, 32L, 24L, 20L, 14L, 18L, 17L, 22L, 24L, 24L, 23L, 21L,
> > 21L, 21L, 29L, 25L, 22L, 22L, 17L, 19L, 27L, 28L, 29L, 33L, 28L,
> > 20L, 15L, 16L, 21L, 36L, 28L, 24L, 21L, 21L, 24L, 34L, 29L, 36L,
> > 28L, 23L, 25L, 29L, 28L, 38L, 29L, 23L, 23L, 29L, 25L, 36L, 33L,
> > 26L, 23L, 17L, 20L, 33L, 28L, 33L, 31L, 24L, 17L, 29L, 28L, 32L,
> > 43L, 31L, 27L, 21L, 23L, 26L, 32L, 31L, 34L, 26L, 24L, 24L, 26L,
> > 35L, 34L, 33L, 27L, 23L, 25L, 27L, 31L, 34L, 38L, 24L, 23L, 27L,
> > 40L, 32L, 27L, 34L, 33L, 28L, 23L, 30L, 33L, 28L, 33L, 30L, 23L,
> > 31L, 29L, 34L, 33L, 33L, 27L, 23L, 24L, 38L, 33L, 32L, 39L, 35L,
> > 24L, 28L, 27L, 40L, 42L, 37L, 30L, 21L, 22L, 41L, 36L, 41L, 37L,
> > 36L, 26L, 29L, 35L, 39L, 39L, 48L, 38L, 27L, 34L, 49L, 45L, 52L,
> > 42L, 40L, 27L, 36L, 42L, 51L, 46L, 52L, 39L, 29L, 33L, 39L, 48L,
> > 39L, 50L, 39L, 36L, 37L, 52L, 51L, 50L, 49L, 38L, 33L, 38L, 59L,
> > 55L, 43L, 43L, 37L, 25L, 31L, 32L, 48L, 51L, 49L, 37L, 33L, 23L,
> > 40L, 39L, 49L, 43L, 37L, 30L, 41L, 56L, 54L, 53L, 51L, 46L, 37L,
> > 34L, 56L, 59L, 54L, 50L, 48L, 40L, 39L, 49L, 57L, 51L, 54L, 51L,
> > 37L, 48L, 55L, 64L, 56L, 51L, 47L, 37L, 37L, 55L, 59L, 52L, 57L,
> > 52L, 45L, 42L, 55L, 66L, 59L, 53L, 50L, 40L, 39L, 53L)), class =
> > "data.frame", row.names = c(NA,
> > -349L))
>
> Hello,
>
> There are two main problems with your code:
>
> 1. The time column is not a date, it's a character column. Start by
> coercing it to a real date class.
>
> 2. autoplot is a ggplot2 function and it does not support objects of
> class "ts", you should first coerce the data set dt to class "zoo" or to
> class "xts". In the code below I will coerce to class "zoo".
>
>
> # When calling non-base functions
> # always start the scripts by loading
> # the packages where those functions
> # can be found
> library(ggplot2)
> library(zoo)
>
> # coerce the time column to class "Date"
> dt$time <- as.Date(dt$time, "%d/%m/%Y")
> str(dt)
> # 'data.frame': 349 obs. of  2 variables:
> #  $ time             : Date, format: "2014-01-01" ...
> #  $ cnt_charge_events: int  2 3 4 3 5 6 3 5 4 4 ...
>
>
> # now coerce the time series to a "zoo" time series
> dt_ts <- zoo(dt$cnt_charge_events, order.by = dt$time)
>
> # the x axis labels are right, quarterly date breaks are automatic
> # and plot the object dt_ts, not its second column dt_ts[,2]
> autoplot(dt_ts) +
>    xlab("Daily") +
>    ylab("Charge counts")
>
>
> # scale_x_date allows for custom breaks and labels,
> # here monthly breaks and the same labels format
> # with more axis labels they need to be rotated in order to be readable
> # (as a side note I have displayed the axis labels in one instruction only)
> autoplot(dt_ts) +
>    labs(x = "Daily", y = "Charge counts") +
>    scale_x_date(date_breaks = "1 month", date_labels = "%b %Y") +
>    theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1))
>
>
>
> Hope this helps,
>
> Rui Barradas
>
>

-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]


From v@|ent|n @end|ng |rom petze|@@t  Fri Jan 13 00:18:28 2023
From: v@|ent|n @end|ng |rom petze|@@t (Valentin Petzel)
Date: Fri, 13 Jan 2023 00:18:28 +0100 (GMT+01:00)
Subject: [R] return value of {....}
In-Reply-To: <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
Message-ID: <cf027dca-4bde-4c05-a964-1522025d6532@petzel.at>

Hello Akshay,

R is quite inspired by LISP, where this is a common thing. It is not in fact that {...} returned something, rather any expression evalulates to some value, and for a compound statement that is the last evaluated expression.

{...} might be seen as similar to LISPs (begin ...).

Now this is a very different thing compared to {...} in something like C, even if it looks or behaves similarly. But in R {...} is in fact an expression and thus has evaluate to some value. This also comes with some nice benefits.

You do not need to use {...} for anything that is a single statement. But you can in each possible place use {...} to turn multiple statements into one.

Now think about a statement like this

f <- function(n) {
x <- runif(n)
x**2
}

Then we can do

y <- f(10)

Now, you suggested way would look like this:

f <- function(n) {
x <- runif(n)
y <- x**2
}

And we'd need to do something like:

f(10)
y <- somehow_get_last_env_of_f$y

So having a compound statement evaluate to a value clearly has a benefit.

Best Regards,
Valentin

09.01.2023 18:05:58 akshay kulkarni <akshay_e4 at hotmail.com>:

> Dear Valentin,
> ? ? ? ? ? ? ? ? ? ? ? ? ? But why should {....} "return" a value? It could just as well evaluate all the expressions and store the resulting objects in whatever environment the interpreter chooses, and then it would be left to the user to manipulate any object he chooses. Don't you think returning the last, or any value, is redundant? We are living in the 21st?century world, and the R-core team might,I suppose, have a definite reason for"returning" the last value. Any comments?
> 
> Thanking you,
> Yours sincerely,
> AKSHAY M KULKARNI
> 
> ----------------------------------------
> *From:* Valentin Petzel <valentin at petzel.at>
> *Sent:* Monday, January 9, 2023 9:18 PM
> *To:* akshay kulkarni <akshay_e4 at hotmail.com>
> *Cc:* R help Mailing list <r-help at r-project.org>
> *Subject:* Re: [R] return value of {....}
> ?
> Hello Akshai,
> 
> I think you are confusing {...} with local({...}). This one will evaluate the expression in a separate environment, returning the last expression.
> 
> {...} simply evaluates multiple expressions as one and returns the result of the last line, but it still evaluates each expression.
> 
> Assignment returns the assigned value, so we can chain assignments like this
> 
> a <- 1 + (b <- 2)
> 
> conveniently.
> 
> So when is {...} useful? Well, anyplace where you want to execute complex stuff in a function argument. E.g. you might do:
> 
> data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else mean(y)})
> 
> Regards,
> Valentin Petzel
> 
> 09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:
> 
>> Dear members,
>> ???????????????????????????? I have the following code:
>>
>>> TB <- {x <- 3;y <- 5}
>>> TB
>> [1] 5
>>
>> It is consistent with the documentation: For {, the result of the last expression evaluated. This has the visibility of the last evaluation.
>>
>> But both x AND y are created, but the "return value" is y. How can this be advantageous for solving practical problems? Specifically, consider the following code:
>>
>> F <- function(X) {? expr; expr2; { expr5; expr7}; expr8;expr10}
>>
>> Both expr5 and expr7 are created, and are accessible by the code outside of the nested braces right? But the "return value" of the nested braces is expr7. So doesn't this mean that only expr7 should be accessible? Please help me entangle this (of course the return value of F is expr10, and all the other objects created by the preceding expressions are deleted. But expr5 is not, after the control passes outside of the nested braces!)
>>
>> Thanking you,
>> Yours sincerely,
>> AKSHAY M KULKARNI
>>
>> ??? [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From tuech|er @end|ng |rom gmx@@t  Fri Jan 13 12:00:19 2023
From: tuech|er @end|ng |rom gmx@@t (Heinz Tuechler)
Date: Fri, 13 Jan 2023 12:00:19 +0100
Subject: [R] return value of {....}
In-Reply-To: <cf027dca-4bde-4c05-a964-1522025d6532@petzel.at>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <cf027dca-4bde-4c05-a964-1522025d6532@petzel.at>
Message-ID: <d201ecea-b28d-ad26-75a4-311edf335c48@gmx.at>

> 09.01.2023 18:05:58 akshay kulkarni <akshay_e4 at hotmail.com>:
>
> We are living in the 21st century world, and the R-core team might,I suppose, have a definite reason ...
>

Maybe compatibility reasons with S and R-versions from the 20st century?
But maybe, you would have expected some reason even then.

best regards,

Heinz


From w||||@mwdun|@p @end|ng |rom gm@||@com  Fri Jan 13 18:18:34 2023
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Fri, 13 Jan 2023 09:18:34 -0800
Subject: [R] return value of {....}
In-Reply-To: <cf027dca-4bde-4c05-a964-1522025d6532@petzel.at>
References: <PU4P216MB15683AFF29648D6DD2470B8DC8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <f2d42675-571d-4644-b31b-7371fa105b23@petzel.at>
 <PU4P216MB1568A92CDAD4B5CC59014CE3C8FE9@PU4P216MB1568.KORP216.PROD.OUTLOOK.COM>
 <cf027dca-4bde-4c05-a964-1522025d6532@petzel.at>
Message-ID: <CAHqSRuQRYv1fii+F6VHd8qxAmWtu45xFTE7sJMO9KG6FH9yyXQ@mail.gmail.com>

R's
   { expr1; expr2; expr3}
acts much like C's
   ( expr1, expr2, expr3)

E.g.,

$ cat a.c
#include <stdio.h>

int main(int argc, char* argv[])
{
    double y = 10 ;
    double x = (printf("Starting... "), y = y + 100, y * 20);
    printf("Done: x=%g, y=%g\n", x, y);
    return 0;
}
$ gcc -Wall a.c
$ ./a.out
Starting... Done: x=2200, y=110

I don't like that syntax (e.g., commas between expressions instead of the
usual semicolons after expressions).  Perhaps John Chambers et all didn't
either.

-Bill

On Fri, Jan 13, 2023 at 2:28 AM Valentin Petzel <valentin at petzel.at> wrote:

> Hello Akshay,
>
> R is quite inspired by LISP, where this is a common thing. It is not in
> fact that {...} returned something, rather any expression evalulates to
> some value, and for a compound statement that is the last evaluated
> expression.
>
> {...} might be seen as similar to LISPs (begin ...).
>
> Now this is a very different thing compared to {...} in something like C,
> even if it looks or behaves similarly. But in R {...} is in fact an
> expression and thus has evaluate to some value. This also comes with some
> nice benefits.
>
> You do not need to use {...} for anything that is a single statement. But
> you can in each possible place use {...} to turn multiple statements into
> one.
>
> Now think about a statement like this
>
> f <- function(n) {
> x <- runif(n)
> x**2
> }
>
> Then we can do
>
> y <- f(10)
>
> Now, you suggested way would look like this:
>
> f <- function(n) {
> x <- runif(n)
> y <- x**2
> }
>
> And we'd need to do something like:
>
> f(10)
> y <- somehow_get_last_env_of_f$y
>
> So having a compound statement evaluate to a value clearly has a benefit.
>
> Best Regards,
> Valentin
>
> 09.01.2023 18:05:58 akshay kulkarni <akshay_e4 at hotmail.com>:
>
> > Dear Valentin,
> >                           But why should {....} "return" a value? It
> could just as well evaluate all the expressions and store the resulting
> objects in whatever environment the interpreter chooses, and then it would
> be left to the user to manipulate any object he chooses. Don't you think
> returning the last, or any value, is redundant? We are living in the
> 21st century world, and the R-core team might,I suppose, have a definite
> reason for"returning" the last value. Any comments?
> >
> > Thanking you,
> > Yours sincerely,
> > AKSHAY M KULKARNI
> >
> > ----------------------------------------
> > *From:* Valentin Petzel <valentin at petzel.at>
> > *Sent:* Monday, January 9, 2023 9:18 PM
> > *To:* akshay kulkarni <akshay_e4 at hotmail.com>
> > *Cc:* R help Mailing list <r-help at r-project.org>
> > *Subject:* Re: [R] return value of {....}
> >
> > Hello Akshai,
> >
> > I think you are confusing {...} with local({...}). This one will
> evaluate the expression in a separate environment, returning the last
> expression.
> >
> > {...} simply evaluates multiple expressions as one and returns the
> result of the last line, but it still evaluates each expression.
> >
> > Assignment returns the assigned value, so we can chain assignments like
> this
> >
> > a <- 1 + (b <- 2)
> >
> > conveniently.
> >
> > So when is {...} useful? Well, anyplace where you want to execute
> complex stuff in a function argument. E.g. you might do:
> >
> > data %>% group_by(x) %>% summarise(y = {if(x[1] > 10) sum(y) else
> mean(y)})
> >
> > Regards,
> > Valentin Petzel
> >
> > 09.01.2023 15:47:53 akshay kulkarni <akshay_e4 at hotmail.com>:
> >
> >> Dear members,
> >>                              I have the following code:
> >>
> >>> TB <- {x <- 3;y <- 5}
> >>> TB
> >> [1] 5
> >>
> >> It is consistent with the documentation: For {, the result of the last
> expression evaluated. This has the visibility of the last evaluation.
> >>
> >> But both x AND y are created, but the "return value" is y. How can this
> be advantageous for solving practical problems? Specifically, consider the
> following code:
> >>
> >> F <- function(X) {  expr; expr2; { expr5; expr7}; expr8;expr10}
> >>
> >> Both expr5 and expr7 are created, and are accessible by the code
> outside of the nested braces right? But the "return value" of the nested
> braces is expr7. So doesn't this mean that only expr7 should be accessible?
> Please help me entangle this (of course the return value of F is expr10,
> and all the other objects created by the preceding expressions are deleted.
> But expr5 is not, after the control passes outside of the nested braces!)
> >>
> >> Thanking you,
> >> Yours sincerely,
> >> AKSHAY M KULKARNI
> >>
> >>     [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


