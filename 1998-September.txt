From neurowiz at neurowiz.com  Tue Sep  1 02:16:06 1998
From: neurowiz at neurowiz.com (Neurowiz)
Date: Tue, 1 Sep 1998 00:16:06 +0000 (/etc/localtime)
Subject: R-beta: Where to begin with R?
Message-ID: <Pine.LNX.3.96.980901001108.468A-100000@wintermute.neurowiz.com>

Please forgive if this question has been asked recently in this list. I've
scanned some of the recent archives and the FAQ and haven't found the
answer to my question.

I'm taking a class on Elementary Stats, basic stuff, and I found R while
looking for stats programs that run on Linux. The documentation seems to
be fairly complete on the functions contained within R, but to be honest,
I cannot find documentation on how to get STARTED using R, especially for
someone who's never used a stats software package before. The notes
that are available separately didn't seem to shed any light on how to
get started, like entering in data to run basic graphs like
histograms, ojives and freq polygons. I've also done some searches on
relevant engines and haven't found any Web resources. Can anyone point me
to some beginners' type of documentation so I can RTFM? :)

TIA....

-----------------------------------------------
neurowiz at neurowiz.com	http://www.neurowiz.com
PGP public key located on website


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kokholm at math.ku.dk  Tue Sep  1 09:16:16 1998
From: kokholm at math.ku.dk (Niels Kokholm)
Date: Tue, 1 Sep 1998 09:16:16 +0200 (MET DST)
Subject: R-beta: Windows version of R
In-Reply-To: <x2lno5z16y.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.4.02A.9809010746190.26672-100000@schubert.math.ku.dk>

I have some problems getting various versions of R to run on Windows NT.
The reason might be my inablity to locale the relevant README og INSTALL
files. 

The problem is that R dies before I can get to the prompt. I am just the
local computer guy trying to get to a point, where I can calculate 2+2.
Others are going to test real problems.

Platforms:
 A) Windows NT workstation 3.51 US with service pack 5.
 B) Citrix Winframe/NCD Wincenter (based on NT server 3.51 US) with
service pack 5A.

Rsept: 
 Works as unzipped: after having canceled two file open dialog boxes
asking for .Rprofile the prompt appears.

Rjune:
 1) As unzipped: on startup, opens a file open dialog with empty header
and empty file pattern. If the open box is canceled (twice), the program
dies with an error:
 On platform A, Dr. Watson reports an application exception "access
violation (0xc0000005)". 
 On platform B Dr. Watson reports "Entry point not found", "The procedure
entry point SymLoadModuleFromFile could not be located in the dynamic link
library IMAGEHLP.dll" followed by "Application Error", The application
failed to initialize properly (0xc0000139). Click on OK to terminate the
application". Clicking OK is not enough to terminate the application
though. 
 2) After having copied RNew/library/base/R/Rprofile to RNew/.Rprofile,
the program runs OK (2+2=4) if it is the first time in the current NT
session execution of Rjune is attempted.
 3) Most times Rjune has been executed, either successfully with a normal
quit from the menu or with a startup error, further attempts to execute
Rjune in the same NT session fails as in 1). 

Rw0613:
 As unzipped: flashes main and graph(?) windows and exits again without
messages.

Yours


   Niels J?rgen Kokholm          | email:   kokholm at math.ku.dk
   Matematisk Institut           | phone:   +45 3532 0759/+45 2128 6932
   Universitetsparken 5          | fax:     +45 3532 0704
   DK-2100 K?benhavn ?, Denmark  | www:     http://www.math.ku.dk/~kokholm

On Mon, 31 Aug 1998, Douglas Steele wrote:

> In article <x2lno5z16y.fsf at blueberry.kubism.ku.dk>, Peter Dalgaard BSA
> <p.dalgaard at biostat.ku.dk> writes
> >I think a better bet is Guido's port of R-0.61.3.
> For what its worth, I certainly agree.  I have not found Guido's port
to
> crash once.  Also, with Mingw installed its not too difficult to get
> dll's working etc.  There isn't a history mechanism yet, but that may
be
> available with his next port, which apparently is due soon.
>
> --
> Douglas Steele

On 31 Aug 1998, Peter Dalgaard BSA wrote:

> Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
> 
> > Beginning of term is coming up again (in 3 weeks) and I shall be
> > teaching two courses using R on MS-Windows. Is any new version in the
> > works or should I install R-June to replace R-Sept? This is for a year
> > because it has to stay the same until second session exams in August
> > 99 are over. Many thanks! Jim
> 
> R-June seems to be quite a bit unstable. I crashed it twice in 5
> minutes on Win95 while playing with the new menus, and there have been
> reports on not getting it to run at all on (some!) NT systems.
> 
> I think a better bet is Guido's port of R-0.61.3.
> 
> Personally, I'm split between upgrading to Guido's version or take
> another semester with good ol' warts-n-all RSept. (Or pound like mad
> at getting a version of 0.62.3 to work with the mingw32 compiler, but
> my time seems to be sifting right through my fingers these days and I
> haven't really got a clue about Win32 API programming.)
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Sep  1 10:13:20 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 1 Sep 1998 10:13:20 +0200 (MET DST)
Subject: R-beta: R0.62.3 problems
Message-ID: <199809010813.KAA12156@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 2378 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980901/d2289901/attachment.pl

From jlindsey at alpha.luc.ac.be  Tue Sep  1 10:53:25 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 1 Sep 1998 10:53:25 +0200 (MET DST)
Subject: R-beta: R for MS-Windows
Message-ID: <199809010853.KAA05216@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 584 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980901/635a20e5/attachment.pl

From wsimpson at uwinnipeg.ca  Tue Sep  1 15:21:20 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 1 Sep 1998 08:21:20 -0500 (CDT)
Subject: R-beta: R0.62.3 problems
In-Reply-To: <199809010813.KAA12156@alpha.luc.ac.be>
Message-ID: <Pine.OSF.3.95.980901081729.9485A-100000@io.uwinnipeg.ca>

> 4. Is there no way to convince core that the default option for signif
> stars should be FALSE??? At a minimum, modern software should be
> printing out profile likelihood intervals (even SAS does for logistic
> regression now) and not standard errors for non-normal models. The
> intervals, let alone tests, based on s.e.s can be meaningless for
> glms. Are there no likelihoodlums (except me) or Bayesians out there?
Hi Jim,

I agree with you 100%. I am likelihood freak too and would like to have
profile likelihood conf intervals.

Also I would love to know how to compute profile likelihood confidence
intervals when doing MLE with nlm. I have never seen this described
anywhere in enough detail to do it myself. (I would incorporate that into
the little nonlinear model fitting section I wrote for Notes on R.)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Sep  1 15:34:33 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 1 Sep 1998 08:34:33 -0500 (CDT)
Subject: R-beta: Where to begin with R?
In-Reply-To: <Pine.LNX.3.96.980901001108.468A-100000@wintermute.neurowiz.com>
Message-ID: <Pine.OSF.3.95.980901082335.9485B-100000@io.uwinnipeg.ca>

1. In "Notes on R" (available at CRAN), do the "introductory session" (in
appendix).

2. this is a handy place to look for the various functions:
http://www.stat.math.ethz.ch/R-alpha/doc/html/

3. in R, you can get help on any function (e.g. plot) by doing
?plot

4. "Notes on R" has all the info you need to get started.

but here is some help anyway.

to enter some data:
x<-c(1,2,3,4)
y<-(4,5,6,7)
to plot it:
plot(x,y)
histogram:
hist(x)
get freq polygon by adding extra argument to hist()
quantile plot (ogive, straightened on "probability paper"):
qqnorm(x)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep  1 16:54:38 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Sep 1998 09:54:38 -0500
Subject: profile likelihood [ was Re: R-beta: R0.62.3 problems]
In-Reply-To: Bill Simpson's message of "Tue, 1 Sep 1998 08:21:20 -0500 (CDT)"
References: <Pine.OSF.3.95.980901081729.9485A-100000@io.uwinnipeg.ca>
Message-ID: <6r90k3vq6p.fsf@verdi.stat.wisc.edu>

>>>>> "Bill" == Bill Simpson <wsimpson at uwinnipeg.ca> writes:

  >> 4. Is there no way to convince core that the default option for
  >> signif stars should be FALSE??? At a minimum, modern software
  >> should be printing out profile likelihood intervals (even SAS
  >> does for logistic regression now) and not standard errors for
  >> non-normal models. The intervals, let alone tests, based on s.e.s
  >> can be meaningless for glms. Are there no likelihoodlums (except
  >> me) or Bayesians out there?
  Bill> Hi Jim,

  Bill> I agree with you 100%. I am likelihood freak too and would
  Bill> like to have profile likelihood conf intervals.

  Bill> Also I would love to know how to compute profile likelihood
  Bill> confidence intervals when doing MLE with nlm. I have never
  Bill> seen this described anywhere in enough detail to do it
  Bill> myself. (I would incorporate that into the little nonlinear
  Bill> model fitting section I wrote for Notes on R.)

The splines library contains constructors and methods for
"backSplines".  These are piecewise polynomials that provide inverse
interpolation of a monotone function.  They would be used to construct
profile likelihood intervals by
 - determine the MLE and approximate standard errors
 - for each parameter {
    while (statistic < critical value) {
      create a step size as some fraction of the standard error
      step from the MLE of that parameter
      re-optimize on the other parameters
      convert the change in likelihood (or residual sum-of-squares) to
        a z-like or t-like statistic
      adjust step size if needed
    }  # I skipped the part about do this in both directions
   fit an interpolation spline to the values of the statistic versus
     the parameter being profiled
   form a backSpline and evaluate it at +/- critical value

Of course, the tricky part is setting up the optimization for all but
the parameter being profiled.  The backSplines just give you a
convenient way of evaluating the interval once you have done all the
real work.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep  1 17:06:31 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Sep 1998 10:06:31 -0500
Subject: R-beta: Where to begin with R?
In-Reply-To: Neurowiz's message of "Tue, 1 Sep 1998 00:16:06 +0000 (/etc/localtime)"
References: <Pine.LNX.3.96.980901001108.468A-100000@wintermute.neurowiz.com>
Message-ID: <6r67f7vpmw.fsf@verdi.stat.wisc.edu>

>>>>> "N" == Neurowiz  <neurowiz at neurowiz.com> writes:

  N> I'm taking a class on Elementary Stats, basic stuff, and I found
  N> R while looking for stats programs that run on Linux. The
  N> documentation seems to be fairly complete on the functions
  N> contained within R, but to be honest, I cannot find documentation
  N> on how to get STARTED using R, especially for someone who's never
  N> used a stats software package before. The notes that are
  N> available separately didn't seem to shed any light on how to get
  N> started, like entering in data to run basic graphs like
  N> histograms, ojives and freq polygons. I've also done some
  N> searches on relevant engines and haven't found any Web
  N> resources. Can anyone point me to some beginners' type of
  N> documentation so I can RTFM? :)

One of the best sources for learning R (or S) is the book "Modern
Applied Statistics with S-PLUS (2nd ed)" by Venables and Ripley.  See
		 http://www.stats.ox.ac.uk/pub/MASS2/

The authors have created an on-line "`R' Complements" document
	     http://www.stats.ox.ac.uk/pub/MASS2/VR2R.pdf
that outlines how to use R.  It also describes some of the differences
between R and S-PLUS you will need to watch for when reading their
book.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  1 19:12:27 1998
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 1 Sep 1998 18:12:27 +0100 (BST)
Subject: R-beta: R for MS-Windows
Message-ID: <199809011712.SAA24497@toucan.stats.ox.ac.uk>


> From: Jim Lindsey <jlindsey at alpha.luc.ac.be>
> Subject: R-beta: R for MS-Windows
> To: r-help at stat.math.ethz.ch (r-help)
> Date: Tue, 1 Sep 1998 10:53:25 +0200 (MET DST)
> 
> The problem with using Guido's port of R-0.61.3 for students is that
> it is too big to fit on a diskette. The students don't have their home
> computers all directly hooked up to the web. Could it be cut in two on
> the sites? Thanks. Jim

It is a zip file. If you remove the contributed libraries this comes down
to 1248kb which does go on a `diskette'.

Just run zip -d rw0613b.zip rw0613/library/spatial/\*  etc.

Perhaps next time it would be a good idea to separate the contributed
libraries from base R, as they are much larger now (for which I take
the blame).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  1 19:13:13 1998
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 1 Sep 1998 18:13:13 +0100 (BST)
Subject: R-beta: R0.62.3 problems
Message-ID: <199809011713.SAA24501@toucan.stats.ox.ac.uk>

From: Jim Lindsey <jlindsey at alpha.luc.ac.be>

> 2. Binary factor variables no longer have the category label stuck on
> the end of the variable name in output from glm(). This is very
> misleading for at least two reasons: (i) there is no way to tell if a
> variable is factor or not just by looking at the output, (ii) in
> various contexts, the level printed out may be the first or the
> second, and it is essential to know which.

That is a `very misleading' statement over a small point!  I was
responsible for that change, which was made a while ago (prior to
0.62.2) in contrasts() as part of a tidying up for compatibility with
S.  If this is `essential', why has no one found it necessary to change
S in the decade (to my knowledge) that it has had no such suffix? (By
`category label stuck on the end of the variable name in output from
glm()' I assume you meant to write that the level of a factor is
appended to the factor name in forming contrast names for treatment
contrasts. Which is not so `misleading'.)  Further:

(i) there never was: how could _you_ tell if sexF was level F of sex or a 
variable?  Why should a 0-1 level factor and a 0-1 variable be treated
differently?  In either case _I_ need to know the coding used. 

(ii) what is printed out is never a level but a coefficient
representing a _difference_ between levels under treatment contrasts,
and other things under others. I think you are falling into the trap of
interpreting coded coefficients of factor variables: if you want to see the
full set of coefficients you need to use dummy.coef() (which is
currently missing from R but coming soon, guess who wrote it).  I
would advocate the use of suffices 1,2,3,...  even for treatment
contrasts to avoid precisely this trap. Think of the suffix (`bit stuck
on') as just indicating which coefficient: if there is only one the
label is redundant.

If despite this you really want the old, incompatible, behaviour, remove
          if (ncol(ctr) == 1) dimnames(ctr) <- list(dimnames(ctr)[[1]], "")
from contrasts(). 


> 4. Is there no way to convince core that the default option for signif
> stars should be FALSE??? At a minimum, modern software should be
> printing out profile likelihood intervals (even SAS does for logistic

Set options(show.signif.stars=F) in your or your site's .Rprofile and
you will never see them again.  I had forgotten they were there ...
except a member of R-core does add the facility to my code from time to
time.

R gives z-ratios for glm fits: S sensibly does not.

The V&R S library MASS does have profile.glm, if not yet for R, so you
might like to make it work and contribute back the needed changes.
(The reason this needs doing is that glm in R is not very like the glm
documented in Chambers & Hastie. Some of you do not like S
compatibility, but the benefits of tapping the S contributors' work is
easily underestimated. This contributor has trouble remembering all the 
foibles of S3, S4 and R.)

I am only interested in inference for subject-matter significant
quantities, and for glms those are often not parameters. They are
usually predictions, though.


> way it behaves) and to vector(). I cannot recheck all of the 100 or
> more functions in my libraries with every new release so that these

Um, why not?  I do check the more than 200 functions in the V&R suite
for each release of R (and more frequently).  (I even release enhanced
versions to make use of new features in new releases.)  Having a test
suite is part of writing statistical software, and R _is_ beta
software.  However, I would be surprised if correct code (that is
adhering to the S described in the Blue Book less changes described in
the R FAQ) was so fragile; my corroborating evidence is that my code
and almost all of the other _public_ packages I have tried survives.

BTW, as I get picked up on this frequently, S has libraries but R has
_packages_.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep  1 19:52:29 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Sep 1998 12:52:29 -0500
Subject: R-beta: Re: new platform
In-Reply-To: Greg Snow's message of "Tue, 1 Sep 1998 10:25:30 -0700 (PDT)"
References: <Pine.SUN.3.95.980901102157.669A-100000@scott>
Message-ID: <6rlno3u3du.fsf@verdi.stat.wisc.edu>

>>>>> "Greg" == Greg Snow <snow at biostat.washington.edu> writes:

  Greg> Also is there a convenient way to run gdb on R through emacs?
  Greg> If I give it R.binary, it does not have the wrapper stuff from
  Greg> R and crashes, If I give it R it complains because it is not a
  Greg> binary, and if I do R -d then I don't get the emacs extras.

Make a symbolic link from your current directory to
$RHOME/bin/R.binary then create a file .gdbinit in the current
directory.  Add the lines
 set env RHOME /usr/lib/R
 set env R_PAPERSIZE letter
 set env R_PRINTCMD lpr
to the .gdbinit file.  (Substitute your values for these variables.)
At this point you can type
 M-x gdb <RET> R.binary <RET>
to start a gdb session running R.

If you want to set a breakpoint in compiled code that is dynamically
loaded from a library, there is a trick you can use.  You have to have
R running and use a call to library() to load the library then you set
the breakpoint.  The easiest way to do this is to use C-c C-c to send
an interrupt signal to R.  This puts you back to the (gdb) prompt.
Set the breakpoint then use "sig 0" to send a null signal to the R
process and get it started up again.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Tue Sep  1 23:08:40 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Wed, 2 Sep 1998 09:08:40 +1200 (NZST)
Subject: R-beta: Windows version of R
Message-ID: <199809012108.JAA06676@stat1.stat.auckland.ac.nz>

I have just found one of the bugs that causes R to fail in the fashion
Neils has described. I have put up a new file on the ftp site,
tmp.zip which has that and some other bug fixes (you need to get the
one with date


  368 -rw-r--r--   1 rgentlem   365721 Sep  2 09:03 tmp.zip
  
  I had put one up yesterday as well which doesn't have what I 
  believe to be Neils bug fix.
  As soon as I get some reports that this functions well then I
  will replace the one in rjune.zip with it.
  
  I don't have a copy of NT3.51 and am building for NT4.0,
  I don't think I will change to 5.0 in the near future.
  
  Neils if you could let me know if this takes care of at least some
  of your problems (I will investigate the others and see
  what happens).
  robert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at acpub.duke.edu  Wed Sep  2 00:06:39 1998
From: rnassar at acpub.duke.edu (Rashid Nassar)
Date: Tue, 1 Sep 1998 18:06:39 -0400 (EDT)
Subject: R-beta: Windows version of R
In-Reply-To: <Z1jW9LAy+t61Ewtm@dsteele.demon.co.uk>
Message-ID: <Pine.SOL.3.91.980901180208.23442B-100000@godzilla6.acpub.duke.edu>

On Mon, 31 Aug 1998, Douglas Steele wrote:
> In article <x2lno5z16y.fsf at blueberry.kubism.ku.dk>, Peter Dalgaard BSA
> <p.dalgaard at biostat.ku.dk> writes
> >I think a better bet is Guido's port of R-0.61.3.
> For what its worth, I certainly agree.  I have not found Guido's port to
> crash once.  Also, with Mingw installed its not too difficult to get
> dll's working etc.  There isn't a history mechanism yet, but that may be
> available with his next port, which apparently is due soon.
> 
> -- 
> Douglas Steele

Yes I've been using that version on both a Windows 3.1 and Windows95 with 
no problems (only bug I came across is that round()  doesn't seem to work 
correctly).  

While not as nice as the unix mechanism, there is a substitute history
mechanism that I find rather nice: go to a previous command, press
shift-end to highlight the command, then alt-x to print it on the command
line. 

Rashid

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Wed Sep  2 00:42:51 1998
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 2 Sep 1998 08:42:51 +1000 (EST)
Subject: R-beta: R0.62.3 problems
Message-ID: <199809012242.IAA14629@leonard.anu.edu.au>

From: Prof Brian Ripley <ripley at stats.ox.ac.uk>

> From: Jim Lindsey <jlindsey at alpha.luc.ac.be>
> 
> > 2. Binary factor variables no longer have the category label stuck on
> > the end of the variable name in output from glm(). This is very
> > misleading for at least two reasons: (i) there is no way to tell if a
> > variable is factor or not just by looking at the output, (ii) in
> > various contexts, the level printed out may be the first or the
> > second, and it is essential to know which.
> 
> That is a `very misleading' statement over a small point!  I was
> responsible for that change, which was made a while ago (prior to
> 0.62.2) in contrasts() as part of a tidying up for compatibility with
> S.  If this is `essential', why has no one found it necessary to change
> S in the decade (to my knowledge) that it has had no such suffix? (By
> `category label stuck on the end of the variable name in output from
> glm()' I assume you meant to write that the level of a factor is
> appended to the factor name in forming contrast names for treatment
> contrasts. Which is not so `misleading'.)  Further:

I consider that the S behaviour is misleading and confusing, and should
not be copied.  I'd been pleased to find that R did use the same form of
labelling for 3+-level factors as for binary factors.

For 3+ level factors in S, one can tell from the output whether the
parameterisation is "helmert" or "contrast".  For binary factors the
labelling is, in my view confusingly, identical.  I am sensitive to
this because I sorted this point out for someone last week.  (In this
special [binary] case the coefficients and SE's for "helmert" are
smaller by a factor of 2.)

Actually I consider that the output ought to identify what
parameterisation has been used.  I consider, also, that the S decision
to make "helmert" the default is unsatisfactory.  While helmert makes
sense for computation, it is almost never sensible for output.  

Perhaps the issue is that the handling of the computation, which ought
to be hidden from the user, should be separated from the
paramterisation of the output.  In fact, in both S and (I expect) in
R, they are linked.



John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  2 08:58:19 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 2 Sep 1998 07:58:19 +0100 (BST)
Subject: R-beta: R0.62.3 problems
In-Reply-To: <199809012242.IAA14629@leonard.anu.edu.au>
Message-ID: <Pine.GSO.3.96.980902064400.13975A-100000@localhost>

[Should this divert to R-devel: seems to me to be more appropriate there?
Even more appropriate if it had been discussed during development, not two
releases later!]

On Wed, 2 Sep 1998, John Maindonald wrote:

> I consider that the S behaviour is misleading and confusing, and should
> not be copied.  I'd been pleased to find that R did use the same form of
> labelling for 3+-level factors as for binary factors.

I suspect you meant `for binary factors as for 3+level factors in S!' This
was an undocumented difference between R and S, and as I believe deliberate
differences should be documented, I suspect this was not one of them. 
(Certainly when I raised it, no one suggested that it was deliberate.)

> For 3+ level factors in S, one can tell from the output whether the
> parameterisation is "helmert" or "contrast".  

How does one do this? If you mean from the printed output from a print or
summary method, I only know how to do this only if those were the only two
possibilities, which they are not. 

Let me point out that in 0.62.3 (but not 0.62.1) you can find out what the
coding used is by looking at the contrasts component of the object, so you
_can_ find the parametrization (as my dictionary spells it) from the output
of lm or glm, whatever the coding (and there is an essentially infinite set
of possibilities). 

> Actually I consider that the output ought to identify what
> parameterisation has been used.  I consider, also, that the S decision
> to make "helmert" the default is unsatisfactory.  While helmert makes
> sense for computation, it is almost never sensible for output.  

The coding _is_ now contained in the R output. I think you are thinking in
SAS-like terms and mean that you want that output printed by print or
print.summary methods (which?). And/or print.coef methods or precisely
what? Given that each factor can have a different coding, this could lead
to a very much larger output. (You did appreciate that arbitrary contrasts
could be attached to each factor?)  Would it not be better (and in the
spirit of S) to have a separate function to print out the codings used, or
to print out a coding-free view of the fit? (Hint: there is such a function
in S.) 

You can very easily set the default coding for your own use, so what is
your concern over the global default?  In balanced designs I would say that
a (block-)orthogonal coding is much less likely to mislead, but I at least
do not wish to impose my views on the rest of the users. 

> Perhaps the issue is that the handling of the computation, which ought
> to be hidden from the user, should be separated from the
> paramterisation of the output.  In fact, in both S and (I expect) in
> R, they are linked.

I agree that they should be separate, and that is the point of a lot of my
recent work on filling holes in R. There is an important point here. lm can
be used in more than one way; print.lm is designed for regression and
print.aov for analysis of variance, with model.tables and dummy.coef to
examine the output in a coding-independent way.  So I suspect the `output'
you are complaining about may be from inappropriate tools, and there is
certainly room for you to contribute new tools expressing printed output
you find illuminating.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Sep  2 09:47:19 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 2 Sep 1998 09:47:19 +0200 (MET DST)
Subject: R-beta: R0.62.3 problems
In-Reply-To: <Pine.GSO.3.96.980902064400.13975A-100000@localhost> from "Prof Brian D Ripley" at Sep 2, 98 07:58:19 am
Message-ID: <199809020747.JAA02357@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 707 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980902/ffa41f3d/attachment.pl

From guido at sirio.stat.unipd.it  Wed Sep  2 17:04:44 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 2 Sep 1998 16:04:44 +0100
Subject: R-beta: Windows version of R
In-Reply-To: <Pine.SOL.3.91.980901180208.23442B-100000@godzilla6.acpub.duke.edu>; from Rashid Nassar on Tue, Sep 01, 1998 at 06:06:39PM -0400
References: <Z1jW9LAy+t61Ewtm@dsteele.demon.co.uk> <Pine.SOL.3.91.980901180208.23442B-100000@godzilla6.acpub.duke.edu>
Message-ID: <19980902160444.A1264@sirio.stat.unipd.it>

[perhaps for R-devel but since the previous message where on R-help...]

I came back to Padua yesterday and found some recent messages on the topic.
So, perhaps, it is not inappropriate to tell what I am doing about.

As I wrote to Peter D., at the end of July, I rewrote the console 
from scratch using a portable toolkit (GraphApp). The advantages
in using a portable toolkit, as previously discussed with reference
to tcl/tk, is that development can be done under Unix and, hence,
it can be hoped that it will be faster (at least since I can't see
any Windows gurus here). The new console has some sort of command recall
and is faster. It is not perfect in this moment but seems useful.
By the way, I need it also for a local project.

Last night, I rewrote the graphic device using GraphApp. As before,
I worked on a Linux box. Now, it works almost as the X11 device
(almost = there are at least some small problems with the position of text,
in particular rotated math expression which spread on more than one lines
didn't work well).

Hence, in this moment, I have under Linux a GraphApp version of R0.62.3
working (console+graphics integrated in unix/system.c).
In the following days, I will try to make this stuff working under Windows.
Looking to the code, the not "interface" part should not give
many problems (but I didn't try yet and I have at least to check
the basic math (MATH_CHECK, ISNAN, ...) which seems changed since
R0.61.x).
If things will go well, I hope to make available something during
next week. I will make also available a modified version of GraphApp,
since I had to hack it.
However, it would be of pre-alpha quality since there are
about 2000 new lines of C code. To stress this point: in my mind,
this is just one attempt to evaluate if GraphApp can be used.

[R-devel only]
A general consideration for comment (if I can do it) and not to reopen the
tcl/tk threads of last spring).
In my experience (quite limited,
I know) the core of R is quite portable (thank to the good design
given by Ross and Robert and by all the R-core team). 
So, I hope that a coordinated project toward a complete portable
R will be started (portable=Unix/XWindows+MSWindows+Mac, of course;
started=restarted (RTk)).
A couple of things that come in my mind:
1) We need to choose a portable toolkit. I have no commitment on
GraphApp (only it is small, all C, and easy to modify). Other choice
are possible. In particular, tcl/tk. But, I believe that
this must done at least in part by trial (not just reading
the manuals). And, of course, this is the bad point, since, it 
would require a lot of work.
2) To avoid problems, a single compiler for each not-Unix
platform should be chosen. For MsWindows, as you know, 
my commitment is towards the gnu tools since: 
(a) they are mature enough (To Douglas Steel: I remember
your bad experience with compiling resources but you should keep
in mind that if a portable toolkit is used you don't need any
resource compiler); 
(b) it is possible to cross-compile from a Unix box (this is not
a banal point since the attitudes of the people on this list, if I 
understand, many of us (certainly I) need a MsWindows version
for teaching but, personally, use the Unix one). 
and, of course, (c) it is gcc, it is gpled,....
3) When I tried to port R to gnuwin32, my idea was not to bother
the R-core team (they have done, are doing and will have to do
a lot of wonderfull work). So I think that this project must
be coordinated/supervisionated by one of the R team but should use fresh 
resource. 

Comments about this points? 
guido m.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Thu Sep  3 00:22:16 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Thu, 3 Sep 1998 10:22:16 +1200 (NZST)
Subject: R-beta: printing, hclust
Message-ID: <199809022222.KAA07919@stat1.stat.auckland.ac.nz>

Zdenek,
  I have just put up a new zip file, mva.zip, it should propagate to
  the mirrors within a day. Could you try it out and let me know if
  it has solved your problems. The zip file contains mva.dll and
  a new Rprofile.
  
  robert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Sep  3 11:36:48 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 3 Sep 1998 11:36:48 +0200 (MET DST)
Subject: R-beta: R0.62.3 problems
Message-ID: <199809030936.LAA08902@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 5165 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980903/e6702e76/attachment.pl

From jlindsey at alpha.luc.ac.be  Thu Sep  3 11:39:28 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 3 Sep 1998 11:39:28 +0200 (MET DST)
Subject: R-beta: wwwadmin@ci.tuwein.ac.at
Message-ID: <199809030939.LAA13998@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 6070 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980903/c8daba07/attachment.pl

From jlindsey at alpha.luc.ac.be  Thu Sep  3 15:06:33 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 3 Sep 1998 15:06:33 +0200 (MET DST)
Subject: R-beta: R0.62.3 problems
In-Reply-To: <199809031125.MAA01223@toucan.stats.ox.ac.uk> from "Prof Brian Ripley" at Sep 3, 98 12:25:53 pm
Message-ID: <199809031306.PAA02935@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 495 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980903/14c6b26c/attachment.pl

From rgentlem at stat.auckland.ac.nz  Fri Sep  4 02:03:15 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Fri, 4 Sep 1998 12:03:15 +1200 (NZST)
Subject: R-beta: more R for Windows (rjune)
Message-ID: <199809040003.MAA24020@stat1.stat.auckland.ac.nz>

I've just put up (12:00 noon NZ) yet another tmp.zip with the fixes
for Peter Dalgaards two bugs. Niels reports that the 3.51 problems
are now different but not solved. I'm trying to locate a 3.51 machine
and will post another fix. 

Can I get some feedback on how people want these "patches" delivered?
Should I be numbering them and keeping the old patches? I don't
want to put them in rjune.zip until I'm confident that they work
and I have most of the current problems fixed.

If people have other bugs that I have missed, please let me know
and I will try to get a major revamp done.

robert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Sep  4 15:55:21 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 4 Sep 1998 15:55:21 +0200 (MET DST)
Subject: R-beta: a suggestion for constraints
Message-ID: <199809041355.PAA30481@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 883 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980904/446ac2e1/attachment.pl

From jlindsey at alpha.luc.ac.be  Fri Sep  4 16:10:07 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 4 Sep 1998 16:10:07 +0200 (MET DST)
Subject: R-beta: Stars again
Message-ID: <199809041410.QAA21984@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1485 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980904/6c03ac2b/attachment.pl

From janku at ifi.uio.no  Fri Sep  4 17:38:20 1998
From: janku at ifi.uio.no (Jan Kutylowski)
Date: Fri, 4 Sep 1998 17:38:20 +0200 (MET DST)
Subject: R-beta: Re: {g}lm coefficients labeling etc. [was "R0.62.3 problems"]
In-Reply-To: <199809031519.RAA13698@sophie.ethz.ch> (message from Martin
	Maechler on Thu, 3 Sep 1998 17:19:03 +0200)
Message-ID: <199809041538.3050.gang.ifi.uio.no@ifi.uio.no>



Martin Maechler writes (about starring of p-values)

	It *is* the nineties, and the 'stars'  
	are a ``GRAPHICAL'' encoding of P-values, not more, not less.

	We have been using them in *real* data analysis (as opposed to teaching
	exercises) for five or more years now.
	If you fit many models with dozens of coefficients each,
	the *graphical* clues *are* valuable, believe it or not.

I was wondering about my own atawistic dislike of the idea of starring
the p-values/coefficients and discovered that it was respect for 
the marginality relations among the _terms_ in a model that caused my dislike.

	I see that there's a good reason not to have (doubtful) 
	P values at all;
	That's why vanilla S (as opposed to S-plus) never had P values in
	print.summary.lm(.)
	However, I think (pro statisticians and social scientists) 
	will want them often enough.

As a social scientist I may want to have them as an option, e.g. regression
model with little non-orthogonality and no categorical factors. I 
could also use the stars in teaching to illustrate how one my arrive 
at wrong expectations on the basis of starred 
p-values without model comparisons. 


A. Jan Kutylowski

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Sep  4 17:55:50 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 4 Sep 1998 15:55:50 +0000 (GMT)
Subject: R-beta: a suggestion for constraints
In-Reply-To: <199809041355.PAA30481@alpha.luc.ac.be>
Message-ID: <Pine.LNX.4.02.9809041525380.866-100000@buffy.biostat.washington.edu>

On Fri, 4 Sep 1998, Jim Lindsey wrote:

> One small thing that would be very nice for baseline-constraint (R
> calls them treatment for some reason) factor variables would be an
> option to specify which category is baseline. This would be extremely
> useful in experimental contexts, especially medicine. For the moment,

I actually agree here. There seem to be two possibilities. One is to make
it easy to use as.factor() to create factors with code 1 being whatever
level you want. The other is to make it easy to use contrasts by providing
a contr.treatment(baseline) function that creates treatment contrasts with
the specified baseline level, so you could do
glm(outcome~trt,contrasts=list(trt=contr.treatment("PL"))

The first seems a more natural solution to this specific problem, as we
have a natural baseline category and the problem is that as.factor doesn't
know that. In fact the function to change is factor(), which does all the
work of factor creation.  I have a draft version of factor(,baseline=)
but I would like to test it some more (and see if other people think it is
a good idea).  I would personally prefer to call the argument 'reference'
rather than 'baseline' but I don't really care all that much.

BTW, R calls it "contr.treatment" because S does. You could easily define
an alias "contr.whatever.you.like" for it using the .Alias() function.

	-thomas


Thomas Lumley
Asst Professor, Biostatistics, Box 357232
University of Washington, Seattle, WA 98195-7232








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  4 22:00:59 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 4 Sep 1998 21:00:59 +0100 (BST)
Subject: R-beta: a suggestion for constraints
In-Reply-To: <Pine.LNX.4.02.9809041525380.866-100000@buffy.biostat.washington.edu>
Message-ID: <Pine.GSO.3.96.980904194827.28430A-100000@localhost>

On Fri, 4 Sep 1998, Thomas Lumley wrote:

> On Fri, 4 Sep 1998, Jim Lindsey wrote:
> 
> > One small thing that would be very nice for baseline-constraint (R
> > calls them treatment for some reason) factor variables would be an
> > option to specify which category is baseline. This would be extremely
> > useful in experimental contexts, especially medicine. For the moment,
> 
> I actually agree here. There seem to be two possibilities. One is to make
> it easy to use as.factor() to create factors with code 1 being whatever
> level you want. The other is to make it easy to use contrasts by providing
> a contr.treatment(baseline) function that creates treatment contrasts with
> the specified baseline level, so you could do
> glm(outcome~trt,contrasts=list(trt=contr.treatment("PL"))
> 
> The first seems a more natural solution to this specific problem, as we
> have a natural baseline category and the problem is that as.factor doesn't
> know that. In fact the function to change is factor(), which does all the
> work of factor creation.  I have a draft version of factor(,baseline=)
> but I would like to test it some more (and see if other people think it is
> a good idea).  I would personally prefer to call the argument 'reference'
> rather than 'baseline' but I don't really care all that much.

I posted the following functions to S-news on May 27. Might they do what
you want?

relevel <- function(x, ref, ...) UseMethod("relevel")
relevel.default <- function(x, ref, ...) stop("relevel only for factors")
relevel.ordered <- function(x, ref, ...) stop("relevel only for factors")
relevel.factor <- function(x, ref, ...)
{
  lev <- levels(x); nlev <- length(lev)
  if(is.character(ref)) ref <- match(ref, lev)
  if(is.na(ref)) stop("ref must be an existing level")
  if(ref < 1 || ref > nlev) stop(paste("ref =", ref, "must be in 1 :",
nlev))
  factor(x, levels = lev[c(ref, seq(along=lev)[-ref])] )
}
(and I seemed to prefer `ref' for reference to baseline then).  I would
oppose adding further arguments to factor: they are not needed as
using `levels' or `labels' should suffice.  But one does sometimes need to
change the ordering of levels, not least in data frames read by read.table.

This gives:

> xx <- factor(c("L", "M", "H"))
> xx
[1] L M H
> levels(xx)
[1] "H" "L" "M"
> yy <- relevel(xx, "L")
> yy
[1] L M H
> levels(yy)
[1] "L" "H" "M"


I see Thomas' second solution as the better one, or, even better, to set a
contrast on the factor by the contrasts assignment function. As
contr.treatment already has two arguments, I suggest something like

contrasts(myfactor) <- contr.reference(myfactor, baseline="one")

where

contr.reference <- function(fac, reference)
{
  lev <- levels(fac)
  if(!missing(reference)) fac <- relevel(fac, ref=reference)
  ans <- contr.treatment(levels(fac))
  ans[lev, ]	
}

(It needs to be done this way as the internal code in model.matrix
makes lots of assumptions.)

For example:

> data(warpbreaks)
> glm(breaks ~ wool + tension, poisson, data=warpbreaks)

Coefficients:
(Intercept)         wool     tensionM     tensionH  
     3.6920      -0.2060      -0.3213      -0.5185  

> contrasts(warpbreaks$tension) <- contr.reference(warpbreaks$tension, "M")
> test1 <- glm(breaks ~ wool + tension, poisson, data=warpbreaks)

Coefficients:
(Intercept)         wool     tensionL     tensionH  
     3.3706      -0.2060       0.3213      -0.1972  

and this reference level will be used in all subsequent fits with that
(local copy of) the data frame.

Alternatively,

> data(warpbreaks)
> warpbreaks$tension <- relevel(warpbreaks$tension, "M")
> test2 <- glm(breaks ~ wool + tension, poisson, data=warpbreaks)



As an answer to how to see which coding(s) were used, look at the
contrasts and xlevels components. For example:

codings <- function(object)
{
  for(nm in names(object$contrasts))
  {
     cat("factor", nm, "has levels ")
     xl <- object$xlevels[[nm]]
     if(length(xl) > 5) cat(xl[1:5], "...") else cat(xl)
     cn <- object$contrasts[[nm]]
     if(is.character(cn)) cat(" and used ", cn)
     if(is.numeric(cn)) {
       cat(" with contrast matrix\n")
       print(cn)
     }
     cat("\n")
  }
}

Then

> codings(test2)
factor wool has levels A B and used  contr.treatment
factor tension has levels M L H and used  contr.treatment

> codings(test1)
factor wool has levels A B and used  contr.treatment
factor tension has levels L M H with contrast matrix
  L H
L 1 0
M 0 0
H 0 1

This should be tidied up, but I do see this as separate from print or
summary. After all, this is the late 1990s and at least at Oxford we are no
longer submitting decks of cards and poring over line printer output. We
can ask additional questions (and that is the spirit of S, I am sure).

For those who have not seen it:

> dummy.coef(test1)
$(Intercept)
(Intercept) 
   3.370648 

$wool
         A          B 
 0.0000000 -0.2059918 

$tension
         L          M          H 
 0.3213203  0.0000000 -0.1971704 

That is slated for 0.63, again probably with a more elegant printout. (This
one follows S, although not in the method of computation.)  It gives the
coefficients for all the levels whatever the coding. 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Sat Sep  5 12:35:26 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Sat, 5 Sep 1998 11:35:26 +0100
Subject: R-beta: Windows version of R
In-Reply-To: <19980902160444.A1264@sirio.stat.unipd.it>
References: <Z1jW9LAy+t61Ewtm@dsteele.demon.co.uk>
 <Pine.SOL.3.91.980901180208.23442B-100000@godzilla6.acpub.duke.edu>
 <19980902160444.A1264@sirio.stat.unipd.it>
Message-ID: <qJSaiDAuPR81Ew5V@dsteele.demon.co.uk>

In article <19980902160444.A1264 at sirio.stat.unipd.it>, Guido Masarotto
<guido at sirio.stat.unipd.it> writes
>As I wrote to Peter D., at the end of July, I rewrote the console 
>from scratch using a portable toolkit (GraphApp). The advantages
Where can I get more information on GraphApp ?

>2) To avoid problems, a single compiler for each not-Unix
>platform should be chosen. For MsWindows, as you know, 
>my commitment is towards the gnu tools since: 
>(a) they are mature enough (To Douglas Steel: I remember
>your bad experience with compiling resources but you should keep
>in mind that if a portable toolkit is used you don't need any
>resource compiler);
That would be a real advantage.  I never got the resource compilation
working properly.


-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep  5 14:38:21 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 1998 14:38:21 +0200
Subject: R-beta: Stars again
In-Reply-To: Jim Lindsey's message of Fri, 4 Sep 1998 16:10:07 +0200 (MET DST)
References: <199809041410.QAA21984@alpha.luc.ac.be>
Message-ID: <x24sum68g2.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> The more I think about these stars, the more it bothers me. I do not
> think that they provide a useful graphical display.
> 1. As I already mentioned, in non-normal models, the standard
> deviation can be very misleading in judging significance. The stars
> should be put on a table of changes in deviance when each parameter in
> turn is removed from the model.

I've been trying to stay out of this, but your line of reasoning seems
to be based on a belief that deviances have better asymptotic
behaviour than the Wald test. I don't think that's necessarily true,
or at least: they too can be misleading. The correct thing would be to
improve the approximation of the p values as much as possible. There's
some interesting new theory out that seems very promising in that
respect.

The Wald-type statistics that one usually sees has the practical
advantage that it depends only on the fitted parameters, but of course
these days it's not really an obstacle to have to do a couple of extra
iterations (per parameter, mind you!)

> 2. Once we realize that, we see that the stars on parameters
> corresponding to a factor variable are meaningless. The contrasts are
> usually rather arbitrary (as Brian Ripley recently pointed out) and
> variables, not individual parameters, are usually to be compared. The stars
> should refer to a variable, not to a parameter.

Yes. Or at least, the joint significance of the dummy variables should
be available. Sometimes you *do* use a meaningful parametrisation of
contrasts, and the associated p-values might be informative.

> 3. Then, if we think of interactions, all stars for main effects are
> meaningless because they cannot be removed without destroying the
> hierarchy of the model.

True. Well almost. There are actually a couple of cases where it makes
sense. (y~C+F:C with F a factor and C continuous gives two lines with
common intercept, e.g.)

>   Apparently my position is evolving to where I believe that the
> option should be removed entirely, or implemented as a new function
> based on changes in deviance.

I'm not all that big a fan of them either, but as long as there is an
on/off switch... 

The other issues are more important and actually relate more to
p-values than to significance stars. 

Two things to note:

(1) The deviance information is actually available via anova.glm and
friends. 

(2) Given that we decide that it would be better to use e.g. a display
that adds joint test statistics for factors and interactions, how many
*other* packages will break, because they extract information from
summary() output? (Perhaps not really that many)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep  6 16:00:27 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 1998 16:00:27 +0200
Subject: R-beta: more R for Windows (rjune)
In-Reply-To: Robert Gentleman's message of Fri, 4 Sep 1998 12:03:15 +1200 (NZST)
References: <199809040003.MAA24020@stat1.stat.auckland.ac.nz>
Message-ID: <x2af4dwdc4.fsf@blueberry.kubism.ku.dk>

Robert Gentleman <rgentlem at stat.auckland.ac.nz> writes:

> I've just put up (12:00 noon NZ) yet another tmp.zip with the fixes
> for Peter Dalgaards two bugs. Niels reports that the 3.51 problems
> are now different but not solved. I'm trying to locate a 3.51 machine
> and will post another fix. 

They seem to be fixed, at least on my W95 system. Here are some new ones:

1) Half of Rjune unpacks to RNew, the other half to Rnew. This creates
some "fun" when unpacked on a Unix server. In particular, it makes it
seem like the "System Data" menu still doesn't work and help won't
start.

2) Reading the airquality data can cause trouble: If you do not change
the options on read.table, you're in for an imminent GPF.

3) Quibble I: Still no contributors()

4) Quibble II: Missing index files on packages mva,eda,stepfun

5) Quibble III: The Console glitch seems worse than ever. I couldn't
even get a clean printout of the airquality data frame. This is likely
to be both machine and OS dependent, but still... Isn't there a buffer
size that can be increased somewhere?

6) Quibble IV: The closing form still talks about saving the "image"
(which many interpret as "the plot window"), even though "workspace"
is being used everywhere else.

7) Quibble V: This has been with us always: The plot window is
generally obscured by the console window, which kind of spoils the fun
of the graphics demo.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep  6 20:45:31 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 6 Sep 1998 19:45:31 +0100 (BST)
Subject: R-beta: Stars again
In-Reply-To: <x24sum68g2.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.980906190803.6219A-100000@localhost>

On 5 Sep 1998, Peter Dalgaard BSA wrote:

> Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
> 
> > 3. Then, if we think of interactions, all stars for main effects are
> > meaningless because they cannot be removed without destroying the
> > hierarchy of the model.
> 
> True. Well almost. There are actually a couple of cases where it makes
> sense. (y~C+F:C with F a factor and C continuous gives two lines with
> common intercept, e.g.)

That being a sub-model of y ~ C*F ?  Yes, that needs fiddling to 
appear permissible.
 
> >   Apparently my position is evolving to where I believe that the
> > option should be removed entirely, or implemented as a new function
> > based on changes in deviance.

There is already such a function!  I assume that since you mention deviance
you are talking about glm's (although you do not say so: could you PLEASE
TRY to remember to say such things).  In any event, this is what drop1 is
methods are supposed to do, and drop1.glm does do in my R implementation. 
As the result is of class anova, print.anova will supply stars or not from
the global setting. 

Example:

library(MASS)
data(quine)
library(aov) # for now
quine.glm <- glm(Days ~ .^2, poisson, data=quine)
drop1(quine.glm, test="Chisq")
Single term deletions

Model:
Days ~ Eth + Sex + Age + Lrn + Eth:Sex + Eth:Age + Eth:Lrn + 
            Sex:Age + Sex:Lrn + Age:Lrn
        Df Deviance AIC    Dev. change Pr(Chi)  
<none>     1368.7   1404.7   0.000              
Eth:Sex  1 1391.6   1425.6  22.916     1.692e-06
Eth:Age  3 1497.4   1527.4 128.773     < 2.2e-16
Eth:Lrn  1 1374.1   1408.1   5.459     0.019466 
Sex:Age  3 1518.2   1548.2 149.568     < 2.2e-16
Sex:Lrn  1 1368.8   1402.8   0.091     0.762758 
Age:Lrn  2 1380.3   1412.3  11.611     0.003010 

[I've left the stars off, because, Martin, they are one row out:
xr[!is.na(xr)] is not of the right length when there are NAs.]


> (2) Given that we decide that it would be better to use e.g. a display
> that adds joint test statistics for factors and interactions, how many
> *other* packages will break, because they extract information from
> summary() output? (Perhaps not really that many)

None if you do not remove the information that is currently there: summary
methods are supposed (in S) to calculate information for print.summary.xxx
methods to print, and priting can be selective. 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Sep  8 09:46:06 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 8 Sep 1998 09:46:06 +0200 (MET DST)
Subject: R-beta: Stars again
Message-ID: <199809080746.JAA17653@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1159 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980908/cda03257/attachment.pl

From wsimpson at uwinnipeg.ca  Wed Sep  9 16:39:39 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Wed, 9 Sep 1998 09:39:39 -0500 (CDT)
Subject: R-beta: extreme value dose-response fit
Message-ID: <Pine.OSF.3.95.980909092917.11830A-100000@io.uwinnipeg.ca>

Here are my dose-response data:

contrast<-c(0,.1,.04,.02,.03)
yes<-c(0+3+2+6+0+4+0+8,49+45,42+37,12+3,40+27)
ntrials<-c(49+49+53+53+55+61+52+42,51+45,51+39,47+48,47+58)

Contrast is the physical variable (dose) being varied.

I can fit these data by MLE to a normal or logistic CDF no problem.  I
have done it both with nlm and glm.

But I run into problems when I try to fit them with an extreme value
CDF. In nlm I have problems with NaNs when a log of a number close to zero
is taken. In glm the procedure does not converge, presumably for the same
reason.  I see in Venables and Ripley 237-238 this is a fairly common
circumstance.  They say to try nlm, which I have done and still have
problems.  The only other solution I see is to fit via least squares
rather than MLE.

I wonder if anyone out there is familiar with this sort of problem and has
ways to deal with it.

Thanks very much for any help.

Bill Simpson
PS By graphical trial and error I see that the extreme value CDF actually
fits these data pretty well.  If I use those eyeballed parameter values as
a starting point, it doesn't help (numerical problems with near-zeros).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janku at ifi.uio.no  Thu Sep 10 12:38:53 1998
From: janku at ifi.uio.no (Jan Kutylowski)
Date: Thu, 10 Sep 1998 12:38:53 +0200 (MET DST)
Subject: R-beta: LaTeX documentation
Message-ID: <199809101038.22531.bouton.ifi.uio.no@ifi.uio.no>



I have compiled and installed 0.62.3 on Solaris and would 
appreciate help on how can print LaTeX versions of manual files. 

Previously it was possible to have full LaTeX documentation, now
it is not obvious to me how to do this.

A. Jan Kutylowskio
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep 10 14:34:54 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 10 Sep 1998 14:34:54 +0200
Subject: R-beta: LaTeX documentation
In-Reply-To: <199809101038.22531.bouton.ifi.uio.no@ifi.uio.no> (message from
	Jan Kutylowski on Thu, 10 Sep 1998 12:38:53 +0200 (MET DST))
Message-ID: <199809101234.OAA19371@sophie.ethz.ch>

>>>>> "Jan" == Jan Kutylowski <janku at ifi.uio.no> writes:

    Jan> I have compiled and installed 0.62.3 on Solaris and would 
    Jan> appreciate help on how can print LaTeX versions of manual files. 

    Jan> Previously it was possible to have full LaTeX documentation, now
    Jan> it is not obvious to me how to do this.

Type
	make dvi	
				from the top level directory

or	 make Man.dvi 
or	 make Man.ps
or even  make Manbooks		after  cd doc/manual/
			{{the latter is somewhat experimental, working only
			  if you have  psbook & pstops 
			   and is for 2-sided printing when you want to get an
			   A5 (= half of A4 = non-US standard paper) folded
			   two-sided "book"}}
--
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.Princeton.EDU  Thu Sep 10 15:58:15 1998
From: ben at eno.Princeton.EDU (Ben Bolker)
Date: Thu, 10 Sep 1998 09:58:15 -0400 (EDT)
Subject: R-beta: trouble compiling 0.62.3 on SunOS 4.1.4: lgamma conflicts
Message-ID: <Pine.SUN.3.95.980910095113.522A-100000@paca>


  I've recently tried to get 0.62.3 up on our Suns (4.1.4, using gcc; I'm
also having trouble with a Solaris 2.6 compile but I haven't given up hope
on that one yet) -- the last compile I did was 0.61.1, which worked
smoothly.
 
 Running

 ./configure --prefix=/usr/local/apps/R/R-0.62.3  [--with-g77]
  (tried both with and without g77, eventually get to the same place),
I get a conflict with the function lgamma being defined both in R and in
the system's libm.a file: 

make
[snip]
cd main; make
g77  -o R.binary arithmetic.o  [snip] version.o ../lib/libgraphics.a
../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a -lSM -lICE
-L/usr/lib/X11 -lX11  -ldl -ltermcap -lm
collect2: ld returned 2 exit status
ld: /lib/libm.a(lgamma.o): _gamma: multiply defined
ld: /lib/libm.a(lgamma.o): _lgamma: multiply defined
*** Error code 1

  lgamma appears to be defined both in 

    ./src/nmath/lgamma.c  -> ./src/lib/libmath.a

   and in /lib/libm.a.

We have a fairly poorly configured system, but 0.61.1 compiled fine;
that version appeared to have a corresponding ./src/math/lgamma.c that was
compiled into ./src/lib/libmath.a, but didn't cause a conflict.

  Any ideas?  I hope I'm not being really foolish.

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben at eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 10 17:09:04 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Sep 1998 17:09:04 +0200
Subject: R-beta: trouble compiling 0.62.3 on SunOS 4.1.4: lgamma conflicts
In-Reply-To: Ben Bolker's message of Thu, 10 Sep 1998 09:58:15 -0400 (EDT)
References: <Pine.SUN.3.95.980910095113.522A-100000@paca>
Message-ID: <x2u32gc8dr.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at eno.princeton.edu> writes:

>   I've recently tried to get 0.62.3 up on our Suns (4.1.4, using gcc; I'm
> also having trouble with a Solaris 2.6 compile but I haven't given up hope
> on that one yet) -- the last compile I did was 0.61.1, which worked
> smoothly.
>  
>  Running
> 
>  ./configure --prefix=/usr/local/apps/R/R-0.62.3  [--with-g77]
>   (tried both with and without g77, eventually get to the same place),
> I get a conflict with the function lgamma being defined both in R and in
> the system's libm.a file: 
> 
> make
> [snip]
> cd main; make
> g77  -o R.binary arithmetic.o  [snip] version.o ../lib/libgraphics.a
> ../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a -lSM -lICE
> -L/usr/lib/X11 -lX11  -ldl -ltermcap -lm
> collect2: ld returned 2 exit status
> ld: /lib/libm.a(lgamma.o): _gamma: multiply defined
> ld: /lib/libm.a(lgamma.o): _lgamma: multiply defined
> *** Error code 1
> 
>   lgamma appears to be defined both in 
> 
>     ./src/nmath/lgamma.c  -> ./src/lib/libmath.a
> 
>    and in /lib/libm.a.
> 
> We have a fairly poorly configured system, but 0.61.1 compiled fine;
> that version appeared to have a corresponding ./src/math/lgamma.c that was
> compiled into ./src/lib/libmath.a, but didn't cause a conflict.
> 
>   Any ideas?  I hope I'm not being really foolish.

You're not. I think there was an earlier report on the same matter.
This time I'm copying it to the R-bugs archive.

The fundamental problem is that so few of us still have functional
SunOS4's left. I have one here, but there's no Fortran and it's
generally flaky in several other respects.

Many other systems e.g. Solaris have their own gamma functions, so it
isn't just the 'defined twice' that is the problem. Ordinarily, in
SunOS4, multiple definitions is not a problem. I certainly can't
reproduce the problem with simple C programs, e.g.

bash$ cat t.c
double lgamma(double x){return 0;}
main(){lgamma(1.0);}
bash$ gcc t.c
bash$ gcc t.c -lm
bash$ 

On the other hand the 'multiply defined' error mesg. comes from ld, so
clearly there's a check for it somewhere. One might suspect that g77
somehow is turning that check on. What happens if you use gcc as the
LDCMD in config.site?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.Princeton.EDU  Thu Sep 10 19:40:29 1998
From: ben at eno.Princeton.EDU (Ben Bolker)
Date: Thu, 10 Sep 1998 13:40:29 -0400 (EDT)
Subject: R-beta: trouble compiling 0.62.3 on SunOS 4.1.4: lgamma conflicts
In-Reply-To: <199809101613.JAA01799@tajo.ucsd.edu.>
Message-ID: <Pine.SUN.3.95.980910133500.552B-100000@paca>


  Thanks to all!

  I thought I was keeping up with the help list, but I guess I must have
missed this exchange.
  Knowing what to look for, I found it on Robert King's archive of the R
lists (searching those archives doesn't seem to work; I wrote him about
it).

  0.62.3 appears to compile fine now.

  Perhaps I'll eventually figure out a more elegant way to deal with the
problem, but I probably won't bother ...

On Thu, 10 Sep 1998, Charles C. Berry wrote:

> Ben,
> 
> I faced this myself recently. The appended email from Ross Ihaka provided a 
> workaround that made the compilation go thru.
> 
> 
> Following Ross' suggestion, I added the two #defines near the top of 
> 	
> 	~R/src/include/Mathlib.h
> 
> The compilation ran to completion, and I am now using R-0.62.2
> 
> 	:-)
> 
> Chuck Berry
> 
> -------------------------------------------------------------------------------
 [Ross]
> 
> One "quick hack" you could try is to put the definition
> 
> 	#define gamma Rgamma
> 	#define lgamma Rlgamma
> 
> at the top of the file ~R/src/include.
> 
> I haven't tried this myself.  It is just a guess as to what might
> work.
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Thu Sep 10 23:36:31 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Thu, 10 Sep 1998 16:36:31 -0500 (CDT)
Subject: R-beta: trouble compiling 0.62.3 on SunOS 4.1.4: lgamma conflicts
In-Reply-To: <Pine.SUN.3.95.980910095113.522A-100000@paca>
Message-ID: <ML-3.3.905463391.5758.gordon@localhost>

The SunOS4 to Solaris2 transition notes for Solaris 2.4 indicate that SVR4
lgamma is not compatible with BSD.

Gordon

> 
>   I've recently tried to get 0.62.3 up on our Suns (4.1.4, using gcc; I'm
> also having trouble with a Solaris 2.6 compile but I haven't given up hope
> on that one yet) -- the last compile I did was 0.61.1, which worked
> smoothly.
>  
>  Running
> 
>  ./configure --prefix=/usr/local/apps/R/R-0.62.3  [--with-g77]
>   (tried both with and without g77, eventually get to the same place),
> I get a conflict with the function lgamma being defined both in R and in
> the system's libm.a file: 
> 
> make
> [snip]
> cd main; make
> g77  -o R.binary arithmetic.o  [snip] version.o ../lib/libgraphics.a
> ../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a -lSM -lICE
> -L/usr/lib/X11 -lX11  -ldl -ltermcap -lm
> collect2: ld returned 2 exit status
> ld: /lib/libm.a(lgamma.o): _gamma: multiply defined
> ld: /lib/libm.a(lgamma.o): _lgamma: multiply defined
> *** Error code 1
> 
>   lgamma appears to be defined both in 
> 
>     ./src/nmath/lgamma.c  -> ./src/lib/libmath.a
> 
>    and in /lib/libm.a.
> 
> We have a fairly poorly configured system, but 0.61.1 compiled fine;
> that version appeared to have a corresponding ./src/math/lgamma.c that was
> compiled into ./src/lib/libmath.a, but didn't cause a conflict.
>
>   Any ideas?  I hope I'm not being really foolish.
> 
> Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
> ben at eno.princeton.edu    Princeton University


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From halvardm at math.uio.no  Fri Sep 11 11:25:18 1998
From: halvardm at math.uio.no (Halvard Moe)
Date: Fri, 11 Sep 1998 11:25:18 +0200 (MDT)
Subject: R-beta: compiling problems under DU4.0D
Message-ID: <13816.60542.881221.906198@clotho.uio.no>


I've down loaded R version 0.62.3 . 
After packing it out on my Digital personal workstation running DU4.0D
i configure using the command

"R_PRINTCMD=ppr CC=cc CFLAGS="-O" PERL=/local/bin/perl5 ./configure --prefix=/local/math"

after this I'm trying to make the package and issue the command "make"

at the end of this process I get the following error:

make[3]: Entering directory `/local/ttmp/R-0.62.3/src/main'
f77  -o R.binary arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o iosupport.o gram.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optimize.o options.o par.o paste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o ../lib/libgraphics.a ../lib/libunix.a ../lib/libappl.a ../lib/libmath.a -lSM -lICE -L/local/X11R5/lib -lX11 -ldnet_stub -ltermcap -lm 
ld:
../lib/libunix.a(system.o): main: multiply defined
fort: Severe: Failed while trying to link.


Does anybody have any clues how to solve this problem?

Halvard Moe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 11 12:32:03 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 1998 12:32:03 +0200
Subject: R-beta: compiling problems under DU4.0D
In-Reply-To: Halvard Moe's message of Fri, 11 Sep 1998 11:25:18 +0200 (MDT)
References: <13816.60542.881221.906198@clotho.uio.no>
Message-ID: <x23e9z2b4s.fsf@blueberry.kubism.ku.dk>

Halvard Moe <halvardm at math.uio.no> writes:

> f77  -o R.binary arithmetic.o array.o ... -lm 
> ld:
> ../lib/libunix.a(system.o): main: multiply defined
> fort: Severe: Failed while trying to link.
> 
> 
> Does anybody have any clues how to solve this problem?
> 
> Halvard Moe

I bet that f77 is trying to stick in its own main(). Try setting
LDCMD=gcc (or cc) in config.site. You may have to add the Fortran
libraries to LIBS as well.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aa at gwen.stat.unipd.it  Fri Sep 11 12:54:20 1998
From: aa at gwen.stat.unipd.it (Adelchi Azzalini)
Date: Fri, 11 Sep 1998 12:54:20 +0200 (MET DST)
Subject: R-beta: cannot make R
Message-ID: <199809111054.MAA24644@gwen.stat.unipd.it.>

Can anyone help?

I am trying to install R-0.62.2 on a Sun with OS 5.6 (Solaris 2.6), 
and gcc/f77.  Unfortunatley the simple commands 

 	./configure --prefix=/opt/R
	 make
 
did not work, complaining when building help/docs.
It claims to have problems perl (which has worked fine so far)
but in practice it is not only a documentation problem:
if I force "make install" and run R, then it starts
but it does not find any command, not even q(); the
only things that I can do are "2+3*4" and similar :-)

Two files are attached with more details, of the installation
steps and of a sample session.

I have tried to remove the --prefix option, but it makes
no difference.

Can anyone help? As a non-hacker I cannot cope with these
trickeries.

best wishes

Adelchi Azzalini  <aa at gwen.stat.unipd.it>
Dept Statistical Sciences, University of Padua, Italy
http://www.stat.unipd.it/dip/homes/azzalini
-------------- next part --------------

[gwen:root:~] date
Friday September 11 09:38:52 MET DST 1998
...
[gwen:root:~/Pkg/R-0.62.2] ./configure --prefix=/opt/R
[gwen:root:~/Pkg/R-0.62.2] make
..... problems 
[gwen:root:~/Pkg/R-0.62.2] make help
..... problems
[gwen:root:~/Pkg/R-0.62.2] make install
[gwen:root:~/Pkg/R-0.62.2] 
[gwen:root:~/Pkg/R-0.62.2] ls /opt/R
bin/  lib/  man/
[gwen:root:~/Pkg/R-0.62.2] ls /opt/R/bin
R*        Rd2txt*   Rdconv*   Rdindex*  Sd2Rd*
[gwen:root:~/Pkg/R-0.62.2] ls /opt/R/lib
R/
[gwen:root:~/Pkg/R-0.62.2] ls /opt/R/lib/R
afm/           COPYING        doc/           library/
bin/           COPYRIGHTS     etc/           MIRROR-SITES
cmd/           demos/         include/       RESOURCES


------------ detailed output of "make something" ------------------------

[gwen:root:~/Pkg/R-0.62.2] make
make -f Makefile.2nd all
Building R
cd src; make R
Extracting foreign function symbols
cd graphics; make
gcc -g -O2 -I ../include -c graphics.c
ar cr ../lib/libgraphics.a graphics.o
ranlib ../lib/libgraphics.a
cd nmath; make
gcc -g -O2 -I../include -c mlutils.c
gcc -g -O2 -I../include -c d1mach.c
gcc -g -O2 -I../include -c i1mach.c
gcc -g -O2 -I../include -c fmax2.c
gcc -g -O2 -I../include -c fmin2.c
gcc -g -O2 -I../include -c fmod.c
gcc -g -O2 -I../include -c fprec.c
gcc -g -O2 -I../include -c fround.c
gcc -g -O2 -I../include -c ftrunc.c
gcc -g -O2 -I../include -c sign.c
gcc -g -O2 -I../include -c fsign.c
gcc -g -O2 -I../include -c fsquare.c
gcc -g -O2 -I../include -c fcube.c
gcc -g -O2 -I../include -c imax2.c
gcc -g -O2 -I../include -c imin2.c
gcc -g -O2 -I../include -c chebyshev.c
gcc -g -O2 -I../include -c logrelerr.c
gcc -g -O2 -I../include -c lgammacor.c
gcc -g -O2 -I../include -c gammalims.c
gcc -g -O2 -I../include -c gamma.c
gcc -g -O2 -I../include -c lgamma.c
gcc -g -O2 -I../include -c beta.c
gcc -g -O2 -I../include -c lbeta.c
gcc -g -O2 -I../include -c polygamma.c
gcc -g -O2 -I../include -c choose.c
gcc -g -O2 -I../include -c snorm.c
gcc -g -O2 -I../include -c sunif.c
gcc -g -O2 -I../include -c sexp.c
gcc -g -O2 -I../include -c dgamma.c
gcc -g -O2 -I../include -c pgamma.c
gcc -g -O2 -I../include -c qgamma.c
gcc -g -O2 -I../include -c rgamma.c
gcc -g -O2 -I../include -c dbeta.c
gcc -g -O2 -I../include -c pbeta.c
gcc -g -O2 -I../include -c qbeta.c
gcc -g -O2 -I../include -c rbeta.c
gcc -g -O2 -I../include -c dunif.c
gcc -g -O2 -I../include -c punif.c
gcc -g -O2 -I../include -c qunif.c
gcc -g -O2 -I../include -c runif.c
gcc -g -O2 -I../include -c dnorm.c
gcc -g -O2 -I../include -c pnorm.c
gcc -g -O2 -I../include -c qnorm.c
gcc -g -O2 -I../include -c rnorm.c
gcc -g -O2 -I../include -c dlnorm.c
gcc -g -O2 -I../include -c plnorm.c
gcc -g -O2 -I../include -c qlnorm.c
gcc -g -O2 -I../include -c rlnorm.c
gcc -g -O2 -I../include -c df.c
gcc -g -O2 -I../include -c pf.c
gcc -g -O2 -I../include -c qf.c
gcc -g -O2 -I../include -c rf.c
gcc -g -O2 -I../include -c dt.c
gcc -g -O2 -I../include -c pt.c
gcc -g -O2 -I../include -c qt.c
gcc -g -O2 -I../include -c rt.c
gcc -g -O2 -I../include -c dchisq.c
gcc -g -O2 -I../include -c pchisq.c
gcc -g -O2 -I../include -c qchisq.c
gcc -g -O2 -I../include -c rchisq.c
gcc -g -O2 -I../include -c dbinom.c
gcc -g -O2 -I../include -c pbinom.c
gcc -g -O2 -I../include -c qbinom.c
gcc -g -O2 -I../include -c rbinom.c
gcc -g -O2 -I../include -c dcauchy.c
gcc -g -O2 -I../include -c pcauchy.c
gcc -g -O2 -I../include -c qcauchy.c
gcc -g -O2 -I../include -c rcauchy.c
gcc -g -O2 -I../include -c dexp.c
gcc -g -O2 -I../include -c pexp.c
gcc -g -O2 -I../include -c qexp.c
gcc -g -O2 -I../include -c rexp.c
gcc -g -O2 -I../include -c dgeom.c
gcc -g -O2 -I../include -c pgeom.c
gcc -g -O2 -I../include -c qgeom.c
gcc -g -O2 -I../include -c rgeom.c
gcc -g -O2 -I../include -c dhyper.c
gcc -g -O2 -I../include -c phyper.c
gcc -g -O2 -I../include -c qhyper.c
gcc -g -O2 -I../include -c rhyper.c
gcc -g -O2 -I../include -c dnbinom.c
gcc -g -O2 -I../include -c pnbinom.c
gcc -g -O2 -I../include -c qnbinom.c
gcc -g -O2 -I../include -c rnbinom.c
gcc -g -O2 -I../include -c dpois.c
gcc -g -O2 -I../include -c ppois.c
gcc -g -O2 -I../include -c qpois.c
gcc -g -O2 -I../include -c rpois.c
gcc -g -O2 -I../include -c dweibull.c
gcc -g -O2 -I../include -c pweibull.c
gcc -g -O2 -I../include -c qweibull.c
gcc -g -O2 -I../include -c rweibull.c
gcc -g -O2 -I../include -c dlogis.c
gcc -g -O2 -I../include -c plogis.c
gcc -g -O2 -I../include -c qlogis.c
gcc -g -O2 -I../include -c rlogis.c
gcc -g -O2 -I../include -c dnchisq.c
gcc -g -O2 -I../include -c pnchisq.c
gcc -g -O2 -I../include -c qnchisq.c
gcc -g -O2 -I../include -c dnbeta.c
gcc -g -O2 -I../include -c pnbeta.c
gcc -g -O2 -I../include -c pnf.c
gcc -g -O2 -I../include -c pnt.c
gcc -g -O2 -I../include -c ptukey.c
gcc -g -O2 -I../include -c qtukey.c
gcc -g -O2 -I../include -c dwilcox.c
gcc -g -O2 -I../include -c pwilcox.c
gcc -g -O2 -I../include -c qwilcox.c
gcc -g -O2 -I../include -c rwilcox.c
ar cr ../lib/libmath.a mlutils.o  d1mach.o i1mach.o  fmax2.o fmin2.o fmod.o fprec.o fround.o ftrunc.o  sign.o fsign.o fsquare.o fcube.o  imax2.o imin2.o  chebyshev.o logrelerr.o lgammacor.o gammalims.o  gamma.o lgamma.o beta.o lbeta.o polygamma.o  choose.o  snorm.o sunif.o sexp.o  dgamma.o pgamma.o qgamma.o rgamma.o  dbeta.o pbeta.o qbeta.o rbeta.o  dunif.o punif.o qunif.o runif.o  dnorm.o pnorm.o qnorm.o rnorm.o  dlnorm.o plnorm.o qlnorm.o rlnorm.o  df.o pf.o qf.o rf.o  dt.o pt.o qt.o rt.o  dchisq.o pchisq.o qchisq.o rchisq.o  dbinom.o pbinom.o qbinom.o rbinom.o  dcauchy.o pcauchy.o qcauchy.o rcauchy.o  dexp.o pexp.o qexp.o rexp.o  dgeom.o pgeom.o qgeom.o rgeom.o  dhyper.o phyper.o qhyper.o rhyper.o  dnbinom.o pnbinom.o qnbinom.o rnbinom.o  dpois.o ppois.o qpois.o rpois.o  dweibull.o pweibull.o qweibull.o rweibull.o  dlogis.o plogis.o qlogis.o rlogis.o  dnchisq.o pnchisq.o qnchisq.o  dnbeta.o pnbeta.o  pnf.o pnt.o  ptukey.o qtukey.o  dwilcox.o pwilcox.o qwilcox.o rwilcox.o
ranlib ../lib/libmath.a
cd appl; make
gcc -g -O2 -I../include -c approx.c
gcc -g -O2 -I../include -c bakslv.c
gcc -g -O2 -I../include -c binning.c
f77  -c blas.f -o blas.o
blas.f:
        dasum:
        daxpy:
        dcopy:
        ddot:
        dmach:
        dnrm2:
        drot:
        drotg:
        dscal:
        dswap:
        idamax:
f77  -c ch2inv.f -o ch2inv.o
ch2inv.f:
        ch2inv:
f77  -c chol.f -o chol.o
chol.f:
        chol:
gcc -g -O2 -I../include -c cpoly.c
gcc -g -O2 -I../include -c cumsum.c
gcc -g -O2 -I../include -c distance.c
f77  -c dpoco.f -o dpoco.o
dpoco.f:
        dpoco:
f77  -c dpodi.f -o dpodi.o
dpodi.f:
        dpodi:
f77  -c dpofa.f -o dpofa.o
dpofa.f:
        dpofa:
f77  -c dposl.f -o dposl.o
dposl.f:
        dposl:
f77  -c dqrdc.f -o dqrdc.o
dqrdc.f:
        dqrdc:
f77  -c dqrdc2.f -o dqrdc2.o
dqrdc2.f:
        dqrdc2:
f77  -c dqrls.f -o dqrls.o
dqrls.f:
        dqrls:
f77  -c dqrsl.f -o dqrsl.o
dqrsl.f:
        dqrsl:
f77  -c dqrutl.f -o dqrutl.o
dqrutl.f:
        dqrqty:
        dqrqy:
        dqrcf:
        dqrrsd:
        dqrxb:
f77  -c dsvdc.f -o dsvdc.o
dsvdc.f:
        dsvdc:
f77  -c dtrsl.f -o dtrsl.o
dtrsl.f:
        dtrsl:
gcc -g -O2 -I../include -c eigen.c
gcc -g -O2 -I../include -c fortran.c
gcc -g -O2 -I../include -c fft.c
f77  -c fmin.f -o fmin.o
fmin.f:
        fmin:
f77  -c lminfl.f -o lminfl.o
lminfl.f:
        lminfl:
gcc -g -O2 -I../include -c lowess.c
gcc -g -O2 -I../include -c machar.c
gcc -g -O2 -I../include -c massdist.c
gcc -g -O2 -I../include -c pretty.c
gcc -g -O2 -I../include -c splines.c
gcc -g -O2 -I../include -c stem.c
gcc -g -O2 -I../include -c strsignif.c
gcc -g -O2 -I../include -c tabulate.c
f77  -c uncmin.f -o uncmin.o
uncmin.f:
        fdhess:
        bakslv:
        chlhsn:
        choldc:
        d1fcn:
        d2fcn:
        dfault:
        dogdrv:
        dogstp:
        forslv:
        fstocd:
        fstofd:
        grdchk:
        heschk:
        hookdr:
        hookst:
        hsnint:
        lltslv:
        lnsrch:
        mvmltl:
        mvmlts:
        mvmltu:
        optchk:
        optdrv:
        optif0:
        optif9:
        optstp:
        qraux1:
        qraux2:
        qrupdt:
        sclmul:
        secfac:
        secunf:
        sndofd:
        tregup:
f77  -c zeroin.f -o zeroin.o
zeroin.f:
        zeroin:
        root1d:
ar cr ../lib/libappl.a approx.o  bakslv.o  binning.o  blas.o  ch2inv.o  chol.o  cpoly.o  cumsum.o  distance.o  dpoco.o  dpodi.o  dpofa.o  dposl.o  dqrdc.o  dqrdc2.o  dqrls.o  dqrsl.o  dqrutl.o  dsvdc.o  dtrsl.o  eigen.o  fortran.o  fft.o  fmin.o  lminfl.o  lowess.o  machar.o  massdist.o  pretty.o  splines.o  stem.o  strsignif.o  tabulate.o  uncmin.o  zeroin.o
ranlib ../lib/libappl.a
cd unix; make
gcc -g -O2 -I/usr/openwin/include -I../include -c dataentry.c
gcc -g -O2 -I/usr/openwin/include -I../include -c devX11.c
gcc -g -O2 -I../include -c devPS.c
gcc -g -O2 -I../include -c dynload.c
gcc -g -O2 -I../include -c edit.c
gcc -g -O2 -I../include -c fileio.c
gcc -g -O2 -I../include -c PostScript.c
gcc -g -O2 -I/usr/openwin/include -I../include -c rotated.c
gcc -g -O2 -I../include -c system.c
gcc -g -O2 -I../include -c devPicTeX.c
ar cr ../lib/libunix.a dataentry.o  devX11.o  devPS.o  dynload.o  edit.o  fileio.o  PostScript.o  rotated.o  system.o  devPicTeX.o
ranlib ../lib/libunix.a
cd main; make
gcc -g -O2 -I../include -c arithmetic.c
gcc -g -O2 -I../include -c array.c
gcc -g -O2 -I../include -c attrib.c
gcc -g -O2 -I../include -c bind.c
gcc -g -O2 -I../include -c builtin.c
gcc -g -O2 -I../include -c character.c
gcc -g -O2 -I../include -c coerce.c
gcc -g -O2 -I../include -c colors.c
gcc -g -O2 -I../include -c complex.c
gcc -g -O2 -I../include -c context.c
gcc -g -O2 -I../include -c cov.c
gcc -g -O2 -I../include -c cum.c
gcc -g -O2 -I../include -c debug.c
gcc -g -O2 -I../include -c deparse.c
gcc -g -O2 -I../include -c deriv.c
gcc -g -O2 -I../include -c devices.c
gcc -g -O2 -I../include -c dotcode.c
gcc -g -O2 -I../include -c dstruct.c
gcc -g -O2 -I../include -c duplicate.c
gcc -g -O2 -I../include -c envir.c
gcc -g -O2 -I../include -c errors.c
gcc -g -O2 -I../include -c eval.c
gcc -g -O2 -I../include -c format.c
gcc -g -O2 -I../include -c fourier.c
gcc -g -O2 -I../include -c iosupport.c
gcc -g -O2 -I../include -c gram.c
gcc -g -O2 -I../include -c list.c
gcc -g -O2 -I../include -c logic.c
gcc -g -O2 -I../include -c main.c
gcc -g -O2 -I../include -c match.c
gcc -g -O2 -I../include -c memory.c
gcc -g -O2 -I../include -c model.c
gcc -g -O2 -I../include -c names.c
gcc -g -O2 -I../include -c objects.c
gcc -g -O2 -I../include -c optimize.c
gcc -g -O2 -I../include -c options.c
gcc -g -O2 -I../include -c par.c
gcc -g -O2 -I../include -c paste.c
gcc -g -O2 -I../include -c plot.c
gcc -g -O2 -I../include -c plot3d.c
gcc -g -O2 -I../include -c plotmath.c
gcc -g -O2 -I../include -c print.c
gcc -g -O2 -I../include -c printarray.c
gcc -g -O2 -I../include -c printvector.c
gcc -g -O2 -I../include -c printutils.c
gcc -g -O2 -I../include -c random.c
gcc -g -O2 -I../include -c relop.c
gcc -g -O2 -I../include -c saveload.c
gcc -g -O2 -I../include -c scan.c
gcc -g -O2 -I../include -c seq.c
gcc -g -O2 -I../include -c sort.c
gcc -g -O2 -I../include -c source.c
gcc -g -O2 -I../include -c split.c
gcc -g -O2 -I../include -c subassign.c
gcc -g -O2 -I../include -c subscript.c
gcc -g -O2 -I../include -c subset.c
gcc -g -O2 -I../include -c summary.c
gcc -g -O2 -I../include -c unique.c
gcc -g -O2 -I../include -c util.c
gcc -g -O2 -I../include -c version.c
f77  -o R.binary arithmetic.o  array.o  attrib.o  bind.o  builtin.o  character.o  coerce.o  colors.o  complex.o  context.o  cov.o  cum.o  debug.o  deparse.o  deriv.o  devices.o  dotcode.o  dstruct.o  duplicate.o  envir.o  errors.o  eval.o  format.o  fourier.o  iosupport.o  gram.o  list.o  logic.o  main.o  match.o  memory.o  model.o  names.o  objects.o  optimize.o  options.o  par.o  paste.o plot.o  plot3d.o  plotmath.o  print.o  printarray.o  printvector.o  printutils.o  random.o  relop.o  saveload.o  scan.o  seq.o  sort.o  source.o  split.o  subassign.o  subscript.o  subset.o  summary.o  unique.o  util.o  version.o ../lib/libgraphics.a  ../lib/libunix.a  ../lib/libappl.a  ../lib/libmath.a -lSM -lICE -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lsocket  -lnsl -ldl -ltermcap -lm
cd include; make
Removing links in src/include
Making include links
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c R.binary ../../bin
R binary installed
Building R base package
building system startup profile
Building application packages..
Installing package `eda' ...
libs
gcc -g -O2 -fpic -I/export/home/aa/Pkg/R-0.62.2/include  -c  line.c
gcc -g -O2 -fpic -I/export/home/aa/Pkg/R-0.62.2/include  -c  smooth.c
ld -G -o eda.so line.o  smooth.o
R
help
DONE (eda)

DONE (INSTALL)
Installing package `mva' ...
libs
gcc -g -O2 -fpic -I/export/home/aa/Pkg/R-0.62.2/include  -c  dblcen.c
gcc -g -O2 -fpic -I/export/home/aa/Pkg/R-0.62.2/include  -c  dist.c
f77 -fpic -c hclust.f -o hclust.o
f77: Warning: Option -fpic passed to ld, if ld is invoked, ignored otherwise
hclust.f:
        hclust:
        ioffset:
        hcass2:
ld -G -o mva.so dblcen.o  dist.o  hclust.o
R
help
DONE (mva)

DONE (INSTALL)
Installing package `stepfun' ...
R
help
DONE (stepfun)

DONE (INSTALL)
Creating front-end shell script

You should
        make docs
now, or at least
        make help

Building ALL documentation (help, HTML, LaTeX)
./build-alldocs
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
*** Error code 2
make: Fatal error: Command failed for target `stamp-docs'
Current working directory /export/home/aa/Pkg/R-0.62.2/etc
[gwen:root:~/Pkg/R-0.62.2]  make help
make -f Makefile.2nd help
Building ALL help pages
./build-allhelp
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
*** Error code 2
make: Fatal error: Command failed for target `stamp-help'
Current working directory /export/home/aa/Pkg/R-0.62.2/etc
[gwen:root:~/Pkg/R-0.62.2] 



[gwen:root:~/Pkg/R-0.62.2] make install
make -f Makefile.2nd install
Building R
cd src; make R
Extracting foreign function symbols
cd graphics; make
`../lib/libgraphics.a' is up to date.
cd nmath; make
`../lib/libmath.a' is up to date.
cd appl; make
`../lib/libappl.a' is up to date.
cd unix; make
`../lib/libunix.a' is up to date.
cd main; make
`R.binary' is up to date.
cd include; make
Removing links in src/include
Making include links
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c R.binary ../../bin
R binary installed
Building R base package
building system startup profile
Building application packages..
Installing package `eda' ...
libs
`eda.so' is up to date.
R
help
DONE (eda)

DONE (INSTALL)
Installing package `mva' ...
libs
`mva.so' is up to date.
R
help
DONE (mva)

DONE (INSTALL)
Installing package `stepfun' ...
R
help
DONE (stepfun)

DONE (INSTALL)
Creating front-end shell script

You should
        make docs
now, or at least
        make help

Building ALL documentation (help, HTML, LaTeX)
./build-alldocs
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
Can't locate re.pm in @INC (@INC contains: -d /usr/local/lib/perl5/5.00501 /usr/local/lib/perl5/site_perl/5.005/sun4-solaris /usr/local/lib/perl5/site_perl/5.005 .) at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.00501/File/Basename.pm line 127.
BEGIN failed--compilation aborted at /export/home/aa/Pkg/R-0.62.2/etc/build-help line 11.
*** Error code 2
make: Fatal error: Command failed for target `stamp-docs'
Current working directory /export/home/aa/Pkg/R-0.62.2/etc
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/bin
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/man/man1
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/bin
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/cmd
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/etc
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/include
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/library
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 R.1 /opt/R/man/man1
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 Rdconv.1 /opt/R/man/man1
(cd /opt/R/man/man1; \
        for f in Rd2txt.1 Rdindex.1 Sd2Rd.1; \
                do rm -f $f; ln -s Rdconv.1 $f; \
        done)
for f in COPYING COPYRIGHTS MIRROR-SITES RESOURCES; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R; done
cd afm; make install
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/afm
for f in A* B* Cour* H* [N-Z]*; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/afm; \
done
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c bin/R.binary /opt/R/lib/R/bin
cat bin/R | sed "s at RHOME=.*@RHOME=/opt/R/lib/R@" > /opt/R/bin/R
chmod 755 /opt/R/bin/R
for f in `ls cmd/[a-z]* | grep -v '.*\.in'`; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c $f /opt/R/lib/R/cmd; done
cd demos; make install
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/demos/dynload 
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/demos/graphics 
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/demos/language 
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/demos/models 
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/demos/nlm
for f in dynload/Makefile dynload/README dynload/zero*; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644  $f /opt/R/lib/R/demos/dynload; \
done
for f in graphics/*.R; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/demos/graphics; \
done
for f in language/*.R; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/demos/language; \
done
for f in models/*.R; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/demos/models; \
done
for f in nlm/*.R; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/demos/nlm; \
done
cd doc; make install
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/doc/manual 
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/doc/html/search
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c keyword-test /opt/R/lib/R/doc
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 KEYWORDS /opt/R/lib/R/doc
for f in html/*.html html/*.jpg; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/doc/html; \
done
for f in  html/search/*.class html/search/*.html \
        html/search/index.txt ; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/doc/html/search; \
done
cd manual; make install
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/doc/manual
for f in Makefile *.tex *.sty; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/doc/manual; \
done
cd etc; make install
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -d /opt/R/lib/R/etc
for f in COMPILE INSTALL REMOVE SHLIB Rd2dvi Rd2txt \
   Rdconv Rdindex Rman2Rd Sd2Rd build-help help.pretty; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c $f /opt/R/lib/R/etc; \
done
for f in buildlib.pl html-layout.pl Makeconf Rdconvlib.pl; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/etc; \
done
for f in Rd2txt Rdconv Rdindex Sd2Rd; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c $f /opt/R/bin; \
done
for f in include/*.h; \
        do /export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 $f /opt/R/lib/R/include; done
Installing library ...
cd library; tar cf - [a-z]* | (cd /opt/R/lib/R/library; tar xf -)
/export/home/aa/Pkg/R-0.62.2/etc/install-sh -c -m 644 library/LibIndex /opt/R/lib/R/library
[gwen:root:~/Pkg/R-0.62.2] 
-------------- next part --------------
[gwen:root:/opt/R/bin] R

R : Copyright 1998, The R Development Core Team
Version 0.62.2  (July 10, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.

Error: Object "colors" not found
Error: couldn't find function "structure"
> demo()
Error: couldn't find function "demo"
> help()
Error: couldn't find function "help"
> 1+2
[1] 3
> 1:5
[1] 1 2 3 4 5
> log(1:5)
Error: couldn't find function "log"
> seq(1,10)
Error: couldn't find function "seq"
> q(0
+ )
Error: couldn't find function "q"
> q()
Error: couldn't find function "q"
> quit()
Error: couldn't find function "quit"
> Killed
[gwen:root:/opt/R/bin] 

From p.dalgaard at biostat.ku.dk  Fri Sep 11 13:32:10 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 1998 13:32:10 +0200
Subject: R-beta: cannot make R
In-Reply-To: Adelchi Azzalini's message of Fri, 11 Sep 1998 12:54:20 +0200 (MET DST)
References: <199809111054.MAA24644@gwen.stat.unipd.it.>
Message-ID: <x21zpi3mx1.fsf@blueberry.kubism.ku.dk>

Adelchi Azzalini <aa at gwen.stat.unipd.it> writes:

> --Draught_of_Fish_465_000
> Content-Type: TEXT/plain; charset=us-ascii
> Content-MD5: 3xRBulk8ac6Xa0yCJSpBQw==
> 
> Can anyone help?
> 
> I am trying to install R-0.62.2 on a Sun with OS 5.6 (Solaris 2.6), 
                         ^^^^^^^^
> and gcc/f77.  Unfortunatley the simple commands 

At least one of your problems was fixed in 0.62.3... (the colors
thing, which is what leads to the absent-functions situation. Don't
know about perl - why does perl go looking in /usr/local/xxx when you
install R in /opt?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Sat Sep 12 00:13:37 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Fri, 11 Sep 1998 17:13:37 -0500 (CDT)
Subject: R-beta: Problem with functions using sub and gsub, Solaris2.4
In-Reply-To: <x2wwa3ayf8.fsf@blueberry.kubism.ku.dk>
Message-ID: <ML-3.3.905552017.6838.gordon@localhost>

Earlier Peter Dalgaard provided some helpful hints regarding sub and gsub. By
extracting regex.o from the system library and putting it in the load list and
by referencing the system regex.h it was possible unequivocally to load main
with the system regex. The resulting program still contained the bug. Since the
problem does not appear with Solaris2.5 the problem clearly lies specifically
in the Solaris2.4 system library. Another library must be used.

Compiling the GNU regex and archiving it enables a build with:
CPPFLAGS=-I/usr/local/include LIBS=/usr/local/lib/libregex.a ./configure \
	--prefix=/apps/R/Rcurrent

Gordon
> gordon.harrington at uni.edu writes:
> 
> > 
> > Previously I had problems with data(foo) and Gass and I had problems with
> > help(). His diagnostic was "POSIX regular expressions not available" and
> > mine was "invalid regular expression". Martin Maechler has no problems
> > with Solaris 2.5 and suggested a regular expression library was needed,
> > e.g., regex-x.xx. 
> 
> Gass's problem is pretty clearly that the library is absent, yours is
> - different.
> 
> The whole thing works for me in Solaris 2.5.1 too.
> 
> > 
> > Solaris 2.4 has regex.o in /usr/ccs/libgen.a and regex.h in /usr/include.
> > configure finds regcomp and make does not show any errors compiling and
> > loading. Hence their is no indication that R cannot find the appropriate
> > library. As an attempted solution, I tried downloading GNU regex-0.12 and
> > putting regex.o in src/main so that it would be available first when ld
> > searched for links. (character.c in main seems to be the only function
> > calling regcomp.) It does not alter the problem. (I am using gcc since
> > the sun native C compiler does not do well by R.)
> > 
> > Any suggestions?
> 
> This may be a completely silly suggestion, but did you add the new
> regex.o to the list of of OBJS in src/main/Makefile? You don't
> actually say that you did, and just placing the file in the directory
> is not enough.
> 
> Another thing: Are you sure that the libgen routine is getting linked
> in? Wading through DejaNews gives me some hints that there are stub
> routines in libc.a that might get linked in instead. I.e. does the
> final gcc command actually contain "-lgen"?
>


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Sat Sep 12 23:25:02 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Sat, 12 Sep 1998 16:25:02 -0500 (CDT)
Subject: R-beta: Sun native compiler SC2.0.1, R-0.62.x
Message-ID: <ML-3.3.905635502.6838.gordon@localhost>

Several multiple definition fatal errors occur compiling R-0.62.2 and more with
0.62.3 using the Sun native compiler SC2.0.1. Earlier versions of R did not
present the problem. It does not occur with gcc.

The problem lies in the SC2.0.1 library in sunmath.h which is not fully ANSI
compliant. The compiler, with appropriate options, compiles non-ANSI usages but
does not recognize alternatives as aliases of each other. Thus it will properly
compile either "long" or "int" but it will not accept a variable which is
defined as "int" in one place and as "long" in another. I have not seen any
released patch for the includes to make them ANSI compliant.

Since R is a work in progress it seems better to use gcc than to tinker with
the Sun library or with program coding to gain the slight advantages of native
compiler optimization. 

Gordon



Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 13 09:52:19 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 13 Sep 1998 08:52:19 +0100 (BST)
Subject: R-beta: Sun native compiler SC2.0.1, R-0.62.x
In-Reply-To: <ML-3.3.905635502.6838.gordon@localhost>
Message-ID: <Pine.GSO.3.96.980913081039.27948A-100000@localhost>

On Sat, 12 Sep 1998 gordon.harrington at uni.edu wrote:

> Several multiple definition fatal errors occur compiling R-0.62.2 and more with
> 0.62.3 using the Sun native compiler SC2.0.1. Earlier versions of R did not
> present the problem. It does not occur with gcc.

You don't say what OS (and SunPro compilers do not only apply to Suns, let
alone two OSes and at least 3 architectures on Suns). As far as I can
remember SC2.0.1 was not `native' but an additional cost-product from a
separate Sun company. 

I just wanted to point out that is a _very_ old SunPro compiler: the
current version on both Solaris and SunOS is at least SC4.2, and I see we
used SC3.0.1 in 1994.  I doubt if people are trying gcc of similar age
(2.5.x?), and if they were I would expect problems with header files.

> The problem lies in the SC2.0.1 library in sunmath.h which is not fully ANSI
> compliant. The compiler, with appropriate options, compiles non-ANSI usages but
> does not recognize alternatives as aliases of each other. Thus it will properly
> compile either "long" or "int" but it will not accept a variable which is
> defined as "int" in one place and as "long" in another. I have not seen any
> released patch for the includes to make them ANSI compliant.

There are very many released patches to the Sun compilers, but I think it
is unrealistic to expect them to still be available for so long superseded
a product.

> Since R is a work in progress it seems better to use gcc than to tinker with
> the Sun library or with program coding to gain the slight advantages of native
> compiler optimization. 

On Solaris fairly recent versions of cc work: as indeed is listed in
PLATFORMS.  Those of us who have tried both cc (SC4.x) and gcc (2.8.1) with
R see very little advantage to cc: I posted some comparative timings a
while ago (possibly to R-devel) that showed negligible differences.

A small point for R-core: PLATFORMS lists rather precise OS versions (e.g.
Solaris 2.5.1) but not compiler versions which are probably more critical. 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Sun Sep 13 12:17:54 1998
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Sun, 13 Sep 1998 12:17:54 +0200 (CEST)
Subject: R-beta: compiling problems under DU4.0D
In-Reply-To: <13816.60542.881221.906198@clotho.uio.no>
Message-ID: <Pine.LNX.4.02.9809131147090.8899-100000@alpha.fuzzy.at>

On Fri, 11 Sep 1998, Halvard Moe wrote:

> I've down loaded R version 0.62.3 . 
> After packing it out on my Digital personal workstation running DU4.0D
> i configure using the command
> ........
> make[3]: Entering directory `/local/ttmp/R-0.62.3/src/main'
> f77  -o R.binary arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o iosupport.o gram.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optimize.o options.o par.o paste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o ../lib/libgraphics.a ../lib/libunix.a ../lib/libappl.a ../lib/libmath.a -lSM -lICE -L/local/X11R5/lib -lX11 -ldnet_stub -ltermcap -lm 
> ld:
> ../lib/libunix.a(system.o): main: multiply defined
> fort: Severe: Failed while trying to link.


You have to use the "-nofor_main" option with Digital Fortran.

Here are the Fortran options from my "config.site":
FFLAGS="-g -fpe3"
LDCMD="f77 -g -nofor_main -fpe3 "


Albrecht

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/837               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Sun Sep 13 23:56:44 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Sun, 13 Sep 1998 16:56:44 -0500 (CDT)
Subject: R-beta: Sun native compiler SC2.0.1, R-0.62.x
In-Reply-To: <Pine.GSO.3.96.980913081039.27948A-100000@localhost>
Message-ID: <ML-3.3.905723804.6838.gordon@localhost>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote: 
> 
> I just wanted to point out that is a _very_ old SunPro compiler: the
> current version on both Solaris and SunOS is at least SC4.2, and I see we
> used SC3.0.1 in 1994.  I doubt if people are trying gcc of similar age
> (2.5.x?), and if they were I would expect problems with header files.

That is interesting. My CD-ROM with SC2.0.1 is dated August, 1995 and my OS is
Solaris2.4. Apparently my SunPRO is older than the date while I know my network
routines are Solaris2.5 which was released later.. 

> On Solaris fairly recent versions of cc work: as indeed is listed in
> PLATFORMS.  Those of us who have tried both cc (SC4.x) and gcc (2.8.1) with
> R see very little advantage to cc: I posted some comparative timings a
> while ago (possibly to R-devel) that showed negligible differences.

I ran some timings too with similar results but Sun suggested there were
differences at maximum optimizaton which I did not test. Clearly I should stay
with gcc which I can afford to keep more up to date.
 
> A small point for R-core: PLATFORMS lists rather precise OS versions (e.g.
> Solaris 2.5.1) but not compiler versions which are probably more critical. 
> 



Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlipsitch at yahoo.com  Mon Sep 14 04:30:11 1998
From: mlipsitch at yahoo.com (Marc Lipsitch)
Date: Sun, 13 Sep 1998 19:30:11 -0700 (PDT)
Subject: R-beta: Applying functions to vectors--question
Message-ID: <19980914023011.24440.rocketmail@send102.yahoomail.com>


Here is a problem I have encountered with R when calling functions
with vector arguments,
when the vectors contain some values which may be nonsensical as
arguments.

Rather than apply the function piecewise to each element of the
vector, it does something
more complicated (and less helpful).

I have constructed a function f (below) which tests if its argument is
negative; if it is,
it returns 0, if not, it returns sqrt(f).

This works fine with scalar arguments.

If you give it a vector argument, however, it seems to have trouble. 
What appears to 
happen is that the whole vector is evaluated in the if statement and
in the then part.

If the first value in the vector is a nonsensical argument (negative),
 the if is not true, so the function returns a single 0.

If the first value in the vector is a good argument (positive), then
it returns the
sqrt function, applied to each element of the input vector.

So what I'm wondering is -- how can you simply apply the function f to
each element 
of the vector without this weird thing happening?

Not having used S, I don't know whether this is 

(a) a design feature that is there for a good reason that I just
haven't figured out
(b) a bug in S that has been reproduced in R
or
(c) a bug unique to R.


Can someone help me out?  Many thanks in advance

Marc Lipsitch
lipsitch at biology.emory.edu
> f_function(e) {
+ 
+ out_0
+ 
+ if(e>0)
+ 
+          out_sqrt(e) 
+ 
+ out}
> 
> 
> 
> f(-2)
[1] 0
> 
> f(-2:2)
[1] 0
> 
> f(2:-2)
Warning: NaNs produced in function "sqrt"
[1] 1.414214 1.000000 0.000000      NaN      NaN
> f
function (e) 
{
	    out <- 0
	    if (e > 0) 
	    	    out <- sqrt(e)
	    out
}

_________________________________________________________
DO YOU YAHOO!?
Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 14 08:37:48 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 14 Sep 1998 07:37:48 +0100 (BST)
Subject: R-beta: Sun native compiler SC2.0.1, R-0.62.x
In-Reply-To: <ML-3.3.905723804.6838.gordon@localhost>
Message-ID: <Pine.GSO.3.96.980914072418.426B-100000@localhost>

On Sun, 13 Sep 1998 gordon.harrington at uni.edu wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote: 
> > 
> > I just wanted to point out that is a _very_ old SunPro compiler: the
> > current version on both Solaris and SunOS is at least SC4.2, and I see we
> > used SC3.0.1 in 1994.  I doubt if people are trying gcc of similar age
> > (2.5.x?), and if they were I would expect problems with header files.
> 
> That is interesting. My CD-ROM with SC2.0.1 is dated August, 1995 and my OS is
> Solaris2.4. Apparently my SunPRO is older than the date while I know my network
> routines are Solaris2.5 which was released later.. 

On our (Sparc) systems Solaris 2.5 is dated November 1995, and SC3.0 is
dated Aug 9 1994. (It reports its version as 3.0.1, but was perhaps patched
to that at a later stage.) We still have it available as it is the
officially compatible compiler with S-PLUS 3.4. 

I had a private message from someone who has SC2.0.1 bundled with SunOS
4.1.3.  I checked our remaining 4.1.3 system, and its bundled compiler is
not SC2.0.1, indeed is dated July 23 1992.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Mon Sep 14 10:00:26 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Mon, 14 Sep 1998 10:00:26 +0200 (MET DST)
Subject: R-beta: R62.3 crash
Message-ID: <199809140800.KAA10761@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1378 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980914/9fdd62b1/attachment.pl

From plummer at iarc.fr  Mon Sep 14 09:41:12 1998
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 14 Sep 1998 09:41:12 +0200
Subject: R-beta: Applying functions to vectors--question
References: <19980914023011.24440.rocketmail@send102.yahoomail.com>
Message-ID: <35FCC898.FDC13F3@iarc.fr>

Marc Lipsitch wrote:

> I have constructed a function f (below) which tests if its argument is
> negative; if it is,
> it returns 0, if not, it returns sqrt(f).
> 
> This works fine with scalar arguments.
> 
> If you give it a vector argument, however, it seems to have trouble.

You want to use the "ifelse" function,  to apply a condition
element-wise
to a vector, e.g.

f <- function(e)
	ifelse(e>0,sqrt(e),0)

Or, to avoid the warning (which comes about because both alternative
answers
are evaluated before deciding which one to apply)

f <- function(e)
	sqrt(ifelse(e>0,e,0))

NB The help page for "if" points to the help page for "ifelse" which
gives
an example very similar to this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Sep 14 11:37:28 1998
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 14 Sep 1998 09:37:28 -0000 ()
Subject: R-beta: R62.3 crash
In-Reply-To: <199809140800.KAA10761@alpha.luc.ac.be>
Message-ID: <XFMail.980914101427.plummer@iarc.fr>

On 14-Sep-98 Jim Lindsey wrote:
>  Well I have finally had a crash, but I am not sure that it can be
>entirely blamed on R.

I don't think it can be blamed on R at all. You are trying to call
a function in one dynamic library from another dynamic library.
We had a discussion about this back in May on R-devel (q.v. the archives).

1) Because R loads dynamic libraries without the RTDL_GLOBAL flag,
external symbols defined in the library are not made available to
subsequently loaded libraries (see dlopen man page). 

2) You could fix your problem by ORing RTDL_LAZY with RTDL_GLOBAL in
the call to dlopen (src/unix/dynload.c). Guido Masarotto gave
a trivial example to demonstrate this.

3) Although this solution works on Linux, it may not work on other
operating systems.

4) I suggested a more portable solution: use the function R_FindSymbol
to get a pointer to a function in a previously loaded library. This is
just what dotcode.c does. I have a modified version of Guido's example
to demonstrate this which I'll repost if you like.

(There is a license issue here, since I believe that if you make
direct calls to R internals rather than using the R language interface,
your code must be GPL)

Martyn

>  I reorganized my libraries to cut out overlap by putting all
>functions (R, C, and Fortran) used by several libraries in a separate
>library that is required by the four others. Some C code is called
>directly by R functions in several libraries, and not just through an
>R function interface. When I load a library, R does not complain
>(although it now checks resolving functions in dynamic loading and
>complains if there is a problem in other situations). But when I use a
>function in one of my main libraries that requires a C function in the
>utilities library, R promptly crashes saying that it cannot resolve
>the function call. (Note that the same C function can be dynamically
>loaded simultaneously in several libraries without conflict; I had
>been doing this all along and have gone back to doing it.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Sep 15 20:57:44 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 15 Sep 1998 13:57:44 -0500 (CDT)
Subject: R-beta: data.entry()
Message-ID: <Pine.OSF.3.95.980915133744.10521A-100000@io.uwinnipeg.ca>

I have looked at the help page and at "Notes on R" and not found much info
on data.entry.  I wanted to use it to put my class marks into a data frame
(I don't normally use data frames but I guess this is the way to do it).

data.entry()
brings up the spreadsheet.  OK enter data, change col names, change col
data types etc. Now how do I save these data to disk as a dataframe?
Clicking Quit seems to just create these cols as independent vectors. Then
I have to manually string them all together into a dataframe using
data.frame()? Is there a better way?

One other question. At the end of term I want to print up the spreadsheet
(name, student#, test1, test2, etc). The marks will all be in a data
frame. Is it possible to get a print out like:

Name	Number	test1	test2	test3	...
-----------------------------------------------
bob	ads12	10	20	30
joe	gfd73	20	30	50 
...

(I know this is not using data.entry, but the idea of using data.entry is
to simulate a spreadsheet, and one thing you do with spreadsheets is make
print-outs like this)

Thanks for any help!  BTW I think it would be helpful to have a little
write-up in Notes on R, I would do it if you want. Many newbies would like
to use data.entry if they knew how, I think.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Tue Sep 15 22:46:14 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Wed, 16 Sep 1998 08:46:14 +1200 (NZST)
Subject: R-beta: data.entry()
Message-ID: <199809152046.IAA26138@stat1.stat.auckland.ac.nz>

Bill,
  data entry was one of my first little projects in R. I really wish
  that I had enough time to make it better. It was written long
  before data frames were part of R. The return of individual 
  vectors is done in data.entry. It is pretty simple to instead
  turn tmp1 (which is a list) into a data frame 
  and return that.
  
  Having the vectors appear at top level was something we did
  for our students as they were having a hard time believing that
  you needed to assign everything. Now that R is distributed 
  somewhat more  publicly this may need to change. Opinions?
  
  As for the printing, well that looks like an even larger problem
  than fixing some of data.entry's existing bugs.
  
  robert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 16 00:00:33 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 1998 00:00:33 +0200
Subject: R-beta: data.entry()
In-Reply-To: Robert Gentleman's message of Wed, 16 Sep 1998 08:46:14 +1200 (NZST)
References: <199809152046.IAA26138@stat1.stat.auckland.ac.nz>
Message-ID: <x2af4111fi.fsf@blueberry.kubism.ku.dk>

Robert Gentleman <rgentlem at stat.auckland.ac.nz> writes:

>   As for the printing, well that looks like an even larger problem
>   than fixing some of data.entry's existing bugs.

..some of which are notoriously nasty! Such as the one where the two
first columns somehow gets the same name so that when you save, you
lose the original contents of the first column. (This is definitely in
Rsept for PC, but I suspect it isn't specific to that, and certainly
noone has been doing any debugging of that part lately).

I gave up using data.entry in teaching for that reason, but it really
is a pity because the basic idea of having the spreadsheet-like
interface is very good.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Sep 16 09:42:33 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 16 Sep 1998 09:42:33 +0200 (MET DST)
Subject: R-beta: replacement version of repeated measurements libraries
Message-ID: <199809160742.JAA27112@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1608 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980916/ae0a35ad/attachment.pl

From guido at sirio.stat.unipd.it  Wed Sep 16 14:01:52 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Sep 1998 13:01:52 +0100
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT 
Message-ID: <19980916130152.A227@sirio.stat.unipd.it>

I have just made available on ftp://sirio.stat.unipd.it/pub/R a
new version of R for MsWindows compiled with gcc-mingw32.
Enclosed you can find the README. Since there are many news
(with respect to my previous port, rw0613), please read it.
guido


------------------------ README ----------------------------------------
rw0623b.zip is  a binary distribution of R (based on the last "stable"
version, 0.62.3) for Win3.1/Win32s, Win95 and WinNT. 
rw0623s.zip contains the  sources.

A. News (with respect to rw0613)
--------------------------------
(a) I rewrote the console using a portable toolkit (GraphApp, see
http://www.cs.usyd.edu.au/~loki/graphapp). Now, output is buffered
until some input is required. This means that it is faster 
(for a good test, I learned it from Peter Daalgard,
try `ls("package:base")' ). Of course, buffering can be disabled
(you need to disable it ONLY if your command require a lot of time
and you want to look to the output line by line). In addition,
there are some command history support. For a mini help on the new
console, use the help/Console menuitem.

(b) I also rewrote the graphics device using GraphApp. Apart for the redraw
(which seems faster) the GraphApp device is +/- equal to the one that
you find in RJune. With respect to rw0613 the major improvements are:
(i) it is a R0.62.x device,i.e., it supports multiple instances,
resizing, copy,...(look to the dev.xxx functions); (ii) it supports 
plotting math expression; (iii) there is  a new item in the 
menu which let to save the contents of the active device as a gif file;
(ii) arbitrary line patterns in any width are supported.

(c) Now, edit makes use of an external editor (the default one is
notepad),i.e., it works as under Unix. 

(d) date() now works. In addition, proc.time(), and so system.time(..),
works (but don't expect too much, you will get only the elapsed time).

(e) IEEE math (Inf, Nan,..).

(f) I used the GNU regex library (included in rw0623s). Hence all the
code is GPL'ed.


B. The new menubar
------------------
The menu bar contains the following item:
 File       Source R Code  -> ask for a filename and then send to the
                              interpreter a source(filename) command.
            Load Image     -> ask for a filename and then send to the
                              interpreter a load(filename) command.
            Save Image     -> ask for a filename and then send to the
                              interpreter a save.image(filename) command.
 Edit       Copy          
            Paste
	    Copy and Paste
	    Select All
	  
 Misc       Kill current computation
            List objects          -> send to the interpreter a ls() command
	    Remove all objects    -> ask for confirmation and then send to
	                           the interpreter a rm(list=ls()) command
 Graphics   save as Postscript    -> ask for a filename and then send to the
                                     interpreter a dev.print(...) command
            save as gif           -> ask for a filename (extension must be
	                             .gif) and then save the current plot
				     as gif
 Help       Console               -> mini help on the console
            R language            -> ask for a topic and then send to the
	                             interpreter a help(topic) command
            Apropos               -> ask for a topic and then send to the
	                             interpreter a apropos(topic) command
            About      
	    
Observe that some of the menu items just send to the interpreter a
command. This means that these items are disabled when the interpreter is
waiting for the completation of a previous command,i..e, when you
have the ''continuation'' prompt. On the other end, under normal editing 
(prompt='>'), since the current line is saved and then restored you can,
for example, type part of a command, ask for some help, and then
complete your command.

C. Printing
-----------
To avoid questions: printing is not directly supported (yet).

To print the content of the console you must:
a) select the text;
b) copy it to the clipboard;
c) paste it in some word processor or editor which can print.

To obtain a good copy of your  graphs you can:
a) save it as postscript and then print on a ps printer (or play with
it using gostscript);
b) save it as a gif and then print it using one of the many programs
which support this format (image manipulation programs, word processors,
internet browsers,...).

If you give the focus to a graphic windows, you can also copy it
to the clipboard using the alt+print keys. But this is the standard
Windows command and you will get also the window's decoration.
So this is useful only to get a "draft" copy of the graph.
[however, I find quite effective to open a word processor
in which to paste command, console output and graphs. Indeed this is the way,
I ask my students to work (of course, they must also write comments!)].


D. Installation (binary distribution)
-------------------------------------
Just unzip the archive. You will get a new directory (rw0623).
The executable is bin/R.exe. 

Observe that since I consider this 
version more experimental than rw0613 (see below), the binary
distribution contains only the standard packages (base,eda,mva
and stepfun). If this version will prove to be useful enough,
I will try to provide binaries for some of the other packages.
[Note: I tried to load in the new executable some of the
dll included in rw0613 and I didn't have any problems.
So, if you want, you can experiment.]

For the same reason, I have included only the standard help files 
(not the html ones; if we want, you can download them from CRAN).

E. Installation (sources)
-------------------------
(a) Preparation
First of all, you have to download and untar the complete sources.
Then, in the directory R-0.62.3, unzip rw0623s.zip.
You will get a new directory (src/gnuwin32) which includes:
1) the windows/graphapp source +
2) a modified version of the GraphApp library (the Windows 2.40 version
+ the console + some functions to rotate bitmaps and text + some
functions to draw patterned lines in any width) +
3) the GNU regex library.

(b) Compilers
I have tested the following compiler:
(a) native compilation using egcs1.02-mingw32;
(b) native compilation using egcs1.1-mingw32;
(c) cross compilation (from a Linux box) using gcc2.8.1+Binutils2.9.1+
    g77-0.5.23 using the 1 July version of mingw32.
The binary distribution has been cross-compiled.

(c) Native compilation
To rebuild the system using egcs-mingw32 go to the src/gnuwin32
directory and type 
> make
This will build the main executable (in R-0.62.3/bin) and
the standard packages: base, eda, mva, stepfun.


(d) Cross-compilation
You should edit the definitions in the file MkRules to reflect your
system. As an example, the file that I use under Linux is provided as
MkRules.cross in rw0623s.zip.

F. Installing other packages
----------------------------
Uncompress the package you want in R-0.62.3/src/library.
Then, from the gnuwin32 directory, 
> make -f MakePkg -C ../library/xxx PKG=xxx [SRC=src] [DLLNAME=yyy]
will try to build the package xxx.
The SRC=xxx option must be used if the source is in another
directory (e.g. if it is in src-c, use SRC=src-c).
The option DLLNAME=yyy must be used if the package requires a
dll with a name different from xxx.dll. For example, the dll
of integrate is adapt.dll.
If you don't need the two flags, you can use the short command
> make pkg-xxx
Special compiler flags must be setted in MakeDll. Look to this file
for some example.
There are no support for generating the help files.
You have to download the pre-formatted one by any CRAN site or
to build them yourself on a Unix machine.

G. Tools
--------
To rebuild the system and to install other packages, you need
not only a compiler but also some Gnu tools. The ones that I used,
coming from DJGPP, are  in djtools.zip.
You must uncompress this file from C:. It will expand
under usr/bin and usr/home.
To use the tools usr/bin must be in the PATH.
In djtools.zip, a version of bash is included.
I am not sure that you need it but I did all my work 
using it. To use bash, the environmental variable HOME
should point to /usr/home. You have to start bash, from Program Manager,
Start Menu or in a MsDos windows, with
> bash -login
If you install djtools.zip, please use the make in usr/bin not
the one of your compiler.


H. Bugs (known) and misc. observations.
---------------------------------------
(a) As always, the English of this README.
(b) de() doesn't work anymore. If someone needs it, I can try to include
the old one (or try to write a portable version of it using GraphApp).
(c) edit(...) doesn't work properly under Win3.1/Win32s.
(d) system(...) is quite limited (popen under MsWindows is
a nigthmare).
(d) To use this version under Win32s you need a recent version
of Win32s (I have only tested with the last one that can be 
found at ftp://ftp.microsoft.com).
(e) Only the mouse can be used to select the text in the console.

I. Future
---------
This is an experimental release. Since, both the console and the graphic
device are new, I suspect that it is less stable of rw0613.
Until now, it has been rather funny to rewrite the console and the
graphic device. However, the future will depends on the reactions.
If someone think that this version can be useful I (we) can try
to fix the bugs and to improve it. So, I am waiting for comments.
Some obvious and not difficult things to add are:
a) xdr support so that the binary images can be exchanged between
Unix and Windows;
b) use of the keyboard to select text;
c) printing (perhaps not so easy) and support for copying
the graphic window to the clipboard (easy).
d) ....................................................
In addition, since GraphApp is available also under X11, if someone
is interested, I can provide a version of this port for Unix. Indeed,
I develop the console and the graphic device under Linux.


guido masarotto (16/09/1998)
guido at sirio.stat.unipd.it
http://sirio.stat.unipd.it




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Sep 16 22:47:43 1998
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 16 Sep 1998 22:47:43 +0200
Subject: R-beta: windows and dynload.
Message-ID: <360023EF.463D496E@mail1.stofanet.dk>

I get an error:
Error in dyn.load(file) : unable to load shared library
"D:\R_CODA\RW0613\library\eda\libs\eda.dll"
with almost all the packages. I tried to use "require" and tried also to
copy the dll's to the bin directory and nothing helped.
Any ideas ?
Thanks for your efforts
Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laimonis at chance.otago.ac.nz  Thu Sep 17 00:11:26 1998
From: laimonis at chance.otago.ac.nz (laimonis kavalieris)
Date: Thu, 17 Sep 1998 10:11:26 +1200 (NZST)
Subject: R-beta: (0+0i)^2
Message-ID: <199809162211.KAA27407@chance.otago.ac.nz>

The following behaviour (in R 0.62.3) is disturbing:

> (0+0i)^2
[1] NaN+NaNi

Is it deliberate??

Laimonis Kavalieris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 17 07:48:42 1998
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 17 Sep 1998 06:48:42 +0100 (BST)
Subject: R-beta: windows and dynload.
In-Reply-To: <360023EF.463D496E@mail1.stofanet.dk>
Message-ID: <Pine.GSO.3.96.980917063426.11242A-100000@localhost>

On Wed, 16 Sep 1998, Troels Ring wrote:

> I get an error:
> Error in dyn.load(file) : unable to load shared library
> "D:\R_CODA\RW0613\library\eda\libs\eda.dll"
> with almost all the packages. I tried to use "require" and tried also to
> copy the dll's to the bin directory and nothing helped.
> Any ideas ?

This happens on certain Windows 95 machines (at least); Guido Masarotto and
I traced it to machines running Windows 95a (that is the original W95 with
service pack 1); machines running Windows 95b or c (OSR2 and OSR2.5) are
able to dyn.load.  We thought compiling under a later compiler (egcs 1.1) 
might help, but it does not (report to Guido: I tried this last week). 

The good news is that cross-compiling from Linux does seem to work: the
version Guido announced on R-announce yesterday of 0.62.3 does allow
dyn.load on the machines here that had problems with rw0613, and since it
has a much faster interface (and IMHO nicer interface) and is the current
0.62.3, I suggest you try that instead. It does have fewer libraries as
yet, but since you cannot use them with rw0613, that is no disadvantage. 

Bravo to Guido for his work on this!  I am sure Guido will appreciate
reports, both positive and negative, on this new version.  One comment
from me: is it possible to change the font in the commands window, as the
default looks ugly on my machine? Did I miss something?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kokholm at math.ku.dk  Thu Sep 17 09:41:39 1998
From: kokholm at math.ku.dk (Niels Kokholm)
Date: Thu, 17 Sep 1998 09:41:39 +0200 (MET DST)
Subject: [Problem on NT 3.51] Re: R-beta: A new version of R-0.62.3 for
 Win... 
In-Reply-To: <19980916130152.A227@sirio.stat.unipd.it>
Message-ID: <Pine.OSF.4.03.9809170935450.18831-100000@schubert.math.ku.dk>

When I try to run rw0632/bin/R.exe from the binary distribution on our
WinNT3.51 systems the following happens:

A "R Console" window appears with a menu bar. After a few seconds, the
window disappears. No messages are written in the Console window.

This happens for me on these platforms:

A) WinNT 3.51 US Workstation with SP5
B) Citrix Winframe 1.6 SP5A 

P.S. I experience the same with rw0613.

Yours

   Niels Joergen Kokholm         | email:   kokholm at math.ku.dk
   Institut for Matematiske Fag  | phone:   +45 3532 0759/+45 2128 6932
   Universitetsparken 5          | fax:     +45 3532 0704
   DK-2100 Kobenhavn OE, Denmark | www:     http://www.math.ku.dk/~kokholm

On Wed, 16 Sep 1998, Guido Masarotto wrote:

> I have just made available on ftp://sirio.stat.unipd.it/pub/R a
> new version of R for MsWindows compiled with gcc-mingw32.
> Enclosed you can find the README. Since there are many news
> (with respect to my previous port, rw0613), please read it.
> guido
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 17 10:23:55 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Sep 1998 10:23:55 +0200
Subject: [Problem on NT 3.51] Re: R-beta: A new version of R-0.62.3 for  Win...
In-Reply-To: Niels Kokholm's message of Thu, 17 Sep 1998 09:41:39 +0200 (MET DST)
References: <Pine.OSF.4.03.9809170935450.18831-100000@schubert.math.ku.dk>
Message-ID: <x2pvcvw3j8.fsf@blueberry.kubism.ku.dk>

Niels Kokholm <kokholm at math.ku.dk> writes:

> A "R Console" window appears with a menu bar. After a few seconds, the
> window disappears. No messages are written in the Console window.
> 
> This happens for me on these platforms:
> 
> A) WinNT 3.51 US Workstation with SP5
> B) Citrix Winframe 1.6 SP5A 
> 
> P.S. I experience the same with rw0613.

What happens if you remove the windows() call from the Rprofile?

In general, I kind of suspect that the 3.51 platform will be difficult
to support, unless you'd be willing to do some of the bugtracking
yourself. Probably, one needs to try some simpler test cases to see
what exactly is going wrong with the mingw32 compiles. (this could be
as bad as win32 dll/lib differences or some triviality like long
filenames.)

And BTW, try not to send followups to r-announce....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at MEAKINS.Lan.McGill.CA  Thu Sep 17 08:51:25 1998
From: heberto at MEAKINS.Lan.McGill.CA (Heberto Ghezzo)
Date: Thu, 17 Sep 1998 08:51:25 EST5EDT
Subject: R-beta: windows and dynload.
Message-ID: <199809171253.IAA09263@sirocco.cc.mcgill.ca>

I downloaded Guido's rw0623 to a Win95 SP 3
it seems to work OK
I added librarys Acepack, Bootstra, Class, Ctest, Gee, Integrat from 
the 0613 versiopn of Guido's and at least the examples in the help 
files all worked OK.,..
Good work Guido and thanks for the 62.3 version.
I did not check the graphics so far.
..
R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep 17 14:56:31 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 17 Sep 1998 14:56:31 +0200
Subject: R-beta: (0+0i)^2
In-Reply-To: <199809162211.KAA27407@chance.otago.ac.nz> (message from laimonis
	kavalieris on Thu, 17 Sep 1998 10:11:26 +1200 (NZST))
Message-ID: <199809171256.OAA18599@sophie.ethz.ch>

>>>>> "laimonis" == laimonis kavalieris <laimonis at chance.otago.ac.nz> writes:

    laimonis> The following behaviour (in R 0.62.3) is disturbing:
    >> (0+0i)^2
    laimonis> [1] NaN+NaNi

    laimonis> Is it deliberate??
No,
it's a clear bug.

Even shorter is

	0i^2    

Patches to complex_pow(.) in src/main/complex.c are welcome,
[obvious tests for 0..]
but to R-devel, not to R-help !


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Sep 17 16:10:06 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 17 Sep 1998 15:10:06 +0100
Subject: [Problem on NT 3.51] Re: R-beta: A new version of R-0.62.3 for   Win...
In-Reply-To: <x2pvcvq6ns.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Thu, Sep 17, 1998 at 02:12:55PM +0200
References: <Pine.OSF.4.03.9809171044060.18831-100000@schubert.math.ku.dk> <x2pvcvq6ns.fsf@blueberry.kubism.ku.dk>
Message-ID: <19980917151006.A1078@sirio.stat.unipd.it>

On Thu, Sep 17, 1998 at 02:12:55PM +0200, Peter Dalgaard BSA wrote:
> Niels Kokholm <kokholm at math.ku.dk> writes:
> 
> > My apologies for sending the followup to r-announce. I thought I was
> > replying to a message to r-help but failed to read the address carefully.

The problem was generated by my first message, so I have to apology.

> 
> > No, it does not help to remove the windows() call from Rprofile. 
> 
> Too bad, not isolated to the graphics console then.
> Probably Guido knows better than me whether something constructive can
> be done, then. 

I have a version which trace most of the operation until the read-eval
looop start (both the user interface and the R initialization -
base, rprofile,...). I used to understand why under Win3.1 (no debugger)
the program quit just after starting (the same situation, you can see).
There the problem was very stupid. It seems that in the Win32s
C runtime library fopen(NULL,"r") 
behaves like exit(0), no message, no error, only exiting.
I cannot make this version available now (I am not in Dept.) but
tomorrow or at last on saturday I will put the executable on the ftp 
site.
Hoping  we can understand at least where the program exit.
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at sirio.stat.unipd.it  Thu Sep 17 23:12:58 1998
From: root at sirio.stat.unipd.it (root)
Date: Thu, 17 Sep 1998 22:12:58 +0100
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: <HOChjHAejWA2Ewgd@dsteele.demon.co.uk>; from Douglas Steele on Thu, Sep 17, 1998 at 08:54:06PM +0100
References: <19980916130152.A227@sirio.stat.unipd.it> <HOChjHAejWA2Ewgd@dsteele.demon.co.uk>
Message-ID: <19980917221258.A1888@sirio.stat.unipd.it>

On Thu, Sep 17, 1998 at 08:54:06PM +0100, Douglas Steele wrote:
> Guido,
> 
> Binary looks very promising.  Tried build of source.  Any idea what this
> error means ?
> 
> gcc   -O2 -I../include  -o ../unix/devPS.o  -c ../unix/devPS.c
> gcc   -O2 -I../include  -o ../unix/devPicTeX.o  -c ../unix/devPicTeX.c
> -------- Building R.a --------
> ar cr R.a  .//*.o  ../graphics/*.o  ../nmath/*.o  ../appl/*.o
> ../main/*.o  ../unix/*.o
> ranlib R.a
> -------- Building R.exe from R.a --------
> echo EXPORTS > R.exp
> nm R.a | sed -n "/^........ [DT] _/s/^........ [DT] _/ /p" >> R.exp
> dlltool -k --as as --dllname R.exe  --output-exp R.e --def R.exp
> gcc   -s -mwindows  -o R.exe -Wl,--base-file,R.b R.e R.a -L. -lgraphapp
> -lregex -lmingw32 -lg2c
> ld: cannot open -lg2c: No such file or directory
> make.exe: *** [R.exe] Error 1
> [exited with 2]
> (/R-0.62.3/src/gnuwin32)$
> 
> -- 
> Douglas Steele
This means that the linker (ld) cannot find the Fortran library.
You shoul have one somewhere, I suppose, since to arrive
to this point (final linking) you must have g77 (the Fortran
fron-end) installated.

Which version of the compiler have you installed? I suppose its egcs-1.02.
In egcs1.02 the Fortran lib is libf2c.a. But the g77 people has
recently changed the name to libg2c (I suppose since in this way 
people can have both g77 and f2c without problem with the library name).
If my hypothesis is correct, you shoul edit gnuwin32/MkRules
and substitute the line
FLIBS=-lg2c
wiht
FLIBS=-lf2c

Alternatively, you can try to use g77 as the linker (always in MkRules,
change LINKER=$(CC) to LINKER=g77 and delete the FLIBS row). In
this way you should get the Fortran lib automagically linked.

guido m.
(I will post this message to r-help hoping that can be useful for others)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Sep 18 11:27:20 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 18 Sep 1998 11:27:20 +0200 (MET DST)
Subject: R-beta: postscript bu
Message-ID: <199809180927.LAA32313@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 470 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980918/81489ef1/attachment.pl

From Douglas at dsteele.demon.co.uk  Fri Sep 18 16:54:23 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Fri, 18 Sep 1998 15:54:23 +0100
Subject: R-beta: undefined reference to `realpr_' ?
Message-ID: <0vy9rHAfQnA2EwVJ@dsteele.demon.co.uk>

Hi,

Win95 version, trying to build multiv.  Following error (no mention in
faq etc, but someone may have mentioned it recently).  Appreciate any
help.

------- Building multiv.dll from multiv.a --------
echo LIBRARY multiv > multiv.def
echo EXPORTS >> multiv.def
nm multiv.a | sed -n "/^........ [DT] _/s/^........ [BCDRT] _/ /p" >>
multiv.def

gcc  -mdll    -Wl,--base-file,multiv.b -s   -o multiv.dll  multiv.a  -
L../../../
gnuwin32 -lR -lf2c
dlltool -k --as as   --dllname multiv.dll  --base-file multiv.b --
output-exp mul
tiv.e --def multiv.def
gcc  -mdll     -Wl,--base-file,multiv.b -s   -o multiv.dll multiv.e
multiv.a  -L
../../../gnuwin32 -lR -lf2c
multiv.a(sammon.o)(.text+0x495):sammon.f: undefined reference to
`realpr_'
make.exe[2]: *** [multiv.dll] Error 1
make.exe[2]: Leaving directory `c:/R-0.62.3/src/library/multiv/src'
make.exe[1]: *** [src/multiv.dll] Error 2
make.exe[1]: Leaving directory `c:/R-0.62.3/src/library/multiv'
make.exe: *** [pkg-multiv] Error 2
[exited with 2]
(/R-0.62.3/src/gnuwin32)$


-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Sep 18 17:27:12 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 18 Sep 1998 17:27:12 +0200 (MET DST)
Subject: R-beta: old postscript bug
Message-ID: <199809181527.RAA32036@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 748 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980918/baa0b0a8/attachment.pl

From bates at stat.wisc.edu  Fri Sep 18 19:23:21 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Sep 1998 12:23:21 -0500
Subject: R-beta: undefined reference to `realpr_' ?
In-Reply-To: Douglas Steele's message of "Fri, 18 Sep 1998 15:54:23 +0100"
References: <0vy9rHAfQnA2EwVJ@dsteele.demon.co.uk>
Message-ID: <6rzpbx49o6.fsf@verdi.stat.wisc.edu>

>>>>> "DS" == Douglas Steele <Douglas at dsteele.demon.co.uk> writes:

  DS> Win95 version, trying to build multiv.  Following error (no
  DS> mention in faq etc, but someone may have mentioned it recently).
  DS> Appreciate any help.

  DS> multiv.a(sammon.o)(.text+0x495):sammon.f: undefined reference to
  DS> `realpr_' 

This may be a symptom of a deeper problem.  The Fortran-callable
functions dblepr, intpr, and realpr are used in S for printing vectors
from Fortran code.  If the code is calling realpr does this mean that
it uses Fortran single precision?  If so, you may have some
preliminary work to do on converting it to double precision for use
with R.

If you have already converted the code to double precision then you
can replace the call to realpr by dblepr which is available in R.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Sep 19 10:33:06 1998
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 19 Sep 1998 10:33:06 +0200
Subject: R-beta: windows and dynload.
References: <Pine.GSO.3.96.980917063426.11242A-100000@localhost>
Message-ID: <36036C42.476F64C4@mail1.stofanet.dk>

Thank you for that essential information. How is it with windows98 - has anyone
tried ?
Troels

Prof Brian D Ripley skrev:

> On Wed, 16 Sep 1998, Troels Ring wrote:
>
> > I get an error:
> > Error in dyn.load(file) : unable to load shared library
> > "D:\R_CODA\RW0613\library\eda\libs\eda.dll"
> > with almost all the packages. I tried to use "require" and tried also to
> > copy the dll's to the bin directory and nothing helped.
> > Any ideas ?
>
> This happens on certain Windows 95 machines (at least); Guido Masarotto and
> I traced it to machines running Windows 95a (that is the original W95 with
> service pack 1); machines running Windows 95b or c (OSR2 and OSR2.5) are
> able to dyn.load.  We thought compiling under a later compiler (egcs 1.1)
> might help, but it does not (report to Guido: I tried this last week).
>
> The good news is that cross-compiling from Linux does seem to work: the
> version Guido announced on R-announce yesterday of 0.62.3 does allow
> dyn.load on the machines here that had problems with rw0613, and since it
> has a much faster interface (and IMHO nicer interface) and is the current
> 0.62.3, I suggest you try that instead. It does have fewer libraries as
> yet, but since you cannot use them with rw0613, that is no disadvantage.
>
> Bravo to Guido for his work on this!  I am sure Guido will appreciate
> reports, both positive and negative, on this new version.  One comment
> from me: is it possible to change the font in the commands window, as the
> default looks ugly on my machine? Did I miss something?
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas.Steele at dsteele.demon.co.uk  Sat Sep 19 13:49:54 1998
From: Douglas.Steele at dsteele.demon.co.uk (Douglas Steele)
Date: Sat, 19 Sep 1998 12:49:54 +0100
Subject: R-beta: win95 v62.3 initial impressions
Message-ID: <LhNSYcAip5A2EwTL@dsteele.demon.co.uk>



(Win95, v62.3, Guido's port.)
The graphapp based console seems a definite improvement.

Screen output is much faster.  History mechanism present.  Can now build
whole system because windres not required.  Spin-off is that graphapp
can be used for completely different applications.


A couple of problems.

When R started and then library(pkg), get message (not every time
though) that pkg unable to be loaded.  However it often is loaded ok.
If library(pkg) command given again, no problems.  Library always loads
ok. (I know library/dyn.load problems have been mentioned before).

With "Select file to source" option from console, box comes up with *.r
under "Filename", and "Type" All Files (*.*).  In practice it lists .r
extension files only.  Dropdown option on file types to list has
"Graphics Library Error" as one, and other non standard characters on
the other lines.  If a file is selected, it does send the correct
command to the console.  Presumably the *.r should be an option under
"Type".

Same problems with "Load Image" option etc.  Minor point is that the
graphics window is made active when these options are selected.  Perhaps
it would be more natural if the console were to remain active instead.



Overall though, looks good.


-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossetti at stud.unipg.it  Sat Sep 19 15:52:42 1998
From: rossetti at stud.unipg.it (Andrea Rossetti)
Date: Sat, 19 Sep 1998 15:52:42 +0200
Subject: R-beta: I: compilation problems with R 0.62.3
Message-ID: <000801bde3d4$cb95b580$f6878fc2@freddy>

Hi to all R people,
I've compilation problem with R-0.62.3.

C:\R-0.62.3\src\gnuwin32>make
gcc   -O2 -I../include  -o dataentry.o  -c dataentry.c
In file included from ../include/Defn.h:29,
                 from dataentry.c:20:
../include/Arith.h:47: parse error before `('
../include/Arith.h:48: parse error before `('
make.exe: *** [dataentry.o] Error 1

C:\R-0.62.3\src\gnuwin32>


I'm using egcs-1.0-2-mingw32 with cpp.exe fix for W95 and I'm using a P2 266
Mhz running Windows98.


Any suggestions is appreciated?

Ciao,
Andrea Rossetti.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sun Sep 20 22:23:29 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 21 Sep 1998 08:23:29 +1200 (NZST)
Subject: R-beta: old postscript bug
Message-ID: <199809202023.IAA27783@stat1.stat.auckland.ac.nz>

	From r-help-owner at stat.math.ethz.ch Sat Sep 19 03:25 NZS 1998
	From: Jim Lindsey <jlindsey at alpha.luc.ac.be>
	Subject: R-beta: old postscript bug
	To: r-help at stat.math.ethz.ch (r-help)
	Date: Fri, 18 Sep 1998 17:27:12 +0200 (MET DST)
	Cc: r-bugs at stat.math.ethz.ch

	While I am on postscript, this is a bug that I reported some time back
	on an earlier version that has not been corrected in 62.3:
	If line segments go to a point out of the clipping area of a plot and
	then back in, the lines are correct in the R window, but the line back
	in is missing in the postscript plot. Try saving the following as a PS
	file:
	plot(c(1,2,3),c(0,3,0),ylim=c(0,2),type"l")
	  Jim

This is now fixed in the latest development versions.  It wasn't just
a small patch -- I took the opportunity to boost efficiency of all line
clipping at the same time.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMorris at cldx.com  Tue Sep 22 17:35:29 1998
From: JMorris at cldx.com (Morris, Jeffrey)
Date: Tue, 22 Sep 1998 11:35:29 -0400
Subject: R-beta: Guido's Port
Message-ID: <1998Sep22.104600.1268.1396052@msmail.cnp.cldx.com>


I am having problems accessing sirio.stat.unipd.it/pub/R so can't get to
his latest port (Win95, v62.3, Guido's port.)  I am being denied access. 
 This
may be a local problem with our network here, but is anyone else having a
problem?  Is that site mirrored anywhere that I might be able to access?

Thanks!

Jeff

jmorris at cldx.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zk at biocem.univ-bpclermont.fr  Tue Sep 22 18:45:16 1998
From: zk at biocem.univ-bpclermont.fr (Zivan Karaman)
Date: Tue, 22 Sep 1998 18:45:16 +0200
Subject: R-beta: Guido's Port
In-Reply-To: <1998Sep22.104600.1268.1396052@msmail.cnp.cldx.com>
Message-ID: <3.0.5.32.19980922184516.0090c330@biocem.univ-bpclermont.fr>

I have equally problems connecting to the sirio.stat.unipd.it site: most of
the time it is impossible to establish connection, and on rare occasions
when the connection is made, it breaks before the file transfer is
complete. Would it be possible to upload the files to the CRAN site
(connections to "www.ci.tuwien.ac.at" always work fine for me).

Thanks a lot.

Zivan


Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gillies at cmcind.far.ruu.nl  Tue Sep 22 19:33:25 1998
From: gillies at cmcind.far.ruu.nl (Malcolm Gillies)
Date: Tue, 22 Sep 1998 19:33:25 +0200
Subject: R-beta: port of bicreg package to R?
Message-ID: <199809221733.TAA10805@cmcind.far.ruu.nl>

R version: 0.62.1  (June 15, 1998)

I just very naively attempted to grab the 'bicreg' package for
Bayesian model selection from the StatLib library, and get it running
under R.

I've hit a brick wall very quickly, and as an R novice I'm not sure
where to go next.

Here's what happened:

> bicreg(as.matrix(hiv[,c(-17,-18)]),as.matrix(hiv[,18]))
Error: invalid formula

> traceback()
[1] "stop(\"invalid formula\")"                                                                                     
[2] "switch(mode(x), NULL = structure(NULL, class = \"formula\"), character = formula(eval(parse(text = x)[[1]])), "
[3] "\t    call = eval(x), stop(\"invalid formula\"))"                                                              
[4] "formula.default(cdf)"                                                                                          
[5] "model.matrix(formula(cdf), data = cdf)"                                                                        
[6] "bicreg(as.matrix(hiv[, c(-17, -18)]), as.matrix(hiv[, 18]))"                                                   
The relevant lines of code in 'bicreg' would appear to be

[...]
  cdf <-cbind.data.frame(y=y,x)
  mm <- model.matrix(formula(cdf),data=cdf)[,-1,drop=F]
[...]

It appears to me that applying formula() to the matrix is a no-no. Is
this an incompatibility between Splus and R?

Has anyone already succeeded in porting this package to R?

Or am I just doing something silly?

thanks in advance,

Malcolm
--
Malcolm Gillies <M.B.Gillies at pharm.uu.nl>
PhD student, computational medicinal chemistry
Dept Medicinal Chemistry, Faculty of Pharmacy,
Utrecht University, The Netherlands
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep 23 18:05:48 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 23 Sep 1998 09:05:48 -0700 (PDT)
Subject: R-beta: port of bicreg package to R?
In-Reply-To: <199809221733.TAA10805@cmcind.far.ruu.nl>
Message-ID: <Pine.SUN.4.03.9809230901510.1286-100000@beast.biostat.washington.edu>

On Tue, 22 Sep 1998, Malcolm Gillies wrote:

> R version: 0.62.1  (June 15, 1998)
> 
> I just very naively attempted to grab the 'bicreg' package for
> Bayesian model selection from the StatLib library, and get it running
> under R.
> 
> I've hit a brick wall very quickly, and as an R novice I'm not sure
> where to go next.
> 

> The relevant lines of code in 'bicreg' would appear to be
> 
> [...]
>   cdf <-cbind.data.frame(y=y,x)
>   mm <- model.matrix(formula(cdf),data=cdf)[,-1,drop=F]
> [...]
> 
> It appears to me that applying formula() to the matrix is a no-no. Is
> this an incompatibility between Splus and R?

Here's a formula method for data.frame that you can put in the function to
allow formula(cdf)

 formula.data.frame<- function (df) 
{
            nm <- sapply(names(df), as.name)
            lhs <- nm[1]
            if (length(nm) > 1) {
                    rhs <- nm[-1]
            }
            else {
                    rhs <- nm[1]
                    lhs <- NULL
            }
            ff <- parse(text = paste(lhs, paste(rhs, collapse = "+"), 
                    sep = "~"))
            eval(ff)
}


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Sep 24 09:55:39 1998
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 24 Sep 1998 09:55:39 +0200 (MET DST)
Subject: R-beta: keyboard bug in Guido's R62.3
Message-ID: <199809240755.JAA16389@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 845 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980924/4819002f/attachment.pl

From gillies at cmcind.far.ruu.nl  Thu Sep 24 18:35:02 1998
From: gillies at cmcind.far.ruu.nl (Malcolm Gillies)
Date: Thu, 24 Sep 1998 18:35:02 +0200
Subject: R-beta: port of bicreg package to R? 
In-Reply-To: Your message of "Wed, 23 Sep 1998 09:05:48 MDT."
             <Pine.SUN.4.03.9809230901510.1286-100000@beast.biostat.washington.edu> 
Message-ID: <199809241635.SAA03504@cmcind.far.ruu.nl>

Thomas Lumley wrote:
> On Tue, 22 Sep 1998, Malcolm Gillies wrote:
>> R version: 0.62.1  (June 15, 1998)
>> 
>> I just very naively attempted to grab the 'bicreg' package for
>> Bayesian model selection from the StatLib library, and get it running
>> under R.
>
> Here's a formula method for data.frame that you can put in the function to
> allow formula(cdf)
> [...]

Thanks, that indeed did the trick.

In the mean time, I discovered what appear to be some problems with the
"leaps" port on CRAN (version 1.0-3).

First off, leaps.R declares a function "make.names" which clashes with
an R base function, breaking data.frame in the process. I don't know
enough about R to know if these things should be sitting in separate
namespaces, but I hacked my way around this by just giving the function
a unique name.

Secondly, there appears to be a typo where "col.names" appears in place
of "colnames".

Anyway, I've included a patch below (for illustrative purposes only,
as I can't really claim to understand what I'm doing ;-)

I still don't have any joy, as now leaps is complaining. This probably
has more to do with the fact that I'm flying blind...

> bicreg(hiv[-14,-17], hiv[-14,17])
Error: leaps requires full-rank design matrix; use subsets()
> traceback()
[1] "stop(\"leaps requires full-rank design matrix; use subsets()\")"
[2] "leaps(x, y, wt = wt, method = \"r2\", names = dimnames(x)[[2]])"
[3] "bicreg(hiv[-14, -17], hiv[-14, 17])"                            
> 

Malcolm
--
Malcolm Gillies <M.B.Gillies at pharm.uu.nl>
PhD student, computational medicinal chemistry
Dept Medicinal Chemistry, Faculty of Pharmacy,
Utrecht University, The Netherlands
----
*** leaps.R	Thu Sep 24 17:42:06 1998
--- -	Thu Sep 24 18:33:00 1998
***************
*** 5,11 ****
  
  library.dynam("leaps.so")
  
! leaps.make.names<-function(np){
  	if (np<27) letters[1:np] else as.character(1:np)
  }
  leaps.setup<-function(x,y,wt=rep(1,length(y)),force.in=NULL,force.out=NULL,intercept=TRUE,nvmax=8,nbest=1,warn.dep=T){
--- 5,11 ----
  
  library.dynam("leaps.so")
  
! make.names<-function(np){
  	if (np<27) letters[1:np] else as.character(1:np)
  }
  leaps.setup<-function(x,y,wt=rep(1,length(y)),force.in=NULL,force.out=NULL,intercept=TRUE,nvmax=8,nbest=1,warn.dep=T){
***************
*** 13,19 ****
    nn<-NROW(x)
    if (length(y)!=nn) stop("y and x different lengths")
    if (length(wt)!=nn) stop("wt and x different lengths")
!   if (is.null(colnames(x))) colnames(x)<-leaps.make.names(np)
    index<-rep(0,np)
    names(index)<-colnames(x)
    index[force.in]<--1
--- 13,19 ----
    nn<-NROW(x)
    if (length(y)!=nn) stop("y and x different lengths")
    if (length(wt)!=nn) stop("wt and x different lengths")
!   if (is.null(colnames(x))) colnames(x)<-make.names(np)
    index<-rep(0,np)
    names(index)<-colnames(x)
    index[force.in]<--1
***************
*** 326,332 ****
    
  leaps<-function(x,y,wt=rep(1,NROW(x)),int=TRUE,method=c("Cp","adjr2","r2"),nbest=10,names=NULL,df=NROW(x),strictly.compatible=T){
  	if (!is.logical(int)) stop("int should be T or F")
! 	if (!is.null(names)) colnames(x)<-names
  	method<-method[1]
  	if (pmatch(method,c("Cp","adjr2","r2"),nomatch=0)==0) stop("Ambiguous or unrecognised method name")
  	if (strictly.compatible){
--- 326,332 ----
    
  leaps<-function(x,y,wt=rep(1,NROW(x)),int=TRUE,method=c("Cp","adjr2","r2"),nbest=10,names=NULL,df=NROW(x),strictly.compatible=T){
  	if (!is.logical(int)) stop("int should be T or F")
! 	if (!is.null(names)) col.names(x)<-names
  	method<-method[1]
  	if (pmatch(method,c("Cp","adjr2","r2"),nomatch=0)==0) stop("Ambiguous or unrecognised method name")
  	if (strictly.compatible){
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep 24 19:03:59 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 24 Sep 1998 10:03:59 -0700 (PDT)
Subject: R-beta: port of bicreg package to R? 
In-Reply-To: <199809241635.SAA03504@cmcind.far.ruu.nl>
Message-ID: <Pine.SUN.4.03.9809240942380.1359-100000@beast.biostat.washington.edu>

On Thu, 24 Sep 1998, Malcolm Gillies wrote:
> 
> I still don't have any joy, as now leaps is complaining. This probably
> has more to do with the fact that I'm flying blind...
> 
> > bicreg(hiv[-14,-17], hiv[-14,17])
> Error: leaps requires full-rank design matrix; use subsets()
> > traceback()
> [1] "stop(\"leaps requires full-rank design matrix; use subsets()\")"
> [2] "leaps(x, y, wt = wt, method = \"r2\", names = dimnames(x)[[2]])"
> [3] "bicreg(hiv[-14, -17], hiv[-14, 17])"                            

*Is* your design matrix singular? -- try running lsfit() on it. If it is
then leaps() won't work (though the Fortran code is still ok).  More
importantly, I think Occam's Window is an asymptotic technique -- if you
have a singular design matrix it probably isn't reliable.

So, first try using 
R> lsfit(hiv[-14, -17], hiv[-14, 17])
 to see if the problem is with the data. Then use d
R> debug(bicreg)
R> bicreg(hiv[-14, -17], hiv[-14, 17])
and step through the function until the leaps() line, then do
Browse> lsfit(x,y,wt=wt)
to see if the design matrix is still non-singular.  If it is, there is a
bug in leaps; otherwise the design matrix has been mangled in some way

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Thu Sep 24 19:36:08 1998
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Thu, 24 Sep 1998 17:36:08 +0000
Subject: R-beta: Mac
Message-ID: <360A8301.F9933B6C@uea.ac.uk>

While it is good to have R on my local Unix box it would be wonderful to
have a recent version to run on my (Mac) Powerbook. I know that the
PowerMac version is on hold so
(1) Any idea when it might appear
(2) Any chance of a bit more functional Mac version

G.Janacek
Maths
UEA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Sep 24 21:20:09 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 24 Sep 1998 20:20:09 +0100
Subject: R-beta: keyboard bug in Guido's R62.3
In-Reply-To: <199809240755.JAA16389@alpha.luc.ac.be>; from Jim Lindsey on Thu, Sep 24, 1998 at 09:55:39AM +0200
References: <199809240755.JAA16389@alpha.luc.ac.be>
Message-ID: <19980924202009.A699@sirio.stat.unipd.it>

On Thu, Sep 24, 1998 at 09:55:39AM +0200, Jim Lindsey wrote:
> We have installed Guido's version of 62.3 for MS-Windows on an NT
> network and it seemed to work all right. However, when we type a ~ (on
> a French keyboard, it is obtained using Alt Gr), most keys on the
> keyboard block and it is impossible to type further. Backspace and
> return still work. Backspacing to erase the ~ liberates the keyboard.
> Typing a return sends the command but the keyboard is still blocked
> and now it seems impossible to unblock it because the ~ can no longer
> be erased.

 Has someone else experienced this sort of problem?
 I tested the following combination: Win3.1+Italian keyboard 
 (on an It. keyboard '~' = ALT+126 on the numeric keypad),
 Win95+It. keyboard, Win95c+English keyboard,WinNT4.0+English keyboard).
 On the It. keyboards, I also tried the Alt-Gr key (we have []@#)
 but I was not able to reproduce the problem.
 guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Thu Sep 24 21:01:27 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Thu, 24 Sep 1998 14:01:27 -0500 (CDT)
Subject: R-beta: Mac
In-Reply-To: <360A8301.F9933B6C@uea.ac.uk>
Message-ID: <Pine.OSF.3.95.980924135921.19783A-100000@io.uwinnipeg.ca>

I gave up waiting and switched from Mac to Linux.

A less extreme solution might be to put some version of linux (I think
there are 2: mkLinux [slow] and PPCLinux [?]) on your
Powerbook and boot into MacOS or Linux as needed.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Thu Sep 24 23:42:07 1998
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Thu, 24 Sep 1998 23:42:07 +0200
Subject: R-beta: keyboard bug in Guido's R62.3
Message-ID: <199809242140.XAA15506@nordmail.nordnet.fr>



----------
> De : Guido Masarotto <guido at sirio.stat.unipd.it>
> A : r-help <r-help at stat.math.ethz.ch>
> Objet : Re: R-beta: keyboard bug in Guido's R62.3
> Date?: jeudi 24 septembre 1998 21:20
> 
>  Has someone else experienced this sort of problem?

Yes, with a french keyboard with Windows 95, I can't type some of the
characters with the Alt-Gr key (as [#~ but ] is OK...).

By the way, the GUI of this version is much better and the history
mechanism is a cool feature.

Thanks, Guido, for all your work!

Christophe Declercq
cdeclercq at nordnet.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Sun Sep 27 23:00:46 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Sun, 27 Sep 1998 22:00:46 +0100
Subject: R-beta: windows and dynload. ?Win98
In-Reply-To: <Pine.GSO.3.96.980917063426.11242A-100000@localhost>
References: <360023EF.463D496E@mail1.stofanet.dk>
 <Pine.GSO.3.96.980917063426.11242A-100000@localhost>
Message-ID: <5ypucFA+dqD2Ew9N@dsteele.demon.co.uk>

In article <Pine.GSO.3.96.980917063426.11242A-100000 at localhost>, Prof
Brian D Ripley <ripley at stats.ox.ac.uk> writes
>> Error in dyn.load(file) : unable to load shared library
>> "D:\R_CODA\RW0613\library\eda\libs\eda.dll"
>This happens on certain Windows 95 machines (at least); Guido Masarotto and
>I traced it to machines running Windows 95a (that is the original W95 with
>service pack 1); machines running Windows 95b or c (OSR2 and OSR2.5) are
>able to dyn.load.  We thought compiling under a later compiler (egcs 1.1) 
>might help, but it does not (report to Guido: I tried this last week). 
Any idea if dyn.load works on Win98 ?

-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sun Sep 27 23:40:07 1998
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sun, 27 Sep 1998 23:40:07 +0200
Subject: Sv: R-beta: windows and dynload. ?Win98
Message-ID: <000801bdea5f$65c76140$2c4fa8c0@tring.stofanet.dk>

It does, at least for a while. But when various more or less well behaved programs enter the scene (harddisk) things changed, at least for me. Reinstallation of R or windows didn't help, and I did not want to start again from scratch with a reformat. I used rw0613.

-----Oprindelig meddelelse-----
Fra: Douglas Steele <Douglas at dsteele.demon.co.uk>
Til: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Dato: 27. september 1998 23:32
Emne: R-beta: windows and dynload. ?Win98


>In article <Pine.GSO.3.96.980917063426.11242A-100000 at localhost>, Prof
>Brian D Ripley <ripley at stats.ox.ac.uk> writes
>>> Error in dyn.load(file) : unable to load shared library
>>> "D:\R_CODA\RW0613\library\eda\libs\eda.dll"
>>This happens on certain Windows 95 machines (at least); Guido Masarotto and
>>I traced it to machines running Windows 95a (that is the original W95 with
>>service pack 1); machines running Windows 95b or c (OSR2 and OSR2.5) are
>>able to dyn.load.  We thought compiling under a later compiler (egcs 1.1) 
>>might help, but it does not (report to Guido: I tried this last week). 
>Any idea if dyn.load works on Win98 ?
>
>-- 
>Douglas Steele
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Sep 28 09:15:47 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 28 Sep 1998 08:15:47 +0100
Subject: Sv: R-beta: windows and dynload. ?Win98
In-Reply-To: <000801bdea5f$65c76140$2c4fa8c0@tring.stofanet.dk>; from Troels Ring on Sun, Sep 27, 1998 at 11:40:07PM +0200
References: <000801bdea5f$65c76140$2c4fa8c0@tring.stofanet.dk>
Message-ID: <19980928081547.A7541@sirio.stat.unipd.it>

On Sun, Sep 27, 1998 at 11:40:07PM +0200, Troels Ring wrote:
> It does, at least for a while. But when various more or less well behaved programs 
>enter the scene (harddisk) things changed, at least for me. 
>Reinstallation of R or windows didn't help, and I did not want to start 
>again from scratch with a reformat. I used rw0613.

Andrea Rossetti reported to me that the executable in rw0623b "can
dyn.load" on a Win98 machine in which rw0613 had problems.
So, his experience with Win98 is the same reported by Brian Ripley
with Win95a. 
I will have a Win98 machine +/- during next week. So, I will
be able to test directly.
But, in the meantime, if you have time, I will suggest to
upgrade to rw0623. 
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMorris at cldx.com  Mon Sep 28 16:23:25 1998
From: JMorris at cldx.com (Morris, Jeffrey)
Date: Mon, 28 Sep 1998 10:23:25 -0400
Subject: R-beta: Q:rw0623b graphics
Message-ID: <1998Sep28.100352.1268.1403349@msmail.cnp.cldx.com>


There does not appear to be a way to copy a plot for pasting into a
document only the ability to save it as *.gif or *.ps.  Is this true?

Thanks!

Jeff
jmorris at cldx.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at get2net.dk  Tue Sep 29 15:19:47 1998
From: anielsen at get2net.dk (ANDERS NIELSEN)
Date: Tue, 29 Sep 1998 15:19:47 +0200
Subject: R-beta: keyboard bug in Guido's R62.3
Message-ID: <199809291319.PAA03580@mb06.swip.net>

> On Thu, Sep 24, 1998 at 09:55:39AM +0200, Jim Lindsey wrote:
> > We have installed Guido's version of 62.3 for MS-Windows on an NT
> > network and it seemed to work all right. However, when we type a ~ (on
> > a French keyboard, it is obtained using Alt Gr), most keys on the
> > keyboard block and it is impossible to type further. Backspace and
> > return still work. Backspacing to erase the ~ liberates the keyboard.
> > Typing a return sends the command but the keyboard is still blocked
> > and now it seems impossible to unblock it because the ~ can no longer
> > be erased.
> 
>  Has someone else experienced this sort of problem?
..
..
..
>  guido


Yes, with win95osr2+danish keyboard I have problems obtaining
"[","]","{","}" and "@". All of these symbols should be accessible 
by a combination of Alt Gr and another key. When the combination 
is pressed -- nothing happens.

However it is possible to obtain these symbols by pressing Alt+...

Anders


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From owner-r-help at stat.math.ethz.ch  Wed Sep 30 17:09:56 1998
From: owner-r-help at stat.math.ethz.ch (owner-r-help@stat.math.ethz.ch)
Date: Wed, 30 Sep 1998 17:09:56 +0200
Subject: R-beta: compiling R-0.62.3 on SuSe Linux
Message-ID: <98093017104400.00243@for>

On my RedHat 5.1 machine at the office I am happily using R
installed from Martyn Plummer's RPM's of R-62.3 for RH 5.1

At home I have SuSe Linux 5.3 on my PC and as RH 5.1 is libc6
based and SuSe 5.3 is still libc5 based the RH 5.1 RPM's do
not install and work on SuSe (even though they have a test
version of glibc).

So I downloaded R-0.62.3.tgz from www.ci.tuwien.ac.at/R and
tried to compile it on SuSe. This gives a lot of errors that
I don't understand because I don't program in C/C++ and only
vaguely comprehend the workings of 'configure' and 'make'.

I used the available 'gcc-2.7.2.1-6' and 'g77-0.5.19.1-1'.
SuSe has 'libc-5.4.46-1'.

I uncompressed/untarred the 'tgz' to /usr/local/ and then
ran ./configure in the resulting directory /R-0.62.3
This seemed to complete OK but consulting the config.log
file showed things like:

>>configure:1888: gcc -o conftest -g -O2   conftest.c -ldxml
>>  -ldl -lncurses -lm  1>&5 
>>/usr/i486-linux/bin/ld: cannot open -ldxml: No such file or directory
>>configure: failed program was:
>>#line 1881 "configure"
>>#include "confdefs.h"

I still tried to run 'make' and this resulted in failure messages
of which I include the following:

>>make[3]: Leaving directory `/usr/local/R-0.62.3/src/appl'
>>cd unix; make
>>make[3]: Entering directory `/usr/local/R-0.62.3/src/unix'
>>gcc -g -O2  -I../../src/include  -c dataentry.c
>>In file included from dataentry.c:24:
>>dataentry.h:22: X11/X.h: No such file or directory
>>dataentry.h:23: X11/Xlib.h: No such file or directory
>>dataentry.h:24: X11/Xutil.h: No such file or directory
>>dataentry.h:25: X11/keysym.h: No such file or directory
>>dataentry.h:26: X11/cursorfont.h: No such file or directory
>>make[3]: *** [dataentry.o] Error 1
>>make[3]: Leaving directory `/usr/local/R-0.62.3/src/unix'
>>make[2]: *** [build] Error 2
>>make[2]: Leaving directory `/usr/local/R-0.62.3/src'
>>make[1]: *** [R] Error 2
>>make[1]: Leaving directory `/usr/local/R-0.62.3'
>>make: *** [all] Error 2    

Can somebody give me some idea of what is going wrong and what
to do to correct it.
I can't find the files "X.h, Xlib.h, Xutil.h, keysym.h, cursorfont.h"
either in RH 5.1 or SuSe 5.3. 

R-0.62.3.tgz only contains R-base. So if I get it working
where can I find the sources for the contributions and VR.
I can't find them on tuwien.      
                             
-------------------------------------
Alexander Volovics
Dept of Methodology & Statistics
Maastricht University, Maastricht, NL
-------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Sep 30 19:24:12 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Sep 1998 12:24:12 -0500
Subject: R-beta: compiling R-0.62.3 on SuSe Linux
In-Reply-To: owner-r-help@stat.math.ethz.ch's message of "Wed, 30 Sep 1998 17:09:56 +0200"
References: <98093017104400.00243@for>
Message-ID: <6rlnn1ikeb.fsf@verdi.stat.wisc.edu>

Sorry to reply to the entire list - the message didn't contain an
e-mail address for Alexander Volovics.

>>>>> "AA" == "Alexander Volovics" writes:

  AV> Can somebody give me some idea of what is going wrong and what
  AV> to do to correct it.  I can't find the files "X.h, Xlib.h,
  AV> Xutil.h, keysym.h, cursorfont.h" either in RH 5.1 or SuSe 5.3.

These files are include files for the X11 window system.  They are
usually found in /usr/include/X11/ or /usr/X11R6/include.  Try the
locate command, as in 
 bash-2.01$ locate Xlib.h
 /usr/lib/perl5/i386-linux/5.004/Tk/pTk/Xlib.h
 /usr/X11R6/include/X11/PEX5/PEXlib.h
 /usr/X11R6/include/X11/Xlib.h
to determine where they are.  The ./configure script should be able to
determine the location of these automatically.  Since it didn't this
may mean that your C compiler needs to be tweaked.

There are two options to ./configure
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
that you can use to set /usr/X11R6/include and /usr/X11R6/lib on the
include path and the libraries path respectively. It is unusual to
need to use them.

  AV> R-0.62.3.tgz only contains R-base. So if I get it working where
  AV> can I find the sources for the contributions and VR.  I can't
  AV> find them on tuwien.

They are available on the Comprehensive R Archive Network (CRAN) sites
in the src/contrib section.  The primary CRAN site is
		    http://www.ci.tuwien.ac.at/R/

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zaccarelli at dada.it  Mon Sep 14 09:52:40 1998
From: zaccarelli at dada.it (Zaccarelli Nicola)
Date: Mon, 14 Sep 1998 09:52:40 +0200
Subject: [R] Re: installing R packages --> for Pablo E. Verde
Message-ID: <35FCCB48.5FB3@dada.it>

First time on this mailing list.

Try with Guido's rw0630 release. I have it running under Windows 98 and
by now I haven't experienced any problems with dynamic loading.

Second remark.

> library(MASS)
> data(cat)
Warning: Data set `cat' not found
>
All data sets in MASS library as in boot one are NOT R source files but
R images. I think this is the reason why you (and me too, of course)
cann't load them.
If you want them as R-sourse files try this:
1- Open cats.rda (..\Mass\data\) with File: Load Image.
2- Edit the object cats (for exemple with: fix(cats)) and copy all the
data into a new Notepad document called "cat.R". Save cat.R and del the
.TXT exstention.
3- Modify your new cat.R adding:
   cats <- structure(list(Sex = ...

Now you are ready to load cat.R with:
>library(MASS)
>data(cat)

By NiCoLa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


