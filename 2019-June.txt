From mchowe||2 @end|ng |rom gm@||@com  Sat Jun  1 21:36:18 2019
From: mchowe||2 @end|ng |rom gm@||@com (Michael Howell)
Date: Sat, 1 Jun 2019 14:36:18 -0500
Subject: [R] How to specify distribution of forecast predictions?
Message-ID: <CAFH+Q7ypo7JKoYruVAoKXONnHLt7H9f-YWwX8ybsZhT4xFKy=g@mail.gmail.com>

Good afternoon,
I know that packages like r-forecast will create confidence intervals for
forecasts which can then be plotted. However I am doing something
experimental and would like to specify my own prediction distributions and
then graph them. Can anyone tell me if there is some package or function
available that would do this?

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Jun  1 22:00:28 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 01 Jun 2019 13:00:28 -0700
Subject: [R] How to specify distribution of forecast predictions?
In-Reply-To: <CAFH+Q7ypo7JKoYruVAoKXONnHLt7H9f-YWwX8ybsZhT4xFKy=g@mail.gmail.com>
References: <CAFH+Q7ypo7JKoYruVAoKXONnHLt7H9f-YWwX8ybsZhT4xFKy=g@mail.gmail.com>
Message-ID: <D17AA6C8-40C9-4383-82A4-7E0A32616563@dcn.davis.ca.us>

https://stat.ethz.ch/pipermail/r-help/2008-July/168230.html

or

ggplot2::geom_ribbon

On June 1, 2019 12:36:18 PM PDT, Michael Howell <mchowell2 at gmail.com> wrote:
>Good afternoon,
>I know that packages like r-forecast will create confidence intervals
>for
>forecasts which can then be plotted. However I am doing something
>experimental and would like to specify my own prediction distributions
>and
>then graph them. Can anyone tell me if there is some package or
>function
>available that would do this?
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Sun Jun  2 03:43:22 2019
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Sun, 2 Jun 2019 01:43:22 +0000
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>,
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
Message-ID: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>

Colleagues,

Despite Bert having tried to help me, I am still unable to perform a simple act with a function. I want to pass the names of the columns of a dataframe along with the name of the dataframe, and use the parameters to allow the function to access the dataframe and modify its contents.

I apologize multiple postings regarding this question, but it is a fundamental concept that one who wants to program in R needs to know.

Thank  you,
John

# Create a toy dataframe.
df <- data.frame(a=c(1:20),b=(20:39))
df


# Set up a function that will access the first and second columns of the
# data frame, print the columns of the dataframe and add the columns
demo <- function(first,second,df)
{
  # None of the following work
  print(df[,all.vars(first)])
  print(df[,first])
  print(df[,"first"])

  print(df[,all.vars(second)])
  print(df[,second])
  print(df[,"second"])

  df[,"sum"] <- print(df[,first])+print(df[,second])

}
demo(a,b, df)





John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
(Phone) 410-605-7119
(Fax) 410-605-7913 (Please call phone number above prior to faxing)


________________________________
From: Bert Gunter <bgunter.4567 at gmail.com>
Sent: Wednesday, May 29, 2019 11:27 PM
To: Sorkin, John
Cc: r-help at r-project.org
Subject: Re: [R] Tying to underdressed the magic of lm redux

Depends on how you want to specify variables. You are not clear (to me) on this. But, for instance:

demo <- function(form,df)
{
   av <- all.vars(form)
   df[,av]
}
demo(~a+b, df)
demo(a~b,df)

?all.vars, ?all.names  for details

Bert Gunter


On Wed, May 29, 2019 at 7:33 PM Sorkin, John <jsorkin at som.umaryland.edu<mailto:jsorkin at som.umaryland.edu>> wrote:
Bert,
Thank you for your reply. You are correct that your code will print the contents of the data frame. While it works, it is not as elegant as the lm function. One does not have to pass the independent and dependent variables to lm In parentheses.

Fit1<-lm(y~x,data=mydata)

None of the parameters to lm are passed in quotation marks. Somehow, using deparse(substitute()) and other magic lm is able to get the data in the dataframe mydata. I want to be able to do the same magic in functions I write; pass a dataframe and column names, all without quotation marks and be able to write code that will provide access to the columns of the dataframe without having to pass the column names in quotation marks.
Thank you,
John

John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
(Phone) 410-605-711<tel:410-605-7119>9
(Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)

On May 29, 2019, at 9:59 PM, Bert Gunter <bgunter.4567 at gmail.com<mailto:bgunter.4567 at gmail.com>> wrote:

Basically, huh?

> df <- data.frame(a = 1:3, b = letters[1:3])
> nm <- names(df)
> print(df[,nm[1]])
[1] 1 2 3
> print(df[,nm[2]])
[1] a b c
Levels: a b c

This can be done within a function, of course:

> demo <- function(df, colnames){
+    print(df[,colnames])
+ }
> demo(df,c("a","b"))
  a b
1 1 a
2 2 b
3 3 c

Am I missing something? (Apologies, if so).

Bert Gunter



On Wed, May 29, 2019 at 6:40 PM Sorkin, John <jsorkin at som.umaryland.edu<mailto:jsorkin at som.umaryland.edu>> wrote:
Thanks to several kind people, I understand how to use deparse(substitute(paramter)) to get as text strings the arguments passed to an R function. What I still can't do is put the text strings recovered by deparse(substitute(parameter)) back together to get the columns of a dataframe passed to the function. What I want to do is pass a column name to a function along with the name of the dataframe and then, within the function access the column of the dataframe.

I want the function below to print the columns of the dataframe testdata, i.e. testdata[,"FSG"] and testdata[,"GCM"]. I have tried several ways to tell the function to print the columns; none of them work.

I thank everyone who has helped in the past, and those people who will help me now!

John

testdata <- structure(list(FSG = c(271L, 288L, 269L, 297L, 311L, 217L, 235L,

                                   172L, 201L, 162L), CGM = c(205L, 273L, 226L, 235L, 311L, 201L,

                                   203L, 155L, 182L, 163L)), row.names = c(NA, 10L), class = "data.frame")

cat("This is the data frame")

class(testdata)

testdata



BAPlot <- function(first,second,indata){

  # these lines of code work

    col1 <- deparse(substitute(first))

    col2 <- deparse(substitute(second))

    thedata <- deparse(substitute(third))

    print(col1)

    print(col2)

    print(thedata)

    cat("This gets the data, but not as a dataframe\n")

    zoop<-paste(indata)

    print(zoop)

    cat("End This gets the data, but not as a dataframe\n")

     # these lines do not work

    print(indata[,first])

    print(indata[,"first"])

    print(thedata[,col1])

    paste(zoop[,paste(first)])

    paste(zoop[,first])

    zap<-paste(first)

    print(zap)

}




        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Jun  2 04:05:32 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 1 Jun 2019 19:05:32 -0700
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbRBOYBPAtZC_zyuzUKLLGCKchB6H==SxhscWh9b6PPuZQ@mail.gmail.com>

Hint:
> all.vars(a)
Error in all.vars(a) : object 'a' not found

> all.vars(quote(a)) ## protects "a" from evaluation; quote(a) is a symbol
expression
[1] "a"

> all.vars(~a) ## a formula expression
[1] "a"


-- Bert



On Sat, Jun 1, 2019 at 6:43 PM Sorkin, John <jsorkin at som.umaryland.edu>
wrote:

> Colleagues,
>
> Despite Bert having tried to help me, I am still unable to perform a
> simple act with a function. I want to pass the names of the columns of a
> dataframe along with the name of the dataframe, and use the parameters to
> allow the function to access the dataframe and modify its contents.
>
> I apologize multiple postings regarding this question, but it is a
> fundamental concept that one who wants to program in R needs to know.
>
> Thank  you,
> John
>
> # Create a toy dataframe.
> df <- data.frame(a=c(1:20),b=(20:39))
> df
>
>
> # Set up a function that will access the first and second columns of the
> # data frame, print the columns of the dataframe and add the columns
> demo <- function(first,second,df)
> {
>   # None of the following work
>   print(df[,all.vars(first)])
>   print(df[,first])
>   print(df[,"first"])
>
>   print(df[,all.vars(second)])
>   print(df[,second])
>   print(df[,"second"])
>
>   df[,"sum"] <- print(df[,first])+print(df[,second])
>
> }
> demo(a,b, df)
>
>
>
>
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and
> Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-7119
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>
>
>
> ------------------------------
> *From:* Bert Gunter <bgunter.4567 at gmail.com>
> *Sent:* Wednesday, May 29, 2019 11:27 PM
> *To:* Sorkin, John
> *Cc:* r-help at r-project.org
> *Subject:* Re: [R] Tying to underdressed the magic of lm redux
>
> Depends on how you want to specify variables. You are not clear (to me) on
> this. But, for instance:
>
> demo <- function(form,df)
> {
>    av <- all.vars(form)
>    df[,av]
> }
> demo(~a+b, df)
> demo(a~b,df)
>
> ?all.vars, ?all.names  for details
>
> Bert Gunter
>
>
> On Wed, May 29, 2019 at 7:33 PM Sorkin, John <jsorkin at som.umaryland.edu>
> wrote:
>
> Bert,
> Thank you for your reply. You are correct that your code will print the
> contents of the data frame. While it works, it is not as elegant as the lm
> function. One does not have to pass the independent and dependent variables
> to lm In parentheses.
>
> Fit1<-lm(y~x,data=mydata)
>
> None of the parameters to lm are passed in quotation marks. Somehow, using
> deparse(substitute()) and other magic lm is able to get the data in the
> dataframe mydata. I want to be able to do the same magic in functions I
> write; pass a dataframe and column names, all without quotation marks and
> be able to write code that will provide access to the columns of the
> dataframe without having to pass the column names in quotation marks.
> Thank you,
> John
>
> John David Sorkin M.D., Ph.D.
>
> Professor of Medicine
>
> Chief, Biostatistics and Informatics
>
> University of Maryland School of Medicine Division of Gerontology and
> Geriatric Medicine
>
> Baltimore VA Medical Center
>
> 10 North Greene Street
>
> GRECC (BT/18/GR)
>
> Baltimore, MD 21201-1524
>
> (Phone) 410-605-711 <410-605-7119>9
>
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>
>
> On May 29, 2019, at 9:59 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> Basically, huh?
>
> > df <- data.frame(a = 1:3, b = letters[1:3])
> > nm <- names(df)
> > print(df[,nm[1]])
> [1] 1 2 3
> > print(df[,nm[2]])
> [1] a b c
> Levels: a b c
>
> This can be done within a function, of course:
>
> > demo <- function(df, colnames){
> +    print(df[,colnames])
> + }
> > demo(df,c("a","b"))
>   a b
> 1 1 a
> 2 2 b
> 3 3 c
>
> Am I missing something? (Apologies, if so).
>
> Bert Gunter
>
>
>
> On Wed, May 29, 2019 at 6:40 PM Sorkin, John <jsorkin at som.umaryland.edu>
> wrote:
>
> Thanks to several kind people, I understand how to use
> deparse(substitute(paramter)) to get as text strings the arguments passed
> to an R function. What I still can't do is put the text strings recovered
> by deparse(substitute(parameter)) back together to get the columns of a
> dataframe passed to the function. What I want to do is pass a column name
> to a function along with the name of the dataframe and then, within the
> function access the column of the dataframe.
>
> I want the function below to print the columns of the dataframe testdata,
> i.e. testdata[,"FSG"] and testdata[,"GCM"]. I have tried several ways to
> tell the function to print the columns; none of them work.
>
> I thank everyone who has helped in the past, and those people who will
> help me now!
>
> John
>
> testdata <- structure(list(FSG = c(271L, 288L, 269L, 297L, 311L, 217L,
> 235L,
>
>                                    172L, 201L, 162L), CGM = c(205L, 273L,
> 226L, 235L, 311L, 201L,
>
>                                    203L, 155L, 182L, 163L)), row.names =
> c(NA, 10L), class = "data.frame")
>
> cat("This is the data frame")
>
> class(testdata)
>
> testdata
>
>
>
> BAPlot <- function(first,second,indata){
>
>   # these lines of code work
>
>     col1 <- deparse(substitute(first))
>
>     col2 <- deparse(substitute(second))
>
>     thedata <- deparse(substitute(third))
>
>     print(col1)
>
>     print(col2)
>
>     print(thedata)
>
>     cat("This gets the data, but not as a dataframe\n")
>
>     zoop<-paste(indata)
>
>     print(zoop)
>
>     cat("End This gets the data, but not as a dataframe\n")
>
>      # these lines do not work
>
>     print(indata[,first])
>
>     print(indata[,"first"])
>
>     print(thedata[,col1])
>
>     paste(zoop[,paste(first)])
>
>     paste(zoop[,first])
>
>     zap<-paste(first)
>
>     print(zap)
>
> }
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Sun Jun  2 04:45:41 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Sun, 2 Jun 2019 14:45:41 +1200
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
Message-ID: <CABcYAd+dk5rEh_82dAQLNPX8gZXE6Yyfq76pWNGJR32CgtAW-A@mail.gmail.com>

You can find the names of the columns of a dataframe using
  colnames(my.df)
A dataframe is a value just as much as a number is, and as such,
doesn't _have_ a name.  However, when you call a function in R,
the arguments are not evaluated, and their forms can be recovered,
just as "plot" does.  In fact, looking at plot to see how it does
that is a good idea.

demo <- function (df) {
   list(name = deparse(substitute(df)), cols = colnames(df))
}

my.df <- data.frame(x = c(1,2), y = c(3,4))

demo(my.df)

$name
[1] "my.df"

$cols
[1] "x" "y"




On Sun, 2 Jun 2019 at 13:43, Sorkin, John <jsorkin at som.umaryland.edu> wrote:

> Colleagues,
>
> Despite Bert having tried to help me, I am still unable to perform a
> simple act with a function. I want to pass the names of the columns of a
> dataframe along with the name of the dataframe, and use the parameters to
> allow the function to access the dataframe and modify its contents.
>
> I apologize multiple postings regarding this question, but it is a
> fundamental concept that one who wants to program in R needs to know.
>
> Thank  you,
> John
>
> # Create a toy dataframe.
> df <- data.frame(a=c(1:20),b=(20:39))
> df
>
>
> # Set up a function that will access the first and second columns of the
> # data frame, print the columns of the dataframe and add the columns
> demo <- function(first,second,df)
> {
>   # None of the following work
>   print(df[,all.vars(first)])
>   print(df[,first])
>   print(df[,"first"])
>
>   print(df[,all.vars(second)])
>   print(df[,second])
>   print(df[,"second"])
>
>   df[,"sum"] <- print(df[,first])+print(df[,second])
>
> }
> demo(a,b, df)
>
>
>
>
>
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and
> Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-7119
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>
>
> ________________________________
> From: Bert Gunter <bgunter.4567 at gmail.com>
> Sent: Wednesday, May 29, 2019 11:27 PM
> To: Sorkin, John
> Cc: r-help at r-project.org
> Subject: Re: [R] Tying to underdressed the magic of lm redux
>
> Depends on how you want to specify variables. You are not clear (to me) on
> this. But, for instance:
>
> demo <- function(form,df)
> {
>    av <- all.vars(form)
>    df[,av]
> }
> demo(~a+b, df)
> demo(a~b,df)
>
> ?all.vars, ?all.names  for details
>
> Bert Gunter
>
>
> On Wed, May 29, 2019 at 7:33 PM Sorkin, John <jsorkin at som.umaryland.edu
> <mailto:jsorkin at som.umaryland.edu>> wrote:
> Bert,
> Thank you for your reply. You are correct that your code will print the
> contents of the data frame. While it works, it is not as elegant as the lm
> function. One does not have to pass the independent and dependent variables
> to lm In parentheses.
>
> Fit1<-lm(y~x,data=mydata)
>
> None of the parameters to lm are passed in quotation marks. Somehow, using
> deparse(substitute()) and other magic lm is able to get the data in the
> dataframe mydata. I want to be able to do the same magic in functions I
> write; pass a dataframe and column names, all without quotation marks and
> be able to write code that will provide access to the columns of the
> dataframe without having to pass the column names in quotation marks.
> Thank you,
> John
>
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and
> Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-711<tel:410-605-7119>9
> (Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior
> to faxing)
>
> On May 29, 2019, at 9:59 PM, Bert Gunter <bgunter.4567 at gmail.com<mailto:
> bgunter.4567 at gmail.com>> wrote:
>
> Basically, huh?
>
> > df <- data.frame(a = 1:3, b = letters[1:3])
> > nm <- names(df)
> > print(df[,nm[1]])
> [1] 1 2 3
> > print(df[,nm[2]])
> [1] a b c
> Levels: a b c
>
> This can be done within a function, of course:
>
> > demo <- function(df, colnames){
> +    print(df[,colnames])
> + }
> > demo(df,c("a","b"))
>   a b
> 1 1 a
> 2 2 b
> 3 3 c
>
> Am I missing something? (Apologies, if so).
>
> Bert Gunter
>
>
>
> On Wed, May 29, 2019 at 6:40 PM Sorkin, John <jsorkin at som.umaryland.edu
> <mailto:jsorkin at som.umaryland.edu>> wrote:
> Thanks to several kind people, I understand how to use
> deparse(substitute(paramter)) to get as text strings the arguments passed
> to an R function. What I still can't do is put the text strings recovered
> by deparse(substitute(parameter)) back together to get the columns of a
> dataframe passed to the function. What I want to do is pass a column name
> to a function along with the name of the dataframe and then, within the
> function access the column of the dataframe.
>
> I want the function below to print the columns of the dataframe testdata,
> i.e. testdata[,"FSG"] and testdata[,"GCM"]. I have tried several ways to
> tell the function to print the columns; none of them work.
>
> I thank everyone who has helped in the past, and those people who will
> help me now!
>
> John
>
> testdata <- structure(list(FSG = c(271L, 288L, 269L, 297L, 311L, 217L,
> 235L,
>
>                                    172L, 201L, 162L), CGM = c(205L, 273L,
> 226L, 235L, 311L, 201L,
>
>                                    203L, 155L, 182L, 163L)), row.names =
> c(NA, 10L), class = "data.frame")
>
> cat("This is the data frame")
>
> class(testdata)
>
> testdata
>
>
>
> BAPlot <- function(first,second,indata){
>
>   # these lines of code work
>
>     col1 <- deparse(substitute(first))
>
>     col2 <- deparse(substitute(second))
>
>     thedata <- deparse(substitute(third))
>
>     print(col1)
>
>     print(col2)
>
>     print(thedata)
>
>     cat("This gets the data, but not as a dataframe\n")
>
>     zoop<-paste(indata)
>
>     print(zoop)
>
>     cat("End This gets the data, but not as a dataframe\n")
>
>      # these lines do not work
>
>     print(indata[,first])
>
>     print(indata[,"first"])
>
>     print(thedata[,col1])
>
>     paste(zoop[,paste(first)])
>
>     paste(zoop[,first])
>
>     zap<-paste(first)
>
>     print(zap)
>
> }
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To
> UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Sun Jun  2 04:51:53 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Sun, 2 Jun 2019 14:51:53 +1200
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <CABcYAd+dk5rEh_82dAQLNPX8gZXE6Yyfq76pWNGJR32CgtAW-A@mail.gmail.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
 <CABcYAd+dk5rEh_82dAQLNPX8gZXE6Yyfq76pWNGJR32CgtAW-A@mail.gmail.com>
Message-ID: <CABcYAdKe+M-F4wwE8KVagE3A42eM_WrUoy8knq0=iMoHFoE8-A@mail.gmail.com>

PS:  lm records a copy of the call in its result, but has no other use
for any name the data frame may have had.

On Sun, 2 Jun 2019 at 14:45, Richard O'Keefe <raoknz at gmail.com> wrote:

> You can find the names of the columns of a dataframe using
>   colnames(my.df)
> A dataframe is a value just as much as a number is, and as such,
> doesn't _have_ a name.  However, when you call a function in R,
> the arguments are not evaluated, and their forms can be recovered,
> just as "plot" does.  In fact, looking at plot to see how it does
> that is a good idea.
>
> demo <- function (df) {
>    list(name = deparse(substitute(df)), cols = colnames(df))
> }
>
> my.df <- data.frame(x = c(1,2), y = c(3,4))
>
> demo(my.df)
>
> $name
> [1] "my.df"
>
> $cols
> [1] "x" "y"
>
>
>
>
> On Sun, 2 Jun 2019 at 13:43, Sorkin, John <jsorkin at som.umaryland.edu>
> wrote:
>
>> Colleagues,
>>
>> Despite Bert having tried to help me, I am still unable to perform a
>> simple act with a function. I want to pass the names of the columns of a
>> dataframe along with the name of the dataframe, and use the parameters to
>> allow the function to access the dataframe and modify its contents.
>>
>> I apologize multiple postings regarding this question, but it is a
>> fundamental concept that one who wants to program in R needs to know.
>>
>> Thank  you,
>> John
>>
>> # Create a toy dataframe.
>> df <- data.frame(a=c(1:20),b=(20:39))
>> df
>>
>>
>> # Set up a function that will access the first and second columns of the
>> # data frame, print the columns of the dataframe and add the columns
>> demo <- function(first,second,df)
>> {
>>   # None of the following work
>>   print(df[,all.vars(first)])
>>   print(df[,first])
>>   print(df[,"first"])
>>
>>   print(df[,all.vars(second)])
>>   print(df[,second])
>>   print(df[,"second"])
>>
>>   df[,"sum"] <- print(df[,first])+print(df[,second])
>>
>> }
>> demo(a,b, df)
>>
>>
>>
>>
>>
>> John David Sorkin M.D., Ph.D.
>> Professor of Medicine
>> Chief, Biostatistics and Informatics
>> University of Maryland School of Medicine Division of Gerontology and
>> Geriatric Medicine
>> Baltimore VA Medical Center
>> 10 North Greene Street
>> GRECC (BT/18/GR)
>> Baltimore, MD 21201-1524
>> (Phone) 410-605-7119
>> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>>
>>
>> ________________________________
>> From: Bert Gunter <bgunter.4567 at gmail.com>
>> Sent: Wednesday, May 29, 2019 11:27 PM
>> To: Sorkin, John
>> Cc: r-help at r-project.org
>> Subject: Re: [R] Tying to underdressed the magic of lm redux
>>
>> Depends on how you want to specify variables. You are not clear (to me)
>> on this. But, for instance:
>>
>> demo <- function(form,df)
>> {
>>    av <- all.vars(form)
>>    df[,av]
>> }
>> demo(~a+b, df)
>> demo(a~b,df)
>>
>> ?all.vars, ?all.names  for details
>>
>> Bert Gunter
>>
>>
>> On Wed, May 29, 2019 at 7:33 PM Sorkin, John <jsorkin at som.umaryland.edu
>> <mailto:jsorkin at som.umaryland.edu>> wrote:
>> Bert,
>> Thank you for your reply. You are correct that your code will print the
>> contents of the data frame. While it works, it is not as elegant as the lm
>> function. One does not have to pass the independent and dependent variables
>> to lm In parentheses.
>>
>> Fit1<-lm(y~x,data=mydata)
>>
>> None of the parameters to lm are passed in quotation marks. Somehow,
>> using deparse(substitute()) and other magic lm is able to get the data in
>> the dataframe mydata. I want to be able to do the same magic in functions I
>> write; pass a dataframe and column names, all without quotation marks and
>> be able to write code that will provide access to the columns of the
>> dataframe without having to pass the column names in quotation marks.
>> Thank you,
>> John
>>
>> John David Sorkin M.D., Ph.D.
>> Professor of Medicine
>> Chief, Biostatistics and Informatics
>> University of Maryland School of Medicine Division of Gerontology and
>> Geriatric Medicine
>> Baltimore VA Medical Center
>> 10 North Greene Street
>> GRECC (BT/18/GR)
>> Baltimore, MD 21201-1524
>> (Phone) 410-605-711<tel:410-605-7119>9
>> (Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above
>> prior to faxing)
>>
>> On May 29, 2019, at 9:59 PM, Bert Gunter <bgunter.4567 at gmail.com<mailto:
>> bgunter.4567 at gmail.com>> wrote:
>>
>> Basically, huh?
>>
>> > df <- data.frame(a = 1:3, b = letters[1:3])
>> > nm <- names(df)
>> > print(df[,nm[1]])
>> [1] 1 2 3
>> > print(df[,nm[2]])
>> [1] a b c
>> Levels: a b c
>>
>> This can be done within a function, of course:
>>
>> > demo <- function(df, colnames){
>> +    print(df[,colnames])
>> + }
>> > demo(df,c("a","b"))
>>   a b
>> 1 1 a
>> 2 2 b
>> 3 3 c
>>
>> Am I missing something? (Apologies, if so).
>>
>> Bert Gunter
>>
>>
>>
>> On Wed, May 29, 2019 at 6:40 PM Sorkin, John <jsorkin at som.umaryland.edu
>> <mailto:jsorkin at som.umaryland.edu>> wrote:
>> Thanks to several kind people, I understand how to use
>> deparse(substitute(paramter)) to get as text strings the arguments passed
>> to an R function. What I still can't do is put the text strings recovered
>> by deparse(substitute(parameter)) back together to get the columns of a
>> dataframe passed to the function. What I want to do is pass a column name
>> to a function along with the name of the dataframe and then, within the
>> function access the column of the dataframe.
>>
>> I want the function below to print the columns of the dataframe testdata,
>> i.e. testdata[,"FSG"] and testdata[,"GCM"]. I have tried several ways to
>> tell the function to print the columns; none of them work.
>>
>> I thank everyone who has helped in the past, and those people who will
>> help me now!
>>
>> John
>>
>> testdata <- structure(list(FSG = c(271L, 288L, 269L, 297L, 311L, 217L,
>> 235L,
>>
>>                                    172L, 201L, 162L), CGM = c(205L, 273L,
>> 226L, 235L, 311L, 201L,
>>
>>                                    203L, 155L, 182L, 163L)), row.names =
>> c(NA, 10L), class = "data.frame")
>>
>> cat("This is the data frame")
>>
>> class(testdata)
>>
>> testdata
>>
>>
>>
>> BAPlot <- function(first,second,indata){
>>
>>   # these lines of code work
>>
>>     col1 <- deparse(substitute(first))
>>
>>     col2 <- deparse(substitute(second))
>>
>>     thedata <- deparse(substitute(third))
>>
>>     print(col1)
>>
>>     print(col2)
>>
>>     print(thedata)
>>
>>     cat("This gets the data, but not as a dataframe\n")
>>
>>     zoop<-paste(indata)
>>
>>     print(zoop)
>>
>>     cat("End This gets the data, but not as a dataframe\n")
>>
>>      # these lines do not work
>>
>>     print(indata[,first])
>>
>>     print(indata[,"first"])
>>
>>     print(thedata[,col1])
>>
>>     paste(zoop[,paste(first)])
>>
>>     paste(zoop[,first])
>>
>>     zap<-paste(first)
>>
>>     print(zap)
>>
>> }
>>
>>
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To
>> UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From ccberry @end|ng |rom uc@d@edu  Sun Jun  2 05:23:23 2019
From: ccberry @end|ng |rom uc@d@edu (Berry, Charles)
Date: Sun, 2 Jun 2019 03:23:23 +0000
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
Message-ID: <D96051BB-4BB0-4A72-8FE1-FDF38E446802@ucsd.edu>

John,

I believe the pieces you are missing are filed under 'computing on the language', 'passing unevaluated objects', and 'language objects'.

Forgive me if I belabor things you already know.  

lm, transform, and many other functions do their "magic" by operating on language objects.

You might find a read of the `Computing on the Language' section in Venables and Pipley's `S Programmming' useful aa background. There are probably many blogs and other on-line resources, too.

The unquoted things you want to operate on are language objects. deparse-ing those objects and trying to operate on character strings is one way to deal with such objects, but it can get messy.  

You might find that `transform.data.frame' provides a useful example of how to deal with language objects provided as arguments to a function.

I suggest you try `debugonce' on lm and on `transform.data.frame'. Run an example of each and inspect each object created along the way. 

For lm, you should aim to understand everything through this line: 

 mf <- eval(mf, parent.frame()) 

Getting familiar with `substitute', `match.call', `eval', and friends will help.

HTH,

Chuck

p.s. It sounds like what you want to do is to extend `transform.data.frame' in some way. ??

> On Jun 1, 2019, at 6:43 PM, Sorkin, John <jsorkin at som.umaryland.edu> wrote:
> 
> Colleagues,
> 
> Despite Bert having tried to help me, I am still unable to perform a simple act with a function. I want to pass the names of the columns of a dataframe along with the name of the dataframe, and use the parameters to allow the function to access the dataframe and modify its contents.
> 
> I apologize multiple postings regarding this question, but it is a fundamental concept that one who wants to program in R needs to know.
> 
> T


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Sun Jun  2 05:51:36 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Sun, 2 Jun 2019 05:51:36 +0200
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
Message-ID: <23f8abf2-d5e8-f98c-1954-2ba0d7d38f5a@statistik.tu-dortmund.de>

Simply quote the colnames in the call, i.e.:
demo("a", "b", df)

Best,
Uwe Ligges

On 02.06.2019 03:43, Sorkin, John wrote:
> Colleagues,
> 
> Despite Bert having tried to help me, I am still unable to perform a simple act with a function. I want to pass the names of the columns of a dataframe along with the name of the dataframe, and use the parameters to allow the function to access the dataframe and modify its contents.
> 
> I apologize multiple postings regarding this question, but it is a fundamental concept that one who wants to program in R needs to know.
> 
> Thank  you,
> John
> 
> # Create a toy dataframe.
> df <- data.frame(a=c(1:20),b=(20:39))
> df
> 
> 
> # Set up a function that will access the first and second columns of the
> # data frame, print the columns of the dataframe and add the columns
> demo <- function(first,second,df)
> {
>    # None of the following work
>    print(df[,all.vars(first)])
>    print(df[,first])
>    print(df[,"first"])
> 
>    print(df[,all.vars(second)])
>    print(df[,second])
>    print(df[,"second"])
> 
>    df[,"sum"] <- print(df[,first])+print(df[,second])
> 
> }
> demo(a,b, df)
> 
> 
> 
> 
> 
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-7119
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
> 
> 
> ________________________________
> From: Bert Gunter <bgunter.4567 at gmail.com>
> Sent: Wednesday, May 29, 2019 11:27 PM
> To: Sorkin, John
> Cc: r-help at r-project.org
> Subject: Re: [R] Tying to underdressed the magic of lm redux
> 
> Depends on how you want to specify variables. You are not clear (to me) on this. But, for instance:
> 
> demo <- function(form,df)
> {
>     av <- all.vars(form)
>     df[,av]
> }
> demo(~a+b, df)
> demo(a~b,df)
> 
> ?all.vars, ?all.names  for details
> 
> Bert Gunter
> 
> 
> On Wed, May 29, 2019 at 7:33 PM Sorkin, John <jsorkin at som.umaryland.edu<mailto:jsorkin at som.umaryland.edu>> wrote:
> Bert,
> Thank you for your reply. You are correct that your code will print the contents of the data frame. While it works, it is not as elegant as the lm function. One does not have to pass the independent and dependent variables to lm In parentheses.
> 
> Fit1<-lm(y~x,data=mydata)
> 
> None of the parameters to lm are passed in quotation marks. Somehow, using deparse(substitute()) and other magic lm is able to get the data in the dataframe mydata. I want to be able to do the same magic in functions I write; pass a dataframe and column names, all without quotation marks and be able to write code that will provide access to the columns of the dataframe without having to pass the column names in quotation marks.
> Thank you,
> John
> 
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-711<tel:410-605-7119>9
> (Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)
> 
> On May 29, 2019, at 9:59 PM, Bert Gunter <bgunter.4567 at gmail.com<mailto:bgunter.4567 at gmail.com>> wrote:
> 
> Basically, huh?
> 
>> df <- data.frame(a = 1:3, b = letters[1:3])
>> nm <- names(df)
>> print(df[,nm[1]])
> [1] 1 2 3
>> print(df[,nm[2]])
> [1] a b c
> Levels: a b c
> 
> This can be done within a function, of course:
> 
>> demo <- function(df, colnames){
> +    print(df[,colnames])
> + }
>> demo(df,c("a","b"))
>    a b
> 1 1 a
> 2 2 b
> 3 3 c
> 
> Am I missing something? (Apologies, if so).
> 
> Bert Gunter
> 
> 
> 
> On Wed, May 29, 2019 at 6:40 PM Sorkin, John <jsorkin at som.umaryland.edu<mailto:jsorkin at som.umaryland.edu>> wrote:
> Thanks to several kind people, I understand how to use deparse(substitute(paramter)) to get as text strings the arguments passed to an R function. What I still can't do is put the text strings recovered by deparse(substitute(parameter)) back together to get the columns of a dataframe passed to the function. What I want to do is pass a column name to a function along with the name of the dataframe and then, within the function access the column of the dataframe.
> 
> I want the function below to print the columns of the dataframe testdata, i.e. testdata[,"FSG"] and testdata[,"GCM"]. I have tried several ways to tell the function to print the columns; none of them work.
> 
> I thank everyone who has helped in the past, and those people who will help me now!
> 
> John
> 
> testdata <- structure(list(FSG = c(271L, 288L, 269L, 297L, 311L, 217L, 235L,
> 
>                                     172L, 201L, 162L), CGM = c(205L, 273L, 226L, 235L, 311L, 201L,
> 
>                                     203L, 155L, 182L, 163L)), row.names = c(NA, 10L), class = "data.frame")
> 
> cat("This is the data frame")
> 
> class(testdata)
> 
> testdata
> 
> 
> 
> BAPlot <- function(first,second,indata){
> 
>    # these lines of code work
> 
>      col1 <- deparse(substitute(first))
> 
>      col2 <- deparse(substitute(second))
> 
>      thedata <- deparse(substitute(third))
> 
>      print(col1)
> 
>      print(col2)
> 
>      print(thedata)
> 
>      cat("This gets the data, but not as a dataframe\n")
> 
>      zoop<-paste(indata)
> 
>      print(zoop)
> 
>      cat("End This gets the data, but not as a dataframe\n")
> 
>       # these lines do not work
> 
>      print(indata[,first])
> 
>      print(indata[,"first"])
> 
>      print(thedata[,col1])
> 
>      paste(zoop[,paste(first)])
> 
>      paste(zoop[,first])
> 
>      zap<-paste(first)
> 
>      print(zap)
> 
> }
> 
> 
> 
> 
>          [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sun Jun  2 22:16:08 2019
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sun, 2 Jun 2019 20:16:08 +0000 (UTC)
Subject: [R] Fitdistrplus package : Error messages
In-Reply-To: <55ed789b-5c98-e05e-6fbc-854852522cd6@sapo.pt>
References: <1133052359.12277004.1559119586658.ref@mail.yahoo.com>
 <1133052359.12277004.1559119586658@mail.yahoo.com>
 <55ed789b-5c98-e05e-6fbc-854852522cd6@sapo.pt>
Message-ID: <1364117240.15407402.1559506568808@mail.yahoo.com>

Dear Rui,

Many thanks, it perfectly works. Yes it was because of non-integer in vector x.

best,



Le mercredi 29 mai 2019 ? 11:55:06 UTC+2, Rui Barradas <ruipbarradas at sapo.pt> a ?crit : 





Hello,

This is because you have non-integer values in vector x?


This one works.

##Poisson distribution
f2p <- fitdist(floor(x), "pois")
plot(f2p)
summary(f2p)


Not so well

##negative binomial distribution
f2n <- fitdist(floor(x), "nbinom")
f2n <- fitdist(ceiling(x), "nbinom")
f2n <- fitdist(round(x), "nbinom")

plot(f2n)
summary(f2n)


Hope this helps,

Rui Barradas

?s 09:46 de 29/05/19, varin sacha via R-help escreveu:
> Dear R-Experts,
> 
> Here is a toy example, reproducible example, I get error messages. I have tried to fix it by myself using "google is my friend", but I did not get it. If somebody can help me to fix these errors, would be highly appreciated.
> 
> ##########################
> install.packages("fitdistrplus")
> library(fitdistrplus)
> 
> x=c(3,3.5,4.5,5,5.5,5.5,4.5,3.5,5,6,3,4,5,4.5,4,5.5,3.5,3,3)
> 
> ##Poisson distribution
> f2p=fitdist(x, "pois")
> plot(f2p)
> summary(f2p)
> 
> ##negative binomial distribution
> f2n=fitdist(x,"nbinom")
> plot(f2n)
> summary(f2n)

> ####################################
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

> 


From h|gh@t@t @end|ng |rom h|gh@t@t@com  Mon Jun  3 10:35:49 2019
From: h|gh@t@t @end|ng |rom h|gh@t@t@com (Highland Statistics Ltd)
Date: Mon, 3 Jun 2019 09:35:49 +0100
Subject: [R] Stats course: Mixed effects modelling
Message-ID: <86eb2eba-ba3e-be3d-75a5-a233e00001bb@highstat.com>

We would like to announce the following 3 statistics courses.

Course: Linear Mixed Effects Models and GLMM with R-INLA.
Where and when:

  * Northwest Atlantic Fisheries Centre, St John?s, Canada. 12-16 August
    2019
  * University of C?diz, C?diz, Spain. 2-6 September 2019
  * University of Ghent, Ghent, Belgium. 2-6 December 2019

Course website: http://highstat.com/index.php/courses-upcoming


Kind regards,


Alain Zuur


Other upcoming courses:

Introduction to regression models with spatial and temporal correlation 
using R-INLA
NIOZ, Texel, The Netherlands. 23-27 September 2019

Introduction to regression models with spatial and spatial-temporal 
correlation using R-INLA
Burlington (close to Toronto), ON, Canada. 28 October - 1 November 2019

Data exploration, regression, GLM & GAM with introduction to R
Lisbon, Portugal. 3 - 7 February 2020

Introduction to regression models with spatial correlation using R-INLA
IEO, Vigo, Spain. 10 - 13 February 2020




-- 

Dr. Alain F. Zuur
Highland Statistics Ltd.
9 St Clair Wynd
AB41 6DZ Newburgh, UK
Email: highstat at highstat.com
URL:   www.highstat.com

And:
NIOZ Royal Netherlands Institute for Sea Research,
Department of Coastal Systems, and Utrecht University,
P.O. Box 59, 1790 AB Den Burg,
Texel, The Netherlands



Author of:
1. Beginner's Guide to Spatial, Temporal and Spatial-Temporal Ecological Data Analysis with R-INLA. (2017).
2. Beginner's Guide to Zero-Inflated Models with R (2016).
3. Beginner's Guide to Data Exploration and Visualisation with R (2015).
4. Beginner's Guide to GAMM with R (2014).
5. Beginner's Guide to GLM and GLMM with R (2013).
6. Beginner's Guide to GAM with R (2012).
7. Zero Inflated Models and GLMM with R (2012).
8. A Beginner's Guide to R (2009).
9. Mixed effects models and extensions in ecology with R (2009).
10. Analysing Ecological Data (2007).


	[[alternative HTML version deleted]]


From S@E|||@on @end|ng |rom LGCGroup@com  Mon Jun  3 13:27:40 2019
From: S@E|||@on @end|ng |rom LGCGroup@com (Stephen Ellison)
Date: Mon, 3 Jun 2019 11:27:40 +0000
Subject: [R] Tying to underdressed the magic of lm redux
In-Reply-To: <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
References: <BN7PR03MB373052F07EDFB128F6BE2C75E2180@BN7PR03MB3730.namprd03.prod.outlook.com>
 <CAGxFJbQNcYBAF60w7QpTvcFnhdEsf6fUv1+DhxHJOVVD=QHHwg@mail.gmail.com>
 <A29061BB-2987-4D89-B939-C733A2ECC203@som.umaryland.edu>,
 <CAGxFJbRj3FT5w5=Ks5wqQubBO1=L6y=Hb_wip7HbGMfxYHPw1A@mail.gmail.com>
 <DM6PR03MB374045352DB097E2A9A2DDEEE21B0@DM6PR03MB3740.namprd03.prod.outlook.com>
Message-ID: <43bbcdf2d07d467d925b3b17043028ad@GBDCVPEXC04.corp.lgc-group.com>

If you want to pass a data frame (not just its name) plus (some) column names to your function, the easiest way  is to put the _quoted_ names in a vector, as previously posted. For example

f1 <- function(dfrm, colnames) {
	print(dfrm[,colnames]) #or, if you like, for(nn in colnames) print(dfrm[[nn]]) 
                                                                #or for(nn in colnames) print(dfrm[,nn])
}
#Using your data frame (with name df to avoid confusion with the density for the F distribution, df())
f1(df1, c("a", "b") ) #c("a", "b") is a character vector. 


If you want to avoid quotes and a vector (why?), you could use a one-sided formula
f1f <- function (form, data) { #that way round to look like lm
	print(data[,all.vars(form)]) 
	#OR (to print one at a time)
	#for(nn in all.vars(form)) print(data[[nn]])
}
f1f(~a+b, df1) #Almost any combination of formula symbols will work but '+' is enough


Finally, some comments on why your code didn't work:
> demo <- function(first,second,df)
	#first and second must exist outside the data frame or the function won't find them and you'll get errors like "object 'b' not found"

>   # None of the following work
>   print(df[,all.vars(first)])
	#all.vars fails because first is not an expression or call object, just a vector (if a exists outside the data frame at all). 

>   print(df[,first])
	#Won't work because 'a' is unknown at function call time, and if it did exist this would use it as a vector of names or column numbers.

>   print(df[,"first"])
	#"first" is not a column name in df

>   print(df[,all.vars(second)])
	#all as for 'first' above

>   df[,"sum"] <- print(df[,first])+print(df[,second])
	#Fails principally because df[,first] and df[,second] don't work, for reasons above. 
	#It would work if first and second are legitimate index vectors, BUT only because print() returns its arguments invisibly. 
	#As a side effect it will print first and second before returning the value.
	# If R didn't return arguments invisibly, you'd be asking R to add together two printouts, which would be 
	# about as sensible as asking it to add two pieces of paper together to get a vector of numbers.

It's quicker to say what _does_ work...

First, look up ?"[" and see what kinds of value that takes  and how it works.
It will tell you that row and  col in something like df1[row, col] must be vectors, and that they can be logical, numeric or character.
If they are logical, rows and columns corresponding to TRUE are accessed by df1[row, col]. But their lengths must be equal to the number of rows and columns, respectively, in df1 because TRUE must be at the same location in the vector row (say) as the rows you want from the data frame.
If they are numeric, you'll get the relevant rows and columns counting from top left.
If they are character vectors, you'll get the rows and columns with those names.
Mixing and matching works.

So:
df1[, "a"]
df1[,1]
df1[,c(TRUE, FALSE)]
will all work and return the first column.

and
demo(first="a", second="b", df1)
will work in your function, as would demo("a", "b", df1)

demo(a, b, df1) will NOT work unless a and b are vectors that are legitimate indices for df1

Pretty much nothing else will work either, unless it returns a vecotor that [ can interpret as an index.


There is one more cunning variant of [] for matrices, which is a matrix of indices; I'll leave that for ?"[" to explain.



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From p@u|bern@|07 @end|ng |rom gm@||@com  Mon Jun  3 16:15:13 2019
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Mon, 3 Jun 2019 09:15:13 -0500
Subject: [R] R demographic facts
Message-ID: <CAMOcQfM1xz_C1Ks_ufXcRX-R_5bUN9_NvMQAhswst0XRXc1Rpg@mail.gmail.com>

Dear friends,

Hope you are all doing great. I would like to know if there is any place
where I can find R demographic facts, such as, number of R users worldwide,
by region, by country, by sector, etc.

Any guidance will be greatly appreciated,

Cheers,

Paul

	[[alternative HTML version deleted]]


From chr|@t|@n@henn|g @end|ng |rom un|bo@|t  Mon Jun  3 18:13:25 2019
From: chr|@t|@n@henn|g @end|ng |rom un|bo@|t (Christian Martin Hennig)
Date: Mon, 3 Jun 2019 16:13:25 +0000
Subject: [R] Mysterious NOTE when checking package
Message-ID: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>

Dear list members,

checking my updated version of prabclus with R-devel --as-cran I get a 
mysterious note:

"* checking DESCRIPTION meta-information ... NOTE
Checking should be performed on sources prepared by ?R CMD build?."

(No further information is given on that one in 00check.log.)

But my source is in fact put together by R CMD build.

Can anybody tell me what could be wrong here and how to remove the note?

DESCRIPTION looks like this:

Package: prabclus
Title: Functions for Clustering and Testing of Presence-Absence, 
Abundance and Multilocus Genetic Data
Version: 2.3-1
Date: 2019-06-03
Author: Christian Hennig <christian.hennig at unibo.it>,
 ??????? Bernhard Hausdorf <Hausdorf at zoologie.uni-hamburg.de>
Depends: R (>= 2.10), MASS, mclust
Suggests: spdep, spatialreg, bootstrap, maptools, foreign, mvtnorm
Description: Distance-based parametric bootstrap tests for clustering with
 ? spatial neighborhood information. Some distance measures,
 ? Clustering of presence-absence, abundance and multilocus genetical data
 ? for species delimitation, nearest neighbor
 ? based noise detection. Genetic distances between communities.
 ? Tests whether various distance-based regressions
 ? are equal. Try package?prabclus for on overview.
Maintainer: Christian Hennig <christian.hennig at unibo.it>
License: GPL
URL: https://www.unibo.it/sitoweb/christian.hennig/en/

Thanks,

Christian

-- 
Christian Hennig
Dipartimento di Scienze Statistiche "Paolo Fortunati",
Universita di Bologna, phone +39 05120 98163
christian.hennig at unibo.it
currently on leave from UCL; UCL email still works


From m@rc_@chw@rtz @end|ng |rom me@com  Mon Jun  3 18:21:40 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Mon, 3 Jun 2019 12:21:40 -0400
Subject: [R] Mysterious NOTE when checking package
In-Reply-To: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>
References: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>
Message-ID: <4C1C9A51-302B-4083-86D5-BF47483DD2E1@me.com>


> On Jun 3, 2019, at 12:13 PM, Christian Martin Hennig <christian.hennig at unibo.it> wrote:
> 
> Dear list members,
> 
> checking my updated version of prabclus with R-devel --as-cran I get a 
> mysterious note:
> 
> "* checking DESCRIPTION meta-information ... NOTE
> Checking should be performed on sources prepared by ?R CMD build?."
> 
> (No further information is given on that one in 00check.log.)
> 
> But my source is in fact put together by R CMD build.
> 
> Can anybody tell me what could be wrong here and how to remove the note?
> 
> DESCRIPTION looks like this:
> 
> Package: prabclus
> Title: Functions for Clustering and Testing of Presence-Absence, 
> Abundance and Multilocus Genetic Data
> Version: 2.3-1
> Date: 2019-06-03
> Author: Christian Hennig <christian.hennig at unibo.it>,
>         Bernhard Hausdorf <Hausdorf at zoologie.uni-hamburg.d e>
> Depends: R (>= 2.10), MASS, mclust
> Suggests: spdep, spatialreg, bootstrap, maptools, foreign, mvtnorm
> Description: Distance-based parametric bootstrap tests for clustering with
>   spatial neighborhood information. Some distance measures,
>   Clustering of presence-absence, abundance and multilocus genetical data
>   for species delimitation, nearest neighbor
>   based noise detection. Genetic distances between communities.
>   Tests whether various distance-based regressions
>   are equal. Try package?prabclus for on overview.
> Maintainer: Christian Hennig <christian.hennig at unibo.it>
> License: GPL
> URL: https://www.unibo.it/sitoweb/christian.hennig/en/
> 
> Thanks,
> 
> Christian
> 


Hi Christian,

Two things:

1. This should be posted to R-package-devel, which is focused on R/CRAN package development:

  https://stat.ethz.ch/mailman/listinfo/r-package-devel


2. What are the exact commands that you used to build and then check the package?

"R CMD build" should result in a source tarball with the extension ".tar.gz", which should then be used fully in the "R CMD check" call.

Perhaps the file that you named in the R CMD check call is not correct?

Regards,

Marc Schwartz


From chr|@t|@n@henn|g @end|ng |rom un|bo@|t  Mon Jun  3 23:10:51 2019
From: chr|@t|@n@henn|g @end|ng |rom un|bo@|t (Christian Martin Hennig)
Date: Mon, 3 Jun 2019 21:10:51 +0000
Subject: [R] Mysterious NOTE when checking package
In-Reply-To: <4C1C9A51-302B-4083-86D5-BF47483DD2E1@me.com>
References: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>
 <4C1C9A51-302B-4083-86D5-BF47483DD2E1@me.com>
Message-ID: <239c9f5a-152b-119d-9a1e-81ffebad00f4@unibo.it>

Dear Marc,

> Two things:
>
> 1. This should be posted to R-package-devel, which is focused on R/CRAN package development:
>
>    https://stat.ethz.ch/mailman/listinfo/r-package-devel
>
>
> 2. What are the exact commands that you used to build and then check the package?
>
> "R CMD build" should result in a source tarball with the extension ".tar.gz", which should then be used fully in the "R CMD check" call.
>
> Perhaps the file that you named in the R CMD check call is not correct?

thanks for this, will join R-package-devel and post there.

The file is a .tar.gz as it should be. R CMD check was used in the same 
way I used it hundred times before (actually two weeks ago on another 
package that didn't bring up this problem). I think R-devel was updated 
in the meantime, so it may have to do with the last version.

Christian



>
> Regards,
>
> Marc Schwartz
>
>
-- 
Christian Hennig
Universita di Bologna, Dipartimento di Scienze Statistiche "Paolo Fortunati"
christian.hennig at unibo.it
+39 051 2098163
and University College London, Department of Statistical Science


From tg@77m @end|ng |rom y@hoo@com  Mon Jun  3 23:34:26 2019
From: tg@77m @end|ng |rom y@hoo@com (Thomas Subia)
Date: Mon, 3 Jun 2019 21:34:26 +0000 (UTC)
Subject: [R] Post Hoc for Homogeneity of variance
References: <1816909083.125754.1559597666651.ref@mail.yahoo.com>
Message-ID: <1816909083.125754.1559597666651@mail.yahoo.com>

Colleagues,
When using Levene's test, I can identify if there are any differences in variance between factors. This is straight forward
Is there a way to do a post hoc test to identify variance differences between factors? This is not so straight forward.
All the best
Thomas Subia



	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jun  3 23:51:23 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 3 Jun 2019 14:51:23 -0700
Subject: [R] Post Hoc for Homogeneity of variance
In-Reply-To: <1816909083.125754.1559597666651@mail.yahoo.com>
References: <1816909083.125754.1559597666651.ref@mail.yahoo.com>
 <1816909083.125754.1559597666651@mail.yahoo.com>
Message-ID: <CAGxFJbT84re-gthsgyaTu8JLXZSD38VxnOvAAJJpVRSg-oa2_Q@mail.gmail.com>

1. Wrong list. This list is about R programming, not statistical questions
(though they do sometimes intersect). stats.stackexchange.com might be a
better place for you to post your question.

2. Try a search on "post hoc test of variances" at rseek.org. You might
find something relevant.

3. What do you mean by a "post hoc test" of variances, anyway? (Rhetorical
-- do *not* answer).

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Jun 3, 2019 at 2:34 PM Thomas Subia via R-help <r-help at r-project.org>
wrote:

> Colleagues,
> When using Levene's test, I can identify if there are any differences in
> variance between factors. This is straight forward
> Is there a way to do a post hoc test to identify variance differences
> between factors? This is not so straight forward.
> All the best
> Thomas Subia
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Jun  4 00:35:12 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 3 Jun 2019 18:35:12 -0400
Subject: [R] Mysterious NOTE when checking package
In-Reply-To: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>
References: <09f30ebe-b893-0629-5623-d2363697d04d@unibo.it>
Message-ID: <c3cc8ae6-689f-e76e-589e-1fe6752477eb@gmail.com>

On 03/06/2019 12:13 p.m., Christian Martin Hennig wrote:
> Dear list members,
> 
> checking my updated version of prabclus with R-devel --as-cran I get a
> mysterious note:
> 
> "* checking DESCRIPTION meta-information ... NOTE
> Checking should be performed on sources prepared by ?R CMD build?."
> 
> (No further information is given on that one in 00check.log.)
> 
> But my source is in fact put together by R CMD build.
> 
> Can anybody tell me what could be wrong here and how to remove the note?
> 
> DESCRIPTION looks like this:
> 
> Package: prabclus
> Title: Functions for Clustering and Testing of Presence-Absence,
> Abundance and Multilocus Genetic Data
> Version: 2.3-1
> Date: 2019-06-03
> Author: Christian Hennig <christian.hennig at unibo.it>,
>   ??????? Bernhard Hausdorf <Hausdorf at zoologie.uni-hamburg.de>
> Depends: R (>= 2.10), MASS, mclust
> Suggests: spdep, spatialreg, bootstrap, maptools, foreign, mvtnorm
> Description: Distance-based parametric bootstrap tests for clustering with
>   ? spatial neighborhood information. Some distance measures,
>   ? Clustering of presence-absence, abundance and multilocus genetical data
>   ? for species delimitation, nearest neighbor
>   ? based noise detection. Genetic distances between communities.
>   ? Tests whether various distance-based regressions
>   ? are equal. Try package?prabclus for on overview.
> Maintainer: Christian Hennig <christian.hennig at unibo.it>
> License: GPL
> URL: https://www.unibo.it/sitoweb/christian.hennig/en/
> 


That is not a file from a .tar.gz file built by R CMD build.  They 
include a line like

Packaged: 2019-03-12 15:58:50 UTC; murdoch

at the end, which was added by R CMD build.  If you don't have a line 
like that, you'll get the note you saw.

Duncan Murdoch


From @purd|e@@ @end|ng |rom gm@||@com  Tue Jun  4 06:07:18 2019
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Tue, 4 Jun 2019 16:07:18 +1200
Subject: [R] R demographic facts
In-Reply-To: <CAMOcQfM1xz_C1Ks_ufXcRX-R_5bUN9_NvMQAhswst0XRXc1Rpg@mail.gmail.com>
References: <CAMOcQfM1xz_C1Ks_ufXcRX-R_5bUN9_NvMQAhswst0XRXc1Rpg@mail.gmail.com>
Message-ID: <CAB8pepxEN=zUEKt1ekdmbnWJUmY4UaroxO27htHQSPA64p8ssA@mail.gmail.com>

Hi Paul

I found this:
https://insights.stackoverflow.com/survey


Abs

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Jun  4 06:43:42 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 3 Jun 2019 21:43:42 -0700
Subject: [R] R demographic facts
In-Reply-To: <CAMOcQfM1xz_C1Ks_ufXcRX-R_5bUN9_NvMQAhswst0XRXc1Rpg@mail.gmail.com>
References: <CAMOcQfM1xz_C1Ks_ufXcRX-R_5bUN9_NvMQAhswst0XRXc1Rpg@mail.gmail.com>
Message-ID: <4fe4ef3d-58f9-4880-75b5-560e46654434@comcast.net>


On 6/3/19 7:15 AM, Paul Bernal wrote:
> Dear friends,
>
> Hope you are all doing great. I would like to know if there is any place
> where I can find R demographic facts, such as, number of R users worldwide,
> by region, by country, by sector, etc.


Over the years there have been several efforts to track download data 
from CRAN and CRAN mirrors but these have always had substantial 
limitations. In particular I suspect taht the granularity of your 
request will not be satisfied in full. You can probably find these in 
the R-help archives with a bit of searching. I don't think the actual 
archives are indexed by google, so you might want to use rseek.org.. The 
Nabble "archive" versions are incomplete and postings to that site are 
not accepted by the Rhelp server.


Best;

David.

>
> Any guidance will be greatly appreciated,
>
> Cheers,
>
> Paul
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From S@E|||@on @end|ng |rom LGCGroup@com  Tue Jun  4 11:10:48 2019
From: S@E|||@on @end|ng |rom LGCGroup@com (Stephen Ellison)
Date: Tue, 4 Jun 2019 09:10:48 +0000
Subject: [R] Post Hoc for Homogeneity of variance
In-Reply-To: <1816909083.125754.1559597666651@mail.yahoo.com>
References: <1816909083.125754.1559597666651.ref@mail.yahoo.com>
 <1816909083.125754.1559597666651@mail.yahoo.com>
Message-ID: <e762c1a39d5d43528077b029ea7fe882@GBDCVPEXC04.corp.lgc-group.com>

> Thomas Subia <tgs77m at yahoo.com> 
Could you please explain the difference between:

> any differences in variance between factors. 
and 

> variance differences between factors

?



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From r@i@1290 m@iii@g oii @im@com  Sat Jun  1 17:24:06 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Sat, 1 Jun 2019 15:24:06 +0000 (UTC)
Subject: [R] Creating a median curve among multiple curvesin ggplot
References: <1269474004.2799441.1559402646193.ref@mail.yahoo.com>
Message-ID: <1269474004.2799441.1559402646193@mail.yahoo.com>

Hi there,
Using ggplot, I have successfully created a plot that contains 37 separate line plots that each represent a trend in precipitation over 140 years. However, what I would like to do is show the curve that is the "median" of these lines. Is this possible to do??
Here is what I have so far in an attempt to do this, but I am not certain if it is the correct approach to create the desired median line - the first variable shows x-variable objects (each 1-dimensional) and the second variable shows the y-variable objects (3-dimensional):
RCP1pctCO2Median <- median(cbind(get, IPSL, IPSLMR, IPSL5, MIROC, HadGEM, MPI, MPI5, GFDL, GFDL5))?
RCP1pctCO2ModelMedian <- median(cbind(Model2, Model10, Model18, Model26, subset14, Model42, subset20, subset24, Model60, Model68))

The first variable appears to work, but it only returns one value, and I want all of the 140 values corresponding to whichever curve was returned. Why is it that only one value returns? Here is what the variable contains:
>RCP1pctCO2Median[1] 1.189044
When I run the second variable the same way, I receive the following error:
Error in sort.int(x, na.last = na.last, decreasing = decreasing, ...) : 
  'x' must be atomic
Why does this appear?? I tried "unlist" and "as.vector", but the same error appears.
If it helps, to show what the 1-dimensional objects of the first variable look like, here is an example of one (the object "get"):
>get
  [1] 0.00000000 0.00644777 0.01250601 0.01746194 0.02656210 0.03360072 0.04399755 0.05404601 0.06154399 0.07105423
 [11] 0.08315538 0.08925389 0.10060635 0.10833009 0.12196157 0.13730928 0.14890850 0.16087072 0.17361501 0.18310140
 [21] 0.19810085 0.21316248 0.22423607 0.23529990 0.24695577 0.26119599 0.27643532 0.28517213 0.29978970 0.31870887
 [31] 0.33418021 0.34585044 0.36071229 0.37379062 0.39324498 0.41099992 0.42437476 0.43643925 0.44687960 0.45864752
 [41] 0.48055932 0.49634662 0.50779009 0.52861303 0.54971600 0.56138206 0.57472491 0.59202033 0.60975420 0.63057494
 [51] 0.64653736 0.66088217 0.68168259 0.69649595 0.71363837 0.72988760 0.75010443 0.76776582 0.78613955 0.81099886
 [61] 0.82979667 0.84431553 0.86824787 0.88447672 0.89909577 0.92162514 0.94854647 0.96631038 0.98120815 1.00357985
 [71] 1.02769291 1.04733002 1.06585240 1.09083056 1.11592567 1.13627303 1.15866983 1.17941856 1.19748724 1.22012913
 [81] 1.24142718 1.26937973 1.29283488 1.31011736 1.33134723 1.36014366 1.38395822 1.40615380 1.42895305 1.45046842
 [91] 1.47504234 1.49920797 1.52142668 1.54559219 1.57354927 1.60000896 1.62449229 1.64506662 1.67100036 1.70185161
[101] 1.72964287 1.75235510 1.77455521 1.80183053 1.83121216 1.85619974 1.88188243 1.91002214 1.93333006 1.96133912
[111] 1.98944890 2.01225924 2.03804183 2.06614304 2.09558916 2.12400699 2.14846969 2.18011498 2.20532560 2.23031592
[121] 2.26106715 2.28796983 2.31954741 2.35274339 2.37794161 2.40643740 2.43963051 2.46948838 2.49733877 2.53035021
[131] 2.56229091 2.59265327 2.61934137 2.64592481 2.67754769 2.70779777 2.73824191 2.76880598 2.80077982 2.83057237

For the 3-D objects within the second variable, here is what is contained in the object "Model2", for example:
>Model2 <- brick("MaxPrecCCCMACanESM21pctCO2.nc", var = "onedaymax")
>Model2class       : RasterBrick 
dimensions  : 64, 128, 8192, 140  (nrow, ncol, ncell, nlayers)
resolution  : 2.8125, 2.789327  (x, y)
extent      : -181.4062, 178.5938, -89.25846, 89.25846  (xmin, xmax, ymin, ymax)
coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
data source : C:/Users/Travis/Documents/Other documents/All netCDF files/netcdffiles/MaxPrecCCCMACanESM21pctCO2.nc 
names       : X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ... 
z-value     : 1, 140 (min, max)
varname     : onedaymax 


In any case, I am not even certain if what I have done above is the correct approach altogether to create a median line, but I would greatly appreciate any assistance! Your feedback would be extremely valuable to me!
Thank you, and I very much look forward to hearing from you!
	[[alternative HTML version deleted]]


From d@v|d-wong912 @end|ng |rom hotm@||@com  Mon Jun  3 05:38:00 2019
From: d@v|d-wong912 @end|ng |rom hotm@||@com (Wong David)
Date: Mon, 3 Jun 2019 03:38:00 +0000
Subject: [R] Problem in using 'plm' package after updating R
In-Reply-To: <HK0PR03MB41784B34903B31A2DF4CF0EBB7190@HK0PR03MB4178.apcprd03.prod.outlook.com>
References: <HK0PR03MB41784B34903B31A2DF4CF0EBB7190@HK0PR03MB4178.apcprd03.prod.outlook.com>
Message-ID: <HK0PR03MB4178125D508AF80A3DD7ADF0B7140@HK0PR03MB4178.apcprd03.prod.outlook.com>

Dear Madam/ Sir,

After I tried to update the plm package based on the enclosure [i.e. download the package.soruces (tar.gz)], I still found the following errors as bold in black:

"--- Please select a CRAN mirror for use in this session ---

  There is a binary version available but the source version is later:
    binary source needs_compilation
plm  1.6-6  2.0-1             FALSE

installing the source package ?plm?

trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
downloaded 2.2 MB

* installing *source* package 'plm' ...
** package 'plm' successfully unpacked and MD5 sums checked
** R
** data
** inst
** preparing package for lazy loading
Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
  there is no package called 'stringr'
ERROR: lazy loading failed for package 'plm'
* removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
* restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'

The downloaded source packages are in
        ?C:\Users\David Wong\AppData\Local\Temp\RtmpcPaQsM\downloaded_packages?
Warning messages:
1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpcPaQsM/downloaded_packages/plm_2.0-1.tar.gz' had status 1
2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
  installation of package ?plm? had non-zero exit status"

Please help.

Thanks and regards,
David Wong from Hong Kong

________________________________
???: Wong David
????: 2019?5?31? 7:21
???: r-help-owner at r-project.org; r-help at r-project.org
??: Problem in using 'plm' package after updating R

Dear Madam/ Sir,

After I updated the latest packages in R this afternoon, I found that I cannot use 'plm' package. The error messages are as follows:

"R version 3.3.3 (2017-03-06) -- "Another Canoe"
Copyright (C) 2017 The R Foundation for Statistical Computing
Platform: i386-w64-mingw32/i386 (32-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or 'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

Warning: namespace ?plm? is not available and has been replaced by .GlobalEnv when processing object ?inst_f?

[Previously saved workspace restored]

> utils:::menuInstallPkgs()
--- Please select a CRAN mirror for use in this session ---

  There is a binary version available but the source version is later:
    binary source needs_compilation
plm  1.6-6  2.0-1             FALSE

installing the source package ?plm?

trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
downloaded 2.2 MB

* installing *source* package 'plm' ...
** package 'plm' successfully unpacked and MD5 sums checked
** R
** data
** inst
** preparing package for lazy loading
Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
  there is no package called 'stringr'
ERROR: lazy loading failed for package 'plm'
* removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
* restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'

The downloaded source packages are in
        ?C:\Users\David Wong\AppData\Local\Temp\RtmpEdDjdI\downloaded_packages?
Warning messages:
1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpEdDjdI/downloaded_packages/plm_2.0-1.tar.gz' had status 1
2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
  installation of package ?plm? had non-zero exit status
> library(plm)
Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
  there is no package called ?stringr?
Error: package or namespace load failed for ?plm?
> help.start()
starting httpd help server ... done
If nothing happens, you should open ?http://127.0.0.1:19429/doc/html/index.html? yourself

The error messages are highlighted in blue. Please assist.

Thanks and regards,
David Wong


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Plm package.pdf
Type: application/pdf
Size: 3148090 bytes
Desc: Plm package.pdf
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20190603/70281d62/attachment-0001.pdf>

From n|co|@@|un@rdon@84 @end|ng |rom gm@||@com  Mon Jun  3 06:37:46 2019
From: n|co|@@|un@rdon@84 @end|ng |rom gm@||@com (Nicola Lunardon)
Date: Mon, 3 Jun 2019 06:37:46 +0200
Subject: [R] Parallel processes collapse into one
Message-ID: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>

I have written an R package to collect some functions to run simulations
for a research project. Main functions are written in C and make use of
BLAS routines, such as dsymm, dgemm, and ddot. I run simulations in
parallel by using mclapply and the problem is that after some point all R
instances collapse into one: R seems to be running, but simulations do not
progress further. If I run simulations on 16 cores I end up having an R
instance with CPU usage about 1600%, never experienced such a behaviour.

sessionInfo()
R version 3.6.0 (2019-04-26)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 16.04.6 LTS

Matrix products: default
BLAS:   /usr/lib/openblas-base/libblas.so.3
LAPACK: /usr/lib/libopenblasp-r0.2.18.so

	[[alternative HTML version deleted]]


From zurk|_d @end|ng |rom hotm@||@com  Mon Jun  3 16:50:11 2019
From: zurk|_d @end|ng |rom hotm@||@com (Damien Zurkinden)
Date: Mon, 3 Jun 2019 14:50:11 +0000
Subject: [R] How to combine the results of different survey?
Message-ID: <VI1PR0902MB2109F5B6F91B92BA78AE05E28B140@VI1PR0902MB2109.eurprd09.prod.outlook.com>

I have results of different surveys (years) for different species that I called NAMA. I want to combining the results of those different surveys to produce one overall result by using meta-analysis

I tried to implement my data using the R package metaplus. I used as Vector of observed effect sizes corresponding to each study (yi) the years (colomns). I used as Vector of character strings corresponding to each study (slab) the species (lines).

note: I don't have Vector of observed standard errors corresponding to each study (sei)

NAMA.meta <- metaplus(yi= 2011 ~ 2019, slab = 1 ~ 113, data=NAMA)



The expected results should be the parameter estimates & forest plot. However, I receive an error message:

Error in terms.formula(object, data = data) :

  terme incorrect dans une formule de mod?le

In addition: Warning message:

In metaplus(yi = 2011 ~ 2019, slab = 1 ~ 113, data = NAMA) :

  Very few studies. Solution may be unstable.

Thanks for your help,


Damien

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Tue Jun  4 14:47:12 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 4 Jun 2019 14:47:12 +0200
Subject: [R] Problem in using 'plm' package after updating R
In-Reply-To: <HK0PR03MB4178125D508AF80A3DD7ADF0B7140@HK0PR03MB4178.apcprd03.prod.outlook.com>
References: <HK0PR03MB41784B34903B31A2DF4CF0EBB7190@HK0PR03MB4178.apcprd03.prod.outlook.com>
 <HK0PR03MB4178125D508AF80A3DD7ADF0B7140@HK0PR03MB4178.apcprd03.prod.outlook.com>
Message-ID: <21E2BE66-3434-4B26-A260-A2F93234E4E7@gmail.com>

Looks like you are not equipped to install source packages, so don't....

Or, possibly, install from source has an unstated dependency on package "stringr" so try install that first.

-pd

> On 3 Jun 2019, at 05:38 , Wong David <david-wong912 at hotmail.com> wrote:
> 
> Dear Madam/ Sir,
> 
> After I tried to update the plm package based on the enclosure [i.e. download the package.soruces (tar.gz)], I still found the following errors as bold in black:
> 
> "--- Please select a CRAN mirror for use in this session ---
> 
>  There is a binary version available but the source version is later:
>    binary source needs_compilation
> plm  1.6-6  2.0-1             FALSE
> 
> installing the source package ?plm?
> 
> trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
> Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
> downloaded 2.2 MB
> 
> * installing *source* package 'plm' ...
> ** package 'plm' successfully unpacked and MD5 sums checked
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>  there is no package called 'stringr'
> ERROR: lazy loading failed for package 'plm'
> * removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
> * restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
> 
> The downloaded source packages are in
>        ?C:\Users\David Wong\AppData\Local\Temp\RtmpcPaQsM\downloaded_packages?
> Warning messages:
> 1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpcPaQsM/downloaded_packages/plm_2.0-1.tar.gz' had status 1
> 2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
>  installation of package ?plm? had non-zero exit status"
> 
> Please help.
> 
> Thanks and regards,
> David Wong from Hong Kong
> 
> ________________________________
> ???: Wong David
> ????: 2019?5?31? 7:21
> ???: r-help-owner at r-project.org; r-help at r-project.org
> ??: Problem in using 'plm' package after updating R
> 
> Dear Madam/ Sir,
> 
> After I updated the latest packages in R this afternoon, I found that I cannot use 'plm' package. The error messages are as follows:
> 
> "R version 3.3.3 (2017-03-06) -- "Another Canoe"
> Copyright (C) 2017 The R Foundation for Statistical Computing
> Platform: i386-w64-mingw32/i386 (32-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
> Warning: namespace ?plm? is not available and has been replaced by .GlobalEnv when processing object ?inst_f?
> 
> [Previously saved workspace restored]
> 
>> utils:::menuInstallPkgs()
> --- Please select a CRAN mirror for use in this session ---
> 
>  There is a binary version available but the source version is later:
>    binary source needs_compilation
> plm  1.6-6  2.0-1             FALSE
> 
> installing the source package ?plm?
> 
> trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
> Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
> downloaded 2.2 MB
> 
> * installing *source* package 'plm' ...
> ** package 'plm' successfully unpacked and MD5 sums checked
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>  there is no package called 'stringr'
> ERROR: lazy loading failed for package 'plm'
> * removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
> * restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
> 
> The downloaded source packages are in
>        ?C:\Users\David Wong\AppData\Local\Temp\RtmpEdDjdI\downloaded_packages?
> Warning messages:
> 1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpEdDjdI/downloaded_packages/plm_2.0-1.tar.gz' had status 1
> 2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
>  installation of package ?plm? had non-zero exit status
>> library(plm)
> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>  there is no package called ?stringr?
> Error: package or namespace load failed for ?plm?
>> help.start()
> starting httpd help server ... done
> If nothing happens, you should open ?http://127.0.0.1:19429/doc/html/index.html? yourself
> 
> The error messages are highlighted in blue. Please assist.
> 
> Thanks and regards,
> David Wong
> 
> <Plm package.pdf>______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Tue Jun  4 15:41:53 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Tue, 4 Jun 2019 15:41:53 +0200
Subject: [R] Problem in using 'plm' package after updating R
In-Reply-To: <21E2BE66-3434-4B26-A260-A2F93234E4E7@gmail.com>
References: <HK0PR03MB41784B34903B31A2DF4CF0EBB7190@HK0PR03MB4178.apcprd03.prod.outlook.com>
 <HK0PR03MB4178125D508AF80A3DD7ADF0B7140@HK0PR03MB4178.apcprd03.prod.outlook.com>
 <21E2BE66-3434-4B26-A260-A2F93234E4E7@gmail.com>
Message-ID: <e1c72f34-a9ab-75a3-089b-dddd6434d4a4@statistik.tu-dortmund.de>

IN addition, you install to Documents\R\win-library\3.3 which suggest 
you have updated R but are still suing the old version 3.3.x?

Best,
Uwe Ligges

On 04.06.2019 14:47, peter dalgaard wrote:
> Looks like you are not equipped to install source packages, so don't....
> 
> Or, possibly, install from source has an unstated dependency on package "stringr" so try install that first.
> 
> -pd
> 
>> On 3 Jun 2019, at 05:38 , Wong David <david-wong912 at hotmail.com> wrote:
>>
>> Dear Madam/ Sir,
>>
>> After I tried to update the plm package based on the enclosure [i.e. download the package.soruces (tar.gz)], I still found the following errors as bold in black:
>>
>> "--- Please select a CRAN mirror for use in this session ---
>>
>>   There is a binary version available but the source version is later:
>>     binary source needs_compilation
>> plm  1.6-6  2.0-1             FALSE
>>
>> installing the source package ?plm?
>>
>> trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
>> Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
>> downloaded 2.2 MB
>>
>> * installing *source* package 'plm' ...
>> ** package 'plm' successfully unpacked and MD5 sums checked
>> ** R
>> ** data
>> ** inst
>> ** preparing package for lazy loading
>> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>>   there is no package called 'stringr'
>> ERROR: lazy loading failed for package 'plm'
>> * removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
>> * restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
>>
>> The downloaded source packages are in
>>         ?C:\Users\David Wong\AppData\Local\Temp\RtmpcPaQsM\downloaded_packages?
>> Warning messages:
>> 1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpcPaQsM/downloaded_packages/plm_2.0-1.tar.gz' had status 1
>> 2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
>>   installation of package ?plm? had non-zero exit status"
>>
>> Please help.
>>
>> Thanks and regards,
>> David Wong from Hong Kong
>>
>> ________________________________
>> ???: Wong David
>> ????: 2019?5?31? 7:21
>> ???: r-help-owner at r-project.org; r-help at r-project.org
>> ??: Problem in using 'plm' package after updating R
>>
>> Dear Madam/ Sir,
>>
>> After I updated the latest packages in R this afternoon, I found that I cannot use 'plm' package. The error messages are as follows:
>>
>> "R version 3.3.3 (2017-03-06) -- "Another Canoe"
>> Copyright (C) 2017 The R Foundation for Statistical Computing
>> Platform: i386-w64-mingw32/i386 (32-bit)
>>
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>>
>>   Natural language support but running in an English locale
>>
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>>
>> Type 'demo()' for some demos, 'help()' for on-line help, or 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>>
>> Warning: namespace ?plm? is not available and has been replaced by .GlobalEnv when processing object ?inst_f?
>>
>> [Previously saved workspace restored]
>>
>>> utils:::menuInstallPkgs()
>> --- Please select a CRAN mirror for use in this session ---
>>
>>   There is a binary version available but the source version is later:
>>     binary source needs_compilation
>> plm  1.6-6  2.0-1             FALSE
>>
>> installing the source package ?plm?
>>
>> trying URL 'https://mirror-hk.koddos.net/CRAN/src/contrib/plm_2.0-1.tar.gz'
>> Content type 'application/x-gzip' length 2343782 bytes (2.2 MB)
>> downloaded 2.2 MB
>>
>> * installing *source* package 'plm' ...
>> ** package 'plm' successfully unpacked and MD5 sums checked
>> ** R
>> ** data
>> ** inst
>> ** preparing package for lazy loading
>> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>>   there is no package called 'stringr'
>> ERROR: lazy loading failed for package 'plm'
>> * removing 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
>> * restoring previous 'C:/Users/David Wong/Documents/R/win-library/3.3/plm'
>>
>> The downloaded source packages are in
>>         ?C:\Users\David Wong\AppData\Local\Temp\RtmpEdDjdI\downloaded_packages?
>> Warning messages:
>> 1: running command '"C:/PROGRA~1/R/R-33~1.3/bin/i386/R" CMD INSTALL -l "C:\Users\David Wong\Documents\R\win-library\3.3" C:\Users\DAVIDW~1\AppData\Local\Temp\RtmpEdDjdI/downloaded_packages/plm_2.0-1.tar.gz' had status 1
>> 2: In install.packages(NULL, .libPaths()[1L], dependencies = NA, type = type) :
>>   installation of package ?plm? had non-zero exit status
>>> library(plm)
>> Error in loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) :
>>   there is no package called ?stringr?
>> Error: package or namespace load failed for ?plm?
>>> help.start()
>> starting httpd help server ... done
>> If nothing happens, you should open ?http://127.0.0.1:19429/doc/html/index.html? yourself
>>
>> The error messages are highlighted in blue. Please assist.
>>
>> Thanks and regards,
>> David Wong
>>
>> <Plm package.pdf>______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Tue Jun  4 16:17:40 2019
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 4 Jun 2019 15:17:40 +0100
Subject: [R] How to combine the results of different survey?
In-Reply-To: <VI1PR0902MB2109F5B6F91B92BA78AE05E28B140@VI1PR0902MB2109.eurprd09.prod.outlook.com>
References: <VI1PR0902MB2109F5B6F91B92BA78AE05E28B140@VI1PR0902MB2109.eurprd09.prod.outlook.com>
Message-ID: <ca75d957-74d6-35b2-478b-e5d459afdbd5@dewey.myzen.co.uk>

Dear Damien

Comments in line

On 03/06/2019 15:50, Damien Zurkinden wrote:
> I have results of different surveys (years) for different species that I called NAMA. I want to combining the results of those different surveys to produce one overall result by using meta-analysis
> 
> I tried to implement my data using the R package metaplus. I used as Vector of observed effect sizes corresponding to each study (yi) the years (colomns). I used as Vector of character strings corresponding to each study (slab) the species (lines).
> 
> note: I don't have Vector of observed standard errors corresponding to each study (sei)
> 

I do not use metaplus but it seems unlikely that you are going to get 
useful results within the standard errors

> NAMA.meta <- metaplus(yi= 2011 ~ 2019, slab = 1 ~ 113, data=NAMA)
> 

You have supplied a formula for yi and for slab. In your text you said 
you had supplied a vector of character strings.

> 
> 
> The expected results should be the parameter estimates & forest plot. However, I receive an error message:
> 
> Error in terms.formula(object, data = data) :
> 
>    terme incorrect dans une formule de mod?le
> 
> In addition: Warning message:
> 
> In metaplus(yi = 2011 ~ 2019, slab = 1 ~ 113, data = NAMA) :
> 
>    Very few studies. Solution may be unstable.
> 
> Thanks for your help,
> 
> 
> Damien
> 
> 	[[alternative HTML version deleted]]
> 
> 
> 
> ---
> This email has been checked for viruses by AVG.
> https://www.avg.com
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From @|ex|@@@@rd@ @end|ng |rom gm@||@com  Tue Jun  4 19:54:45 2019
From: @|ex|@@@@rd@ @end|ng |rom gm@||@com (Alexis Sarda)
Date: Tue, 4 Jun 2019 19:54:45 +0200
Subject: [R] [R-pkgs] table.express: use dplyr verbs to build data.table
 expressions
Message-ID: <CAA4naPDVjE=UWYM85dJkywzrYUKYkw=QV_m=e1LZrTx_X=S-GA@mail.gmail.com>

Hello everyone,

I like the expressiveness of dplyr's data manipulation verbs, but I also
appreciate the optimizations offered by data.table, so I figured: why not
both?

The table.express package leverages the rlang package to bridge dplyr and
data.table by essentially parsing and chaining the operations specified by
the verbs,
building expressions that are ultimately evaluated by data.table, letting
it handle optimizations as usual. Some custom verbs are also added to
facilitate building expressions that work on a subset of the data.

The package with single-table verbs is now on CRAN, and the documentation
can also be browsed online at
https://asardaes.github.io/table.express/index.html

Regards,
Alexis.

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Wed Jun  5 04:37:31 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Wed, 5 Jun 2019 02:37:31 +0000
Subject: [R] How to generate mutiple set of samples in R?
Message-ID: <MEXPR01MB2069989248C005395F83AD1AC9160@MEXPR01MB2069.ausprd01.prod.outlook.com>

Hello

    I am trying to generate samples from a bulk set of number for my research. So I need to get an output which contains various collection of samples, for example, sample1, sample2, sample3, ........ Does anyone suggest any ideas?






	[[alternative HTML version deleted]]


From rv@|dez35 @end|ng |rom u@bc@edu@mx  Wed Jun  5 06:46:55 2019
From: rv@|dez35 @end|ng |rom u@bc@edu@mx (Rolando I. Valdez)
Date: Tue, 4 Jun 2019 21:46:55 -0700
Subject: [R] Including a large number of variables in a formula.
Message-ID: <CAFGfsaM6F7Yff7m4aE=x_+pyNhRWNru=YAioRW48wgvGNM_xYQ@mail.gmail.com>

Hello,

I have almost 40 variables that I am trying to include in a formula.

I tried to include them using as.formula(), however the variables do not
follow a patter in the name. e.g. These variables are named like: lvacb23
lvacb30 lvacb300  lvacb40 .....  lvacb81.

> lvadd <- paste0("lvacb", 23:81)
> (fmla <- as.formula(paste("lwage ~ ", paste(lvadd, collapse = "+"))))
> fit <- lm(fmla, data = wageszm14)
Error in eval(predvars, data, env) : object 'lvacb24' not found

The variable lvacb24 doesn't exist, because from lvacb23 it jumps to
lvacb30.

Thanks in advance for any help.
-- 
Rolando Valdez
Facultad de Econom?a y Relaciones Internacionales
Universidad Aut?noma de Baja California

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Wed Jun  5 10:07:52 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 5 Jun 2019 10:07:52 +0200
Subject: [R] Including a large number of variables in a formula.
In-Reply-To: <CAFGfsaM6F7Yff7m4aE=x_+pyNhRWNru=YAioRW48wgvGNM_xYQ@mail.gmail.com>
References: <CAFGfsaM6F7Yff7m4aE=x_+pyNhRWNru=YAioRW48wgvGNM_xYQ@mail.gmail.com>
Message-ID: <31E7D00B-2592-4611-A8E8-2D89A46CB215@gmail.com>

Two ideas:

nn <- names(wageszm14)
lvadd <- nn[grep("^lvacb", nn)]

or

lvadd <- paste0("lvacb", 23:81)
lvadd <- lvadd[lvadd %in% names(wageszm14)]

> On 5 Jun 2019, at 06:46 , Rolando I. Valdez via R-help <r-help at r-project.org> wrote:
> 
> Hello,
> 
> I have almost 40 variables that I am trying to include in a formula.
> 
> I tried to include them using as.formula(), however the variables do not
> follow a patter in the name. e.g. These variables are named like: lvacb23
> lvacb30 lvacb300  lvacb40 .....  lvacb81.
> 
>> lvadd <- paste0("lvacb", 23:81)
>> (fmla <- as.formula(paste("lwage ~ ", paste(lvadd, collapse = "+"))))
>> fit <- lm(fmla, data = wageszm14)
> Error in eval(predvars, data, env) : object 'lvacb24' not found
> 
> The variable lvacb24 doesn't exist, because from lvacb23 it jumps to
> lvacb30.
> 
> Thanks in advance for any help.
> -- 
> Rolando Valdez
> Facultad de Econom?a y Relaciones Internacionales
> Universidad Aut?noma de Baja California
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From e@ @end|ng |rom enr|co@chum@nn@net  Wed Jun  5 10:08:17 2019
From: e@ @end|ng |rom enr|co@chum@nn@net (Enrico Schumann)
Date: Wed, 05 Jun 2019 10:08:17 +0200
Subject: [R] How to generate mutiple set of samples in R?
In-Reply-To: <MEXPR01MB2069989248C005395F83AD1AC9160@MEXPR01MB2069.ausprd01.prod.outlook.com>
 (Mayooran Thevaraja's message of "Wed, 5 Jun 2019 02:37:31 +0000")
References: <MEXPR01MB2069989248C005395F83AD1AC9160@MEXPR01MB2069.ausprd01.prod.outlook.com>
Message-ID: <87muiw5ua6.fsf@enricoschumann.net>

>>>>> "MT" == Thevaraja, Mayooran <M.Thevaraja at massey.ac.nz> writes:

    MT> Hello

    MT> I am trying to generate samples from a bulk set of number for my
    MT> research. So I need to get an output which contains various
    MT> collection of samples, for example, sample1, sample2, sample3,
    MT> ........ Does anyone suggest any ideas?

If you want people to help you, you need to provide
more information about what you want to do.

    MT> 	[[alternative HTML version deleted]]

Please do not post in HTML, but in plain text.

    MT> ______________________________________________
    MT> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    MT> https://stat.ethz.ch/mailman/listinfo/r-help
    MT> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html

If you want people to help you, PLEASE DO read this
guide and follow its advice.

    MT> and provide commented, minimal, self-contained, reproducible code.


-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From petr@p|k@| @end|ng |rom prechez@@cz  Wed Jun  5 10:23:30 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 5 Jun 2019 08:23:30 +0000
Subject: [R] How to generate mutiple set of samples in R?
In-Reply-To: <MEXPR01MB2069989248C005395F83AD1AC9160@MEXPR01MB2069.ausprd01.prod.outlook.com>
References: <MEXPR01MB2069989248C005395F83AD1AC9160@MEXPR01MB2069.ausprd01.prod.outlook.com>
Message-ID: <423e5fdddbd74fecbcca204fc88bc0ef@SRVEXCHCM1302.precheza.cz>

Hi

Maybe ?sample within cycle? And collecting results in list.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Thevaraja,
> Mayooran
> Sent: Wednesday, June 5, 2019 4:38 AM
> To: r-help at r-project.org
> Subject: [R] How to generate mutiple set of samples in R?
>
> Hello
>
>     I am trying to generate samples from a bulk set of number for my research.
> So I need to get an output which contains various collection of samples, for
> example, sample1, sample2, sample3, ........ Does anyone suggest any ideas?
>
>
>
>
>
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Wed Jun  5 12:12:50 2019
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Wed, 5 Jun 2019 12:12:50 +0200
Subject: [R] how to identify record with broken format
Message-ID: <CAMk+s2TvGk3OwZcD7gbRoVzuB3k4y4AQvHVkWZ_pvDFCU1oBYQ@mail.gmail.com>

Dear all,
I have a large dataframe where one of the records in a column must
have been wrongly formatted, in particular i think is missing a
closing ".
When I try to show only that column's value I get a [1] with plenty of
empty space, the final record [45] and the system freezes. also, when
i try to plot i get a table's printout instead of a real plot.

Is there a way to identify the record with the format? On a
spreadsheet or text editor, all records seem OK; end there are too
many records to visually inspect them all.

-- 
Best regards,
Luigi


From petr@p|k@| @end|ng |rom prechez@@cz  Wed Jun  5 12:18:32 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 5 Jun 2019 10:18:32 +0000
Subject: [R] How to generate mutiple set of samples in R?
In-Reply-To: <818280729.607443.1559728501248.JavaMail.administrator@n4.nabble.com>
References: <818280729.607443.1559728501248.JavaMail.administrator@n4.nabble.com>
Message-ID: <1914809c63cf43a6a61c0dcef046fbf9@SRVEXCHCM1302.precheza.cz>

Hi Mayooran

It is better to keep your mails on rhelp. Others could answer too.

see in line

> -----Original Message-----
> From: m.thevaraja at massey.ac.nz <m.thevaraja at massey.ac.nz>
> Sent: Wednesday, June 5, 2019 11:55 AM
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Subject: Re: How to generate mutiple set of samples in R?
>
> Hello Petr
>       Here given below that manual code (generate first three set of samples
> each contains 200 observations), but I need to write common function for
> generate set of samples,
>
> N <- 1e7
> n <- 200 #sample size
> m <- 3  # number of samples
> indx <- 1:N
> start1 <- sort(sample(indx,1))
this will select **one** random number from indx so easier version is

start1 <- sample(indx,1))

> start2 <- sort(sample(start1+1,1))
> start3 <- sort(sample(start2+1,1))

these will select one random number from 1:start1 or 1:start2, again easier version is

start2 <- sample(start1+1,1)
>
> grab.samp1 <- start1:(start1+n-1)
> grab.samp2 <- start2:(start2+n-1)
> grab.samp3 <- start3:(start3+n-1)

and this will just make vector of of 200 consecutive numbers. So

startn <- sample(indx,200)

gives you 200 random numbers from 1:N vector.

And this will give you list of m vectors with 200 consecutive numbers starting randomly.

lll <- vector("list", m)
for (i in 1:m) {
lll[[i]] <- startn[i]:(startn[i]+n-1)
}

Is this what you wanted?

Cheers
Petr

>
> grab.samp1
> grab.samp2
> grab.samp3
>
>
> If you have any ideas please let me know.
>
>
> cheers
>
>
> Mayooran
>
>
> _____________________________________
> Sent from http://r.789695.n4.nabble.com

Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From n|co@@chuck @end|ng |rom gm@||@com  Wed Jun  5 12:15:53 2019
From: n|co@@chuck @end|ng |rom gm@||@com (Nicolas Schuck)
Date: Wed, 5 Jun 2019 12:15:53 +0200
Subject: [R] Mac/PC differences in lmer results
In-Reply-To: <CAGxFJbRNA-uTeRBsmtq_utJ9aSEoz9T8uYY=nkE94=q2SxLOyQ@mail.gmail.com>
References: <5CBE1637-3941-4741-B5A4-8104F0B66386@gmail.com>
 <CAGxFJbQ=qBhu864b3jQHgRt9o8Oz8r_hBLx-1e=XFQe7YsvMOw@mail.gmail.com>
 <DF796728-5E00-451B-8C4C-54CDDA2863E4@gmail.com>
 <CAGxFJbRNA-uTeRBsmtq_utJ9aSEoz9T8uYY=nkE94=q2SxLOyQ@mail.gmail.com>
Message-ID: <D3AA139E-0C22-40AE-9FBF-FB6003AA9834@gmail.com>

bert: you are right, sorry for not cc-ing the list. thanks also for the hint. 

I wanted to bring this up here again, emphasising that we do find in at least one case *a very large difference* in the p value, using the same scripts and data on a windows versus mac machine (see reproducible example in the gitlab link posted below). I have now come across several instances in which results of (g)lmer models don?t agree on windows vs unix-based machines, which I find a bit disturbing. any ideas where non-negligible differences could come from? 

thanks, 
nico 


> On 30. May 2019, at 16:58, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
> 
> Unless there us good reason not to, always cc the list. I have done so here.
> 
> The R Installation manual has some info on how to use different BLASes I believe, but someone with expertise (I have none) needs to respond to your queries.
> 
> On Thu, May 30, 2019 at 7:50 AM Nicolas Schuck <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote:
> I know that it is in use on the Mac, see sessionInfo below. I have to check on the Win system. Why would that make such a difference and how could I make the Win get the same results as the Unix Systems? 
> 
> R version 3.6.0 (2019-04-26) 
> Platform: x86_64-apple-darwin15.6.0 (64-bit) 
> Running under: macOS Mojave 10.14.5 
> Matrix products: default 
> BLAS:  /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib 
> LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib 
> Random number generation: 
> RNG:  Mersenne-Twister 
> Normal:  Inversion Sample:  Rounding 
> locale: [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 
> attached base packages: [1] stats  graphics  grDevices utils  datasets  methods  base 
> Thanks, Nico 
> On 30. May 2019, at 16:34, Bert Gunter <bgunter.4567 at gmail.com <mailto:bgunter.4567 at gmail.com>> wrote:
> 
>> The BLAS in use on each?
>> 
>> Bert Gunter
>> 
>> "The trouble with having an open mind is that people keep coming along and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>> 
>> 
>> On Thu, May 30, 2019 at 5:27 AM Nicolas Schuck <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote:
>> Dear fellow R coders, 
>> 
>> I am observing differences in results obtained using glmer when using a Mac or Linux computer versus a PC. Specifically, I am talking about a relatively complex glmer model with a nested random effects structure. The model is set up in the following way: 
>> gcctrl = glmerControl(optimizer=c('nloptwrap'), optCtrl = list(maxfun = 500000), calc.derivs = FALSE)
>> 
>> glmer_pre_instr1 = glmer(
>>       formula = cbind(FREQ, NSAMP-FREQ) ~ FDIST_minz + poly(RFREQ,2) + ROI + (1 + FDIST_minz + RFREQ + ROI|ID/COL), 
>>       data = cdf_pre_instr, 
>>       family = binomial, 
>>       control = gcctrl)
>> 
>> Code and data of an example for which I find reproducible, non-negligible differences between Mac/Win can be found here: https://gitlab.com/nschuck/glmer_sandbox/tree/master <https://gitlab.com/nschuck/glmer_sandbox/tree/master> <https://gitlab.com/nschuck/glmer_sandbox/tree/master <https://gitlab.com/nschuck/glmer_sandbox/tree/master>>
>> The differences between the fitted models seem to be most pronounced regarding the estimated correlation structure of the random effects terms. Mac and Linux yield very similar results, but Windows deviates quite a bit in some cases. This has a large impact on p values obtained when performing model comparisons. I have tried this on Mac OS 10.14, Windows 10 and Ubuntu and Debian. All systems I have tried are using lme 1.1.21 and R 3.5+. 
>> 
>> Does anyone have an idea what the underlying cause might be? 
>> 
>> Thanks, 
>> Nico 
>> 
>> 
>> 
>> 
>>         [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html <http://www.r-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jun  5 12:23:26 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 5 Jun 2019 06:23:26 -0400
Subject: [R] how to identify record with broken format
In-Reply-To: <CAMk+s2TvGk3OwZcD7gbRoVzuB3k4y4AQvHVkWZ_pvDFCU1oBYQ@mail.gmail.com>
References: <CAMk+s2TvGk3OwZcD7gbRoVzuB3k4y4AQvHVkWZ_pvDFCU1oBYQ@mail.gmail.com>
Message-ID: <e4ef4287-9160-05f3-0522-7b281ee763c6@gmail.com>

On 05/06/2019 6:12 a.m., Luigi Marongiu wrote:
> Dear all,
> I have a large dataframe where one of the records in a column must
> have been wrongly formatted, in particular i think is missing a
> closing ".
> When I try to show only that column's value I get a [1] with plenty of
> empty space, the final record [45] and the system freezes. also, when
> i try to plot i get a table's printout instead of a real plot.
> 
> Is there a way to identify the record with the format? On a
> spreadsheet or text editor, all records seem OK; end there are too
> many records to visually inspect them all.
> 

Without seeing the data it is hard to be specific, but the 
count.fields() function should normally return the same number of fields 
for every line.  You may need to specify some of its optional arguments, 
e.g. sep="," for a CSV file, etc.

For example, with this file:

1,2,3
1,2,"4"
1,2,"
1,2,5
1,2,"6"

I see

 > count.fields("~/temp/test.txt",sep=",")
[1]  3  3 NA NA NA  3

indicating that there are problems on lines 3-5 (a missing closing quote 
on line 3).

Duncan Murdoch


From bor|@@@te|pe @end|ng |rom utoronto@c@  Wed Jun  5 12:32:35 2019
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Wed, 5 Jun 2019 10:32:35 +0000
Subject: [R] how to identify record with broken format
In-Reply-To: <CAMk+s2TvGk3OwZcD7gbRoVzuB3k4y4AQvHVkWZ_pvDFCU1oBYQ@mail.gmail.com>
References: <CAMk+s2TvGk3OwZcD7gbRoVzuB3k4y4AQvHVkWZ_pvDFCU1oBYQ@mail.gmail.com>
Message-ID: <CD3D3442-54AE-475A-AE79-8790A6BD8B34@utoronto.ca>

I've seen that behaviour with a C" atom in a chemical structure.

Here is code to identify lines with an uneven number of quotation marks. Read your file with readLines() to use it.

myTxt    <- '"This" "is" "fine"'
myTxt[2] <- '"This" "is "not"'
myTxt[3] <- 'This is ok'
 
x <- lengths(regmatches(myTxt, gregexpr('\\"', myTxt)))  # (1)
which(x %% 2 == 1)
[1] 2


Cheers,
Boris


(1) credit to https://stackoverflow.com/questions/12427385/how-to-calculate-the-number-of-occurrence-of-a-given-character-in-each-row-of-a




> On 2019-06-05, at 06:12, Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
> 
> Dear all,
> I have a large dataframe where one of the records in a column must
> have been wrongly formatted, in particular i think is missing a
> closing ".
> When I try to show only that column's value I get a [1] with plenty of
> empty space, the final record [45] and the system freezes. also, when
> i try to plot i get a table's printout instead of a real plot.
> 
> Is there a way to identify the record with the format? On a
> spreadsheet or text editor, all records seem OK; end there are too
> many records to visually inspect them all.
> 
> -- 
> Best regards,
> Luigi
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r  Wed Jun  5 12:32:28 2019
From: o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r (Olivier Crouzet)
Date: Wed, 5 Jun 2019 12:32:28 +0200
Subject: [R] Mac/PC differences in lmer results
In-Reply-To: <D3AA139E-0C22-40AE-9FBF-FB6003AA9834@gmail.com>
References: <5CBE1637-3941-4741-B5A4-8104F0B66386@gmail.com>
 <CAGxFJbQ=qBhu864b3jQHgRt9o8Oz8r_hBLx-1e=XFQe7YsvMOw@mail.gmail.com>
 <DF796728-5E00-451B-8C4C-54CDDA2863E4@gmail.com>
 <CAGxFJbRNA-uTeRBsmtq_utJ9aSEoz9T8uYY=nkE94=q2SxLOyQ@mail.gmail.com>
 <D3AA139E-0C22-40AE-9FBF-FB6003AA9834@gmail.com>
Message-ID: <20190605123228.b9eb5efe15e3e515b8c7ab4e@univ-nantes.fr>

Hi,

32bit vs. 64bit systems? 

Another thing I would look at would be how the windows machine will
read the data file. Though issues should probably only arise with
respect to text data, I've often experienced problems with reading
unicode csv files on windows computers compared with unix-based
computers. No guarantee though, just suggestions...

Olivier.

On Wed, 5 Jun 2019 12:15:53 +0200
Nicolas Schuck <nico.schuck at gmail.com> wrote:

> bert: you are right, sorry for not cc-ing the list. thanks also for
> the hint. 
> 
> I wanted to bring this up here again, emphasising that we do find in
> at least one case *a very large difference* in the p value, using the
> same scripts and data on a windows versus mac machine (see
> reproducible example in the gitlab link posted below). I have now
> come across several instances in which results of (g)lmer models
> don?t agree on windows vs unix-based machines, which I find a bit
> disturbing. any ideas where non-negligible differences could come
> from? 
> 
> thanks, 
> nico 
> 
> 
> > On 30. May 2019, at 16:58, Bert Gunter <bgunter.4567 at gmail.com>
> > wrote:
> > 
> > 
> > Unless there us good reason not to, always cc the list. I have done
> > so here.
> > 
> > The R Installation manual has some info on how to use different
> > BLASes I believe, but someone with expertise (I have none) needs to
> > respond to your queries.
> > 
> > On Thu, May 30, 2019 at 7:50 AM Nicolas Schuck
> > <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote: I
> > know that it is in use on the Mac, see sessionInfo below. I have to
> > check on the Win system. Why would that make such a difference and
> > how could I make the Win get the same results as the Unix Systems? 
> > 
> > R version 3.6.0 (2019-04-26) 
> > Platform: x86_64-apple-darwin15.6.0 (64-bit) 
> > Running under: macOS Mojave 10.14.5 
> > Matrix products: default 
> > BLAS:  /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib 
> > LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib 
> > Random number generation: 
> > RNG:  Mersenne-Twister 
> > Normal:  Inversion Sample:  Rounding 
> > locale: [1]
> > en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> > attached base packages: [1] stats  graphics  grDevices utils
> > datasets  methods  base Thanks, Nico On 30. May 2019, at 16:34,
> > Bert Gunter <bgunter.4567 at gmail.com
> > <mailto:bgunter.4567 at gmail.com>> wrote:
> > 
> >> The BLAS in use on each?
> >> 
> >> Bert Gunter
> >> 
> >> "The trouble with having an open mind is that people keep coming
> >> along and sticking things into it."
> >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >> 
> >> 
> >> On Thu, May 30, 2019 at 5:27 AM Nicolas Schuck
> >> <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote: Dear
> >> fellow R coders, 
> >> 
> >> I am observing differences in results obtained using glmer when
> >> using a Mac or Linux computer versus a PC. Specifically, I am
> >> talking about a relatively complex glmer model with a nested
> >> random effects structure. The model is set up in the following
> >> way: gcctrl = glmerControl(optimizer=c('nloptwrap'), optCtrl = list
> >> (maxfun = 500000), calc.derivs = FALSE)
> >> 
> >> glmer_pre_instr1 = glmer(
> >>       formula = cbind(FREQ, NSAMP-FREQ) ~ FDIST_minz + poly
> >> (RFREQ,2) + ROI + (1 + FDIST_minz + RFREQ + ROI|ID/COL), data =
> >> cdf_pre_instr, family = binomial, 
> >>       control = gcctrl)
> >> 
> >> Code and data of an example for which I find reproducible,
> >> non-negligible differences between Mac/Win can be found here:
> >> https://gitlab.com/nschuck/glmer_sandbox/tree/master
> >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master>
> >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master
> >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master>> The
> >> differences between the fitted models seem to be most pronounced
> >> regarding the estimated correlation structure of the random
> >> effects terms. Mac and Linux yield very similar results, but
> >> Windows deviates quite a bit in some cases. This has a large
> >> impact on p values obtained when performing model comparisons. I
> >> have tried this on Mac OS 10.14, Windows 10 and Ubuntu and Debian.
> >> All systems I have tried are using lme 1.1.21 and R 3.5+. 
> >> 
> >> Does anyone have an idea what the underlying cause might be? 
> >> 
> >> Thanks, 
> >> Nico 
> >> 
> >> 
> >> 
> >> 
> >>         [[alternative HTML version deleted]]
> >> 
> >> ______________________________________________
> >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >> To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> <https://stat.ethz.ch/mailman/listinfo/r-help> PLEASE do read the
> >> posting guide http://www.R-project.org/posting-guide.html
> >> <http://www.r-project.org/posting-guide.html> and provide
> >> commented, minimal, self-contained, reproducible code.
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html and provide commented,
> minimal, self-contained, reproducible code.


-- 
  Olivier Crouzet, PhD
  /Ma?tre de Conf?rences/
  @LLING - Laboratoire de Linguistique de Nantes
    UMR6310 CNRS / Universit? de Nantes
  /Guest Researcher/
  @UMCG (University Medical Center Groningen)
    ENT department
    Rijksuniversiteit Groningen


From r@i@1290 m@iii@g oii @im@com  Wed Jun  5 16:21:57 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Wed, 5 Jun 2019 14:21:57 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
Message-ID: <1137207179.276713.1559744517039@mail.yahoo.com>

I am trying to plot, using ggplot, a series of scatter plots with regression lines for several datasets. I started with the following dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
??? onepctCO2MEDIAN
??????????????????? x????????? y
??? layer.1?? 0.000000000? 0.0000000
??? layer.2?? 0.006794447? 4.9002490
??? layer.3?? 0.014288058? 0.1608000
??? layer.4?? 0.022087920? 6.6349133
??? layer.5?? 0.030797357 -1.2429506
??? layer.6?? 0.038451072? 1.5643374
??? layer.7?? 0.048087904 -2.2659035
??? layer.8?? 0.058677729? 2.2070045
??? layer.9?? 0.069261406 -2.3677001
??? layer.10? 0.080524530 -1.0913506
??? layer.11? 0.092760246? 0.4099940
??? layer.12? 0.103789609 -0.1259727
??? layer.13? 0.116953168 -2.4138253
??? layer.14? 0.129253298? 7.0890257
??? layer.15? 0.141710050 -0.7593539
??? layer.16? 0.156002052? 0.0454416
??? layer.17? 0.170648172 -1.5349683
??? layer.18? 0.185318425? 6.5524201
??? layer.19? 0.199463055 -0.8312563
??? layer.20? 0.213513337 -2.5099183
??? layer.21? 0.228839271? 0.1365968
??? layer.22? 0.246981293 -1.3719845
??? layer.23? 0.263012767 -0.8712988
??? layer.24? 0.278505564? 0.6632584
??? layer.25? 0.293658361? 0.7938036
??? layer.26? 0.310747266? 3.4880637
??? layer.27? 0.325990349 -4.4612208
??? layer.28? 0.342517540? 0.0871734
??? layer.29? 0.362751633 -1.4171578
??? layer.30? 0.380199537 -0.9956508
??? layer.31? 0.394992948? 0.3215526
??? layer.32? 0.414373398? 3.1403866
??? layer.33? 0.430690214 -0.7376099
??? layer.34? 0.449738145 -2.4860541
??? layer.35? 0.470167458 -3.4235858
??? layer.36? 0.489019871? 0.4824748
??? layer.37? 0.507242471 -0.9785386
??? layer.38? 0.524314284? 8.5359684
??? layer.39? 0.543750525? 5.4844742
??? layer.40? 0.564234197? 3.2149367
??? layer.41? 0.583679616? 3.9168916 
??? layer.42? 0.601459444? 4.4907020
??? layer.43? 0.619924664? 6.5410410
??? layer.44? 0.639932007? 4.8068650
??? layer.45? 0.661347181? 8.1510170
??? layer.46? 0.684117317? 0.2697413
??? layer.47? 0.704829752 -0.1807501
??? layer.48? 0.725045770? 9.7181249
??? layer.49? 0.745165825? 1.5406466
??? layer.50? 0.765016139 -1.6476041
??? layer.51? 0.783461511? 4.8024603
??? layer.52? 0.806382924? 4.0421516
??? layer.53? 0.829241335? 9.3756512
??? layer.54? 0.849924415? 5.3305050
??? layer.55? 0.871352434? 7.5445803
??? layer.56? 0.893632233? 6.4679547
??? layer.57? 0.916052133? 2.8096065
??? layer.58? 0.938579470? 5.3921661
??? layer.59? 0.959907651? 7.2043689
??? layer.60? 0.981643587? 3.3350806
??? layer.61? 1.004116774? 8.8690707
??? layer.62? 1.028363466? 1.7861299
??? layer.63? 1.054009140? 6.2555038
??? layer.64? 1.072440803? 7.6079236
??? layer.65? 1.094457805? 7.6871483
??? layer.66? 1.123176277? 4.7787764
??? layer.67? 1.149430871 12.7110502
??? layer.68? 1.170912921 -0.7156284
??? layer.69? 1.196743071? 1.6490899
??? layer.70? 1.218625903? 3.0363024
??? layer.71? 1.241868377? 4.2974769
??? layer.72? 1.267941594? 1.9543778
??? layer.73? 1.290708780? 3.9986964
??? layer.74? 1.313222289? 4.5179472
??? layer.75? 1.339045882? 0.9337905
??? layer.76? 1.362803459? 3.3050770
??? layer.77? 1.384450197? 3.5422970
??? layer.78? 1.409720302? 5.9973660
??? layer.79? 1.435851157? 0.5081869
??? layer.80? 1.455592215? 7.9661630
??? layer.81? 1.479495347? 9.9460496
??? layer.82? 1.506051958? 3.7908372
??? layer.83? 1.525728464? 2.5735847
??? layer.84? 1.549362063 10.1404974
??? layer.85? 1.573440671 13.7408304
??? layer.86? 1.600278735? 0.9335771
??? layer.87? 1.623879492? 9.7588742
??? layer.88? 1.650029302? 1.2769395
??? layer.89? 1.672362328 13.4970906
??? layer.90? 1.700221121 10.2087502
??? layer.91? 1.724793375? 1.6811275
??? layer.92? 1.751070559? 6.1178992
??? layer.93? 1.778022110 -0.1567626
??? layer.94? 1.803022087? 3.8237479
??? layer.95? 1.830668867? 4.4331468
??? layer.96? 1.855736911? 5.9790707
??? layer.97? 1.882615030 11.3104333
??? layer.98? 1.909218490? 8.2142607
??? layer.99? 1.938130021 15.3209674
??? layer.100 1.963727593? 5.8178217
??? layer.101 1.993271947? 9.6004907
??? layer.102 2.022548139? 3.4063646
??? layer.103 2.050679922? 4.7375010
??? layer.104 2.078064442? 3.0133019
??? layer.105 2.104113460? 5.5659522
??? layer.106 2.133597612 12.0346333
??? layer.107 2.164026260 -0.4028320
??? layer.108 2.194852829 10.5996780
??? layer.109 2.224257946? 5.4479584
??? layer.110 2.252194643? 4.7052374
??? layer.111 2.277335048 14.0962019
??? layer.112 2.304058313? 5.7149016
??? layer.113 2.330930233? 3.7780072
??? layer.114 2.357022762? 4.4120620
??? layer.115 2.386489272? 4.1866085
??? layer.116 2.417503953? 6.9078802
??? layer.117 2.448524356? 2.7825739
??? layer.118 2.478698969? 7.6171786
??? layer.119 2.510175705 10.2410603
??? layer.120 2.539697886? 8.1820711
??? layer.121 2.567915559? 4.8275494
??? layer.122 2.597463250 19.1624883
??? layer.123 2.627518773 16.0677109
??? layer.124 2.658759236 12.5897081
??? layer.125 2.692401528? 9.2907988
??? layer.126 2.721903205? 7.4262502
??? layer.127 2.753021359? 9.3902518
??? layer.128 2.786313415 12.6193550
??? layer.129 2.819564104 11.1121040
??? layer.130 2.850823164 15.7907100
??? layer.131 2.880394101 10.7425287
??? layer.132 2.911391258? 7.7971430
??? layer.133 2.942965150? 8.8060858
??? layer.134 2.974468350 17.5606266
??? layer.135 3.008983612 17.3088605
??? layer.136 3.040015221 13.4500543
??? layer.137 3.072668672 14.6377884
??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)??? dput(onepctCO2MEDIAN)
??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801, 
??? 0.0220879195258021, 0.0307973567396402,0.0384510718286037,0.0480879042297602, 
??? 0.0586777292191982, 0.0692614056169987, 0.080524530261755,0.0927602462470531, 
??? 0.103789608925581, 0.116953168064356, 0.129253298044205, 0.141710050404072, 
??? 0.156002052128315, 0.170648172497749, 0.185318425297737, 0.199463054537773, 
??? 0.21351333707571, 0.22883927077055, 0.246981292963028, 0.263012766838074, 
??? 0.278505563735962, 0.29365836083889, 0.310747265815735, 0.325990349054337, 
??? 0.342517539858818, 0.362751632928848, 0.380199536681175, 0.39499294757843, 
??? 0.414373397827148, 0.430690214037895, 0.449738144874573, 0.470167458057404, 
??? 0.489019870758057, 0.507242470979691, 0.524314284324646, 0.543750524520874, 
??? 0.56423419713974, 0.583679616451263, 0.601459443569183, 0.619924664497375, 
??? 0.639932006597519, 0.661347180604935, 0.684117317199707, 0.704829752445221, 
??? 0.725045770406723, 0.745165824890137, 0.765016138553619, 0.783461511135101, 
??? 0.806382924318314, 0.829241335391998, 0.84992441534996, 0.871352434158325, 
??? 0.893632233142853, 0.916052132844925, 0.938579469919205, 0.959907650947571, 
??? 0.981643587350845, 1.00411677360535, 1.02836346626282, 1.05400913953781, 
??? 1.07244080305099, 1.09445780515671, 1.12317627668381, 1.14943087100983, 
??? 1.17091292142868, 1.19674307107925, 1.21862590312958, 1.24186837673187, 
??? 1.26794159412384, 1.2907087802887, 1.31322228908539, 1.33904588222504, 
??? 1.36280345916748, 1.38445019721985, 1.40972030162811, 1.43585115671158, 
??? 1.45559221506119, 1.47949534654617, 1.50605195760727, 1.52572846412659, 
??? 1.5493620634079, 1.5734406709671, 1.60027873516083, 1.62387949228287, 
??? 1.65002930164337, 1.67236232757568, 1.70022112131119, 1.72479337453842, 
??? 1.75107055902481, 1.77802211046219, 1.80302208662033, 1.83066886663437, 
??? 1.85573691129684, 1.88261502981186, 1.90921849012375, 1.93813002109528, 
??? 1.96372759342194, 1.99327194690704, 2.02254813909531, 2.05067992210388, 
??? 2.07806444168091, 2.1041134595871, 2.13359761238098, 2.16402626037598, 
??? 2.19485282897949, 2.2242579460144, 2.25219464302063, 2.27733504772186, 
??? 2.30405831336975, 2.33093023300171, 2.35702276229858, 2.38648927211761, 
??? 2.41750395298004, 2.44852435588837, 2.47869896888733, 2.51017570495605, 
??? 2.53969788551331, 2.567915558815, 2.59746325016022, 2.62751877307892, 
??? 2.65875923633575, 2.69240152835846, 2.72190320491791, 2.75302135944366, 
??? 2.78631341457367, 2.8195641040802, 2.85082316398621, 2.88039410114288, 
??? 2.91139125823975, 2.94296514987946, 2.97446835041046, 3.00898361206055, 
??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0, 
??? 4.90024901723162, 0.160799993152722, 6.63491326258641, -1.24295055804536, 
??? 1.56433744259162, -2.26590352245208, 2.20700446463354, -2.36770012911069, 
??? -1.09135061899174, 0.409993989292701, -0.125972681525582, -2.41382533818026, 
??? 7.08902570153028, -0.759353880417294, 0.0454415959640926, -1.53496826259972, 
??? 6.55242014096194, -0.831256280861552, -2.50991825629084, 0.136596820654013, 
??? -1.37198445498419, -0.871298832596736, 0.663258363762466, 0.793803634291308, 
??? 3.48806373666998, -4.46122081238949, 0.0871733966938564, -1.41715777257774, 
??? -0.995650815648318, 0.32155262317503, 3.14038657369241, -0.737609879885404, 
??? -2.48605406511292, -3.423585843908, 0.482474753780281, -0.978538630093809, 
??? 8.53596837794201, 5.48447420320695, 3.21493665820644, 3.91689160157513, 
??? 4.49070195980797, 6.54104103157039, 4.80686500146557, 8.15101701282067, 
??? 0.26974132191657, -0.180750068063062, 9.71812491230244, 1.54064657400204, 
??? -1.64760408795688, 4.80246028991894, 4.04215159914344, 9.37565121768513, 
??? 5.33050496938428, 7.54458026088508, 6.46795470819342, 2.80960651433971, 
??? 5.39216613235986, 7.20436888038562, 3.3350806460997, 8.86907069895943, 
??? 1.78612988613659, 6.25550382050395, 7.60792364896564, 7.68714830528144, 
??? 4.77877638957615, 12.7110501777314, -0.715628443181046, 1.64908991824022, 
??? 3.03630240714679, 4.29747688442346, 1.95437780501881, 3.99869636910933, 
??? 4.51794724689848, 0.933790484492299, 3.30507700050003, 3.5422970157433, 
??? 5.99736597322524, 0.508186860060022, 7.96616300581067, 9.94604963036295, 
??? 3.79083717222623, 2.57358468532258, 10.1404974171776, 13.7408303595752, 
??? 0.933577123801399, 9.75887417074129, 1.27693947132921, 13.4970905965787, 
??? 10.2087501765735, 1.68112753028756, 6.1178991508927, -0.156762622680077, 
??? 3.82374791691426, 4.43314678736265, 5.97907067167507, 11.3104332518482, 
??? 8.21426074201525, 15.320967360602, 5.81782169471483, 9.6004907412354, 
??? 3.40636455909704, 4.73750103921864, 3.0133019468806, 5.56595224859066, 
??? 12.0346332527215, -0.40283199827104, 10.5996779538754, 5.44795836991128, 
??? 4.70523736412729, 14.096201892183, 5.71490161813391, 3.77800720810782, 
??? 4.41206200639436, 4.18660847858423, 6.90788020044911, 2.78257393345915, 
??? 7.61717857379431, 10.2410602647684, 8.18207106836167, 4.82754943871433, 
??? 19.1624882857155, 16.0677109398509, 12.589708067017, 9.29079879799404, 
??? 7.42625019725314, 9.39025179806185, 12.6193550331438, 11.1121039747257, 
??? 15.7907099734986, 10.7425286789233, 7.79714300307344, 8.80608578166101, 
??? 17.5606266346039, 17.3088604929222, 13.4500543478523, 14.6377884248645, 
??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1", 
??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7", 
??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", "layer.13", 
??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", "layer.19", 
??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", "layer.25", 
??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", "layer.31", 
??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", "layer.37", 
??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", "layer.43", 
??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", "layer.49", 
??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", "layer.55", 
??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", "layer.61", 
??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", "layer.67", 
??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", "layer.73", 
??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", "layer.79", 
??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", "layer.85", 
??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", "layer.91", 
??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", "layer.97", 
??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102", 
??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107", 
??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112", 
??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117", 
??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122", 
??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127", 
??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132", 
??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137", 
??? "layer.138"))
I started with the following to generate the first regression line and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +? 
??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),?? 
??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138], 
??? departurea), method=lm) 
But I receive this error:? ??Warning message:
??? Computation failed in `stat_smooth()`:
??? 'what' must be a function or character string
A blue scatter plot is successfully generated, but the problem is that the regression line does not appear, presumably related to the above warning.
Is there a reason for this? I would appreciate any assistance!
	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jun  5 16:49:46 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 05 Jun 2019 07:49:46 -0700
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <1137207179.276713.1559744517039@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
Message-ID: <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>

Please read the Posting Guide... posting HTML on a plain text mailing list really interferes with clear communication.

If you had spent even a small amount of time working with R tutorials then you would know that "lm" is the name of a very basic, very important R function. However, you are defining your own object called "lm" that is very different indeed than the usual "lm" function. I would guess that in a clean new R workspace where you had not already run your ggplot function and assigned the result to your own "lm" object then this code might run. However, once you have run it once and try to run it again, your "method" argument gives the wrong version of "lm" to geom_smooth and you confuse it.

As the doctor said to the man pounding his own head against the wall, "If it hurts, don't do that." Avoid re-using important object names in R... some common names I see abused this way are df, data, c, t, T, and F. Your choice was unusual, but quite effective at illustrating the problem.

On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help <r-help at r-project.org> wrote:
>I am trying to plot, using ggplot, a series of scatter plots with
>regression lines for several datasets. I started with the following
>dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>??? onepctCO2MEDIAN
>??????????????????? x????????? y
>??? layer.1?? 0.000000000? 0.0000000
>??? layer.2?? 0.006794447? 4.9002490
>??? layer.3?? 0.014288058? 0.1608000
>??? layer.4?? 0.022087920? 6.6349133
>??? layer.5?? 0.030797357 -1.2429506
>??? layer.6?? 0.038451072? 1.5643374
>??? layer.7?? 0.048087904 -2.2659035
>??? layer.8?? 0.058677729? 2.2070045
>??? layer.9?? 0.069261406 -2.3677001
>??? layer.10? 0.080524530 -1.0913506
>??? layer.11? 0.092760246? 0.4099940
>??? layer.12? 0.103789609 -0.1259727
>??? layer.13? 0.116953168 -2.4138253
>??? layer.14? 0.129253298? 7.0890257
>??? layer.15? 0.141710050 -0.7593539
>??? layer.16? 0.156002052? 0.0454416
>??? layer.17? 0.170648172 -1.5349683
>??? layer.18? 0.185318425? 6.5524201
>??? layer.19? 0.199463055 -0.8312563
>??? layer.20? 0.213513337 -2.5099183
>??? layer.21? 0.228839271? 0.1365968
>??? layer.22? 0.246981293 -1.3719845
>??? layer.23? 0.263012767 -0.8712988
>??? layer.24? 0.278505564? 0.6632584
>??? layer.25? 0.293658361? 0.7938036
>??? layer.26? 0.310747266? 3.4880637
>??? layer.27? 0.325990349 -4.4612208
>??? layer.28? 0.342517540? 0.0871734
>??? layer.29? 0.362751633 -1.4171578
>??? layer.30? 0.380199537 -0.9956508
>??? layer.31? 0.394992948? 0.3215526
>??? layer.32? 0.414373398? 3.1403866
>??? layer.33? 0.430690214 -0.7376099
>??? layer.34? 0.449738145 -2.4860541
>??? layer.35? 0.470167458 -3.4235858
>??? layer.36? 0.489019871? 0.4824748
>??? layer.37? 0.507242471 -0.9785386
>??? layer.38? 0.524314284? 8.5359684
>??? layer.39? 0.543750525? 5.4844742
>??? layer.40? 0.564234197? 3.2149367
>??? layer.41? 0.583679616? 3.9168916 
>??? layer.42? 0.601459444? 4.4907020
>??? layer.43? 0.619924664? 6.5410410
>??? layer.44? 0.639932007? 4.8068650
>??? layer.45? 0.661347181? 8.1510170
>??? layer.46? 0.684117317? 0.2697413
>??? layer.47? 0.704829752 -0.1807501
>??? layer.48? 0.725045770? 9.7181249
>??? layer.49? 0.745165825? 1.5406466
>??? layer.50? 0.765016139 -1.6476041
>??? layer.51? 0.783461511? 4.8024603
>??? layer.52? 0.806382924? 4.0421516
>??? layer.53? 0.829241335? 9.3756512
>??? layer.54? 0.849924415? 5.3305050
>??? layer.55? 0.871352434? 7.5445803
>??? layer.56? 0.893632233? 6.4679547
>??? layer.57? 0.916052133? 2.8096065
>??? layer.58? 0.938579470? 5.3921661
>??? layer.59? 0.959907651? 7.2043689
>??? layer.60? 0.981643587? 3.3350806
>??? layer.61? 1.004116774? 8.8690707
>??? layer.62? 1.028363466? 1.7861299
>??? layer.63? 1.054009140? 6.2555038
>??? layer.64? 1.072440803? 7.6079236
>??? layer.65? 1.094457805? 7.6871483
>??? layer.66? 1.123176277? 4.7787764
>??? layer.67? 1.149430871 12.7110502
>??? layer.68? 1.170912921 -0.7156284
>??? layer.69? 1.196743071? 1.6490899
>??? layer.70? 1.218625903? 3.0363024
>??? layer.71? 1.241868377? 4.2974769
>??? layer.72? 1.267941594? 1.9543778
>??? layer.73? 1.290708780? 3.9986964
>??? layer.74? 1.313222289? 4.5179472
>??? layer.75? 1.339045882? 0.9337905
>??? layer.76? 1.362803459? 3.3050770
>??? layer.77? 1.384450197? 3.5422970
>??? layer.78? 1.409720302? 5.9973660
>??? layer.79? 1.435851157? 0.5081869
>??? layer.80? 1.455592215? 7.9661630
>??? layer.81? 1.479495347? 9.9460496
>??? layer.82? 1.506051958? 3.7908372
>??? layer.83? 1.525728464? 2.5735847
>??? layer.84? 1.549362063 10.1404974
>??? layer.85? 1.573440671 13.7408304
>??? layer.86? 1.600278735? 0.9335771
>??? layer.87? 1.623879492? 9.7588742
>??? layer.88? 1.650029302? 1.2769395
>??? layer.89? 1.672362328 13.4970906
>??? layer.90? 1.700221121 10.2087502
>??? layer.91? 1.724793375? 1.6811275
>??? layer.92? 1.751070559? 6.1178992
>??? layer.93? 1.778022110 -0.1567626
>??? layer.94? 1.803022087? 3.8237479
>??? layer.95? 1.830668867? 4.4331468
>??? layer.96? 1.855736911? 5.9790707
>??? layer.97? 1.882615030 11.3104333
>??? layer.98? 1.909218490? 8.2142607
>??? layer.99? 1.938130021 15.3209674
>??? layer.100 1.963727593? 5.8178217
>??? layer.101 1.993271947? 9.6004907
>??? layer.102 2.022548139? 3.4063646
>??? layer.103 2.050679922? 4.7375010
>??? layer.104 2.078064442? 3.0133019
>??? layer.105 2.104113460? 5.5659522
>??? layer.106 2.133597612 12.0346333
>??? layer.107 2.164026260 -0.4028320
>??? layer.108 2.194852829 10.5996780
>??? layer.109 2.224257946? 5.4479584
>??? layer.110 2.252194643? 4.7052374
>??? layer.111 2.277335048 14.0962019
>??? layer.112 2.304058313? 5.7149016
>??? layer.113 2.330930233? 3.7780072
>??? layer.114 2.357022762? 4.4120620
>??? layer.115 2.386489272? 4.1866085
>??? layer.116 2.417503953? 6.9078802
>??? layer.117 2.448524356? 2.7825739
>??? layer.118 2.478698969? 7.6171786
>??? layer.119 2.510175705 10.2410603
>??? layer.120 2.539697886? 8.1820711
>??? layer.121 2.567915559? 4.8275494
>??? layer.122 2.597463250 19.1624883
>??? layer.123 2.627518773 16.0677109
>??? layer.124 2.658759236 12.5897081
>??? layer.125 2.692401528? 9.2907988
>??? layer.126 2.721903205? 7.4262502
>??? layer.127 2.753021359? 9.3902518
>??? layer.128 2.786313415 12.6193550
>??? layer.129 2.819564104 11.1121040
>??? layer.130 2.850823164 15.7907100
>??? layer.131 2.880394101 10.7425287
>??? layer.132 2.911391258? 7.7971430
>??? layer.133 2.942965150? 8.8060858
>??? layer.134 2.974468350 17.5606266
>??? layer.135 3.008983612 17.3088605
>??? layer.136 3.040015221 13.4500543
>??? layer.137 3.072668672 14.6377884
>??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)???
>dput(onepctCO2MEDIAN)
>??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801, 
>??? 0.0220879195258021,
>0.0307973567396402,0.0384510718286037,0.0480879042297602, 
>??? 0.0586777292191982, 0.0692614056169987,
>0.080524530261755,0.0927602462470531, 
>??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>0.141710050404072, 
>??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>0.199463054537773, 
>??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>0.263012766838074, 
>??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>0.325990349054337, 
>??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>0.39499294757843, 
>??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>0.470167458057404, 
>??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>0.543750524520874, 
>??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>0.619924664497375, 
>??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>0.704829752445221, 
>??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>0.783461511135101, 
>??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>0.871352434158325, 
>??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>0.959907650947571, 
>??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>1.05400913953781, 
>??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>1.14943087100983, 
>??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>1.24186837673187, 
>??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>1.33904588222504, 
>??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>1.43585115671158, 
>??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>1.52572846412659, 
>??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>1.62387949228287, 
>??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>1.72479337453842, 
>??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>1.83066886663437, 
>??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>1.93813002109528, 
>??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>2.05067992210388, 
>??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>2.16402626037598, 
>??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>2.27733504772186, 
>??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>2.38648927211761, 
>??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>2.51017570495605, 
>??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>2.62751877307892, 
>??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>2.75302135944366, 
>??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>2.88039410114288, 
>??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>3.00898361206055, 
>??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0, 
>??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>-1.24295055804536, 
>??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>-2.36770012911069, 
>??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>-2.41382533818026, 
>??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>-1.53496826259972, 
>??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>0.136596820654013, 
>??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>0.793803634291308, 
>??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>-1.41715777257774, 
>??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>-0.737609879885404, 
>??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>-0.978538630093809, 
>??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>3.91689160157513, 
>??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>8.15101701282067, 
>??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>1.54064657400204, 
>??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>9.37565121768513, 
>??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>2.80960651433971, 
>??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>8.86907069895943, 
>??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>7.68714830528144, 
>??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>1.64908991824022, 
>??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>3.99869636910933, 
>??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>3.5422970157433, 
>??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>9.94604963036295, 
>??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>13.7408303595752, 
>??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>13.4970905965787, 
>??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>-0.156762622680077, 
>??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>11.3104332518482, 
>??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>9.6004907412354, 
>??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>5.56595224859066, 
>??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>5.44795836991128, 
>??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>3.77800720810782, 
>??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>2.78257393345915, 
>??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>4.82754943871433, 
>??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>9.29079879799404, 
>??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>11.1121039747257, 
>??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>8.80608578166101, 
>??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>14.6377884248645, 
>??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1", 
>??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7", 
>??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>"layer.13", 
>??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>"layer.19", 
>??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>"layer.25", 
>??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>"layer.31", 
>??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>"layer.37", 
>??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>"layer.43", 
>??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>"layer.49", 
>??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>"layer.55", 
>??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>"layer.61", 
>??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>"layer.67", 
>??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>"layer.73", 
>??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>"layer.79", 
>??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>"layer.85", 
>??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>"layer.91", 
>??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>"layer.97", 
>??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102", 
>??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107", 
>??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112", 
>??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117", 
>??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122", 
>??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127", 
>??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132", 
>??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137", 
>??? "layer.138"))
>I started with the following to generate the first regression line and
>scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +? 
>??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),?? 
>??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>
>??? departurea), method=lm) 
>But I receive this error:? ??Warning message:
>??? Computation failed in `stat_smooth()`:
>??? 'what' must be a function or character string
>A blue scatter plot is successfully generated, but the problem is that
>the regression line does not appear, presumably related to the above
>warning.
>Is there a reason for this? I would appreciate any assistance!
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jun  5 16:52:49 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 5 Jun 2019 15:52:49 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <1137207179.276713.1559744517039@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
Message-ID: <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>

Hello,

This is pretty basic ggplot.


lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
   geom_point(colour = 'blue') +
   geom_smooth(method = 'lm')

lm1


If you want to combine several datasets, you will have to have a 
variable telling which dataset is which. In the example below, this is 
column 'id'.


onepctCO2MEDIAN2 <- onepctCO2MEDIAN
onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
onepctCO2MEDIAN$id <- 1
onepctCO2MEDIAN2$id <- 2
df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)

ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
   geom_point() +
   geom_smooth(method = 'lm')


Hope this helps,

Rui Barradas

?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
> I am trying to plot, using ggplot, a series of scatter plots with regression lines for several datasets. I started with the following dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>  ??? onepctCO2MEDIAN
>  ??????????????????? x????????? y
>  ??? layer.1?? 0.000000000? 0.0000000
>  ??? layer.2?? 0.006794447? 4.9002490
>  ??? layer.3?? 0.014288058? 0.1608000
>  ??? layer.4?? 0.022087920? 6.6349133
>  ??? layer.5?? 0.030797357 -1.2429506
>  ??? layer.6?? 0.038451072? 1.5643374
>  ??? layer.7?? 0.048087904 -2.2659035
>  ??? layer.8?? 0.058677729? 2.2070045
>  ??? layer.9?? 0.069261406 -2.3677001
>  ??? layer.10? 0.080524530 -1.0913506
>  ??? layer.11? 0.092760246? 0.4099940
>  ??? layer.12? 0.103789609 -0.1259727
>  ??? layer.13? 0.116953168 -2.4138253
>  ??? layer.14? 0.129253298? 7.0890257
>  ??? layer.15? 0.141710050 -0.7593539
>  ??? layer.16? 0.156002052? 0.0454416
>  ??? layer.17? 0.170648172 -1.5349683
>  ??? layer.18? 0.185318425? 6.5524201
>  ??? layer.19? 0.199463055 -0.8312563
>  ??? layer.20? 0.213513337 -2.5099183
>  ??? layer.21? 0.228839271? 0.1365968
>  ??? layer.22? 0.246981293 -1.3719845
>  ??? layer.23? 0.263012767 -0.8712988
>  ??? layer.24? 0.278505564? 0.6632584
>  ??? layer.25? 0.293658361? 0.7938036
>  ??? layer.26? 0.310747266? 3.4880637
>  ??? layer.27? 0.325990349 -4.4612208
>  ??? layer.28? 0.342517540? 0.0871734
>  ??? layer.29? 0.362751633 -1.4171578
>  ??? layer.30? 0.380199537 -0.9956508
>  ??? layer.31? 0.394992948? 0.3215526
>  ??? layer.32? 0.414373398? 3.1403866
>  ??? layer.33? 0.430690214 -0.7376099
>  ??? layer.34? 0.449738145 -2.4860541
>  ??? layer.35? 0.470167458 -3.4235858
>  ??? layer.36? 0.489019871? 0.4824748
>  ??? layer.37? 0.507242471 -0.9785386
>  ??? layer.38? 0.524314284? 8.5359684
>  ??? layer.39? 0.543750525? 5.4844742
>  ??? layer.40? 0.564234197? 3.2149367
>  ??? layer.41? 0.583679616? 3.9168916
>  ??? layer.42? 0.601459444? 4.4907020
>  ??? layer.43? 0.619924664? 6.5410410
>  ??? layer.44? 0.639932007? 4.8068650
>  ??? layer.45? 0.661347181? 8.1510170
>  ??? layer.46? 0.684117317? 0.2697413
>  ??? layer.47? 0.704829752 -0.1807501
>  ??? layer.48? 0.725045770? 9.7181249
>  ??? layer.49? 0.745165825? 1.5406466
>  ??? layer.50? 0.765016139 -1.6476041
>  ??? layer.51? 0.783461511? 4.8024603
>  ??? layer.52? 0.806382924? 4.0421516
>  ??? layer.53? 0.829241335? 9.3756512
>  ??? layer.54? 0.849924415? 5.3305050
>  ??? layer.55? 0.871352434? 7.5445803
>  ??? layer.56? 0.893632233? 6.4679547
>  ??? layer.57? 0.916052133? 2.8096065
>  ??? layer.58? 0.938579470? 5.3921661
>  ??? layer.59? 0.959907651? 7.2043689
>  ??? layer.60? 0.981643587? 3.3350806
>  ??? layer.61? 1.004116774? 8.8690707
>  ??? layer.62? 1.028363466? 1.7861299
>  ??? layer.63? 1.054009140? 6.2555038
>  ??? layer.64? 1.072440803? 7.6079236
>  ??? layer.65? 1.094457805? 7.6871483
>  ??? layer.66? 1.123176277? 4.7787764
>  ??? layer.67? 1.149430871 12.7110502
>  ??? layer.68? 1.170912921 -0.7156284
>  ??? layer.69? 1.196743071? 1.6490899
>  ??? layer.70? 1.218625903? 3.0363024
>  ??? layer.71? 1.241868377? 4.2974769
>  ??? layer.72? 1.267941594? 1.9543778
>  ??? layer.73? 1.290708780? 3.9986964
>  ??? layer.74? 1.313222289? 4.5179472
>  ??? layer.75? 1.339045882? 0.9337905
>  ??? layer.76? 1.362803459? 3.3050770
>  ??? layer.77? 1.384450197? 3.5422970
>  ??? layer.78? 1.409720302? 5.9973660
>  ??? layer.79? 1.435851157? 0.5081869
>  ??? layer.80? 1.455592215? 7.9661630
>  ??? layer.81? 1.479495347? 9.9460496
>  ??? layer.82? 1.506051958? 3.7908372
>  ??? layer.83? 1.525728464? 2.5735847
>  ??? layer.84? 1.549362063 10.1404974
>  ??? layer.85? 1.573440671 13.7408304
>  ??? layer.86? 1.600278735? 0.9335771
>  ??? layer.87? 1.623879492? 9.7588742
>  ??? layer.88? 1.650029302? 1.2769395
>  ??? layer.89? 1.672362328 13.4970906
>  ??? layer.90? 1.700221121 10.2087502
>  ??? layer.91? 1.724793375? 1.6811275
>  ??? layer.92? 1.751070559? 6.1178992
>  ??? layer.93? 1.778022110 -0.1567626
>  ??? layer.94? 1.803022087? 3.8237479
>  ??? layer.95? 1.830668867? 4.4331468
>  ??? layer.96? 1.855736911? 5.9790707
>  ??? layer.97? 1.882615030 11.3104333
>  ??? layer.98? 1.909218490? 8.2142607
>  ??? layer.99? 1.938130021 15.3209674
>  ??? layer.100 1.963727593? 5.8178217
>  ??? layer.101 1.993271947? 9.6004907
>  ??? layer.102 2.022548139? 3.4063646
>  ??? layer.103 2.050679922? 4.7375010
>  ??? layer.104 2.078064442? 3.0133019
>  ??? layer.105 2.104113460? 5.5659522
>  ??? layer.106 2.133597612 12.0346333
>  ??? layer.107 2.164026260 -0.4028320
>  ??? layer.108 2.194852829 10.5996780
>  ??? layer.109 2.224257946? 5.4479584
>  ??? layer.110 2.252194643? 4.7052374
>  ??? layer.111 2.277335048 14.0962019
>  ??? layer.112 2.304058313? 5.7149016
>  ??? layer.113 2.330930233? 3.7780072
>  ??? layer.114 2.357022762? 4.4120620
>  ??? layer.115 2.386489272? 4.1866085
>  ??? layer.116 2.417503953? 6.9078802
>  ??? layer.117 2.448524356? 2.7825739
>  ??? layer.118 2.478698969? 7.6171786
>  ??? layer.119 2.510175705 10.2410603
>  ??? layer.120 2.539697886? 8.1820711
>  ??? layer.121 2.567915559? 4.8275494
>  ??? layer.122 2.597463250 19.1624883
>  ??? layer.123 2.627518773 16.0677109
>  ??? layer.124 2.658759236 12.5897081
>  ??? layer.125 2.692401528? 9.2907988
>  ??? layer.126 2.721903205? 7.4262502
>  ??? layer.127 2.753021359? 9.3902518
>  ??? layer.128 2.786313415 12.6193550
>  ??? layer.129 2.819564104 11.1121040
>  ??? layer.130 2.850823164 15.7907100
>  ??? layer.131 2.880394101 10.7425287
>  ??? layer.132 2.911391258? 7.7971430
>  ??? layer.133 2.942965150? 8.8060858
>  ??? layer.134 2.974468350 17.5606266
>  ??? layer.135 3.008983612 17.3088605
>  ??? layer.136 3.040015221 13.4500543
>  ??? layer.137 3.072668672 14.6377884
>  ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)??? dput(onepctCO2MEDIAN)
>  ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>  ??? 0.0220879195258021, 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>  ??? 0.0586777292191982, 0.0692614056169987, 0.080524530261755,0.0927602462470531,
>  ??? 0.103789608925581, 0.116953168064356, 0.129253298044205, 0.141710050404072,
>  ??? 0.156002052128315, 0.170648172497749, 0.185318425297737, 0.199463054537773,
>  ??? 0.21351333707571, 0.22883927077055, 0.246981292963028, 0.263012766838074,
>  ??? 0.278505563735962, 0.29365836083889, 0.310747265815735, 0.325990349054337,
>  ??? 0.342517539858818, 0.362751632928848, 0.380199536681175, 0.39499294757843,
>  ??? 0.414373397827148, 0.430690214037895, 0.449738144874573, 0.470167458057404,
>  ??? 0.489019870758057, 0.507242470979691, 0.524314284324646, 0.543750524520874,
>  ??? 0.56423419713974, 0.583679616451263, 0.601459443569183, 0.619924664497375,
>  ??? 0.639932006597519, 0.661347180604935, 0.684117317199707, 0.704829752445221,
>  ??? 0.725045770406723, 0.745165824890137, 0.765016138553619, 0.783461511135101,
>  ??? 0.806382924318314, 0.829241335391998, 0.84992441534996, 0.871352434158325,
>  ??? 0.893632233142853, 0.916052132844925, 0.938579469919205, 0.959907650947571,
>  ??? 0.981643587350845, 1.00411677360535, 1.02836346626282, 1.05400913953781,
>  ??? 1.07244080305099, 1.09445780515671, 1.12317627668381, 1.14943087100983,
>  ??? 1.17091292142868, 1.19674307107925, 1.21862590312958, 1.24186837673187,
>  ??? 1.26794159412384, 1.2907087802887, 1.31322228908539, 1.33904588222504,
>  ??? 1.36280345916748, 1.38445019721985, 1.40972030162811, 1.43585115671158,
>  ??? 1.45559221506119, 1.47949534654617, 1.50605195760727, 1.52572846412659,
>  ??? 1.5493620634079, 1.5734406709671, 1.60027873516083, 1.62387949228287,
>  ??? 1.65002930164337, 1.67236232757568, 1.70022112131119, 1.72479337453842,
>  ??? 1.75107055902481, 1.77802211046219, 1.80302208662033, 1.83066886663437,
>  ??? 1.85573691129684, 1.88261502981186, 1.90921849012375, 1.93813002109528,
>  ??? 1.96372759342194, 1.99327194690704, 2.02254813909531, 2.05067992210388,
>  ??? 2.07806444168091, 2.1041134595871, 2.13359761238098, 2.16402626037598,
>  ??? 2.19485282897949, 2.2242579460144, 2.25219464302063, 2.27733504772186,
>  ??? 2.30405831336975, 2.33093023300171, 2.35702276229858, 2.38648927211761,
>  ??? 2.41750395298004, 2.44852435588837, 2.47869896888733, 2.51017570495605,
>  ??? 2.53969788551331, 2.567915558815, 2.59746325016022, 2.62751877307892,
>  ??? 2.65875923633575, 2.69240152835846, 2.72190320491791, 2.75302135944366,
>  ??? 2.78631341457367, 2.8195641040802, 2.85082316398621, 2.88039410114288,
>  ??? 2.91139125823975, 2.94296514987946, 2.97446835041046, 3.00898361206055,
>  ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>  ??? 4.90024901723162, 0.160799993152722, 6.63491326258641, -1.24295055804536,
>  ??? 1.56433744259162, -2.26590352245208, 2.20700446463354, -2.36770012911069,
>  ??? -1.09135061899174, 0.409993989292701, -0.125972681525582, -2.41382533818026,
>  ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926, -1.53496826259972,
>  ??? 6.55242014096194, -0.831256280861552, -2.50991825629084, 0.136596820654013,
>  ??? -1.37198445498419, -0.871298832596736, 0.663258363762466, 0.793803634291308,
>  ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564, -1.41715777257774,
>  ??? -0.995650815648318, 0.32155262317503, 3.14038657369241, -0.737609879885404,
>  ??? -2.48605406511292, -3.423585843908, 0.482474753780281, -0.978538630093809,
>  ??? 8.53596837794201, 5.48447420320695, 3.21493665820644, 3.91689160157513,
>  ??? 4.49070195980797, 6.54104103157039, 4.80686500146557, 8.15101701282067,
>  ??? 0.26974132191657, -0.180750068063062, 9.71812491230244, 1.54064657400204,
>  ??? -1.64760408795688, 4.80246028991894, 4.04215159914344, 9.37565121768513,
>  ??? 5.33050496938428, 7.54458026088508, 6.46795470819342, 2.80960651433971,
>  ??? 5.39216613235986, 7.20436888038562, 3.3350806460997, 8.86907069895943,
>  ??? 1.78612988613659, 6.25550382050395, 7.60792364896564, 7.68714830528144,
>  ??? 4.77877638957615, 12.7110501777314, -0.715628443181046, 1.64908991824022,
>  ??? 3.03630240714679, 4.29747688442346, 1.95437780501881, 3.99869636910933,
>  ??? 4.51794724689848, 0.933790484492299, 3.30507700050003, 3.5422970157433,
>  ??? 5.99736597322524, 0.508186860060022, 7.96616300581067, 9.94604963036295,
>  ??? 3.79083717222623, 2.57358468532258, 10.1404974171776, 13.7408303595752,
>  ??? 0.933577123801399, 9.75887417074129, 1.27693947132921, 13.4970905965787,
>  ??? 10.2087501765735, 1.68112753028756, 6.1178991508927, -0.156762622680077,
>  ??? 3.82374791691426, 4.43314678736265, 5.97907067167507, 11.3104332518482,
>  ??? 8.21426074201525, 15.320967360602, 5.81782169471483, 9.6004907412354,
>  ??? 3.40636455909704, 4.73750103921864, 3.0133019468806, 5.56595224859066,
>  ??? 12.0346332527215, -0.40283199827104, 10.5996779538754, 5.44795836991128,
>  ??? 4.70523736412729, 14.096201892183, 5.71490161813391, 3.77800720810782,
>  ??? 4.41206200639436, 4.18660847858423, 6.90788020044911, 2.78257393345915,
>  ??? 7.61717857379431, 10.2410602647684, 8.18207106836167, 4.82754943871433,
>  ??? 19.1624882857155, 16.0677109398509, 12.589708067017, 9.29079879799404,
>  ??? 7.42625019725314, 9.39025179806185, 12.6193550331438, 11.1121039747257,
>  ??? 15.7907099734986, 10.7425286789233, 7.79714300307344, 8.80608578166101,
>  ??? 17.5606266346039, 17.3088604929222, 13.4500543478523, 14.6377884248645,
>  ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>  ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>  ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", "layer.13",
>  ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", "layer.19",
>  ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", "layer.25",
>  ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", "layer.31",
>  ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", "layer.37",
>  ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", "layer.43",
>  ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", "layer.49",
>  ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", "layer.55",
>  ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", "layer.61",
>  ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", "layer.67",
>  ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", "layer.73",
>  ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", "layer.79",
>  ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", "layer.85",
>  ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", "layer.91",
>  ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", "layer.97",
>  ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>  ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>  ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>  ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>  ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>  ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>  ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>  ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>  ??? "layer.138"))
> I started with the following to generate the first regression line and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>  ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>  ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>  ??? departurea), method=lm)
> But I receive this error:? ??Warning message:
>  ??? Computation failed in `stat_smooth()`:
>  ??? 'what' must be a function or character string
> A blue scatter plot is successfully generated, but the problem is that the regression line does not appear, presumably related to the above warning.
> Is there a reason for this? I would appreciate any assistance!
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From r@i@1290 m@iii@g oii @im@com  Wed Jun  5 17:04:43 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Wed, 5 Jun 2019 15:04:43 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
Message-ID: <448346170.409006.1559747083753@mail.yahoo.com>

Hi Jeff (and everyone),

Thank you for your response and feedback. Yes, I know what you mean - it was a blind and quick choice to use "lm" as my object name. Unfortunately, changing the object name to something else does not eliminate that error/warning message. As a result, the same error/warning appears when running it. Oddly enough, the scatter plot is just fine - it's the regression line that struggles to appear. Could there be another reason for that?
Thanks, again,


-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
To: rain1290 <rain1290 at aim.com>; rain1290--- via R-help <r-help at r-project.org>; r-help <r-help at R-project.org>; r-sig-geo <r-sig-geo at r-project.org>
Sent: Wed, Jun 5, 2019 10:49 am
Subject: Re: [R] Plotting more than one regression line in ggplot

Please read the Posting Guide... posting HTML on a plain text mailing list really interferes with clear communication.

If you had spent even a small amount of time working with R tutorials then you would know that "lm" is the name of a very basic, very important R function. However, you are defining your own object called "lm" that is very different indeed than the usual "lm" function. I would guess that in a clean new R workspace where you had not already run your ggplot function and assigned the result to your own "lm" object then this code might run. However, once you have run it once and try to run it again, your "method" argument gives the wrong version of "lm" to geom_smooth and you confuse it.

As the doctor said to the man pounding his own head against the wall, "If it hurts, don't do that." Avoid re-using important object names in R... some common names I see abused this way are df, data, c, t, T, and F. Your choice was unusual, but quite effective at illustrating the problem.

On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help <r-help at r-project.org> wrote:
>I am trying to plot, using ggplot, a series of scatter plots with
>regression lines for several datasets. I started with the following
>dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>??? onepctCO2MEDIAN
>??????????????????? x????????? y
>??? layer.1?? 0.000000000? 0.0000000
>??? layer.2?? 0.006794447? 4.9002490
>??? layer.3?? 0.014288058? 0.1608000
>??? layer.4?? 0.022087920? 6.6349133
>??? layer.5?? 0.030797357 -1.2429506
>??? layer.6?? 0.038451072? 1.5643374
>??? layer.7?? 0.048087904 -2.2659035
>??? layer.8?? 0.058677729? 2.2070045
>??? layer.9?? 0.069261406 -2.3677001
>??? layer.10? 0.080524530 -1.0913506
>??? layer.11? 0.092760246? 0.4099940
>??? layer.12? 0.103789609 -0.1259727
>??? layer.13? 0.116953168 -2.4138253
>??? layer.14? 0.129253298? 7.0890257
>??? layer.15? 0.141710050 -0.7593539
>??? layer.16? 0.156002052? 0.0454416
>??? layer.17? 0.170648172 -1.5349683
>??? layer.18? 0.185318425? 6.5524201
>??? layer.19? 0.199463055 -0.8312563
>??? layer.20? 0.213513337 -2.5099183
>??? layer.21? 0.228839271? 0.1365968
>??? layer.22? 0.246981293 -1.3719845
>??? layer.23? 0.263012767 -0.8712988
>??? layer.24? 0.278505564? 0.6632584
>??? layer.25? 0.293658361? 0.7938036
>??? layer.26? 0.310747266? 3.4880637
>??? layer.27? 0.325990349 -4.4612208
>??? layer.28? 0.342517540? 0.0871734
>??? layer.29? 0.362751633 -1.4171578
>??? layer.30? 0.380199537 -0.9956508
>??? layer.31? 0.394992948? 0.3215526
>??? layer.32? 0.414373398? 3.1403866
>??? layer.33? 0.430690214 -0.7376099
>??? layer.34? 0.449738145 -2.4860541
>??? layer.35? 0.470167458 -3.4235858
>??? layer.36? 0.489019871? 0.4824748
>??? layer.37? 0.507242471 -0.9785386
>??? layer.38? 0.524314284? 8.5359684
>??? layer.39? 0.543750525? 5.4844742
>??? layer.40? 0.564234197? 3.2149367
>??? layer.41? 0.583679616? 3.9168916 
>??? layer.42? 0.601459444? 4.4907020
>??? layer.43? 0.619924664? 6.5410410
>??? layer.44? 0.639932007? 4.8068650
>??? layer.45? 0.661347181? 8.1510170
>??? layer.46? 0.684117317? 0.2697413
>??? layer.47? 0.704829752 -0.1807501
>??? layer.48? 0.725045770? 9.7181249
>??? layer.49? 0.745165825? 1.5406466
>??? layer.50? 0.765016139 -1.6476041
>??? layer.51? 0.783461511? 4.8024603
>??? layer.52? 0.806382924? 4.0421516
>??? layer.53? 0.829241335? 9.3756512
>??? layer.54? 0.849924415? 5.3305050
>??? layer.55? 0.871352434? 7.5445803
>??? layer.56? 0.893632233? 6.4679547
>??? layer.57? 0.916052133? 2.8096065
>??? layer.58? 0.938579470? 5.3921661
>??? layer.59? 0.959907651? 7.2043689
>??? layer.60? 0.981643587? 3.3350806
>??? layer.61? 1.004116774? 8.8690707
>??? layer.62? 1.028363466? 1.7861299
>??? layer.63? 1.054009140? 6.2555038
>??? layer.64? 1.072440803? 7.6079236
>??? layer.65? 1.094457805? 7.6871483
>??? layer.66? 1.123176277? 4.7787764
>??? layer.67? 1.149430871 12.7110502
>??? layer.68? 1.170912921 -0.7156284
>??? layer.69? 1.196743071? 1.6490899
>??? layer.70? 1.218625903? 3.0363024
>??? layer.71? 1.241868377? 4.2974769
>??? layer.72? 1.267941594? 1.9543778
>??? layer.73? 1.290708780? 3.9986964
>??? layer.74? 1.313222289? 4.5179472
>??? layer.75? 1.339045882? 0.9337905
>??? layer.76? 1.362803459? 3.3050770
>??? layer.77? 1.384450197? 3.5422970
>??? layer.78? 1.409720302? 5.9973660
>??? layer.79? 1.435851157? 0.5081869
>??? layer.80? 1.455592215? 7.9661630
>??? layer.81? 1.479495347? 9.9460496
>??? layer.82? 1.506051958? 3.7908372
>??? layer.83? 1.525728464? 2.5735847
>??? layer.84? 1.549362063 10.1404974
>??? layer.85? 1.573440671 13.7408304
>??? layer.86? 1.600278735? 0.9335771
>??? layer.87? 1.623879492? 9.7588742
>??? layer.88? 1.650029302? 1.2769395
>??? layer.89? 1.672362328 13.4970906
>??? layer.90? 1.700221121 10.2087502
>??? layer.91? 1.724793375? 1.6811275
>??? layer.92? 1.751070559? 6.1178992
>??? layer.93? 1.778022110 -0.1567626
>??? layer.94? 1.803022087? 3.8237479
>??? layer.95? 1.830668867? 4.4331468
>??? layer.96? 1.855736911? 5.9790707
>??? layer.97? 1.882615030 11.3104333
>??? layer.98? 1.909218490? 8.2142607
>??? layer.99? 1.938130021 15.3209674
>??? layer.100 1.963727593? 5.8178217
>??? layer.101 1.993271947? 9.6004907
>??? layer.102 2.022548139? 3.4063646
>??? layer.103 2.050679922? 4.7375010
>??? layer.104 2.078064442? 3.0133019
>??? layer.105 2.104113460? 5.5659522
>??? layer.106 2.133597612 12.0346333
>??? layer.107 2.164026260 -0.4028320
>??? layer.108 2.194852829 10.5996780
>??? layer.109 2.224257946? 5.4479584
>??? layer.110 2.252194643? 4.7052374
>??? layer.111 2.277335048 14.0962019
>??? layer.112 2.304058313? 5.7149016
>??? layer.113 2.330930233? 3.7780072
>??? layer.114 2.357022762? 4.4120620
>??? layer.115 2.386489272? 4.1866085
>??? layer.116 2.417503953? 6.9078802
>??? layer.117 2.448524356? 2.7825739
>??? layer.118 2.478698969? 7.6171786
>??? layer.119 2.510175705 10.2410603
>??? layer.120 2.539697886? 8.1820711
>??? layer.121 2.567915559? 4.8275494
>??? layer.122 2.597463250 19.1624883
>??? layer.123 2.627518773 16.0677109
>??? layer.124 2.658759236 12.5897081
>??? layer.125 2.692401528? 9.2907988
>??? layer.126 2.721903205? 7.4262502
>??? layer.127 2.753021359? 9.3902518
>??? layer.128 2.786313415 12.6193550
>??? layer.129 2.819564104 11.1121040
>??? layer.130 2.850823164 15.7907100
>??? layer.131 2.880394101 10.7425287
>??? layer.132 2.911391258? 7.7971430
>??? layer.133 2.942965150? 8.8060858
>??? layer.134 2.974468350 17.5606266
>??? layer.135 3.008983612 17.3088605
>??? layer.136 3.040015221 13.4500543
>??? layer.137 3.072668672 14.6377884
>??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)???
>dput(onepctCO2MEDIAN)
>??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801, 
>??? 0.0220879195258021,
>0.0307973567396402,0.0384510718286037,0.0480879042297602, 
>??? 0.0586777292191982, 0.0692614056169987,
>0.080524530261755,0.0927602462470531, 
>??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>0.141710050404072, 
>??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>0.199463054537773, 
>??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>0.263012766838074, 
>??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>0.325990349054337, 
>??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>0.39499294757843, 
>??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>0.470167458057404, 
>??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>0.543750524520874, 
>??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>0.619924664497375, 
>??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>0.704829752445221, 
>??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>0.783461511135101, 
>??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>0.871352434158325, 
>??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>0.959907650947571, 
>??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>1.05400913953781, 
>??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>1.14943087100983, 
>??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>1.24186837673187, 
>??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>1.33904588222504, 
>??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>1.43585115671158, 
>??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>1.52572846412659, 
>??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>1.62387949228287, 
>??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>1.72479337453842, 
>??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>1.83066886663437, 
>??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>1.93813002109528, 
>??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>2.05067992210388, 
>??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>2.16402626037598, 
>??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>2.27733504772186, 
>??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>2.38648927211761, 
>??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>2.51017570495605, 
>??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>2.62751877307892, 
>??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>2.75302135944366, 
>??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>2.88039410114288, 
>??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>3.00898361206055, 
>??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0, 
>??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>-1.24295055804536, 
>??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>-2.36770012911069, 
>??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>-2.41382533818026, 
>??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>-1.53496826259972, 
>??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>0.136596820654013, 
>??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>0.793803634291308, 
>??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>-1.41715777257774, 
>??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>-0.737609879885404, 
>??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>-0.978538630093809, 
>??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>3.91689160157513, 
>??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>8.15101701282067, 
>??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>1.54064657400204, 
>??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>9.37565121768513, 
>??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>2.80960651433971, 
>??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>8.86907069895943, 
>??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>7.68714830528144, 
>??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>1.64908991824022, 
>??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>3.99869636910933, 
>??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>3.5422970157433, 
>??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>9.94604963036295, 
>??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>13.7408303595752, 
>??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>13.4970905965787, 
>??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>-0.156762622680077, 
>??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>11.3104332518482, 
>??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>9.6004907412354, 
>??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>5.56595224859066, 
>??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>5.44795836991128, 
>??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>3.77800720810782, 
>??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>2.78257393345915, 
>??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>4.82754943871433, 
>??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>9.29079879799404, 
>??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>11.1121039747257, 
>??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>8.80608578166101, 
>??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>14.6377884248645, 
>??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1", 
>??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7", 
>??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>"layer.13", 
>??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>"layer.19", 
>??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>"layer.25", 
>??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>"layer.31", 
>??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>"layer.37", 
>??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>"layer.43", 
>??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>"layer.49", 
>??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>"layer.55", 
>??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>"layer.61", 
>??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>"layer.67", 
>??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>"layer.73", 
>??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>"layer.79", 
>??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>"layer.85", 
>??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>"layer.91", 
>??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>"layer.97", 
>??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102", 
>??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107", 
>??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112", 
>??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117", 
>??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122", 
>??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127", 
>??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132", 
>??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137", 
>??? "layer.138"))
>I started with the following to generate the first regression line and
>scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +? 
>??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),?? 
>??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>
>??? departurea), method=lm) 
>But I receive this error:? ??Warning message:
>??? Computation failed in `stat_smooth()`:
>??? 'what' must be a function or character string
>A blue scatter plot is successfully generated, but the problem is that
>the regression line does not appear, presumably related to the above
>warning.
>Is there a reason for this? I would appreciate any assistance!
>??? [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jun  5 17:15:01 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 5 Jun 2019 16:15:01 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
Message-ID: <67a55933-aeef-651c-a727-6a654baf3574@sapo.pt>

Hello,

And please don't cross post. You have asked both

r-help at r-project.org and
r-sig-geo at r-project.org

when you should have asked just one of them.

This is a question for r-help at r-project.org

Rui Barradas

?s 15:52 de 05/06/19, Rui Barradas escreveu:
> Hello,
> 
> This is pretty basic ggplot.
> 
> 
> lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>  ? geom_point(colour = 'blue') +
>  ? geom_smooth(method = 'lm')
> 
> lm1
> 
> 
> If you want to combine several datasets, you will have to have a 
> variable telling which dataset is which. In the example below, this is 
> column 'id'.
> 
> 
> onepctCO2MEDIAN2 <- onepctCO2MEDIAN
> onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
> onepctCO2MEDIAN$id <- 1
> onepctCO2MEDIAN2$id <- 2
> df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
> 
> ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>  ? geom_point() +
>  ? geom_smooth(method = 'lm')
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>> I am trying to plot, using ggplot, a series of scatter plots with 
>> regression lines for several datasets. I started with the following 
>> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>> ???? onepctCO2MEDIAN
>> ???????????????????? x????????? y
>> ???? layer.1?? 0.000000000? 0.0000000
>> ???? layer.2?? 0.006794447? 4.9002490
>> ???? layer.3?? 0.014288058? 0.1608000
>> ???? layer.4?? 0.022087920? 6.6349133
>> ???? layer.5?? 0.030797357 -1.2429506
>> ???? layer.6?? 0.038451072? 1.5643374
>> ???? layer.7?? 0.048087904 -2.2659035
>> ???? layer.8?? 0.058677729? 2.2070045
>> ???? layer.9?? 0.069261406 -2.3677001
>> ???? layer.10? 0.080524530 -1.0913506
>> ???? layer.11? 0.092760246? 0.4099940
>> ???? layer.12? 0.103789609 -0.1259727
>> ???? layer.13? 0.116953168 -2.4138253
>> ???? layer.14? 0.129253298? 7.0890257
>> ???? layer.15? 0.141710050 -0.7593539
>> ???? layer.16? 0.156002052? 0.0454416
>> ???? layer.17? 0.170648172 -1.5349683
>> ???? layer.18? 0.185318425? 6.5524201
>> ???? layer.19? 0.199463055 -0.8312563
>> ???? layer.20? 0.213513337 -2.5099183
>> ???? layer.21? 0.228839271? 0.1365968
>> ???? layer.22? 0.246981293 -1.3719845
>> ???? layer.23? 0.263012767 -0.8712988
>> ???? layer.24? 0.278505564? 0.6632584
>> ???? layer.25? 0.293658361? 0.7938036
>> ???? layer.26? 0.310747266? 3.4880637
>> ???? layer.27? 0.325990349 -4.4612208
>> ???? layer.28? 0.342517540? 0.0871734
>> ???? layer.29? 0.362751633 -1.4171578
>> ???? layer.30? 0.380199537 -0.9956508
>> ???? layer.31? 0.394992948? 0.3215526
>> ???? layer.32? 0.414373398? 3.1403866
>> ???? layer.33? 0.430690214 -0.7376099
>> ???? layer.34? 0.449738145 -2.4860541
>> ???? layer.35? 0.470167458 -3.4235858
>> ???? layer.36? 0.489019871? 0.4824748
>> ???? layer.37? 0.507242471 -0.9785386
>> ???? layer.38? 0.524314284? 8.5359684
>> ???? layer.39? 0.543750525? 5.4844742
>> ???? layer.40? 0.564234197? 3.2149367
>> ???? layer.41? 0.583679616? 3.9168916
>> ???? layer.42? 0.601459444? 4.4907020
>> ???? layer.43? 0.619924664? 6.5410410
>> ???? layer.44? 0.639932007? 4.8068650
>> ???? layer.45? 0.661347181? 8.1510170
>> ???? layer.46? 0.684117317? 0.2697413
>> ???? layer.47? 0.704829752 -0.1807501
>> ???? layer.48? 0.725045770? 9.7181249
>> ???? layer.49? 0.745165825? 1.5406466
>> ???? layer.50? 0.765016139 -1.6476041
>> ???? layer.51? 0.783461511? 4.8024603
>> ???? layer.52? 0.806382924? 4.0421516
>> ???? layer.53? 0.829241335? 9.3756512
>> ???? layer.54? 0.849924415? 5.3305050
>> ???? layer.55? 0.871352434? 7.5445803
>> ???? layer.56? 0.893632233? 6.4679547
>> ???? layer.57? 0.916052133? 2.8096065
>> ???? layer.58? 0.938579470? 5.3921661
>> ???? layer.59? 0.959907651? 7.2043689
>> ???? layer.60? 0.981643587? 3.3350806
>> ???? layer.61? 1.004116774? 8.8690707
>> ???? layer.62? 1.028363466? 1.7861299
>> ???? layer.63? 1.054009140? 6.2555038
>> ???? layer.64? 1.072440803? 7.6079236
>> ???? layer.65? 1.094457805? 7.6871483
>> ???? layer.66? 1.123176277? 4.7787764
>> ???? layer.67? 1.149430871 12.7110502
>> ???? layer.68? 1.170912921 -0.7156284
>> ???? layer.69? 1.196743071? 1.6490899
>> ???? layer.70? 1.218625903? 3.0363024
>> ???? layer.71? 1.241868377? 4.2974769
>> ???? layer.72? 1.267941594? 1.9543778
>> ???? layer.73? 1.290708780? 3.9986964
>> ???? layer.74? 1.313222289? 4.5179472
>> ???? layer.75? 1.339045882? 0.9337905
>> ???? layer.76? 1.362803459? 3.3050770
>> ???? layer.77? 1.384450197? 3.5422970
>> ???? layer.78? 1.409720302? 5.9973660
>> ???? layer.79? 1.435851157? 0.5081869
>> ???? layer.80? 1.455592215? 7.9661630
>> ???? layer.81? 1.479495347? 9.9460496
>> ???? layer.82? 1.506051958? 3.7908372
>> ???? layer.83? 1.525728464? 2.5735847
>> ???? layer.84? 1.549362063 10.1404974
>> ???? layer.85? 1.573440671 13.7408304
>> ???? layer.86? 1.600278735? 0.9335771
>> ???? layer.87? 1.623879492? 9.7588742
>> ???? layer.88? 1.650029302? 1.2769395
>> ???? layer.89? 1.672362328 13.4970906
>> ???? layer.90? 1.700221121 10.2087502
>> ???? layer.91? 1.724793375? 1.6811275
>> ???? layer.92? 1.751070559? 6.1178992
>> ???? layer.93? 1.778022110 -0.1567626
>> ???? layer.94? 1.803022087? 3.8237479
>> ???? layer.95? 1.830668867? 4.4331468
>> ???? layer.96? 1.855736911? 5.9790707
>> ???? layer.97? 1.882615030 11.3104333
>> ???? layer.98? 1.909218490? 8.2142607
>> ???? layer.99? 1.938130021 15.3209674
>> ???? layer.100 1.963727593? 5.8178217
>> ???? layer.101 1.993271947? 9.6004907
>> ???? layer.102 2.022548139? 3.4063646
>> ???? layer.103 2.050679922? 4.7375010
>> ???? layer.104 2.078064442? 3.0133019
>> ???? layer.105 2.104113460? 5.5659522
>> ???? layer.106 2.133597612 12.0346333
>> ???? layer.107 2.164026260 -0.4028320
>> ???? layer.108 2.194852829 10.5996780
>> ???? layer.109 2.224257946? 5.4479584
>> ???? layer.110 2.252194643? 4.7052374
>> ???? layer.111 2.277335048 14.0962019
>> ???? layer.112 2.304058313? 5.7149016
>> ???? layer.113 2.330930233? 3.7780072
>> ???? layer.114 2.357022762? 4.4120620
>> ???? layer.115 2.386489272? 4.1866085
>> ???? layer.116 2.417503953? 6.9078802
>> ???? layer.117 2.448524356? 2.7825739
>> ???? layer.118 2.478698969? 7.6171786
>> ???? layer.119 2.510175705 10.2410603
>> ???? layer.120 2.539697886? 8.1820711
>> ???? layer.121 2.567915559? 4.8275494
>> ???? layer.122 2.597463250 19.1624883
>> ???? layer.123 2.627518773 16.0677109
>> ???? layer.124 2.658759236 12.5897081
>> ???? layer.125 2.692401528? 9.2907988
>> ???? layer.126 2.721903205? 7.4262502
>> ???? layer.127 2.753021359? 9.3902518
>> ???? layer.128 2.786313415 12.6193550
>> ???? layer.129 2.819564104 11.1121040
>> ???? layer.130 2.850823164 15.7907100
>> ???? layer.131 2.880394101 10.7425287
>> ???? layer.132 2.911391258? 7.7971430
>> ???? layer.133 2.942965150? 8.8060858
>> ???? layer.134 2.974468350 17.5606266
>> ???? layer.135 3.008983612 17.3088605
>> ???? layer.136 3.040015221 13.4500543
>> ???? layer.137 3.072668672 14.6377884
>> ???? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)    
>> dput(onepctCO2MEDIAN)
>> ???? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>> ???? 0.0220879195258021, 
>> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>> ???? 0.0586777292191982, 0.0692614056169987, 
>> 0.080524530261755,0.0927602462470531,
>> ???? 0.103789608925581, 0.116953168064356, 0.129253298044205, 
>> 0.141710050404072,
>> ???? 0.156002052128315, 0.170648172497749, 0.185318425297737, 
>> 0.199463054537773,
>> ???? 0.21351333707571, 0.22883927077055, 0.246981292963028, 
>> 0.263012766838074,
>> ???? 0.278505563735962, 0.29365836083889, 0.310747265815735, 
>> 0.325990349054337,
>> ???? 0.342517539858818, 0.362751632928848, 0.380199536681175, 
>> 0.39499294757843,
>> ???? 0.414373397827148, 0.430690214037895, 0.449738144874573, 
>> 0.470167458057404,
>> ???? 0.489019870758057, 0.507242470979691, 0.524314284324646, 
>> 0.543750524520874,
>> ???? 0.56423419713974, 0.583679616451263, 0.601459443569183, 
>> 0.619924664497375,
>> ???? 0.639932006597519, 0.661347180604935, 0.684117317199707, 
>> 0.704829752445221,
>> ???? 0.725045770406723, 0.745165824890137, 0.765016138553619, 
>> 0.783461511135101,
>> ???? 0.806382924318314, 0.829241335391998, 0.84992441534996, 
>> 0.871352434158325,
>> ???? 0.893632233142853, 0.916052132844925, 0.938579469919205, 
>> 0.959907650947571,
>> ???? 0.981643587350845, 1.00411677360535, 1.02836346626282, 
>> 1.05400913953781,
>> ???? 1.07244080305099, 1.09445780515671, 1.12317627668381, 
>> 1.14943087100983,
>> ???? 1.17091292142868, 1.19674307107925, 1.21862590312958, 
>> 1.24186837673187,
>> ???? 1.26794159412384, 1.2907087802887, 1.31322228908539, 
>> 1.33904588222504,
>> ???? 1.36280345916748, 1.38445019721985, 1.40972030162811, 
>> 1.43585115671158,
>> ???? 1.45559221506119, 1.47949534654617, 1.50605195760727, 
>> 1.52572846412659,
>> ???? 1.5493620634079, 1.5734406709671, 1.60027873516083, 
>> 1.62387949228287,
>> ???? 1.65002930164337, 1.67236232757568, 1.70022112131119, 
>> 1.72479337453842,
>> ???? 1.75107055902481, 1.77802211046219, 1.80302208662033, 
>> 1.83066886663437,
>> ???? 1.85573691129684, 1.88261502981186, 1.90921849012375, 
>> 1.93813002109528,
>> ???? 1.96372759342194, 1.99327194690704, 2.02254813909531, 
>> 2.05067992210388,
>> ???? 2.07806444168091, 2.1041134595871, 2.13359761238098, 
>> 2.16402626037598,
>> ???? 2.19485282897949, 2.2242579460144, 2.25219464302063, 
>> 2.27733504772186,
>> ???? 2.30405831336975, 2.33093023300171, 2.35702276229858, 
>> 2.38648927211761,
>> ???? 2.41750395298004, 2.44852435588837, 2.47869896888733, 
>> 2.51017570495605,
>> ???? 2.53969788551331, 2.567915558815, 2.59746325016022, 
>> 2.62751877307892,
>> ???? 2.65875923633575, 2.69240152835846, 2.72190320491791, 
>> 2.75302135944366,
>> ???? 2.78631341457367, 2.8195641040802, 2.85082316398621, 
>> 2.88039410114288,
>> ???? 2.91139125823975, 2.94296514987946, 2.97446835041046, 
>> 3.00898361206055,
>> ???? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>> ???? 4.90024901723162, 0.160799993152722, 6.63491326258641, 
>> -1.24295055804536,
>> ???? 1.56433744259162, -2.26590352245208, 2.20700446463354, 
>> -2.36770012911069,
>> ???? -1.09135061899174, 0.409993989292701, -0.125972681525582, 
>> -2.41382533818026,
>> ???? 7.08902570153028, -0.759353880417294, 0.0454415959640926, 
>> -1.53496826259972,
>> ???? 6.55242014096194, -0.831256280861552, -2.50991825629084, 
>> 0.136596820654013,
>> ???? -1.37198445498419, -0.871298832596736, 0.663258363762466, 
>> 0.793803634291308,
>> ???? 3.48806373666998, -4.46122081238949, 0.0871733966938564, 
>> -1.41715777257774,
>> ???? -0.995650815648318, 0.32155262317503, 3.14038657369241, 
>> -0.737609879885404,
>> ???? -2.48605406511292, -3.423585843908, 0.482474753780281, 
>> -0.978538630093809,
>> ???? 8.53596837794201, 5.48447420320695, 3.21493665820644, 
>> 3.91689160157513,
>> ???? 4.49070195980797, 6.54104103157039, 4.80686500146557, 
>> 8.15101701282067,
>> ???? 0.26974132191657, -0.180750068063062, 9.71812491230244, 
>> 1.54064657400204,
>> ???? -1.64760408795688, 4.80246028991894, 4.04215159914344, 
>> 9.37565121768513,
>> ???? 5.33050496938428, 7.54458026088508, 6.46795470819342, 
>> 2.80960651433971,
>> ???? 5.39216613235986, 7.20436888038562, 3.3350806460997, 
>> 8.86907069895943,
>> ???? 1.78612988613659, 6.25550382050395, 7.60792364896564, 
>> 7.68714830528144,
>> ???? 4.77877638957615, 12.7110501777314, -0.715628443181046, 
>> 1.64908991824022,
>> ???? 3.03630240714679, 4.29747688442346, 1.95437780501881, 
>> 3.99869636910933,
>> ???? 4.51794724689848, 0.933790484492299, 3.30507700050003, 
>> 3.5422970157433,
>> ???? 5.99736597322524, 0.508186860060022, 7.96616300581067, 
>> 9.94604963036295,
>> ???? 3.79083717222623, 2.57358468532258, 10.1404974171776, 
>> 13.7408303595752,
>> ???? 0.933577123801399, 9.75887417074129, 1.27693947132921, 
>> 13.4970905965787,
>> ???? 10.2087501765735, 1.68112753028756, 6.1178991508927, 
>> -0.156762622680077,
>> ???? 3.82374791691426, 4.43314678736265, 5.97907067167507, 
>> 11.3104332518482,
>> ???? 8.21426074201525, 15.320967360602, 5.81782169471483, 
>> 9.6004907412354,
>> ???? 3.40636455909704, 4.73750103921864, 3.0133019468806, 
>> 5.56595224859066,
>> ???? 12.0346332527215, -0.40283199827104, 10.5996779538754, 
>> 5.44795836991128,
>> ???? 4.70523736412729, 14.096201892183, 5.71490161813391, 
>> 3.77800720810782,
>> ???? 4.41206200639436, 4.18660847858423, 6.90788020044911, 
>> 2.78257393345915,
>> ???? 7.61717857379431, 10.2410602647684, 8.18207106836167, 
>> 4.82754943871433,
>> ???? 19.1624882857155, 16.0677109398509, 12.589708067017, 
>> 9.29079879799404,
>> ???? 7.42625019725314, 9.39025179806185, 12.6193550331438, 
>> 11.1121039747257,
>> ???? 15.7907099734986, 10.7425286789233, 7.79714300307344, 
>> 8.80608578166101,
>> ???? 17.5606266346039, 17.3088604929222, 13.4500543478523, 
>> 14.6377884248645,
>> ???? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>> ???? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>> ???? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", 
>> "layer.13",
>> ???? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", 
>> "layer.19",
>> ???? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", 
>> "layer.25",
>> ???? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", 
>> "layer.31",
>> ???? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", 
>> "layer.37",
>> ???? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", 
>> "layer.43",
>> ???? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", 
>> "layer.49",
>> ???? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", 
>> "layer.55",
>> ???? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", 
>> "layer.61",
>> ???? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", 
>> "layer.67",
>> ???? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", 
>> "layer.73",
>> ???? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", 
>> "layer.79",
>> ???? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", 
>> "layer.85",
>> ???? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", 
>> "layer.91",
>> ???? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", 
>> "layer.97",
>> ???? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>> ???? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>> ???? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>> ???? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>> ???? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>> ???? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>> ???? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>> ???? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>> ???? "layer.138"))
>> I started with the following to generate the first regression line and 
>> scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>> ???? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>> ???? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>> ???? departurea), method=lm)
>> But I receive this error:? ??Warning message:
>> ???? Computation failed in `stat_smooth()`:
>> ???? 'what' must be a function or character string
>> A blue scatter plot is successfully generated, but the problem is that 
>> the regression line does not appear, presumably related to the above 
>> warning.
>> Is there a reason for this? I would appreciate any assistance!
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed Jun  5 17:56:02 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 5 Jun 2019 08:56:02 -0700
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <448346170.409006.1559747083753@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
 <448346170.409006.1559747083753@mail.yahoo.com>
Message-ID: <0f2dd00c-0649-81b8-94b8-4ec140e32d60@comcast.net>


On 6/5/19 8:04 AM, rain1290--- via R-help wrote:
> Hi Jeff (and everyone),
>
> Thank you for your response and feedback. Yes, I know what you mean - it was a blind and quick choice to use "lm" as my object name. Unfortunately, changing the object name to something else does not eliminate that error/warning message. As a result, the same error/warning appears when running it. Oddly enough, the scatter plot is just fine - it's the regression line that struggles to appear. Could there be another reason for that?
> Thanks, again,


TRhe error came because you did not reference the column names 
correctly. This succeeds with the data you offered:


ggplot(onepctCO2MEDIAN) +
 ???? geom_jitter(aes(x,y),
 ???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)


# At some point you changed the column names from 
(RCP1pctCO2cumulativeMedian, departurea) to (x,y) , but didn't adjust 
your code.


Best;

David.

>
> -----Original Message-----
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> To: rain1290 <rain1290 at aim.com>; rain1290--- via R-help <r-help at r-project.org>; r-help <r-help at R-project.org>; r-sig-geo <r-sig-geo at r-project.org>
> Sent: Wed, Jun 5, 2019 10:49 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Please read the Posting Guide... posting HTML on a plain text mailing list really interferes with clear communication.
>
> If you had spent even a small amount of time working with R tutorials then you would know that "lm" is the name of a very basic, very important R function. However, you are defining your own object called "lm" that is very different indeed than the usual "lm" function. I would guess that in a clean new R workspace where you had not already run your ggplot function and assigned the result to your own "lm" object then this code might run. However, once you have run it once and try to run it again, your "method" argument gives the wrong version of "lm" to geom_smooth and you confuse it.
>
> As the doctor said to the man pounding his own head against the wall, "If it hurts, don't do that." Avoid re-using important object names in R... some common names I see abused this way are df, data, c, t, T, and F. Your choice was unusual, but quite effective at illustrating the problem.
>
> On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help <r-help at r-project.org> wrote:
>> I am trying to plot, using ggplot, a series of scatter plots with
>> regression lines for several datasets. I started with the following
>> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>>  ??? onepctCO2MEDIAN
>>  ??????????????????? x????????? y
>>  ??? layer.1?? 0.000000000? 0.0000000
>>  ??? layer.2?? 0.006794447? 4.9002490
>>  ??? layer.3?? 0.014288058? 0.1608000
>>  ??? layer.4?? 0.022087920? 6.6349133
>>  ??? layer.5?? 0.030797357 -1.2429506
>>  ??? layer.6?? 0.038451072? 1.5643374
>>  ??? layer.7?? 0.048087904 -2.2659035
>>  ??? layer.8?? 0.058677729? 2.2070045
>>  ??? layer.9?? 0.069261406 -2.3677001
>>  ??? layer.10? 0.080524530 -1.0913506
>>  ??? layer.11? 0.092760246? 0.4099940
>>  ??? layer.12? 0.103789609 -0.1259727
>>  ??? layer.13? 0.116953168 -2.4138253
>>  ??? layer.14? 0.129253298? 7.0890257
>>  ??? layer.15? 0.141710050 -0.7593539
>>  ??? layer.16? 0.156002052? 0.0454416
>>  ??? layer.17? 0.170648172 -1.5349683
>>  ??? layer.18? 0.185318425? 6.5524201
>>  ??? layer.19? 0.199463055 -0.8312563
>>  ??? layer.20? 0.213513337 -2.5099183
>>  ??? layer.21? 0.228839271? 0.1365968
>>  ??? layer.22? 0.246981293 -1.3719845
>>  ??? layer.23? 0.263012767 -0.8712988
>>  ??? layer.24? 0.278505564? 0.6632584
>>  ??? layer.25? 0.293658361? 0.7938036
>>  ??? layer.26? 0.310747266? 3.4880637
>>  ??? layer.27? 0.325990349 -4.4612208
>>  ??? layer.28? 0.342517540? 0.0871734
>>  ??? layer.29? 0.362751633 -1.4171578
>>  ??? layer.30? 0.380199537 -0.9956508
>>  ??? layer.31? 0.394992948? 0.3215526
>>  ??? layer.32? 0.414373398? 3.1403866
>>  ??? layer.33? 0.430690214 -0.7376099
>>  ??? layer.34? 0.449738145 -2.4860541
>>  ??? layer.35? 0.470167458 -3.4235858
>>  ??? layer.36? 0.489019871? 0.4824748
>>  ??? layer.37? 0.507242471 -0.9785386
>>  ??? layer.38? 0.524314284? 8.5359684
>>  ??? layer.39? 0.543750525? 5.4844742
>>  ??? layer.40? 0.564234197? 3.2149367
>>  ??? layer.41? 0.583679616? 3.9168916
>>  ??? layer.42? 0.601459444? 4.4907020
>>  ??? layer.43? 0.619924664? 6.5410410
>>  ??? layer.44? 0.639932007? 4.8068650
>>  ??? layer.45? 0.661347181? 8.1510170
>>  ??? layer.46? 0.684117317? 0.2697413
>>  ??? layer.47? 0.704829752 -0.1807501
>>  ??? layer.48? 0.725045770? 9.7181249
>>  ??? layer.49? 0.745165825? 1.5406466
>>  ??? layer.50? 0.765016139 -1.6476041
>>  ??? layer.51? 0.783461511? 4.8024603
>>  ??? layer.52? 0.806382924? 4.0421516
>>  ??? layer.53? 0.829241335? 9.3756512
>>  ??? layer.54? 0.849924415? 5.3305050
>>  ??? layer.55? 0.871352434? 7.5445803
>>  ??? layer.56? 0.893632233? 6.4679547
>>  ??? layer.57? 0.916052133? 2.8096065
>>  ??? layer.58? 0.938579470? 5.3921661
>>  ??? layer.59? 0.959907651? 7.2043689
>>  ??? layer.60? 0.981643587? 3.3350806
>>  ??? layer.61? 1.004116774? 8.8690707
>>  ??? layer.62? 1.028363466? 1.7861299
>>  ??? layer.63? 1.054009140? 6.2555038
>>  ??? layer.64? 1.072440803? 7.6079236
>>  ??? layer.65? 1.094457805? 7.6871483
>>  ??? layer.66? 1.123176277? 4.7787764
>>  ??? layer.67? 1.149430871 12.7110502
>>  ??? layer.68? 1.170912921 -0.7156284
>>  ??? layer.69? 1.196743071? 1.6490899
>>  ??? layer.70? 1.218625903? 3.0363024
>>  ??? layer.71? 1.241868377? 4.2974769
>>  ??? layer.72? 1.267941594? 1.9543778
>>  ??? layer.73? 1.290708780? 3.9986964
>>  ??? layer.74? 1.313222289? 4.5179472
>>  ??? layer.75? 1.339045882? 0.9337905
>>  ??? layer.76? 1.362803459? 3.3050770
>>  ??? layer.77? 1.384450197? 3.5422970
>>  ??? layer.78? 1.409720302? 5.9973660
>>  ??? layer.79? 1.435851157? 0.5081869
>>  ??? layer.80? 1.455592215? 7.9661630
>>  ??? layer.81? 1.479495347? 9.9460496
>>  ??? layer.82? 1.506051958? 3.7908372
>>  ??? layer.83? 1.525728464? 2.5735847
>>  ??? layer.84? 1.549362063 10.1404974
>>  ??? layer.85? 1.573440671 13.7408304
>>  ??? layer.86? 1.600278735? 0.9335771
>>  ??? layer.87? 1.623879492? 9.7588742
>>  ??? layer.88? 1.650029302? 1.2769395
>>  ??? layer.89? 1.672362328 13.4970906
>>  ??? layer.90? 1.700221121 10.2087502
>>  ??? layer.91? 1.724793375? 1.6811275
>>  ??? layer.92? 1.751070559? 6.1178992
>>  ??? layer.93? 1.778022110 -0.1567626
>>  ??? layer.94? 1.803022087? 3.8237479
>>  ??? layer.95? 1.830668867? 4.4331468
>>  ??? layer.96? 1.855736911? 5.9790707
>>  ??? layer.97? 1.882615030 11.3104333
>>  ??? layer.98? 1.909218490? 8.2142607
>>  ??? layer.99? 1.938130021 15.3209674
>>  ??? layer.100 1.963727593? 5.8178217
>>  ??? layer.101 1.993271947? 9.6004907
>>  ??? layer.102 2.022548139? 3.4063646
>>  ??? layer.103 2.050679922? 4.7375010
>>  ??? layer.104 2.078064442? 3.0133019
>>  ??? layer.105 2.104113460? 5.5659522
>>  ??? layer.106 2.133597612 12.0346333
>>  ??? layer.107 2.164026260 -0.4028320
>>  ??? layer.108 2.194852829 10.5996780
>>  ??? layer.109 2.224257946? 5.4479584
>>  ??? layer.110 2.252194643? 4.7052374
>>  ??? layer.111 2.277335048 14.0962019
>>  ??? layer.112 2.304058313? 5.7149016
>>  ??? layer.113 2.330930233? 3.7780072
>>  ??? layer.114 2.357022762? 4.4120620
>>  ??? layer.115 2.386489272? 4.1866085
>>  ??? layer.116 2.417503953? 6.9078802
>>  ??? layer.117 2.448524356? 2.7825739
>>  ??? layer.118 2.478698969? 7.6171786
>>  ??? layer.119 2.510175705 10.2410603
>>  ??? layer.120 2.539697886? 8.1820711
>>  ??? layer.121 2.567915559? 4.8275494
>>  ??? layer.122 2.597463250 19.1624883
>>  ??? layer.123 2.627518773 16.0677109
>>  ??? layer.124 2.658759236 12.5897081
>>  ??? layer.125 2.692401528? 9.2907988
>>  ??? layer.126 2.721903205? 7.4262502
>>  ??? layer.127 2.753021359? 9.3902518
>>  ??? layer.128 2.786313415 12.6193550
>>  ??? layer.129 2.819564104 11.1121040
>>  ??? layer.130 2.850823164 15.7907100
>>  ??? layer.131 2.880394101 10.7425287
>>  ??? layer.132 2.911391258? 7.7971430
>>  ??? layer.133 2.942965150? 8.8060858
>>  ??? layer.134 2.974468350 17.5606266
>>  ??? layer.135 3.008983612 17.3088605
>>  ??? layer.136 3.040015221 13.4500543
>>  ??? layer.137 3.072668672 14.6377884
>>  ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>> dput(onepctCO2MEDIAN)
>>  ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>>  ??? 0.0220879195258021,
>> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>>  ??? 0.0586777292191982, 0.0692614056169987,
>> 0.080524530261755,0.0927602462470531,
>>  ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>> 0.141710050404072,
>>  ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>> 0.199463054537773,
>>  ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>> 0.263012766838074,
>>  ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>> 0.325990349054337,
>>  ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>> 0.39499294757843,
>>  ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>> 0.470167458057404,
>>  ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>> 0.543750524520874,
>>  ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>> 0.619924664497375,
>>  ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>> 0.704829752445221,
>>  ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>> 0.783461511135101,
>>  ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>> 0.871352434158325,
>>  ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>> 0.959907650947571,
>>  ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>> 1.05400913953781,
>>  ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>> 1.14943087100983,
>>  ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>> 1.24186837673187,
>>  ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>> 1.33904588222504,
>>  ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>> 1.43585115671158,
>>  ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>> 1.52572846412659,
>>  ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>> 1.62387949228287,
>>  ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>> 1.72479337453842,
>>  ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>> 1.83066886663437,
>>  ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>> 1.93813002109528,
>>  ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>> 2.05067992210388,
>>  ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>> 2.16402626037598,
>>  ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>> 2.27733504772186,
>>  ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>> 2.38648927211761,
>>  ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>> 2.51017570495605,
>>  ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>> 2.62751877307892,
>>  ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>> 2.75302135944366,
>>  ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>> 2.88039410114288,
>>  ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>> 3.00898361206055,
>>  ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>>  ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>> -1.24295055804536,
>>  ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>> -2.36770012911069,
>>  ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>> -2.41382533818026,
>>  ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>> -1.53496826259972,
>>  ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>> 0.136596820654013,
>>  ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>> 0.793803634291308,
>>  ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>> -1.41715777257774,
>>  ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>> -0.737609879885404,
>>  ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>> -0.978538630093809,
>>  ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>> 3.91689160157513,
>>  ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>> 8.15101701282067,
>>  ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>> 1.54064657400204,
>>  ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>> 9.37565121768513,
>>  ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>> 2.80960651433971,
>>  ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>> 8.86907069895943,
>>  ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>> 7.68714830528144,
>>  ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>> 1.64908991824022,
>>  ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>> 3.99869636910933,
>>  ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>> 3.5422970157433,
>>  ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>> 9.94604963036295,
>>  ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>> 13.7408303595752,
>>  ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>> 13.4970905965787,
>>  ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>> -0.156762622680077,
>>  ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>> 11.3104332518482,
>>  ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>> 9.6004907412354,
>>  ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>> 5.56595224859066,
>>  ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>> 5.44795836991128,
>>  ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>> 3.77800720810782,
>>  ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>> 2.78257393345915,
>>  ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>> 4.82754943871433,
>>  ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>> 9.29079879799404,
>>  ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>> 11.1121039747257,
>>  ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>> 8.80608578166101,
>>  ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>> 14.6377884248645,
>>  ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>>  ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>>  ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>> "layer.13",
>>  ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>> "layer.19",
>>  ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>> "layer.25",
>>  ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>> "layer.31",
>>  ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>> "layer.37",
>>  ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>> "layer.43",
>>  ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>> "layer.49",
>>  ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>> "layer.55",
>>  ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>> "layer.61",
>>  ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>> "layer.67",
>>  ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>> "layer.73",
>>  ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>> "layer.79",
>>  ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>> "layer.85",
>>  ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>> "layer.91",
>>  ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>> "layer.97",
>>  ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>>  ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>>  ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>>  ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>>  ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>>  ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>>  ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>>  ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>>  ??? "layer.138"))
>> I started with the following to generate the first regression line and
>> scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>>  ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>>  ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>>
>>  ??? departurea), method=lm)
>> But I receive this error:? ??Warning message:
>>  ??? Computation failed in `stat_smooth()`:
>>  ??? 'what' must be a function or character string
>> A blue scatter plot is successfully generated, but the problem is that
>> the regression line does not appear, presumably related to the above
>> warning.
>> Is there a reason for this? I would appreciate any assistance!
>>  ??? [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From @chw|dom @end|ng |rom gmx@net  Wed Jun  5 18:07:15 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Wed, 5 Jun 2019 18:07:15 +0200
Subject: [R] Open a file which name contains a tilde
Message-ID: <20190605160714.GA24635@debian64>

Hi,

As I can see via path.expand a filename which contains a tilde anywhere gets automatically crippled.

+> path.expand("a ~ b")
[1] "a /home/user b"

+> path.expand("a ~ b ~")
[1] "a /home/user b /home/user"

I want to open a file regardless whether its name contains any character unless 0.

The unix filesystem allow the creation of such files, it sould be possible to open these.

How can I switch off any file crippling activity?

Kind regards,
Frank


From r@i@1290 m@iii@g oii @im@com  Wed Jun  5 18:37:41 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Wed, 5 Jun 2019 16:37:41 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <0f2dd00c-0649-81b8-94b8-4ec140e32d60@comcast.net>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
 <448346170.409006.1559747083753@mail.yahoo.com>
 <0f2dd00c-0649-81b8-94b8-4ec140e32d60@comcast.net>
Message-ID: <2124898951.349693.1559752661094@mail.yahoo.com>

Hi David (and everyone),

Thank you for your response. I changed the column names to x and y, but the error/warning persists:
Warning message:
Computation failed in `stat_smooth()`:
'what' must be a function or character string 
It is quite baffling as to why this is happening. Why would it work for the scatter plot and not the regression line?

-----Original Message-----
From: David Winsemius <dwinsemius at comcast.net>
To: r-help <r-help at r-project.org>
Sent: Wed, Jun 5, 2019 12:00 pm
Subject: Re: [R] Plotting more than one regression line in ggplot


On 6/5/19 8:04 AM, rain1290--- via R-help wrote:
> Hi Jeff (and everyone),
>
> Thank you for your response and feedback. Yes, I know what you mean - it was a blind and quick choice to use "lm" as my object name. Unfortunately, changing the object name to something else does not eliminate that error/warning message. As a result, the same error/warning appears when running it. Oddly enough, the scatter plot is just fine - it's the regression line that struggles to appear. Could there be another reason for that?
> Thanks, again,


TRhe error came because you did not reference the column names 
correctly. This succeeds with the data you offered:


ggplot(onepctCO2MEDIAN) +
 ???? geom_jitter(aes(x,y),
 ???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)


# At some point you changed the column names from 
(RCP1pctCO2cumulativeMedian, departurea) to (x,y) , but didn't adjust 
your code.


Best;

David.

>
> -----Original Message-----
> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> To: rain1290 <rain1290 at aim.com>; rain1290--- via R-help <r-help at r-project.org>; r-help <r-help at R-project.org>; r-sig-geo <r-sig-geo at r-project.org>
> Sent: Wed, Jun 5, 2019 10:49 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Please read the Posting Guide... posting HTML on a plain text mailing list really interferes with clear communication.
>
> If you had spent even a small amount of time working with R tutorials then you would know that "lm" is the name of a very basic, very important R function. However, you are defining your own object called "lm" that is very different indeed than the usual "lm" function. I would guess that in a clean new R workspace where you had not already run your ggplot function and assigned the result to your own "lm" object then this code might run. However, once you have run it once and try to run it again, your "method" argument gives the wrong version of "lm" to geom_smooth and you confuse it.
>
> As the doctor said to the man pounding his own head against the wall, "If it hurts, don't do that." Avoid re-using important object names in R... some common names I see abused this way are df, data, c, t, T, and F. Your choice was unusual, but quite effective at illustrating the problem.
>
> On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help <r-help at r-project.org> wrote:
>> I am trying to plot, using ggplot, a series of scatter plots with
>> regression lines for several datasets. I started with the following
>> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>>? ??? onepctCO2MEDIAN
>>? ??????????????????? x????????? y
>>? ??? layer.1?? 0.000000000? 0.0000000
>>? ??? layer.2?? 0.006794447? 4.9002490
>>? ??? layer.3?? 0.014288058? 0.1608000
>>? ??? layer.4?? 0.022087920? 6.6349133
>>? ??? layer.5?? 0.030797357 -1.2429506
>>? ??? layer.6?? 0.038451072? 1.5643374
>>? ??? layer.7?? 0.048087904 -2.2659035
>>? ??? layer.8?? 0.058677729? 2.2070045
>>? ??? layer.9?? 0.069261406 -2.3677001
>>? ??? layer.10? 0.080524530 -1.0913506
>>? ??? layer.11? 0.092760246? 0.4099940
>>? ??? layer.12? 0.103789609 -0.1259727
>>? ??? layer.13? 0.116953168 -2.4138253
>>? ??? layer.14? 0.129253298? 7.0890257
>>? ??? layer.15? 0.141710050 -0.7593539
>>? ??? layer.16? 0.156002052? 0.0454416
>>? ??? layer.17? 0.170648172 -1.5349683
>>? ??? layer.18? 0.185318425? 6.5524201
>>? ??? layer.19? 0.199463055 -0.8312563
>>? ??? layer.20? 0.213513337 -2.5099183
>>? ??? layer.21? 0.228839271? 0.1365968
>>? ??? layer.22? 0.246981293 -1.3719845
>>? ??? layer.23? 0.263012767 -0.8712988
>>? ??? layer.24? 0.278505564? 0.6632584
>>? ??? layer.25? 0.293658361? 0.7938036
>>? ??? layer.26? 0.310747266? 3.4880637
>>? ??? layer.27? 0.325990349 -4.4612208
>>? ??? layer.28? 0.342517540? 0.0871734
>>? ??? layer.29? 0.362751633 -1.4171578
>>? ??? layer.30? 0.380199537 -0.9956508
>>? ??? layer.31? 0.394992948? 0.3215526
>>? ??? layer.32? 0.414373398? 3.1403866
>>? ??? layer.33? 0.430690214 -0.7376099
>>? ??? layer.34? 0.449738145 -2.4860541
>>? ??? layer.35? 0.470167458 -3.4235858
>>? ??? layer.36? 0.489019871? 0.4824748
>>? ??? layer.37? 0.507242471 -0.9785386
>>? ??? layer.38? 0.524314284? 8.5359684
>>? ??? layer.39? 0.543750525? 5.4844742
>>? ??? layer.40? 0.564234197? 3.2149367
>>? ??? layer.41? 0.583679616? 3.9168916
>>? ??? layer.42? 0.601459444? 4.4907020
>>? ??? layer.43? 0.619924664? 6.5410410
>>? ??? layer.44? 0.639932007? 4.8068650
>>? ??? layer.45? 0.661347181? 8.1510170
>>? ??? layer.46? 0.684117317? 0.2697413
>>? ??? layer.47? 0.704829752 -0.1807501
>>? ??? layer.48? 0.725045770? 9.7181249
>>? ??? layer.49? 0.745165825? 1.5406466
>>? ??? layer.50? 0.765016139 -1.6476041
>>? ??? layer.51? 0.783461511? 4.8024603
>>? ??? layer.52? 0.806382924? 4.0421516
>>? ??? layer.53? 0.829241335? 9.3756512
>>? ??? layer.54? 0.849924415? 5.3305050
>>? ??? layer.55? 0.871352434? 7.5445803
>>? ??? layer.56? 0.893632233? 6.4679547
>>? ??? layer.57? 0.916052133? 2.8096065
>>? ??? layer.58? 0.938579470? 5.3921661
>>? ??? layer.59? 0.959907651? 7.2043689
>>? ??? layer.60? 0.981643587? 3.3350806
>>? ??? layer.61? 1.004116774? 8.8690707
>>? ??? layer.62? 1.028363466? 1.7861299
>>? ??? layer.63? 1.054009140? 6.2555038
>>? ??? layer.64? 1.072440803? 7.6079236
>>? ??? layer.65? 1.094457805? 7.6871483
>>? ??? layer.66? 1.123176277? 4.7787764
>>? ??? layer.67? 1.149430871 12.7110502
>>? ??? layer.68? 1.170912921 -0.7156284
>>? ??? layer.69? 1.196743071? 1.6490899
>>? ??? layer.70? 1.218625903? 3.0363024
>>? ??? layer.71? 1.241868377? 4.2974769
>>? ??? layer.72? 1.267941594? 1.9543778
>>? ??? layer.73? 1.290708780? 3.9986964
>>? ??? layer.74? 1.313222289? 4.5179472
>>? ??? layer.75? 1.339045882? 0.9337905
>>? ??? layer.76? 1.362803459? 3.3050770
>>? ??? layer.77? 1.384450197? 3.5422970
>>? ??? layer.78? 1.409720302? 5.9973660
>>? ??? layer.79? 1.435851157? 0.5081869
>>? ??? layer.80? 1.455592215? 7.9661630
>>? ??? layer.81? 1.479495347? 9.9460496
>>? ??? layer.82? 1.506051958? 3.7908372
>>? ??? layer.83? 1.525728464? 2.5735847
>>? ??? layer.84? 1.549362063 10.1404974
>>? ??? layer.85? 1.573440671 13.7408304
>>? ??? layer.86? 1.600278735? 0.9335771
>>? ??? layer.87? 1.623879492? 9.7588742
>>? ??? layer.88? 1.650029302? 1.2769395
>>? ??? layer.89? 1.672362328 13.4970906
>>? ??? layer.90? 1.700221121 10.2087502
>>? ??? layer.91? 1.724793375? 1.6811275
>>? ??? layer.92? 1.751070559? 6.1178992
>>? ??? layer.93? 1.778022110 -0.1567626
>>? ??? layer.94? 1.803022087? 3.8237479
>>? ??? layer.95? 1.830668867? 4.4331468
>>? ??? layer.96? 1.855736911? 5.9790707
>>? ??? layer.97? 1.882615030 11.3104333
>>? ??? layer.98? 1.909218490? 8.2142607
>>? ??? layer.99? 1.938130021 15.3209674
>>? ??? layer.100 1.963727593? 5.8178217
>>? ??? layer.101 1.993271947? 9.6004907
>>? ??? layer.102 2.022548139? 3.4063646
>>? ??? layer.103 2.050679922? 4.7375010
>>? ??? layer.104 2.078064442? 3.0133019
>>? ??? layer.105 2.104113460? 5.5659522
>>? ??? layer.106 2.133597612 12.0346333
>>? ??? layer.107 2.164026260 -0.4028320
>>? ??? layer.108 2.194852829 10.5996780
>>? ??? layer.109 2.224257946? 5.4479584
>>? ??? layer.110 2.252194643? 4.7052374
>>? ??? layer.111 2.277335048 14.0962019
>>? ??? layer.112 2.304058313? 5.7149016
>>? ??? layer.113 2.330930233? 3.7780072
>>? ??? layer.114 2.357022762? 4.4120620
>>? ??? layer.115 2.386489272? 4.1866085
>>? ??? layer.116 2.417503953? 6.9078802
>>? ??? layer.117 2.448524356? 2.7825739
>>? ??? layer.118 2.478698969? 7.6171786
>>? ??? layer.119 2.510175705 10.2410603
>>? ??? layer.120 2.539697886? 8.1820711
>>? ??? layer.121 2.567915559? 4.8275494
>>? ??? layer.122 2.597463250 19.1624883
>>? ??? layer.123 2.627518773 16.0677109
>>? ??? layer.124 2.658759236 12.5897081
>>? ??? layer.125 2.692401528? 9.2907988
>>? ??? layer.126 2.721903205? 7.4262502
>>? ??? layer.127 2.753021359? 9.3902518
>>? ??? layer.128 2.786313415 12.6193550
>>? ??? layer.129 2.819564104 11.1121040
>>? ??? layer.130 2.850823164 15.7907100
>>? ??? layer.131 2.880394101 10.7425287
>>? ??? layer.132 2.911391258? 7.7971430
>>? ??? layer.133 2.942965150? 8.8060858
>>? ??? layer.134 2.974468350 17.5606266
>>? ??? layer.135 3.008983612 17.3088605
>>? ??? layer.136 3.040015221 13.4500543
>>? ??? layer.137 3.072668672 14.6377884
>>? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>> dput(onepctCO2MEDIAN)
>>? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>>? ??? 0.0220879195258021,
>> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>>? ??? 0.0586777292191982, 0.0692614056169987,
>> 0.080524530261755,0.0927602462470531,
>>? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>> 0.141710050404072,
>>? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>> 0.199463054537773,
>>? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>> 0.263012766838074,
>>? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>> 0.325990349054337,
>>? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>> 0.39499294757843,
>>? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>> 0.470167458057404,
>>? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>> 0.543750524520874,
>>? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>> 0.619924664497375,
>>? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>> 0.704829752445221,
>>? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>> 0.783461511135101,
>>? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>> 0.871352434158325,
>>? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>> 0.959907650947571,
>>? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>> 1.05400913953781,
>>? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>> 1.14943087100983,
>>? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>> 1.24186837673187,
>>? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>> 1.33904588222504,
>>? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>> 1.43585115671158,
>>? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>> 1.52572846412659,
>>? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>> 1.62387949228287,
>>? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>> 1.72479337453842,
>>? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>> 1.83066886663437,
>>? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>> 1.93813002109528,
>>? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>> 2.05067992210388,
>>? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>> 2.16402626037598,
>>? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>> 2.27733504772186,
>>? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>> 2.38648927211761,
>>? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>> 2.51017570495605,
>>? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>> 2.62751877307892,
>>? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>> 2.75302135944366,
>>? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>> 2.88039410114288,
>>? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>> 3.00898361206055,
>>? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>>? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>> -1.24295055804536,
>>? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>> -2.36770012911069,
>>? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>> -2.41382533818026,
>>? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>> -1.53496826259972,
>>? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>> 0.136596820654013,
>>? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>> 0.793803634291308,
>>? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>> -1.41715777257774,
>>? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>> -0.737609879885404,
>>? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>> -0.978538630093809,
>>? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>> 3.91689160157513,
>>? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>> 8.15101701282067,
>>? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>> 1.54064657400204,
>>? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>> 9.37565121768513,
>>? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>> 2.80960651433971,
>>? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>> 8.86907069895943,
>>? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>> 7.68714830528144,
>>? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>> 1.64908991824022,
>>? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>> 3.99869636910933,
>>? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>> 3.5422970157433,
>>? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>> 9.94604963036295,
>>? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>> 13.7408303595752,
>>? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>> 13.4970905965787,
>>? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>> -0.156762622680077,
>>? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>> 11.3104332518482,
>>? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>> 9.6004907412354,
>>? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>> 5.56595224859066,
>>? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>> 5.44795836991128,
>>? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>> 3.77800720810782,
>>? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>> 2.78257393345915,
>>? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>> 4.82754943871433,
>>? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>> 9.29079879799404,
>>? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>> 11.1121039747257,
>>? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>> 8.80608578166101,
>>? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>> 14.6377884248645,
>>? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>>? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>>? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>> "layer.13",
>>? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>> "layer.19",
>>? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>> "layer.25",
>>? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>> "layer.31",
>>? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>> "layer.37",
>>? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>> "layer.43",
>>? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>> "layer.49",
>>? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>> "layer.55",
>>? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>> "layer.61",
>>? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>> "layer.67",
>>? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>> "layer.73",
>>? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>> "layer.79",
>>? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>> "layer.85",
>>? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>> "layer.91",
>>? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>> "layer.97",
>>? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>>? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>>? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>>? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>>? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>>? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>>? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>>? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>>? ??? "layer.138"))
>> I started with the following to generate the first regression line and
>> scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>>? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>>? ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>>
>>? ??? departurea), method=lm)
>> But I receive this error:? ??Warning message:
>>? ??? Computation failed in `stat_smooth()`:
>>? ??? 'what' must be a function or character string
>> A blue scatter plot is successfully generated, but the problem is that
>> the regression line does not appear, presumably related to the above
>> warning.
>> Is there a reason for this? I would appreciate any assistance!
>>? ??? [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ron@n@|eg|eut @end|ng |rom he|mho|tz-muenchen@de  Wed Jun  5 10:34:41 2019
From: ron@n@|eg|eut @end|ng |rom he|mho|tz-muenchen@de (le Gleut, Ronan)
Date: Wed, 5 Jun 2019 10:34:41 +0200 (CEST)
Subject: [R] Sample function and prob argument
Message-ID: <003701d51b79$84e153d0$8ea3fb70$@helmholtz-muenchen.de>

Dear R-help mailing list,

 

First of all, many many thanks for your great work on the R project!

 

I have a very small issue regarding the sample function. Depending if we
specify values for the prob argument, we don't get the same result for a
random sampling with replacement and with equal probabilities. See the
attached R code for a minimal example with the R version 3.6.0.

 

With a previous R version (3.5.x), the result was just a permutation
between the possible realizations. They are now totally different with the
latest R version.

 

I understand that if we specify or not the prob argument, two different
internal functions are used: .Internal(sample()) or .Internal(sample2()).
Indeed, the algorithm used to draw a sample may not be the same if by
default we assume equal probabilities (without the prob argument) or if
the user defines himself the probabilities (even if they are equal).

 

I found this post on stackoverflow which explains the reasons of this
difference (answer by Matthew Lundberg):

https://stackoverflow.com/questions/23316729/r-sample-probabilities-defaul
t-is-equal-weight-why-does-specifying-equal-weigh

 

I was wondering whether the solution proposed by PatrickT could solve this
issue? He proposed to have something like if(all.equal(prob, prob,
tolerance = .Machine$double.eps) prob = NULL inside the sample.int routine
in order to replicate prob=NULL with prob=rep(1, length(x)).

 

Thanks you in advance for your response.

 

Best regards,

Ronan Le Gleut

 


 
Helmholtz Zentrum Muenchen
Deutsches Forschungszentrum fuer Gesundheit und Umwelt (GmbH)
Ingolstaedter Landstr. 1
85764 Neuherberg
www.helmholtz-muenchen.de
Stellv. Aufsichtsratsvorsitzender: MinDirig. Dr. Manfred Wolter
Geschaeftsfuehrung: Prof. Dr. med. Dr. h.c. Matthias Tschoep, Heinrich Bassler, Kerstin Guenther
Registergericht: Amtsgericht Muenchen HRB 6466
USt-IdNr: DE 129521671

From m@|| @end|ng |rom @|ex@ndr@thorn@com  Wed Jun  5 14:19:26 2019
From: m@|| @end|ng |rom @|ex@ndr@thorn@com (Alexandra Thorn)
Date: Wed, 5 Jun 2019 08:19:26 -0400
Subject: [R] Mac/PC differences in lmer results
In-Reply-To: <20190605123228.b9eb5efe15e3e515b8c7ab4e@univ-nantes.fr>
References: <5CBE1637-3941-4741-B5A4-8104F0B66386@gmail.com>
 <CAGxFJbQ=qBhu864b3jQHgRt9o8Oz8r_hBLx-1e=XFQe7YsvMOw@mail.gmail.com>
 <DF796728-5E00-451B-8C4C-54CDDA2863E4@gmail.com>
 <CAGxFJbRNA-uTeRBsmtq_utJ9aSEoz9T8uYY=nkE94=q2SxLOyQ@mail.gmail.com>
 <D3AA139E-0C22-40AE-9FBF-FB6003AA9834@gmail.com>
 <20190605123228.b9eb5efe15e3e515b8c7ab4e@univ-nantes.fr>
Message-ID: <20190605081926.16c86e37@athorn-Lemur-Ultra>

To check whether the data are being read in appropriately, what happens
when you plot the distribution of each of the independent variables on
the respective systems?

-A

On Wed, 5 Jun 2019 12:32:28 +0200
Olivier Crouzet <olivier.crouzet at univ-nantes.fr> wrote:

> Hi,
> 
> 32bit vs. 64bit systems? 
> 
> Another thing I would look at would be how the windows machine will
> read the data file. Though issues should probably only arise with
> respect to text data, I've often experienced problems with reading
> unicode csv files on windows computers compared with unix-based
> computers. No guarantee though, just suggestions...
> 
> Olivier.
> 
> On Wed, 5 Jun 2019 12:15:53 +0200
> Nicolas Schuck <nico.schuck at gmail.com> wrote:
> 
> > bert: you are right, sorry for not cc-ing the list. thanks also for
> > the hint. 
> > 
> > I wanted to bring this up here again, emphasising that we do find in
> > at least one case *a very large difference* in the p value, using
> > the same scripts and data on a windows versus mac machine (see
> > reproducible example in the gitlab link posted below). I have now
> > come across several instances in which results of (g)lmer models
> > don?t agree on windows vs unix-based machines, which I find a bit
> > disturbing. any ideas where non-negligible differences could come
> > from? 
> > 
> > thanks, 
> > nico 
> > 
> >   
> > > On 30. May 2019, at 16:58, Bert Gunter <bgunter.4567 at gmail.com>
> > > wrote:
> > > 
> > > 
> > > Unless there us good reason not to, always cc the list. I have
> > > done so here.
> > > 
> > > The R Installation manual has some info on how to use different
> > > BLASes I believe, but someone with expertise (I have none) needs
> > > to respond to your queries.
> > > 
> > > On Thu, May 30, 2019 at 7:50 AM Nicolas Schuck
> > > <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote: I
> > > know that it is in use on the Mac, see sessionInfo below. I have
> > > to check on the Win system. Why would that make such a difference
> > > and how could I make the Win get the same results as the Unix
> > > Systems? 
> > > 
> > > R version 3.6.0 (2019-04-26) 
> > > Platform: x86_64-apple-darwin15.6.0 (64-bit) 
> > > Running under: macOS Mojave 10.14.5 
> > > Matrix products: default 
> > > BLAS:  /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib 
> > > LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib 
> > > Random number generation: 
> > > RNG:  Mersenne-Twister 
> > > Normal:  Inversion Sample:  Rounding 
> > > locale: [1]
> > > en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> > > attached base packages: [1] stats  graphics  grDevices utils
> > > datasets  methods  base Thanks, Nico On 30. May 2019, at 16:34,
> > > Bert Gunter <bgunter.4567 at gmail.com
> > > <mailto:bgunter.4567 at gmail.com>> wrote:
> > >   
> > >> The BLAS in use on each?
> > >> 
> > >> Bert Gunter
> > >> 
> > >> "The trouble with having an open mind is that people keep coming
> > >> along and sticking things into it."
> > >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip
> > >> )
> > >> 
> > >> 
> > >> On Thu, May 30, 2019 at 5:27 AM Nicolas Schuck
> > >> <nico.schuck at gmail.com <mailto:nico.schuck at gmail.com>> wrote:
> > >> Dear fellow R coders, 
> > >> 
> > >> I am observing differences in results obtained using glmer when
> > >> using a Mac or Linux computer versus a PC. Specifically, I am
> > >> talking about a relatively complex glmer model with a nested
> > >> random effects structure. The model is set up in the following
> > >> way: gcctrl = glmerControl(optimizer=c('nloptwrap'), optCtrl =
> > >> list (maxfun = 500000), calc.derivs = FALSE)
> > >> 
> > >> glmer_pre_instr1 = glmer(
> > >>       formula = cbind(FREQ, NSAMP-FREQ) ~ FDIST_minz + poly
> > >> (RFREQ,2) + ROI + (1 + FDIST_minz + RFREQ + ROI|ID/COL), data =
> > >> cdf_pre_instr, family = binomial, 
> > >>       control = gcctrl)
> > >> 
> > >> Code and data of an example for which I find reproducible,
> > >> non-negligible differences between Mac/Win can be found here:
> > >> https://gitlab.com/nschuck/glmer_sandbox/tree/master
> > >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master>
> > >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master
> > >> <https://gitlab.com/nschuck/glmer_sandbox/tree/master>> The
> > >> differences between the fitted models seem to be most pronounced
> > >> regarding the estimated correlation structure of the random
> > >> effects terms. Mac and Linux yield very similar results, but
> > >> Windows deviates quite a bit in some cases. This has a large
> > >> impact on p values obtained when performing model comparisons. I
> > >> have tried this on Mac OS 10.14, Windows 10 and Ubuntu and
> > >> Debian. All systems I have tried are using lme 1.1.21 and R
> > >> 3.5+. 
> > >> 
> > >> Does anyone have an idea what the underlying cause might be? 
> > >> 
> > >> Thanks, 
> > >> Nico 
> > >> 
> > >> 
> > >> 
> > >> 
> > >>         [[alternative HTML version deleted]]
> > >> 
> > >> ______________________________________________
> > >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
> > >> -- To UNSUBSCRIBE and more, see
> > >> https://stat.ethz.ch/mailman/listinfo/r-help
> > >> <https://stat.ethz.ch/mailman/listinfo/r-help> PLEASE do read the
> > >> posting guide http://www.R-project.org/posting-guide.html
> > >> <http://www.r-project.org/posting-guide.html> and provide
> > >> commented, minimal, self-contained, reproducible code.  
> > 
> > 
> > 	[[alternative HTML version deleted]]
> > 
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html and provide commented,
> > minimal, self-contained, reproducible code.  
> 
> 


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed Jun  5 18:57:56 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 5 Jun 2019 09:57:56 -0700
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <2124898951.349693.1559752661094@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
 <448346170.409006.1559747083753@mail.yahoo.com>
 <0f2dd00c-0649-81b8-94b8-4ec140e32d60@comcast.net>
 <2124898951.349693.1559752661094@mail.yahoo.com>
Message-ID: <11855873-b8d3-3893-f9c1-004ec47475a9@comcast.net>


On 6/5/19 9:37 AM, rain1290 at aim.com wrote:
> Hi David (and everyone),
>
> Thank you for your response. I changed the column names to x and y, 
> but the error/warning persists:
>
> Warning message: Computation failed in `stat_smooth()`: 'what' must be 
> a function or character string
>
> It is quite baffling as to why this is happening. Why would it work 
> for the scatter plot and not the regression line?


Since it works perfectly well on my machine, that means we are now 
lacking the required information (from you)? that is generally delivered 
via `sessionInfo()`. I get:

R version 3.5.2 (2018-12-20)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.1 LTS

Matrix products: default
BLAS: /usr/lib/x86_64-linux-gnu/openblas/libblas.so.3
LAPACK: /usr/lib/x86_64-linux-gnu/libopenblasp-r0.2.20.so

locale:
 ?[1] LC_CTYPE=en_US.UTF-8?????? LC_NUMERIC=C LC_TIME=en_US.UTF-8
 ?[4] LC_COLLATE=en_US.UTF-8???? LC_MONETARY=en_US.UTF-8 
LC_MESSAGES=en_US.UTF-8
 ?[7] LC_PAPER=en_US.UTF-8?????? LC_NAME=C LC_ADDRESS=C
[10] LC_TELEPHONE=C???????????? LC_MEASUREMENT=en_US.UTF-8 
LC_IDENTIFICATION=C

attached base packages:
[1] stats???? graphics? grDevices utils???? datasets? methods base

other attached packages:
[1] ggplot2_3.1.1 zoo_1.8-5

loaded via a namespace (and not attached):
 ?[1] Rcpp_1.0.1?????? lattice_0.20-38? withr_2.1.2 assertthat_0.2.1 
dplyr_0.8.0.1
 ?[6] crayon_1.3.4???? R6_2.4.0???????? grid_3.5.2 plyr_1.8.4?????? 
gtable_0.3.0
[11] magrittr_1.5???? scales_1.0.0???? pillar_1.3.1 rlang_0.3.4????? 
lazyeval_0.2.2
[16] rstudioapi_0.10? labeling_0.3???? tools_3.5.2 glue_1.3.1?????? 
purrr_0.3.2
[21] munsell_0.5.0??? yaml_2.2.0?????? compiler_3.5.2 pkgconfig_2.0.2? 
colorspace_1.4-1
[26] tidyselect_0.2.5 tibble_2.1.1

I'm also running:

RStudio
Version 1.1.463 ? ? 2009-2018 RStudio, Inc.


You should now restart a clean session, try again with just the required 
packages and report back with full code and data.


Best;

David


>
>
> -----Original Message-----
> From: David Winsemius <dwinsemius at comcast.net>
> To: r-help <r-help at r-project.org>
> Sent: Wed, Jun 5, 2019 12:00 pm
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
>
> On 6/5/19 8:04 AM, rain1290--- via R-help wrote:
> > Hi Jeff (and everyone),
> >
> > Thank you for your response and feedback. Yes, I know what you mean 
> - it was a blind and quick choice to use "lm" as my object name. 
> Unfortunately, changing the object name to something else does not 
> eliminate that error/warning message. As a result, the same 
> error/warning appears when running it. Oddly enough, the scatter plot 
> is just fine - it's the regression line that struggles to appear. 
> Could there be another reason for that?
> > Thanks, again,
>
>
> TRhe error came because you did not reference the column names
> correctly. This succeeds with the data you offered:
>
>
> ggplot(onepctCO2MEDIAN) +
> ???? geom_jitter(aes(x,y),
> ???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)
>
>
> # At some point you changed the column names from
> (RCP1pctCO2cumulativeMedian, departurea) to (x,y) , but didn't adjust
> your code.
>
>
> Best;
>
> David.
>
> >
> > -----Original Message-----
> > From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> > To: rain1290 <rain1290 at aim.com>; rain1290--- via R-help 
> <r-help at r-project.org>; r-help <r-help at R-project.org>; r-sig-geo 
> <r-sig-geo at r-project.org>
> > Sent: Wed, Jun 5, 2019 10:49 am
> > Subject: Re: [R] Plotting more than one regression line in ggplot
> >
> > Please read the Posting Guide... posting HTML on a plain text 
> mailing list really interferes with clear communication.
> >
> > If you had spent even a small amount of time working with R 
> tutorials then you would know that "lm" is the name of a very basic, 
> very important R function. However, you are defining your own object 
> called "lm" that is very different indeed than the usual "lm" 
> function. I would guess that in a clean new R workspace where you had 
> not already run your ggplot function and assigned the result to your 
> own "lm" object then this code might run. However, once you have run 
> it once and try to run it again, your "method" argument gives the 
> wrong version of "lm" to geom_smooth and you confuse it.
> >
> > As the doctor said to the man pounding his own head against the 
> wall, "If it hurts, don't do that." Avoid re-using important object 
> names in R... some common names I see abused this way are df, data, c, 
> t, T, and F. Your choice was unusual, but quite effective at 
> illustrating the problem.
> >
> > On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help 
> <r-help at r-project.org> wrote:
> >> I am trying to plot, using ggplot, a series of scatter plots with
> >> regression lines for several datasets. I started with the following
> >> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
> >>? ??? onepctCO2MEDIAN
> >>? ??????????????????? x????????? y
> >>? ??? layer.1?? 0.000000000? 0.0000000
> >>? ??? layer.2?? 0.006794447? 4.9002490
> >>? ??? layer.3?? 0.014288058? 0.1608000
> >>? ??? layer.4?? 0.022087920? 6.6349133
> >>? ??? layer.5?? 0.030797357 -1.2429506
> >>? ??? layer.6?? 0.038451072? 1.5643374
> >>? ??? layer.7?? 0.048087904 -2.2659035
> >>? ??? layer.8?? 0.058677729? 2.2070045
> >>? ??? layer.9?? 0.069261406 -2.3677001
> >>? ??? layer.10? 0.080524530 -1.0913506
> >>? ??? layer.11? 0.092760246? 0.4099940
> >>? ??? layer.12? 0.103789609 -0.1259727
> >>? ??? layer.13? 0.116953168 -2.4138253
> >>? ??? layer.14? 0.129253298? 7.0890257
> >>? ??? layer.15? 0.141710050 -0.7593539
> >>? ??? layer.16? 0.156002052? 0.0454416
> >>? ??? layer.17? 0.170648172 -1.5349683
> >>? ??? layer.18? 0.185318425? 6.5524201
> >>? ??? layer.19? 0.199463055 -0.8312563
> >>? ??? layer.20? 0.213513337 -2.5099183
> >>? ??? layer.21? 0.228839271? 0.1365968
> >>? ??? layer.22? 0.246981293 -1.3719845
> >>? ??? layer.23? 0.263012767 -0.8712988
> >>? ??? layer.24? 0.278505564? 0.6632584
> >>? ??? layer.25? 0.293658361? 0.7938036
> >>? ??? layer.26? 0.310747266? 3.4880637
> >>? ??? layer.27? 0.325990349 -4.4612208
> >>? ??? layer.28? 0.342517540? 0.0871734
> >>? ??? layer.29? 0.362751633 -1.4171578
> >>? ??? layer.30? 0.380199537 -0.9956508
> >>? ??? layer.31? 0.394992948? 0.3215526
> >>? ??? layer.32? 0.414373398? 3.1403866
> >>? ??? layer.33? 0.430690214 -0.7376099
> >>? ??? layer.34? 0.449738145 -2.4860541
> >>? ??? layer.35? 0.470167458 -3.4235858
> >>? ??? layer.36? 0.489019871? 0.4824748
> >>? ??? layer.37? 0.507242471 -0.9785386
> >>? ??? layer.38? 0.524314284? 8.5359684
> >>? ??? layer.39? 0.543750525? 5.4844742
> >>? ??? layer.40? 0.564234197? 3.2149367
> >>? ??? layer.41? 0.583679616? 3.9168916
> >>? ??? layer.42? 0.601459444? 4.4907020
> >>? ??? layer.43? 0.619924664? 6.5410410
> >>? ??? layer.44? 0.639932007? 4.8068650
> >>? ??? layer.45? 0.661347181? 8.1510170
> >>? ??? layer.46? 0.684117317? 0.2697413
> >>? ??? layer.47? 0.704829752 -0.1807501
> >>? ??? layer.48? 0.725045770? 9.7181249
> >>? ??? layer.49? 0.745165825? 1.5406466
> >>? ??? layer.50? 0.765016139 -1.6476041
> >>? ??? layer.51? 0.783461511? 4.8024603
> >>? ??? layer.52? 0.806382924? 4.0421516
> >>? ??? layer.53? 0.829241335? 9.3756512
> >>? ??? layer.54? 0.849924415? 5.3305050
> >>? ??? layer.55? 0.871352434? 7.5445803
> >>? ??? layer.56? 0.893632233? 6.4679547
> >>? ??? layer.57? 0.916052133? 2.8096065
> >>? ??? layer.58? 0.938579470? 5.3921661
> >>? ??? layer.59? 0.959907651? 7.2043689
> >>? ??? layer.60? 0.981643587? 3.3350806
> >>? ??? layer.61? 1.004116774? 8.8690707
> >>? ??? layer.62? 1.028363466? 1.7861299
> >>? ??? layer.63? 1.054009140? 6.2555038
> >>? ??? layer.64? 1.072440803? 7.6079236
> >>? ??? layer.65? 1.094457805? 7.6871483
> >>? ??? layer.66? 1.123176277? 4.7787764
> >>? ??? layer.67? 1.149430871 12.7110502
> >>? ??? layer.68? 1.170912921 -0.7156284
> >>? ??? layer.69? 1.196743071? 1.6490899
> >>? ??? layer.70? 1.218625903? 3.0363024
> >>? ??? layer.71? 1.241868377? 4.2974769
> >>? ??? layer.72? 1.267941594? 1.9543778
> >>? ??? layer.73? 1.290708780? 3.9986964
> >>? ??? layer.74? 1.313222289? 4.5179472
> >>? ??? layer.75? 1.339045882? 0.9337905
> >>? ??? layer.76? 1.362803459? 3.3050770
> >>? ??? layer.77? 1.384450197? 3.5422970
> >>? ??? layer.78? 1.409720302? 5.9973660
> >>? ??? layer.79? 1.435851157? 0.5081869
> >>? ??? layer.80? 1.455592215? 7.9661630
> >>? ??? layer.81? 1.479495347? 9.9460496
> >>? ??? layer.82? 1.506051958? 3.7908372
> >>? ??? layer.83? 1.525728464? 2.5735847
> >>? ??? layer.84? 1.549362063 10.1404974
> >>? ??? layer.85? 1.573440671 13.7408304
> >>? ??? layer.86? 1.600278735? 0.9335771
> >>? ??? layer.87? 1.623879492? 9.7588742
> >>? ??? layer.88? 1.650029302? 1.2769395
> >>? ??? layer.89? 1.672362328 13.4970906
> >>? ??? layer.90? 1.700221121 10.2087502
> >>? ??? layer.91? 1.724793375? 1.6811275
> >>? ??? layer.92? 1.751070559? 6.1178992
> >>? ??? layer.93? 1.778022110 -0.1567626
> >>? ??? layer.94? 1.803022087? 3.8237479
> >>? ??? layer.95? 1.830668867? 4.4331468
> >>? ??? layer.96? 1.855736911? 5.9790707
> >>? ??? layer.97? 1.882615030 11.3104333
> >>? ??? layer.98? 1.909218490? 8.2142607
> >>? ??? layer.99? 1.938130021 15.3209674
> >>? ??? layer.100 1.963727593? 5.8178217
> >>? ??? layer.101 1.993271947? 9.6004907
> >>? ??? layer.102 2.022548139? 3.4063646
> >>? ??? layer.103 2.050679922? 4.7375010
> >>? ??? layer.104 2.078064442? 3.0133019
> >>? ??? layer.105 2.104113460? 5.5659522
> >>? ??? layer.106 2.133597612 12.0346333
> >>? ??? layer.107 2.164026260 -0.4028320
> >>? ??? layer.108 2.194852829 10.5996780
> >>? ??? layer.109 2.224257946? 5.4479584
> >>? ??? layer.110 2.252194643? 4.7052374
> >>? ??? layer.111 2.277335048 14.0962019
> >>? ??? layer.112 2.304058313? 5.7149016
> >>? ??? layer.113 2.330930233? 3.7780072
> >>? ??? layer.114 2.357022762? 4.4120620
> >>? ??? layer.115 2.386489272? 4.1866085
> >>? ??? layer.116 2.417503953? 6.9078802
> >>? ??? layer.117 2.448524356? 2.7825739
> >>? ??? layer.118 2.478698969? 7.6171786
> >>? ??? layer.119 2.510175705 10.2410603
> >>? ??? layer.120 2.539697886? 8.1820711
> >>? ??? layer.121 2.567915559? 4.8275494
> >>? ??? layer.122 2.597463250 19.1624883
> >>? ??? layer.123 2.627518773 16.0677109
> >>? ??? layer.124 2.658759236 12.5897081
> >>? ??? layer.125 2.692401528? 9.2907988
> >>? ??? layer.126 2.721903205? 7.4262502
> >>? ??? layer.127 2.753021359? 9.3902518
> >>? ??? layer.128 2.786313415 12.6193550
> >>? ??? layer.129 2.819564104 11.1121040
> >>? ??? layer.130 2.850823164 15.7907100
> >>? ??? layer.131 2.880394101 10.7425287
> >>? ??? layer.132 2.911391258? 7.7971430
> >>? ??? layer.133 2.942965150? 8.8060858
> >>? ??? layer.134 2.974468350 17.5606266
> >>? ??? layer.135 3.008983612 17.3088605
> >>? ??? layer.136 3.040015221 13.4500543
> >>? ??? layer.137 3.072668672 14.6377884
> >>? ??? layer.138 3.105982423 8.0798552dput(onepctCO2MEDIAN)
> >> dput(onepctCO2MEDIAN)
> >>? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
> >>? ??? 0.0220879195258021,
> >> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
> >>? ??? 0.0586777292191982, 0.0692614056169987,
> >> 0.080524530261755,0.0927602462470531,
> >>? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
> >> 0.141710050404072,
> >>? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
> >> 0.199463054537773,
> >>? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
> >> 0.263012766838074,
> >>? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
> >> 0.325990349054337,
> >>? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
> >> 0.39499294757843,
> >>? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
> >> 0.470167458057404,
> >>? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
> >> 0.543750524520874,
> >>? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
> >> 0.619924664497375,
> >>? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
> >> 0.704829752445221,
> >>? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
> >> 0.783461511135101,
> >>? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
> >> 0.871352434158325,
> >>? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
> >> 0.959907650947571,
> >>? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
> >> 1.05400913953781,
> >>? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
> >> 1.14943087100983,
> >>? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
> >> 1.24186837673187,
> >>? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
> >> 1.33904588222504,
> >>? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
> >> 1.43585115671158,
> >>? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
> >> 1.52572846412659,
> >>? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
> >> 1.62387949228287,
> >>? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
> >> 1.72479337453842,
> >>? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
> >> 1.83066886663437,
> >>? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
> >> 1.93813002109528,
> >>? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
> >> 2.05067992210388,
> >>? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
> >> 2.16402626037598,
> >>? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
> >> 2.27733504772186,
> >>? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
> >> 2.38648927211761,
> >>? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
> >> 2.51017570495605,
> >>? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
> >> 2.62751877307892,
> >>? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
> >> 2.75302135944366,
> >>? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
> >> 2.88039410114288,
> >>? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
> >> 3.00898361206055,
> >>? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
> >>? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
> >> -1.24295055804536,
> >>? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
> >> -2.36770012911069,
> >>? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
> >> -2.41382533818026,
> >>? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
> >> -1.53496826259972,
> >>? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
> >> 0.136596820654013,
> >>? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
> >> 0.793803634291308,
> >>? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
> >> -1.41715777257774,
> >>? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
> >> -0.737609879885404,
> >>? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
> >> -0.978538630093809,
> >>? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
> >> 3.91689160157513,
> >>? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
> >> 8.15101701282067,
> >>? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
> >> 1.54064657400204,
> >>? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
> >> 9.37565121768513,
> >>? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
> >> 2.80960651433971,
> >>? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
> >> 8.86907069895943,
> >>? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
> >> 7.68714830528144,
> >>? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
> >> 1.64908991824022,
> >>? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
> >> 3.99869636910933,
> >>? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
> >> 3.5422970157433,
> >>? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
> >> 9.94604963036295,
> >>? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
> >> 13.7408303595752,
> >>? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
> >> 13.4970905965787,
> >>? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
> >> -0.156762622680077,
> >>? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
> >> 11.3104332518482,
> >>? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
> >> 9.6004907412354,
> >>? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
> >> 5.56595224859066,
> >>? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
> >> 5.44795836991128,
> >>? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
> >> 3.77800720810782,
> >>? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
> >> 2.78257393345915,
> >>? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
> >> 4.82754943871433,
> >>? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
> >> 9.29079879799404,
> >>? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
> >> 11.1121039747257,
> >>? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
> >> 8.80608578166101,
> >>? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
> >> 14.6377884248645,
> >>? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
> >>? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
> >>? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
> >> "layer.13",
> >>? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
> >> "layer.19",
> >>? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
> >> "layer.25",
> >>? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
> >> "layer.31",
> >>? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
> >> "layer.37",
> >>? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
> >> "layer.43",
> >>? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
> >> "layer.49",
> >>? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
> >> "layer.55",
> >>? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
> >> "layer.61",
> >>? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
> >> "layer.67",
> >>? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
> >> "layer.73",
> >>? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
> >> "layer.79",
> >>? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
> >> "layer.85",
> >>? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
> >> "layer.91",
> >>? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
> >> "layer.97",
> >>? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
> >>? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
> >>? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
> >>? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
> >>? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
> >>? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
> >>? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
> >>? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
> >>? ??? "layer.138"))
> >> I started with the following to generate the first regression line and
> >> scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
> >> geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
> >>? ??? colour="blue") + 
> geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
> >>
> >>? ??? departurea), method=lm)
> >> But I receive this error:? ??Warning message:
> >>? ??? Computation failed in `stat_smooth()`:
> >>? ??? 'what' must be a function or character string
> >> A blue scatter plot is successfully generated, but the problem is that
> >> the regression line does not appear, presumably related to the above
> >> warning.
> >> Is there a reason for this? I would appreciate any assistance!
> >>? ??? [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed Jun  5 19:12:11 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Wed, 5 Jun 2019 10:12:11 -0700
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <11855873-b8d3-3893-f9c1-004ec47475a9@comcast.net>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <B7E91F7C-9D66-4016-8E2D-C6835DD0EF5B@dcn.davis.ca.us>
 <448346170.409006.1559747083753@mail.yahoo.com>
 <0f2dd00c-0649-81b8-94b8-4ec140e32d60@comcast.net>
 <2124898951.349693.1559752661094@mail.yahoo.com>
 <11855873-b8d3-3893-f9c1-004ec47475a9@comcast.net>
Message-ID: <b80737a6-1843-fc3d-b03a-b00cbe46b0b2@comcast.net>


On 6/5/19 9:57 AM, David Winsemius wrote:
> On 6/5/19 9:37 AM, rain1290 at aim.com wrote:
>> Hi David (and everyone),
>>
>> Thank you for your response. I changed the column names to x and y,
>> but the error/warning persists:
>>
>> Warning message: Computation failed in `stat_smooth()`: 'what' must be
>> a function or character string
>>
>> It is quite baffling as to why this is happening. Why would it work
>> for the scatter plot and not the regression line?


I'll add that I can reproduce a similar error but not the one you reported:


 > lm <- ggplot(onepctCO2MEDIAN) +
+???? geom_point(aes(x,y),
+???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)
 > lm
Warning message:
Computation failed in `stat_smooth()`:
'what' must be a function or character string

Rerunning after removing the `lm` data object allows successful execution:

 ?rm(lm)
 ?ggplot(onepctCO2MEDIAN) +
 ???? geom_point(aes(x,y),
 ???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)


So it's probably related to the non-standard evaluation where a function 
or a function name can be used and if there is a function name offered, 
the ggplot evaluation model first turns it into a character string and 
then accesses a data object instead of a function.

I'm guessing this would be seen by the package maintainer in due course, 
but I'm copying him.

-- 

David

>
> Since it works perfectly well on my machine, that means we are now
> lacking the required information (from you)? that is generally delivered
> via `sessionInfo()`. I get:
>
> R version 3.5.2 (2018-12-20)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Ubuntu 18.04.1 LTS
>
> Matrix products: default
> BLAS: /usr/lib/x86_64-linux-gnu/openblas/libblas.so.3
> LAPACK: /usr/lib/x86_64-linux-gnu/libopenblasp-r0.2.20.so
>
> locale:
>   ?[1] LC_CTYPE=en_US.UTF-8?????? LC_NUMERIC=C LC_TIME=en_US.UTF-8
>   ?[4] LC_COLLATE=en_US.UTF-8???? LC_MONETARY=en_US.UTF-8
> LC_MESSAGES=en_US.UTF-8
>   ?[7] LC_PAPER=en_US.UTF-8?????? LC_NAME=C LC_ADDRESS=C
> [10] LC_TELEPHONE=C???????????? LC_MEASUREMENT=en_US.UTF-8
> LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats???? graphics? grDevices utils???? datasets? methods base
>
> other attached packages:
> [1] ggplot2_3.1.1 zoo_1.8-5
>
> loaded via a namespace (and not attached):
>   ?[1] Rcpp_1.0.1?????? lattice_0.20-38? withr_2.1.2 assertthat_0.2.1
> dplyr_0.8.0.1
>   ?[6] crayon_1.3.4???? R6_2.4.0???????? grid_3.5.2 plyr_1.8.4
> gtable_0.3.0
> [11] magrittr_1.5???? scales_1.0.0???? pillar_1.3.1 rlang_0.3.4
> lazyeval_0.2.2
> [16] rstudioapi_0.10? labeling_0.3???? tools_3.5.2 glue_1.3.1
> purrr_0.3.2
> [21] munsell_0.5.0??? yaml_2.2.0?????? compiler_3.5.2 pkgconfig_2.0.2
> colorspace_1.4-1
> [26] tidyselect_0.2.5 tibble_2.1.1
>
> I'm also running:
>
> RStudio
> Version 1.1.463 ? ? 2009-2018 RStudio, Inc.
>
>
> You should now restart a clean session, try again with just the required
> packages and report back with full code and data.
>
>
> Best;
>
> David
>
>
>>
>> -----Original Message-----
>> From: David Winsemius <dwinsemius at comcast.net>
>> To: r-help <r-help at r-project.org>
>> Sent: Wed, Jun 5, 2019 12:00 pm
>> Subject: Re: [R] Plotting more than one regression line in ggplot
>>
>>
>> On 6/5/19 8:04 AM, rain1290--- via R-help wrote:
>>> Hi Jeff (and everyone),
>>>
>>> Thank you for your response and feedback. Yes, I know what you mean
>> - it was a blind and quick choice to use "lm" as my object name.
>> Unfortunately, changing the object name to something else does not
>> eliminate that error/warning message. As a result, the same
>> error/warning appears when running it. Oddly enough, the scatter plot
>> is just fine - it's the regression line that struggles to appear.
>> Could there be another reason for that?
>>> Thanks, again,
>>
>> TRhe error came because you did not reference the column names
>> correctly. This succeeds with the data you offered:
>>
>>
>> ggplot(onepctCO2MEDIAN) +
>>  ???? geom_jitter(aes(x,y),
>>  ???????????????? colour="blue") + geom_smooth(aes(x,y), method=lm)
>>
>>
>> # At some point you changed the column names from
>> (RCP1pctCO2cumulativeMedian, departurea) to (x,y) , but didn't adjust
>> your code.
>>
>>
>> Best;
>>
>> David.
>>
>>> -----Original Message-----
>>> From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
>>> To: rain1290 <rain1290 at aim.com>; rain1290--- via R-help
>> <r-help at r-project.org>; r-help <r-help at R-project.org>; r-sig-geo
>> <r-sig-geo at r-project.org>
>>> Sent: Wed, Jun 5, 2019 10:49 am
>>> Subject: Re: [R] Plotting more than one regression line in ggplot
>>>
>>> Please read the Posting Guide... posting HTML on a plain text
>> mailing list really interferes with clear communication.
>>> If you had spent even a small amount of time working with R
>> tutorials then you would know that "lm" is the name of a very basic,
>> very important R function. However, you are defining your own object
>> called "lm" that is very different indeed than the usual "lm"
>> function. I would guess that in a clean new R workspace where you had
>> not already run your ggplot function and assigned the result to your
>> own "lm" object then this code might run. However, once you have run
>> it once and try to run it again, your "method" argument gives the
>> wrong version of "lm" to geom_smooth and you confuse it.
>>> As the doctor said to the man pounding his own head against the
>> wall, "If it hurts, don't do that." Avoid re-using important object
>> names in R... some common names I see abused this way are df, data, c,
>> t, T, and F. Your choice was unusual, but quite effective at
>> illustrating the problem.
>>> On June 5, 2019 7:21:57 AM PDT, rain1290--- via R-help
>> <r-help at r-project.org> wrote:
>>>> I am trying to plot, using ggplot, a series of scatter plots with
>>>> regression lines for several datasets. I started with the following
>>>> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>>>>  ? ??? onepctCO2MEDIAN
>>>>  ? ??????????????????? x????????? y
>>>>  ? ??? layer.1?? 0.000000000? 0.0000000
>>>>  ? ??? layer.2?? 0.006794447? 4.9002490
>>>>  ? ??? layer.3?? 0.014288058? 0.1608000
>>>>  ? ??? layer.4?? 0.022087920? 6.6349133
>>>>  ? ??? layer.5?? 0.030797357 -1.2429506
>>>>  ? ??? layer.6?? 0.038451072? 1.5643374
>>>>  ? ??? layer.7?? 0.048087904 -2.2659035
>>>>  ? ??? layer.8?? 0.058677729? 2.2070045
>>>>  ? ??? layer.9?? 0.069261406 -2.3677001
>>>>  ? ??? layer.10? 0.080524530 -1.0913506
>>>>  ? ??? layer.11? 0.092760246? 0.4099940
>>>>  ? ??? layer.12? 0.103789609 -0.1259727
>>>>  ? ??? layer.13? 0.116953168 -2.4138253
>>>>  ? ??? layer.14? 0.129253298? 7.0890257
>>>>  ? ??? layer.15? 0.141710050 -0.7593539
>>>>  ? ??? layer.16? 0.156002052? 0.0454416
>>>>  ? ??? layer.17? 0.170648172 -1.5349683
>>>>  ? ??? layer.18? 0.185318425? 6.5524201
>>>>  ? ??? layer.19? 0.199463055 -0.8312563
>>>>  ? ??? layer.20? 0.213513337 -2.5099183
>>>>  ? ??? layer.21? 0.228839271? 0.1365968
>>>>  ? ??? layer.22? 0.246981293 -1.3719845
>>>>  ? ??? layer.23? 0.263012767 -0.8712988
>>>>  ? ??? layer.24? 0.278505564? 0.6632584
>>>>  ? ??? layer.25? 0.293658361? 0.7938036
>>>>  ? ??? layer.26? 0.310747266? 3.4880637
>>>>  ? ??? layer.27? 0.325990349 -4.4612208
>>>>  ? ??? layer.28? 0.342517540? 0.0871734
>>>>  ? ??? layer.29? 0.362751633 -1.4171578
>>>>  ? ??? layer.30? 0.380199537 -0.9956508
>>>>  ? ??? layer.31? 0.394992948? 0.3215526
>>>>  ? ??? layer.32? 0.414373398? 3.1403866
>>>>  ? ??? layer.33? 0.430690214 -0.7376099
>>>>  ? ??? layer.34? 0.449738145 -2.4860541
>>>>  ? ??? layer.35? 0.470167458 -3.4235858
>>>>  ? ??? layer.36? 0.489019871? 0.4824748
>>>>  ? ??? layer.37? 0.507242471 -0.9785386
>>>>  ? ??? layer.38? 0.524314284? 8.5359684
>>>>  ? ??? layer.39? 0.543750525? 5.4844742
>>>>  ? ??? layer.40? 0.564234197? 3.2149367
>>>>  ? ??? layer.41? 0.583679616? 3.9168916
>>>>  ? ??? layer.42? 0.601459444? 4.4907020
>>>>  ? ??? layer.43? 0.619924664? 6.5410410
>>>>  ? ??? layer.44? 0.639932007? 4.8068650
>>>>  ? ??? layer.45? 0.661347181? 8.1510170
>>>>  ? ??? layer.46? 0.684117317? 0.2697413
>>>>  ? ??? layer.47? 0.704829752 -0.1807501
>>>>  ? ??? layer.48? 0.725045770? 9.7181249
>>>>  ? ??? layer.49? 0.745165825? 1.5406466
>>>>  ? ??? layer.50? 0.765016139 -1.6476041
>>>>  ? ??? layer.51? 0.783461511? 4.8024603
>>>>  ? ??? layer.52? 0.806382924? 4.0421516
>>>>  ? ??? layer.53? 0.829241335? 9.3756512
>>>>  ? ??? layer.54? 0.849924415? 5.3305050
>>>>  ? ??? layer.55? 0.871352434? 7.5445803
>>>>  ? ??? layer.56? 0.893632233? 6.4679547
>>>>  ? ??? layer.57? 0.916052133? 2.8096065
>>>>  ? ??? layer.58? 0.938579470? 5.3921661
>>>>  ? ??? layer.59? 0.959907651? 7.2043689
>>>>  ? ??? layer.60? 0.981643587? 3.3350806
>>>>  ? ??? layer.61? 1.004116774? 8.8690707
>>>>  ? ??? layer.62? 1.028363466? 1.7861299
>>>>  ? ??? layer.63? 1.054009140? 6.2555038
>>>>  ? ??? layer.64? 1.072440803? 7.6079236
>>>>  ? ??? layer.65? 1.094457805? 7.6871483
>>>>  ? ??? layer.66? 1.123176277? 4.7787764
>>>>  ? ??? layer.67? 1.149430871 12.7110502
>>>>  ? ??? layer.68? 1.170912921 -0.7156284
>>>>  ? ??? layer.69? 1.196743071? 1.6490899
>>>>  ? ??? layer.70? 1.218625903? 3.0363024
>>>>  ? ??? layer.71? 1.241868377? 4.2974769
>>>>  ? ??? layer.72? 1.267941594? 1.9543778
>>>>  ? ??? layer.73? 1.290708780? 3.9986964
>>>>  ? ??? layer.74? 1.313222289? 4.5179472
>>>>  ? ??? layer.75? 1.339045882? 0.9337905
>>>>  ? ??? layer.76? 1.362803459? 3.3050770
>>>>  ? ??? layer.77? 1.384450197? 3.5422970
>>>>  ? ??? layer.78? 1.409720302? 5.9973660
>>>>  ? ??? layer.79? 1.435851157? 0.5081869
>>>>  ? ??? layer.80? 1.455592215? 7.9661630
>>>>  ? ??? layer.81? 1.479495347? 9.9460496
>>>>  ? ??? layer.82? 1.506051958? 3.7908372
>>>>  ? ??? layer.83? 1.525728464? 2.5735847
>>>>  ? ??? layer.84? 1.549362063 10.1404974
>>>>  ? ??? layer.85? 1.573440671 13.7408304
>>>>  ? ??? layer.86? 1.600278735? 0.9335771
>>>>  ? ??? layer.87? 1.623879492? 9.7588742
>>>>  ? ??? layer.88? 1.650029302? 1.2769395
>>>>  ? ??? layer.89? 1.672362328 13.4970906
>>>>  ? ??? layer.90? 1.700221121 10.2087502
>>>>  ? ??? layer.91? 1.724793375? 1.6811275
>>>>  ? ??? layer.92? 1.751070559? 6.1178992
>>>>  ? ??? layer.93? 1.778022110 -0.1567626
>>>>  ? ??? layer.94? 1.803022087? 3.8237479
>>>>  ? ??? layer.95? 1.830668867? 4.4331468
>>>>  ? ??? layer.96? 1.855736911? 5.9790707
>>>>  ? ??? layer.97? 1.882615030 11.3104333
>>>>  ? ??? layer.98? 1.909218490? 8.2142607
>>>>  ? ??? layer.99? 1.938130021 15.3209674
>>>>  ? ??? layer.100 1.963727593? 5.8178217
>>>>  ? ??? layer.101 1.993271947? 9.6004907
>>>>  ? ??? layer.102 2.022548139? 3.4063646
>>>>  ? ??? layer.103 2.050679922? 4.7375010
>>>>  ? ??? layer.104 2.078064442? 3.0133019
>>>>  ? ??? layer.105 2.104113460? 5.5659522
>>>>  ? ??? layer.106 2.133597612 12.0346333
>>>>  ? ??? layer.107 2.164026260 -0.4028320
>>>>  ? ??? layer.108 2.194852829 10.5996780
>>>>  ? ??? layer.109 2.224257946? 5.4479584
>>>>  ? ??? layer.110 2.252194643? 4.7052374
>>>>  ? ??? layer.111 2.277335048 14.0962019
>>>>  ? ??? layer.112 2.304058313? 5.7149016
>>>>  ? ??? layer.113 2.330930233? 3.7780072
>>>>  ? ??? layer.114 2.357022762? 4.4120620
>>>>  ? ??? layer.115 2.386489272? 4.1866085
>>>>  ? ??? layer.116 2.417503953? 6.9078802
>>>>  ? ??? layer.117 2.448524356? 2.7825739
>>>>  ? ??? layer.118 2.478698969? 7.6171786
>>>>  ? ??? layer.119 2.510175705 10.2410603
>>>>  ? ??? layer.120 2.539697886? 8.1820711
>>>>  ? ??? layer.121 2.567915559? 4.8275494
>>>>  ? ??? layer.122 2.597463250 19.1624883
>>>>  ? ??? layer.123 2.627518773 16.0677109
>>>>  ? ??? layer.124 2.658759236 12.5897081
>>>>  ? ??? layer.125 2.692401528? 9.2907988
>>>>  ? ??? layer.126 2.721903205? 7.4262502
>>>>  ? ??? layer.127 2.753021359? 9.3902518
>>>>  ? ??? layer.128 2.786313415 12.6193550
>>>>  ? ??? layer.129 2.819564104 11.1121040
>>>>  ? ??? layer.130 2.850823164 15.7907100
>>>>  ? ??? layer.131 2.880394101 10.7425287
>>>>  ? ??? layer.132 2.911391258? 7.7971430
>>>>  ? ??? layer.133 2.942965150? 8.8060858
>>>>  ? ??? layer.134 2.974468350 17.5606266
>>>>  ? ??? layer.135 3.008983612 17.3088605
>>>>  ? ??? layer.136 3.040015221 13.4500543
>>>>  ? ??? layer.137 3.072668672 14.6377884
>>>>  ? ??? layer.138 3.105982423 8.0798552dput(onepctCO2MEDIAN)
>>>> dput(onepctCO2MEDIAN)
>>>>  ? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>>>>  ? ??? 0.0220879195258021,
>>>> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>>>>  ? ??? 0.0586777292191982, 0.0692614056169987,
>>>> 0.080524530261755,0.0927602462470531,
>>>>  ? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>>>> 0.141710050404072,
>>>>  ? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>>>> 0.199463054537773,
>>>>  ? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>>>> 0.263012766838074,
>>>>  ? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>>>> 0.325990349054337,
>>>>  ? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>>>> 0.39499294757843,
>>>>  ? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>>>> 0.470167458057404,
>>>>  ? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>>>> 0.543750524520874,
>>>>  ? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>>>> 0.619924664497375,
>>>>  ? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>>>> 0.704829752445221,
>>>>  ? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>>>> 0.783461511135101,
>>>>  ? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>>>> 0.871352434158325,
>>>>  ? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>>>> 0.959907650947571,
>>>>  ? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>>>> 1.05400913953781,
>>>>  ? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>>>> 1.14943087100983,
>>>>  ? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>>>> 1.24186837673187,
>>>>  ? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>>>> 1.33904588222504,
>>>>  ? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>>>> 1.43585115671158,
>>>>  ? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>>>> 1.52572846412659,
>>>>  ? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>>>> 1.62387949228287,
>>>>  ? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>>>> 1.72479337453842,
>>>>  ? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>>>> 1.83066886663437,
>>>>  ? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>>>> 1.93813002109528,
>>>>  ? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>>>> 2.05067992210388,
>>>>  ? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>>>> 2.16402626037598,
>>>>  ? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>>>> 2.27733504772186,
>>>>  ? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>>>> 2.38648927211761,
>>>>  ? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>>>> 2.51017570495605,
>>>>  ? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>>>> 2.62751877307892,
>>>>  ? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>>>> 2.75302135944366,
>>>>  ? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>>>> 2.88039410114288,
>>>>  ? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>>>> 3.00898361206055,
>>>>  ? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>>>>  ? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>>>> -1.24295055804536,
>>>>  ? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>>>> -2.36770012911069,
>>>>  ? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>>>> -2.41382533818026,
>>>>  ? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>>>> -1.53496826259972,
>>>>  ? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>>>> 0.136596820654013,
>>>>  ? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>>>> 0.793803634291308,
>>>>  ? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>>>> -1.41715777257774,
>>>>  ? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>>>> -0.737609879885404,
>>>>  ? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>>>> -0.978538630093809,
>>>>  ? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>>>> 3.91689160157513,
>>>>  ? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>>>> 8.15101701282067,
>>>>  ? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>>>> 1.54064657400204,
>>>>  ? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>>>> 9.37565121768513,
>>>>  ? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>>>> 2.80960651433971,
>>>>  ? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>>>> 8.86907069895943,
>>>>  ? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>>>> 7.68714830528144,
>>>>  ? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>>>> 1.64908991824022,
>>>>  ? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>>>> 3.99869636910933,
>>>>  ? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>>>> 3.5422970157433,
>>>>  ? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>>>> 9.94604963036295,
>>>>  ? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>>>> 13.7408303595752,
>>>>  ? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>>>> 13.4970905965787,
>>>>  ? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>>>> -0.156762622680077,
>>>>  ? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>>>> 11.3104332518482,
>>>>  ? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>>>> 9.6004907412354,
>>>>  ? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>>>> 5.56595224859066,
>>>>  ? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>>>> 5.44795836991128,
>>>>  ? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>>>> 3.77800720810782,
>>>>  ? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>>>> 2.78257393345915,
>>>>  ? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>>>> 4.82754943871433,
>>>>  ? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>>>> 9.29079879799404,
>>>>  ? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>>>> 11.1121039747257,
>>>>  ? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>>>> 8.80608578166101,
>>>>  ? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>>>> 14.6377884248645,
>>>>  ? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>>>>  ? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>>>>  ? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>>>> "layer.13",
>>>>  ? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>>>> "layer.19",
>>>>  ? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>>>> "layer.25",
>>>>  ? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>>>> "layer.31",
>>>>  ? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>>>> "layer.37",
>>>>  ? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>>>> "layer.43",
>>>>  ? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>>>> "layer.49",
>>>>  ? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>>>> "layer.55",
>>>>  ? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>>>> "layer.61",
>>>>  ? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>>>> "layer.67",
>>>>  ? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>>>> "layer.73",
>>>>  ? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>>>> "layer.79",
>>>>  ? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>>>> "layer.85",
>>>>  ? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>>>> "layer.91",
>>>>  ? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>>>> "layer.97",
>>>>  ? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>>>>  ? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>>>>  ? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>>>>  ? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>>>>  ? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>>>>  ? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>>>>  ? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>>>>  ? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>>>>  ? ??? "layer.138"))
>>>> I started with the following to generate the first regression line and
>>>> scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>>>> geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>>>>  ? ??? colour="blue") +
>> geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>>>>  ? ??? departurea), method=lm)
>>>> But I receive this error:? ??Warning message:
>>>>  ? ??? Computation failed in `stat_smooth()`:
>>>>  ? ??? 'what' must be a function or character string
>>>> A blue scatter plot is successfully generated, but the problem is that
>>>> the regression line does not appear, presumably related to the above
>>>> warning.
>>>> Is there a reason for this? I would appreciate any assistance!
>>>>  ? ??? [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jun  5 19:20:55 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 5 Jun 2019 13:20:55 -0400
Subject: [R] Sample function and prob argument
In-Reply-To: <003701d51b79$84e153d0$8ea3fb70$@helmholtz-muenchen.de>
References: <003701d51b79$84e153d0$8ea3fb70$@helmholtz-muenchen.de>
Message-ID: <b88589f8-0433-d51c-a552-ecacb5f25e78@gmail.com>

On 05/06/2019 4:34 a.m., le Gleut, Ronan wrote:
> Dear R-help mailing list,
> 
>   
> 
> First of all, many many thanks for your great work on the R project!
> 
>   
> 
> I have a very small issue regarding the sample function. Depending if we
> specify values for the prob argument, we don't get the same result for a
> random sampling with replacement and with equal probabilities. See the
> attached R code for a minimal example with the R version 3.6.0.
> 
>   
> 
> With a previous R version (3.5.x), the result was just a permutation
> between the possible realizations. They are now totally different with the
> latest R version.
> 
>   
> 
> I understand that if we specify or not the prob argument, two different
> internal functions are used: .Internal(sample()) or .Internal(sample2()).
> Indeed, the algorithm used to draw a sample may not be the same if by
> default we assume equal probabilities (without the prob argument) or if
> the user defines himself the probabilities (even if they are equal).
> 
>   
> 
> I found this post on stackoverflow which explains the reasons of this
> difference (answer by Matthew Lundberg):
> 
> https://stackoverflow.com/questions/23316729/r-sample-probabilities-defaul
> t-is-equal-weight-why-does-specifying-equal-weigh
> 
>   
> 
> I was wondering whether the solution proposed by PatrickT could solve this
> issue? He proposed to have something like if(all.equal(prob, prob,
> tolerance = .Machine$double.eps) prob = NULL inside the sample.int routine
> in order to replicate prob=NULL with prob=rep(1, length(x)).
> 

R has never promised that these will be the same, so I doubt if R will 
change the sample() function.  However, it's very easy for you to adopt 
something like PatrickT's solution for yourself.  Just use this function:

PatrickTsample <- function(x, size, replace = FALSE, prob = NULL) {
   if (!is.null(prob) && max(prob) == min(prob))
     prob <- NULL
   sample(x = x, size = size, replace = replace, prob = prob)
}

You might want a looser tolerance on the vector of probabilities 
depending on your context.

Duncan Murdoch


From e@ @end|ng |rom enr|co@chum@nn@net  Wed Jun  5 20:32:07 2019
From: e@ @end|ng |rom enr|co@chum@nn@net (Enrico Schumann)
Date: Wed, 05 Jun 2019 20:32:07 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190605160714.GA24635@debian64> (Frank Schwidom's message of
 "Wed, 5 Jun 2019 18:07:15 +0200")
References: <20190605160714.GA24635@debian64>
Message-ID: <87ef47x4rc.fsf@enricoschumann.net>

>>>>> "FS" == Frank Schwidom <schwidom at gmx.net> writes:

    FS> Hi,
    FS> As I can see via path.expand a filename which contains a tilde anywhere gets automatically crippled.

    FS> +> path.expand("a ~ b")
    FS> [1] "a /home/user b"

    FS> +> path.expand("a ~ b ~")
    FS> [1] "a /home/user b /home/user"

    FS> I want to open a file regardless whether its name contains any character unless 0.

    FS> The unix filesystem allow the creation of such files, it sould be possible to open these.

    FS> How can I switch off any file crippling activity?

    FS> Kind regards,
    FS> Frank

Do you need 'path.expand'? For example,

    readLines("~/Desktop/a ~ b")

reads just fine the content of a file named
'a ~ b' on my desktop.


-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From @chw|dom @end|ng |rom gmx@net  Wed Jun  5 21:50:44 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Wed, 5 Jun 2019 21:50:44 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <87ef47x4rc.fsf@enricoschumann.net>
References: <20190605160714.GA24635@debian64>
 <87ef47x4rc.fsf@enricoschumann.net>
Message-ID: <20190605195044.GA29059@debian64>

On 2019-06-05 20:32:07, Enrico Schumann wrote:
> >>>>> "FS" == Frank Schwidom <schwidom at gmx.net> writes:
>
>     FS> Hi,
>     FS> As I can see via path.expand a filename which contains a tilde anywhere gets automatically crippled.
>
>     FS> +> path.expand("a ~ b")
>     FS> [1] "a /home/user b"
>
>     FS> +> path.expand("a ~ b ~")
>     FS> [1] "a /home/user b /home/user"
>
>     FS> I want to open a file regardless whether its name contains any character unless 0.
>
>     FS> The unix filesystem allow the creation of such files, it sould be possible to open these.
>
>     FS> How can I switch off any file crippling activity?
>
>     FS> Kind regards,
>     FS> Frank
>
> Do you need 'path.expand'? For example,
>
>     readLines("~/Desktop/a ~ b")
>
> reads just fine the content of a file named
> 'a ~ b' on my desktop.
>
>
> --
> Enrico Schumann
> Lucerne, Switzerland
> http://enricoschumann.net
>

Thanks for yor answer.

$ echo 123 > ~/'a ~ b'.txt

ls ~/'a ~ b'.txt

/home/user/a ~ b.txt

+> readLines("~/a ~ b.txt")
Error in file(con, "r") : cannot open the connection
In addition: Warning message:
In file(con, "r") :
  cannot open file '/home/user/a /home/user b.txt': No such file or directory

+> version
               _
platform       x86_64-pc-linux-gnu
arch           x86_64
os             linux-gnu
system         x86_64, linux-gnu
status
major          3
minor          1.1
year           2014
month          07
day            10
svn rev        66115
language       R
version.string R version 3.1.1 (2014-07-10)
nickname       Sock it to Me

Kind regards,
Frank


From @chw|dom @end|ng |rom gmx@net  Wed Jun  5 21:56:47 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Wed, 5 Jun 2019 21:56:47 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <87ef47x4rc.fsf@enricoschumann.net>
References: <20190605160714.GA24635@debian64>
 <87ef47x4rc.fsf@enricoschumann.net>
Message-ID: <20190605195647.GA4209@debian64>

On 2019-06-05 20:32:07, Enrico Schumann wrote:
> >>>>> "FS" == Frank Schwidom <schwidom at gmx.net> writes:
>
>     FS> Hi,
>     FS> As I can see via path.expand a filename which contains a tilde anywhere gets automatically crippled.
>
>     FS> +> path.expand("a ~ b")
>     FS> [1] "a /home/user b"
>
>     FS> +> path.expand("a ~ b ~")
>     FS> [1] "a /home/user b /home/user"
>
>     FS> I want to open a file regardless whether its name contains any character unless 0.
>
>     FS> The unix filesystem allow the creation of such files, it sould be possible to open these.
>
>     FS> How can I switch off any file crippling activity?
>
>     FS> Kind regards,
>     FS> Frank
>
> Do you need 'path.expand'? For example,
>
>     readLines("~/Desktop/a ~ b")
>
> reads just fine the content of a file named
> 'a ~ b' on my desktop.
>
>
> --
> Enrico Schumann
> Lucerne, Switzerland
> http://enricoschumann.net
>

Appendix:

I found out in the meantime that I can use 'R --no-readline' but I want to use readline and I found no possible readline configuration /etc/inputrc).

And maybe it works as Rscript.

But that should be more consistent because it is in fact very basic.

Kind regards,
Frank


From jwd @end|ng |rom @urewe@t@net  Wed Jun  5 22:14:41 2019
From: jwd @end|ng |rom @urewe@t@net (John)
Date: Wed, 5 Jun 2019 13:14:41 -0700
Subject: [R] Mac/PC differences in lmer results
In-Reply-To: <5CBE1637-3941-4741-B5A4-8104F0B66386@gmail.com>
References: <5CBE1637-3941-4741-B5A4-8104F0B66386@gmail.com>
Message-ID: <20190605131441.6341ebd7@Draco.localdomain>

On Wed, 29 May 2019 18:44:26 +0200
Nicolas Schuck <nico.schuck at gmail.com> wrote:

> Dear fellow R coders, 
> 
> I am observing differences in results obtained using glmer when using
> a Mac or Linux computer versus a PC.... 

Just as an aside and point of information, both the Mac and the Linux
systems are PCs, just as much so as one running Windows.  The
designation "PC" refers to hardware.  Your question demands the extra
steps of thinking about what other operating system might be in use.
There are others though I doubt R is implemented on any of them.

JWDougherty


From r@i@1290 m@iii@g oii @im@com  Wed Jun  5 23:37:13 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Wed, 5 Jun 2019 21:37:13 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
Message-ID: <85074591.632264.1559770633796@mail.yahoo.com>

Hi Rui (and everyone),

Thank you so much for your response! Much appreciated!
What if I wanted I create several regression lines and scatter plots in the same ggplot using a "melted" dataset? I would like to create a scatter plot and regression line for both the objects of "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like this:

>NewestdataUltra
 x variable       value              L1
1   0.000000000        y  0.00000000 onepctCO2MEDIAN
2   0.006794447        y  4.90024902 onepctCO2MEDIAN
3   0.014288058        y  0.16079999 onepctCO2MEDIAN
4   0.022087920        y  6.63491326 onepctCO2MEDIAN
5   0.030797357        y -1.24295056 onepctCO2MEDIAN
6   0.038451072        y  1.56433744 onepctCO2MEDIAN
7   0.048087904        y -2.26590352 onepctCO2MEDIAN
8   0.058677729        y  2.20700446 onepctCO2MEDIAN
9   0.069261406        y -2.36770013 onepctCO2MEDIAN
10  0.080524530        y -1.09135062 onepctCO2MEDIAN
11  0.092760246        y  0.40999399 onepctCO2MEDIAN
12  0.103789609        y -0.12597268 onepctCO2MEDIAN
13  0.116953168        y -2.41382534 onepctCO2MEDIAN
14  0.129253298        y  7.08902570 onepctCO2MEDIAN
15  0.141710050        y -0.75935388 onepctCO2MEDIAN
16  0.156002052        y  0.04544160 onepctCO2MEDIAN
17  0.170648172        y -1.53496826 onepctCO2MEDIAN
18  0.185318425        y  6.55242014 onepctCO2MEDIAN
19  0.199463055        y -0.83125628 onepctCO2MEDIAN
20  0.213513337        y -2.50991826 onepctCO2MEDIAN
21  0.228839271        y  0.13659682 onepctCO2MEDIAN
22  0.246981293        y -1.37198445 onepctCO2MEDIAN
23  0.263012767        y -0.87129883 onepctCO2MEDIAN
24  0.278505564        y  0.66325836 onepctCO2MEDIAN
25  0.293658361        y  0.79380363 onepctCO2MEDIAN
26  0.310747266        y  3.48806374 onepctCO2MEDIAN
27  0.325990349        y -4.46122081 onepctCO2MEDIAN
28  0.342517540        y  0.08717340 onepctCO2MEDIAN
29  0.362751633        y -1.41715777 onepctCO2MEDIAN
30  0.380199537        y -0.99565082 onepctCO2MEDIAN
31  0.394992948        y  0.32155262 onepctCO2MEDIAN
32  0.414373398        y  3.14038657 onepctCO2MEDIAN
33  0.430690214        y -0.73760988 onepctCO2MEDIAN
34  0.449738145        y -2.48605407 onepctCO2MEDIAN
35  0.470167458        y -3.42358584 onepctCO2MEDIAN
36  0.489019871        y  0.48247475 onepctCO2MEDIAN
37  0.507242471        y -0.97853863 onepctCO2MEDIAN
38  0.524314284        y  8.53596838 onepctCO2MEDIAN
39  0.543750525        y  5.48447420 onepctCO2MEDIAN
40  0.564234197        y  3.21493666 onepctCO2MEDIAN
41  0.583679616        y  3.91689160 onepctCO2MEDIAN
42  0.601459444        y  4.49070196 onepctCO2MEDIAN
43  0.619924664        y  6.54104103 onepctCO2MEDIAN
44  0.639932007        y  4.80686500 onepctCO2MEDIAN
45  0.661347181        y  8.15101701 onepctCO2MEDIAN
46  0.684117317        y  0.26974132 onepctCO2MEDIAN
47  0.704829752        y -0.18075007 onepctCO2MEDIAN
48  0.725045770        y  9.71812491 onepctCO2MEDIAN
49  0.745165825        y  1.54064657 onepctCO2MEDIAN
50  0.765016139        y -1.64760409 onepctCO2MEDIAN
51  0.783461511        y  4.80246029 onepctCO2MEDIAN
52  0.806382924        y  4.04215160 onepctCO2MEDIAN
53  0.829241335        y  9.37565122 onepctCO2MEDIAN
54  0.849924415        y  5.33050497 onepctCO2MEDIAN
55  0.871352434        y  7.54458026 onepctCO2MEDIAN
56  0.893632233        y  6.46795471 onepctCO2MEDIAN
57  0.916052133        y  2.80960651 onepctCO2MEDIAN
58  0.938579470        y  5.39216613 onepctCO2MEDIAN
59  0.959907651        y  7.20436888 onepctCO2MEDIAN
60  0.981643587        y  3.33508065 onepctCO2MEDIAN
61  1.004116774        y  8.86907070 onepctCO2MEDIAN
62  1.028363466        y  1.78612989 onepctCO2MEDIAN
63  1.054009140        y  6.25550382 onepctCO2MEDIAN
64  1.072440803        y  7.60792365 onepctCO2MEDIAN
65  1.094457805        y  7.68714831 onepctCO2MEDIAN
66  1.123176277        y  4.77877639 onepctCO2MEDIAN
67  1.149430871        y 12.71105018 onepctCO2MEDIAN
68  1.170912921        y -0.71562844 onepctCO2MEDIAN
69  1.196743071        y  1.64908992 onepctCO2MEDIAN
70  1.218625903        y  3.03630241 onepctCO2MEDIAN
71  1.241868377        y  4.29747688 onepctCO2MEDIAN
72  1.267941594        y  1.95437781 onepctCO2MEDIAN
73  1.290708780        y  3.99869637 onepctCO2MEDIAN
74  1.313222289        y  4.51794725 onepctCO2MEDIAN
75  1.339045882        y  0.93379048 onepctCO2MEDIAN
76  1.362803459        y  3.30507700 onepctCO2MEDIAN
77  1.384450197        y  3.54229702 onepctCO2MEDIAN
78  1.409720302        y  5.99736597 onepctCO2MEDIAN
79  1.435851157        y  0.50818686 onepctCO2MEDIAN
80  1.455592215        y  7.96616301 onepctCO2MEDIAN
81  1.479495347        y  9.94604963 onepctCO2MEDIAN
82  1.506051958        y  3.79083717 onepctCO2MEDIAN
83  1.525728464        y  2.57358469 onepctCO2MEDIAN
84  1.549362063        y 10.14049742 onepctCO2MEDIAN
85  1.573440671        y 13.74083036 onepctCO2MEDIAN
86  1.600278735        y  0.93357712 onepctCO2MEDIAN
87  1.623879492        y  9.75887417 onepctCO2MEDIAN
88  1.650029302        y  1.27693947 onepctCO2MEDIAN
89  1.672362328        y 13.49709060 onepctCO2MEDIAN
90  1.700221121        y 10.20875018 onepctCO2MEDIAN
91  1.724793375        y  1.68112753 onepctCO2MEDIAN
92  1.751070559        y  6.11789915 onepctCO2MEDIAN
93  1.778022110        y -0.15676262 onepctCO2MEDIAN
94  1.803022087        y  3.82374792 onepctCO2MEDIAN
95  1.830668867        y  4.43314679 onepctCO2MEDIAN
96  1.855736911        y  5.97907067 onepctCO2MEDIAN
97  1.882615030        y 11.31043325 onepctCO2MEDIAN
98  1.909218490        y  8.21426074 onepctCO2MEDIAN
99  1.938130021        y 15.32096736 onepctCO2MEDIAN
100 1.963727593        y  5.81782169 onepctCO2MEDIAN
101 1.993271947        y  9.60049074 onepctCO2MEDIAN
102 2.022548139        y  3.40636456 onepctCO2MEDIAN
103 2.050679922        y  4.73750104 onepctCO2MEDIAN
104 2.078064442        y  3.01330195 onepctCO2MEDIAN
105 2.104113460        y  5.56595225 onepctCO2MEDIAN
106 2.133597612        y 12.03463325 onepctCO2MEDIAN
107 2.164026260        y -0.40283200 onepctCO2MEDIAN
108 2.194852829        y 10.59967795 onepctCO2MEDIAN
109 2.224257946        y  5.44795837 onepctCO2MEDIAN
110 2.252194643        y  4.70523736 onepctCO2MEDIAN
111 2.277335048        y 14.09620189 onepctCO2MEDIAN
112 2.304058313        y  5.71490162 onepctCO2MEDIAN
113 2.330930233        y  3.77800721 onepctCO2MEDIAN
114 2.357022762        y  4.41206201 onepctCO2MEDIAN
115 2.386489272        y  4.18660848 onepctCO2MEDIAN
116 2.417503953        y  6.90788020 onepctCO2MEDIAN
117 2.448524356        y  2.78257393 onepctCO2MEDIAN
118 2.478698969        y  7.61717857 onepctCO2MEDIAN
119 2.510175705        y 10.24106026 onepctCO2MEDIAN
120 2.539697886        y  8.18207107 onepctCO2MEDIAN
121 2.567915559        y  4.82754944 onepctCO2MEDIAN
122 2.597463250        y 19.16248829 onepctCO2MEDIAN
123 2.627518773        y 16.06771094 onepctCO2MEDIAN
124 2.658759236        y 12.58970807 onepctCO2MEDIAN
125 2.692401528        y  9.29079880 onepctCO2MEDIAN
126 2.721903205        y  7.42625020 onepctCO2MEDIAN
127 2.753021359        y  9.39025180 onepctCO2MEDIAN
128 2.786313415        y 12.61935503 onepctCO2MEDIAN
129 2.819564104        y 11.11210397 onepctCO2MEDIAN
130 2.850823164        y 15.79070997 onepctCO2MEDIAN
131 2.880394101        y 10.74252868 onepctCO2MEDIAN
132 2.911391258        y  7.79714300 onepctCO2MEDIAN
133 2.942965150        y  8.80608578 onepctCO2MEDIAN
134 2.974468350        y 17.56062663 onepctCO2MEDIAN
135 3.008983612        y 17.30886049 onepctCO2MEDIAN
136 3.040015221        y 13.45005435 onepctCO2MEDIAN
137 3.072668672        y 14.63778842 onepctCO2MEDIAN
138 3.105982423        y  8.07985518 onepctCO2MEDIAN
139 0.467429527        y -1.55704023    RCP4.5MEDIAN
140 0.478266196        y -3.19367515    RCP4.5MEDIAN
141 0.489205229        y -2.44452679    RCP4.5MEDIAN
142 0.500039143        y  0.87504367    RCP4.5MEDIAN
143 0.511021115        y -0.39185002    RCP4.5MEDIAN
144 0.519874968        y -4.18935168    RCP4.5MEDIAN
145 0.528508358        y -3.64179524    RCP4.5MEDIAN
146 0.537377594        y -2.58167128    RCP4.5MEDIAN
147 0.546194211        y  2.20583694    RCP4.5MEDIAN
148 0.554720591        y -8.57764597    RCP4.5MEDIAN
149 0.563289814        y  2.88442536    RCP4.5MEDIAN
150 0.572032790        y -3.90829882    RCP4.5MEDIAN
151 0.580939066        y -3.39269048    RCP4.5MEDIAN
152 0.590921065        y -4.60849867    RCP4.5MEDIAN
153 0.601575326        y -1.62572657    RCP4.5MEDIAN
154 0.612425555        y  1.14198465    RCP4.5MEDIAN
155 0.623773319        y -3.38454122    RCP4.5MEDIAN
156 0.635363359        y  2.43414265    RCP4.5MEDIAN
157 0.646722666        y  3.30007615    RCP4.5MEDIAN
158 0.658285673        y -0.79555442    RCP4.5MEDIAN
159 0.670250852        y -2.05220500    RCP4.5MEDIAN
160 0.681702690        y -5.56808946    RCP4.5MEDIAN
161 0.693531145        y  2.24168605    RCP4.5MEDIAN
162 0.706016061        y -4.83673351    RCP4.5MEDIAN
163 0.718231249        y  0.40086819    RCP4.5MEDIAN
164 0.730190911        y -1.98026992    RCP4.5MEDIAN
165 0.741269845        y  0.39963115    RCP4.5MEDIAN
166 0.751000321        y -0.83241777    RCP4.5MEDIAN
167 0.760886972        y -1.66101404    RCP4.5MEDIAN
168 0.771137164        y -1.05452982    RCP4.5MEDIAN
169 0.781856383        y -1.18338156    RCP4.5MEDIAN
170 0.792607542        y  0.22722653    RCP4.5MEDIAN
171 0.803724128        y -1.90642564    RCP4.5MEDIAN
172 0.815066246        y  0.75010550    RCP4.5MEDIAN
173 0.826027437        y -1.31108646    RCP4.5MEDIAN
174 0.836766732        y  1.05961515    RCP4.5MEDIAN
175 0.847553312        y -2.06588010    RCP4.5MEDIAN
176 0.858331452        y  8.53403315    RCP4.5MEDIAN
177 0.869154422        y  0.09979751    RCP4.5MEDIAN
178 0.879572539        y -2.50854353    RCP4.5MEDIAN
179 0.889426601        y  5.29550783    RCP4.5MEDIAN
180 0.899009805        y  2.02909481    RCP4.5MEDIAN
181 0.908289566        y  2.66922982    RCP4.5MEDIAN
182 0.917284978        y -4.17757196    RCP4.5MEDIAN
183 0.926128960        y  3.40202916    RCP4.5MEDIAN
184 0.934752874        y -1.92292218    RCP4.5MEDIAN
185 0.943010943        y  6.36969150    RCP4.5MEDIAN
186 0.950999217        y  1.86490308    RCP4.5MEDIAN
187 0.958795701        y  8.32126161    RCP4.5MEDIAN
188 0.966310396        y 10.15048356    RCP4.5MEDIAN
189 0.973635493        y  6.68925964    RCP4.5MEDIAN
190 0.980834088        y -1.01615369    RCP4.5MEDIAN
191 0.987694790        y  0.20892853    RCP4.5MEDIAN
192 0.994548581        y -1.52787222    RCP4.5MEDIAN
193 1.001274595        y -0.72374597    RCP4.5MEDIAN
194 1.007810612        y  2.26062309    RCP4.5MEDIAN
195 1.014270389        y -2.40270340    RCP4.5MEDIAN
196 1.022719711        y -1.94548262    RCP4.5MEDIAN
197 1.032070810        y -1.13053235    RCP4.5MEDIAN
198 1.041118812        y  0.56107969    RCP4.5MEDIAN
199 1.050189571        y  3.27941835    RCP4.5MEDIAN
200 1.059380475        y  3.01333588    RCP4.5MEDIAN
201 1.067877585        y  4.87457336    RCP4.5MEDIAN
202 1.076078766        y  1.02457895    RCP4.5MEDIAN
203 1.084707357        y  4.49174869    RCP4.5MEDIAN
204 1.093223180        y  8.24629303    RCP4.5MEDIAN
205 1.101414382        y -0.03364132    RCP4.5MEDIAN
206 1.108886304        y  9.12509848    RCP4.5MEDIAN
207 1.115482896        y  1.74254621    RCP4.5MEDIAN
208 1.121856558        y  2.27004536    RCP4.5MEDIAN
209 1.127809421        y -0.65627179    RCP4.5MEDIAN
210 1.133265961        y 12.02566969    RCP4.5MEDIAN
211 1.138549712        y -1.04260843    RCP4.5MEDIAN
212 1.143910237        y -6.47611327    RCP4.5MEDIAN
213 1.149437787        y  8.88410567    RCP4.5MEDIAN
214 1.154488347        y -4.24916247    RCP4.5MEDIAN
215 1.159872903        y  7.90741918    RCP4.5MEDIAN
216 1.165477487        y -3.91386711    RCP4.5MEDIAN
217 1.171103424        y  1.02370701    RCP4.5MEDIAN
218 1.177498256        y -3.71206616    RCP4.5MEDIAN
219 1.184003888        y -1.05694182    RCP4.5MEDIAN
220 1.190395856        y  1.10501459    RCP4.5MEDIAN
221 1.197284280        y  2.67668639    RCP4.5MEDIAN
222 1.204590551        y  2.21693031    RCP4.5MEDIAN
223 1.210807614        y  2.90252830    RCP4.5MEDIAN
224 1.216470664        y  2.75093766    RCP4.5MEDIAN
225 1.221914148        y -0.73815245    RCP4.5MEDIAN
226 1.227580480        y  3.58554626    RCP4.5MEDIAN
227 1.233317788        y 10.89961658    RCP4.5MEDIAN
228 1.238093406        y  3.23374387    RCP4.5MEDIAN
229 0.466622908        y -1.92366466    RCP8.5MEDIAN
230 0.474211509        y  4.09292949    RCP8.5MEDIAN
231 0.480383051        y -0.84736312    RCP8.5MEDIAN
232 0.486304903        y -0.80597889    RCP8.5MEDIAN
233 0.492151615        y -0.50244413    RCP8.5MEDIAN
234 0.499312643        y  3.07785701    RCP8.5MEDIAN
235 0.508859905        y -6.15175322    RCP8.5MEDIAN
236 0.518758845        y -0.51590144    RCP8.5MEDIAN
237 0.528675758        y  3.33135956    RCP8.5MEDIAN
238 0.538928423        y  2.62280891    RCP8.5MEDIAN
239 0.549621221        y -6.90096009    RCP8.5MEDIAN
240 0.560062840        y -3.45706029    RCP8.5MEDIAN
241 0.570860791        y  1.36192518    RCP8.5MEDIAN
242 0.581923368        y  0.34822359    RCP8.5MEDIAN
243 0.592628298        y  3.06882935    RCP8.5MEDIAN
244 0.604230648        y -3.56142825    RCP8.5MEDIAN
245 0.615975167        y 10.35932554    RCP8.5MEDIAN
246 0.627448279        y 10.21751629    RCP8.5MEDIAN
247 0.639401050        y  3.31040335    RCP8.5MEDIAN
248 0.651949591        y -0.53558775    RCP8.5MEDIAN
249 0.664634427        y  2.66081860    RCP8.5MEDIAN
250 0.677343552        y  3.21379656    RCP8.5MEDIAN

Maybe something like this?

lusher<-ggplot(NewestdataULTRA) + geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") + geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) + geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")

I receive this warning, however:
Warning: Ignoring unknown aesthetics: onepctCO2MEDIAN
Warning: Ignoring unknown aesthetics: onepctCO2MEDIAN
Perhaps I am not assigning the columns properly? Essentially, I just want create two scatter plots and two regression lines for these two objects.?
Once again, any assistance would be greatly appreciated!
-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt>
To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>; r-sig-geo <r-sig-geo at r-project.org>
Sent: Wed, Jun 5, 2019 10:52 am
Subject: Re: [R] Plotting more than one regression line in ggplot

Hello,

This is pretty basic ggplot.


lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
? geom_point(colour = 'blue') +
? geom_smooth(method = 'lm')

lm1


If you want to combine several datasets, you will have to have a 
variable telling which dataset is which. In the example below, this is 
column 'id'.


onepctCO2MEDIAN2 <- onepctCO2MEDIAN
onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
onepctCO2MEDIAN$id <- 1
onepctCO2MEDIAN2$id <- 2
df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)

ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
? geom_point() +
? geom_smooth(method = 'lm')


Hope this helps,

Rui Barradas

?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
> I am trying to plot, using ggplot, a series of scatter plots with regression lines for several datasets. I started with the following dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>? ??? onepctCO2MEDIAN
>? ??????????????????? x????????? y
>? ??? layer.1?? 0.000000000? 0.0000000
>? ??? layer.2?? 0.006794447? 4.9002490
>? ??? layer.3?? 0.014288058? 0.1608000
>? ??? layer.4?? 0.022087920? 6.6349133
>? ??? layer.5?? 0.030797357 -1.2429506
>? ??? layer.6?? 0.038451072? 1.5643374
>? ??? layer.7?? 0.048087904 -2.2659035
>? ??? layer.8?? 0.058677729? 2.2070045
>? ??? layer.9?? 0.069261406 -2.3677001
>? ??? layer.10? 0.080524530 -1.0913506
>? ??? layer.11? 0.092760246? 0.4099940
>? ??? layer.12? 0.103789609 -0.1259727
>? ??? layer.13? 0.116953168 -2.4138253
>? ??? layer.14? 0.129253298? 7.0890257
>? ??? layer.15? 0.141710050 -0.7593539
>? ??? layer.16? 0.156002052? 0.0454416
>? ??? layer.17? 0.170648172 -1.5349683
>? ??? layer.18? 0.185318425? 6.5524201
>? ??? layer.19? 0.199463055 -0.8312563
>? ??? layer.20? 0.213513337 -2.5099183
>? ??? layer.21? 0.228839271? 0.1365968
>? ??? layer.22? 0.246981293 -1.3719845
>? ??? layer.23? 0.263012767 -0.8712988
>? ??? layer.24? 0.278505564? 0.6632584
>? ??? layer.25? 0.293658361? 0.7938036
>? ??? layer.26? 0.310747266? 3.4880637
>? ??? layer.27? 0.325990349 -4.4612208
>? ??? layer.28? 0.342517540? 0.0871734
>? ??? layer.29? 0.362751633 -1.4171578
>? ??? layer.30? 0.380199537 -0.9956508
>? ??? layer.31? 0.394992948? 0.3215526
>? ??? layer.32? 0.414373398? 3.1403866
>? ??? layer.33? 0.430690214 -0.7376099
>? ??? layer.34? 0.449738145 -2.4860541
>? ??? layer.35? 0.470167458 -3.4235858
>? ??? layer.36? 0.489019871? 0.4824748
>? ??? layer.37? 0.507242471 -0.9785386
>? ??? layer.38? 0.524314284? 8.5359684
>? ??? layer.39? 0.543750525? 5.4844742
>? ??? layer.40? 0.564234197? 3.2149367
>? ??? layer.41? 0.583679616? 3.9168916
>? ??? layer.42? 0.601459444? 4.4907020
>? ??? layer.43? 0.619924664? 6.5410410
>? ??? layer.44? 0.639932007? 4.8068650
>? ??? layer.45? 0.661347181? 8.1510170
>? ??? layer.46? 0.684117317? 0.2697413
>? ??? layer.47? 0.704829752 -0.1807501
>? ??? layer.48? 0.725045770? 9.7181249
>? ??? layer.49? 0.745165825? 1.5406466
>? ??? layer.50? 0.765016139 -1.6476041
>? ??? layer.51? 0.783461511? 4.8024603
>? ??? layer.52? 0.806382924? 4.0421516
>? ??? layer.53? 0.829241335? 9.3756512
>? ??? layer.54? 0.849924415? 5.3305050
>? ??? layer.55? 0.871352434? 7.5445803
>? ??? layer.56? 0.893632233? 6.4679547
>? ??? layer.57? 0.916052133? 2.8096065
>? ??? layer.58? 0.938579470? 5.3921661
>? ??? layer.59? 0.959907651? 7.2043689
>? ??? layer.60? 0.981643587? 3.3350806
>? ??? layer.61? 1.004116774? 8.8690707
>? ??? layer.62? 1.028363466? 1.7861299
>? ??? layer.63? 1.054009140? 6.2555038
>? ??? layer.64? 1.072440803? 7.6079236
>? ??? layer.65? 1.094457805? 7.6871483
>? ??? layer.66? 1.123176277? 4.7787764
>? ??? layer.67? 1.149430871 12.7110502
>? ??? layer.68? 1.170912921 -0.7156284
>? ??? layer.69? 1.196743071? 1.6490899
>? ??? layer.70? 1.218625903? 3.0363024
>? ??? layer.71? 1.241868377? 4.2974769
>? ??? layer.72? 1.267941594? 1.9543778
>? ??? layer.73? 1.290708780? 3.9986964
>? ??? layer.74? 1.313222289? 4.5179472
>? ??? layer.75? 1.339045882? 0.9337905
>? ??? layer.76? 1.362803459? 3.3050770
>? ??? layer.77? 1.384450197? 3.5422970
>? ??? layer.78? 1.409720302? 5.9973660
>? ??? layer.79? 1.435851157? 0.5081869
>? ??? layer.80? 1.455592215? 7.9661630
>? ??? layer.81? 1.479495347? 9.9460496
>? ??? layer.82? 1.506051958? 3.7908372
>? ??? layer.83? 1.525728464? 2.5735847
>? ??? layer.84? 1.549362063 10.1404974
>? ??? layer.85? 1.573440671 13.7408304
>? ??? layer.86? 1.600278735? 0.9335771
>? ??? layer.87? 1.623879492? 9.7588742
>? ??? layer.88? 1.650029302? 1.2769395
>? ??? layer.89? 1.672362328 13.4970906
>? ??? layer.90? 1.700221121 10.2087502
>? ??? layer.91? 1.724793375? 1.6811275
>? ??? layer.92? 1.751070559? 6.1178992
>? ??? layer.93? 1.778022110 -0.1567626
>? ??? layer.94? 1.803022087? 3.8237479
>? ??? layer.95? 1.830668867? 4.4331468
>? ??? layer.96? 1.855736911? 5.9790707
>? ??? layer.97? 1.882615030 11.3104333
>? ??? layer.98? 1.909218490? 8.2142607
>? ??? layer.99? 1.938130021 15.3209674
>? ??? layer.100 1.963727593? 5.8178217
>? ??? layer.101 1.993271947? 9.6004907
>? ??? layer.102 2.022548139? 3.4063646
>? ??? layer.103 2.050679922? 4.7375010
>? ??? layer.104 2.078064442? 3.0133019
>? ??? layer.105 2.104113460? 5.5659522
>? ??? layer.106 2.133597612 12.0346333
>? ??? layer.107 2.164026260 -0.4028320
>? ??? layer.108 2.194852829 10.5996780
>? ??? layer.109 2.224257946? 5.4479584
>? ??? layer.110 2.252194643? 4.7052374
>? ??? layer.111 2.277335048 14.0962019
>? ??? layer.112 2.304058313? 5.7149016
>? ??? layer.113 2.330930233? 3.7780072
>? ??? layer.114 2.357022762? 4.4120620
>? ??? layer.115 2.386489272? 4.1866085
>? ??? layer.116 2.417503953? 6.9078802
>? ??? layer.117 2.448524356? 2.7825739
>? ??? layer.118 2.478698969? 7.6171786
>? ??? layer.119 2.510175705 10.2410603
>? ??? layer.120 2.539697886? 8.1820711
>? ??? layer.121 2.567915559? 4.8275494
>? ??? layer.122 2.597463250 19.1624883
>? ??? layer.123 2.627518773 16.0677109
>? ??? layer.124 2.658759236 12.5897081
>? ??? layer.125 2.692401528? 9.2907988
>? ??? layer.126 2.721903205? 7.4262502
>? ??? layer.127 2.753021359? 9.3902518
>? ??? layer.128 2.786313415 12.6193550
>? ??? layer.129 2.819564104 11.1121040
>? ??? layer.130 2.850823164 15.7907100
>? ??? layer.131 2.880394101 10.7425287
>? ??? layer.132 2.911391258? 7.7971430
>? ??? layer.133 2.942965150? 8.8060858
>? ??? layer.134 2.974468350 17.5606266
>? ??? layer.135 3.008983612 17.3088605
>? ??? layer.136 3.040015221 13.4500543
>? ??? layer.137 3.072668672 14.6377884
>? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)??? dput(onepctCO2MEDIAN)
>? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>? ??? 0.0220879195258021, 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>? ??? 0.0586777292191982, 0.0692614056169987, 0.080524530261755,0.0927602462470531,
>? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205, 0.141710050404072,
>? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737, 0.199463054537773,
>? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028, 0.263012766838074,
>? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735, 0.325990349054337,
>? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175, 0.39499294757843,
>? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573, 0.470167458057404,
>? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646, 0.543750524520874,
>? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183, 0.619924664497375,
>? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707, 0.704829752445221,
>? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619, 0.783461511135101,
>? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996, 0.871352434158325,
>? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205, 0.959907650947571,
>? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282, 1.05400913953781,
>? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381, 1.14943087100983,
>? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958, 1.24186837673187,
>? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539, 1.33904588222504,
>? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811, 1.43585115671158,
>? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727, 1.52572846412659,
>? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083, 1.62387949228287,
>? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119, 1.72479337453842,
>? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033, 1.83066886663437,
>? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375, 1.93813002109528,
>? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531, 2.05067992210388,
>? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098, 2.16402626037598,
>? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063, 2.27733504772186,
>? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858, 2.38648927211761,
>? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733, 2.51017570495605,
>? ??? 2.53969788551331, 2.567915558815, 2.59746325016022, 2.62751877307892,
>? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791, 2.75302135944366,
>? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621, 2.88039410114288,
>? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046, 3.00898361206055,
>? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641, -1.24295055804536,
>? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354, -2.36770012911069,
>? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582, -2.41382533818026,
>? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926, -1.53496826259972,
>? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084, 0.136596820654013,
>? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466, 0.793803634291308,
>? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564, -1.41715777257774,
>? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241, -0.737609879885404,
>? ??? -2.48605406511292, -3.423585843908, 0.482474753780281, -0.978538630093809,
>? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644, 3.91689160157513,
>? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557, 8.15101701282067,
>? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244, 1.54064657400204,
>? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344, 9.37565121768513,
>? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342, 2.80960651433971,
>? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997, 8.86907069895943,
>? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564, 7.68714830528144,
>? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046, 1.64908991824022,
>? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881, 3.99869636910933,
>? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003, 3.5422970157433,
>? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067, 9.94604963036295,
>? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776, 13.7408303595752,
>? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921, 13.4970905965787,
>? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927, -0.156762622680077,
>? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507, 11.3104332518482,
>? ??? 8.21426074201525, 15.320967360602, 5.81782169471483, 9.6004907412354,
>? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806, 5.56595224859066,
>? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754, 5.44795836991128,
>? ??? 4.70523736412729, 14.096201892183, 5.71490161813391, 3.77800720810782,
>? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911, 2.78257393345915,
>? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167, 4.82754943871433,
>? ??? 19.1624882857155, 16.0677109398509, 12.589708067017, 9.29079879799404,
>? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438, 11.1121039747257,
>? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344, 8.80608578166101,
>? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523, 14.6377884248645,
>? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", "layer.13",
>? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", "layer.19",
>? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", "layer.25",
>? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", "layer.31",
>? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", "layer.37",
>? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", "layer.43",
>? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", "layer.49",
>? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", "layer.55",
>? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", "layer.61",
>? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", "layer.67",
>? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", "layer.73",
>? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", "layer.79",
>? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", "layer.85",
>? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", "layer.91",
>? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", "layer.97",
>? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>? ??? "layer.138"))
> I started with the following to generate the first regression line and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>? ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>? ??? departurea), method=lm)
> But I receive this error:? ??Warning message:
>? ??? Computation failed in `stat_smooth()`:
>? ??? 'what' must be a function or character string
> A blue scatter plot is successfully generated, but the problem is that the regression line does not appear, presumably related to the above warning.
> Is there a reason for this? I would appreciate any assistance!
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Thu Jun  6 00:11:51 2019
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Thu, 6 Jun 2019 10:11:51 +1200
Subject: [R] Parallel processes collapse into one
In-Reply-To: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>
References: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>
Message-ID: <CAB8pepwG7-f8NxpUvhTLJy2Q07JMEj+9MyhU4HMKGbzjMLnxOA@mail.gmail.com>

> I have written an R package to collect some functions to run simulations
> for a research project. Main functions are written in C and make use of
> BLAS routines, such as dsymm, dgemm, and ddot. I run simulations in
> parallel by using mclapply and the problem is that after some point all R
> instances collapse into one: R seems to be running, but simulations do not
> progress further. If I run simulations on 16 cores I end up having an R
> instance with CPU usage about 1600%, never experienced such a behaviour.

This is outside my area.
However, my suggestion is that you provide a *minimal reproducible* example.
I think you're more likely to get responses.

Also note that there's an R mailing list for high performance computing,
however, it doesn't appear to be very active, so I'm not sure which is the
best mailing list to use.
Maybe someone else can comment on this...?

	[[alternative HTML version deleted]]


From gud|e|@@dv92 @end|ng |rom gm@||@com  Wed Jun  5 23:38:29 2019
From: gud|e|@@dv92 @end|ng |rom gm@||@com (Ricardo Lopez)
Date: Wed, 5 Jun 2019 16:38:29 -0500
Subject: [R] max size of a file that R can open to work
Message-ID: <CAEazNmne9u_ja2AW2wApa2AkwjPFTNTEeMqNN4FkySi6o5rarA@mail.gmail.com>

Hello, I?d like to ask you if the max size of a file that R can open  or
import to work depends of the memory RAM??  or has other restriction???

Thank you very much

	[[alternative HTML version deleted]]


From e@ @end|ng |rom enr|co@chum@nn@net  Thu Jun  6 08:07:28 2019
From: e@ @end|ng |rom enr|co@chum@nn@net (Enrico Schumann)
Date: Thu, 06 Jun 2019 08:07:28 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190605195647.GA4209@debian64>
References: <20190605160714.GA24635@debian64>
 <87ef47x4rc.fsf@enricoschumann.net> <20190605195647.GA4209@debian64>
Message-ID: <20190606080728.Horde.lZIMrONgrnrBDgl60iq-l75@webmail.your-server.de>


Quoting Frank Schwidom <schwidom at gmx.net>:

> On 2019-06-05 20:32:07, Enrico Schumann wrote:
>> >>>>> "FS" == Frank Schwidom <schwidom at gmx.net> writes:
>>
>>     FS> Hi,
>>     FS> As I can see via path.expand a filename which contains a     
>>  FS> tilde anywhere gets automatically crippled.
>>
>>     FS> +> path.expand("a ~ b")
>>     FS> [1] "a /home/user b"
>>
>>     FS> +> path.expand("a ~ b ~")
>>     FS> [1] "a /home/user b /home/user"
>>
>>     FS> I want to open a file regardless whether its name contains   
>>    FS> any character unless 0.
>>
>>     FS> The unix filesystem allow the creation of such files, it     
>>  FS> sould be possible to open these.
>>
>>     FS> How can I switch off any file crippling activity?
>>
>>     FS> Kind regards,
>>     FS> Frank
>>
>> Do you need 'path.expand'? For example,
>>
>>     readLines("~/Desktop/a ~ b")
>>
>> reads just fine the content of a file named
>> 'a ~ b' on my desktop.
>>
>
> Appendix:
>
> I found out in the meantime that I can use 'R --no-readline' but I  
> want to use readline and I found no possible readline configuration  
> /etc/inputrc).
>
> And maybe it works as Rscript.
>
> But that should be more consistent because it is in fact very basic.
>
> Kind regards,
> Frank

You're right. I ran the example from Emacs/ESS.
There it worked, but only because ESS uses '--no-readline'
as a default (i.e. 'ess-R-readline' is set to nil).
With readline enabled, it fails (with R 3.6.0).


-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jun  6 08:42:31 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 6 Jun 2019 06:42:31 +0000
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <85074591.632264.1559770633796@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
Message-ID: <5330f294b7924977b524d583e50f8fd5@SRVEXCHCM1302.precheza.cz>

Hi

It is probably time to consult documentation, including R-Intro. GGplot paradigm is that you have set of values (x,y) and factor variable(s) used for changing colour, size, plotting character or several other plot items.

so something like
pl <- ggplot(NewestdataULTRA, aes(x=x, y=value, colour=L1))
pl +geom_point()+geom_smooth(method="lm")

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of rain1290--- via R-
> help
> Sent: Wednesday, June 5, 2019 11:37 PM
> To: ruipbarradas at sapo.pt; r-help at R-project.org; r-sig-geo at r-project.org
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Hi Rui (and everyone),
>
> Thank you so much for your response! Much appreciated!
> What if I wanted I create several regression lines and scatter plots in the same
> ggplot using a "melted" dataset? I would like to create a scatter plot and
> regression line for both the objects of "onepctCO2MEDIAN" and
> "RCP8.5MEDIANThis melted dataset looks like this:
>
> >NewestdataUltra
>  x variable       value              L1
> 1   0.000000000        y  0.00000000 onepctCO2MEDIAN
> 2   0.006794447        y  4.90024902 onepctCO2MEDIAN
> 3   0.014288058        y  0.16079999 onepctCO2MEDIAN
> 4   0.022087920        y  6.63491326 onepctCO2MEDIAN
> 5   0.030797357        y -1.24295056 onepctCO2MEDIAN
> 6   0.038451072        y  1.56433744 onepctCO2MEDIAN
> 7   0.048087904        y -2.26590352 onepctCO2MEDIAN
> 8   0.058677729        y  2.20700446 onepctCO2MEDIAN
> 9   0.069261406        y -2.36770013 onepctCO2MEDIAN
> 10  0.080524530        y -1.09135062 onepctCO2MEDIAN
> 11  0.092760246        y  0.40999399 onepctCO2MEDIAN
> 12  0.103789609        y -0.12597268 onepctCO2MEDIAN
> 13  0.116953168        y -2.41382534 onepctCO2MEDIAN
> 14  0.129253298        y  7.08902570 onepctCO2MEDIAN
> 15  0.141710050        y -0.75935388 onepctCO2MEDIAN
> 16  0.156002052        y  0.04544160 onepctCO2MEDIAN
> 17  0.170648172        y -1.53496826 onepctCO2MEDIAN
> 18  0.185318425        y  6.55242014 onepctCO2MEDIAN
> 19  0.199463055        y -0.83125628 onepctCO2MEDIAN
> 20  0.213513337        y -2.50991826 onepctCO2MEDIAN
> 21  0.228839271        y  0.13659682 onepctCO2MEDIAN
> 22  0.246981293        y -1.37198445 onepctCO2MEDIAN
> 23  0.263012767        y -0.87129883 onepctCO2MEDIAN
> 24  0.278505564        y  0.66325836 onepctCO2MEDIAN
> 25  0.293658361        y  0.79380363 onepctCO2MEDIAN
> 26  0.310747266        y  3.48806374 onepctCO2MEDIAN
> 27  0.325990349        y -4.46122081 onepctCO2MEDIAN
> 28  0.342517540        y  0.08717340 onepctCO2MEDIAN
> 29  0.362751633        y -1.41715777 onepctCO2MEDIAN
> 30  0.380199537        y -0.99565082 onepctCO2MEDIAN
> 31  0.394992948        y  0.32155262 onepctCO2MEDIAN
> 32  0.414373398        y  3.14038657 onepctCO2MEDIAN
> 33  0.430690214        y -0.73760988 onepctCO2MEDIAN
> 34  0.449738145        y -2.48605407 onepctCO2MEDIAN
> 35  0.470167458        y -3.42358584 onepctCO2MEDIAN
> 36  0.489019871        y  0.48247475 onepctCO2MEDIAN
> 37  0.507242471        y -0.97853863 onepctCO2MEDIAN
> 38  0.524314284        y  8.53596838 onepctCO2MEDIAN
> 39  0.543750525        y  5.48447420 onepctCO2MEDIAN
> 40  0.564234197        y  3.21493666 onepctCO2MEDIAN
> 41  0.583679616        y  3.91689160 onepctCO2MEDIAN
> 42  0.601459444        y  4.49070196 onepctCO2MEDIAN
> 43  0.619924664        y  6.54104103 onepctCO2MEDIAN
> 44  0.639932007        y  4.80686500 onepctCO2MEDIAN
> 45  0.661347181        y  8.15101701 onepctCO2MEDIAN
> 46  0.684117317        y  0.26974132 onepctCO2MEDIAN
> 47  0.704829752        y -0.18075007 onepctCO2MEDIAN
> 48  0.725045770        y  9.71812491 onepctCO2MEDIAN
> 49  0.745165825        y  1.54064657 onepctCO2MEDIAN
> 50  0.765016139        y -1.64760409 onepctCO2MEDIAN
> 51  0.783461511        y  4.80246029 onepctCO2MEDIAN
> 52  0.806382924        y  4.04215160 onepctCO2MEDIAN
> 53  0.829241335        y  9.37565122 onepctCO2MEDIAN
> 54  0.849924415        y  5.33050497 onepctCO2MEDIAN
> 55  0.871352434        y  7.54458026 onepctCO2MEDIAN
> 56  0.893632233        y  6.46795471 onepctCO2MEDIAN
> 57  0.916052133        y  2.80960651 onepctCO2MEDIAN
> 58  0.938579470        y  5.39216613 onepctCO2MEDIAN
> 59  0.959907651        y  7.20436888 onepctCO2MEDIAN
> 60  0.981643587        y  3.33508065 onepctCO2MEDIAN
> 61  1.004116774        y  8.86907070 onepctCO2MEDIAN
> 62  1.028363466        y  1.78612989 onepctCO2MEDIAN
> 63  1.054009140        y  6.25550382 onepctCO2MEDIAN
> 64  1.072440803        y  7.60792365 onepctCO2MEDIAN
> 65  1.094457805        y  7.68714831 onepctCO2MEDIAN
> 66  1.123176277        y  4.77877639 onepctCO2MEDIAN
> 67  1.149430871        y 12.71105018 onepctCO2MEDIAN
> 68  1.170912921        y -0.71562844 onepctCO2MEDIAN
> 69  1.196743071        y  1.64908992 onepctCO2MEDIAN
> 70  1.218625903        y  3.03630241 onepctCO2MEDIAN
> 71  1.241868377        y  4.29747688 onepctCO2MEDIAN
> 72  1.267941594        y  1.95437781 onepctCO2MEDIAN
> 73  1.290708780        y  3.99869637 onepctCO2MEDIAN
> 74  1.313222289        y  4.51794725 onepctCO2MEDIAN
> 75  1.339045882        y  0.93379048 onepctCO2MEDIAN
> 76  1.362803459        y  3.30507700 onepctCO2MEDIAN
> 77  1.384450197        y  3.54229702 onepctCO2MEDIAN
> 78  1.409720302        y  5.99736597 onepctCO2MEDIAN
> 79  1.435851157        y  0.50818686 onepctCO2MEDIAN
> 80  1.455592215        y  7.96616301 onepctCO2MEDIAN
> 81  1.479495347        y  9.94604963 onepctCO2MEDIAN
> 82  1.506051958        y  3.79083717 onepctCO2MEDIAN
> 83  1.525728464        y  2.57358469 onepctCO2MEDIAN
> 84  1.549362063        y 10.14049742 onepctCO2MEDIAN
> 85  1.573440671        y 13.74083036 onepctCO2MEDIAN
> 86  1.600278735        y  0.93357712 onepctCO2MEDIAN
> 87  1.623879492        y  9.75887417 onepctCO2MEDIAN
> 88  1.650029302        y  1.27693947 onepctCO2MEDIAN
> 89  1.672362328        y 13.49709060 onepctCO2MEDIAN
> 90  1.700221121        y 10.20875018 onepctCO2MEDIAN
> 91  1.724793375        y  1.68112753 onepctCO2MEDIAN
> 92  1.751070559        y  6.11789915 onepctCO2MEDIAN
> 93  1.778022110        y -0.15676262 onepctCO2MEDIAN
> 94  1.803022087        y  3.82374792 onepctCO2MEDIAN
> 95  1.830668867        y  4.43314679 onepctCO2MEDIAN
> 96  1.855736911        y  5.97907067 onepctCO2MEDIAN
> 97  1.882615030        y 11.31043325 onepctCO2MEDIAN
> 98  1.909218490        y  8.21426074 onepctCO2MEDIAN
> 99  1.938130021        y 15.32096736 onepctCO2MEDIAN
> 100 1.963727593        y  5.81782169 onepctCO2MEDIAN
> 101 1.993271947        y  9.60049074 onepctCO2MEDIAN
> 102 2.022548139        y  3.40636456 onepctCO2MEDIAN
> 103 2.050679922        y  4.73750104 onepctCO2MEDIAN
> 104 2.078064442        y  3.01330195 onepctCO2MEDIAN
> 105 2.104113460        y  5.56595225 onepctCO2MEDIAN
> 106 2.133597612        y 12.03463325 onepctCO2MEDIAN
> 107 2.164026260        y -0.40283200 onepctCO2MEDIAN
> 108 2.194852829        y 10.59967795 onepctCO2MEDIAN
> 109 2.224257946        y  5.44795837 onepctCO2MEDIAN
> 110 2.252194643        y  4.70523736 onepctCO2MEDIAN
> 111 2.277335048        y 14.09620189 onepctCO2MEDIAN
> 112 2.304058313        y  5.71490162 onepctCO2MEDIAN
> 113 2.330930233        y  3.77800721 onepctCO2MEDIAN
> 114 2.357022762        y  4.41206201 onepctCO2MEDIAN
> 115 2.386489272        y  4.18660848 onepctCO2MEDIAN
> 116 2.417503953        y  6.90788020 onepctCO2MEDIAN
> 117 2.448524356        y  2.78257393 onepctCO2MEDIAN
> 118 2.478698969        y  7.61717857 onepctCO2MEDIAN
> 119 2.510175705        y 10.24106026 onepctCO2MEDIAN
> 120 2.539697886        y  8.18207107 onepctCO2MEDIAN
> 121 2.567915559        y  4.82754944 onepctCO2MEDIAN
> 122 2.597463250        y 19.16248829 onepctCO2MEDIAN
> 123 2.627518773        y 16.06771094 onepctCO2MEDIAN
> 124 2.658759236        y 12.58970807 onepctCO2MEDIAN
> 125 2.692401528        y  9.29079880 onepctCO2MEDIAN
> 126 2.721903205        y  7.42625020 onepctCO2MEDIAN
> 127 2.753021359        y  9.39025180 onepctCO2MEDIAN
> 128 2.786313415        y 12.61935503 onepctCO2MEDIAN
> 129 2.819564104        y 11.11210397 onepctCO2MEDIAN
> 130 2.850823164        y 15.79070997 onepctCO2MEDIAN
> 131 2.880394101        y 10.74252868 onepctCO2MEDIAN
> 132 2.911391258        y  7.79714300 onepctCO2MEDIAN
> 133 2.942965150        y  8.80608578 onepctCO2MEDIAN
> 134 2.974468350        y 17.56062663 onepctCO2MEDIAN
> 135 3.008983612        y 17.30886049 onepctCO2MEDIAN
> 136 3.040015221        y 13.45005435 onepctCO2MEDIAN
> 137 3.072668672        y 14.63778842 onepctCO2MEDIAN
> 138 3.105982423        y  8.07985518 onepctCO2MEDIAN
> 139 0.467429527        y -1.55704023    RCP4.5MEDIAN
> 140 0.478266196        y -3.19367515    RCP4.5MEDIAN
> 141 0.489205229        y -2.44452679    RCP4.5MEDIAN
> 142 0.500039143        y  0.87504367    RCP4.5MEDIAN
> 143 0.511021115        y -0.39185002    RCP4.5MEDIAN
> 144 0.519874968        y -4.18935168    RCP4.5MEDIAN
> 145 0.528508358        y -3.64179524    RCP4.5MEDIAN
> 146 0.537377594        y -2.58167128    RCP4.5MEDIAN
> 147 0.546194211        y  2.20583694    RCP4.5MEDIAN
> 148 0.554720591        y -8.57764597    RCP4.5MEDIAN
> 149 0.563289814        y  2.88442536    RCP4.5MEDIAN
> 150 0.572032790        y -3.90829882    RCP4.5MEDIAN
> 151 0.580939066        y -3.39269048    RCP4.5MEDIAN
> 152 0.590921065        y -4.60849867    RCP4.5MEDIAN
> 153 0.601575326        y -1.62572657    RCP4.5MEDIAN
> 154 0.612425555        y  1.14198465    RCP4.5MEDIAN
> 155 0.623773319        y -3.38454122    RCP4.5MEDIAN
> 156 0.635363359        y  2.43414265    RCP4.5MEDIAN
> 157 0.646722666        y  3.30007615    RCP4.5MEDIAN
> 158 0.658285673        y -0.79555442    RCP4.5MEDIAN
> 159 0.670250852        y -2.05220500    RCP4.5MEDIAN
> 160 0.681702690        y -5.56808946    RCP4.5MEDIAN
> 161 0.693531145        y  2.24168605    RCP4.5MEDIAN
> 162 0.706016061        y -4.83673351    RCP4.5MEDIAN
> 163 0.718231249        y  0.40086819    RCP4.5MEDIAN
> 164 0.730190911        y -1.98026992    RCP4.5MEDIAN
> 165 0.741269845        y  0.39963115    RCP4.5MEDIAN
> 166 0.751000321        y -0.83241777    RCP4.5MEDIAN
> 167 0.760886972        y -1.66101404    RCP4.5MEDIAN
> 168 0.771137164        y -1.05452982    RCP4.5MEDIAN
> 169 0.781856383        y -1.18338156    RCP4.5MEDIAN
> 170 0.792607542        y  0.22722653    RCP4.5MEDIAN
> 171 0.803724128        y -1.90642564    RCP4.5MEDIAN
> 172 0.815066246        y  0.75010550    RCP4.5MEDIAN
> 173 0.826027437        y -1.31108646    RCP4.5MEDIAN
> 174 0.836766732        y  1.05961515    RCP4.5MEDIAN
> 175 0.847553312        y -2.06588010    RCP4.5MEDIAN
> 176 0.858331452        y  8.53403315    RCP4.5MEDIAN
> 177 0.869154422        y  0.09979751    RCP4.5MEDIAN
> 178 0.879572539        y -2.50854353    RCP4.5MEDIAN
> 179 0.889426601        y  5.29550783    RCP4.5MEDIAN
> 180 0.899009805        y  2.02909481    RCP4.5MEDIAN
> 181 0.908289566        y  2.66922982    RCP4.5MEDIAN
> 182 0.917284978        y -4.17757196    RCP4.5MEDIAN
> 183 0.926128960        y  3.40202916    RCP4.5MEDIAN
> 184 0.934752874        y -1.92292218    RCP4.5MEDIAN
> 185 0.943010943        y  6.36969150    RCP4.5MEDIAN
> 186 0.950999217        y  1.86490308    RCP4.5MEDIAN
> 187 0.958795701        y  8.32126161    RCP4.5MEDIAN
> 188 0.966310396        y 10.15048356    RCP4.5MEDIAN
> 189 0.973635493        y  6.68925964    RCP4.5MEDIAN
> 190 0.980834088        y -1.01615369    RCP4.5MEDIAN
> 191 0.987694790        y  0.20892853    RCP4.5MEDIAN
> 192 0.994548581        y -1.52787222    RCP4.5MEDIAN
> 193 1.001274595        y -0.72374597    RCP4.5MEDIAN
> 194 1.007810612        y  2.26062309    RCP4.5MEDIAN
> 195 1.014270389        y -2.40270340    RCP4.5MEDIAN
> 196 1.022719711        y -1.94548262    RCP4.5MEDIAN
> 197 1.032070810        y -1.13053235    RCP4.5MEDIAN
> 198 1.041118812        y  0.56107969    RCP4.5MEDIAN
> 199 1.050189571        y  3.27941835    RCP4.5MEDIAN
> 200 1.059380475        y  3.01333588    RCP4.5MEDIAN
> 201 1.067877585        y  4.87457336    RCP4.5MEDIAN
> 202 1.076078766        y  1.02457895    RCP4.5MEDIAN
> 203 1.084707357        y  4.49174869    RCP4.5MEDIAN
> 204 1.093223180        y  8.24629303    RCP4.5MEDIAN
> 205 1.101414382        y -0.03364132    RCP4.5MEDIAN
> 206 1.108886304        y  9.12509848    RCP4.5MEDIAN
> 207 1.115482896        y  1.74254621    RCP4.5MEDIAN
> 208 1.121856558        y  2.27004536    RCP4.5MEDIAN
> 209 1.127809421        y -0.65627179    RCP4.5MEDIAN
> 210 1.133265961        y 12.02566969    RCP4.5MEDIAN
> 211 1.138549712        y -1.04260843    RCP4.5MEDIAN
> 212 1.143910237        y -6.47611327    RCP4.5MEDIAN
> 213 1.149437787        y  8.88410567    RCP4.5MEDIAN
> 214 1.154488347        y -4.24916247    RCP4.5MEDIAN
> 215 1.159872903        y  7.90741918    RCP4.5MEDIAN
> 216 1.165477487        y -3.91386711    RCP4.5MEDIAN
> 217 1.171103424        y  1.02370701    RCP4.5MEDIAN
> 218 1.177498256        y -3.71206616    RCP4.5MEDIAN
> 219 1.184003888        y -1.05694182    RCP4.5MEDIAN
> 220 1.190395856        y  1.10501459    RCP4.5MEDIAN
> 221 1.197284280        y  2.67668639    RCP4.5MEDIAN
> 222 1.204590551        y  2.21693031    RCP4.5MEDIAN
> 223 1.210807614        y  2.90252830    RCP4.5MEDIAN
> 224 1.216470664        y  2.75093766    RCP4.5MEDIAN
> 225 1.221914148        y -0.73815245    RCP4.5MEDIAN
> 226 1.227580480        y  3.58554626    RCP4.5MEDIAN
> 227 1.233317788        y 10.89961658    RCP4.5MEDIAN
> 228 1.238093406        y  3.23374387    RCP4.5MEDIAN
> 229 0.466622908        y -1.92366466    RCP8.5MEDIAN
> 230 0.474211509        y  4.09292949    RCP8.5MEDIAN
> 231 0.480383051        y -0.84736312    RCP8.5MEDIAN
> 232 0.486304903        y -0.80597889    RCP8.5MEDIAN
> 233 0.492151615        y -0.50244413    RCP8.5MEDIAN
> 234 0.499312643        y  3.07785701    RCP8.5MEDIAN
> 235 0.508859905        y -6.15175322    RCP8.5MEDIAN
> 236 0.518758845        y -0.51590144    RCP8.5MEDIAN
> 237 0.528675758        y  3.33135956    RCP8.5MEDIAN
> 238 0.538928423        y  2.62280891    RCP8.5MEDIAN
> 239 0.549621221        y -6.90096009    RCP8.5MEDIAN
> 240 0.560062840        y -3.45706029    RCP8.5MEDIAN
> 241 0.570860791        y  1.36192518    RCP8.5MEDIAN
> 242 0.581923368        y  0.34822359    RCP8.5MEDIAN
> 243 0.592628298        y  3.06882935    RCP8.5MEDIAN
> 244 0.604230648        y -3.56142825    RCP8.5MEDIAN
> 245 0.615975167        y 10.35932554    RCP8.5MEDIAN
> 246 0.627448279        y 10.21751629    RCP8.5MEDIAN
> 247 0.639401050        y  3.31040335    RCP8.5MEDIAN
> 248 0.651949591        y -0.53558775    RCP8.5MEDIAN
> 249 0.664634427        y  2.66081860    RCP8.5MEDIAN
> 250 0.677343552        y  3.21379656    RCP8.5MEDIAN
>
> Maybe something like this?
>
> lusher<-ggplot(NewestdataULTRA) +
> geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
> geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
> geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")
>
> I receive this warning, however:
> Warning: Ignoring unknown aesthetics: onepctCO2MEDIAN
> Warning: Ignoring unknown aesthetics: onepctCO2MEDIAN Perhaps I am not
> assigning the columns properly? Essentially, I just want create two scatter plots
> and two regression lines for these two objects. Once again, any assistance
> would be greatly appreciated!
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>; r-sig-geo
> <r-sig-geo at r-project.org>
> Sent: Wed, Jun 5, 2019 10:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Hello,
>
> This is pretty basic ggplot.
>
>
> lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>   geom_point(colour = 'blue') +
>   geom_smooth(method = 'lm')
>
> lm1
>
>
> If you want to combine several datasets, you will have to have a variable telling
> which dataset is which. In the example below, this is column 'id'.
>
>
> onepctCO2MEDIAN2 <- onepctCO2MEDIAN
> onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
> onepctCO2MEDIAN$id <- 1 onepctCO2MEDIAN2$id <- 2
> df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>
> ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>   geom_point() +
>   geom_smooth(method = 'lm')
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
> > I am trying to plot, using ggplot, a series of scatter plots with regression lines
> for several datasets. I started with the following dataset,
> "onepectCO2MEDIAN". The data for this dataset is as follows:
> >      onepctCO2MEDIAN
> >                      x          y
> >      layer.1   0.000000000  0.0000000
> >      layer.2   0.006794447  4.9002490
> >      layer.3   0.014288058  0.1608000
> >      layer.4   0.022087920  6.6349133
> >      layer.5   0.030797357 -1.2429506
> >      layer.6   0.038451072  1.5643374
> >      layer.7   0.048087904 -2.2659035
> >      layer.8   0.058677729  2.2070045
> >      layer.9   0.069261406 -2.3677001
> >      layer.10  0.080524530 -1.0913506
> >      layer.11  0.092760246  0.4099940
> >      layer.12  0.103789609 -0.1259727
> >      layer.13  0.116953168 -2.4138253
> >      layer.14  0.129253298  7.0890257
> >      layer.15  0.141710050 -0.7593539
> >      layer.16  0.156002052  0.0454416
> >      layer.17  0.170648172 -1.5349683
> >      layer.18  0.185318425  6.5524201
> >      layer.19  0.199463055 -0.8312563
> >      layer.20  0.213513337 -2.5099183
> >      layer.21  0.228839271  0.1365968
> >      layer.22  0.246981293 -1.3719845
> >      layer.23  0.263012767 -0.8712988
> >      layer.24  0.278505564  0.6632584
> >      layer.25  0.293658361  0.7938036
> >      layer.26  0.310747266  3.4880637
> >      layer.27  0.325990349 -4.4612208
> >      layer.28  0.342517540  0.0871734
> >      layer.29  0.362751633 -1.4171578
> >      layer.30  0.380199537 -0.9956508
> >      layer.31  0.394992948  0.3215526
> >      layer.32  0.414373398  3.1403866
> >      layer.33  0.430690214 -0.7376099
> >      layer.34  0.449738145 -2.4860541
> >      layer.35  0.470167458 -3.4235858
> >      layer.36  0.489019871  0.4824748
> >      layer.37  0.507242471 -0.9785386
> >      layer.38  0.524314284  8.5359684
> >      layer.39  0.543750525  5.4844742
> >      layer.40  0.564234197  3.2149367
> >      layer.41  0.583679616  3.9168916
> >      layer.42  0.601459444  4.4907020
> >      layer.43  0.619924664  6.5410410
> >      layer.44  0.639932007  4.8068650
> >      layer.45  0.661347181  8.1510170
> >      layer.46  0.684117317  0.2697413
> >      layer.47  0.704829752 -0.1807501
> >      layer.48  0.725045770  9.7181249
> >      layer.49  0.745165825  1.5406466
> >      layer.50  0.765016139 -1.6476041
> >      layer.51  0.783461511  4.8024603
> >      layer.52  0.806382924  4.0421516
> >      layer.53  0.829241335  9.3756512
> >      layer.54  0.849924415  5.3305050
> >      layer.55  0.871352434  7.5445803
> >      layer.56  0.893632233  6.4679547
> >      layer.57  0.916052133  2.8096065
> >      layer.58  0.938579470  5.3921661
> >      layer.59  0.959907651  7.2043689
> >      layer.60  0.981643587  3.3350806
> >      layer.61  1.004116774  8.8690707
> >      layer.62  1.028363466  1.7861299
> >      layer.63  1.054009140  6.2555038
> >      layer.64  1.072440803  7.6079236
> >      layer.65  1.094457805  7.6871483
> >      layer.66  1.123176277  4.7787764
> >      layer.67  1.149430871 12.7110502
> >      layer.68  1.170912921 -0.7156284
> >      layer.69  1.196743071  1.6490899
> >      layer.70  1.218625903  3.0363024
> >      layer.71  1.241868377  4.2974769
> >      layer.72  1.267941594  1.9543778
> >      layer.73  1.290708780  3.9986964
> >      layer.74  1.313222289  4.5179472
> >      layer.75  1.339045882  0.9337905
> >      layer.76  1.362803459  3.3050770
> >      layer.77  1.384450197  3.5422970
> >      layer.78  1.409720302  5.9973660
> >      layer.79  1.435851157  0.5081869
> >      layer.80  1.455592215  7.9661630
> >      layer.81  1.479495347  9.9460496
> >      layer.82  1.506051958  3.7908372
> >      layer.83  1.525728464  2.5735847
> >      layer.84  1.549362063 10.1404974
> >      layer.85  1.573440671 13.7408304
> >      layer.86  1.600278735  0.9335771
> >      layer.87  1.623879492  9.7588742
> >      layer.88  1.650029302  1.2769395
> >      layer.89  1.672362328 13.4970906
> >      layer.90  1.700221121 10.2087502
> >      layer.91  1.724793375  1.6811275
> >      layer.92  1.751070559  6.1178992
> >      layer.93  1.778022110 -0.1567626
> >      layer.94  1.803022087  3.8237479
> >      layer.95  1.830668867  4.4331468
> >      layer.96  1.855736911  5.9790707
> >      layer.97  1.882615030 11.3104333
> >      layer.98  1.909218490  8.2142607
> >      layer.99  1.938130021 15.3209674
> >      layer.100 1.963727593  5.8178217
> >      layer.101 1.993271947  9.6004907
> >      layer.102 2.022548139  3.4063646
> >      layer.103 2.050679922  4.7375010
> >      layer.104 2.078064442  3.0133019
> >      layer.105 2.104113460  5.5659522
> >      layer.106 2.133597612 12.0346333
> >      layer.107 2.164026260 -0.4028320
> >      layer.108 2.194852829 10.5996780
> >      layer.109 2.224257946  5.4479584
> >      layer.110 2.252194643  4.7052374
> >      layer.111 2.277335048 14.0962019
> >      layer.112 2.304058313  5.7149016
> >      layer.113 2.330930233  3.7780072
> >      layer.114 2.357022762  4.4120620
> >      layer.115 2.386489272  4.1866085
> >      layer.116 2.417503953  6.9078802
> >      layer.117 2.448524356  2.7825739
> >      layer.118 2.478698969  7.6171786
> >      layer.119 2.510175705 10.2410603
> >      layer.120 2.539697886  8.1820711
> >      layer.121 2.567915559  4.8275494
> >      layer.122 2.597463250 19.1624883
> >      layer.123 2.627518773 16.0677109
> >      layer.124 2.658759236 12.5897081
> >      layer.125 2.692401528  9.2907988
> >      layer.126 2.721903205  7.4262502
> >      layer.127 2.753021359  9.3902518
> >      layer.128 2.786313415 12.6193550
> >      layer.129 2.819564104 11.1121040
> >      layer.130 2.850823164 15.7907100
> >      layer.131 2.880394101 10.7425287
> >      layer.132 2.911391258  7.7971430
> >      layer.133 2.942965150  8.8060858
> >      layer.134 2.974468350 17.5606266
> >      layer.135 3.008983612 17.3088605
> >      layer.136 3.040015221 13.4500543
> >      layer.137 3.072668672 14.6377884
> >      layer.138 3.105982423  8.0798552dput(onepctCO2MEDIAN)
> >dput(onepctCO2MEDIAN)
> >      structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
> >      0.0220879195258021,
> >0.0307973567396402,0.0384510718286037,0.0480879042297602,
> >      0.0586777292191982, 0.0692614056169987,
> >0.080524530261755,0.0927602462470531,
> >      0.103789608925581, 0.116953168064356, 0.129253298044205,
> >0.141710050404072,
> >      0.156002052128315, 0.170648172497749, 0.185318425297737,
> >0.199463054537773,
> >      0.21351333707571, 0.22883927077055, 0.246981292963028,
> >0.263012766838074,
> >      0.278505563735962, 0.29365836083889, 0.310747265815735,
> >0.325990349054337,
> >      0.342517539858818, 0.362751632928848, 0.380199536681175,
> >0.39499294757843,
> >      0.414373397827148, 0.430690214037895, 0.449738144874573,
> >0.470167458057404,
> >      0.489019870758057, 0.507242470979691, 0.524314284324646,
> >0.543750524520874,
> >      0.56423419713974, 0.583679616451263, 0.601459443569183,
> >0.619924664497375,
> >      0.639932006597519, 0.661347180604935, 0.684117317199707,
> >0.704829752445221,
> >      0.725045770406723, 0.745165824890137, 0.765016138553619,
> >0.783461511135101,
> >      0.806382924318314, 0.829241335391998, 0.84992441534996,
> >0.871352434158325,
> >      0.893632233142853, 0.916052132844925, 0.938579469919205,
> >0.959907650947571,
> >      0.981643587350845, 1.00411677360535, 1.02836346626282,
> >1.05400913953781,
> >      1.07244080305099, 1.09445780515671, 1.12317627668381,
> >1.14943087100983,
> >      1.17091292142868, 1.19674307107925, 1.21862590312958,
> >1.24186837673187,
> >      1.26794159412384, 1.2907087802887, 1.31322228908539,
> >1.33904588222504,
> >      1.36280345916748, 1.38445019721985, 1.40972030162811,
> >1.43585115671158,
> >      1.45559221506119, 1.47949534654617, 1.50605195760727,
> >1.52572846412659,
> >      1.5493620634079, 1.5734406709671, 1.60027873516083,
> >1.62387949228287,
> >      1.65002930164337, 1.67236232757568, 1.70022112131119,
> >1.72479337453842,
> >      1.75107055902481, 1.77802211046219, 1.80302208662033,
> >1.83066886663437,
> >      1.85573691129684, 1.88261502981186, 1.90921849012375,
> >1.93813002109528,
> >      1.96372759342194, 1.99327194690704, 2.02254813909531,
> >2.05067992210388,
> >      2.07806444168091, 2.1041134595871, 2.13359761238098,
> >2.16402626037598,
> >      2.19485282897949, 2.2242579460144, 2.25219464302063,
> >2.27733504772186,
> >      2.30405831336975, 2.33093023300171, 2.35702276229858,
> >2.38648927211761,
> >      2.41750395298004, 2.44852435588837, 2.47869896888733,
> >2.51017570495605,
> >      2.53969788551331, 2.567915558815, 2.59746325016022,
> >2.62751877307892,
> >      2.65875923633575, 2.69240152835846, 2.72190320491791,
> >2.75302135944366,
> >      2.78631341457367, 2.8195641040802, 2.85082316398621,
> >2.88039410114288,
> >      2.91139125823975, 2.94296514987946, 2.97446835041046,
> >3.00898361206055,
> >      3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
> >      4.90024901723162, 0.160799993152722, 6.63491326258641,
> >-1.24295055804536,
> >      1.56433744259162, -2.26590352245208, 2.20700446463354,
> >-2.36770012911069,
> >      -1.09135061899174, 0.409993989292701, -0.125972681525582,
> >-2.41382533818026,
> >      7.08902570153028, -0.759353880417294, 0.0454415959640926,
> >-1.53496826259972,
> >      6.55242014096194, -0.831256280861552, -2.50991825629084,
> >0.136596820654013,
> >      -1.37198445498419, -0.871298832596736, 0.663258363762466,
> >0.793803634291308,
> >      3.48806373666998, -4.46122081238949, 0.0871733966938564,
> >-1.41715777257774,
> >      -0.995650815648318, 0.32155262317503, 3.14038657369241,
> >-0.737609879885404,
> >      -2.48605406511292, -3.423585843908, 0.482474753780281,
> >-0.978538630093809,
> >      8.53596837794201, 5.48447420320695, 3.21493665820644,
> >3.91689160157513,
> >      4.49070195980797, 6.54104103157039, 4.80686500146557,
> >8.15101701282067,
> >      0.26974132191657, -0.180750068063062, 9.71812491230244,
> >1.54064657400204,
> >      -1.64760408795688, 4.80246028991894, 4.04215159914344,
> >9.37565121768513,
> >      5.33050496938428, 7.54458026088508, 6.46795470819342,
> >2.80960651433971,
> >      5.39216613235986, 7.20436888038562, 3.3350806460997,
> >8.86907069895943,
> >      1.78612988613659, 6.25550382050395, 7.60792364896564,
> >7.68714830528144,
> >      4.77877638957615, 12.7110501777314, -0.715628443181046,
> >1.64908991824022,
> >      3.03630240714679, 4.29747688442346, 1.95437780501881,
> >3.99869636910933,
> >      4.51794724689848, 0.933790484492299, 3.30507700050003,
> >3.5422970157433,
> >      5.99736597322524, 0.508186860060022, 7.96616300581067,
> >9.94604963036295,
> >      3.79083717222623, 2.57358468532258, 10.1404974171776,
> >13.7408303595752,
> >      0.933577123801399, 9.75887417074129, 1.27693947132921,
> >13.4970905965787,
> >      10.2087501765735, 1.68112753028756, 6.1178991508927,
> >-0.156762622680077,
> >      3.82374791691426, 4.43314678736265, 5.97907067167507,
> >11.3104332518482,
> >      8.21426074201525, 15.320967360602, 5.81782169471483,
> >9.6004907412354,
> >      3.40636455909704, 4.73750103921864, 3.0133019468806,
> >5.56595224859066,
> >      12.0346332527215, -0.40283199827104, 10.5996779538754,
> >5.44795836991128,
> >      4.70523736412729, 14.096201892183, 5.71490161813391,
> >3.77800720810782,
> >      4.41206200639436, 4.18660847858423, 6.90788020044911,
> >2.78257393345915,
> >      7.61717857379431, 10.2410602647684, 8.18207106836167,
> >4.82754943871433,
> >      19.1624882857155, 16.0677109398509, 12.589708067017,
> >9.29079879799404,
> >      7.42625019725314, 9.39025179806185, 12.6193550331438,
> >11.1121039747257,
> >      15.7907099734986, 10.7425286789233, 7.79714300307344,
> >8.80608578166101,
> >      17.5606266346039, 17.3088604929222, 13.4500543478523,
> >14.6377884248645,
> >      8.07985518296064)), class = "data.frame", row.names =
> >c("layer.1",
> >      "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
> >      "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
> >"layer.13",
> >      "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
> >"layer.19",
> >      "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
> >"layer.25",
> >      "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
> >"layer.31",
> >      "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
> >"layer.37",
> >      "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
> >"layer.43",
> >      "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
> >"layer.49",
> >      "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
> >"layer.55",
> >      "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
> >"layer.61",
> >      "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
> >"layer.67",
> >      "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
> >"layer.73",
> >      "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
> >"layer.79",
> >      "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
> >"layer.85",
> >      "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
> >"layer.91",
> >      "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
> >"layer.97",
> >      "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
> >      "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
> >      "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
> >      "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
> >      "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
> >      "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
> >      "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
> >      "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
> >      "layer.138"))
> > I started with the following to generate the first regression line and
> >scatter plot:    lm<-ggplot(onepctCO2MEDIAN) +
> >      geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
> >      colour="blue") +
> >geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
> >      departurea), method=lm)
> > But I receive this error:    Warning message:
> >      Computation failed in `stat_smooth()`:
> >      'what' must be a function or character string  A blue scatter
> >plot is successfully generated, but the problem is that the regression line does
> not appear, presumably related to the above warning.
> > Is there a reason for this? I would appreciate any assistance!
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jun  6 10:55:02 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 6 Jun 2019 08:55:02 +0000
Subject: [R] debug only top level function
Message-ID: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>

Dear all

I have a question about debug function. I did not use it for long time but my vague memory tell me, that when I used  debug(myfunction) in past, only myfunction was debugged and browser ignored any embedded function.

example (simple)

fff <- function(x) mean(x, na.rm=T)

when I issue
> debug(fff)
> fff(1:10)
debugging in: fff(1:10)
debug at #1: mean(x, na.rm = T)
Browse[2]>
debugging in: mean(x, na.rm = T)
debug: UseMethod("mean")
Browse[3]>
debugging in: mean.default(x, na.rm = T)
...
it starts debugging mean function. I understand that it is indicated by Browse[n] but it could be quite messy if I have many embedded functions and difficult to follow.

Can I persuade debug function not to bother with embedded functions (e.g. mean, median, mad, ...) and debug only my top level code?

Best regards
Petr

> sessionInfo()
R Under development (unstable) (2018-03-07 r74369)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 17763)

Matrix products: default

locale:
[1] LC_COLLATE=Czech_Czechia.1250  LC_CTYPE=Czech_Czechia.1250
[3] LC_MONETARY=Czech_Czechia.1250 LC_NUMERIC=C
[5] LC_TIME=Czech_Czechia.1250

attached base packages:
[1] stats     datasets  utils     grDevices graphics  methods   base

other attached packages:
[1] MASS_7.3-49     readxl_1.0.0    lattice_0.20-35 fun_0.1

loaded via a namespace (and not attached):
[1] Rcpp_0.12.16     cellranger_1.1.0 grid_3.5.0       plyr_1.8.4
 [5] gtable_0.2.0     scales_0.5.0     ggplot2_2.2.1    pillar_1.2.1
 [9] rlang_0.2.0      lazyeval_0.2.1   rpart_4.1-13     tools_3.5.0
[13] munsell_0.4.3    compiler_3.5.0   colorspace_1.3-2 tibble_1.4.2
>
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner's personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun  6 11:10:40 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jun 2019 05:10:40 -0400
Subject: [R] debug only top level function
In-Reply-To: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>
References: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>
Message-ID: <8dd78027-cec5-ae1a-bd72-bd35ac4fb4c7@gmail.com>

On 06/06/2019 4:55 a.m., PIKAL Petr wrote:
> Dear all
> 
> I have a question about debug function. I did not use it for long time but my vague memory tell me, that when I used  debug(myfunction) in past, only myfunction was debugged and browser ignored any embedded function.
> 
> example (simple)
> 
> fff <- function(x) mean(x, na.rm=T)
> 
> when I issue
>> debug(fff)
>> fff(1:10)
> debugging in: fff(1:10)
> debug at #1: mean(x, na.rm = T)
> Browse[2]>
> debugging in: mean(x, na.rm = T)
> debug: UseMethod("mean")
> Browse[3]>
> debugging in: mean.default(x, na.rm = T)
> ...
> it starts debugging mean function. I understand that it is indicated by Browse[n] but it could be quite messy if I have many embedded functions and difficult to follow.
> 
> Can I persuade debug function not to bother with embedded functions (e.g. mean, median, mad, ...) and debug only my top level code?

There are several commands available.  Type "help" to see them:

n          next
s          step into
f          finish
c or cont  continue
Q          quit
where      show stack
help       show help
<expr>     evaluate expression


You want "n", and are getting "s".  I believe if you hit Enter without 
choosing one, it will do the same as the previous time, so you've 
probably used "s" sometime in the past.

Duncan Murdoch

> 
> Best regards
> Petr
> 
>> sessionInfo()
> R Under development (unstable) (2018-03-07 r74369)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> Running under: Windows 10 x64 (build 17763)
> 
> Matrix products: default
> 
> locale:
> [1] LC_COLLATE=Czech_Czechia.1250  LC_CTYPE=Czech_Czechia.1250
> [3] LC_MONETARY=Czech_Czechia.1250 LC_NUMERIC=C
> [5] LC_TIME=Czech_Czechia.1250
> 
> attached base packages:
> [1] stats     datasets  utils     grDevices graphics  methods   base
> 
> other attached packages:
> [1] MASS_7.3-49     readxl_1.0.0    lattice_0.20-35 fun_0.1
> 
> loaded via a namespace (and not attached):
> [1] Rcpp_0.12.16     cellranger_1.1.0 grid_3.5.0       plyr_1.8.4
>   [5] gtable_0.2.0     scales_0.5.0     ggplot2_2.2.1    pillar_1.2.1
>   [9] rlang_0.2.0      lazyeval_0.2.1   rpart_4.1-13     tools_3.5.0
> [13] munsell_0.4.3    compiler_3.5.0   colorspace_1.3-2 tibble_1.4.2
>>
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner's personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jun  6 12:00:43 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 6 Jun 2019 10:00:43 +0000
Subject: [R] debug only top level function
In-Reply-To: <8dd78027-cec5-ae1a-bd72-bd35ac4fb4c7@gmail.com>
References: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>
 <8dd78027-cec5-ae1a-bd72-bd35ac4fb4c7@gmail.com>
Message-ID: <b608b10648e943c0960a44dfad228b54@SRVEXCHCM1302.precheza.cz>

Thanks Duncan.

I think you found it. I have an object called s within my function. I wanted to check it, so I hit "s". This did not bring the object but instead it change behaviour of debug function. I did not find this in help pages nor in R exts or R intro manual. Maybe it would be worth considering to add something about it to debug help page.

Best regards
Petr

> -----Original Message-----
> From: Duncan Murdoch <murdoch.duncan at gmail.com>
> Sent: Thursday, June 6, 2019 11:11 AM
> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
> Subject: Re: [R] debug only top level function
>
> On 06/06/2019 4:55 a.m., PIKAL Petr wrote:
> > Dear all
> >
> > I have a question about debug function. I did not use it for long time but my
> vague memory tell me, that when I used  debug(myfunction) in past, only
> myfunction was debugged and browser ignored any embedded function.
> >
> > example (simple)
> >
> > fff <- function(x) mean(x, na.rm=T)
> >
> > when I issue
> >> debug(fff)
> >> fff(1:10)
> > debugging in: fff(1:10)
> > debug at #1: mean(x, na.rm = T)
> > Browse[2]>
> > debugging in: mean(x, na.rm = T)
> > debug: UseMethod("mean")
> > Browse[3]>
> > debugging in: mean.default(x, na.rm = T) ...
> > it starts debugging mean function. I understand that it is indicated by
> Browse[n] but it could be quite messy if I have many embedded functions and
> difficult to follow.
> >
> > Can I persuade debug function not to bother with embedded functions (e.g.
> mean, median, mad, ...) and debug only my top level code?
>
> There are several commands available.  Type "help" to see them:
>
> n          next
> s          step into
> f          finish
> c or cont  continue
> Q          quit
> where      show stack
> help       show help
> <expr>     evaluate expression
>
>
> You want "n", and are getting "s".  I believe if you hit Enter without choosing
> one, it will do the same as the previous time, so you've probably used "s"
> sometime in the past.
>
> Duncan Murdoch
>
> >
> > Best regards
> > Petr
> >
> >> sessionInfo()
> > R Under development (unstable) (2018-03-07 r74369)
> > Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10
> > x64 (build 17763)
> >
> > Matrix products: default
> >
> > locale:
> > [1] LC_COLLATE=Czech_Czechia.1250  LC_CTYPE=Czech_Czechia.1250 [3]
> > LC_MONETARY=Czech_Czechia.1250 LC_NUMERIC=C [5]
> > LC_TIME=Czech_Czechia.1250
> >
> > attached base packages:
> > [1] stats     datasets  utils     grDevices graphics  methods   base
> >
> > other attached packages:
> > [1] MASS_7.3-49     readxl_1.0.0    lattice_0.20-35 fun_0.1
> >
> > loaded via a namespace (and not attached):
> > [1] Rcpp_0.12.16     cellranger_1.1.0 grid_3.5.0       plyr_1.8.4
> >   [5] gtable_0.2.0     scales_0.5.0     ggplot2_2.2.1    pillar_1.2.1
> >   [9] rlang_0.2.0      lazyeval_0.2.1   rpart_4.1-13     tools_3.5.0
> > [13] munsell_0.4.3    compiler_3.5.0   colorspace_1.3-2 tibble_1.4.2
> >>
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >

Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jun  6 12:52:06 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 6 Jun 2019 11:52:06 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <85074591.632264.1559770633796@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
Message-ID: <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>

Hello,

You are confusing some of the values of L1 with L1 itself.
If you just want two of those values in your plot, "onepctCO2MEDIAN" and 
"RCP8.5MEDIAN", you need to subset the data filtering out the rows with 
L1 == "RCP4.5MEDIAN".

And please forget geom_jitter, it is completely inappropriate for the 
type of scatter plot you are trying to graph. You jitter when there is 
overplotting, not as a general purpose technique.

Here is one way to do it.


ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
        aes(x, value, colour = L1)) +
   geom_point() +
   scale_color_manual(values = c("green", "red")) +
   geom_smooth(method = lm)


Hope this helps,

Rui Barradas

?s 22:37 de 05/06/19, rain1290 at aim.com escreveu:
> Hi Rui (and everyone),
> 
> Thank you so much for your response! Much appreciated!
> 
> What if I wanted I create several regression lines and scatter plots in 
> the same ggplot using a "melted" dataset? I would like to create a 
> scatter plot and regression line for both the objects of 
> "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like this:
> 
> 
>  >NewestdataUltra
> 
> x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2 
> 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999 
> onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357 
> y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN 
> 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446 
> onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10 
> 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399 
> onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13 
> 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570 
> onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16 
> 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826 
> onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19 
> 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826 
> onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22 
> 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883 
> onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25 
> 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374 
> onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28 
> 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777 
> onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31 
> 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657 
> onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34 
> 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584 
> onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37 
> 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838 
> onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40 
> 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160 
> onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43 
> 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500 
> onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46 
> 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007 
> onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49 
> 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409 
> onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52 
> 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122 
> onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55 
> 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471 
> onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58 
> 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888 
> onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61 
> 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989 
> onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64 
> 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831 
> onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67 
> 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844 
> onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70 
> 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688 
> onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73 
> 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725 
> onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76 
> 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702 
> onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79 
> 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301 
> onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82 
> 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469 
> onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85 
> 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712 
> onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88 
> 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060 
> onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91 
> 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915 
> onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94 
> 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679 
> onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97 
> 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074 
> onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100 
> 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074 
> onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103 
> 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195 
> onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106 
> 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y -0.40283200 
> onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109 
> 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736 
> onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112 
> 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721 
> onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115 
> 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020 
> onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118 
> 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026 
> onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121 
> 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829 
> onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124 
> 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880 
> onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127 
> 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503 
> onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130 
> 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 10.74252868 
> onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133 
> 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663 
> onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136 
> 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 14.63778842 
> onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139 
> 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515 
> RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 0.500039143 
> y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 RCP4.5MEDIAN 144 
> 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524 
> RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 0.546194211 
> y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 RCP4.5MEDIAN 149 
> 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882 
> RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 0.590921065 
> y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN 
> 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y -3.38454122 
> RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y 
> 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159 
> 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946 
> RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y 
> -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164 
> 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115 
> RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 0.760886972 
> y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN 
> 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 0.22722653 
> RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 0.815066246 
> y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 RCP4.5MEDIAN 174 
> 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010 
> RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y 
> 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179 
> 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481 
> RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 0.917284978 y 
> -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184 
> 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150 
> RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 0.958795701 y 
> 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189 
> 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369 
> RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y 
> -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 RCP4.5MEDIAN 194 
> 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340 
> RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 1.032070810 
> y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199 
> 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588 
> RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 1.076078766 y 
> 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204 
> 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132 
> RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y 
> 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209 
> 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969 
> RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 1.143910237 
> y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214 
> 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918 
> RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 1.171103424 
> y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 RCP4.5MEDIAN 219 
> 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459 
> RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 1.204590551 y 
> 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224 
> 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245 
> RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y 
> 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229 
> 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949 
> RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 0.486304903 
> y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN 
> 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y -6.15175322 
> RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 0.528675758 
> y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 RCP8.5MEDIAN 239 
> 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029 
> RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y 
> 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244 
> 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554 
> RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 0.639401050 
> y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 RCP8.5MEDIAN 249 
> 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656 
> RCP8.5MEDIAN Maybe something like this?
> 
> lusher<-ggplot(NewestdataULTRA) + 
> geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") + 
> geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) + 
> geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
> **//___^
> I receive this warning, however:
> 
> Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring 
> unknown aesthetics: onepctCO2MEDIAN
> 
> **//___^
> Perhaps I am not assigning the columns properly? Essentially, I just 
> want create two scatter plots and two regression lines for these two 
> objects.
> 
> Once again, any assistance would be greatly appreciated!
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>; 
> r-sig-geo <r-sig-geo at r-project.org>
> Sent: Wed, Jun 5, 2019 10:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> This is pretty basic ggplot.
> 
> 
> lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>  ? geom_point(colour = 'blue') +
>  ? geom_smooth(method = 'lm')
> 
> lm1
> 
> 
> If you want to combine several datasets, you will have to have a
> variable telling which dataset is which. In the example below, this is
> column 'id'.
> 
> 
> onepctCO2MEDIAN2 <- onepctCO2MEDIAN
> onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
> onepctCO2MEDIAN$id <- 1
> onepctCO2MEDIAN2$id <- 2
> df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
> 
> ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>  ? geom_point() +
>  ? geom_smooth(method = 'lm')
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>  > I am trying to plot, using ggplot, a series of scatter plots with 
> regression lines for several datasets. I started with the following 
> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>  >? ??? onepctCO2MEDIAN
>  >? ??????????????????? x????????? y
>  >? ??? layer.1?? 0.000000000? 0.0000000
>  >? ??? layer.2?? 0.006794447? 4.9002490
>  >? ??? layer.3?? 0.014288058? 0.1608000
>  >? ??? layer.4?? 0.022087920? 6.6349133
>  >? ??? layer.5?? 0.030797357 -1.2429506
>  >? ??? layer.6?? 0.038451072? 1.5643374
>  >? ??? layer.7?? 0.048087904 -2.2659035
>  >? ??? layer.8?? 0.058677729? 2.2070045
>  >? ??? layer.9?? 0.069261406 -2.3677001
>  >? ??? layer.10? 0.080524530 -1.0913506
>  >? ??? layer.11? 0.092760246? 0.4099940
>  >? ??? layer.12? 0.103789609 -0.1259727
>  >? ??? layer.13? 0.116953168 -2.4138253
>  >? ??? layer.14? 0.129253298? 7.0890257
>  >? ??? layer.15? 0.141710050 -0.7593539
>  >? ??? layer.16? 0.156002052? 0.0454416
>  >? ??? layer.17? 0.170648172 -1.5349683
>  >? ??? layer.18? 0.185318425? 6.5524201
>  >? ??? layer.19? 0.199463055 -0.8312563
>  >? ??? layer.20? 0.213513337 -2.5099183
>  >? ??? layer.21? 0.228839271? 0.1365968
>  >? ??? layer.22? 0.246981293 -1.3719845
>  >? ??? layer.23? 0.263012767 -0.8712988
>  >? ??? layer.24? 0.278505564? 0.6632584
>  >? ??? layer.25? 0.293658361? 0.7938036
>  >? ??? layer.26? 0.310747266? 3.4880637
>  >? ??? layer.27? 0.325990349 -4.4612208
>  >? ??? layer.28? 0.342517540? 0.0871734
>  >? ??? layer.29? 0.362751633 -1.4171578
>  >? ??? layer.30? 0.380199537 -0.9956508
>  >? ??? layer.31? 0.394992948? 0.3215526
>  >? ??? layer.32? 0.414373398? 3.1403866
>  >? ??? layer.33? 0.430690214 -0.7376099
>  >? ??? layer.34? 0.449738145 -2.4860541
>  >? ??? layer.35? 0.470167458 -3.4235858
>  >? ??? layer.36? 0.489019871? 0.4824748
>  >? ??? layer.37? 0.507242471 -0.9785386
>  >? ??? layer.38? 0.524314284? 8.5359684
>  >? ??? layer.39? 0.543750525? 5.4844742
>  >? ??? layer.40? 0.564234197? 3.2149367
>  >? ??? layer.41? 0.583679616? 3.9168916
>  >? ??? layer.42? 0.601459444? 4.4907020
>  >? ??? layer.43? 0.619924664? 6.5410410
>  >? ??? layer.44? 0.639932007? 4.8068650
>  >? ??? layer.45? 0.661347181? 8.1510170
>  >? ??? layer.46? 0.684117317? 0.2697413
>  >? ??? layer.47? 0.704829752 -0.1807501
>  >? ??? layer.48? 0.725045770? 9.7181249
>  >? ??? layer.49? 0.745165825? 1.5406466
>  >? ??? layer.50? 0.765016139 -1.6476041
>  >? ??? layer.51? 0.783461511? 4.8024603
>  >? ??? layer.52? 0.806382924? 4.0421516
>  >? ??? layer.53? 0.829241335? 9.3756512
>  >? ??? layer.54? 0.849924415? 5.3305050
>  >? ??? layer.55? 0.871352434? 7.5445803
>  >? ??? layer.56? 0.893632233? 6.4679547
>  >? ??? layer.57? 0.916052133? 2.8096065
>  >? ??? layer.58? 0.938579470? 5.3921661
>  >? ??? layer.59? 0.959907651? 7.2043689
>  >? ??? layer.60? 0.981643587? 3.3350806
>  >? ??? layer.61? 1.004116774? 8.8690707
>  >? ??? layer.62? 1.028363466? 1.7861299
>  >? ??? layer.63? 1.054009140? 6.2555038
>  >? ??? layer.64? 1.072440803? 7.6079236
>  >? ??? layer.65? 1.094457805? 7.6871483
>  >? ??? layer.66? 1.123176277? 4.7787764
>  >? ??? layer.67? 1.149430871 12.7110502
>  >? ??? layer.68? 1.170912921 -0.7156284
>  >? ??? layer.69? 1.196743071? 1.6490899
>  >? ??? layer.70? 1.218625903? 3.0363024
>  >? ??? layer.71? 1.241868377? 4.2974769
>  >? ??? layer.72? 1.267941594? 1.9543778
>  >? ??? layer.73? 1.290708780? 3.9986964
>  >? ??? layer.74? 1.313222289? 4.5179472
>  >? ??? layer.75? 1.339045882? 0.9337905
>  >? ??? layer.76? 1.362803459? 3.3050770
>  >? ??? layer.77? 1.384450197? 3.5422970
>  >? ??? layer.78? 1.409720302? 5.9973660
>  >? ??? layer.79? 1.435851157? 0.5081869
>  >? ??? layer.80? 1.455592215? 7.9661630
>  >? ??? layer.81? 1.479495347? 9.9460496
>  >? ??? layer.82? 1.506051958? 3.7908372
>  >? ??? layer.83? 1.525728464? 2.5735847
>  >? ??? layer.84? 1.549362063 10.1404974
>  >? ??? layer.85? 1.573440671 13.7408304
>  >? ??? layer.86? 1.600278735? 0.9335771
>  >? ??? layer.87? 1.623879492? 9.7588742
>  >? ??? layer.88? 1.650029302? 1.2769395
>  >? ??? layer.89? 1.672362328 13.4970906
>  >? ??? layer.90? 1.700221121 10.2087502
>  >? ??? layer.91? 1.724793375? 1.6811275
>  >? ??? layer.92? 1.751070559? 6.1178992
>  >? ??? layer.93? 1.778022110 -0.1567626
>  >? ??? layer.94? 1.803022087? 3.8237479
>  >? ??? layer.95? 1.830668867? 4.4331468
>  >? ??? layer.96? 1.855736911? 5.9790707
>  >? ??? layer.97? 1.882615030 11.3104333
>  >? ??? layer.98? 1.909218490? 8.2142607
>  >? ??? layer.99? 1.938130021 15.3209674
>  >? ??? layer.100 1.963727593? 5.8178217
>  >? ??? layer.101 1.993271947? 9.6004907
>  >? ??? layer.102 2.022548139? 3.4063646
>  >? ??? layer.103 2.050679922? 4.7375010
>  >? ??? layer.104 2.078064442? 3.0133019
>  >? ??? layer.105 2.104113460? 5.5659522
>  >? ??? layer.106 2.133597612 12.0346333
>  >? ??? layer.107 2.164026260 -0.4028320
>  >? ??? layer.108 2.194852829 10.5996780
>  >? ??? layer.109 2.224257946? 5.4479584
>  >? ??? layer.110 2.252194643? 4.7052374
>  >? ??? layer.111 2.277335048 14.0962019
>  >? ??? layer.112 2.304058313? 5.7149016
>  >? ??? layer.113 2.330930233? 3.7780072
>  >? ??? layer.114 2.357022762? 4.4120620
>  >? ??? layer.115 2.386489272? 4.1866085
>  >? ??? layer.116 2.417503953? 6.9078802
>  >? ??? layer.117 2.448524356? 2.7825739
>  >? ??? layer.118 2.478698969? 7.6171786
>  >? ??? layer.119 2.510175705 10.2410603
>  >? ??? layer.120 2.539697886? 8.1820711
>  >? ??? layer.121 2.567915559? 4.8275494
>  >? ??? layer.122 2.597463250 19.1624883
>  >? ??? layer.123 2.627518773 16.0677109
>  >? ??? layer.124 2.658759236 12.5897081
>  >? ??? layer.125 2.692401528? 9.2907988
>  >? ??? layer.126 2.721903205? 7.4262502
>  >? ??? layer.127 2.753021359? 9.3902518
>  >? ??? layer.128 2.786313415 12.6193550
>  >? ??? layer.129 2.819564104 11.1121040
>  >? ??? layer.130 2.850823164 15.7907100
>  >? ??? layer.131 2.880394101 10.7425287
>  >? ??? layer.132 2.911391258? 7.7971430
>  >? ??? layer.133 2.942965150? 8.8060858
>  >? ??? layer.134 2.974468350 17.5606266
>  >? ??? layer.135 3.008983612 17.3088605
>  >? ??? layer.136 3.040015221 13.4500543
>  >? ??? layer.137 3.072668672 14.6377884
>  >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)    
> dput(onepctCO2MEDIAN)
>  >? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>  >? ??? 0.0220879195258021, 
> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>  >? ??? 0.0586777292191982, 0.0692614056169987, 
> 0.080524530261755,0.0927602462470531,
>  >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205, 
> 0.141710050404072,
>  >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737, 
> 0.199463054537773,
>  >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028, 
> 0.263012766838074,
>  >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735, 
> 0.325990349054337,
>  >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175, 
> 0.39499294757843,
>  >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573, 
> 0.470167458057404,
>  >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646, 
> 0.543750524520874,
>  >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183, 
> 0.619924664497375,
>  >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707, 
> 0.704829752445221,
>  >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619, 
> 0.783461511135101,
>  >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996, 
> 0.871352434158325,
>  >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205, 
> 0.959907650947571,
>  >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282, 
> 1.05400913953781,
>  >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381, 
> 1.14943087100983,
>  >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958, 
> 1.24186837673187,
>  >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539, 
> 1.33904588222504,
>  >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811, 
> 1.43585115671158,
>  >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727, 
> 1.52572846412659,
>  >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083, 
> 1.62387949228287,
>  >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119, 
> 1.72479337453842,
>  >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033, 
> 1.83066886663437,
>  >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375, 
> 1.93813002109528,
>  >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531, 
> 2.05067992210388,
>  >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098, 
> 2.16402626037598,
>  >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063, 
> 2.27733504772186,
>  >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858, 
> 2.38648927211761,
>  >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733, 
> 2.51017570495605,
>  >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022, 
> 2.62751877307892,
>  >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791, 
> 2.75302135944366,
>  >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621, 
> 2.88039410114288,
>  >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046, 
> 3.00898361206055,
>  >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>  >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641, 
> -1.24295055804536,
>  >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354, 
> -2.36770012911069,
>  >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582, 
> -2.41382533818026,
>  >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926, 
> -1.53496826259972,
>  >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084, 
> 0.136596820654013,
>  >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466, 
> 0.793803634291308,
>  >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564, 
> -1.41715777257774,
>  >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241, 
> -0.737609879885404,
>  >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281, 
> -0.978538630093809,
>  >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644, 
> 3.91689160157513,
>  >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557, 
> 8.15101701282067,
>  >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244, 
> 1.54064657400204,
>  >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344, 
> 9.37565121768513,
>  >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342, 
> 2.80960651433971,
>  >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997, 
> 8.86907069895943,
>  >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564, 
> 7.68714830528144,
>  >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046, 
> 1.64908991824022,
>  >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881, 
> 3.99869636910933,
>  >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003, 
> 3.5422970157433,
>  >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067, 
> 9.94604963036295,
>  >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776, 
> 13.7408303595752,
>  >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921, 
> 13.4970905965787,
>  >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927, 
> -0.156762622680077,
>  >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507, 
> 11.3104332518482,
>  >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483, 
> 9.6004907412354,
>  >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806, 
> 5.56595224859066,
>  >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754, 
> 5.44795836991128,
>  >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391, 
> 3.77800720810782,
>  >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911, 
> 2.78257393345915,
>  >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167, 
> 4.82754943871433,
>  >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017, 
> 9.29079879799404,
>  >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438, 
> 11.1121039747257,
>  >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344, 
> 8.80608578166101,
>  >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523, 
> 14.6377884248645,
>  >? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>  >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>  >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", 
> "layer.13",
>  >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", 
> "layer.19",
>  >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", 
> "layer.25",
>  >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", 
> "layer.31",
>  >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", 
> "layer.37",
>  >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", 
> "layer.43",
>  >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", 
> "layer.49",
>  >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", 
> "layer.55",
>  >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", 
> "layer.61",
>  >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", 
> "layer.67",
>  >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", 
> "layer.73",
>  >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", 
> "layer.79",
>  >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", 
> "layer.85",
>  >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", 
> "layer.91",
>  >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", 
> "layer.97",
>  >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>  >? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>  >? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>  >? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>  >? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>  >? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>  >? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>  >? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>  >? ??? "layer.138"))
>  > I started with the following to generate the first regression line 
> and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>  >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>  >? ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>  >? ??? departurea), method=lm)
>  > But I receive this error:? ??Warning message:
>  >? ??? Computation failed in `stat_smooth()`:
>  >? ??? 'what' must be a function or character string
>  > A blue scatter plot is successfully generated, but the problem is 
> that the regression line does not appear, presumably related to the 
> above warning.
>  > Is there a reason for this? I would appreciate any assistance!
>  > ??? [[alternative HTML version deleted]]
> 
>  >
>  > ______________________________________________
>  > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>  > https://stat.ethz.ch/mailman/listinfo/r-help
>  > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
>  > and provide commented, minimal, self-contained, reproducible code.
> 
>  >


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Jun  6 12:59:57 2019
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 6 Jun 2019 13:59:57 +0300
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190605160714.GA24635@debian64>
References: <20190605160714.GA24635@debian64>
Message-ID: <20190606135957.0be4db10@trisector>

On Wed, 5 Jun 2019 18:07:15 +0200
Frank Schwidom <schwidom at gmx.net> wrote:

> +> path.expand("a ~ b")  
> [1] "a /home/user b"

> How can I switch off any file crippling activity?

It doesn't seem to be possible if readline is enabled and works
correctly.

Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
calls R_ExpandFileName_readline [4], which uses libreadline function
tilde_expand [5]. tilde_expand seems to be designed to expand '~'
anywhere in the string it is handed, i.e. operate on whole command
lines, not file paths.

I am taking the liberty of Cc-ing R-devel in case this can be
considered a bug.

-- 
Best regards,
Ivan

[1]
https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807

[2]
https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915

[3]
https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147

[4]
https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494

[5]
https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Jun  6 13:20:51 2019
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 6 Jun 2019 14:20:51 +0300
Subject: [R] Parallel processes collapse into one
In-Reply-To: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>
References: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>
Message-ID: <20190606142051.738c49a0@trisector>

On Mon, 3 Jun 2019 06:37:46 +0200
Nicola Lunardon <nicola.lunardon.84 at gmail.com> wrote:

> R seems to be running, but simulations do not progress further.

Have you tried message() (or REprintf() in C code) to narrow down the
specific part of the code where simulations stop in their progress?
It's less convenient than a good debugger, but with parallel code it is
sometimes the only way to reproduce the problem and get some
information about it.

> If I run simulations on 16 cores I end up having an R instance with
> CPU usage about 1600%, never experienced such a behaviour.

> BLAS:   /usr/lib/openblas-base/libblas.so.3
> LAPACK: /usr/lib/libopenblasp-r0.2.18.so

OpenBLAS can, indeed, use multiple threads on its own, inside a single
process. Combined with mclapply, this might create a situation when
there are far more threads competing for CPU time than CPU cores
available. Does it help if you set an environment variable such as
OPENBLAS_NUM_THREADS [*] to a number less than or equal to (number of
CPU cores / mc.cores mclapply argument)?

-- 
Best regards,
Ivan

[*]
https://github.com/xianyi/OpenBLAS#setting-the-number-of-threads-using-environment-variables


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun  6 13:38:40 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jun 2019 07:38:40 -0400
Subject: [R] debug only top level function
In-Reply-To: <b608b10648e943c0960a44dfad228b54@SRVEXCHCM1302.precheza.cz>
References: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>
 <8dd78027-cec5-ae1a-bd72-bd35ac4fb4c7@gmail.com>
 <b608b10648e943c0960a44dfad228b54@SRVEXCHCM1302.precheza.cz>
Message-ID: <a19a6dd8-c793-0353-c0b1-07d5ec9a9f9e@gmail.com>

On 06/06/2019 6:00 a.m., PIKAL Petr wrote:
> Thanks Duncan.
> 
> I think you found it. I have an object called s within my function. I wanted to check it, so I hit "s". This did not bring the object but instead it change behaviour of debug function. I did not find this in help pages nor in R exts or R intro manual. Maybe it would be worth considering to add something about it to debug help page.

It's in the ?browser help page, which is linked from ?debug.

Duncan Murdoch

> 
> Best regards
> Petr
> 
>> -----Original Message-----
>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>> Sent: Thursday, June 6, 2019 11:11 AM
>> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
>> Subject: Re: [R] debug only top level function
>>
>> On 06/06/2019 4:55 a.m., PIKAL Petr wrote:
>>> Dear all
>>>
>>> I have a question about debug function. I did not use it for long time but my
>> vague memory tell me, that when I used  debug(myfunction) in past, only
>> myfunction was debugged and browser ignored any embedded function.
>>>
>>> example (simple)
>>>
>>> fff <- function(x) mean(x, na.rm=T)
>>>
>>> when I issue
>>>> debug(fff)
>>>> fff(1:10)
>>> debugging in: fff(1:10)
>>> debug at #1: mean(x, na.rm = T)
>>> Browse[2]>
>>> debugging in: mean(x, na.rm = T)
>>> debug: UseMethod("mean")
>>> Browse[3]>
>>> debugging in: mean.default(x, na.rm = T) ...
>>> it starts debugging mean function. I understand that it is indicated by
>> Browse[n] but it could be quite messy if I have many embedded functions and
>> difficult to follow.
>>>
>>> Can I persuade debug function not to bother with embedded functions (e.g.
>> mean, median, mad, ...) and debug only my top level code?
>>
>> There are several commands available.  Type "help" to see them:
>>
>> n          next
>> s          step into
>> f          finish
>> c or cont  continue
>> Q          quit
>> where      show stack
>> help       show help
>> <expr>     evaluate expression
>>
>>
>> You want "n", and are getting "s".  I believe if you hit Enter without choosing
>> one, it will do the same as the previous time, so you've probably used "s"
>> sometime in the past.
>>
>> Duncan Murdoch
>>
>>>
>>> Best regards
>>> Petr
>>>
>>>> sessionInfo()
>>> R Under development (unstable) (2018-03-07 r74369)
>>> Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10
>>> x64 (build 17763)
>>>
>>> Matrix products: default
>>>
>>> locale:
>>> [1] LC_COLLATE=Czech_Czechia.1250  LC_CTYPE=Czech_Czechia.1250 [3]
>>> LC_MONETARY=Czech_Czechia.1250 LC_NUMERIC=C [5]
>>> LC_TIME=Czech_Czechia.1250
>>>
>>> attached base packages:
>>> [1] stats     datasets  utils     grDevices graphics  methods   base
>>>
>>> other attached packages:
>>> [1] MASS_7.3-49     readxl_1.0.0    lattice_0.20-35 fun_0.1
>>>
>>> loaded via a namespace (and not attached):
>>> [1] Rcpp_0.12.16     cellranger_1.1.0 grid_3.5.0       plyr_1.8.4
>>>    [5] gtable_0.2.0     scales_0.5.0     ggplot2_2.2.1    pillar_1.2.1
>>>    [9] rlang_0.2.0      lazyeval_0.2.1   rpart_4.1-13     tools_3.5.0
>>> [13] munsell_0.4.3    compiler_3.5.0   colorspace_1.3-2 tibble_1.4.2
>>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>


From r@i@1290 m@iii@g oii @im@com  Thu Jun  6 16:35:18 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Thu, 6 Jun 2019 14:35:18 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
Message-ID: <974312679.997840.1559831718299@mail.yahoo.com>

Hi Rui (and everyone),
Thank you for this! Yes, this did work fine, as I can see my scatter plots and regression lines on the same plot, along with the appropriate coloring scheme! :)
Just one last question concerning this - I melted other dataframes into my new "NewestdataUltra". I now have 4 objects listed in there in this order (starting from the top of the list): "onepctCO2MEDIAN", "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting colored scattered plots and regression lines for these in this manner:
ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + scale_color_manual(values =c("green", "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)?However, I received this error:
Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + scale_color_manual(values =c("green", "blue" "red""

Why would this error appear?? I think that I assigned the colors correctly to each of the four objects in question, so why would this occur??
Thank you, once again!?
-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt>
To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
Sent: Thu, Jun 6, 2019 6:52 am
Subject: Re: [R] Plotting more than one regression line in ggplot

Hello,

You are confusing some of the values of L1 with L1 itself.
If you just want two of those values in your plot, "onepctCO2MEDIAN" and 
"RCP8.5MEDIAN", you need to subset the data filtering out the rows with 
L1 == "RCP4.5MEDIAN".

And please forget geom_jitter, it is completely inappropriate for the 
type of scatter plot you are trying to graph. You jitter when there is 
overplotting, not as a general purpose technique.

Here is one way to do it.


ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
? ? ? ? aes(x, value, colour = L1)) +
? geom_point() +
? scale_color_manual(values = c("green", "red")) +
? geom_smooth(method = lm)


Hope this helps,

Rui Barradas

?s 22:37 de 05/06/19, rain1290 at aim.com escreveu:
> Hi Rui (and everyone),
> 
> Thank you so much for your response! Much appreciated!
> 
> What if I wanted I create several regression lines and scatter plots in 
> the same ggplot using a "melted" dataset? I would like to create a 
> scatter plot and regression line for both the objects of 
> "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like this:
> 
> 
>? >NewestdataUltra
> 
> x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2 
> 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999 
> onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357 
> y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN 
> 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446 
> onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10 
> 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399 
> onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13 
> 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570 
> onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16 
> 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826 
> onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19 
> 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826 
> onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22 
> 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883 
> onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25 
> 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374 
> onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28 
> 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777 
> onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31 
> 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657 
> onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34 
> 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584 
> onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37 
> 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838 
> onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40 
> 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160 
> onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43 
> 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500 
> onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46 
> 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007 
> onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49 
> 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409 
> onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52 
> 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122 
> onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55 
> 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471 
> onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58 
> 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888 
> onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61 
> 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989 
> onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64 
> 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831 
> onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67 
> 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844 
> onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70 
> 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688 
> onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73 
> 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725 
> onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76 
> 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702 
> onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79 
> 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301 
> onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82 
> 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469 
> onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85 
> 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712 
> onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88 
> 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060 
> onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91 
> 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915 
> onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94 
> 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679 
> onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97 
> 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074 
> onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100 
> 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074 
> onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103 
> 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195 
> onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106 
> 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y -0.40283200 
> onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109 
> 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736 
> onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112 
> 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721 
> onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115 
> 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020 
> onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118 
> 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026 
> onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121 
> 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829 
> onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124 
> 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880 
> onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127 
> 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503 
> onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130 
> 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 10.74252868 
> onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133 
> 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663 
> onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136 
> 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 14.63778842 
> onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139 
> 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515 
> RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 0.500039143 
> y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 RCP4.5MEDIAN 144 
> 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524 
> RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 0.546194211 
> y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 RCP4.5MEDIAN 149 
> 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882 
> RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 0.590921065 
> y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN 
> 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y -3.38454122 
> RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y 
> 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159 
> 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946 
> RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y 
> -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164 
> 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115 
> RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 0.760886972 
> y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN 
> 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 0.22722653 
> RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 0.815066246 
> y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 RCP4.5MEDIAN 174 
> 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010 
> RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y 
> 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179 
> 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481 
> RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 0.917284978 y 
> -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184 
> 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150 
> RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 0.958795701 y 
> 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189 
> 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369 
> RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y 
> -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 RCP4.5MEDIAN 194 
> 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340 
> RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 1.032070810 
> y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199 
> 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588 
> RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 1.076078766 y 
> 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204 
> 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132 
> RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y 
> 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209 
> 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969 
> RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 1.143910237 
> y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214 
> 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918 
> RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 1.171103424 
> y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 RCP4.5MEDIAN 219 
> 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459 
> RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 1.204590551 y 
> 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224 
> 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245 
> RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y 
> 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229 
> 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949 
> RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 0.486304903 
> y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN 
> 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y -6.15175322 
> RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 0.528675758 
> y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 RCP8.5MEDIAN 239 
> 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029 
> RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y 
> 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244 
> 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554 
> RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 0.639401050 
> y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 RCP8.5MEDIAN 249 
> 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656 
> RCP8.5MEDIAN Maybe something like this?
> 
> lusher<-ggplot(NewestdataULTRA) + 
> geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") + 
> geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) + 
> geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
> **//___^
> I receive this warning, however:
> 
> Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring 
> unknown aesthetics: onepctCO2MEDIAN
> 
> **//___^
> Perhaps I am not assigning the columns properly? Essentially, I just 
> want create two scatter plots and two regression lines for these two 
> objects.
> 
> Once again, any assistance would be greatly appreciated!
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>; 
> r-sig-geo <r-sig-geo at r-project.org>
> Sent: Wed, Jun 5, 2019 10:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> This is pretty basic ggplot.
> 
> 
> lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>? ? geom_point(colour = 'blue') +
>? ? geom_smooth(method = 'lm')
> 
> lm1
> 
> 
> If you want to combine several datasets, you will have to have a
> variable telling which dataset is which. In the example below, this is
> column 'id'.
> 
> 
> onepctCO2MEDIAN2 <- onepctCO2MEDIAN
> onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
> onepctCO2MEDIAN$id <- 1
> onepctCO2MEDIAN2$id <- 2
> df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
> 
> ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>? ? geom_point() +
>? ? geom_smooth(method = 'lm')
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>? > I am trying to plot, using ggplot, a series of scatter plots with 
> regression lines for several datasets. I started with the following 
> dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>? >? ??? onepctCO2MEDIAN
>? >? ??????????????????? x????????? y
>? >? ??? layer.1?? 0.000000000? 0.0000000
>? >? ??? layer.2?? 0.006794447? 4.9002490
>? >? ??? layer.3?? 0.014288058? 0.1608000
>? >? ??? layer.4?? 0.022087920? 6.6349133
>? >? ??? layer.5?? 0.030797357 -1.2429506
>? >? ??? layer.6?? 0.038451072? 1.5643374
>? >? ??? layer.7?? 0.048087904 -2.2659035
>? >? ??? layer.8?? 0.058677729? 2.2070045
>? >? ??? layer.9?? 0.069261406 -2.3677001
>? >? ??? layer.10? 0.080524530 -1.0913506
>? >? ??? layer.11? 0.092760246? 0.4099940
>? >? ??? layer.12? 0.103789609 -0.1259727
>? >? ??? layer.13? 0.116953168 -2.4138253
>? >? ??? layer.14? 0.129253298? 7.0890257
>? >? ??? layer.15? 0.141710050 -0.7593539
>? >? ??? layer.16? 0.156002052? 0.0454416
>? >? ??? layer.17? 0.170648172 -1.5349683
>? >? ??? layer.18? 0.185318425? 6.5524201
>? >? ??? layer.19? 0.199463055 -0.8312563
>? >? ??? layer.20? 0.213513337 -2.5099183
>? >? ??? layer.21? 0.228839271? 0.1365968
>? >? ??? layer.22? 0.246981293 -1.3719845
>? >? ??? layer.23? 0.263012767 -0.8712988
>? >? ??? layer.24? 0.278505564? 0.6632584
>? >? ??? layer.25? 0.293658361? 0.7938036
>? >? ??? layer.26? 0.310747266? 3.4880637
>? >? ??? layer.27? 0.325990349 -4.4612208
>? >? ??? layer.28? 0.342517540? 0.0871734
>? >? ??? layer.29? 0.362751633 -1.4171578
>? >? ??? layer.30? 0.380199537 -0.9956508
>? >? ??? layer.31? 0.394992948? 0.3215526
>? >? ??? layer.32? 0.414373398? 3.1403866
>? >? ??? layer.33? 0.430690214 -0.7376099
>? >? ??? layer.34? 0.449738145 -2.4860541
>? >? ??? layer.35? 0.470167458 -3.4235858
>? >? ??? layer.36? 0.489019871? 0.4824748
>? >? ??? layer.37? 0.507242471 -0.9785386
>? >? ??? layer.38? 0.524314284? 8.5359684
>? >? ??? layer.39? 0.543750525? 5.4844742
>? >? ??? layer.40? 0.564234197? 3.2149367
>? >? ??? layer.41? 0.583679616? 3.9168916
>? >? ??? layer.42? 0.601459444? 4.4907020
>? >? ??? layer.43? 0.619924664? 6.5410410
>? >? ??? layer.44? 0.639932007? 4.8068650
>? >? ??? layer.45? 0.661347181? 8.1510170
>? >? ??? layer.46? 0.684117317? 0.2697413
>? >? ??? layer.47? 0.704829752 -0.1807501
>? >? ??? layer.48? 0.725045770? 9.7181249
>? >? ??? layer.49? 0.745165825? 1.5406466
>? >? ??? layer.50? 0.765016139 -1.6476041
>? >? ??? layer.51? 0.783461511? 4.8024603
>? >? ??? layer.52? 0.806382924? 4.0421516
>? >? ??? layer.53? 0.829241335? 9.3756512
>? >? ??? layer.54? 0.849924415? 5.3305050
>? >? ??? layer.55? 0.871352434? 7.5445803
>? >? ??? layer.56? 0.893632233? 6.4679547
>? >? ??? layer.57? 0.916052133? 2.8096065
>? >? ??? layer.58? 0.938579470? 5.3921661
>? >? ??? layer.59? 0.959907651? 7.2043689
>? >? ??? layer.60? 0.981643587? 3.3350806
>? >? ??? layer.61? 1.004116774? 8.8690707
>? >? ??? layer.62? 1.028363466? 1.7861299
>? >? ??? layer.63? 1.054009140? 6.2555038
>? >? ??? layer.64? 1.072440803? 7.6079236
>? >? ??? layer.65? 1.094457805? 7.6871483
>? >? ??? layer.66? 1.123176277? 4.7787764
>? >? ??? layer.67? 1.149430871 12.7110502
>? >? ??? layer.68? 1.170912921 -0.7156284
>? >? ??? layer.69? 1.196743071? 1.6490899
>? >? ??? layer.70? 1.218625903? 3.0363024
>? >? ??? layer.71? 1.241868377? 4.2974769
>? >? ??? layer.72? 1.267941594? 1.9543778
>? >? ??? layer.73? 1.290708780? 3.9986964
>? >? ??? layer.74? 1.313222289? 4.5179472
>? >? ??? layer.75? 1.339045882? 0.9337905
>? >? ??? layer.76? 1.362803459? 3.3050770
>? >? ??? layer.77? 1.384450197? 3.5422970
>? >? ??? layer.78? 1.409720302? 5.9973660
>? >? ??? layer.79? 1.435851157? 0.5081869
>? >? ??? layer.80? 1.455592215? 7.9661630
>? >? ??? layer.81? 1.479495347? 9.9460496
>? >? ??? layer.82? 1.506051958? 3.7908372
>? >? ??? layer.83? 1.525728464? 2.5735847
>? >? ??? layer.84? 1.549362063 10.1404974
>? >? ??? layer.85? 1.573440671 13.7408304
>? >? ??? layer.86? 1.600278735? 0.9335771
>? >? ??? layer.87? 1.623879492? 9.7588742
>? >? ??? layer.88? 1.650029302? 1.2769395
>? >? ??? layer.89? 1.672362328 13.4970906
>? >? ??? layer.90? 1.700221121 10.2087502
>? >? ??? layer.91? 1.724793375? 1.6811275
>? >? ??? layer.92? 1.751070559? 6.1178992
>? >? ??? layer.93? 1.778022110 -0.1567626
>? >? ??? layer.94? 1.803022087? 3.8237479
>? >? ??? layer.95? 1.830668867? 4.4331468
>? >? ??? layer.96? 1.855736911? 5.9790707
>? >? ??? layer.97? 1.882615030 11.3104333
>? >? ??? layer.98? 1.909218490? 8.2142607
>? >? ??? layer.99? 1.938130021 15.3209674
>? >? ??? layer.100 1.963727593? 5.8178217
>? >? ??? layer.101 1.993271947? 9.6004907
>? >? ??? layer.102 2.022548139? 3.4063646
>? >? ??? layer.103 2.050679922? 4.7375010
>? >? ??? layer.104 2.078064442? 3.0133019
>? >? ??? layer.105 2.104113460? 5.5659522
>? >? ??? layer.106 2.133597612 12.0346333
>? >? ??? layer.107 2.164026260 -0.4028320
>? >? ??? layer.108 2.194852829 10.5996780
>? >? ??? layer.109 2.224257946? 5.4479584
>? >? ??? layer.110 2.252194643? 4.7052374
>? >? ??? layer.111 2.277335048 14.0962019
>? >? ??? layer.112 2.304058313? 5.7149016
>? >? ??? layer.113 2.330930233? 3.7780072
>? >? ??? layer.114 2.357022762? 4.4120620
>? >? ??? layer.115 2.386489272? 4.1866085
>? >? ??? layer.116 2.417503953? 6.9078802
>? >? ??? layer.117 2.448524356? 2.7825739
>? >? ??? layer.118 2.478698969? 7.6171786
>? >? ??? layer.119 2.510175705 10.2410603
>? >? ??? layer.120 2.539697886? 8.1820711
>? >? ??? layer.121 2.567915559? 4.8275494
>? >? ??? layer.122 2.597463250 19.1624883
>? >? ??? layer.123 2.627518773 16.0677109
>? >? ??? layer.124 2.658759236 12.5897081
>? >? ??? layer.125 2.692401528? 9.2907988
>? >? ??? layer.126 2.721903205? 7.4262502
>? >? ??? layer.127 2.753021359? 9.3902518
>? >? ??? layer.128 2.786313415 12.6193550
>? >? ??? layer.129 2.819564104 11.1121040
>? >? ??? layer.130 2.850823164 15.7907100
>? >? ??? layer.131 2.880394101 10.7425287
>? >? ??? layer.132 2.911391258? 7.7971430
>? >? ??? layer.133 2.942965150? 8.8060858
>? >? ??? layer.134 2.974468350 17.5606266
>? >? ??? layer.135 3.008983612 17.3088605
>? >? ??? layer.136 3.040015221 13.4500543
>? >? ??? layer.137 3.072668672 14.6377884
>? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)? ? 
> dput(onepctCO2MEDIAN)
>? >? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>? >? ??? 0.0220879195258021, 
> 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>? >? ??? 0.0586777292191982, 0.0692614056169987, 
> 0.080524530261755,0.0927602462470531,
>? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205, 
> 0.141710050404072,
>? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737, 
> 0.199463054537773,
>? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028, 
> 0.263012766838074,
>? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735, 
> 0.325990349054337,
>? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175, 
> 0.39499294757843,
>? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573, 
> 0.470167458057404,
>? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646, 
> 0.543750524520874,
>? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183, 
> 0.619924664497375,
>? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707, 
> 0.704829752445221,
>? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619, 
> 0.783461511135101,
>? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996, 
> 0.871352434158325,
>? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205, 
> 0.959907650947571,
>? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282, 
> 1.05400913953781,
>? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381, 
> 1.14943087100983,
>? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958, 
> 1.24186837673187,
>? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539, 
> 1.33904588222504,
>? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811, 
> 1.43585115671158,
>? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727, 
> 1.52572846412659,
>? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083, 
> 1.62387949228287,
>? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119, 
> 1.72479337453842,
>? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033, 
> 1.83066886663437,
>? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375, 
> 1.93813002109528,
>? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531, 
> 2.05067992210388,
>? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098, 
> 2.16402626037598,
>? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063, 
> 2.27733504772186,
>? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858, 
> 2.38648927211761,
>? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733, 
> 2.51017570495605,
>? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022, 
> 2.62751877307892,
>? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791, 
> 2.75302135944366,
>? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621, 
> 2.88039410114288,
>? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046, 
> 3.00898361206055,
>? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641, 
> -1.24295055804536,
>? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354, 
> -2.36770012911069,
>? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582, 
> -2.41382533818026,
>? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926, 
> -1.53496826259972,
>? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084, 
> 0.136596820654013,
>? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466, 
> 0.793803634291308,
>? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564, 
> -1.41715777257774,
>? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241, 
> -0.737609879885404,
>? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281, 
> -0.978538630093809,
>? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644, 
> 3.91689160157513,
>? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557, 
> 8.15101701282067,
>? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244, 
> 1.54064657400204,
>? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344, 
> 9.37565121768513,
>? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342, 
> 2.80960651433971,
>? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997, 
> 8.86907069895943,
>? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564, 
> 7.68714830528144,
>? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046, 
> 1.64908991824022,
>? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881, 
> 3.99869636910933,
>? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003, 
> 3.5422970157433,
>? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067, 
> 9.94604963036295,
>? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776, 
> 13.7408303595752,
>? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921, 
> 13.4970905965787,
>? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927, 
> -0.156762622680077,
>? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507, 
> 11.3104332518482,
>? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483, 
> 9.6004907412354,
>? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806, 
> 5.56595224859066,
>? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754, 
> 5.44795836991128,
>? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391, 
> 3.77800720810782,
>? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911, 
> 2.78257393345915,
>? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167, 
> 4.82754943871433,
>? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017, 
> 9.29079879799404,
>? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438, 
> 11.1121039747257,
>? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344, 
> 8.80608578166101,
>? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523, 
> 14.6377884248645,
>? >? ??? 8.07985518296064)), class = "data.frame", row.names = c("layer.1",
>? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12", 
> "layer.13",
>? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18", 
> "layer.19",
>? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24", 
> "layer.25",
>? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30", 
> "layer.31",
>? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36", 
> "layer.37",
>? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42", 
> "layer.43",
>? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48", 
> "layer.49",
>? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54", 
> "layer.55",
>? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60", 
> "layer.61",
>? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66", 
> "layer.67",
>? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72", 
> "layer.73",
>? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78", 
> "layer.79",
>? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84", 
> "layer.85",
>? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90", 
> "layer.91",
>? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96", 
> "layer.97",
>? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>? >? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>? >? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>? >? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>? >? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>? >? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>? >? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>? >? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>? >? ??? "layer.138"))
>? > I started with the following to generate the first regression line 
> and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>? >? ??? colour="blue") + geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>? >? ??? departurea), method=lm)
>? > But I receive this error:? ??Warning message:
>? >? ??? Computation failed in `stat_smooth()`:
>? >? ??? 'what' must be a function or character string
>? > A blue scatter plot is successfully generated, but the problem is 
> that the regression line does not appear, presumably related to the 
> above warning.
>? > Is there a reason for this? I would appreciate any assistance!
>? > ??? [[alternative HTML version deleted]]
> 
>? >
>? > ______________________________________________
>? > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>? > https://stat.ethz.ch/mailman/listinfo/r-help
>? > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
>? > and provide commented, minimal, self-contained, reproducible code.
> 
>? >

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Thu Jun  6 16:52:35 2019
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Thu, 6 Jun 2019 16:52:35 +0200
Subject: [R] debug only top level function
In-Reply-To: <a19a6dd8-c793-0353-c0b1-07d5ec9a9f9e@gmail.com>
References: <b11027c704cd40c0b0bf220c5472b06a@SRVEXCHCM1302.precheza.cz>
 <8dd78027-cec5-ae1a-bd72-bd35ac4fb4c7@gmail.com>
 <b608b10648e943c0960a44dfad228b54@SRVEXCHCM1302.precheza.cz>
 <a19a6dd8-c793-0353-c0b1-07d5ec9a9f9e@gmail.com>
Message-ID: <23801.10419.365390.54667@stat.math.ethz.ch>

>>>>> Duncan Murdoch 
>>>>>     on Thu, 6 Jun 2019 07:38:40 -0400 writes:

    > On 06/06/2019 6:00 a.m., PIKAL Petr wrote:
    >> Thanks Duncan.
    >> 
    >> I think you found it. I have an object called s within my function. I wanted to check it, so I hit "s". This did not bring the object but instead it change behaviour of debug function. I did not find this in help pages nor in R exts or R intro manual. Maybe it would be worth considering to add something about it to debug help page.

    > It's in the ?browser help page, which is linked from ?debug.

    > Duncan Murdoch

Indeed.
As it is not the first time, users did not "find" this, I have
made the links a bit more visible (for future R versions), now.

I'd  use  '(s)'  instead of 's'  [and more often and
importantly, I have a variable 'n' somewhere and need to use
'(n)'  very regularly.

For smallish situations, btw, the use of   ls.str()  comes very handy.

It has to be noted that unfortunately, the difference between
'n' and 's' and 'c'  has been a bit "blurred" for byte compiled
functions, and as the default JIT level is high, I had
occasionallz wanted an easy way to revert the byte compilation
before debugging.... or another way to get rid of this
drawback..

Martin



    >> 
    >> Best regards
    >> Petr
    >> 
    >>> -----Original Message-----
    >>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
    >>> Sent: Thursday, June 6, 2019 11:11 AM
    >>> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help at r-project.org
    >>> Subject: Re: [R] debug only top level function
    >>> 
    >>> On 06/06/2019 4:55 a.m., PIKAL Petr wrote:
    >>>> Dear all
    >>>> 
    >>>> I have a question about debug function. I did not use it for long time but my
    >>> vague memory tell me, that when I used  debug(myfunction) in past, only
    >>> myfunction was debugged and browser ignored any embedded function.
    >>>> 
    >>>> example (simple)
    >>>> 
    >>>> fff <- function(x) mean(x, na.rm=T)
    >>>> 
    >>>> when I issue
    >>>>> debug(fff)
    >>>>> fff(1:10)
    >>>> debugging in: fff(1:10)
    >>>> debug at #1: mean(x, na.rm = T)
    >>>> Browse[2]>
    >>>> debugging in: mean(x, na.rm = T)
    >>>> debug: UseMethod("mean")
    >>>> Browse[3]>
    >>>> debugging in: mean.default(x, na.rm = T) ...
    >>>> it starts debugging mean function. I understand that it is indicated by
    >>> Browse[n] but it could be quite messy if I have many embedded functions and
    >>> difficult to follow.
    >>>> 
    >>>> Can I persuade debug function not to bother with embedded functions (e.g.
    >>> mean, median, mad, ...) and debug only my top level code?
    >>> 
    >>> There are several commands available.  Type "help" to see them:
    >>> 
    >>> n          next
    >>> s          step into
    >>> f          finish
    >>> c or cont  continue
    >>> Q          quit
    >>> where      show stack
    >>> help       show help
    >>> <expr>     evaluate expression
    >>> 
    >>> 
    >>> You want "n", and are getting "s".  I believe if you hit Enter without choosing
    >>> one, it will do the same as the previous time, so you've probably used "s"
    >>> sometime in the past.
    >>> 
    >>> Duncan Murdoch
    >>> 
    >>>> 
    >>>> Best regards
    >>>> Petr
    >>>> 
    >>>>> sessionInfo()
    >>>> R Under development (unstable) (2018-03-07 r74369)
    >>>> Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10
    >>>> x64 (build 17763)
    >>>> 
    >>>> Matrix products: default
    >>>> 
    >>>> locale:
    >>>> [1] LC_COLLATE=Czech_Czechia.1250  LC_CTYPE=Czech_Czechia.1250 [3]
    >>>> LC_MONETARY=Czech_Czechia.1250 LC_NUMERIC=C [5]
    >>>> LC_TIME=Czech_Czechia.1250
    >>>> 
    >>>> attached base packages:
    >>>> [1] stats     datasets  utils     grDevices graphics  methods   base
    >>>> 
    >>>> other attached packages:
    >>>> [1] MASS_7.3-49     readxl_1.0.0    lattice_0.20-35 fun_0.1
    >>>> 
    >>>> loaded via a namespace (and not attached):
    >>>> [1] Rcpp_0.12.16     cellranger_1.1.0 grid_3.5.0       plyr_1.8.4
    >>>> [5] gtable_0.2.0     scales_0.5.0     ggplot2_2.2.1    pillar_1.2.1
    >>>> [9] rlang_0.2.0      lazyeval_0.2.1   rpart_4.1-13     tools_3.5.0
    >>>> [13] munsell_0.4.3    compiler_3.5.0   colorspace_1.3-2 tibble_1.4.2


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jun  6 16:56:20 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 6 Jun 2019 14:56:20 +0000
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <974312679.997840.1559831718299@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
Message-ID: <51acc13b444543c7b2da51d462466eab@SRVEXCHCM1302.precheza.cz>

Hi

Probably missing quotation marks in geom_smooth

geom_smooth(method = "lm", se = FALSE)

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of rain1290--- via R-
> help
> Sent: Thursday, June 6, 2019 4:35 PM
> To: ruipbarradas at sapo.pt; r-help at R-project.org
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Hi Rui (and everyone),
> Thank you for this! Yes, this did work fine, as I can see my scatter plots and
> regression lines on the same plot, along with the appropriate coloring scheme!
> :)
> Just one last question concerning this - I melted other dataframes into my new
> "NewestdataUltra". I now have 4 objects listed in there in this order (starting
> from the top of the list): "onepctCO2MEDIAN", "RCP4.5MEDIAN",
> RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting colored scattered
> plots and regression lines for these in this manner:
> ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value, colour
> = L1)) + geom_point() + scale_color_manual(values =c("green", "blue" "red",
> "black")) + geom_smooth(method = lm, se=FALSE) However, I received this
> error:
> Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1 !=
> 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() +
> scale_color_manual(values =c("green", "blue" "red""
>
> Why would this error appear?  I think that I assigned the colors correctly to
> each of the four objects in question, so why would this occur?
> Thank you, once again!
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 6:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
>
> Hello,
>
> You are confusing some of the values of L1 with L1 itself.
> If you just want two of those values in your plot, "onepctCO2MEDIAN" and
> "RCP8.5MEDIAN", you need to subset the data filtering out the rows with
> L1 == "RCP4.5MEDIAN".
>
> And please forget geom_jitter, it is completely inappropriate for the
> type of scatter plot you are trying to graph. You jitter when there is
> overplotting, not as a general purpose technique.
>
> Here is one way to do it.
>
>
> ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>         aes(x, value, colour = L1)) +
>   geom_point() +
>   scale_color_manual(values = c("green", "red")) +
>   geom_smooth(method = lm)
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 22:37 de 05/06/19, rain1290 at aim.com escreveu:
> > Hi Rui (and everyone),
> >
> > Thank you so much for your response! Much appreciated!
> >
> > What if I wanted I create several regression lines and scatter plots in
> > the same ggplot using a "melted" dataset? I would like to create a
> > scatter plot and regression line for both the objects of
> > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like
> this:
> >
> >
> >  >NewestdataUltra
> >
> > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
> > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y
> 0.16079999
> > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5
> 0.030797357
> > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744
> onepctCO2MEDIAN
> > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y
> 2.20700446
> > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
> > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y
> 0.40999399
> > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
> > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y
> 7.08902570
> > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
> > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -
> 1.53496826
> > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
> > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -
> 2.50991826
> > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
> > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -
> 0.87129883
> > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
> > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y
> 3.48806374
> > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
> > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -
> 1.41715777
> > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
> > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y
> 3.14038657
> > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
> > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -
> 3.42358584
> > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
> > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y
> 8.53596838
> > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
> > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y
> 3.91689160
> > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
> > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y
> 4.80686500
> > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
> > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -
> 0.18075007
> > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
> > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -
> 1.64760409
> > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
> > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y
> 9.37565122
> > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
> > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y
> 6.46795471
> > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
> > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y
> 7.20436888
> > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
> > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y
> 1.78612989
> > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
> > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y
> 7.68714831
> > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
> > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -
> 0.71562844
> > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
> > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y
> 4.29747688
> > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
> > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y
> 4.51794725
> > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
> > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y
> 3.54229702
> > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
> > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y
> 7.96616301
> > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
> > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y
> 2.57358469
> > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
> > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y
> 0.93357712
> > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
> > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y
> 13.49709060
> > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
> > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y
> 6.11789915
> > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
> > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y
> 4.43314679
> > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
> > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y
> 8.21426074
> > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
> > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y
> 9.60049074
> > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
> > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y
> 3.01330195
> > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
> > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y -
> 0.40283200
> > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN
> 109
> > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y
> 4.70523736
> > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN
> 112
> > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y
> 3.77800721
> > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
> > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y
> 6.90788020
> > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
> > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y
> 10.24106026
> > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
> > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y
> 19.16248829
> > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN
> 124
> > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y
> 9.29079880
> > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
> > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y
> 12.61935503
> > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN
> 130
> > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y
> 10.74252868
> > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
> > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y
> 17.56062663
> > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN
> 136
> > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y
> 14.63778842
> > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
> > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -
> 3.19367515
> > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142
> 0.500039143
> > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002
> RCP4.5MEDIAN 144
> > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -
> 3.64179524
> > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147
> 0.546194211
> > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597
> RCP4.5MEDIAN 149
> > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -
> 3.90829882
> > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152
> 0.590921065
> > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657
> RCP4.5MEDIAN
> > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y -
> 3.38454122
> > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157
> 0.646722666 y
> > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442
> RCP4.5MEDIAN 159
> > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -
> 5.56808946
> > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162
> 0.706016061 y
> > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819
> RCP4.5MEDIAN 164
> > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y
> 0.39963115
> > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167
> 0.760886972
> > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982
> RCP4.5MEDIAN
> > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y
> 0.22722653
> > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172
> 0.815066246
> > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646
> RCP4.5MEDIAN 174
> > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -
> 2.06588010
> > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177
> 0.869154422 y
> > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353
> RCP4.5MEDIAN 179
> > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
> > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182
> 0.917284978 y
> > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916
> RCP4.5MEDIAN 184
> > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y
> 6.36969150
> > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187
> 0.958795701 y
> > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356
> RCP4.5MEDIAN 189
> > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -
> 1.01615369
> > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192
> 0.994548581 y
> > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597
> RCP4.5MEDIAN 194
> > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -
> 2.40270340
> > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197
> 1.032070810
> > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969
> RCP4.5MEDIAN 199
> > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
> > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202
> 1.076078766 y
> > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869
> RCP4.5MEDIAN 204
> > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -
> 0.03364132
> > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207
> 1.115482896 y
> > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536
> RCP4.5MEDIAN 209
> > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y
> 12.02566969
> > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212
> 1.143910237
> > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567
> RCP4.5MEDIAN 214
> > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y
> 7.90741918
> > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217
> 1.171103424
> > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616
> RCP4.5MEDIAN 219
> > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y
> 1.10501459
> > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222
> 1.204590551 y
> > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830
> RCP4.5MEDIAN 224
> > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -
> 0.73815245
> > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227
> 1.233317788 y
> > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387
> RCP4.5MEDIAN 229
> > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y
> 4.09292949
> > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232
> 0.486304903
> > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413
> RCP8.5MEDIAN
> > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y -
> 6.15175322
> > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237
> 0.528675758
> > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891
> RCP8.5MEDIAN 239
> > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -
> 3.45706029
> > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242
> 0.581923368 y
> > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935
> RCP8.5MEDIAN 244
> > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y
> 10.35932554
> > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247
> 0.639401050
> > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775
> RCP8.5MEDIAN 249
> > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
> > RCP8.5MEDIAN Maybe something like this?
> >
> > lusher<-ggplot(NewestdataULTRA) +
> > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
> > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
> > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
> > **//___^
> > I receive this warning, however:
> >
> > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring
> > unknown aesthetics: onepctCO2MEDIAN
> >
> > **//___^
> > Perhaps I am not assigning the columns properly? Essentially, I just
> > want create two scatter plots and two regression lines for these two
> > objects.
> >
> > Once again, any assistance would be greatly appreciated!
> >
> > -----Original Message-----
> > From: Rui Barradas <ruipbarradas at sapo.pt>
> > To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>;
> > r-sig-geo <r-sig-geo at r-project.org>
> > Sent: Wed, Jun 5, 2019 10:52 am
> > Subject: Re: [R] Plotting more than one regression line in ggplot
> >
> > Hello,
> >
> > This is pretty basic ggplot.
> >
> >
> > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
> >    geom_point(colour = 'blue') +
> >    geom_smooth(method = 'lm')
> >
> > lm1
> >
> >
> > If you want to combine several datasets, you will have to have a
> > variable telling which dataset is which. In the example below, this is
> > column 'id'.
> >
> >
> > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
> > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
> > onepctCO2MEDIAN$id <- 1
> > onepctCO2MEDIAN2$id <- 2
> > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
> >
> > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
> >    geom_point() +
> >    geom_smooth(method = 'lm')
> >
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
> >  > I am trying to plot, using ggplot, a series of scatter plots with
> > regression lines for several datasets. I started with the following
> > dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
> >  >      onepctCO2MEDIAN
> >  >                      x          y
> >  >      layer.1   0.000000000  0.0000000
> >  >      layer.2   0.006794447  4.9002490
> >  >      layer.3   0.014288058  0.1608000
> >  >      layer.4   0.022087920  6.6349133
> >  >      layer.5   0.030797357 -1.2429506
> >  >      layer.6   0.038451072  1.5643374
> >  >      layer.7   0.048087904 -2.2659035
> >  >      layer.8   0.058677729  2.2070045
> >  >      layer.9   0.069261406 -2.3677001
> >  >      layer.10  0.080524530 -1.0913506
> >  >      layer.11  0.092760246  0.4099940
> >  >      layer.12  0.103789609 -0.1259727
> >  >      layer.13  0.116953168 -2.4138253
> >  >      layer.14  0.129253298  7.0890257
> >  >      layer.15  0.141710050 -0.7593539
> >  >      layer.16  0.156002052  0.0454416
> >  >      layer.17  0.170648172 -1.5349683
> >  >      layer.18  0.185318425  6.5524201
> >  >      layer.19  0.199463055 -0.8312563
> >  >      layer.20  0.213513337 -2.5099183
> >  >      layer.21  0.228839271  0.1365968
> >  >      layer.22  0.246981293 -1.3719845
> >  >      layer.23  0.263012767 -0.8712988
> >  >      layer.24  0.278505564  0.6632584
> >  >      layer.25  0.293658361  0.7938036
> >  >      layer.26  0.310747266  3.4880637
> >  >      layer.27  0.325990349 -4.4612208
> >  >      layer.28  0.342517540  0.0871734
> >  >      layer.29  0.362751633 -1.4171578
> >  >      layer.30  0.380199537 -0.9956508
> >  >      layer.31  0.394992948  0.3215526
> >  >      layer.32  0.414373398  3.1403866
> >  >      layer.33  0.430690214 -0.7376099
> >  >      layer.34  0.449738145 -2.4860541
> >  >      layer.35  0.470167458 -3.4235858
> >  >      layer.36  0.489019871  0.4824748
> >  >      layer.37  0.507242471 -0.9785386
> >  >      layer.38  0.524314284  8.5359684
> >  >      layer.39  0.543750525  5.4844742
> >  >      layer.40  0.564234197  3.2149367
> >  >      layer.41  0.583679616  3.9168916
> >  >      layer.42  0.601459444  4.4907020
> >  >      layer.43  0.619924664  6.5410410
> >  >      layer.44  0.639932007  4.8068650
> >  >      layer.45  0.661347181  8.1510170
> >  >      layer.46  0.684117317  0.2697413
> >  >      layer.47  0.704829752 -0.1807501
> >  >      layer.48  0.725045770  9.7181249
> >  >      layer.49  0.745165825  1.5406466
> >  >      layer.50  0.765016139 -1.6476041
> >  >      layer.51  0.783461511  4.8024603
> >  >      layer.52  0.806382924  4.0421516
> >  >      layer.53  0.829241335  9.3756512
> >  >      layer.54  0.849924415  5.3305050
> >  >      layer.55  0.871352434  7.5445803
> >  >      layer.56  0.893632233  6.4679547
> >  >      layer.57  0.916052133  2.8096065
> >  >      layer.58  0.938579470  5.3921661
> >  >      layer.59  0.959907651  7.2043689
> >  >      layer.60  0.981643587  3.3350806
> >  >      layer.61  1.004116774  8.8690707
> >  >      layer.62  1.028363466  1.7861299
> >  >      layer.63  1.054009140  6.2555038
> >  >      layer.64  1.072440803  7.6079236
> >  >      layer.65  1.094457805  7.6871483
> >  >      layer.66  1.123176277  4.7787764
> >  >      layer.67  1.149430871 12.7110502
> >  >      layer.68  1.170912921 -0.7156284
> >  >      layer.69  1.196743071  1.6490899
> >  >      layer.70  1.218625903  3.0363024
> >  >      layer.71  1.241868377  4.2974769
> >  >      layer.72  1.267941594  1.9543778
> >  >      layer.73  1.290708780  3.9986964
> >  >      layer.74  1.313222289  4.5179472
> >  >      layer.75  1.339045882  0.9337905
> >  >      layer.76  1.362803459  3.3050770
> >  >      layer.77  1.384450197  3.5422970
> >  >      layer.78  1.409720302  5.9973660
> >  >      layer.79  1.435851157  0.5081869
> >  >      layer.80  1.455592215  7.9661630
> >  >      layer.81  1.479495347  9.9460496
> >  >      layer.82  1.506051958  3.7908372
> >  >      layer.83  1.525728464  2.5735847
> >  >      layer.84  1.549362063 10.1404974
> >  >      layer.85  1.573440671 13.7408304
> >  >      layer.86  1.600278735  0.9335771
> >  >      layer.87  1.623879492  9.7588742
> >  >      layer.88  1.650029302  1.2769395
> >  >      layer.89  1.672362328 13.4970906
> >  >      layer.90  1.700221121 10.2087502
> >  >      layer.91  1.724793375  1.6811275
> >  >      layer.92  1.751070559  6.1178992
> >  >      layer.93  1.778022110 -0.1567626
> >  >      layer.94  1.803022087  3.8237479
> >  >      layer.95  1.830668867  4.4331468
> >  >      layer.96  1.855736911  5.9790707
> >  >      layer.97  1.882615030 11.3104333
> >  >      layer.98  1.909218490  8.2142607
> >  >      layer.99  1.938130021 15.3209674
> >  >      layer.100 1.963727593  5.8178217
> >  >      layer.101 1.993271947  9.6004907
> >  >      layer.102 2.022548139  3.4063646
> >  >      layer.103 2.050679922  4.7375010
> >  >      layer.104 2.078064442  3.0133019
> >  >      layer.105 2.104113460  5.5659522
> >  >      layer.106 2.133597612 12.0346333
> >  >      layer.107 2.164026260 -0.4028320
> >  >      layer.108 2.194852829 10.5996780
> >  >      layer.109 2.224257946  5.4479584
> >  >      layer.110 2.252194643  4.7052374
> >  >      layer.111 2.277335048 14.0962019
> >  >      layer.112 2.304058313  5.7149016
> >  >      layer.113 2.330930233  3.7780072
> >  >      layer.114 2.357022762  4.4120620
> >  >      layer.115 2.386489272  4.1866085
> >  >      layer.116 2.417503953  6.9078802
> >  >      layer.117 2.448524356  2.7825739
> >  >      layer.118 2.478698969  7.6171786
> >  >      layer.119 2.510175705 10.2410603
> >  >      layer.120 2.539697886  8.1820711
> >  >      layer.121 2.567915559  4.8275494
> >  >      layer.122 2.597463250 19.1624883
> >  >      layer.123 2.627518773 16.0677109
> >  >      layer.124 2.658759236 12.5897081
> >  >      layer.125 2.692401528  9.2907988
> >  >      layer.126 2.721903205  7.4262502
> >  >      layer.127 2.753021359  9.3902518
> >  >      layer.128 2.786313415 12.6193550
> >  >      layer.129 2.819564104 11.1121040
> >  >      layer.130 2.850823164 15.7907100
> >  >      layer.131 2.880394101 10.7425287
> >  >      layer.132 2.911391258  7.7971430
> >  >      layer.133 2.942965150  8.8060858
> >  >      layer.134 2.974468350 17.5606266
> >  >      layer.135 3.008983612 17.3088605
> >  >      layer.136 3.040015221 13.4500543
> >  >      layer.137 3.072668672 14.6377884
> >  >      layer.138 3.105982423  8.0798552dput(onepctCO2MEDIAN)
> > dput(onepctCO2MEDIAN)
> >  >      structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
> >  >      0.0220879195258021,
> > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
> >  >      0.0586777292191982, 0.0692614056169987,
> > 0.080524530261755,0.0927602462470531,
> >  >      0.103789608925581, 0.116953168064356, 0.129253298044205,
> > 0.141710050404072,
> >  >      0.156002052128315, 0.170648172497749, 0.185318425297737,
> > 0.199463054537773,
> >  >      0.21351333707571, 0.22883927077055, 0.246981292963028,
> > 0.263012766838074,
> >  >      0.278505563735962, 0.29365836083889, 0.310747265815735,
> > 0.325990349054337,
> >  >      0.342517539858818, 0.362751632928848, 0.380199536681175,
> > 0.39499294757843,
> >  >      0.414373397827148, 0.430690214037895, 0.449738144874573,
> > 0.470167458057404,
> >  >      0.489019870758057, 0.507242470979691, 0.524314284324646,
> > 0.543750524520874,
> >  >      0.56423419713974, 0.583679616451263, 0.601459443569183,
> > 0.619924664497375,
> >  >      0.639932006597519, 0.661347180604935, 0.684117317199707,
> > 0.704829752445221,
> >  >      0.725045770406723, 0.745165824890137, 0.765016138553619,
> > 0.783461511135101,
> >  >      0.806382924318314, 0.829241335391998, 0.84992441534996,
> > 0.871352434158325,
> >  >      0.893632233142853, 0.916052132844925, 0.938579469919205,
> > 0.959907650947571,
> >  >      0.981643587350845, 1.00411677360535, 1.02836346626282,
> > 1.05400913953781,
> >  >      1.07244080305099, 1.09445780515671, 1.12317627668381,
> > 1.14943087100983,
> >  >      1.17091292142868, 1.19674307107925, 1.21862590312958,
> > 1.24186837673187,
> >  >      1.26794159412384, 1.2907087802887, 1.31322228908539,
> > 1.33904588222504,
> >  >      1.36280345916748, 1.38445019721985, 1.40972030162811,
> > 1.43585115671158,
> >  >      1.45559221506119, 1.47949534654617, 1.50605195760727,
> > 1.52572846412659,
> >  >      1.5493620634079, 1.5734406709671, 1.60027873516083,
> > 1.62387949228287,
> >  >      1.65002930164337, 1.67236232757568, 1.70022112131119,
> > 1.72479337453842,
> >  >      1.75107055902481, 1.77802211046219, 1.80302208662033,
> > 1.83066886663437,
> >  >      1.85573691129684, 1.88261502981186, 1.90921849012375,
> > 1.93813002109528,
> >  >      1.96372759342194, 1.99327194690704, 2.02254813909531,
> > 2.05067992210388,
> >  >      2.07806444168091, 2.1041134595871, 2.13359761238098,
> > 2.16402626037598,
> >  >      2.19485282897949, 2.2242579460144, 2.25219464302063,
> > 2.27733504772186,
> >  >      2.30405831336975, 2.33093023300171, 2.35702276229858,
> > 2.38648927211761,
> >  >      2.41750395298004, 2.44852435588837, 2.47869896888733,
> > 2.51017570495605,
> >  >      2.53969788551331, 2.567915558815, 2.59746325016022,
> > 2.62751877307892,
> >  >      2.65875923633575, 2.69240152835846, 2.72190320491791,
> > 2.75302135944366,
> >  >      2.78631341457367, 2.8195641040802, 2.85082316398621,
> > 2.88039410114288,
> >  >      2.91139125823975, 2.94296514987946, 2.97446835041046,
> > 3.00898361206055,
> >  >      3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
> >  >      4.90024901723162, 0.160799993152722, 6.63491326258641,
> > -1.24295055804536,
> >  >      1.56433744259162, -2.26590352245208, 2.20700446463354,
> > -2.36770012911069,
> >  >      -1.09135061899174, 0.409993989292701, -0.125972681525582,
> > -2.41382533818026,
> >  >      7.08902570153028, -0.759353880417294, 0.0454415959640926,
> > -1.53496826259972,
> >  >      6.55242014096194, -0.831256280861552, -2.50991825629084,
> > 0.136596820654013,
> >  >      -1.37198445498419, -0.871298832596736, 0.663258363762466,
> > 0.793803634291308,
> >  >      3.48806373666998, -4.46122081238949, 0.0871733966938564,
> > -1.41715777257774,
> >  >      -0.995650815648318, 0.32155262317503, 3.14038657369241,
> > -0.737609879885404,
> >  >      -2.48605406511292, -3.423585843908, 0.482474753780281,
> > -0.978538630093809,
> >  >      8.53596837794201, 5.48447420320695, 3.21493665820644,
> > 3.91689160157513,
> >  >      4.49070195980797, 6.54104103157039, 4.80686500146557,
> > 8.15101701282067,
> >  >      0.26974132191657, -0.180750068063062, 9.71812491230244,
> > 1.54064657400204,
> >  >      -1.64760408795688, 4.80246028991894, 4.04215159914344,
> > 9.37565121768513,
> >  >      5.33050496938428, 7.54458026088508, 6.46795470819342,
> > 2.80960651433971,
> >  >      5.39216613235986, 7.20436888038562, 3.3350806460997,
> > 8.86907069895943,
> >  >      1.78612988613659, 6.25550382050395, 7.60792364896564,
> > 7.68714830528144,
> >  >      4.77877638957615, 12.7110501777314, -0.715628443181046,
> > 1.64908991824022,
> >  >      3.03630240714679, 4.29747688442346, 1.95437780501881,
> > 3.99869636910933,
> >  >      4.51794724689848, 0.933790484492299, 3.30507700050003,
> > 3.5422970157433,
> >  >      5.99736597322524, 0.508186860060022, 7.96616300581067,
> > 9.94604963036295,
> >  >      3.79083717222623, 2.57358468532258, 10.1404974171776,
> > 13.7408303595752,
> >  >      0.933577123801399, 9.75887417074129, 1.27693947132921,
> > 13.4970905965787,
> >  >      10.2087501765735, 1.68112753028756, 6.1178991508927,
> > -0.156762622680077,
> >  >      3.82374791691426, 4.43314678736265, 5.97907067167507,
> > 11.3104332518482,
> >  >      8.21426074201525, 15.320967360602, 5.81782169471483,
> > 9.6004907412354,
> >  >      3.40636455909704, 4.73750103921864, 3.0133019468806,
> > 5.56595224859066,
> >  >      12.0346332527215, -0.40283199827104, 10.5996779538754,
> > 5.44795836991128,
> >  >      4.70523736412729, 14.096201892183, 5.71490161813391,
> > 3.77800720810782,
> >  >      4.41206200639436, 4.18660847858423, 6.90788020044911,
> > 2.78257393345915,
> >  >      7.61717857379431, 10.2410602647684, 8.18207106836167,
> > 4.82754943871433,
> >  >      19.1624882857155, 16.0677109398509, 12.589708067017,
> > 9.29079879799404,
> >  >      7.42625019725314, 9.39025179806185, 12.6193550331438,
> > 11.1121039747257,
> >  >      15.7907099734986, 10.7425286789233, 7.79714300307344,
> > 8.80608578166101,
> >  >      17.5606266346039, 17.3088604929222, 13.4500543478523,
> > 14.6377884248645,
> >  >      8.07985518296064)), class = "data.frame", row.names = c("layer.1",
> >  >      "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
> >  >      "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
> > "layer.13",
> >  >      "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
> > "layer.19",
> >  >      "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
> > "layer.25",
> >  >      "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
> > "layer.31",
> >  >      "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
> > "layer.37",
> >  >      "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
> > "layer.43",
> >  >      "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
> > "layer.49",
> >  >      "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
> > "layer.55",
> >  >      "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
> > "layer.61",
> >  >      "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
> > "layer.67",
> >  >      "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
> > "layer.73",
> >  >      "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
> > "layer.79",
> >  >      "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
> > "layer.85",
> >  >      "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
> > "layer.91",
> >  >      "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
> > "layer.97",
> >  >      "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
> >  >      "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
> >  >      "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
> >  >      "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
> >  >      "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
> >  >      "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
> >  >      "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
> >  >      "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
> >  >      "layer.138"))
> >  > I started with the following to generate the first regression line
> > and scatter plot:    lm<-ggplot(onepctCO2MEDIAN) +
> >  >      geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
> >  >      colour="blue") +
> geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
> >  >      departurea), method=lm)
> >  > But I receive this error:    Warning message:
> >  >      Computation failed in `stat_smooth()`:
> >  >      'what' must be a function or character string
> >  > A blue scatter plot is successfully generated, but the problem is
> > that the regression line does not appear, presumably related to the
> > above warning.
> >  > Is there a reason for this? I would appreciate any assistance!
> >  >     [[alternative HTML version deleted]]
> >
> >  >
> >  > ______________________________________________
> >  > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >  > https://stat.ethz.ch/mailman/listinfo/r-help
> >  > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> >  > and provide commented, minimal, self-contained, reproducible code.
> >
> >  >
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Thu Jun  6 17:19:06 2019
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (Nick Wray)
Date: Thu, 6 Jun 2019 16:19:06 +0100 (BST)
Subject: [R] Pasting R code lines into labels
Message-ID: <1271162837.1237473.1559834346476@mail2.virginmedia.com>

Is there any way of taking a line of r code (eg y<-x^2) and pasting that line of code, as is, into a label, so that for example I could then have a plot label "Plot of y<-x^2"?

Thanks Nick Wray 
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jun  6 17:18:46 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 6 Jun 2019 16:18:46 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <974312679.997840.1559831718299@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
Message-ID: <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>

Hello,

1) In the text you say your dataset is named NewestdataUltra but in the 
ggplot instruction it's Newestdata. One of these is wrong.

2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?

3) You are filtering out the value in point ) above. So you only plot 3 
regression lines, you don't need 4 colors.


Hope this helps,

Rui Barradas

?s 15:35 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui (and everyone),
> 
> 
> Thank you for this! Yes, this did work fine, as I can see my scatter 
> plots and regression lines on the same plot, along with the appropriate 
> coloring scheme! :)
> 
> Just one last question concerning this - I melted other dataframes into 
> my new "NewestdataUltra". I now have 4 objects listed in there in this 
> order (starting from the top of the list): "onepctCO2MEDIAN", 
> "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting 
> colored scattered plots and regression lines for these in this manner:
> 
> ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
> 
> However, I received this error:
> 
> Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1 
> != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + 
> scale_color_manual(values =c("green", "blue" "red""
> 
> **//___^
> 
> Why would this error appear?? I think that I assigned the colors 
> correctly to each of the four objects in question, so why would this occur?
> 
> Thank you, once again!
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 6:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> You are confusing some of the values of L1 with L1 itself.
> If you just want two of those values in your plot, "onepctCO2MEDIAN" and
> "RCP8.5MEDIAN", you need to subset the data filtering out the rows with
> L1 == "RCP4.5MEDIAN".
> 
> And please forget geom_jitter, it is completely inappropriate for the
> type of scatter plot you are trying to graph. You jitter when there is
> overplotting, not as a general purpose technique.
> 
> Here is one way to do it.
> 
> 
> ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>  ? ? ? ? aes(x, value, colour = L1)) +
>  ? geom_point() +
>  ? scale_color_manual(values = c("green", "red")) +
>  ? geom_smooth(method = lm)
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>  > Hi Rui (and everyone),
>  >
>  > Thank you so much for your response! Much appreciated!
>  >
>  > What if I wanted I create several regression lines and scatter plots in
>  > the same ggplot using a "melted" dataset? I would like to create a
>  > scatter plot and regression line for both the objects of
>  > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like this:
>  >
>  >
>  >? >NewestdataUltra
>  >
>  > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>  > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>  > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357
>  > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN
>  > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446
>  > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>  > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399
>  > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>  > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570
>  > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>  > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826
>  > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>  > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826
>  > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>  > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883
>  > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>  > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374
>  > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>  > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777
>  > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>  > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657
>  > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>  > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584
>  > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>  > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838
>  > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>  > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160
>  > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>  > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500
>  > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>  > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007
>  > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>  > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409
>  > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>  > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122
>  > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>  > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471
>  > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>  > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888
>  > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>  > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989
>  > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>  > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831
>  > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>  > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844
>  > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>  > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688
>  > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>  > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725
>  > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>  > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702
>  > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>  > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301
>  > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>  > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469
>  > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>  > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712
>  > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>  > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060
>  > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>  > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915
>  > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>  > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679
>  > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>  > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074
>  > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>  > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074
>  > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>  > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195
>  > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>  > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y -0.40283200
>  > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>  > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736
>  > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>  > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721
>  > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>  > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020
>  > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>  > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026
>  > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>  > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829
>  > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>  > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880
>  > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>  > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503
>  > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>  > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 10.74252868
>  > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>  > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663
>  > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>  > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 14.63778842
>  > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>  > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515
>  > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 0.500039143
>  > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 RCP4.5MEDIAN 144
>  > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524
>  > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 0.546194211
>  > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 RCP4.5MEDIAN 149
>  > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>  > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 0.590921065
>  > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN
>  > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y -3.38454122
>  > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y
>  > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159
>  > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946
>  > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y
>  > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164
>  > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>  > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 0.760886972
>  > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN
>  > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 0.22722653
>  > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 0.815066246
>  > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 RCP4.5MEDIAN 174
>  > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>  > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y
>  > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179
>  > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>  > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 0.917284978 y
>  > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184
>  > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>  > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 0.958795701 y
>  > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189
>  > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>  > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y
>  > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 RCP4.5MEDIAN 194
>  > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>  > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 1.032070810
>  > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199
>  > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>  > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 1.076078766 y
>  > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204
>  > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>  > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y
>  > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209
>  > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969
>  > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 1.143910237
>  > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214
>  > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>  > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 1.171103424
>  > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 RCP4.5MEDIAN 219
>  > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>  > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 1.204590551 y
>  > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224
>  > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>  > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y
>  > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229
>  > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>  > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 0.486304903
>  > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN
>  > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y -6.15175322
>  > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 0.528675758
>  > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 RCP8.5MEDIAN 239
>  > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029
>  > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y
>  > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244
>  > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554
>  > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 0.639401050
>  > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 RCP8.5MEDIAN 249
>  > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>  > RCP8.5MEDIAN Maybe something like this?
>  >
>  > lusher<-ggplot(NewestdataULTRA) +
>  > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>  > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>  > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>  > **//___^
>  > I receive this warning, however:
>  >
>  > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring
>  > unknown aesthetics: onepctCO2MEDIAN
>  >
>  > **//___^
>  > Perhaps I am not assigning the columns properly? Essentially, I just
>  > want create two scatter plots and two regression lines for these two
>  > objects.
>  >
>  > Once again, any assistance would be greatly appreciated!
>  >
>  > -----Original Message-----
>  > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>  > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>;
>  > r-sig-geo <r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>>
>  > Sent: Wed, Jun 5, 2019 10:52 am
>  > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >
>  > Hello,
>  >
>  > This is pretty basic ggplot.
>  >
>  >
>  > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>  >? ? geom_point(colour = 'blue') +
>  >? ? geom_smooth(method = 'lm')
>  >
>  > lm1
>  >
>  >
>  > If you want to combine several datasets, you will have to have a
>  > variable telling which dataset is which. In the example below, this is
>  > column 'id'.
>  >
>  >
>  > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>  > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>  > onepctCO2MEDIAN$id <- 1
>  > onepctCO2MEDIAN2$id <- 2
>  > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>  >
>  > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>  >? ? geom_point() +
>  >? ? geom_smooth(method = 'lm')
>  >
>  >
>  > Hope this helps,
>  >
>  > Rui Barradas
>  >
>  > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>  >? > I am trying to plot, using ggplot, a series of scatter plots with
>  > regression lines for several datasets. I started with the following
>  > dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>  >? >? ??? onepctCO2MEDIAN
>  >? >? ??????????????????? x????????? y
>  >? >? ??? layer.1?? 0.000000000? 0.0000000
>  >? >? ??? layer.2?? 0.006794447? 4.9002490
>  >? >? ??? layer.3?? 0.014288058? 0.1608000
>  >? >? ??? layer.4?? 0.022087920? 6.6349133
>  >? >? ??? layer.5?? 0.030797357 -1.2429506
>  >? >? ??? layer.6?? 0.038451072? 1.5643374
>  >? >? ??? layer.7?? 0.048087904 -2.2659035
>  >? >? ??? layer.8?? 0.058677729? 2.2070045
>  >? >? ??? layer.9?? 0.069261406 -2.3677001
>  >? >? ??? layer.10? 0.080524530 -1.0913506
>  >? >? ??? layer.11? 0.092760246? 0.4099940
>  >? >? ??? layer.12? 0.103789609 -0.1259727
>  >? >? ??? layer.13? 0.116953168 -2.4138253
>  >? >? ??? layer.14? 0.129253298? 7.0890257
>  >? >? ??? layer.15? 0.141710050 -0.7593539
>  >? >? ??? layer.16? 0.156002052? 0.0454416
>  >? >? ??? layer.17? 0.170648172 -1.5349683
>  >? >? ??? layer.18? 0.185318425? 6.5524201
>  >? >? ??? layer.19? 0.199463055 -0.8312563
>  >? >? ??? layer.20? 0.213513337 -2.5099183
>  >? >? ??? layer.21? 0.228839271? 0.1365968
>  >? >? ??? layer.22? 0.246981293 -1.3719845
>  >? >? ??? layer.23? 0.263012767 -0.8712988
>  >? >? ??? layer.24? 0.278505564? 0.6632584
>  >? >? ??? layer.25? 0.293658361? 0.7938036
>  >? >? ??? layer.26? 0.310747266? 3.4880637
>  >? >? ??? layer.27? 0.325990349 -4.4612208
>  >? >? ??? layer.28? 0.342517540? 0.0871734
>  >? >? ??? layer.29? 0.362751633 -1.4171578
>  >? >? ??? layer.30? 0.380199537 -0.9956508
>  >? >? ??? layer.31? 0.394992948? 0.3215526
>  >? >? ??? layer.32? 0.414373398? 3.1403866
>  >? >? ??? layer.33? 0.430690214 -0.7376099
>  >? >? ??? layer.34? 0.449738145 -2.4860541
>  >? >? ??? layer.35? 0.470167458 -3.4235858
>  >? >? ??? layer.36? 0.489019871? 0.4824748
>  >? >? ??? layer.37? 0.507242471 -0.9785386
>  >? >? ??? layer.38? 0.524314284? 8.5359684
>  >? >? ??? layer.39? 0.543750525? 5.4844742
>  >? >? ??? layer.40? 0.564234197? 3.2149367
>  >? >? ??? layer.41? 0.583679616? 3.9168916
>  >? >? ??? layer.42? 0.601459444? 4.4907020
>  >? >? ??? layer.43? 0.619924664? 6.5410410
>  >? >? ??? layer.44? 0.639932007? 4.8068650
>  >? >? ??? layer.45? 0.661347181? 8.1510170
>  >? >? ??? layer.46? 0.684117317? 0.2697413
>  >? >? ??? layer.47? 0.704829752 -0.1807501
>  >? >? ??? layer.48? 0.725045770? 9.7181249
>  >? >? ??? layer.49? 0.745165825? 1.5406466
>  >? >? ??? layer.50? 0.765016139 -1.6476041
>  >? >? ??? layer.51? 0.783461511? 4.8024603
>  >? >? ??? layer.52? 0.806382924? 4.0421516
>  >? >? ??? layer.53? 0.829241335? 9.3756512
>  >? >? ??? layer.54? 0.849924415? 5.3305050
>  >? >? ??? layer.55? 0.871352434? 7.5445803
>  >? >? ??? layer.56? 0.893632233? 6.4679547
>  >? >? ??? layer.57? 0.916052133? 2.8096065
>  >? >? ??? layer.58? 0.938579470? 5.3921661
>  >? >? ??? layer.59? 0.959907651? 7.2043689
>  >? >? ??? layer.60? 0.981643587? 3.3350806
>  >? >? ??? layer.61? 1.004116774? 8.8690707
>  >? >? ??? layer.62? 1.028363466? 1.7861299
>  >? >? ??? layer.63? 1.054009140? 6.2555038
>  >? >? ??? layer.64? 1.072440803? 7.6079236
>  >? >? ??? layer.65? 1.094457805? 7.6871483
>  >? >? ??? layer.66? 1.123176277? 4.7787764
>  >? >? ??? layer.67? 1.149430871 12.7110502
>  >? >? ??? layer.68? 1.170912921 -0.7156284
>  >? >? ??? layer.69? 1.196743071? 1.6490899
>  >? >? ??? layer.70? 1.218625903? 3.0363024
>  >? >? ??? layer.71? 1.241868377? 4.2974769
>  >? >? ??? layer.72? 1.267941594? 1.9543778
>  >? >? ??? layer.73? 1.290708780? 3.9986964
>  >? >? ??? layer.74? 1.313222289? 4.5179472
>  >? >? ??? layer.75? 1.339045882? 0.9337905
>  >? >? ??? layer.76? 1.362803459? 3.3050770
>  >? >? ??? layer.77? 1.384450197? 3.5422970
>  >? >? ??? layer.78? 1.409720302? 5.9973660
>  >? >? ??? layer.79? 1.435851157? 0.5081869
>  >? >? ??? layer.80? 1.455592215? 7.9661630
>  >? >? ??? layer.81? 1.479495347? 9.9460496
>  >? >? ??? layer.82? 1.506051958? 3.7908372
>  >? >? ??? layer.83? 1.525728464? 2.5735847
>  >? >? ??? layer.84? 1.549362063 10.1404974
>  >? >? ??? layer.85? 1.573440671 13.7408304
>  >? >? ??? layer.86? 1.600278735? 0.9335771
>  >? >? ??? layer.87? 1.623879492? 9.7588742
>  >? >? ??? layer.88? 1.650029302? 1.2769395
>  >? >? ??? layer.89? 1.672362328 13.4970906
>  >? >? ??? layer.90? 1.700221121 10.2087502
>  >? >? ??? layer.91? 1.724793375? 1.6811275
>  >? >? ??? layer.92? 1.751070559? 6.1178992
>  >? >? ??? layer.93? 1.778022110 -0.1567626
>  >? >? ??? layer.94? 1.803022087? 3.8237479
>  >? >? ??? layer.95? 1.830668867? 4.4331468
>  >? >? ??? layer.96? 1.855736911? 5.9790707
>  >? >? ??? layer.97? 1.882615030 11.3104333
>  >? >? ??? layer.98? 1.909218490? 8.2142607
>  >? >? ??? layer.99? 1.938130021 15.3209674
>  >? >? ??? layer.100 1.963727593? 5.8178217
>  >? >? ??? layer.101 1.993271947? 9.6004907
>  >? >? ??? layer.102 2.022548139? 3.4063646
>  >? >? ??? layer.103 2.050679922? 4.7375010
>  >? >? ??? layer.104 2.078064442? 3.0133019
>  >? >? ??? layer.105 2.104113460? 5.5659522
>  >? >? ??? layer.106 2.133597612 12.0346333
>  >? >? ??? layer.107 2.164026260 -0.4028320
>  >? >? ??? layer.108 2.194852829 10.5996780
>  >? >? ??? layer.109 2.224257946? 5.4479584
>  >? >? ??? layer.110 2.252194643? 4.7052374
>  >? >? ??? layer.111 2.277335048 14.0962019
>  >? >? ??? layer.112 2.304058313? 5.7149016
>  >? >? ??? layer.113 2.330930233? 3.7780072
>  >? >? ??? layer.114 2.357022762? 4.4120620
>  >? >? ??? layer.115 2.386489272? 4.1866085
>  >? >? ??? layer.116 2.417503953? 6.9078802
>  >? >? ??? layer.117 2.448524356? 2.7825739
>  >? >? ??? layer.118 2.478698969? 7.6171786
>  >? >? ??? layer.119 2.510175705 10.2410603
>  >? >? ??? layer.120 2.539697886? 8.1820711
>  >? >? ??? layer.121 2.567915559? 4.8275494
>  >? >? ??? layer.122 2.597463250 19.1624883
>  >? >? ??? layer.123 2.627518773 16.0677109
>  >? >? ??? layer.124 2.658759236 12.5897081
>  >? >? ??? layer.125 2.692401528? 9.2907988
>  >? >? ??? layer.126 2.721903205? 7.4262502
>  >? >? ??? layer.127 2.753021359? 9.3902518
>  >? >? ??? layer.128 2.786313415 12.6193550
>  >? >? ??? layer.129 2.819564104 11.1121040
>  >? >? ??? layer.130 2.850823164 15.7907100
>  >? >? ??? layer.131 2.880394101 10.7425287
>  >? >? ??? layer.132 2.911391258? 7.7971430
>  >? >? ??? layer.133 2.942965150? 8.8060858
>  >? >? ??? layer.134 2.974468350 17.5606266
>  >? >? ??? layer.135 3.008983612 17.3088605
>  >? >? ??? layer.136 3.040015221 13.4500543
>  >? >? ??? layer.137 3.072668672 14.6377884
>  >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>  > dput(onepctCO2MEDIAN)
>  >? >? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>  >? >? ??? 0.0220879195258021,
>  > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>  >? >? ??? 0.0586777292191982, 0.0692614056169987,
>  > 0.080524530261755,0.0927602462470531,
>  >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>  > 0.141710050404072,
>  >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>  > 0.199463054537773,
>  >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>  > 0.263012766838074,
>  >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>  > 0.325990349054337,
>  >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>  > 0.39499294757843,
>  >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>  > 0.470167458057404,
>  >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>  > 0.543750524520874,
>  >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>  > 0.619924664497375,
>  >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>  > 0.704829752445221,
>  >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>  > 0.783461511135101,
>  >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>  > 0.871352434158325,
>  >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>  > 0.959907650947571,
>  >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>  > 1.05400913953781,
>  >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>  > 1.14943087100983,
>  >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>  > 1.24186837673187,
>  >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>  > 1.33904588222504,
>  >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>  > 1.43585115671158,
>  >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>  > 1.52572846412659,
>  >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>  > 1.62387949228287,
>  >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>  > 1.72479337453842,
>  >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>  > 1.83066886663437,
>  >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>  > 1.93813002109528,
>  >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>  > 2.05067992210388,
>  >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>  > 2.16402626037598,
>  >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>  > 2.27733504772186,
>  >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>  > 2.38648927211761,
>  >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>  > 2.51017570495605,
>  >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>  > 2.62751877307892,
>  >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>  > 2.75302135944366,
>  >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>  > 2.88039410114288,
>  >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>  > 3.00898361206055,
>  >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>  >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>  > -1.24295055804536,
>  >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>  > -2.36770012911069,
>  >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>  > -2.41382533818026,
>  >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>  > -1.53496826259972,
>  >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>  > 0.136596820654013,
>  >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>  > 0.793803634291308,
>  >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>  > -1.41715777257774,
>  >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>  > -0.737609879885404,
>  >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>  > -0.978538630093809,
>  >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>  > 3.91689160157513,
>  >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>  > 8.15101701282067,
>  >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>  > 1.54064657400204,
>  >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>  > 9.37565121768513,
>  >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>  > 2.80960651433971,
>  >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>  > 8.86907069895943,
>  >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>  > 7.68714830528144,
>  >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>  > 1.64908991824022,
>  >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>  > 3.99869636910933,
>  >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>  > 3.5422970157433,
>  >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>  > 9.94604963036295,
>  >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>  > 13.7408303595752,
>  >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>  > 13.4970905965787,
>  >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>  > -0.156762622680077,
>  >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>  > 11.3104332518482,
>  >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>  > 9.6004907412354,
>  >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>  > 5.56595224859066,
>  >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>  > 5.44795836991128,
>  >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>  > 3.77800720810782,
>  >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>  > 2.78257393345915,
>  >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>  > 4.82754943871433,
>  >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>  > 9.29079879799404,
>  >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>  > 11.1121039747257,
>  >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>  > 8.80608578166101,
>  >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>  > 14.6377884248645,
>  >? >? ??? 8.07985518296064)), class = "data.frame", row.names = 
> c("layer.1",
>  >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>  >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>  > "layer.13",
>  >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>  > "layer.19",
>  >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>  > "layer.25",
>  >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>  > "layer.31",
>  >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>  > "layer.37",
>  >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>  > "layer.43",
>  >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>  > "layer.49",
>  >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>  > "layer.55",
>  >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>  > "layer.61",
>  >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>  > "layer.67",
>  >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>  > "layer.73",
>  >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>  > "layer.79",
>  >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>  > "layer.85",
>  >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>  > "layer.91",
>  >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>  > "layer.97",
>  >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>  >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>  >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>  >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>  >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>  >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>  >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>  >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>  >? >? ??? "layer.138"))
>  >? > I started with the following to generate the first regression line
>  > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>  >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>  >? >? ??? colour="blue") + 
> geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>  >? >? ??? departurea), method=lm)
>  >? > But I receive this error:? ??Warning message:
>  >? >? ??? Computation failed in `stat_smooth()`:
>  >? >? ??? 'what' must be a function or character string
>  >? > A blue scatter plot is successfully generated, but the problem is
>  > that the regression line does not appear, presumably related to the
>  > above warning.
>  >? > Is there a reason for this? I would appreciate any assistance!
>  >? > ??? [[alternative HTML version deleted]]
>  >
>  >? >
>  >? > ______________________________________________
>  >? > R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- 
> To UNSUBSCRIBE and more, see
>  >? > https://stat.ethz.ch/mailman/listinfo/r-help
>  >? > PLEASE do read the posting guide
>  > http://www.R-project.org/posting-guide.html
>  >? > and provide commented, minimal, self-contained, reproducible code.
>  >
>  >? >


From m@rc_@chw@rtz @end|ng |rom me@com  Thu Jun  6 17:40:12 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Thu, 6 Jun 2019 11:40:12 -0400
Subject: [R] Pasting R code lines into labels
In-Reply-To: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
Message-ID: <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>


> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <r-help at r-project.org> wrote:
> 
> Is there any way of taking a line of r code (eg y<-x^2) and pasting that line of code, as is, into a label, so that for example I could then have a plot label "Plot of y<-x^2"?
> 
> Thanks Nick Wray 


Hi,

See ?plotmath

An example:

x <- 1:10
y <- x^2

plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))


There are other incantations and examples on the help page above.

Regards,

Marc Schwartz


From r@i@1290 m@iii@g oii @im@com  Thu Jun  6 17:49:01 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Thu, 6 Jun 2019 15:49:01 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
 <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
Message-ID: <2052071712.934379.1559836141605@mail.yahoo.com>

Hi Rui,

Yes, you are right. It should be this, but I tried with only 3 colors, as you suggested:
ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + scale_color_manual(values =c("green", "blue" "red")) + geom_smooth(method = lm, se=FALSE)
I still end up with the same error, however, when I specify only 3 colors. Why could this be?

-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt>
To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
Sent: Thu, Jun 6, 2019 11:18 am
Subject: Re: [R] Plotting more than one regression line in ggplot

Hello,

1) In the text you say your dataset is named NewestdataUltra but in the 
ggplot instruction it's Newestdata. One of these is wrong.

2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?

3) You are filtering out the value in point ) above. So you only plot 3 
regression lines, you don't need 4 colors.


Hope this helps,

Rui Barradas

?s 15:35 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui (and everyone),
> 
> 
> Thank you for this! Yes, this did work fine, as I can see my scatter 
> plots and regression lines on the same plot, along with the appropriate 
> coloring scheme! :)
> 
> Just one last question concerning this - I melted other dataframes into 
> my new "NewestdataUltra". I now have 4 objects listed in there in this 
> order (starting from the top of the list): "onepctCO2MEDIAN", 
> "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting 
> colored scattered plots and regression lines for these in this manner:
> 
> ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
> 
> However, I received this error:
> 
> Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1 
> != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + 
> scale_color_manual(values =c("green", "blue" "red""
> 
> **//___^
> 
> Why would this error appear?? I think that I assigned the colors 
> correctly to each of the four objects in question, so why would this occur?
> 
> Thank you, once again!
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 6:52 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> You are confusing some of the values of L1 with L1 itself.
> If you just want two of those values in your plot, "onepctCO2MEDIAN" and
> "RCP8.5MEDIAN", you need to subset the data filtering out the rows with
> L1 == "RCP4.5MEDIAN".
> 
> And please forget geom_jitter, it is completely inappropriate for the
> type of scatter plot you are trying to graph. You jitter when there is
> overplotting, not as a general purpose technique.
> 
> Here is one way to do it.
> 
> 
> ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>? ? ? ? ? aes(x, value, colour = L1)) +
>? ? geom_point() +
>? ? scale_color_manual(values = c("green", "red")) +
>? ? geom_smooth(method = lm)
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>? > Hi Rui (and everyone),
>? >
>? > Thank you so much for your response! Much appreciated!
>? >
>? > What if I wanted I create several regression lines and scatter plots in
>? > the same ggplot using a "melted" dataset? I would like to create a
>? > scatter plot and regression line for both the objects of
>? > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like this:
>? >
>? >
>? >? >NewestdataUltra
>? >
>? > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>? > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>? > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357
>? > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN
>? > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446
>? > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>? > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399
>? > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>? > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570
>? > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>? > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826
>? > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>? > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826
>? > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>? > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883
>? > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>? > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374
>? > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>? > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777
>? > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>? > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657
>? > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>? > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584
>? > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>? > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838
>? > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>? > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160
>? > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>? > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500
>? > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>? > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007
>? > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>? > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409
>? > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>? > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122
>? > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>? > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471
>? > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>? > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888
>? > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>? > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989
>? > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>? > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831
>? > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>? > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844
>? > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>? > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688
>? > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>? > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725
>? > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>? > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702
>? > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>? > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301
>? > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>? > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469
>? > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>? > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712
>? > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>? > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060
>? > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>? > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915
>? > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>? > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679
>? > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>? > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074
>? > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>? > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074
>? > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>? > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195
>? > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>? > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y -0.40283200
>? > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>? > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736
>? > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>? > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721
>? > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>? > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020
>? > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>? > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026
>? > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>? > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829
>? > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>? > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880
>? > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>? > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503
>? > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>? > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 10.74252868
>? > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>? > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663
>? > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>? > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 14.63778842
>? > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>? > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515
>? > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 0.500039143
>? > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 RCP4.5MEDIAN 144
>? > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524
>? > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 0.546194211
>? > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 RCP4.5MEDIAN 149
>? > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>? > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 0.590921065
>? > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN
>? > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y -3.38454122
>? > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y
>? > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159
>? > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946
>? > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y
>? > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164
>? > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>? > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 0.760886972
>? > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN
>? > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 0.22722653
>? > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 0.815066246
>? > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 RCP4.5MEDIAN 174
>? > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>? > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y
>? > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179
>? > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>? > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 0.917284978 y
>? > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184
>? > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>? > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 0.958795701 y
>? > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189
>? > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>? > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y
>? > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 RCP4.5MEDIAN 194
>? > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>? > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 1.032070810
>? > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199
>? > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>? > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 1.076078766 y
>? > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204
>? > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>? > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y
>? > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209
>? > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969
>? > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 1.143910237
>? > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214
>? > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>? > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 1.171103424
>? > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 RCP4.5MEDIAN 219
>? > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>? > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 1.204590551 y
>? > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224
>? > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>? > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y
>? > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229
>? > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>? > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 0.486304903
>? > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN
>? > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y -6.15175322
>? > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 0.528675758
>? > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 RCP8.5MEDIAN 239
>? > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029
>? > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y
>? > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244
>? > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554
>? > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 0.639401050
>? > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 RCP8.5MEDIAN 249
>? > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>? > RCP8.5MEDIAN Maybe something like this?
>? >
>? > lusher<-ggplot(NewestdataULTRA) +
>? > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>? > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>? > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>? > **//___^
>? > I receive this warning, however:
>? >
>? > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring
>? > unknown aesthetics: onepctCO2MEDIAN
>? >
>? > **//___^
>? > Perhaps I am not assigning the columns properly? Essentially, I just
>? > want create two scatter plots and two regression lines for these two
>? > objects.
>? >
>? > Once again, any assistance would be greatly appreciated!
>? >
>? > -----Original Message-----
>? > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>;
>? > r-sig-geo <r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>>
>? > Sent: Wed, Jun 5, 2019 10:52 am
>? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >
>? > Hello,
>? >
>? > This is pretty basic ggplot.
>? >
>? >
>? > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>? >? ? geom_point(colour = 'blue') +
>? >? ? geom_smooth(method = 'lm')
>? >
>? > lm1
>? >
>? >
>? > If you want to combine several datasets, you will have to have a
>? > variable telling which dataset is which. In the example below, this is
>? > column 'id'.
>? >
>? >
>? > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>? > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>? > onepctCO2MEDIAN$id <- 1
>? > onepctCO2MEDIAN2$id <- 2
>? > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>? >
>? > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>? >? ? geom_point() +
>? >? ? geom_smooth(method = 'lm')
>? >
>? >
>? > Hope this helps,
>? >
>? > Rui Barradas
>? >
>? > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>? >? > I am trying to plot, using ggplot, a series of scatter plots with
>? > regression lines for several datasets. I started with the following
>? > dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>? >? >? ??? onepctCO2MEDIAN
>? >? >? ??????????????????? x????????? y
>? >? >? ??? layer.1?? 0.000000000? 0.0000000
>? >? >? ??? layer.2?? 0.006794447? 4.9002490
>? >? >? ??? layer.3?? 0.014288058? 0.1608000
>? >? >? ??? layer.4?? 0.022087920? 6.6349133
>? >? >? ??? layer.5?? 0.030797357 -1.2429506
>? >? >? ??? layer.6?? 0.038451072? 1.5643374
>? >? >? ??? layer.7?? 0.048087904 -2.2659035
>? >? >? ??? layer.8?? 0.058677729? 2.2070045
>? >? >? ??? layer.9?? 0.069261406 -2.3677001
>? >? >? ??? layer.10? 0.080524530 -1.0913506
>? >? >? ??? layer.11? 0.092760246? 0.4099940
>? >? >? ??? layer.12? 0.103789609 -0.1259727
>? >? >? ??? layer.13? 0.116953168 -2.4138253
>? >? >? ??? layer.14? 0.129253298? 7.0890257
>? >? >? ??? layer.15? 0.141710050 -0.7593539
>? >? >? ??? layer.16? 0.156002052? 0.0454416
>? >? >? ??? layer.17? 0.170648172 -1.5349683
>? >? >? ??? layer.18? 0.185318425? 6.5524201
>? >? >? ??? layer.19? 0.199463055 -0.8312563
>? >? >? ??? layer.20? 0.213513337 -2.5099183
>? >? >? ??? layer.21? 0.228839271? 0.1365968
>? >? >? ??? layer.22? 0.246981293 -1.3719845
>? >? >? ??? layer.23? 0.263012767 -0.8712988
>? >? >? ??? layer.24? 0.278505564? 0.6632584
>? >? >? ??? layer.25? 0.293658361? 0.7938036
>? >? >? ??? layer.26? 0.310747266? 3.4880637
>? >? >? ??? layer.27? 0.325990349 -4.4612208
>? >? >? ??? layer.28? 0.342517540? 0.0871734
>? >? >? ??? layer.29? 0.362751633 -1.4171578
>? >? >? ??? layer.30? 0.380199537 -0.9956508
>? >? >? ??? layer.31? 0.394992948? 0.3215526
>? >? >? ??? layer.32? 0.414373398? 3.1403866
>? >? >? ??? layer.33? 0.430690214 -0.7376099
>? >? >? ??? layer.34? 0.449738145 -2.4860541
>? >? >? ??? layer.35? 0.470167458 -3.4235858
>? >? >? ??? layer.36? 0.489019871? 0.4824748
>? >? >? ??? layer.37? 0.507242471 -0.9785386
>? >? >? ??? layer.38? 0.524314284? 8.5359684
>? >? >? ??? layer.39? 0.543750525? 5.4844742
>? >? >? ??? layer.40? 0.564234197? 3.2149367
>? >? >? ??? layer.41? 0.583679616? 3.9168916
>? >? >? ??? layer.42? 0.601459444? 4.4907020
>? >? >? ??? layer.43? 0.619924664? 6.5410410
>? >? >? ??? layer.44? 0.639932007? 4.8068650
>? >? >? ??? layer.45? 0.661347181? 8.1510170
>? >? >? ??? layer.46? 0.684117317? 0.2697413
>? >? >? ??? layer.47? 0.704829752 -0.1807501
>? >? >? ??? layer.48? 0.725045770? 9.7181249
>? >? >? ??? layer.49? 0.745165825? 1.5406466
>? >? >? ??? layer.50? 0.765016139 -1.6476041
>? >? >? ??? layer.51? 0.783461511? 4.8024603
>? >? >? ??? layer.52? 0.806382924? 4.0421516
>? >? >? ??? layer.53? 0.829241335? 9.3756512
>? >? >? ??? layer.54? 0.849924415? 5.3305050
>? >? >? ??? layer.55? 0.871352434? 7.5445803
>? >? >? ??? layer.56? 0.893632233? 6.4679547
>? >? >? ??? layer.57? 0.916052133? 2.8096065
>? >? >? ??? layer.58? 0.938579470? 5.3921661
>? >? >? ??? layer.59? 0.959907651? 7.2043689
>? >? >? ??? layer.60? 0.981643587? 3.3350806
>? >? >? ??? layer.61? 1.004116774? 8.8690707
>? >? >? ??? layer.62? 1.028363466? 1.7861299
>? >? >? ??? layer.63? 1.054009140? 6.2555038
>? >? >? ??? layer.64? 1.072440803? 7.6079236
>? >? >? ??? layer.65? 1.094457805? 7.6871483
>? >? >? ??? layer.66? 1.123176277? 4.7787764
>? >? >? ??? layer.67? 1.149430871 12.7110502
>? >? >? ??? layer.68? 1.170912921 -0.7156284
>? >? >? ??? layer.69? 1.196743071? 1.6490899
>? >? >? ??? layer.70? 1.218625903? 3.0363024
>? >? >? ??? layer.71? 1.241868377? 4.2974769
>? >? >? ??? layer.72? 1.267941594? 1.9543778
>? >? >? ??? layer.73? 1.290708780? 3.9986964
>? >? >? ??? layer.74? 1.313222289? 4.5179472
>? >? >? ??? layer.75? 1.339045882? 0.9337905
>? >? >? ??? layer.76? 1.362803459? 3.3050770
>? >? >? ??? layer.77? 1.384450197? 3.5422970
>? >? >? ??? layer.78? 1.409720302? 5.9973660
>? >? >? ??? layer.79? 1.435851157? 0.5081869
>? >? >? ??? layer.80? 1.455592215? 7.9661630
>? >? >? ??? layer.81? 1.479495347? 9.9460496
>? >? >? ??? layer.82? 1.506051958? 3.7908372
>? >? >? ??? layer.83? 1.525728464? 2.5735847
>? >? >? ??? layer.84? 1.549362063 10.1404974
>? >? >? ??? layer.85? 1.573440671 13.7408304
>? >? >? ??? layer.86? 1.600278735? 0.9335771
>? >? >? ??? layer.87? 1.623879492? 9.7588742
>? >? >? ??? layer.88? 1.650029302? 1.2769395
>? >? >? ??? layer.89? 1.672362328 13.4970906
>? >? >? ??? layer.90? 1.700221121 10.2087502
>? >? >? ??? layer.91? 1.724793375? 1.6811275
>? >? >? ??? layer.92? 1.751070559? 6.1178992
>? >? >? ??? layer.93? 1.778022110 -0.1567626
>? >? >? ??? layer.94? 1.803022087? 3.8237479
>? >? >? ??? layer.95? 1.830668867? 4.4331468
>? >? >? ??? layer.96? 1.855736911? 5.9790707
>? >? >? ??? layer.97? 1.882615030 11.3104333
>? >? >? ??? layer.98? 1.909218490? 8.2142607
>? >? >? ??? layer.99? 1.938130021 15.3209674
>? >? >? ??? layer.100 1.963727593? 5.8178217
>? >? >? ??? layer.101 1.993271947? 9.6004907
>? >? >? ??? layer.102 2.022548139? 3.4063646
>? >? >? ??? layer.103 2.050679922? 4.7375010
>? >? >? ??? layer.104 2.078064442? 3.0133019
>? >? >? ??? layer.105 2.104113460? 5.5659522
>? >? >? ??? layer.106 2.133597612 12.0346333
>? >? >? ??? layer.107 2.164026260 -0.4028320
>? >? >? ??? layer.108 2.194852829 10.5996780
>? >? >? ??? layer.109 2.224257946? 5.4479584
>? >? >? ??? layer.110 2.252194643? 4.7052374
>? >? >? ??? layer.111 2.277335048 14.0962019
>? >? >? ??? layer.112 2.304058313? 5.7149016
>? >? >? ??? layer.113 2.330930233? 3.7780072
>? >? >? ??? layer.114 2.357022762? 4.4120620
>? >? >? ??? layer.115 2.386489272? 4.1866085
>? >? >? ??? layer.116 2.417503953? 6.9078802
>? >? >? ??? layer.117 2.448524356? 2.7825739
>? >? >? ??? layer.118 2.478698969? 7.6171786
>? >? >? ??? layer.119 2.510175705 10.2410603
>? >? >? ??? layer.120 2.539697886? 8.1820711
>? >? >? ??? layer.121 2.567915559? 4.8275494
>? >? >? ??? layer.122 2.597463250 19.1624883
>? >? >? ??? layer.123 2.627518773 16.0677109
>? >? >? ??? layer.124 2.658759236 12.5897081
>? >? >? ??? layer.125 2.692401528? 9.2907988
>? >? >? ??? layer.126 2.721903205? 7.4262502
>? >? >? ??? layer.127 2.753021359? 9.3902518
>? >? >? ??? layer.128 2.786313415 12.6193550
>? >? >? ??? layer.129 2.819564104 11.1121040
>? >? >? ??? layer.130 2.850823164 15.7907100
>? >? >? ??? layer.131 2.880394101 10.7425287
>? >? >? ??? layer.132 2.911391258? 7.7971430
>? >? >? ??? layer.133 2.942965150? 8.8060858
>? >? >? ??? layer.134 2.974468350 17.5606266
>? >? >? ??? layer.135 3.008983612 17.3088605
>? >? >? ??? layer.136 3.040015221 13.4500543
>? >? >? ??? layer.137 3.072668672 14.6377884
>? >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>? > dput(onepctCO2MEDIAN)
>? >? >? ??? structure(list(x = c(0, 0.00679444684647024, 0.014288058038801,
>? >? >? ??? 0.0220879195258021,
>? > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>? >? >? ??? 0.0586777292191982, 0.0692614056169987,
>? > 0.080524530261755,0.0927602462470531,
>? >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>? > 0.141710050404072,
>? >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>? > 0.199463054537773,
>? >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>? > 0.263012766838074,
>? >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>? > 0.325990349054337,
>? >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>? > 0.39499294757843,
>? >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>? > 0.470167458057404,
>? >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>? > 0.543750524520874,
>? >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>? > 0.619924664497375,
>? >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>? > 0.704829752445221,
>? >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>? > 0.783461511135101,
>? >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>? > 0.871352434158325,
>? >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>? > 0.959907650947571,
>? >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>? > 1.05400913953781,
>? >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>? > 1.14943087100983,
>? >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>? > 1.24186837673187,
>? >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>? > 1.33904588222504,
>? >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>? > 1.43585115671158,
>? >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>? > 1.52572846412659,
>? >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>? > 1.62387949228287,
>? >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>? > 1.72479337453842,
>? >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>? > 1.83066886663437,
>? >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>? > 1.93813002109528,
>? >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>? > 2.05067992210388,
>? >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>? > 2.16402626037598,
>? >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>? > 2.27733504772186,
>? >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>? > 2.38648927211761,
>? >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>? > 2.51017570495605,
>? >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>? > 2.62751877307892,
>? >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>? > 2.75302135944366,
>? >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>? > 2.88039410114288,
>? >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>? > 3.00898361206055,
>? >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = c(0,
>? >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>? > -1.24295055804536,
>? >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>? > -2.36770012911069,
>? >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>? > -2.41382533818026,
>? >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>? > -1.53496826259972,
>? >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>? > 0.136596820654013,
>? >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>? > 0.793803634291308,
>? >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>? > -1.41715777257774,
>? >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>? > -0.737609879885404,
>? >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>? > -0.978538630093809,
>? >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>? > 3.91689160157513,
>? >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>? > 8.15101701282067,
>? >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>? > 1.54064657400204,
>? >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>? > 9.37565121768513,
>? >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>? > 2.80960651433971,
>? >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>? > 8.86907069895943,
>? >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>? > 7.68714830528144,
>? >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>? > 1.64908991824022,
>? >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>? > 3.99869636910933,
>? >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>? > 3.5422970157433,
>? >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>? > 9.94604963036295,
>? >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>? > 13.7408303595752,
>? >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>? > 13.4970905965787,
>? >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>? > -0.156762622680077,
>? >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>? > 11.3104332518482,
>? >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>? > 9.6004907412354,
>? >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>? > 5.56595224859066,
>? >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>? > 5.44795836991128,
>? >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>? > 3.77800720810782,
>? >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>? > 2.78257393345915,
>? >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>? > 4.82754943871433,
>? >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>? > 9.29079879799404,
>? >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>? > 11.1121039747257,
>? >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>? > 8.80608578166101,
>? >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>? > 14.6377884248645,
>? >? >? ??? 8.07985518296064)), class = "data.frame", row.names = 
> c("layer.1",
>? >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", "layer.7",
>? >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>? > "layer.13",
>? >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>? > "layer.19",
>? >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>? > "layer.25",
>? >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>? > "layer.31",
>? >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>? > "layer.37",
>? >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>? > "layer.43",
>? >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>? > "layer.49",
>? >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>? > "layer.55",
>? >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>? > "layer.61",
>? >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>? > "layer.67",
>? >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>? > "layer.73",
>? >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>? > "layer.79",
>? >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>? > "layer.85",
>? >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>? > "layer.91",
>? >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>? > "layer.97",
>? >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>? >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106", "layer.107",
>? >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111", "layer.112",
>? >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116", "layer.117",
>? >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121", "layer.122",
>? >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126", "layer.127",
>? >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131", "layer.132",
>? >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136", "layer.137",
>? >? >? ??? "layer.138"))
>? >? > I started with the following to generate the first regression line
>? > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>? >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], departurea),
>? >? >? ??? colour="blue") + 
> geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>? >? >? ??? departurea), method=lm)
>? >? > But I receive this error:? ??Warning message:
>? >? >? ??? Computation failed in `stat_smooth()`:
>? >? >? ??? 'what' must be a function or character string
>? >? > A blue scatter plot is successfully generated, but the problem is
>? > that the regression line does not appear, presumably related to the
>? > above warning.
>? >? > Is there a reason for this? I would appreciate any assistance!
>? >? > ??? [[alternative HTML version deleted]]
>? >
>? >? >
>? >? > ______________________________________________
>? >? > R-help at r-project.org <mailto:R-help at r-project.org> mailing list -- 
> To UNSUBSCRIBE and more, see
>? >? > https://stat.ethz.ch/mailman/listinfo/r-help
>? >? > PLEASE do read the posting guide
>? > http://www.R-project.org/posting-guide.html
>? >? > and provide commented, minimal, self-contained, reproducible code.
>? >
>? >? >

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jun  6 17:53:30 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 6 Jun 2019 16:53:30 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <2052071712.934379.1559836141605@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
 <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
 <2052071712.934379.1559836141605@mail.yahoo.com>
Message-ID: <dae08fa6-280f-eda9-5c48-3f50527a9a03@sapo.pt>

Hello,

It's impossible to say without seeing the data.

What is the return value of

df_tmp <- subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN')
unique(df_tmp$L1)

The number of colors must be the same as

length(unique(df_tmp$L1))


Hope this helps,

Rui Barradas

?s 16:49 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui,
> 
> Yes, you are right. It should be this, but I tried with only 3 colors, 
> as you suggested:
> 
> ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red")) + geom_smooth(method = lm, se=FALSE)
> 
> **//___^
> **//___^I still end up with the same error, however, when I specify only 
> 3 colors. Why could this be?
> 
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 11:18 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> 1) In the text you say your dataset is named NewestdataUltra but in the
> ggplot instruction it's Newestdata. One of these is wrong.
> 
> 2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?
> 
> 3) You are filtering out the value in point ) above. So you only plot 3
> regression lines, you don't need 4 colors.
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:35 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>  > Hi Rui (and everyone),
>  >
>  >
>  > Thank you for this! Yes, this did work fine, as I can see my scatter
>  > plots and regression lines on the same plot, along with the appropriate
>  > coloring scheme! :)
>  >
>  > Just one last question concerning this - I melted other dataframes into
>  > my new "NewestdataUltra". I now have 4 objects listed in there in this
>  > order (starting from the top of the list): "onepctCO2MEDIAN",
>  > "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting
>  > colored scattered plots and regression lines for these in this manner:
>  >
>  > ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value,
>  > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>  > "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
>  >
>  > However, I received this error:
>  >
>  > Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1
>  > != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() +
>  > scale_color_manual(values =c("green", "blue" "red""
>  >
>  > **//___^
>  >
>  > Why would this error appear?? I think that I assigned the colors
>  > correctly to each of the four objects in question, so why would this 
> occur?
>  >
>  > Thank you, once again!
>  >
>  > -----Original Message-----
>  > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>  > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>
>  > Sent: Thu, Jun 6, 2019 6:52 am
>  > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >
>  > Hello,
>  >
>  > You are confusing some of the values of L1 with L1 itself.
>  > If you just want two of those values in your plot, "onepctCO2MEDIAN" and
>  > "RCP8.5MEDIAN", you need to subset the data filtering out the rows with
>  > L1 == "RCP4.5MEDIAN".
>  >
>  > And please forget geom_jitter, it is completely inappropriate for the
>  > type of scatter plot you are trying to graph. You jitter when there is
>  > overplotting, not as a general purpose technique.
>  >
>  > Here is one way to do it.
>  >
>  >
>  > ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>  >? ? ? ? ? aes(x, value, colour = L1)) +
>  >? ? geom_point() +
>  >? ? scale_color_manual(values = c("green", "red")) +
>  >? ? geom_smooth(method = lm)
>  >
>  >
>  > Hope this helps,
>  >
>  > Rui Barradas
>  >
>  > ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>> escreveu:
>  >? > Hi Rui (and everyone),
>  >? >
>  >? > Thank you so much for your response! Much appreciated!
>  >? >
>  >? > What if I wanted I create several regression lines and scatter 
> plots in
>  >? > the same ggplot using a "melted" dataset? I would like to create a
>  >? > scatter plot and regression line for both the objects of
>  >? > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like 
> this:
>  >? >
>  >? >
>  >? >? >NewestdataUltra
>  >? >
>  >? > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>  >? > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>  >? > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 
> 0.030797357
>  >? > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 
> onepctCO2MEDIAN
>  >? > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446
>  >? > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>  >? > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399
>  >? > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>  >? > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570
>  >? > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>  >? > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826
>  >? > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>  >? > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826
>  >? > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>  >? > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883
>  >? > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>  >? > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374
>  >? > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>  >? > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777
>  >? > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>  >? > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657
>  >? > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>  >? > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584
>  >? > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>  >? > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838
>  >? > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>  >? > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160
>  >? > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>  >? > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500
>  >? > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>  >? > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007
>  >? > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>  >? > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409
>  >? > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>  >? > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122
>  >? > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>  >? > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471
>  >? > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>  >? > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888
>  >? > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>  >? > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989
>  >? > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>  >? > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831
>  >? > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>  >? > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844
>  >? > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>  >? > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688
>  >? > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>  >? > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725
>  >? > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>  >? > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702
>  >? > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>  >? > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301
>  >? > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>  >? > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469
>  >? > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>  >? > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712
>  >? > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>  >? > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060
>  >? > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>  >? > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915
>  >? > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>  >? > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679
>  >? > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>  >? > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074
>  >? > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>  >? > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074
>  >? > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>  >? > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195
>  >? > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>  >? > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y 
> -0.40283200
>  >? > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>  >? > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736
>  >? > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>  >? > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721
>  >? > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>  >? > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020
>  >? > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>  >? > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026
>  >? > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>  >? > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829
>  >? > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>  >? > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880
>  >? > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>  >? > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503
>  >? > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>  >? > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 
> 10.74252868
>  >? > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>  >? > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663
>  >? > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>  >? > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 
> 14.63778842
>  >? > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>  >? > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515
>  >? > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 
> 0.500039143
>  >? > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 
> RCP4.5MEDIAN 144
>  >? > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524
>  >? > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 
> 0.546194211
>  >? > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 
> RCP4.5MEDIAN 149
>  >? > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>  >? > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 
> 0.590921065
>  >? > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN
>  >? > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y 
> -3.38454122
>  >? > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 
> 0.646722666 y
>  >? > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159
>  >? > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946
>  >? > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 
> 0.706016061 y
>  >? > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164
>  >? > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>  >? > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 
> 0.760886972
>  >? > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN
>  >? > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 
> 0.22722653
>  >? > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 
> 0.815066246
>  >? > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 
> RCP4.5MEDIAN 174
>  >? > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>  >? > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 
> 0.869154422 y
>  >? > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179
>  >? > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>  >? > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 
> 0.917284978 y
>  >? > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184
>  >? > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>  >? > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 
> 0.958795701 y
>  >? > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189
>  >? > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>  >? > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 
> 0.994548581 y
>  >? > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 
> RCP4.5MEDIAN 194
>  >? > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>  >? > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 
> 1.032070810
>  >? > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 
> RCP4.5MEDIAN 199
>  >? > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>  >? > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 
> 1.076078766 y
>  >? > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204
>  >? > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>  >? > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 
> 1.115482896 y
>  >? > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209
>  >? > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969
>  >? > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 
> 1.143910237
>  >? > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 
> RCP4.5MEDIAN 214
>  >? > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>  >? > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 
> 1.171103424
>  >? > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 
> RCP4.5MEDIAN 219
>  >? > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>  >? > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 
> 1.204590551 y
>  >? > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224
>  >? > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>  >? > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 
> 1.233317788 y
>  >? > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229
>  >? > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>  >? > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 
> 0.486304903
>  >? > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN
>  >? > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y 
> -6.15175322
>  >? > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 
> 0.528675758
>  >? > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 
> RCP8.5MEDIAN 239
>  >? > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029
>  >? > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 
> 0.581923368 y
>  >? > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244
>  >? > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554
>  >? > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 
> 0.639401050
>  >? > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 
> RCP8.5MEDIAN 249
>  >? > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>  >? > RCP8.5MEDIAN Maybe something like this?
>  >? >
>  >? > lusher<-ggplot(NewestdataULTRA) +
>  >? > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>  >? > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>  >? > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>  >? > **//___^
>  >? > I receive this warning, however:
>  >? >
>  >? > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring
>  >? > unknown aesthetics: onepctCO2MEDIAN
>  >? >
>  >? > **//___^
>  >? > Perhaps I am not assigning the columns properly? Essentially, I just
>  >? > want create two scatter plots and two regression lines for these two
>  >? > objects.
>  >? >
>  >? > Once again, any assistance would be greatly appreciated!
>  >? >
>  >? > -----Original Message-----
>  >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>>
>  >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>; r-help
>  > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>;
>  >? > r-sig-geo <r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org> <mailto:r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org>>>
>  >? > Sent: Wed, Jun 5, 2019 10:52 am
>  >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >? >
>  >? > Hello,
>  >? >
>  >? > This is pretty basic ggplot.
>  >? >
>  >? >
>  >? > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>  >? >? ? geom_point(colour = 'blue') +
>  >? >? ? geom_smooth(method = 'lm')
>  >? >
>  >? > lm1
>  >? >
>  >? >
>  >? > If you want to combine several datasets, you will have to have a
>  >? > variable telling which dataset is which. In the example below, this is
>  >? > column 'id'.
>  >? >
>  >? >
>  >? > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>  >? > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>  >? > onepctCO2MEDIAN$id <- 1
>  >? > onepctCO2MEDIAN2$id <- 2
>  >? > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>  >? >
>  >? > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>  >? >? ? geom_point() +
>  >? >? ? geom_smooth(method = 'lm')
>  >? >
>  >? >
>  >? > Hope this helps,
>  >? >
>  >? > Rui Barradas
>  >? >
>  >? > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>  >? >? > I am trying to plot, using ggplot, a series of scatter plots with
>  >? > regression lines for several datasets. I started with the following
>  >? > dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>  >? >? >? ??? onepctCO2MEDIAN
>  >? >? >? ??????????????????? x????????? y
>  >? >? >? ??? layer.1?? 0.000000000? 0.0000000
>  >? >? >? ??? layer.2?? 0.006794447? 4.9002490
>  >? >? >? ??? layer.3?? 0.014288058? 0.1608000
>  >? >? >? ??? layer.4?? 0.022087920? 6.6349133
>  >? >? >? ??? layer.5?? 0.030797357 -1.2429506
>  >? >? >? ??? layer.6?? 0.038451072? 1.5643374
>  >? >? >? ??? layer.7?? 0.048087904 -2.2659035
>  >? >? >? ??? layer.8?? 0.058677729? 2.2070045
>  >? >? >? ??? layer.9?? 0.069261406 -2.3677001
>  >? >? >? ??? layer.10? 0.080524530 -1.0913506
>  >? >? >? ??? layer.11? 0.092760246? 0.4099940
>  >? >? >? ??? layer.12? 0.103789609 -0.1259727
>  >? >? >? ??? layer.13? 0.116953168 -2.4138253
>  >? >? >? ??? layer.14? 0.129253298? 7.0890257
>  >? >? >? ??? layer.15? 0.141710050 -0.7593539
>  >? >? >? ??? layer.16? 0.156002052? 0.0454416
>  >? >? >? ??? layer.17? 0.170648172 -1.5349683
>  >? >? >? ??? layer.18? 0.185318425? 6.5524201
>  >? >? >? ??? layer.19? 0.199463055 -0.8312563
>  >? >? >? ??? layer.20? 0.213513337 -2.5099183
>  >? >? >? ??? layer.21? 0.228839271? 0.1365968
>  >? >? >? ??? layer.22? 0.246981293 -1.3719845
>  >? >? >? ??? layer.23? 0.263012767 -0.8712988
>  >? >? >? ??? layer.24? 0.278505564? 0.6632584
>  >? >? >? ??? layer.25? 0.293658361? 0.7938036
>  >? >? >? ??? layer.26? 0.310747266? 3.4880637
>  >? >? >? ??? layer.27? 0.325990349 -4.4612208
>  >? >? >? ??? layer.28? 0.342517540? 0.0871734
>  >? >? >? ??? layer.29? 0.362751633 -1.4171578
>  >? >? >? ??? layer.30? 0.380199537 -0.9956508
>  >? >? >? ??? layer.31? 0.394992948? 0.3215526
>  >? >? >? ??? layer.32? 0.414373398? 3.1403866
>  >? >? >? ??? layer.33? 0.430690214 -0.7376099
>  >? >? >? ??? layer.34? 0.449738145 -2.4860541
>  >? >? >? ??? layer.35? 0.470167458 -3.4235858
>  >? >? >? ??? layer.36? 0.489019871? 0.4824748
>  >? >? >? ??? layer.37? 0.507242471 -0.9785386
>  >? >? >? ??? layer.38? 0.524314284? 8.5359684
>  >? >? >? ??? layer.39? 0.543750525? 5.4844742
>  >? >? >? ??? layer.40? 0.564234197? 3.2149367
>  >? >? >? ??? layer.41? 0.583679616? 3.9168916
>  >? >? >? ??? layer.42? 0.601459444? 4.4907020
>  >? >? >? ??? layer.43? 0.619924664? 6.5410410
>  >? >? >? ??? layer.44? 0.639932007? 4.8068650
>  >? >? >? ??? layer.45? 0.661347181? 8.1510170
>  >? >? >? ??? layer.46? 0.684117317? 0.2697413
>  >? >? >? ??? layer.47? 0.704829752 -0.1807501
>  >? >? >? ??? layer.48? 0.725045770? 9.7181249
>  >? >? >? ??? layer.49? 0.745165825? 1.5406466
>  >? >? >? ??? layer.50? 0.765016139 -1.6476041
>  >? >? >? ??? layer.51? 0.783461511? 4.8024603
>  >? >? >? ??? layer.52? 0.806382924? 4.0421516
>  >? >? >? ??? layer.53? 0.829241335? 9.3756512
>  >? >? >? ??? layer.54? 0.849924415? 5.3305050
>  >? >? >? ??? layer.55? 0.871352434? 7.5445803
>  >? >? >? ??? layer.56? 0.893632233? 6.4679547
>  >? >? >? ??? layer.57? 0.916052133? 2.8096065
>  >? >? >? ??? layer.58? 0.938579470? 5.3921661
>  >? >? >? ??? layer.59? 0.959907651? 7.2043689
>  >? >? >? ??? layer.60? 0.981643587? 3.3350806
>  >? >? >? ??? layer.61? 1.004116774? 8.8690707
>  >? >? >? ??? layer.62? 1.028363466? 1.7861299
>  >? >? >? ??? layer.63? 1.054009140? 6.2555038
>  >? >? >? ??? layer.64? 1.072440803? 7.6079236
>  >? >? >? ??? layer.65? 1.094457805? 7.6871483
>  >? >? >? ??? layer.66? 1.123176277? 4.7787764
>  >? >? >? ??? layer.67? 1.149430871 12.7110502
>  >? >? >? ??? layer.68? 1.170912921 -0.7156284
>  >? >? >? ??? layer.69? 1.196743071? 1.6490899
>  >? >? >? ??? layer.70? 1.218625903? 3.0363024
>  >? >? >? ??? layer.71? 1.241868377? 4.2974769
>  >? >? >? ??? layer.72? 1.267941594? 1.9543778
>  >? >? >? ??? layer.73? 1.290708780? 3.9986964
>  >? >? >? ??? layer.74? 1.313222289? 4.5179472
>  >? >? >? ??? layer.75? 1.339045882? 0.9337905
>  >? >? >? ??? layer.76? 1.362803459? 3.3050770
>  >? >? >? ??? layer.77? 1.384450197? 3.5422970
>  >? >? >? ??? layer.78? 1.409720302? 5.9973660
>  >? >? >? ??? layer.79? 1.435851157? 0.5081869
>  >? >? >? ??? layer.80? 1.455592215? 7.9661630
>  >? >? >? ??? layer.81? 1.479495347? 9.9460496
>  >? >? >? ??? layer.82? 1.506051958? 3.7908372
>  >? >? >? ??? layer.83? 1.525728464? 2.5735847
>  >? >? >? ??? layer.84? 1.549362063 10.1404974
>  >? >? >? ??? layer.85? 1.573440671 13.7408304
>  >? >? >? ??? layer.86? 1.600278735? 0.9335771
>  >? >? >? ??? layer.87? 1.623879492? 9.7588742
>  >? >? >? ??? layer.88? 1.650029302? 1.2769395
>  >? >? >? ??? layer.89? 1.672362328 13.4970906
>  >? >? >? ??? layer.90? 1.700221121 10.2087502
>  >? >? >? ??? layer.91? 1.724793375? 1.6811275
>  >? >? >? ??? layer.92? 1.751070559? 6.1178992
>  >? >? >? ??? layer.93? 1.778022110 -0.1567626
>  >? >? >? ??? layer.94? 1.803022087? 3.8237479
>  >? >? >? ??? layer.95? 1.830668867? 4.4331468
>  >? >? >? ??? layer.96? 1.855736911? 5.9790707
>  >? >? >? ??? layer.97? 1.882615030 11.3104333
>  >? >? >? ??? layer.98? 1.909218490? 8.2142607
>  >? >? >? ??? layer.99? 1.938130021 15.3209674
>  >? >? >? ??? layer.100 1.963727593? 5.8178217
>  >? >? >? ??? layer.101 1.993271947? 9.6004907
>  >? >? >? ??? layer.102 2.022548139? 3.4063646
>  >? >? >? ??? layer.103 2.050679922? 4.7375010
>  >? >? >? ??? layer.104 2.078064442? 3.0133019
>  >? >? >? ??? layer.105 2.104113460? 5.5659522
>  >? >? >? ??? layer.106 2.133597612 12.0346333
>  >? >? >? ??? layer.107 2.164026260 -0.4028320
>  >? >? >? ??? layer.108 2.194852829 10.5996780
>  >? >? >? ??? layer.109 2.224257946? 5.4479584
>  >? >? >? ??? layer.110 2.252194643? 4.7052374
>  >? >? >? ??? layer.111 2.277335048 14.0962019
>  >? >? >? ??? layer.112 2.304058313? 5.7149016
>  >? >? >? ??? layer.113 2.330930233? 3.7780072
>  >? >? >? ??? layer.114 2.357022762? 4.4120620
>  >? >? >? ??? layer.115 2.386489272? 4.1866085
>  >? >? >? ??? layer.116 2.417503953? 6.9078802
>  >? >? >? ??? layer.117 2.448524356? 2.7825739
>  >? >? >? ??? layer.118 2.478698969? 7.6171786
>  >? >? >? ??? layer.119 2.510175705 10.2410603
>  >? >? >? ??? layer.120 2.539697886? 8.1820711
>  >? >? >? ??? layer.121 2.567915559? 4.8275494
>  >? >? >? ??? layer.122 2.597463250 19.1624883
>  >? >? >? ??? layer.123 2.627518773 16.0677109
>  >? >? >? ??? layer.124 2.658759236 12.5897081
>  >? >? >? ??? layer.125 2.692401528? 9.2907988
>  >? >? >? ??? layer.126 2.721903205? 7.4262502
>  >? >? >? ??? layer.127 2.753021359? 9.3902518
>  >? >? >? ??? layer.128 2.786313415 12.6193550
>  >? >? >? ??? layer.129 2.819564104 11.1121040
>  >? >? >? ??? layer.130 2.850823164 15.7907100
>  >? >? >? ??? layer.131 2.880394101 10.7425287
>  >? >? >? ??? layer.132 2.911391258? 7.7971430
>  >? >? >? ??? layer.133 2.942965150? 8.8060858
>  >? >? >? ??? layer.134 2.974468350 17.5606266
>  >? >? >? ??? layer.135 3.008983612 17.3088605
>  >? >? >? ??? layer.136 3.040015221 13.4500543
>  >? >? >? ??? layer.137 3.072668672 14.6377884
>  >? >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>  >? > dput(onepctCO2MEDIAN)
>  >? >? >? ??? structure(list(x = c(0, 0.00679444684647024, 
> 0.014288058038801,
>  >? >? >? ??? 0.0220879195258021,
>  >? > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>  >? >? >? ??? 0.0586777292191982, 0.0692614056169987,
>  >? > 0.080524530261755,0.0927602462470531,
>  >? >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>  >? > 0.141710050404072,
>  >? >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>  >? > 0.199463054537773,
>  >? >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>  >? > 0.263012766838074,
>  >? >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>  >? > 0.325990349054337,
>  >? >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>  >? > 0.39499294757843,
>  >? >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>  >? > 0.470167458057404,
>  >? >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>  >? > 0.543750524520874,
>  >? >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>  >? > 0.619924664497375,
>  >? >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>  >? > 0.704829752445221,
>  >? >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>  >? > 0.783461511135101,
>  >? >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>  >? > 0.871352434158325,
>  >? >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>  >? > 0.959907650947571,
>  >? >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>  >? > 1.05400913953781,
>  >? >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>  >? > 1.14943087100983,
>  >? >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>  >? > 1.24186837673187,
>  >? >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>  >? > 1.33904588222504,
>  >? >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>  >? > 1.43585115671158,
>  >? >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>  >? > 1.52572846412659,
>  >? >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>  >? > 1.62387949228287,
>  >? >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>  >? > 1.72479337453842,
>  >? >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>  >? > 1.83066886663437,
>  >? >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>  >? > 1.93813002109528,
>  >? >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>  >? > 2.05067992210388,
>  >? >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>  >? > 2.16402626037598,
>  >? >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>  >? > 2.27733504772186,
>  >? >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>  >? > 2.38648927211761,
>  >? >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>  >? > 2.51017570495605,
>  >? >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>  >? > 2.62751877307892,
>  >? >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>  >? > 2.75302135944366,
>  >? >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>  >? > 2.88039410114288,
>  >? >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>  >? > 3.00898361206055,
>  >? >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = 
> c(0,
>  >? >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>  >? > -1.24295055804536,
>  >? >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>  >? > -2.36770012911069,
>  >? >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>  >? > -2.41382533818026,
>  >? >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>  >? > -1.53496826259972,
>  >? >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>  >? > 0.136596820654013,
>  >? >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>  >? > 0.793803634291308,
>  >? >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>  >? > -1.41715777257774,
>  >? >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>  >? > -0.737609879885404,
>  >? >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>  >? > -0.978538630093809,
>  >? >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>  >? > 3.91689160157513,
>  >? >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>  >? > 8.15101701282067,
>  >? >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>  >? > 1.54064657400204,
>  >? >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>  >? > 9.37565121768513,
>  >? >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>  >? > 2.80960651433971,
>  >? >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>  >? > 8.86907069895943,
>  >? >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>  >? > 7.68714830528144,
>  >? >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>  >? > 1.64908991824022,
>  >? >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>  >? > 3.99869636910933,
>  >? >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>  >? > 3.5422970157433,
>  >? >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>  >? > 9.94604963036295,
>  >? >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>  >? > 13.7408303595752,
>  >? >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>  >? > 13.4970905965787,
>  >? >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>  >? > -0.156762622680077,
>  >? >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>  >? > 11.3104332518482,
>  >? >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>  >? > 9.6004907412354,
>  >? >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>  >? > 5.56595224859066,
>  >? >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>  >? > 5.44795836991128,
>  >? >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>  >? > 3.77800720810782,
>  >? >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>  >? > 2.78257393345915,
>  >? >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>  >? > 4.82754943871433,
>  >? >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>  >? > 9.29079879799404,
>  >? >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>  >? > 11.1121039747257,
>  >? >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>  >? > 8.80608578166101,
>  >? >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>  >? > 14.6377884248645,
>  >? >? >? ??? 8.07985518296064)), class = "data.frame", row.names =
>  > c("layer.1",
>  >? >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", 
> "layer.7",
>  >? >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>  >? > "layer.13",
>  >? >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>  >? > "layer.19",
>  >? >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>  >? > "layer.25",
>  >? >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>  >? > "layer.31",
>  >? >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>  >? > "layer.37",
>  >? >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>  >? > "layer.43",
>  >? >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>  >? > "layer.49",
>  >? >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>  >? > "layer.55",
>  >? >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>  >? > "layer.61",
>  >? >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>  >? > "layer.67",
>  >? >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>  >? > "layer.73",
>  >? >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>  >? > "layer.79",
>  >? >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>  >? > "layer.85",
>  >? >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>  >? > "layer.91",
>  >? >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>  >? > "layer.97",
>  >? >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>  >? >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106", 
> "layer.107",
>  >? >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111", 
> "layer.112",
>  >? >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116", 
> "layer.117",
>  >? >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121", 
> "layer.122",
>  >? >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126", 
> "layer.127",
>  >? >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131", 
> "layer.132",
>  >? >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136", 
> "layer.137",
>  >? >? >? ??? "layer.138"))
>  >? >? > I started with the following to generate the first regression line
>  >? > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>  >? >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], 
> departurea),
>  >? >? >? ??? colour="blue") +
>  > geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>  >? >? >? ??? departurea), method=lm)
>  >? >? > But I receive this error:? ??Warning message:
>  >? >? >? ??? Computation failed in `stat_smooth()`:
>  >? >? >? ??? 'what' must be a function or character string
>  >? >? > A blue scatter plot is successfully generated, but the problem is
>  >? > that the regression line does not appear, presumably related to the
>  >? > above warning.
>  >? >? > Is there a reason for this? I would appreciate any assistance!
>  >? >? > ??? [[alternative HTML version deleted]]
>  >? >
>  >? >? >
>  >? >? > ______________________________________________
>  >? >? > R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>> mailing list --
>  > To UNSUBSCRIBE and more, see
>  >? >? > https://stat.ethz.ch/mailman/listinfo/r-help
>  >? >? > PLEASE do read the posting guide
>  >? > http://www.R-project.org/posting-guide.html
>  >? >? > and provide commented, minimal, self-contained, reproducible code.
>  >? >
>  >? >? >


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 17:54:28 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 08:54:28 -0700
Subject: [R] Pasting R code lines into labels
In-Reply-To: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
Message-ID: <CAGxFJbRFWOMf9bh7EEdQrptbeX1OBRSXXxEOeYjhL1F2ND=KTw@mail.gmail.com>

The well known deparse(substitute(...)) construction.

plot(1:9, main = paste("plot of",deparse(substitute(y <- x^2))))

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 6, 2019 at 8:19 AM Nick Wray via R-help <r-help at r-project.org>
wrote:

> Is there any way of taking a line of r code (eg y<-x^2) and pasting that
> line of code, as is, into a label, so that for example I could then have a
> plot label "Plot of y<-x^2"?
>
> Thanks Nick Wray
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Thu Jun  6 17:54:51 2019
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (Nick Wray)
Date: Thu, 6 Jun 2019 16:54:51 +0100 (BST)
Subject: [R] Pasting R code lines into labels
In-Reply-To: <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
Message-ID: <1235126713.1238702.1559836492002@mail2.virginmedia.com>

Thanks but that's not quite what I meant
I am trying out different functions and they don't necessarily vary in a regular way (like say all being powers of x where it'd be simple to just have a vector for the powers you want)
So I might have
y<-x^2
y<-cos(x)
y<-exp(x+1)
What I am after is a way of running these functions and then calling each one into the labelling for the appropriate graph as I plot it.  So then I would have something like
mainlab<-paste("Plot of ",function in question)
...? Thanks Nick

> On 06 June 2019 at 16:40 Marc Schwartz <marc_schwartz at me.com> wrote:
> 
> 
> 
> > On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <r-help at r-project.org> wrote:
> > 
> > Is there any way of taking a line of r code (eg y<-x^2) and pasting that line of code, as is, into a label, so that for example I could then have a plot label "Plot of y<-x^2"?
> > 
> > Thanks Nick Wray 
> 
> 
> Hi,
> 
> See ?plotmath
> 
> An example:
> 
> x <- 1:10
> y <- x^2
> 
> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
> 
> 
> There are other incantations and examples on the help page above.
> 
> Regards,
> 
> Marc Schwartz
>


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 18:13:45 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 09:13:45 -0700
Subject: [R] Pasting R code lines into labels
In-Reply-To: <1235126713.1238702.1559836492002@mail2.virginmedia.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
Message-ID: <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>

... and if you wanted too streamline the process, something like the
following could be encapsulated in a function:

fun <- quote(exp(x))
z <- 1:9
y <- eval(fun,list(x = z) )
plot(x, y, main = paste("Plot of y =", deparse(fun)))

Further details can be found in the "Computing on the Language" section of
the "R Language Reference" manual or from suitable tutorials on the web.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <r-help at r-project.org>
wrote:

> Thanks but that's not quite what I meant
> I am trying out different functions and they don't necessarily vary in a
> regular way (like say all being powers of x where it'd be simple to just
> have a vector for the powers you want)
> So I might have
> y<-x^2
> y<-cos(x)
> y<-exp(x+1)
> What I am after is a way of running these functions and then calling each
> one into the labelling for the appropriate graph as I plot it.  So then I
> would have something like
> mainlab<-paste("Plot of ",function in question)
> ...? Thanks Nick
>
> > On 06 June 2019 at 16:40 Marc Schwartz <marc_schwartz at me.com> wrote:
> >
> >
> >
> > > On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
> r-help at r-project.org> wrote:
> > >
> > > Is there any way of taking a line of r code (eg y<-x^2) and pasting
> that line of code, as is, into a label, so that for example I could then
> have a plot label "Plot of y<-x^2"?
> > >
> > > Thanks Nick Wray
> >
> >
> > Hi,
> >
> > See ?plotmath
> >
> > An example:
> >
> > x <- 1:10
> > y <- x^2
> >
> > plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
> >
> >
> > There are other incantations and examples on the help page above.
> >
> > Regards,
> >
> > Marc Schwartz
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Thu Jun  6 18:21:15 2019
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (Nick Wray)
Date: Thu, 6 Jun 2019 17:21:15 +0100 (BST)
Subject: [R] Pasting R code lines into labels
In-Reply-To: <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
Message-ID: <2028528730.1239575.1559838075108@mail2.virginmedia.com>

Thanks Bert, that is exactly what I wanted.  I think that you meant plot(z,y... in the last line?

Nick

> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
>     ... and if you wanted too streamline the process, something like the following could be encapsulated in a function:
> 
>     fun <- quote(exp(x))
>     z <- 1:9
>     y <- eval(fun,list(x = z) )
>     plot(x, y, main = paste("Plot of y =", deparse(fun)))
> 
>     Further details can be found in the "Computing on the Language" section of the "R Language Reference" manual or from suitable tutorials on the web.
> 
>     Bert Gunter
> 
>     "The trouble with having an open mind is that people keep coming along and sticking things into it."
>     -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> 
> 
>     On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help < r-help at r-project.org mailto:r-help at r-project.org > wrote:
> 
>         > > Thanks but that's not quite what I meant
> >         I am trying out different functions and they don't necessarily vary in a regular way (like say all being powers of x where it'd be simple to just have a vector for the powers you want)
> >         So I might have
> >         y<-x^2
> >         y<-cos(x)
> >         y<-exp(x+1)
> >         What I am after is a way of running these functions and then calling each one into the labelling for the appropriate graph as I plot it.  So then I would have something like
> >         mainlab<-paste("Plot of ",function in question)
> >         ...? Thanks Nick
> > 
> >         > On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com mailto:marc_schwartz at me.com > wrote:
> >         >
> >         >
> >         >
> >         > > On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help < r-help at r-project.org mailto:r-help at r-project.org > wrote:
> >         > >
> >         > > Is there any way of taking a line of r code (eg y<-x^2) and pasting that line of code, as is, into a label, so that for example I could then have a plot label "Plot of y<-x^2"?
> >         > >
> >         > > Thanks Nick Wray
> >         >
> >         >
> >         > Hi,
> >         >
> >         > See ?plotmath
> >         >
> >         > An example:
> >         >
> >         > x <- 1:10
> >         > y <- x^2
> >         >
> >         > plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
> >         >
> >         >
> >         > There are other incantations and examples on the help page above.
> >         >
> >         > Regards,
> >         >
> >         > Marc Schwartz
> >         >
> > 
> >         ______________________________________________
> >         R-help at r-project.org mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >         https://stat.ethz.ch/mailman/listinfo/r-help
> >         PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >         and provide commented, minimal, self-contained, reproducible code.
> > 
> >     > 

	[[alternative HTML version deleted]]


From ccberry @end|ng |rom uc@d@edu  Thu Jun  6 18:25:28 2019
From: ccberry @end|ng |rom uc@d@edu (Berry, Charles)
Date: Thu, 6 Jun 2019 16:25:28 +0000
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190606135957.0be4db10@trisector>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
Message-ID: <96F2C432-20C9-43E6-BC7A-42D3C6D106E1@ucsd.edu>



> On Jun 6, 2019, at 3:59 AM, Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
> On Wed, 5 Jun 2019 18:07:15 +0200
> Frank Schwidom <schwidom at gmx.net> wrote:
> 
>> +> path.expand("a ~ b")  
>> [1] "a /home/user b"
> 
>> How can I switch off any file crippling activity?
> 
> It doesn't seem to be possible if readline is enabled and works
> correctly.
> 
> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
> calls R_ExpandFileName_readline [4], which uses libreadline function
> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
> anywhere in the string it is handed, i.e. operate on whole command
> lines, not file paths.
> 

FWIW, the tilde does not always trigger this behavior. 

It seems that the tilde needs to be first in the string or preceded by whitespace and succeeded by whitespace or a path separator so the result looks like a path. 

> path.expand("~/abc/~/def")
[1] "/Users/cberry/abc/~/def"
> 

> path.expand("~/abc/ ~/def")
[1] "/Users/cberry/abc/ /Users/cberry/def"

> path.expand("~/abc/ ~tilde~/def")
[1] "/Users/cberry/abc/ ~tilde~/def"
> 
> path.expand("~/abc/ ~tilde ~/def")
[1] "/Users/cberry/abc/ ~tilde /Users/cberry/def"

An inelegant workaround could be built by adding escapes to the initial path and stripping them from the result.

Perhaps, the intent (in GNU deadline) was to allow a string with multiple paths separated by whitespace to be processed.

Maybe this is seen as a feature in GNU readline even though it is not helpful here.

HTH,

Chuck


From r@i@1290 m@iii@g oii @im@com  Thu Jun  6 18:49:46 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Thu, 6 Jun 2019 16:49:46 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <dae08fa6-280f-eda9-5c48-3f50527a9a03@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
 <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
 <2052071712.934379.1559836141605@mail.yahoo.com>
 <dae08fa6-280f-eda9-5c48-3f50527a9a03@sapo.pt>
Message-ID: <336255924.971770.1559839786430@mail.yahoo.com>

Hi Rui,

NewestdataUltra looks like this (Note that "HistoricalMEDIAN" is hidden, but it follows "RCP8.5MEDIAN" listing the same way):



              x variable       value              L1
1   0.000000000        y  0.00000000 onepctCO2MEDIAN
2   0.006794447        y  4.90024902 onepctCO2MEDIAN
3   0.014288058        y  0.16079999 onepctCO2MEDIAN
4   0.022087920        y  6.63491326 onepctCO2MEDIAN
5   0.030797357        y -1.24295056 onepctCO2MEDIAN
6   0.038451072        y  1.56433744 onepctCO2MEDIAN
7   0.048087904        y -2.26590352 onepctCO2MEDIAN
8   0.058677729        y  2.20700446 onepctCO2MEDIAN
9   0.069261406        y -2.36770013 onepctCO2MEDIAN
10  0.080524530        y -1.09135062 onepctCO2MEDIAN
11  0.092760246        y  0.40999399 onepctCO2MEDIAN
12  0.103789609        y -0.12597268 onepctCO2MEDIAN
13  0.116953168        y -2.41382534 onepctCO2MEDIAN
14  0.129253298        y  7.08902570 onepctCO2MEDIAN
15  0.141710050        y -0.75935388 onepctCO2MEDIAN
16  0.156002052        y  0.04544160 onepctCO2MEDIAN
17  0.170648172        y -1.53496826 onepctCO2MEDIAN
18  0.185318425        y  6.55242014 onepctCO2MEDIAN
19  0.199463055        y -0.83125628 onepctCO2MEDIAN
20  0.213513337        y -2.50991826 onepctCO2MEDIAN
21  0.228839271        y  0.13659682 onepctCO2MEDIAN
22  0.246981293        y -1.37198445 onepctCO2MEDIAN
23  0.263012767        y -0.87129883 onepctCO2MEDIAN
24  0.278505564        y  0.66325836 onepctCO2MEDIAN
25  0.293658361        y  0.79380363 onepctCO2MEDIAN
26  0.310747266        y  3.48806374 onepctCO2MEDIAN
27  0.325990349        y -4.46122081 onepctCO2MEDIAN
28  0.342517540        y  0.08717340 onepctCO2MEDIAN
29  0.362751633        y -1.41715777 onepctCO2MEDIAN
30  0.380199537        y -0.99565082 onepctCO2MEDIAN
31  0.394992948        y  0.32155262 onepctCO2MEDIAN
32  0.414373398        y  3.14038657 onepctCO2MEDIAN
33  0.430690214        y -0.73760988 onepctCO2MEDIAN
34  0.449738145        y -2.48605407 onepctCO2MEDIAN
35  0.470167458        y -3.42358584 onepctCO2MEDIAN
36  0.489019871        y  0.48247475 onepctCO2MEDIAN
37  0.507242471        y -0.97853863 onepctCO2MEDIAN
38  0.524314284        y  8.53596838 onepctCO2MEDIAN
39  0.543750525        y  5.48447420 onepctCO2MEDIAN
40  0.564234197        y  3.21493666 onepctCO2MEDIAN
41  0.583679616        y  3.91689160 onepctCO2MEDIAN
42  0.601459444        y  4.49070196 onepctCO2MEDIAN
43  0.619924664        y  6.54104103 onepctCO2MEDIAN
44  0.639932007        y  4.80686500 onepctCO2MEDIAN
45  0.661347181        y  8.15101701 onepctCO2MEDIAN
46  0.684117317        y  0.26974132 onepctCO2MEDIAN
47  0.704829752        y -0.18075007 onepctCO2MEDIAN
48  0.725045770        y  9.71812491 onepctCO2MEDIAN
49  0.745165825        y  1.54064657 onepctCO2MEDIAN
50  0.765016139        y -1.64760409 onepctCO2MEDIAN
51  0.783461511        y  4.80246029 onepctCO2MEDIAN
52  0.806382924        y  4.04215160 onepctCO2MEDIAN
53  0.829241335        y  9.37565122 onepctCO2MEDIAN
54  0.849924415        y  5.33050497 onepctCO2MEDIAN
55  0.871352434        y  7.54458026 onepctCO2MEDIAN
56  0.893632233        y  6.46795471 onepctCO2MEDIAN
57  0.916052133        y  2.80960651 onepctCO2MEDIAN
58  0.938579470        y  5.39216613 onepctCO2MEDIAN
59  0.959907651        y  7.20436888 onepctCO2MEDIAN
60  0.981643587        y  3.33508065 onepctCO2MEDIAN
61  1.004116774        y  8.86907070 onepctCO2MEDIAN
62  1.028363466        y  1.78612989 onepctCO2MEDIAN
63  1.054009140        y  6.25550382 onepctCO2MEDIAN
64  1.072440803        y  7.60792365 onepctCO2MEDIAN
65  1.094457805        y  7.68714831 onepctCO2MEDIAN
66  1.123176277        y  4.77877639 onepctCO2MEDIAN
67  1.149430871        y 12.71105018 onepctCO2MEDIAN
68  1.170912921        y -0.71562844 onepctCO2MEDIAN
69  1.196743071        y  1.64908992 onepctCO2MEDIAN
70  1.218625903        y  3.03630241 onepctCO2MEDIAN
71  1.241868377        y  4.29747688 onepctCO2MEDIAN
72  1.267941594        y  1.95437781 onepctCO2MEDIAN
73  1.290708780        y  3.99869637 onepctCO2MEDIAN
74  1.313222289        y  4.51794725 onepctCO2MEDIAN
75  1.339045882        y  0.93379048 onepctCO2MEDIAN
76  1.362803459        y  3.30507700 onepctCO2MEDIAN
77  1.384450197        y  3.54229702 onepctCO2MEDIAN
78  1.409720302        y  5.99736597 onepctCO2MEDIAN
79  1.435851157        y  0.50818686 onepctCO2MEDIAN
80  1.455592215        y  7.96616301 onepctCO2MEDIAN
81  1.479495347        y  9.94604963 onepctCO2MEDIAN
82  1.506051958        y  3.79083717 onepctCO2MEDIAN
83  1.525728464        y  2.57358469 onepctCO2MEDIAN
84  1.549362063        y 10.14049742 onepctCO2MEDIAN
85  1.573440671        y 13.74083036 onepctCO2MEDIAN
86  1.600278735        y  0.93357712 onepctCO2MEDIAN
87  1.623879492        y  9.75887417 onepctCO2MEDIAN
88  1.650029302        y  1.27693947 onepctCO2MEDIAN
89  1.672362328        y 13.49709060 onepctCO2MEDIAN
90  1.700221121        y 10.20875018 onepctCO2MEDIAN
91  1.724793375        y  1.68112753 onepctCO2MEDIAN
92  1.751070559        y  6.11789915 onepctCO2MEDIAN
93  1.778022110        y -0.15676262 onepctCO2MEDIAN
94  1.803022087        y  3.82374792 onepctCO2MEDIAN
95  1.830668867        y  4.43314679 onepctCO2MEDIAN
96  1.855736911        y  5.97907067 onepctCO2MEDIAN
97  1.882615030        y 11.31043325 onepctCO2MEDIAN
98  1.909218490        y  8.21426074 onepctCO2MEDIAN
99  1.938130021        y 15.32096736 onepctCO2MEDIAN
100 1.963727593        y  5.81782169 onepctCO2MEDIAN
101 1.993271947        y  9.60049074 onepctCO2MEDIAN
102 2.022548139        y  3.40636456 onepctCO2MEDIAN
103 2.050679922        y  4.73750104 onepctCO2MEDIAN
104 2.078064442        y  3.01330195 onepctCO2MEDIAN
105 2.104113460        y  5.56595225 onepctCO2MEDIAN
106 2.133597612        y 12.03463325 onepctCO2MEDIAN
107 2.164026260        y -0.40283200 onepctCO2MEDIAN
108 2.194852829        y 10.59967795 onepctCO2MEDIAN
109 2.224257946        y  5.44795837 onepctCO2MEDIAN
110 2.252194643        y  4.70523736 onepctCO2MEDIAN
111 2.277335048        y 14.09620189 onepctCO2MEDIAN
112 2.304058313        y  5.71490162 onepctCO2MEDIAN
113 2.330930233        y  3.77800721 onepctCO2MEDIAN
114 2.357022762        y  4.41206201 onepctCO2MEDIAN
115 2.386489272        y  4.18660848 onepctCO2MEDIAN
116 2.417503953        y  6.90788020 onepctCO2MEDIAN
117 2.448524356        y  2.78257393 onepctCO2MEDIAN
118 2.478698969        y  7.61717857 onepctCO2MEDIAN
119 2.510175705        y 10.24106026 onepctCO2MEDIAN
120 2.539697886        y  8.18207107 onepctCO2MEDIAN
121 2.567915559        y  4.82754944 onepctCO2MEDIAN
122 2.597463250        y 19.16248829 onepctCO2MEDIAN
123 2.627518773        y 16.06771094 onepctCO2MEDIAN
124 2.658759236        y 12.58970807 onepctCO2MEDIAN
125 2.692401528        y  9.29079880 onepctCO2MEDIAN
126 2.721903205        y  7.42625020 onepctCO2MEDIAN
127 2.753021359        y  9.39025180 onepctCO2MEDIAN
128 2.786313415        y 12.61935503 onepctCO2MEDIAN
129 2.819564104        y 11.11210397 onepctCO2MEDIAN
130 2.850823164        y 15.79070997 onepctCO2MEDIAN
131 2.880394101        y 10.74252868 onepctCO2MEDIAN
132 2.911391258        y  7.79714300 onepctCO2MEDIAN
133 2.942965150        y  8.80608578 onepctCO2MEDIAN
134 2.974468350        y 17.56062663 onepctCO2MEDIAN
135 3.008983612        y 17.30886049 onepctCO2MEDIAN
136 3.040015221        y 13.45005435 onepctCO2MEDIAN
137 3.072668672        y 14.63778842 onepctCO2MEDIAN
138 3.105982423        y  8.07985518 onepctCO2MEDIAN
139 0.467429527        y -1.55704023    RCP4.5MEDIAN
140 0.478266196        y -3.19367515    RCP4.5MEDIAN
141 0.489205229        y -2.44452679    RCP4.5MEDIAN
142 0.500039143        y  0.87504367    RCP4.5MEDIAN
143 0.511021115        y -0.39185002    RCP4.5MEDIAN
144 0.519874968        y -4.18935168    RCP4.5MEDIAN
145 0.528508358        y -3.64179524    RCP4.5MEDIAN
146 0.537377594        y -2.58167128    RCP4.5MEDIAN
147 0.546194211        y  2.20583694    RCP4.5MEDIAN
148 0.554720591        y -8.57764597    RCP4.5MEDIAN
149 0.563289814        y  2.88442536    RCP4.5MEDIAN
150 0.572032790        y -3.90829882    RCP4.5MEDIAN
151 0.580939066        y -3.39269048    RCP4.5MEDIAN
152 0.590921065        y -4.60849867    RCP4.5MEDIAN
153 0.601575326        y -1.62572657    RCP4.5MEDIAN
154 0.612425555        y  1.14198465    RCP4.5MEDIAN
155 0.623773319        y -3.38454122    RCP4.5MEDIAN
156 0.635363359        y  2.43414265    RCP4.5MEDIAN
157 0.646722666        y  3.30007615    RCP4.5MEDIAN
158 0.658285673        y -0.79555442    RCP4.5MEDIAN
159 0.670250852        y -2.05220500    RCP4.5MEDIAN
160 0.681702690        y -5.56808946    RCP4.5MEDIAN
161 0.693531145        y  2.24168605    RCP4.5MEDIAN
162 0.706016061        y -4.83673351    RCP4.5MEDIAN
163 0.718231249        y  0.40086819    RCP4.5MEDIAN
164 0.730190911        y -1.98026992    RCP4.5MEDIAN
165 0.741269845        y  0.39963115    RCP4.5MEDIAN
166 0.751000321        y -0.83241777    RCP4.5MEDIAN
167 0.760886972        y -1.66101404    RCP4.5MEDIAN
168 0.771137164        y -1.05452982    RCP4.5MEDIAN
169 0.781856383        y -1.18338156    RCP4.5MEDIAN
170 0.792607542        y  0.22722653    RCP4.5MEDIAN
171 0.803724128        y -1.90642564    RCP4.5MEDIAN
172 0.815066246        y  0.75010550    RCP4.5MEDIAN
173 0.826027437        y -1.31108646    RCP4.5MEDIAN
174 0.836766732        y  1.05961515    RCP4.5MEDIAN
175 0.847553312        y -2.06588010    RCP4.5MEDIAN
176 0.858331452        y  8.53403315    RCP4.5MEDIAN
177 0.869154422        y  0.09979751    RCP4.5MEDIAN
178 0.879572539        y -2.50854353    RCP4.5MEDIAN
179 0.889426601        y  5.29550783    RCP4.5MEDIAN
180 0.899009805        y  2.02909481    RCP4.5MEDIAN
181 0.908289566        y  2.66922982    RCP4.5MEDIAN
182 0.917284978        y -4.17757196    RCP4.5MEDIAN
183 0.926128960        y  3.40202916    RCP4.5MEDIAN
184 0.934752874        y -1.92292218    RCP4.5MEDIAN
185 0.943010943        y  6.36969150    RCP4.5MEDIAN
186 0.950999217        y  1.86490308    RCP4.5MEDIAN
187 0.958795701        y  8.32126161    RCP4.5MEDIAN
188 0.966310396        y 10.15048356    RCP4.5MEDIAN
189 0.973635493        y  6.68925964    RCP4.5MEDIAN
190 0.980834088        y -1.01615369    RCP4.5MEDIAN
191 0.987694790        y  0.20892853    RCP4.5MEDIAN
192 0.994548581        y -1.52787222    RCP4.5MEDIAN
193 1.001274595        y -0.72374597    RCP4.5MEDIAN
194 1.007810612        y  2.26062309    RCP4.5MEDIAN
195 1.014270389        y -2.40270340    RCP4.5MEDIAN
196 1.022719711        y -1.94548262    RCP4.5MEDIAN
197 1.032070810        y -1.13053235    RCP4.5MEDIAN
198 1.041118812        y  0.56107969    RCP4.5MEDIAN
199 1.050189571        y  3.27941835    RCP4.5MEDIAN
200 1.059380475        y  3.01333588    RCP4.5MEDIAN
201 1.067877585        y  4.87457336    RCP4.5MEDIAN
202 1.076078766        y  1.02457895    RCP4.5MEDIAN
203 1.084707357        y  4.49174869    RCP4.5MEDIAN
204 1.093223180        y  8.24629303    RCP4.5MEDIAN
205 1.101414382        y -0.03364132    RCP4.5MEDIAN
206 1.108886304        y  9.12509848    RCP4.5MEDIAN
207 1.115482896        y  1.74254621    RCP4.5MEDIAN
208 1.121856558        y  2.27004536    RCP4.5MEDIAN
209 1.127809421        y -0.65627179    RCP4.5MEDIAN
210 1.133265961        y 12.02566969    RCP4.5MEDIAN
211 1.138549712        y -1.04260843    RCP4.5MEDIAN
212 1.143910237        y -6.47611327    RCP4.5MEDIAN
213 1.149437787        y  8.88410567    RCP4.5MEDIAN
214 1.154488347        y -4.24916247    RCP4.5MEDIAN
215 1.159872903        y  7.90741918    RCP4.5MEDIAN
216 1.165477487        y -3.91386711    RCP4.5MEDIAN
217 1.171103424        y  1.02370701    RCP4.5MEDIAN
218 1.177498256        y -3.71206616    RCP4.5MEDIAN
219 1.184003888        y -1.05694182    RCP4.5MEDIAN
220 1.190395856        y  1.10501459    RCP4.5MEDIAN
221 1.197284280        y  2.67668639    RCP4.5MEDIAN
222 1.204590551        y  2.21693031    RCP4.5MEDIAN
223 1.210807614        y  2.90252830    RCP4.5MEDIAN
224 1.216470664        y  2.75093766    RCP4.5MEDIAN
225 1.221914148        y -0.73815245    RCP4.5MEDIAN
226 1.227580480        y  3.58554626    RCP4.5MEDIAN
227 1.233317788        y 10.89961658    RCP4.5MEDIAN
228 1.238093406        y  3.23374387    RCP4.5MEDIAN
229 0.466622908        y -1.92366466    RCP8.5MEDIAN
230 0.474211509        y  4.09292949    RCP8.5MEDIAN
231 0.480383051        y -0.84736312    RCP8.5MEDIAN
232 0.486304903        y -0.80597889    RCP8.5MEDIAN
233 0.492151615        y -0.50244413    RCP8.5MEDIAN
234 0.499312643        y  3.07785701    RCP8.5MEDIAN
235 0.508859905        y -6.15175322    RCP8.5MEDIAN
236 0.518758845        y -0.51590144    RCP8.5MEDIAN
237 0.528675758        y  3.33135956    RCP8.5MEDIAN
238 0.538928423        y  2.62280891    RCP8.5MEDIAN
239 0.549621221        y -6.90096009    RCP8.5MEDIAN
240 0.560062840        y -3.45706029    RCP8.5MEDIAN
241 0.570860791        y  1.36192518    RCP8.5MEDIAN
242 0.581923368        y  0.34822359    RCP8.5MEDIAN
243 0.592628298        y  3.06882935    RCP8.5MEDIAN
244 0.604230648        y -3.56142825    RCP8.5MEDIAN
245 0.615975167        y 10.35932554    RCP8.5MEDIAN
246 0.627448279        y 10.21751629    RCP8.5MEDIAN
247 0.639401050        y  3.31040335    RCP8.5MEDIAN
248 0.651949591        y -0.53558775    RCP8.5MEDIAN
249 0.664634427        y  2.66081860    RCP8.5MEDIAN
250 0.677343552        y  3.21379656    RCP8.5MEDIAN
 [ reached 'max' / getOption("max.print") -- omitted 212 rows ]
If I wanted scatter plots and regression lines of onepctCO2MEDIAN, RCP4.5MEDIAN and RCP8.5MEDIAN, would I do something like this? :ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() + scale_color_manual(values =c("green", "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
Thanks,
-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt>
To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
Sent: Thu, Jun 6, 2019 11:53 am
Subject: Re: [R] Plotting more than one regression line in ggplot

Hello,

It's impossible to say without seeing the data.

What is the return value of

df_tmp <- subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN')
unique(df_tmp$L1)

The number of colors must be the same as

length(unique(df_tmp$L1))


Hope this helps,

Rui Barradas

?s 16:49 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui,
> 
> Yes, you are right. It should be this, but I tried with only 3 colors, 
> as you suggested:
> 
> ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red")) + geom_smooth(method = lm, se=FALSE)
> 
> **//___^
> **//___^I still end up with the same error, however, when I specify only 
> 3 colors. Why could this be?
> 
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 11:18 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> 1) In the text you say your dataset is named NewestdataUltra but in the
> ggplot instruction it's Newestdata. One of these is wrong.
> 
> 2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?
> 
> 3) You are filtering out the value in point ) above. So you only plot 3
> regression lines, you don't need 4 colors.
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:35 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>? > Hi Rui (and everyone),
>? >
>? >
>? > Thank you for this! Yes, this did work fine, as I can see my scatter
>? > plots and regression lines on the same plot, along with the appropriate
>? > coloring scheme! :)
>? >
>? > Just one last question concerning this - I melted other dataframes into
>? > my new "NewestdataUltra". I now have 4 objects listed in there in this
>? > order (starting from the top of the list): "onepctCO2MEDIAN",
>? > "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried plotting
>? > colored scattered plots and regression lines for these in this manner:
>? >
>? > ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value,
>? > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>? > "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
>? >
>? > However, I received this error:
>? >
>? > Error: unexpected string constant in "ggplot(subset(NewestdataUltra, L1
>? > != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() +
>? > scale_color_manual(values =c("green", "blue" "red""
>? >
>? > **//___^
>? >
>? > Why would this error appear?? I think that I assigned the colors
>? > correctly to each of the four objects in question, so why would this 
> occur?
>? >
>? > Thank you, once again!
>? >
>? > -----Original Message-----
>? > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>
>? > Sent: Thu, Jun 6, 2019 6:52 am
>? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >
>? > Hello,
>? >
>? > You are confusing some of the values of L1 with L1 itself.
>? > If you just want two of those values in your plot, "onepctCO2MEDIAN" and
>? > "RCP8.5MEDIAN", you need to subset the data filtering out the rows with
>? > L1 == "RCP4.5MEDIAN".
>? >
>? > And please forget geom_jitter, it is completely inappropriate for the
>? > type of scatter plot you are trying to graph. You jitter when there is
>? > overplotting, not as a general purpose technique.
>? >
>? > Here is one way to do it.
>? >
>? >
>? > ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>? >? ? ? ? ? aes(x, value, colour = L1)) +
>? >? ? geom_point() +
>? >? ? scale_color_manual(values = c("green", "red")) +
>? >? ? geom_smooth(method = lm)
>? >
>? >
>? > Hope this helps,
>? >
>? > Rui Barradas
>? >
>? > ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>> escreveu:
>? >? > Hi Rui (and everyone),
>? >? >
>? >? > Thank you so much for your response! Much appreciated!
>? >? >
>? >? > What if I wanted I create several regression lines and scatter 
> plots in
>? >? > the same ggplot using a "melted" dataset? I would like to create a
>? >? > scatter plot and regression line for both the objects of
>? >? > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like 
> this:
>? >? >
>? >? >
>? >? >? >NewestdataUltra
>? >? >
>? >? > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>? >? > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>? >? > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 
> 0.030797357
>? >? > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744 
> onepctCO2MEDIAN
>? >? > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446
>? >? > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>? >? > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 0.40999399
>? >? > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>? >? > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 7.08902570
>? >? > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>? >? > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y -1.53496826
>? >? > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>? >? > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y -2.50991826
>? >? > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>? >? > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y -0.87129883
>? >? > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>? >? > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 3.48806374
>? >? > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>? >? > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y -1.41715777
>? >? > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>? >? > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 3.14038657
>? >? > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>? >? > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y -3.42358584
>? >? > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>? >? > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 8.53596838
>? >? > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>? >? > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 3.91689160
>? >? > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>? >? > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 4.80686500
>? >? > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>? >? > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y -0.18075007
>? >? > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>? >? > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y -1.64760409
>? >? > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>? >? > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 9.37565122
>? >? > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>? >? > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 6.46795471
>? >? > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>? >? > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 7.20436888
>? >? > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>? >? > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 1.78612989
>? >? > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>? >? > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 7.68714831
>? >? > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>? >? > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y -0.71562844
>? >? > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>? >? > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 4.29747688
>? >? > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>? >? > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 4.51794725
>? >? > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>? >? > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 3.54229702
>? >? > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>? >? > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 7.96616301
>? >? > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>? >? > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 2.57358469
>? >? > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>? >? > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 0.93357712
>? >? > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>? >? > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 13.49709060
>? >? > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>? >? > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 6.11789915
>? >? > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>? >? > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 4.43314679
>? >? > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>? >? > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 8.21426074
>? >? > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>? >? > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 9.60049074
>? >? > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>? >? > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 3.01330195
>? >? > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>? >? > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y 
> -0.40283200
>? >? > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>? >? > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 4.70523736
>? >? > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>? >? > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 3.77800721
>? >? > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>? >? > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 6.90788020
>? >? > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>? >? > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 10.24106026
>? >? > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>? >? > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 19.16248829
>? >? > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>? >? > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 9.29079880
>? >? > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>? >? > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 12.61935503
>? >? > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>? >? > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y 
> 10.74252868
>? >? > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>? >? > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 17.56062663
>? >? > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>? >? > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y 
> 14.63778842
>? >? > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>? >? > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y -3.19367515
>? >? > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142 
> 0.500039143
>? >? > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002 
> RCP4.5MEDIAN 144
>? >? > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y -3.64179524
>? >? > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147 
> 0.546194211
>? >? > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597 
> RCP4.5MEDIAN 149
>? >? > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>? >? > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152 
> 0.590921065
>? >? > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 RCP4.5MEDIAN
>? >? > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y 
> -3.38454122
>? >? > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157 
> 0.646722666 y
>? >? > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 RCP4.5MEDIAN 159
>? >? > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y -5.56808946
>? >? > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162 
> 0.706016061 y
>? >? > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 RCP4.5MEDIAN 164
>? >? > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>? >? > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167 
> 0.760886972
>? >? > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 RCP4.5MEDIAN
>? >? > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y 
> 0.22722653
>? >? > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172 
> 0.815066246
>? >? > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646 
> RCP4.5MEDIAN 174
>? >? > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>? >? > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177 
> 0.869154422 y
>? >? > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 RCP4.5MEDIAN 179
>? >? > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>? >? > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182 
> 0.917284978 y
>? >? > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 RCP4.5MEDIAN 184
>? >? > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>? >? > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187 
> 0.958795701 y
>? >? > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 RCP4.5MEDIAN 189
>? >? > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>? >? > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192 
> 0.994548581 y
>? >? > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597 
> RCP4.5MEDIAN 194
>? >? > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>? >? > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197 
> 1.032070810
>? >? > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969 
> RCP4.5MEDIAN 199
>? >? > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>? >? > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202 
> 1.076078766 y
>? >? > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 RCP4.5MEDIAN 204
>? >? > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>? >? > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207 
> 1.115482896 y
>? >? > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 RCP4.5MEDIAN 209
>? >? > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 12.02566969
>? >? > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212 
> 1.143910237
>? >? > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567 
> RCP4.5MEDIAN 214
>? >? > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>? >? > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217 
> 1.171103424
>? >? > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616 
> RCP4.5MEDIAN 219
>? >? > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>? >? > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222 
> 1.204590551 y
>? >? > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 RCP4.5MEDIAN 224
>? >? > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>? >? > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227 
> 1.233317788 y
>? >? > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 RCP4.5MEDIAN 229
>? >? > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>? >? > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232 
> 0.486304903
>? >? > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 RCP8.5MEDIAN
>? >? > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y 
> -6.15175322
>? >? > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237 
> 0.528675758
>? >? > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891 
> RCP8.5MEDIAN 239
>? >? > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y -3.45706029
>? >? > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242 
> 0.581923368 y
>? >? > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 RCP8.5MEDIAN 244
>? >? > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 10.35932554
>? >? > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247 
> 0.639401050
>? >? > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775 
> RCP8.5MEDIAN 249
>? >? > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>? >? > RCP8.5MEDIAN Maybe something like this?
>? >? >
>? >? > lusher<-ggplot(NewestdataULTRA) +
>? >? > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>? >? > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>? >? > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>? >? > **//___^
>? >? > I receive this warning, however:
>? >? >
>? >? > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN Warning:Ignoring
>? >? > unknown aesthetics: onepctCO2MEDIAN
>? >? >
>? >? > **//___^
>? >? > Perhaps I am not assigning the columns properly? Essentially, I just
>? >? > want create two scatter plots and two regression lines for these two
>? >? > objects.
>? >? >
>? >? > Once again, any assistance would be greatly appreciated!
>? >? >
>? >? > -----Original Message-----
>? >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>>
>? >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>; r-help
>? > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>;
>? >? > r-sig-geo <r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org> <mailto:r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org>>>
>? >? > Sent: Wed, Jun 5, 2019 10:52 am
>? >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >? >
>? >? > Hello,
>? >? >
>? >? > This is pretty basic ggplot.
>? >? >
>? >? >
>? >? > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>? >? >? ? geom_point(colour = 'blue') +
>? >? >? ? geom_smooth(method = 'lm')
>? >? >
>? >? > lm1
>? >? >
>? >? >
>? >? > If you want to combine several datasets, you will have to have a
>? >? > variable telling which dataset is which. In the example below, this is
>? >? > column 'id'.
>? >? >
>? >? >
>? >? > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>? >? > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>? >? > onepctCO2MEDIAN$id <- 1
>? >? > onepctCO2MEDIAN2$id <- 2
>? >? > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>? >? >
>? >? > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>? >? >? ? geom_point() +
>? >? >? ? geom_smooth(method = 'lm')
>? >? >
>? >? >
>? >? > Hope this helps,
>? >? >
>? >? > Rui Barradas
>? >? >
>? >? > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>? >? >? > I am trying to plot, using ggplot, a series of scatter plots with
>? >? > regression lines for several datasets. I started with the following
>? >? > dataset, "onepectCO2MEDIAN". The data for this dataset is as follows:
>? >? >? >? ??? onepctCO2MEDIAN
>? >? >? >? ??????????????????? x????????? y
>? >? >? >? ??? layer.1?? 0.000000000? 0.0000000
>? >? >? >? ??? layer.2?? 0.006794447? 4.9002490
>? >? >? >? ??? layer.3?? 0.014288058? 0.1608000
>? >? >? >? ??? layer.4?? 0.022087920? 6.6349133
>? >? >? >? ??? layer.5?? 0.030797357 -1.2429506
>? >? >? >? ??? layer.6?? 0.038451072? 1.5643374
>? >? >? >? ??? layer.7?? 0.048087904 -2.2659035
>? >? >? >? ??? layer.8?? 0.058677729? 2.2070045
>? >? >? >? ??? layer.9?? 0.069261406 -2.3677001
>? >? >? >? ??? layer.10? 0.080524530 -1.0913506
>? >? >? >? ??? layer.11? 0.092760246? 0.4099940
>? >? >? >? ??? layer.12? 0.103789609 -0.1259727
>? >? >? >? ??? layer.13? 0.116953168 -2.4138253
>? >? >? >? ??? layer.14? 0.129253298? 7.0890257
>? >? >? >? ??? layer.15? 0.141710050 -0.7593539
>? >? >? >? ??? layer.16? 0.156002052? 0.0454416
>? >? >? >? ??? layer.17? 0.170648172 -1.5349683
>? >? >? >? ??? layer.18? 0.185318425? 6.5524201
>? >? >? >? ??? layer.19? 0.199463055 -0.8312563
>? >? >? >? ??? layer.20? 0.213513337 -2.5099183
>? >? >? >? ??? layer.21? 0.228839271? 0.1365968
>? >? >? >? ??? layer.22? 0.246981293 -1.3719845
>? >? >? >? ??? layer.23? 0.263012767 -0.8712988
>? >? >? >? ??? layer.24? 0.278505564? 0.6632584
>? >? >? >? ??? layer.25? 0.293658361? 0.7938036
>? >? >? >? ??? layer.26? 0.310747266? 3.4880637
>? >? >? >? ??? layer.27? 0.325990349 -4.4612208
>? >? >? >? ??? layer.28? 0.342517540? 0.0871734
>? >? >? >? ??? layer.29? 0.362751633 -1.4171578
>? >? >? >? ??? layer.30? 0.380199537 -0.9956508
>? >? >? >? ??? layer.31? 0.394992948? 0.3215526
>? >? >? >? ??? layer.32? 0.414373398? 3.1403866
>? >? >? >? ??? layer.33? 0.430690214 -0.7376099
>? >? >? >? ??? layer.34? 0.449738145 -2.4860541
>? >? >? >? ??? layer.35? 0.470167458 -3.4235858
>? >? >? >? ??? layer.36? 0.489019871? 0.4824748
>? >? >? >? ??? layer.37? 0.507242471 -0.9785386
>? >? >? >? ??? layer.38? 0.524314284? 8.5359684
>? >? >? >? ??? layer.39? 0.543750525? 5.4844742
>? >? >? >? ??? layer.40? 0.564234197? 3.2149367
>? >? >? >? ??? layer.41? 0.583679616? 3.9168916
>? >? >? >? ??? layer.42? 0.601459444? 4.4907020
>? >? >? >? ??? layer.43? 0.619924664? 6.5410410
>? >? >? >? ??? layer.44? 0.639932007? 4.8068650
>? >? >? >? ??? layer.45? 0.661347181? 8.1510170
>? >? >? >? ??? layer.46? 0.684117317? 0.2697413
>? >? >? >? ??? layer.47? 0.704829752 -0.1807501
>? >? >? >? ??? layer.48? 0.725045770? 9.7181249
>? >? >? >? ??? layer.49? 0.745165825? 1.5406466
>? >? >? >? ??? layer.50? 0.765016139 -1.6476041
>? >? >? >? ??? layer.51? 0.783461511? 4.8024603
>? >? >? >? ??? layer.52? 0.806382924? 4.0421516
>? >? >? >? ??? layer.53? 0.829241335? 9.3756512
>? >? >? >? ??? layer.54? 0.849924415? 5.3305050
>? >? >? >? ??? layer.55? 0.871352434? 7.5445803
>? >? >? >? ??? layer.56? 0.893632233? 6.4679547
>? >? >? >? ??? layer.57? 0.916052133? 2.8096065
>? >? >? >? ??? layer.58? 0.938579470? 5.3921661
>? >? >? >? ??? layer.59? 0.959907651? 7.2043689
>? >? >? >? ??? layer.60? 0.981643587? 3.3350806
>? >? >? >? ??? layer.61? 1.004116774? 8.8690707
>? >? >? >? ??? layer.62? 1.028363466? 1.7861299
>? >? >? >? ??? layer.63? 1.054009140? 6.2555038
>? >? >? >? ??? layer.64? 1.072440803? 7.6079236
>? >? >? >? ??? layer.65? 1.094457805? 7.6871483
>? >? >? >? ??? layer.66? 1.123176277? 4.7787764
>? >? >? >? ??? layer.67? 1.149430871 12.7110502
>? >? >? >? ??? layer.68? 1.170912921 -0.7156284
>? >? >? >? ??? layer.69? 1.196743071? 1.6490899
>? >? >? >? ??? layer.70? 1.218625903? 3.0363024
>? >? >? >? ??? layer.71? 1.241868377? 4.2974769
>? >? >? >? ??? layer.72? 1.267941594? 1.9543778
>? >? >? >? ??? layer.73? 1.290708780? 3.9986964
>? >? >? >? ??? layer.74? 1.313222289? 4.5179472
>? >? >? >? ??? layer.75? 1.339045882? 0.9337905
>? >? >? >? ??? layer.76? 1.362803459? 3.3050770
>? >? >? >? ??? layer.77? 1.384450197? 3.5422970
>? >? >? >? ??? layer.78? 1.409720302? 5.9973660
>? >? >? >? ??? layer.79? 1.435851157? 0.5081869
>? >? >? >? ??? layer.80? 1.455592215? 7.9661630
>? >? >? >? ??? layer.81? 1.479495347? 9.9460496
>? >? >? >? ??? layer.82? 1.506051958? 3.7908372
>? >? >? >? ??? layer.83? 1.525728464? 2.5735847
>? >? >? >? ??? layer.84? 1.549362063 10.1404974
>? >? >? >? ??? layer.85? 1.573440671 13.7408304
>? >? >? >? ??? layer.86? 1.600278735? 0.9335771
>? >? >? >? ??? layer.87? 1.623879492? 9.7588742
>? >? >? >? ??? layer.88? 1.650029302? 1.2769395
>? >? >? >? ??? layer.89? 1.672362328 13.4970906
>? >? >? >? ??? layer.90? 1.700221121 10.2087502
>? >? >? >? ??? layer.91? 1.724793375? 1.6811275
>? >? >? >? ??? layer.92? 1.751070559? 6.1178992
>? >? >? >? ??? layer.93? 1.778022110 -0.1567626
>? >? >? >? ??? layer.94? 1.803022087? 3.8237479
>? >? >? >? ??? layer.95? 1.830668867? 4.4331468
>? >? >? >? ??? layer.96? 1.855736911? 5.9790707
>? >? >? >? ??? layer.97? 1.882615030 11.3104333
>? >? >? >? ??? layer.98? 1.909218490? 8.2142607
>? >? >? >? ??? layer.99? 1.938130021 15.3209674
>? >? >? >? ??? layer.100 1.963727593? 5.8178217
>? >? >? >? ??? layer.101 1.993271947? 9.6004907
>? >? >? >? ??? layer.102 2.022548139? 3.4063646
>? >? >? >? ??? layer.103 2.050679922? 4.7375010
>? >? >? >? ??? layer.104 2.078064442? 3.0133019
>? >? >? >? ??? layer.105 2.104113460? 5.5659522
>? >? >? >? ??? layer.106 2.133597612 12.0346333
>? >? >? >? ??? layer.107 2.164026260 -0.4028320
>? >? >? >? ??? layer.108 2.194852829 10.5996780
>? >? >? >? ??? layer.109 2.224257946? 5.4479584
>? >? >? >? ??? layer.110 2.252194643? 4.7052374
>? >? >? >? ??? layer.111 2.277335048 14.0962019
>? >? >? >? ??? layer.112 2.304058313? 5.7149016
>? >? >? >? ??? layer.113 2.330930233? 3.7780072
>? >? >? >? ??? layer.114 2.357022762? 4.4120620
>? >? >? >? ??? layer.115 2.386489272? 4.1866085
>? >? >? >? ??? layer.116 2.417503953? 6.9078802
>? >? >? >? ??? layer.117 2.448524356? 2.7825739
>? >? >? >? ??? layer.118 2.478698969? 7.6171786
>? >? >? >? ??? layer.119 2.510175705 10.2410603
>? >? >? >? ??? layer.120 2.539697886? 8.1820711
>? >? >? >? ??? layer.121 2.567915559? 4.8275494
>? >? >? >? ??? layer.122 2.597463250 19.1624883
>? >? >? >? ??? layer.123 2.627518773 16.0677109
>? >? >? >? ??? layer.124 2.658759236 12.5897081
>? >? >? >? ??? layer.125 2.692401528? 9.2907988
>? >? >? >? ??? layer.126 2.721903205? 7.4262502
>? >? >? >? ??? layer.127 2.753021359? 9.3902518
>? >? >? >? ??? layer.128 2.786313415 12.6193550
>? >? >? >? ??? layer.129 2.819564104 11.1121040
>? >? >? >? ??? layer.130 2.850823164 15.7907100
>? >? >? >? ??? layer.131 2.880394101 10.7425287
>? >? >? >? ??? layer.132 2.911391258? 7.7971430
>? >? >? >? ??? layer.133 2.942965150? 8.8060858
>? >? >? >? ??? layer.134 2.974468350 17.5606266
>? >? >? >? ??? layer.135 3.008983612 17.3088605
>? >? >? >? ??? layer.136 3.040015221 13.4500543
>? >? >? >? ??? layer.137 3.072668672 14.6377884
>? >? >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>? >? > dput(onepctCO2MEDIAN)
>? >? >? >? ??? structure(list(x = c(0, 0.00679444684647024, 
> 0.014288058038801,
>? >? >? >? ??? 0.0220879195258021,
>? >? > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>? >? >? >? ??? 0.0586777292191982, 0.0692614056169987,
>? >? > 0.080524530261755,0.0927602462470531,
>? >? >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>? >? > 0.141710050404072,
>? >? >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>? >? > 0.199463054537773,
>? >? >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>? >? > 0.263012766838074,
>? >? >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>? >? > 0.325990349054337,
>? >? >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>? >? > 0.39499294757843,
>? >? >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>? >? > 0.470167458057404,
>? >? >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>? >? > 0.543750524520874,
>? >? >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>? >? > 0.619924664497375,
>? >? >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>? >? > 0.704829752445221,
>? >? >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>? >? > 0.783461511135101,
>? >? >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>? >? > 0.871352434158325,
>? >? >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>? >? > 0.959907650947571,
>? >? >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>? >? > 1.05400913953781,
>? >? >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>? >? > 1.14943087100983,
>? >? >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>? >? > 1.24186837673187,
>? >? >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>? >? > 1.33904588222504,
>? >? >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>? >? > 1.43585115671158,
>? >? >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>? >? > 1.52572846412659,
>? >? >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>? >? > 1.62387949228287,
>? >? >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>? >? > 1.72479337453842,
>? >? >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>? >? > 1.83066886663437,
>? >? >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>? >? > 1.93813002109528,
>? >? >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>? >? > 2.05067992210388,
>? >? >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>? >? > 2.16402626037598,
>? >? >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>? >? > 2.27733504772186,
>? >? >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>? >? > 2.38648927211761,
>? >? >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>? >? > 2.51017570495605,
>? >? >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>? >? > 2.62751877307892,
>? >? >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>? >? > 2.75302135944366,
>? >? >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>? >? > 2.88039410114288,
>? >? >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>? >? > 3.00898361206055,
>? >? >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y = 
> c(0,
>? >? >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>? >? > -1.24295055804536,
>? >? >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>? >? > -2.36770012911069,
>? >? >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>? >? > -2.41382533818026,
>? >? >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>? >? > -1.53496826259972,
>? >? >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>? >? > 0.136596820654013,
>? >? >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>? >? > 0.793803634291308,
>? >? >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>? >? > -1.41715777257774,
>? >? >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>? >? > -0.737609879885404,
>? >? >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>? >? > -0.978538630093809,
>? >? >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>? >? > 3.91689160157513,
>? >? >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>? >? > 8.15101701282067,
>? >? >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>? >? > 1.54064657400204,
>? >? >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>? >? > 9.37565121768513,
>? >? >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>? >? > 2.80960651433971,
>? >? >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>? >? > 8.86907069895943,
>? >? >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>? >? > 7.68714830528144,
>? >? >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>? >? > 1.64908991824022,
>? >? >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>? >? > 3.99869636910933,
>? >? >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>? >? > 3.5422970157433,
>? >? >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>? >? > 9.94604963036295,
>? >? >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>? >? > 13.7408303595752,
>? >? >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>? >? > 13.4970905965787,
>? >? >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>? >? > -0.156762622680077,
>? >? >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>? >? > 11.3104332518482,
>? >? >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>? >? > 9.6004907412354,
>? >? >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>? >? > 5.56595224859066,
>? >? >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>? >? > 5.44795836991128,
>? >? >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>? >? > 3.77800720810782,
>? >? >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>? >? > 2.78257393345915,
>? >? >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>? >? > 4.82754943871433,
>? >? >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>? >? > 9.29079879799404,
>? >? >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>? >? > 11.1121039747257,
>? >? >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>? >? > 8.80608578166101,
>? >? >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>? >? > 14.6377884248645,
>? >? >? >? ??? 8.07985518296064)), class = "data.frame", row.names =
>? > c("layer.1",
>? >? >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6", 
> "layer.7",
>? >? >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>? >? > "layer.13",
>? >? >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>? >? > "layer.19",
>? >? >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>? >? > "layer.25",
>? >? >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>? >? > "layer.31",
>? >? >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>? >? > "layer.37",
>? >? >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>? >? > "layer.43",
>? >? >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>? >? > "layer.49",
>? >? >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>? >? > "layer.55",
>? >? >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>? >? > "layer.61",
>? >? >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>? >? > "layer.67",
>? >? >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>? >? > "layer.73",
>? >? >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>? >? > "layer.79",
>? >? >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>? >? > "layer.85",
>? >? >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>? >? > "layer.91",
>? >? >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>? >? > "layer.97",
>? >? >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", "layer.102",
>? >? >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106", 
> "layer.107",
>? >? >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111", 
> "layer.112",
>? >? >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116", 
> "layer.117",
>? >? >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121", 
> "layer.122",
>? >? >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126", 
> "layer.127",
>? >? >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131", 
> "layer.132",
>? >? >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136", 
> "layer.137",
>? >? >? >? ??? "layer.138"))
>? >? >? > I started with the following to generate the first regression line
>? >? > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>? >? >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138], 
> departurea),
>? >? >? >? ??? colour="blue") +
>? > geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>? >? >? >? ??? departurea), method=lm)
>? >? >? > But I receive this error:? ??Warning message:
>? >? >? >? ??? Computation failed in `stat_smooth()`:
>? >? >? >? ??? 'what' must be a function or character string
>? >? >? > A blue scatter plot is successfully generated, but the problem is
>? >? > that the regression line does not appear, presumably related to the
>? >? > above warning.
>? >? >? > Is there a reason for this? I would appreciate any assistance!
>? >? >? > ??? [[alternative HTML version deleted]]
>? >? >
>? >? >? >
>? >? >? > ______________________________________________
>? >? >? > R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>> mailing list --
>? > To UNSUBSCRIBE and more, see
>? >? >? > https://stat.ethz.ch/mailman/listinfo/r-help
>? >? >? > PLEASE do read the posting guide
>? >? > http://www.R-project.org/posting-guide.html
>? >? >? > and provide commented, minimal, self-contained, reproducible code.
>? >? >
>? >? >? >

	[[alternative HTML version deleted]]


From |_j_rod @end|ng |rom hotm@||@com  Thu Jun  6 19:41:39 2019
From: |_j_rod @end|ng |rom hotm@||@com (Frank S.)
Date: Thu, 6 Jun 2019 17:41:39 +0000
Subject: [R] Pass an equation as an argument of a sub-function
Message-ID: <VI1PR04MB572644792C0A6ACDE65337C2BA170@VI1PR04MB5726.eurprd04.prod.outlook.com>

Dear all,

I have defined an R function g(y) wich in turn is inside other R function f(x). The function g(y) depends on an
equation, and I would like to know if such an equation could be passed as an argument of the main function
(taking into account that we should change the variable "x" to "y").
As an example, I have:

function(x) {         # Main function, called f(x)

  -----  (code)

  function(y) {        # Sub-function, called g(y)
    -----  (code)
    eq <- y^2 -3*y
    ----- (code)
  }

  ----- (code)

}

In summary, I would like to know is there is any way to:
Put the equation "eq" as an argument of the main function f(x).


Thank you very much!

Frank

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 20:11:08 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 11:11:08 -0700
Subject: [R] Pasting R code lines into labels
In-Reply-To: <2028528730.1239575.1559838075108@mail2.virginmedia.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
Message-ID: <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>

Yes, plot(z,y,..)

Bert

On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com> wrote:

> Thanks Bert, that is exactly what I wanted.  I think that you meant
> plot(z,y... in the last line?
>
> Nick
>
> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> ... and if you wanted too streamline the process, something like the
> following could be encapsulated in a function:
>
> fun <- quote(exp(x))
> z <- 1:9
> y <- eval(fun,list(x = z) )
> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>
> Further details can be found in the "Computing on the Language" section of
> the "R Language Reference" manual or from suitable tutorials on the web.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help < r-help at r-project.org>
> wrote:
>
> Thanks but that's not quite what I meant
> I am trying out different functions and they don't necessarily vary in a
> regular way (like say all being powers of x where it'd be simple to just
> have a vector for the powers you want)
> So I might have
> y<-x^2
> y<-cos(x)
> y<-exp(x+1)
> What I am after is a way of running these functions and then calling each
> one into the labelling for the appropriate graph as I plot it.  So then I
> would have something like
> mainlab<-paste("Plot of ",function in question)
> ...? Thanks Nick
>
> > On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
> >
> >
> >
> > > On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
> r-help at r-project.org> wrote:
> > >
> > > Is there any way of taking a line of r code (eg y<-x^2) and pasting
> that line of code, as is, into a label, so that for example I could then
> have a plot label "Plot of y<-x^2"?
> > >
> > > Thanks Nick Wray
> >
> >
> > Hi,
> >
> > See ?plotmath
> >
> > An example:
> >
> > x <- 1:10
> > y <- x^2
> >
> > plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
> >
> >
> > There are other incantations and examples on the help page above.
> >
> > Regards,
> >
> > Marc Schwartz
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 20:24:32 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 11:24:32 -0700
Subject: [R] Pass an equation as an argument of a sub-function
In-Reply-To: <VI1PR04MB572644792C0A6ACDE65337C2BA170@VI1PR04MB5726.eurprd04.prod.outlook.com>
References: <VI1PR04MB572644792C0A6ACDE65337C2BA170@VI1PR04MB5726.eurprd04.prod.outlook.com>
Message-ID: <CAGxFJbQ8=p0safC=1cbm_SK4wbCzrfgrNPKVNV+h3KPxZXFmWQ@mail.gmail.com>

See here for almost the same issue:

http://r.789695.n4.nabble.com/Pasting-R-code-lines-into-labels-td4757446.html

Same answer: pass the unevaluated formula (i.e. an R expression) using
substitute/quote. Then evaluate it appropriately using eval. Same
references.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 6, 2019 at 11:08 AM Frank S. <f_j_rod at hotmail.com> wrote:

> Dear all,
>
> I have defined an R function g(y) wich in turn is inside other R function
> f(x). The function g(y) depends on an
> equation, and I would like to know if such an equation could be passed as
> an argument of the main function
> (taking into account that we should change the variable "x" to "y").
> As an example, I have:
>
> function(x) {         # Main function, called f(x)
>
>   -----  (code)
>
>   function(y) {        # Sub-function, called g(y)
>     -----  (code)
>     eq <- y^2 -3*y
>     ----- (code)
>   }
>
>   ----- (code)
>
> }
>
> In summary, I would like to know is there is any way to:
> Put the equation "eq" as an argument of the main function f(x).
>
>
> Thank you very much!
>
> Frank
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 20:36:58 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 11:36:58 -0700
Subject: [R] Pass an equation as an argument of a sub-function
In-Reply-To: <CAGxFJbQ8=p0safC=1cbm_SK4wbCzrfgrNPKVNV+h3KPxZXFmWQ@mail.gmail.com>
References: <VI1PR04MB572644792C0A6ACDE65337C2BA170@VI1PR04MB5726.eurprd04.prod.outlook.com>
 <CAGxFJbQ8=p0safC=1cbm_SK4wbCzrfgrNPKVNV+h3KPxZXFmWQ@mail.gmail.com>
Message-ID: <CAGxFJbTz1fY-Sxbqme0kn2ty=LgCj9qjcBQvtmJ9fZGzwC=UMg@mail.gmail.com>

It is perhaps worth saying that my prior suggestion may not be the best
strategy for doing what you want. The previous poster needed the actual
expression to deparse as a label. If you only need the expression as a
function to be evaluated, it may be better to pass the argument as a
function -- a feature of functional programming languages like R. For
example:

top <- function(x, fun)fun(x)
f <- function(x)x^2 + sin(x)
top(1:4, f)

Again, appropriate sections of the R Language Reference or web tutorials
provide details.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 6, 2019 at 11:24 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> See here for almost the same issue:
>
>
> http://r.789695.n4.nabble.com/Pasting-R-code-lines-into-labels-td4757446.html
>
> Same answer: pass the unevaluated formula (i.e. an R expression) using
> substitute/quote. Then evaluate it appropriately using eval. Same
> references.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Thu, Jun 6, 2019 at 11:08 AM Frank S. <f_j_rod at hotmail.com> wrote:
>
>> Dear all,
>>
>> I have defined an R function g(y) wich in turn is inside other R function
>> f(x). The function g(y) depends on an
>> equation, and I would like to know if such an equation could be passed as
>> an argument of the main function
>> (taking into account that we should change the variable "x" to "y").
>> As an example, I have:
>>
>> function(x) {         # Main function, called f(x)
>>
>>   -----  (code)
>>
>>   function(y) {        # Sub-function, called g(y)
>>     -----  (code)
>>     eq <- y^2 -3*y
>>     ----- (code)
>>   }
>>
>>   ----- (code)
>>
>> }
>>
>> In summary, I would like to know is there is any way to:
>> Put the equation "eq" as an argument of the main function f(x).
>>
>>
>> Thank you very much!
>>
>> Frank
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From rv@|dez35 @end|ng |rom u@bc@edu@mx  Thu Jun  6 20:58:48 2019
From: rv@|dez35 @end|ng |rom u@bc@edu@mx (Rolando I. Valdez)
Date: Thu, 6 Jun 2019 11:58:48 -0700
Subject: [R] Including a large number of variables in a formula.
In-Reply-To: <31E7D00B-2592-4611-A8E8-2D89A46CB215@gmail.com>
References: <CAFGfsaM6F7Yff7m4aE=x_+pyNhRWNru=YAioRW48wgvGNM_xYQ@mail.gmail.com>
 <31E7D00B-2592-4611-A8E8-2D89A46CB215@gmail.com>
Message-ID: <CAFGfsaOBkYO=0uHuTxo=RziYGxHEGSuP5mHkfg7XbaY63h74iA@mail.gmail.com>

The first idea works perfect.

Thank you!.

El mi?., 5 jun. 2019 a las 1:07, peter dalgaard (<pdalgd at gmail.com>)
escribi?:

> Two ideas:
>
> nn <- names(wageszm14)
> lvadd <- nn[grep("^lvacb", nn)]
>
> or
>
> lvadd <- paste0("lvacb", 23:81)
> lvadd <- lvadd[lvadd %in% names(wageszm14)]
>
> > On 5 Jun 2019, at 06:46 , Rolando I. Valdez via R-help <
> r-help at r-project.org> wrote:
> >
> > Hello,
> >
> > I have almost 40 variables that I am trying to include in a formula.
> >
> > I tried to include them using as.formula(), however the variables do not
> > follow a patter in the name. e.g. These variables are named like: lvacb23
> > lvacb30 lvacb300  lvacb40 .....  lvacb81.
> >
> >> lvadd <- paste0("lvacb", 23:81)
> >> (fmla <- as.formula(paste("lwage ~ ", paste(lvadd, collapse = "+"))))
> >> fit <- lm(fmla, data = wageszm14)
> > Error in eval(predvars, data, env) : object 'lvacb24' not found
> >
> > The variable lvacb24 doesn't exist, because from lvacb23 it jumps to
> > lvacb30.
> >
> > Thanks in advance for any help.
> > --
> > Rolando Valdez
> > Facultad de Econom?a y Relaciones Internacionales
> > Universidad Aut?noma de Baja California
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
>
>
>
>
>
>
>
>
>

-- 
Rolando Valdez
Facultad de Econom?a y Relaciones Internacionales
Universidad Aut?noma de Baja California

	[[alternative HTML version deleted]]


From m@rc_@chw@rtz @end|ng |rom me@com  Thu Jun  6 21:18:59 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Thu, 6 Jun 2019 15:18:59 -0400
Subject: [R] Pasting R code lines into labels
In-Reply-To: <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
Message-ID: <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>

Hi,

Sorry for the misfire on the first attempt.

After seeing the clarifications, I thought about a possible way to do this, perhaps a little more simply, while encapsulating the plotting in a function:

plotFx <- function(x, fun) {
  plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
}

So let's say that you have:

x <- 1:10

f <- function(x) x^2
plotFx(x, f)

f <- function(x) cos(x)
plotFx(x, f)

f <- function(x) exp(x) + 1
plotFx(x, f)


In the case of the first function, you get:

> deparse(f)
[1] "function (x) " "x^2" 

for the second:

> deparse(f)
[1] "function (x) " "cos(x)" 

and for the third:

> deparse(f)
[1] "function (x) " "exp(x) + 1" 


Thus, the "deparse(fun)[2]" snippet within the internal paste0() function call, gets you the second, textual part of the function body, which can then be passed as a character vector to the titles or other labels as needed.

A potential gotcha that I would envision, is that the default width in the character vector resulting from deparse() is 60. Thus, by default the function body would broken up into multiple character segments, no longer than approximately 60 characters each. Thus, if you envision that you might end up with very long formulae on x, you may need to adjust the width.cutoff argument in the deparse() call, and likely need to do some additional formatting of the labels in the plot as apropos.

There may be other functional nuances that I am missing here, but this may be a suitable approach.

Regards,

Marc


> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
> Yes, plot(z,y,..)
> 
> Bert
> 
> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com> wrote:
> 
>> Thanks Bert, that is exactly what I wanted.  I think that you meant
>> plot(z,y... in the last line?
>> 
>> Nick
>> 
>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>> 
>> ... and if you wanted too streamline the process, something like the
>> following could be encapsulated in a function:
>> 
>> fun <- quote(exp(x))
>> z <- 1:9
>> y <- eval(fun,list(x = z) )
>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>> 
>> Further details can be found in the "Computing on the Language" section of
>> the "R Language Reference" manual or from suitable tutorials on the web.
>> 
>> Bert Gunter
>> 
>> "The trouble with having an open mind is that people keep coming along and
>> sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>> 
>> 
>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help < r-help at r-project.org>
>> wrote:
>> 
>> Thanks but that's not quite what I meant
>> I am trying out different functions and they don't necessarily vary in a
>> regular way (like say all being powers of x where it'd be simple to just
>> have a vector for the powers you want)
>> So I might have
>> y<-x^2
>> y<-cos(x)
>> y<-exp(x+1)
>> What I am after is a way of running these functions and then calling each
>> one into the labelling for the appropriate graph as I plot it.  So then I
>> would have something like
>> mainlab<-paste("Plot of ",function in question)
>> ...? Thanks Nick
>> 
>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
>>> 
>>> 
>>> 
>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
>> r-help at r-project.org> wrote:
>>>> 
>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
>> that line of code, as is, into a label, so that for example I could then
>> have a plot label "Plot of y<-x^2"?
>>>> 
>>>> Thanks Nick Wray
>>> 
>>> 
>>> Hi,
>>> 
>>> See ?plotmath
>>> 
>>> An example:
>>> 
>>> x <- 1:10
>>> y <- x^2
>>> 
>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
>>> 
>>> 
>>> There are other incantations and examples on the help page above.
>>> 
>>> Regards,
>>> 
>>> Marc Schwartz
>>> 


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Jun  6 21:25:46 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 6 Jun 2019 20:25:46 +0100
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <336255924.971770.1559839786430@mail.yahoo.com>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
 <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
 <2052071712.934379.1559836141605@mail.yahoo.com>
 <dae08fa6-280f-eda9-5c48-3f50527a9a03@sapo.pt>
 <336255924.971770.1559839786430@mail.yahoo.com>
Message-ID: <2f484ba7-8d90-955d-f785-21459b735772@sapo.pt>

Hello,

Try this.


values_to_plot <- c("onepctCO2MEDIAN", "RCP4.5MEDIAN", "RCP8.5MEDIAN")
sub_df <- subset(NewestdataUltra, L1 %in% values_to_plot)

ggplot(sub_df, aes(x, value, colour = L1)) +
   geom_point() +
   scale_color_manual(values = c("green", "red", "blue")) +
   geom_smooth(method = lm)


If you have more L1 values to plot, add more colors. The number of 
colors must be equal to

length(values_to_plot)


Hope this helps,

Rui Barradas

?s 17:49 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui, NewestdataUltra looks like this (Note that "HistoricalMEDIAN" is 
> hidden, but it follows "RCP8.5MEDIAN" listing the same way): x variable 
> value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2 0.006794447 y 
> 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999 onepctCO2MEDIAN 4 
> 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357 y -1.24295056 
> onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN 7 0.048087904 
> y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446 onepctCO2MEDIAN 
> 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10 0.080524530 y -1.09135062 
> onepctCO2MEDIAN 11 0.092760246 y 0.40999399 onepctCO2MEDIAN 12 
> 0.103789609 y -0.12597268 onepctCO2MEDIAN 13 0.116953168 y -2.41382534 
> onepctCO2MEDIAN 14 0.129253298 y 7.08902570 onepctCO2MEDIAN 15 
> 0.141710050 y -0.75935388 onepctCO2MEDIAN 16 0.156002052 y 0.04544160 
> onepctCO2MEDIAN 17 0.170648172 y -1.53496826 onepctCO2MEDIAN 18 
> 0.185318425 y 6.55242014 onepctCO2MEDIAN 19 0.199463055 y -0.83125628 
> onepctCO2MEDIAN 20 0.213513337 y -2.50991826 onepctCO2MEDIAN 21 
> 0.228839271 y 0.13659682 onepctCO2MEDIAN 22 0.246981293 y -1.37198445 
> onepctCO2MEDIAN 23 0.263012767 y -0.87129883 onepctCO2MEDIAN 24 
> 0.278505564 y 0.66325836 onepctCO2MEDIAN 25 0.293658361 y 0.79380363 
> onepctCO2MEDIAN 26 0.310747266 y 3.48806374 onepctCO2MEDIAN 27 
> 0.325990349 y -4.46122081 onepctCO2MEDIAN 28 0.342517540 y 0.08717340 
> onepctCO2MEDIAN 29 0.362751633 y -1.41715777 onepctCO2MEDIAN 30 
> 0.380199537 y -0.99565082 onepctCO2MEDIAN 31 0.394992948 y 0.32155262 
> onepctCO2MEDIAN 32 0.414373398 y 3.14038657 onepctCO2MEDIAN 33 
> 0.430690214 y -0.73760988 onepctCO2MEDIAN 34 0.449738145 y -2.48605407 
> onepctCO2MEDIAN 35 0.470167458 y -3.42358584 onepctCO2MEDIAN 36 
> 0.489019871 y 0.48247475 onepctCO2MEDIAN 37 0.507242471 y -0.97853863 
> onepctCO2MEDIAN 38 0.524314284 y 8.53596838 onepctCO2MEDIAN 39 
> 0.543750525 y 5.48447420 onepctCO2MEDIAN 40 0.564234197 y 3.21493666 
> onepctCO2MEDIAN 41 0.583679616 y 3.91689160 onepctCO2MEDIAN 42 
> 0.601459444 y 4.49070196 onepctCO2MEDIAN 43 0.619924664 y 6.54104103 
> onepctCO2MEDIAN 44 0.639932007 y 4.80686500 onepctCO2MEDIAN 45 
> 0.661347181 y 8.15101701 onepctCO2MEDIAN 46 0.684117317 y 0.26974132 
> onepctCO2MEDIAN 47 0.704829752 y -0.18075007 onepctCO2MEDIAN 48 
> 0.725045770 y 9.71812491 onepctCO2MEDIAN 49 0.745165825 y 1.54064657 
> onepctCO2MEDIAN 50 0.765016139 y -1.64760409 onepctCO2MEDIAN 51 
> 0.783461511 y 4.80246029 onepctCO2MEDIAN 52 0.806382924 y 4.04215160 
> onepctCO2MEDIAN 53 0.829241335 y 9.37565122 onepctCO2MEDIAN 54 
> 0.849924415 y 5.33050497 onepctCO2MEDIAN 55 0.871352434 y 7.54458026 
> onepctCO2MEDIAN 56 0.893632233 y 6.46795471 onepctCO2MEDIAN 57 
> 0.916052133 y 2.80960651 onepctCO2MEDIAN 58 0.938579470 y 5.39216613 
> onepctCO2MEDIAN 59 0.959907651 y 7.20436888 onepctCO2MEDIAN 60 
> 0.981643587 y 3.33508065 onepctCO2MEDIAN 61 1.004116774 y 8.86907070 
> onepctCO2MEDIAN 62 1.028363466 y 1.78612989 onepctCO2MEDIAN 63 
> 1.054009140 y 6.25550382 onepctCO2MEDIAN 64 1.072440803 y 7.60792365 
> onepctCO2MEDIAN 65 1.094457805 y 7.68714831 onepctCO2MEDIAN 66 
> 1.123176277 y 4.77877639 onepctCO2MEDIAN 67 1.149430871 y 12.71105018 
> onepctCO2MEDIAN 68 1.170912921 y -0.71562844 onepctCO2MEDIAN 69 
> 1.196743071 y 1.64908992 onepctCO2MEDIAN 70 1.218625903 y 3.03630241 
> onepctCO2MEDIAN 71 1.241868377 y 4.29747688 onepctCO2MEDIAN 72 
> 1.267941594 y 1.95437781 onepctCO2MEDIAN 73 1.290708780 y 3.99869637 
> onepctCO2MEDIAN 74 1.313222289 y 4.51794725 onepctCO2MEDIAN 75 
> 1.339045882 y 0.93379048 onepctCO2MEDIAN 76 1.362803459 y 3.30507700 
> onepctCO2MEDIAN 77 1.384450197 y 3.54229702 onepctCO2MEDIAN 78 
> 1.409720302 y 5.99736597 onepctCO2MEDIAN 79 1.435851157 y 0.50818686 
> onepctCO2MEDIAN 80 1.455592215 y 7.96616301 onepctCO2MEDIAN 81 
> 1.479495347 y 9.94604963 onepctCO2MEDIAN 82 1.506051958 y 3.79083717 
> onepctCO2MEDIAN 83 1.525728464 y 2.57358469 onepctCO2MEDIAN 84 
> 1.549362063 y 10.14049742 onepctCO2MEDIAN 85 1.573440671 y 13.74083036 
> onepctCO2MEDIAN 86 1.600278735 y 0.93357712 onepctCO2MEDIAN 87 
> 1.623879492 y 9.75887417 onepctCO2MEDIAN 88 1.650029302 y 1.27693947 
> onepctCO2MEDIAN 89 1.672362328 y 13.49709060 onepctCO2MEDIAN 90 
> 1.700221121 y 10.20875018 onepctCO2MEDIAN 91 1.724793375 y 1.68112753 
> onepctCO2MEDIAN 92 1.751070559 y 6.11789915 onepctCO2MEDIAN 93 
> 1.778022110 y -0.15676262 onepctCO2MEDIAN 94 1.803022087 y 3.82374792 
> onepctCO2MEDIAN 95 1.830668867 y 4.43314679 onepctCO2MEDIAN 96 
> 1.855736911 y 5.97907067 onepctCO2MEDIAN 97 1.882615030 y 11.31043325 
> onepctCO2MEDIAN 98 1.909218490 y 8.21426074 onepctCO2MEDIAN 99 
> 1.938130021 y 15.32096736 onepctCO2MEDIAN 100 1.963727593 y 5.81782169 
> onepctCO2MEDIAN 101 1.993271947 y 9.60049074 onepctCO2MEDIAN 102 
> 2.022548139 y 3.40636456 onepctCO2MEDIAN 103 2.050679922 y 4.73750104 
> onepctCO2MEDIAN 104 2.078064442 y 3.01330195 onepctCO2MEDIAN 105 
> 2.104113460 y 5.56595225 onepctCO2MEDIAN 106 2.133597612 y 12.03463325 
> onepctCO2MEDIAN 107 2.164026260 y -0.40283200 onepctCO2MEDIAN 108 
> 2.194852829 y 10.59967795 onepctCO2MEDIAN 109 2.224257946 y 5.44795837 
> onepctCO2MEDIAN 110 2.252194643 y 4.70523736 onepctCO2MEDIAN 111 
> 2.277335048 y 14.09620189 onepctCO2MEDIAN 112 2.304058313 y 5.71490162 
> onepctCO2MEDIAN 113 2.330930233 y 3.77800721 onepctCO2MEDIAN 114 
> 2.357022762 y 4.41206201 onepctCO2MEDIAN 115 2.386489272 y 4.18660848 
> onepctCO2MEDIAN 116 2.417503953 y 6.90788020 onepctCO2MEDIAN 117 
> 2.448524356 y 2.78257393 onepctCO2MEDIAN 118 2.478698969 y 7.61717857 
> onepctCO2MEDIAN 119 2.510175705 y 10.24106026 onepctCO2MEDIAN 120 
> 2.539697886 y 8.18207107 onepctCO2MEDIAN 121 2.567915559 y 4.82754944 
> onepctCO2MEDIAN 122 2.597463250 y 19.16248829 onepctCO2MEDIAN 123 
> 2.627518773 y 16.06771094 onepctCO2MEDIAN 124 2.658759236 y 12.58970807 
> onepctCO2MEDIAN 125 2.692401528 y 9.29079880 onepctCO2MEDIAN 126 
> 2.721903205 y 7.42625020 onepctCO2MEDIAN 127 2.753021359 y 9.39025180 
> onepctCO2MEDIAN 128 2.786313415 y 12.61935503 onepctCO2MEDIAN 129 
> 2.819564104 y 11.11210397 onepctCO2MEDIAN 130 2.850823164 y 15.79070997 
> onepctCO2MEDIAN 131 2.880394101 y 10.74252868 onepctCO2MEDIAN 132 
> 2.911391258 y 7.79714300 onepctCO2MEDIAN 133 2.942965150 y 8.80608578 
> onepctCO2MEDIAN 134 2.974468350 y 17.56062663 onepctCO2MEDIAN 135 
> 3.008983612 y 17.30886049 onepctCO2MEDIAN 136 3.040015221 y 13.45005435 
> onepctCO2MEDIAN 137 3.072668672 y 14.63778842 onepctCO2MEDIAN 138 
> 3.105982423 y 8.07985518 onepctCO2MEDIAN 139 0.467429527 y -1.55704023 
> RCP4.5MEDIAN 140 0.478266196 y -3.19367515 RCP4.5MEDIAN 141 0.489205229 
> y -2.44452679 RCP4.5MEDIAN 142 0.500039143 y 0.87504367 RCP4.5MEDIAN 143 
> 0.511021115 y -0.39185002 RCP4.5MEDIAN 144 0.519874968 y -4.18935168 
> RCP4.5MEDIAN 145 0.528508358 y -3.64179524 RCP4.5MEDIAN 146 0.537377594 
> y -2.58167128 RCP4.5MEDIAN 147 0.546194211 y 2.20583694 RCP4.5MEDIAN 148 
> 0.554720591 y -8.57764597 RCP4.5MEDIAN 149 0.563289814 y 2.88442536 
> RCP4.5MEDIAN 150 0.572032790 y -3.90829882 RCP4.5MEDIAN 151 0.580939066 
> y -3.39269048 RCP4.5MEDIAN 152 0.590921065 y -4.60849867 RCP4.5MEDIAN 
> 153 0.601575326 y -1.62572657 RCP4.5MEDIAN 154 0.612425555 y 1.14198465 
> RCP4.5MEDIAN 155 0.623773319 y -3.38454122 RCP4.5MEDIAN 156 0.635363359 
> y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y 3.30007615 RCP4.5MEDIAN 158 
> 0.658285673 y -0.79555442 RCP4.5MEDIAN 159 0.670250852 y -2.05220500 
> RCP4.5MEDIAN 160 0.681702690 y -5.56808946 RCP4.5MEDIAN 161 0.693531145 
> y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y -4.83673351 RCP4.5MEDIAN 163 
> 0.718231249 y 0.40086819 RCP4.5MEDIAN 164 0.730190911 y -1.98026992 
> RCP4.5MEDIAN 165 0.741269845 y 0.39963115 RCP4.5MEDIAN 166 0.751000321 y 
> -0.83241777 RCP4.5MEDIAN 167 0.760886972 y -1.66101404 RCP4.5MEDIAN 168 
> 0.771137164 y -1.05452982 RCP4.5MEDIAN 169 0.781856383 y -1.18338156 
> RCP4.5MEDIAN 170 0.792607542 y 0.22722653 RCP4.5MEDIAN 171 0.803724128 y 
> -1.90642564 RCP4.5MEDIAN 172 0.815066246 y 0.75010550 RCP4.5MEDIAN 173 
> 0.826027437 y -1.31108646 RCP4.5MEDIAN 174 0.836766732 y 1.05961515 
> RCP4.5MEDIAN 175 0.847553312 y -2.06588010 RCP4.5MEDIAN 176 0.858331452 
> y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y 0.09979751 RCP4.5MEDIAN 178 
> 0.879572539 y -2.50854353 RCP4.5MEDIAN 179 0.889426601 y 5.29550783 
> RCP4.5MEDIAN 180 0.899009805 y 2.02909481 RCP4.5MEDIAN 181 0.908289566 y 
> 2.66922982 RCP4.5MEDIAN 182 0.917284978 y -4.17757196 RCP4.5MEDIAN 183 
> 0.926128960 y 3.40202916 RCP4.5MEDIAN 184 0.934752874 y -1.92292218 
> RCP4.5MEDIAN 185 0.943010943 y 6.36969150 RCP4.5MEDIAN 186 0.950999217 y 
> 1.86490308 RCP4.5MEDIAN 187 0.958795701 y 8.32126161 RCP4.5MEDIAN 188 
> 0.966310396 y 10.15048356 RCP4.5MEDIAN 189 0.973635493 y 6.68925964 
> RCP4.5MEDIAN 190 0.980834088 y -1.01615369 RCP4.5MEDIAN 191 0.987694790 
> y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y -1.52787222 RCP4.5MEDIAN 193 
> 1.001274595 y -0.72374597 RCP4.5MEDIAN 194 1.007810612 y 2.26062309 
> RCP4.5MEDIAN 195 1.014270389 y -2.40270340 RCP4.5MEDIAN 196 1.022719711 
> y -1.94548262 RCP4.5MEDIAN 197 1.032070810 y -1.13053235 RCP4.5MEDIAN 
> 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199 1.050189571 y 3.27941835 
> RCP4.5MEDIAN 200 1.059380475 y 3.01333588 RCP4.5MEDIAN 201 1.067877585 y 
> 4.87457336 RCP4.5MEDIAN 202 1.076078766 y 1.02457895 RCP4.5MEDIAN 203 
> 1.084707357 y 4.49174869 RCP4.5MEDIAN 204 1.093223180 y 8.24629303 
> RCP4.5MEDIAN 205 1.101414382 y -0.03364132 RCP4.5MEDIAN 206 1.108886304 
> y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y 1.74254621 RCP4.5MEDIAN 208 
> 1.121856558 y 2.27004536 RCP4.5MEDIAN 209 1.127809421 y -0.65627179 
> RCP4.5MEDIAN 210 1.133265961 y 12.02566969 RCP4.5MEDIAN 211 1.138549712 
> y -1.04260843 RCP4.5MEDIAN 212 1.143910237 y -6.47611327 RCP4.5MEDIAN 
> 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214 1.154488347 y -4.24916247 
> RCP4.5MEDIAN 215 1.159872903 y 7.90741918 RCP4.5MEDIAN 216 1.165477487 y 
> -3.91386711 RCP4.5MEDIAN 217 1.171103424 y 1.02370701 RCP4.5MEDIAN 218 
> 1.177498256 y -3.71206616 RCP4.5MEDIAN 219 1.184003888 y -1.05694182 
> RCP4.5MEDIAN 220 1.190395856 y 1.10501459 RCP4.5MEDIAN 221 1.197284280 y 
> 2.67668639 RCP4.5MEDIAN 222 1.204590551 y 2.21693031 RCP4.5MEDIAN 223 
> 1.210807614 y 2.90252830 RCP4.5MEDIAN 224 1.216470664 y 2.75093766 
> RCP4.5MEDIAN 225 1.221914148 y -0.73815245 RCP4.5MEDIAN 226 1.227580480 
> y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y 10.89961658 RCP4.5MEDIAN 228 
> 1.238093406 y 3.23374387 RCP4.5MEDIAN 229 0.466622908 y -1.92366466 
> RCP8.5MEDIAN 230 0.474211509 y 4.09292949 RCP8.5MEDIAN 231 0.480383051 y 
> -0.84736312 RCP8.5MEDIAN 232 0.486304903 y -0.80597889 RCP8.5MEDIAN 233 
> 0.492151615 y -0.50244413 RCP8.5MEDIAN 234 0.499312643 y 3.07785701 
> RCP8.5MEDIAN 235 0.508859905 y -6.15175322 RCP8.5MEDIAN 236 0.518758845 
> y -0.51590144 RCP8.5MEDIAN 237 0.528675758 y 3.33135956 RCP8.5MEDIAN 238 
> 0.538928423 y 2.62280891 RCP8.5MEDIAN 239 0.549621221 y -6.90096009 
> RCP8.5MEDIAN 240 0.560062840 y -3.45706029 RCP8.5MEDIAN 241 0.570860791 
> y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y 0.34822359 RCP8.5MEDIAN 243 
> 0.592628298 y 3.06882935 RCP8.5MEDIAN 244 0.604230648 y -3.56142825 
> RCP8.5MEDIAN 245 0.615975167 y 10.35932554 RCP8.5MEDIAN 246 0.627448279 
> y 10.21751629 RCP8.5MEDIAN 247 0.639401050 y 3.31040335 RCP8.5MEDIAN 248 
> 0.651949591 y -0.53558775 RCP8.5MEDIAN 249 0.664634427 y 2.66081860 
> RCP8.5MEDIAN 250 0.677343552 y 3.21379656 RCP8.5MEDIAN [ reached 'max' / 
> getOption("max.print") -- omitted 212 rows ]
> 
> 
> If I wanted scatter plots and regression lines of onepctCO2MEDIAN, 
> RCP4.5MEDIAN and RCP8.5MEDIAN, would I do something like this? :
> ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
> **//___^
> Thanks,
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 11:53 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> It's impossible to say without seeing the data.
> 
> What is the return value of
> 
> df_tmp <- subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN')
> unique(df_tmp$L1)
> 
> The number of colors must be the same as
> 
> length(unique(df_tmp$L1))
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 16:49 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>  > Hi Rui,
>  >
>  > Yes, you are right. It should be this, but I tried with only 3 colors,
>  > as you suggested:
>  >
>  > ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value,
>  > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>  > "blue" "red")) + geom_smooth(method = lm, se=FALSE)
>  >
>  > **//___^
>  > **//___^I still end up with the same error, however, when I specify only
>  > 3 colors. Why could this be?
>  >
>  >
>  > -----Original Message-----
>  > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>  > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>
>  > Sent: Thu, Jun 6, 2019 11:18 am
>  > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >
>  > Hello,
>  >
>  > 1) In the text you say your dataset is named NewestdataUltra but in the
>  > ggplot instruction it's Newestdata. One of these is wrong.
>  >
>  > 2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?
>  >
>  > 3) You are filtering out the value in point ) above. So you only plot 3
>  > regression lines, you don't need 4 colors.
>  >
>  >
>  > Hope this helps,
>  >
>  > Rui Barradas
>  >
>  > ?s 15:35 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>> escreveu:
>  >? > Hi Rui (and everyone),
>  >? >
>  >? >
>  >? > Thank you for this! Yes, this did work fine, as I can see my scatter
>  >? > plots and regression lines on the same plot, along with the 
> appropriate
>  >? > coloring scheme! :)
>  >? >
>  >? > Just one last question concerning this - I melted other dataframes 
> into
>  >? > my new "NewestdataUltra". I now have 4 objects listed in there in this
>  >? > order (starting from the top of the list): "onepctCO2MEDIAN",
>  >? > "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried 
> plotting
>  >? > colored scattered plots and regression lines for these in this manner:
>  >? >
>  >? > ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value,
>  >? > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>  >? > "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
>  >? >
>  >? > However, I received this error:
>  >? >
>  >? > Error: unexpected string constant in 
> "ggplot(subset(NewestdataUltra, L1
>  >? > != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() +
>  >? > scale_color_manual(values =c("green", "blue" "red""
>  >? >
>  >? > **//___^
>  >? >
>  >? > Why would this error appear?? I think that I assigned the colors
>  >? > correctly to each of the four objects in question, so why would this
>  > occur?
>  >? >
>  >? > Thank you, once again!
>  >? >
>  >? > -----Original Message-----
>  >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>>
>  >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>; r-help
>  > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>
>  >? > Sent: Thu, Jun 6, 2019 6:52 am
>  >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >? >
>  >? > Hello,
>  >? >
>  >? > You are confusing some of the values of L1 with L1 itself.
>  >? > If you just want two of those values in your plot, 
> "onepctCO2MEDIAN" and
>  >? > "RCP8.5MEDIAN", you need to subset the data filtering out the rows 
> with
>  >? > L1 == "RCP4.5MEDIAN".
>  >? >
>  >? > And please forget geom_jitter, it is completely inappropriate for the
>  >? > type of scatter plot you are trying to graph. You jitter when there is
>  >? > overplotting, not as a general purpose technique.
>  >? >
>  >? > Here is one way to do it.
>  >? >
>  >? >
>  >? > ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>  >? >? ? ? ? ? aes(x, value, colour = L1)) +
>  >? >? ? geom_point() +
>  >? >? ? scale_color_manual(values = c("green", "red")) +
>  >? >? ? geom_smooth(method = lm)
>  >? >
>  >? >
>  >? > Hope this helps,
>  >? >
>  >? > Rui Barradas
>  >? >
>  >? > ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>
>  > <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>> escreveu:
>  >? >? > Hi Rui (and everyone),
>  >? >? >
>  >? >? > Thank you so much for your response! Much appreciated!
>  >? >? >
>  >? >? > What if I wanted I create several regression lines and scatter
>  > plots in
>  >? >? > the same ggplot using a "melted" dataset? I would like to create a
>  >? >? > scatter plot and regression line for both the objects of
>  >? >? > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like
>  > this:
>  >? >? >
>  >? >? >
>  >? >? >? >NewestdataUltra
>  >? >? >
>  >? >? > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>  >? >? > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>  >? >? > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5
>  > 0.030797357
>  >? >? > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744
>  > onepctCO2MEDIAN
>  >? >? > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 
> 2.20700446
>  >? >? > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>  >? >? > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 
> 0.40999399
>  >? >? > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>  >? >? > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 
> 7.08902570
>  >? >? > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>  >? >? > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y 
> -1.53496826
>  >? >? > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>  >? >? > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y 
> -2.50991826
>  >? >? > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>  >? >? > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y 
> -0.87129883
>  >? >? > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>  >? >? > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 
> 3.48806374
>  >? >? > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>  >? >? > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y 
> -1.41715777
>  >? >? > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>  >? >? > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 
> 3.14038657
>  >? >? > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>  >? >? > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y 
> -3.42358584
>  >? >? > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>  >? >? > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 
> 8.53596838
>  >? >? > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>  >? >? > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 
> 3.91689160
>  >? >? > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>  >? >? > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 
> 4.80686500
>  >? >? > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>  >? >? > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y 
> -0.18075007
>  >? >? > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>  >? >? > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y 
> -1.64760409
>  >? >? > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>  >? >? > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 
> 9.37565122
>  >? >? > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>  >? >? > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 
> 6.46795471
>  >? >? > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>  >? >? > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 
> 7.20436888
>  >? >? > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>  >? >? > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 
> 1.78612989
>  >? >? > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>  >? >? > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 
> 7.68714831
>  >? >? > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>  >? >? > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y 
> -0.71562844
>  >? >? > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>  >? >? > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 
> 4.29747688
>  >? >? > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>  >? >? > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 
> 4.51794725
>  >? >? > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>  >? >? > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 
> 3.54229702
>  >? >? > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>  >? >? > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 
> 7.96616301
>  >? >? > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>  >? >? > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 
> 2.57358469
>  >? >? > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>  >? >? > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 
> 0.93357712
>  >? >? > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>  >? >? > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 
> 13.49709060
>  >? >? > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>  >? >? > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 
> 6.11789915
>  >? >? > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>  >? >? > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 
> 4.43314679
>  >? >? > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>  >? >? > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 
> 8.21426074
>  >? >? > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>  >? >? > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 
> 9.60049074
>  >? >? > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>  >? >? > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 
> 3.01330195
>  >? >? > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>  >? >? > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y
>  > -0.40283200
>  >? >? > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>  >? >? > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 
> 4.70523736
>  >? >? > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>  >? >? > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 
> 3.77800721
>  >? >? > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>  >? >? > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 
> 6.90788020
>  >? >? > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>  >? >? > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 
> 10.24106026
>  >? >? > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>  >? >? > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 
> 19.16248829
>  >? >? > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>  >? >? > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 
> 9.29079880
>  >? >? > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>  >? >? > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 
> 12.61935503
>  >? >? > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>  >? >? > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y
>  > 10.74252868
>  >? >? > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>  >? >? > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 
> 17.56062663
>  >? >? > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>  >? >? > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y
>  > 14.63778842
>  >? >? > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>  >? >? > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y 
> -3.19367515
>  >? >? > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142
>  > 0.500039143
>  >? >? > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002
>  > RCP4.5MEDIAN 144
>  >? >? > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y 
> -3.64179524
>  >? >? > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147
>  > 0.546194211
>  >? >? > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597
>  > RCP4.5MEDIAN 149
>  >? >? > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>  >? >? > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152
>  > 0.590921065
>  >? >? > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 
> RCP4.5MEDIAN
>  >? >? > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y
>  > -3.38454122
>  >? >? > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157
>  > 0.646722666 y
>  >? >? > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 
> RCP4.5MEDIAN 159
>  >? >? > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y 
> -5.56808946
>  >? >? > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162
>  > 0.706016061 y
>  >? >? > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 
> RCP4.5MEDIAN 164
>  >? >? > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>  >? >? > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167
>  > 0.760886972
>  >? >? > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 
> RCP4.5MEDIAN
>  >? >? > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y
>  > 0.22722653
>  >? >? > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172
>  > 0.815066246
>  >? >? > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646
>  > RCP4.5MEDIAN 174
>  >? >? > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>  >? >? > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177
>  > 0.869154422 y
>  >? >? > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 
> RCP4.5MEDIAN 179
>  >? >? > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>  >? >? > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182
>  > 0.917284978 y
>  >? >? > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 
> RCP4.5MEDIAN 184
>  >? >? > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>  >? >? > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187
>  > 0.958795701 y
>  >? >? > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 
> RCP4.5MEDIAN 189
>  >? >? > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>  >? >? > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192
>  > 0.994548581 y
>  >? >? > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597
>  > RCP4.5MEDIAN 194
>  >? >? > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>  >? >? > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197
>  > 1.032070810
>  >? >? > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969
>  > RCP4.5MEDIAN 199
>  >? >? > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>  >? >? > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202
>  > 1.076078766 y
>  >? >? > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 
> RCP4.5MEDIAN 204
>  >? >? > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>  >? >? > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207
>  > 1.115482896 y
>  >? >? > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 
> RCP4.5MEDIAN 209
>  >? >? > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 
> 12.02566969
>  >? >? > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212
>  > 1.143910237
>  >? >? > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567
>  > RCP4.5MEDIAN 214
>  >? >? > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>  >? >? > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217
>  > 1.171103424
>  >? >? > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616
>  > RCP4.5MEDIAN 219
>  >? >? > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>  >? >? > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222
>  > 1.204590551 y
>  >? >? > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 
> RCP4.5MEDIAN 224
>  >? >? > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>  >? >? > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227
>  > 1.233317788 y
>  >? >? > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 
> RCP4.5MEDIAN 229
>  >? >? > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>  >? >? > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232
>  > 0.486304903
>  >? >? > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 
> RCP8.5MEDIAN
>  >? >? > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y
>  > -6.15175322
>  >? >? > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237
>  > 0.528675758
>  >? >? > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891
>  > RCP8.5MEDIAN 239
>  >? >? > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y 
> -3.45706029
>  >? >? > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242
>  > 0.581923368 y
>  >? >? > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 
> RCP8.5MEDIAN 244
>  >? >? > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 
> 10.35932554
>  >? >? > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247
>  > 0.639401050
>  >? >? > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775
>  > RCP8.5MEDIAN 249
>  >? >? > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>  >? >? > RCP8.5MEDIAN Maybe something like this?
>  >? >? >
>  >? >? > lusher<-ggplot(NewestdataULTRA) +
>  >? >? > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>  >? >? > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>  >? >? > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>  >? >? > **//___^
>  >? >? > I receive this warning, however:
>  >? >? >
>  >? >? > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN 
> Warning:Ignoring
>  >? >? > unknown aesthetics: onepctCO2MEDIAN
>  >? >? >
>  >? >? > **//___^
>  >? >? > Perhaps I am not assigning the columns properly? Essentially, I 
> just
>  >? >? > want create two scatter plots and two regression lines for 
> these two
>  >? >? > objects.
>  >? >? >
>  >? >? > Once again, any assistance would be greatly appreciated!
>  >? >? >
>  >? >? > -----Original Message-----
>  >? >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>
>  > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> 
> <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>  > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>>
>  >? >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>
>  > <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>>; r-help
>  >? > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>
>  > <mailto:r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>>;
>  >? >? > r-sig-geo <r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org>
>  > <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>> 
> <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>
>  > <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>>>>
>  >? >? > Sent: Wed, Jun 5, 2019 10:52 am
>  >? >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>  >? >? >
>  >? >? > Hello,
>  >? >? >
>  >? >? > This is pretty basic ggplot.
>  >? >? >
>  >? >? >
>  >? >? > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>  >? >? >? ? geom_point(colour = 'blue') +
>  >? >? >? ? geom_smooth(method = 'lm')
>  >? >? >
>  >? >? > lm1
>  >? >? >
>  >? >? >
>  >? >? > If you want to combine several datasets, you will have to have a
>  >? >? > variable telling which dataset is which. In the example below, 
> this is
>  >? >? > column 'id'.
>  >? >? >
>  >? >? >
>  >? >? > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>  >? >? > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>  >? >? > onepctCO2MEDIAN$id <- 1
>  >? >? > onepctCO2MEDIAN2$id <- 2
>  >? >? > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>  >? >? >
>  >? >? > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>  >? >? >? ? geom_point() +
>  >? >? >? ? geom_smooth(method = 'lm')
>  >? >? >
>  >? >? >
>  >? >? > Hope this helps,
>  >? >? >
>  >? >? > Rui Barradas
>  >? >? >
>  >? >? > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>  >? >? >? > I am trying to plot, using ggplot, a series of scatter plots 
> with
>  >? >? > regression lines for several datasets. I started with the following
>  >? >? > dataset, "onepectCO2MEDIAN". The data for this dataset is as 
> follows:
>  >? >? >? >? ??? onepctCO2MEDIAN
>  >? >? >? >? ??????????????????? x????????? y
>  >? >? >? >? ??? layer.1?? 0.000000000? 0.0000000
>  >? >? >? >? ??? layer.2?? 0.006794447? 4.9002490
>  >? >? >? >? ??? layer.3?? 0.014288058? 0.1608000
>  >? >? >? >? ??? layer.4?? 0.022087920? 6.6349133
>  >? >? >? >? ??? layer.5?? 0.030797357 -1.2429506
>  >? >? >? >? ??? layer.6?? 0.038451072? 1.5643374
>  >? >? >? >? ??? layer.7?? 0.048087904 -2.2659035
>  >? >? >? >? ??? layer.8?? 0.058677729? 2.2070045
>  >? >? >? >? ??? layer.9?? 0.069261406 -2.3677001
>  >? >? >? >? ??? layer.10? 0.080524530 -1.0913506
>  >? >? >? >? ??? layer.11? 0.092760246? 0.4099940
>  >? >? >? >? ??? layer.12? 0.103789609 -0.1259727
>  >? >? >? >? ??? layer.13? 0.116953168 -2.4138253
>  >? >? >? >? ??? layer.14? 0.129253298? 7.0890257
>  >? >? >? >? ??? layer.15? 0.141710050 -0.7593539
>  >? >? >? >? ??? layer.16? 0.156002052? 0.0454416
>  >? >? >? >? ??? layer.17? 0.170648172 -1.5349683
>  >? >? >? >? ??? layer.18? 0.185318425? 6.5524201
>  >? >? >? >? ??? layer.19? 0.199463055 -0.8312563
>  >? >? >? >? ??? layer.20? 0.213513337 -2.5099183
>  >? >? >? >? ??? layer.21? 0.228839271? 0.1365968
>  >? >? >? >? ??? layer.22? 0.246981293 -1.3719845
>  >? >? >? >? ??? layer.23? 0.263012767 -0.8712988
>  >? >? >? >? ??? layer.24? 0.278505564? 0.6632584
>  >? >? >? >? ??? layer.25? 0.293658361? 0.7938036
>  >? >? >? >? ??? layer.26? 0.310747266? 3.4880637
>  >? >? >? >? ??? layer.27? 0.325990349 -4.4612208
>  >? >? >? >? ??? layer.28? 0.342517540? 0.0871734
>  >? >? >? >? ??? layer.29? 0.362751633 -1.4171578
>  >? >? >? >? ??? layer.30? 0.380199537 -0.9956508
>  >? >? >? >? ??? layer.31? 0.394992948? 0.3215526
>  >? >? >? >? ??? layer.32? 0.414373398? 3.1403866
>  >? >? >? >? ??? layer.33? 0.430690214 -0.7376099
>  >? >? >? >? ??? layer.34? 0.449738145 -2.4860541
>  >? >? >? >? ??? layer.35? 0.470167458 -3.4235858
>  >? >? >? >? ??? layer.36? 0.489019871? 0.4824748
>  >? >? >? >? ??? layer.37? 0.507242471 -0.9785386
>  >? >? >? >? ??? layer.38? 0.524314284? 8.5359684
>  >? >? >? >? ??? layer.39? 0.543750525? 5.4844742
>  >? >? >? >? ??? layer.40? 0.564234197? 3.2149367
>  >? >? >? >? ??? layer.41? 0.583679616? 3.9168916
>  >? >? >? >? ??? layer.42? 0.601459444? 4.4907020
>  >? >? >? >? ??? layer.43? 0.619924664? 6.5410410
>  >? >? >? >? ??? layer.44? 0.639932007? 4.8068650
>  >? >? >? >? ??? layer.45? 0.661347181? 8.1510170
>  >? >? >? >? ??? layer.46? 0.684117317? 0.2697413
>  >? >? >? >? ??? layer.47? 0.704829752 -0.1807501
>  >? >? >? >? ??? layer.48? 0.725045770? 9.7181249
>  >? >? >? >? ??? layer.49? 0.745165825? 1.5406466
>  >? >? >? >? ??? layer.50? 0.765016139 -1.6476041
>  >? >? >? >? ??? layer.51? 0.783461511? 4.8024603
>  >? >? >? >? ??? layer.52? 0.806382924? 4.0421516
>  >? >? >? >? ??? layer.53? 0.829241335? 9.3756512
>  >? >? >? >? ??? layer.54? 0.849924415? 5.3305050
>  >? >? >? >? ??? layer.55? 0.871352434? 7.5445803
>  >? >? >? >? ??? layer.56? 0.893632233? 6.4679547
>  >? >? >? >? ??? layer.57? 0.916052133? 2.8096065
>  >? >? >? >? ??? layer.58? 0.938579470? 5.3921661
>  >? >? >? >? ??? layer.59? 0.959907651? 7.2043689
>  >? >? >? >? ??? layer.60? 0.981643587? 3.3350806
>  >? >? >? >? ??? layer.61? 1.004116774? 8.8690707
>  >? >? >? >? ??? layer.62? 1.028363466? 1.7861299
>  >? >? >? >? ??? layer.63? 1.054009140? 6.2555038
>  >? >? >? >? ??? layer.64? 1.072440803? 7.6079236
>  >? >? >? >? ??? layer.65? 1.094457805? 7.6871483
>  >? >? >? >? ??? layer.66? 1.123176277? 4.7787764
>  >? >? >? >? ??? layer.67? 1.149430871 12.7110502
>  >? >? >? >? ??? layer.68? 1.170912921 -0.7156284
>  >? >? >? >? ??? layer.69? 1.196743071? 1.6490899
>  >? >? >? >? ??? layer.70? 1.218625903? 3.0363024
>  >? >? >? >? ??? layer.71? 1.241868377? 4.2974769
>  >? >? >? >? ??? layer.72? 1.267941594? 1.9543778
>  >? >? >? >? ??? layer.73? 1.290708780? 3.9986964
>  >? >? >? >? ??? layer.74? 1.313222289? 4.5179472
>  >? >? >? >? ??? layer.75? 1.339045882? 0.9337905
>  >? >? >? >? ??? layer.76? 1.362803459? 3.3050770
>  >? >? >? >? ??? layer.77? 1.384450197? 3.5422970
>  >? >? >? >? ??? layer.78? 1.409720302? 5.9973660
>  >? >? >? >? ??? layer.79? 1.435851157? 0.5081869
>  >? >? >? >? ??? layer.80? 1.455592215? 7.9661630
>  >? >? >? >? ??? layer.81? 1.479495347? 9.9460496
>  >? >? >? >? ??? layer.82? 1.506051958? 3.7908372
>  >? >? >? >? ??? layer.83? 1.525728464? 2.5735847
>  >? >? >? >? ??? layer.84? 1.549362063 10.1404974
>  >? >? >? >? ??? layer.85? 1.573440671 13.7408304
>  >? >? >? >? ??? layer.86? 1.600278735? 0.9335771
>  >? >? >? >? ??? layer.87? 1.623879492? 9.7588742
>  >? >? >? >? ??? layer.88? 1.650029302? 1.2769395
>  >? >? >? >? ??? layer.89? 1.672362328 13.4970906
>  >? >? >? >? ??? layer.90? 1.700221121 10.2087502
>  >? >? >? >? ??? layer.91? 1.724793375? 1.6811275
>  >? >? >? >? ??? layer.92? 1.751070559? 6.1178992
>  >? >? >? >? ??? layer.93? 1.778022110 -0.1567626
>  >? >? >? >? ??? layer.94? 1.803022087? 3.8237479
>  >? >? >? >? ??? layer.95? 1.830668867? 4.4331468
>  >? >? >? >? ??? layer.96? 1.855736911? 5.9790707
>  >? >? >? >? ??? layer.97? 1.882615030 11.3104333
>  >? >? >? >? ??? layer.98? 1.909218490? 8.2142607
>  >? >? >? >? ??? layer.99? 1.938130021 15.3209674
>  >? >? >? >? ??? layer.100 1.963727593? 5.8178217
>  >? >? >? >? ??? layer.101 1.993271947? 9.6004907
>  >? >? >? >? ??? layer.102 2.022548139? 3.4063646
>  >? >? >? >? ??? layer.103 2.050679922? 4.7375010
>  >? >? >? >? ??? layer.104 2.078064442? 3.0133019
>  >? >? >? >? ??? layer.105 2.104113460? 5.5659522
>  >? >? >? >? ??? layer.106 2.133597612 12.0346333
>  >? >? >? >? ??? layer.107 2.164026260 -0.4028320
>  >? >? >? >? ??? layer.108 2.194852829 10.5996780
>  >? >? >? >? ??? layer.109 2.224257946? 5.4479584
>  >? >? >? >? ??? layer.110 2.252194643? 4.7052374
>  >? >? >? >? ??? layer.111 2.277335048 14.0962019
>  >? >? >? >? ??? layer.112 2.304058313? 5.7149016
>  >? >? >? >? ??? layer.113 2.330930233? 3.7780072
>  >? >? >? >? ??? layer.114 2.357022762? 4.4120620
>  >? >? >? >? ??? layer.115 2.386489272? 4.1866085
>  >? >? >? >? ??? layer.116 2.417503953? 6.9078802
>  >? >? >? >? ??? layer.117 2.448524356? 2.7825739
>  >? >? >? >? ??? layer.118 2.478698969? 7.6171786
>  >? >? >? >? ??? layer.119 2.510175705 10.2410603
>  >? >? >? >? ??? layer.120 2.539697886? 8.1820711
>  >? >? >? >? ??? layer.121 2.567915559? 4.8275494
>  >? >? >? >? ??? layer.122 2.597463250 19.1624883
>  >? >? >? >? ??? layer.123 2.627518773 16.0677109
>  >? >? >? >? ??? layer.124 2.658759236 12.5897081
>  >? >? >? >? ??? layer.125 2.692401528? 9.2907988
>  >? >? >? >? ??? layer.126 2.721903205? 7.4262502
>  >? >? >? >? ??? layer.127 2.753021359? 9.3902518
>  >? >? >? >? ??? layer.128 2.786313415 12.6193550
>  >? >? >? >? ??? layer.129 2.819564104 11.1121040
>  >? >? >? >? ??? layer.130 2.850823164 15.7907100
>  >? >? >? >? ??? layer.131 2.880394101 10.7425287
>  >? >? >? >? ??? layer.132 2.911391258? 7.7971430
>  >? >? >? >? ??? layer.133 2.942965150? 8.8060858
>  >? >? >? >? ??? layer.134 2.974468350 17.5606266
>  >? >? >? >? ??? layer.135 3.008983612 17.3088605
>  >? >? >? >? ??? layer.136 3.040015221 13.4500543
>  >? >? >? >? ??? layer.137 3.072668672 14.6377884
>  >? >? >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>  >? >? > dput(onepctCO2MEDIAN)
>  >? >? >? >? ??? structure(list(x = c(0, 0.00679444684647024,
>  > 0.014288058038801,
>  >? >? >? >? ??? 0.0220879195258021,
>  >? >? > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>  >? >? >? >? ??? 0.0586777292191982, 0.0692614056169987,
>  >? >? > 0.080524530261755,0.0927602462470531,
>  >? >? >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>  >? >? > 0.141710050404072,
>  >? >? >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>  >? >? > 0.199463054537773,
>  >? >? >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>  >? >? > 0.263012766838074,
>  >? >? >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>  >? >? > 0.325990349054337,
>  >? >? >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>  >? >? > 0.39499294757843,
>  >? >? >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>  >? >? > 0.470167458057404,
>  >? >? >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>  >? >? > 0.543750524520874,
>  >? >? >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>  >? >? > 0.619924664497375,
>  >? >? >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>  >? >? > 0.704829752445221,
>  >? >? >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>  >? >? > 0.783461511135101,
>  >? >? >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>  >? >? > 0.871352434158325,
>  >? >? >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>  >? >? > 0.959907650947571,
>  >? >? >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>  >? >? > 1.05400913953781,
>  >? >? >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>  >? >? > 1.14943087100983,
>  >? >? >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>  >? >? > 1.24186837673187,
>  >? >? >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>  >? >? > 1.33904588222504,
>  >? >? >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>  >? >? > 1.43585115671158,
>  >? >? >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>  >? >? > 1.52572846412659,
>  >? >? >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>  >? >? > 1.62387949228287,
>  >? >? >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>  >? >? > 1.72479337453842,
>  >? >? >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>  >? >? > 1.83066886663437,
>  >? >? >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>  >? >? > 1.93813002109528,
>  >? >? >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>  >? >? > 2.05067992210388,
>  >? >? >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>  >? >? > 2.16402626037598,
>  >? >? >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>  >? >? > 2.27733504772186,
>  >? >? >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>  >? >? > 2.38648927211761,
>  >? >? >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>  >? >? > 2.51017570495605,
>  >? >? >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>  >? >? > 2.62751877307892,
>  >? >? >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>  >? >? > 2.75302135944366,
>  >? >? >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>  >? >? > 2.88039410114288,
>  >? >? >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>  >? >? > 3.00898361206055,
>  >? >? >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y =
>  > c(0,
>  >? >? >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>  >? >? > -1.24295055804536,
>  >? >? >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>  >? >? > -2.36770012911069,
>  >? >? >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>  >? >? > -2.41382533818026,
>  >? >? >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>  >? >? > -1.53496826259972,
>  >? >? >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>  >? >? > 0.136596820654013,
>  >? >? >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>  >? >? > 0.793803634291308,
>  >? >? >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>  >? >? > -1.41715777257774,
>  >? >? >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>  >? >? > -0.737609879885404,
>  >? >? >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>  >? >? > -0.978538630093809,
>  >? >? >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>  >? >? > 3.91689160157513,
>  >? >? >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>  >? >? > 8.15101701282067,
>  >? >? >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>  >? >? > 1.54064657400204,
>  >? >? >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>  >? >? > 9.37565121768513,
>  >? >? >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>  >? >? > 2.80960651433971,
>  >? >? >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>  >? >? > 8.86907069895943,
>  >? >? >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>  >? >? > 7.68714830528144,
>  >? >? >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>  >? >? > 1.64908991824022,
>  >? >? >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>  >? >? > 3.99869636910933,
>  >? >? >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>  >? >? > 3.5422970157433,
>  >? >? >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>  >? >? > 9.94604963036295,
>  >? >? >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>  >? >? > 13.7408303595752,
>  >? >? >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>  >? >? > 13.4970905965787,
>  >? >? >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>  >? >? > -0.156762622680077,
>  >? >? >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>  >? >? > 11.3104332518482,
>  >? >? >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>  >? >? > 9.6004907412354,
>  >? >? >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>  >? >? > 5.56595224859066,
>  >? >? >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>  >? >? > 5.44795836991128,
>  >? >? >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>  >? >? > 3.77800720810782,
>  >? >? >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>  >? >? > 2.78257393345915,
>  >? >? >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>  >? >? > 4.82754943871433,
>  >? >? >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>  >? >? > 9.29079879799404,
>  >? >? >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>  >? >? > 11.1121039747257,
>  >? >? >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>  >? >? > 8.80608578166101,
>  >? >? >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>  >? >? > 14.6377884248645,
>  >? >? >? >? ??? 8.07985518296064)), class = "data.frame", row.names =
>  >? > c("layer.1",
>  >? >? >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6",
>  > "layer.7",
>  >? >? >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>  >? >? > "layer.13",
>  >? >? >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>  >? >? > "layer.19",
>  >? >? >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>  >? >? > "layer.25",
>  >? >? >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>  >? >? > "layer.31",
>  >? >? >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>  >? >? > "layer.37",
>  >? >? >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>  >? >? > "layer.43",
>  >? >? >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>  >? >? > "layer.49",
>  >? >? >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>  >? >? > "layer.55",
>  >? >? >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>  >? >? > "layer.61",
>  >? >? >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>  >? >? > "layer.67",
>  >? >? >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>  >? >? > "layer.73",
>  >? >? >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>  >? >? > "layer.79",
>  >? >? >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>  >? >? > "layer.85",
>  >? >? >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>  >? >? > "layer.91",
>  >? >? >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>  >? >? > "layer.97",
>  >? >? >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", 
> "layer.102",
>  >? >? >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106",
>  > "layer.107",
>  >? >? >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111",
>  > "layer.112",
>  >? >? >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116",
>  > "layer.117",
>  >? >? >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121",
>  > "layer.122",
>  >? >? >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126",
>  > "layer.127",
>  >? >? >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131",
>  > "layer.132",
>  >? >? >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136",
>  > "layer.137",
>  >? >? >? >? ??? "layer.138"))
>  >? >? >? > I started with the following to generate the first 
> regression line
>  >? >? > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>  >? >? >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138],
>  > departurea),
>  >? >? >? >? ??? colour="blue") +
>  >? > geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>  >? >? >? >? ??? departurea), method=lm)
>  >? >? >? > But I receive this error:? ??Warning message:
>  >? >? >? >? ??? Computation failed in `stat_smooth()`:
>  >? >? >? >? ??? 'what' must be a function or character string
>  >? >? >? > A blue scatter plot is successfully generated, but the 
> problem is
>  >? >? > that the regression line does not appear, presumably related to the
>  >? >? > above warning.
>  >? >? >? > Is there a reason for this? I would appreciate any assistance!
>  >? >? >? > ??? [[alternative HTML version deleted]]
>  >? >? >
>  >? >? >? >
>  >? >? >? > ______________________________________________
>  >? >? >? > R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>>
>  > <mailto:R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>>> mailing list --
>  >? > To UNSUBSCRIBE and more, see
>  >? >? >? > https://stat.ethz.ch/mailman/listinfo/r-help
>  >? >? >? > PLEASE do read the posting guide
>  >? >? > http://www.R-project.org/posting-guide.html
>  >? >? >? > and provide commented, minimal, self-contained, reproducible 
> code.
>  >? >? >
>  >? >? >? >


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Jun  6 22:00:18 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 06 Jun 2019 13:00:18 -0700
Subject: [R] max size of a file that R can open to work
In-Reply-To: <CAEazNmne9u_ja2AW2wApa2AkwjPFTNTEeMqNN4FkySi6o5rarA@mail.gmail.com>
References: <CAEazNmne9u_ja2AW2wApa2AkwjPFTNTEeMqNN4FkySi6o5rarA@mail.gmail.com>
Message-ID: <54A3C012-FDF9-4477-8711-A10FDB1D2D73@dcn.davis.ca.us>

Technically "opening" a file does not involve reading it into memory at all, so any limits would arise from the OS.

As for "reading" the file, the amount of virtual memory [1] is the key factor, but different file formats can require more or less overhead memory to parse the data. Also, different functions may utilize available memory more or less efficiently, so your mileage may vary depending on what base or contributed functions you use to read the data.

[1] Virtual memory is a very OS-specific thing... but if you depend on it very much your performance will suffer considerably.

On June 5, 2019 2:38:29 PM PDT, Ricardo Lopez <gudiel.adv92 at gmail.com> wrote:
>Hello, I?d like to ask you if the max size of a file that R can open 
>or
>import to work depends of the memory RAM??  or has other restriction???
>
>Thank you very much
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From r@i@1290 m@iii@g oii @im@com  Thu Jun  6 22:08:16 2019
From: r@i@1290 m@iii@g oii @im@com (r@i@1290 m@iii@g oii @im@com)
Date: Thu, 6 Jun 2019 20:08:16 +0000 (UTC)
Subject: [R] Plotting more than one regression line in ggplot
In-Reply-To: <2f484ba7-8d90-955d-f785-21459b735772@sapo.pt>
References: <1137207179.276713.1559744517039.ref@mail.yahoo.com>
 <1137207179.276713.1559744517039@mail.yahoo.com>
 <f4750422-3f43-a0a2-0d8f-63b0b0008ee1@sapo.pt>
 <85074591.632264.1559770633796@mail.yahoo.com>
 <8bc79340-b679-5294-375a-553b6b9be907@sapo.pt>
 <974312679.997840.1559831718299@mail.yahoo.com>
 <43044833-28ad-af48-b86b-5d85eb910e52@sapo.pt>
 <2052071712.934379.1559836141605@mail.yahoo.com>
 <dae08fa6-280f-eda9-5c48-3f50527a9a03@sapo.pt>
 <336255924.971770.1559839786430@mail.yahoo.com>
 <2f484ba7-8d90-955d-f785-21459b735772@sapo.pt>
Message-ID: <1505631513.1200520.1559851696739@mail.yahoo.com>

Hi Rui,

Yes! This worked just fine! Thank you so, so much for your time and patience!?

-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt>
To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
Sent: Thu, Jun 6, 2019 3:25 pm
Subject: Re: [R] Plotting more than one regression line in ggplot

Hello,

Try this.


values_to_plot <- c("onepctCO2MEDIAN", "RCP4.5MEDIAN", "RCP8.5MEDIAN")
sub_df <- subset(NewestdataUltra, L1 %in% values_to_plot)

ggplot(sub_df, aes(x, value, colour = L1)) +
? geom_point() +
? scale_color_manual(values = c("green", "red", "blue")) +
? geom_smooth(method = lm)


If you have more L1 values to plot, add more colors. The number of 
colors must be equal to

length(values_to_plot)


Hope this helps,

Rui Barradas

?s 17:49 de 06/06/19, rain1290 at aim.com escreveu:
> Hi Rui, NewestdataUltra looks like this (Note that "HistoricalMEDIAN" is 
> hidden, but it follows "RCP8.5MEDIAN" listing the same way): x variable 
> value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2 0.006794447 y 
> 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999 onepctCO2MEDIAN 4 
> 0.022087920 y 6.63491326 onepctCO2MEDIAN 5 0.030797357 y -1.24295056 
> onepctCO2MEDIAN 6 0.038451072 y 1.56433744 onepctCO2MEDIAN 7 0.048087904 
> y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 2.20700446 onepctCO2MEDIAN 
> 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10 0.080524530 y -1.09135062 
> onepctCO2MEDIAN 11 0.092760246 y 0.40999399 onepctCO2MEDIAN 12 
> 0.103789609 y -0.12597268 onepctCO2MEDIAN 13 0.116953168 y -2.41382534 
> onepctCO2MEDIAN 14 0.129253298 y 7.08902570 onepctCO2MEDIAN 15 
> 0.141710050 y -0.75935388 onepctCO2MEDIAN 16 0.156002052 y 0.04544160 
> onepctCO2MEDIAN 17 0.170648172 y -1.53496826 onepctCO2MEDIAN 18 
> 0.185318425 y 6.55242014 onepctCO2MEDIAN 19 0.199463055 y -0.83125628 
> onepctCO2MEDIAN 20 0.213513337 y -2.50991826 onepctCO2MEDIAN 21 
> 0.228839271 y 0.13659682 onepctCO2MEDIAN 22 0.246981293 y -1.37198445 
> onepctCO2MEDIAN 23 0.263012767 y -0.87129883 onepctCO2MEDIAN 24 
> 0.278505564 y 0.66325836 onepctCO2MEDIAN 25 0.293658361 y 0.79380363 
> onepctCO2MEDIAN 26 0.310747266 y 3.48806374 onepctCO2MEDIAN 27 
> 0.325990349 y -4.46122081 onepctCO2MEDIAN 28 0.342517540 y 0.08717340 
> onepctCO2MEDIAN 29 0.362751633 y -1.41715777 onepctCO2MEDIAN 30 
> 0.380199537 y -0.99565082 onepctCO2MEDIAN 31 0.394992948 y 0.32155262 
> onepctCO2MEDIAN 32 0.414373398 y 3.14038657 onepctCO2MEDIAN 33 
> 0.430690214 y -0.73760988 onepctCO2MEDIAN 34 0.449738145 y -2.48605407 
> onepctCO2MEDIAN 35 0.470167458 y -3.42358584 onepctCO2MEDIAN 36 
> 0.489019871 y 0.48247475 onepctCO2MEDIAN 37 0.507242471 y -0.97853863 
> onepctCO2MEDIAN 38 0.524314284 y 8.53596838 onepctCO2MEDIAN 39 
> 0.543750525 y 5.48447420 onepctCO2MEDIAN 40 0.564234197 y 3.21493666 
> onepctCO2MEDIAN 41 0.583679616 y 3.91689160 onepctCO2MEDIAN 42 
> 0.601459444 y 4.49070196 onepctCO2MEDIAN 43 0.619924664 y 6.54104103 
> onepctCO2MEDIAN 44 0.639932007 y 4.80686500 onepctCO2MEDIAN 45 
> 0.661347181 y 8.15101701 onepctCO2MEDIAN 46 0.684117317 y 0.26974132 
> onepctCO2MEDIAN 47 0.704829752 y -0.18075007 onepctCO2MEDIAN 48 
> 0.725045770 y 9.71812491 onepctCO2MEDIAN 49 0.745165825 y 1.54064657 
> onepctCO2MEDIAN 50 0.765016139 y -1.64760409 onepctCO2MEDIAN 51 
> 0.783461511 y 4.80246029 onepctCO2MEDIAN 52 0.806382924 y 4.04215160 
> onepctCO2MEDIAN 53 0.829241335 y 9.37565122 onepctCO2MEDIAN 54 
> 0.849924415 y 5.33050497 onepctCO2MEDIAN 55 0.871352434 y 7.54458026 
> onepctCO2MEDIAN 56 0.893632233 y 6.46795471 onepctCO2MEDIAN 57 
> 0.916052133 y 2.80960651 onepctCO2MEDIAN 58 0.938579470 y 5.39216613 
> onepctCO2MEDIAN 59 0.959907651 y 7.20436888 onepctCO2MEDIAN 60 
> 0.981643587 y 3.33508065 onepctCO2MEDIAN 61 1.004116774 y 8.86907070 
> onepctCO2MEDIAN 62 1.028363466 y 1.78612989 onepctCO2MEDIAN 63 
> 1.054009140 y 6.25550382 onepctCO2MEDIAN 64 1.072440803 y 7.60792365 
> onepctCO2MEDIAN 65 1.094457805 y 7.68714831 onepctCO2MEDIAN 66 
> 1.123176277 y 4.77877639 onepctCO2MEDIAN 67 1.149430871 y 12.71105018 
> onepctCO2MEDIAN 68 1.170912921 y -0.71562844 onepctCO2MEDIAN 69 
> 1.196743071 y 1.64908992 onepctCO2MEDIAN 70 1.218625903 y 3.03630241 
> onepctCO2MEDIAN 71 1.241868377 y 4.29747688 onepctCO2MEDIAN 72 
> 1.267941594 y 1.95437781 onepctCO2MEDIAN 73 1.290708780 y 3.99869637 
> onepctCO2MEDIAN 74 1.313222289 y 4.51794725 onepctCO2MEDIAN 75 
> 1.339045882 y 0.93379048 onepctCO2MEDIAN 76 1.362803459 y 3.30507700 
> onepctCO2MEDIAN 77 1.384450197 y 3.54229702 onepctCO2MEDIAN 78 
> 1.409720302 y 5.99736597 onepctCO2MEDIAN 79 1.435851157 y 0.50818686 
> onepctCO2MEDIAN 80 1.455592215 y 7.96616301 onepctCO2MEDIAN 81 
> 1.479495347 y 9.94604963 onepctCO2MEDIAN 82 1.506051958 y 3.79083717 
> onepctCO2MEDIAN 83 1.525728464 y 2.57358469 onepctCO2MEDIAN 84 
> 1.549362063 y 10.14049742 onepctCO2MEDIAN 85 1.573440671 y 13.74083036 
> onepctCO2MEDIAN 86 1.600278735 y 0.93357712 onepctCO2MEDIAN 87 
> 1.623879492 y 9.75887417 onepctCO2MEDIAN 88 1.650029302 y 1.27693947 
> onepctCO2MEDIAN 89 1.672362328 y 13.49709060 onepctCO2MEDIAN 90 
> 1.700221121 y 10.20875018 onepctCO2MEDIAN 91 1.724793375 y 1.68112753 
> onepctCO2MEDIAN 92 1.751070559 y 6.11789915 onepctCO2MEDIAN 93 
> 1.778022110 y -0.15676262 onepctCO2MEDIAN 94 1.803022087 y 3.82374792 
> onepctCO2MEDIAN 95 1.830668867 y 4.43314679 onepctCO2MEDIAN 96 
> 1.855736911 y 5.97907067 onepctCO2MEDIAN 97 1.882615030 y 11.31043325 
> onepctCO2MEDIAN 98 1.909218490 y 8.21426074 onepctCO2MEDIAN 99 
> 1.938130021 y 15.32096736 onepctCO2MEDIAN 100 1.963727593 y 5.81782169 
> onepctCO2MEDIAN 101 1.993271947 y 9.60049074 onepctCO2MEDIAN 102 
> 2.022548139 y 3.40636456 onepctCO2MEDIAN 103 2.050679922 y 4.73750104 
> onepctCO2MEDIAN 104 2.078064442 y 3.01330195 onepctCO2MEDIAN 105 
> 2.104113460 y 5.56595225 onepctCO2MEDIAN 106 2.133597612 y 12.03463325 
> onepctCO2MEDIAN 107 2.164026260 y -0.40283200 onepctCO2MEDIAN 108 
> 2.194852829 y 10.59967795 onepctCO2MEDIAN 109 2.224257946 y 5.44795837 
> onepctCO2MEDIAN 110 2.252194643 y 4.70523736 onepctCO2MEDIAN 111 
> 2.277335048 y 14.09620189 onepctCO2MEDIAN 112 2.304058313 y 5.71490162 
> onepctCO2MEDIAN 113 2.330930233 y 3.77800721 onepctCO2MEDIAN 114 
> 2.357022762 y 4.41206201 onepctCO2MEDIAN 115 2.386489272 y 4.18660848 
> onepctCO2MEDIAN 116 2.417503953 y 6.90788020 onepctCO2MEDIAN 117 
> 2.448524356 y 2.78257393 onepctCO2MEDIAN 118 2.478698969 y 7.61717857 
> onepctCO2MEDIAN 119 2.510175705 y 10.24106026 onepctCO2MEDIAN 120 
> 2.539697886 y 8.18207107 onepctCO2MEDIAN 121 2.567915559 y 4.82754944 
> onepctCO2MEDIAN 122 2.597463250 y 19.16248829 onepctCO2MEDIAN 123 
> 2.627518773 y 16.06771094 onepctCO2MEDIAN 124 2.658759236 y 12.58970807 
> onepctCO2MEDIAN 125 2.692401528 y 9.29079880 onepctCO2MEDIAN 126 
> 2.721903205 y 7.42625020 onepctCO2MEDIAN 127 2.753021359 y 9.39025180 
> onepctCO2MEDIAN 128 2.786313415 y 12.61935503 onepctCO2MEDIAN 129 
> 2.819564104 y 11.11210397 onepctCO2MEDIAN 130 2.850823164 y 15.79070997 
> onepctCO2MEDIAN 131 2.880394101 y 10.74252868 onepctCO2MEDIAN 132 
> 2.911391258 y 7.79714300 onepctCO2MEDIAN 133 2.942965150 y 8.80608578 
> onepctCO2MEDIAN 134 2.974468350 y 17.56062663 onepctCO2MEDIAN 135 
> 3.008983612 y 17.30886049 onepctCO2MEDIAN 136 3.040015221 y 13.45005435 
> onepctCO2MEDIAN 137 3.072668672 y 14.63778842 onepctCO2MEDIAN 138 
> 3.105982423 y 8.07985518 onepctCO2MEDIAN 139 0.467429527 y -1.55704023 
> RCP4.5MEDIAN 140 0.478266196 y -3.19367515 RCP4.5MEDIAN 141 0.489205229 
> y -2.44452679 RCP4.5MEDIAN 142 0.500039143 y 0.87504367 RCP4.5MEDIAN 143 
> 0.511021115 y -0.39185002 RCP4.5MEDIAN 144 0.519874968 y -4.18935168 
> RCP4.5MEDIAN 145 0.528508358 y -3.64179524 RCP4.5MEDIAN 146 0.537377594 
> y -2.58167128 RCP4.5MEDIAN 147 0.546194211 y 2.20583694 RCP4.5MEDIAN 148 
> 0.554720591 y -8.57764597 RCP4.5MEDIAN 149 0.563289814 y 2.88442536 
> RCP4.5MEDIAN 150 0.572032790 y -3.90829882 RCP4.5MEDIAN 151 0.580939066 
> y -3.39269048 RCP4.5MEDIAN 152 0.590921065 y -4.60849867 RCP4.5MEDIAN 
> 153 0.601575326 y -1.62572657 RCP4.5MEDIAN 154 0.612425555 y 1.14198465 
> RCP4.5MEDIAN 155 0.623773319 y -3.38454122 RCP4.5MEDIAN 156 0.635363359 
> y 2.43414265 RCP4.5MEDIAN 157 0.646722666 y 3.30007615 RCP4.5MEDIAN 158 
> 0.658285673 y -0.79555442 RCP4.5MEDIAN 159 0.670250852 y -2.05220500 
> RCP4.5MEDIAN 160 0.681702690 y -5.56808946 RCP4.5MEDIAN 161 0.693531145 
> y 2.24168605 RCP4.5MEDIAN 162 0.706016061 y -4.83673351 RCP4.5MEDIAN 163 
> 0.718231249 y 0.40086819 RCP4.5MEDIAN 164 0.730190911 y -1.98026992 
> RCP4.5MEDIAN 165 0.741269845 y 0.39963115 RCP4.5MEDIAN 166 0.751000321 y 
> -0.83241777 RCP4.5MEDIAN 167 0.760886972 y -1.66101404 RCP4.5MEDIAN 168 
> 0.771137164 y -1.05452982 RCP4.5MEDIAN 169 0.781856383 y -1.18338156 
> RCP4.5MEDIAN 170 0.792607542 y 0.22722653 RCP4.5MEDIAN 171 0.803724128 y 
> -1.90642564 RCP4.5MEDIAN 172 0.815066246 y 0.75010550 RCP4.5MEDIAN 173 
> 0.826027437 y -1.31108646 RCP4.5MEDIAN 174 0.836766732 y 1.05961515 
> RCP4.5MEDIAN 175 0.847553312 y -2.06588010 RCP4.5MEDIAN 176 0.858331452 
> y 8.53403315 RCP4.5MEDIAN 177 0.869154422 y 0.09979751 RCP4.5MEDIAN 178 
> 0.879572539 y -2.50854353 RCP4.5MEDIAN 179 0.889426601 y 5.29550783 
> RCP4.5MEDIAN 180 0.899009805 y 2.02909481 RCP4.5MEDIAN 181 0.908289566 y 
> 2.66922982 RCP4.5MEDIAN 182 0.917284978 y -4.17757196 RCP4.5MEDIAN 183 
> 0.926128960 y 3.40202916 RCP4.5MEDIAN 184 0.934752874 y -1.92292218 
> RCP4.5MEDIAN 185 0.943010943 y 6.36969150 RCP4.5MEDIAN 186 0.950999217 y 
> 1.86490308 RCP4.5MEDIAN 187 0.958795701 y 8.32126161 RCP4.5MEDIAN 188 
> 0.966310396 y 10.15048356 RCP4.5MEDIAN 189 0.973635493 y 6.68925964 
> RCP4.5MEDIAN 190 0.980834088 y -1.01615369 RCP4.5MEDIAN 191 0.987694790 
> y 0.20892853 RCP4.5MEDIAN 192 0.994548581 y -1.52787222 RCP4.5MEDIAN 193 
> 1.001274595 y -0.72374597 RCP4.5MEDIAN 194 1.007810612 y 2.26062309 
> RCP4.5MEDIAN 195 1.014270389 y -2.40270340 RCP4.5MEDIAN 196 1.022719711 
> y -1.94548262 RCP4.5MEDIAN 197 1.032070810 y -1.13053235 RCP4.5MEDIAN 
> 198 1.041118812 y 0.56107969 RCP4.5MEDIAN 199 1.050189571 y 3.27941835 
> RCP4.5MEDIAN 200 1.059380475 y 3.01333588 RCP4.5MEDIAN 201 1.067877585 y 
> 4.87457336 RCP4.5MEDIAN 202 1.076078766 y 1.02457895 RCP4.5MEDIAN 203 
> 1.084707357 y 4.49174869 RCP4.5MEDIAN 204 1.093223180 y 8.24629303 
> RCP4.5MEDIAN 205 1.101414382 y -0.03364132 RCP4.5MEDIAN 206 1.108886304 
> y 9.12509848 RCP4.5MEDIAN 207 1.115482896 y 1.74254621 RCP4.5MEDIAN 208 
> 1.121856558 y 2.27004536 RCP4.5MEDIAN 209 1.127809421 y -0.65627179 
> RCP4.5MEDIAN 210 1.133265961 y 12.02566969 RCP4.5MEDIAN 211 1.138549712 
> y -1.04260843 RCP4.5MEDIAN 212 1.143910237 y -6.47611327 RCP4.5MEDIAN 
> 213 1.149437787 y 8.88410567 RCP4.5MEDIAN 214 1.154488347 y -4.24916247 
> RCP4.5MEDIAN 215 1.159872903 y 7.90741918 RCP4.5MEDIAN 216 1.165477487 y 
> -3.91386711 RCP4.5MEDIAN 217 1.171103424 y 1.02370701 RCP4.5MEDIAN 218 
> 1.177498256 y -3.71206616 RCP4.5MEDIAN 219 1.184003888 y -1.05694182 
> RCP4.5MEDIAN 220 1.190395856 y 1.10501459 RCP4.5MEDIAN 221 1.197284280 y 
> 2.67668639 RCP4.5MEDIAN 222 1.204590551 y 2.21693031 RCP4.5MEDIAN 223 
> 1.210807614 y 2.90252830 RCP4.5MEDIAN 224 1.216470664 y 2.75093766 
> RCP4.5MEDIAN 225 1.221914148 y -0.73815245 RCP4.5MEDIAN 226 1.227580480 
> y 3.58554626 RCP4.5MEDIAN 227 1.233317788 y 10.89961658 RCP4.5MEDIAN 228 
> 1.238093406 y 3.23374387 RCP4.5MEDIAN 229 0.466622908 y -1.92366466 
> RCP8.5MEDIAN 230 0.474211509 y 4.09292949 RCP8.5MEDIAN 231 0.480383051 y 
> -0.84736312 RCP8.5MEDIAN 232 0.486304903 y -0.80597889 RCP8.5MEDIAN 233 
> 0.492151615 y -0.50244413 RCP8.5MEDIAN 234 0.499312643 y 3.07785701 
> RCP8.5MEDIAN 235 0.508859905 y -6.15175322 RCP8.5MEDIAN 236 0.518758845 
> y -0.51590144 RCP8.5MEDIAN 237 0.528675758 y 3.33135956 RCP8.5MEDIAN 238 
> 0.538928423 y 2.62280891 RCP8.5MEDIAN 239 0.549621221 y -6.90096009 
> RCP8.5MEDIAN 240 0.560062840 y -3.45706029 RCP8.5MEDIAN 241 0.570860791 
> y 1.36192518 RCP8.5MEDIAN 242 0.581923368 y 0.34822359 RCP8.5MEDIAN 243 
> 0.592628298 y 3.06882935 RCP8.5MEDIAN 244 0.604230648 y -3.56142825 
> RCP8.5MEDIAN 245 0.615975167 y 10.35932554 RCP8.5MEDIAN 246 0.627448279 
> y 10.21751629 RCP8.5MEDIAN 247 0.639401050 y 3.31040335 RCP8.5MEDIAN 248 
> 0.651949591 y -0.53558775 RCP8.5MEDIAN 249 0.664634427 y 2.66081860 
> RCP8.5MEDIAN 250 0.677343552 y 3.21379656 RCP8.5MEDIAN [ reached 'max' / 
> getOption("max.print") -- omitted 212 rows ]
> 
> 
> If I wanted scatter plots and regression lines of onepctCO2MEDIAN, 
> RCP4.5MEDIAN and RCP8.5MEDIAN, would I do something like this? :
> ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value, 
> colour = L1)) + geom_point() + scale_color_manual(values =c("green", 
> "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
> **//___^
> Thanks,
> 
> -----Original Message-----
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: rain1290 <rain1290 at aim.com>; r-help <r-help at R-project.org>
> Sent: Thu, Jun 6, 2019 11:53 am
> Subject: Re: [R] Plotting more than one regression line in ggplot
> 
> Hello,
> 
> It's impossible to say without seeing the data.
> 
> What is the return value of
> 
> df_tmp <- subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN')
> unique(df_tmp$L1)
> 
> The number of colors must be the same as
> 
> length(unique(df_tmp$L1))
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 16:49 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> escreveu:
>? > Hi Rui,
>? >
>? > Yes, you are right. It should be this, but I tried with only 3 colors,
>? > as you suggested:
>? >
>? > ggplot(subset(NewestdataUltra, L1 != 'onepctCO2MEDIAN'), aes(x, value,
>? > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>? > "blue" "red")) + geom_smooth(method = lm, se=FALSE)
>? >
>? > **//___^
>? > **//___^I still end up with the same error, however, when I specify only
>? > 3 colors. Why could this be?
>? >
>? >
>? > -----Original Message-----
>? > From: Rui Barradas <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com>>; r-help 
> <r-help at R-project.org <mailto:r-help at R-project.org>>
>? > Sent: Thu, Jun 6, 2019 11:18 am
>? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >
>? > Hello,
>? >
>? > 1) In the text you say your dataset is named NewestdataUltra but in the
>? > ggplot instruction it's Newestdata. One of these is wrong.
>? >
>? > 2) Is it onepctCO2MEDIAN or RCPonepctCO2MEDIAN?
>? >
>? > 3) You are filtering out the value in point ) above. So you only plot 3
>? > regression lines, you don't need 4 colors.
>? >
>? >
>? > Hope this helps,
>? >
>? > Rui Barradas
>? >
>? > ?s 15:35 de 06/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>> escreveu:
>? >? > Hi Rui (and everyone),
>? >? >
>? >? >
>? >? > Thank you for this! Yes, this did work fine, as I can see my scatter
>? >? > plots and regression lines on the same plot, along with the 
> appropriate
>? >? > coloring scheme! :)
>? >? >
>? >? > Just one last question concerning this - I melted other dataframes 
> into
>? >? > my new "NewestdataUltra". I now have 4 objects listed in there in this
>? >? > order (starting from the top of the list): "onepctCO2MEDIAN",
>? >? > "RCP4.5MEDIAN", RCP8.5MEDIAN", and "HistoricalMEDIAN". I tried 
> plotting
>? >? > colored scattered plots and regression lines for these in this manner:
>? >? >
>? >? > ggplot(subset(Newestdata, L1 != 'RCPonepctCO2MEDIAN'), aes(x, value,
>? >? > colour = L1)) + geom_point() + scale_color_manual(values =c("green",
>? >? > "blue" "red", "black")) + geom_smooth(method = lm, se=FALSE)
>? >? >
>? >? > However, I received this error:
>? >? >
>? >? > Error: unexpected string constant in 
> "ggplot(subset(NewestdataUltra, L1
>? >? > != 'RCPonepctCO2MEDIAN'), aes(x, value, colour = L1)) + geom_point() +
>? >? > scale_color_manual(values =c("green", "blue" "red""
>? >? >
>? >? > **//___^
>? >? >
>? >? > Why would this error appear?? I think that I assigned the colors
>? >? > correctly to each of the four objects in question, so why would this
>? > occur?
>? >? >
>? >? > Thank you, once again!
>? >? >
>? >? > -----Original Message-----
>? >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>>>
>? >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>; r-help
>? > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>
>? >? > Sent: Thu, Jun 6, 2019 6:52 am
>? >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >? >
>? >? > Hello,
>? >? >
>? >? > You are confusing some of the values of L1 with L1 itself.
>? >? > If you just want two of those values in your plot, 
> "onepctCO2MEDIAN" and
>? >? > "RCP8.5MEDIAN", you need to subset the data filtering out the rows 
> with
>? >? > L1 == "RCP4.5MEDIAN".
>? >? >
>? >? > And please forget geom_jitter, it is completely inappropriate for the
>? >? > type of scatter plot you are trying to graph. You jitter when there is
>? >? > overplotting, not as a general purpose technique.
>? >? >
>? >? > Here is one way to do it.
>? >? >
>? >? >
>? >? > ggplot(subset(NewestdataUltra, L1 != 'RCP4.5MEDIAN'),
>? >? >? ? ? ? ? aes(x, value, colour = L1)) +
>? >? >? ? geom_point() +
>? >? >? ? scale_color_manual(values = c("green", "red")) +
>? >? >? ? geom_smooth(method = lm)
>? >? >
>? >? >
>? >? > Hope this helps,
>? >? >
>? >? > Rui Barradas
>? >? >
>? >? > ?s 22:37 de 05/06/19, rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>
>? > <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>> escreveu:
>? >? >? > Hi Rui (and everyone),
>? >? >? >
>? >? >? > Thank you so much for your response! Much appreciated!
>? >? >? >
>? >? >? > What if I wanted I create several regression lines and scatter
>? > plots in
>? >? >? > the same ggplot using a "melted" dataset? I would like to create a
>? >? >? > scatter plot and regression line for both the objects of
>? >? >? > "onepctCO2MEDIAN" and "RCP8.5MEDIANThis melted dataset looks like
>? > this:
>? >? >? >
>? >? >? >
>? >? >? >? >NewestdataUltra
>? >? >? >
>? >? >? > x variable value L1 1 0.000000000 y 0.00000000 onepctCO2MEDIAN 2
>? >? >? > 0.006794447 y 4.90024902 onepctCO2MEDIAN 3 0.014288058 y 0.16079999
>? >? >? > onepctCO2MEDIAN 4 0.022087920 y 6.63491326 onepctCO2MEDIAN 5
>? > 0.030797357
>? >? >? > y -1.24295056 onepctCO2MEDIAN 6 0.038451072 y 1.56433744
>? > onepctCO2MEDIAN
>? >? >? > 7 0.048087904 y -2.26590352 onepctCO2MEDIAN 8 0.058677729 y 
> 2.20700446
>? >? >? > onepctCO2MEDIAN 9 0.069261406 y -2.36770013 onepctCO2MEDIAN 10
>? >? >? > 0.080524530 y -1.09135062 onepctCO2MEDIAN 11 0.092760246 y 
> 0.40999399
>? >? >? > onepctCO2MEDIAN 12 0.103789609 y -0.12597268 onepctCO2MEDIAN 13
>? >? >? > 0.116953168 y -2.41382534 onepctCO2MEDIAN 14 0.129253298 y 
> 7.08902570
>? >? >? > onepctCO2MEDIAN 15 0.141710050 y -0.75935388 onepctCO2MEDIAN 16
>? >? >? > 0.156002052 y 0.04544160 onepctCO2MEDIAN 17 0.170648172 y 
> -1.53496826
>? >? >? > onepctCO2MEDIAN 18 0.185318425 y 6.55242014 onepctCO2MEDIAN 19
>? >? >? > 0.199463055 y -0.83125628 onepctCO2MEDIAN 20 0.213513337 y 
> -2.50991826
>? >? >? > onepctCO2MEDIAN 21 0.228839271 y 0.13659682 onepctCO2MEDIAN 22
>? >? >? > 0.246981293 y -1.37198445 onepctCO2MEDIAN 23 0.263012767 y 
> -0.87129883
>? >? >? > onepctCO2MEDIAN 24 0.278505564 y 0.66325836 onepctCO2MEDIAN 25
>? >? >? > 0.293658361 y 0.79380363 onepctCO2MEDIAN 26 0.310747266 y 
> 3.48806374
>? >? >? > onepctCO2MEDIAN 27 0.325990349 y -4.46122081 onepctCO2MEDIAN 28
>? >? >? > 0.342517540 y 0.08717340 onepctCO2MEDIAN 29 0.362751633 y 
> -1.41715777
>? >? >? > onepctCO2MEDIAN 30 0.380199537 y -0.99565082 onepctCO2MEDIAN 31
>? >? >? > 0.394992948 y 0.32155262 onepctCO2MEDIAN 32 0.414373398 y 
> 3.14038657
>? >? >? > onepctCO2MEDIAN 33 0.430690214 y -0.73760988 onepctCO2MEDIAN 34
>? >? >? > 0.449738145 y -2.48605407 onepctCO2MEDIAN 35 0.470167458 y 
> -3.42358584
>? >? >? > onepctCO2MEDIAN 36 0.489019871 y 0.48247475 onepctCO2MEDIAN 37
>? >? >? > 0.507242471 y -0.97853863 onepctCO2MEDIAN 38 0.524314284 y 
> 8.53596838
>? >? >? > onepctCO2MEDIAN 39 0.543750525 y 5.48447420 onepctCO2MEDIAN 40
>? >? >? > 0.564234197 y 3.21493666 onepctCO2MEDIAN 41 0.583679616 y 
> 3.91689160
>? >? >? > onepctCO2MEDIAN 42 0.601459444 y 4.49070196 onepctCO2MEDIAN 43
>? >? >? > 0.619924664 y 6.54104103 onepctCO2MEDIAN 44 0.639932007 y 
> 4.80686500
>? >? >? > onepctCO2MEDIAN 45 0.661347181 y 8.15101701 onepctCO2MEDIAN 46
>? >? >? > 0.684117317 y 0.26974132 onepctCO2MEDIAN 47 0.704829752 y 
> -0.18075007
>? >? >? > onepctCO2MEDIAN 48 0.725045770 y 9.71812491 onepctCO2MEDIAN 49
>? >? >? > 0.745165825 y 1.54064657 onepctCO2MEDIAN 50 0.765016139 y 
> -1.64760409
>? >? >? > onepctCO2MEDIAN 51 0.783461511 y 4.80246029 onepctCO2MEDIAN 52
>? >? >? > 0.806382924 y 4.04215160 onepctCO2MEDIAN 53 0.829241335 y 
> 9.37565122
>? >? >? > onepctCO2MEDIAN 54 0.849924415 y 5.33050497 onepctCO2MEDIAN 55
>? >? >? > 0.871352434 y 7.54458026 onepctCO2MEDIAN 56 0.893632233 y 
> 6.46795471
>? >? >? > onepctCO2MEDIAN 57 0.916052133 y 2.80960651 onepctCO2MEDIAN 58
>? >? >? > 0.938579470 y 5.39216613 onepctCO2MEDIAN 59 0.959907651 y 
> 7.20436888
>? >? >? > onepctCO2MEDIAN 60 0.981643587 y 3.33508065 onepctCO2MEDIAN 61
>? >? >? > 1.004116774 y 8.86907070 onepctCO2MEDIAN 62 1.028363466 y 
> 1.78612989
>? >? >? > onepctCO2MEDIAN 63 1.054009140 y 6.25550382 onepctCO2MEDIAN 64
>? >? >? > 1.072440803 y 7.60792365 onepctCO2MEDIAN 65 1.094457805 y 
> 7.68714831
>? >? >? > onepctCO2MEDIAN 66 1.123176277 y 4.77877639 onepctCO2MEDIAN 67
>? >? >? > 1.149430871 y 12.71105018 onepctCO2MEDIAN 68 1.170912921 y 
> -0.71562844
>? >? >? > onepctCO2MEDIAN 69 1.196743071 y 1.64908992 onepctCO2MEDIAN 70
>? >? >? > 1.218625903 y 3.03630241 onepctCO2MEDIAN 71 1.241868377 y 
> 4.29747688
>? >? >? > onepctCO2MEDIAN 72 1.267941594 y 1.95437781 onepctCO2MEDIAN 73
>? >? >? > 1.290708780 y 3.99869637 onepctCO2MEDIAN 74 1.313222289 y 
> 4.51794725
>? >? >? > onepctCO2MEDIAN 75 1.339045882 y 0.93379048 onepctCO2MEDIAN 76
>? >? >? > 1.362803459 y 3.30507700 onepctCO2MEDIAN 77 1.384450197 y 
> 3.54229702
>? >? >? > onepctCO2MEDIAN 78 1.409720302 y 5.99736597 onepctCO2MEDIAN 79
>? >? >? > 1.435851157 y 0.50818686 onepctCO2MEDIAN 80 1.455592215 y 
> 7.96616301
>? >? >? > onepctCO2MEDIAN 81 1.479495347 y 9.94604963 onepctCO2MEDIAN 82
>? >? >? > 1.506051958 y 3.79083717 onepctCO2MEDIAN 83 1.525728464 y 
> 2.57358469
>? >? >? > onepctCO2MEDIAN 84 1.549362063 y 10.14049742 onepctCO2MEDIAN 85
>? >? >? > 1.573440671 y 13.74083036 onepctCO2MEDIAN 86 1.600278735 y 
> 0.93357712
>? >? >? > onepctCO2MEDIAN 87 1.623879492 y 9.75887417 onepctCO2MEDIAN 88
>? >? >? > 1.650029302 y 1.27693947 onepctCO2MEDIAN 89 1.672362328 y 
> 13.49709060
>? >? >? > onepctCO2MEDIAN 90 1.700221121 y 10.20875018 onepctCO2MEDIAN 91
>? >? >? > 1.724793375 y 1.68112753 onepctCO2MEDIAN 92 1.751070559 y 
> 6.11789915
>? >? >? > onepctCO2MEDIAN 93 1.778022110 y -0.15676262 onepctCO2MEDIAN 94
>? >? >? > 1.803022087 y 3.82374792 onepctCO2MEDIAN 95 1.830668867 y 
> 4.43314679
>? >? >? > onepctCO2MEDIAN 96 1.855736911 y 5.97907067 onepctCO2MEDIAN 97
>? >? >? > 1.882615030 y 11.31043325 onepctCO2MEDIAN 98 1.909218490 y 
> 8.21426074
>? >? >? > onepctCO2MEDIAN 99 1.938130021 y 15.32096736 onepctCO2MEDIAN 100
>? >? >? > 1.963727593 y 5.81782169 onepctCO2MEDIAN 101 1.993271947 y 
> 9.60049074
>? >? >? > onepctCO2MEDIAN 102 2.022548139 y 3.40636456 onepctCO2MEDIAN 103
>? >? >? > 2.050679922 y 4.73750104 onepctCO2MEDIAN 104 2.078064442 y 
> 3.01330195
>? >? >? > onepctCO2MEDIAN 105 2.104113460 y 5.56595225 onepctCO2MEDIAN 106
>? >? >? > 2.133597612 y 12.03463325 onepctCO2MEDIAN 107 2.164026260 y
>? > -0.40283200
>? >? >? > onepctCO2MEDIAN 108 2.194852829 y 10.59967795 onepctCO2MEDIAN 109
>? >? >? > 2.224257946 y 5.44795837 onepctCO2MEDIAN 110 2.252194643 y 
> 4.70523736
>? >? >? > onepctCO2MEDIAN 111 2.277335048 y 14.09620189 onepctCO2MEDIAN 112
>? >? >? > 2.304058313 y 5.71490162 onepctCO2MEDIAN 113 2.330930233 y 
> 3.77800721
>? >? >? > onepctCO2MEDIAN 114 2.357022762 y 4.41206201 onepctCO2MEDIAN 115
>? >? >? > 2.386489272 y 4.18660848 onepctCO2MEDIAN 116 2.417503953 y 
> 6.90788020
>? >? >? > onepctCO2MEDIAN 117 2.448524356 y 2.78257393 onepctCO2MEDIAN 118
>? >? >? > 2.478698969 y 7.61717857 onepctCO2MEDIAN 119 2.510175705 y 
> 10.24106026
>? >? >? > onepctCO2MEDIAN 120 2.539697886 y 8.18207107 onepctCO2MEDIAN 121
>? >? >? > 2.567915559 y 4.82754944 onepctCO2MEDIAN 122 2.597463250 y 
> 19.16248829
>? >? >? > onepctCO2MEDIAN 123 2.627518773 y 16.06771094 onepctCO2MEDIAN 124
>? >? >? > 2.658759236 y 12.58970807 onepctCO2MEDIAN 125 2.692401528 y 
> 9.29079880
>? >? >? > onepctCO2MEDIAN 126 2.721903205 y 7.42625020 onepctCO2MEDIAN 127
>? >? >? > 2.753021359 y 9.39025180 onepctCO2MEDIAN 128 2.786313415 y 
> 12.61935503
>? >? >? > onepctCO2MEDIAN 129 2.819564104 y 11.11210397 onepctCO2MEDIAN 130
>? >? >? > 2.850823164 y 15.79070997 onepctCO2MEDIAN 131 2.880394101 y
>? > 10.74252868
>? >? >? > onepctCO2MEDIAN 132 2.911391258 y 7.79714300 onepctCO2MEDIAN 133
>? >? >? > 2.942965150 y 8.80608578 onepctCO2MEDIAN 134 2.974468350 y 
> 17.56062663
>? >? >? > onepctCO2MEDIAN 135 3.008983612 y 17.30886049 onepctCO2MEDIAN 136
>? >? >? > 3.040015221 y 13.45005435 onepctCO2MEDIAN 137 3.072668672 y
>? > 14.63778842
>? >? >? > onepctCO2MEDIAN 138 3.105982423 y 8.07985518 onepctCO2MEDIAN 139
>? >? >? > 0.467429527 y -1.55704023 RCP4.5MEDIAN 140 0.478266196 y 
> -3.19367515
>? >? >? > RCP4.5MEDIAN 141 0.489205229 y -2.44452679 RCP4.5MEDIAN 142
>? > 0.500039143
>? >? >? > y 0.87504367 RCP4.5MEDIAN 143 0.511021115 y -0.39185002
>? > RCP4.5MEDIAN 144
>? >? >? > 0.519874968 y -4.18935168 RCP4.5MEDIAN 145 0.528508358 y 
> -3.64179524
>? >? >? > RCP4.5MEDIAN 146 0.537377594 y -2.58167128 RCP4.5MEDIAN 147
>? > 0.546194211
>? >? >? > y 2.20583694 RCP4.5MEDIAN 148 0.554720591 y -8.57764597
>? > RCP4.5MEDIAN 149
>? >? >? > 0.563289814 y 2.88442536 RCP4.5MEDIAN 150 0.572032790 y -3.90829882
>? >? >? > RCP4.5MEDIAN 151 0.580939066 y -3.39269048 RCP4.5MEDIAN 152
>? > 0.590921065
>? >? >? > y -4.60849867 RCP4.5MEDIAN 153 0.601575326 y -1.62572657 
> RCP4.5MEDIAN
>? >? >? > 154 0.612425555 y 1.14198465 RCP4.5MEDIAN 155 0.623773319 y
>? > -3.38454122
>? >? >? > RCP4.5MEDIAN 156 0.635363359 y 2.43414265 RCP4.5MEDIAN 157
>? > 0.646722666 y
>? >? >? > 3.30007615 RCP4.5MEDIAN 158 0.658285673 y -0.79555442 
> RCP4.5MEDIAN 159
>? >? >? > 0.670250852 y -2.05220500 RCP4.5MEDIAN 160 0.681702690 y 
> -5.56808946
>? >? >? > RCP4.5MEDIAN 161 0.693531145 y 2.24168605 RCP4.5MEDIAN 162
>? > 0.706016061 y
>? >? >? > -4.83673351 RCP4.5MEDIAN 163 0.718231249 y 0.40086819 
> RCP4.5MEDIAN 164
>? >? >? > 0.730190911 y -1.98026992 RCP4.5MEDIAN 165 0.741269845 y 0.39963115
>? >? >? > RCP4.5MEDIAN 166 0.751000321 y -0.83241777 RCP4.5MEDIAN 167
>? > 0.760886972
>? >? >? > y -1.66101404 RCP4.5MEDIAN 168 0.771137164 y -1.05452982 
> RCP4.5MEDIAN
>? >? >? > 169 0.781856383 y -1.18338156 RCP4.5MEDIAN 170 0.792607542 y
>? > 0.22722653
>? >? >? > RCP4.5MEDIAN 171 0.803724128 y -1.90642564 RCP4.5MEDIAN 172
>? > 0.815066246
>? >? >? > y 0.75010550 RCP4.5MEDIAN 173 0.826027437 y -1.31108646
>? > RCP4.5MEDIAN 174
>? >? >? > 0.836766732 y 1.05961515 RCP4.5MEDIAN 175 0.847553312 y -2.06588010
>? >? >? > RCP4.5MEDIAN 176 0.858331452 y 8.53403315 RCP4.5MEDIAN 177
>? > 0.869154422 y
>? >? >? > 0.09979751 RCP4.5MEDIAN 178 0.879572539 y -2.50854353 
> RCP4.5MEDIAN 179
>? >? >? > 0.889426601 y 5.29550783 RCP4.5MEDIAN 180 0.899009805 y 2.02909481
>? >? >? > RCP4.5MEDIAN 181 0.908289566 y 2.66922982 RCP4.5MEDIAN 182
>? > 0.917284978 y
>? >? >? > -4.17757196 RCP4.5MEDIAN 183 0.926128960 y 3.40202916 
> RCP4.5MEDIAN 184
>? >? >? > 0.934752874 y -1.92292218 RCP4.5MEDIAN 185 0.943010943 y 6.36969150
>? >? >? > RCP4.5MEDIAN 186 0.950999217 y 1.86490308 RCP4.5MEDIAN 187
>? > 0.958795701 y
>? >? >? > 8.32126161 RCP4.5MEDIAN 188 0.966310396 y 10.15048356 
> RCP4.5MEDIAN 189
>? >? >? > 0.973635493 y 6.68925964 RCP4.5MEDIAN 190 0.980834088 y -1.01615369
>? >? >? > RCP4.5MEDIAN 191 0.987694790 y 0.20892853 RCP4.5MEDIAN 192
>? > 0.994548581 y
>? >? >? > -1.52787222 RCP4.5MEDIAN 193 1.001274595 y -0.72374597
>? > RCP4.5MEDIAN 194
>? >? >? > 1.007810612 y 2.26062309 RCP4.5MEDIAN 195 1.014270389 y -2.40270340
>? >? >? > RCP4.5MEDIAN 196 1.022719711 y -1.94548262 RCP4.5MEDIAN 197
>? > 1.032070810
>? >? >? > y -1.13053235 RCP4.5MEDIAN 198 1.041118812 y 0.56107969
>? > RCP4.5MEDIAN 199
>? >? >? > 1.050189571 y 3.27941835 RCP4.5MEDIAN 200 1.059380475 y 3.01333588
>? >? >? > RCP4.5MEDIAN 201 1.067877585 y 4.87457336 RCP4.5MEDIAN 202
>? > 1.076078766 y
>? >? >? > 1.02457895 RCP4.5MEDIAN 203 1.084707357 y 4.49174869 
> RCP4.5MEDIAN 204
>? >? >? > 1.093223180 y 8.24629303 RCP4.5MEDIAN 205 1.101414382 y -0.03364132
>? >? >? > RCP4.5MEDIAN 206 1.108886304 y 9.12509848 RCP4.5MEDIAN 207
>? > 1.115482896 y
>? >? >? > 1.74254621 RCP4.5MEDIAN 208 1.121856558 y 2.27004536 
> RCP4.5MEDIAN 209
>? >? >? > 1.127809421 y -0.65627179 RCP4.5MEDIAN 210 1.133265961 y 
> 12.02566969
>? >? >? > RCP4.5MEDIAN 211 1.138549712 y -1.04260843 RCP4.5MEDIAN 212
>? > 1.143910237
>? >? >? > y -6.47611327 RCP4.5MEDIAN 213 1.149437787 y 8.88410567
>? > RCP4.5MEDIAN 214
>? >? >? > 1.154488347 y -4.24916247 RCP4.5MEDIAN 215 1.159872903 y 7.90741918
>? >? >? > RCP4.5MEDIAN 216 1.165477487 y -3.91386711 RCP4.5MEDIAN 217
>? > 1.171103424
>? >? >? > y 1.02370701 RCP4.5MEDIAN 218 1.177498256 y -3.71206616
>? > RCP4.5MEDIAN 219
>? >? >? > 1.184003888 y -1.05694182 RCP4.5MEDIAN 220 1.190395856 y 1.10501459
>? >? >? > RCP4.5MEDIAN 221 1.197284280 y 2.67668639 RCP4.5MEDIAN 222
>? > 1.204590551 y
>? >? >? > 2.21693031 RCP4.5MEDIAN 223 1.210807614 y 2.90252830 
> RCP4.5MEDIAN 224
>? >? >? > 1.216470664 y 2.75093766 RCP4.5MEDIAN 225 1.221914148 y -0.73815245
>? >? >? > RCP4.5MEDIAN 226 1.227580480 y 3.58554626 RCP4.5MEDIAN 227
>? > 1.233317788 y
>? >? >? > 10.89961658 RCP4.5MEDIAN 228 1.238093406 y 3.23374387 
> RCP4.5MEDIAN 229
>? >? >? > 0.466622908 y -1.92366466 RCP8.5MEDIAN 230 0.474211509 y 4.09292949
>? >? >? > RCP8.5MEDIAN 231 0.480383051 y -0.84736312 RCP8.5MEDIAN 232
>? > 0.486304903
>? >? >? > y -0.80597889 RCP8.5MEDIAN 233 0.492151615 y -0.50244413 
> RCP8.5MEDIAN
>? >? >? > 234 0.499312643 y 3.07785701 RCP8.5MEDIAN 235 0.508859905 y
>? > -6.15175322
>? >? >? > RCP8.5MEDIAN 236 0.518758845 y -0.51590144 RCP8.5MEDIAN 237
>? > 0.528675758
>? >? >? > y 3.33135956 RCP8.5MEDIAN 238 0.538928423 y 2.62280891
>? > RCP8.5MEDIAN 239
>? >? >? > 0.549621221 y -6.90096009 RCP8.5MEDIAN 240 0.560062840 y 
> -3.45706029
>? >? >? > RCP8.5MEDIAN 241 0.570860791 y 1.36192518 RCP8.5MEDIAN 242
>? > 0.581923368 y
>? >? >? > 0.34822359 RCP8.5MEDIAN 243 0.592628298 y 3.06882935 
> RCP8.5MEDIAN 244
>? >? >? > 0.604230648 y -3.56142825 RCP8.5MEDIAN 245 0.615975167 y 
> 10.35932554
>? >? >? > RCP8.5MEDIAN 246 0.627448279 y 10.21751629 RCP8.5MEDIAN 247
>? > 0.639401050
>? >? >? > y 3.31040335 RCP8.5MEDIAN 248 0.651949591 y -0.53558775
>? > RCP8.5MEDIAN 249
>? >? >? > 0.664634427 y 2.66081860 RCP8.5MEDIAN 250 0.677343552 y 3.21379656
>? >? >? > RCP8.5MEDIAN Maybe something like this?
>? >? >? >
>? >? >? > lusher<-ggplot(NewestdataULTRA) +
>? >? >? > geom_jitter(aes(x,value,onepctCO2MEDIAN=L1), colour="green") +
>? >? >? > geom_smooth(aes(x, value, onepctCO2MEDIAN=L1), method=lm) +
>? >? >? > geom_jitter(aes(x, value, RCP8.5MEDIAN=L1), colour="red")**//___^
>? >? >? > **//___^
>? >? >? > I receive this warning, however:
>? >? >? >
>? >? >? > Warning:Ignoring unknown aesthetics: onepctCO2MEDIAN 
> Warning:Ignoring
>? >? >? > unknown aesthetics: onepctCO2MEDIAN
>? >? >? >
>? >? >? > **//___^
>? >? >? > Perhaps I am not assigning the columns properly? Essentially, I 
> just
>? >? >? > want create two scatter plots and two regression lines for 
> these two
>? >? >? > objects.
>? >? >? >
>? >? >? > Once again, any assistance would be greatly appreciated!
>? >? >? >
>? >? >? > -----Original Message-----
>? >? >? > From: Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>
>? > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> 
> <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>? > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>>
>? >? >? > To: rain1290 <rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>
>? > <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com> 
> <mailto:rain1290 at aim.com <mailto:rain1290 at aim.com>>>>; r-help
>? >? > <r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>
>? > <mailto:r-help at R-project.org <mailto:r-help at R-project.org> 
> <mailto:r-help at R-project.org <mailto:r-help at R-project.org>>>>;
>? >? >? > r-sig-geo <r-sig-geo at r-project.org 
> <mailto:r-sig-geo at r-project.org>
>? > <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>> 
> <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>
>? > <mailto:r-sig-geo at r-project.org <mailto:r-sig-geo at r-project.org>>>>
>? >? >? > Sent: Wed, Jun 5, 2019 10:52 am
>? >? >? > Subject: Re: [R] Plotting more than one regression line in ggplot
>? >? >? >
>? >? >? > Hello,
>? >? >? >
>? >? >? > This is pretty basic ggplot.
>? >? >? >
>? >? >? >
>? >? >? > lm1 <- ggplot(onepctCO2MEDIAN, aes(x, y)) +
>? >? >? >? ? geom_point(colour = 'blue') +
>? >? >? >? ? geom_smooth(method = 'lm')
>? >? >? >
>? >? >? > lm1
>? >? >? >
>? >? >? >
>? >? >? > If you want to combine several datasets, you will have to have a
>? >? >? > variable telling which dataset is which. In the example below, 
> this is
>? >? >? > column 'id'.
>? >? >? >
>? >? >? >
>? >? >? > onepctCO2MEDIAN2 <- onepctCO2MEDIAN
>? >? >? > onepctCO2MEDIAN2$y <- jitter(onepctCO2MEDIAN2$y) + 2
>? >? >? > onepctCO2MEDIAN$id <- 1
>? >? >? > onepctCO2MEDIAN2$id <- 2
>? >? >? > df2 <- rbind(onepctCO2MEDIAN, onepctCO2MEDIAN2)
>? >? >? >
>? >? >? > ggplot(df2, aes(x, y, group = id, colour = factor(id))) +
>? >? >? >? ? geom_point() +
>? >? >? >? ? geom_smooth(method = 'lm')
>? >? >? >
>? >? >? >
>? >? >? > Hope this helps,
>? >? >? >
>? >? >? > Rui Barradas
>? >? >? >
>? >? >? > ?s 15:21 de 05/06/19, rain1290--- via R-help escreveu:
>? >? >? >? > I am trying to plot, using ggplot, a series of scatter plots 
> with
>? >? >? > regression lines for several datasets. I started with the following
>? >? >? > dataset, "onepectCO2MEDIAN". The data for this dataset is as 
> follows:
>? >? >? >? >? ??? onepctCO2MEDIAN
>? >? >? >? >? ??????????????????? x????????? y
>? >? >? >? >? ??? layer.1?? 0.000000000? 0.0000000
>? >? >? >? >? ??? layer.2?? 0.006794447? 4.9002490
>? >? >? >? >? ??? layer.3?? 0.014288058? 0.1608000
>? >? >? >? >? ??? layer.4?? 0.022087920? 6.6349133
>? >? >? >? >? ??? layer.5?? 0.030797357 -1.2429506
>? >? >? >? >? ??? layer.6?? 0.038451072? 1.5643374
>? >? >? >? >? ??? layer.7?? 0.048087904 -2.2659035
>? >? >? >? >? ??? layer.8?? 0.058677729? 2.2070045
>? >? >? >? >? ??? layer.9?? 0.069261406 -2.3677001
>? >? >? >? >? ??? layer.10? 0.080524530 -1.0913506
>? >? >? >? >? ??? layer.11? 0.092760246? 0.4099940
>? >? >? >? >? ??? layer.12? 0.103789609 -0.1259727
>? >? >? >? >? ??? layer.13? 0.116953168 -2.4138253
>? >? >? >? >? ??? layer.14? 0.129253298? 7.0890257
>? >? >? >? >? ??? layer.15? 0.141710050 -0.7593539
>? >? >? >? >? ??? layer.16? 0.156002052? 0.0454416
>? >? >? >? >? ??? layer.17? 0.170648172 -1.5349683
>? >? >? >? >? ??? layer.18? 0.185318425? 6.5524201
>? >? >? >? >? ??? layer.19? 0.199463055 -0.8312563
>? >? >? >? >? ??? layer.20? 0.213513337 -2.5099183
>? >? >? >? >? ??? layer.21? 0.228839271? 0.1365968
>? >? >? >? >? ??? layer.22? 0.246981293 -1.3719845
>? >? >? >? >? ??? layer.23? 0.263012767 -0.8712988
>? >? >? >? >? ??? layer.24? 0.278505564? 0.6632584
>? >? >? >? >? ??? layer.25? 0.293658361? 0.7938036
>? >? >? >? >? ??? layer.26? 0.310747266? 3.4880637
>? >? >? >? >? ??? layer.27? 0.325990349 -4.4612208
>? >? >? >? >? ??? layer.28? 0.342517540? 0.0871734
>? >? >? >? >? ??? layer.29? 0.362751633 -1.4171578
>? >? >? >? >? ??? layer.30? 0.380199537 -0.9956508
>? >? >? >? >? ??? layer.31? 0.394992948? 0.3215526
>? >? >? >? >? ??? layer.32? 0.414373398? 3.1403866
>? >? >? >? >? ??? layer.33? 0.430690214 -0.7376099
>? >? >? >? >? ??? layer.34? 0.449738145 -2.4860541
>? >? >? >? >? ??? layer.35? 0.470167458 -3.4235858
>? >? >? >? >? ??? layer.36? 0.489019871? 0.4824748
>? >? >? >? >? ??? layer.37? 0.507242471 -0.9785386
>? >? >? >? >? ??? layer.38? 0.524314284? 8.5359684
>? >? >? >? >? ??? layer.39? 0.543750525? 5.4844742
>? >? >? >? >? ??? layer.40? 0.564234197? 3.2149367
>? >? >? >? >? ??? layer.41? 0.583679616? 3.9168916
>? >? >? >? >? ??? layer.42? 0.601459444? 4.4907020
>? >? >? >? >? ??? layer.43? 0.619924664? 6.5410410
>? >? >? >? >? ??? layer.44? 0.639932007? 4.8068650
>? >? >? >? >? ??? layer.45? 0.661347181? 8.1510170
>? >? >? >? >? ??? layer.46? 0.684117317? 0.2697413
>? >? >? >? >? ??? layer.47? 0.704829752 -0.1807501
>? >? >? >? >? ??? layer.48? 0.725045770? 9.7181249
>? >? >? >? >? ??? layer.49? 0.745165825? 1.5406466
>? >? >? >? >? ??? layer.50? 0.765016139 -1.6476041
>? >? >? >? >? ??? layer.51? 0.783461511? 4.8024603
>? >? >? >? >? ??? layer.52? 0.806382924? 4.0421516
>? >? >? >? >? ??? layer.53? 0.829241335? 9.3756512
>? >? >? >? >? ??? layer.54? 0.849924415? 5.3305050
>? >? >? >? >? ??? layer.55? 0.871352434? 7.5445803
>? >? >? >? >? ??? layer.56? 0.893632233? 6.4679547
>? >? >? >? >? ??? layer.57? 0.916052133? 2.8096065
>? >? >? >? >? ??? layer.58? 0.938579470? 5.3921661
>? >? >? >? >? ??? layer.59? 0.959907651? 7.2043689
>? >? >? >? >? ??? layer.60? 0.981643587? 3.3350806
>? >? >? >? >? ??? layer.61? 1.004116774? 8.8690707
>? >? >? >? >? ??? layer.62? 1.028363466? 1.7861299
>? >? >? >? >? ??? layer.63? 1.054009140? 6.2555038
>? >? >? >? >? ??? layer.64? 1.072440803? 7.6079236
>? >? >? >? >? ??? layer.65? 1.094457805? 7.6871483
>? >? >? >? >? ??? layer.66? 1.123176277? 4.7787764
>? >? >? >? >? ??? layer.67? 1.149430871 12.7110502
>? >? >? >? >? ??? layer.68? 1.170912921 -0.7156284
>? >? >? >? >? ??? layer.69? 1.196743071? 1.6490899
>? >? >? >? >? ??? layer.70? 1.218625903? 3.0363024
>? >? >? >? >? ??? layer.71? 1.241868377? 4.2974769
>? >? >? >? >? ??? layer.72? 1.267941594? 1.9543778
>? >? >? >? >? ??? layer.73? 1.290708780? 3.9986964
>? >? >? >? >? ??? layer.74? 1.313222289? 4.5179472
>? >? >? >? >? ??? layer.75? 1.339045882? 0.9337905
>? >? >? >? >? ??? layer.76? 1.362803459? 3.3050770
>? >? >? >? >? ??? layer.77? 1.384450197? 3.5422970
>? >? >? >? >? ??? layer.78? 1.409720302? 5.9973660
>? >? >? >? >? ??? layer.79? 1.435851157? 0.5081869
>? >? >? >? >? ??? layer.80? 1.455592215? 7.9661630
>? >? >? >? >? ??? layer.81? 1.479495347? 9.9460496
>? >? >? >? >? ??? layer.82? 1.506051958? 3.7908372
>? >? >? >? >? ??? layer.83? 1.525728464? 2.5735847
>? >? >? >? >? ??? layer.84? 1.549362063 10.1404974
>? >? >? >? >? ??? layer.85? 1.573440671 13.7408304
>? >? >? >? >? ??? layer.86? 1.600278735? 0.9335771
>? >? >? >? >? ??? layer.87? 1.623879492? 9.7588742
>? >? >? >? >? ??? layer.88? 1.650029302? 1.2769395
>? >? >? >? >? ??? layer.89? 1.672362328 13.4970906
>? >? >? >? >? ??? layer.90? 1.700221121 10.2087502
>? >? >? >? >? ??? layer.91? 1.724793375? 1.6811275
>? >? >? >? >? ??? layer.92? 1.751070559? 6.1178992
>? >? >? >? >? ??? layer.93? 1.778022110 -0.1567626
>? >? >? >? >? ??? layer.94? 1.803022087? 3.8237479
>? >? >? >? >? ??? layer.95? 1.830668867? 4.4331468
>? >? >? >? >? ??? layer.96? 1.855736911? 5.9790707
>? >? >? >? >? ??? layer.97? 1.882615030 11.3104333
>? >? >? >? >? ??? layer.98? 1.909218490? 8.2142607
>? >? >? >? >? ??? layer.99? 1.938130021 15.3209674
>? >? >? >? >? ??? layer.100 1.963727593? 5.8178217
>? >? >? >? >? ??? layer.101 1.993271947? 9.6004907
>? >? >? >? >? ??? layer.102 2.022548139? 3.4063646
>? >? >? >? >? ??? layer.103 2.050679922? 4.7375010
>? >? >? >? >? ??? layer.104 2.078064442? 3.0133019
>? >? >? >? >? ??? layer.105 2.104113460? 5.5659522
>? >? >? >? >? ??? layer.106 2.133597612 12.0346333
>? >? >? >? >? ??? layer.107 2.164026260 -0.4028320
>? >? >? >? >? ??? layer.108 2.194852829 10.5996780
>? >? >? >? >? ??? layer.109 2.224257946? 5.4479584
>? >? >? >? >? ??? layer.110 2.252194643? 4.7052374
>? >? >? >? >? ??? layer.111 2.277335048 14.0962019
>? >? >? >? >? ??? layer.112 2.304058313? 5.7149016
>? >? >? >? >? ??? layer.113 2.330930233? 3.7780072
>? >? >? >? >? ??? layer.114 2.357022762? 4.4120620
>? >? >? >? >? ??? layer.115 2.386489272? 4.1866085
>? >? >? >? >? ??? layer.116 2.417503953? 6.9078802
>? >? >? >? >? ??? layer.117 2.448524356? 2.7825739
>? >? >? >? >? ??? layer.118 2.478698969? 7.6171786
>? >? >? >? >? ??? layer.119 2.510175705 10.2410603
>? >? >? >? >? ??? layer.120 2.539697886? 8.1820711
>? >? >? >? >? ??? layer.121 2.567915559? 4.8275494
>? >? >? >? >? ??? layer.122 2.597463250 19.1624883
>? >? >? >? >? ??? layer.123 2.627518773 16.0677109
>? >? >? >? >? ??? layer.124 2.658759236 12.5897081
>? >? >? >? >? ??? layer.125 2.692401528? 9.2907988
>? >? >? >? >? ??? layer.126 2.721903205? 7.4262502
>? >? >? >? >? ??? layer.127 2.753021359? 9.3902518
>? >? >? >? >? ??? layer.128 2.786313415 12.6193550
>? >? >? >? >? ??? layer.129 2.819564104 11.1121040
>? >? >? >? >? ??? layer.130 2.850823164 15.7907100
>? >? >? >? >? ??? layer.131 2.880394101 10.7425287
>? >? >? >? >? ??? layer.132 2.911391258? 7.7971430
>? >? >? >? >? ??? layer.133 2.942965150? 8.8060858
>? >? >? >? >? ??? layer.134 2.974468350 17.5606266
>? >? >? >? >? ??? layer.135 3.008983612 17.3088605
>? >? >? >? >? ??? layer.136 3.040015221 13.4500543
>? >? >? >? >? ??? layer.137 3.072668672 14.6377884
>? >? >? >? >? ??? layer.138 3.105982423? 8.0798552dput(onepctCO2MEDIAN)
>? >? >? > dput(onepctCO2MEDIAN)
>? >? >? >? >? ??? structure(list(x = c(0, 0.00679444684647024,
>? > 0.014288058038801,
>? >? >? >? >? ??? 0.0220879195258021,
>? >? >? > 0.0307973567396402,0.0384510718286037,0.0480879042297602,
>? >? >? >? >? ??? 0.0586777292191982, 0.0692614056169987,
>? >? >? > 0.080524530261755,0.0927602462470531,
>? >? >? >? >? ??? 0.103789608925581, 0.116953168064356, 0.129253298044205,
>? >? >? > 0.141710050404072,
>? >? >? >? >? ??? 0.156002052128315, 0.170648172497749, 0.185318425297737,
>? >? >? > 0.199463054537773,
>? >? >? >? >? ??? 0.21351333707571, 0.22883927077055, 0.246981292963028,
>? >? >? > 0.263012766838074,
>? >? >? >? >? ??? 0.278505563735962, 0.29365836083889, 0.310747265815735,
>? >? >? > 0.325990349054337,
>? >? >? >? >? ??? 0.342517539858818, 0.362751632928848, 0.380199536681175,
>? >? >? > 0.39499294757843,
>? >? >? >? >? ??? 0.414373397827148, 0.430690214037895, 0.449738144874573,
>? >? >? > 0.470167458057404,
>? >? >? >? >? ??? 0.489019870758057, 0.507242470979691, 0.524314284324646,
>? >? >? > 0.543750524520874,
>? >? >? >? >? ??? 0.56423419713974, 0.583679616451263, 0.601459443569183,
>? >? >? > 0.619924664497375,
>? >? >? >? >? ??? 0.639932006597519, 0.661347180604935, 0.684117317199707,
>? >? >? > 0.704829752445221,
>? >? >? >? >? ??? 0.725045770406723, 0.745165824890137, 0.765016138553619,
>? >? >? > 0.783461511135101,
>? >? >? >? >? ??? 0.806382924318314, 0.829241335391998, 0.84992441534996,
>? >? >? > 0.871352434158325,
>? >? >? >? >? ??? 0.893632233142853, 0.916052132844925, 0.938579469919205,
>? >? >? > 0.959907650947571,
>? >? >? >? >? ??? 0.981643587350845, 1.00411677360535, 1.02836346626282,
>? >? >? > 1.05400913953781,
>? >? >? >? >? ??? 1.07244080305099, 1.09445780515671, 1.12317627668381,
>? >? >? > 1.14943087100983,
>? >? >? >? >? ??? 1.17091292142868, 1.19674307107925, 1.21862590312958,
>? >? >? > 1.24186837673187,
>? >? >? >? >? ??? 1.26794159412384, 1.2907087802887, 1.31322228908539,
>? >? >? > 1.33904588222504,
>? >? >? >? >? ??? 1.36280345916748, 1.38445019721985, 1.40972030162811,
>? >? >? > 1.43585115671158,
>? >? >? >? >? ??? 1.45559221506119, 1.47949534654617, 1.50605195760727,
>? >? >? > 1.52572846412659,
>? >? >? >? >? ??? 1.5493620634079, 1.5734406709671, 1.60027873516083,
>? >? >? > 1.62387949228287,
>? >? >? >? >? ??? 1.65002930164337, 1.67236232757568, 1.70022112131119,
>? >? >? > 1.72479337453842,
>? >? >? >? >? ??? 1.75107055902481, 1.77802211046219, 1.80302208662033,
>? >? >? > 1.83066886663437,
>? >? >? >? >? ??? 1.85573691129684, 1.88261502981186, 1.90921849012375,
>? >? >? > 1.93813002109528,
>? >? >? >? >? ??? 1.96372759342194, 1.99327194690704, 2.02254813909531,
>? >? >? > 2.05067992210388,
>? >? >? >? >? ??? 2.07806444168091, 2.1041134595871, 2.13359761238098,
>? >? >? > 2.16402626037598,
>? >? >? >? >? ??? 2.19485282897949, 2.2242579460144, 2.25219464302063,
>? >? >? > 2.27733504772186,
>? >? >? >? >? ??? 2.30405831336975, 2.33093023300171, 2.35702276229858,
>? >? >? > 2.38648927211761,
>? >? >? >? >? ??? 2.41750395298004, 2.44852435588837, 2.47869896888733,
>? >? >? > 2.51017570495605,
>? >? >? >? >? ??? 2.53969788551331, 2.567915558815, 2.59746325016022,
>? >? >? > 2.62751877307892,
>? >? >? >? >? ??? 2.65875923633575, 2.69240152835846, 2.72190320491791,
>? >? >? > 2.75302135944366,
>? >? >? >? >? ??? 2.78631341457367, 2.8195641040802, 2.85082316398621,
>? >? >? > 2.88039410114288,
>? >? >? >? >? ??? 2.91139125823975, 2.94296514987946, 2.97446835041046,
>? >? >? > 3.00898361206055,
>? >? >? >? >? ??? 3.04001522064209, 3.07266867160797, 3.10598242282867), y =
>? > c(0,
>? >? >? >? >? ??? 4.90024901723162, 0.160799993152722, 6.63491326258641,
>? >? >? > -1.24295055804536,
>? >? >? >? >? ??? 1.56433744259162, -2.26590352245208, 2.20700446463354,
>? >? >? > -2.36770012911069,
>? >? >? >? >? ??? -1.09135061899174, 0.409993989292701, -0.125972681525582,
>? >? >? > -2.41382533818026,
>? >? >? >? >? ??? 7.08902570153028, -0.759353880417294, 0.0454415959640926,
>? >? >? > -1.53496826259972,
>? >? >? >? >? ??? 6.55242014096194, -0.831256280861552, -2.50991825629084,
>? >? >? > 0.136596820654013,
>? >? >? >? >? ??? -1.37198445498419, -0.871298832596736, 0.663258363762466,
>? >? >? > 0.793803634291308,
>? >? >? >? >? ??? 3.48806373666998, -4.46122081238949, 0.0871733966938564,
>? >? >? > -1.41715777257774,
>? >? >? >? >? ??? -0.995650815648318, 0.32155262317503, 3.14038657369241,
>? >? >? > -0.737609879885404,
>? >? >? >? >? ??? -2.48605406511292, -3.423585843908, 0.482474753780281,
>? >? >? > -0.978538630093809,
>? >? >? >? >? ??? 8.53596837794201, 5.48447420320695, 3.21493665820644,
>? >? >? > 3.91689160157513,
>? >? >? >? >? ??? 4.49070195980797, 6.54104103157039, 4.80686500146557,
>? >? >? > 8.15101701282067,
>? >? >? >? >? ??? 0.26974132191657, -0.180750068063062, 9.71812491230244,
>? >? >? > 1.54064657400204,
>? >? >? >? >? ??? -1.64760408795688, 4.80246028991894, 4.04215159914344,
>? >? >? > 9.37565121768513,
>? >? >? >? >? ??? 5.33050496938428, 7.54458026088508, 6.46795470819342,
>? >? >? > 2.80960651433971,
>? >? >? >? >? ??? 5.39216613235986, 7.20436888038562, 3.3350806460997,
>? >? >? > 8.86907069895943,
>? >? >? >? >? ??? 1.78612988613659, 6.25550382050395, 7.60792364896564,
>? >? >? > 7.68714830528144,
>? >? >? >? >? ??? 4.77877638957615, 12.7110501777314, -0.715628443181046,
>? >? >? > 1.64908991824022,
>? >? >? >? >? ??? 3.03630240714679, 4.29747688442346, 1.95437780501881,
>? >? >? > 3.99869636910933,
>? >? >? >? >? ??? 4.51794724689848, 0.933790484492299, 3.30507700050003,
>? >? >? > 3.5422970157433,
>? >? >? >? >? ??? 5.99736597322524, 0.508186860060022, 7.96616300581067,
>? >? >? > 9.94604963036295,
>? >? >? >? >? ??? 3.79083717222623, 2.57358468532258, 10.1404974171776,
>? >? >? > 13.7408303595752,
>? >? >? >? >? ??? 0.933577123801399, 9.75887417074129, 1.27693947132921,
>? >? >? > 13.4970905965787,
>? >? >? >? >? ??? 10.2087501765735, 1.68112753028756, 6.1178991508927,
>? >? >? > -0.156762622680077,
>? >? >? >? >? ??? 3.82374791691426, 4.43314678736265, 5.97907067167507,
>? >? >? > 11.3104332518482,
>? >? >? >? >? ??? 8.21426074201525, 15.320967360602, 5.81782169471483,
>? >? >? > 9.6004907412354,
>? >? >? >? >? ??? 3.40636455909704, 4.73750103921864, 3.0133019468806,
>? >? >? > 5.56595224859066,
>? >? >? >? >? ??? 12.0346332527215, -0.40283199827104, 10.5996779538754,
>? >? >? > 5.44795836991128,
>? >? >? >? >? ??? 4.70523736412729, 14.096201892183, 5.71490161813391,
>? >? >? > 3.77800720810782,
>? >? >? >? >? ??? 4.41206200639436, 4.18660847858423, 6.90788020044911,
>? >? >? > 2.78257393345915,
>? >? >? >? >? ??? 7.61717857379431, 10.2410602647684, 8.18207106836167,
>? >? >? > 4.82754943871433,
>? >? >? >? >? ??? 19.1624882857155, 16.0677109398509, 12.589708067017,
>? >? >? > 9.29079879799404,
>? >? >? >? >? ??? 7.42625019725314, 9.39025179806185, 12.6193550331438,
>? >? >? > 11.1121039747257,
>? >? >? >? >? ??? 15.7907099734986, 10.7425286789233, 7.79714300307344,
>? >? >? > 8.80608578166101,
>? >? >? >? >? ??? 17.5606266346039, 17.3088604929222, 13.4500543478523,
>? >? >? > 14.6377884248645,
>? >? >? >? >? ??? 8.07985518296064)), class = "data.frame", row.names =
>? >? > c("layer.1",
>? >? >? >? >? ??? "layer.2", "layer.3", "layer.4", "layer.5", "layer.6",
>? > "layer.7",
>? >? >? >? >? ??? "layer.8", "layer.9", "layer.10", "layer.11", "layer.12",
>? >? >? > "layer.13",
>? >? >? >? >? ??? "layer.14", "layer.15", "layer.16", "layer.17", "layer.18",
>? >? >? > "layer.19",
>? >? >? >? >? ??? "layer.20", "layer.21", "layer.22", "layer.23", "layer.24",
>? >? >? > "layer.25",
>? >? >? >? >? ??? "layer.26", "layer.27", "layer.28", "layer.29", "layer.30",
>? >? >? > "layer.31",
>? >? >? >? >? ??? "layer.32", "layer.33", "layer.34", "layer.35", "layer.36",
>? >? >? > "layer.37",
>? >? >? >? >? ??? "layer.38", "layer.39", "layer.40", "layer.41", "layer.42",
>? >? >? > "layer.43",
>? >? >? >? >? ??? "layer.44", "layer.45", "layer.46", "layer.47", "layer.48",
>? >? >? > "layer.49",
>? >? >? >? >? ??? "layer.50", "layer.51", "layer.52", "layer.53", "layer.54",
>? >? >? > "layer.55",
>? >? >? >? >? ??? "layer.56", "layer.57", "layer.58", "layer.59", "layer.60",
>? >? >? > "layer.61",
>? >? >? >? >? ??? "layer.62", "layer.63", "layer.64", "layer.65", "layer.66",
>? >? >? > "layer.67",
>? >? >? >? >? ??? "layer.68", "layer.69", "layer.70", "layer.71", "layer.72",
>? >? >? > "layer.73",
>? >? >? >? >? ??? "layer.74", "layer.75", "layer.76", "layer.77", "layer.78",
>? >? >? > "layer.79",
>? >? >? >? >? ??? "layer.80", "layer.81", "layer.82", "layer.83", "layer.84",
>? >? >? > "layer.85",
>? >? >? >? >? ??? "layer.86", "layer.87", "layer.88", "layer.89", "layer.90",
>? >? >? > "layer.91",
>? >? >? >? >? ??? "layer.92", "layer.93", "layer.94", "layer.95", "layer.96",
>? >? >? > "layer.97",
>? >? >? >? >? ??? "layer.98", "layer.99", "layer.100", "layer.101", 
> "layer.102",
>? >? >? >? >? ??? "layer.103", "layer.104", "layer.105", "layer.106",
>? > "layer.107",
>? >? >? >? >? ??? "layer.108", "layer.109", "layer.110", "layer.111",
>? > "layer.112",
>? >? >? >? >? ??? "layer.113", "layer.114", "layer.115", "layer.116",
>? > "layer.117",
>? >? >? >? >? ??? "layer.118", "layer.119", "layer.120", "layer.121",
>? > "layer.122",
>? >? >? >? >? ??? "layer.123", "layer.124", "layer.125", "layer.126",
>? > "layer.127",
>? >? >? >? >? ??? "layer.128", "layer.129", "layer.130", "layer.131",
>? > "layer.132",
>? >? >? >? >? ??? "layer.133", "layer.134", "layer.135", "layer.136",
>? > "layer.137",
>? >? >? >? >? ??? "layer.138"))
>? >? >? >? > I started with the following to generate the first 
> regression line
>? >? >? > and scatter plot:??? lm<-ggplot(onepctCO2MEDIAN) +
>? >? >? >? >? ??? geom_jitter(aes(RCP1pctCO2cumulativeMedian[1:138],
>? > departurea),
>? >? >? >? >? ??? colour="blue") +
>? >? > geom_smooth(aes(RCP1pctCO2cumulativeMedian[1:138],
>? >? >? >? >? ??? departurea), method=lm)
>? >? >? >? > But I receive this error:? ??Warning message:
>? >? >? >? >? ??? Computation failed in `stat_smooth()`:
>? >? >? >? >? ??? 'what' must be a function or character string
>? >? >? >? > A blue scatter plot is successfully generated, but the 
> problem is
>? >? >? > that the regression line does not appear, presumably related to the
>? >? >? > above warning.
>? >? >? >? > Is there a reason for this? I would appreciate any assistance!
>? >? >? >? > ??? [[alternative HTML version deleted]]
>? >? >? >
>? >? >? >? >
>? >? >? >? > ______________________________________________
>? >? >? >? > R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>>
>? > <mailto:R-help at r-project.org <mailto:R-help at r-project.org> 
> <mailto:R-help at r-project.org <mailto:R-help at r-project.org>>> mailing list --
>? >? > To UNSUBSCRIBE and more, see
>? >? >? >? > https://stat.ethz.ch/mailman/listinfo/r-help
>? >? >? >? > PLEASE do read the posting guide
>? >? >? > http://www.R-project.org/posting-guide.html
>? >? >? >? > and provide commented, minimal, self-contained, reproducible 
> code.
>? >? >? >
>? >? >? >? >

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun  6 22:33:59 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jun 2019 13:33:59 -0700
Subject: [R] Pasting R code lines into labels
In-Reply-To: <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
Message-ID: <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>

Well, if you want to do it this way, note that as written, the y axis
default label isn't "nice," and you should anyway allow for additional
graphical arguments (either way). Also, slightly better I think is to use
the built-in access function, body():

plotFx <- function(x, fun, ...) {
   plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
}
x <- 1:10
f <- function(x) x^2
plotFx(x, f, col = "red", ylab = "y")

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:

> Hi,
>
> Sorry for the misfire on the first attempt.
>
> After seeing the clarifications, I thought about a possible way to do
> this, perhaps a little more simply, while encapsulating the plotting in a
> function:
>
> plotFx <- function(x, fun) {
>   plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
> }
>
> So let's say that you have:
>
> x <- 1:10
>
> f <- function(x) x^2
> plotFx(x, f)
>
> f <- function(x) cos(x)
> plotFx(x, f)
>
> f <- function(x) exp(x) + 1
> plotFx(x, f)
>
>
> In the case of the first function, you get:
>
> > deparse(f)
> [1] "function (x) " "x^2"
>
> for the second:
>
> > deparse(f)
> [1] "function (x) " "cos(x)"
>
> and for the third:
>
> > deparse(f)
> [1] "function (x) " "exp(x) + 1"
>
>
> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
> call, gets you the second, textual part of the function body, which can
> then be passed as a character vector to the titles or other labels as
> needed.
>
> A potential gotcha that I would envision, is that the default width in the
> character vector resulting from deparse() is 60. Thus, by default the
> function body would broken up into multiple character segments, no longer
> than approximately 60 characters each. Thus, if you envision that you might
> end up with very long formulae on x, you may need to adjust the
> width.cutoff argument in the deparse() call, and likely need to do some
> additional formatting of the labels in the plot as apropos.
>
> There may be other functional nuances that I am missing here, but this may
> be a suitable approach.
>
> Regards,
>
> Marc
>
>
> > On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> > Yes, plot(z,y,..)
> >
> > Bert
> >
> > On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
> wrote:
> >
> >> Thanks Bert, that is exactly what I wanted.  I think that you meant
> >> plot(z,y... in the last line?
> >>
> >> Nick
> >>
> >> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >>
> >> ... and if you wanted too streamline the process, something like the
> >> following could be encapsulated in a function:
> >>
> >> fun <- quote(exp(x))
> >> z <- 1:9
> >> y <- eval(fun,list(x = z) )
> >> plot(x, y, main = paste("Plot of y =", deparse(fun)))
> >>
> >> Further details can be found in the "Computing on the Language" section
> of
> >> the "R Language Reference" manual or from suitable tutorials on the web.
> >>
> >> Bert Gunter
> >>
> >> "The trouble with having an open mind is that people keep coming along
> and
> >> sticking things into it."
> >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >>
> >>
> >> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
> r-help at r-project.org>
> >> wrote:
> >>
> >> Thanks but that's not quite what I meant
> >> I am trying out different functions and they don't necessarily vary in a
> >> regular way (like say all being powers of x where it'd be simple to just
> >> have a vector for the powers you want)
> >> So I might have
> >> y<-x^2
> >> y<-cos(x)
> >> y<-exp(x+1)
> >> What I am after is a way of running these functions and then calling
> each
> >> one into the labelling for the appropriate graph as I plot it.  So then
> I
> >> would have something like
> >> mainlab<-paste("Plot of ",function in question)
> >> ...? Thanks Nick
> >>
> >>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
> >>>
> >>>
> >>>
> >>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
> >> r-help at r-project.org> wrote:
> >>>>
> >>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
> >> that line of code, as is, into a label, so that for example I could then
> >> have a plot label "Plot of y<-x^2"?
> >>>>
> >>>> Thanks Nick Wray
> >>>
> >>>
> >>> Hi,
> >>>
> >>> See ?plotmath
> >>>
> >>> An example:
> >>>
> >>> x <- 1:10
> >>> y <- x^2
> >>>
> >>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
> >>>
> >>>
> >>> There are other incantations and examples on the help page above.
> >>>
> >>> Regards,
> >>>
> >>> Marc Schwartz
> >>>
>
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Thu Jun  6 23:04:06 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 7 Jun 2019 09:04:06 +1200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190606135957.0be4db10@trisector>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
Message-ID: <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>

How can expanding tildes anywhere but the beginning of a file name NOT be
considered a bug?


On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Wed, 5 Jun 2019 18:07:15 +0200
> Frank Schwidom <schwidom at gmx.net> wrote:
>
> > +> path.expand("a ~ b")
> > [1] "a /home/user b"
>
> > How can I switch off any file crippling activity?
>
> It doesn't seem to be possible if readline is enabled and works
> correctly.
>
> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
> calls R_ExpandFileName_readline [4], which uses libreadline function
> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
> anywhere in the string it is handed, i.e. operate on whole command
> lines, not file paths.
>
> I am taking the liberty of Cc-ing R-devel in case this can be
> considered a bug.
>
> --
> Best regards,
> Ivan
>
> [1]
>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>
> [2]
>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>
> [3]
>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>
> [4]
>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>
> [5]
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun  6 23:50:27 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jun 2019 17:50:27 -0400
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
Message-ID: <c4d513f5-f083-16f2-cb5a-dadf0697f242@gmail.com>

On 06/06/2019 5:04 p.m., Richard O'Keefe wrote:
> How can expanding tildes anywhere but the beginning of a file name NOT be
> considered a bug?

It looks like a bug in R, but not necessarily a bug in libreadline:  we 
may just be using tilde_expand improperly.

Duncan Murdoch

> 
> 
> On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
>> On Wed, 5 Jun 2019 18:07:15 +0200
>> Frank Schwidom <schwidom at gmx.net> wrote:
>>
>>> +> path.expand("a ~ b")
>>> [1] "a /home/user b"
>>
>>> How can I switch off any file crippling activity?
>>
>> It doesn't seem to be possible if readline is enabled and works
>> correctly.
>>
>> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
>> calls R_ExpandFileName_readline [4], which uses libreadline function
>> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
>> anywhere in the string it is handed, i.e. operate on whole command
>> lines, not file paths.
>>
>> I am taking the liberty of Cc-ing R-devel in case this can be
>> considered a bug.
>>
>> --
>> Best regards,
>> Ivan
>>
>> [1]
>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>
>> [2]
>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>
>> [3]
>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>
>> [4]
>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>
>> [5]
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun  6 23:53:15 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jun 2019 17:53:15 -0400
Subject: [R] Pasting R code lines into labels
In-Reply-To: <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
 <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
Message-ID: <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>

These look like very fragile suggestions.  Allow x^2 to be an argument 
(named expr, for example) to plotFx, don't force a user to write a 
function in a very particular way.  Then use deparse(substitute(expr)) 
in the title.

Duncan Murdoch

On 06/06/2019 4:33 p.m., Bert Gunter wrote:
> Well, if you want to do it this way, note that as written, the y axis
> default label isn't "nice," and you should anyway allow for additional
> graphical arguments (either way). Also, slightly better I think is to use
> the built-in access function, body():
> 
> plotFx <- function(x, fun, ...) {
>     plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
> }
> x <- 1:10
> f <- function(x) x^2
> plotFx(x, f, col = "red", ylab = "y")
> 
> Bert Gunter
> 
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> 
> 
> On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:
> 
>> Hi,
>>
>> Sorry for the misfire on the first attempt.
>>
>> After seeing the clarifications, I thought about a possible way to do
>> this, perhaps a little more simply, while encapsulating the plotting in a
>> function:
>>
>> plotFx <- function(x, fun) {
>>    plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
>> }
>>
>> So let's say that you have:
>>
>> x <- 1:10
>>
>> f <- function(x) x^2
>> plotFx(x, f)
>>
>> f <- function(x) cos(x)
>> plotFx(x, f)
>>
>> f <- function(x) exp(x) + 1
>> plotFx(x, f)
>>
>>
>> In the case of the first function, you get:
>>
>>> deparse(f)
>> [1] "function (x) " "x^2"
>>
>> for the second:
>>
>>> deparse(f)
>> [1] "function (x) " "cos(x)"
>>
>> and for the third:
>>
>>> deparse(f)
>> [1] "function (x) " "exp(x) + 1"
>>
>>
>> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
>> call, gets you the second, textual part of the function body, which can
>> then be passed as a character vector to the titles or other labels as
>> needed.
>>
>> A potential gotcha that I would envision, is that the default width in the
>> character vector resulting from deparse() is 60. Thus, by default the
>> function body would broken up into multiple character segments, no longer
>> than approximately 60 characters each. Thus, if you envision that you might
>> end up with very long formulae on x, you may need to adjust the
>> width.cutoff argument in the deparse() call, and likely need to do some
>> additional formatting of the labels in the plot as apropos.
>>
>> There may be other functional nuances that I am missing here, but this may
>> be a suitable approach.
>>
>> Regards,
>>
>> Marc
>>
>>
>>> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>
>>> Yes, plot(z,y,..)
>>>
>>> Bert
>>>
>>> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
>> wrote:
>>>
>>>> Thanks Bert, that is exactly what I wanted.  I think that you meant
>>>> plot(z,y... in the last line?
>>>>
>>>> Nick
>>>>
>>>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>
>>>> ... and if you wanted too streamline the process, something like the
>>>> following could be encapsulated in a function:
>>>>
>>>> fun <- quote(exp(x))
>>>> z <- 1:9
>>>> y <- eval(fun,list(x = z) )
>>>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>>>>
>>>> Further details can be found in the "Computing on the Language" section
>> of
>>>> the "R Language Reference" manual or from suitable tutorials on the web.
>>>>
>>>> Bert Gunter
>>>>
>>>> "The trouble with having an open mind is that people keep coming along
>> and
>>>> sticking things into it."
>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>>
>>>>
>>>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
>> r-help at r-project.org>
>>>> wrote:
>>>>
>>>> Thanks but that's not quite what I meant
>>>> I am trying out different functions and they don't necessarily vary in a
>>>> regular way (like say all being powers of x where it'd be simple to just
>>>> have a vector for the powers you want)
>>>> So I might have
>>>> y<-x^2
>>>> y<-cos(x)
>>>> y<-exp(x+1)
>>>> What I am after is a way of running these functions and then calling
>> each
>>>> one into the labelling for the appropriate graph as I plot it.  So then
>> I
>>>> would have something like
>>>> mainlab<-paste("Plot of ",function in question)
>>>> ...? Thanks Nick
>>>>
>>>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
>>>>>
>>>>>
>>>>>
>>>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
>>>> r-help at r-project.org> wrote:
>>>>>>
>>>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
>>>> that line of code, as is, into a label, so that for example I could then
>>>> have a plot label "Plot of y<-x^2"?
>>>>>>
>>>>>> Thanks Nick Wray
>>>>>
>>>>>
>>>>> Hi,
>>>>>
>>>>> See ?plotmath
>>>>>
>>>>> An example:
>>>>>
>>>>> x <- 1:10
>>>>> y <- x^2
>>>>>
>>>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
>>>>>
>>>>>
>>>>> There are other incantations and examples on the help page above.
>>>>>
>>>>> Regards,
>>>>>
>>>>> Marc Schwartz
>>>>>
>>
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Fri Jun  7 02:00:03 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Fri, 7 Jun 2019 00:00:03 +0000
Subject: [R] Automatically simulates random numbers (not general)  in R?
Message-ID: <MEXPR01MB20690A5CBE7C527C0536AD00C9100@MEXPR01MB2069.ausprd01.prod.outlook.com>

Hello Guys!

         I am wondering about below function which automatically simulates random numbers - given below that manual calculation too. Anyone help me to fix that error. I got that error "object of type 'closure' is not subsettable" So Do you have any ideas?



Regards

Mayooran



#########Manual calculation##########

N <- 1e7

n <- 8

indx <- 1:N

start1 <- sort(sample(indx,1))



start2 <- sort(sample(start1+1,1))

start3 <- sort(sample(start2+1,1))

start4 <- sort(sample(start3+1,1))

start5 <- sort(sample(start4+1,1))

start6 <- sort(sample(start5+1,1))

start7 <- sort(sample(start6+1,1))

start8 <- sort(sample(start7+1,1))



start1

start2

start3

start4

start5

start6

start7

start8

###########Common function#############

start<-function(n){

  indx <- 1:N

  for (i in 1:n) {

    if (i<2) {

  start[i] <- sort(sample(indx,1))

} else {

  start[i] <- sort(sample(start[i-1]+1,1))

}

  }

}



start(8)


	[[alternative HTML version deleted]]


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Fri Jun  7 02:37:42 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Fri, 7 Jun 2019 00:37:42 +0000
Subject: [R] Automatically simulates random numbers (not general)  in R?
In-Reply-To: <5F5991FB-893F-4869-912A-12D9FE2B4C55@utoronto.ca>
References: <MEXPR01MB20690A5CBE7C527C0536AD00C9100@MEXPR01MB2069.ausprd01.prod.outlook.com>
 <5F5991FB-893F-4869-912A-12D9FE2B4C55@utoronto.ca>
Message-ID: <MEXPR01MB206950AF88AC67775914131FC9100@MEXPR01MB2069.ausprd01.prod.outlook.com>

Yes, Now fixed it. Thanks for your help. So my function is given by

start<-function(n){
  #startn <- vector("list", n)
  indx <- 1:N
  start <-sort(sample(indx,1))
  for (i in 1:n) {
    if (i<2) {
      start[i] <- sort(sample(indx,1))
    } else {
      start[i] <- sort(sample(start[i-1]+1,1))  
    }
  }
  start  
}

start(15)

-----Original Message-----
From: Boris Steipe <boris.steipe at utoronto.ca> 
Sent: Friday, 7 June 2019 12:34 PM
To: Thevaraja, Mayooran <M.Thevaraja at massey.ac.nz>
Subject: Re: [R] Automatically simulates random numbers (not general) in R?

You did not initialize the variable "start" inside your function's local scope, so the variable "start" is taken to be the function name in the global scope and start[i] is therefore a subset operator on a function (i.e. closure). 

":start" is not a good variable name in the first place, and it is poor practice to use the same variable name for different objects that you care about.


B.

N.b. **Lots** of other issues with your code, e.g. sort() on a single number ...


> On 2019-06-06, at 20:00, Thevaraja, Mayooran <M.Thevaraja at massey.ac.nz> wrote:
> 
> Hello Guys!
> 
>         I am wondering about below function which automatically simulates random numbers - given below that manual calculation too. Anyone help me to fix that error. I got that error "object of type 'closure' is not subsettable" So Do you have any ideas?
> 
> 
> 
> Regards
> 
> Mayooran
> 
> 
> 
> #########Manual calculation##########
> 
> N <- 1e7
> 
> n <- 8
> 
> indx <- 1:N
> 
> start1 <- sort(sample(indx,1))
> 
> 
> 
> start2 <- sort(sample(start1+1,1))
> 
> start3 <- sort(sample(start2+1,1))
> 
> start4 <- sort(sample(start3+1,1))
> 
> start5 <- sort(sample(start4+1,1))
> 
> start6 <- sort(sample(start5+1,1))
> 
> start7 <- sort(sample(start6+1,1))
> 
> start8 <- sort(sample(start7+1,1))
> 
> 
> 
> start1
> 
> start2
> 
> start3
> 
> start4
> 
> start5
> 
> start6
> 
> start7
> 
> start8
> 
> ###########Common function#############
> 
> start<-function(n){
> 
>  indx <- 1:N
> 
>  for (i in 1:n) {
> 
>    if (i<2) {
> 
>  start[i] <- sort(sample(indx,1))
> 
> } else {
> 
>  start[i] <- sort(sample(start[i-1]+1,1))
> 
> }
> 
>  }
> 
> }
> 
> 
> 
> start(8)
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m@@@|mo@bre@@@n @end|ng |rom @rp@@veneto@|t  Fri Jun  7 09:08:27 2019
From: m@@@|mo@bre@@@n @end|ng |rom @rp@@veneto@|t (massimo bressan)
Date: Fri, 7 Jun 2019 09:08:27 +0200
Subject: [R] interpretation of R output for exact permutation test
Message-ID: <CAFZj848JWhXojTXP4aoAxwyCgh7W-v2CHRskex=WtQxd7Wx+_A@mail.gmail.com>

given this reproucible example

library(coin)

independence_test(asat ~ group, data = asat, ## exact null distribution
distribution = "exact")

I'm wondering why the default results are reporting also the critical value
Z by considering that this method is supposed to be "exact", i.e. computing
the direct probability:

pvalue(independence_test(asat ~ group, data = asat, ## exact null
distribution distribution = "exact"))

my question is: what is the correct interpretation (if it exists at all) of
the Z value printed out by the 'plain' function 'independence_test' when it
is asked for an 'exact' test?

am I completely out of track?

sorry but I'm here missing the point somewhere, somehow...

thank you for the feedback

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Jun  7 11:40:29 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 7 Jun 2019 05:40:29 -0400
Subject: [R] interpretation of R output for exact permutation test
In-Reply-To: <CAFZj848JWhXojTXP4aoAxwyCgh7W-v2CHRskex=WtQxd7Wx+_A@mail.gmail.com>
References: <CAFZj848JWhXojTXP4aoAxwyCgh7W-v2CHRskex=WtQxd7Wx+_A@mail.gmail.com>
Message-ID: <150262ab-93d7-f613-6f92-ddf0d55b78bc@gmail.com>

On 07/06/2019 3:08 a.m., massimo bressan wrote:
> given this reproucible example
> 
> library(coin)
> 
> independence_test(asat ~ group, data = asat, ## exact null distribution
> distribution = "exact")
> 
> I'm wondering why the default results are reporting also the critical value
> Z by considering that this method is supposed to be "exact", i.e. computing
> the direct probability:

I don't think that is the critical value, I think it is the observed 
value of the statistic being used.
> 
> pvalue(independence_test(asat ~ group, data = asat, ## exact null
> distribution distribution = "exact"))
> 
> my question is: what is the correct interpretation (if it exists at all) of
> the Z value printed out by the 'plain' function 'independence_test' when it
> is asked for an 'exact' test?

Simply the value of the the statistic.  I don't know its formula, but 
presumably one of the references in the help page ?independence_test 
would give it.

The p-value is the probability of such a value or a more extreme one 
(possibly with some sort of continuity correction; you'd have to check 
the references).  The "exact" argument says to use the exact permutation 
distribution for the statistic when calculating that probability.

Duncan Murdoch


> 
> am I completely out of track?
> 
> sorry but I'm here missing the point somewhere, somehow...
> 
> thank you for the feedback
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Fri Jun  7 12:25:22 2019
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Fri, 7 Jun 2019 12:25:22 +0200
Subject: [R] Kernlab's ksvm class.weights level name error
Message-ID: <CAMk+s2SgQJb6gVArBQHj3yExqtWUZOzCo6X_PB1jgXpGSKECBQ@mail.gmail.com>

Dear all,
I would like to use KSVM with weighted classes. Thus I created a named
vector as follows:

> VECT = c(1.0, 0.5, 0.7)
> names(VECT) = c("negative", "positive", "uncertain")
> VECT
 negative  positive uncertain
      1.0       0.5       0.7


The data TRAIN contains the following levels:

> unique(TRAIN$z)
[1] negative  positive  uncertain
Levels: negative positive uncertain

Actually, I copied and pasted these values to create VECT.
Then I ran the model as follows:

> mod = ksvm(z ~ a+b, data = TRAIN,
+                type = "C-svc",
+                kernel = "rbfdot",
+                kpar = "automatic",
+                C = 1,
+                prob.model = TRUE,
+                class.weights = VECT
+              )
Error in .local(x, ...) :
  At least one level name is missing or misspelled.

>
Since there are only values for the variable z and I pasted them into
VECT, how can this be a misspelling error?
Would you have any tips?
Thank you,
Luigi


From m@rc_@chw@rtz @end|ng |rom me@com  Fri Jun  7 15:07:21 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Fri, 7 Jun 2019 09:07:21 -0400
Subject: [R] Pasting R code lines into labels
In-Reply-To: <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
 <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
 <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>
Message-ID: <4E89E208-CC6E-44E7-9657-7215E94281B0@me.com>

Hi,

Ok, some additional tweaks.

Relative to Bert's pointing out the aesthetic issues, certainly, those are attributes that can be adjusted as Nick may require. I was focused more on the primary issue. Using "..." is an easy way to pass additional parameters to plot.default() as Bert indicated.

To Duncan's point, here is a modification of my original function to allow for the passing of an expression, rather than pre-creating a function and passing that:

plotFx <- function(x, expr, ...) {
   expr <- substitute(expr)
   y <- eval(expr)
   plot(x, y, main = paste0("Plot of y = ", deparse(expr)), ...)
}

plotFx(1:10, x^2)
plotFx(1:10, cos(x))
plotFx(1:10, exp(x) + 1)


There are likely additional tweaks that could be made, as Nick may require.

Regards,

Marc

> On Jun 6, 2019, at 5:53 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> These look like very fragile suggestions.  Allow x^2 to be an argument (named expr, for example) to plotFx, don't force a user to write a function in a very particular way.  Then use deparse(substitute(expr)) in the title.
> 
> Duncan Murdoch
> 
> On 06/06/2019 4:33 p.m., Bert Gunter wrote:
>> Well, if you want to do it this way, note that as written, the y axis
>> default label isn't "nice," and you should anyway allow for additional
>> graphical arguments (either way). Also, slightly better I think is to use
>> the built-in access function, body():
>> plotFx <- function(x, fun, ...) {
>>    plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
>> }
>> x <- 1:10
>> f <- function(x) x^2
>> plotFx(x, f, col = "red", ylab = "y")
>> Bert Gunter
>> "The trouble with having an open mind is that people keep coming along and
>> sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>> On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:
>>> Hi,
>>> 
>>> Sorry for the misfire on the first attempt.
>>> 
>>> After seeing the clarifications, I thought about a possible way to do
>>> this, perhaps a little more simply, while encapsulating the plotting in a
>>> function:
>>> 
>>> plotFx <- function(x, fun) {
>>>   plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
>>> }
>>> 
>>> So let's say that you have:
>>> 
>>> x <- 1:10
>>> 
>>> f <- function(x) x^2
>>> plotFx(x, f)
>>> 
>>> f <- function(x) cos(x)
>>> plotFx(x, f)
>>> 
>>> f <- function(x) exp(x) + 1
>>> plotFx(x, f)
>>> 
>>> 
>>> In the case of the first function, you get:
>>> 
>>>> deparse(f)
>>> [1] "function (x) " "x^2"
>>> 
>>> for the second:
>>> 
>>>> deparse(f)
>>> [1] "function (x) " "cos(x)"
>>> 
>>> and for the third:
>>> 
>>>> deparse(f)
>>> [1] "function (x) " "exp(x) + 1"
>>> 
>>> 
>>> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
>>> call, gets you the second, textual part of the function body, which can
>>> then be passed as a character vector to the titles or other labels as
>>> needed.
>>> 
>>> A potential gotcha that I would envision, is that the default width in the
>>> character vector resulting from deparse() is 60. Thus, by default the
>>> function body would broken up into multiple character segments, no longer
>>> than approximately 60 characters each. Thus, if you envision that you might
>>> end up with very long formulae on x, you may need to adjust the
>>> width.cutoff argument in the deparse() call, and likely need to do some
>>> additional formatting of the labels in the plot as apropos.
>>> 
>>> There may be other functional nuances that I am missing here, but this may
>>> be a suitable approach.
>>> 
>>> Regards,
>>> 
>>> Marc
>>> 
>>> 
>>>> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>> 
>>>> Yes, plot(z,y,..)
>>>> 
>>>> Bert
>>>> 
>>>> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
>>> wrote:
>>>> 
>>>>> Thanks Bert, that is exactly what I wanted.  I think that you meant
>>>>> plot(z,y... in the last line?
>>>>> 
>>>>> Nick
>>>>> 
>>>>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>> 
>>>>> ... and if you wanted too streamline the process, something like the
>>>>> following could be encapsulated in a function:
>>>>> 
>>>>> fun <- quote(exp(x))
>>>>> z <- 1:9
>>>>> y <- eval(fun,list(x = z) )
>>>>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>>>>> 
>>>>> Further details can be found in the "Computing on the Language" section
>>> of
>>>>> the "R Language Reference" manual or from suitable tutorials on the web.
>>>>> 
>>>>> Bert Gunter
>>>>> 
>>>>> "The trouble with having an open mind is that people keep coming along
>>> and
>>>>> sticking things into it."
>>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>>> 
>>>>> 
>>>>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
>>> r-help at r-project.org>
>>>>> wrote:
>>>>> 
>>>>> Thanks but that's not quite what I meant
>>>>> I am trying out different functions and they don't necessarily vary in a
>>>>> regular way (like say all being powers of x where it'd be simple to just
>>>>> have a vector for the powers you want)
>>>>> So I might have
>>>>> y<-x^2
>>>>> y<-cos(x)
>>>>> y<-exp(x+1)
>>>>> What I am after is a way of running these functions and then calling
>>> each
>>>>> one into the labelling for the appropriate graph as I plot it.  So then
>>> I
>>>>> would have something like
>>>>> mainlab<-paste("Plot of ",function in question)
>>>>> ...? Thanks Nick
>>>>> 
>>>>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
>>>>> r-help at r-project.org> wrote:
>>>>>>> 
>>>>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
>>>>> that line of code, as is, into a label, so that for example I could then
>>>>> have a plot label "Plot of y<-x^2"?
>>>>>>> 
>>>>>>> Thanks Nick Wray
>>>>>> 
>>>>>> 
>>>>>> Hi,
>>>>>> 
>>>>>> See ?plotmath
>>>>>> 
>>>>>> An example:
>>>>>> 
>>>>>> x <- 1:10
>>>>>> y <- x^2
>>>>>> 
>>>>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
>>>>>> 
>>>>>> 
>>>>>> There are other incantations and examples on the help page above.
>>>>>> 
>>>>>> Regards,
>>>>>> 
>>>>>> Marc Schwartz
>>>>>> 


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Fri Jun  7 15:25:13 2019
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Fri, 7 Jun 2019 15:25:13 +0200
Subject: [R] Pasting R code lines into labels
In-Reply-To: <4E89E208-CC6E-44E7-9657-7215E94281B0@me.com>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
 <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
 <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>
 <4E89E208-CC6E-44E7-9657-7215E94281B0@me.com>
Message-ID: <23802.26041.964629.933599@stat.math.ethz.ch>

>>>>> Marc Schwartz via R-help 
>>>>>     on Fri, 7 Jun 2019 09:07:21 -0400 writes:

    > Hi, Ok, some additional tweaks.

    > Relative to Bert's pointing out the aesthetic issues,
    > certainly, those are attributes that can be adjusted as
    > Nick may require. I was focused more on the primary
    > issue. Using "..." is an easy way to pass additional
    > parameters to plot.default() as Bert indicated.

    > To Duncan's point, here is a modification of my original
    > function to allow for the passing of an expression, rather
    > than pre-creating a function and passing that:

    > plotFx <- function(x, expr, ...) {
    >   expr <- substitute(expr)
    >  y <- eval(expr)
    >   plot(x, y, main = paste0("Plot of y = ", deparse(expr)), ...)
    > }

    > plotFx(1:10, x^2)
    > plotFx(1:10, cos(x))
    > plotFx(1:10, exp(x) + 1)

well yes....

Ross/Robert/??  had invented  the  curve()   function to do
something like that even before R got a version number !!
and we (it may have been me) had added a

plot.function()   method for plot()  which behaved very
similarly, also long before R version 1.0.x

Are you sure you don't want to use one of

    plot(<function>, ...)
or
    curve(..)

instead of what you are doing now?
Look at the result of

  example(plot.function)

and

  example(curve)

to get a bit of a show-off of these ..

    > There are likely additional tweaks that could be made, as Nick may require.

    > Regards,
    > Marc

... tweaks which may already be available in curve() / plot.function().
At the time, I had invested many many man hours to tweak them to
become as versatile as seemed feasible ...

Martin Maechler
ETH Zurich and R Core



    >> On Jun 6, 2019, at 5:53 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
    >> 
    >> These look like very fragile suggestions.  Allow x^2 to be an argument (named expr, for example) to plotFx, don't force a user to write a function in a very particular way.  Then use deparse(substitute(expr)) in the title.
    >> 
    >> Duncan Murdoch
    >> 
    >> On 06/06/2019 4:33 p.m., Bert Gunter wrote:
    >>> Well, if you want to do it this way, note that as written, the y axis
    >>> default label isn't "nice," and you should anyway allow for additional
    >>> graphical arguments (either way). Also, slightly better I think is to use
    >>> the built-in access function, body():
    >>> plotFx <- function(x, fun, ...) {
    >>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
    >>> }
    >>> x <- 1:10
    >>> f <- function(x) x^2
    >>> plotFx(x, f, col = "red", ylab = "y")
    >>> Bert Gunter
    >>> "The trouble with having an open mind is that people keep coming along and
    >>> sticking things into it."
    >>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
    >>> On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:
    >>>> Hi,
    >>>> 
    >>>> Sorry for the misfire on the first attempt.
    >>>> 
    >>>> After seeing the clarifications, I thought about a possible way to do
    >>>> this, perhaps a little more simply, while encapsulating the plotting in a
    >>>> function:
    >>>> 
    >>>> plotFx <- function(x, fun) {
    >>>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
    >>>> }
    >>>> 
    >>>> So let's say that you have:
    >>>> 
    >>>> x <- 1:10
    >>>> 
    >>>> f <- function(x) x^2
    >>>> plotFx(x, f)
    >>>> 
    >>>> f <- function(x) cos(x)
    >>>> plotFx(x, f)
    >>>> 
    >>>> f <- function(x) exp(x) + 1
    >>>> plotFx(x, f)
    >>>> 
    >>>> 
    >>>> In the case of the first function, you get:
    >>>> 
    >>>>> deparse(f)
    >>>> [1] "function (x) " "x^2"
    >>>> 
    >>>> for the second:
    >>>> 
    >>>>> deparse(f)
    >>>> [1] "function (x) " "cos(x)"
    >>>> 
    >>>> and for the third:
    >>>> 
    >>>>> deparse(f)
    >>>> [1] "function (x) " "exp(x) + 1"
    >>>> 
    >>>> 
    >>>> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
    >>>> call, gets you the second, textual part of the function body, which can
    >>>> then be passed as a character vector to the titles or other labels as
    >>>> needed.
    >>>> 
    >>>> A potential gotcha that I would envision, is that the default width in the
    >>>> character vector resulting from deparse() is 60. Thus, by default the
    >>>> function body would broken up into multiple character segments, no longer
    >>>> than approximately 60 characters each. Thus, if you envision that you might
    >>>> end up with very long formulae on x, you may need to adjust the
    >>>> width.cutoff argument in the deparse() call, and likely need to do some
    >>>> additional formatting of the labels in the plot as apropos.
    >>>> 
    >>>> There may be other functional nuances that I am missing here, but this may
    >>>> be a suitable approach.
    >>>> 
    >>>> Regards,
    >>>> 
    >>>> Marc
    >>>> 
    >>>> 
    >>>>> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
    >>>>> 
    >>>>> Yes, plot(z,y,..)
    >>>>> 
    >>>>> Bert
    >>>>> 
    >>>>> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
    >>>> wrote:
    >>>>> 
>>>>> Thanks Bert, that is exactly what I wanted.  I think that you meant
>>>>> plot(z,y... in the last line?
>>>>> 
>>>>> Nick
>>>>> 
>>>>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>> 
>>>>> ... and if you wanted too streamline the process, something like the
>>>>> following could be encapsulated in a function:
>>>>> 
>>>>> fun <- quote(exp(x))
>>>>> z <- 1:9
>>>>> y <- eval(fun,list(x = z) )
>>>>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>>>>> 
>>>>> Further details can be found in the "Computing on the Language" section
    >>>> of
>>>>> the "R Language Reference" manual or from suitable tutorials on the web.
>>>>> 
>>>>> Bert Gunter
>>>>> 
>>>>> "The trouble with having an open mind is that people keep coming along
    >>>> and
>>>>> sticking things into it."
>>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>>> 
>>>>> 
>>>>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
    >>>> r-help at r-project.org>
>>>>> wrote:
>>>>> 
>>>>> Thanks but that's not quite what I meant
>>>>> I am trying out different functions and they don't necessarily vary in a
>>>>> regular way (like say all being powers of x where it'd be simple to just
>>>>> have a vector for the powers you want)
>>>>> So I might have
>>>>> y<-x^2
>>>>> y<-cos(x)
>>>>> y<-exp(x+1)
>>>>> What I am after is a way of running these functions and then calling
    >>>> each
>>>>> one into the labelling for the appropriate graph as I plot it.  So then
    >>>> I
>>>>> would have something like
>>>>> mainlab<-paste("Plot of ",function in question)
>>>>> ...? Thanks Nick
>>>>> 
    >>>>>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
    >>>>>>> 
    >>>>>>> 
    >>>>>>> 
    >>>>>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
>>>>> r-help at r-project.org> wrote:
    >>>>>>>> 
    >>>>>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
>>>>> that line of code, as is, into a label, so that for example I could then
>>>>> have a plot label "Plot of y<-x^2"?
    >>>>>>>> 
    >>>>>>>> Thanks Nick Wray
    >>>>>>> 
    >>>>>>> 
    >>>>>>> Hi,
    >>>>>>> 
    >>>>>>> See ?plotmath
    >>>>>>> 
    >>>>>>> An example:
    >>>>>>> 
    >>>>>>> x <- 1:10
    >>>>>>> y <- x^2
    >>>>>>> 
    >>>>>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
    >>>>>>> 
    >>>>>>> 
    >>>>>>> There are other incantations and examples on the help page above.
    >>>>>>> 
    >>>>>>> Regards,
    >>>>>>> 
    >>>>>>> Marc Schwartz
    >>>>>>> 

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.


From n|cho|@@@wr@y @end|ng |rom nt|wor|d@com  Fri Jun  7 15:33:56 2019
From: n|cho|@@@wr@y @end|ng |rom nt|wor|d@com (Nick Wray)
Date: Fri, 7 Jun 2019 14:33:56 +0100 (BST)
Subject: [R] Pasting R code lines into labels
In-Reply-To: <23802.26041.964629.933599@stat.math.ethz.ch>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
 <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
 <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>
 <4E89E208-CC6E-44E7-9657-7215E94281B0@me.com>
 <23802.26041.964629.933599@stat.math.ethz.ch>
Message-ID: <483049891.1261962.1559914436331@mail2.virginmedia.com>

Wow! I hadn't meant to set off such an email flurry...   Tbh all I wanted to do was to label some plots for my own recording and notes so Bert's idea was more than adequate.  On the other hand it's instructive to venture further into the R-universe in such distinguished company...
 Nick
> On 07 June 2019 at 14:25 Martin Maechler <maechler at stat.math.ethz.ch> wrote:
> 
> 
> >>>>> Marc Schwartz via R-help 
> >>>>>     on Fri, 7 Jun 2019 09:07:21 -0400 writes:
> 
>     > Hi, Ok, some additional tweaks.
> 
>     > Relative to Bert's pointing out the aesthetic issues,
>     > certainly, those are attributes that can be adjusted as
>     > Nick may require. I was focused more on the primary
>     > issue. Using "..." is an easy way to pass additional
>     > parameters to plot.default() as Bert indicated.
> 
>     > To Duncan's point, here is a modification of my original
>     > function to allow for the passing of an expression, rather
>     > than pre-creating a function and passing that:
> 
>     > plotFx <- function(x, expr, ...) {
>     >   expr <- substitute(expr)
>     >  y <- eval(expr)
>     >   plot(x, y, main = paste0("Plot of y = ", deparse(expr)), ...)
>     > }
> 
>     > plotFx(1:10, x^2)
>     > plotFx(1:10, cos(x))
>     > plotFx(1:10, exp(x) + 1)
> 
> well yes....
> 
> Ross/Robert/??  had invented  the  curve()   function to do
> something like that even before R got a version number !!
> and we (it may have been me) had added a
> 
> plot.function()   method for plot()  which behaved very
> similarly, also long before R version 1.0.x
> 
> Are you sure you don't want to use one of
> 
>     plot(<function>, ...)
> or
>     curve(..)
> 
> instead of what you are doing now?
> Look at the result of
> 
>   example(plot.function)
> 
> and
> 
>   example(curve)
> 
> to get a bit of a show-off of these ..
> 
>     > There are likely additional tweaks that could be made, as Nick may require.
> 
>     > Regards,
>     > Marc
> 
> ... tweaks which may already be available in curve() / plot.function().
> At the time, I had invested many many man hours to tweak them to
> become as versatile as seemed feasible ...
> 
> Martin Maechler
> ETH Zurich and R Core
> 
> 
> 
>     >> On Jun 6, 2019, at 5:53 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>     >> 
>     >> These look like very fragile suggestions.  Allow x^2 to be an argument (named expr, for example) to plotFx, don't force a user to write a function in a very particular way.  Then use deparse(substitute(expr)) in the title.
>     >> 
>     >> Duncan Murdoch
>     >> 
>     >> On 06/06/2019 4:33 p.m., Bert Gunter wrote:
>     >>> Well, if you want to do it this way, note that as written, the y axis
>     >>> default label isn't "nice," and you should anyway allow for additional
>     >>> graphical arguments (either way). Also, slightly better I think is to use
>     >>> the built-in access function, body():
>     >>> plotFx <- function(x, fun, ...) {
>     >>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
>     >>> }
>     >>> x <- 1:10
>     >>> f <- function(x) x^2
>     >>> plotFx(x, f, col = "red", ylab = "y")
>     >>> Bert Gunter
>     >>> "The trouble with having an open mind is that people keep coming along and
>     >>> sticking things into it."
>     >>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>     >>> On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:
>     >>>> Hi,
>     >>>> 
>     >>>> Sorry for the misfire on the first attempt.
>     >>>> 
>     >>>> After seeing the clarifications, I thought about a possible way to do
>     >>>> this, perhaps a little more simply, while encapsulating the plotting in a
>     >>>> function:
>     >>>> 
>     >>>> plotFx <- function(x, fun) {
>     >>>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
>     >>>> }
>     >>>> 
>     >>>> So let's say that you have:
>     >>>> 
>     >>>> x <- 1:10
>     >>>> 
>     >>>> f <- function(x) x^2
>     >>>> plotFx(x, f)
>     >>>> 
>     >>>> f <- function(x) cos(x)
>     >>>> plotFx(x, f)
>     >>>> 
>     >>>> f <- function(x) exp(x) + 1
>     >>>> plotFx(x, f)
>     >>>> 
>     >>>> 
>     >>>> In the case of the first function, you get:
>     >>>> 
>     >>>>> deparse(f)
>     >>>> [1] "function (x) " "x^2"
>     >>>> 
>     >>>> for the second:
>     >>>> 
>     >>>>> deparse(f)
>     >>>> [1] "function (x) " "cos(x)"
>     >>>> 
>     >>>> and for the third:
>     >>>> 
>     >>>>> deparse(f)
>     >>>> [1] "function (x) " "exp(x) + 1"
>     >>>> 
>     >>>> 
>     >>>> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
>     >>>> call, gets you the second, textual part of the function body, which can
>     >>>> then be passed as a character vector to the titles or other labels as
>     >>>> needed.
>     >>>> 
>     >>>> A potential gotcha that I would envision, is that the default width in the
>     >>>> character vector resulting from deparse() is 60. Thus, by default the
>     >>>> function body would broken up into multiple character segments, no longer
>     >>>> than approximately 60 characters each. Thus, if you envision that you might
>     >>>> end up with very long formulae on x, you may need to adjust the
>     >>>> width.cutoff argument in the deparse() call, and likely need to do some
>     >>>> additional formatting of the labels in the plot as apropos.
>     >>>> 
>     >>>> There may be other functional nuances that I am missing here, but this may
>     >>>> be a suitable approach.
>     >>>> 
>     >>>> Regards,
>     >>>> 
>     >>>> Marc
>     >>>> 
>     >>>> 
>     >>>>> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>     >>>>> 
>     >>>>> Yes, plot(z,y,..)
>     >>>>> 
>     >>>>> Bert
>     >>>>> 
>     >>>>> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
>     >>>> wrote:
>     >>>>> 
> >>>>> Thanks Bert, that is exactly what I wanted.  I think that you meant
> >>>>> plot(z,y... in the last line?
> >>>>> 
> >>>>> Nick
> >>>>> 
> >>>>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >>>>> 
> >>>>> ... and if you wanted too streamline the process, something like the
> >>>>> following could be encapsulated in a function:
> >>>>> 
> >>>>> fun <- quote(exp(x))
> >>>>> z <- 1:9
> >>>>> y <- eval(fun,list(x = z) )
> >>>>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
> >>>>> 
> >>>>> Further details can be found in the "Computing on the Language" section
>     >>>> of
> >>>>> the "R Language Reference" manual or from suitable tutorials on the web.
> >>>>> 
> >>>>> Bert Gunter
> >>>>> 
> >>>>> "The trouble with having an open mind is that people keep coming along
>     >>>> and
> >>>>> sticking things into it."
> >>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >>>>> 
> >>>>> 
> >>>>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
>     >>>> r-help at r-project.org>
> >>>>> wrote:
> >>>>> 
> >>>>> Thanks but that's not quite what I meant
> >>>>> I am trying out different functions and they don't necessarily vary in a
> >>>>> regular way (like say all being powers of x where it'd be simple to just
> >>>>> have a vector for the powers you want)
> >>>>> So I might have
> >>>>> y<-x^2
> >>>>> y<-cos(x)
> >>>>> y<-exp(x+1)
> >>>>> What I am after is a way of running these functions and then calling
>     >>>> each
> >>>>> one into the labelling for the appropriate graph as I plot it.  So then
>     >>>> I
> >>>>> would have something like
> >>>>> mainlab<-paste("Plot of ",function in question)
> >>>>> ...? Thanks Nick
> >>>>> 
>     >>>>>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
>     >>>>>>> 
>     >>>>>>> 
>     >>>>>>> 
>     >>>>>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
> >>>>> r-help at r-project.org> wrote:
>     >>>>>>>> 
>     >>>>>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
> >>>>> that line of code, as is, into a label, so that for example I could then
> >>>>> have a plot label "Plot of y<-x^2"?
>     >>>>>>>> 
>     >>>>>>>> Thanks Nick Wray
>     >>>>>>> 
>     >>>>>>> 
>     >>>>>>> Hi,
>     >>>>>>> 
>     >>>>>>> See ?plotmath
>     >>>>>>> 
>     >>>>>>> An example:
>     >>>>>>> 
>     >>>>>>> x <- 1:10
>     >>>>>>> y <- x^2
>     >>>>>>> 
>     >>>>>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
>     >>>>>>> 
>     >>>>>>> 
>     >>>>>>> There are other incantations and examples on the help page above.
>     >>>>>>> 
>     >>>>>>> Regards,
>     >>>>>>> 
>     >>>>>>> Marc Schwartz
>     >>>>>>> 
> 
>     > ______________________________________________
>     > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     > https://stat.ethz.ch/mailman/listinfo/r-help
>     > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>     > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m@rc_@chw@rtz @end|ng |rom me@com  Fri Jun  7 16:20:32 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Fri, 7 Jun 2019 10:20:32 -0400
Subject: [R] Pasting R code lines into labels
In-Reply-To: <23802.26041.964629.933599@stat.math.ethz.ch>
References: <1271162837.1237473.1559834346476@mail2.virginmedia.com>
 <9B99A0B6-7B80-4AE2-BC81-F5251FF75356@me.com>
 <1235126713.1238702.1559836492002@mail2.virginmedia.com>
 <CAGxFJbSGTwGg7TCz1m7krn+MHNcw3YvPmUhUxcHwMV+9h2XW+w@mail.gmail.com>
 <2028528730.1239575.1559838075108@mail2.virginmedia.com>
 <CAGxFJbRFN9=8LZHe-KP9FyeK1=Tc7BDaUKcg-CpAYdM9p8p_CA@mail.gmail.com>
 <C312A6AD-881C-444D-BCD4-A270D444A300@me.com>
 <CAGxFJbSJ+ijc72WRiJgMjw5muk_WFZNSGLAjgbw055+EpBxMVA@mail.gmail.com>
 <38bf9a36-e981-94aa-1797-62e5d375fcaa@gmail.com>
 <4E89E208-CC6E-44E7-9657-7215E94281B0@me.com>
 <23802.26041.964629.933599@stat.math.ethz.ch>
Message-ID: <87369652-AC47-4A77-9CD1-58D5F13DDCE2@me.com>

Hi Martin,

See inline below...

> On Jun 7, 2019, at 9:25 AM, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
> 
>>>>>> Marc Schwartz via R-help 
>>>>>>    on Fri, 7 Jun 2019 09:07:21 -0400 writes:
> 
>> Hi, Ok, some additional tweaks.
> 
>> Relative to Bert's pointing out the aesthetic issues,
>> certainly, those are attributes that can be adjusted as
>> Nick may require. I was focused more on the primary
>> issue. Using "..." is an easy way to pass additional
>> parameters to plot.default() as Bert indicated.
> 
>> To Duncan's point, here is a modification of my original
>> function to allow for the passing of an expression, rather
>> than pre-creating a function and passing that:
> 
>> plotFx <- function(x, expr, ...) {
>>  expr <- substitute(expr)
>> y <- eval(expr)
>>  plot(x, y, main = paste0("Plot of y = ", deparse(expr)), ...)
>> }
> 
>> plotFx(1:10, x^2)
>> plotFx(1:10, cos(x))
>> plotFx(1:10, exp(x) + 1)
> 
> well yes....
> 
> Ross/Robert/??  had invented  the  curve()   function to do
> something like that even before R got a version number !!
> and we (it may have been me) had added a
> 
> plot.function()   method for plot()  which behaved very
> similarly, also long before R version 1.0.x
> 
> Are you sure you don't want to use one of
> 
>    plot(<function>, ...)
> or
>    curve(..)
> 
> instead of what you are doing now?


Very possibly, and thank you for rightly pointing those out Martin!

I think that, at least for me on initial reading, the focus was on the need for a plot title that combined the paste()d character vector of "Plot of y = " with the expression on 'x' itself, as perhaps opposed to the y axis labeling as generated by default in those two functions. My initial attempt with plotmath below, was incorrectly focused on the need for a TeX-like formatting of the title.

I guess, it will depend upon Nick's specific use case and labeling requirements and if the default approach in these two functions in creating the y axis labels, as opposed to a plot title, are satisfactory.

Also, unless I missing a nuance in the functions, with plot.function() calling curve() internally, they appear to allow the specification of the min/max range of x values to use and then plotting an equally spaced number of x values within that range (e.g. x <- seq(from, to, length.out = n)), rather than explicitly defining/passing a vector of x values to use. That may be something that Nick wishes to do.


> Look at the result of
> 
>  example(plot.function)
> 
> and
> 
>  example(curve)
> 
> to get a bit of a show-off of these ..


Indeed. Be aware that both functions are on the same help page, thus running the examples above will run the same code.


> 
>> There are likely additional tweaks that could be made, as Nick may require.
> 
>> Regards,
>> Marc
> 
> ... tweaks which may already be available in curve() / plot.function().
> At the time, I had invested many many man hours to tweak them to
> become as versatile as seemed feasible ...
> 
> Martin Maechler
> ETH Zurich and R Core


Indeed, and thank you again Martin for rightly pointing these out.

Regards,

Marc

> 
> 
> 
>>> On Jun 6, 2019, at 5:53 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>> 
>>> These look like very fragile suggestions.  Allow x^2 to be an argument (named expr, for example) to plotFx, don't force a user to write a function in a very particular way.  Then use deparse(substitute(expr)) in the title.
>>> 
>>> Duncan Murdoch
>>> 
>>> On 06/06/2019 4:33 p.m., Bert Gunter wrote:
>>>> Well, if you want to do it this way, note that as written, the y axis
>>>> default label isn't "nice," and you should anyway allow for additional
>>>> graphical arguments (either way). Also, slightly better I think is to use
>>>> the built-in access function, body():
>>>> plotFx <- function(x, fun, ...) {
>>>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(body(fun))), ...)
>>>> }
>>>> x <- 1:10
>>>> f <- function(x) x^2
>>>> plotFx(x, f, col = "red", ylab = "y")
>>>> Bert Gunter
>>>> "The trouble with having an open mind is that people keep coming along and
>>>> sticking things into it."
>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>> On Thu, Jun 6, 2019 at 12:19 PM Marc Schwartz <marc_schwartz at me.com> wrote:
>>>>> Hi,
>>>>> 
>>>>> Sorry for the misfire on the first attempt.
>>>>> 
>>>>> After seeing the clarifications, I thought about a possible way to do
>>>>> this, perhaps a little more simply, while encapsulating the plotting in a
>>>>> function:
>>>>> 
>>>>> plotFx <- function(x, fun) {
>>>>> plot(x, fun(x), main = paste0("Plot of y = ", deparse(fun)[2]))
>>>>> }
>>>>> 
>>>>> So let's say that you have:
>>>>> 
>>>>> x <- 1:10
>>>>> 
>>>>> f <- function(x) x^2
>>>>> plotFx(x, f)
>>>>> 
>>>>> f <- function(x) cos(x)
>>>>> plotFx(x, f)
>>>>> 
>>>>> f <- function(x) exp(x) + 1
>>>>> plotFx(x, f)
>>>>> 
>>>>> 
>>>>> In the case of the first function, you get:
>>>>> 
>>>>>> deparse(f)
>>>>> [1] "function (x) " "x^2"
>>>>> 
>>>>> for the second:
>>>>> 
>>>>>> deparse(f)
>>>>> [1] "function (x) " "cos(x)"
>>>>> 
>>>>> and for the third:
>>>>> 
>>>>>> deparse(f)
>>>>> [1] "function (x) " "exp(x) + 1"
>>>>> 
>>>>> 
>>>>> Thus, the "deparse(fun)[2]" snippet within the internal paste0() function
>>>>> call, gets you the second, textual part of the function body, which can
>>>>> then be passed as a character vector to the titles or other labels as
>>>>> needed.
>>>>> 
>>>>> A potential gotcha that I would envision, is that the default width in the
>>>>> character vector resulting from deparse() is 60. Thus, by default the
>>>>> function body would broken up into multiple character segments, no longer
>>>>> than approximately 60 characters each. Thus, if you envision that you might
>>>>> end up with very long formulae on x, you may need to adjust the
>>>>> width.cutoff argument in the deparse() call, and likely need to do some
>>>>> additional formatting of the labels in the plot as apropos.
>>>>> 
>>>>> There may be other functional nuances that I am missing here, but this may
>>>>> be a suitable approach.
>>>>> 
>>>>> Regards,
>>>>> 
>>>>> Marc
>>>>> 
>>>>> 
>>>>>> On Jun 6, 2019, at 2:11 PM, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>>> 
>>>>>> Yes, plot(z,y,..)
>>>>>> 
>>>>>> Bert
>>>>>> 
>>>>>> On Thu, Jun 6, 2019 at 9:21 AM Nick Wray <nicholas.wray at ntlworld.com>
>>>>> wrote:
>>>>>> 
>>>>>> Thanks Bert, that is exactly what I wanted.  I think that you meant
>>>>>> plot(z,y... in the last line?
>>>>>> 
>>>>>> Nick
>>>>>> 
>>>>>> On 06 June 2019 at 17:13 Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>>> 
>>>>>> ... and if you wanted too streamline the process, something like the
>>>>>> following could be encapsulated in a function:
>>>>>> 
>>>>>> fun <- quote(exp(x))
>>>>>> z <- 1:9
>>>>>> y <- eval(fun,list(x = z) )
>>>>>> plot(x, y, main = paste("Plot of y =", deparse(fun)))
>>>>>> 
>>>>>> Further details can be found in the "Computing on the Language" section
>>>>> of
>>>>>> the "R Language Reference" manual or from suitable tutorials on the web.
>>>>>> 
>>>>>> Bert Gunter
>>>>>> 
>>>>>> "The trouble with having an open mind is that people keep coming along
>>>>> and
>>>>>> sticking things into it."
>>>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>>>> 
>>>>>> 
>>>>>> On Thu, Jun 6, 2019 at 8:55 AM Nick Wray via R-help <
>>>>> r-help at r-project.org>
>>>>>> wrote:
>>>>>> 
>>>>>> Thanks but that's not quite what I meant
>>>>>> I am trying out different functions and they don't necessarily vary in a
>>>>>> regular way (like say all being powers of x where it'd be simple to just
>>>>>> have a vector for the powers you want)
>>>>>> So I might have
>>>>>> y<-x^2
>>>>>> y<-cos(x)
>>>>>> y<-exp(x+1)
>>>>>> What I am after is a way of running these functions and then calling
>>>>> each
>>>>>> one into the labelling for the appropriate graph as I plot it.  So then
>>>>> I
>>>>>> would have something like
>>>>>> mainlab<-paste("Plot of ",function in question)
>>>>>> ...? Thanks Nick
>>>>>> 
>>>>>>>> On 06 June 2019 at 16:40 Marc Schwartz < marc_schwartz at me.com> wrote:
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> On Jun 6, 2019, at 11:19 AM, Nick Wray via R-help <
>>>>>> r-help at r-project.org> wrote:
>>>>>>>>> 
>>>>>>>>> Is there any way of taking a line of r code (eg y<-x^2) and pasting
>>>>>> that line of code, as is, into a label, so that for example I could then
>>>>>> have a plot label "Plot of y<-x^2"?
>>>>>>>>> 
>>>>>>>>> Thanks Nick Wray
>>>>>>>> 
>>>>>>>> 
>>>>>>>> Hi,
>>>>>>>> 
>>>>>>>> See ?plotmath
>>>>>>>> 
>>>>>>>> An example:
>>>>>>>> 
>>>>>>>> x <- 1:10
>>>>>>>> y <- x^2
>>>>>>>> 
>>>>>>>> plot(x, y, main = expression(paste("Plot of ", y %<-% x^2)))
>>>>>>>> 
>>>>>>>> 
>>>>>>>> There are other incantations and examples on the help page above.
>>>>>>>> 
>>>>>>>> Regards,
>>>>>>>> 
>>>>>>>> Marc Schwartz


From ccberry @end|ng |rom uc@d@edu  Fri Jun  7 18:08:28 2019
From: ccberry @end|ng |rom uc@d@edu (Berry, Charles)
Date: Fri, 7 Jun 2019 16:08:28 +0000
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg__2324.26375603012$1559899589$gmane$org@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg__2324.26375603012$1559899589$gmane$org@mail.gmail.com>
Message-ID: <4BCEF16D-A9B7-460B-9E47-91B8A7B5DAB2@ucsd.edu>



> On Jun 6, 2019, at 2:04 PM, Richard O'Keefe <raoknz at gmail.com> wrote:
> 
> How can expanding tildes anywhere but the beginning of a file name NOT be
> considered a bug?
> 
> 

I think that that IS what libreadline is doing if one allows a whitespace separated list of file names.

As reported in R-help, 

	https://www.mail-archive.com/r-help at r-project.org/msg254116.html

path.expand seems to expand tildes beginning whitespace separated strings that could be filenames, but not other tildes.

Thus,

> path.expand("~/.newsrc ~/.R/*")  # expands both tildes
[1] "/Users/cberry/.newsrc /Users/cberry/.R/*"
> path.expand("~/.newsrc~/.R/*")   # expands only the first
[1] "/Users/cberry/.newsrc~/.R/*"
> 

This could be a feature if what one wanted was to pass the result to a system command that will process multiple file arguments, e.g. 

> system(paste( "wc", path.expand("~/.newsrc ~/.R/*"))) # run wc on some files

I doubt that this was intended by R-core, but perhaps the readline devs had this in mind. 

Chuck


> On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
>> On Wed, 5 Jun 2019 18:07:15 +0200
>> Frank Schwidom <schwidom at gmx.net> wrote:
>> 
>>> +> path.expand("a ~ b")
>>> [1] "a /home/user b"
>> 
>>> How can I switch off any file crippling activity?
>> 
>> It doesn't seem to be possible if readline is enabled and works
>> correctly.
>> 
>> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
>> calls R_ExpandFileName_readline [4], which uses libreadline function
>> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
>> anywhere in the string it is handed, i.e. operate on whole command
>> lines, not file paths.
>> 
>> I am taking the liberty of Cc-ing R-devel in case this can be
>> considered a bug.
>> 
>> --
>> Best regards,
>> Ivan
>> 
>> [1]
>> 
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>> 
>> [2]
>> 
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>> 
>> [3]
>> 
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>> 
>> [4]
>> 
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>> 
>> [5]
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> 	[[alternative HTML version deleted]]
> 


From m@|one @end|ng |rom m@|onequ@nt|t@t|ve@com  Fri Jun  7 19:09:42 2019
From: m@|one @end|ng |rom m@|onequ@nt|t@t|ve@com (Patrick (Malone Quantitative))
Date: Fri, 7 Jun 2019 13:09:42 -0400
Subject: [R] interpretation of R output for exact permutation test
In-Reply-To: <150262ab-93d7-f613-6f92-ddf0d55b78bc@gmail.com>
References: <CAFZj848JWhXojTXP4aoAxwyCgh7W-v2CHRskex=WtQxd7Wx+_A@mail.gmail.com>
 <150262ab-93d7-f613-6f92-ddf0d55b78bc@gmail.com>
Message-ID: <CAJc=yOFj=8T6xX_UHu3iUb9x6jDfb_mAexGnSkV=Wj-qW18BdQ@mail.gmail.com>

I suspect Massimo meant to refer to the output z as "critical ratio,"
vs. "critical value." But I agree with Massimo there's no
interpretation of it with an exact test. The p-value is the meaningful
output.

Pat


On Fri, Jun 7, 2019 at 5:40 AM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 07/06/2019 3:08 a.m., massimo bressan wrote:
> > given this reproucible example
> >
> > library(coin)
> >
> > independence_test(asat ~ group, data = asat, ## exact null distribution
> > distribution = "exact")
> >
> > I'm wondering why the default results are reporting also the critical value
> > Z by considering that this method is supposed to be "exact", i.e. computing
> > the direct probability:
>
> I don't think that is the critical value, I think it is the observed
> value of the statistic being used.
> >
> > pvalue(independence_test(asat ~ group, data = asat, ## exact null
> > distribution distribution = "exact"))
> >
> > my question is: what is the correct interpretation (if it exists at all) of
> > the Z value printed out by the 'plain' function 'independence_test' when it
> > is asked for an 'exact' test?
>
> Simply the value of the the statistic.  I don't know its formula, but
> presumably one of the references in the help page ?independence_test
> would give it.
>
> The p-value is the probability of such a value or a more extreme one
> (possibly with some sort of continuity correction; you'd have to check
> the references).  The "exact" argument says to use the exact permutation
> distribution for the statistic when calculating that probability.
>
> Duncan Murdoch
>
>
> >
> > am I completely out of track?
> >
> > sorry but I'm here missing the point somewhere, somehow...
> >
> > thank you for the feedback
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From reichm@@j m@iii@g oii sbcgiob@i@@et  Sat Jun  8 04:31:13 2019
From: reichm@@j m@iii@g oii sbcgiob@i@@et (reichm@@j m@iii@g oii sbcgiob@i@@et)
Date: Fri, 7 Jun 2019 21:31:13 -0500
Subject: [R] gganimate: A Grammar of Animated Graphics
Message-ID: <000901d51da2$3e146890$ba3d39b0$@sbcglobal.net>

R-Help Forum

 

I've been exploring the gganimate package and  am wondering how one might
adjust the animation speed?

 

Jeff Reichman

 


	[[alternative HTML version deleted]]


From roy@mende|@@ohn @end|ng |rom no@@@gov  Sat Jun  8 05:10:44 2019
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 7 Jun 2019 20:10:44 -0700
Subject: [R] gganimate: A Grammar of Animated Graphics
In-Reply-To: <000901d51da2$3e146890$ba3d39b0$@sbcglobal.net>
References: <000901d51da2$3e146890$ba3d39b0$@sbcglobal.net>
Message-ID: <317A40F4-8CE3-48C9-8306-17037DDF7043@noaa.gov>

There may be other ways but you can store the animation in an object and use the animate() function.

-Roy

> On Jun 7, 2019, at 7:31 PM, <reichmanj at sbcglobal.net> <reichmanj at sbcglobal.net> wrote:
> 
> R-Help Forum
> 
> 
> 
> I've been exploring the gganimate package and  am wondering how one might
> adjust the animation speed?
> 
> 
> 
> Jeff Reichman
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From r@oknz @end|ng |rom gm@||@com  Sat Jun  8 05:27:54 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Sat, 8 Jun 2019 15:27:54 +1200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <4BCEF16D-A9B7-460B-9E47-91B8A7B5DAB2@ucsd.edu>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg__2324.26375603012$1559899589$gmane$org@mail.gmail.com>
 <4BCEF16D-A9B7-460B-9E47-91B8A7B5DAB2@ucsd.edu>
Message-ID: <CABcYAdKzT5qGQMOerqy_=v5ztUBFe-zqfC6rMf+XhiOt1T9Dhg@mail.gmail.com>

?path.expand
    Expand a path name, for example by replacing a leading tilde by
    the user's home directory (if defined on that platform).

*A* path name.  The argument is a character vector.
If multiple path names are passed, they are passed

    On most builds of R *A LEADING* "~user" will be replaced...

Nothing is said in the R documentation about *multiple* or
*non-leading* tildes being replaced.

The actual behaviour is inconsistent with the documentation.
SOMETHING is a bug.

It's not clear to me why this is in any way dependent on
readline.  I've implemented tilde expansion several times
and always without readline.
It sounds as though R might be calling tilde_expand()
when it *should*, to be consistent with the documentation,
be calling tilde_expand_word().



as separate elements of the character vector.



On Sat, 8 Jun 2019 at 04:10, Berry, Charles <ccberry at ucsd.edu> wrote:

>
>
> > On Jun 6, 2019, at 2:04 PM, Richard O'Keefe <raoknz at gmail.com> wrote:
> >
> > How can expanding tildes anywhere but the beginning of a file name NOT be
> > considered a bug?
> >
> >
>
> I think that that IS what libreadline is doing if one allows a whitespace
> separated list of file names.
>
> As reported in R-help,
>
>         https://www.mail-archive.com/r-help at r-project.org/msg254116.html
>
> path.expand seems to expand tildes beginning whitespace separated strings
> that could be filenames, but not other tildes.
>
> Thus,
>
> > path.expand("~/.newsrc ~/.R/*")  # expands both tildes
> [1] "/Users/cberry/.newsrc /Users/cberry/.R/*"
> > path.expand("~/.newsrc~/.R/*")   # expands only the first
> [1] "/Users/cberry/.newsrc~/.R/*"
> >
>
> This could be a feature if what one wanted was to pass the result to a
> system command that will process multiple file arguments, e.g.
>
> > system(paste( "wc", path.expand("~/.newsrc ~/.R/*"))) # run wc on some
> files
>
> I doubt that this was intended by R-core, but perhaps the readline devs
> had this in mind.
>
> Chuck
>
>
> > On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:
> >
> >> On Wed, 5 Jun 2019 18:07:15 +0200
> >> Frank Schwidom <schwidom at gmx.net> wrote:
> >>
> >>> +> path.expand("a ~ b")
> >>> [1] "a /home/user b"
> >>
> >>> How can I switch off any file crippling activity?
> >>
> >> It doesn't seem to be possible if readline is enabled and works
> >> correctly.
> >>
> >> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
> >> calls R_ExpandFileName_readline [4], which uses libreadline function
> >> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
> >> anywhere in the string it is handed, i.e. operate on whole command
> >> lines, not file paths.
> >>
> >> I am taking the liberty of Cc-ing R-devel in case this can be
> >> considered a bug.
> >>
> >> --
> >> Best regards,
> >> Ivan
> >>
> >> [1]
> >>
> >>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >>
> >> [2]
> >>
> >>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >>
> >> [3]
> >>
> >>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >>
> >> [4]
> >>
> >>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >>
> >> [5]
> >>
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
>
>
>

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sat Jun  8 11:48:17 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sat, 8 Jun 2019 10:48:17 +0100
Subject: [R] How to plot dendogram based on samples ID
Message-ID: <CAJE2if2_SdfLeU3xmVa3nZojcQBFX+1+jUvhPgTBZR9QUJRSoA@mail.gmail.com>

Hi,

I do have RNAseq  FPKM count and interested in dendrogram for samples
cluster.

I used below code but it generate dendogram based on ContigID instead of
sampleID.

> countMatrix = read.table("Trinity_trans.counts.matrix.txt",header=T,sep='\t',check.names=F,row.names=1)
> dim(countMatrix)
[1] 142686      6
> head(countMatrix)

                          AS_0DAP AS_4DAP AS_8DAP NMK_0DAP NMK_4DAP NMK_8DAP

TRINITY_DN17944_c0_g1_i11   14.32   24.63    8.21     4.54       20     8.49

TRINITY_DN7591_c0_g1_i1      0.00    0.00    1.00     3.00        3     0.00

TRINITY_DN28918_c0_g1_i1     1.00    2.00    1.00     0.00        2     0.00

TRINITY_DN14082_c2_g2_i5     6.00    5.00    1.00     0.00        1     0.00

TRINITY_DN31994_c0_g1_i1     1.00    2.00    0.00     0.00        0     3.00

TRINITY_DN19560_c0_g1_i1     1.00    3.00    0.00     0.00        1     1.00
> rv <- rowVars(countMatrix)
> summary(rv)

     Min.   1st Qu.    Median      Mean   3rd Qu.      Max.

0.000e+00 1.000e+00 1.500e+01 3.570e+05 5.180e+02 4.122e+09

> (q75 <-quantile(rowVars(countMatrix), .75))
     75%

518.3202
> m2 <- countMatrix[rv >q75, ]
> dim(m2)
[1] 35672     6
> summary(rowVars(m2))

     Min.   1st Qu.    Median      Mean   3rd Qu.      Max.

5.180e+02 1.670e+03 6.677e+03 1.428e+06 4.101e+04 4.122e+09
> d <- dist(m2, method="euclidean")
> h <-hclust(d, method="complete")
> plot(h)

Kind Regards
Yogesh

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Jun  8 12:38:44 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 8 Jun 2019 11:38:44 +0100
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <CABcYAdKzT5qGQMOerqy_=v5ztUBFe-zqfC6rMf+XhiOt1T9Dhg@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg__2324.26375603012$1559899589$gmane$org@mail.gmail.com>
 <4BCEF16D-A9B7-460B-9E47-91B8A7B5DAB2@ucsd.edu>
 <CABcYAdKzT5qGQMOerqy_=v5ztUBFe-zqfC6rMf+XhiOt1T9Dhg@mail.gmail.com>
Message-ID: <14481952-7c0d-e10a-608f-75953aada5d6@sapo.pt>

Hello,

R 3.6.0 on Ubuntu 19.04.
Since no one mentioned it, notice that the tilde in the middle of a 
string needs to be surrounded by spaces to be expanded.

The first code line works as expected, only the second is wrong (buggy).

path.expand('a~b')
#[1] "a~b"
path.expand('a ~ b')
#[1] "a /home/rui b"


Rui Barradas

?s 04:27 de 08/06/19, Richard O'Keefe escreveu:
> ?path.expand
>      Expand a path name, for example by replacing a leading tilde by
>      the user's home directory (if defined on that platform).
> 
> *A* path name.  The argument is a character vector.
> If multiple path names are passed, they are passed
> 
>      On most builds of R *A LEADING* "~user" will be replaced...
> 
> Nothing is said in the R documentation about *multiple* or
> *non-leading* tildes being replaced.
> 
> The actual behaviour is inconsistent with the documentation.
> SOMETHING is a bug.
> 
> It's not clear to me why this is in any way dependent on
> readline.  I've implemented tilde expansion several times
> and always without readline.
> It sounds as though R might be calling tilde_expand()
> when it *should*, to be consistent with the documentation,
> be calling tilde_expand_word().
> 
> 
> 
> as separate elements of the character vector.
> 
> 
> 
> On Sat, 8 Jun 2019 at 04:10, Berry, Charles <ccberry at ucsd.edu> wrote:
> 
>>
>>
>>> On Jun 6, 2019, at 2:04 PM, Richard O'Keefe <raoknz at gmail.com> wrote:
>>>
>>> How can expanding tildes anywhere but the beginning of a file name NOT be
>>> considered a bug?
>>>
>>>
>>
>> I think that that IS what libreadline is doing if one allows a whitespace
>> separated list of file names.
>>
>> As reported in R-help,
>>
>>          https://www.mail-archive.com/r-help at r-project.org/msg254116.html
>>
>> path.expand seems to expand tildes beginning whitespace separated strings
>> that could be filenames, but not other tildes.
>>
>> Thus,
>>
>>> path.expand("~/.newsrc ~/.R/*")  # expands both tildes
>> [1] "/Users/cberry/.newsrc /Users/cberry/.R/*"
>>> path.expand("~/.newsrc~/.R/*")   # expands only the first
>> [1] "/Users/cberry/.newsrc~/.R/*"
>>>
>>
>> This could be a feature if what one wanted was to pass the result to a
>> system command that will process multiple file arguments, e.g.
>>
>>> system(paste( "wc", path.expand("~/.newsrc ~/.R/*"))) # run wc on some
>> files
>>
>> I doubt that this was intended by R-core, but perhaps the readline devs
>> had this in mind.
>>
>> Chuck
>>
>>
>>> On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:
>>>
>>>> On Wed, 5 Jun 2019 18:07:15 +0200
>>>> Frank Schwidom <schwidom at gmx.net> wrote:
>>>>
>>>>> +> path.expand("a ~ b")
>>>>> [1] "a /home/user b"
>>>>
>>>>> How can I switch off any file crippling activity?
>>>>
>>>> It doesn't seem to be possible if readline is enabled and works
>>>> correctly.
>>>>
>>>> Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
>>>> calls R_ExpandFileName_readline [4], which uses libreadline function
>>>> tilde_expand [5]. tilde_expand seems to be designed to expand '~'
>>>> anywhere in the string it is handed, i.e. operate on whole command
>>>> lines, not file paths.
>>>>
>>>> I am taking the liberty of Cc-ing R-devel in case this can be
>>>> considered a bug.
>>>>
>>>> --
>>>> Best regards,
>>>> Ivan
>>>>
>>>> [1]
>>>>
>>>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>>
>>>> [2]
>>>>
>>>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>>
>>>> [3]
>>>>
>>>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>>
>>>> [4]
>>>>
>>>>
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>>
>>>> [5]
>>>>
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>
>>
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From reichm@@j m@iii@g oii sbcgiob@i@@et  Sat Jun  8 14:29:17 2019
From: reichm@@j m@iii@g oii sbcgiob@i@@et (reichm@@j m@iii@g oii sbcgiob@i@@et)
Date: Sat, 8 Jun 2019 07:29:17 -0500
Subject: [R] gganimate: A Grammar of Animated Graphics
In-Reply-To: <317A40F4-8CE3-48C9-8306-17037DDF7043@noaa.gov>
References: <000901d51da2$3e146890$ba3d39b0$@sbcglobal.net>
 <317A40F4-8CE3-48C9-8306-17037DDF7043@noaa.gov>
Message-ID: <000201d51df5$cabcedf0$6036c9d0$@sbcglobal.net>

Roy

Thank you , yes last night as I was reading through the library functions  I
saw the animate() function, for example  animate(map, fps = 2), where map is
a ggplot object

Jeff

-----Original Message-----
From: Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> 
Sent: Friday, June 7, 2019 10:11 PM
To: <reichmanj at sbcglobal.net> <reichmanj at sbcglobal.net>
Cc: r-help at r-project.org
Subject: Re: [R] gganimate: A Grammar of Animated Graphics

There may be other ways but you can store the animation in an object and use
the animate() function.

-Roy

> On Jun 7, 2019, at 7:31 PM, <reichmanj at sbcglobal.net>
<reichmanj at sbcglobal.net> wrote:
> 
> R-Help Forum
> 
> 
> 
> I've been exploring the gganimate package and  am wondering how one 
> might adjust the animation speed?
> 
> 
> 
> Jeff Reichman
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

**********************
"The contents of this message do not reflect any position of the U.S.
Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK
Jr.


From dc@r|@on @end|ng |rom t@mu@edu  Sat Jun  8 21:19:05 2019
From: dc@r|@on @end|ng |rom t@mu@edu (David Carlson)
Date: Sat, 8 Jun 2019 14:19:05 -0500
Subject: [R] How to plot dendogram based on samples ID
In-Reply-To: <CAJE2if2_SdfLeU3xmVa3nZojcQBFX+1+jUvhPgTBZR9QUJRSoA@mail.gmail.com>
References: <CAJE2if2_SdfLeU3xmVa3nZojcQBFX+1+jUvhPgTBZR9QUJRSoA@mail.gmail.com>
Message-ID: <CAE-dL2rd8BgEkYCs_mxUfbqJOy4YPfq2ZOM10AA+XAATHhRNBA@mail.gmail.com>

Neither ContigID nor sampleID are defined in your example. The default
is to plot by the row names. You can get the manual page for the
dendrogram plot using the command ?plot.hclust. The second argument
lets you specify the labels.

David L Carlson, retired
Department of Anthropology
Texas A&M University


On Sat, Jun 8, 2019 at 4:48 AM Yogesh Gupta <nabiyogesh at gmail.com> wrote:
>
> Hi,
>
> I do have RNAseq  FPKM count and interested in dendrogram for samples
> cluster.
>
> I used below code but it generate dendogram based on ContigID instead of
> sampleID.
>
> > countMatrix = read.table("Trinity_trans.counts.matrix.txt",header=T,sep='\t',check.names=F,row.names=1)
> > dim(countMatrix)
> [1] 142686      6
> > head(countMatrix)
>
>                           AS_0DAP AS_4DAP AS_8DAP NMK_0DAP NMK_4DAP NMK_8DAP
>
> TRINITY_DN17944_c0_g1_i11   14.32   24.63    8.21     4.54       20     8.49
>
> TRINITY_DN7591_c0_g1_i1      0.00    0.00    1.00     3.00        3     0.00
>
> TRINITY_DN28918_c0_g1_i1     1.00    2.00    1.00     0.00        2     0.00
>
> TRINITY_DN14082_c2_g2_i5     6.00    5.00    1.00     0.00        1     0.00
>
> TRINITY_DN31994_c0_g1_i1     1.00    2.00    0.00     0.00        0     3.00
>
> TRINITY_DN19560_c0_g1_i1     1.00    3.00    0.00     0.00        1     1.00
> > rv <- rowVars(countMatrix)
> > summary(rv)
>
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
>
> 0.000e+00 1.000e+00 1.500e+01 3.570e+05 5.180e+02 4.122e+09
>
> > (q75 <-quantile(rowVars(countMatrix), .75))
>      75%
>
> 518.3202
> > m2 <- countMatrix[rv >q75, ]
> > dim(m2)
> [1] 35672     6
> > summary(rowVars(m2))
>
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
>
> 5.180e+02 1.670e+03 6.677e+03 1.428e+06 4.101e+04 4.122e+09
> > d <- dist(m2, method="euclidean")
> > h <-hclust(d, method="complete")
> > plot(h)
>
> Kind Regards
> Yogesh
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From yhbrent @end|ng |rom y@hoo@com  Sun Jun  9 05:07:38 2019
From: yhbrent @end|ng |rom y@hoo@com (Brent)
Date: Sun, 9 Jun 2019 03:07:38 +0000 (UTC)
Subject: [R] Rgui and high DPI (e.g. 4K) monitors
References: <1565023791.251749.1560049658054.ref@mail.yahoo.com>
Message-ID: <1565023791.251749.1560049658054@mail.yahoo.com>

Summary:

I need advice on how to simultaneously get crisp text and properly sized icons in Rgui on a modern monitor.



Background and details:

I have a new Dell Precision 7530 workstation laptop with a 15 inch 4K monitor running the latest (1903) build of Windows 10 Pro for Workstations.

I just installed the latest R (3.6.0) on it.

The sole problem is that Rgui's text and shortcut icons are blurrier than they ought to be.

Is this because Rgui fails to using new Windows 10 GUI APIs, and instead uses old legacy APIs that poorly support scaling?

I web searched this problem.? Many links mention to alter Windows 10's display scaling for R.? For example:
? ? https://www.reddit.com/r/Windows10/comments/3fedsq/a_simple_solution_for_blurry_fonts_in_windows_10/

Motivated by that, I have done some experiments which I report below.? They partly work, but not completely, so I desire to learn of a full solution.

Initial steps:
? ? --find the shortcut that launches Rgui, for example
? ? ? ? C:\ProgramData\Microsoft\Windows\Start Menu\Programs\R\R x64 3.6.0
? ? --right click on that shortcut
? ? --select Properties --> Compatibility --> "Change high DPI settings"
? ? ? ? Override high DPI scaling behavior: check
? ? ? ? drop down menu: see discussion below

The drop down menu has 3 choices: Application, System, System (Enhanced).

If I? choose Application:
? ? --Good: ALL the text (e.g. the menus, inside R console) is PERFECT!
? ? --BAD: the icons are so small that they are utterly unreadable; I just measured them as ~2 mm by 2 mm!

If I? choose System:
? ? --seems to be the worst option, does nothing to help

If I? choose System (Enhanced):
? ? --Good: the text for the menus is OK, the icons are OK
? ? --BAD: the text inside R console is blurry

I have gone with Application since I LOVE the crisp text and do not use those icons too much.

But there should be no compromise: Rgui ought to display perfectly.

Anyone had success?



This email list's archives:

Apologies in advance if this question has been asked and answered many times already.

But know that before posting this, in addition to a normal web search, I tried to find prior discussions on this email list.

This is problematic.? The official site
? ? https://stat.ethz.ch/mailman/listinfo/r-help
says that the only ways which partly work are the GMANE interfaces and the Nabble one.

I got a Error 522 page from GMANE.

Nabble returned 2 hits for variations on the search terms "rgui high dpi 4k"
? ? http://r.789695.n4.nabble.com/Font-Size-for-View-under-Linux-td4746104.html
? ? http://r.789695.n4.nabble.com/Bug-report-problems-with-saving-plots-on-a-Windows-PC-with-4k-monitor-wrong-picture-size-td4752183.html
None are relevant here.


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Mon Jun 10 00:14:09 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Sun, 9 Jun 2019 22:14:09 +0000
Subject: [R] Only change one parameter(n times) in R function then get
 outputs (n times)
Message-ID: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>

Hello Friends,
                      I have my own written an R function comparison (p,d,N). I need to get output corresponding changes in p while d and N are fixed. Also, my output is given three values such as A, B and C. Suppose if I change ten different p's values, we will get ten values of A, B and C. My goal is I want to draw the curve A vs B, C. Anyone have any ideas? I am trying mapply function.


Regards
Mayooran

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jun 10 03:07:34 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 9 Jun 2019 18:07:34 -0700
Subject: [R] Only change one parameter(n times) in R function then get
 outputs (n times)
In-Reply-To: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>
References: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>
Message-ID: <CAGxFJbRzd88JqY10dXgTvZ_GgbAP=naEz3jayGL4ER64HsgB8g@mail.gmail.com>

Yes. Spend some time with some R tutorials to learn the basics of R
programming.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Jun 9, 2019 at 3:14 PM Thevaraja, Mayooran <M.Thevaraja at massey.ac.nz>
wrote:

> Hello Friends,
>                       I have my own written an R function comparison
> (p,d,N). I need to get output corresponding changes in p while d and N are
> fixed. Also, my output is given three values such as A, B and C. Suppose if
> I change ten different p's values, we will get ten values of A, B and C. My
> goal is I want to draw the curve A vs B, C. Anyone have any ideas? I am
> trying mapply function.
>
>
> Regards
> Mayooran
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r|ox@||27 @end|ng |rom gm@||@com  Mon Jun 10 05:39:55 2019
From: r|ox@||27 @end|ng |rom gm@||@com (Rob Foxall)
Date: Mon, 10 Jun 2019 11:39:55 +0800
Subject: [R] R CMD build: "Error in if (any(update))"
Message-ID: <CAGmx+trgtUw68Aw8pN09x5pcsd2w3k2t0Q+Gvc-+0CFmBLM8HQ@mail.gmail.com>

Hi,

I've got an R package that I periodically create in what I assume is an
old-fashioned way:

Within R: use "package.skeleton"
Outside of R: update e.g. .rd files as appropriate
Command window: run the following commands
R CMD build packageName
R CMD check packageName
R CMD INSTALL --build packageName

I am now getting an error on the R CMD build stage. Initially I had wanted
to remove a package dependency (by not passing some functions to
package.skeleton and editing my NAMESPACE and DESCRIPTION file
appropriately), but on getting the error I tried to revert everything back
to my last successful build (Feb 2019), however, the error persisted:
R CMD build packageName
* checking for file 'packageName/DESCRIPTION' ... OK
* preparing 'packageName' :
* checking DESCRIPTION meta-information ... OK
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
* looking to see if a 'data/datalist' file should be added
Error in if (any(update)) { : missing value where TRUE/FALSE needed
Execution halted

I am guessing that the error could be due to any of the last three lines
that don't have an "OK", but I am completely stuck as to how to narrow it
down further, and Dr. Google has already failed me.

Using R version 3.6.0, R tools version 3.5.0.4 (I don't recall if had
different versions previous time I built this package in Feb 2019).

Cheers,
Rob.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jun 10 05:53:31 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 9 Jun 2019 20:53:31 -0700
Subject: [R] R CMD build: "Error in if (any(update))"
In-Reply-To: <CAGmx+trgtUw68Aw8pN09x5pcsd2w3k2t0Q+Gvc-+0CFmBLM8HQ@mail.gmail.com>
References: <CAGmx+trgtUw68Aw8pN09x5pcsd2w3k2t0Q+Gvc-+0CFmBLM8HQ@mail.gmail.com>
Message-ID: <CAGxFJbT8TbZHRXg2h=e5aqXVzmAt7fDvHLns9+1yJJfyWpDUbw@mail.gmail.com>

Wrong list.
Post to R--package-devel instead. And post in plain text, not html.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Jun 9, 2019 at 8:40 PM Rob Foxall <rfoxall27 at gmail.com> wrote:

> Hi,
>
> I've got an R package that I periodically create in what I assume is an
> old-fashioned way:
>
> Within R: use "package.skeleton"
> Outside of R: update e.g. .rd files as appropriate
> Command window: run the following commands
> R CMD build packageName
> R CMD check packageName
> R CMD INSTALL --build packageName
>
> I am now getting an error on the R CMD build stage. Initially I had wanted
> to remove a package dependency (by not passing some functions to
> package.skeleton and editing my NAMESPACE and DESCRIPTION file
> appropriately), but on getting the error I tried to revert everything back
> to my last successful build (Feb 2019), however, the error persisted:
> R CMD build packageName
> * checking for file 'packageName/DESCRIPTION' ... OK
> * preparing 'packageName' :
> * checking DESCRIPTION meta-information ... OK
> * checking for LF line-endings in source and make files
> * checking for empty or unneeded directories
> * looking to see if a 'data/datalist' file should be added
> Error in if (any(update)) { : missing value where TRUE/FALSE needed
> Execution halted
>
> I am guessing that the error could be due to any of the last three lines
> that don't have an "OK", but I am completely stuck as to how to narrow it
> down further, and Dr. Google has already failed me.
>
> Using R version 3.6.0, R tools version 3.5.0.4 (I don't recall if had
> different versions previous time I built this package in Feb 2019).
>
> Cheers,
> Rob.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r|ox@||27 @end|ng |rom gm@||@com  Mon Jun 10 06:29:54 2019
From: r|ox@||27 @end|ng |rom gm@||@com (Rob Foxall)
Date: Mon, 10 Jun 2019 12:29:54 +0800
Subject: [R] R CMD build: "Error in if (any(update))"
In-Reply-To: <CAGxFJbT8TbZHRXg2h=e5aqXVzmAt7fDvHLns9+1yJJfyWpDUbw@mail.gmail.com>
References: <CAGmx+trgtUw68Aw8pN09x5pcsd2w3k2t0Q+Gvc-+0CFmBLM8HQ@mail.gmail.com>
 <CAGxFJbT8TbZHRXg2h=e5aqXVzmAt7fDvHLns9+1yJJfyWpDUbw@mail.gmail.com>
Message-ID: <CAGmx+tqcJpGemhVgkUUzejvTCuKat=+TUK9CRyvhy5JWLu=LuA@mail.gmail.com>

Apologies for the html. I thought that the R--package-devel list was for
CRAN packages, which this package is not.

On Mon, Jun 10, 2019 at 11:53 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Wrong list.
> Post to R--package-devel instead. And post in plain text, not html.
>
> Cheers,
> Bert
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Sun, Jun 9, 2019 at 8:40 PM Rob Foxall <rfoxall27 at gmail.com> wrote:
>
>> Hi,
>>
>> I've got an R package that I periodically create in what I assume is an
>> old-fashioned way:
>>
>> Within R: use "package.skeleton"
>> Outside of R: update e.g. .rd files as appropriate
>> Command window: run the following commands
>> R CMD build packageName
>> R CMD check packageName
>> R CMD INSTALL --build packageName
>>
>> I am now getting an error on the R CMD build stage. Initially I had wanted
>> to remove a package dependency (by not passing some functions to
>> package.skeleton and editing my NAMESPACE and DESCRIPTION file
>> appropriately), but on getting the error I tried to revert everything back
>> to my last successful build (Feb 2019), however, the error persisted:
>> R CMD build packageName
>> * checking for file 'packageName/DESCRIPTION' ... OK
>> * preparing 'packageName' :
>> * checking DESCRIPTION meta-information ... OK
>> * checking for LF line-endings in source and make files
>> * checking for empty or unneeded directories
>> * looking to see if a 'data/datalist' file should be added
>> Error in if (any(update)) { : missing value where TRUE/FALSE needed
>> Execution halted
>>
>> I am guessing that the error could be due to any of the last three lines
>> that don't have an "OK", but I am completely stuck as to how to narrow it
>> down further, and Dr. Google has already failed me.
>>
>> Using R version 3.6.0, R tools version 3.5.0.4 (I don't recall if had
>> different versions previous time I built this package in Feb 2019).
>>
>> Cheers,
>> Rob.
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jun 10 06:31:32 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 09 Jun 2019 21:31:32 -0700
Subject: [R] Only change one parameter(n times) in R function then get
 outputs (n times)
In-Reply-To: <CAGxFJbRzd88JqY10dXgTvZ_GgbAP=naEz3jayGL4ER64HsgB8g@mail.gmail.com>
References: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>
 <CAGxFJbRzd88JqY10dXgTvZ_GgbAP=naEz3jayGL4ER64HsgB8g@mail.gmail.com>
Message-ID: <11418CF8-5CDD-467C-8D00-8988B11C9694@dcn.davis.ca.us>

supply might be useful. Or you may get some ideas from [1].

[1] https://jdnewmil.github.io/RLoopsAndGroups/DoItAgainR.html

On June 9, 2019 6:07:34 PM PDT, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>Yes. Spend some time with some R tutorials to learn the basics of R
>programming.
>
>Bert Gunter
>
>"The trouble with having an open mind is that people keep coming along
>and
>sticking things into it."
>-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
>On Sun, Jun 9, 2019 at 3:14 PM Thevaraja, Mayooran
><M.Thevaraja at massey.ac.nz>
>wrote:
>
>> Hello Friends,
>>                       I have my own written an R function comparison
>> (p,d,N). I need to get output corresponding changes in p while d and
>N are
>> fixed. Also, my output is given three values such as A, B and C.
>Suppose if
>> I change ten different p's values, we will get ten values of A, B and
>C. My
>> goal is I want to draw the curve A vs B, C. Anyone have any ideas? I
>am
>> trying mapply function.
>>
>>
>> Regards
>> Mayooran
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jun 10 06:36:58 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 09 Jun 2019 21:36:58 -0700
Subject: [R] R CMD build: "Error in if (any(update))"
In-Reply-To: <CAGmx+tqcJpGemhVgkUUzejvTCuKat=+TUK9CRyvhy5JWLu=LuA@mail.gmail.com>
References: <CAGmx+trgtUw68Aw8pN09x5pcsd2w3k2t0Q+Gvc-+0CFmBLM8HQ@mail.gmail.com>
 <CAGxFJbT8TbZHRXg2h=e5aqXVzmAt7fDvHLns9+1yJJfyWpDUbw@mail.gmail.com>
 <CAGmx+tqcJpGemhVgkUUzejvTCuKat=+TUK9CRyvhy5JWLu=LuA@mail.gmail.com>
Message-ID: <E6C2C906-A874-4619-88AF-7114513F140F@dcn.davis.ca.us>

I don't think they would throw you out for not targeting CRAN, but you will have difficulty almost anywhere you go for help if you don't have a reprex. In any event, this isn't the place to go for package help.

On June 9, 2019 9:29:54 PM PDT, Rob Foxall <rfoxall27 at gmail.com> wrote:
>Apologies for the html. I thought that the R--package-devel list was
>for
>CRAN packages, which this package is not.
>
>On Mon, Jun 10, 2019 at 11:53 AM Bert Gunter <bgunter.4567 at gmail.com>
>wrote:
>
>> Wrong list.
>> Post to R--package-devel instead. And post in plain text, not html.
>>
>> Cheers,
>> Bert
>>
>>
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming
>along and
>> sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Sun, Jun 9, 2019 at 8:40 PM Rob Foxall <rfoxall27 at gmail.com>
>wrote:
>>
>>> Hi,
>>>
>>> I've got an R package that I periodically create in what I assume is
>an
>>> old-fashioned way:
>>>
>>> Within R: use "package.skeleton"
>>> Outside of R: update e.g. .rd files as appropriate
>>> Command window: run the following commands
>>> R CMD build packageName
>>> R CMD check packageName
>>> R CMD INSTALL --build packageName
>>>
>>> I am now getting an error on the R CMD build stage. Initially I had
>wanted
>>> to remove a package dependency (by not passing some functions to
>>> package.skeleton and editing my NAMESPACE and DESCRIPTION file
>>> appropriately), but on getting the error I tried to revert
>everything back
>>> to my last successful build (Feb 2019), however, the error
>persisted:
>>> R CMD build packageName
>>> * checking for file 'packageName/DESCRIPTION' ... OK
>>> * preparing 'packageName' :
>>> * checking DESCRIPTION meta-information ... OK
>>> * checking for LF line-endings in source and make files
>>> * checking for empty or unneeded directories
>>> * looking to see if a 'data/datalist' file should be added
>>> Error in if (any(update)) { : missing value where TRUE/FALSE needed
>>> Execution halted
>>>
>>> I am guessing that the error could be due to any of the last three
>lines
>>> that don't have an "OK", but I am completely stuck as to how to
>narrow it
>>> down further, and Dr. Google has already failed me.
>>>
>>> Using R version 3.6.0, R tools version 3.5.0.4 (I don't recall if
>had
>>> different versions previous time I built this package in Feb 2019).
>>>
>>> Cheers,
>>> Rob.
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jun 10 10:20:13 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 10 Jun 2019 01:20:13 -0700
Subject: [R] Only change one parameter(n times) in R function then get
 outputs (n times)
In-Reply-To: <11418CF8-5CDD-467C-8D00-8988B11C9694@dcn.davis.ca.us>
References: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>
 <CAGxFJbRzd88JqY10dXgTvZ_GgbAP=naEz3jayGL4ER64HsgB8g@mail.gmail.com>
 <11418CF8-5CDD-467C-8D00-8988B11C9694@dcn.davis.ca.us>
Message-ID: <2D8F22E6-049D-45E6-B03B-E607C9E3225C@dcn.davis.ca.us>

Sorry ... that should have been "sapply"...

On June 9, 2019 9:31:32 PM PDT, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>supply might be useful. Or you may get some ideas from [1].
>
>[1] https://jdnewmil.github.io/RLoopsAndGroups/DoItAgainR.html
>
>On June 9, 2019 6:07:34 PM PDT, Bert Gunter <bgunter.4567 at gmail.com>
>wrote:
>>Yes. Spend some time with some R tutorials to learn the basics of R
>>programming.
>>
>>Bert Gunter
>>
>>"The trouble with having an open mind is that people keep coming along
>>and
>>sticking things into it."
>>-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>>On Sun, Jun 9, 2019 at 3:14 PM Thevaraja, Mayooran
>><M.Thevaraja at massey.ac.nz>
>>wrote:
>>
>>> Hello Friends,
>>>                       I have my own written an R function comparison
>>> (p,d,N). I need to get output corresponding changes in p while d and
>>N are
>>> fixed. Also, my output is given three values such as A, B and C.
>>Suppose if
>>> I change ten different p's values, we will get ten values of A, B
>and
>>C. My
>>> goal is I want to draw the curve A vs B, C. Anyone have any ideas? I
>>am
>>> trying mapply function.
>>>
>>>
>>> Regards
>>> Mayooran
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>>	[[alternative HTML version deleted]]
>>
>>______________________________________________
>>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Mon Jun 10 13:17:12 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Mon, 10 Jun 2019 11:17:12 +0000
Subject: [R] Only change one parameter(n times) in R function then get
 outputs (n times)
In-Reply-To: <2D8F22E6-049D-45E6-B03B-E607C9E3225C@dcn.davis.ca.us>
References: <MEXPR01MB2069693947CB7F3233804720C9120@MEXPR01MB2069.ausprd01.prod.outlook.com>
 <CAGxFJbRzd88JqY10dXgTvZ_GgbAP=naEz3jayGL4ER64HsgB8g@mail.gmail.com>
 <11418CF8-5CDD-467C-8D00-8988B11C9694@dcn.davis.ca.us>,
 <2D8F22E6-049D-45E6-B03B-E607C9E3225C@dcn.davis.ca.us>
Message-ID: <MEXPR01MB20691943C520E21EE888243AC9130@MEXPR01MB2069.ausprd01.prod.outlook.com>

Thanks for your help  Jeff. I will try it



Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10



From: Jeff Newmiller<mailto:jdnewmil at dcn.davis.ca.us>
Sent: Monday, June 10, 2019 08:20 PM
To: r-help at r-project.org<mailto:r-help at r-project.org>; Bert Gunter<mailto:bgunter.4567 at gmail.com>; Thevaraja, Mayooran<mailto:M.Thevaraja at massey.ac.nz>
Cc: r-help at r-project.org<mailto:r-help at r-project.org>
Subject: Re: [R] Only change one parameter(n times) in R function then get outputs (n times)



Sorry ... that should have been "sapply"...

On June 9, 2019 9:31:32 PM PDT, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>supply might be useful. Or you may get some ideas from [1].
>
>[1] https://jdnewmil.github.io/RLoopsAndGroups/DoItAgainR.html
>
>On June 9, 2019 6:07:34 PM PDT, Bert Gunter <bgunter.4567 at gmail.com>
>wrote:
>>Yes. Spend some time with some R tutorials to learn the basics of R
>>programming.
>>
>>Bert Gunter
>>
>>"The trouble with having an open mind is that people keep coming along
>>and
>>sticking things into it."
>>-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>>On Sun, Jun 9, 2019 at 3:14 PM Thevaraja, Mayooran
>><M.Thevaraja at massey.ac.nz>
>>wrote:
>>
>>> Hello Friends,
>>>                       I have my own written an R function comparison
>>> (p,d,N). I need to get output corresponding changes in p while d and
>>N are
>>> fixed. Also, my output is given three values such as A, B and C.
>>Suppose if
>>> I change ten different p's values, we will get ten values of A, B
>and
>>C. My
>>> goal is I want to draw the curve A vs B, C. Anyone have any ideas? I
>>am
>>> trying mapply function.
>>>
>>>
>>> Regards
>>> Mayooran
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>>      [[alternative HTML version deleted]]
>>
>>______________________________________________
>>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.

	[[alternative HTML version deleted]]


From @chw|dom @end|ng |rom gmx@net  Mon Jun 10 18:51:55 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Mon, 10 Jun 2019 18:51:55 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
Message-ID: <20190610165155.GA29855@debian64>

Hi,

to get rid of any possible filename modification I started a little project to cover my usecase:

https://github.com/schwidom/simplefs

This is my first R package, suggestions and a review are welcome.

Thanks in advance
Frank Schwidom

On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>    How can expanding tildes anywhere but the beginning of a file name NOT be
>    considered a bug?
>    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <[1]krylov.r00t at gmail.com> wrote:
>
>      On Wed, 5 Jun 2019 18:07:15 +0200
>      Frank Schwidom <[2]schwidom at gmx.net> wrote:
>
>      > +> path.expand("a ~ b")?
>      > [1] "a /home/user b"
>
>      > How can I switch off any file crippling activity?
>
>      It doesn't seem to be possible if readline is enabled and works
>      correctly.
>
>      Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
>      calls R_ExpandFileName_readline [4], which uses libreadline function
>      tilde_expand [5]. tilde_expand seems to be designed to expand '~'
>      anywhere in the string it is handed, i.e. operate on whole command
>      lines, not file paths.
>
>      I am taking the liberty of Cc-ing R-devel in case this can be
>      considered a bug.
>
>      --
>      Best regards,
>      Ivan
>
>      [1]
>      [3]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>
>      [2]
>      [4]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>
>      [3]
>      [5]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>
>      [4]
>      [6]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>
>      [5]
>      [7]https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>
>      ______________________________________________
>      [8]R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      [9]https://stat.ethz.ch/mailman/listinfo/r-help
>      PLEASE do read the posting guide
>      [10]http://www.R-project.org/posting-guide.html
>      and provide commented, minimal, self-contained, reproducible code.
>
> References
>
>    Visible links
>    1. mailto:krylov.r00t at gmail.com
>    2. mailto:schwidom at gmx.net
>    3. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>    4. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>    5. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>    6. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>    7. https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>    8. mailto:R-help at r-project.org
>    9. https://stat.ethz.ch/mailman/listinfo/r-help
>   10. http://www.r-project.org/posting-guide.html


From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Tue Jun 11 06:43:13 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Tue, 11 Jun 2019 10:13:13 +0530
Subject: [R] Changing the label name in the plot
Message-ID: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>

Dear R-users,

I am doing cluster analysis, but when I am plotting the results, the no. of
observation is coming as the level. Hence, I have a different level name
for each observation differently for each column. I have 2 columns, namely
DMs, and EMs, which will be clustered, but I am unable to label each dot in
the cluster as per their different name. In other words, the dots in the
cluster are being labeled as per their number of observation which I want
to rename as per their different name in the data. But, sometimes in code,
both the columns indicating the cluster names are not supporting due to
their non-numerical texts.

Hence, my query is how to rename or change the label of each dot in a
cluster. Here is my code.

library(tidyverse)
library(cluster)
library(factoextra)
k2 <- kmeans(ts, centers = 2, nstart = 25)
fviz_cluster(k2, data = ts)

Here, I have 2 columns i.e. DMs, and EMs with their different label name
(i.e. the different name for different observation differently for 2
columns), and want to plot such label name in the cluster graph rather than
the no. of observation.

For your convenience, I am attaching my data.

Please find the attached data, and kindly help me in this regard.

Thank you.



-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
9:54:45 AM

From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Tue Jun 11 09:04:43 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Tue, 11 Jun 2019 12:34:43 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAODjwAESdOb=MPigWfpDepKFk+5a04As3_QBQzwFy5853t14GQ@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CAODjwAESdOb=MPigWfpDepKFk+5a04As3_QBQzwFy5853t14GQ@mail.gmail.com>
Message-ID: <CAOFE=kNBVr+q9QRqtq7R368GnGqp2raEzjwQXO5TM-y7d-HRcw@mail.gmail.com>

Please find the attached data.

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
12:32:48 PM

On Tue, Jun 11, 2019 at 12:09 PM ??? ( ??? / rIsHi ) <rishi.dasroy at gmail.com>
wrote:

> I can not see the attached data
>
> On Tue, 11 Jun 2019, 10:14 Subhamitra Patra, <subhamitra.patra at gmail.com>
> wrote:
>
>> Dear R-users,
>>
>> I am doing cluster analysis, but when I am plotting the results, the no.
>> of
>> observation is coming as the level. Hence, I have a different level name
>> for each observation differently for each column. I have 2 columns, namely
>> DMs, and EMs, which will be clustered, but I am unable to label each dot
>> in
>> the cluster as per their different name. In other words, the dots in the
>> cluster are being labeled as per their number of observation which I want
>> to rename as per their different name in the data. But, sometimes in code,
>> both the columns indicating the cluster names are not supporting due to
>> their non-numerical texts.
>>
>> Hence, my query is how to rename or change the label of each dot in a
>> cluster. Here is my code.
>>
>> library(tidyverse)
>> library(cluster)
>> library(factoextra)
>> k2 <- kmeans(ts, centers = 2, nstart = 25)
>> fviz_cluster(k2, data = ts)
>>
>> Here, I have 2 columns i.e. DMs, and EMs with their different label name
>> (i.e. the different name for different observation differently for 2
>> columns), and want to plot such label name in the cluster graph rather
>> than
>> the no. of observation.
>>
>> For your convenience, I am attaching my data.
>>
>> Please find the attached data, and kindly help me in this regard.
>>
>> Thank you.
>>
>>
>>
>> --
>> *Best Regards,*
>> *Subhamitra Patra*
>> *Phd. Research Scholar*
>> *Department of Humanities and Social Sciences*
>> *Indian Institute of Technology, Kharagpur*
>> *INDIA*
>>
>> [image: Mailtrack]
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
>> >
>> Sender
>> notified by
>> Mailtrack
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
>> >
>> 06/11/19,
>> 9:54:45 AM
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

From petr@p|k@| @end|ng |rom prechez@@cz  Tue Jun 11 09:35:27 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 11 Jun 2019 07:35:27 +0000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAOFE=kNBVr+q9QRqtq7R368GnGqp2raEzjwQXO5TM-y7d-HRcw@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CAODjwAESdOb=MPigWfpDepKFk+5a04As3_QBQzwFy5853t14GQ@mail.gmail.com>
 <CAOFE=kNBVr+q9QRqtq7R368GnGqp2raEzjwQXO5TM-y7d-HRcw@mail.gmail.com>
Message-ID: <e44e706af7d148b5bea3ffdf5f93a069@SRVEXCHCM1302.precheza.cz>

Attachments are not alowed (mostly) on this list.

Use ?dput to show your data or at least part of your data illustrating the probl?m.

Cheers
Petr

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
Sent: Tuesday, June 11, 2019 8:05 AM
To: ??? ( ??? / rIsHi ) <rishi.dasroy at gmail.com>
Cc: r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Changing the label name in the plot

Please find the attached data.

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
12:32:48 PM

On Tue, Jun 11, 2019 at 12:09 PM ??? ( ??? / rIsHi ) <rishi.dasroy at gmail.com>
wrote:

> I can not see the attached data
>
> On Tue, 11 Jun 2019, 10:14 Subhamitra Patra,
> <subhamitra.patra at gmail.com>
> wrote:
>
>> Dear R-users,
>>
>> I am doing cluster analysis, but when I am plotting the results, the no.
>> of
>> observation is coming as the level. Hence, I have a different level
>> name for each observation differently for each column. I have 2
>> columns, namely DMs, and EMs, which will be clustered, but I am
>> unable to label each dot in the cluster as per their different name.
>> In other words, the dots in the cluster are being labeled as per
>> their number of observation which I want to rename as per their
>> different name in the data. But, sometimes in code, both the columns
>> indicating the cluster names are not supporting due to their
>> non-numerical texts.
>>
>> Hence, my query is how to rename or change the label of each dot in a
>> cluster. Here is my code.
>>
>> library(tidyverse)
>> library(cluster)
>> library(factoextra)
>> k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
>> ts)
>>
>> Here, I have 2 columns i.e. DMs, and EMs with their different label
>> name (i.e. the different name for different observation differently
>> for 2 columns), and want to plot such label name in the cluster graph
>> rather than the no. of observation.
>>
>> For your convenience, I am attaching my data.
>>
>> Please find the attached data, and kindly help me in this regard.
>>
>> Thank you.
>>
>>
>>
>> --
>> *Best Regards,*
>> *Subhamitra Patra*
>> *Phd. Research Scholar*
>> *Department of Humanities and Social Sciences* *Indian Institute of
>> Technology, Kharagpur*
>> *INDIA*
>>
>> [image: Mailtrack]
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campai
>> gn=signaturevirality5&
>> >
>> Sender
>> notified by
>> Mailtrack
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campai
>> gn=signaturevirality5&
>> >
>> 06/11/19,
>> 9:54:45 AM
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

--
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences* *Indian Institute of Technology, Kharagpur*
*INDIA*
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Tue Jun 11 09:56:12 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Tue, 11 Jun 2019 13:26:12 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <e44e706af7d148b5bea3ffdf5f93a069@SRVEXCHCM1302.precheza.cz>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CAODjwAESdOb=MPigWfpDepKFk+5a04As3_QBQzwFy5853t14GQ@mail.gmail.com>
 <CAOFE=kNBVr+q9QRqtq7R368GnGqp2raEzjwQXO5TM-y7d-HRcw@mail.gmail.com>
 <e44e706af7d148b5bea3ffdf5f93a069@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAOFE=kMwwkBtymb14hUVy=9NAg0kq27Av8e+WeP3CkRXgwOYTQ@mail.gmail.com>

Ok Sir. I am sorry that I was not knowing this thing.

So, now I am pasting my data below.

Name DMs Name EMs
A 2.071 a 2.038
B 2.0548 b 2.017
C 2.0544 c 2.007
D 2.047 d 1.963
E 2.033 f 1.947
F 2.0327 g 1.942
G 2.0321 h 1.932
H 2.031 i 1.924
I 2.0293 j 1.913
J 2.0291 k 1.906
K 2.027 l 1.892
L 2.022 m 1.877
M 1.9934 n 1.869
N 1.993 o 1.849
O 1.989 p 1.848
P 1.988 q 1.836
Q 1.987 r 1.835
R 1.9849 s 1.819
S 1.9842 t 1.798
T 1.981 u 1.771
U 1.978 v 1.762
V 1.968 w 1.717
W 1.96 x 1.707
X 1.958 y 1.688
Y 1.955 z 1.683
Z 1.953 aa 1.671
AA 1.952 ab 1.664
AB 1.95 ac 1.646
AC 1.948 ad 1.633
AD 1.945 ae 1.624
AE 1.937 af 1.621
AF 1.913 ag 1.584
AG 1.901 ah 1.487
AH 1.871 ai 1.482
AI 1.801 aj 1.23
AJ 1.761 ak 1.129
AK 1.751 al 1.168
AL 1.699 am 0.941
AM 1.687 an 0.591
AN 1.668 ao 0.387
AO 1.633 ap 0.16
AP 1.56 aq 0.0002

Here, I have clustered the values of DMs, and EMs, and plotted by using the
code mentioned in my previous email, but in plot, the dots in the cluster
are represented with the number of observation which I want to rename with
the corresponding names of the 2 data columns (DMs, and EMs).

Please help me in this regard.

Thanks.


[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
1:22:47 PM

On Tue, Jun 11, 2019 at 1:05 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Attachments are not alowed (mostly) on this list.
>
> Use ?dput to show your data or at least part of your data illustrating the
> probl?m.
>
> Cheers
> Petr
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
> Sent: Tuesday, June 11, 2019 8:05 AM
> To: ??? ( ??? / rIsHi ) <rishi.dasroy at gmail.com>
> Cc: r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Changing the label name in the plot
>
> Please find the attached data.
>
> [image: Mailtrack]
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> Sender
> notified by
> Mailtrack
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> 06/11/19,
> 12:32:48 PM
>
> On Tue, Jun 11, 2019 at 12:09 PM ??? ( ??? / rIsHi ) <
> rishi.dasroy at gmail.com>
> wrote:
>
> > I can not see the attached data
> >
> > On Tue, 11 Jun 2019, 10:14 Subhamitra Patra,
> > <subhamitra.patra at gmail.com>
> > wrote:
> >
> >> Dear R-users,
> >>
> >> I am doing cluster analysis, but when I am plotting the results, the no.
> >> of
> >> observation is coming as the level. Hence, I have a different level
> >> name for each observation differently for each column. I have 2
> >> columns, namely DMs, and EMs, which will be clustered, but I am
> >> unable to label each dot in the cluster as per their different name.
> >> In other words, the dots in the cluster are being labeled as per
> >> their number of observation which I want to rename as per their
> >> different name in the data. But, sometimes in code, both the columns
> >> indicating the cluster names are not supporting due to their
> >> non-numerical texts.
> >>
> >> Hence, my query is how to rename or change the label of each dot in a
> >> cluster. Here is my code.
> >>
> >> library(tidyverse)
> >> library(cluster)
> >> library(factoextra)
> >> k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
> >> ts)
> >>
> >> Here, I have 2 columns i.e. DMs, and EMs with their different label
> >> name (i.e. the different name for different observation differently
> >> for 2 columns), and want to plot such label name in the cluster graph
> >> rather than the no. of observation.
> >>
> >> For your convenience, I am attaching my data.
> >>
> >> Please find the attached data, and kindly help me in this regard.
> >>
> >> Thank you.
> >>
> >>
> >>
> >> --
> >> *Best Regards,*
> >> *Subhamitra Patra*
> >> *Phd. Research Scholar*
> >> *Department of Humanities and Social Sciences* *Indian Institute of
> >> Technology, Kharagpur*
> >> *INDIA*
> >>
> >> [image: Mailtrack]
> >> <
> >> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campai
> >> gn=signaturevirality5&
> >> >
> >> Sender
> >> notified by
> >> Mailtrack
> >> <
> >> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campai
> >> gn=signaturevirality5&
> >> >
> >> 06/11/19,
> >> 9:54:45 AM
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences* *Indian Institute of
> Technology, Kharagpur*
> *INDIA*
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> about processing and protection of business partner?s personal data are
> available on website:
> https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> documents attached to it may be confidential and are subject to the legally
> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>
>

-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Tue Jun 11 10:03:29 2019
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Tue, 11 Jun 2019 10:03:29 +0200
Subject: [R] R-help mailing list archives
In-Reply-To: <1565023791.251749.1560049658054@mail.yahoo.com>
References: <1565023791.251749.1560049658054.ref@mail.yahoo.com>
 <1565023791.251749.1560049658054@mail.yahoo.com>
Message-ID: <23807.24657.657143.894021@stat.math.ethz.ch>

>>>>> Brent via R-help 
>>>>>     on Sun, 9 Jun 2019 03:07:38 +0000 writes:

 [..................]
 [..................]
 [..................]

    > This email list's archives:

    > Apologies in advance if this question has been asked and
    > answered many times already.

    > But know that before posting this, in addition to a normal
    > web search, I tried to find prior discussions on this
    > email list.

    > This is problematic.? The official site ? ?
    > https://stat.ethz.ch/mailman/listinfo/r-help says that the
    > only ways which partly work are the GMANE interfaces and
    > the Nabble one.

You misread what it tries to say. The first time it mentions 'archives'
it gives you the link showing 'R-help Archives' which goes to

   https://stat.ethz.ch/pipermail/r-help/

which are the official R-help archives (on that same server stat.ethz.ch
provided to the R community by the Math Dept. of ETH Zurich).
They work "fine" but don't have a nice 1-click search interface.
So you what has worked for ca 20 years
{{ but people probably
   mostly have not learned anymore thanks to the universally "fool
   proof" search interface
}}
still works fine: Use  the site:<SITE> trick,  i.e.,

where I found that adding "pipermail" is also somewhat important
to find more mailing list answers (than R help pages which are
also served from there).
E.g., 
      site:stat.ethz.ch pipermail R windows GUI scaling

finds a lot (but maybe nothing relevant to your search), notably
with Google;
a bit less unfortunately  with my usual search engine "Duck Duck
Go" (which is *not* keeping track as much as Google of everything I do )


    > I got a Error 522 page from GMANE.

Yes, unfortunately...  Should probably remove that link from the
R-help info page; it has gone for several years now AFAIK.

Martin Maechler
ETH Zurich and R Core Team



    > Nabble returned 2 hits for variations on the search terms
    > "rgui high dpi 4k" ? ?
    > http://r.789695.n4.nabble.com/Font-Size-for-View-under-Linux-td4746104.html
    > ? ?
    > http://r.789695.n4.nabble.com/Bug-report-problems-with-saving-plots-on-a-Windows-PC-with-4k-monitor-wrong-picture-size-td4752183.html
    > None are relevant here.


From drj|m|emon @end|ng |rom gm@||@com  Tue Jun 11 11:30:04 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Tue, 11 Jun 2019 19:30:04 +1000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
Message-ID: <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>

Hi Subhamitra,
I don't have the factoextra package, but this may give you what you want:

ts<-read.table(text="Name DMs Name EMs
A 2.071 a 2.038
B 2.0548 b 2.017
C 2.0544 c 2.007
D 2.047 d 1.963
E 2.033 f 1.947
F 2.0327 g 1.942
G 2.0321 h 1.932
H 2.031 i 1.924
I 2.0293 j 1.913
J 2.0291 k 1.906
K 2.027 l 1.892
L 2.022 m 1.877
M 1.9934 n 1.869
N 1.993 o 1.849
O 1.989 p 1.848
P 1.988 q 1.836
Q 1.987 r 1.835
R 1.9849 s 1.819
S 1.9842 t 1.798
T 1.981 u 1.771
U 1.978 v 1.762
V 1.968 w 1.717
W 1.96 x 1.707
X 1.958 y 1.688
Y 1.955 z 1.683
Z 1.953 aa 1.671
AA 1.952 ab 1.664
AB 1.95 ac 1.646
AC 1.948 ad 1.633
AD 1.945 ae 1.624
AE 1.937 af 1.621
AF 1.913 ag 1.584
AG 1.901 ah 1.487
AH 1.871 ai 1.482
AI 1.801 aj 1.23
AJ 1.761 ak 1.129
AK 1.751 al 1.168
AL 1.699 am 0.941
AM 1.687 an 0.591
AN 1.668 ao 0.387
AO 1.633 ap 0.16
AP 1.56 aq 0.0002",
header=TRUE,stringsAsFactors=FALSE)
library(cluster)
k2 <- kmeans(ts, centers = 2, nstart = 25)
plot(ts[c(2,4)],col=k2$cluster,type="n")
text(ts[c(2,4)],ts$Name.1,col=k2$cluster)

Jim

On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
<subhamitra.patra at gmail.com> wrote:
>
> Dear R-users,
>
> I am doing cluster analysis, but when I am plotting the results, the no. of
> observation is coming as the level. Hence, I have a different level name
> for each observation differently for each column. I have 2 columns, namely
> DMs, and EMs, which will be clustered, but I am unable to label each dot in
> the cluster as per their different name. In other words, the dots in the
> cluster are being labeled as per their number of observation which I want
> to rename as per their different name in the data. But, sometimes in code,
> both the columns indicating the cluster names are not supporting due to
> their non-numerical texts.
>
> Hence, my query is how to rename or change the label of each dot in a
> cluster. Here is my code.
>
> library(tidyverse)
> library(cluster)
> library(factoextra)
> k2 <- kmeans(ts, centers = 2, nstart = 25)
> fviz_cluster(k2, data = ts)
>
> Here, I have 2 columns i.e. DMs, and EMs with their different label name
> (i.e. the different name for different observation differently for 2
> columns), and want to plot such label name in the cluster graph rather than
> the no. of observation.
>
> For your convenience, I am attaching my data.
>
> Please find the attached data, and kindly help me in this regard.
>
> Thank you.
>
>
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences*
> *Indian Institute of Technology, Kharagpur*
> *INDIA*
>
> [image: Mailtrack]
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
> Sender
> notified by
> Mailtrack
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
> 06/11/19,
> 9:54:45 AM
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Tue Jun 11 11:49:08 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Tue, 11 Jun 2019 15:19:08 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
Message-ID: <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>

Hello Sir,

Thank you very much for your help. I tried your suggestion but got some
error, which I am pasting below.


Error: unexpected symbol in:
"
              header"
> library(cluster)
Warning message:
package ?cluster? was built under R version 3.5.3
> k2 <- kmeans(ts, centers = 2, nstart = 25)
Error in as.vector(x, mode) :
  cannot coerce type 'closure' to vector of type 'any'
>                plot(ts[c(2,4)],col=k2$cluster,type="n")
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>                text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable


Please help me.

Thank you.

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
3:17:19 PM

On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Subhamitra,
> I don't have the factoextra package, but this may give you what you want:
>
> ts<-read.table(text="Name DMs Name EMs
> A 2.071 a 2.038
> B 2.0548 b 2.017
> C 2.0544 c 2.007
> D 2.047 d 1.963
> E 2.033 f 1.947
> F 2.0327 g 1.942
> G 2.0321 h 1.932
> H 2.031 i 1.924
> I 2.0293 j 1.913
> J 2.0291 k 1.906
> K 2.027 l 1.892
> L 2.022 m 1.877
> M 1.9934 n 1.869
> N 1.993 o 1.849
> O 1.989 p 1.848
> P 1.988 q 1.836
> Q 1.987 r 1.835
> R 1.9849 s 1.819
> S 1.9842 t 1.798
> T 1.981 u 1.771
> U 1.978 v 1.762
> V 1.968 w 1.717
> W 1.96 x 1.707
> X 1.958 y 1.688
> Y 1.955 z 1.683
> Z 1.953 aa 1.671
> AA 1.952 ab 1.664
> AB 1.95 ac 1.646
> AC 1.948 ad 1.633
> AD 1.945 ae 1.624
> AE 1.937 af 1.621
> AF 1.913 ag 1.584
> AG 1.901 ah 1.487
> AH 1.871 ai 1.482
> AI 1.801 aj 1.23
> AJ 1.761 ak 1.129
> AK 1.751 al 1.168
> AL 1.699 am 0.941
> AM 1.687 an 0.591
> AN 1.668 ao 0.387
> AO 1.633 ap 0.16
> AP 1.56 aq 0.0002",
> header=TRUE,stringsAsFactors=FALSE)
> library(cluster)
> k2 <- kmeans(ts, centers = 2, nstart = 25)
> plot(ts[c(2,4)],col=k2$cluster,type="n")
> text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
>
> Jim
>
> On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
> <subhamitra.patra at gmail.com> wrote:
> >
> > Dear R-users,
> >
> > I am doing cluster analysis, but when I am plotting the results, the no.
> of
> > observation is coming as the level. Hence, I have a different level name
> > for each observation differently for each column. I have 2 columns,
> namely
> > DMs, and EMs, which will be clustered, but I am unable to label each dot
> in
> > the cluster as per their different name. In other words, the dots in the
> > cluster are being labeled as per their number of observation which I want
> > to rename as per their different name in the data. But, sometimes in
> code,
> > both the columns indicating the cluster names are not supporting due to
> > their non-numerical texts.
> >
> > Hence, my query is how to rename or change the label of each dot in a
> > cluster. Here is my code.
> >
> > library(tidyverse)
> > library(cluster)
> > library(factoextra)
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> > fviz_cluster(k2, data = ts)
> >
> > Here, I have 2 columns i.e. DMs, and EMs with their different label name
> > (i.e. the different name for different observation differently for 2
> > columns), and want to plot such label name in the cluster graph rather
> than
> > the no. of observation.
> >
> > For your convenience, I am attaching my data.
> >
> > Please find the attached data, and kindly help me in this regard.
> >
> > Thank you.
> >
> >
> >
> > --
> > *Best Regards,*
> > *Subhamitra Patra*
> > *Phd. Research Scholar*
> > *Department of Humanities and Social Sciences*
> > *Indian Institute of Technology, Kharagpur*
> > *INDIA*
> >
> > [image: Mailtrack]
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> > Sender
> > notified by
> > Mailtrack
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> > 06/11/19,
> > 9:54:45 AM
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

	[[alternative HTML version deleted]]


From @chw|dom @end|ng |rom gmx@net  Tue Jun 11 12:09:38 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Tue, 11 Jun 2019 12:09:38 +0200
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
Message-ID: <20190611100938.GA3588@debian64>

Hi,

yes, I have seen this package and it has the same tilde expanding problem.

Please excuse me I will cc this answer to r-help and r-devel to keep the discussion running.

Kind regards,
Frank Schwidom

On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> Just in case, have you seen the fs package?
> https://fs.r-lib.org/
>
> Gabor
>
> On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <schwidom at gmx.net> wrote:
> >
> > Hi,
> >
> > to get rid of any possible filename modification I started a little project to cover my usecase:
> >
> > https://github.com/schwidom/simplefs
> >
> > This is my first R package, suggestions and a review are welcome.
> >
> > Thanks in advance
> > Frank Schwidom
> >
> > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> > >    How can expanding tildes anywhere but the beginning of a file name NOT be
> > >    considered a bug?
> > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <[1]krylov.r00t at gmail.com> wrote:
> > >
> > >      On Wed, 5 Jun 2019 18:07:15 +0200
> > >      Frank Schwidom <[2]schwidom at gmx.net> wrote:
> > >
> > >      > +> path.expand("a ~ b")
> > >      > [1] "a /home/user b"
> > >
> > >      > How can I switch off any file crippling activity?
> > >
> > >      It doesn't seem to be possible if readline is enabled and works
> > >      correctly.
> > >
> > >      Calls to path.expand [1] end up [2] in R_ExpandFileName [3], which
> > >      calls R_ExpandFileName_readline [4], which uses libreadline function
> > >      tilde_expand [5]. tilde_expand seems to be designed to expand '~'
> > >      anywhere in the string it is handed, i.e. operate on whole command
> > >      lines, not file paths.
> > >
> > >      I am taking the liberty of Cc-ing R-devel in case this can be
> > >      considered a bug.
> > >
> > >      --
> > >      Best regards,
> > >      Ivan
> > >
> > >      [1]
> > >      [3]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >
> > >      [2]
> > >      [4]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >
> > >      [3]
> > >      [5]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >
> > >      [4]
> > >      [6]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >
> > >      [5]
> > >      [7]https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >
> > >      ______________________________________________
> > >      [8]R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >      [9]https://stat.ethz.ch/mailman/listinfo/r-help
> > >      PLEASE do read the posting guide
> > >      [10]http://www.R-project.org/posting-guide.html
> > >      and provide commented, minimal, self-contained, reproducible code.
> > >
> > > References
> > >
> > >    Visible links
> > >    1. mailto:krylov.r00t at gmail.com
> > >    2. mailto:schwidom at gmx.net
> > >    3. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >    4. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >    5. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >    6. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >    7. https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >    8. mailto:R-help at r-project.org
> > >    9. https://stat.ethz.ch/mailman/listinfo/r-help
> > >   10. http://www.r-project.org/posting-guide.html
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
>


From petr@p|k@| @end|ng |rom prechez@@cz  Tue Jun 11 12:19:23 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 11 Jun 2019 10:19:23 +0000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
 <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
Message-ID: <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>

Hi

Ts should be numeric matrix if I read the help page correctly. However I get different error message

> k2 <- kmeans(ts, centers = 2, nstart = 25)
Error in do_one(nmeth) : NA/NaN/Inf in foreign function call (arg 1)
In addition: Warning message:
In storage.mode(x) <- "double" : NAs introduced by coercion

So there must be another issue with your data.

Cheers
Petr

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
Sent: Tuesday, June 11, 2019 10:49 AM
To: Jim Lemon <drjimlemon at gmail.com>; r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Changing the label name in the plot

Hello Sir,

Thank you very much for your help. I tried your suggestion but got some error, which I am pasting below.


Error: unexpected symbol in:
"
              header"
> library(cluster)
Warning message:
package ?cluster? was built under R version 3.5.3
> k2 <- kmeans(ts, centers = 2, nstart = 25)
Error in as.vector(x, mode) :
  cannot coerce type 'closure' to vector of type 'any'
>                plot(ts[c(2,4)],col=k2$cluster,type="n")
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>                text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable


Please help me.

Thank you.

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
3:17:19 PM

On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Subhamitra,
> I don't have the factoextra package, but this may give you what you want:
>
> ts<-read.table(text="Name DMs Name EMs A 2.071 a 2.038 B 2.0548 b
> 2.017 C 2.0544 c 2.007 D 2.047 d 1.963 E 2.033 f 1.947 F 2.0327 g
> 1.942 G 2.0321 h 1.932 H 2.031 i 1.924 I 2.0293 j 1.913 J 2.0291 k
> 1.906 K 2.027 l 1.892 L 2.022 m 1.877 M 1.9934 n 1.869 N 1.993 o 1.849
> O 1.989 p 1.848 P 1.988 q 1.836 Q 1.987 r 1.835 R 1.9849 s 1.819 S
> 1.9842 t 1.798 T 1.981 u 1.771 U 1.978 v 1.762 V 1.968 w 1.717 W 1.96
> x 1.707 X 1.958 y 1.688 Y 1.955 z 1.683 Z 1.953 aa 1.671 AA 1.952 ab
> 1.664 AB 1.95 ac 1.646 AC 1.948 ad 1.633 AD 1.945 ae 1.624 AE 1.937 af
> 1.621 AF 1.913 ag 1.584 AG 1.901 ah 1.487 AH 1.871 ai 1.482 AI 1.801
> aj 1.23 AJ 1.761 ak 1.129 AK 1.751 al 1.168 AL 1.699 am 0.941 AM 1.687
> an 0.591 AN 1.668 ao 0.387 AO 1.633 ap 0.16 AP 1.56 aq 0.0002",
> header=TRUE,stringsAsFactors=FALSE)
> library(cluster)
> k2 <- kmeans(ts, centers = 2, nstart = 25)
> plot(ts[c(2,4)],col=k2$cluster,type="n")
> text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
>
> Jim
>
> On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
> <subhamitra.patra at gmail.com> wrote:
> >
> > Dear R-users,
> >
> > I am doing cluster analysis, but when I am plotting the results, the no.
> of
> > observation is coming as the level. Hence, I have a different level
> > name for each observation differently for each column. I have 2
> > columns,
> namely
> > DMs, and EMs, which will be clustered, but I am unable to label each
> > dot
> in
> > the cluster as per their different name. In other words, the dots in
> > the cluster are being labeled as per their number of observation
> > which I want to rename as per their different name in the data. But,
> > sometimes in
> code,
> > both the columns indicating the cluster names are not supporting due
> > to their non-numerical texts.
> >
> > Hence, my query is how to rename or change the label of each dot in
> > a cluster. Here is my code.
> >
> > library(tidyverse)
> > library(cluster)
> > library(factoextra)
> > k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
> > ts)
> >
> > Here, I have 2 columns i.e. DMs, and EMs with their different label
> > name (i.e. the different name for different observation differently
> > for 2 columns), and want to plot such label name in the cluster
> > graph rather
> than
> > the no. of observation.
> >
> > For your convenience, I am attaching my data.
> >
> > Please find the attached data, and kindly help me in this regard.
> >
> > Thank you.
> >
> >
> >
> > --
> > *Best Regards,*
> > *Subhamitra Patra*
> > *Phd. Research Scholar*
> > *Department of Humanities and Social Sciences* *Indian Institute of
> > Technology, Kharagpur*
> > *INDIA*
> >
> > [image: Mailtrack]
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> n=signaturevirality5&
> >
> > Sender
> > notified by
> > Mailtrack
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> n=signaturevirality5&
> >
> > 06/11/19,
> > 9:54:45 AM
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


--
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences* *Indian Institute of Technology, Kharagpur*
*INDIA*

[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From m@rc_@chw@rtz @end|ng |rom me@com  Tue Jun 11 13:58:58 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Tue, 11 Jun 2019 07:58:58 -0400
Subject: [R] R-help mailing list archives
In-Reply-To: <23807.24657.657143.894021@stat.math.ethz.ch>
References: <1565023791.251749.1560049658054.ref@mail.yahoo.com>
 <1565023791.251749.1560049658054@mail.yahoo.com>
 <23807.24657.657143.894021@stat.math.ethz.ch>
Message-ID: <650AEF09-2C24-4800-A9B4-20FF286DCBA0@me.com>


> On Jun 11, 2019, at 4:03 AM, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
> 
>>>>>> Brent via R-help 
>>>>>>    on Sun, 9 Jun 2019 03:07:38 +0000 writes:
> 
> [..................]
> [..................]
> [..................]
> 
>> This email list's archives:
> 
>> Apologies in advance if this question has been asked and
>> answered many times already.
> 
>> But know that before posting this, in addition to a normal
>> web search, I tried to find prior discussions on this
>> email list.
> 
>> This is problematic.  The official site    
>> https://stat.ethz.ch/mailman/listinfo/r-help says that the
>> only ways which partly work are the GMANE interfaces and
>> the Nabble one.
> 
> You misread what it tries to say. The first time it mentions 'archives'
> it gives you the link showing 'R-help Archives' which goes to
> 
>   https://stat.ethz.ch/pipermail/r-help/
> 
> which are the official R-help archives (on that same server stat.ethz.ch
> provided to the R community by the Math Dept. of ETH Zurich).
> They work "fine" but don't have a nice 1-click search interface.
> So you what has worked for ca 20 years
> {{ but people probably
>   mostly have not learned anymore thanks to the universally "fool
>   proof" search interface
> }}
> still works fine: Use  the site:<SITE> trick,  i.e.,
> 
> where I found that adding "pipermail" is also somewhat important
> to find more mailing list answers (than R help pages which are
> also served from there).
> E.g., 
>      site:stat.ethz.ch pipermail R windows GUI scaling
> 
> finds a lot (but maybe nothing relevant to your search), notably
> with Google;
> a bit less unfortunately  with my usual search engine "Duck Duck
> Go" (which is *not* keeping track as much as Google of everything I do )
> 
> 
>> I got a Error 522 page from GMANE.
> 
> Yes, unfortunately...  Should probably remove that link from the
> R-help info page; it has gone for several years now AFAIK.
> 
> Martin Maechler
> ETH Zurich and R Core Team
> 
> 
> 
>> Nabble returned 2 hits for variations on the search terms
>> "rgui high dpi 4k"    
>> http://r.789695.n4.nabble.com/Font-Size-for-View-under-Linux-td4746104.html
>>    
>> http://r.789695.n4.nabble.com/Bug-report-problems-with-saving-plots-on-a-Windows-PC-with-4k-monitor-wrong-picture-size-td4752183.html
>> None are relevant here.
> 


Hi,

Just to amplify Martin's comments, if you go to the main R Project web site, you will find, in the left hand navigation links the following:

Search:
https://www.r-project.org/search.html

and 

Getting Help:
https://www.r-project.org/help.html

both of which eventually link to search resources such as rseek.org, which are dedicated to R related searches.

Using rseek.org and the "All" tab, with the same search phrase as above, though not quoted, led to the following two hits:

R-Devel from 2015:
https://stat.ethz.ch/pipermail/r-devel/2015-September/071732.html

A Microsoft support note:
https://support.microsoft.com/en-my/help/4091364/windows-10-fix-blurry-apps

It is not clear to me if either is helpful here in the end as I do not have a 4K display, but at least shows alternative results using rseek.org.

Note that rseek.org, includes other sources beyond the official R e-mail list archives, which is why the MS note comes up. You can narrow the results by using the various tab options at the top of the page.

Regards,

Marc Schwartz


From n|co|@@|un@rdon@84 @end|ng |rom gm@||@com  Tue Jun 11 07:34:55 2019
From: n|co|@@|un@rdon@84 @end|ng |rom gm@||@com (Nicola Lunardon)
Date: Tue, 11 Jun 2019 07:34:55 +0200
Subject: [R] Parallel processes collapse into one
In-Reply-To: <20190606142051.738c49a0@trisector>
References: <CAOP=D3XZOGYxvP4YYzb6GhJRaUQW4F1SFh=C-V2EW6gVqP1d1Q@mail.gmail.com>
 <20190606142051.738c49a0@trisector>
Message-ID: <CAOP=D3WzXNVT2-bMLBsrbghkkmUzwGSVdLS1PUrgzF-zM5b-Rw@mail.gmail.com>

Hi, thanks for the hints. I am quite sure that at some points R stalls as I
am used to monitor the progress of simulations (with a custom function
similar to pbmclapply) and save partial results: whenever all R instances
collapse into one, then no more updates show up.
I was able to set OPENBLAS_NUM_THREADS=1 (1=the value calculated by using
the formula you provided) as suggested here
https://stat.ethz.ch/pipermail/r-sig-debian/2016-August/002588.html, but it
seemed to have no effect on the machine I am using. However, I managed to
force R to use standard BLAS/LAPACK libraries, hope this is going to solve
the problem

sessionInfo()
R version 3.6.0 (2019-04-26)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 16.04.6 LTS

Matrix products: default
BLAS:   /usr/lib/libblas/libblas.so.3.6.0
LAPACK: /usr/lib/lapack/liblapack.so.3.6.0

Il giorno gio 6 giu 2019 alle ore 13:20 Ivan Krylov <krylov.r00t at gmail.com>
ha scritto:

> On Mon, 3 Jun 2019 06:37:46 +0200
> Nicola Lunardon <nicola.lunardon.84 at gmail.com> wrote:
>
> > R seems to be running, but simulations do not progress further.
>
> Have you tried message() (or REprintf() in C code) to narrow down the
> specific part of the code where simulations stop in their progress?
> It's less convenient than a good debugger, but with parallel code it is
> sometimes the only way to reproduce the problem and get some
> information about it.
>
> > If I run simulations on 16 cores I end up having an R instance with
> > CPU usage about 1600%, never experienced such a behaviour.
>
> > BLAS:   /usr/lib/openblas-base/libblas.so.3
> > LAPACK: /usr/lib/libopenblasp-r0.2.18.so
>
> OpenBLAS can, indeed, use multiple threads on its own, inside a single
> process. Combined with mclapply, this might create a situation when
> there are far more threads competing for CPU time than CPU cores
> available. Does it help if you set an environment variable such as
> OPENBLAS_NUM_THREADS [*] to a number less than or equal to (number of
> CPU cores / mc.cores mclapply argument)?
>
> --
> Best regards,
> Ivan
>
> [*]
>
> https://github.com/xianyi/OpenBLAS#setting-the-number-of-threads-using-environment-variables
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jun 11 16:14:31 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 11 Jun 2019 07:14:31 -0700
Subject: [R] Changing the label name in the plot
In-Reply-To: <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
 <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
 <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>

There appear to be two columns with the same name. Surely this will cause
problems.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Jun 11, 2019 at 3:19 AM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hi
>
> Ts should be numeric matrix if I read the help page correctly. However I
> get different error message
>
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> Error in do_one(nmeth) : NA/NaN/Inf in foreign function call (arg 1)
> In addition: Warning message:
> In storage.mode(x) <- "double" : NAs introduced by coercion
>
> So there must be another issue with your data.
>
> Cheers
> Petr
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
> Sent: Tuesday, June 11, 2019 10:49 AM
> To: Jim Lemon <drjimlemon at gmail.com>; r-help mailing list <
> r-help at r-project.org>
> Subject: Re: [R] Changing the label name in the plot
>
> Hello Sir,
>
> Thank you very much for your help. I tried your suggestion but got some
> error, which I am pasting below.
>
>
> Error: unexpected symbol in:
> "
>               header"
> > library(cluster)
> Warning message:
> package ?cluster? was built under R version 3.5.3
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> Error in as.vector(x, mode) :
>   cannot coerce type 'closure' to vector of type 'any'
> >                plot(ts[c(2,4)],col=k2$cluster,type="n")
> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
> >                text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>
>
> Please help me.
>
> Thank you.
>
> [image: Mailtrack]
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> Sender
> notified by
> Mailtrack
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> 06/11/19,
> 3:17:19 PM
>
> On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>
> > Hi Subhamitra,
> > I don't have the factoextra package, but this may give you what you want:
> >
> > ts<-read.table(text="Name DMs Name EMs A 2.071 a 2.038 B 2.0548 b
> > 2.017 C 2.0544 c 2.007 D 2.047 d 1.963 E 2.033 f 1.947 F 2.0327 g
> > 1.942 G 2.0321 h 1.932 H 2.031 i 1.924 I 2.0293 j 1.913 J 2.0291 k
> > 1.906 K 2.027 l 1.892 L 2.022 m 1.877 M 1.9934 n 1.869 N 1.993 o 1.849
> > O 1.989 p 1.848 P 1.988 q 1.836 Q 1.987 r 1.835 R 1.9849 s 1.819 S
> > 1.9842 t 1.798 T 1.981 u 1.771 U 1.978 v 1.762 V 1.968 w 1.717 W 1.96
> > x 1.707 X 1.958 y 1.688 Y 1.955 z 1.683 Z 1.953 aa 1.671 AA 1.952 ab
> > 1.664 AB 1.95 ac 1.646 AC 1.948 ad 1.633 AD 1.945 ae 1.624 AE 1.937 af
> > 1.621 AF 1.913 ag 1.584 AG 1.901 ah 1.487 AH 1.871 ai 1.482 AI 1.801
> > aj 1.23 AJ 1.761 ak 1.129 AK 1.751 al 1.168 AL 1.699 am 0.941 AM 1.687
> > an 0.591 AN 1.668 ao 0.387 AO 1.633 ap 0.16 AP 1.56 aq 0.0002",
> > header=TRUE,stringsAsFactors=FALSE)
> > library(cluster)
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> > plot(ts[c(2,4)],col=k2$cluster,type="n")
> > text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
> >
> > Jim
> >
> > On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
> > <subhamitra.patra at gmail.com> wrote:
> > >
> > > Dear R-users,
> > >
> > > I am doing cluster analysis, but when I am plotting the results, the
> no.
> > of
> > > observation is coming as the level. Hence, I have a different level
> > > name for each observation differently for each column. I have 2
> > > columns,
> > namely
> > > DMs, and EMs, which will be clustered, but I am unable to label each
> > > dot
> > in
> > > the cluster as per their different name. In other words, the dots in
> > > the cluster are being labeled as per their number of observation
> > > which I want to rename as per their different name in the data. But,
> > > sometimes in
> > code,
> > > both the columns indicating the cluster names are not supporting due
> > > to their non-numerical texts.
> > >
> > > Hence, my query is how to rename or change the label of each dot in
> > > a cluster. Here is my code.
> > >
> > > library(tidyverse)
> > > library(cluster)
> > > library(factoextra)
> > > k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
> > > ts)
> > >
> > > Here, I have 2 columns i.e. DMs, and EMs with their different label
> > > name (i.e. the different name for different observation differently
> > > for 2 columns), and want to plot such label name in the cluster
> > > graph rather
> > than
> > > the no. of observation.
> > >
> > > For your convenience, I am attaching my data.
> > >
> > > Please find the attached data, and kindly help me in this regard.
> > >
> > > Thank you.
> > >
> > >
> > >
> > > --
> > > *Best Regards,*
> > > *Subhamitra Patra*
> > > *Phd. Research Scholar*
> > > *Department of Humanities and Social Sciences* *Indian Institute of
> > > Technology, Kharagpur*
> > > *INDIA*
> > >
> > > [image: Mailtrack]
> > > <
> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> > n=signaturevirality5&
> > >
> > > Sender
> > > notified by
> > > Mailtrack
> > > <
> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> > n=signaturevirality5&
> > >
> > > 06/11/19,
> > > 9:54:45 AM
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences* *Indian Institute of
> Technology, Kharagpur*
> *INDIA*
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> about processing and protection of business partner?s personal data are
> available on website:
> https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> documents attached to it may be confidential and are subject to the legally
> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Tue Jun 11 16:22:48 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 11 Jun 2019 14:22:48 +0000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
 <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
 <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>
 <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>
Message-ID: <30b5730dc6d14b91b25bd848ed853697@SRVEXCHCM1302.precheza.cz>

Hi Bert

names(ts)
[1] "Name"   "DMs"    "Name.1" "EMs"   
>
R is clever enough not to end with same name.

My error comes from ts not to be all numeric. However OP error is different therefore it is something weird with original data.

Cheers.
Petr

From: Bert Gunter <bgunter.4567 at gmail.com> 
Sent: Tuesday, June 11, 2019 3:15 PM
To: PIKAL Petr <petr.pikal at precheza.cz>
Cc: Subhamitra Patra <subhamitra.patra at gmail.com>; Jim Lemon <drjimlemon at gmail.com>; r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Changing the label name in the plot

There appear to be two columns with the same name. Surely this will cause problems.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Jun 11, 2019 at 3:19 AM PIKAL Petr <mailto:petr.pikal at precheza.cz> wrote:
Hi

Ts should be numeric matrix if I read the help page correctly. However I get different error message

> k2 <- kmeans(ts, centers = 2, nstart = 25)
Error in do_one(nmeth) : NA/NaN/Inf in foreign function call (arg 1)
In addition: Warning message:
In storage.mode(x) <- "double" : NAs introduced by coercion

So there must be another issue with your data.

Cheers
Petr

-----Original Message-----
From: R-help <mailto:r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
Sent: Tuesday, June 11, 2019 10:49 AM
To: Jim Lemon <mailto:drjimlemon at gmail.com>; r-help mailing list <mailto:r-help at r-project.org>
Subject: Re: [R] Changing the label name in the plot

Hello Sir,

Thank you very much for your help. I tried your suggestion but got some error, which I am pasting below.


Error: unexpected symbol in:
"
? ? ? ? ? ? ? header"
> library(cluster)
Warning message:
package ?cluster? was built under R version 3.5.3
> k2 <- kmeans(ts, centers = 2, nstart = 25)
Error in as.vector(x, mode) :
? cannot coerce type 'closure' to vector of type 'any'
>? ? ? ? ? ? ? ? plot(ts[c(2,4)],col=k2$cluster,type="n")
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>? ? ? ? ? ? ? ? text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
Error in ts[c(2, 4)] : object of type 'closure' is not subsettable


Please help me.

Thank you.

[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
3:17:19 PM

On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <mailto:drjimlemon at gmail.com> wrote:

> Hi Subhamitra,
> I don't have the factoextra package, but this may give you what you want:
>
> ts<-read.table(text="Name DMs Name EMs A 2.071 a 2.038 B 2.0548 b
> 2.017 C 2.0544 c 2.007 D 2.047 d 1.963 E 2.033 f 1.947 F 2.0327 g
> 1.942 G 2.0321 h 1.932 H 2.031 i 1.924 I 2.0293 j 1.913 J 2.0291 k
> 1.906 K 2.027 l 1.892 L 2.022 m 1.877 M 1.9934 n 1.869 N 1.993 o 1.849
> O 1.989 p 1.848 P 1.988 q 1.836 Q 1.987 r 1.835 R 1.9849 s 1.819 S
> 1.9842 t 1.798 T 1.981 u 1.771 U 1.978 v 1.762 V 1.968 w 1.717 W 1.96
> x 1.707 X 1.958 y 1.688 Y 1.955 z 1.683 Z 1.953 aa 1.671 AA 1.952 ab
> 1.664 AB 1.95 ac 1.646 AC 1.948 ad 1.633 AD 1.945 ae 1.624 AE 1.937 af
> 1.621 AF 1.913 ag 1.584 AG 1.901 ah 1.487 AH 1.871 ai 1.482 AI 1.801
> aj 1.23 AJ 1.761 ak 1.129 AK 1.751 al 1.168 AL 1.699 am 0.941 AM 1.687
> an 0.591 AN 1.668 ao 0.387 AO 1.633 ap 0.16 AP 1.56 aq 0.0002",
> header=TRUE,stringsAsFactors=FALSE)
> library(cluster)
> k2 <- kmeans(ts, centers = 2, nstart = 25)
> plot(ts[c(2,4)],col=k2$cluster,type="n")
> text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
>
> Jim
>
> On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
> <mailto:subhamitra.patra at gmail.com> wrote:
> >
> > Dear R-users,
> >
> > I am doing cluster analysis, but when I am plotting the results, the no.
> of
> > observation is coming as the level. Hence, I have a different level
> > name for each observation differently for each column. I have 2
> > columns,
> namely
> > DMs, and EMs, which will be clustered, but I am unable to label each
> > dot
> in
> > the cluster as per their different name. In other words, the dots in
> > the cluster are being labeled as per their number of observation
> > which I want to rename as per their different name in the data. But,
> > sometimes in
> code,
> > both the columns indicating the cluster names are not supporting due
> > to their non-numerical texts.
> >
> > Hence, my query is how to rename or change the label of each dot in
> > a cluster. Here is my code.
> >
> > library(tidyverse)
> > library(cluster)
> > library(factoextra)
> > k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
> > ts)
> >
> > Here, I have 2 columns i.e. DMs, and EMs with their different label
> > name (i.e. the different name for different observation differently
> > for 2 columns), and want to plot such label name in the cluster
> > graph rather
> than
> > the no. of observation.
> >
> > For your convenience, I am attaching my data.
> >
> > Please find the attached data, and kindly help me in this regard.
> >
> > Thank you.
> >
> >
> >
> > --
> > *Best Regards,*
> > *Subhamitra Patra*
> > *Phd. Research Scholar*
> > *Department of Humanities and Social Sciences* *Indian Institute of
> > Technology, Kharagpur*
> > *INDIA*
> >
> > [image: Mailtrack]
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> n=signaturevirality5&
> >
> > Sender
> > notified by
> > Mailtrack
> > <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> n=signaturevirality5&
> >
> > 06/11/19,
> > 9:54:45 AM
> > ______________________________________________
> > mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


--
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences* *Indian Institute of Technology, Kharagpur*
*INDIA*

[[alternative HTML version deleted]]

______________________________________________
mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/

______________________________________________
mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Tue Jun 11 16:27:56 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Tue, 11 Jun 2019 19:57:56 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
 <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
 <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>
 <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>
Message-ID: <CAOFE=kMZnX89=oJedmKKoUhzny=LEVSor6h0247QK2FPEHVBSQ@mail.gmail.com>

Hello Sir,

No, two data columns don't have the same names. 1st columns contain the
data from the developed markets, whereas the 2nd columns from the emerging
markets, but I provided the same header name as name, and name.1.

But, whatever clustering method I got from the R bloggers that they are
using the same name column for the multi-data column. So, easily they are
getting plotted along with the clustered values.

But, in my case, 2 data columns have different name columns, so while
plotting, one is suppressing upon others, and thus making the plot unclear.
I tried to do clustering separately for DMs, and EMs, as they have
different name columns. But, somehow it is not working.

Ok, considering your suggestion, I will check by changing the header name
for both data column and will let you know the result.

Thank you.



[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/11/19,
7:52:59 PM

On Tue, Jun 11, 2019 at 7:44 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> There appear to be two columns with the same name. Surely this will cause
> problems.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Tue, Jun 11, 2019 at 3:19 AM PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
>> Hi
>>
>> Ts should be numeric matrix if I read the help page correctly. However I
>> get different error message
>>
>> > k2 <- kmeans(ts, centers = 2, nstart = 25)
>> Error in do_one(nmeth) : NA/NaN/Inf in foreign function call (arg 1)
>> In addition: Warning message:
>> In storage.mode(x) <- "double" : NAs introduced by coercion
>>
>> So there must be another issue with your data.
>>
>> Cheers
>> Petr
>>
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Subhamitra Patra
>> Sent: Tuesday, June 11, 2019 10:49 AM
>> To: Jim Lemon <drjimlemon at gmail.com>; r-help mailing list <
>> r-help at r-project.org>
>> Subject: Re: [R] Changing the label name in the plot
>>
>> Hello Sir,
>>
>> Thank you very much for your help. I tried your suggestion but got some
>> error, which I am pasting below.
>>
>>
>> Error: unexpected symbol in:
>> "
>>               header"
>> > library(cluster)
>> Warning message:
>> package ?cluster? was built under R version 3.5.3
>> > k2 <- kmeans(ts, centers = 2, nstart = 25)
>> Error in as.vector(x, mode) :
>>   cannot coerce type 'closure' to vector of type 'any'
>> >                plot(ts[c(2,4)],col=k2$cluster,type="n")
>> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>> >                text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
>> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>>
>>
>> Please help me.
>>
>> Thank you.
>>
>> [image: Mailtrack]
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
>> >
>> Sender
>> notified by
>> Mailtrack
>> <
>> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
>> >
>> 06/11/19,
>> 3:17:19 PM
>>
>> On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>> > Hi Subhamitra,
>> > I don't have the factoextra package, but this may give you what you
>> want:
>> >
>> > ts<-read.table(text="Name DMs Name EMs A 2.071 a 2.038 B 2.0548 b
>> > 2.017 C 2.0544 c 2.007 D 2.047 d 1.963 E 2.033 f 1.947 F 2.0327 g
>> > 1.942 G 2.0321 h 1.932 H 2.031 i 1.924 I 2.0293 j 1.913 J 2.0291 k
>> > 1.906 K 2.027 l 1.892 L 2.022 m 1.877 M 1.9934 n 1.869 N 1.993 o 1.849
>> > O 1.989 p 1.848 P 1.988 q 1.836 Q 1.987 r 1.835 R 1.9849 s 1.819 S
>> > 1.9842 t 1.798 T 1.981 u 1.771 U 1.978 v 1.762 V 1.968 w 1.717 W 1.96
>> > x 1.707 X 1.958 y 1.688 Y 1.955 z 1.683 Z 1.953 aa 1.671 AA 1.952 ab
>> > 1.664 AB 1.95 ac 1.646 AC 1.948 ad 1.633 AD 1.945 ae 1.624 AE 1.937 af
>> > 1.621 AF 1.913 ag 1.584 AG 1.901 ah 1.487 AH 1.871 ai 1.482 AI 1.801
>> > aj 1.23 AJ 1.761 ak 1.129 AK 1.751 al 1.168 AL 1.699 am 0.941 AM 1.687
>> > an 0.591 AN 1.668 ao 0.387 AO 1.633 ap 0.16 AP 1.56 aq 0.0002",
>> > header=TRUE,stringsAsFactors=FALSE)
>> > library(cluster)
>> > k2 <- kmeans(ts, centers = 2, nstart = 25)
>> > plot(ts[c(2,4)],col=k2$cluster,type="n")
>> > text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
>> >
>> > Jim
>> >
>> > On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
>> > <subhamitra.patra at gmail.com> wrote:
>> > >
>> > > Dear R-users,
>> > >
>> > > I am doing cluster analysis, but when I am plotting the results, the
>> no.
>> > of
>> > > observation is coming as the level. Hence, I have a different level
>> > > name for each observation differently for each column. I have 2
>> > > columns,
>> > namely
>> > > DMs, and EMs, which will be clustered, but I am unable to label each
>> > > dot
>> > in
>> > > the cluster as per their different name. In other words, the dots in
>> > > the cluster are being labeled as per their number of observation
>> > > which I want to rename as per their different name in the data. But,
>> > > sometimes in
>> > code,
>> > > both the columns indicating the cluster names are not supporting due
>> > > to their non-numerical texts.
>> > >
>> > > Hence, my query is how to rename or change the label of each dot in
>> > > a cluster. Here is my code.
>> > >
>> > > library(tidyverse)
>> > > library(cluster)
>> > > library(factoextra)
>> > > k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
>> > > ts)
>> > >
>> > > Here, I have 2 columns i.e. DMs, and EMs with their different label
>> > > name (i.e. the different name for different observation differently
>> > > for 2 columns), and want to plot such label name in the cluster
>> > > graph rather
>> > than
>> > > the no. of observation.
>> > >
>> > > For your convenience, I am attaching my data.
>> > >
>> > > Please find the attached data, and kindly help me in this regard.
>> > >
>> > > Thank you.
>> > >
>> > >
>> > >
>> > > --
>> > > *Best Regards,*
>> > > *Subhamitra Patra*
>> > > *Phd. Research Scholar*
>> > > *Department of Humanities and Social Sciences* *Indian Institute of
>> > > Technology, Kharagpur*
>> > > *INDIA*
>> > >
>> > > [image: Mailtrack]
>> > > <
>> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
>> > n=signaturevirality5&
>> > >
>> > > Sender
>> > > notified by
>> > > Mailtrack
>> > > <
>> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
>> > n=signaturevirality5&
>> > >
>> > > 06/11/19,
>> > > 9:54:45 AM
>> > > ______________________________________________
>> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > > and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>>
>> --
>> *Best Regards,*
>> *Subhamitra Patra*
>> *Phd. Research Scholar*
>> *Department of Humanities and Social Sciences* *Indian Institute of
>> Technology, Kharagpur*
>> *INDIA*
>>
>> [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
>> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
>> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
>> about processing and protection of business partner?s personal data are
>> available on website:
>> https://www.precheza.cz/en/personal-data-protection-principles/
>> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
>> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
>> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
>> documents attached to it may be confidential and are subject to the legally
>> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jun 11 16:28:44 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 11 Jun 2019 07:28:44 -0700
Subject: [R] Changing the label name in the plot
In-Reply-To: <30b5730dc6d14b91b25bd848ed853697@SRVEXCHCM1302.precheza.cz>
References: <CAOFE=kMymyST1DawXH3TfSg1ZHr7AuacfDitnsT4jLEVtaQLPg@mail.gmail.com>
 <CA+8X3fV+wwZVvfLR2o1m7rAHZKUBG8gyGJ==tV+qAta735KkaQ@mail.gmail.com>
 <CAOFE=kP=HUw53y268UmCSB4XmYh08T3amRG-JpWxYABmYKe2Pg@mail.gmail.com>
 <0a43202192f347b89b3be909c6d5e2cf@SRVEXCHCM1302.precheza.cz>
 <CAGxFJbSeg5MnKk96t7EV8YB6fKhvSo5_iT0KCGCiDAEr=LgE7A@mail.gmail.com>
 <30b5730dc6d14b91b25bd848ed853697@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAGxFJbSUMy8VvTKeZ67EedJurXcwq5HQoiCSOTN6jAEdFYPyTQ@mail.gmail.com>

OK. Thanks, Petr.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Jun 11, 2019 at 7:22 AM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hi Bert
>
> names(ts)
> [1] "Name"   "DMs"    "Name.1" "EMs"
> >
> R is clever enough not to end with same name.
>
> My error comes from ts not to be all numeric. However OP error is
> different therefore it is something weird with original data.
>
> Cheers.
> Petr
>
> From: Bert Gunter <bgunter.4567 at gmail.com>
> Sent: Tuesday, June 11, 2019 3:15 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Cc: Subhamitra Patra <subhamitra.patra at gmail.com>; Jim Lemon <
> drjimlemon at gmail.com>; r-help mailing list <r-help at r-project.org>
> Subject: Re: [R] Changing the label name in the plot
>
> There appear to be two columns with the same name. Surely this will cause
> problems.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Tue, Jun 11, 2019 at 3:19 AM PIKAL Petr <mailto:petr.pikal at precheza.cz>
> wrote:
> Hi
>
> Ts should be numeric matrix if I read the help page correctly. However I
> get different error message
>
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> Error in do_one(nmeth) : NA/NaN/Inf in foreign function call (arg 1)
> In addition: Warning message:
> In storage.mode(x) <- "double" : NAs introduced by coercion
>
> So there must be another issue with your data.
>
> Cheers
> Petr
>
> -----Original Message-----
> From: R-help <mailto:r-help-bounces at r-project.org> On Behalf Of
> Subhamitra Patra
> Sent: Tuesday, June 11, 2019 10:49 AM
> To: Jim Lemon <mailto:drjimlemon at gmail.com>; r-help mailing list <mailto:
> r-help at r-project.org>
> Subject: Re: [R] Changing the label name in the plot
>
> Hello Sir,
>
> Thank you very much for your help. I tried your suggestion but got some
> error, which I am pasting below.
>
>
> Error: unexpected symbol in:
> "
>               header"
> > library(cluster)
> Warning message:
> package ?cluster? was built under R version 3.5.3
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> Error in as.vector(x, mode) :
>   cannot coerce type 'closure' to vector of type 'any'
> >                plot(ts[c(2,4)],col=k2$cluster,type="n")
> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
> >                text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
> Error in ts[c(2, 4)] : object of type 'closure' is not subsettable
>
>
> Please help me.
>
> Thank you.
>
> [image: Mailtrack]
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> Sender
> notified by
> Mailtrack
> <
> https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&
> >
> 06/11/19,
> 3:17:19 PM
>
> On Tue, Jun 11, 2019 at 3:00 PM Jim Lemon <mailto:drjimlemon at gmail.com>
> wrote:
>
> > Hi Subhamitra,
> > I don't have the factoextra package, but this may give you what you want:
> >
> > ts<-read.table(text="Name DMs Name EMs A 2.071 a 2.038 B 2.0548 b
> > 2.017 C 2.0544 c 2.007 D 2.047 d 1.963 E 2.033 f 1.947 F 2.0327 g
> > 1.942 G 2.0321 h 1.932 H 2.031 i 1.924 I 2.0293 j 1.913 J 2.0291 k
> > 1.906 K 2.027 l 1.892 L 2.022 m 1.877 M 1.9934 n 1.869 N 1.993 o 1.849
> > O 1.989 p 1.848 P 1.988 q 1.836 Q 1.987 r 1.835 R 1.9849 s 1.819 S
> > 1.9842 t 1.798 T 1.981 u 1.771 U 1.978 v 1.762 V 1.968 w 1.717 W 1.96
> > x 1.707 X 1.958 y 1.688 Y 1.955 z 1.683 Z 1.953 aa 1.671 AA 1.952 ab
> > 1.664 AB 1.95 ac 1.646 AC 1.948 ad 1.633 AD 1.945 ae 1.624 AE 1.937 af
> > 1.621 AF 1.913 ag 1.584 AG 1.901 ah 1.487 AH 1.871 ai 1.482 AI 1.801
> > aj 1.23 AJ 1.761 ak 1.129 AK 1.751 al 1.168 AL 1.699 am 0.941 AM 1.687
> > an 0.591 AN 1.668 ao 0.387 AO 1.633 ap 0.16 AP 1.56 aq 0.0002",
> > header=TRUE,stringsAsFactors=FALSE)
> > library(cluster)
> > k2 <- kmeans(ts, centers = 2, nstart = 25)
> > plot(ts[c(2,4)],col=k2$cluster,type="n")
> > text(ts[c(2,4)],ts$Name.1,col=k2$cluster)
> >
> > Jim
> >
> > On Tue, Jun 11, 2019 at 2:44 PM Subhamitra Patra
> > <mailto:subhamitra.patra at gmail.com> wrote:
> > >
> > > Dear R-users,
> > >
> > > I am doing cluster analysis, but when I am plotting the results, the
> no.
> > of
> > > observation is coming as the level. Hence, I have a different level
> > > name for each observation differently for each column. I have 2
> > > columns,
> > namely
> > > DMs, and EMs, which will be clustered, but I am unable to label each
> > > dot
> > in
> > > the cluster as per their different name. In other words, the dots in
> > > the cluster are being labeled as per their number of observation
> > > which I want to rename as per their different name in the data. But,
> > > sometimes in
> > code,
> > > both the columns indicating the cluster names are not supporting due
> > > to their non-numerical texts.
> > >
> > > Hence, my query is how to rename or change the label of each dot in
> > > a cluster. Here is my code.
> > >
> > > library(tidyverse)
> > > library(cluster)
> > > library(factoextra)
> > > k2 <- kmeans(ts, centers = 2, nstart = 25) fviz_cluster(k2, data =
> > > ts)
> > >
> > > Here, I have 2 columns i.e. DMs, and EMs with their different label
> > > name (i.e. the different name for different observation differently
> > > for 2 columns), and want to plot such label name in the cluster
> > > graph rather
> > than
> > > the no. of observation.
> > >
> > > For your convenience, I am attaching my data.
> > >
> > > Please find the attached data, and kindly help me in this regard.
> > >
> > > Thank you.
> > >
> > >
> > >
> > > --
> > > *Best Regards,*
> > > *Subhamitra Patra*
> > > *Phd. Research Scholar*
> > > *Department of Humanities and Social Sciences* *Indian Institute of
> > > Technology, Kharagpur*
> > > *INDIA*
> > >
> > > [image: Mailtrack]
> > > <
> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> > n=signaturevirality5&
> > >
> > > Sender
> > > notified by
> > > Mailtrack
> > > <
> > https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaig
> > n=signaturevirality5&
> > >
> > > 06/11/19,
> > > 9:54:45 AM
> > > ______________________________________________
> > > mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences* *Indian Institute of
> Technology, Kharagpur*
> *INDIA*
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> about processing and protection of business partner?s personal data are
> available on website:
> https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> documents attached to it may be confidential and are subject to the legally
> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @chw|dom @end|ng |rom gmx@net  Tue Jun 11 22:18:23 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Tue, 11 Jun 2019 22:18:23 +0200
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
Message-ID: <20190611201823.GA6068@debian64>

Hi Gabriel,

I actually want to make renames over thousands of files. But if I am not able to express the source filename of the rename operation I will not be able to get the work done. Besides the fact that there are issues I think that R is qualified for solving my problem by the method how it can handle long vectors of strings, booleans and also lists.

Kind regards,
Frank

On 2019-06-11 09:49:17, Gabriel Becker wrote:
>    Hi Frank,
>    I'm hesitant to be "that guy", but in case no one else has brought this up
>    to you, having files with a tilde in their names (generally but especially
>    on a linux system, where ~ in file names has a very important special
>    meaning in some cases, as we know) strikes me as an exceptionally bad
>    practice anyway. In light of that, the solution with the smallest amount
>    of pain for you is almost surely to just... not do that. Your filenames
>    will be better for it anyway.
>    There is a reason no one has complained about this before, and while I
>    haven't run a study or anything, I strongly suspect its that "everyone"
>    else is already on the "no tildes in filenames" bandwagon, so this
>    behavior, even if technically a bug, has no ability to cause them
>    problems.
>    Best,
>    ~G
>    On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net>
>    wrote:
>
>      Hi,
>
>      yes, I have seen this package and it has the same tilde expanding
>      problem.
>
>      Please excuse me I will cc this answer to r-help and r-devel to keep the
>      discussion running.
>
>      Kind regards,
>      Frank Schwidom
>
>      On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
>      > Just in case, have you seen the fs package?
>      > [2]https://fs.r-lib.org/
>      >
>      > Gabor
>      >
>      > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]schwidom at gmx.net>
>      wrote:
>      > >
>      > > Hi,
>      > >
>      > > to get rid of any possible filename modification I started a little
>      project to cover my usecase:
>      > >
>      > > [4]https://github.com/schwidom/simplefs
>      > >
>      > > This is my first R package, suggestions and a review are welcome.
>      > >
>      > > Thanks in advance
>      > > Frank Schwidom
>      > >
>      > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>      > > >? ? How can expanding tildes anywhere but the beginning of a file
>      name NOT be
>      > > >? ? considered a bug?
>      > > >? ? On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
>      <[1][5]krylov.r00t at gmail.com> wrote:
>      > > >
>      > > >? ? ? On Wed, 5 Jun 2019 18:07:15 +0200
>      > > >? ? ? Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
>      > > >
>      > > >? ? ? > +> path.expand("a ~ b")
>      > > >? ? ? > [1] "a /home/user b"
>      > > >
>      > > >? ? ? > How can I switch off any file crippling activity?
>      > > >
>      > > >? ? ? It doesn't seem to be possible if readline is enabled and
>      works
>      > > >? ? ? correctly.
>      > > >
>      > > >? ? ? Calls to path.expand [1] end up [2] in R_ExpandFileName [3],
>      which
>      > > >? ? ? calls R_ExpandFileName_readline [4], which uses libreadline
>      function
>      > > >? ? ? tilde_expand [5]. tilde_expand seems to be designed to expand
>      '~'
>      > > >? ? ? anywhere in the string it is handed, i.e. operate on whole
>      command
>      > > >? ? ? lines, not file paths.
>      > > >
>      > > >? ? ? I am taking the liberty of Cc-ing R-devel in case this can be
>      > > >? ? ? considered a bug.
>      > > >
>      > > >? ? ? --
>      > > >? ? ? Best regards,
>      > > >? ? ? Ivan
>      > > >
>      > > >? ? ? [1]
>      > > >? ? ?
>      [3][7]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>      > > >
>      > > >? ? ? [2]
>      > > >? ? ?
>      [4][8]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>      > > >
>      > > >? ? ? [3]
>      > > >? ? ?
>      [5][9]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>      > > >
>      > > >? ? ? [4]
>      > > >? ? ?
>      [6][10]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>      > > >
>      > > >? ? ? [5]
>      > > >? ? ?
>      [7][11]https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>      > > >
>      > > >? ? ? ______________________________________________
>      > > >? ? ? [8][12]R-help at r-project.org mailing list -- To UNSUBSCRIBE
>      and more, see
>      > > >? ? ? [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
>      > > >? ? ? PLEASE do read the posting guide
>      > > >? ? ? [10][14]http://www.R-project.org/posting-guide.html
>      > > >? ? ? and provide commented, minimal, self-contained, reproducible
>      code.
>      > > >
>      > > > References
>      > > >
>      > > >? ? Visible links
>      > > >? ? 1. mailto:[15]krylov.r00t at gmail.com
>      > > >? ? 2. mailto:[16]schwidom at gmx.net
>      > > >? ? 3.
>      [17]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>      > > >? ? 4.
>      [18]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>      > > >? ? 5.
>      [19]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>      > > >? ? 6.
>      [20]https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>      > > >? ? 7.
>      [21]https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>      > > >? ? 8. mailto:[22]R-help at r-project.org
>      > > >? ? 9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
>      > > >? ?10. [24]http://www.r-project.org/posting-guide.html
>      > >
>      > > ______________________________________________
>      > > [25]R-devel at r-project.org mailing list
>      > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
>      >
>
>      ______________________________________________
>      [27]R-devel at r-project.org mailing list
>      [28]https://stat.ethz.ch/mailman/listinfo/r-devel
>
> References
>
>    Visible links
>    1. mailto:schwidom at gmx.net
>    2. https://fs.r-lib.org/
>    3. mailto:schwidom at gmx.net
>    4. https://github.com/schwidom/simplefs
>    5. mailto:krylov.r00t at gmail.com
>    6. mailto:schwidom at gmx.net
>    7. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>    8. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>    9. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>   10. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>   11. https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>   12. mailto:R-help at r-project.org
>   13. https://stat.ethz.ch/mailman/listinfo/r-help
>   14. http://www.r-project.org/posting-guide.html
>   15. mailto:krylov.r00t at gmail.com
>   16. mailto:schwidom at gmx.net
>   17. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>   18. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>   19. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>   20. https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>   21. https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>   22. mailto:R-help at r-project.org
>   23. https://stat.ethz.ch/mailman/listinfo/r-help
>   24. http://www.r-project.org/posting-guide.html
>   25. mailto:R-devel at r-project.org
>   26. https://stat.ethz.ch/mailman/listinfo/r-devel
>   27. mailto:R-devel at r-project.org
>   28. https://stat.ethz.ch/mailman/listinfo/r-devel


From wdun|@p @end|ng |rom t|bco@com  Tue Jun 11 22:34:27 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Tue, 11 Jun 2019 13:34:27 -0700
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <20190611201823.GA6068@debian64>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
Message-ID: <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>

Note that R treats tildes in file names differently on Windows and Linux.
On Windows, it is only replaced if it it at the beginning of the line and
is followed by a forward or backward slash or end-of-line.  On Linux it is
replaced no matter where it is in the text and ~someUser will be replaced
by someUser's home directory (if 'someUser' is a user with a home
directory).

Hence, if you have a Windows machine that can look at the file system on
your Linux machine you can use file.rename on Windows to change the names.
My inclination would be to use a bash script on Linux to change the names,
but if you are not comfortable with bash try the Windows approach.

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net> wrote:

> Hi Gabriel,
>
> I actually want to make renames over thousands of files. But if I am not
> able to express the source filename of the rename operation I will not be
> able to get the work done. Besides the fact that there are issues I think
> that R is qualified for solving my problem by the method how it can handle
> long vectors of strings, booleans and also lists.
>
> Kind regards,
> Frank
>
> On 2019-06-11 09:49:17, Gabriel Becker wrote:
> >    Hi Frank,
> >    I'm hesitant to be "that guy", but in case no one else has brought
> this up
> >    to you, having files with a tilde in their names (generally but
> especially
> >    on a linux system, where ~ in file names has a very important special
> >    meaning in some cases, as we know) strikes me as an exceptionally bad
> >    practice anyway. In light of that, the solution with the smallest
> amount
> >    of pain for you is almost surely to just... not do that. Your
> filenames
> >    will be better for it anyway.
> >    There is a reason no one has complained about this before, and while I
> >    haven't run a study or anything, I strongly suspect its that
> "everyone"
> >    else is already on the "no tildes in filenames" bandwagon, so this
> >    behavior, even if technically a bug, has no ability to cause them
> >    problems.
> >    Best,
> >    ~G
> >    On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net>
> >    wrote:
> >
> >      Hi,
> >
> >      yes, I have seen this package and it has the same tilde expanding
> >      problem.
> >
> >      Please excuse me I will cc this answer to r-help and r-devel to
> keep the
> >      discussion running.
> >
> >      Kind regards,
> >      Frank Schwidom
> >
> >      On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> >      > Just in case, have you seen the fs package?
> >      > [2]https://fs.r-lib.org/
> >      >
> >      > Gabor
> >      >
> >      > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
> schwidom at gmx.net>
> >      wrote:
> >      > >
> >      > > Hi,
> >      > >
> >      > > to get rid of any possible filename modification I started a
> little
> >      project to cover my usecase:
> >      > >
> >      > > [4]https://github.com/schwidom/simplefs
> >      > >
> >      > > This is my first R package, suggestions and a review are
> welcome.
> >      > >
> >      > > Thanks in advance
> >      > > Frank Schwidom
> >      > >
> >      > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> >      > > >    How can expanding tildes anywhere but the beginning of a
> file
> >      name NOT be
> >      > > >    considered a bug?
> >      > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
> >      <[1][5]krylov.r00t at gmail.com> wrote:
> >      > > >
> >      > > >      On Wed, 5 Jun 2019 18:07:15 +0200
> >      > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
> >      > > >
> >      > > >      > +> path.expand("a ~ b")
> >      > > >      > [1] "a /home/user b"
> >      > > >
> >      > > >      > How can I switch off any file crippling activity?
> >      > > >
> >      > > >      It doesn't seem to be possible if readline is enabled and
> >      works
> >      > > >      correctly.
> >      > > >
> >      > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
> [3],
> >      which
> >      > > >      calls R_ExpandFileName_readline [4], which uses
> libreadline
> >      function
> >      > > >      tilde_expand [5]. tilde_expand seems to be designed to
> expand
> >      '~'
> >      > > >      anywhere in the string it is handed, i.e. operate on
> whole
> >      command
> >      > > >      lines, not file paths.
> >      > > >
> >      > > >      I am taking the liberty of Cc-ing R-devel in case this
> can be
> >      > > >      considered a bug.
> >      > > >
> >      > > >      --
> >      > > >      Best regards,
> >      > > >      Ivan
> >      > > >
> >      > > >      [1]
> >      > > >
> >      [3][7]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >      > > >
> >      > > >      [2]
> >      > > >
> >      [4][8]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >      > > >
> >      > > >      [3]
> >      > > >
> >      [5][9]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >      > > >
> >      > > >      [4]
> >      > > >
> >      [6][10]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >      > > >
> >      > > >      [5]
> >      > > >
> >      [7][11]
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >      > > >
> >      > > >      ______________________________________________
> >      > > >      [8][12]R-help at r-project.org mailing list -- To
> UNSUBSCRIBE
> >      and more, see
> >      > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
> >      > > >      PLEASE do read the posting guide
> >      > > >      [10][14]http://www.R-project.org/posting-guide.html
> >      > > >      and provide commented, minimal, self-contained,
> reproducible
> >      code.
> >      > > >
> >      > > > References
> >      > > >
> >      > > >    Visible links
> >      > > >    1. mailto:[15]krylov.r00t at gmail.com
> >      > > >    2. mailto:[16]schwidom at gmx.net
> >      > > >    3.
> >      [17]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >      > > >    4.
> >      [18]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >      > > >    5.
> >      [19]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >      > > >    6.
> >      [20]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >      > > >    7.
> >      [21]
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >      > > >    8. mailto:[22]R-help at r-project.org
> >      > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
> >      > > >   10. [24]http://www.r-project.org/posting-guide.html
> >      > >
> >      > > ______________________________________________
> >      > > [25]R-devel at r-project.org mailing list
> >      > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
> >      >
> >
> >      ______________________________________________
> >      [27]R-devel at r-project.org mailing list
> >      [28]https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> > References
> >
> >    Visible links
> >    1. mailto:schwidom at gmx.net
> >    2. https://fs.r-lib.org/
> >    3. mailto:schwidom at gmx.net
> >    4. https://github.com/schwidom/simplefs
> >    5. mailto:krylov.r00t at gmail.com
> >    6. mailto:schwidom at gmx.net
> >    7.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >    8.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >    9.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >   10.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >   11.
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >   12. mailto:R-help at r-project.org
> >   13. https://stat.ethz.ch/mailman/listinfo/r-help
> >   14. http://www.r-project.org/posting-guide.html
> >   15. mailto:krylov.r00t at gmail.com
> >   16. mailto:schwidom at gmx.net
> >   17.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >   18.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >   19.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >   20.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >   21.
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >   22. mailto:R-help at r-project.org
> >   23. https://stat.ethz.ch/mailman/listinfo/r-help
> >   24. http://www.r-project.org/posting-guide.html
> >   25. mailto:R-devel at r-project.org
> >   26. https://stat.ethz.ch/mailman/listinfo/r-devel
> >   27. mailto:R-devel at r-project.org
> >   28. https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

	[[alternative HTML version deleted]]


From g@bembecker @end|ng |rom gm@||@com  Tue Jun 11 18:49:17 2019
From: g@bembecker @end|ng |rom gm@||@com (Gabriel Becker)
Date: Tue, 11 Jun 2019 09:49:17 -0700
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <20190611100938.GA3588@debian64>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
Message-ID: <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>

Hi Frank,

I'm hesitant to be "that guy", but in case no one else has brought this up
to you, having files with a tilde in their names (generally but especially
on a linux system, where ~ in file names has a very important special
meaning in some cases, as we know) strikes me as an exceptionally bad
practice anyway. In light of that, the solution with the smallest amount of
pain for you is almost surely to just... not do that. Your filenames will
be better for it anyway.

There is a reason no one has complained about this before, and while I
haven't run a study or anything, I strongly suspect its that "everyone"
else is already on the "no tildes in filenames" bandwagon, so this
behavior, even if technically a bug, has no ability to cause them problems.

Best,
~G

On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <schwidom at gmx.net> wrote:

> Hi,
>
> yes, I have seen this package and it has the same tilde expanding problem.
>
> Please excuse me I will cc this answer to r-help and r-devel to keep the
> discussion running.
>
> Kind regards,
> Frank Schwidom
>
> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> > Just in case, have you seen the fs package?
> > https://fs.r-lib.org/
> >
> > Gabor
> >
> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <schwidom at gmx.net> wrote:
> > >
> > > Hi,
> > >
> > > to get rid of any possible filename modification I started a little
> project to cover my usecase:
> > >
> > > https://github.com/schwidom/simplefs
> > >
> > > This is my first R package, suggestions and a review are welcome.
> > >
> > > Thanks in advance
> > > Frank Schwidom
> > >
> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> > > >    How can expanding tildes anywhere but the beginning of a file
> name NOT be
> > > >    considered a bug?
> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <[1]
> krylov.r00t at gmail.com> wrote:
> > > >
> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
> > > >      Frank Schwidom <[2]schwidom at gmx.net> wrote:
> > > >
> > > >      > +> path.expand("a ~ b")
> > > >      > [1] "a /home/user b"
> > > >
> > > >      > How can I switch off any file crippling activity?
> > > >
> > > >      It doesn't seem to be possible if readline is enabled and works
> > > >      correctly.
> > > >
> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName [3],
> which
> > > >      calls R_ExpandFileName_readline [4], which uses libreadline
> function
> > > >      tilde_expand [5]. tilde_expand seems to be designed to expand
> '~'
> > > >      anywhere in the string it is handed, i.e. operate on whole
> command
> > > >      lines, not file paths.
> > > >
> > > >      I am taking the liberty of Cc-ing R-devel in case this can be
> > > >      considered a bug.
> > > >
> > > >      --
> > > >      Best regards,
> > > >      Ivan
> > > >
> > > >      [1]
> > > >      [3]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > > >
> > > >      [2]
> > > >      [4]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > > >
> > > >      [3]
> > > >      [5]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > > >
> > > >      [4]
> > > >      [6]
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > > >
> > > >      [5]
> > > >      [7]
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > > >
> > > >      ______________________________________________
> > > >      [8]R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> more, see
> > > >      [9]https://stat.ethz.ch/mailman/listinfo/r-help
> > > >      PLEASE do read the posting guide
> > > >      [10]http://www.R-project.org/posting-guide.html
> > > >      and provide commented, minimal, self-contained, reproducible
> code.
> > > >
> > > > References
> > > >
> > > >    Visible links
> > > >    1. mailto:krylov.r00t at gmail.com
> > > >    2. mailto:schwidom at gmx.net
> > > >    3.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > > >    4.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > > >    5.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > > >    6.
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > > >    7.
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > > >    8. mailto:R-help at r-project.org
> > > >    9. https://stat.ethz.ch/mailman/listinfo/r-help
> > > >   10. http://www.r-project.org/posting-guide.html
> > >
> > > ______________________________________________
> > > R-devel at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

	[[alternative HTML version deleted]]


From tr@ver@c @end|ng |rom gm@||@com  Tue Jun 11 20:26:40 2019
From: tr@ver@c @end|ng |rom gm@||@com (Travers Ching)
Date: Tue, 11 Jun 2019 11:26:40 -0700
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
Message-ID: <CAPLMX9FrM2ZjuzjR6FEibZt0_KkujhwknQPXoWjfVfgFZNFYFQ@mail.gmail.com>

Hi Gabriel,

It may be bad practice, but you don't always have control over the file
name.

E.g. if someone shares a file with a tilde in it -- yes it is simple to
rename but it is extra time, and you might not bother to rename a file
without foreknowledge of this bug in the first place.

Even worse, if someone points you to a read only location on a shared
server, you won't even be able to rename the file, and copying might be
prohibitive if it's a large file.

There are also tilde files created automatically by other programs, notably
microsoft office.

Travers




On Tue, Jun 11, 2019 at 9:49 AM Gabriel Becker <gabembecker at gmail.com>
wrote:

> Hi Frank,
>
> I'm hesitant to be "that guy", but in case no one else has brought this up
> to you, having files with a tilde in their names (generally but especially
> on a linux system, where ~ in file names has a very important special
> meaning in some cases, as we know) strikes me as an exceptionally bad
> practice anyway. In light of that, the solution with the smallest amount of
> pain for you is almost surely to just... not do that. Your filenames will
> be better for it anyway.
>
> There is a reason no one has complained about this before, and while I
> haven't run a study or anything, I strongly suspect its that "everyone"
> else is already on the "no tildes in filenames" bandwagon, so this
> behavior, even if technically a bug, has no ability to cause them problems.
>
> Best,
> ~G
>
> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <schwidom at gmx.net> wrote:
>
> > Hi,
> >
> > yes, I have seen this package and it has the same tilde expanding
> problem.
> >
> > Please excuse me I will cc this answer to r-help and r-devel to keep the
> > discussion running.
> >
> > Kind regards,
> > Frank Schwidom
> >
> > On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> > > Just in case, have you seen the fs package?
> > > https://fs.r-lib.org/
> > >
> > > Gabor
> > >
> > > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <schwidom at gmx.net>
> wrote:
> > > >
> > > > Hi,
> > > >
> > > > to get rid of any possible filename modification I started a little
> > project to cover my usecase:
> > > >
> > > > https://github.com/schwidom/simplefs
> > > >
> > > > This is my first R package, suggestions and a review are welcome.
> > > >
> > > > Thanks in advance
> > > > Frank Schwidom
> > > >
> > > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> > > > >    How can expanding tildes anywhere but the beginning of a file
> > name NOT be
> > > > >    considered a bug?
> > > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov <[1]
> > krylov.r00t at gmail.com> wrote:
> > > > >
> > > > >      On Wed, 5 Jun 2019 18:07:15 +0200
> > > > >      Frank Schwidom <[2]schwidom at gmx.net> wrote:
> > > > >
> > > > >      > +> path.expand("a ~ b")
> > > > >      > [1] "a /home/user b"
> > > > >
> > > > >      > How can I switch off any file crippling activity?
> > > > >
> > > > >      It doesn't seem to be possible if readline is enabled and
> works
> > > > >      correctly.
> > > > >
> > > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName [3],
> > which
> > > > >      calls R_ExpandFileName_readline [4], which uses libreadline
> > function
> > > > >      tilde_expand [5]. tilde_expand seems to be designed to expand
> > '~'
> > > > >      anywhere in the string it is handed, i.e. operate on whole
> > command
> > > > >      lines, not file paths.
> > > > >
> > > > >      I am taking the liberty of Cc-ing R-devel in case this can be
> > > > >      considered a bug.
> > > > >
> > > > >      --
> > > > >      Best regards,
> > > > >      Ivan
> > > > >
> > > > >      [1]
> > > > >      [3]
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > > > >
> > > > >      [2]
> > > > >      [4]
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > > > >
> > > > >      [3]
> > > > >      [5]
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > > > >
> > > > >      [4]
> > > > >      [6]
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > > > >
> > > > >      [5]
> > > > >      [7]
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > > > >
> > > > >      ______________________________________________
> > > > >      [8]R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> > more, see
> > > > >      [9]https://stat.ethz.ch/mailman/listinfo/r-help
> > > > >      PLEASE do read the posting guide
> > > > >      [10]http://www.R-project.org/posting-guide.html
> > > > >      and provide commented, minimal, self-contained, reproducible
> > code.
> > > > >
> > > > > References
> > > > >
> > > > >    Visible links
> > > > >    1. mailto:krylov.r00t at gmail.com
> > > > >    2. mailto:schwidom at gmx.net
> > > > >    3.
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > > > >    4.
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > > > >    5.
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > > > >    6.
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > > > >    7.
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > > > >    8. mailto:R-help at r-project.org
> > > > >    9. https://stat.ethz.ch/mailman/listinfo/r-help
> > > > >   10. http://www.r-project.org/posting-guide.html
> > > >
> > > > ______________________________________________
> > > > R-devel at r-project.org mailing list
> > > > https://stat.ethz.ch/mailman/listinfo/r-devel
> > >
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Jun 11 22:59:04 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 11 Jun 2019 16:59:04 -0400
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
Message-ID: <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>

On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
> Note that R treats tildes in file names differently on Windows and Linux.
> On Windows, it is only replaced if it it at the beginning of the line and
> is followed by a forward or backward slash or end-of-line.  On Linux it is
> replaced no matter where it is in the text and ~someUser will be replaced
> by someUser's home directory (if 'someUser' is a user with a home
> directory).

That's not quite true:  On Linux the bug is in the code that uses 
libreadline, which you don't have to use.  If you just specify
"--no-readline" when you start R, it will be fine on Linux, as far as I 
can see.

I wouldn't choose that as the default way to run R (it's pretty 
irritating not to have readline support), but it is a workaround for 
this bug.

Duncan Murdoch

> 
> Hence, if you have a Windows machine that can look at the file system on
> your Linux machine you can use file.rename on Windows to change the names.
> My inclination would be to use a bash script on Linux to change the names,
> but if you are not comfortable with bash try the Windows approach.
> 
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
> 
> 
> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net> wrote:
> 
>> Hi Gabriel,
>>
>> I actually want to make renames over thousands of files. But if I am not
>> able to express the source filename of the rename operation I will not be
>> able to get the work done. Besides the fact that there are issues I think
>> that R is qualified for solving my problem by the method how it can handle
>> long vectors of strings, booleans and also lists.
>>
>> Kind regards,
>> Frank
>>
>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
>>>     Hi Frank,
>>>     I'm hesitant to be "that guy", but in case no one else has brought
>> this up
>>>     to you, having files with a tilde in their names (generally but
>> especially
>>>     on a linux system, where ~ in file names has a very important special
>>>     meaning in some cases, as we know) strikes me as an exceptionally bad
>>>     practice anyway. In light of that, the solution with the smallest
>> amount
>>>     of pain for you is almost surely to just... not do that. Your
>> filenames
>>>     will be better for it anyway.
>>>     There is a reason no one has complained about this before, and while I
>>>     haven't run a study or anything, I strongly suspect its that
>> "everyone"
>>>     else is already on the "no tildes in filenames" bandwagon, so this
>>>     behavior, even if technically a bug, has no ability to cause them
>>>     problems.
>>>     Best,
>>>     ~G
>>>     On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net>
>>>     wrote:
>>>
>>>       Hi,
>>>
>>>       yes, I have seen this package and it has the same tilde expanding
>>>       problem.
>>>
>>>       Please excuse me I will cc this answer to r-help and r-devel to
>> keep the
>>>       discussion running.
>>>
>>>       Kind regards,
>>>       Frank Schwidom
>>>
>>>       On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
>>>       > Just in case, have you seen the fs package?
>>>       > [2]https://fs.r-lib.org/
>>>       >
>>>       > Gabor
>>>       >
>>>       > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
>> schwidom at gmx.net>
>>>       wrote:
>>>       > >
>>>       > > Hi,
>>>       > >
>>>       > > to get rid of any possible filename modification I started a
>> little
>>>       project to cover my usecase:
>>>       > >
>>>       > > [4]https://github.com/schwidom/simplefs
>>>       > >
>>>       > > This is my first R package, suggestions and a review are
>> welcome.
>>>       > >
>>>       > > Thanks in advance
>>>       > > Frank Schwidom
>>>       > >
>>>       > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>>>       > > >    How can expanding tildes anywhere but the beginning of a
>> file
>>>       name NOT be
>>>       > > >    considered a bug?
>>>       > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
>>>       <[1][5]krylov.r00t at gmail.com> wrote:
>>>       > > >
>>>       > > >      On Wed, 5 Jun 2019 18:07:15 +0200
>>>       > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
>>>       > > >
>>>       > > >      > +> path.expand("a ~ b")
>>>       > > >      > [1] "a /home/user b"
>>>       > > >
>>>       > > >      > How can I switch off any file crippling activity?
>>>       > > >
>>>       > > >      It doesn't seem to be possible if readline is enabled and
>>>       works
>>>       > > >      correctly.
>>>       > > >
>>>       > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
>> [3],
>>>       which
>>>       > > >      calls R_ExpandFileName_readline [4], which uses
>> libreadline
>>>       function
>>>       > > >      tilde_expand [5]. tilde_expand seems to be designed to
>> expand
>>>       '~'
>>>       > > >      anywhere in the string it is handed, i.e. operate on
>> whole
>>>       command
>>>       > > >      lines, not file paths.
>>>       > > >
>>>       > > >      I am taking the liberty of Cc-ing R-devel in case this
>> can be
>>>       > > >      considered a bug.
>>>       > > >
>>>       > > >      --
>>>       > > >      Best regards,
>>>       > > >      Ivan
>>>       > > >
>>>       > > >      [1]
>>>       > > >
>>>       [3][7]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>       > > >
>>>       > > >      [2]
>>>       > > >
>>>       [4][8]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>       > > >
>>>       > > >      [3]
>>>       > > >
>>>       [5][9]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>       > > >
>>>       > > >      [4]
>>>       > > >
>>>       [6][10]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>       > > >
>>>       > > >      [5]
>>>       > > >
>>>       [7][11]
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>       > > >
>>>       > > >      ______________________________________________
>>>       > > >      [8][12]R-help at r-project.org mailing list -- To
>> UNSUBSCRIBE
>>>       and more, see
>>>       > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
>>>       > > >      PLEASE do read the posting guide
>>>       > > >      [10][14]http://www.R-project.org/posting-guide.html
>>>       > > >      and provide commented, minimal, self-contained,
>> reproducible
>>>       code.
>>>       > > >
>>>       > > > References
>>>       > > >
>>>       > > >    Visible links
>>>       > > >    1. mailto:[15]krylov.r00t at gmail.com
>>>       > > >    2. mailto:[16]schwidom at gmx.net
>>>       > > >    3.
>>>       [17]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>       > > >    4.
>>>       [18]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>       > > >    5.
>>>       [19]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>       > > >    6.
>>>       [20]
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>       > > >    7.
>>>       [21]
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>       > > >    8. mailto:[22]R-help at r-project.org
>>>       > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
>>>       > > >   10. [24]http://www.r-project.org/posting-guide.html
>>>       > >
>>>       > > ______________________________________________
>>>       > > [25]R-devel at r-project.org mailing list
>>>       > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
>>>       >
>>>
>>>       ______________________________________________
>>>       [27]R-devel at r-project.org mailing list
>>>       [28]https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>> References
>>>
>>>     Visible links
>>>     1. mailto:schwidom at gmx.net
>>>     2. https://fs.r-lib.org/
>>>     3. mailto:schwidom at gmx.net
>>>     4. https://github.com/schwidom/simplefs
>>>     5. mailto:krylov.r00t at gmail.com
>>>     6. mailto:schwidom at gmx.net
>>>     7.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>     8.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>     9.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>    10.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>    11.
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>    12. mailto:R-help at r-project.org
>>>    13. https://stat.ethz.ch/mailman/listinfo/r-help
>>>    14. http://www.r-project.org/posting-guide.html
>>>    15. mailto:krylov.r00t at gmail.com
>>>    16. mailto:schwidom at gmx.net
>>>    17.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>    18.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>    19.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>    20.
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>    21.
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>    22. mailto:R-help at r-project.org
>>>    23. https://stat.ethz.ch/mailman/listinfo/r-help
>>>    24. http://www.r-project.org/posting-guide.html
>>>    25. mailto:R-devel at r-project.org
>>>    26. https://stat.ethz.ch/mailman/listinfo/r-devel
>>>    27. mailto:R-devel at r-project.org
>>>    28. https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From he|mut@@chuetz @end|ng |rom beb@c@@t  Tue Jun 11 23:54:34 2019
From: he|mut@@chuetz @end|ng |rom beb@c@@t (=?UTF-8?Q?Helmut_Sch=c3=bctz?=)
Date: Tue, 11 Jun 2019 23:54:34 +0200
Subject: [R] LaTeX Error in creating manual from Rd files
Message-ID: <baebbc67-752b-c0a7-c25b-bb401764d3ea@bebac.at>

Hi,

I?m getting -- many -- errors/warnings (both when uploading to 
win-builder.r-project.org as well as locally):
* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
LaTeX errors found:
! LaTeX Error: Something's wrong--perhaps a missing \item.
 ?...
* checking PDF version of manual without hyperrefs or index ... ERROR
* DONE
Status: 1 ERROR, 1 WARNING, 0 NOTE

All errors are generated in man-pages where I describe datasets of my 
package.
Snippet causing the error (confirmed by my.package-manual.log, 
my.package-manual.tex, Rdlatex.log):

Rd:
\format{
 ? \itemize{
 ??? \item an item\cr
 ??? foo
 ????? \describe{
 ????? bar
 ????? \tabular{ll}{
 ??????? \code{a} \tab a factor with x levels: 1, 2, \ldots, x\cr
 ??????? \code{b} \tab a factor with 4 levels: 1, 2, 3, 4\cr
 ??????? \code{c} \tab a numeric vector of responses
 ????? }
 ????? baz
 ????? \tabular{ll}{
 ??????? \code{x} \tab x.x\%\cr
 ??????? \code{y} \tab y.y\%
 ????? }
 ??? }
 ??? \item yet another item\cr
 ??? foo
 ????? \describe{
 ????? bar
 ????? \tabular{ll}{
 ??????? \code{a} \tab a factor with x levels: 1, 2, \ldots, x\cr
 ??????? \code{b} \tab a factor with 4 levels: 1, 2, 3, 4\cr
 ??????? \code{c} \tab a numeric vector of responses
 ????? }
 ????? baz
 ????? \tabular{ll}{
 ??????? \code{x} \tab x.x\%\cr
 ??????? \code{y} \tab y.y\%
 ????? }
 ??? }
 ? }
}

Translated to:

\begin{Format}
 ? \begin{itemize}
 ??? \item an item\\{}
 ??? foo
 ??? \begin{description}
 ????? bar
 ????? \Tabular{ll}{
 ??????? \code{a} & a factor with x levels: 1, 2, \ldots, x\\{}
 ??????? \code{b} & a factor with 4 levels: 1, 2, 3, 4\\{}
 ??????? \code{c} & a numeric vector of responses{}
 ????? }
 ????? baz
 ??????? \Tabular{ll}{
 ??????? \code{x} & n.n\%\\{}
 ??????? \code{y} & n.n\%
 ????? }
 ??? \end{description}
 ??? \item yet another item\\{}
 ??? foo
 ??? \begin{description}
 ????? bar
 ????? \Tabular{ll}{
 ????? \code{x} & a factor with x levels: 1, 2, \ldots, x\\{}
 ????? \code{y} & a factor with 4 levels: 1, 2, 3, 4\\{}
 ????? \code{z} & a numeric vector of responses
 ????? }
 ????? baz
 ??????? \Tabular{ll}{
 ??????? \code{x} & n.n\%\\{}
 ??????? \code{y} & n.n\%
 ????? }
 ??? \end{description}
 ? \end{itemize}
\end{Format}

Maybe I?m blind but (a) I think that the nesting is correct and (b) I 
don?t see a missing item. BTW, translating the Rd to HTML in building 
gives valid XHTML 1.0Strict -- as expected.

Cheers,
Helmut

R version 3.6.0 (2019-04-26)
Platform: x86_64-w64-mingw32/x64 (64-bit)
pdfTeX, Version 3.14159265-2.6-1.40.20 (MiKTeX 2.9.7050 64-bit)

-- 
Ing. Helmut Sch?tz
BEBAC?? Consultancy Services for
Bioequivalence and Bioavailability Studies
Neubaugasse 36/11
1070 Vienna, Austria
T +43 1 2311746
M +43 699 10792458
E helmut.schuetz at bebac.at
W https://bebac.at/
C https://bebac.at/Contact.htm
F https://forum.bebac.at/


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jun 12 01:15:41 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 11 Jun 2019 19:15:41 -0400
Subject: [R] LaTeX Error in creating manual from Rd files
In-Reply-To: <baebbc67-752b-c0a7-c25b-bb401764d3ea@bebac.at>
References: <baebbc67-752b-c0a7-c25b-bb401764d3ea@bebac.at>
Message-ID: <5a3bf3ac-8b70-ac2c-f132-9e2470a459fc@gmail.com>

On 11/06/2019 5:54 p.m., Helmut Sch?tz wrote:
> Hi,
> 
> I?m getting -- many -- errors/warnings (both when uploading to
> win-builder.r-project.org as well as locally):
> * checking PDF version of manual ... WARNING
> LaTeX errors when creating PDF version.
> This typically indicates Rd problems.
> LaTeX errors found:
> ! LaTeX Error: Something's wrong--perhaps a missing \item.
>   ?...
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * DONE
> Status: 1 ERROR, 1 WARNING, 0 NOTE
> 
> All errors are generated in man-pages where I describe datasets of my
> package.
> Snippet causing the error (confirmed by my.package-manual.log,
> my.package-manual.tex, Rdlatex.log):

You have \describe with no \item.  That leads to illegal LaTeX.

Instead of

  \describe{
    bar
    \tabular{ll}{
    ...

you should have


  \describe{
    \item{bar}{
      \tabular{ll}{
      ...
    }

Duncan Murdoch


> 
> Rd:
> \format{
>   ? \itemize{
>   ??? \item an item\cr
>   ??? foo
>   ????? \describe{
>   ????? bar
>   ????? \tabular{ll}{
>   ??????? \code{a} \tab a factor with x levels: 1, 2, \ldots, x\cr
>   ??????? \code{b} \tab a factor with 4 levels: 1, 2, 3, 4\cr
>   ??????? \code{c} \tab a numeric vector of responses
>   ????? }
>   ????? baz
>   ????? \tabular{ll}{
>   ??????? \code{x} \tab x.x\%\cr
>   ??????? \code{y} \tab y.y\%
>   ????? }
>   ??? }
>   ??? \item yet another item\cr
>   ??? foo
>   ????? \describe{
>   ????? bar
>   ????? \tabular{ll}{
>   ??????? \code{a} \tab a factor with x levels: 1, 2, \ldots, x\cr
>   ??????? \code{b} \tab a factor with 4 levels: 1, 2, 3, 4\cr
>   ??????? \code{c} \tab a numeric vector of responses
>   ????? }
>   ????? baz
>   ????? \tabular{ll}{
>   ??????? \code{x} \tab x.x\%\cr
>   ??????? \code{y} \tab y.y\%
>   ????? }
>   ??? }
>   ? }
> }
> 
> Translated to:
> 
> \begin{Format}
>   ? \begin{itemize}
>   ??? \item an item\\{}
>   ??? foo
>   ??? \begin{description}
>   ????? bar
>   ????? \Tabular{ll}{
>   ??????? \code{a} & a factor with x levels: 1, 2, \ldots, x\\{}
>   ??????? \code{b} & a factor with 4 levels: 1, 2, 3, 4\\{}
>   ??????? \code{c} & a numeric vector of responses{}
>   ????? }
>   ????? baz
>   ??????? \Tabular{ll}{
>   ??????? \code{x} & n.n\%\\{}
>   ??????? \code{y} & n.n\%
>   ????? }
>   ??? \end{description}
>   ??? \item yet another item\\{}
>   ??? foo
>   ??? \begin{description}
>   ????? bar
>   ????? \Tabular{ll}{
>   ????? \code{x} & a factor with x levels: 1, 2, \ldots, x\\{}
>   ????? \code{y} & a factor with 4 levels: 1, 2, 3, 4\\{}
>   ????? \code{z} & a numeric vector of responses
>   ????? }
>   ????? baz
>   ??????? \Tabular{ll}{
>   ??????? \code{x} & n.n\%\\{}
>   ??????? \code{y} & n.n\%
>   ????? }
>   ??? \end{description}
>   ? \end{itemize}
> \end{Format}
> 
> Maybe I?m blind but (a) I think that the nesting is correct and (b) I
> don?t see a missing item. BTW, translating the Rd to HTML in building
> gives valid XHTML 1.0Strict -- as expected.
> 
> Cheers,
> Helmut
> 
> R version 3.6.0 (2019-04-26)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> pdfTeX, Version 3.14159265-2.6-1.40.20 (MiKTeX 2.9.7050 64-bit)
>


From drj|m|emon @end|ng |rom gm@||@com  Wed Jun 12 02:34:14 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 12 Jun 2019 10:34:14 +1000
Subject: [R] Changing the label name in the plot
Message-ID: <CA+8X3fX+ceAJBBDApdykHgka-5Y1kUCLSgyQgzocazFpmQcJSQ@mail.gmail.com>

Hi Subhamitra,
It is time to admit that I had the wrong idea about what you wanted to
do, due to the combination of trying to solve two problems at once
while I was very tired. I appreciate your patience.

>From your last email, you have a data frame with four columns. The
first and third are cryptic names for political states and the second
and fourth are values that I assume are measured in those states.
1) Are the states in column 3 the same as those in column 1? As you
initially named the data frame "ts", perhaps the values in columns 2
and 4 are taken at different times. If not, perhaps they are measured
in another set of countries, as yet unknown. Perhaps "DMs" and "EMs"
are codes that will resolve this.

I assumed that "DMs" and "EMs" should be used as the X and Y values on
a scatterplot, as your initial example seemed to indicate. If so, they
are different values for the same country and only require one label
for each point. Proceeding from this, you can do something like this:

spdf<-read.table(text="State DMs EMs
JP 2.071 2.038
CH 2.0548 2.017
AT 2.0544 2.007
CL 2.047 1.963
ES 2.033 1.947
PT 2.0327 1.942
PL 2.0321 1.932
FR 2.031 1.924
SE 2.0293 1.913
DE 2.0291 1.906
DK 2.027 1.892
UK 2.022 1.877
TW 1.9934 1.869
NL 1.993 1.849
HK 1.989 1.848
LU 1.988 1.836
CA 1.987 1.835
NZ 1.9849 1.819
US 1.9842 1.798
AU 1.981 1.771
MY 1.978 1.762
HU 1.968 1.717
LT 1.96 1.707
SG 1.958 1.688
FI 1.955 1.683
CR 1.953 1.671
BY 1.952 1.664
IL 1.95 1.646
EE 1.948 1.633
NO 1.945 1.624
IE 1.937 1.621
SI 1.913 1.584
LV 1.901 1.487
SK 1.871 1.482
BH 1.801 1.23
SK 1.761 1.129
AE 1.751 1.168
IS 1.699 0.941
BM 1.687 0.591
KW 1.668 0.387
CY 1.633 0.16
AP 1.56 0.0002",
header = TRUE,stringsAsFactors=FALSE)
library(cluster)
k2 <- kmeans(spdf[,c(2,3)], centers = 2, nstart = 25)
plot(spdf[,c(2,3)],col=k2$cluster,pch=19,xlim=c(1.55,2.1))
text(spdf[,2]+rep(c(0.02,-0.02),42),
 spdf[,3]+rep(c(-0.05,0.05),42),spdf[,1],col=k2$cluster)
segments(spdf[,2],spdf[,3],spdf[,2]+rep(c(0.02,-0.02),42),
 spdf[,3]+rep(c(-0.05,0.05),42),col=k2$cluster)

I took the liberty of replacing your abbreviations with internet top
level domains. As I hope you can see, you have a problem with crowded
points and labels, even with the trick of spreading the labels out.
You could modify the X and Y offsets by hand and get a much more
readable plot.

If this is not what you want, a bit more explanation of what you do
want may get you there.

Jim


From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Wed Jun 12 06:36:27 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Wed, 12 Jun 2019 10:06:27 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <CA+8X3fX+ceAJBBDApdykHgka-5Y1kUCLSgyQgzocazFpmQcJSQ@mail.gmail.com>
References: <CA+8X3fX+ceAJBBDApdykHgka-5Y1kUCLSgyQgzocazFpmQcJSQ@mail.gmail.com>
Message-ID: <CAOFE=kMeEakTmA9BTOShA=DakSU_G3ZAwSuin0qVU278HsTHvg@mail.gmail.com>

Hello Sir,

Thank you very much for your help for which I shall be always grateful to
you.

Concerning your questions,
"*1) Are the states in column 3 the same as those in column 1? As
you initially named the data frame "ts", perhaps the values in columns 2
and are taken at different times. If not, perhaps they are measured in
another set of countries, as yet unknown. Perhaps "DMs" and "EMs" are codes
that will resolve this.", *
I would like to answer that
the states in column 3 are not the same as in column 1. The data points in
column 2, and 4 are the values measured for different sets of countries.
Thus, they are a different set of values for a different set of countries,
and will not require one label for both the points in column 2 and 4 (i.e.
data columns). In particular, column 2 consists of the 45 data points that
measured for 45 countries (state names in column 1) whereas column 4
contains the 42 data points that measured for 42 another set of countries
(state name mentioned in column 3).  I tried both the column 2, and 4
separately along with their respective name columns, but unable to do
because K-mean test clusters only the numeric data points and is not
considering any non-numeric columns (i.e. state names). Thus, I considered
both the data points simultaneously, and after removing NAs from the data
table, both columns consist of the 42 data points. Hence, the number of
observations rather than the states name is coming in the clustered plot.
In this case, I stuck with the problem of setting a different label
(mentioned in column 1, and 3) for the different data points of column 2,
and 4.

Hope I successfully answered your question.

Thank you.



[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/12/19,
9:47:04 AM

On Wed, Jun 12, 2019 at 6:04 AM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Subhamitra,
> It is time to admit that I had the wrong idea about what you wanted to
> do, due to the combination of trying to solve two problems at once
> while I was very tired. I appreciate your patience.
>
> From your last email, you have a data frame with four columns. The
> first and third are cryptic names for political states and the second
> and fourth are values that I assume are measured in those states.
> 1) Are the states in column 3 the same as those in column 1? As you
> initially named the data frame "ts", perhaps the values in columns 2
> and 4 are taken at different times. If not, perhaps they are measured
> in another set of countries, as yet unknown. Perhaps "DMs" and "EMs"
> are codes that will resolve this.
>
> I assumed that "DMs" and "EMs" should be used as the X and Y values on
> a scatterplot, as your initial example seemed to indicate. If so, they
> are different values for the same country and only require one label
> for each point. Proceeding from this, you can do something like this:
>
> spdf<-read.table(text="State DMs EMs
> JP 2.071 2.038
> CH 2.0548 2.017
> AT 2.0544 2.007
> CL 2.047 1.963
> ES 2.033 1.947
> PT 2.0327 1.942
> PL 2.0321 1.932
> FR 2.031 1.924
> SE 2.0293 1.913
> DE 2.0291 1.906
> DK 2.027 1.892
> UK 2.022 1.877
> TW 1.9934 1.869
> NL 1.993 1.849
> HK 1.989 1.848
> LU 1.988 1.836
> CA 1.987 1.835
> NZ 1.9849 1.819
> US 1.9842 1.798
> AU 1.981 1.771
> MY 1.978 1.762
> HU 1.968 1.717
> LT 1.96 1.707
> SG 1.958 1.688
> FI 1.955 1.683
> CR 1.953 1.671
> BY 1.952 1.664
> IL 1.95 1.646
> EE 1.948 1.633
> NO 1.945 1.624
> IE 1.937 1.621
> SI 1.913 1.584
> LV 1.901 1.487
> SK 1.871 1.482
> BH 1.801 1.23
> SK 1.761 1.129
> AE 1.751 1.168
> IS 1.699 0.941
> BM 1.687 0.591
> KW 1.668 0.387
> CY 1.633 0.16
> AP 1.56 0.0002",
> header = TRUE,stringsAsFactors=FALSE)
> library(cluster)
> k2 <- kmeans(spdf[,c(2,3)], centers = 2, nstart = 25)
> plot(spdf[,c(2,3)],col=k2$cluster,pch=19,xlim=c(1.55,2.1))
> text(spdf[,2]+rep(c(0.02,-0.02),42),
>  spdf[,3]+rep(c(-0.05,0.05),42),spdf[,1],col=k2$cluster)
> segments(spdf[,2],spdf[,3],spdf[,2]+rep(c(0.02,-0.02),42),
>  spdf[,3]+rep(c(-0.05,0.05),42),col=k2$cluster)
>
> I took the liberty of replacing your abbreviations with internet top
> level domains. As I hope you can see, you have a problem with crowded
> points and labels, even with the trick of spreading the labels out.
> You could modify the X and Y offsets by hand and get a much more
> readable plot.
>
> If this is not what you want, a bit more explanation of what you do
> want may get you there.
>
> Jim
>


-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

	[[alternative HTML version deleted]]


From nev||@@mo@ @end|ng |rom gm@||@com  Wed Jun 12 07:45:04 2019
From: nev||@@mo@ @end|ng |rom gm@||@com (nevil amos)
Date: Wed, 12 Jun 2019 15:45:04 +1000
Subject: [R] reg expr that retains only bracketed text from strings
Message-ID: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>

Hi

I am trying to extract only the text contained in brackets from a vector of
strings
not all of the strings contain closed bracketed text, they should return an
empty string or NA

this is what I have at the moment


mystrings<-c("ABC","A(B)C","AB(C)")

substring(mystrings, regexpr("\\(|\\)", mystrings))


#this returns the whole string  if there are no brackets.
[1] "ABC"  "(B)C" "(C)"


# my desired desired output:
#    [1]  ""  "(B)" "(C)"

many thanks for any suggestions
Nevil Amos

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Wed Jun 12 08:54:38 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 12 Jun 2019 16:54:38 +1000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAOFE=kMeEakTmA9BTOShA=DakSU_G3ZAwSuin0qVU278HsTHvg@mail.gmail.com>
References: <CA+8X3fX+ceAJBBDApdykHgka-5Y1kUCLSgyQgzocazFpmQcJSQ@mail.gmail.com>
 <CAOFE=kMeEakTmA9BTOShA=DakSU_G3ZAwSuin0qVU278HsTHvg@mail.gmail.com>
Message-ID: <CA+8X3fU8KYqGYcDOfyWEbiO2by_JgMnYerA-5F+Bd_-cSRPYfQ@mail.gmail.com>

Hi Subhamitra,
I may have a better understanding. I have made up the second set of top
level domains as I have no idea what they may be. I hope that this is an
improvement.

spdf<-read.table(text="States1 DMs States2 EMs
JP 2.071 YA 2.038
CH 2.0548 YB 2.017
AT 2.0544 YC 2.007
CL 2.047 YD 1.963
ES 2.033 YE 1.947
PT 2.0327 YF 1.942
PL 2.0321 YG 1.932
FR 2.031 YH 1.924
SE 2.0293 YI 1.913
DE 2.0291 YJ 1.906
DK 2.027 YK 1.892
UK 2.022 YL 1.877
TW 1.9934 YM 1.869
NL 1.993 YN 1.849
HK 1.989 YO 1.848
LU 1.988 YP 1.836
CA 1.987 YQ 1.835
NZ 1.9849 YR 1.819
US 1.9842 YS 1.798
AU 1.981 YT 1.771
MY 1.978 YU 1.762
HU 1.968 YV 1.717
LT 1.96 YW 1.707
SG 1.958 YX 1.688
FI 1.955 YZ 1.683
CR 1.953 ZA 1.671
BY 1.952 ZB 1.664
IL 1.95 ZC 1.646
EE 1.948 ZD 1.633
NO 1.945 ZE 1.624
IE 1.937 ZF 1.621
SI 1.913 ZG 1.584
LV 1.901 ZH 1.487
SK 1.871 ZI 1.482
BH 1.801 ZJ 1.23
SK 1.761 ZK 1.129
AE 1.751 ZL 1.168
IS 1.699 ZM 0.941
BM 1.687 ZN 0.591
KW 1.668 ZO 0.387
CY 1.633 ZP 0.16
AP 1.56 ZQ 0.0002",
header = TRUE,stringsAsFactors=FALSE)
library(cluster)
k1<-kmeans(spdf[,2],centers=2,nstart=25)
k2<-kmeans(spdf[,4],centers=2,nstart=25)
plot(spdf[,2],col=k1$cluster,pch=19,ylim=c(0,2.1))
points(spdf[,4],col=k2$cluster+2,pch=19)
text(1:42+0.5,spdf[,2]+0.05,spdf[,1],col=k1$cluster)
text(1:42-0.5,spdf[,4]-0.05,spdf[,3],col=k2$cluster+2)
legend(10,1,c("cluster 1 DM","cluster 2 DM","cluster 1 EM","cluster 2 EM"),
 col=1:4,pch=19)

The crowding of points and labels remains.

Jim

On Wed, Jun 12, 2019 at 2:37 PM Subhamitra Patra <subhamitra.patra at gmail.com>
wrote:

> Hello Sir,
>
> Thank you very much for your help for which I shall be always grateful to
> you.
>
> Concerning your questions,
> "*1) Are the states in column 3 the same as those in column 1? As
> you initially named the data frame "ts", perhaps the values in columns 2
> and are taken at different times. If not, perhaps they are measured in
> another set of countries, as yet unknown. Perhaps "DMs" and "EMs" are codes
> that will resolve this.", *
> I would like to answer that
> the states in column 3 are not the same as in column 1. The data points in
> column 2, and 4 are the values measured for different sets of countries.
> Thus, they are a different set of values for a different set of countries,
> and will not require one label for both the points in column 2 and 4 (i.e.
> data columns). In particular, column 2 consists of the 45 data points that
> measured for 45 countries (state names in column 1) whereas column 4
> contains the 42 data points that measured for 42 another set of countries
> (state name mentioned in column 3).  I tried both the column 2, and 4
> separately along with their respective name columns, but unable to do
> because K-mean test clusters only the numeric data points and is not
> considering any non-numeric columns (i.e. state names). Thus, I considered
> both the data points simultaneously, and after removing NAs from the data
> table, both columns consist of the 42 data points. Hence, the number of
> observations rather than the states name is coming in the clustered plot.
> In this case, I stuck with the problem of setting a different label
> (mentioned in column 1, and 3) for the different data points of column 2,
> and 4.
>
> Hope I successfully answered your question.
>
> Thank you.
>
>
>
> [image: Mailtrack]
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> Sender
> notified by
> Mailtrack
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> 06/12/19,
> 9:47:04 AM
>
> On Wed, Jun 12, 2019 at 6:04 AM Jim Lemon <drjimlemon at gmail.com> wrote:
>
>> Hi Subhamitra,
>> It is time to admit that I had the wrong idea about what you wanted to
>> do, due to the combination of trying to solve two problems at once
>> while I was very tired. I appreciate your patience.
>>
>> From your last email, you have a data frame with four columns. The
>> first and third are cryptic names for political states and the second
>> and fourth are values that I assume are measured in those states.
>> 1) Are the states in column 3 the same as those in column 1? As you
>> initially named the data frame "ts", perhaps the values in columns 2
>> and 4 are taken at different times. If not, perhaps they are measured
>> in another set of countries, as yet unknown. Perhaps "DMs" and "EMs"
>> are codes that will resolve this.
>>
>> I assumed that "DMs" and "EMs" should be used as the X and Y values on
>> a scatterplot, as your initial example seemed to indicate. If so, they
>> are different values for the same country and only require one label
>> for each point. Proceeding from this, you can do something like this:
>>
>> spdf<-read.table(text="State DMs EMs
>> JP 2.071 2.038
>> CH 2.0548 2.017
>> AT 2.0544 2.007
>> CL 2.047 1.963
>> ES 2.033 1.947
>> PT 2.0327 1.942
>> PL 2.0321 1.932
>> FR 2.031 1.924
>> SE 2.0293 1.913
>> DE 2.0291 1.906
>> DK 2.027 1.892
>> UK 2.022 1.877
>> TW 1.9934 1.869
>> NL 1.993 1.849
>> HK 1.989 1.848
>> LU 1.988 1.836
>> CA 1.987 1.835
>> NZ 1.9849 1.819
>> US 1.9842 1.798
>> AU 1.981 1.771
>> MY 1.978 1.762
>> HU 1.968 1.717
>> LT 1.96 1.707
>> SG 1.958 1.688
>> FI 1.955 1.683
>> CR 1.953 1.671
>> BY 1.952 1.664
>> IL 1.95 1.646
>> EE 1.948 1.633
>> NO 1.945 1.624
>> IE 1.937 1.621
>> SI 1.913 1.584
>> LV 1.901 1.487
>> SK 1.871 1.482
>> BH 1.801 1.23
>> SK 1.761 1.129
>> AE 1.751 1.168
>> IS 1.699 0.941
>> BM 1.687 0.591
>> KW 1.668 0.387
>> CY 1.633 0.16
>> AP 1.56 0.0002",
>> header = TRUE,stringsAsFactors=FALSE)
>> library(cluster)
>> k2 <- kmeans(spdf[,c(2,3)], centers = 2, nstart = 25)
>> plot(spdf[,c(2,3)],col=k2$cluster,pch=19,xlim=c(1.55,2.1))
>> text(spdf[,2]+rep(c(0.02,-0.02),42),
>>  spdf[,3]+rep(c(-0.05,0.05),42),spdf[,1],col=k2$cluster)
>> segments(spdf[,2],spdf[,3],spdf[,2]+rep(c(0.02,-0.02),42),
>>  spdf[,3]+rep(c(-0.05,0.05),42),col=k2$cluster)
>>
>> I took the liberty of replacing your abbreviations with internet top
>> level domains. As I hope you can see, you have a problem with crowded
>> points and labels, even with the trick of spreading the labels out.
>> You could modify the X and Y offsets by hand and get a much more
>> readable plot.
>>
>> If this is not what you want, a bit more explanation of what you do
>> want may get you there.
>>
>> Jim
>>
>
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences*
> *Indian Institute of Technology, Kharagpur*
> *INDIA*
>

	[[alternative HTML version deleted]]


From Kurt@Horn|k @end|ng |rom wu@@c@@t  Wed Jun 12 09:42:50 2019
From: Kurt@Horn|k @end|ng |rom wu@@c@@t (Kurt Hornik)
Date: Wed, 12 Jun 2019 09:42:50 +0200
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
 <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
Message-ID: <23808.44282.850500.926937@hornik.net>

>>>>> Duncan Murdoch writes:

With c76695 in the trunk, we now only tilde expand file names starting
with a tilde also when using readline.

Best
-k

> On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
>> Note that R treats tildes in file names differently on Windows and Linux.
>> On Windows, it is only replaced if it it at the beginning of the line and
>> is followed by a forward or backward slash or end-of-line.  On Linux it is
>> replaced no matter where it is in the text and ~someUser will be replaced
>> by someUser's home directory (if 'someUser' is a user with a home
>> directory).

> That's not quite true:  On Linux the bug is in the code that uses 
> libreadline, which you don't have to use.  If you just specify
> "--no-readline" when you start R, it will be fine on Linux, as far as I 
> can see.

> I wouldn't choose that as the default way to run R (it's pretty 
> irritating not to have readline support), but it is a workaround for 
> this bug.

> Duncan Murdoch

>> 
>> Hence, if you have a Windows machine that can look at the file system on
>> your Linux machine you can use file.rename on Windows to change the names.
>> My inclination would be to use a bash script on Linux to change the names,
>> but if you are not comfortable with bash try the Windows approach.
>> 
>> Bill Dunlap
>> TIBCO Software
>> wdunlap tibco.com
>> 
>> 
>> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net> wrote:
>> 
>>> Hi Gabriel,
>>> 
>>> I actually want to make renames over thousands of files. But if I am not
>>> able to express the source filename of the rename operation I will not be
>>> able to get the work done. Besides the fact that there are issues I think
>>> that R is qualified for solving my problem by the method how it can handle
>>> long vectors of strings, booleans and also lists.
>>> 
>>> Kind regards,
>>> Frank
>>> 
>>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
>>>> Hi Frank,
>>>> I'm hesitant to be "that guy", but in case no one else has brought
>>> this up
>>>> to you, having files with a tilde in their names (generally but
>>> especially
>>>> on a linux system, where ~ in file names has a very important special
>>>> meaning in some cases, as we know) strikes me as an exceptionally bad
>>>> practice anyway. In light of that, the solution with the smallest
>>> amount
>>>> of pain for you is almost surely to just... not do that. Your
>>> filenames
>>>> will be better for it anyway.
>>>> There is a reason no one has complained about this before, and while I
>>>> haven't run a study or anything, I strongly suspect its that
>>> "everyone"
>>>> else is already on the "no tildes in filenames" bandwagon, so this
>>>> behavior, even if technically a bug, has no ability to cause them
>>>> problems.
>>>> Best,
>>>> ~G
>>>> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net>
>>>> wrote:
>>>> 
>>>> Hi,
>>>> 
>>>> yes, I have seen this package and it has the same tilde expanding
>>>> problem.
>>>> 
>>>> Please excuse me I will cc this answer to r-help and r-devel to
>>> keep the
>>>> discussion running.
>>>> 
>>>> Kind regards,
>>>> Frank Schwidom
>>>> 
>>>> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
>>>> > Just in case, have you seen the fs package?
>>>> > [2]https://fs.r-lib.org/
>>>> >
>>>> > Gabor
>>>> >
>>>> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
>>> schwidom at gmx.net>
>>>> wrote:
>>>> > >
>>>> > > Hi,
>>>> > >
>>>> > > to get rid of any possible filename modification I started a
>>> little
>>>> project to cover my usecase:
>>>> > >
>>>> > > [4]https://github.com/schwidom/simplefs
>>>> > >
>>>> > > This is my first R package, suggestions and a review are
>>> welcome.
>>>> > >
>>>> > > Thanks in advance
>>>> > > Frank Schwidom
>>>> > >
>>>> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>>>> > > >    How can expanding tildes anywhere but the beginning of a
>>> file
>>>> name NOT be
>>>> > > >    considered a bug?
>>>> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
>>>> <[1][5]krylov.r00t at gmail.com> wrote:
>>>> > > >
>>>> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
>>>> > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
>>>> > > >
>>>> > > >      > +> path.expand("a ~ b")
>>>> > > >      > [1] "a /home/user b"
>>>> > > >
>>>> > > >      > How can I switch off any file crippling activity?
>>>> > > >
>>>> > > >      It doesn't seem to be possible if readline is enabled and
>>>> works
>>>> > > >      correctly.
>>>> > > >
>>>> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
>>> [3],
>>>> which
>>>> > > >      calls R_ExpandFileName_readline [4], which uses
>>> libreadline
>>>> function
>>>> > > >      tilde_expand [5]. tilde_expand seems to be designed to
>>> expand
>>>> '~'
>>>> > > >      anywhere in the string it is handed, i.e. operate on
>>> whole
>>>> command
>>>> > > >      lines, not file paths.
>>>> > > >
>>>> > > >      I am taking the liberty of Cc-ing R-devel in case this
>>> can be
>>>> > > >      considered a bug.
>>>> > > >
>>>> > > >      --
>>>> > > >      Best regards,
>>>> > > >      Ivan
>>>> > > >
>>>> > > >      [1]
>>>> > > >
>>>> [3][7]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>> > > >
>>>> > > >      [2]
>>>> > > >
>>>> [4][8]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>> > > >
>>>> > > >      [3]
>>>> > > >
>>>> [5][9]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>> > > >
>>>> > > >      [4]
>>>> > > >
>>>> [6][10]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>> > > >
>>>> > > >      [5]
>>>> > > >
>>>> [7][11]
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>> > > >
>>>> > > >      ______________________________________________
>>>> > > >      [8][12]R-help at r-project.org mailing list -- To
>>> UNSUBSCRIBE
>>>> and more, see
>>>> > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
>>>> > > >      PLEASE do read the posting guide
>>>> > > >      [10][14]http://www.R-project.org/posting-guide.html
>>>> > > >      and provide commented, minimal, self-contained,
>>> reproducible
>>>> code.
>>>> > > >
>>>> > > > References
>>>> > > >
>>>> > > >    Visible links
>>>> > > >    1. mailto:[15]krylov.r00t at gmail.com
>>>> > > >    2. mailto:[16]schwidom at gmx.net
>>>> > > >    3.
>>>> [17]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>> > > >    4.
>>>> [18]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>> > > >    5.
>>>> [19]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>> > > >    6.
>>>> [20]
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>> > > >    7.
>>>> [21]
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>> > > >    8. mailto:[22]R-help at r-project.org
>>>> > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
>>>> > > >   10. [24]http://www.r-project.org/posting-guide.html
>>>> > >
>>>> > > ______________________________________________
>>>> > > [25]R-devel at r-project.org mailing list
>>>> > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
>>>> >
>>>> 
>>>> ______________________________________________
>>>> [27]R-devel at r-project.org mailing list
>>>> [28]https://stat.ethz.ch/mailman/listinfo/r-devel
>>>> 
>>>> References
>>>> 
>>>> Visible links
>>>> 1. mailto:schwidom at gmx.net
>>>> 2. https://fs.r-lib.org/
>>>> 3. mailto:schwidom at gmx.net
>>>> 4. https://github.com/schwidom/simplefs
>>>> 5. mailto:krylov.r00t at gmail.com
>>>> 6. mailto:schwidom at gmx.net
>>>> 7.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>> 8.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>> 9.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>> 10.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>> 11.
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>> 12. mailto:R-help at r-project.org
>>>> 13. https://stat.ethz.ch/mailman/listinfo/r-help
>>>> 14. http://www.r-project.org/posting-guide.html
>>>> 15. mailto:krylov.r00t at gmail.com
>>>> 16. mailto:schwidom at gmx.net
>>>> 17.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>>> 18.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>>> 19.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>>> 20.
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>>> 21.
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>>> 22. mailto:R-help at r-project.org
>>>> 23. https://stat.ethz.ch/mailman/listinfo/r-help
>>>> 24. http://www.r-project.org/posting-guide.html
>>>> 25. mailto:R-devel at r-project.org
>>>> 26. https://stat.ethz.ch/mailman/listinfo/r-devel
>>>> 27. mailto:R-devel at r-project.org
>>>> 28. https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>> 
>> [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From er|cjberger @end|ng |rom gm@||@com  Wed Jun 12 09:59:49 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 12 Jun 2019 10:59:49 +0300
Subject: [R] reg expr that retains only bracketed text from strings
In-Reply-To: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
References: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
Message-ID: <CAGgJW76qu-J8nw7to_12qUuJFQ6ugSv+Jmvf+Mfj_+i7o-We4A@mail.gmail.com>

Hi Nevil,
Here's one way to do it. (No doubt some regular-expression-gurus will have
more concise ways to get the job done.)

a1 <- sub(".*\\(","\\(",mystrings)
a2 <- sub("\\).*","\\)",a1)
a2[grep("\\(",a2,invert=TRUE)] <- ""
a2

HTH,
Eric




On Wed, Jun 12, 2019 at 8:46 AM nevil amos <nevil.amos at gmail.com> wrote:

> Hi
>
> I am trying to extract only the text contained in brackets from a vector of
> strings
> not all of the strings contain closed bracketed text, they should return an
> empty string or NA
>
> this is what I have at the moment
>
>
> mystrings<-c("ABC","A(B)C","AB(C)")
>
> substring(mystrings, regexpr("\\(|\\)", mystrings))
>
>
> #this returns the whole string  if there are no brackets.
> [1] "ABC"  "(B)C" "(C)"
>
>
> # my desired desired output:
> #    [1]  ""  "(B)" "(C)"
>
> many thanks for any suggestions
> Nevil Amos
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com  Wed Jun 12 10:01:59 2019
From: @ubh@m|tr@@p@tr@ @end|ng |rom gm@||@com (Subhamitra Patra)
Date: Wed, 12 Jun 2019 13:31:59 +0530
Subject: [R] Changing the label name in the plot
In-Reply-To: <CA+8X3fU8KYqGYcDOfyWEbiO2by_JgMnYerA-5F+Bd_-cSRPYfQ@mail.gmail.com>
References: <CA+8X3fX+ceAJBBDApdykHgka-5Y1kUCLSgyQgzocazFpmQcJSQ@mail.gmail.com>
 <CAOFE=kMeEakTmA9BTOShA=DakSU_G3ZAwSuin0qVU278HsTHvg@mail.gmail.com>
 <CA+8X3fU8KYqGYcDOfyWEbiO2by_JgMnYerA-5F+Bd_-cSRPYfQ@mail.gmail.com>
Message-ID: <CAOFE=kND4z5=kScoSSFmBGacxysKHBgsFSvmmd21P=LhF77zQQ@mail.gmail.com>

Dear Sir,

Thank you very much. The code which you suggested worked like awesome magic
which gave the expected result what I really wanted. For this help, I shall
be always grateful to you. Last time also, your intelligent help, and
encouraging support had solved my problem. I really appreciate your
kindness, patience and cooperative hands to the R beginners.

About the crowding of the points, it will remain somehow because of less
distance between each data point, but the points corresponding to the
labels can be clearly accessible in the zoom mode.

Thank you very much Sir.





[image: Mailtrack]
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
Sender
notified by
Mailtrack
<https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&>
06/12/19,
1:21:19 PM

On Wed, Jun 12, 2019 at 12:24 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Subhamitra,
> I may have a better understanding. I have made up the second set of top
> level domains as I have no idea what they may be. I hope that this is an
> improvement.
>
> spdf<-read.table(text="States1 DMs States2 EMs
> JP 2.071 YA 2.038
> CH 2.0548 YB 2.017
> AT 2.0544 YC 2.007
> CL 2.047 YD 1.963
> ES 2.033 YE 1.947
> PT 2.0327 YF 1.942
> PL 2.0321 YG 1.932
> FR 2.031 YH 1.924
> SE 2.0293 YI 1.913
> DE 2.0291 YJ 1.906
> DK 2.027 YK 1.892
> UK 2.022 YL 1.877
> TW 1.9934 YM 1.869
> NL 1.993 YN 1.849
> HK 1.989 YO 1.848
> LU 1.988 YP 1.836
> CA 1.987 YQ 1.835
> NZ 1.9849 YR 1.819
> US 1.9842 YS 1.798
> AU 1.981 YT 1.771
> MY 1.978 YU 1.762
> HU 1.968 YV 1.717
> LT 1.96 YW 1.707
> SG 1.958 YX 1.688
> FI 1.955 YZ 1.683
> CR 1.953 ZA 1.671
> BY 1.952 ZB 1.664
> IL 1.95 ZC 1.646
> EE 1.948 ZD 1.633
> NO 1.945 ZE 1.624
> IE 1.937 ZF 1.621
> SI 1.913 ZG 1.584
> LV 1.901 ZH 1.487
> SK 1.871 ZI 1.482
> BH 1.801 ZJ 1.23
> SK 1.761 ZK 1.129
> AE 1.751 ZL 1.168
> IS 1.699 ZM 0.941
> BM 1.687 ZN 0.591
> KW 1.668 ZO 0.387
> CY 1.633 ZP 0.16
> AP 1.56 ZQ 0.0002",
> header = TRUE,stringsAsFactors=FALSE)
> library(cluster)
> k1<-kmeans(spdf[,2],centers=2,nstart=25)
> k2<-kmeans(spdf[,4],centers=2,nstart=25)
> plot(spdf[,2],col=k1$cluster,pch=19,ylim=c(0,2.1))
> points(spdf[,4],col=k2$cluster+2,pch=19)
> text(1:42+0.5,spdf[,2]+0.05,spdf[,1],col=k1$cluster)
> text(1:42-0.5,spdf[,4]-0.05,spdf[,3],col=k2$cluster+2)
> legend(10,1,c("cluster 1 DM","cluster 2 DM","cluster 1 EM","cluster 2 EM"),
>  col=1:4,pch=19)
>
> The crowding of points and labels remains.
>
> Jim
>
> On Wed, Jun 12, 2019 at 2:37 PM Subhamitra Patra <
> subhamitra.patra at gmail.com> wrote:
>
>> Hello Sir,
>>
>> Thank you very much for your help for which I shall be always grateful to
>> you.
>>
>> Concerning your questions,
>> "*1) Are the states in column 3 the same as those in column 1? As
>> you initially named the data frame "ts", perhaps the values in columns 2
>> and are taken at different times. If not, perhaps they are measured in
>> another set of countries, as yet unknown. Perhaps "DMs" and "EMs" are codes
>> that will resolve this.", *
>> I would like to answer that
>> the states in column 3 are not the same as in column 1. The data points
>> in column 2, and 4 are the values measured for different sets of countries.
>> Thus, they are a different set of values for a different set of countries,
>> and will not require one label for both the points in column 2 and 4 (i.e.
>> data columns). In particular, column 2 consists of the 45 data points that
>> measured for 45 countries (state names in column 1) whereas column 4
>> contains the 42 data points that measured for 42 another set of countries
>> (state name mentioned in column 3).  I tried both the column 2, and 4
>> separately along with their respective name columns, but unable to do
>> because K-mean test clusters only the numeric data points and is not
>> considering any non-numeric columns (i.e. state names). Thus, I considered
>> both the data points simultaneously, and after removing NAs from the data
>> table, both columns consist of the 42 data points. Hence, the number of
>> observations rather than the states name is coming in the clustered plot.
>> In this case, I stuck with the problem of setting a different label
>> (mentioned in column 1, and 3) for the different data points of column 2,
>> and 4.
>>
>> Hope I successfully answered your question.
>>
>> Thank you.
>>
>>
>>
>> [image: Mailtrack]
>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> Sender
>> notified by
>> Mailtrack
>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> 06/12/19,
>> 9:47:04 AM
>>
>> On Wed, Jun 12, 2019 at 6:04 AM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>>> Hi Subhamitra,
>>> It is time to admit that I had the wrong idea about what you wanted to
>>> do, due to the combination of trying to solve two problems at once
>>> while I was very tired. I appreciate your patience.
>>>
>>> From your last email, you have a data frame with four columns. The
>>> first and third are cryptic names for political states and the second
>>> and fourth are values that I assume are measured in those states.
>>> 1) Are the states in column 3 the same as those in column 1? As you
>>> initially named the data frame "ts", perhaps the values in columns 2
>>> and 4 are taken at different times. If not, perhaps they are measured
>>> in another set of countries, as yet unknown. Perhaps "DMs" and "EMs"
>>> are codes that will resolve this.
>>>
>>> I assumed that "DMs" and "EMs" should be used as the X and Y values on
>>> a scatterplot, as your initial example seemed to indicate. If so, they
>>> are different values for the same country and only require one label
>>> for each point. Proceeding from this, you can do something like this:
>>>
>>> spdf<-read.table(text="State DMs EMs
>>> JP 2.071 2.038
>>> CH 2.0548 2.017
>>> AT 2.0544 2.007
>>> CL 2.047 1.963
>>> ES 2.033 1.947
>>> PT 2.0327 1.942
>>> PL 2.0321 1.932
>>> FR 2.031 1.924
>>> SE 2.0293 1.913
>>> DE 2.0291 1.906
>>> DK 2.027 1.892
>>> UK 2.022 1.877
>>> TW 1.9934 1.869
>>> NL 1.993 1.849
>>> HK 1.989 1.848
>>> LU 1.988 1.836
>>> CA 1.987 1.835
>>> NZ 1.9849 1.819
>>> US 1.9842 1.798
>>> AU 1.981 1.771
>>> MY 1.978 1.762
>>> HU 1.968 1.717
>>> LT 1.96 1.707
>>> SG 1.958 1.688
>>> FI 1.955 1.683
>>> CR 1.953 1.671
>>> BY 1.952 1.664
>>> IL 1.95 1.646
>>> EE 1.948 1.633
>>> NO 1.945 1.624
>>> IE 1.937 1.621
>>> SI 1.913 1.584
>>> LV 1.901 1.487
>>> SK 1.871 1.482
>>> BH 1.801 1.23
>>> SK 1.761 1.129
>>> AE 1.751 1.168
>>> IS 1.699 0.941
>>> BM 1.687 0.591
>>> KW 1.668 0.387
>>> CY 1.633 0.16
>>> AP 1.56 0.0002",
>>> header = TRUE,stringsAsFactors=FALSE)
>>> library(cluster)
>>> k2 <- kmeans(spdf[,c(2,3)], centers = 2, nstart = 25)
>>> plot(spdf[,c(2,3)],col=k2$cluster,pch=19,xlim=c(1.55,2.1))
>>> text(spdf[,2]+rep(c(0.02,-0.02),42),
>>>  spdf[,3]+rep(c(-0.05,0.05),42),spdf[,1],col=k2$cluster)
>>> segments(spdf[,2],spdf[,3],spdf[,2]+rep(c(0.02,-0.02),42),
>>>  spdf[,3]+rep(c(-0.05,0.05),42),col=k2$cluster)
>>>
>>> I took the liberty of replacing your abbreviations with internet top
>>> level domains. As I hope you can see, you have a problem with crowded
>>> points and labels, even with the trick of spreading the labels out.
>>> You could modify the X and Y offsets by hand and get a much more
>>> readable plot.
>>>
>>> If this is not what you want, a bit more explanation of what you do
>>> want may get you there.
>>>
>>> Jim
>>>
>>
>>
>> --
>> *Best Regards,*
>> *Subhamitra Patra*
>> *Phd. Research Scholar*
>> *Department of Humanities and Social Sciences*
>> *Indian Institute of Technology, Kharagpur*
>> *INDIA*
>>
>

-- 
*Best Regards,*
*Subhamitra Patra*
*Phd. Research Scholar*
*Department of Humanities and Social Sciences*
*Indian Institute of Technology, Kharagpur*
*INDIA*

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Jun 12 10:11:50 2019
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 12 Jun 2019 11:11:50 +0300
Subject: [R] reg expr that retains only bracketed text from strings
In-Reply-To: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
References: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
Message-ID: <20190612111150.40d68639@Tarkus>

On Wed, 12 Jun 2019 15:45:04 +1000
nevil amos <nevil.amos at gmail.com> wrote:

> # my desired desired output:
> #    [1]  ""  "(B)" "(C)"

(function(s) regmatches(
	s,
	gregexpr('\\([^)]+\\)', s)
))(c("ABC","A(B)C","AB(C)"))
# [[1]]
# character(0)
# 
# [[2]]
# [1] "(B)"
# 
# [[3]]
# [1] "(C)"

This matches all substrings that start with an ( and are followed by
non-zero amount of non-) characters, then terminated by ). If there are
multiple such substrings, all are returned.

-- 
Best regards,
Ivan


From drj|m|emon @end|ng |rom gm@||@com  Wed Jun 12 10:40:35 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 12 Jun 2019 18:40:35 +1000
Subject: [R] Changing the label name in the plot
In-Reply-To: <CAOFE=kM0Af4bBHyXzEd3dhWrxRW+WEDSr4jyF3j0sJ8Resk0Zg@mail.gmail.com>
References: <CAOFE=kM0Af4bBHyXzEd3dhWrxRW+WEDSr4jyF3j0sJ8Resk0Zg@mail.gmail.com>
Message-ID: <CA+8X3fU67NL5UBmNfgvRFENe=Udxw84PfmtJULm9pVi8LuTsrQ@mail.gmail.com>

It is good to see someone learning about how the code works, beyond just
getting the answer.

1) The header argument means, "is the first line of the file a header?". In
this case it should be TRUE. the stringsAsFactors argument means "should
character strings be converted to factors" (a combination of strings and
numbers). Unless you really want them, it is better not to convert.
2.1) pch is the Point CHaracter to use in plotting. Number 19 is a filled
circle.
2.2) Yes, I set the value to the range of both sets of values. You could
also do it like this - ylim=range(spdf[,c(2,4)])
2.3) The values of "cluster" in a kmeans object are sequential integers
from 1 to the number of clusters. That means that both k1 and k2 will have
cluster values of 1 and 2. By adding 2 to the cluster values in k2, they
become 3 and 4. Specifying colors by integers uses the values as indices
into the current color palette. The default palette is:
 1 = black
 2 = red
 3 = green
 4 = blue
and so on. If I had not added 2, both k1 and k2 would have the same colors.
3.1) You could have different numbers of points in the two cluster
analyses. Then you would have to add xlim=c(1,45) to the plot command so
that there was room for the second set of observations.
3.2) These values offset the text from the points so that the points
reflect the real values of the data, while the labels are positioned
adjacent to the points.
4.1) 10 and 1 are the X and Y positions of the upper left corner of the
legend in user units.
4.2) The legend explains the relationship of cluster memberships to colors.
pch=19 shows the same points as in the plot.

Jim

On Wed, Jun 12, 2019 at 6:08 PM Subhamitra Patra <subhamitra.patra at gmail.com>
wrote:

> Sir, I have one more request that being a beginner, I would like to learn
> the logic behind your suggested code. Kindly help me to learn also.
>
> *1. "header = TRUE,stringsAsFactors=FALSE)", *here what is the logic
> behind the keeping header true, and strings Factors=FALSE?
>
> 2. "*plot(spdf[,2],col=k1$cluster,pch=19,ylim=c(0,2.1))*
> *     points(spdf[,4],col=k2$cluster+2,pch=19*)", hence
>                                                             2.1) what pch
> indicates? why you set pch values as 19 in both plots?
>                                                             2.2) In y
> lim=c(0,2.1)), you have set the ylim values on the basis of the limits of
> the data, right?
>                                                             2.3) In the
> 2nd line, "col=k2$cluster+2", what is the logic behind the adding of +2?
> I think it indicates the adding of 2nd
>                                                         figure in the same
> plot, right?
>
> 3. "*text(1:42+0.5,spdf[,2]+0.05,spdf[,1],col=k1$cluster)*
> *     text(1:42-0.5,spdf[,4]-0.05,spdf[,3],col=k2$cluster+2)*",  hence,
>
>      3.1) 1:42 means, from 1 to 42 data points, right? So, I think there is
> no need for removing the extra 3 data points in column 2
>                                                                (i.e. in DMs
> columns) because hence k2 is being calculated separately. So, I can set
> differently as 1:45 for column 2 right?
>
>      3.2) What is the logic behind the addition, and subtraction of 0.5,
> and 0.05 in the 1st, and 2nd lines respectively?
>
> 4.
> *"legend(10,1,c("cluster 1 DM","cluster 2 DM","cluster 1 EM","cluster 2
> EM"),*
> *      col=1:4,pch=19)", *hence,
>                                             4.1. legend (10, 1) is for the
> setting of distance of the values in the X-axis, right?
>                                             4.2. The entire legend
> function is for the setting of the overall plot, right?
>                                             4.3. What pch=19 indicates in
> the legend function?
>
>
> Like before, kindly help me to learn this coding, Sir.
>
> Thank you very much for your kind, and encouraging support to the
> R-beginners.
>
>
> [image: Mailtrack]
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> Sender
> notified by
> Mailtrack
> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> 06/12/19,
> 1:33:30 PM
>
> On Wed, Jun 12, 2019 at 1:31 PM Subhamitra Patra <
> subhamitra.patra at gmail.com> wrote:
>
>> Dear Sir,
>>
>> Thank you very much. The code which you suggested worked like awesome
>> magic which gave the expected result what I really wanted. For this help, I
>> shall be always grateful to you. Last time also, your intelligent help, and
>> encouraging support had solved my problem. I really appreciate your
>> kindness, patience and cooperative hands to the R beginners.
>>
>> About the crowding of the points, it will remain somehow because of less
>> distance between each data point, but the points corresponding to the
>> labels can be clearly accessible in the zoom mode.
>>
>> Thank you very much Sir.
>>
>>
>>
>>
>>
>> [image: Mailtrack]
>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> Sender
>> notified by
>> Mailtrack
>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> 06/12/19,
>> 1:21:19 PM
>>
>> On Wed, Jun 12, 2019 at 12:24 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>>> Hi Subhamitra,
>>> I may have a better understanding. I have made up the second set of top
>>> level domains as I have no idea what they may be. I hope that this is an
>>> improvement.
>>>
>>> spdf<-read.table(text="States1 DMs States2 EMs
>>> JP 2.071 YA 2.038
>>> CH 2.0548 YB 2.017
>>> AT 2.0544 YC 2.007
>>> CL 2.047 YD 1.963
>>> ES 2.033 YE 1.947
>>> PT 2.0327 YF 1.942
>>> PL 2.0321 YG 1.932
>>> FR 2.031 YH 1.924
>>> SE 2.0293 YI 1.913
>>> DE 2.0291 YJ 1.906
>>> DK 2.027 YK 1.892
>>> UK 2.022 YL 1.877
>>> TW 1.9934 YM 1.869
>>> NL 1.993 YN 1.849
>>> HK 1.989 YO 1.848
>>> LU 1.988 YP 1.836
>>> CA 1.987 YQ 1.835
>>> NZ 1.9849 YR 1.819
>>> US 1.9842 YS 1.798
>>> AU 1.981 YT 1.771
>>> MY 1.978 YU 1.762
>>> HU 1.968 YV 1.717
>>> LT 1.96 YW 1.707
>>> SG 1.958 YX 1.688
>>> FI 1.955 YZ 1.683
>>> CR 1.953 ZA 1.671
>>> BY 1.952 ZB 1.664
>>> IL 1.95 ZC 1.646
>>> EE 1.948 ZD 1.633
>>> NO 1.945 ZE 1.624
>>> IE 1.937 ZF 1.621
>>> SI 1.913 ZG 1.584
>>> LV 1.901 ZH 1.487
>>> SK 1.871 ZI 1.482
>>> BH 1.801 ZJ 1.23
>>> SK 1.761 ZK 1.129
>>> AE 1.751 ZL 1.168
>>> IS 1.699 ZM 0.941
>>> BM 1.687 ZN 0.591
>>> KW 1.668 ZO 0.387
>>> CY 1.633 ZP 0.16
>>> AP 1.56 ZQ 0.0002",
>>> header = TRUE,stringsAsFactors=FALSE)
>>> library(cluster)
>>> k1<-kmeans(spdf[,2],centers=2,nstart=25)
>>> k2<-kmeans(spdf[,4],centers=2,nstart=25)
>>> plot(spdf[,2],col=k1$cluster,pch=19,ylim=c(0,2.1))
>>> points(spdf[,4],col=k2$cluster+2,pch=19)
>>> text(1:42+0.5,spdf[,2]+0.05,spdf[,1],col=k1$cluster)
>>> text(1:42-0.5,spdf[,4]-0.05,spdf[,3],col=k2$cluster+2)
>>> legend(10,1,c("cluster 1 DM","cluster 2 DM","cluster 1 EM","cluster 2
>>> EM"),
>>>  col=1:4,pch=19)
>>>
>>> The crowding of points and labels remains.
>>>
>>> Jim
>>>
>>> On Wed, Jun 12, 2019 at 2:37 PM Subhamitra Patra <
>>> subhamitra.patra at gmail.com> wrote:
>>>
>>>> Hello Sir,
>>>>
>>>> Thank you very much for your help for which I shall be always grateful
>>>> to you.
>>>>
>>>> Concerning your questions,
>>>> "*1) Are the states in column 3 the same as those in column 1? As
>>>> you initially named the data frame "ts", perhaps the values in columns 2
>>>> and are taken at different times. If not, perhaps they are measured in
>>>> another set of countries, as yet unknown. Perhaps "DMs" and "EMs" are codes
>>>> that will resolve this.", *
>>>> I would like to answer that
>>>> the states in column 3 are not the same as in column 1. The data points
>>>> in column 2, and 4 are the values measured for different sets of countries.
>>>> Thus, they are a different set of values for a different set of countries,
>>>> and will not require one label for both the points in column 2 and 4 (i.e.
>>>> data columns). In particular, column 2 consists of the 45 data points that
>>>> measured for 45 countries (state names in column 1) whereas column 4
>>>> contains the 42 data points that measured for 42 another set of countries
>>>> (state name mentioned in column 3).  I tried both the column 2, and 4
>>>> separately along with their respective name columns, but unable to do
>>>> because K-mean test clusters only the numeric data points and is not
>>>> considering any non-numeric columns (i.e. state names). Thus, I considered
>>>> both the data points simultaneously, and after removing NAs from the data
>>>> table, both columns consist of the 42 data points. Hence, the number of
>>>> observations rather than the states name is coming in the clustered plot.
>>>> In this case, I stuck with the problem of setting a different label
>>>> (mentioned in column 1, and 3) for the different data points of column 2,
>>>> and 4.
>>>>
>>>> Hope I successfully answered your question.
>>>>
>>>> Thank you.
>>>>
>>>>
>>>>
>>>> [image: Mailtrack]
>>>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> Sender
>>>> notified by
>>>> Mailtrack
>>>> <https://mailtrack.io?utm_source=gmail&utm_medium=signature&utm_campaign=signaturevirality5&> 06/12/19,
>>>> 9:47:04 AM
>>>>
>>>> On Wed, Jun 12, 2019 at 6:04 AM Jim Lemon <drjimlemon at gmail.com> wrote:
>>>>
>>>>> Hi Subhamitra,
>>>>> It is time to admit that I had the wrong idea about what you wanted to
>>>>> do, due to the combination of trying to solve two problems at once
>>>>> while I was very tired. I appreciate your patience.
>>>>>
>>>>> From your last email, you have a data frame with four columns. The
>>>>> first and third are cryptic names for political states and the second
>>>>> and fourth are values that I assume are measured in those states.
>>>>> 1) Are the states in column 3 the same as those in column 1? As you
>>>>> initially named the data frame "ts", perhaps the values in columns 2
>>>>> and 4 are taken at different times. If not, perhaps they are measured
>>>>> in another set of countries, as yet unknown. Perhaps "DMs" and "EMs"
>>>>> are codes that will resolve this.
>>>>>
>>>>> I assumed that "DMs" and "EMs" should be used as the X and Y values on
>>>>> a scatterplot, as your initial example seemed to indicate. If so, they
>>>>> are different values for the same country and only require one label
>>>>> for each point. Proceeding from this, you can do something like this:
>>>>>
>>>>> spdf<-read.table(text="State DMs EMs
>>>>> JP 2.071 2.038
>>>>> CH 2.0548 2.017
>>>>> AT 2.0544 2.007
>>>>> CL 2.047 1.963
>>>>> ES 2.033 1.947
>>>>> PT 2.0327 1.942
>>>>> PL 2.0321 1.932
>>>>> FR 2.031 1.924
>>>>> SE 2.0293 1.913
>>>>> DE 2.0291 1.906
>>>>> DK 2.027 1.892
>>>>> UK 2.022 1.877
>>>>> TW 1.9934 1.869
>>>>> NL 1.993 1.849
>>>>> HK 1.989 1.848
>>>>> LU 1.988 1.836
>>>>> CA 1.987 1.835
>>>>> NZ 1.9849 1.819
>>>>> US 1.9842 1.798
>>>>> AU 1.981 1.771
>>>>> MY 1.978 1.762
>>>>> HU 1.968 1.717
>>>>> LT 1.96 1.707
>>>>> SG 1.958 1.688
>>>>> FI 1.955 1.683
>>>>> CR 1.953 1.671
>>>>> BY 1.952 1.664
>>>>> IL 1.95 1.646
>>>>> EE 1.948 1.633
>>>>> NO 1.945 1.624
>>>>> IE 1.937 1.621
>>>>> SI 1.913 1.584
>>>>> LV 1.901 1.487
>>>>> SK 1.871 1.482
>>>>> BH 1.801 1.23
>>>>> SK 1.761 1.129
>>>>> AE 1.751 1.168
>>>>> IS 1.699 0.941
>>>>> BM 1.687 0.591
>>>>> KW 1.668 0.387
>>>>> CY 1.633 0.16
>>>>> AP 1.56 0.0002",
>>>>> header = TRUE,stringsAsFactors=FALSE)
>>>>> library(cluster)
>>>>> k2 <- kmeans(spdf[,c(2,3)], centers = 2, nstart = 25)
>>>>> plot(spdf[,c(2,3)],col=k2$cluster,pch=19,xlim=c(1.55,2.1))
>>>>> text(spdf[,2]+rep(c(0.02,-0.02),42),
>>>>>  spdf[,3]+rep(c(-0.05,0.05),42),spdf[,1],col=k2$cluster)
>>>>> segments(spdf[,2],spdf[,3],spdf[,2]+rep(c(0.02,-0.02),42),
>>>>>  spdf[,3]+rep(c(-0.05,0.05),42),col=k2$cluster)
>>>>>
>>>>> I took the liberty of replacing your abbreviations with internet top
>>>>> level domains. As I hope you can see, you have a problem with crowded
>>>>> points and labels, even with the trick of spreading the labels out.
>>>>> You could modify the X and Y offsets by hand and get a much more
>>>>> readable plot.
>>>>>
>>>>> If this is not what you want, a bit more explanation of what you do
>>>>> want may get you there.
>>>>>
>>>>> Jim
>>>>>
>>>>
>>>>
>>>> --
>>>> *Best Regards,*
>>>> *Subhamitra Patra*
>>>> *Phd. Research Scholar*
>>>> *Department of Humanities and Social Sciences*
>>>> *Indian Institute of Technology, Kharagpur*
>>>> *INDIA*
>>>>
>>>
>>
>> --
>> *Best Regards,*
>> *Subhamitra Patra*
>> *Phd. Research Scholar*
>> *Department of Humanities and Social Sciences*
>> *Indian Institute of Technology, Kharagpur*
>> *INDIA*
>>
>
>
> --
> *Best Regards,*
> *Subhamitra Patra*
> *Phd. Research Scholar*
> *Department of Humanities and Social Sciences*
> *Indian Institute of Technology, Kharagpur*
> *INDIA*
>

	[[alternative HTML version deleted]]


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Wed Jun 12 11:15:18 2019
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Wed, 12 Jun 2019 11:15:18 +0200
Subject: [R] mixtools' normalmixEM find cut-off between populations are
 reproduce graph
Message-ID: <CAMk+s2RfBt55jFAhefPLOMTOptWo6J16VtH+Sm5j7i4KMkK9cw@mail.gmail.com>

Dear all,
I am using mixtools' normalmixEM to find a cut-off that can separate
two populations. I can run the model, but I have two problems:
1. how do I find the value that separates the two populations? The
model provides two density plots, what would be the value that is at
the intersection between the two distribution and that constitutes the
best cut-off?
2. is it possible to reproduce the plots given by normalmixEM using
basic R functions?

Here is an example:
>>>
pos = rnorm(100, mean = 1, sd = 1)
neg = rnorm(100, mean = 0, sd = 3)
X = c(pos, neg)
dX = density(X)
dp = density(pos)
dn = density(neg)
plot(dX)
points(dp, type = "l", col = "green")
points(dn, type = "l", col = "red")
library(mixtools)
model = normalmixEM((x = X))
print(summary(model))
muneg = model$mu[1]       # Mean of negative population
sdneg = model$sigma[1]    # SD of negative population
mupos = model$mu[2]       # Mean of positive population
sdpos = model$sigma[2]    # SD of positive population
plot(model, which=2)
abline(v=0.058, lty = 2, col = "blue", lwd = 2)
<<<

the first plot shows that the two populations (pos and neg) are
distinct since their mean values are shifted one another. The second
plot reproduces this distinction and the intersection point between
the red (neg) and green (pos) distributions should be the cut-off
between the populations. in this case, I find it manually at 0.058
(blue line). How can I calculate it properly?
Thank you.

-- 
Best regards,
Luigi


From he|mut@@chuetz @end|ng |rom beb@c@@t  Wed Jun 12 13:37:39 2019
From: he|mut@@chuetz @end|ng |rom beb@c@@t (=?UTF-8?Q?Helmut_Sch=c3=bctz?=)
Date: Wed, 12 Jun 2019 13:37:39 +0200
Subject: [R] LaTeX Error in creating manual from Rd files
In-Reply-To: <5a3bf3ac-8b70-ac2c-f132-9e2470a459fc@gmail.com>
References: <baebbc67-752b-c0a7-c25b-bb401764d3ea@bebac.at>
 <5a3bf3ac-8b70-ac2c-f132-9e2470a459fc@gmail.com>
Message-ID: <1b9d6207-ecb5-5a3f-5900-5fe816c23300@bebac.at>

Hi,

Duncan Murdoch wrote on 2019-06-12 01:15:
> you should have
>
> ?\describe{
> ?? \item{bar}{
> ???? \tabular{ll}{
> ???? ...
> ?? }

Sorry, I have to come back. As I wrote before, no more errors/warnings, 
manual built.
\itemize{
 ? \item example
 ? \describe{
 ??? \item{foo}{
 ??????? \tabular{ll}{
 ????????? ...
 ??????? }
 ????? }
 ??? \item{bar}{}
 ? }
}

where both foo and bar /may/ be long lines.
Gives the table
/below/
foo but intended paragraph in bold (possibly overrunning the margin)
/below)
bar but intended paragraph in bold (possibly overrunning the margin)

Removed the second pair of curly brackets at the end, i.e., to \item{bar}
Warning: bad markup (extra space?) at expl.Rd:x:y
where x:y is the location of the closing curly bracket in \item{bar}
PDF as before

Removed the curly brackets at the end, i.e., to \item bar
Warning:
prepare_Rd: man/TR.RT.TT.RR.Rd:x: unexpected TEXT 'bar
 ?? ', expecting '{'
PDF:
table
below foo as before
then /without a new line/ bar in a normal font

What I want:
bar in a normal paragraph & font
table
foo in a normal paragraph & font

Is that possible at all?

Helmut

-- 
Ing. Helmut Sch?tz
BEBAC?? Consultancy Services for
Bioequivalence and Bioavailability Studies
Neubaugasse 36/11
1070 Vienna, Austria
T +43 1 2311746
M +43 699 10792458
E helmut.schuetz at bebac.at
W https://bebac.at/
C https://bebac.at/Contact.htm
F https://forum.bebac.at/


From p@i@di@i m@iii@g oii trusti@d@t@@de  Wed Jun 12 11:56:27 2019
From: p@i@di@i m@iii@g oii trusti@d@t@@de (p@i@di@i m@iii@g oii trusti@d@t@@de)
Date: Wed, 12 Jun 2019 11:56:27 +0200
Subject: [R] ezAnova difficulties
Message-ID: <20190612115627.Horde.c-C95t5L70_eaE1h6-Q_Ww1@webmail.df.eu>


Hello,
I am using ezAnova for the first time and I am a bit lost.

My data "epindata" looks like this:

      studno faculty epin smoker
         1       1    6      2
         2       2   16      1
         3       2   18      2
         4       2   24      1
         5       3   15      2
         6       2   21      2
         .       .   .       .

         .       .   .      .


"studno" ist the number of the observed probant (factor), "faculty" is  
the subject area (1=sciene, 2=philosophy, ..) (factor), "epin" is
the degree of psychological stability (integer), "smoker" means 1=  
yes, 2= no (factor).
The question I want to answer is if smoking and the faculty are  
related with the probants psychological stability.




So what I want to do is a two way independent (!) ANOVA.

Unfortunaly all the examples I found were about data with repeated  
measure and therefore for dependent variables.


I thought my ANOVA should  work like this:

ezANOVA(data=epindata, wid = studno, dv= epin, between= c(faculty,smoker))


It worked but I get this warning which I don't understand:

"Warnung: You have removed one or more Ss from the analysis.  
Refactoring "studno" for ANOVA.
Warnung: Data is unbalanced (unequal N per group). Make sure you  
specified a well-considered value for the type argument to ezANOVA().
Coefficient covariances computed by hccm()"

So I do have some questions

1.)

I don't understand the warning . There is no missing value and so the  
groups are equaly long.
And I don't get the "Refactoring" part or what " You have removed one  
or more Ss" means.

  2)
Did I get it right that as my variables are independent they both  
belong to "between" , between= c(faculty,smoker)?



I would be really nice if somebody could help me!

Thanks in advance!

Claudia


From wdun|@p @end|ng |rom t|bco@com  Wed Jun 12 16:32:14 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Wed, 12 Jun 2019 07:32:14 -0700
Subject: [R] reg expr that retains only bracketed text from strings
In-Reply-To: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
References: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
Message-ID: <CAF8bMcYH3gVyBwd+2zMK5c6iZfsnN+hjZJN+veW0zcoKSWnkeQ@mail.gmail.com>

strcapture() can help here.

> mystrings<-c("ABC","A(B)C","AB(C)")
> strcapture("^[^{]*(\\([^(]*\\)).*$", mystrings,
proto=data.frame(InParen=""))
  InParen
1    <NA>
2     (B)
3     (C)

Classic regular expressions don't do so well with nested parentheses.
Perhaps a perl-style RE could do that.
> strcapture("^[^{]*(\\([^(]*\\)).*$", proto=data.frame(InParen=""),
x=c("()", "a(s(d)f)g"))
  InParen
1      ()
2   (d)f)

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Tue, Jun 11, 2019 at 10:46 PM nevil amos <nevil.amos at gmail.com> wrote:

> Hi
>
> I am trying to extract only the text contained in brackets from a vector of
> strings
> not all of the strings contain closed bracketed text, they should return an
> empty string or NA
>
> this is what I have at the moment
>
>
> mystrings<-c("ABC","A(B)C","AB(C)")
>
> substring(mystrings, regexpr("\\(|\\)", mystrings))
>
>
> #this returns the whole string  if there are no brackets.
> [1] "ABC"  "(B)C" "(C)"
>
>
> # my desired desired output:
> #    [1]  ""  "(B)" "(C)"
>
> many thanks for any suggestions
> Nevil Amos
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Wed Jun 12 16:38:18 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 12 Jun 2019 07:38:18 -0700
Subject: [R] LaTeX Error in creating manual from Rd files
In-Reply-To: <1b9d6207-ecb5-5a3f-5900-5fe816c23300@bebac.at>
References: <baebbc67-752b-c0a7-c25b-bb401764d3ea@bebac.at>
 <5a3bf3ac-8b70-ac2c-f132-9e2470a459fc@gmail.com>
 <1b9d6207-ecb5-5a3f-5900-5fe816c23300@bebac.at>
Message-ID: <CAGxFJbRBJikro-G8y2ZKUXCeuRjFkmj9g1GTQsTuC0CD6=Yp-A@mail.gmail.com>

This is really the wrong list for this discussion. Post on r-package-devel
instead.

Cheers,
Bert


On Wed, Jun 12, 2019 at 4:38 AM Helmut Sch?tz <helmut.schuetz at bebac.at>
wrote:

> Hi,
>
> Duncan Murdoch wrote on 2019-06-12 01:15:
> > you should have
> >
> >  \describe{
> >    \item{bar}{
> >      \tabular{ll}{
> >      ...
> >    }
>
> Sorry, I have to come back. As I wrote before, no more errors/warnings,
> manual built.
> \itemize{
>    \item example
>    \describe{
>      \item{foo}{
>          \tabular{ll}{
>            ...
>          }
>        }
>      \item{bar}{}
>    }
> }
>
> where both foo and bar /may/ be long lines.
> Gives the table
> /below/
> foo but intended paragraph in bold (possibly overrunning the margin)
> /below)
> bar but intended paragraph in bold (possibly overrunning the margin)
>
> Removed the second pair of curly brackets at the end, i.e., to \item{bar}
> Warning: bad markup (extra space?) at expl.Rd:x:y
> where x:y is the location of the closing curly bracket in \item{bar}
> PDF as before
>
> Removed the curly brackets at the end, i.e., to \item bar
> Warning:
> prepare_Rd: man/TR.RT.TT.RR.Rd:x: unexpected TEXT 'bar
>     ', expecting '{'
> PDF:
> table
> below foo as before
> then /without a new line/ bar in a normal font
>
> What I want:
> bar in a normal paragraph & font
> table
> foo in a normal paragraph & font
>
> Is that possible at all?
>
> Helmut
>
> --
> Ing. Helmut Sch?tz
> BEBAC ? Consultancy Services for
> Bioequivalence and Bioavailability Studies
> Neubaugasse 36/11
> 1070 Vienna, Austria
> T +43 1 2311746
> M +43 699 10792458
> E helmut.schuetz at bebac.at
> W https://bebac.at/
> C https://bebac.at/Contact.htm
> F https://forum.bebac.at/
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From B|||@Po||ng @end|ng |rom ze||@@com  Wed Jun 12 19:56:18 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Wed, 12 Jun 2019 17:56:18 +0000
Subject: [R] Please help with ggplot error
Message-ID: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>


#RStudio Version 1.2.1335
sessionInfo()
#R version 3.6.0 Patched (2019-05-19 r76539)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows 10 x64 (build 17134)

Hello

I am getting an error for which I have googled to remedy but have not found a resource for it.

I found this but it seems to pertain to ggmap?
https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y

#Error in UseMethod("margin") :
#no applicable method for 'margin' applied to an object of class "NULL"

I hope someone recognizes this error and can help me solve it .

Thank you.

str(ednet)

# Classes 'data.table' and 'data.frame':892 obs. of  2 variables:
# $ Date2     : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
# $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
# - attr(*, ".internal.selfref")=<externalptr>

summary(ednet)
     Date2              NetEditRev
 Min.   :2017-01-01   Min.   :-176182.7500
 1st Qu.:2017-08-11   1st Qu.:   2553.5700
 Median :2018-03-22   Median :  49212.5800
 Mean   :2018-03-22   Mean   :  45265.6394
 3rd Qu.:2018-10-31   3rd Qu.:  75108.0175
 Max.   :2019-06-11   Max.   : 164891.2500

head(ednet,n=35)
         Date2 NetEditRev
 1: 2017-01-01    -923.40
 2: 2017-01-02   19222.09
 3: 2017-01-03   -8396.82
 4: 2017-01-04   37696.58
 5: 2017-01-05   46075.34
 6: 2017-01-06   38329.35
 7: 2017-01-07    3110.51
 8: 2017-01-08      21.39
 9: 2017-01-09   63569.67
10: 2017-01-10   50777.00
11: 2017-01-11   55548.60
12: 2017-01-12   70217.73
13: 2017-01-13   62536.15
14: 2017-01-14    2696.83
15: 2017-01-15    2230.00
16: 2017-01-16   56310.90
17: 2017-01-17   58521.93
18: 2017-01-18   50057.73
19: 2017-01-19   57366.70
20: 2017-01-20   61390.94
21: 2017-01-21    1839.09
22: 2017-01-22     807.57
23: 2017-01-23   72209.44
24: 2017-01-24   70799.21
25: 2017-01-25   70240.88
26: 2017-01-26   51462.66
27: 2017-01-27   46852.37
28: 2017-01-28    2396.67
29: 2017-01-29    2051.62
30: 2017-01-30   72561.32
31: 2017-01-31   69630.69
32: 2017-02-01  -17304.22
33: 2017-02-02   11773.84
34: 2017-02-03   20703.69
35: 2017-02-04    2762.87


as_tibble(ednet)

# A tibble: 892 x 2
# Date2      NetEditRev
# <date>          <dbl>
#   1 2017-01-01     -923.
# 2 2017-01-02    19222.
# 3 2017-01-03    -8397.
# 4 2017-01-04    37697.
# 5 2017-01-05    46075.
# 6 2017-01-06    38329.
# 7 2017-01-07     3111.
# 8 2017-01-08       21.4
# 9 2017-01-09    63570.
# 10 2017-01-10    50777
# ... with 882 more rows

#First blush look at the raw data
g1 <- ednet %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "Loess", span= 0.5) +
  theme_tq()

#Error in UseMethod("margin") :
#no applicable method for 'margin' applied to an object of class "NULL"

WHP



Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jun 12 20:02:37 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 12 Jun 2019 19:02:37 +0100
Subject: [R] Please help with ggplot error
In-Reply-To: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>

Hello,

Works with me, as soon as I corrected "Loess" to "loess".

Hope this helps,

Rui Barradas

?s 18:56 de 12/06/19, Bill Poling escreveu:
> 
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.6.0 Patched (2019-05-19 r76539)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows 10 x64 (build 17134)
> 
> Hello
> 
> I am getting an error for which I have googled to remedy but have not found a resource for it.
> 
> I found this but it seems to pertain to ggmap?
> https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y
> 
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
> 
> I hope someone recognizes this error and can help me solve it .
> 
> Thank you.
> 
> str(ednet)
> 
> # Classes 'data.table' and 'data.frame':892 obs. of  2 variables:
> # $ Date2     : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
> # $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
> # - attr(*, ".internal.selfref")=<externalptr>
> 
> summary(ednet)
>       Date2              NetEditRev
>   Min.   :2017-01-01   Min.   :-176182.7500
>   1st Qu.:2017-08-11   1st Qu.:   2553.5700
>   Median :2018-03-22   Median :  49212.5800
>   Mean   :2018-03-22   Mean   :  45265.6394
>   3rd Qu.:2018-10-31   3rd Qu.:  75108.0175
>   Max.   :2019-06-11   Max.   : 164891.2500
> 
> head(ednet,n=35)
>           Date2 NetEditRev
>   1: 2017-01-01    -923.40
>   2: 2017-01-02   19222.09
>   3: 2017-01-03   -8396.82
>   4: 2017-01-04   37696.58
>   5: 2017-01-05   46075.34
>   6: 2017-01-06   38329.35
>   7: 2017-01-07    3110.51
>   8: 2017-01-08      21.39
>   9: 2017-01-09   63569.67
> 10: 2017-01-10   50777.00
> 11: 2017-01-11   55548.60
> 12: 2017-01-12   70217.73
> 13: 2017-01-13   62536.15
> 14: 2017-01-14    2696.83
> 15: 2017-01-15    2230.00
> 16: 2017-01-16   56310.90
> 17: 2017-01-17   58521.93
> 18: 2017-01-18   50057.73
> 19: 2017-01-19   57366.70
> 20: 2017-01-20   61390.94
> 21: 2017-01-21    1839.09
> 22: 2017-01-22     807.57
> 23: 2017-01-23   72209.44
> 24: 2017-01-24   70799.21
> 25: 2017-01-25   70240.88
> 26: 2017-01-26   51462.66
> 27: 2017-01-27   46852.37
> 28: 2017-01-28    2396.67
> 29: 2017-01-29    2051.62
> 30: 2017-01-30   72561.32
> 31: 2017-01-31   69630.69
> 32: 2017-02-01  -17304.22
> 33: 2017-02-02   11773.84
> 34: 2017-02-03   20703.69
> 35: 2017-02-04    2762.87
> 
> 
> as_tibble(ednet)
> 
> # A tibble: 892 x 2
> # Date2      NetEditRev
> # <date>          <dbl>
> #   1 2017-01-01     -923.
> # 2 2017-01-02    19222.
> # 3 2017-01-03    -8397.
> # 4 2017-01-04    37697.
> # 5 2017-01-05    46075.
> # 6 2017-01-06    38329.
> # 7 2017-01-07     3111.
> # 8 2017-01-08       21.4
> # 9 2017-01-09    63570.
> # 10 2017-01-10    50777
> # ... with 882 more rows
> 
> #First blush look at the raw data
> g1 <- ednet %>%
>    ggplot(aes(Date2,NetEditRev)) +
>    geom_line(alpha=0.5, color = "#2c3e50") +
>    geom_smooth(method = "Loess", span= 0.5) +
>    theme_tq()
> 
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
> 
> WHP
> 
> 
> 
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From B|||@Po||ng @end|ng |rom ze||@@com  Wed Jun 12 20:07:20 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Wed, 12 Jun 2019 18:07:20 +0000
Subject: [R] Please help with ggplot error
In-Reply-To: <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>
References: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>
Message-ID: <BN7PR02MB5073A9D7978853A2C6EBC72FEAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>

Oh my, sheesh! Oh my gosh!

UGH!

Thank you Rui!

WHP


From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Wednesday, June 12, 2019 2:03 PM
To: Bill Poling <Bill.Poling at zelis.com>; r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Please help with ggplot error

Hello,

Works with me, as soon as I corrected "Loess" to "loess".

Hope this helps,

Rui Barradas

?s 18:56 de 12/06/19, Bill Poling escreveu:
>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.6.0 Patched (2019-05-19 r76539)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows 10 x64 (build 17134)
>
> Hello
>
> I am getting an error for which I have googled to remedy but have not found a resource for it.
>
> I found this but it seems to pertain to ggmap?
> https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y
>
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
>
> I hope someone recognizes this error and can help me solve it .
>
> Thank you.
>
> str(ednet)
>
> # Classes 'data.table' and 'data.frame':892 obs. of 2 variables:
> # $ Date2 : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
> # $ NetEditRev: num -923 19222 -8397 37697 46075 ...
> # - attr(*, ".internal.selfref")=<externalptr>
>
> summary(ednet)
> Date2 NetEditRev
> Min. :2017-01-01 Min. :-176182.7500
> 1st Qu.:2017-08-11 1st Qu.: 2553.5700
> Median :2018-03-22 Median : 49212.5800
> Mean :2018-03-22 Mean : 45265.6394
> 3rd Qu.:2018-10-31 3rd Qu.: 75108.0175
> Max. :2019-06-11 Max. : 164891.2500
>
> head(ednet,n=35)
> Date2 NetEditRev
> 1: 2017-01-01 -923.40
> 2: 2017-01-02 19222.09
> 3: 2017-01-03 -8396.82
> 4: 2017-01-04 37696.58
> 5: 2017-01-05 46075.34
> 6: 2017-01-06 38329.35
> 7: 2017-01-07 3110.51
> 8: 2017-01-08 21.39
> 9: 2017-01-09 63569.67
> 10: 2017-01-10 50777.00
> 11: 2017-01-11 55548.60
> 12: 2017-01-12 70217.73
> 13: 2017-01-13 62536.15
> 14: 2017-01-14 2696.83
> 15: 2017-01-15 2230.00
> 16: 2017-01-16 56310.90
> 17: 2017-01-17 58521.93
> 18: 2017-01-18 50057.73
> 19: 2017-01-19 57366.70
> 20: 2017-01-20 61390.94
> 21: 2017-01-21 1839.09
> 22: 2017-01-22 807.57
> 23: 2017-01-23 72209.44
> 24: 2017-01-24 70799.21
> 25: 2017-01-25 70240.88
> 26: 2017-01-26 51462.66
> 27: 2017-01-27 46852.37
> 28: 2017-01-28 2396.67
> 29: 2017-01-29 2051.62
> 30: 2017-01-30 72561.32
> 31: 2017-01-31 69630.69
> 32: 2017-02-01 -17304.22
> 33: 2017-02-02 11773.84
> 34: 2017-02-03 20703.69
> 35: 2017-02-04 2762.87
>
>
> as_tibble(ednet)
>
> # A tibble: 892 x 2
> # Date2 NetEditRev
> # <date> <dbl>
> # 1 2017-01-01 -923.
> # 2 2017-01-02 19222.
> # 3 2017-01-03 -8397.
> # 4 2017-01-04 37697.
> # 5 2017-01-05 46075.
> # 6 2017-01-06 38329.
> # 7 2017-01-07 3111.
> # 8 2017-01-08 21.4
> # 9 2017-01-09 63570.
> # 10 2017-01-10 50777
> # ... with 882 more rows
>
> #First blush look at the raw data
> g1 <- ednet %>%
> ggplot(aes(Date2,NetEditRev)) +
> geom_line(alpha=0.5, color = "#2c3e50") +
> geom_smooth(method = "Loess", span= 0.5) +
> theme_tq()
>
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
>
> WHP
>
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From B|||@Po||ng @end|ng |rom ze||@@com  Wed Jun 12 20:10:27 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Wed, 12 Jun 2019 18:10:27 +0000
Subject: [R] Please help with ggplot error
In-Reply-To: <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>
References: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>
Message-ID: <BN7PR02MB5073B0288404E3EF256D1FAFEAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>

Well spoke too soon, maybe not for me Rui, weird?

g1 <- ednet %>%
+   ggplot(aes(Date2,NetEditRev)) +
+   geom_line(alpha=0.5, color = "#2c3e50") +
+   geom_smooth(method = "loess", span= 0.5) +#Fix Loess to loess
+   theme_tq()
Error in UseMethod("margin") :
  no applicable method for 'margin' applied to an object of class "NULL"

WHP


From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Wednesday, June 12, 2019 2:03 PM
To: Bill Poling <Bill.Poling at zelis.com>; r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Please help with ggplot error

Hello,

Works with me, as soon as I corrected "Loess" to "loess".

Hope this helps,

Rui Barradas

?s 18:56 de 12/06/19, Bill Poling escreveu:
>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.6.0 Patched (2019-05-19 r76539)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows 10 x64 (build 17134)
>
> Hello
>
> I am getting an error for which I have googled to remedy but have not found a resource for it.
>
> I found this but it seems to pertain to ggmap?
> https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y
>
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
>
> I hope someone recognizes this error and can help me solve it .
>
> Thank you.
>
> str(ednet)
>
> # Classes 'data.table' and 'data.frame':892 obs. of 2 variables:
> # $ Date2 : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
> # $ NetEditRev: num -923 19222 -8397 37697 46075 ...
> # - attr(*, ".internal.selfref")=<externalptr>
>
> summary(ednet)
> Date2 NetEditRev
> Min. :2017-01-01 Min. :-176182.7500
> 1st Qu.:2017-08-11 1st Qu.: 2553.5700
> Median :2018-03-22 Median : 49212.5800
> Mean :2018-03-22 Mean : 45265.6394
> 3rd Qu.:2018-10-31 3rd Qu.: 75108.0175
> Max. :2019-06-11 Max. : 164891.2500
>
> head(ednet,n=35)
> Date2 NetEditRev
> 1: 2017-01-01 -923.40
> 2: 2017-01-02 19222.09
> 3: 2017-01-03 -8396.82
> 4: 2017-01-04 37696.58
> 5: 2017-01-05 46075.34
> 6: 2017-01-06 38329.35
> 7: 2017-01-07 3110.51
> 8: 2017-01-08 21.39
> 9: 2017-01-09 63569.67
> 10: 2017-01-10 50777.00
> 11: 2017-01-11 55548.60
> 12: 2017-01-12 70217.73
> 13: 2017-01-13 62536.15
> 14: 2017-01-14 2696.83
> 15: 2017-01-15 2230.00
> 16: 2017-01-16 56310.90
> 17: 2017-01-17 58521.93
> 18: 2017-01-18 50057.73
> 19: 2017-01-19 57366.70
> 20: 2017-01-20 61390.94
> 21: 2017-01-21 1839.09
> 22: 2017-01-22 807.57
> 23: 2017-01-23 72209.44
> 24: 2017-01-24 70799.21
> 25: 2017-01-25 70240.88
> 26: 2017-01-26 51462.66
> 27: 2017-01-27 46852.37
> 28: 2017-01-28 2396.67
> 29: 2017-01-29 2051.62
> 30: 2017-01-30 72561.32
> 31: 2017-01-31 69630.69
> 32: 2017-02-01 -17304.22
> 33: 2017-02-02 11773.84
> 34: 2017-02-03 20703.69
> 35: 2017-02-04 2762.87
>
>
> as_tibble(ednet)
>
> # A tibble: 892 x 2
> # Date2 NetEditRev
> # <date> <dbl>
> # 1 2017-01-01 -923.
> # 2 2017-01-02 19222.
> # 3 2017-01-03 -8397.
> # 4 2017-01-04 37697.
> # 5 2017-01-05 46075.
> # 6 2017-01-06 38329.
> # 7 2017-01-07 3111.
> # 8 2017-01-08 21.4
> # 9 2017-01-09 63570.
> # 10 2017-01-10 50777
> # ... with 882 more rows
>
> #First blush look at the raw data
> g1 <- ednet %>%
> ggplot(aes(Date2,NetEditRev)) +
> geom_line(alpha=0.5, color = "#2c3e50") +
> geom_smooth(method = "Loess", span= 0.5) +
> theme_tq()
>
> #Error in UseMethod("margin") :
> #no applicable method for 'margin' applied to an object of class "NULL"
>
> WHP
>
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jun 12 21:01:10 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 12 Jun 2019 20:01:10 +0100
Subject: [R] Please help with ggplot error
In-Reply-To: <BN7PR02MB5073B0288404E3EF256D1FAFEAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB50735525126602A1B28168A0EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1d7d8ad3-f863-6477-d9a3-1058f4f5adc9@sapo.pt>
 <BN7PR02MB5073B0288404E3EF256D1FAFEAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <7fde5292-82b4-b87d-5790-ded52eda29d9@sapo.pt>

Hello,

This seems to be a conflict with a generic function margin() from 
another package you might have loaded. ggplot::margin is not generic, 
therefore there are no methods for it. And its arguments have default 
values, it wouldn't throw an error even when called with no arguments. 
(As it is in theme_tq).

The code I have loaded is

getAnywhere('margin')
A single object matching ?margin? was found
It was found in the following places
   package:ggplot2
   namespace:ggplot2
with value

function (t = 0, r = 0, b = 0, l = 0, unit = "pt")
{
     u <- unit(c(t, r, b, l), unit)
     class(u) <- c("margin", class(u))
     u
}
<bytecode: 0x78cc180>
<environment: namespace:ggplot2>


This is called 3 times in theme_tq and none of them causes problems.


Hope this helps,

Rui Barradas

?s 19:10 de 12/06/19, Bill Poling escreveu:
> Well spoke too soon, maybe not for me Rui, weird?
> 
> g1 <- ednet %>%
> +   ggplot(aes(Date2,NetEditRev)) +
> +   geom_line(alpha=0.5, color = "#2c3e50") +
> +   geom_smooth(method = "loess", span= 0.5) +#Fix Loess to loess
> +   theme_tq()
> Error in UseMethod("margin") :
>    no applicable method for 'margin' applied to an object of class "NULL"
> 
> WHP
> 
> 
> From: Rui Barradas <ruipbarradas at sapo.pt>
> Sent: Wednesday, June 12, 2019 2:03 PM
> To: Bill Poling <Bill.Poling at zelis.com>; r-help (r-help at r-project.org) <r-help at r-project.org>
> Subject: Re: [R] Please help with ggplot error
> 
> Hello,
> 
> Works with me, as soon as I corrected "Loess" to "loess".
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 18:56 de 12/06/19, Bill Poling escreveu:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.6.0 Patched (2019-05-19 r76539)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows 10 x64 (build 17134)
>>
>> Hello
>>
>> I am getting an error for which I have googled to remedy but have not found a resource for it.
>>
>> I found this but it seems to pertain to ggmap?
>> https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y
>>
>> #Error in UseMethod("margin") :
>> #no applicable method for 'margin' applied to an object of class "NULL"
>>
>> I hope someone recognizes this error and can help me solve it .
>>
>> Thank you.
>>
>> str(ednet)
>>
>> # Classes 'data.table' and 'data.frame':892 obs. of 2 variables:
>> # $ Date2 : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> # $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> # - attr(*, ".internal.selfref")=<externalptr>
>>
>> summary(ednet)
>> Date2 NetEditRev
>> Min. :2017-01-01 Min. :-176182.7500
>> 1st Qu.:2017-08-11 1st Qu.: 2553.5700
>> Median :2018-03-22 Median : 49212.5800
>> Mean :2018-03-22 Mean : 45265.6394
>> 3rd Qu.:2018-10-31 3rd Qu.: 75108.0175
>> Max. :2019-06-11 Max. : 164891.2500
>>
>> head(ednet,n=35)
>> Date2 NetEditRev
>> 1: 2017-01-01 -923.40
>> 2: 2017-01-02 19222.09
>> 3: 2017-01-03 -8396.82
>> 4: 2017-01-04 37696.58
>> 5: 2017-01-05 46075.34
>> 6: 2017-01-06 38329.35
>> 7: 2017-01-07 3110.51
>> 8: 2017-01-08 21.39
>> 9: 2017-01-09 63569.67
>> 10: 2017-01-10 50777.00
>> 11: 2017-01-11 55548.60
>> 12: 2017-01-12 70217.73
>> 13: 2017-01-13 62536.15
>> 14: 2017-01-14 2696.83
>> 15: 2017-01-15 2230.00
>> 16: 2017-01-16 56310.90
>> 17: 2017-01-17 58521.93
>> 18: 2017-01-18 50057.73
>> 19: 2017-01-19 57366.70
>> 20: 2017-01-20 61390.94
>> 21: 2017-01-21 1839.09
>> 22: 2017-01-22 807.57
>> 23: 2017-01-23 72209.44
>> 24: 2017-01-24 70799.21
>> 25: 2017-01-25 70240.88
>> 26: 2017-01-26 51462.66
>> 27: 2017-01-27 46852.37
>> 28: 2017-01-28 2396.67
>> 29: 2017-01-29 2051.62
>> 30: 2017-01-30 72561.32
>> 31: 2017-01-31 69630.69
>> 32: 2017-02-01 -17304.22
>> 33: 2017-02-02 11773.84
>> 34: 2017-02-03 20703.69
>> 35: 2017-02-04 2762.87
>>
>>
>> as_tibble(ednet)
>>
>> # A tibble: 892 x 2
>> # Date2 NetEditRev
>> # <date> <dbl>
>> # 1 2017-01-01 -923.
>> # 2 2017-01-02 19222.
>> # 3 2017-01-03 -8397.
>> # 4 2017-01-04 37697.
>> # 5 2017-01-05 46075.
>> # 6 2017-01-06 38329.
>> # 7 2017-01-07 3111.
>> # 8 2017-01-08 21.4
>> # 9 2017-01-09 63570.
>> # 10 2017-01-10 50777
>> # ... with 882 more rows
>>
>> #First blush look at the raw data
>> g1 <- ednet %>%
>> ggplot(aes(Date2,NetEditRev)) +
>> geom_line(alpha=0.5, color = "#2c3e50") +
>> geom_smooth(method = "Loess", span= 0.5) +
>> theme_tq()
>>
>> #Error in UseMethod("margin") :
>> #no applicable method for 'margin' applied to an object of class "NULL"
>>
>> WHP
>>
>>
>>
>> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>>
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.
>


From B|||@Po||ng @end|ng |rom ze||@@com  Wed Jun 12 21:13:33 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Wed, 12 Jun 2019 19:13:33 +0000
Subject: [R] Please help with ggplot error Resolved!
Message-ID: <BN7PR02MB50730B0CD0B56ABC60777387EAEC0@BN7PR02MB5073.namprd02.prod.outlook.com>

Hello Rui, yes, I thought of that and rebooted RStudio and only loaded the specific pkgs for this project and that fixed that issue.

Thank you Rui!

WHP


From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Wednesday, June 12, 2019 3:01 PM
To: Bill Poling <Bill.Poling at zelis.com>; r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Please help with ggplot error

Hello,

This seems to be a conflict with a generic function margin() from
another package you might have loaded. ggplot::margin is not generic,
therefore there are no methods for it. And its arguments have default
values, it wouldn't throw an error even when called with no arguments.
(As it is in theme_tq).

The code I have loaded is

getAnywhere('margin')
A single object matching ?margin? was found
It was found in the following places
package:ggplot2
namespace:ggplot2
with value

function (t = 0, r = 0, b = 0, l = 0, unit = "pt")
{
u <- unit(c(t, r, b, l), unit)
class(u) <- c("margin", class(u))
u
}
<bytecode: 0x78cc180>
<environment: namespace:ggplot2>


This is called 3 times in theme_tq and none of them causes problems.


Hope this helps,

Rui Barradas

?s 19:10 de 12/06/19, Bill Poling escreveu:
> Well spoke too soon, maybe not for me Rui, weird?
>
> g1 <- ednet %>%
> + ggplot(aes(Date2,NetEditRev)) +
> + geom_line(alpha=0.5, color = "#2c3e50") +
> + geom_smooth(method = "loess", span= 0.5) +#Fix Loess to loess
> + theme_tq()
> Error in UseMethod("margin") :
> no applicable method for 'margin' applied to an object of class "NULL"
>
> WHP
>
>
> From: Rui Barradas <mailto:ruipbarradas at sapo.pt>
> Sent: Wednesday, June 12, 2019 2:03 PM
> To: Bill Poling <mailto:Bill.Poling at zelis.com>; r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
> Subject: Re: [R] Please help with ggplot error
>
> Hello,
>
> Works with me, as soon as I corrected "Loess" to "loess".
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 18:56 de 12/06/19, Bill Poling escreveu:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.6.0 Patched (2019-05-19 r76539)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows 10 x64 (build 17134)
>>
>> Hello
>>
>> I am getting an error for which I have googled to remedy but have not found a resource for it.
>>
>> I found this but it seems to pertain to ggmap?
>> https://stackoverflow.com/questions/52371655/ggmap-errors-when-using-aesthetics-beyond-x-y
>>
>> #Error in UseMethod("margin") :
>> #no applicable method for 'margin' applied to an object of class "NULL"
>>
>> I hope someone recognizes this error and can help me solve it .
>>
>> Thank you.
>>
>> str(ednet)
>>
>> # Classes 'data.table' and 'data.frame':892 obs. of 2 variables:
>> # $ Date2 : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> # $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> # - attr(*, ".internal.selfref")=<externalptr>
>>
>> summary(ednet)
>> Date2 NetEditRev
>> Min. :2017-01-01 Min. :-176182.7500
>> 1st Qu.:2017-08-11 1st Qu.: 2553.5700
>> Median :2018-03-22 Median : 49212.5800
>> Mean :2018-03-22 Mean : 45265.6394
>> 3rd Qu.:2018-10-31 3rd Qu.: 75108.0175
>> Max. :2019-06-11 Max. : 164891.2500
>>
>> head(ednet,n=35)
>> Date2 NetEditRev
>> 1: 2017-01-01 -923.40
>> 2: 2017-01-02 19222.09
>> 3: 2017-01-03 -8396.82
>> 4: 2017-01-04 37696.58
>> 5: 2017-01-05 46075.34
>> 6: 2017-01-06 38329.35
>> 7: 2017-01-07 3110.51
>> 8: 2017-01-08 21.39
>> 9: 2017-01-09 63569.67
>> 10: 2017-01-10 50777.00
>> 11: 2017-01-11 55548.60
>> 12: 2017-01-12 70217.73
>> 13: 2017-01-13 62536.15
>> 14: 2017-01-14 2696.83
>> 15: 2017-01-15 2230.00
>> 16: 2017-01-16 56310.90
>> 17: 2017-01-17 58521.93
>> 18: 2017-01-18 50057.73
>> 19: 2017-01-19 57366.70
>> 20: 2017-01-20 61390.94
>> 21: 2017-01-21 1839.09
>> 22: 2017-01-22 807.57
>> 23: 2017-01-23 72209.44
>> 24: 2017-01-24 70799.21
>> 25: 2017-01-25 70240.88
>> 26: 2017-01-26 51462.66
>> 27: 2017-01-27 46852.37
>> 28: 2017-01-28 2396.67
>> 29: 2017-01-29 2051.62
>> 30: 2017-01-30 72561.32
>> 31: 2017-01-31 69630.69
>> 32: 2017-02-01 -17304.22
>> 33: 2017-02-02 11773.84
>> 34: 2017-02-03 20703.69
>> 35: 2017-02-04 2762.87
>>
>>
>> as_tibble(ednet)
>>
>> # A tibble: 892 x 2
>> # Date2 NetEditRev
>> # <date> <dbl>
>> # 1 2017-01-01 -923.
>> # 2 2017-01-02 19222.
>> # 3 2017-01-03 -8397.
>> # 4 2017-01-04 37697.
>> # 5 2017-01-05 46075.
>> # 6 2017-01-06 38329.
>> # 7 2017-01-07 3111.
>> # 8 2017-01-08 21.4
>> # 9 2017-01-09 63570.
>> # 10 2017-01-10 50777
>> # ... with 882 more rows
>>
>> #First blush look at the raw data
>> g1 <- ednet %>%
>> ggplot(aes(Date2,NetEditRev)) +
>> geom_line(alpha=0.5, color = "#2c3e50") +
>> geom_smooth(method = "Loess", span= 0.5) +
>> theme_tq()
>>
>> #Error in UseMethod("margin") :
>> #no applicable method for 'margin' applied to an object of class "NULL"
>>
>> WHP
>>
>>
>>
>> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>>
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.
>

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From jwd @end|ng |rom @urewe@t@net  Wed Jun 12 21:50:12 2019
From: jwd @end|ng |rom @urewe@t@net (John)
Date: Wed, 12 Jun 2019 12:50:12 -0700
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190605160714.GA24635@debian64>
References: <20190605160714.GA24635@debian64>
Message-ID: <20190612125012.6e2eb1ef@Draco.localdomain>

On Wed, 5 Jun 2019 18:07:15 +0200
Frank Schwidom <schwidom at gmx.net> wrote:

In reading file names, names with spaces require escaping of the
spaces, and you are using not only a tilde but the space as spell.  The
tilde is conventionally read as wild card representing the leading
portion of the file address, which is what you see here:

The long standing convention in unix and linux is that a tilde is
shorthand for your home directory, just as "./" is the local directory
and "../" is one step back up the directory tree. The output of
path.expand() varies in how your string is constructed:

1. > path.expand("ab")
   [1] "ab"
2. > path.expand("a b")
   [1] "a b"
3. > path.expand("a ~b")
   [1] "a ~b"
4. > path.expand("a ~ b")
   [1] "a /home/john b"
5. > path.expand("a ~/b")
   [1] "a /home/john/b"
6. > path.expand("~/a  b")
   [1] "/home/john/a  b"

Notice that the spaces have an effect on how the tilde is parsed in
the string.  The next to last case sees a string with three elements:
"a", the local path, and "b".  The last expands the tilde as the "path"
to a hypothetical file "b" in the home directory. In the sixth case the
same behaviour occurs.  

If you read the help for path.expand(), the routine expects
"leading" tildes, which explains the free floating "path in the fourth
example.  In the third example, where the forward slash is omitted, the
routine simply treats the tilde as part of a string. 

Also note this at http://www.linfo.org/file_name.html:

"...file names only use alphanumeric characters (mostly lower case),
underscores, hyphens and periods. Other characters, such as dollar
signs, percentage signs and brackets, have special meanings to the
shell and can be distracting to work with. File names should never
begin with a hyphen."

The probable "bug" is that none of the programmers imagined that anyone
would use special characters within file names, "legal" or not, (just
not done, don't y' know). In any case the simple solution, if you
really, really need a tilde in a filename, is to avoid setting it off in
spaces, or any other character that could mislead a routine into
treating it conventionally as shorthand for you home directory.  

JWDougherty


From drj|m|emon @end|ng |rom gm@||@com  Thu Jun 13 01:09:12 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 13 Jun 2019 09:09:12 +1000
Subject: [R] reg expr that retains only bracketed text from strings
In-Reply-To: <CAF8bMcYH3gVyBwd+2zMK5c6iZfsnN+hjZJN+veW0zcoKSWnkeQ@mail.gmail.com>
References: <CAN9eD7kLjT5-Z=vbfMDZ_gRtVHrHnmO7sGHNv_YbuObCi6RCvQ@mail.gmail.com>
 <CAF8bMcYH3gVyBwd+2zMK5c6iZfsnN+hjZJN+veW0zcoKSWnkeQ@mail.gmail.com>
Message-ID: <CA+8X3fXxRP0WpptFGGaPL-=1UMdH7wH7cNOBvxwzPVN7ZO=nTA@mail.gmail.com>

Hi Nevil,
In case you are still having trouble with this, I wrote something in R
that should do what you want:

mystrings<-c("ABC","A(B)C","AB[C]","<A>BC","{AB}C")

get_enclosed<-function(x,left=c("(","[","<","{"),right=c(")","]",">","}")) {
 newx<-rep("",length(x))
 for(li in 1:length(left)) {
  for(xi in 1:length(x)) {
   lp<-regexpr(left[li],x[xi],fixed=TRUE)
   rp<-regexpr(right[li],x[xi],fixed=TRUE)
   if(lp > 0 && rp > 0)
    newx[xi]<-substr(x[xi],lp+1,rp-1)
  }
 }
 return(newx)
}
get_enclosed(mystrings)

Jim

On Thu, Jun 13, 2019 at 12:32 AM William Dunlap via R-help
<r-help at r-project.org> wrote:
>
> strcapture() can help here.
>
> > mystrings<-c("ABC","A(B)C","AB(C)")
> > strcapture("^[^{]*(\\([^(]*\\)).*$", mystrings,
> proto=data.frame(InParen=""))
>   InParen
> 1    <NA>
> 2     (B)
> 3     (C)
>
> Classic regular expressions don't do so well with nested parentheses.
> Perhaps a perl-style RE could do that.
> > strcapture("^[^{]*(\\([^(]*\\)).*$", proto=data.frame(InParen=""),
> x=c("()", "a(s(d)f)g"))
>   InParen
> 1      ()
> 2   (d)f)
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Tue, Jun 11, 2019 at 10:46 PM nevil amos <nevil.amos at gmail.com> wrote:
>
> > Hi
> >
> > I am trying to extract only the text contained in brackets from a vector of
> > strings
> > not all of the strings contain closed bracketed text, they should return an
> > empty string or NA
> >
> > this is what I have at the moment
> >
> >
> > mystrings<-c("ABC","A(B)C","AB(C)")
> >
> > substring(mystrings, regexpr("\\(|\\)", mystrings))
> >
> >
> > #this returns the whole string  if there are no brackets.
> > [1] "ABC"  "(B)C" "(C)"
> >
> >
> > # my desired desired output:
> > #    [1]  ""  "(B)" "(C)"
> >
> > many thanks for any suggestions
> > Nevil Amos
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From mcque@ten @end|ng |rom gm@||@com  Wed Jun 12 14:15:16 2019
From: mcque@ten @end|ng |rom gm@||@com (Paul McQuesten)
Date: Wed, 12 Jun 2019 07:15:16 -0500
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <23808.44282.850500.926937@hornik.net>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
 <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
 <23808.44282.850500.926937@hornik.net>
Message-ID: <CAN6Gc-3P6n_xz=61ry=Hcgfk7t3JS2RSidSL33R4e8yUxr8VPA@mail.gmail.com>

@ Gabriel:

"Avoid tilde in file names":
Not quite.
A tilde *suffix* is commonly used by *nix editors for backup files
https://unix.stackexchange.com/questions/76189/what-does-the-tilde-mean-at-the-end-of-a-filename

On Wed, Jun 12, 2019 at 2:43 AM Kurt Hornik <Kurt.Hornik at wu.ac.at> wrote:

> >>>>> Duncan Murdoch writes:
>
> With c76695 in the trunk, we now only tilde expand file names starting
> with a tilde also when using readline.
>
> Best
> -k
>
> > On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
> >> Note that R treats tildes in file names differently on Windows and
> Linux.
> >> On Windows, it is only replaced if it it at the beginning of the line
> and
> >> is followed by a forward or backward slash or end-of-line.  On Linux it
> is
> >> replaced no matter where it is in the text and ~someUser will be
> replaced
> >> by someUser's home directory (if 'someUser' is a user with a home
> >> directory).
>
> > That's not quite true:  On Linux the bug is in the code that uses
> > libreadline, which you don't have to use.  If you just specify
> > "--no-readline" when you start R, it will be fine on Linux, as far as I
> > can see.
>
> > I wouldn't choose that as the default way to run R (it's pretty
> > irritating not to have readline support), but it is a workaround for
> > this bug.
>
> > Duncan Murdoch
>
> >>
> >> Hence, if you have a Windows machine that can look at the file system on
> >> your Linux machine you can use file.rename on Windows to change the
> names.
> >> My inclination would be to use a bash script on Linux to change the
> names,
> >> but if you are not comfortable with bash try the Windows approach.
> >>
> >> Bill Dunlap
> >> TIBCO Software
> >> wdunlap tibco.com
> >>
> >>
> >> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net>
> wrote:
> >>
> >>> Hi Gabriel,
> >>>
> >>> I actually want to make renames over thousands of files. But if I am
> not
> >>> able to express the source filename of the rename operation I will not
> be
> >>> able to get the work done. Besides the fact that there are issues I
> think
> >>> that R is qualified for solving my problem by the method how it can
> handle
> >>> long vectors of strings, booleans and also lists.
> >>>
> >>> Kind regards,
> >>> Frank
> >>>
> >>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
> >>>> Hi Frank,
> >>>> I'm hesitant to be "that guy", but in case no one else has brought
> >>> this up
> >>>> to you, having files with a tilde in their names (generally but
> >>> especially
> >>>> on a linux system, where ~ in file names has a very important special
> >>>> meaning in some cases, as we know) strikes me as an exceptionally bad
> >>>> practice anyway. In light of that, the solution with the smallest
> >>> amount
> >>>> of pain for you is almost surely to just... not do that. Your
> >>> filenames
> >>>> will be better for it anyway.
> >>>> There is a reason no one has complained about this before, and while I
> >>>> haven't run a study or anything, I strongly suspect its that
> >>> "everyone"
> >>>> else is already on the "no tildes in filenames" bandwagon, so this
> >>>> behavior, even if technically a bug, has no ability to cause them
> >>>> problems.
> >>>> Best,
> >>>> ~G
> >>>> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net>
> >>>> wrote:
> >>>>
> >>>> Hi,
> >>>>
> >>>> yes, I have seen this package and it has the same tilde expanding
> >>>> problem.
> >>>>
> >>>> Please excuse me I will cc this answer to r-help and r-devel to
> >>> keep the
> >>>> discussion running.
> >>>>
> >>>> Kind regards,
> >>>> Frank Schwidom
> >>>>
> >>>> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> >>>> > Just in case, have you seen the fs package?
> >>>> > [2]https://fs.r-lib.org/
> >>>> >
> >>>> > Gabor
> >>>> >
> >>>> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
> >>> schwidom at gmx.net>
> >>>> wrote:
> >>>> > >
> >>>> > > Hi,
> >>>> > >
> >>>> > > to get rid of any possible filename modification I started a
> >>> little
> >>>> project to cover my usecase:
> >>>> > >
> >>>> > > [4]https://github.com/schwidom/simplefs
> >>>> > >
> >>>> > > This is my first R package, suggestions and a review are
> >>> welcome.
> >>>> > >
> >>>> > > Thanks in advance
> >>>> > > Frank Schwidom
> >>>> > >
> >>>> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> >>>> > > >    How can expanding tildes anywhere but the beginning of a
> >>> file
> >>>> name NOT be
> >>>> > > >    considered a bug?
> >>>> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
> >>>> <[1][5]krylov.r00t at gmail.com> wrote:
> >>>> > > >
> >>>> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
> >>>> > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
> >>>> > > >
> >>>> > > >      > +> path.expand("a ~ b")
> >>>> > > >      > [1] "a /home/user b"
> >>>> > > >
> >>>> > > >      > How can I switch off any file crippling activity?
> >>>> > > >
> >>>> > > >      It doesn't seem to be possible if readline is enabled and
> >>>> works
> >>>> > > >      correctly.
> >>>> > > >
> >>>> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
> >>> [3],
> >>>> which
> >>>> > > >      calls R_ExpandFileName_readline [4], which uses
> >>> libreadline
> >>>> function
> >>>> > > >      tilde_expand [5]. tilde_expand seems to be designed to
> >>> expand
> >>>> '~'
> >>>> > > >      anywhere in the string it is handed, i.e. operate on
> >>> whole
> >>>> command
> >>>> > > >      lines, not file paths.
> >>>> > > >
> >>>> > > >      I am taking the liberty of Cc-ing R-devel in case this
> >>> can be
> >>>> > > >      considered a bug.
> >>>> > > >
> >>>> > > >      --
> >>>> > > >      Best regards,
> >>>> > > >      Ivan
> >>>> > > >
> >>>> > > >      [1]
> >>>> > > >
> >>>> [3][7]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >>>> > > >
> >>>> > > >      [2]
> >>>> > > >
> >>>> [4][8]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >>>> > > >
> >>>> > > >      [3]
> >>>> > > >
> >>>> [5][9]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >>>> > > >
> >>>> > > >      [4]
> >>>> > > >
> >>>> [6][10]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >>>> > > >
> >>>> > > >      [5]
> >>>> > > >
> >>>> [7][11]
> >>>
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >>>> > > >
> >>>> > > >      ______________________________________________
> >>>> > > >      [8][12]R-help at r-project.org mailing list -- To
> >>> UNSUBSCRIBE
> >>>> and more, see
> >>>> > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> > > >      PLEASE do read the posting guide
> >>>> > > >      [10][14]http://www.R-project.org/posting-guide.html
> >>>> > > >      and provide commented, minimal, self-contained,
> >>> reproducible
> >>>> code.
> >>>> > > >
> >>>> > > > References
> >>>> > > >
> >>>> > > >    Visible links
> >>>> > > >    1. mailto:[15]krylov.r00t at gmail.com
> >>>> > > >    2. mailto:[16]schwidom at gmx.net
> >>>> > > >    3.
> >>>> [17]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >>>> > > >    4.
> >>>> [18]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >>>> > > >    5.
> >>>> [19]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >>>> > > >    6.
> >>>> [20]
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >>>> > > >    7.
> >>>> [21]
> >>>
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >>>> > > >    8. mailto:[22]R-help at r-project.org
> >>>> > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> > > >   10. [24]http://www.r-project.org/posting-guide.html
> >>>> > >
> >>>> > > ______________________________________________
> >>>> > > [25]R-devel at r-project.org mailing list
> >>>> > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>> >
> >>>>
> >>>> ______________________________________________
> >>>> [27]R-devel at r-project.org mailing list
> >>>> [28]https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>>
> >>>> References
> >>>>
> >>>> Visible links
> >>>> 1. mailto:schwidom at gmx.net
> >>>> 2. https://fs.r-lib.org/
> >>>> 3. mailto:schwidom at gmx.net
> >>>> 4. https://github.com/schwidom/simplefs
> >>>> 5. mailto:krylov.r00t at gmail.com
> >>>> 6. mailto:schwidom at gmx.net
> >>>> 7.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >>>> 8.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >>>> 9.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >>>> 10.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >>>> 11.
> >>>
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >>>> 12. mailto:R-help at r-project.org
> >>>> 13. https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> 14. http://www.r-project.org/posting-guide.html
> >>>> 15. mailto:krylov.r00t at gmail.com
> >>>> 16. mailto:schwidom at gmx.net
> >>>> 17.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> >>>> 18.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> >>>> 19.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> >>>> 20.
> >>>
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> >>>> 21.
> >>>
> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> >>>> 22. mailto:R-help at r-project.org
> >>>> 23. https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> 24. http://www.r-project.org/posting-guide.html
> >>>> 25. mailto:R-devel at r-project.org
> >>>> 26. https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>> 27. mailto:R-devel at r-project.org
> >>>> 28. https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>
> >>> ______________________________________________
> >>> R-devel at r-project.org mailing list
> >>> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>
> >>
> >> [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-devel at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>
>
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

	[[alternative HTML version deleted]]


From k@|@j@|@hteenm@k| @end|ng |rom gm@||@com  Wed Jun 12 16:36:13 2019
From: k@|@j@|@hteenm@k| @end|ng |rom gm@||@com (=?UTF-8?B?S2FpIEzDpGh0ZWVubcOka2k=?=)
Date: Wed, 12 Jun 2019 17:36:13 +0300
Subject: [R] work on R speed?
Message-ID: <CADsfhGCX2FersebjDRu0YaBJJ27JrgmOi5qcYnZYGKCZi27PVg@mail.gmail.com>

I tested Microsoft's linear algebra etc "racer", works well
Alsp simmer seems to be very quick.
How other developments in getting R quick?
reg Kai

	[[alternative HTML version deleted]]


From g@bembecker @end|ng |rom gm@||@com  Thu Jun 13 08:51:45 2019
From: g@bembecker @end|ng |rom gm@||@com (Gabriel Becker)
Date: Wed, 12 Jun 2019 23:51:45 -0700
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAN6Gc-3P6n_xz=61ry=Hcgfk7t3JS2RSidSL33R4e8yUxr8VPA@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
 <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
 <23808.44282.850500.926937@hornik.net>
 <CAN6Gc-3P6n_xz=61ry=Hcgfk7t3JS2RSidSL33R4e8yUxr8VPA@mail.gmail.com>
Message-ID: <CAD4oTHHF_VMYpKDTmoGYt_EfrsVNpUrRahnhKbe=Rih+Q4QEBQ@mail.gmail.com>

On Wed, Jun 12, 2019, 5:16 AM Paul McQuesten <mcquesten at gmail.com> wrote:

> @ Gabriel:
>
> "Avoid tilde in file names":
> Not quite.
> A tilde *suffix* is commonly used by *nix editors for backup files
>
> https://unix.stackexchange.com/questions/76189/what-does-the-tilde-mean-at-the-end-of-a-filename


I'm aware of that, but that isn't the case that is being discussed, as the
example given clearly had a tilde (and spaces) in the middle of the file.
Backup files witilde suffix does not trigger the bug being discussed. It's
*only* files paths where the tilde is surrounded on both by spaces (or on
the right by the end fo the string) that trigger it.

> path.expand("a~b")

[1] "a~b"

> path.expand("a ~ b")

[1] "a /Users/gabrielbecker b"

> path.expand("myfile.txt~")

[1] "myfile.txt~"

> path.expand("myfile.txt ~")

[1] "myfile.txt /Users/gabrielbecker"


All that said I'm really not interested in participating in a flame war
over this. I gave my 2 cents as respectfully as I could, so as of now
please consider my participation  and interest in this thread closed.

Best,
~G



>
>
>
> On Wed, Jun 12, 2019 at 2:43 AM Kurt Hornik <Kurt.Hornik at wu.ac.at> wrote:
>
> > >>>>> Duncan Murdoch writes:
> >
> > With c76695 in the trunk, we now only tilde expand file names starting
> > with a tilde also when using readline.
> >
> > Best
> > -k
> >
> > > On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
> > >> Note that R treats tildes in file names differently on Windows and
> > Linux.
> > >> On Windows, it is only replaced if it it at the beginning of the line
> > and
> > >> is followed by a forward or backward slash or end-of-line.  On Linux
> it
> > is
> > >> replaced no matter where it is in the text and ~someUser will be
> > replaced
> > >> by someUser's home directory (if 'someUser' is a user with a home
> > >> directory).
> >
> > > That's not quite true:  On Linux the bug is in the code that uses
> > > libreadline, which you don't have to use.  If you just specify
> > > "--no-readline" when you start R, it will be fine on Linux, as far as I
> > > can see.
> >
> > > I wouldn't choose that as the default way to run R (it's pretty
> > > irritating not to have readline support), but it is a workaround for
> > > this bug.
> >
> > > Duncan Murdoch
> >
> > >>
> > >> Hence, if you have a Windows machine that can look at the file system
> on
> > >> your Linux machine you can use file.rename on Windows to change the
> > names.
> > >> My inclination would be to use a bash script on Linux to change the
> > names,
> > >> but if you are not comfortable with bash try the Windows approach.
> > >>
> > >> Bill Dunlap
> > >> TIBCO Software
> > >> wdunlap tibco.com
> > >>
> > >>
> > >> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net>
> > wrote:
> > >>
> > >>> Hi Gabriel,
> > >>>
> > >>> I actually want to make renames over thousands of files. But if I am
> > not
> > >>> able to express the source filename of the rename operation I will
> not
> > be
> > >>> able to get the work done. Besides the fact that there are issues I
> > think
> > >>> that R is qualified for solving my problem by the method how it can
> > handle
> > >>> long vectors of strings, booleans and also lists.
> > >>>
> > >>> Kind regards,
> > >>> Frank
> > >>>
> > >>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
> > >>>> Hi Frank,
> > >>>> I'm hesitant to be "that guy", but in case no one else has brought
> > >>> this up
> > >>>> to you, having files with a tilde in their names (generally but
> > >>> especially
> > >>>> on a linux system, where ~ in file names has a very important
> special
> > >>>> meaning in some cases, as we know) strikes me as an exceptionally
> bad
> > >>>> practice anyway. In light of that, the solution with the smallest
> > >>> amount
> > >>>> of pain for you is almost surely to just... not do that. Your
> > >>> filenames
> > >>>> will be better for it anyway.
> > >>>> There is a reason no one has complained about this before, and
> while I
> > >>>> haven't run a study or anything, I strongly suspect its that
> > >>> "everyone"
> > >>>> else is already on the "no tildes in filenames" bandwagon, so this
> > >>>> behavior, even if technically a bug, has no ability to cause them
> > >>>> problems.
> > >>>> Best,
> > >>>> ~G
> > >>>> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]schwidom at gmx.net
> >
> > >>>> wrote:
> > >>>>
> > >>>> Hi,
> > >>>>
> > >>>> yes, I have seen this package and it has the same tilde expanding
> > >>>> problem.
> > >>>>
> > >>>> Please excuse me I will cc this answer to r-help and r-devel to
> > >>> keep the
> > >>>> discussion running.
> > >>>>
> > >>>> Kind regards,
> > >>>> Frank Schwidom
> > >>>>
> > >>>> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
> > >>>> > Just in case, have you seen the fs package?
> > >>>> > [2]https://fs.r-lib.org/
> > >>>> >
> > >>>> > Gabor
> > >>>> >
> > >>>> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
> > >>> schwidom at gmx.net>
> > >>>> wrote:
> > >>>> > >
> > >>>> > > Hi,
> > >>>> > >
> > >>>> > > to get rid of any possible filename modification I started a
> > >>> little
> > >>>> project to cover my usecase:
> > >>>> > >
> > >>>> > > [4]https://github.com/schwidom/simplefs
> > >>>> > >
> > >>>> > > This is my first R package, suggestions and a review are
> > >>> welcome.
> > >>>> > >
> > >>>> > > Thanks in advance
> > >>>> > > Frank Schwidom
> > >>>> > >
> > >>>> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
> > >>>> > > >    How can expanding tildes anywhere but the beginning of a
> > >>> file
> > >>>> name NOT be
> > >>>> > > >    considered a bug?
> > >>>> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
> > >>>> <[1][5]krylov.r00t at gmail.com> wrote:
> > >>>> > > >
> > >>>> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
> > >>>> > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
> > >>>> > > >
> > >>>> > > >      > +> path.expand("a ~ b")
> > >>>> > > >      > [1] "a /home/user b"
> > >>>> > > >
> > >>>> > > >      > How can I switch off any file crippling activity?
> > >>>> > > >
> > >>>> > > >      It doesn't seem to be possible if readline is enabled and
> > >>>> works
> > >>>> > > >      correctly.
> > >>>> > > >
> > >>>> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
> > >>> [3],
> > >>>> which
> > >>>> > > >      calls R_ExpandFileName_readline [4], which uses
> > >>> libreadline
> > >>>> function
> > >>>> > > >      tilde_expand [5]. tilde_expand seems to be designed to
> > >>> expand
> > >>>> '~'
> > >>>> > > >      anywhere in the string it is handed, i.e. operate on
> > >>> whole
> > >>>> command
> > >>>> > > >      lines, not file paths.
> > >>>> > > >
> > >>>> > > >      I am taking the liberty of Cc-ing R-devel in case this
> > >>> can be
> > >>>> > > >      considered a bug.
> > >>>> > > >
> > >>>> > > >      --
> > >>>> > > >      Best regards,
> > >>>> > > >      Ivan
> > >>>> > > >
> > >>>> > > >      [1]
> > >>>> > > >
> > >>>> [3][7]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >>>> > > >
> > >>>> > > >      [2]
> > >>>> > > >
> > >>>> [4][8]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >>>> > > >
> > >>>> > > >      [3]
> > >>>> > > >
> > >>>> [5][9]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >>>> > > >
> > >>>> > > >      [4]
> > >>>> > > >
> > >>>> [6][10]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >>>> > > >
> > >>>> > > >      [5]
> > >>>> > > >
> > >>>> [7][11]
> > >>>
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >>>> > > >
> > >>>> > > >      ______________________________________________
> > >>>> > > >      [8][12]R-help at r-project.org mailing list -- To
> > >>> UNSUBSCRIBE
> > >>>> and more, see
> > >>>> > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>> > > >      PLEASE do read the posting guide
> > >>>> > > >      [10][14]http://www.R-project.org/posting-guide.html
> > >>>> > > >      and provide commented, minimal, self-contained,
> > >>> reproducible
> > >>>> code.
> > >>>> > > >
> > >>>> > > > References
> > >>>> > > >
> > >>>> > > >    Visible links
> > >>>> > > >    1. mailto:[15]krylov.r00t at gmail.com
> > >>>> > > >    2. mailto:[16]schwidom at gmx.net
> > >>>> > > >    3.
> > >>>> [17]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >>>> > > >    4.
> > >>>> [18]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >>>> > > >    5.
> > >>>> [19]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >>>> > > >    6.
> > >>>> [20]
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >>>> > > >    7.
> > >>>> [21]
> > >>>
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >>>> > > >    8. mailto:[22]R-help at r-project.org
> > >>>> > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>> > > >   10. [24]http://www.r-project.org/posting-guide.html
> > >>>> > >
> > >>>> > > ______________________________________________
> > >>>> > > [25]R-devel at r-project.org mailing list
> > >>>> > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>>> >
> > >>>>
> > >>>> ______________________________________________
> > >>>> [27]R-devel at r-project.org mailing list
> > >>>> [28]https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>>>
> > >>>> References
> > >>>>
> > >>>> Visible links
> > >>>> 1. mailto:schwidom at gmx.net
> > >>>> 2. https://fs.r-lib.org/
> > >>>> 3. mailto:schwidom at gmx.net
> > >>>> 4. https://github.com/schwidom/simplefs
> > >>>> 5. mailto:krylov.r00t at gmail.com
> > >>>> 6. mailto:schwidom at gmx.net
> > >>>> 7.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >>>> 8.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >>>> 9.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >>>> 10.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >>>> 11.
> > >>>
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >>>> 12. mailto:R-help at r-project.org
> > >>>> 13. https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>> 14. http://www.r-project.org/posting-guide.html
> > >>>> 15. mailto:krylov.r00t at gmail.com
> > >>>> 16. mailto:schwidom at gmx.net
> > >>>> 17.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
> > >>>> 18.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
> > >>>> 19.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
> > >>>> 20.
> > >>>
> >
> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
> > >>>> 21.
> > >>>
> > https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
> > >>>> 22. mailto:R-help at r-project.org
> > >>>> 23. https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>> 24. http://www.r-project.org/posting-guide.html
> > >>>> 25. mailto:R-devel at r-project.org
> > >>>> 26. https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>>> 27. mailto:R-devel at r-project.org
> > >>>> 28. https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>>
> > >>> ______________________________________________
> > >>> R-devel at r-project.org mailing list
> > >>> https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>>
> > >>
> > >> [[alternative HTML version deleted]]
> > >>
> > >> ______________________________________________
> > >> R-devel at r-project.org mailing list
> > >> https://stat.ethz.ch/mailman/listinfo/r-devel
> > >>
> >
> > > ______________________________________________
> > > R-devel at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

	[[alternative HTML version deleted]]


From yuj|@n| @end|ng |rom um|ch@edu  Wed Jun 12 19:34:16 2019
From: yuj|@n| @end|ng |rom um|ch@edu (Yujian Liu)
Date: Wed, 12 Jun 2019 13:34:16 -0400
Subject: [R] bnlearn cpquery NA problem
Message-ID: <CAN4+i+fmo+Sq6YgH9+8xw+VtJf+_KNqRVcrAWouym+VsKqfNRQ@mail.gmail.com>

Hi all,

I'm using bnlearn to build a Bayesian Network with 167 nodes. I have got
the fitted network, but when I try to do inference using cpquery (or
cpdist), I got this error message:

Error in logical(n) : vector size cannot be NA/NaNIn addition: Warning
message:In check.cpq.args(fitted = fitted, event = NULL, extra.args =
list(...),  :  NaNs produced


I got the bn.fit object by calling bn.fit using "bayes" method, and I
also tried "mle" method with replace.unidentifiable setting to TRUE.
But both of them gave me the above error when doing inference.


Does anyone have any recommended solution to fix this?


Many thanks,

Yujian

	[[alternative HTML version deleted]]


From g@bembecker @end|ng |rom gm@||@com  Thu Jun 13 09:12:56 2019
From: g@bembecker @end|ng |rom gm@||@com (Gabriel Becker)
Date: Thu, 13 Jun 2019 00:12:56 -0700
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAD4oTHHF_VMYpKDTmoGYt_EfrsVNpUrRahnhKbe=Rih+Q4QEBQ@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
 <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
 <23808.44282.850500.926937@hornik.net>
 <CAN6Gc-3P6n_xz=61ry=Hcgfk7t3JS2RSidSL33R4e8yUxr8VPA@mail.gmail.com>
 <CAD4oTHHF_VMYpKDTmoGYt_EfrsVNpUrRahnhKbe=Rih+Q4QEBQ@mail.gmail.com>
Message-ID: <CAD4oTHENxXDP6jNpLju+5BwziqHU8bVkXecYbKytOSg15jejMA@mail.gmail.com>

At the risk of looking silly, note that all of this is now largely moot
anyway (or will be with the next release of R), thanks to Kurt Hornik's
fixing of the bug in question (which he announced on this thread prior to
but I read after Paul's).

~G

On Wed, Jun 12, 2019 at 11:51 PM Gabriel Becker <gabembecker at gmail.com>
wrote:

>
>
> On Wed, Jun 12, 2019, 5:16 AM Paul McQuesten <mcquesten at gmail.com> wrote:
>
>> @ Gabriel:
>>
>> "Avoid tilde in file names":
>> Not quite.
>> A tilde *suffix* is commonly used by *nix editors for backup files
>>
>> https://unix.stackexchange.com/questions/76189/what-does-the-tilde-mean-at-the-end-of-a-filename
>
>
> I'm aware of that, but that isn't the case that is being discussed, as the
> example given clearly had a tilde (and spaces) in the middle of the file.
> Backup files witilde suffix does not trigger the bug being discussed. It's
> *only* files paths where the tilde is surrounded on both by spaces (or on
> the right by the end fo the string) that trigger it.
>
> > path.expand("a~b")
>
> [1] "a~b"
>
> > path.expand("a ~ b")
>
> [1] "a /Users/gabrielbecker b"
>
> > path.expand("myfile.txt~")
>
> [1] "myfile.txt~"
>
> > path.expand("myfile.txt ~")
>
> [1] "myfile.txt /Users/gabrielbecker"
>
>
> All that said I'm really not interested in participating in a flame war
> over this. I gave my 2 cents as respectfully as I could, so as of now
> please consider my participation  and interest in this thread closed.
>
> Best,
> ~G
>
>
>
>>
>>
>>
>> On Wed, Jun 12, 2019 at 2:43 AM Kurt Hornik <Kurt.Hornik at wu.ac.at> wrote:
>>
>> > >>>>> Duncan Murdoch writes:
>> >
>> > With c76695 in the trunk, we now only tilde expand file names starting
>> > with a tilde also when using readline.
>> >
>> > Best
>> > -k
>> >
>> > > On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
>> > >> Note that R treats tildes in file names differently on Windows and
>> > Linux.
>> > >> On Windows, it is only replaced if it it at the beginning of the line
>> > and
>> > >> is followed by a forward or backward slash or end-of-line.  On Linux
>> it
>> > is
>> > >> replaced no matter where it is in the text and ~someUser will be
>> > replaced
>> > >> by someUser's home directory (if 'someUser' is a user with a home
>> > >> directory).
>> >
>> > > That's not quite true:  On Linux the bug is in the code that uses
>> > > libreadline, which you don't have to use.  If you just specify
>> > > "--no-readline" when you start R, it will be fine on Linux, as far as
>> I
>> > > can see.
>> >
>> > > I wouldn't choose that as the default way to run R (it's pretty
>> > > irritating not to have readline support), but it is a workaround for
>> > > this bug.
>> >
>> > > Duncan Murdoch
>> >
>> > >>
>> > >> Hence, if you have a Windows machine that can look at the file
>> system on
>> > >> your Linux machine you can use file.rename on Windows to change the
>> > names.
>> > >> My inclination would be to use a bash script on Linux to change the
>> > names,
>> > >> but if you are not comfortable with bash try the Windows approach.
>> > >>
>> > >> Bill Dunlap
>> > >> TIBCO Software
>> > >> wdunlap tibco.com
>> > >>
>> > >>
>> > >> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net>
>> > wrote:
>> > >>
>> > >>> Hi Gabriel,
>> > >>>
>> > >>> I actually want to make renames over thousands of files. But if I am
>> > not
>> > >>> able to express the source filename of the rename operation I will
>> not
>> > be
>> > >>> able to get the work done. Besides the fact that there are issues I
>> > think
>> > >>> that R is qualified for solving my problem by the method how it can
>> > handle
>> > >>> long vectors of strings, booleans and also lists.
>> > >>>
>> > >>> Kind regards,
>> > >>> Frank
>> > >>>
>> > >>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
>> > >>>> Hi Frank,
>> > >>>> I'm hesitant to be "that guy", but in case no one else has brought
>> > >>> this up
>> > >>>> to you, having files with a tilde in their names (generally but
>> > >>> especially
>> > >>>> on a linux system, where ~ in file names has a very important
>> special
>> > >>>> meaning in some cases, as we know) strikes me as an exceptionally
>> bad
>> > >>>> practice anyway. In light of that, the solution with the smallest
>> > >>> amount
>> > >>>> of pain for you is almost surely to just... not do that. Your
>> > >>> filenames
>> > >>>> will be better for it anyway.
>> > >>>> There is a reason no one has complained about this before, and
>> while I
>> > >>>> haven't run a study or anything, I strongly suspect its that
>> > >>> "everyone"
>> > >>>> else is already on the "no tildes in filenames" bandwagon, so this
>> > >>>> behavior, even if technically a bug, has no ability to cause them
>> > >>>> problems.
>> > >>>> Best,
>> > >>>> ~G
>> > >>>> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]
>> schwidom at gmx.net>
>> > >>>> wrote:
>> > >>>>
>> > >>>> Hi,
>> > >>>>
>> > >>>> yes, I have seen this package and it has the same tilde expanding
>> > >>>> problem.
>> > >>>>
>> > >>>> Please excuse me I will cc this answer to r-help and r-devel to
>> > >>> keep the
>> > >>>> discussion running.
>> > >>>>
>> > >>>> Kind regards,
>> > >>>> Frank Schwidom
>> > >>>>
>> > >>>> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
>> > >>>> > Just in case, have you seen the fs package?
>> > >>>> > [2]https://fs.r-lib.org/
>> > >>>> >
>> > >>>> > Gabor
>> > >>>> >
>> > >>>> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
>> > >>> schwidom at gmx.net>
>> > >>>> wrote:
>> > >>>> > >
>> > >>>> > > Hi,
>> > >>>> > >
>> > >>>> > > to get rid of any possible filename modification I started a
>> > >>> little
>> > >>>> project to cover my usecase:
>> > >>>> > >
>> > >>>> > > [4]https://github.com/schwidom/simplefs
>> > >>>> > >
>> > >>>> > > This is my first R package, suggestions and a review are
>> > >>> welcome.
>> > >>>> > >
>> > >>>> > > Thanks in advance
>> > >>>> > > Frank Schwidom
>> > >>>> > >
>> > >>>> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>> > >>>> > > >    How can expanding tildes anywhere but the beginning of a
>> > >>> file
>> > >>>> name NOT be
>> > >>>> > > >    considered a bug?
>> > >>>> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
>> > >>>> <[1][5]krylov.r00t at gmail.com> wrote:
>> > >>>> > > >
>> > >>>> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
>> > >>>> > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
>> > >>>> > > >
>> > >>>> > > >      > +> path.expand("a ~ b")
>> > >>>> > > >      > [1] "a /home/user b"
>> > >>>> > > >
>> > >>>> > > >      > How can I switch off any file crippling activity?
>> > >>>> > > >
>> > >>>> > > >      It doesn't seem to be possible if readline is enabled
>> and
>> > >>>> works
>> > >>>> > > >      correctly.
>> > >>>> > > >
>> > >>>> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
>> > >>> [3],
>> > >>>> which
>> > >>>> > > >      calls R_ExpandFileName_readline [4], which uses
>> > >>> libreadline
>> > >>>> function
>> > >>>> > > >      tilde_expand [5]. tilde_expand seems to be designed to
>> > >>> expand
>> > >>>> '~'
>> > >>>> > > >      anywhere in the string it is handed, i.e. operate on
>> > >>> whole
>> > >>>> command
>> > >>>> > > >      lines, not file paths.
>> > >>>> > > >
>> > >>>> > > >      I am taking the liberty of Cc-ing R-devel in case this
>> > >>> can be
>> > >>>> > > >      considered a bug.
>> > >>>> > > >
>> > >>>> > > >      --
>> > >>>> > > >      Best regards,
>> > >>>> > > >      Ivan
>> > >>>> > > >
>> > >>>> > > >      [1]
>> > >>>> > > >
>> > >>>> [3][7]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>> > >>>> > > >
>> > >>>> > > >      [2]
>> > >>>> > > >
>> > >>>> [4][8]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>> > >>>> > > >
>> > >>>> > > >      [3]
>> > >>>> > > >
>> > >>>> [5][9]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>> > >>>> > > >
>> > >>>> > > >      [4]
>> > >>>> > > >
>> > >>>> [6][10]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>> > >>>> > > >
>> > >>>> > > >      [5]
>> > >>>> > > >
>> > >>>> [7][11]
>> > >>>
>> >
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>> > >>>> > > >
>> > >>>> > > >      ______________________________________________
>> > >>>> > > >      [8][12]R-help at r-project.org mailing list -- To
>> > >>> UNSUBSCRIBE
>> > >>>> and more, see
>> > >>>> > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
>> > >>>> > > >      PLEASE do read the posting guide
>> > >>>> > > >      [10][14]http://www.R-project.org/posting-guide.html
>> > >>>> > > >      and provide commented, minimal, self-contained,
>> > >>> reproducible
>> > >>>> code.
>> > >>>> > > >
>> > >>>> > > > References
>> > >>>> > > >
>> > >>>> > > >    Visible links
>> > >>>> > > >    1. mailto:[15]krylov.r00t at gmail.com
>> > >>>> > > >    2. mailto:[16]schwidom at gmx.net
>> > >>>> > > >    3.
>> > >>>> [17]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>> > >>>> > > >    4.
>> > >>>> [18]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>> > >>>> > > >    5.
>> > >>>> [19]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>> > >>>> > > >    6.
>> > >>>> [20]
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>> > >>>> > > >    7.
>> > >>>> [21]
>> > >>>
>> >
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>> > >>>> > > >    8. mailto:[22]R-help at r-project.org
>> > >>>> > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
>> > >>>> > > >   10. [24]http://www.r-project.org/posting-guide.html
>> > >>>> > >
>> > >>>> > > ______________________________________________
>> > >>>> > > [25]R-devel at r-project.org mailing list
>> > >>>> > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>>> >
>> > >>>>
>> > >>>> ______________________________________________
>> > >>>> [27]R-devel at r-project.org mailing list
>> > >>>> [28]https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>>>
>> > >>>> References
>> > >>>>
>> > >>>> Visible links
>> > >>>> 1. mailto:schwidom at gmx.net
>> > >>>> 2. https://fs.r-lib.org/
>> > >>>> 3. mailto:schwidom at gmx.net
>> > >>>> 4. https://github.com/schwidom/simplefs
>> > >>>> 5. mailto:krylov.r00t at gmail.com
>> > >>>> 6. mailto:schwidom at gmx.net
>> > >>>> 7.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>> > >>>> 8.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>> > >>>> 9.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>> > >>>> 10.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>> > >>>> 11.
>> > >>>
>> >
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>> > >>>> 12. mailto:R-help at r-project.org
>> > >>>> 13. https://stat.ethz.ch/mailman/listinfo/r-help
>> > >>>> 14. http://www.r-project.org/posting-guide.html
>> > >>>> 15. mailto:krylov.r00t at gmail.com
>> > >>>> 16. mailto:schwidom at gmx.net
>> > >>>> 17.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>> > >>>> 18.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>> > >>>> 19.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>> > >>>> 20.
>> > >>>
>> >
>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>> > >>>> 21.
>> > >>>
>> >
>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>> > >>>> 22. mailto:R-help at r-project.org
>> > >>>> 23. https://stat.ethz.ch/mailman/listinfo/r-help
>> > >>>> 24. http://www.r-project.org/posting-guide.html
>> > >>>> 25. mailto:R-devel at r-project.org
>> > >>>> 26. https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>>> 27. mailto:R-devel at r-project.org
>> > >>>> 28. https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>>
>> > >>> ______________________________________________
>> > >>> R-devel at r-project.org mailing list
>> > >>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>>
>> > >>
>> > >> [[alternative HTML version deleted]]
>> > >>
>> > >> ______________________________________________
>> > >> R-devel at r-project.org mailing list
>> > >> https://stat.ethz.ch/mailman/listinfo/r-devel
>> > >>
>> >
>> > > ______________________________________________
>> > > R-devel at r-project.org mailing list
>> > > https://stat.ethz.ch/mailman/listinfo/r-devel
>> >
>> > ______________________________________________
>> > R-devel at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-devel
>> >
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>

	[[alternative HTML version deleted]]


From morg@n@em@||box @end|ng |rom gm@||@com  Wed Jun 12 16:00:08 2019
From: morg@n@em@||box @end|ng |rom gm@||@com (Morgan Morgan)
Date: Wed, 12 Jun 2019 15:00:08 +0100
Subject: [R] R C API Resize matrix
Message-ID: <CAL0QV_PwCJ5s8RZTE=avJmLsc1nDzOxx6icT4--FUTwV0vRSpQ@mail.gmail.com>

Hi,

Is there a way to resize a matrix defined as follows:

SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
int *pa  = INTEGER(a)

To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
pointer *pb and do a "for" loop to transfer the value of a to b?

Thank you
Best regards
Morgan

	[[alternative HTML version deleted]]


From mcque@ten @end|ng |rom gm@||@com  Thu Jun 13 14:13:43 2019
From: mcque@ten @end|ng |rom gm@||@com (Paul McQuesten)
Date: Thu, 13 Jun 2019 07:13:43 -0500
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <CAD4oTHENxXDP6jNpLju+5BwziqHU8bVkXecYbKytOSg15jejMA@mail.gmail.com>
References: <20190605160714.GA24635@debian64>
 <20190606135957.0be4db10@trisector>
 <CABcYAdLgLrBwNW4A4EgYx0RwD9zjCo4Mpe7S05SeohoNmMQSGg@mail.gmail.com>
 <20190610165155.GA29855@debian64>
 <CABtg=Km4i9dsPoqC0sK=G9LvxbMd4FcHJ436usHkd+i7FPrR5Q@mail.gmail.com>
 <20190611100938.GA3588@debian64>
 <CAD4oTHEqKpgxrV406fzqO2CYz2y7ccAsFBaU3TFt5ShVop1uXQ@mail.gmail.com>
 <20190611201823.GA6068@debian64>
 <CAF8bMcYehy+Etkh5Xwzd6gG5bON1CFW9cKF9Mdo-oN4dprYq_A@mail.gmail.com>
 <3dda0b39-4708-c220-530c-d5e07eb4168a@gmail.com>
 <23808.44282.850500.926937@hornik.net>
 <CAN6Gc-3P6n_xz=61ry=Hcgfk7t3JS2RSidSL33R4e8yUxr8VPA@mail.gmail.com>
 <CAD4oTHHF_VMYpKDTmoGYt_EfrsVNpUrRahnhKbe=Rih+Q4QEBQ@mail.gmail.com>
 <CAD4oTHENxXDP6jNpLju+5BwziqHU8bVkXecYbKytOSg15jejMA@mail.gmail.com>
Message-ID: <CAN6Gc-3T7aXsNTqrZ9RAobZpfaeqxVS7KKFi8TcKxUeMCCiUEA@mail.gmail.com>

Gabriel,

I apologize. I did not mean to flame, merely to point out a typical usage
of tilde that might have escaped the discussion.
As you say, Kurt's fix makes this all moot.
I also apologize for wasting everyone's time with my spam.

On Thu, Jun 13, 2019 at 2:13 AM Gabriel Becker <gabembecker at gmail.com>
wrote:

> At the risk of looking silly, note that all of this is now largely moot
> anyway (or will be with the next release of R), thanks to Kurt Hornik's
> fixing of the bug in question (which he announced on this thread prior to
> but I read after Paul's).
>
> ~G
>
> On Wed, Jun 12, 2019 at 11:51 PM Gabriel Becker <gabembecker at gmail.com>
> wrote:
>
>>
>>
>> On Wed, Jun 12, 2019, 5:16 AM Paul McQuesten <mcquesten at gmail.com> wrote:
>>
>>> @ Gabriel:
>>>
>>> "Avoid tilde in file names":
>>> Not quite.
>>> A tilde *suffix* is commonly used by *nix editors for backup files
>>>
>>> https://unix.stackexchange.com/questions/76189/what-does-the-tilde-mean-at-the-end-of-a-filename
>>
>>
>> I'm aware of that, but that isn't the case that is being discussed, as
>> the example given clearly had a tilde (and spaces) in the middle of the
>> file. Backup files witilde suffix does not trigger the bug being discussed.
>> It's *only* files paths where the tilde is surrounded on both by spaces
>> (or on the right by the end fo the string) that trigger it.
>>
>> > path.expand("a~b")
>>
>> [1] "a~b"
>>
>> > path.expand("a ~ b")
>>
>> [1] "a /Users/gabrielbecker b"
>>
>> > path.expand("myfile.txt~")
>>
>> [1] "myfile.txt~"
>>
>> > path.expand("myfile.txt ~")
>>
>> [1] "myfile.txt /Users/gabrielbecker"
>>
>>
>> All that said I'm really not interested in participating in a flame war
>> over this. I gave my 2 cents as respectfully as I could, so as of now
>> please consider my participation  and interest in this thread closed.
>>
>> Best,
>> ~G
>>
>>
>>
>>>
>>>
>>>
>>> On Wed, Jun 12, 2019 at 2:43 AM Kurt Hornik <Kurt.Hornik at wu.ac.at>
>>> wrote:
>>>
>>> > >>>>> Duncan Murdoch writes:
>>> >
>>> > With c76695 in the trunk, we now only tilde expand file names starting
>>> > with a tilde also when using readline.
>>> >
>>> > Best
>>> > -k
>>> >
>>> > > On 11/06/2019 4:34 p.m., William Dunlap via R-devel wrote:
>>> > >> Note that R treats tildes in file names differently on Windows and
>>> > Linux.
>>> > >> On Windows, it is only replaced if it it at the beginning of the
>>> line
>>> > and
>>> > >> is followed by a forward or backward slash or end-of-line.  On
>>> Linux it
>>> > is
>>> > >> replaced no matter where it is in the text and ~someUser will be
>>> > replaced
>>> > >> by someUser's home directory (if 'someUser' is a user with a home
>>> > >> directory).
>>> >
>>> > > That's not quite true:  On Linux the bug is in the code that uses
>>> > > libreadline, which you don't have to use.  If you just specify
>>> > > "--no-readline" when you start R, it will be fine on Linux, as far
>>> as I
>>> > > can see.
>>> >
>>> > > I wouldn't choose that as the default way to run R (it's pretty
>>> > > irritating not to have readline support), but it is a workaround for
>>> > > this bug.
>>> >
>>> > > Duncan Murdoch
>>> >
>>> > >>
>>> > >> Hence, if you have a Windows machine that can look at the file
>>> system on
>>> > >> your Linux machine you can use file.rename on Windows to change the
>>> > names.
>>> > >> My inclination would be to use a bash script on Linux to change the
>>> > names,
>>> > >> but if you are not comfortable with bash try the Windows approach.
>>> > >>
>>> > >> Bill Dunlap
>>> > >> TIBCO Software
>>> > >> wdunlap tibco.com
>>> > >>
>>> > >>
>>> > >> On Tue, Jun 11, 2019 at 1:13 PM Frank Schwidom <schwidom at gmx.net>
>>> > wrote:
>>> > >>
>>> > >>> Hi Gabriel,
>>> > >>>
>>> > >>> I actually want to make renames over thousands of files. But if I
>>> am
>>> > not
>>> > >>> able to express the source filename of the rename operation I will
>>> not
>>> > be
>>> > >>> able to get the work done. Besides the fact that there are issues I
>>> > think
>>> > >>> that R is qualified for solving my problem by the method how it can
>>> > handle
>>> > >>> long vectors of strings, booleans and also lists.
>>> > >>>
>>> > >>> Kind regards,
>>> > >>> Frank
>>> > >>>
>>> > >>> On 2019-06-11 09:49:17, Gabriel Becker wrote:
>>> > >>>> Hi Frank,
>>> > >>>> I'm hesitant to be "that guy", but in case no one else has brought
>>> > >>> this up
>>> > >>>> to you, having files with a tilde in their names (generally but
>>> > >>> especially
>>> > >>>> on a linux system, where ~ in file names has a very important
>>> special
>>> > >>>> meaning in some cases, as we know) strikes me as an exceptionally
>>> bad
>>> > >>>> practice anyway. In light of that, the solution with the smallest
>>> > >>> amount
>>> > >>>> of pain for you is almost surely to just... not do that. Your
>>> > >>> filenames
>>> > >>>> will be better for it anyway.
>>> > >>>> There is a reason no one has complained about this before, and
>>> while I
>>> > >>>> haven't run a study or anything, I strongly suspect its that
>>> > >>> "everyone"
>>> > >>>> else is already on the "no tildes in filenames" bandwagon, so this
>>> > >>>> behavior, even if technically a bug, has no ability to cause them
>>> > >>>> problems.
>>> > >>>> Best,
>>> > >>>> ~G
>>> > >>>> On Tue, Jun 11, 2019 at 8:25 AM Frank Schwidom <[1]
>>> schwidom at gmx.net>
>>> > >>>> wrote:
>>> > >>>>
>>> > >>>> Hi,
>>> > >>>>
>>> > >>>> yes, I have seen this package and it has the same tilde expanding
>>> > >>>> problem.
>>> > >>>>
>>> > >>>> Please excuse me I will cc this answer to r-help and r-devel to
>>> > >>> keep the
>>> > >>>> discussion running.
>>> > >>>>
>>> > >>>> Kind regards,
>>> > >>>> Frank Schwidom
>>> > >>>>
>>> > >>>> On 2019-06-11 09:12:36, G?bor Cs?rdi wrote:
>>> > >>>> > Just in case, have you seen the fs package?
>>> > >>>> > [2]https://fs.r-lib.org/
>>> > >>>> >
>>> > >>>> > Gabor
>>> > >>>> >
>>> > >>>> > On Tue, Jun 11, 2019 at 7:51 AM Frank Schwidom <[3]
>>> > >>> schwidom at gmx.net>
>>> > >>>> wrote:
>>> > >>>> > >
>>> > >>>> > > Hi,
>>> > >>>> > >
>>> > >>>> > > to get rid of any possible filename modification I started a
>>> > >>> little
>>> > >>>> project to cover my usecase:
>>> > >>>> > >
>>> > >>>> > > [4]https://github.com/schwidom/simplefs
>>> > >>>> > >
>>> > >>>> > > This is my first R package, suggestions and a review are
>>> > >>> welcome.
>>> > >>>> > >
>>> > >>>> > > Thanks in advance
>>> > >>>> > > Frank Schwidom
>>> > >>>> > >
>>> > >>>> > > On 2019-06-07 09:04:06, Richard O'Keefe wrote:
>>> > >>>> > > >    How can expanding tildes anywhere but the beginning of a
>>> > >>> file
>>> > >>>> name NOT be
>>> > >>>> > > >    considered a bug?
>>> > >>>> > > >    On Thu, 6 Jun 2019 at 23:04, Ivan Krylov
>>> > >>>> <[1][5]krylov.r00t at gmail.com> wrote:
>>> > >>>> > > >
>>> > >>>> > > >      On Wed, 5 Jun 2019 18:07:15 +0200
>>> > >>>> > > >      Frank Schwidom <[2][6]schwidom at gmx.net> wrote:
>>> > >>>> > > >
>>> > >>>> > > >      > +> path.expand("a ~ b")
>>> > >>>> > > >      > [1] "a /home/user b"
>>> > >>>> > > >
>>> > >>>> > > >      > How can I switch off any file crippling activity?
>>> > >>>> > > >
>>> > >>>> > > >      It doesn't seem to be possible if readline is enabled
>>> and
>>> > >>>> works
>>> > >>>> > > >      correctly.
>>> > >>>> > > >
>>> > >>>> > > >      Calls to path.expand [1] end up [2] in R_ExpandFileName
>>> > >>> [3],
>>> > >>>> which
>>> > >>>> > > >      calls R_ExpandFileName_readline [4], which uses
>>> > >>> libreadline
>>> > >>>> function
>>> > >>>> > > >      tilde_expand [5]. tilde_expand seems to be designed to
>>> > >>> expand
>>> > >>>> '~'
>>> > >>>> > > >      anywhere in the string it is handed, i.e. operate on
>>> > >>> whole
>>> > >>>> command
>>> > >>>> > > >      lines, not file paths.
>>> > >>>> > > >
>>> > >>>> > > >      I am taking the liberty of Cc-ing R-devel in case this
>>> > >>> can be
>>> > >>>> > > >      considered a bug.
>>> > >>>> > > >
>>> > >>>> > > >      --
>>> > >>>> > > >      Best regards,
>>> > >>>> > > >      Ivan
>>> > >>>> > > >
>>> > >>>> > > >      [1]
>>> > >>>> > > >
>>> > >>>> [3][7]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>> > >>>> > > >
>>> > >>>> > > >      [2]
>>> > >>>> > > >
>>> > >>>> [4][8]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>> > >>>> > > >
>>> > >>>> > > >      [3]
>>> > >>>> > > >
>>> > >>>> [5][9]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>> > >>>> > > >
>>> > >>>> > > >      [4]
>>> > >>>> > > >
>>> > >>>> [6][10]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>> > >>>> > > >
>>> > >>>> > > >      [5]
>>> > >>>> > > >
>>> > >>>> [7][11]
>>> > >>>
>>> >
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>> > >>>> > > >
>>> > >>>> > > >      ______________________________________________
>>> > >>>> > > >      [8][12]R-help at r-project.org mailing list -- To
>>> > >>> UNSUBSCRIBE
>>> > >>>> and more, see
>>> > >>>> > > >      [9][13]https://stat.ethz.ch/mailman/listinfo/r-help
>>> > >>>> > > >      PLEASE do read the posting guide
>>> > >>>> > > >      [10][14]http://www.R-project.org/posting-guide.html
>>> > >>>> > > >      and provide commented, minimal, self-contained,
>>> > >>> reproducible
>>> > >>>> code.
>>> > >>>> > > >
>>> > >>>> > > > References
>>> > >>>> > > >
>>> > >>>> > > >    Visible links
>>> > >>>> > > >    1. mailto:[15]krylov.r00t at gmail.com
>>> > >>>> > > >    2. mailto:[16]schwidom at gmx.net
>>> > >>>> > > >    3.
>>> > >>>> [17]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>> > >>>> > > >    4.
>>> > >>>> [18]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>> > >>>> > > >    5.
>>> > >>>> [19]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>> > >>>> > > >    6.
>>> > >>>> [20]
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>> > >>>> > > >    7.
>>> > >>>> [21]
>>> > >>>
>>> >
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>> > >>>> > > >    8. mailto:[22]R-help at r-project.org
>>> > >>>> > > >    9. [23]https://stat.ethz.ch/mailman/listinfo/r-help
>>> > >>>> > > >   10. [24]http://www.r-project.org/posting-guide.html
>>> > >>>> > >
>>> > >>>> > > ______________________________________________
>>> > >>>> > > [25]R-devel at r-project.org mailing list
>>> > >>>> > > [26]https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>>> >
>>> > >>>>
>>> > >>>> ______________________________________________
>>> > >>>> [27]R-devel at r-project.org mailing list
>>> > >>>> [28]https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>>>
>>> > >>>> References
>>> > >>>>
>>> > >>>> Visible links
>>> > >>>> 1. mailto:schwidom at gmx.net
>>> > >>>> 2. https://fs.r-lib.org/
>>> > >>>> 3. mailto:schwidom at gmx.net
>>> > >>>> 4. https://github.com/schwidom/simplefs
>>> > >>>> 5. mailto:krylov.r00t at gmail.com
>>> > >>>> 6. mailto:schwidom at gmx.net
>>> > >>>> 7.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>> > >>>> 8.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>> > >>>> 9.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>> > >>>> 10.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>> > >>>> 11.
>>> > >>>
>>> >
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>> > >>>> 12. mailto:R-help at r-project.org
>>> > >>>> 13. https://stat.ethz.ch/mailman/listinfo/r-help
>>> > >>>> 14. http://www.r-project.org/posting-guide.html
>>> > >>>> 15. mailto:krylov.r00t at gmail.com
>>> > >>>> 16. mailto:schwidom at gmx.net
>>> > >>>> 17.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/names.c#L807
>>> > >>>> 18.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/main/platform.c#L1915
>>> > >>>> 19.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-unix.c#L147
>>> > >>>> 20.
>>> > >>>
>>> >
>>> https://github.com/wch/r-source/blob/12d1d2d232d84aa355e333348b81180a0e2c6f2f/src/unix/sys-std.c#L494
>>> > >>>> 21.
>>> > >>>
>>> >
>>> https://git.savannah.gnu.org/cgit/readline.git/tree/tilde.c?h=devel#n187
>>> > >>>> 22. mailto:R-help at r-project.org
>>> > >>>> 23. https://stat.ethz.ch/mailman/listinfo/r-help
>>> > >>>> 24. http://www.r-project.org/posting-guide.html
>>> > >>>> 25. mailto:R-devel at r-project.org
>>> > >>>> 26. https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>>> 27. mailto:R-devel at r-project.org
>>> > >>>> 28. https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>>
>>> > >>> ______________________________________________
>>> > >>> R-devel at r-project.org mailing list
>>> > >>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>>
>>> > >>
>>> > >> [[alternative HTML version deleted]]
>>> > >>
>>> > >> ______________________________________________
>>> > >> R-devel at r-project.org mailing list
>>> > >> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> > >>
>>> >
>>> > > ______________________________________________
>>> > > R-devel at r-project.org mailing list
>>> > > https://stat.ethz.ch/mailman/listinfo/r-devel
>>> >
>>> > ______________________________________________
>>> > R-devel at r-project.org mailing list
>>> > https://stat.ethz.ch/mailman/listinfo/r-devel
>>> >
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>

	[[alternative HTML version deleted]]


From B|||@Po||ng @end|ng |rom ze||@@com  Thu Jun 13 16:14:17 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Thu, 13 Jun 2019 14:14:17 +0000
Subject: [R] Help with another ggplot error
Message-ID: <BN7PR02MB5073D84036F3CB238DCB206FEAEF0@BN7PR02MB5073.namprd02.prod.outlook.com>


#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Hello I have created a function called autocorrelate.

When I run it with ggplot I get this error:
#Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused argument (lags = 0:nrow(.))

Using what I learned from Rui yesterday I have tried to track down the problem myself

#---------------------------------- ggplot ISSUE 2 -----------------------------------------------------------#
#------------------------------------------------------------------------------------------------------------------#
getAnywhere('lags')

# A single object matching 'lags' was found
# It was found in the following places
# package:TTR
# namespace:TTR
# with value

function (x, n = 1)
{
  x <- as.matrix(x)
  if (is.null(colnames(x)))
    colnames(x) <- paste("V", 1:NCOL(x), sep = "")
  out <- embed(x, n + 1)
  if (n == 1)
    lag.names <- 1
  else if (NCOL(x) == 1)
    lag.names <- 1:n
  else lag.names <- rep(1:n, NCOL(x))
  colnames(out) <- c(colnames(x), paste(colnames(x), sort(lag.names),
                                        sep = "."))
  return(out)
}
<bytecode: 0x0000021163065658>
# <environment: namespace:TTR>

#Here are references I have perused but not sure they help, or at least I do not understand how they help me?

https://stackoverflow.com/questions/32056718/annotate-ggplot-bar-chart-error-unused-arguments
#https://stackoverflow.com/questions/24004974/sudden-unused-argument-error

find("lags")
#"package:TTR"

#Here are the Pkgs/libraries loaded, and I see TTR_0.23-4
# I did not load this library so it must be coming in with another library?

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] plotly_4.9.0               tseries_0.10-46            timeDate_3043.102          h2o_3.22.1.1               lime_0.4.1
 [6] parsnip_0.0.2              sweep_0.2.1.1              forecast_8.7               riem_0.1.1                 timetk_0.1.1.1
[11] tidyquant_0.5.6            forcats_0.4.0              stringr_1.4.0              dplyr_0.8.1                purrr_0.3.2
[16] readr_1.3.1                tidyr_0.8.3                tibble_2.1.1               ggplot2_3.1.1              tidyverse_1.2.1
[21] quantmod_0.4-14            TTR_0.23-4                 PerformanceAnalytics_1.5.2 xts_0.11-2                 zoo_1.8-5
[26] lubridate_1.7.4            yardstick_0.0.3

?`TTR-package`

These are the libraries I have loaded

library(yardstick)
library(tidyquant)
library(timetk)
library(riem)
library(forecast)
library(sweep)
library(parsnip)
library(lime)
library(h2o)
library(timeDate)
library(tseries)
library(ggplot2)
library(tidyverse)
library(lubridate)
library(plotly)

I tried changing lags to lags1 in the function but that did not help

Here are the script and a data sample to assist anyone who might try to help me.

Thank you for any advice.

WHP


#Create a function----

autocorrelate <- function(dftmp, value, Lags = 0.20) {

  value_expr <- enquo(value)

  acf_values <- dftmp %>%
    select(!! value_expr) %>%
    pull() %>%
    acf(lag.max = tail(lags, 1), plot = FALSE) %>%
    .$acf %>%
    .[,,1]

  ret <- tibble(acf = acf_values) %>%
    rowid_to_column(var = "lag") %>%
    mutate(lag = lag - 1) %>%
    filter(lag %in% lags)

  return(ret)
}

g2 <- as_tibble(dftmp) %>%
  autocorrelate(NetEditRev,lags = 0:nrow(.)) %>%
  ggplot(aes(lag,acf)) +
  geom_point(alpha = 0.5, color = "#2c3e50") +
  expand_limits(y = c(-1,1)) +
  theme_tq() +
  labs(title  = "Autocorrelation For Net Edit Revenue")
#And I get --> Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused argument (lags = 0:nrow(.))
#Notice in the error it looks like autocorrelate(., yet there is no ., in my script?

ggplotly(g2)



str(dftmp)

'data.frame':892 obs. of  10 variables:
 $ Date2     : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
 $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
 $ index.num : int  1483228800 1483315200 1483401600 1483488000 1483574400 1483660800 1483747200 1483833600 1483920000 1484006400 ...
 $ year      : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
 $ half      : int  1 1 1 1 1 1 1 1 1 1 ...
 $ quarter   : int  1 1 1 1 1 1 1 1 1 1 ...
 $ month.lbl : Ord.factor w/ 12 levels "January"<"February"<..: 1 1 1 1 1 1 1 1 1 1 ...
 $ day       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ wday.lbl  : Ord.factor w/ 7 levels "Sunday"<"Monday"<..: 1 2 3 4 5 6 7 1 2 3 ...
 $ holiday   : num  0 1 0 0 0 0 0 0 0 0 ...

Here is a sample of my df

head(dftmp,n=35)
        Date2 NetEditRev  index.num year half quarter month.lbl day  wday.lbl holiday
1  2017-01-01    -923.40 1483228800 2017    1       1   January   1    Sunday       0
2  2017-01-02   19222.09 1483315200 2017    1       1   January   2    Monday       1
3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3   Tuesday       0
4  2017-01-04   37696.58 1483488000 2017    1       1   January   4 Wednesday       0
5  2017-01-05   46075.34 1483574400 2017    1       1   January   5  Thursday       0
6  2017-01-06   38329.35 1483660800 2017    1       1   January   6    Friday       0
7  2017-01-07    3110.51 1483747200 2017    1       1   January   7  Saturday       0
8  2017-01-08      21.39 1483833600 2017    1       1   January   8    Sunday       0
9  2017-01-09   63569.67 1483920000 2017    1       1   January   9    Monday       0
10 2017-01-10   50777.00 1484006400 2017    1       1   January  10   Tuesday       0
11 2017-01-11   55548.60 1484092800 2017    1       1   January  11 Wednesday       0
12 2017-01-12   70217.73 1484179200 2017    1       1   January  12  Thursday       0
13 2017-01-13   62536.15 1484265600 2017    1       1   January  13    Friday       0
14 2017-01-14    2696.83 1484352000 2017    1       1   January  14  Saturday       0
15 2017-01-15    2230.00 1484438400 2017    1       1   January  15    Sunday       0
16 2017-01-16   56310.90 1484524800 2017    1       1   January  16    Monday       1
17 2017-01-17   58521.93 1484611200 2017    1       1   January  17   Tuesday       0
18 2017-01-18   50057.73 1484697600 2017    1       1   January  18 Wednesday       0
19 2017-01-19   57366.70 1484784000 2017    1       1   January  19  Thursday       0
20 2017-01-20   61390.94 1484870400 2017    1       1   January  20    Friday       0
21 2017-01-21    1839.09 1484956800 2017    1       1   January  21  Saturday       0
22 2017-01-22     807.57 1485043200 2017    1       1   January  22    Sunday       0
23 2017-01-23   72209.44 1485129600 2017    1       1   January  23    Monday       0
24 2017-01-24   70799.21 1485216000 2017    1       1   January  24   Tuesday       0
25 2017-01-25   70240.88 1485302400 2017    1       1   January  25 Wednesday       0
26 2017-01-26   51462.66 1485388800 2017    1       1   January  26  Thursday       0
27 2017-01-27   46852.37 1485475200 2017    1       1   January  27    Friday       0
28 2017-01-28    2396.67 1485561600 2017    1       1   January  28  Saturday       0
29 2017-01-29    2051.62 1485648000 2017    1       1   January  29    Sunday       0
30 2017-01-30   72561.32 1485734400 2017    1       1   January  30    Monday       0
31 2017-01-31   69630.69 1485820800 2017    1       1   January  31   Tuesday       0
32 2017-02-01  -17304.22 1485907200 2017    1       1  February   1 Wednesday       0
33 2017-02-02   11773.84 1485993600 2017    1       1  February   2  Thursday       0
34 2017-02-03   20703.69 1486080000 2017    1       1  February   3    Friday       0
35 2017-02-04    2762.87 1486166400 2017    1       1  February   4  Saturday       0


Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From wdun|@p @end|ng |rom t|bco@com  Thu Jun 13 16:38:16 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Thu, 13 Jun 2019 07:38:16 -0700
Subject: [R] Help with another ggplot error
In-Reply-To: <BN7PR02MB5073D84036F3CB238DCB206FEAEF0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073D84036F3CB238DCB206FEAEF0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <CAF8bMcZ6B7vMWZv84aWUUFr0hjFK9PwLxfmnEFKz2EeAEgbRXQ@mail.gmail.com>

> Hello I have created a function called autocorrelate.
>
> When I run it with ggplot I get this error:
> #Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused
argument (lags = 0:nrow(.))

This means that autocorrelate does not have an argument called lags.  E.g.
   > f <- function(x) x+1
   > f(y=10)
   Error in f(y = 10) : unused argument (y = 10)
It looks like your autocorrelate has an argument called 'Lags', not 'lags'.


Use traceback() after an error
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Thu, Jun 13, 2019 at 7:14 AM Bill Poling <Bill.Poling at zelis.com> wrote:

>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows >= 8 x64 (build 9200)
>
> Hello I have created a function called autocorrelate.
>
> When I run it with ggplot I get this error:
> #Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused
> argument (lags = 0:nrow(.))
>
> Using what I learned from Rui yesterday I have tried to track down the
> problem myself
>
> #---------------------------------- ggplot ISSUE 2
> -----------------------------------------------------------#
>
> #------------------------------------------------------------------------------------------------------------------#
> getAnywhere('lags')
>
> # A single object matching 'lags' was found
> # It was found in the following places
> # package:TTR
> # namespace:TTR
> # with value
>
> function (x, n = 1)
> {
>   x <- as.matrix(x)
>   if (is.null(colnames(x)))
>     colnames(x) <- paste("V", 1:NCOL(x), sep = "")
>   out <- embed(x, n + 1)
>   if (n == 1)
>     lag.names <- 1
>   else if (NCOL(x) == 1)
>     lag.names <- 1:n
>   else lag.names <- rep(1:n, NCOL(x))
>   colnames(out) <- c(colnames(x), paste(colnames(x), sort(lag.names),
>                                         sep = "."))
>   return(out)
> }
> <bytecode: 0x0000021163065658>
> # <environment: namespace:TTR>
>
> #Here are references I have perused but not sure they help, or at least I
> do not understand how they help me?
>
>
> https://stackoverflow.com/questions/32056718/annotate-ggplot-bar-chart-error-unused-arguments
> #https://stackoverflow.com/questions/24004974/sudden-unused-argument-error
> <https://stackoverflow.com/questions/32056718/annotate-ggplot-bar-chart-error-unused-arguments#https://stackoverflow.com/questions/24004974/sudden-unused-argument-error>
>
> find("lags")
> #"package:TTR"
>
> #Here are the Pkgs/libraries loaded, and I see TTR_0.23-4
> # I did not load this library so it must be coming in with another library?
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
>  [1] plotly_4.9.0               tseries_0.10-46
> timeDate_3043.102          h2o_3.22.1.1               lime_0.4.1
>  [6] parsnip_0.0.2              sweep_0.2.1.1              forecast_8.7
>            riem_0.1.1                 timetk_0.1.1.1
> [11] tidyquant_0.5.6            forcats_0.4.0              stringr_1.4.0
>             dplyr_0.8.1                purrr_0.3.2
> [16] readr_1.3.1                tidyr_0.8.3                tibble_2.1.1
>            ggplot2_3.1.1              tidyverse_1.2.1
> [21] quantmod_0.4-14            TTR_0.23-4
>  PerformanceAnalytics_1.5.2 xts_0.11-2                 zoo_1.8-5
> [26] lubridate_1.7.4            yardstick_0.0.3
>
> ?`TTR-package`
>
> These are the libraries I have loaded
>
> library(yardstick)
> library(tidyquant)
> library(timetk)
> library(riem)
> library(forecast)
> library(sweep)
> library(parsnip)
> library(lime)
> library(h2o)
> library(timeDate)
> library(tseries)
> library(ggplot2)
> library(tidyverse)
> library(lubridate)
> library(plotly)
>
> I tried changing lags to lags1 in the function but that did not help
>
> Here are the script and a data sample to assist anyone who might try to
> help me.
>
> Thank you for any advice.
>
> WHP
>
>
> #Create a function----
>
> autocorrelate <- function(dftmp, value, Lags = 0.20) {
>
>   value_expr <- enquo(value)
>
>   acf_values <- dftmp %>%
>     select(!! value_expr) %>%
>     pull() %>%
>     acf(lag.max = tail(lags, 1), plot = FALSE) %>%
>     .$acf %>%
>     .[,,1]
>
>   ret <- tibble(acf = acf_values) %>%
>     rowid_to_column(var = "lag") %>%
>     mutate(lag = lag - 1) %>%
>     filter(lag %in% lags)
>
>   return(ret)
> }
>
> g2 <- as_tibble(dftmp) %>%
>   autocorrelate(NetEditRev,lags = 0:nrow(.)) %>%
>   ggplot(aes(lag,acf)) +
>   geom_point(alpha = 0.5, color = "#2c3e50") +
>   expand_limits(y = c(-1,1)) +
>   theme_tq() +
>   labs(title  = "Autocorrelation For Net Edit Revenue")
> #And I get --> Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :
>  unused argument (lags = 0:nrow(.))
> #Notice in the error it looks like autocorrelate(., yet there is no ., in
> my script?
>
> ggplotly(g2)
>
>
>
> str(dftmp)
>
> 'data.frame':892 obs. of  10 variables:
>  $ Date2     : Date, format: "2017-01-01" "2017-01-02" "2017-01-03"
> "2017-01-04" ...
>  $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
>  $ index.num : int  1483228800 1483315200 1483401600 1483488000 1483574400
> 1483660800 1483747200 1483833600 1483920000 1484006400 ...
>  $ year      : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
>  $ half      : int  1 1 1 1 1 1 1 1 1 1 ...
>  $ quarter   : int  1 1 1 1 1 1 1 1 1 1 ...
>  $ month.lbl : Ord.factor w/ 12 levels "January"<"February"<..: 1 1 1 1 1
> 1 1 1 1 1 ...
>  $ day       : int  1 2 3 4 5 6 7 8 9 10 ...
>  $ wday.lbl  : Ord.factor w/ 7 levels "Sunday"<"Monday"<..: 1 2 3 4 5 6 7
> 1 2 3 ...
>  $ holiday   : num  0 1 0 0 0 0 0 0 0 0 ...
>
> Here is a sample of my df
>
> head(dftmp,n=35)
>         Date2 NetEditRev  index.num year half quarter month.lbl day
> wday.lbl holiday
> 1  2017-01-01    -923.40 1483228800 2017    1       1   January   1
> Sunday       0
> 2  2017-01-02   19222.09 1483315200 2017    1       1   January   2
> Monday       1
> 3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3
>  Tuesday       0
> 4  2017-01-04   37696.58 1483488000 2017    1       1   January   4
> Wednesday       0
> 5  2017-01-05   46075.34 1483574400 2017    1       1   January   5
> Thursday       0
> 6  2017-01-06   38329.35 1483660800 2017    1       1   January   6
> Friday       0
> 7  2017-01-07    3110.51 1483747200 2017    1       1   January   7
> Saturday       0
> 8  2017-01-08      21.39 1483833600 2017    1       1   January   8
> Sunday       0
> 9  2017-01-09   63569.67 1483920000 2017    1       1   January   9
> Monday       0
> 10 2017-01-10   50777.00 1484006400 2017    1       1   January  10
>  Tuesday       0
> 11 2017-01-11   55548.60 1484092800 2017    1       1   January  11
> Wednesday       0
> 12 2017-01-12   70217.73 1484179200 2017    1       1   January  12
> Thursday       0
> 13 2017-01-13   62536.15 1484265600 2017    1       1   January  13
> Friday       0
> 14 2017-01-14    2696.83 1484352000 2017    1       1   January  14
> Saturday       0
> 15 2017-01-15    2230.00 1484438400 2017    1       1   January  15
> Sunday       0
> 16 2017-01-16   56310.90 1484524800 2017    1       1   January  16
> Monday       1
> 17 2017-01-17   58521.93 1484611200 2017    1       1   January  17
>  Tuesday       0
> 18 2017-01-18   50057.73 1484697600 2017    1       1   January  18
> Wednesday       0
> 19 2017-01-19   57366.70 1484784000 2017    1       1   January  19
> Thursday       0
> 20 2017-01-20   61390.94 1484870400 2017    1       1   January  20
> Friday       0
> 21 2017-01-21    1839.09 1484956800 2017    1       1   January  21
> Saturday       0
> 22 2017-01-22     807.57 1485043200 2017    1       1   January  22
> Sunday       0
> 23 2017-01-23   72209.44 1485129600 2017    1       1   January  23
> Monday       0
> 24 2017-01-24   70799.21 1485216000 2017    1       1   January  24
>  Tuesday       0
> 25 2017-01-25   70240.88 1485302400 2017    1       1   January  25
> Wednesday       0
> 26 2017-01-26   51462.66 1485388800 2017    1       1   January  26
> Thursday       0
> 27 2017-01-27   46852.37 1485475200 2017    1       1   January  27
> Friday       0
> 28 2017-01-28    2396.67 1485561600 2017    1       1   January  28
> Saturday       0
> 29 2017-01-29    2051.62 1485648000 2017    1       1   January  29
> Sunday       0
> 30 2017-01-30   72561.32 1485734400 2017    1       1   January  30
> Monday       0
> 31 2017-01-31   69630.69 1485820800 2017    1       1   January  31
>  Tuesday       0
> 32 2017-02-01  -17304.22 1485907200 2017    1       1  February   1
> Wednesday       0
> 33 2017-02-02   11773.84 1485993600 2017    1       1  February   2
> Thursday       0
> 34 2017-02-03   20703.69 1486080000 2017    1       1  February   3
> Friday       0
> 35 2017-02-04    2762.87 1486166400 2017    1       1  February   4
> Saturday       0
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From B|||@Po||ng @end|ng |rom ze||@@com  Thu Jun 13 18:19:36 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Thu, 13 Jun 2019 16:19:36 +0000
Subject: [R] Help with another ggplot error
In-Reply-To: <CAF8bMcZ6B7vMWZv84aWUUFr0hjFK9PwLxfmnEFKz2EeAEgbRXQ@mail.gmail.com>
References: <BN7PR02MB5073D84036F3CB238DCB206FEAEF0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAF8bMcZ6B7vMWZv84aWUUFr0hjFK9PwLxfmnEFKz2EeAEgbRXQ@mail.gmail.com>
Message-ID: <BN7PR02MB507308C40064A1193C54693AEAEF0@BN7PR02MB5073.namprd02.prod.outlook.com>

UGH!

I stared and stared at this thinking I may have a typo and did not see it!

Thank you very much Sir!

WHP

autocorrelate <- function(data, value, lags = 0.20) { #lags Not Lags!!!!! Sheesh!

  value_expr <- enquo(value)

  acf_values <- data %>%
    select(!! value_expr) %>%
    pull() %>%
    acf(lag.max = tail(lags, 1), plot = FALSE) %>%
    .$acf %>%
    .[,,1]

  ret <- tibble(acf = acf_values) %>%
    rowid_to_column(var = "lag") %>%
    mutate(lag = lag - 1) %>%
    filter(lag %in% lags)

  return(ret)
}

g2 <- as_tibble(dftmp) %>%
  autocorrelate(NetEditRev, lags = 0:nrow(.)) %>%
  ggplot(aes(lag, acf)) +
  geom_point(alpha = 0.5, color = "#2c3e50") +
  expand_limits(y = c(-1, 1)) +
  theme_tq() +
  labs(title  = "Autocorrelation For Net Edit Revenue")







From: William Dunlap <wdunlap at tibco.com>
Sent: Thursday, June 13, 2019 10:38 AM
To: Bill Poling <Bill.Poling at zelis.com>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with another ggplot error

> Hello I have created a function called autocorrelate.
>
> When I run it with ggplot I get this error:
> #Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused argument (lags = 0:nrow(.))

This means that autocorrelate does not have an argument called lags.  E.g.
   > f <- function(x) x+1
   > f(y=10)
   Error in f(y = 10) : unused argument (y = 10)
It looks like your autocorrelate has an argument called 'Lags', not 'lags'.


Use traceback() after an error
Bill Dunlap
TIBCO Software
wdunlap http://tibco.com


On Thu, Jun 13, 2019 at 7:14 AM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:

#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Hello I have created a function called autocorrelate.

When I run it with ggplot I get this error:
#Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused argument (lags = 0:nrow(.))

Using what I learned from Rui yesterday I have tried to track down the problem myself

#---------------------------------- ggplot ISSUE 2 -----------------------------------------------------------#
#------------------------------------------------------------------------------------------------------------------#
getAnywhere('lags')

# A single object matching 'lags' was found
# It was found in the following places
# package:TTR
# namespace:TTR
# with value

function (x, n = 1)
{
  x <- as.matrix(x)
  if (is.null(colnames(x)))
    colnames(x) <- paste("V", 1:NCOL(x), sep = "")
  out <- embed(x, n + 1)
  if (n == 1)
    lag.names <- 1
  else if (NCOL(x) == 1)
    lag.names <- 1:n
  else lag.names <- rep(1:n, NCOL(x))
  colnames(out) <- c(colnames(x), paste(colnames(x), sort(lag.names),
                                        sep = "."))
  return(out)
}
<bytecode: 0x0000021163065658>
# <environment: namespace:TTR>

#Here are references I have perused but not sure they help, or at least I do not understand how they help me?

https://stackoverflow.com/questions/32056718/annotate-ggplot-bar-chart-error-unused-arguments#https://stackoverflow.com/questions/24004974/sudden-unused-argument-error

find("lags")
#"package:TTR"

#Here are the Pkgs/libraries loaded, and I see TTR_0.23-4
# I did not load this library so it must be coming in with another library?

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] plotly_4.9.0               tseries_0.10-46            timeDate_3043.102          h2o_3.22.1.1               lime_0.4.1
 [6] parsnip_0.0.2              sweep_0.2.1.1              forecast_8.7               riem_0.1.1                 timetk_0.1.1.1
[11] tidyquant_0.5.6            forcats_0.4.0              stringr_1.4.0              dplyr_0.8.1                purrr_0.3.2
[16] readr_1.3.1                tidyr_0.8.3                tibble_2.1.1               ggplot2_3.1.1              tidyverse_1.2.1
[21] quantmod_0.4-14            TTR_0.23-4                 PerformanceAnalytics_1.5.2 xts_0.11-2                 zoo_1.8-5
[26] lubridate_1.7.4            yardstick_0.0.3

?`TTR-package`

These are the libraries I have loaded

library(yardstick)
library(tidyquant)
library(timetk)
library(riem)
library(forecast)
library(sweep)
library(parsnip)
library(lime)
library(h2o)
library(timeDate)
library(tseries)
library(ggplot2)
library(tidyverse)
library(lubridate)
library(plotly)

I tried changing lags to lags1 in the function but that did not help

Here are the script and a data sample to assist anyone who might try to help me.

Thank you for any advice.

WHP


#Create a function----

autocorrelate <- function(dftmp, value, Lags = 0.20) {

  value_expr <- enquo(value)

  acf_values <- dftmp %>%
    select(!! value_expr) %>%
    pull() %>%
    acf(lag.max = tail(lags, 1), plot = FALSE) %>%
    .$acf %>%
    .[,,1]

  ret <- tibble(acf = acf_values) %>%
    rowid_to_column(var = "lag") %>%
    mutate(lag = lag - 1) %>%
    filter(lag %in% lags)

  return(ret)
}

g2 <- as_tibble(dftmp) %>%
  autocorrelate(NetEditRev,lags = 0:nrow(.)) %>%
  ggplot(aes(lag,acf)) +
  geom_point(alpha = 0.5, color = "#2c3e50") +
  expand_limits(y = c(-1,1)) +
  theme_tq() +
  labs(title  = "Autocorrelation For Net Edit Revenue")
#And I get --> Error in autocorrelate(., NetEditRev, lags = 0:nrow(.)) :   unused argument (lags = 0:nrow(.))
#Notice in the error it looks like autocorrelate(., yet there is no ., in my script?

ggplotly(g2)



str(dftmp)

'data.frame':892 obs. of  10 variables:
 $ Date2     : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
 $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
 $ index.num : int  1483228800 1483315200 1483401600 1483488000 1483574400 1483660800 1483747200 1483833600 1483920000 1484006400 ...
 $ year      : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
 $ half      : int  1 1 1 1 1 1 1 1 1 1 ...
 $ quarter   : int  1 1 1 1 1 1 1 1 1 1 ...
 $ month.lbl : Ord.factor w/ 12 levels "January"<"February"<..: 1 1 1 1 1 1 1 1 1 1 ...
 $ day       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ wday.lbl  : Ord.factor w/ 7 levels "Sunday"<"Monday"<..: 1 2 3 4 5 6 7 1 2 3 ...
 $ holiday   : num  0 1 0 0 0 0 0 0 0 0 ...

Here is a sample of my df

head(dftmp,n=35)
        Date2 NetEditRev  index.num year half quarter month.lbl day  wday.lbl holiday
1  2017-01-01    -923.40 1483228800 2017    1       1   January   1    Sunday       0
2  2017-01-02   19222.09 1483315200 2017    1       1   January   2    Monday       1
3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3   Tuesday       0
4  2017-01-04   37696.58 1483488000 2017    1       1   January   4 Wednesday       0
5  2017-01-05   46075.34 1483574400 2017    1       1   January   5  Thursday       0
6  2017-01-06   38329.35 1483660800 2017    1       1   January   6    Friday       0
7  2017-01-07    3110.51 1483747200 2017    1       1   January   7  Saturday       0
8  2017-01-08      21.39 1483833600 2017    1       1   January   8    Sunday       0
9  2017-01-09   63569.67 1483920000 2017    1       1   January   9    Monday       0
10 2017-01-10   50777.00 1484006400 2017    1       1   January  10   Tuesday       0
11 2017-01-11   55548.60 1484092800 2017    1       1   January  11 Wednesday       0
12 2017-01-12   70217.73 1484179200 2017    1       1   January  12  Thursday       0
13 2017-01-13   62536.15 1484265600 2017    1       1   January  13    Friday       0
14 2017-01-14    2696.83 1484352000 2017    1       1   January  14  Saturday       0
15 2017-01-15    2230.00 1484438400 2017    1       1   January  15    Sunday       0
16 2017-01-16   56310.90 1484524800 2017    1       1   January  16    Monday       1
17 2017-01-17   58521.93 1484611200 2017    1       1   January  17   Tuesday       0
18 2017-01-18   50057.73 1484697600 2017    1       1   January  18 Wednesday       0
19 2017-01-19   57366.70 1484784000 2017    1       1   January  19  Thursday       0
20 2017-01-20   61390.94 1484870400 2017    1       1   January  20    Friday       0
21 2017-01-21    1839.09 1484956800 2017    1       1   January  21  Saturday       0
22 2017-01-22     807.57 1485043200 2017    1       1   January  22    Sunday       0
23 2017-01-23   72209.44 1485129600 2017    1       1   January  23    Monday       0
24 2017-01-24   70799.21 1485216000 2017    1       1   January  24   Tuesday       0
25 2017-01-25   70240.88 1485302400 2017    1       1   January  25 Wednesday       0
26 2017-01-26   51462.66 1485388800 2017    1       1   January  26  Thursday       0
27 2017-01-27   46852.37 1485475200 2017    1       1   January  27    Friday       0
28 2017-01-28    2396.67 1485561600 2017    1       1   January  28  Saturday       0
29 2017-01-29    2051.62 1485648000 2017    1       1   January  29    Sunday       0
30 2017-01-30   72561.32 1485734400 2017    1       1   January  30    Monday       0
31 2017-01-31   69630.69 1485820800 2017    1       1   January  31   Tuesday       0
32 2017-02-01  -17304.22 1485907200 2017    1       1  February   1 Wednesday       0
33 2017-02-02   11773.84 1485993600 2017    1       1  February   2  Thursday       0
34 2017-02-03   20703.69 1486080000 2017    1       1  February   3    Friday       0
35 2017-02-04    2762.87 1486166400 2017    1       1  February   4  Saturday       0


Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}

______________________________________________
mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From rv15| @end|ng |rom y@hoo@@e  Thu Jun 13 18:47:23 2019
From: rv15| @end|ng |rom y@hoo@@e (ravi)
Date: Thu, 13 Jun 2019 16:47:23 +0000 (UTC)
Subject: [R] plotting an isosurface on a 3d plot
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
Message-ID: <1044177206.1628822.1560444443460@mail.yahoo.com>

Hi,I want to plot a surface joining a circle on a plane with another circle (a little offset w.r.t. the first one) on a parallel plane. This is a very simplified version of my problem.
I will explain with the following code :
# First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
#### the z coordinates on two parallel plnesz1 <- rep(0,length(x1))z2 <- rep(1,length(x2))

I have tried to plot my 3d figure using the packages plot3D, misc3d, rgl etc. All these packages require z as a matrix. In my case, all of x,y and z are vectors. How can I plot this surface? In addition, I would like to add similiar surfaces to the same plot.
I would appreciate any help that I can get.Thanking you,Ravi Sutradhara


	[[alternative HTML version deleted]]


From t|n@mun|m2019 @end|ng |rom gm@||@com  Thu Jun 13 19:30:54 2019
From: t|n@mun|m2019 @end|ng |rom gm@||@com (Tina Chatterjee)
Date: Thu, 13 Jun 2019 23:00:54 +0530
Subject: [R] Merging a dataframe after subsetting with respect to several
 factors
Message-ID: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>

Hello everyone!
I have the following dataframe(df).

a<-c("a1","a2","a2","a1","a1","a1")
b<-c("b1","b1","b1","b1","b1","b2")
c<-c("c1","c1","c1","c1","c1","c2")
time <- c(runif(6,0,1))

df<-data.frame(a,b,c,time)
df

   a  b  c       time
1 a1 b1 c1 0.28781082
2 a2 b1 c1 0.02102591
3 a2 b1 c1 0.72479220
4 a1 b1 c1 0.41947675
5 a1 b1 c1 0.58899855
6 a1 b2 c2 0.82414123

Now, I want to extract the time components corresponding
to the specific combination of the factors. Finally I have made a dataframe
(df_1) with 2 columns one with the time components and the other with the
level combinations.

df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time

val <- c(df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time,df[df$a=="a2" &
df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" & df$b=="b2" &
df$c=="c2",]$time)
name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
df_1 <- data.frame(val,name)

I made it manually. In reality I have a lot of treatment combinations. So,
could you please suggest how can I do this with a loop or any control
sequence?
Thanks and regards.
Tina

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun 13 22:32:07 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 13 Jun 2019 16:32:07 -0400
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <1044177206.1628822.1560444443460@mail.yahoo.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
Message-ID: <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>

On 13/06/2019 12:47 p.m., ravi via R-help wrote:
> Hi,I want to plot a surface joining a circle on a plane with another circle (a little offset w.r.t. the first one) on a parallel plane. This is a very simplified version of my problem.
> I will explain with the following code :
> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
> #### the z coordinates on two parallel plnesz1 <- rep(0,length(x1))z2 <- rep(1,length(x2))
> 
> I have tried to plot my 3d figure using the packages plot3D, misc3d, rgl etc. All these packages require z as a matrix. In my case, all of x,y and z are vectors. How can I plot this surface? In addition, I would like to add similiar surfaces to the same plot.

It's not true that rgl requires z as a matrix:  that's one possibility, 
but there are others.  Here's one way to do what you want.

# First, compute the two circles
orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
x1 <- orig1+radius1*cos(theta)
y1 <- orig1+radius1*sin(theta)
orig2 <- 0.7;radius2=0.2
x2 <- orig2+radius2*cos(theta)
y2 <- orig2+radius2*sin(theta)

#### the z coordinates on two parallel plnes
z1 <- rep(0,length(x1))
z2 <- rep(1,length(x2))

library(rgl)
p1 <- cbind(x1,y1,z1)
plot3d(p1, col="red")
p2 <- cbind(x2, y2, z2)
points3d(p2, col="blue")

quads <- matrix(numeric(), 0, 3)
for (i in seq_along(x1)[-1]) {
   quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
}
quads3d(quads, col = "green")

There are more efficient ways to do this (the for loop would be slow if 
you had bigger vectors), but this should give you the idea.

Duncan Murdoch


From r@oknz @end|ng |rom gm@||@com  Thu Jun 13 22:34:27 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 14 Jun 2019 08:34:27 +1200
Subject: [R] 
 Merging a dataframe after subsetting with respect to several factors
In-Reply-To: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
Message-ID: <CABcYAdKW3QnhRj4+eB+kw7r1z4Xd2=NGbowm3MnyOCMBf1ENBg@mail.gmail.com>

How about just
  df$time[match(paste(df$a, df$b, df$c), c(
    "co mb o1",
    ..
    "co mb oN"))]



On Fri, 14 Jun 2019 at 08:22, Tina Chatterjee <tinamunim2019 at gmail.com>
wrote:

> Hello everyone!
> I have the following dataframe(df).
>
> a<-c("a1","a2","a2","a1","a1","a1")
> b<-c("b1","b1","b1","b1","b1","b2")
> c<-c("c1","c1","c1","c1","c1","c2")
> time <- c(runif(6,0,1))
>
> df<-data.frame(a,b,c,time)
> df
>
>    a  b  c       time
> 1 a1 b1 c1 0.28781082
> 2 a2 b1 c1 0.02102591
> 3 a2 b1 c1 0.72479220
> 4 a1 b1 c1 0.41947675
> 5 a1 b1 c1 0.58899855
> 6 a1 b2 c2 0.82414123
>
> Now, I want to extract the time components corresponding
> to the specific combination of the factors. Finally I have made a dataframe
> (df_1) with 2 columns one with the time components and the other with the
> level combinations.
>
> df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
> df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
> df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time
>
> val <- c(df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time,df[df$a=="a2" &
> df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" & df$b=="b2" &
> df$c=="c2",]$time)
> name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
> df_1 <- data.frame(val,name)
>
> I made it manually. In reality I have a lot of treatment combinations. So,
> could you please suggest how can I do this with a loop or any control
> sequence?
> Thanks and regards.
> Tina
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jun 13 22:41:46 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 13 Jun 2019 13:41:46 -0700
Subject: [R] 
 Merging a dataframe after subsetting with respect to several factors
In-Reply-To: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
Message-ID: <CAGxFJbRwLQJwgquM6ZdWx_KOMtYP7Cb2gDLFQS0v5aTP=jqZhg@mail.gmail.com>

Why? I suspect that there is no reason that you need to do this.

Cheers,
Bert

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 13, 2019 at 1:22 PM Tina Chatterjee <tinamunim2019 at gmail.com>
wrote:

> Hello everyone!
> I have the following dataframe(df).
>
> a<-c("a1","a2","a2","a1","a1","a1")
> b<-c("b1","b1","b1","b1","b1","b2")
> c<-c("c1","c1","c1","c1","c1","c2")
> time <- c(runif(6,0,1))
>
> df<-data.frame(a,b,c,time)
> df
>
>    a  b  c       time
> 1 a1 b1 c1 0.28781082
> 2 a2 b1 c1 0.02102591
> 3 a2 b1 c1 0.72479220
> 4 a1 b1 c1 0.41947675
> 5 a1 b1 c1 0.58899855
> 6 a1 b2 c2 0.82414123
>
> Now, I want to extract the time components corresponding
> to the specific combination of the factors. Finally I have made a dataframe
> (df_1) with 2 columns one with the time components and the other with the
> level combinations.
>
> df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
> df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
> df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time
>
> val <- c(df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time,df[df$a=="a2" &
> df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" & df$b=="b2" &
> df$c=="c2",]$time)
> name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
> df_1 <- data.frame(val,name)
>
> I made it manually. In reality I have a lot of treatment combinations. So,
> could you please suggest how can I do this with a loop or any control
> sequence?
> Thanks and regards.
> Tina
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jun 13 22:52:04 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 13 Jun 2019 16:52:04 -0400
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
 <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
Message-ID: <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>

On 13/06/2019 4:32 p.m., Duncan Murdoch wrote:
> On 13/06/2019 12:47 p.m., ravi via R-help wrote:
>> Hi,I want to plot a surface joining a circle on a plane with another circle (a little offset w.r.t. the first one) on a parallel plane. This is a very simplified version of my problem.
>> I will explain with the following code :
>> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
>> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
>> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
>> #### the z coordinates on two parallel plnesz1 <- rep(0,length(x1))z2 <- rep(1,length(x2))
>>
>> I have tried to plot my 3d figure using the packages plot3D, misc3d, rgl etc. All these packages require z as a matrix. In my case, all of x,y and z are vectors. How can I plot this surface? In addition, I would like to add similiar surfaces to the same plot.
> 
> It's not true that rgl requires z as a matrix:  that's one possibility,
> but there are others.  Here's one way to do what you want.
> 
> # First, compute the two circles
> orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
> x1 <- orig1+radius1*cos(theta)
> y1 <- orig1+radius1*sin(theta)
> orig2 <- 0.7;radius2=0.2
> x2 <- orig2+radius2*cos(theta)
> y2 <- orig2+radius2*sin(theta)
> 
> #### the z coordinates on two parallel plnes
> z1 <- rep(0,length(x1))
> z2 <- rep(1,length(x2))
> 
> library(rgl)
> p1 <- cbind(x1,y1,z1)
> plot3d(p1, col="red")
> p2 <- cbind(x2, y2, z2)
> points3d(p2, col="blue")
> 
> quads <- matrix(numeric(), 0, 3)
> for (i in seq_along(x1)[-1]) {
>     quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
> }
> quads3d(quads, col = "green")
> 
> There are more efficient ways to do this (the for loop would be slow if
> you had bigger vectors), but this should give you the idea.

Here's one of the more efficient ways:

cylinder3d(rbind(c(0.4, 0.4, 0), c(0.7, 0.7, 1)),
            radius = c(0.3, 0.2),
            e1 = rbind(c(0,0,1), c(0,0,1)), sides=20) %>%
            addNormals() %>%
            shade3d(col = "green")

Duncan Murdoch


From r@turner @end|ng |rom @uck|@nd@@c@nz  Fri Jun 14 01:01:59 2019
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Fri, 14 Jun 2019 11:01:59 +1200
Subject: [R] 
 [FORGED] Merging a dataframe after subsetting with respect to
 several factors
In-Reply-To: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
Message-ID: <04c76c2e-760c-b240-88ae-74b433394959@auckland.ac.nz>


On 14/06/19 5:30 AM, Tina Chatterjee wrote:

> Hello everyone!
> I have the following dataframe(df).
> 
> a<-c("a1","a2","a2","a1","a1","a1")
> b<-c("b1","b1","b1","b1","b1","b2")
> c<-c("c1","c1","c1","c1","c1","c2")
> time <- c(runif(6,0,1))

<SNIP>

<rant on>

I know that it's basically harmless, but it drives me nuts when people 
do things like:

> time <- c(runif(6,0,1))

What the <expletive deleted> do you think that the c() construction is 
doing?  ("Hint":  Absolutely nothing!!!  You get the same result as 
you'd get from "time <- runif(6,0,1)" --- or, better, time <- runif(6).
Note that 0 and 1 are the *default* values and *need not be specified*!)

The c() function *catenates* a number of objects (usually vectors) 
together.  Modulo a certain amount of over-simplification, applying c() 
to a single object just returns that object.

(Example of why that's an over-simplification:  if m is a matrix,
c(m) strips away the "dim" attribute of m and you just get the vector of 
entries of m, strung out in column order.  This is however not advised;
see fortunes::fortune("side effects").)

Using c() as you have done indicates that you don't really understand 
what you're doing, and that's *not* the way to get the best out of R.

<rant off>

cheers,

Rolf

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Jun 14 02:34:46 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 13 Jun 2019 17:34:46 -0700 (PDT)
Subject: [R] 
 Merging a dataframe after subsetting with respect to several factors
In-Reply-To: <CAGxFJbRwLQJwgquM6ZdWx_KOMtYP7Cb2gDLFQS0v5aTP=jqZhg@mail.gmail.com>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
 <CAGxFJbRwLQJwgquM6ZdWx_KOMtYP7Cb2gDLFQS0v5aTP=jqZhg@mail.gmail.com>
Message-ID: <alpine.BSF.2.00.1906131718520.76172@pedal.dcn.davis.ca.us>

I do it regularly.

Base R:

result <- split( DF[ , 4, drop=FALSE ], DF[ , -4 ] )

Tidyverse:

library(tidyr)
result <- nest( DF, time )
filter( result, "a2"==a & "b1"==b & "c1"==c )[[ "data" ]]

On Thu, 13 Jun 2019, Bert Gunter wrote:

> Why? I suspect that there is no reason that you need to do this.
>
> Cheers,
> Bert
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Thu, Jun 13, 2019 at 1:22 PM Tina Chatterjee <tinamunim2019 at gmail.com>
> wrote:
>
>> Hello everyone!
>> I have the following dataframe(df).
>>
>> a<-c("a1","a2","a2","a1","a1","a1")
>> b<-c("b1","b1","b1","b1","b1","b2")
>> c<-c("c1","c1","c1","c1","c1","c2")
>> time <- c(runif(6,0,1))
>>
>> df<-data.frame(a,b,c,time)
>> df
>>
>>    a  b  c       time
>> 1 a1 b1 c1 0.28781082
>> 2 a2 b1 c1 0.02102591
>> 3 a2 b1 c1 0.72479220
>> 4 a1 b1 c1 0.41947675
>> 5 a1 b1 c1 0.58899855
>> 6 a1 b2 c2 0.82414123
>>
>> Now, I want to extract the time components corresponding
>> to the specific combination of the factors. Finally I have made a dataframe
>> (df_1) with 2 columns one with the time components and the other with the
>> level combinations.
>>
>> df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
>> df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
>> df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time
>>
>> val <- c(df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time,df[df$a=="a2" &
>> df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" & df$b=="b2" &
>> df$c=="c2",]$time)
>> name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
>> df_1 <- data.frame(val,name)
>>
>> I made it manually. In reality I have a lot of treatment combinations. So,
>> could you please suggest how can I do this with a loop or any control
>> sequence?
>> Thanks and regards.
>> Tina
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Jun 14 03:38:12 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 13 Jun 2019 18:38:12 -0700
Subject: [R] work on R speed?
In-Reply-To: <CADsfhGCX2FersebjDRu0YaBJJ27JrgmOi5qcYnZYGKCZi27PVg@mail.gmail.com>
References: <CADsfhGCX2FersebjDRu0YaBJJ27JrgmOi5qcYnZYGKCZi27PVg@mail.gmail.com>
Message-ID: <F60C38EE-D022-47B3-BC08-8A1F40FDF1CD@dcn.davis.ca.us>

Your question seems like an information-free zone. "Quick" is an opinion unless you set the boundaries of your question much more precisely. The Posting Guide strongly recommends providing a reproducible example of what you want to discuss. In this case I would suggest that you use the microbenchmark package to quantify "quick" or "not quick".

In my experience, the most significant factors affecting speed are algorithms and features. You may be comparing a general purpose complete analysis function in one environment with a specific part of that analysis in another environment.

On June 12, 2019 7:36:13 AM PDT, "Kai L?hteenm?ki" <kai.j.lahteenmaki at gmail.com> wrote:
>I tested Microsoft's linear algebra etc "racer", works well
>Alsp simmer seems to be very quick.
>How other developments in getting R quick?
>reg Kai
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Fri Jun 14 04:00:46 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 13 Jun 2019 19:00:46 -0700
Subject: [R] 
 Merging a dataframe after subsetting with respect to several factors
In-Reply-To: <alpine.BSF.2.00.1906131718520.76172@pedal.dcn.davis.ca.us>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
 <CAGxFJbRwLQJwgquM6ZdWx_KOMtYP7Cb2gDLFQS0v5aTP=jqZhg@mail.gmail.com>
 <alpine.BSF.2.00.1906131718520.76172@pedal.dcn.davis.ca.us>
Message-ID: <CAGxFJbQW_7rRgvb6RB1P2RdcaA_D+Mx_0bj50+Mb=KYYQyuapQ@mail.gmail.com>

Jeff:
Your solution is not quite what she asked for (she wanted a data frame, not
a list).

Moreover, most of the time it is done automatically as the first step of a
tapply() /filter() type operation or is inherent in modeling and
trellis-type plots. I *still* suspect it is unnecessary, but of course I
could be wrong. That's why I asked for clarification.

Cheers,
Bert

On Thu, Jun 13, 2019 at 5:34 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> I do it regularly.
>
> Base R:
>
> result <- split( DF[ , 4, drop=FALSE ], DF[ , -4 ] )
>
> Tidyverse:
>
> library(tidyr)
> result <- nest( DF, time )
> filter( result, "a2"==a & "b1"==b & "c1"==c )[[ "data" ]]
>
> On Thu, 13 Jun 2019, Bert Gunter wrote:
>
> > Why? I suspect that there is no reason that you need to do this.
> >
> > Cheers,
> > Bert
> >
> > Bert Gunter
> >
> > "The trouble with having an open mind is that people keep coming along
> and
> > sticking things into it."
> > -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >
> >
> > On Thu, Jun 13, 2019 at 1:22 PM Tina Chatterjee <tinamunim2019 at gmail.com
> >
> > wrote:
> >
> >> Hello everyone!
> >> I have the following dataframe(df).
> >>
> >> a<-c("a1","a2","a2","a1","a1","a1")
> >> b<-c("b1","b1","b1","b1","b1","b2")
> >> c<-c("c1","c1","c1","c1","c1","c2")
> >> time <- c(runif(6,0,1))
> >>
> >> df<-data.frame(a,b,c,time)
> >> df
> >>
> >>    a  b  c       time
> >> 1 a1 b1 c1 0.28781082
> >> 2 a2 b1 c1 0.02102591
> >> 3 a2 b1 c1 0.72479220
> >> 4 a1 b1 c1 0.41947675
> >> 5 a1 b1 c1 0.58899855
> >> 6 a1 b2 c2 0.82414123
> >>
> >> Now, I want to extract the time components corresponding
> >> to the specific combination of the factors. Finally I have made a
> dataframe
> >> (df_1) with 2 columns one with the time components and the other with
> the
> >> level combinations.
> >>
> >> df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
> >> df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
> >> df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time
> >>
> >> val <- c(df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time,df[df$a=="a2" &
> >> df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" & df$b=="b2" &
> >> df$c=="c2",]$time)
> >> name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
> >> df_1 <- data.frame(val,name)
> >>
> >> I made it manually. In reality I have a lot of treatment combinations.
> So,
> >> could you please suggest how can I do this with a loop or any control
> >> sequence?
> >> Thanks and regards.
> >> Tina
> >>
> >>         [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live
> Go...
>                                        Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> ---------------------------------------------------------------------------
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Jun 14 07:55:38 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 13 Jun 2019 22:55:38 -0700 (PDT)
Subject: [R] 
 Merging a dataframe after subsetting with respect to several factors
In-Reply-To: <alpine.BSF.2.00.1906132205210.90833@pedal.dcn.davis.ca.us>
References: <CANycgN+==PS83zZqZ6wwo0Et5jkrtgULOdGaEkJJf3C58XO4Gg@mail.gmail.com>
 <CAGxFJbRwLQJwgquM6ZdWx_KOMtYP7Cb2gDLFQS0v5aTP=jqZhg@mail.gmail.com>
 <alpine.BSF.2.00.1906131718520.76172@pedal.dcn.davis.ca.us>
 <CAGxFJbQW_7rRgvb6RB1P2RdcaA_D+Mx_0bj50+Mb=KYYQyuapQ@mail.gmail.com>
 <CANycgNLHeAD18Cc4nVhtcPcu-u-SjrPiRcJgbkPfTqBVP5KGzQ@mail.gmail.com>
 <alpine.BSF.2.00.1906132205210.90833@pedal.dcn.davis.ca.us>
Message-ID: <alpine.BSF.2.00.1906132253440.90833@pedal.dcn.davis.ca.us>

Sorry... I missed that the mailing list had been removed from this email.

Tina... always keep the mailing list included when you ask questions.

On Thu, 13 Jun 2019, Jeff Newmiller wrote:

> I am sorry I did not read more closely earlier... I agree with Bert... you do 
> need to spend some time learning about vectorized operations (one statement 
> can affect all of the elements in a column... because a column is a vector). 
> However, you have provided an excellent reproducible example so I will give 
> you some thoughts on how you should approach studying R.
>
> For instance, you could experiment with the paste0 function:
>
> paste0( df$a, df$b )
>
> and if you want to pass all of the elements of a list to a function as 
> arguments...
>
> do.call( paste0, df )
>
> noting that your df data frame is in fact a list of columns.
>
> Of course, that combines all of the columns together, and you only wanted 
> some of them, so you really could read the sections on indexing in the 
> Introduction to R document that comes with the software and learn that you 
> can select some columns by indexing with a vector of integers:
>
> 1:3
>
> df[ , 1:3 ]
>
> then you could put it all together and create a data frame:
>
> df_1b <- data.frame( val = df$time
>                   , name = do.call( paste0, df[ , 1:3 ] )
>                   )
>
> Now while I have tried twice to answer your question, I will say that 
> responding to Bert by saying "you need it for further calculations" rather 
> than describing your larger task is like burning bridges to getting future 
> answers. If you come back and ask for help on what to do with your df_1 data 
> frame and it could have been achieved more simply without doing any of these 
> steps that you asked for, you now risk getting ignored. Perhaps someone else 
> will step in at that point, but reducing the pool of experts who are willing 
> to respond is not a very wise strategy. But if with every email you learn 
> something new about R and how to communicate on a mailing list, perhaps this 
> will just be a bump in a long and productive journey.
>
> On Fri, 14 Jun 2019, Tina Chatterjee wrote:
>
>> Dear Bert and Jeff,Sir,
>> I am a beginner in using R. I wanted a data frame because I need it for my
>> further calculations. So, could you please suggest how this can be done
>> using??tapply() /filter() function?
>> Regards.
>> Tina
>> 
>> On Fri, Jun 14, 2019 at 7:30 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>       Jeff:
>> Your solution is not quite what she asked for (she wanted a data
>> frame, not a list).
>> 
>> Moreover, most of the time it is done automatically as the first step
>> of a tapply() /filter() type operation or is inherent in modeling and
>> trellis-type plots. I *still* suspect it is unnecessary, but of course
>> I could be wrong. That's why I asked for clarification.
>> 
>> Cheers,
>> Bert
>> 
>> On Thu, Jun 13, 2019 at 5:34 PM Jeff Newmiller
>> <jdnewmil at dcn.davis.ca.us> wrote:
>>       I do it regularly.
>>
>>       Base R:
>>
>>       result <- split( DF[ , 4, drop=FALSE ], DF[ , -4 ] )
>>
>>       Tidyverse:
>>
>>       library(tidyr)
>>       result <- nest( DF, time )
>>       filter( result, "a2"==a & "b1"==b & "c1"==c )[[ "data" ]]
>>
>>       On Thu, 13 Jun 2019, Bert Gunter wrote:
>>
>>       > Why? I suspect that there is no reason that you need to
>>       do this.
>>       >
>>       > Cheers,
>>       > Bert
>>       >
>>       > Bert Gunter
>>       >
>>       > "The trouble with having an open mind is that people
>>       keep coming along and
>>       > sticking things into it."
>>       > -- Opus (aka Berkeley Breathed in his "Bloom County"
>>       comic strip )
>>       >
>>       >
>>       > On Thu, Jun 13, 2019 at 1:22 PM Tina Chatterjee
>>       <tinamunim2019 at gmail.com>
>>       > wrote:
>>       >
>>       >> Hello everyone!
>>       >> I have the following dataframe(df).
>>       >>
>>       >> a<-c("a1","a2","a2","a1","a1","a1")
>>       >> b<-c("b1","b1","b1","b1","b1","b2")
>>       >> c<-c("c1","c1","c1","c1","c1","c2")
>>       >> time <- c(runif(6,0,1))
>>       >>
>>       >> df<-data.frame(a,b,c,time)
>>       >> df
>>       >>
>>       >>? ? a? b? c? ? ? ?time
>>       >> 1 a1 b1 c1 0.28781082
>>       >> 2 a2 b1 c1 0.02102591
>>       >> 3 a2 b1 c1 0.72479220
>>       >> 4 a1 b1 c1 0.41947675
>>       >> 5 a1 b1 c1 0.58899855
>>       >> 6 a1 b2 c2 0.82414123
>>       >>
>>       >> Now, I want to extract the time components
>>       corresponding
>>       >> to the specific combination of the factors. Finally I
>>       have made a dataframe
>>       >> (df_1) with 2 columns one with the time components and
>>       the other with the
>>       >> level combinations.
>>       >>
>>       >> df[df$a=="a1" & df$b=="b1" & df$c=="c1",]$time
>>       >> df[df$a=="a2" & df$b=="b1" & df$c=="c1",]$time
>>       >> df[df$a=="a1" & df$b=="b2" & df$c=="c2",]$time
>>       >>
>>       >> val <- c(df[df$a=="a1" & df$b=="b1" &
>>       df$c=="c1",]$time,df[df$a=="a2" &
>>       >> df$b=="b1" & df$c=="c1",]$time,df[df$a=="a1" &
>>       df$b=="b2" &
>>       >> df$c=="c2",]$time)
>>       >> name <- c(rep("a1b1c1",3),rep("a2b1c1",2),"a1b2c2")
>>       >> df_1 <- data.frame(val,name)
>>       >>
>>       >> I made it manually. In reality I have a lot of
>>       treatment combinations. So,
>>       >> could you please suggest how can I do this with a loop
>>       or any control
>>       >> sequence?
>>       >> Thanks and regards.
>>       >> Tina
>>       >>
>>       >>? ? ? ? ?[[alternative HTML version deleted]]
>>       >>
>>       >> ______________________________________________
>>       >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
>>       more, see
>>       >> https://stat.ethz.ch/mailman/listinfo/r-help
>>       >> PLEASE do read the posting guide
>>       >> http://www.R-project.org/posting-guide.html
>>       >> and provide commented, minimal, self-contained,
>>       reproducible code.
>>       >>
>>       >
>>       >? ? ? ?[[alternative HTML version deleted]]
>>       >
>>       > ______________________________________________
>>       > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
>>       more, see
>>       > https://stat.ethz.ch/mailman/listinfo/r-help
>>       > PLEASE do read the posting guide
>>       http://www.R-project.org/posting-guide.html
>>       > and provide commented, minimal, self-contained,
>>       reproducible code.
>>       >
>> 
>> ---------------------------------------------------------------------------
>>
>>       Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ? ?.....? ? ?
>>       ?.....? Go Live...
>>       DCN:<jdnewmil at dcn.davis.ca.us>? ? ? ? Basics: ##.#.? ? ?
>>       ?##.#.? Live Go...
>>       ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?Live:? ?OO#.. Dead:
>>       OO#..? Playing
>>       Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ?
>>       ?#.O#.? with
>>       /Software/Embedded Controllers)? ? ? ? ? ? ? ?.OO#.? ? ?
>>       ?.OO#.? rocks...1k
>> ---------------------------------------------------------------------------
>> 
>> 
>> 
>
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                      Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> ---------------------------------------------------------------------------

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
---------------------------------------------------------------------------

From pd@me@ @end|ng |rom cb@@dk  Fri Jun 14 13:13:59 2019
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Fri, 14 Jun 2019 11:13:59 +0000
Subject: [R] R 3.6.1 scheduled for July 5
Message-ID: <CAF16E3F-C6A7-4045-804D-2F322D7E2A91@cbs.dk>

Full schedule is available on developer.r-project.org.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From @chw|dom @end|ng |rom gmx@net  Fri Jun 14 14:43:56 2019
From: @chw|dom @end|ng |rom gmx@net (Frank Schwidom)
Date: Fri, 14 Jun 2019 14:43:56 +0200
Subject: [R] Open a file which name contains a tilde
In-Reply-To: <20190612125012.6e2eb1ef@Draco.localdomain>
References: <20190605160714.GA24635@debian64>
 <20190612125012.6e2eb1ef@Draco.localdomain>
Message-ID: <20190614124356.GA19666@debian64>

Hi John,

First, the unix and linux filesystem allows the use of any nonzero character in its filesystem filenames and the c functions open / fopen, symlink. rename, chdir and so on  don't care about any tilde. If the open systemcall gets a file which begins with a tilde then it will try to open this filename without any preceding modification.

So the tilde expansion is not really a unix idiom. It is rather an idiom of its unix shells like bash. But beware, the bash treats the tilde as home path not in all cases.

Inside of quotes the tilde keeps unaltered. So bedides any cenvenience functionality which can lead to failing code the bash has a very clean way to access files in a unique way.

And here is the problem wirh R.

The R shell has no quoting mechanism for this use case. It provides the tilde expansion after a string has been defined. In the bash it is the opposite. First the string gets defined ( for instance ~"/abc.txt" would expand to "/home/user/abc.txt" or "~/abc.txt" keeps "~/abc.txt" and that means a directory named '~' with a directory entry named 'abc.txt' inside of it) and after it is defined it keeps consistent and can be passed to every function.

Actually R has already a clean string datatype. But by the transition to filesystem operations the expansion takes place. In my opinion at the wrong place. And additionally there exists no quoting mechanism which allows to keep tildes unaltered.  It would be better to clear distinguish between a string which is passed to the filesystem calls and some convenience expansion mechanisms.

But it is like it is. For my need I created a solution which takes strings unaltered and so I can fulfil my work.

And for whom who is interested in it, can take a look:

https://github.com/schwidom/simplefs

Suggestions are welcome.

Kind regards
Frank Schwidom



On 2019-06-12 12:50:12, John via R-help wrote:
> On Wed, 5 Jun 2019 18:07:15 +0200
> Frank Schwidom <schwidom at gmx.net> wrote:
>
> In reading file names, names with spaces require escaping of the
> spaces, and you are using not only a tilde but the space as spell.  The
> tilde is conventionally read as wild card representing the leading
> portion of the file address, which is what you see here:
>
> The long standing convention in unix and linux is that a tilde is
> shorthand for your home directory, just as "./" is the local directory
> and "../" is one step back up the directory tree. The output of
> path.expand() varies in how your string is constructed:
>
> 1. > path.expand("ab")
>    [1] "ab"
> 2. > path.expand("a b")
>    [1] "a b"
> 3. > path.expand("a ~b")
>    [1] "a ~b"
> 4. > path.expand("a ~ b")
>    [1] "a /home/john b"
> 5. > path.expand("a ~/b")
>    [1] "a /home/john/b"
> 6. > path.expand("~/a  b")
>    [1] "/home/john/a  b"
>
> Notice that the spaces have an effect on how the tilde is parsed in
> the string.  The next to last case sees a string with three elements:
> "a", the local path, and "b".  The last expands the tilde as the "path"
> to a hypothetical file "b" in the home directory. In the sixth case the
> same behaviour occurs.
>
> If you read the help for path.expand(), the routine expects
> "leading" tildes, which explains the free floating "path in the fourth
> example.  In the third example, where the forward slash is omitted, the
> routine simply treats the tilde as part of a string.
>
> Also note this at http://www.linfo.org/file_name.html:
>
> "...file names only use alphanumeric characters (mostly lower case),
> underscores, hyphens and periods. Other characters, such as dollar
> signs, percentage signs and brackets, have special meanings to the
> shell and can be distracting to work with. File names should never
> begin with a hyphen."
>
> The probable "bug" is that none of the programmers imagined that anyone
> would use special characters within file names, "legal" or not, (just
> not done, don't y' know). In any case the simple solution, if you
> really, really need a tilde in a filename, is to avoid setting it off in
> spaces, or any other character that could mislead a routine into
> treating it conventionally as shorthand for you home directory.
>
> JWDougherty
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From rv15| @end|ng |rom y@hoo@@e  Fri Jun 14 15:14:54 2019
From: rv15| @end|ng |rom y@hoo@@e (ravi)
Date: Fri, 14 Jun 2019 13:14:54 +0000 (UTC)
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
 <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
 <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>
Message-ID: <633920289.2290007.1560518094651@mail.yahoo.com>

 Hi Duncan,Thanks a lot for your help. You have really opened up a road for me to to pursue further.
Your later solution with cylinder3d is interesting. However, in my real application, I have several parallel planes and very irregular contours in each of them. So the quad3d command is more useful.? Are there more efficient ways of using this without the for loops??
Other points where I would like to have help are :? ? 1. I would like to smoothen the surface. But I have not been able to figure out how I can use the addNormals command along with quad3d. Are there other ways of improving the smoothness?
? ? 2. As I said before, I can have 5 to 6 parallel planes. Sometimes, the jump between two of them can be too high. So, I am thinking of using an interpolation method at an intermediate plane. Do you have any recommendations? I was thing of using a gam method where I make an additive model for y ~ s(x) + s(z). Then predict y at height z given x. I may have to figure out how I do this for closed curves (two or more values of y for a given x). I just wonder if you can indicate generally the route hat I should follow.
? ? 3. How do I make the surface transparent? How do I add an alpha value to the quad3d command?

Once again, I would like to thank you for your fantastic help.Thanking you,Ravi
    On Thursday, 13 June 2019, 22:52:07 CEST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:  
 
 On 13/06/2019 4:32 p.m., Duncan Murdoch wrote:
> On 13/06/2019 12:47 p.m., ravi via R-help wrote:
>> Hi,I want to plot a surface joining a circle on a plane with another circle (a little offset w.r.t. the first one) on a parallel plane. This is a very simplified version of my problem.
>> I will explain with the following code :
>> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
>> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
>> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
>> #### the z coordinates on two parallel plnesz1 <- rep(0,length(x1))z2 <- rep(1,length(x2))
>>
>> I have tried to plot my 3d figure using the packages plot3D, misc3d, rgl etc. All these packages require z as a matrix. In my case, all of x,y and z are vectors. How can I plot this surface? In addition, I would like to add similiar surfaces to the same plot.
> 
> It's not true that rgl requires z as a matrix:? that's one possibility,
> but there are others.? Here's one way to do what you want.
> 
> # First, compute the two circles
> orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
> x1 <- orig1+radius1*cos(theta)
> y1 <- orig1+radius1*sin(theta)
> orig2 <- 0.7;radius2=0.2
> x2 <- orig2+radius2*cos(theta)
> y2 <- orig2+radius2*sin(theta)
> 
> #### the z coordinates on two parallel plnes
> z1 <- rep(0,length(x1))
> z2 <- rep(1,length(x2))
> 
> library(rgl)
> p1 <- cbind(x1,y1,z1)
> plot3d(p1, col="red")
> p2 <- cbind(x2, y2, z2)
> points3d(p2, col="blue")
> 
> quads <- matrix(numeric(), 0, 3)
> for (i in seq_along(x1)[-1]) {
>? ? quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
> }
> quads3d(quads, col = "green")
> 
> There are more efficient ways to do this (the for loop would be slow if
> you had bigger vectors), but this should give you the idea.

Here's one of the more efficient ways:

cylinder3d(rbind(c(0.4, 0.4, 0), c(0.7, 0.7, 1)),
? ? ? ? ? ? radius = c(0.3, 0.2),
? ? ? ? ? ? e1 = rbind(c(0,0,1), c(0,0,1)), sides=20) %>%
? ? ? ? ? ? addNormals() %>%
? ? ? ? ? ? shade3d(col = "green")

Duncan Murdoch
  
	[[alternative HTML version deleted]]


From ju@t|nen@@ejje @end|ng |rom gm@||@com  Fri Jun 14 16:11:57 2019
From: ju@t|nen@@ejje @end|ng |rom gm@||@com (Justine Nasejje)
Date: Fri, 14 Jun 2019 16:11:57 +0200
Subject: [R] Editing an R source code
Message-ID: <CAGjsBx0idSp5RWtL60zn23WHYDXdJBA8DAYo6jdtWPFDnrv=vA@mail.gmail.com>

I would love to use my own split-rule in the existing R package for random
survival forests (randomForestSRC). Unfortunately, I have failed to locate
the file where the splitting rules where coded in the source file. Is there
anybody with an idea of how to find this specific file? Thank you!
Dr Justine Nasejje,
Email: justine.nasejje at wits.ac.za,
Lecturer at the University of the Witwatersrand,
School of Statistics and Actuarial Science,
Private Bag 3, Wits, 2050, Johannesburg,
South Africa.
*I have held many things in my hands, and I have lost them all; but
whatever I have placed in God?s hands, that I still possess. ~Corrie ten
Boom~*

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Jun 14 16:22:59 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 14 Jun 2019 07:22:59 -0700
Subject: [R] Editing an R source code
In-Reply-To: <CAGjsBx0idSp5RWtL60zn23WHYDXdJBA8DAYo6jdtWPFDnrv=vA@mail.gmail.com>
References: <CAGjsBx0idSp5RWtL60zn23WHYDXdJBA8DAYo6jdtWPFDnrv=vA@mail.gmail.com>
Message-ID: <CAGxFJbRi1DWNjK1OuoeR=fvY8zAJ4iQ+pjndRHK7JHH2M5dk1w@mail.gmail.com>

Google it!
"Where is R source code for functions?"

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Fri, Jun 14, 2019 at 7:12 AM Justine Nasejje <justinenasejje at gmail.com>
wrote:

> I would love to use my own split-rule in the existing R package for random
> survival forests (randomForestSRC). Unfortunately, I have failed to locate
> the file where the splitting rules where coded in the source file. Is there
> anybody with an idea of how to find this specific file? Thank you!
> Dr Justine Nasejje,
> Email: justine.nasejje at wits.ac.za,
> Lecturer at the University of the Witwatersrand,
> School of Statistics and Actuarial Science,
> Private Bag 3, Wits, 2050, Johannesburg,
> South Africa.
> *I have held many things in my hands, and I have lost them all; but
> whatever I have placed in God?s hands, that I still possess. ~Corrie ten
> Boom~*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Fri Jun 14 16:50:09 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 14 Jun 2019 14:50:09 +0000
Subject: [R] Editing an R source code
In-Reply-To: <CAGjsBx0idSp5RWtL60zn23WHYDXdJBA8DAYo6jdtWPFDnrv=vA@mail.gmail.com>
References: <CAGjsBx0idSp5RWtL60zn23WHYDXdJBA8DAYo6jdtWPFDnrv=vA@mail.gmail.com>
Message-ID: <1c30579c26a1451695eac321b5e8edc3@SRVEXCHCM1302.precheza.cz>

Hi

I do not use this package but this is written in manual:

Custom splitting: All families except unsupervised are available for user defined custom
splitting. Some basic C-programming skills are required. The harness for defining these
rules is in splitCustom.c. In this file we give examples of how to code rules for regression,
classification, survival, and competing risk. Each family can support up to sixteen
custom split rules. Specifying splitrule="custom" or splitrule="custom1" will trigger
the first split rule for the family defined by the training data set. Multivariate families
will need a custom split rule for both regression and classification. In the examples, we
demonstrate how the user is presented with the node specific membership. The task is
then to define a split statistic based on that membership. Take note of the instructions in
splitCustom.c on how to register the custom split rules. It is suggested that the existing
custom split rules be kept in place for reference and that the user proceed to develop
splitrule="custom2" and so on. The package must be recompiled and installed for the
custom split rules to become available.

Although I suspect that if you had problems locating source file you will have even more problems in coding your custom split rules and compiling the package

https://github.com/kogalur/randomForestSRC/blob/master/src/main/c/splitCustom.c

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Justine Nasejje
> Sent: Friday, June 14, 2019 4:12 PM
> To: r-help at r-project.org
> Subject: [R] Editing an R source code
>
> I would love to use my own split-rule in the existing R package for random
> survival forests (randomForestSRC). Unfortunately, I have failed to locate the
> file where the splitting rules where coded in the source file. Is there anybody
> with an idea of how to find this specific file? Thank you!
> Dr Justine Nasejje,
> Email: justine.nasejje at wits.ac.za,
> Lecturer at the University of the Witwatersrand, School of Statistics and
> Actuarial Science, Private Bag 3, Wits, 2050, Johannesburg, South Africa.
> *I have held many things in my hands, and I have lost them all; but whatever I
> have placed in God?s hands, that I still possess. ~Corrie ten
> Boom~*
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From morg@n@em@||box @end|ng |rom gm@||@com  Fri Jun 14 00:19:04 2019
From: morg@n@em@||box @end|ng |rom gm@||@com (Morgan Morgan)
Date: Thu, 13 Jun 2019 23:19:04 +0100
Subject: [R] R C API resize matrice
Message-ID: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>

Hi,

Is there a way to resize a matrix defined as follows:

SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
int *pa  = INTEGER(a)

To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
pointer *pb and do a "for" loop to transfer the value of a to b?

Thank you
Best regards
Morgan

	[[alternative HTML version deleted]]


From @oko| @end|ng |rom |n@@-tou|ou@e@|r  Fri Jun 14 14:58:02 2019
From: @oko| @end|ng |rom |n@@-tou|ou@e@|r (Serguei Sokol)
Date: Fri, 14 Jun 2019 14:58:02 +0200
Subject: [R] [Rd]  Open a file which name contains a tilde
In-Reply-To: <20190614124356.GA19666@debian64>
References: <20190605160714.GA24635@debian64>
 <20190612125012.6e2eb1ef@Draco.localdomain> <20190614124356.GA19666@debian64>
Message-ID: <f8074d2b-8e4d-1eec-f531-7adca44e99e3@insa-toulouse.fr>

On 14/06/2019 14:43, Frank Schwidom wrote:
> Hi John,
>
> First, the unix and linux filesystem allows the use of any nonzero character in its filesystem filenames
Well, even it's not the central point of the discussion let make this 
assertion more correct. It depends on file system. E.g. JFS 
(https://en.wikipedia.org/wiki/JFS_%28file_system%29) abides to this 
rule while very popular ext4 (https://en.wikipedia.org/wiki/Ext4) does 
not. In addition to NUL character, the latter forbids '/' as well.

Best,
Serguei.


From bgunter@4567 @end|ng |rom gm@||@com  Fri Jun 14 21:17:07 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 14 Jun 2019 12:17:07 -0700
Subject: [R] R C API resize matrice
In-Reply-To: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
References: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
Message-ID: <CAGxFJbRe5vrbkdA1G_jTNRgYbuDpri7CiQS-jSDLF1uCujQaTQ@mail.gmail.com>

Please do not re-post -- you have asked this before here. As this list is
about R programming help, it is perhaps not surprising that you did not
receive a reply.

You might try R-devel instead where " Questions likely to prompt discussion
unintelligible to non-programmers or topics that are too technical for
R-help?s audience should go to R-devel..."

Cheers,
Bert

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Fri, Jun 14, 2019 at 11:41 AM Morgan Morgan <morgan.emailbox at gmail.com>
wrote:

> Hi,
>
> Is there a way to resize a matrix defined as follows:
>
> SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
> int *pa  = INTEGER(a)
>
> To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
> pointer *pb and do a "for" loop to transfer the value of a to b?
>
> Thank you
> Best regards
> Morgan
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From B|||@Po||ng @end|ng |rom ze||@@com  Fri Jun 14 21:29:41 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Fri, 14 Jun 2019 19:29:41 +0000
Subject: [R] Help with a third ggplot error
Message-ID: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>

#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
Deja Vu all over again! (God I hope it's not a typo!)

The error at the point of the plot is:
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

I hope someone recognizes my problem.

Thank you for any assistance.

#Here is the code and particulars of the data being plotted

#Fit the arima model

fit_arima2 <- train_tbl %>%
  tk_ts(select = NetEditRev, frequency = 364) %>%
  Arima(order = c(1,0,2),
        seasonal=c(0,1,0),
        include.drift = TRUE)

#Forecast with Sweep Functions----

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date")

#Save the DF

fs::dir_create("00_model")

fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")

fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")

head(fcast_arima_tbl1)

# A tibble: 6 x 7
  date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
  <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
1 2017-01-01 actual      -923.    NA    NA    NA    NA
2 2017-01-02 actual     19222.    NA    NA    NA    NA
3 2017-01-03 actual     -8397.    NA    NA    NA    NA
4 2017-01-04 actual     37697.    NA    NA    NA    NA
5 2017-01-05 actual     46075.    NA    NA    NA    NA
6 2017-01-06 actual     38329.    NA    NA    NA    NA

str(fcast_arima_tbl1)
Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
 $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
 $ key       : chr  "actual" "actual" "actual" "actual" ...
 $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
 $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...

#Plot the model

g4 <- fcast_arima_tbl1 %>%
  ggplot(aes(date, NetEditRev, color = key)) +
  geom_point(data = test_tbl %>% mutate(key = "actual")) +
  geom_point(alpha = 0.5) +
  theme_tq() +
  scale_color_tq() +
  labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")

g4
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

ggplotly(g4) %>%
  layout(xaxis = list(rangeslider = list(type = "date")))
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function


#Alternative changes that I have tried based on google searches, but have their own errors.

# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: object 'key' not found
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl) +
#   filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?


Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Jun 14 21:37:07 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 14 Jun 2019 15:37:07 -0400
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <633920289.2290007.1560518094651@mail.yahoo.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
 <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
 <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>
 <633920289.2290007.1560518094651@mail.yahoo.com>
Message-ID: <8da9b965-248e-ccc9-b984-2bd74ef711ed@gmail.com>

On 14/06/2019 9:14 a.m., ravi wrote:
> Hi Duncan,
> Thanks a lot for your help. You have really opened up a road for me to 
> to pursue further.
> 
> Your later solution with cylinder3d is interesting. However, in my real 
> application, I have several parallel planes and very irregular contours 
> in each of them. So the quad3d command is more useful.? Are there more 
> efficient ways of using this without the for loops?

Yes, but you need to work out a longer vector of indices into the p1 and 
p2 vectors.  Depending on how you store your data that could be just 
tedious or really hard:  do you know how the vertices in p1 and p2 
correspond?  If they are general curves with no connection, that can be 
a tricky question.


> 
> Other points where I would like to have help are :
>  ? ? 1. I would like to smoothen the surface. But I have not been able 
> to figure out how I can use the addNormals command along with quad3d. 
> Are there other ways of improving the smoothness?

addNormals works on mesh objects, which can contain either quads or 
triangles.  If you've done the calculations to plot quads, you can 
create a qmesh3d object instead.  Create one matrix holding the 
coordinates of all vertices (ideally with no repetitions), and another 
matrix containing the indices of vertices which make up the quads.

For example, starting with the code I posted before, this comes quite close:

vertices <- cbind(t(p1), t(p2))
n <- nrow(p1)
indices <- rbind(2:n, 1:(n-1), n + 1:(n-1), n + 2:n)
cyl <- qmesh3d(vertices, indices, homogeneous = FALSE)
shade3d(addNormals(cyl), col = "red")

It's not quite right because vertices 1 and n have the same coordinates, 
as do vertices n+1 and 2*n; you really want to set it up so vertices are 
uniquely defined.

>  ? ? 2. As I said before, I can have 5 to 6 parallel planes. Sometimes, 
> the jump between two of them can be too high. So, I am thinking of using 
> an interpolation method at an intermediate plane. Do you have any 
> recommendations? I was thing of using a gam method where I make an 
> additive model for y ~ s(x) + s(z). Then predict y at height z given x. 
> I may have to figure out how I do this for closed curves (two or more 
> values of y for a given x). I just wonder if you can indicate generally 
> the route hat I should follow.

Nope, no idea on this one.  You might want to use the misc3d::contour3d 
function rather than working this all out for yourself, but it takes 
different inputs than you've described.

>  ? ? 3. How do I make the surface transparent? How do I add an alpha 
> value to the quad3d command?

That's a material property, so you can just put it in as part of the 
dots.  For the meshes, it would go into the shade3d() call in the same 
way, or the material argument to qmesh3d.

Duncan Murdoch

> 
> Once again, I would like to thank you for your fantastic help.
> Thanking you,
> Ravi
> 
> On Thursday, 13 June 2019, 22:52:07 CEST, Duncan Murdoch 
> <murdoch.duncan at gmail.com> wrote:
> 
> 
> On 13/06/2019 4:32 p.m., Duncan Murdoch wrote:
>  > On 13/06/2019 12:47 p.m., ravi via R-help wrote:
>  >> Hi,I want to plot a surface joining a circle on a plane with another 
> circle (a little offset w.r.t. the first one) on a parallel plane. This 
> is a very simplified version of my problem.
>  >> I will explain with the following code :
>  >> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- 
> seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
>  >> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- 
> orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
>  >> 
> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
>  >> #### the z coordinates on two parallel plnesz1 <- 
> rep(0,length(x1))z2 <- rep(1,length(x2))
>  >>
>  >> I have tried to plot my 3d figure using the packages plot3D, misc3d, 
> rgl etc. All these packages require z as a matrix. In my case, all of 
> x,y and z are vectors. How can I plot this surface? In addition, I would 
> like to add similiar surfaces to the same plot.
>  >
>  > It's not true that rgl requires z as a matrix:? that's one possibility,
>  > but there are others.? Here's one way to do what you want.
>  >
>  > # First, compute the two circles
>  > orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
>  > x1 <- orig1+radius1*cos(theta)
>  > y1 <- orig1+radius1*sin(theta)
>  > orig2 <- 0.7;radius2=0.2
>  > x2 <- orig2+radius2*cos(theta)
>  > y2 <- orig2+radius2*sin(theta)
>  >
>  > #### the z coordinates on two parallel plnes
>  > z1 <- rep(0,length(x1))
>  > z2 <- rep(1,length(x2))
>  >
>  > library(rgl)
>  > p1 <- cbind(x1,y1,z1)
>  > plot3d(p1, col="red")
>  > p2 <- cbind(x2, y2, z2)
>  > points3d(p2, col="blue")
>  >
>  > quads <- matrix(numeric(), 0, 3)
>  > for (i in seq_along(x1)[-1]) {
>  >? ? quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
>  > }
>  > quads3d(quads, col = "green")
>  >
>  > There are more efficient ways to do this (the for loop would be slow if
>  > you had bigger vectors), but this should give you the idea.
> 
> Here's one of the more efficient ways:
> 
> cylinder3d(rbind(c(0.4, 0.4, 0), c(0.7, 0.7, 1)),
>  ? ? ? ? ? ? radius = c(0.3, 0.2),
>  ? ? ? ? ? ? e1 = rbind(c(0,0,1), c(0,0,1)), sides=20) %>%
>  ? ? ? ? ? ? addNormals() %>%
>  ? ? ? ? ? ? shade3d(col = "green")
> 
> 
> Duncan Murdoch


From @zwj|08 @end|ng |rom gm@||@com  Sat Jun 15 01:15:11 2019
From: @zwj|08 @end|ng |rom gm@||@com (King Jiefei)
Date: Fri, 14 Jun 2019 19:15:11 -0400
Subject: [R] R C API resize matrice
In-Reply-To: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
References: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
Message-ID: <CAGiFhPNDX-Hqd4Va4Qp5Ti2jSD=F9uX9VSn4EbEPAGM0voO+wA@mail.gmail.com>

Hi,

I don't think there is a native R API to do what you want here, but if the
matrix is only used by you and not be exported to the other user, you can
hack R data structure to achieve that goal.

Because there is not too much context of your question, I will assume the
whole point of resizing a matrix is to avoid the overhead of memory
allocation, not to represent the same matrix with different dimension since
your 'new' matrix has a different number of elements.

Roughly speaking, a matrix in R is nothing but a vector with a dim
attribute, you can verify it by R code:
```
> A=matrix(1:6,2,3)
> A
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
> attributes(A)
$dim
[1] 2 3

> attributes(A)=NULL
> A
[1] 1 2 3 4 5 6
```
Therefore, in order to resize the matrix, you need to change the dim
attribute( to a smaller size). Unfortunately, R does its best to prevent
you from doing such dangerous operation( and you should know this is* not
correct!*), you have to go to the C level to hack R internal data
structure. Let's say you want to resize the matrix A to a 2-by-2 matrix,
here is what you need to do:

C code:
The code sets the second value of the dim attribute to 2.
```
// [[Rcpp::export]]
void I_know_it_is_not_correct(SEXP x,SEXP attrName) {
INTEGER(Rf_getAttrib(x, attrName))[1]=2;
}
```

R code:
```
> a=matrix(1:6,2,3)
> I_know_it_is_not_correct(a,as.symbol("dim"))
> a
     [,1] [,2]
[1,]    1    3
[2,]    2    4
> attributes(a)
$dim
[1] 2 2
```

You get what you want. Please use it with your caution.

Best,
Jiefei


On Fri, Jun 14, 2019 at 2:41 PM Morgan Morgan <morgan.emailbox at gmail.com>
wrote:

> Hi,
>
> Is there a way to resize a matrix defined as follows:
>
> SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
> int *pa  = INTEGER(a)
>
> To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
> pointer *pb and do a "for" loop to transfer the value of a to b?
>
> Thank you
> Best regards
> Morgan
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From morg@n@em@||box @end|ng |rom gm@||@com  Sat Jun 15 13:19:29 2019
From: morg@n@em@||box @end|ng |rom gm@||@com (Morgan Morgan)
Date: Sat, 15 Jun 2019 12:19:29 +0100
Subject: [R] R C API resize matrice
In-Reply-To: <CAGiFhPNDX-Hqd4Va4Qp5Ti2jSD=F9uX9VSn4EbEPAGM0voO+wA@mail.gmail.com>
References: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
 <CAGiFhPNDX-Hqd4Va4Qp5Ti2jSD=F9uX9VSn4EbEPAGM0voO+wA@mail.gmail.com>
Message-ID: <CAL0QV_PyLE-LVs3HRqwxeD4TVpgYaROtK+OaejX9=svau5biRg@mail.gmail.com>

Hi Jiedei,

Thank you for your reply.

To give you a bit more context, I wrote a function that find all the
positions (index) of all small matrices inside a larger matrix. At the
beginning I pre-allocate let's say a 100 by 2 matrix. However a lot of
values might remain empty in this matrix of postions so I have to resize it
down to keep only the relevant value. Does it make sense?

Please let me know what you think and if there is a safer way to do it?

Please let me know if you want more information or have any questions.

Best regards
Morgan

On Sat, 15 Jun 2019 00:15 King Jiefei, <szwjf08 at gmail.com> wrote:

> Hi,
>
> I don't think there is a native R API to do what you want here, but if the
> matrix is only used by you and not be exported to the other user, you can
> hack R data structure to achieve that goal.
>
> Because there is not too much context of your question, I will assume the
> whole point of resizing a matrix is to avoid the overhead of memory
> allocation, not to represent the same matrix with different dimension since
> your 'new' matrix has a different number of elements.
>
> Roughly speaking, a matrix in R is nothing but a vector with a dim
> attribute, you can verify it by R code:
> ```
> > A=matrix(1:6,2,3)
> > A
>      [,1] [,2] [,3]
> [1,]    1    3    5
> [2,]    2    4    6
> > attributes(A)
> $dim
> [1] 2 3
>
> > attributes(A)=NULL
> > A
> [1] 1 2 3 4 5 6
> ```
> Therefore, in order to resize the matrix, you need to change the dim
> attribute( to a smaller size). Unfortunately, R does its best to prevent
> you from doing such dangerous operation( and you should know this is* not
> correct!*), you have to go to the C level to hack R internal data
> structure. Let's say you want to resize the matrix A to a 2-by-2 matrix,
> here is what you need to do:
>
> C code:
> The code sets the second value of the dim attribute to 2.
> ```
> // [[Rcpp::export]]
> void I_know_it_is_not_correct(SEXP x,SEXP attrName) {
> INTEGER(Rf_getAttrib(x, attrName))[1]=2;
> }
> ```
>
> R code:
> ```
> > a=matrix(1:6,2,3)
> > I_know_it_is_not_correct(a,as.symbol("dim"))
> > a
>      [,1] [,2]
> [1,]    1    3
> [2,]    2    4
> > attributes(a)
> $dim
> [1] 2 2
> ```
>
> You get what you want. Please use it with your caution.
>
> Best,
> Jiefei
>
>
> On Fri, Jun 14, 2019 at 2:41 PM Morgan Morgan <morgan.emailbox at gmail.com>
> wrote:
>
>> Hi,
>>
>> Is there a way to resize a matrix defined as follows:
>>
>> SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
>> int *pa  = INTEGER(a)
>>
>> To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
>> pointer *pb and do a "for" loop to transfer the value of a to b?
>>
>> Thank you
>> Best regards
>> Morgan
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From @zwj|08 @end|ng |rom gm@||@com  Sat Jun 15 17:45:38 2019
From: @zwj|08 @end|ng |rom gm@||@com (King Jiefei)
Date: Sat, 15 Jun 2019 11:45:38 -0400
Subject: [R] R C API resize matrice
In-Reply-To: <CAL0QV_PyLE-LVs3HRqwxeD4TVpgYaROtK+OaejX9=svau5biRg@mail.gmail.com>
References: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
 <CAGiFhPNDX-Hqd4Va4Qp5Ti2jSD=F9uX9VSn4EbEPAGM0voO+wA@mail.gmail.com>
 <CAL0QV_PyLE-LVs3HRqwxeD4TVpgYaROtK+OaejX9=svau5biRg@mail.gmail.com>
Message-ID: <CAGiFhPMsvOGNBGj=+g2+4NdATkKPayJ=7r8eWcH8Wmd6-MLOSw@mail.gmail.com>

Hi Morgan,

Thanks for the context, it seems like you want to compress your matrix and
you expect the "new" matrix should contain the same amount of information
as the "old" one, it is correct?

If this is the case, since you are using C++ code, a safer but imperfect
solution is to find a C++ data structure to achieve your goal. For using
the result in R without a cost of memory allocation, you can then create a
matrix via ALTREP. ALTREP is a set of new APIs provided by R since 3.5. The
idea of ALTREP is to wrap a non-R object (e.g. std::vector) and to use it
as a vector in R (In your case, it is a vector with dim attribute).
Therefore, for your result, it will behave like a matrix in R but is
actually a C++ object. The only cost you have to pay is the allocation of
an ALTREP and an additional dim attribute.

Unfortunately, ALTREP is still under development and there is only limited
documentation. Here are some very useful resources:

https://purrple.cat/blog/2018/10/14/altrep-and-cpp/

https://github.com/ALTREP-examples

Here is my shameless self-promotion of the package AltWrapper, which
provide users the ability to use ALTREP with pure R language. It is still
at the early stage so you need to use `devtools::load_all()` to install it.

https://github.com/Jiefei-Wang/AltWrapper

Here is a simple example to show how to use this package to resize a matrix
without doing any copy:

Functions preparation:

```
## report the length of the "new" matrix
length_func <- function(x) {
  return(x$length)
}
## Get an element from the data.
## Since the index is for the "new" matrix
## You need to recompute the index to get
## the data from the old matrix
get_element_func <- function(x, i) {
  trueDim = x$trueDim
  targetDim = x$targetDim
  ## Find the correct coordinate
  ind_y = floor((i - 1) / targetDim[1]) + 1
  ind_x = i - (ind_y - 1) * targetDim[1]
  ## Recompute the ith element
  i_new = ind_x + (ind_y - 1) * trueDim[1]
  return(x$data[i_new])
}

## Changing an attribute of an ALTREP object will cause
## a duplication of the object, this might be fixed in future.
## here is a quick workaround of it. We just return the same object.
duplicate_func <- function(x, deep) {
  C_create_altrep("compressedMatrix", x)
}

C_set_altrep_class("compressedMatrix", "real")
C_set_altrep_length_method("compressedMatrix", length_func)
C_set_altrep_get_element_method("compressedMatrix", get_element_func)
C_set_altrep_subset_method("compressedMatrix", get_subset_func)
C_set_altrep_duplicate_method("compressedMatrix", duplicate_func)
```

Usage:
```
A = matrix(1:9, 3, 3)
targetDim = c(2, 2)
A_compressed = C_create_altrep(
  "compressedMatrix",
  list(
    data = A,
    trueDim = dim(A),
    targetDim = targetDim,
    length = targetDim[1] * targetDim[2]
  )
)
attr(A_compressed, "dim") = targetDim
```

Results:
```
> A
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9
> A_compressed[, ]
     [,1] [,2]
[1,]    1    4
[2,]    2    5
```

The variable `A_compressed` does not have its own data, it relies on the
data from the variable `A` and works like a 2-by-2 matrix. However, due to
the incompletion of ALTREP, you are not able to call `A_compressed`
directly, this can be expected to be fixed in future R release.

Please let me know if you have any questions.

Best,
Jiefei


On Sat, Jun 15, 2019 at 7:19 AM Morgan Morgan <morgan.emailbox at gmail.com>
wrote:

> Hi Jiedei,
>
> Thank you for your reply.
>
> To give you a bit more context, I wrote a function that find all the
> positions (index) of all small matrices inside a larger matrix. At the
> beginning I pre-allocate let's say a 100 by 2 matrix. However a lot of
> values might remain empty in this matrix of postions so I have to resize it
> down to keep only the relevant value. Does it make sense?
>
> Please let me know what you think and if there is a safer way to do it?
>
> Please let me know if you want more information or have any questions.
>
> Best regards
> Morgan
>
> On Sat, 15 Jun 2019 00:15 King Jiefei, <szwjf08 at gmail.com> wrote:
>
>> Hi,
>>
>> I don't think there is a native R API to do what you want here, but if
>> the matrix is only used by you and not be exported to the other user, you
>> can hack R data structure to achieve that goal.
>>
>> Because there is not too much context of your question, I will assume the
>> whole point of resizing a matrix is to avoid the overhead of memory
>> allocation, not to represent the same matrix with different dimension since
>> your 'new' matrix has a different number of elements.
>>
>> Roughly speaking, a matrix in R is nothing but a vector with a dim
>> attribute, you can verify it by R code:
>> ```
>> > A=matrix(1:6,2,3)
>> > A
>>      [,1] [,2] [,3]
>> [1,]    1    3    5
>> [2,]    2    4    6
>> > attributes(A)
>> $dim
>> [1] 2 3
>>
>> > attributes(A)=NULL
>> > A
>> [1] 1 2 3 4 5 6
>> ```
>> Therefore, in order to resize the matrix, you need to change the dim
>> attribute( to a smaller size). Unfortunately, R does its best to prevent
>> you from doing such dangerous operation( and you should know this is*
>> not correct!*), you have to go to the C level to hack R internal data
>> structure. Let's say you want to resize the matrix A to a 2-by-2 matrix,
>> here is what you need to do:
>>
>> C code:
>> The code sets the second value of the dim attribute to 2.
>> ```
>> // [[Rcpp::export]]
>> void I_know_it_is_not_correct(SEXP x,SEXP attrName) {
>> INTEGER(Rf_getAttrib(x, attrName))[1]=2;
>> }
>> ```
>>
>> R code:
>> ```
>> > a=matrix(1:6,2,3)
>> > I_know_it_is_not_correct(a,as.symbol("dim"))
>> > a
>>      [,1] [,2]
>> [1,]    1    3
>> [2,]    2    4
>> > attributes(a)
>> $dim
>> [1] 2 2
>> ```
>>
>> You get what you want. Please use it with your caution.
>>
>> Best,
>> Jiefei
>>
>>
>> On Fri, Jun 14, 2019 at 2:41 PM Morgan Morgan <morgan.emailbox at gmail.com>
>> wrote:
>>
>>> Hi,
>>>
>>> Is there a way to resize a matrix defined as follows:
>>>
>>> SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
>>> int *pa  = INTEGER(a)
>>>
>>> To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
>>> pointer *pb and do a "for" loop to transfer the value of a to b?
>>>
>>> Thank you
>>> Best regards
>>> Morgan
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>

	[[alternative HTML version deleted]]


From @zwj|08 @end|ng |rom gm@||@com  Sat Jun 15 17:51:27 2019
From: @zwj|08 @end|ng |rom gm@||@com (King Jiefei)
Date: Sat, 15 Jun 2019 11:51:27 -0400
Subject: [R] R C API resize matrice
In-Reply-To: <CAGiFhPMsvOGNBGj=+g2+4NdATkKPayJ=7r8eWcH8Wmd6-MLOSw@mail.gmail.com>
References: <CAL0QV_P-hUqiR+FPAn3m8h3aGzD3VqwmP+J+GBSns0HekUagfw@mail.gmail.com>
 <CAGiFhPNDX-Hqd4Va4Qp5Ti2jSD=F9uX9VSn4EbEPAGM0voO+wA@mail.gmail.com>
 <CAL0QV_PyLE-LVs3HRqwxeD4TVpgYaROtK+OaejX9=svau5biRg@mail.gmail.com>
 <CAGiFhPMsvOGNBGj=+g2+4NdATkKPayJ=7r8eWcH8Wmd6-MLOSw@mail.gmail.com>
Message-ID: <CAGiFhPM3JjSYxOnz=e_M7K46SdW6p8pJZ5FCD+1v4XxdYvbSkw@mail.gmail.com>

Hi Morgan,

In the example, please ignore
`C_set_altrep_subset_method("compressedMatrix", get_subset_func)`. You do
not have to define it to run the example.

Best,
Jiefei

On Sat, Jun 15, 2019 at 11:45 AM King Jiefei <szwjf08 at gmail.com> wrote:

> Hi Morgan,
>
> Thanks for the context, it seems like you want to compress your matrix and
> you expect the "new" matrix should contain the same amount of information
> as the "old" one, it is correct?
>
> If this is the case, since you are using C++ code, a safer but imperfect
> solution is to find a C++ data structure to achieve your goal. For using
> the result in R without a cost of memory allocation, you can then create a
> matrix via ALTREP. ALTREP is a set of new APIs provided by R since 3.5. The
> idea of ALTREP is to wrap a non-R object (e.g. std::vector) and to use it
> as a vector in R (In your case, it is a vector with dim attribute).
> Therefore, for your result, it will behave like a matrix in R but is
> actually a C++ object. The only cost you have to pay is the allocation of
> an ALTREP and an additional dim attribute.
>
> Unfortunately, ALTREP is still under development and there is only limited
> documentation. Here are some very useful resources:
>
> https://purrple.cat/blog/2018/10/14/altrep-and-cpp/
>
> https://github.com/ALTREP-examples
>
> Here is my shameless self-promotion of the package AltWrapper, which
> provide users the ability to use ALTREP with pure R language. It is still
> at the early stage so you need to use `devtools::load_all()` to install it.
>
> https://github.com/Jiefei-Wang/AltWrapper
>
> Here is a simple example to show how to use this package to resize a
> matrix without doing any copy:
>
> Functions preparation:
>
> ```
> ## report the length of the "new" matrix
> length_func <- function(x) {
>   return(x$length)
> }
> ## Get an element from the data.
> ## Since the index is for the "new" matrix
> ## You need to recompute the index to get
> ## the data from the old matrix
> get_element_func <- function(x, i) {
>   trueDim = x$trueDim
>   targetDim = x$targetDim
>   ## Find the correct coordinate
>   ind_y = floor((i - 1) / targetDim[1]) + 1
>   ind_x = i - (ind_y - 1) * targetDim[1]
>   ## Recompute the ith element
>   i_new = ind_x + (ind_y - 1) * trueDim[1]
>   return(x$data[i_new])
> }
>
> ## Changing an attribute of an ALTREP object will cause
> ## a duplication of the object, this might be fixed in future.
> ## here is a quick workaround of it. We just return the same object.
> duplicate_func <- function(x, deep) {
>   C_create_altrep("compressedMatrix", x)
> }
>
> C_set_altrep_class("compressedMatrix", "real")
> C_set_altrep_length_method("compressedMatrix", length_func)
> C_set_altrep_get_element_method("compressedMatrix", get_element_func)
> C_set_altrep_subset_method("compressedMatrix", get_subset_func)
> C_set_altrep_duplicate_method("compressedMatrix", duplicate_func)
> ```
>
> Usage:
> ```
> A = matrix(1:9, 3, 3)
> targetDim = c(2, 2)
> A_compressed = C_create_altrep(
>   "compressedMatrix",
>   list(
>     data = A,
>     trueDim = dim(A),
>     targetDim = targetDim,
>     length = targetDim[1] * targetDim[2]
>   )
> )
> attr(A_compressed, "dim") = targetDim
> ```
>
> Results:
> ```
> > A
>      [,1] [,2] [,3]
> [1,]    1    4    7
> [2,]    2    5    8
> [3,]    3    6    9
> > A_compressed[, ]
>      [,1] [,2]
> [1,]    1    4
> [2,]    2    5
> ```
>
> The variable `A_compressed` does not have its own data, it relies on the
> data from the variable `A` and works like a 2-by-2 matrix. However, due to
> the incompletion of ALTREP, you are not able to call `A_compressed`
> directly, this can be expected to be fixed in future R release.
>
> Please let me know if you have any questions.
>
> Best,
> Jiefei
>
>
> On Sat, Jun 15, 2019 at 7:19 AM Morgan Morgan <morgan.emailbox at gmail.com>
> wrote:
>
>> Hi Jiedei,
>>
>> Thank you for your reply.
>>
>> To give you a bit more context, I wrote a function that find all the
>> positions (index) of all small matrices inside a larger matrix. At the
>> beginning I pre-allocate let's say a 100 by 2 matrix. However a lot of
>> values might remain empty in this matrix of postions so I have to resize it
>> down to keep only the relevant value. Does it make sense?
>>
>> Please let me know what you think and if there is a safer way to do it?
>>
>> Please let me know if you want more information or have any questions.
>>
>> Best regards
>> Morgan
>>
>> On Sat, 15 Jun 2019 00:15 King Jiefei, <szwjf08 at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> I don't think there is a native R API to do what you want here, but if
>>> the matrix is only used by you and not be exported to the other user, you
>>> can hack R data structure to achieve that goal.
>>>
>>> Because there is not too much context of your question, I will assume
>>> the whole point of resizing a matrix is to avoid the overhead of memory
>>> allocation, not to represent the same matrix with different dimension since
>>> your 'new' matrix has a different number of elements.
>>>
>>> Roughly speaking, a matrix in R is nothing but a vector with a dim
>>> attribute, you can verify it by R code:
>>> ```
>>> > A=matrix(1:6,2,3)
>>> > A
>>>      [,1] [,2] [,3]
>>> [1,]    1    3    5
>>> [2,]    2    4    6
>>> > attributes(A)
>>> $dim
>>> [1] 2 3
>>>
>>> > attributes(A)=NULL
>>> > A
>>> [1] 1 2 3 4 5 6
>>> ```
>>> Therefore, in order to resize the matrix, you need to change the dim
>>> attribute( to a smaller size). Unfortunately, R does its best to prevent
>>> you from doing such dangerous operation( and you should know this is*
>>> not correct!*), you have to go to the C level to hack R internal data
>>> structure. Let's say you want to resize the matrix A to a 2-by-2 matrix,
>>> here is what you need to do:
>>>
>>> C code:
>>> The code sets the second value of the dim attribute to 2.
>>> ```
>>> // [[Rcpp::export]]
>>> void I_know_it_is_not_correct(SEXP x,SEXP attrName) {
>>> INTEGER(Rf_getAttrib(x, attrName))[1]=2;
>>> }
>>> ```
>>>
>>> R code:
>>> ```
>>> > a=matrix(1:6,2,3)
>>> > I_know_it_is_not_correct(a,as.symbol("dim"))
>>> > a
>>>      [,1] [,2]
>>> [1,]    1    3
>>> [2,]    2    4
>>> > attributes(a)
>>> $dim
>>> [1] 2 2
>>> ```
>>>
>>> You get what you want. Please use it with your caution.
>>>
>>> Best,
>>> Jiefei
>>>
>>>
>>> On Fri, Jun 14, 2019 at 2:41 PM Morgan Morgan <morgan.emailbox at gmail.com>
>>> wrote:
>>>
>>>> Hi,
>>>>
>>>> Is there a way to resize a matrix defined as follows:
>>>>
>>>> SEXP a = PROTECT(allocMatrix(INTSXP, 10, 2));
>>>> int *pa  = INTEGER(a)
>>>>
>>>> To row = 5 and col = 1 or do I have to allocate a second matrix "b" with
>>>> pointer *pb and do a "for" loop to transfer the value of a to b?
>>>>
>>>> Thank you
>>>> Best regards
>>>> Morgan
>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Sat Jun 15 20:54:03 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sat, 15 Jun 2019 21:54:03 +0300
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>

Is this supposed to be a reprex? I don't see where train_tbl is defined.

On Fri, Jun 14, 2019 at 10:30 PM Bill Poling <Bill.Poling at zelis.com> wrote:

> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows >= 8 x64 (build 9200)
>
> Hello I am fitting an Arima model and all appears to go well until I get
> to the ggplot, (again, lots of laughs).
> Deja Vu all over again! (God I hope it's not a typo!)
>
> The error at the point of the plot is:
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> I hope someone recognizes my problem.
>
> Thank you for any assistance.
>
> #Here is the code and particulars of the data being plotted
>
> #Fit the arima model
>
> fit_arima2 <- train_tbl %>%
>   tk_ts(select = NetEditRev, frequency = 364) %>%
>   Arima(order = c(1,0,2),
>         seasonal=c(0,1,0),
>         include.drift = TRUE)
>
> #Forecast with Sweep Functions----
>
> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>   sw_sweep(timetk_idx = TRUE, rename_index = "date")
>
> #Save the DF
>
> fs::dir_create("00_model")
>
> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>
> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>
> head(fcast_arima_tbl1)
>
> # A tibble: 6 x 7
>   date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
>   <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2017-01-01 actual      -923.    NA    NA    NA    NA
> 2 2017-01-02 actual     19222.    NA    NA    NA    NA
> 3 2017-01-03 actual     -8397.    NA    NA    NA    NA
> 4 2017-01-04 actual     37697.    NA    NA    NA    NA
> 5 2017-01-05 actual     46075.    NA    NA    NA    NA
> 6 2017-01-06 actual     38329.    NA    NA    NA    NA
>
> str(fcast_arima_tbl1)
> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
>  $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03"
> "2017-01-04" ...
>  $ key       : chr  "actual" "actual" "actual" "actual" ...
>  $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
>  $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>
> #Plot the model
>
> g4 <- fcast_arima_tbl1 %>%
>   ggplot(aes(date, NetEditRev, color = key)) +
>   geom_point(data = test_tbl %>% mutate(key = "actual")) +
>   geom_point(alpha = 0.5) +
>   theme_tq() +
>   scale_color_tq() +
>   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> ggplotly(g4) %>%
>   layout(xaxis = list(rangeslider = list(type = "date")))
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
>
> #Alternative changes that I have tried based on google searches, but have
> their own errors.
>
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using
> filter
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using
> filter with ==
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: object 'key' not found
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl) +
> #   filter(fcast_arima_tbl1$key = "actual") + #Try filter with
> fcast_arima_tbl1$key and repositioned with +
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: Cannot add ggproto objects together. Did you forget to add this
> object to a ggplot object?
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From rmh @end|ng |rom temp|e@edu  Sat Jun 15 21:16:53 2019
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sat, 15 Jun 2019 15:16:53 -0400
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>

you did something like this:

> mydf <- data.frame(y=1:16,
+                    AA=rep(factor(letters[1:8]), 2),
+                    BB=rep(factor(LETTERS[12:13]), each=8),
+                    CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
> ggplot(mydf, aes(ls, y))
Don't know how to automatically pick scale for object of type
function. Defaulting to continuous.
Error: All columns in a tibble must be 1d or 2d objects:
* Column `x` is function
Call `rlang::last_error()` to see a backtrace
>

you will have to figure out which of your variables is not properly specified.

Rich

On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <Bill.Poling at zelis.com> wrote:
>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows >= 8 x64 (build 9200)
>
> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
> Deja Vu all over again! (God I hope it's not a typo!)
>
> The error at the point of the plot is:
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> I hope someone recognizes my problem.
>
> Thank you for any assistance.
>
> #Here is the code and particulars of the data being plotted
>
> #Fit the arima model
>
> fit_arima2 <- train_tbl %>%
>   tk_ts(select = NetEditRev, frequency = 364) %>%
>   Arima(order = c(1,0,2),
>         seasonal=c(0,1,0),
>         include.drift = TRUE)
>
> #Forecast with Sweep Functions----
>
> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>   sw_sweep(timetk_idx = TRUE, rename_index = "date")
>
> #Save the DF
>
> fs::dir_create("00_model")
>
> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>
> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>
> head(fcast_arima_tbl1)
>
> # A tibble: 6 x 7
>   date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
>   <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2017-01-01 actual      -923.    NA    NA    NA    NA
> 2 2017-01-02 actual     19222.    NA    NA    NA    NA
> 3 2017-01-03 actual     -8397.    NA    NA    NA    NA
> 4 2017-01-04 actual     37697.    NA    NA    NA    NA
> 5 2017-01-05 actual     46075.    NA    NA    NA    NA
> 6 2017-01-06 actual     38329.    NA    NA    NA    NA
>
> str(fcast_arima_tbl1)
> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
>  $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>  $ key       : chr  "actual" "actual" "actual" "actual" ...
>  $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
>  $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>
> #Plot the model
>
> g4 <- fcast_arima_tbl1 %>%
>   ggplot(aes(date, NetEditRev, color = key)) +
>   geom_point(data = test_tbl %>% mutate(key = "actual")) +
>   geom_point(alpha = 0.5) +
>   theme_tq() +
>   scale_color_tq() +
>   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> ggplotly(g4) %>%
>   layout(xaxis = list(rangeslider = list(type = "date")))
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
>
> #Alternative changes that I have tried based on google searches, but have their own errors.
>
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: object 'key' not found
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl) +
> #   filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 21:20:45 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 19:20:45 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
Message-ID: <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Hello Eric.

I am unfamiliar with the term reprex, however, I am googling it now.

In the meantime, here is the source DF sample and the train test code I sure hope it helps.

head(dftmp,n=7)
Date2 NetEditRev  index.num year half quarter month.lbl day  wday.lbl holiday
1  2017-01-01    -923.40 1483228800 2017    1       1   January   1    Sunday       0
2  2017-01-02   19222.09 1483315200 2017    1       1   January   2    Monday       1
3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3   Tuesday       0
4  2017-01-04   37696.58 1483488000 2017    1       1   January   4 Wednesday       0
5  2017-01-05   46075.34 1483574400 2017    1       1   January   5  Thursday       0
6  2017-01-06   38329.35 1483660800 2017    1       1   January   6    Friday       0
7  2017-01-07    3110.51 1483747200 2017    1       1   January   7  Saturday       0

#Train/Test split----
#Predict next 92 days

train_test_split_date <- "2019-03-12"
#arbitrary, looking for split to be 3 months from the end of current time period. etc depends on our date period

train_tbl <- dftmp %>%
  filter(Date2 < ymd(train_test_split_date))

test_tbl <- dftmp %>%
  filter(Date2 >= ymd(train_test_split_date))

From: Eric Berger <ericjberger at gmail.com>
Sent: Saturday, June 15, 2019 2:54 PM
To: Bill Poling <Bill.Poling at zelis.com>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

Is this supposed to be a reprex? I don't see where train_tbl is defined.

On Fri, Jun 14, 2019 at 10:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
Deja Vu all over again! (God I hope it's not a typo!)

The error at the point of the plot is:
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

I hope someone recognizes my problem.

Thank you for any assistance.

#Here is the code and particulars of the data being plotted

#Fit the arima model

fit_arima2 <- train_tbl %>%
  tk_ts(select = NetEditRev, frequency = 364) %>%
  Arima(order = c(1,0,2),
        seasonal=c(0,1,0),
        include.drift = TRUE)

#Forecast with Sweep Functions----

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date")

#Save the DF

fs::dir_create("00_model")

fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")

fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")

head(fcast_arima_tbl1)

# A tibble: 6 x 7
  date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
  <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
1 2017-01-01 actual      -923.    NA    NA    NA    NA
2 2017-01-02 actual     19222.    NA    NA    NA    NA
3 2017-01-03 actual     -8397.    NA    NA    NA    NA
4 2017-01-04 actual     37697.    NA    NA    NA    NA
5 2017-01-05 actual     46075.    NA    NA    NA    NA
6 2017-01-06 actual     38329.    NA    NA    NA    NA

str(fcast_arima_tbl1)
Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
 $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
 $ key       : chr  "actual" "actual" "actual" "actual" ...
 $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
 $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...

#Plot the model

g4 <- fcast_arima_tbl1 %>%
  ggplot(aes(date, NetEditRev, color = key)) +
  geom_point(data = test_tbl %>% mutate(key = "actual")) +
  geom_point(alpha = 0.5) +
  theme_tq() +
  scale_color_tq() +
  labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")

g4
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

ggplotly(g4) %>%
  layout(xaxis = list(rangeslider = list(type = "date")))
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function


#Alternative changes that I have tried based on google searches, but have their own errors.

# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: object 'key' not found
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl) +
#   filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?


Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}

______________________________________________
mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From er|cjberger @end|ng |rom gm@||@com  Sat Jun 15 21:34:00 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sat, 15 Jun 2019 22:34:00 +0300
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <CAGgJW75xEosfu=5D7C5n+5eH6Jwcqk08orkaQKLhEBKKej23CQ@mail.gmail.com>

reprex = reproducible example

On Sat, Jun 15, 2019 at 10:20 PM Bill Poling <Bill.Poling at zelis.com> wrote:

> Hello Eric.
>
> I am unfamiliar with the term reprex, however, I am googling it now.
>
> In the meantime, here is the source DF sample and the train test code I
> sure hope it helps.
>
> head(dftmp,n=7)
> Date2 NetEditRev  index.num year half quarter month.lbl day  wday.lbl
> holiday
> 1  2017-01-01    -923.40 1483228800 2017    1       1   January   1
> Sunday       0
> 2  2017-01-02   19222.09 1483315200 2017    1       1   January   2
> Monday       1
> 3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3
>  Tuesday       0
> 4  2017-01-04   37696.58 1483488000 2017    1       1   January   4
> Wednesday       0
> 5  2017-01-05   46075.34 1483574400 2017    1       1   January   5
> Thursday       0
> 6  2017-01-06   38329.35 1483660800 2017    1       1   January   6
> Friday       0
> 7  2017-01-07    3110.51 1483747200 2017    1       1   January   7
> Saturday       0
>
> #Train/Test split----
> #Predict next 92 days
>
> train_test_split_date <- "2019-03-12"
> #arbitrary, looking for split to be 3 months from the end of current time
> period. etc depends on our date period
>
> train_tbl <- dftmp %>%
>   filter(Date2 < ymd(train_test_split_date))
>
> test_tbl <- dftmp %>%
>   filter(Date2 >= ymd(train_test_split_date))
>
> From: Eric Berger <ericjberger at gmail.com>
> Sent: Saturday, June 15, 2019 2:54 PM
> To: Bill Poling <Bill.Poling at zelis.com>
> Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
>
> Is this supposed to be a reprex? I don't see where train_tbl is defined.
>
> On Fri, Jun 14, 2019 at 10:30 PM Bill Poling <mailto:Bill.Poling at zelis.com>
> wrote:
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows >= 8 x64 (build 9200)
>
> Hello I am fitting an Arima model and all appears to go well until I get
> to the ggplot, (again, lots of laughs).
> Deja Vu all over again! (God I hope it's not a typo!)
>
> The error at the point of the plot is:
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> I hope someone recognizes my problem.
>
> Thank you for any assistance.
>
> #Here is the code and particulars of the data being plotted
>
> #Fit the arima model
>
> fit_arima2 <- train_tbl %>%
>   tk_ts(select = NetEditRev, frequency = 364) %>%
>   Arima(order = c(1,0,2),
>         seasonal=c(0,1,0),
>         include.drift = TRUE)
>
> #Forecast with Sweep Functions----
>
> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>   sw_sweep(timetk_idx = TRUE, rename_index = "date")
>
> #Save the DF
>
> fs::dir_create("00_model")
>
> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>
> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>
> head(fcast_arima_tbl1)
>
> # A tibble: 6 x 7
>   date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
>   <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2017-01-01 actual      -923.    NA    NA    NA    NA
> 2 2017-01-02 actual     19222.    NA    NA    NA    NA
> 3 2017-01-03 actual     -8397.    NA    NA    NA    NA
> 4 2017-01-04 actual     37697.    NA    NA    NA    NA
> 5 2017-01-05 actual     46075.    NA    NA    NA    NA
> 6 2017-01-06 actual     38329.    NA    NA    NA    NA
>
> str(fcast_arima_tbl1)
> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
>  $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03"
> "2017-01-04" ...
>  $ key       : chr  "actual" "actual" "actual" "actual" ...
>  $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
>  $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
>  $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...
>
> #Plot the model
>
> g4 <- fcast_arima_tbl1 %>%
>   ggplot(aes(date, NetEditRev, color = key)) +
>   geom_point(data = test_tbl %>% mutate(key = "actual")) +
>   geom_point(alpha = 0.5) +
>   theme_tq() +
>   scale_color_tq() +
>   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> ggplotly(g4) %>%
>   layout(xaxis = list(rangeslider = list(type = "date")))
> # Don't know how to automatically pick scale for object of type function.
> Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
>
> #Alternative changes that I have tried based on google searches, but have
> their own errors.
>
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using
> filter
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using
> filter with ==
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: object 'key' not found
> #
> # g4 <- fcast_arima_tbl1 %>%
> #   ggplot(aes(date, NetEditRev, color = key)) +
> #   geom_point(data = test_tbl) +
> #   filter(fcast_arima_tbl1$key = "actual") + #Try filter with
> fcast_arima_tbl1$key and repositioned with +
> #   geom_point(alpha = 0.5) +
> #   theme_tq() +
> #   scale_color_tq() +
> #   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: Cannot add ggproto objects together. Did you forget to add this
> object to a ggplot object?
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> Confidentiality Notice This message is sent from Zelis. This transmission
> may contain information which is privileged and confidential and is
> intended for the personal and confidential use of the named recipient only.
> Such information may be protected by applicable State and Federal laws from
> this disclosure or unauthorized use. If the reader of this message is not
> the intended recipient, or the employee or agent responsible for delivering
> the message to the intended recipient, you are hereby notified that any
> disclosure, review, discussion, copying, or taking any action in reliance
> on the contents of this transmission is strictly prohibited. If you have
> received this transmission in error, please contact the sender immediately.
> Zelis, 2018.
>

	[[alternative HTML version deleted]]


From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 21:29:32 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 19:29:32 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
Message-ID: <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Hello Richard, thank you for your response.

Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.

I sure appreciate your help Sir!

g4 <- fcast_arima_tbl1 %>%
  ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
  geom_point(data = test_tbl %>% mutate(key = "actual")) +
  geom_point(alpha = 0.5) +
  theme_tq() +
  scale_color_tq() +
  labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")

g4

#Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
#Error: All columns in a tibble must be 1d or 2d objects:
#* Column `x` is function

ggplotly(g4) %>%
  layout(xaxis = list(rangeslider = list(type = "date")))

#Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
#Error: All columns in a tibble must be 1d or 2d objects:
#* Column `x` is function

#Call
  rlang::last_error()
#to see a backtrace you will have to figure out which of your variables is not properly specified.

  1. (function (x, ...) ...
  2. ggplot2:::print.ggplot(x)
  4. ggplot2:::ggplot_build.ggplot(x)
  5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
  6. ggplot2:::f(l = layers[[i]], d = data[[i]])
  7. l$compute_aesthetics(d, plot)
  8. ggplot2:::f(..., self = self)
  9. ggplot2:::as_gg_data_frame(evaled)
 12. tibble:::as_tibble.list(x)
 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
 14. tibble:::check_valid_cols(x)

From: Richard M. Heiberger <rmh at temple.edu>
Sent: Saturday, June 15, 2019 3:17 PM
To: Bill Poling <Bill.Poling at zelis.com>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

you did something like this:

> mydf <- data.frame(y=1:16,
+ AA=rep(factor(letters[1:8]), 2),
+ BB=rep(factor(LETTERS[12:13]), each=8),
+ CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
> ggplot(mydf, aes(ls, y))
Don't know how to automatically pick scale for object of type
function. Defaulting to continuous.
Error: All columns in a tibble must be 1d or 2d objects:
* Column `x` is function
Call `rlang::last_error()` to see a backtrace
>

you will have to figure out which of your variables is not properly specified.

Rich

On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit)
> #Running under: Windows >= 8 x64 (build 9200)
>
> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
> Deja Vu all over again! (God I hope it's not a typo!)
>
> The error at the point of the plot is:
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> I hope someone recognizes my problem.
>
> Thank you for any assistance.
>
> #Here is the code and particulars of the data being plotted
>
> #Fit the arima model
>
> fit_arima2 <- train_tbl %>%
> tk_ts(select = NetEditRev, frequency = 364) %>%
> Arima(order = c(1,0,2),
> seasonal=c(0,1,0),
> include.drift = TRUE)
>
> #Forecast with Sweep Functions----
>
> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>
> #Save the DF
>
> fs::dir_create("00_model")
>
> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>
> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>
> head(fcast_arima_tbl1)
>
> # A tibble: 6 x 7
> date key NetEditRev lo.80 lo.95 hi.80 hi.95
> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2017-01-01 actual -923. NA NA NA NA
> 2 2017-01-02 actual 19222. NA NA NA NA
> 3 2017-01-03 actual -8397. NA NA NA NA
> 4 2017-01-04 actual 37697. NA NA NA NA
> 5 2017-01-05 actual 46075. NA NA NA NA
> 6 2017-01-06 actual 38329. NA NA NA NA
>
> str(fcast_arima_tbl1)
> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
> $ key : chr "actual" "actual" "actual" "actual" ...
> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>
> #Plot the model
>
> g4 <- fcast_arima_tbl1 %>%
> ggplot(aes(date, NetEditRev, color = key)) +
> geom_point(data = test_tbl %>% mutate(key = "actual")) +
> geom_point(alpha = 0.5) +
> theme_tq() +
> scale_color_tq() +
> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
> ggplotly(g4) %>%
> layout(xaxis = list(rangeslider = list(type = "date")))
> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> # Error: All columns in a tibble must be 1d or 2d objects:
> # * Column `x` is function
>
>
> #Alternative changes that I have tried based on google searches, but have their own errors.
>
> # g4 <- fcast_arima_tbl1 %>%
> # ggplot(aes(date, NetEditRev, color = key)) +
> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
> # geom_point(alpha = 0.5) +
> # theme_tq() +
> # scale_color_tq() +
> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
> #
> # g4 <- fcast_arima_tbl1 %>%
> # ggplot(aes(date, NetEditRev, color = key)) +
> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
> # geom_point(alpha = 0.5) +
> # theme_tq() +
> # scale_color_tq() +
> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: object 'key' not found
> #
> # g4 <- fcast_arima_tbl1 %>%
> # ggplot(aes(date, NetEditRev, color = key)) +
> # geom_point(data = test_tbl) +
> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
> # geom_point(alpha = 0.5) +
> # theme_tq() +
> # scale_color_tq() +
> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 21:41:50 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 19:41:50 +0000
Subject: [R] FW:  Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073313073A7E1A10D4DEC71EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW75xEosfu=5D7C5n+5eH6Jwcqk08orkaQKLhEBKKej23CQ@mail.gmail.com>
 <BN7PR02MB5073313073A7E1A10D4DEC71EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <BN7PR02MB5073B9150A19C2728EC4FBA8EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Yes, thank you I see that now Eric.

What might I provide in addition that would be more useful?

WHP

From: Bill Poling
Sent: Saturday, June 15, 2019 3:39 PM
To: Eric Berger <ericjberger at gmail.com>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>; Bill Poling (Bill.Poling at zelis.com) <Bill.Poling at zelis.com>
Subject: RE: [R] Help with a third ggplot error

Yes, thank you I see that now Eric.

What might I provide in addition that would be more useful?

WHP

William H. Poling, Ph.D., MPH | Manager, Data Science
Data Intelligence & Analytics
Zelis Healthcare


From: Eric Berger <mailto:ericjberger at gmail.com>
Sent: Saturday, June 15, 2019 3:34 PM
To: Bill Poling <mailto:Bill.Poling at zelis.com>
Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

reprex = reproducible example

On Sat, Jun 15, 2019 at 10:20 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
Hello Eric.

I am unfamiliar with the term reprex, however, I am googling it now.

In the meantime, here is the source DF sample and the train test code I sure hope it helps.

head(dftmp,n=7)
Date2 NetEditRev  index.num year half quarter month.lbl day  wday.lbl holiday
1  2017-01-01    -923.40 1483228800 2017    1       1   January   1    Sunday       0
2  2017-01-02   19222.09 1483315200 2017    1       1   January   2    Monday       1
3  2017-01-03   -8396.82 1483401600 2017    1       1   January   3   Tuesday       0
4  2017-01-04   37696.58 1483488000 2017    1       1   January   4 Wednesday       0
5  2017-01-05   46075.34 1483574400 2017    1       1   January   5  Thursday       0
6  2017-01-06   38329.35 1483660800 2017    1       1   January   6    Friday       0
7  2017-01-07    3110.51 1483747200 2017    1       1   January   7  Saturday       0

#Train/Test split----
#Predict next 92 days

train_test_split_date <- "2019-03-12"
#arbitrary, looking for split to be 3 months from the end of current time period. etc depends on our date period

train_tbl <- dftmp %>%
  filter(Date2 < ymd(train_test_split_date))

test_tbl <- dftmp %>%
  filter(Date2 >= ymd(train_test_split_date))

From: Eric Berger <mailto:ericjberger at gmail.com>
Sent: Saturday, June 15, 2019 2:54 PM
To: Bill Poling <mailto:Bill.Poling at zelis.com>
Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

Is this supposed to be a reprex? I don't see where train_tbl is defined.

On Fri, Jun 14, 2019 at 10:30 PM Bill Poling <mailto:mailto:Bill.Poling at zelis.com> wrote:
#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
Deja Vu all over again! (God I hope it's not a typo!)

The error at the point of the plot is:
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

I hope someone recognizes my problem.

Thank you for any assistance.

#Here is the code and particulars of the data being plotted

#Fit the arima model

fit_arima2 <- train_tbl %>%
  tk_ts(select = NetEditRev, frequency = 364) %>%
  Arima(order = c(1,0,2),
        seasonal=c(0,1,0),
        include.drift = TRUE)

#Forecast with Sweep Functions----

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date")

#Save the DF

fs::dir_create("00_model")

fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")

fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")

head(fcast_arima_tbl1)

# A tibble: 6 x 7
  date       key    NetEditRev lo.80 lo.95 hi.80 hi.95
  <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
1 2017-01-01 actual      -923.    NA    NA    NA    NA
2 2017-01-02 actual     19222.    NA    NA    NA    NA
3 2017-01-03 actual     -8397.    NA    NA    NA    NA
4 2017-01-04 actual     37697.    NA    NA    NA    NA
5 2017-01-05 actual     46075.    NA    NA    NA    NA
6 2017-01-06 actual     38329.    NA    NA    NA    NA

str(fcast_arima_tbl1)
Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of  7 variables:
 $ date      : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
 $ key       : chr  "actual" "actual" "actual" "actual" ...
 $ NetEditRev: num  -923 19222 -8397 37697 46075 ...
 $ lo.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ lo.95     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.80     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ hi.95     : num  NA NA NA NA NA NA NA NA NA NA ...

#Plot the model

g4 <- fcast_arima_tbl1 %>%
  ggplot(aes(date, NetEditRev, color = key)) +
  geom_point(data = test_tbl %>% mutate(key = "actual")) +
  geom_point(alpha = 0.5) +
  theme_tq() +
  scale_color_tq() +
  labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")

g4
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function

ggplotly(g4) %>%
  layout(xaxis = list(rangeslider = list(type = "date")))
# Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
# Error: All columns in a tibble must be 1d or 2d objects:
# * Column `x` is function


#Alternative changes that I have tried based on google searches, but have their own errors.

# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: object 'key' not found
#
# g4 <- fcast_arima_tbl1 %>%
#   ggplot(aes(date, NetEditRev, color = key)) +
#   geom_point(data = test_tbl) +
#   filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
#   geom_point(alpha = 0.5) +
#   theme_tq() +
#   scale_color_tq() +
#   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
# #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?


Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}

______________________________________________
mailto:mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From roy@mende|@@ohn @end|ng |rom no@@@gov  Sat Jun 15 21:48:46 2019
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Sat, 15 Jun 2019 12:48:46 -0700
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <CBCF24C8-F197-4ECA-BF16-9A4D1EF0491A@noaa.gov>

If I were a betting man I would bet that one of the things in your "pipeline" isn't returning what you think it is.  You can either break it out step by step to check or this page lists a variety of resources to debug pipes:

https://www.rostrum.blog/2019/04/07/fix-leaky-pipes/

HTH,

-Roy


> On Jun 15, 2019, at 12:29 PM, Bill Poling <Bill.Poling at zelis.com> wrote:
> 
> Hello Richard, thank you for your response.
> 
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
> 
> I sure appreciate your help Sir!
> 
> g4 <- fcast_arima_tbl1 %>%
>  ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
>  geom_point(data = test_tbl %>% mutate(key = "actual")) +
>  geom_point(alpha = 0.5) +
>  theme_tq() +
>  scale_color_tq() +
>  labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> 
> g4
> 
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
> 
> ggplotly(g4) %>%
>  layout(xaxis = list(rangeslider = list(type = "date")))
> 
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
> 
> #Call
>  rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
> 
>  1. (function (x, ...) ...
>  2. ggplot2:::print.ggplot(x)
>  4. ggplot2:::ggplot_build.ggplot(x)
>  5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
>  6. ggplot2:::f(l = layers[[i]], d = data[[i]])
>  7. l$compute_aesthetics(d, plot)
>  8. ggplot2:::f(..., self = self)
>  9. ggplot2:::as_gg_data_frame(evaled)
> 12. tibble:::as_tibble.list(x)
> 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
> 14. tibble:::check_valid_cols(x)
> 
> From: Richard M. Heiberger <rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <Bill.Poling at zelis.com>
> Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
> 
> you did something like this:
> 
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>> 
> 
> you will have to figure out which of your variables is not properly specified.
> 
> Rich
> 
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>> 
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows >= 8 x64 (build 9200)
>> 
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>> 
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>> 
>> I hope someone recognizes my problem.
>> 
>> Thank you for any assistance.
>> 
>> #Here is the code and particulars of the data being plotted
>> 
>> #Fit the arima model
>> 
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>%
>> Arima(order = c(1,0,2),
>> seasonal=c(0,1,0),
>> include.drift = TRUE)
>> 
>> #Forecast with Sweep Functions----
>> 
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>> 
>> #Save the DF
>> 
>> fs::dir_create("00_model")
>> 
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>> 
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>> 
>> head(fcast_arima_tbl1)
>> 
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95
>> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>> 
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> 
>> #Plot the model
>> 
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) +
>> geom_point(data = test_tbl %>% mutate(key = "actual")) +
>> geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> 
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>> 
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date")))
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>> 
>> 
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>> 
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: object 'key' not found
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl) +
>> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>> 
>> 
>> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>> 
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Jun 15 21:50:47 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 15 Jun 2019 20:50:47 +0100
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <39d19581-09e9-d36a-cffd-a74f1ee54932@sapo.pt>

Hello,

Inline.

?s 20:29 de 15/06/19, Bill Poling escreveu:
> Hello Richard, thank you for your response.
> 
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
> 
> I sure appreciate your help Sir!
> 
> g4 <- fcast_arima_tbl1 %>%
>    ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
>    geom_point(data = test_tbl %>% mutate(key = "actual")) +
>    geom_point(alpha = 0.5) +
>    theme_tq() +
>    scale_color_tq() +
>    labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
> 
> g4
> 
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function

Isn't column 'x' Date or Date2, with upper case 'D'?
You have date, a function:

R> date
function ()
.Internal(date())
<bytecode: 0x6c8a9b8>
<environment: namespace:base>


Hope this helps,

Rui Barradas



> 
> ggplotly(g4) %>%
>    layout(xaxis = list(rangeslider = list(type = "date")))
> 
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
> 
> #Call
>    rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
> 
>    1. (function (x, ...) ...
>    2. ggplot2:::print.ggplot(x)
>    4. ggplot2:::ggplot_build.ggplot(x)
>    5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
>    6. ggplot2:::f(l = layers[[i]], d = data[[i]])
>    7. l$compute_aesthetics(d, plot)
>    8. ggplot2:::f(..., self = self)
>    9. ggplot2:::as_gg_data_frame(evaled)
>   12. tibble:::as_tibble.list(x)
>   13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
>   14. tibble:::check_valid_cols(x)
> 
> From: Richard M. Heiberger <rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <Bill.Poling at zelis.com>
> Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
> 
> you did something like this:
> 
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>>
> 
> you will have to figure out which of your variables is not properly specified.
> 
> Rich
> 
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows >= 8 x64 (build 9200)
>>
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>>
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> I hope someone recognizes my problem.
>>
>> Thank you for any assistance.
>>
>> #Here is the code and particulars of the data being plotted
>>
>> #Fit the arima model
>>
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>%
>> Arima(order = c(1,0,2),
>> seasonal=c(0,1,0),
>> include.drift = TRUE)
>>
>> #Forecast with Sweep Functions----
>>
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>>
>> #Save the DF
>>
>> fs::dir_create("00_model")
>>
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>>
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>>
>> head(fcast_arima_tbl1)
>>
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95
>> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>>
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>>
>> #Plot the model
>>
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) +
>> geom_point(data = test_tbl %>% mutate(key = "actual")) +
>> geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>>
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date")))
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>>
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>>
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: object 'key' not found
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl) +
>> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>>
>>
>> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>>
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 21:59:35 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 19:59:35 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <39d19581-09e9-d36a-cffd-a74f1ee54932@sapo.pt>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <39d19581-09e9-d36a-cffd-a74f1ee54932@sapo.pt>
Message-ID: <BN7PR02MB50739D3EAC0E55B33FC810B2EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Oh, yikes! Rui you are right.

1st I do this:

fit_arima2 <- train_tbl %>%
  tk_ts(select = NetEditRev, frequency = 364) %>%
  Arima(order = c(1,0,2), #this may be arima not Arima?
        seasonal=c(0,1,0),
        include.drift = TRUE)

Then when I use the forecast and sweep function I changed it (I guess) to date

#Forecast with Sweep Functions----

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date") #sweep converts it to a DF

Let me go back in the code and see if I can fix that, I will let you know, UGH!

WHP

From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Saturday, June 15, 2019 3:51 PM
To: Bill Poling <Bill.Poling at zelis.com>; Richard M. Heiberger <rmh at temple.edu>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

Hello,

Inline.

?s 20:29 de 15/06/19, Bill Poling escreveu:
> Hello Richard, thank you for your response.
>
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
>
> I sure appreciate your help Sir!
>
> g4 <- fcast_arima_tbl1 %>%
> ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
> geom_point(data = test_tbl %>% mutate(key = "actual")) +
> geom_point(alpha = 0.5) +
> theme_tq() +
> scale_color_tq() +
> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function

Isn't column 'x' Date or Date2, with upper case 'D'?
You have date, a function:

R> date
function ()
.Internal(date())
<bytecode: 0x6c8a9b8>
<environment: namespace:base>


Hope this helps,

Rui Barradas



>
> ggplotly(g4) %>%
> layout(xaxis = list(rangeslider = list(type = "date")))
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> #Call
> rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
>
> 1. (function (x, ...) ...
> 2. ggplot2:::print.ggplot(x)
> 4. ggplot2:::ggplot_build.ggplot(x)
> 5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
> 6. ggplot2:::f(l = layers[[i]], d = data[[i]])
> 7. l$compute_aesthetics(d, plot)
> 8. ggplot2:::f(..., self = self)
> 9. ggplot2:::as_gg_data_frame(evaled)
> 12. tibble:::as_tibble.list(x)
> 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
> 14. tibble:::check_valid_cols(x)
>
> From: Richard M. Heiberger <mailto:rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <mailto:Bill.Poling at zelis.com>
> Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
>
> you did something like this:
>
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>>
>
> you will have to figure out which of your variables is not properly specified.
>
> Rich
>
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows >= 8 x64 (build 9200)
>>
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>>
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> I hope someone recognizes my problem.
>>
>> Thank you for any assistance.
>>
>> #Here is the code and particulars of the data being plotted
>>
>> #Fit the arima model
>>
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>%
>> Arima(order = c(1,0,2),
>> seasonal=c(0,1,0),
>> include.drift = TRUE)
>>
>> #Forecast with Sweep Functions----
>>
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>>
>> #Save the DF
>>
>> fs::dir_create("00_model")
>>
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>>
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>>
>> head(fcast_arima_tbl1)
>>
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95
>> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>>
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>>
>> #Plot the model
>>
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) +
>> geom_point(data = test_tbl %>% mutate(key = "actual")) +
>> geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>>
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date")))
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>>
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>>
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: object 'key' not found
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl) +
>> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>>
>>
>> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>>
>> ______________________________________________
>> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.
> ______________________________________________
> mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 22:18:18 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 20:18:18 +0000
Subject: [R] FW:  Help with a third ggplot error
In-Reply-To: <BN7PR02MB5073276063F5A307A35E35F6EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <39d19581-09e9-d36a-cffd-a74f1ee54932@sapo.pt>
 <BN7PR02MB50739D3EAC0E55B33FC810B2EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <BN7PR02MB5073276063F5A307A35E35F6EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <BN7PR02MB50735D8440B9DAF124D329AAEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

So I changed it to date2.

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date2")

head(fcast_arima_tbl,n=10)
# A tibble: 10 x 7
date2      key    NetEditRev lo.80 lo.95 hi.80 hi.95 <------Date2
   <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
 1 2017-01-01 actual     -923.     NA    NA    NA    NA
 2 2017-01-02 actual    19222.     NA    NA    NA    NA
 3 2017-01-03 actual    -8397.     NA    NA    NA    NA
 4 2017-01-04 actual    37697.     NA    NA    NA    NA
 5 2017-01-05 actual    46075.     NA    NA    NA    NA
 6 2017-01-06 actual    38329.     NA    NA    NA    NA
 7 2017-01-07 actual     3111.     NA    NA    NA    NA
 8 2017-01-08 actual       21.4    NA    NA    NA    NA
 9 2017-01-09 actual    63570.     NA    NA    NA    NA
10 2017-01-10 actual    50777      NA    NA    NA    NA

Then I save it
fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")

Then I read it back out as fcast_arima_tbl1
fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")

head(fcast_arima_tbl1)

head(fcast_arima_tbl1, n=10)
# A tibble: 10 x 7
   date2      key    NetEditRev lo.80 lo.95 hi.80 hi.95 <------Date2
   <date>     <chr>       <dbl> <dbl> <dbl> <dbl> <dbl>
 1 2017-01-01 actual     -923.     NA    NA    NA    NA
 2 2017-01-02 actual    19222.     NA    NA    NA    NA
 3 2017-01-03 actual    -8397.     NA    NA    NA    NA
 4 2017-01-04 actual    37697.     NA    NA    NA    NA
 5 2017-01-05 actual    46075.     NA    NA    NA    NA
 6 2017-01-06 actual    38329.     NA    NA    NA    NA
 7 2017-01-07 actual     3111.     NA    NA    NA    NA
 8 2017-01-08 actual       21.4    NA    NA    NA    NA
 9 2017-01-09 actual    63570.     NA    NA    NA    NA
10 2017-01-10 actual    50777      NA    NA    NA    NA

However, when I try the plot again I get new error? Error in FUN(X[[i]], ...) : object 'date2' not found

fcast_arima_tbl1 %>%
+   ggplot(aes(date2, NetEditRev, color = key)) +
+   geom_point(data = test_tbl %>% mutate(key = "actual")) +
+   geom_point(alpha = 0.5) +
+   theme_tq() +
+   scale_color_tq() +
+   labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
Error in FUN(X[[i]], ...) : object 'date2' not found

Now I remain confused

However, I sure appreciate everyone's time, thank you.

WHP

-----Original Message-----
From: Bill Poling
Sent: Saturday, June 15, 2019 4:00 PM
To: Rui Barradas <ruipbarradas at sapo.pt>; Richard M. Heiberger <rmh at temple.edu>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>; Eric Berger <ericjberger at gmail.com>; Bill Poling <Bill.Poling at zelis.com>
Subject: RE: [R] Help with a third ggplot error

Oh, yikes! Rui you are right.

1st I do this:

fit_arima2 <- train_tbl %>%
  tk_ts(select = NetEditRev, frequency = 364) %>%
  Arima(order = c(1,0,2), #this may be arima not Arima?
        seasonal=c(0,1,0),
        include.drift = TRUE)

Then when I use the forecast and sweep function I changed it (I guess) to date

#Forecast with Sweep Functions----

fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
  sw_sweep(timetk_idx = TRUE, rename_index = "date") #sweep converts it to a DF

Let me go back in the code and see if I can fix that, I will let you know, UGH!

WHP

From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: Saturday, June 15, 2019 3:51 PM
To: Bill Poling <Bill.Poling at zelis.com>; Richard M. Heiberger <rmh at temple.edu>
Cc: r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

Hello,

Inline.

?s 20:29 de 15/06/19, Bill Poling escreveu:
> Hello Richard, thank you for your response.
>
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
>
> I sure appreciate your help Sir!
>
> g4 <- fcast_arima_tbl1 %>%
> ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
> geom_point(data = test_tbl %>% mutate(key = "actual")) +
> geom_point(alpha = 0.5) +
> theme_tq() +
> scale_color_tq() +
> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function

Isn't column 'x' Date or Date2, with upper case 'D'?
You have date, a function:

R> date
function ()
.Internal(date())
<bytecode: 0x6c8a9b8>
<environment: namespace:base>


Hope this helps,

Rui Barradas



>
> ggplotly(g4) %>%
> layout(xaxis = list(rangeslider = list(type = "date")))
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> #Call
> rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
>
> 1. (function (x, ...) ...
> 2. ggplot2:::print.ggplot(x)
> 4. ggplot2:::ggplot_build.ggplot(x)
> 5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot)) 6.
> ggplot2:::f(l = layers[[i]], d = data[[i]]) 7. l$compute_aesthetics(d,
> plot) 8. ggplot2:::f(..., self = self) 9.
> ggplot2:::as_gg_data_frame(evaled)
> 12. tibble:::as_tibble.list(x)
> 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x)) 14.
> tibble:::check_valid_cols(x)
>
> From: Richard M. Heiberger <mailto:rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <mailto:Bill.Poling at zelis.com>
> Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
>
> you did something like this:
>
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>>
>
> you will have to figure out which of your variables is not properly specified.
>
> Rich
>
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit) #Running under: Windows >=
>> 8 x64 (build 9200)
>>
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>>
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> I hope someone recognizes my problem.
>>
>> Thank you for any assistance.
>>
>> #Here is the code and particulars of the data being plotted
>>
>> #Fit the arima model
>>
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>% Arima(order =
>> c(1,0,2), seasonal=c(0,1,0), include.drift = TRUE)
>>
>> #Forecast with Sweep Functions----
>>
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>>
>> #Save the DF
>>
>> fs::dir_create("00_model")
>>
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>>
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>>
>> head(fcast_arima_tbl1)
>>
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95 <date> <chr> <dbl> <dbl>
>> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>>
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>>
>> #Plot the model
>>
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) + geom_point(data =
>> test_tbl %>% mutate(key = "actual")) + geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>>
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date"))) # Don't know
>> how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>>
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>>
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) + # geom_point(data =
>> test_tbl %>% filter(key = "actual")) + #Try using filter #
>> geom_point(alpha = 0.5) + # theme_tq() + # scale_color_tq() + #
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue") #
>> #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) + # geom_point(data =
>> test_tbl %>% filter(key == "actual")) + #Try using filter with == #
>> geom_point(alpha = 0.5) + # theme_tq() + # scale_color_tq() + #
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue") #
>> #Error: object 'key' not found # # g4 <- fcast_arima_tbl1 %>% #
>> ggplot(aes(date, NetEditRev, color = key)) + # geom_point(data =
>> test_tbl) + # filter(fcast_arima_tbl1$key = "actual") + #Try filter
>> with fcast_arima_tbl1$key and repositioned with + # geom_point(alpha
>> = 0.5) + # theme_tq() + # scale_color_tq() + # labs(title =
>> "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue") # #Error:
>> Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>>

Confidentiality Notice This message is sent from Zelis. This transmission may contain information which is privileged and confidential and is intended for the personal and confidential use of the named recipient only. Such information may be protected by applicable State and Federal laws from this disclosure or unauthorized use. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, review, discussion, copying, or taking any action in reliance on the contents of this transmission is strictly prohibited. If you have received this transmission in error, please contact the sender immediately. Zelis, 2018.

From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 22:42:11 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 20:42:11 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <CBCF24C8-F197-4ECA-BF16-9A4D1EF0491A@noaa.gov>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CBCF24C8-F197-4ECA-BF16-9A4D1EF0491A@noaa.gov>
Message-ID: <BN7PR02MB5073A4460BCAA2317793ED62EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Thank you Roy, great suggestion, reviewing the link and trying steps now.

WHP


From: Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov>
Sent: Saturday, June 15, 2019 3:49 PM
To: Bill Poling <Bill.Poling at zelis.com>
Cc: Richard M. Heiberger <rmh at temple.edu>; r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

If I were a betting man I would bet that one of the things in your "pipeline" isn't returning what you think it is. You can either break it out step by step to check or this page lists a variety of resources to debug pipes:

https://www.rostrum.blog/2019/04/07/fix-leaky-pipes/

HTH,

-Roy


> On Jun 15, 2019, at 12:29 PM, Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>
> Hello Richard, thank you for your response.
>
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
>
> I sure appreciate your help Sir!
>
> g4 <- fcast_arima_tbl1 %>%
> ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
> geom_point(data = test_tbl %>% mutate(key = "actual")) +
> geom_point(alpha = 0.5) +
> theme_tq() +
> scale_color_tq() +
> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> ggplotly(g4) %>%
> layout(xaxis = list(rangeslider = list(type = "date")))
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> #Call
> rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
>
> 1. (function (x, ...) ...
> 2. ggplot2:::print.ggplot(x)
> 4. ggplot2:::ggplot_build.ggplot(x)
> 5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
> 6. ggplot2:::f(l = layers[[i]], d = data[[i]])
> 7. l$compute_aesthetics(d, plot)
> 8. ggplot2:::f(..., self = self)
> 9. ggplot2:::as_gg_data_frame(evaled)
> 12. tibble:::as_tibble.list(x)
> 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
> 14. tibble:::check_valid_cols(x)
>
> From: Richard M. Heiberger <mailto:rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <mailto:Bill.Poling at zelis.com>
> Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
>
> you did something like this:
>
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>>
>
> you will have to figure out which of your variables is not properly specified.
>
> Rich
>
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows >= 8 x64 (build 9200)
>>
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>>
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> I hope someone recognizes my problem.
>>
>> Thank you for any assistance.
>>
>> #Here is the code and particulars of the data being plotted
>>
>> #Fit the arima model
>>
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>%
>> Arima(order = c(1,0,2),
>> seasonal=c(0,1,0),
>> include.drift = TRUE)
>>
>> #Forecast with Sweep Functions----
>>
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>>
>> #Save the DF
>>
>> fs::dir_create("00_model")
>>
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>>
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>>
>> head(fcast_arima_tbl1)
>>
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95
>> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>>
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>>
>> #Plot the model
>>
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) +
>> geom_point(data = test_tbl %>% mutate(key = "actual")) +
>> geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>>
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date")))
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>>
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>>
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: object 'key' not found
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl) +
>> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?
>>
>>

Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From B|||@Po||ng @end|ng |rom ze||@@com  Sat Jun 15 22:53:44 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Sat, 15 Jun 2019 20:53:44 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <CBCF24C8-F197-4ECA-BF16-9A4D1EF0491A@noaa.gov>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGx1TMD=cNiJaNKAjgx3LK=t+YfHEaZ5Jbi7sn8u+hXhZjPxAg@mail.gmail.com>
 <BN7PR02MB5073A8B201CD0999123514E1EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CBCF24C8-F197-4ECA-BF16-9A4D1EF0491A@noaa.gov>
Message-ID: <BN7PR02MB50736254886E24B7FA0496E2EAE90@BN7PR02MB5073.namprd02.prod.outlook.com>

Roy, Rui, Richard, Eric, thank you all so much!

Rui, you saw the date date2 issues and Roy, you were right!
I had Date2 in the test data and date2 in arima table after changing date to date2 in the forecast piece.

Stepping through the pipeline found the other TYPO!! At geom_point(data = test_tbl

Oh my gosh!

Thank you all so much!

Please enjoy the rest of your weekend!

WHP


From: Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov>
Sent: Saturday, June 15, 2019 3:49 PM
To: Bill Poling <Bill.Poling at zelis.com>
Cc: Richard M. Heiberger <rmh at temple.edu>; r-help (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Help with a third ggplot error

If I were a betting man I would bet that one of the things in your "pipeline" isn't returning what you think it is. You can either break it out step by step to check or this page lists a variety of resources to debug pipes:

https://www.rostrum.blog/2019/04/07/fix-leaky-pipes/

HTH,

-Roy


> On Jun 15, 2019, at 12:29 PM, Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>
> Hello Richard, thank you for your response.
>
> Here is what I get with your suggestion, however, I am unsure of what I am looking at, perhaps you can interpret.
>
> I sure appreciate your help Sir!
>
> g4 <- fcast_arima_tbl1 %>%
> ggplot(aes(date, NetEditRev, color = key)) + #Now date due to sweep
> geom_point(data = test_tbl %>% mutate(key = "actual")) +
> geom_point(alpha = 0.5) +
> theme_tq() +
> scale_color_tq() +
> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>
> g4
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> ggplotly(g4) %>%
> layout(xaxis = list(rangeslider = list(type = "date")))
>
> #Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
> #Error: All columns in a tibble must be 1d or 2d objects:
> #* Column `x` is function
>
> #Call
> rlang::last_error()
> #to see a backtrace you will have to figure out which of your variables is not properly specified.
>
> 1. (function (x, ...) ...
> 2. ggplot2:::print.ggplot(x)
> 4. ggplot2:::ggplot_build.ggplot(x)
> 5. ggplot2:::by_layer(function(l, d) l$compute_aesthetics(d, plot))
> 6. ggplot2:::f(l = layers[[i]], d = data[[i]])
> 7. l$compute_aesthetics(d, plot)
> 8. ggplot2:::f(..., self = self)
> 9. ggplot2:::as_gg_data_frame(evaled)
> 12. tibble:::as_tibble.list(x)
> 13. tibble:::lst_to_tibble(x, .rows, .name_repair, col_lengths(x))
> 14. tibble:::check_valid_cols(x)
>
> From: Richard M. Heiberger <mailto:rmh at temple.edu>
> Sent: Saturday, June 15, 2019 3:17 PM
> To: Bill Poling <mailto:Bill.Poling at zelis.com>
> Cc: r-help (mailto:r-help at r-project.org) <mailto:r-help at r-project.org>
> Subject: Re: [R] Help with a third ggplot error
>
> you did something like this:
>
>> mydf <- data.frame(y=1:16,
> + AA=rep(factor(letters[1:8]), 2),
> + BB=rep(factor(LETTERS[12:13]), each=8),
> + CC=rep(factor(rep(LETTERS[9:11], times=c(3,1,4))), 2))
>> ggplot(mydf, aes(ls, y))
> Don't know how to automatically pick scale for object of type
> function. Defaulting to continuous.
> Error: All columns in a tibble must be 1d or 2d objects:
> * Column `x` is function
> Call `rlang::last_error()` to see a backtrace
>>
>
> you will have to figure out which of your variables is not properly specified.
>
> Rich
>
> On Fri, Jun 14, 2019 at 3:30 PM Bill Poling <mailto:Bill.Poling at zelis.com> wrote:
>>
>> #RStudio Version 1.2.1335
>> sessionInfo()
>> #R version 3.5.3 (2019-03-11)
>> #Platform: x86_64-w64-mingw32/x64 (64-bit)
>> #Running under: Windows >= 8 x64 (build 9200)
>>
>> Hello I am fitting an Arima model and all appears to go well until I get to the ggplot, (again, lots of laughs).
>> Deja Vu all over again! (God I hope it's not a typo!)
>>
>> The error at the point of the plot is:
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> I hope someone recognizes my problem.
>>
>> Thank you for any assistance.
>>
>> #Here is the code and particulars of the data being plotted
>>
>> #Fit the arima model
>>
>> fit_arima2 <- train_tbl %>%
>> tk_ts(select = NetEditRev, frequency = 364) %>%
>> Arima(order = c(1,0,2),
>> seasonal=c(0,1,0),
>> include.drift = TRUE)
>>
>> #Forecast with Sweep Functions----
>>
>> fcast_arima_tbl <- forecast(fit_arima2, h = nrow(test_tbl)) %>%
>> sw_sweep(timetk_idx = TRUE, rename_index = "date")
>>
>> #Save the DF
>>
>> fs::dir_create("00_model")
>>
>> fcast_arima_tbl %>% write_rds("00_model/fcast_arima_tbl.rds")
>>
>> fcast_arima_tbl1 <- read_rds("00_model/fcast_arima_tbl.rds")
>>
>> head(fcast_arima_tbl1)
>>
>> # A tibble: 6 x 7
>> date key NetEditRev lo.80 lo.95 hi.80 hi.95
>> <date> <chr> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2017-01-01 actual -923. NA NA NA NA
>> 2 2017-01-02 actual 19222. NA NA NA NA
>> 3 2017-01-03 actual -8397. NA NA NA NA
>> 4 2017-01-04 actual 37697. NA NA NA NA
>> 5 2017-01-05 actual 46075. NA NA NA NA
>> 6 2017-01-06 actual 38329. NA NA NA NA
>>
>> str(fcast_arima_tbl1)
>> Classes 'tbl_df', 'tbl' and 'data.frame':892 obs. of 7 variables:
>> $ date : Date, format: "2017-01-01" "2017-01-02" "2017-01-03" "2017-01-04" ...
>> $ key : chr "actual" "actual" "actual" "actual" ...
>> $ NetEditRev: num -923 19222 -8397 37697 46075 ...
>> $ lo.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ lo.95 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.80 : num NA NA NA NA NA NA NA NA NA NA ...
>> $ hi.95 : num NA NA NA NA NA NA NA NA NA NA ...
>>
>> #Plot the model
>>
>> g4 <- fcast_arima_tbl1 %>%
>> ggplot(aes(date, NetEditRev, color = key)) +
>> geom_point(data = test_tbl %>% mutate(key = "actual")) +
>> geom_point(alpha = 0.5) +
>> theme_tq() +
>> scale_color_tq() +
>> labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>>
>> g4
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>> ggplotly(g4) %>%
>> layout(xaxis = list(rangeslider = list(type = "date")))
>> # Don't know how to automatically pick scale for object of type function. Defaulting to continuous.
>> # Error: All columns in a tibble must be 1d or 2d objects:
>> # * Column `x` is function
>>
>>
>> #Alternative changes that I have tried based on google searches, but have their own errors.
>>
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key = "actual")) + #Try using filter
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: `key` (`key = "actual"`) must not be named, do you need `==`?
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl %>% filter(key == "actual")) + #Try using filter with ==
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: object 'key' not found
>> #
>> # g4 <- fcast_arima_tbl1 %>%
>> # ggplot(aes(date, NetEditRev, color = key)) +
>> # geom_point(data = test_tbl) +
>> # filter(fcast_arima_tbl1$key = "actual") + #Try filter with fcast_arima_tbl1$key and repositioned with +
>> # geom_point(alpha = 0.5) +
>> # theme_tq() +
>> # scale_color_tq() +
>> # labs(title = "ARIMA(1,0,2)(0,1,0 with Drift For Net Edit Revenue")
>> # #Error: Cannot add ggproto objects together. Did you forget to add this object to a ggplot object?

Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From @@mch@ry@ @end|ng |rom y@hoo@com@@u  Sat Jun 15 21:40:47 2019
From: @@mch@ry@ @end|ng |rom y@hoo@com@@u (Sam Charya)
Date: Sat, 15 Jun 2019 19:40:47 +0000 (UTC)
Subject: [R] Help with a third ggplot error
In-Reply-To: <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <1400262958.1988079.1560627647899@mail.yahoo.com>

 Hello All,
I need help with?splitting a?string. My data frame is in the following format:
? ? ? ? ? ? ? ? ? ? ? V11? ? ? ? ? ? DD Pack0.002? ?FTA English News0.003? FTA Complimentary0.004? ? ? ? ? ? ? ? ?WB1.185? ? ? ? ? ? ? ?WION1.186? ? ? ? ?Al Jazeera0.007? ? ? Animal Planet2.368? ? Asianet Movies17.709? ? ? Calcutta News0.0010? ? Comedy Central5.90
I read the file from a csv and?set header = False, hence it is named V1.?
The data consists of names of Channels and their prices. For example:?Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70.?

My question is: How would I?separate the data into 2 columns: One for the Channel name and one for the Price.?
For example. The Heading?should be for Col1: 'Channel Name' and for Col2: 'Price'The data under? 'Channel Name'?should be 'DD Pack' and for 'Price'?should be 0.00 and?so on and?so forth.?
The letters and the numeric appears together?so there is no?separator and I am?not being able to figure this out. Kindly please help resolve this.?
Many Thanks in advance for your help. This is my first? question ever to the community?so apologies if I have made a mistake in?sending it to the wrong group - kindly direct if that is the case.?
sam.?
********************************************************
   


  
	[[alternative HTML version deleted]]


From @@mch@ry@ @end|ng |rom y@hoo@com@@u  Sun Jun 16 05:35:17 2019
From: @@mch@ry@ @end|ng |rom y@hoo@com@@u (Sam Charya)
Date: Sun, 16 Jun 2019 03:35:17 +0000 (UTC)
Subject: [R] Help with numeric and character separation
In-Reply-To: <1400262958.1988079.1560627647899@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
Message-ID: <1800125613.2070982.1560656117529@mail.yahoo.com>

 Dear All,

I need help with?splitting a?string. My data frame is in the following format:
? ? ? ? ? ? ? ? ? ? ? V11? ? ? ? ? ? DD Pack0.002? ?FTA English News0.003? FTA Complimentary0.004? ? ? ? ? ? ? ? ?WB1.185? ? ? ? ? ? ? ?WION1.186? ? ? ? ?Al Jazeera0.007? ? ? Animal Planet2.368? ? Asianet Movies17.709? ? ? Calcutta News0.0010? ? Comedy Central5.90
I read the file from a csv and?set header = False, hence the name:?V1.?
The data consists of names of TV Channels and their prices. For example:?Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70.?

My question is: How would I?separate the data into 2 columns: One for the Channel name and one for the Price.?
For example. The Heading?should be for Col1: 'Channel Name' and for Col2: 'Price'The data under? 'Channel Name'?should be 'DD Pack' and for 'Price'?should be 0.00 and?so on and?so forth.?
The letters and the numeric appears together?and I am not being able to use a?separator and I am?not being able to figure this out. Kindly please help me with this.?
Many Thanks in advance for your help. This is my first? question ever to the community?so apologies if I have made a mistake in?sending it to the wrong groups - kindly direct if that is the case.?
sam.?
********************************************************
   


    
	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Jun 16 18:58:04 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 16 Jun 2019 09:58:04 -0700
Subject: [R] Help with numeric and character separation
In-Reply-To: <1800125613.2070982.1560656117529@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <1800125613.2070982.1560656117529@mail.yahoo.com>
Message-ID: <CAGxFJbRmUStCBMt65Hi-FeUaEeT17Ls8P_ELrM2c-H7tR8a54Q@mail.gmail.com>

1. Post in **plain text** not  html, please.

2. This looks like a vector, not a data frame.

3. Use ?strsplit:

> ex <- "a.1"
> strsplit(ex,"\\.")
[[1]]
[1] "a" "1"

See ?regex  for info on regular expressions in R.
If you are confused about the data structures of input or output, time to
spend time with basic R tutorials.

-- Bert

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Jun 16, 2019 at 8:47 AM Sam Charya via R-help <r-help at r-project.org>
wrote:

>  Dear All,
>
> I need help with splitting a string. My data frame is in the following
> format:
>                       V11            DD Pack0.002   FTA English News0.003
> FTA Complimentary0.004                 WB1.185               WION1.186
>    Al Jazeera0.007      Animal Planet2.368    Asianet Movies17.709
> Calcutta News0.0010    Comedy Central5.90
> I read the file from a csv and set header = False, hence the name: V1.
> The data consists of names of TV Channels and their prices. For
> example: Row 1: Name of the Channel is 'DD Pack' and the Price is
> 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price
> is 1.18.
> similarly for Row 8: The name of the Channel is 'Asianet Movies' and the
> price is 17.70.
>
> My question is: How would I separate the data into 2 columns: One for the
> Channel name and one for the Price.
> For example. The Heading should be for Col1: 'Channel Name' and for Col2:
> 'Price'The data under  'Channel Name' should be 'DD Pack' and for
> 'Price' should be 0.00 and so on and so forth.
> The letters and the numeric appears together and I am not being able to
> use a separator and I am not being able to figure this out. Kindly please
> help me with this.
> Many Thanks in advance for your help. This is my first  question ever to
> the community so apologies if I have made a mistake in sending it to the
> wrong groups - kindly direct if that is the case.
> sam.
> ********************************************************
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Jun 16 19:03:49 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 16 Jun 2019 10:03:49 -0700
Subject: [R] Help with numeric and character separation
In-Reply-To: <1800125613.2070982.1560656117529@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <1800125613.2070982.1560656117529@mail.yahoo.com>
Message-ID: <441A91D3-EA9E-4A5A-BB1E-913D600F9274@dcn.davis.ca.us>

Posting your question using anything but plain text  format (you used HTML) end up as more or less of a mess once the formatting gets stripped by the mailing list. Please read the Posting Guide as use plain text email.

Re your question... you should look at ?read.fwf.

On June 15, 2019 8:35:17 PM PDT, Sam Charya via R-help <r-help at r-project.org> wrote:
> Dear All,
>
>I need help with?splitting a?string. My data frame is in the following
>format:
>? ? ? ? ? ? ? ? ? ? ? V11? ? ? ? ? ? DD Pack0.002? ?FTA English
>News0.003? FTA Complimentary0.004? ? ? ? ? ? ? ? ?WB1.185? ? ? ? ? ? ?
>?WION1.186? ? ? ? ?Al Jazeera0.007? ? ? Animal Planet2.368? ? Asianet
>Movies17.709? ? ? Calcutta News0.0010? ? Comedy Central5.90
>I read the file from a csv and?set header = False, hence the name:?V1.?
>The data consists of names of TV Channels and their prices. For
>example:?Row 1: Name of the Channel is 'DD Pack' and the Price is
>0.00.similarly for Row 5, the name of the Channel is 'WION' and the
>price is 1.18.
>similarly for Row 8: The name of the Channel is 'Asianet Movies' and
>the price is 17.70.?
>
>My question is: How would I?separate the data into 2 columns: One for
>the Channel name and one for the Price.?
>For example. The Heading?should be for Col1: 'Channel Name' and for
>Col2: 'Price'The data under? 'Channel Name'?should be 'DD Pack' and for
>'Price'?should be 0.00 and?so on and?so forth.?
>The letters and the numeric appears together?and I am not being able to
>use a?separator and I am?not being able to figure this out. Kindly
>please help me with this.?
>Many Thanks in advance for your help. This is my first? question ever
>to the community?so apologies if I have made a mistake in?sending it to
>the wrong groups - kindly direct if that is the case.?
>sam.?
>********************************************************
>   
>
>
>    
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From drj|m|emon @end|ng |rom gm@||@com  Mon Jun 17 06:37:51 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 17 Jun 2019 14:37:51 +1000
Subject: [R] Help with numeric and character separation
In-Reply-To: <1800125613.2070982.1560656117529@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <1800125613.2070982.1560656117529@mail.yahoo.com>
Message-ID: <CA+8X3fWyi3ivtUaxhNMzjWhOCTckxNVpejb4LBF33NMH2o4VSg@mail.gmail.com>

Hi Sam,
If I have the structure of your data right, this might help:

scdf<-read.csv(text="DD Pack0.00
FTA English News0.00
FTA Complimentary0.00
WB1.18
WION1.18
Al Jazeera0.00
Animal Planet2.36
Asianet Movies17.70
Calcutta News0.00
Comedy Central5.90",
header=FALSE,
stringsAsFactors=FALSE)

digitindex<-as.numeric(regexpr("[[:digit:]]",scdf[,1]))
lengths<-sapply(scdf[,1],nchar)
scdf<-data.frame(channel=substr(scdf[,1],1,digitindex-1),
 price=substr(scdf[,1],digitindex,lengths))

Jim

On Mon, Jun 17, 2019 at 1:47 AM Sam Charya via R-help
<r-help at r-project.org> wrote:
>
>  Dear All,
>
> I need help with splitting a string. My data frame is in the following format:
>                       V11            DD Pack0.002   FTA English News0.003  FTA Complimentary0.004                 WB1.185               WION1.186         Al Jazeera0.007      Animal Planet2.368    Asianet Movies17.709      Calcutta News0.0010    Comedy Central5.90
> I read the file from a csv and set header = False, hence the name: V1.
> The data consists of names of TV Channels and their prices. For example: Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
> similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70.
>
> My question is: How would I separate the data into 2 columns: One for the Channel name and one for the Price.
> For example. The Heading should be for Col1: 'Channel Name' and for Col2: 'Price'The data under  'Channel Name' should be 'DD Pack' and for 'Price' should be 0.00 and so on and so forth.
> The letters and the numeric appears together and I am not being able to use a separator and I am not being able to figure this out. Kindly please help me with this.
> Many Thanks in advance for your help. This is my first  question ever to the community so apologies if I have made a mistake in sending it to the wrong groups - kindly direct if that is the case.
> sam.
> ********************************************************
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bor|@@@te|pe @end|ng |rom utoronto@c@  Mon Jun 17 11:09:12 2019
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Mon, 17 Jun 2019 09:09:12 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <1400262958.1988079.1560627647899@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
Message-ID: <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>

(Technically you are now thread-hijacking. But here goes:)


mydf <- data.frame(V11 = c("DD Pack0.002",
                           "FTA English News0.003",
                           "FTA Complimentary0.004"),
                   stringsAsFactors = FALSE)

# regex matching start-of-string(letters or blanks)(numbers, a decimal
# point, more numbers)end-of-string: "^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$"

# first check that all elements are matched by the regex. If not, an assumption
# of how the strings are patterned is not true ... 
all(grepl("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", V11))  # must be true!

mydf$`Channel name` <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\1", mydf$V11)
mydf$Price          <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\2", mydf$V11)

mydf
#                      V11      Channel name Price
# 1           DD Pack0.002           DD Pack 0.002
# 2  FTA English News0.003  FTA English News 0.003
# 3 FTA Complimentary0.004 FTA Complimentary 0.004


Note this _will_ give wrong results if channel names like "ABC4" exist.


B.




> On 2019-06-15, at 15:40, Sam Charya via R-help <r-help at r-project.org> wrote:
> 
> Hello All,
> I need help with splitting a string. My data frame is in the following format:
>                       V11            DD Pack0.002   FTA English News0.003  FTA Complimentary0.004                 WB1.185               WION1.186         Al Jazeera0.007      Animal Planet2.368    Asianet Movies17.709      Calcutta News0.0010    Comedy Central5.90
> I read the file from a csv and set header = False, hence it is named V1. 
> The data consists of names of Channels and their prices. For example: Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
> similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70. 
> 
> My question is: How would I separate the data into 2 columns: One for the Channel name and one for the Price. 
> For example. The Heading should be for Col1: 'Channel Name' and for Col2: 'Price'The data under  'Channel Name' should be 'DD Pack' and for 'Price' should be 0.00 and so on and so forth. 
> The letters and the numeric appears together so there is no separator and I am not being able to figure this out. Kindly please help resolve this. 
> Many Thanks in advance for your help. This is my first  question ever to the community so apologies if I have made a mistake in sending it to the wrong group - kindly direct if that is the case. 
> sam. 
> ********************************************************
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @cupton @end|ng |rom np@@edu  Mon Jun 17 14:25:43 2019
From: @cupton @end|ng |rom np@@edu (Upton, Stephen (Steve) (CIV))
Date: Mon, 17 Jun 2019 12:25:43 +0000
Subject: [R] Help with a third ggplot error
In-Reply-To: <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>
Message-ID: <F4419304-D5B7-4441-A6D7-D2174194F68E@nps.edu>

And slightly differently with strcapture (using Jim Lemon's reprex):

mydf <- strcapture("([a-zA-Z ]+)([0-9]+\\.[0-9]+)",scdf$V1,data.frame(Channel="none",Price=0))

change the regex as needed, following Boris' advice.

steve

?On 6/17/19, 5:09 AM, "R-help on behalf of Boris Steipe" <r-help-bounces at r-project.org on behalf of boris.steipe at utoronto.ca> wrote:

    (Technically you are now thread-hijacking. But here goes:)
    
    
    mydf <- data.frame(V11 = c("DD Pack0.002",
                               "FTA English News0.003",
                               "FTA Complimentary0.004"),
                       stringsAsFactors = FALSE)
    
    # regex matching start-of-string(letters or blanks)(numbers, a decimal
    # point, more numbers)end-of-string: "^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$"
    
    # first check that all elements are matched by the regex. If not, an assumption
    # of how the strings are patterned is not true ... 
    all(grepl("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", V11))  # must be true!
    
    mydf$`Channel name` <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\1", mydf$V11)
    mydf$Price          <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\2", mydf$V11)
    
    mydf
    #                      V11      Channel name Price
    # 1           DD Pack0.002           DD Pack 0.002
    # 2  FTA English News0.003  FTA English News 0.003
    # 3 FTA Complimentary0.004 FTA Complimentary 0.004
    
    
    Note this _will_ give wrong results if channel names like "ABC4" exist.
    
    
    B.
    
    
    
    
    > On 2019-06-15, at 15:40, Sam Charya via R-help <r-help at r-project.org> wrote:
    > 
    > Hello All,
    > I need help with splitting a string. My data frame is in the following format:
    >                       V11            DD Pack0.002   FTA English News0.003  FTA Complimentary0.004                 WB1.185               WION1.186         Al Jazeera0.007      Animal Planet2.368    Asianet Movies17.709      Calcutta News0.0010    Comedy Central5.90
    > I read the file from a csv and set header = False, hence it is named V1. 
    > The data consists of names of Channels and their prices. For example: Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
    > similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70. 
    > 
    > My question is: How would I separate the data into 2 columns: One for the Channel name and one for the Price. 
    > For example. The Heading should be for Col1: 'Channel Name' and for Col2: 'Price'The data under  'Channel Name' should be 'DD Pack' and for 'Price' should be 0.00 and so on and so forth. 
    > The letters and the numeric appears together so there is no separator and I am not being able to figure this out. Kindly please help resolve this. 
    > Many Thanks in advance for your help. This is my first  question ever to the community so apologies if I have made a mistake in sending it to the wrong group - kindly direct if that is the case. 
    > sam. 
    > ********************************************************
    > 
    > 
    > 
    > 
    > 	[[alternative HTML version deleted]]
    > 
    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.
    
    ______________________________________________
    R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    https://stat.ethz.ch/mailman/listinfo/r-help
    PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    and provide commented, minimal, self-contained, reproducible code.
    


From chr|@topher@@ber@on @end|ng |rom humbo|dt@edu  Sat Jun 15 02:07:55 2019
From: chr|@topher@@ber@on @end|ng |rom humbo|dt@edu (Christopher L Aberson)
Date: Fri, 14 Jun 2019 17:07:55 -0700
Subject: [R] [R-pkgs] New CRAN package: pwr2ppl
Message-ID: <CAJa0+SuHH-cgLTeAYp2vefP26NZGM27ABRzU2zBXtg-9E+0xYw@mail.gmail.com>

pwr2ppl contains protocols for running a wide range of power analyses.
Analyses range from simple approaches such as t-test and correlations
to multifactor ANOVA (between and within subjects, linear mixed model
approaches) and regression-based approaches (basic multiple
regression, moderated regression, mediation, and logistic regression).

These protocols accompany the book Applied Power Analysis for the
Behavioral Sciences (2nd ed.).
https://www.routledge.com/Applied-Power-Analysis-for-the-Behavioral-Sciences-2nd-Edition-2nd-Edition/Aberson/p/book/9781138044593

The book gives lots of illustrative examples of using the code but is
not necessary for using the package.

CRAN: https://cran.r-project.org/web/packages/pwr2ppl/index.html
GitHub: https://github.com/chrisaberson/pwr2ppl

Best,

Chris Aberson

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From B|||@Po||ng @end|ng |rom ze||@@com  Mon Jun 17 14:55:14 2019
From: B|||@Po||ng @end|ng |rom ze||@@com (Bill Poling)
Date: Mon, 17 Jun 2019 12:55:14 +0000
Subject: [R] Help with Vline in ggplot/ggplotly
Message-ID: <BN7PR02MB5073CFA14F89E78A93D9B878EAEB0@BN7PR02MB5073.namprd02.prod.outlook.com>

#RStudio Version 1.2.1335
sessionInfo()
#R version 3.5.3 (2019-03-11)
#Platform: x86_64-w64-mingw32/x64 (64-bit)
#Running under: Windows >= 8 x64 (build 9200)

Good morning.

I am trying to add a Vline to a ggplot which will ultimately become ggplotly version

My data span 2017 - 2019-06-11 with an additional 92 days of estimates = 984 days

The estimates begin at 2019-06-12 through 2019-09-11 so I want to add vline at 2019-06-11

Here are some data particulars:

summary(ednet)
#Date2              NetEditRev
# Min.   :2017-01-01   Min.   :-176182.7500
# 1st Qu.:2017-09-03   1st Qu.:   2584.1825
# Median :2018-05-07   Median :  49671.7200
# Mean   :2018-05-07   Mean   :  46078.4093
# 3rd Qu.:2019-01-08   3rd Qu.:  77373.0000
# Max.   :2019-09-11   Max.   : 164891.2500

as_tibble(ednet)
# A tibble: 984 x 2
# Date2      NetEditRev
# <date>          <dbl>
# 1 2017-01-01     -923.
# 2 2017-01-02    19222.
# 3 2017-01-03    -8397.
# 4 2017-01-04    37697.
# 5 2017-01-05    46075.
# 6 2017-01-06    38329.
# 7 2017-01-07     3111.
# 8 2017-01-08       21.4
# 9 2017-01-09    63570.
# 10 2017-01-10    50777
# ... with 974 more rows

head(ednet)
        Date2 NetEditRev
1: 2017-01-01    -923.40
2: 2017-01-02   19222.09
3: 2017-01-03   -8396.82
4: 2017-01-04   37696.58
5: 2017-01-05   46075.34
6: 2017-01-06   38329.35


#The plot I have currently works fine
g1 <- as_tibble(ednet) %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
  labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with Estimates Beyond",
     x = "",
     y = "Revenue"
)
ggplotly(g1) %>%
  layout(xaxis = list(rangeslider = list(type = "Date")))




But I need to add a Vline at 2019-06-11
So I looked at many URLs on the subject and tried different suggestions, however, none seem to work

#https://github.com/tidyverse/ggplot2/issues/84
#https://ggplot2.tidyverse.org/reference/geom_abline.html

Then I found this link and thought it might work for me so I am trying it
#https://stackoverflow.com/questions/52735018/ggplotly-does-not-display-geom-vline-geom-hline-when-data-is-posixct

# Need an event DF for the vline

event = data.frame(event_date = as.POSIXct(c("2019-06-11")))


I have tried it various ways and as a tibble or as just a DF (not sure that makes any difference?)

I think I am close and I hope someone can add the missing piece to this please.

Thank you

WHP

V1  --- NOT tibble   with   geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +

g1 <- #as_tibble(ednet) %>%
      ednet %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
  #geom_vline(xintercept = ) +
  #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col = "black") +
  #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11"))) +
  #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-11"))) +
  #geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +
  geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
  labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with Estimates Beyond",
  x = "",
  y = "Revenue"
)

ggplotly(g1) %>%
  layout(xaxis = list(rangeslider = list(type = "Date")))



V2  --- As tibble   with   geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +

g1 <- as_tibble(ednet) %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
  #geom_vline(xintercept = ) +
  #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col = "black") +
  #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11"))) +
  #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-11"))) +
  #geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +
  geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
  labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with Estimates Beyond",
     x = "",
     y = "Revenue"
)
ggplotly(g1) %>%
  layout(xaxis = list(rangeslider = list(type = "Date")))


V3  --- Not as Tibble geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +

g1 <- ednet %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
  #geom_vline(xintercept = ) +
  #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col = "black") +
  #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11")))
  #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-11")))
  geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +
  #geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
  labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with Estimates Beyond",
       x = "",
       y = "Revenue"
  )
ggplotly(g1) %>%
  layout(xaxis = list(rangeslider = list(type = "Date")))#Fix Layout to layout, fix List to list


V4  --- as Tibble geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +

g1 <- as_tibble(ednet) %>%
  ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
  #geom_vline(xintercept = ) +
  #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col = "black") +
  #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11")))
  #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-11")))
  geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)), color = "red") +
  #geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
  labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with Estimates Beyond",
       x = "",
       y = "Revenue"
  )

ggplotly(g1) %>%
  layout(xaxis = list(rangeslider = list(type = "Date")))

Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jun 17 15:16:35 2019
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 17 Jun 2019 13:16:35 +0000
Subject: [R] Help with Vline in ggplot/ggplotly
In-Reply-To: <BN7PR02MB5073CFA14F89E78A93D9B878EAEB0@BN7PR02MB5073.namprd02.prod.outlook.com>
References: <BN7PR02MB5073CFA14F89E78A93D9B878EAEB0@BN7PR02MB5073.namprd02.prod.outlook.com>
Message-ID: <42e55a450abd47bcb326aaefe4ad2e3b@SRVEXCHCM1302.precheza.cz>

Hi

I may be completely missing your point but maybe simple

geom_vline(xintercept = as.POSIXct("2019-06-11"))

is what you want.

Something like

ggplot(aes(Date2,NetEditRev)) +
  geom_line(alpha=0.5, color = "#2c3e50") +
  geom_smooth(method = "loess", span= 0.5) +
  theme_tq() +
  scale_y_continuous(labels = scales::dollar_format()) +
geom_vline(xintercept = as.POSIXct("2019-06-11"))

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bill Poling
> Sent: Monday, June 17, 2019 2:55 PM
> To: r-help (r-help at r-project.org) <r-help at r-project.org>
> Subject: [R] Help with Vline in ggplot/ggplotly
>
> #RStudio Version 1.2.1335
> sessionInfo()
> #R version 3.5.3 (2019-03-11)
> #Platform: x86_64-w64-mingw32/x64 (64-bit) #Running under: Windows >= 8
> x64 (build 9200)
>
> Good morning.
>
> I am trying to add a Vline to a ggplot which will ultimately become ggplotly
> version
>
> My data span 2017 - 2019-06-11 with an additional 92 days of estimates = 984
> days
>
> The estimates begin at 2019-06-12 through 2019-09-11 so I want to add vline
> at 2019-06-11
>
> Here are some data particulars:
>
> summary(ednet)
> #Date2              NetEditRev
> # Min.   :2017-01-01   Min.   :-176182.7500
> # 1st Qu.:2017-09-03   1st Qu.:   2584.1825
> # Median :2018-05-07   Median :  49671.7200
> # Mean   :2018-05-07   Mean   :  46078.4093
> # 3rd Qu.:2019-01-08   3rd Qu.:  77373.0000
> # Max.   :2019-09-11   Max.   : 164891.2500
>
> as_tibble(ednet)
> # A tibble: 984 x 2
> # Date2      NetEditRev
> # <date>          <dbl>
> # 1 2017-01-01     -923.
> # 2 2017-01-02    19222.
> # 3 2017-01-03    -8397.
> # 4 2017-01-04    37697.
> # 5 2017-01-05    46075.
> # 6 2017-01-06    38329.
> # 7 2017-01-07     3111.
> # 8 2017-01-08       21.4
> # 9 2017-01-09    63570.
> # 10 2017-01-10    50777
> # ... with 974 more rows
>
> head(ednet)
>         Date2 NetEditRev
> 1: 2017-01-01    -923.40
> 2: 2017-01-02   19222.09
> 3: 2017-01-03   -8396.82
> 4: 2017-01-04   37696.58
> 5: 2017-01-05   46075.34
> 6: 2017-01-06   38329.35
>
>
> #The plot I have currently works fine
> g1 <- as_tibble(ednet) %>%
>   ggplot(aes(Date2,NetEditRev)) +
>   geom_line(alpha=0.5, color = "#2c3e50") +
>   geom_smooth(method = "loess", span= 0.5) +
>   theme_tq() +
>   scale_y_continuous(labels = scales::dollar_format()) +
>   labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with
> Estimates Beyond",
>      x = "",
>      y = "Revenue"
> )
> ggplotly(g1) %>%
>   layout(xaxis = list(rangeslider = list(type = "Date")))
>
>
>
>
> But I need to add a Vline at 2019-06-11
> So I looked at many URLs on the subject and tried different suggestions,
> however, none seem to work
>
> #https://github.com/tidyverse/ggplot2/issues/84
> #https://ggplot2.tidyverse.org/reference/geom_abline.html
>
> Then I found this link and thought it might work for me so I am trying it
> #https://stackoverflow.com/questions/52735018/ggplotly-does-not-display-
> geom-vline-geom-hline-when-data-is-posixct
>
> # Need an event DF for the vline
>
> event = data.frame(event_date = as.POSIXct(c("2019-06-11")))
>
>
> I have tried it various ways and as a tibble or as just a DF (not sure that makes
> any difference?)
>
> I think I am close and I hope someone can add the missing piece to this please.
>
> Thank you
>
> WHP
>
> V1  --- NOT tibble   with   geom_vline(data = event, aes(xintercept =
> event$event_date), color = "red") +
>
> g1 <- #as_tibble(ednet) %>%
>       ednet %>%
>   ggplot(aes(Date2,NetEditRev)) +
>   geom_line(alpha=0.5, color = "#2c3e50") +
>   geom_smooth(method = "loess", span= 0.5) +
>   theme_tq() +
>   scale_y_continuous(labels = scales::dollar_format()) +
>   #geom_vline(xintercept = ) +
>   #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col =
> "black") +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11"))) +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-
> 11"))) +
>   #geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)),
> color = "red") +
>   geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
>   labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with
> Estimates Beyond",
>   x = "",
>   y = "Revenue"
> )
>
> ggplotly(g1) %>%
>   layout(xaxis = list(rangeslider = list(type = "Date")))
>
>
>
> V2  --- As tibble   with   geom_vline(data = event, aes(xintercept =
> event$event_date), color = "red") +
>
> g1 <- as_tibble(ednet) %>%
>   ggplot(aes(Date2,NetEditRev)) +
>   geom_line(alpha=0.5, color = "#2c3e50") +
>   geom_smooth(method = "loess", span= 0.5) +
>   theme_tq() +
>   scale_y_continuous(labels = scales::dollar_format()) +
>   #geom_vline(xintercept = ) +
>   #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col =
> "black") +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11"))) +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-
> 11"))) +
>   #geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)),
> color = "red") +
>   geom_vline(data = event, aes(xintercept = event$event_date), color = "red") +
>   labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with
> Estimates Beyond",
>      x = "",
>      y = "Revenue"
> )
> ggplotly(g1) %>%
>   layout(xaxis = list(rangeslider = list(type = "Date")))
>
>
> V3  --- Not as Tibble geom_vline(data = event, aes(xintercept =
> as.numeric(event$event_date)), color = "red") +
>
> g1 <- ednet %>%
>   ggplot(aes(Date2,NetEditRev)) +
>   geom_line(alpha=0.5, color = "#2c3e50") +
>   geom_smooth(method = "loess", span= 0.5) +
>   theme_tq() +
>   scale_y_continuous(labels = scales::dollar_format()) +
>   #geom_vline(xintercept = ) +
>   #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col =
> "black") +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11")))
>   #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-
> 11")))
>   geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)),
> color = "red") +
>   #geom_vline(data = event, aes(xintercept = event$event_date), color = "red")
> +
>   labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with
> Estimates Beyond",
>        x = "",
>        y = "Revenue"
>   )
> ggplotly(g1) %>%
>   layout(xaxis = list(rangeslider = list(type = "Date")))#Fix Layout to layout, fix
> List to list
>
>
> V4  --- as Tibble geom_vline(data = event, aes(xintercept =
> as.numeric(event$event_date)), color = "red") +
>
> g1 <- as_tibble(ednet) %>%
>   ggplot(aes(Date2,NetEditRev)) +
>   geom_line(alpha=0.5, color = "#2c3e50") +
>   geom_smooth(method = "loess", span= 0.5) +
>   theme_tq() +
>   scale_y_continuous(labels = scales::dollar_format()) +
>   #geom_vline(xintercept = ) +
>   #geom_vline(aes(xintercept = as.integer(as.POSIXct("2019-06-11"))), col =
> "black") +
>   #geom_vline(data = ednet, aes(xintercept = as.numeric("2019-06-11")))
>   #geom_vline(data = ednet, aes(xintercept = as.numeric(Date2="2019-06-
> 11")))
>   geom_vline(data = event, aes(xintercept = as.numeric(event$event_date)),
> color = "red") +
>   #geom_vline(data = event, aes(xintercept = event$event_date), color = "red")
> +
>   labs(title="Plot1 for Net Edit Revenue True through 2019-06-11 with
> Estimates Beyond",
>        x = "",
>        y = "Revenue"
>   )
>
> ggplotly(g1) %>%
>   layout(xaxis = list(rangeslider = list(type = "Date")))
>
> Confidentiality Notice This message is sent from Zelis. ...{{dropped:13}}
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From rv15| @end|ng |rom y@hoo@@e  Mon Jun 17 19:18:59 2019
From: rv15| @end|ng |rom y@hoo@@e (ravi)
Date: Mon, 17 Jun 2019 17:18:59 +0000 (UTC)
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <8da9b965-248e-ccc9-b984-2bd74ef711ed@gmail.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
 <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
 <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>
 <633920289.2290007.1560518094651@mail.yahoo.com>
 <8da9b965-248e-ccc9-b984-2bd74ef711ed@gmail.com>
Message-ID: <1001537509.4180435.1560791939504@mail.yahoo.com>

 Hi Duncan,Once again, I must thank you for your excellent support. I am getting to know things which I would have been very difficult by just reading the manual.
I have followed your suggestion to use the qmesh3d command. I have uniquely defined the vertices. I am still stuck. I show below my code and the error message that I get.
##### isosurface on a 3d plotorig1 <- 0.3;radius1=0.2;theta <- seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
orig2 <- 0.5;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
orig3 <- 0.3;radius3=0.1;theta <- seq(0,2*pi,pi/8)x3 <- orig3+radius3*cos(theta)y3 <- orig3+radius3*sin(theta)
plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")lines(x3,y3,type="b",col="green")
z1 <- rep(0,length(x1))z2 <- rep(0.5,length(x2))z3 <- rep(1,length(x3))
### use rgl packagelibrary(rgl)
p1 <- cbind(x1,y1,z1)n <- length(x1)p1<- p1[-n,]
plot3d(p1, col="red")p2 <- cbind(x2, y2, z2)p2<- p2[-n,]points3d(p2, col="blue")p3 <- cbind(x3, y3, z3)p3<- p3[-n,]points3d(p3, col="green")aspect3d(1,1,1)highlevel()
vertices <- cbind(t(p1),t(p2),t(p3))indices <- rbind(2:n, 1:(n-1),n + 1:(n-1), n + 2:n,2*n + 2:n, 2*n + 1:(n-1),n + 1:(n-1),n + 2:n)
cyl <- qmesh3d(vertices, indices, homogeneous = FALSE)str(cyl)shade3d(col = "grey",alpha=0.2)
## ########I get the following error message> shade3d(col = "grey",alpha=0.2)Error in UseMethod("shade3d") :?? no applicable method for 'shade3d' applied to an object of class "character"#######################
## the following worksind1 <- rbind(2,1,17,18,34,33,17,18)cyl1 <- qmesh3d(vertices, ind1, homogeneous = FALSE)str(cyl1)shade3d(addNormals(cyl1), col = "grey",alpha=0.2)
###################> str(cyl)List of 6?$ vb? ? ? ? ? ?: num [1:4, 1:48] 0.5 0.3 0 1 0.485 ...?$ ib? ? ? ? ? ?: num [1:4, 1:32] 2 1 18 19 36 35 18 19 3 2 ...

> str(cyl1)List of 6?$ vb? ? ? ? ? ?: num [1:4, 1:48] 0.5 0.3 0 1 0.485 ...?$ ib? ? ? ? ? ?: num [1:4, 1:2] 2 1 17 18 34 33 17 18
Why does the former give an error message and not the latter?
Other questions:1. Is there a better method of defining the indices? The qmesh3d requires that the length of indices be a sub-multiple of the number of rows. Can I get around this? For example, if I wanted to define the indices in the order c(2,1,17,33,34,18,2)? How flexible can I get in defining the indices vector?2. The result with the shading command results in a surface with a white patch in the middle. Can this be avoided?3. Just curious. When would one want to use homogenous coordinates in the definition of the vertices?4. If I want to paste separate images on the top and bottom planes, how would go about doing it? This is a case of texture mapping. I would really appreciate it if I get some tips.
I am thankful for the rare previlige of directly getting help from the developer of the rgl package on this forum.Thanking you, Ravi





    On Friday, 14 June 2019, 21:37:10 CEST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:  
 
 On 14/06/2019 9:14 a.m., ravi wrote:
> Hi Duncan,
> Thanks a lot for your help. You have really opened up a road for me to 
> to pursue further.
> 
> Your later solution with cylinder3d is interesting. However, in my real 
> application, I have several parallel planes and very irregular contours 
> in each of them. So the quad3d command is more useful.? Are there more 
> efficient ways of using this without the for loops?

Yes, but you need to work out a longer vector of indices into the p1 and 
p2 vectors.? Depending on how you store your data that could be just 
tedious or really hard:? do you know how the vertices in p1 and p2 
correspond?? If they are general curves with no connection, that can be 
a tricky question.


> 
> Other points where I would like to have help are :
>? ? ? 1. I would like to smoothen the surface. But I have not been able 
> to figure out how I can use the addNormals command along with quad3d. 
> Are there other ways of improving the smoothness?

addNormals works on mesh objects, which can contain either quads or 
triangles.? If you've done the calculations to plot quads, you can 
create a qmesh3d object instead.? Create one matrix holding the 
coordinates of all vertices (ideally with no repetitions), and another 
matrix containing the indices of vertices which make up the quads.

For example, starting with the code I posted before, this comes quite close:

vertices <- cbind(t(p1), t(p2))
n <- nrow(p1)
indices <- rbind(2:n, 1:(n-1), n + 1:(n-1), n + 2:n)
cyl <- qmesh3d(vertices, indices, homogeneous = FALSE)
shade3d(addNormals(cyl), col = "red")

It's not quite right because vertices 1 and n have the same coordinates, 
as do vertices n+1 and 2*n; you really want to set it up so vertices are 
uniquely defined.

>? ? ? 2. As I said before, I can have 5 to 6 parallel planes. Sometimes, 
> the jump between two of them can be too high. So, I am thinking of using 
> an interpolation method at an intermediate plane. Do you have any 
> recommendations? I was thing of using a gam method where I make an 
> additive model for y ~ s(x) + s(z). Then predict y at height z given x. 
> I may have to figure out how I do this for closed curves (two or more 
> values of y for a given x). I just wonder if you can indicate generally 
> the route hat I should follow.

Nope, no idea on this one.? You might want to use the misc3d::contour3d 
function rather than working this all out for yourself, but it takes 
different inputs than you've described.

>? ? ? 3. How do I make the surface transparent? How do I add an alpha 
> value to the quad3d command?

That's a material property, so you can just put it in as part of the 
dots.? For the meshes, it would go into the shade3d() call in the same 
way, or the material argument to qmesh3d.

Duncan Murdoch

> 
> Once again, I would like to thank you for your fantastic help.
> Thanking you,
> Ravi
> 
> On Thursday, 13 June 2019, 22:52:07 CEST, Duncan Murdoch 
> <murdoch.duncan at gmail.com> wrote:
> 
> 
> On 13/06/2019 4:32 p.m., Duncan Murdoch wrote:
>? > On 13/06/2019 12:47 p.m., ravi via R-help wrote:
>? >> Hi,I want to plot a surface joining a circle on a plane with another 
> circle (a little offset w.r.t. the first one) on a parallel plane. This 
> is a very simplified version of my problem.
>? >> I will explain with the following code :
>? >> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <- 
> seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- orig1+radius1*sin(theta)
>? >> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <- 
> orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
>? >> 
> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
>? >> #### the z coordinates on two parallel plnesz1 <- 
> rep(0,length(x1))z2 <- rep(1,length(x2))
>? >>
>? >> I have tried to plot my 3d figure using the packages plot3D, misc3d, 
> rgl etc. All these packages require z as a matrix. In my case, all of 
> x,y and z are vectors. How can I plot this surface? In addition, I would 
> like to add similiar surfaces to the same plot.
>? >
>? > It's not true that rgl requires z as a matrix:? that's one possibility,
>? > but there are others.? Here's one way to do what you want.
>? >
>? > # First, compute the two circles
>? > orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
>? > x1 <- orig1+radius1*cos(theta)
>? > y1 <- orig1+radius1*sin(theta)
>? > orig2 <- 0.7;radius2=0.2
>? > x2 <- orig2+radius2*cos(theta)
>? > y2 <- orig2+radius2*sin(theta)
>? >
>? > #### the z coordinates on two parallel plnes
>? > z1 <- rep(0,length(x1))
>? > z2 <- rep(1,length(x2))
>? >
>? > library(rgl)
>? > p1 <- cbind(x1,y1,z1)
>? > plot3d(p1, col="red")
>? > p2 <- cbind(x2, y2, z2)
>? > points3d(p2, col="blue")
>? >
>? > quads <- matrix(numeric(), 0, 3)
>? > for (i in seq_along(x1)[-1]) {
>? >? ? quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
>? > }
>? > quads3d(quads, col = "green")
>? >
>? > There are more efficient ways to do this (the for loop would be slow if
>? > you had bigger vectors), but this should give you the idea.
> 
> Here's one of the more efficient ways:
> 
> cylinder3d(rbind(c(0.4, 0.4, 0), c(0.7, 0.7, 1)),
>? ? ? ? ? ? ? radius = c(0.3, 0.2),
>? ? ? ? ? ? ? e1 = rbind(c(0,0,1), c(0,0,1)), sides=20) %>%
>? ? ? ? ? ? ? addNormals() %>%
>? ? ? ? ? ? ? shade3d(col = "green")
> 
> 
> Duncan Murdoch

  
	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Jun 17 19:21:55 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 17 Jun 2019 13:21:55 -0400
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
Message-ID: <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>

On 17/06/2019 1:19 p.m., Duncan Murdoch wrote:
> Suppose I have a square logical matrix M which I'm thinking of as a
> relation between the row/column numbers.
> 
> I can make it into a symmetric relation (i.e. M[i,j] being TRUE implies
> M[j,i] is TRUE) by the calculation
> 
> M <- M | t(M)
> 
> Is there a simple way to ensure transitivity, i.e. M[i,j] & M[j,k] both
> being TRUE implies M[i,k] is TRUE?
> 
> The operation should only change FALSE or NA values to TRUE values; TRUE
> values should never be changed.

I also want the changes to be minimal; changing everything to TRUE would 
satisfy transitivity, but isn't useful to me.

Duncan Murdoch


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Jun 17 19:19:13 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 17 Jun 2019 13:19:13 -0400
Subject: [R] Add transitivity to a matrix?
Message-ID: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>

Suppose I have a square logical matrix M which I'm thinking of as a 
relation between the row/column numbers.

I can make it into a symmetric relation (i.e. M[i,j] being TRUE implies 
M[j,i] is TRUE) by the calculation

M <- M | t(M)

Is there a simple way to ensure transitivity, i.e. M[i,j] & M[j,k] both 
being TRUE implies M[i,k] is TRUE?

The operation should only change FALSE or NA values to TRUE values; TRUE 
values should never be changed.

Duncan Murdoch


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Jun 17 21:07:11 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 17 Jun 2019 15:07:11 -0400
Subject: [R] plotting an isosurface on a 3d plot
In-Reply-To: <1001537509.4180435.1560791939504@mail.yahoo.com>
References: <1044177206.1628822.1560444443460.ref@mail.yahoo.com>
 <1044177206.1628822.1560444443460@mail.yahoo.com>
 <ed5cd193-e953-112c-697f-f4dff14876bb@gmail.com>
 <f6e15392-f588-df51-ccb1-c544c34c3a3d@gmail.com>
 <633920289.2290007.1560518094651@mail.yahoo.com>
 <8da9b965-248e-ccc9-b984-2bd74ef711ed@gmail.com>
 <1001537509.4180435.1560791939504@mail.yahoo.com>
Message-ID: <7bcf9d73-f3f1-3f5f-3da9-9278ef4dd590@gmail.com>

See responses inline.

On 17/06/2019 1:18 p.m., ravi wrote:
> Hi Duncan,
> Once again, I must thank you for your excellent support. I am getting to 
> know things which I would have been very difficult by just reading the 
> manual.
> 
> I have followed your suggestion to use the qmesh3d command. I have 
> uniquely defined the vertices. I am still stuck. I show below my code 
> and the error message that I get.
> 
> ##### isosurface on a 3d plot
> orig1 <- 0.3;radius1=0.2;
> theta <- seq(0,2*pi,pi/8)
> x1 <- orig1+radius1*cos(theta)
> y1 <- orig1+radius1*sin(theta)
> 
> orig2 <- 0.5;radius2=0.2;
> theta <- seq(0,2*pi,pi/8)
> x2 <- orig2+radius2*cos(theta)
> y2 <- orig2+radius2*sin(theta)
> 
> orig3 <- 0.3;radius3=0.1;
> theta <- seq(0,2*pi,pi/8)
> x3 <- orig3+radius3*cos(theta)
> y3 <- orig3+radius3*sin(theta)
> 
> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)
> lines(x2,y2,type="b",col="blue")
> lines(x3,y3,type="b",col="green")
> 
> z1 <- rep(0,length(x1))
> z2 <- rep(0.5,length(x2))
> z3 <- rep(1,length(x3))
> 
> ### use rgl package
> library(rgl)
> 
> p1 <- cbind(x1,y1,z1)
> n <- length(x1)
> p1<- p1[-n,]
> 
> plot3d(p1, col="red")
> p2 <- cbind(x2, y2, z2)
> p2<- p2[-n,]
> points3d(p2, col="blue")
> p3 <- cbind(x3, y3, z3)
> p3<- p3[-n,]
> points3d(p3, col="green")
> aspect3d(1,1,1)
> highlevel()
> 
> vertices <- cbind(t(p1),t(p2),t(p3))
> indices <- rbind(2:n, 1:(n-1),n + 1:(n-1), n + 2:n,2*n + 2:n, 2*n + 
> 1:(n-1),n + 1:(n-1),n + 2:n)

That's too many rows.  See the comment about indices below.  It also 
includes values that are out of range.  Your vertices matrix has 48 
columns, but n is 17, so 2*n + 2:n goes up to 51.

> cyl <- qmesh3d(vertices, indices, homogeneous = FALSE)
> str(cyl)
> shade3d(col = "grey",alpha=0.2)
> 
> ## ########I get the following error message
>  > shade3d(col = "grey",alpha=0.2)
> Error in UseMethod("shade3d") :
>  ? no applicable method for 'shade3d' applied to an object of class 
> "character"
> #######################

You forgot to put the mesh object in the call.  It should be

shade3d(cyl, col = "grey",alpha=0.2)

or

cyl %>% shade3d(col = "grey",alpha=0.2)

(which is basically the same thing).

> 
> ## the following works
> ind1 <- rbind(2,1,17,18,34,33,17,18)
> cyl1 <- qmesh3d(vertices, ind1, homogeneous = FALSE)
> str(cyl1)
> shade3d(addNormals(cyl1), col = "grey",alpha=0.2)
> 
> ###################
>  > str(cyl)
> List of 6
>  ?$ vb? ? ? ? ? ?: num [1:4, 1:48] 0.5 0.3 0 1 0.485 ...
>  ?$ ib? ? ? ? ? ?: num [1:4, 1:32] 2 1 18 19 36 35 18 19 3 2 ...
> 
> 
>  > str(cyl1)
> List of 6
>  ?$ vb? ? ? ? ? ?: num [1:4, 1:48] 0.5 0.3 0 1 0.485 ...
>  ?$ ib? ? ? ? ? ?: num [1:4, 1:2] 2 1 17 18 34 33 17 18
> 
> Why does the former give an error message and not the latter?

addNormals(cyl1) gives a mesh object, so your second call had one.

> 
> Other questions:
> 1. Is there a better method of defining the indices? The qmesh3d 
> requires that the length of indices be a sub-multiple of the number of 
> rows. Can I get around this? For example, if I wanted to define the 
> indices in the order c(2,1,17,33,34,18,2)? How flexible can I get in 
> defining the indices vector?

The indices to qmesh3d() will be converted to a 4xn matrix, where each 
column gives the indices of the vertices forming one quadrilateral.  You 
can pass a vector instead of a matrix and qmesh3d() will convert it to a 
4 row matrix, but that's about all the flexibility you have.

> 2. The result with the shading command results in a surface with a white 
> patch in the middle. Can this be avoided?

I'm not sure what you're referring to, but it might be the specular 
reflection from the surface.  You can specify "lit=FALSE" to do away 
with all lighting, but that loses a lot of the 3D illusion.  If you just 
want to get rid of the bright reflection, you can try

shade3d(addNormals(cyl1), col = "grey",alpha=0.2, specular="black")

to make it a non-reflective surface.

> 3. Just curious. When would one want to use homogenous coordinates in 
> the definition of the vertices?

If they're more convenient :-).  OpenGL does most calculations in 
homogeneous coordinates, because then affine transformations can be 
conveniently represented as matrices (i.e. linear transformations). 
There are also a few oddities:  the sum in homogeneous coordinates is a 
weighted average in Euclidean coordinates.


> 4. If I want to paste separate images on the top and bottom planes, how 
> would go about doing it? This is a case of texture mapping. I would 
> really appreciate it if I get some tips.

It's easiest to plot the two surfaces separately.  If you want to plot 
both at once, you need to glue the two images together into a single 
PNG, and use texture coordinates to choose which image is used for each 
vertex.  It's probably a lot more trouble than just plotting the 
surfaces separately.

> 
> I am thankful for the rare previlige of directly getting help from the 
> developer of the rgl package on this forum.

That's what this forum is for, and it's why most participants ask all 
responses to be sent to the list:  if I answer your questions here, 
there's a permanent record which anyone can find via Google in the future.

Duncan Murdoch

> Thanking you, Ravi
> 
> 
> 
> 
> 
> 
> On Friday, 14 June 2019, 21:37:10 CEST, Duncan Murdoch 
> <murdoch.duncan at gmail.com> wrote:
> 
> 
> On 14/06/2019 9:14 a.m., ravi wrote:
>  > Hi Duncan,
>  > Thanks a lot for your help. You have really opened up a road for me to
>  > to pursue further.
>  >
>  > Your later solution with cylinder3d is interesting. However, in my real
>  > application, I have several parallel planes and very irregular contours
>  > in each of them. So the quad3d command is more useful.? Are there more
>  > efficient ways of using this without the for loops?
> 
> Yes, but you need to work out a longer vector of indices into the p1 and
> p2 vectors.? Depending on how you store your data that could be just
> tedious or really hard:? do you know how the vertices in p1 and p2
> correspond?? If they are general curves with no connection, that can be
> a tricky question.
> 
> 
>  >
>  > Other points where I would like to have help are :
>  >? ? ? 1. I would like to smoothen the surface. But I have not been able
>  > to figure out how I can use the addNormals command along with quad3d.
>  > Are there other ways of improving the smoothness?
> 
> addNormals works on mesh objects, which can contain either quads or
> triangles.? If you've done the calculations to plot quads, you can
> create a qmesh3d object instead.? Create one matrix holding the
> coordinates of all vertices (ideally with no repetitions), and another
> matrix containing the indices of vertices which make up the quads.
> 
> For example, starting with the code I posted before, this comes quite close:
> 
> vertices <- cbind(t(p1), t(p2))
> n <- nrow(p1)
> indices <- rbind(2:n, 1:(n-1), n + 1:(n-1), n + 2:n)
> cyl <- qmesh3d(vertices, indices, homogeneous = FALSE)
> shade3d(addNormals(cyl), col = "red")
> 
> It's not quite right because vertices 1 and n have the same coordinates,
> as do vertices n+1 and 2*n; you really want to set it up so vertices are
> uniquely defined.
> 
>  >? ? ? 2. As I said before, I can have 5 to 6 parallel planes. Sometimes,
>  > the jump between two of them can be too high. So, I am thinking of using
>  > an interpolation method at an intermediate plane. Do you have any
>  > recommendations? I was thing of using a gam method where I make an
>  > additive model for y ~ s(x) + s(z). Then predict y at height z given x.
>  > I may have to figure out how I do this for closed curves (two or more
>  > values of y for a given x). I just wonder if you can indicate generally
>  > the route hat I should follow.
> 
> Nope, no idea on this one.? You might want to use the misc3d::contour3d
> function rather than working this all out for yourself, but it takes
> different inputs than you've described.
> 
>  >? ? ? 3. How do I make the surface transparent? How do I add an alpha
>  > value to the quad3d command?
> 
> That's a material property, so you can just put it in as part of the
> dots.? For the meshes, it would go into the shade3d() call in the same
> way, or the material argument to qmesh3d.
> 
> Duncan Murdoch
> 
> 
>  >
>  > Once again, I would like to thank you for your fantastic help.
>  > Thanking you,
>  > Ravi
>  >
>  > On Thursday, 13 June 2019, 22:52:07 CEST, Duncan Murdoch
>  > <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
>  >
>  >
>  > On 13/06/2019 4:32 p.m., Duncan Murdoch wrote:
>  >? > On 13/06/2019 12:47 p.m., ravi via R-help wrote:
>  >? >> Hi,I want to plot a surface joining a circle on a plane with another
>  > circle (a little offset w.r.t. the first one) on a parallel plane. This
>  > is a very simplified version of my problem.
>  >? >> I will explain with the following code :
>  >? >> # First, I plot the two circlesorig1 <- 0.4;radius1=0.3;theta <-
>  > seq(0,2*pi,pi/8)x1 <- orig1+radius1*cos(theta)y1 <- 
> orig1+radius1*sin(theta)
>  >? >> orig2 <- 0.7;radius2=0.2;theta <- seq(0,2*pi,pi/8)x2 <-
>  > orig2+radius2*cos(theta)y2 <- orig2+radius2*sin(theta)
>  >? >>
>  > 
> plot(x1,y1,type='b',col="red",xlim=c(0,1),ylim=c(0,1),asp=1)lines(x2,y2,type="b",col="blue")
>  >? >> #### the z coordinates on two parallel plnesz1 <-
>  > rep(0,length(x1))z2 <- rep(1,length(x2))
>  >? >>
>  >? >> I have tried to plot my 3d figure using the packages plot3D, misc3d,
>  > rgl etc. All these packages require z as a matrix. In my case, all of
>  > x,y and z are vectors. How can I plot this surface? In addition, I would
>  > like to add similiar surfaces to the same plot.
>  >? >
>  >? > It's not true that rgl requires z as a matrix:? that's one 
> possibility,
>  >? > but there are others.? Here's one way to do what you want.
>  >? >
>  >? > # First, compute the two circles
>  >? > orig1 <- 0.4;radius1=0.3;theta <- seq(0,2*pi,pi/8)
>  >? > x1 <- orig1+radius1*cos(theta)
>  >? > y1 <- orig1+radius1*sin(theta)
>  >? > orig2 <- 0.7;radius2=0.2
>  >? > x2 <- orig2+radius2*cos(theta)
>  >? > y2 <- orig2+radius2*sin(theta)
>  >? >
>  >? > #### the z coordinates on two parallel plnes
>  >? > z1 <- rep(0,length(x1))
>  >? > z2 <- rep(1,length(x2))
>  >? >
>  >? > library(rgl)
>  >? > p1 <- cbind(x1,y1,z1)
>  >? > plot3d(p1, col="red")
>  >? > p2 <- cbind(x2, y2, z2)
>  >? > points3d(p2, col="blue")
>  >? >
>  >? > quads <- matrix(numeric(), 0, 3)
>  >? > for (i in seq_along(x1)[-1]) {
>  >? >? ? quads <- rbind(quads, p1[i-1,], p1[i,], p2[i,], p2[i-1,])
>  >? > }
>  >? > quads3d(quads, col = "green")
>  >? >
>  >? > There are more efficient ways to do this (the for loop would be 
> slow if
>  >? > you had bigger vectors), but this should give you the idea.
>  >
>  > Here's one of the more efficient ways:
>  >
>  > cylinder3d(rbind(c(0.4, 0.4, 0), c(0.7, 0.7, 1)),
>  >? ? ? ? ? ? ? radius = c(0.3, 0.2),
>  >? ? ? ? ? ? ? e1 = rbind(c(0,0,1), c(0,0,1)), sides=20) %>%
>  >? ? ? ? ? ? ? addNormals() %>%
>  >? ? ? ? ? ? ? shade3d(col = "green")
>  >
>  >
>  > Duncan Murdoch
>


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jun 18 01:34:45 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 17 Jun 2019 16:34:45 -0700
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
Message-ID: <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>

Depends on what you mean by "simple" of course, but suppose that:

M[i,j] & M[j,k] & M[k,n] are TRUE and M[i,k] and M[i,n] are FALSE.
Then the procedure would see that M[i,k] needs to change to TRUE, but not
that M[i,n] needs to also become TRUE *after* M[i,k] changes.  This seems
to imply that an iterative solution is necessary.

One such procedure, via repeated matrix multiplication to check for and
impose transitivity, appears to be suggested by this discussion:
https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation

Cheers,
Bert



On Mon, Jun 17, 2019 at 10:29 AM Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> On 17/06/2019 1:19 p.m., Duncan Murdoch wrote:
> > Suppose I have a square logical matrix M which I'm thinking of as a
> > relation between the row/column numbers.
> >
> > I can make it into a symmetric relation (i.e. M[i,j] being TRUE implies
> > M[j,i] is TRUE) by the calculation
> >
> > M <- M | t(M)
> >
> > Is there a simple way to ensure transitivity, i.e. M[i,j] & M[j,k] both
> > being TRUE implies M[i,k] is TRUE?
> >
> > The operation should only change FALSE or NA values to TRUE values; TRUE
> > values should never be changed.
>
> I also want the changes to be minimal; changing everything to TRUE would
> satisfy transitivity, but isn't useful to me.
>
> Duncan Murdoch
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Jun 18 02:08:15 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 17 Jun 2019 20:08:15 -0400
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
Message-ID: <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>

On 17/06/2019 7:34 p.m., Bert Gunter wrote:
> Depends on what you mean by "simple" of course, but suppose that:
> 
> M[i,j] & M[j,k] & M[k,n] are TRUE and M[i,k] and M[i,n] are FALSE.
> Then the procedure would see that M[i,k] needs to change to TRUE, but 
> not that M[i,n] needs to also become TRUE *after* M[i,k] changes.? This 
> seems to imply that an iterative solution is necessary.

Right, that's a good point.

Duncan Murdoch

> 
> One such procedure, via repeated matrix multiplication to check for and 
> impose transitivity, appears to be suggested by this discussion:
> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
> 
> Cheers,
> Bert
> 
> 
> 
> On Mon, Jun 17, 2019 at 10:29 AM Duncan Murdoch 
> <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
> 
>     On 17/06/2019 1:19 p.m., Duncan Murdoch wrote:
>      > Suppose I have a square logical matrix M which I'm thinking of as a
>      > relation between the row/column numbers.
>      >
>      > I can make it into a symmetric relation (i.e. M[i,j] being TRUE
>     implies
>      > M[j,i] is TRUE) by the calculation
>      >
>      > M <- M | t(M)
>      >
>      > Is there a simple way to ensure transitivity, i.e. M[i,j] &
>     M[j,k] both
>      > being TRUE implies M[i,k] is TRUE?
>      >
>      > The operation should only change FALSE or NA values to TRUE
>     values; TRUE
>      > values should never be changed.
> 
>     I also want the changes to be minimal; changing everything to TRUE
>     would
>     satisfy transitivity, but isn't useful to me.
> 
>     Duncan Murdoch
> 
>     ______________________________________________
>     R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
>     To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>


From r@oknz @end|ng |rom gm@||@com  Tue Jun 18 02:12:44 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Tue, 18 Jun 2019 12:12:44 +1200
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
Message-ID: <CABcYAd+bRCow5r00E2So=Y9MtdzodgnB9TFcTL=TL_NTtPvGgg@mail.gmail.com>

You have: a square logical matrix M representing a binary relation.
You want: a similar matrix representing the least (fewest true cases)
transitive relation extending what M represents.
It sound as though you are looking for the TRANSITIVE CLOSURE.
You will find that in the 'relations' package.


On Tue, 18 Jun 2019 at 05:39, Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> Suppose I have a square logical matrix M which I'm thinking of as a
> relation between the row/column numbers.
>
> I can make it into a symmetric relation (i.e. M[i,j] being TRUE implies
> M[j,i] is TRUE) by the calculation
>
> M <- M | t(M)
>
> Is there a simple way to ensure transitivity, i.e. M[i,j] & M[j,k] both
> being TRUE implies M[i,k] is TRUE?
>
> The operation should only change FALSE or NA values to TRUE values; TRUE
> values should never be changed.
>
> Duncan Murdoch
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Tue Jun 18 11:45:39 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 18 Jun 2019 11:45:39 +0200
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
Message-ID: <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>

Sounds like this is isomorphic to reachability in graph theory. I wonder if 

(sum_1^n M^i) > 0

would suffice?

-pd



> On 18 Jun 2019, at 02:08 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> On 17/06/2019 7:34 p.m., Bert Gunter wrote:
>> Depends on what you mean by "simple" of course, but suppose that:
>> M[i,j] & M[j,k] & M[k,n] are TRUE and M[i,k] and M[i,n] are FALSE.
>> Then the procedure would see that M[i,k] needs to change to TRUE, but not that M[i,n] needs to also become TRUE *after* M[i,k] changes.  This seems to imply that an iterative solution is necessary.
> 
> Right, that's a good point.
> 
> Duncan Murdoch
> 
>> One such procedure, via repeated matrix multiplication to check for and impose transitivity, appears to be suggested by this discussion:
>> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
>> Cheers,
>> Bert
>> On Mon, Jun 17, 2019 at 10:29 AM Duncan Murdoch <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
>>    On 17/06/2019 1:19 p.m., Duncan Murdoch wrote:
>>     > Suppose I have a square logical matrix M which I'm thinking of as a
>>     > relation between the row/column numbers.
>>     >
>>     > I can make it into a symmetric relation (i.e. M[i,j] being TRUE
>>    implies
>>     > M[j,i] is TRUE) by the calculation
>>     >
>>     > M <- M | t(M)
>>     >
>>     > Is there a simple way to ensure transitivity, i.e. M[i,j] &
>>    M[j,k] both
>>     > being TRUE implies M[i,k] is TRUE?
>>     >
>>     > The operation should only change FALSE or NA values to TRUE
>>    values; TRUE
>>     > values should never be changed.
>>    I also want the changes to be minimal; changing everything to TRUE
>>    would
>>    satisfy transitivity, but isn't useful to me.
>>    Duncan Murdoch
>>    ______________________________________________
>>    R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
>>    To UNSUBSCRIBE and more, see
>>    https://stat.ethz.ch/mailman/listinfo/r-help
>>    PLEASE do read the posting guide
>>    http://www.R-project.org/posting-guide.html
>>    and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Tue Jun 18 15:01:09 2019
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Tue, 18 Jun 2019 15:01:09 +0200
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
Message-ID: <23816.57493.88778.358854@stat.math.ethz.ch>

>>>>> peter dalgaard 
>>>>>     on Tue, 18 Jun 2019 11:45:39 +0200 writes:

    > Sounds like this is isomorphic to reachability in graph
    > theory. I wonder if

    >   (sum_1^n M^i) > 0

    > would suffice?

neat! (and I guess correct)

    > -pd

Which reminds me that in the relatively distant past as
maintainer of the 'expm' package I had introduced "%^%" (to
compute matrix *integer* powers) with this first part of help() :

--------------------------------------------------------------------------
Matrix Power

Description:

     Compute the k-th power of a matrix. Whereas ?x^k? computes
     _element wise_ powers, ?x %^% k? corresponds to k - 1 matrix
     multiplications, ?x %*% x %*% ... %*% x?.

Usage:

     x %^% k
     
Arguments:

       x: a square matrix.

       k: an integer, k >= 0.

Details:

     Argument k is coerced to integer using as.integer.

     The algorithm uses O(log2(k)) matrix multiplications.

Value:

     A matrix of the same dimension as ?x?.

Note:

     If you think you need ?x^k? for k < 0, then consider instead
     ?solve(x %^% (-k))?.

........
........

--------------------------------------------------------------------------

and I had thought / wondered to myself if this should not be
brought into base R [or then at least 'Matrix' which is
installed with R (almost surely)] but I think never got around
to propose that.

Opinions?


    >> On 18 Jun 2019, at 02:08 , Duncan Murdoch
    >> <murdoch.duncan at gmail.com> wrote:
    >> 
    >> On 17/06/2019 7:34 p.m., Bert Gunter wrote:
    >>> Depends on what you mean by "simple" of course, but
    >>> suppose that: M[i,j] & M[j,k] & M[k,n] are TRUE and
    >>> M[i,k] and M[i,n] are FALSE.  Then the procedure would
    >>> see that M[i,k] needs to change to TRUE, but not that
    >>> M[i,n] needs to also become TRUE *after* M[i,k] changes.
    >>> This seems to imply that an iterative solution is
    >>> necessary.
    >> 
    >> Right, that's a good point.
    >> 
    >> Duncan Murdoch
    >> 
    >>> One such procedure, via repeated matrix multiplication
    >>> to check for and impose transitivity, appears to be
    >>> suggested by this discussion:
    >>> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
    >>> Cheers, Bert On Mon, Jun 17, 2019 at 10:29 AM Duncan
    >>> Murdoch <murdoch.duncan at gmail.com
    >>> <mailto:murdoch.duncan at gmail.com>> wrote: On 17/06/2019
    >>> 1:19 p.m., Duncan Murdoch wrote: > Suppose I have a
    >>> square logical matrix M which I'm thinking of as a >
    >>> relation between the row/column numbers.
    >>> >
    >>> > I can make it into a symmetric relation (i.e. M[i,j]
    >>> being TRUE implies > M[j,i] is TRUE) by the calculation
    >>> >
    >>> > M <- M | t(M)
    >>> >
    >>> > Is there a simple way to ensure transitivity,
    >>> i.e. M[i,j] & M[j,k] both > being TRUE implies M[i,k] is
    >>> TRUE?
    >>> >
    >>> > The operation should only change FALSE or NA values to
    >>> TRUE values; TRUE > values should never be changed.  I
    >>> also want the changes to be minimal; changing everything
    >>> to TRUE would satisfy transitivity, but isn't useful to
    >>> me.  Duncan Murdoch
    >>> ______________________________________________
    >>> R-help at r-project.org <mailto:R-help at r-project.org>
    >>> mailing list -- To UNSUBSCRIBE and more, see
    >>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do
    >>> read the posting guide
    >>> http://www.R-project.org/posting-guide.html and provide
    >>> commented, minimal, self-contained, reproducible code.
    >>> 
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    >> more, see https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html and provide
    >> commented, minimal, self-contained, reproducible code.

    > -- 
    > Peter Dalgaard, Professor, Center for Statistics,
    > Copenhagen Business School Solbjerg Plads 3, 2000
    > Frederiksberg, Denmark Phone: (+45)38153501 Office: A 4.23
    > Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide
    > http://www.R-project.org/posting-guide.html and provide
    > commented, minimal, self-contained, reproducible code.


From er|cjberger @end|ng |rom gm@||@com  Tue Jun 18 15:01:55 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 18 Jun 2019 16:01:55 +0300
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
Message-ID: <CAGgJW76jVYWC7OkQObQJpbE+yN8yuKbTX1Wj8t+qU73ogbdHEw@mail.gmail.com>

Very nice, Peter.
Here is one version of Peter's suggestion expressed in R code

M <- M | t(M)  # first step as symmetric matrix as stated by OP
Q <- M
for ( i in 2:(ncol(Q)-1) )
   Q <- Q + Q %*% M

R <- (Q > 0)
R

HTH,
Eric



On Tue, Jun 18, 2019 at 12:46 PM peter dalgaard <pdalgd at gmail.com> wrote:

> Sounds like this is isomorphic to reachability in graph theory. I wonder
> if
>
> (sum_1^n M^i) > 0
>
> would suffice?
>
> -pd
>
>
>
> > On 18 Jun 2019, at 02:08 , Duncan Murdoch <murdoch.duncan at gmail.com>
> wrote:
> >
> > On 17/06/2019 7:34 p.m., Bert Gunter wrote:
> >> Depends on what you mean by "simple" of course, but suppose that:
> >> M[i,j] & M[j,k] & M[k,n] are TRUE and M[i,k] and M[i,n] are FALSE.
> >> Then the procedure would see that M[i,k] needs to change to TRUE, but
> not that M[i,n] needs to also become TRUE *after* M[i,k] changes.  This
> seems to imply that an iterative solution is necessary.
> >
> > Right, that's a good point.
> >
> > Duncan Murdoch
> >
> >> One such procedure, via repeated matrix multiplication to check for and
> impose transitivity, appears to be suggested by this discussion:
> >>
> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
> >> Cheers,
> >> Bert
> >> On Mon, Jun 17, 2019 at 10:29 AM Duncan Murdoch <
> murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
> >>    On 17/06/2019 1:19 p.m., Duncan Murdoch wrote:
> >>     > Suppose I have a square logical matrix M which I'm thinking of as
> a
> >>     > relation between the row/column numbers.
> >>     >
> >>     > I can make it into a symmetric relation (i.e. M[i,j] being TRUE
> >>    implies
> >>     > M[j,i] is TRUE) by the calculation
> >>     >
> >>     > M <- M | t(M)
> >>     >
> >>     > Is there a simple way to ensure transitivity, i.e. M[i,j] &
> >>    M[j,k] both
> >>     > being TRUE implies M[i,k] is TRUE?
> >>     >
> >>     > The operation should only change FALSE or NA values to TRUE
> >>    values; TRUE
> >>     > values should never be changed.
> >>    I also want the changes to be minimal; changing everything to TRUE
> >>    would
> >>    satisfy transitivity, but isn't useful to me.
> >>    Duncan Murdoch
> >>    ______________________________________________
> >>    R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >>    To UNSUBSCRIBE and more, see
> >>    https://stat.ethz.ch/mailman/listinfo/r-help
> >>    PLEASE do read the posting guide
> >>    http://www.R-project.org/posting-guide.html
> >>    and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jun 18 15:11:13 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 18 Jun 2019 08:11:13 -0500
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <23816.57493.88778.358854@stat.math.ethz.ch>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
 <23816.57493.88778.358854@stat.math.ethz.ch>
Message-ID: <BB2F14AF-9FDD-47DE-89DE-3FD9C2B12CD6@dcn.davis.ca.us>

Assuming Peter's equation applies, I think a direct for loop with multiplication would be a more efficient way to obtain this answer than repeated use of a power operator.

On June 18, 2019 8:01:09 AM CDT, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
>>>>>> peter dalgaard 
>>>>>>     on Tue, 18 Jun 2019 11:45:39 +0200 writes:
>
>    > Sounds like this is isomorphic to reachability in graph
>    > theory. I wonder if
>
>    >   (sum_1^n M^i) > 0
>
>    > would suffice?
>
>neat! (and I guess correct)
>
>    > -pd
>
>Which reminds me that in the relatively distant past as
>maintainer of the 'expm' package I had introduced "%^%" (to
>compute matrix *integer* powers) with this first part of help() :
>
>--------------------------------------------------------------------------
>Matrix Power
>
>Description:
>
>     Compute the k-th power of a matrix. Whereas ?x^k? computes
>     _element wise_ powers, ?x %^% k? corresponds to k - 1 matrix
>     multiplications, ?x %*% x %*% ... %*% x?.
>
>Usage:
>
>     x %^% k
>     
>Arguments:
>
>       x: a square matrix.
>
>       k: an integer, k >= 0.
>
>Details:
>
>     Argument k is coerced to integer using as.integer.
>
>     The algorithm uses O(log2(k)) matrix multiplications.
>
>Value:
>
>     A matrix of the same dimension as ?x?.
>
>Note:
>
>     If you think you need ?x^k? for k < 0, then consider instead
>     ?solve(x %^% (-k))?.
>
>........
>........
>
>--------------------------------------------------------------------------
>
>and I had thought / wondered to myself if this should not be
>brought into base R [or then at least 'Matrix' which is
>installed with R (almost surely)] but I think never got around
>to propose that.
>
>Opinions?
>
>
>    >> On 18 Jun 2019, at 02:08 , Duncan Murdoch
>    >> <murdoch.duncan at gmail.com> wrote:
>    >> 
>    >> On 17/06/2019 7:34 p.m., Bert Gunter wrote:
>    >>> Depends on what you mean by "simple" of course, but
>    >>> suppose that: M[i,j] & M[j,k] & M[k,n] are TRUE and
>    >>> M[i,k] and M[i,n] are FALSE.  Then the procedure would
>    >>> see that M[i,k] needs to change to TRUE, but not that
>    >>> M[i,n] needs to also become TRUE *after* M[i,k] changes.
>    >>> This seems to imply that an iterative solution is
>    >>> necessary.
>    >> 
>    >> Right, that's a good point.
>    >> 
>    >> Duncan Murdoch
>    >> 
>    >>> One such procedure, via repeated matrix multiplication
>    >>> to check for and impose transitivity, appears to be
>    >>> suggested by this discussion:
>>>>
>https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
>    >>> Cheers, Bert On Mon, Jun 17, 2019 at 10:29 AM Duncan
>    >>> Murdoch <murdoch.duncan at gmail.com
>    >>> <mailto:murdoch.duncan at gmail.com>> wrote: On 17/06/2019
>    >>> 1:19 p.m., Duncan Murdoch wrote: > Suppose I have a
>    >>> square logical matrix M which I'm thinking of as a >
>    >>> relation between the row/column numbers.
>    >>> >
>    >>> > I can make it into a symmetric relation (i.e. M[i,j]
>    >>> being TRUE implies > M[j,i] is TRUE) by the calculation
>    >>> >
>    >>> > M <- M | t(M)
>    >>> >
>    >>> > Is there a simple way to ensure transitivity,
>    >>> i.e. M[i,j] & M[j,k] both > being TRUE implies M[i,k] is
>    >>> TRUE?
>    >>> >
>    >>> > The operation should only change FALSE or NA values to
>    >>> TRUE values; TRUE > values should never be changed.  I
>    >>> also want the changes to be minimal; changing everything
>    >>> to TRUE would satisfy transitivity, but isn't useful to
>    >>> me.  Duncan Murdoch
>    >>> ______________________________________________
>    >>> R-help at r-project.org <mailto:R-help at r-project.org>
>    >>> mailing list -- To UNSUBSCRIBE and more, see
>    >>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do
>    >>> read the posting guide
>    >>> http://www.R-project.org/posting-guide.html and provide
>    >>> commented, minimal, self-contained, reproducible code.
>    >>> 
>    >> 
>    >> ______________________________________________
>    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
>    >> more, see https://stat.ethz.ch/mailman/listinfo/r-help
>    >> PLEASE do read the posting guide
>    >> http://www.R-project.org/posting-guide.html and provide
>    >> commented, minimal, self-contained, reproducible code.
>
>    > -- 
>    > Peter Dalgaard, Professor, Center for Statistics,
>    > Copenhagen Business School Solbjerg Plads 3, 2000
>    > Frederiksberg, Denmark Phone: (+45)38153501 Office: A 4.23
>    > Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com
>
>    > ______________________________________________
>    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
>    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
>    > PLEASE do read the posting guide
>    > http://www.R-project.org/posting-guide.html and provide
>    > commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Jun 18 15:44:02 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 18 Jun 2019 09:44:02 -0400
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <CAGgJW76jVYWC7OkQObQJpbE+yN8yuKbTX1Wj8t+qU73ogbdHEw@mail.gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
 <CAGgJW76jVYWC7OkQObQJpbE+yN8yuKbTX1Wj8t+qU73ogbdHEw@mail.gmail.com>
Message-ID: <184f45e1-6d0c-c093-9e2a-874631fb8378@gmail.com>

On 18/06/2019 9:01 a.m., Eric Berger wrote:
> Very nice, Peter.
> Here is one version of Peter's suggestion expressed in R code
> 
> M <- M | t(M)? # first step as symmetric matrix as stated by OP
> Q <- M
> for ( i in 2:(ncol(Q)-1) )
>  ? ?Q <- Q?+ Q %*% M
> 
> R <- (Q > 0)
> R
> 

That's not quite the same calculation as Peter suggested, but I think 
it's also going to work.  Of course, I might use seq_len(ncol(Q) - 2) 
instead of 2:(ncol(Q)-1), but that also won't make a difference in the 
final result.

Thanks to everyone who has suggested calculations here.  I'm glad we saw 
such good suggestions, because (I'm embarrassed to say) it turns out 
that I don't actually want transitivity after all.

In case anyone is interested, here's the application:

I was asked whether rgl could render a surface made up of triangles or 
quadrilaterals to look smooth.  It can do that, but needs normals at 
each vertex; they should be the average of the normals for each polygon 
sharing that vertex.  Then OpenGL will interpolate the normals across 
the polygons and give the illusion of smoothness.

To do this, it needs to know which polygons share each vertex.  If the 
surface is described as a list of triangles or quadrilaterals, that 
means identifying vertices that are in multiple polygons, and converting 
the representation to a "mesh3d" object (which is a matrix of vertices 
and a matrix of vertex numbers making up triangles or quads).  Then the 
addNormals() function will add the normals.

But sometimes two polygons will share vertices (within numerical 
tolerance) without the user wanting them to be considered internal to 
the surface, or you might want one sharp edge in an otherwise smooth 
surface.  This means I needed a way to declare that two vertices from 
the original list of vertices in the triangles or quads are "not equal", 
even when they test numerically equal.

That's what was going to be the matrix R in Eric's notation.  If vertex 
i and vertex j test equal, but R[i,j] is TRUE, they should not be merged 
into a single vertex.  Clearly symmetry is a requirement.

The transitivity came in when I thought about how the user would specify 
the matrix.  It's really tedious to enter a full matrix, so I wanted to 
allow the user to give less information and have the function fill out 
the rest.  For example, if I compute

cube <- cube3d()
x <- cube$vb[1, c(cube$ib)]
y <- cube$vb[2, c(cube$ib)]
z <- cube$vb[3, c(cube$ib)]

then quads3d(x,y,z, col = "red") will plot a red cube, but without 
information about which faces are joined.  It works with this matrix of 
vertices:

 > cbind(x,y,z)
        x  y  z
  [1,] -1 -1 -1
  [2,] -1  1 -1
  [3,]  1  1 -1
  [4,]  1 -1 -1
  [5,] -1  1 -1
  [6,] -1  1  1
  [7,]  1  1  1
  [8,]  1  1 -1
  [9,]  1 -1 -1
[10,]  1  1 -1
[11,]  1  1  1
[12,]  1 -1  1
[13,] -1 -1 -1
[14,] -1 -1  1
[15,] -1  1  1
[16,] -1  1 -1
[17,] -1 -1 -1
[18,]  1 -1 -1
[19,]  1 -1  1
[20,] -1 -1  1
[21,] -1 -1  1
[22,]  1 -1  1
[23,]  1  1  1
[24,] -1  1  1

and plots a quadrilateral for each successive group of 4 vertices.

Now I can see that vertices 1, 13 and 17 are the same, and my algorithm 
would merge them into one unless told not to.  So I thought a user 
should be able to say they are not equal by saying 1 != 13, 1 != 17 and 
transitivity would yield 13 != 17.  But in fact, a user might want to 
merge 13 and 17, but keep 1 separate:  so I don't want transitivity, I 
only want symmetry.  After setting

M <- matrix(FALSE, 24,24)
M[1, 13] <- TRUE
M[1, 17] <- TRUE

I should get different results if I set

M[13, 17] <- TRUE

or leave it FALSE.

Hopefully people found the transitivity discussion interesting, even if 
I won't use it for this problem.

Duncan Murdoch


From er|cjberger @end|ng |rom gm@||@com  Tue Jun 18 15:33:40 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 18 Jun 2019 16:33:40 +0300
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <BB2F14AF-9FDD-47DE-89DE-3FD9C2B12CD6@dcn.davis.ca.us>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
 <23816.57493.88778.358854@stat.math.ethz.ch>
 <BB2F14AF-9FDD-47DE-89DE-3FD9C2B12CD6@dcn.davis.ca.us>
Message-ID: <CAGgJW74w5DM5vPDB6CqQVX20Vo7O6j3+7_8n6dJZwRL+yHWdGA@mail.gmail.com>

That's what my code does.

On Tue, Jun 18, 2019 at 4:27 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> Assuming Peter's equation applies, I think a direct for loop with
> multiplication would be a more efficient way to obtain this answer than
> repeated use of a power operator.
>
> On June 18, 2019 8:01:09 AM CDT, Martin Maechler <
> maechler at stat.math.ethz.ch> wrote:
> >>>>>> peter dalgaard
> >>>>>>     on Tue, 18 Jun 2019 11:45:39 +0200 writes:
> >
> >    > Sounds like this is isomorphic to reachability in graph
> >    > theory. I wonder if
> >
> >    >   (sum_1^n M^i) > 0
> >
> >    > would suffice?
> >
> >neat! (and I guess correct)
> >
> >    > -pd
> >
> >Which reminds me that in the relatively distant past as
> >maintainer of the 'expm' package I had introduced "%^%" (to
> >compute matrix *integer* powers) with this first part of help() :
> >
> >--------------------------------------------------------------------------
> >Matrix Power
> >
> >Description:
> >
> >     Compute the k-th power of a matrix. Whereas ?x^k? computes
> >     _element wise_ powers, ?x %^% k? corresponds to k - 1 matrix
> >     multiplications, ?x %*% x %*% ... %*% x?.
> >
> >Usage:
> >
> >     x %^% k
> >
> >Arguments:
> >
> >       x: a square matrix.
> >
> >       k: an integer, k >= 0.
> >
> >Details:
> >
> >     Argument k is coerced to integer using as.integer.
> >
> >     The algorithm uses O(log2(k)) matrix multiplications.
> >
> >Value:
> >
> >     A matrix of the same dimension as ?x?.
> >
> >Note:
> >
> >     If you think you need ?x^k? for k < 0, then consider instead
> >     ?solve(x %^% (-k))?.
> >
> >........
> >........
> >
> >--------------------------------------------------------------------------
> >
> >and I had thought / wondered to myself if this should not be
> >brought into base R [or then at least 'Matrix' which is
> >installed with R (almost surely)] but I think never got around
> >to propose that.
> >
> >Opinions?
> >
> >
> >    >> On 18 Jun 2019, at 02:08 , Duncan Murdoch
> >    >> <murdoch.duncan at gmail.com> wrote:
> >    >>
> >    >> On 17/06/2019 7:34 p.m., Bert Gunter wrote:
> >    >>> Depends on what you mean by "simple" of course, but
> >    >>> suppose that: M[i,j] & M[j,k] & M[k,n] are TRUE and
> >    >>> M[i,k] and M[i,n] are FALSE.  Then the procedure would
> >    >>> see that M[i,k] needs to change to TRUE, but not that
> >    >>> M[i,n] needs to also become TRUE *after* M[i,k] changes.
> >    >>> This seems to imply that an iterative solution is
> >    >>> necessary.
> >    >>
> >    >> Right, that's a good point.
> >    >>
> >    >> Duncan Murdoch
> >    >>
> >    >>> One such procedure, via repeated matrix multiplication
> >    >>> to check for and impose transitivity, appears to be
> >    >>> suggested by this discussion:
> >>>>
> >
> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
> >    >>> Cheers, Bert On Mon, Jun 17, 2019 at 10:29 AM Duncan
> >    >>> Murdoch <murdoch.duncan at gmail.com
> >    >>> <mailto:murdoch.duncan at gmail.com>> wrote: On 17/06/2019
> >    >>> 1:19 p.m., Duncan Murdoch wrote: > Suppose I have a
> >    >>> square logical matrix M which I'm thinking of as a >
> >    >>> relation between the row/column numbers.
> >    >>> >
> >    >>> > I can make it into a symmetric relation (i.e. M[i,j]
> >    >>> being TRUE implies > M[j,i] is TRUE) by the calculation
> >    >>> >
> >    >>> > M <- M | t(M)
> >    >>> >
> >    >>> > Is there a simple way to ensure transitivity,
> >    >>> i.e. M[i,j] & M[j,k] both > being TRUE implies M[i,k] is
> >    >>> TRUE?
> >    >>> >
> >    >>> > The operation should only change FALSE or NA values to
> >    >>> TRUE values; TRUE > values should never be changed.  I
> >    >>> also want the changes to be minimal; changing everything
> >    >>> to TRUE would satisfy transitivity, but isn't useful to
> >    >>> me.  Duncan Murdoch
> >    >>> ______________________________________________
> >    >>> R-help at r-project.org <mailto:R-help at r-project.org>
> >    >>> mailing list -- To UNSUBSCRIBE and more, see
> >    >>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do
> >    >>> read the posting guide
> >    >>> http://www.R-project.org/posting-guide.html and provide
> >    >>> commented, minimal, self-contained, reproducible code.
> >    >>>
> >    >>
> >    >> ______________________________________________
> >    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> >    >> more, see https://stat.ethz.ch/mailman/listinfo/r-help
> >    >> PLEASE do read the posting guide
> >    >> http://www.R-project.org/posting-guide.html and provide
> >    >> commented, minimal, self-contained, reproducible code.
> >
> >    > --
> >    > Peter Dalgaard, Professor, Center for Statistics,
> >    > Copenhagen Business School Solbjerg Plads 3, 2000
> >    > Frederiksberg, Denmark Phone: (+45)38153501 Office: A 4.23
> >    > Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com
> >
> >    > ______________________________________________
> >    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> >    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
> >    > PLEASE do read the posting guide
> >    > http://www.R-project.org/posting-guide.html and provide
> >    > commented, minimal, self-contained, reproducible code.
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Tue Jun 18 16:03:02 2019
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Tue, 18 Jun 2019 16:03:02 +0200
Subject: [R] Add transitivity to a matrix?
In-Reply-To: <CAGgJW74w5DM5vPDB6CqQVX20Vo7O6j3+7_8n6dJZwRL+yHWdGA@mail.gmail.com>
References: <edaa1aa1-9b23-834b-5c96-e38070ebf3c4@gmail.com>
 <b5d231a8-8858-a6f3-396c-49a7d10bf461@gmail.com>
 <CAGxFJbQRO8p9AhU3621iBwpXaQjCWX-GKGx7PPW3m1ZyUfAscg@mail.gmail.com>
 <efe44405-43ab-983b-3ffc-322e0645ae07@gmail.com>
 <A568BCBA-E089-4C8A-87E8-CF3298CECBB5@gmail.com>
 <23816.57493.88778.358854@stat.math.ethz.ch>
 <BB2F14AF-9FDD-47DE-89DE-3FD9C2B12CD6@dcn.davis.ca.us>
 <CAGgJW74w5DM5vPDB6CqQVX20Vo7O6j3+7_8n6dJZwRL+yHWdGA@mail.gmail.com>
Message-ID: <23816.61206.189889.76586@stat.math.ethz.ch>

>>>>> Eric Berger 
>>>>>     on Tue, 18 Jun 2019 16:33:40 +0300 writes:

    > That's what my code does.
    > On Tue, Jun 18, 2019 at 4:27 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
    > wrote:

    >> Assuming Peter's equation applies, I think a direct for loop with
    >> multiplication would be a more efficient way to obtain this answer than
    >> repeated use of a power operator.

Of course! .. I was not suggesting it for this case where all
powers are needed !

    >> On June 18, 2019 8:01:09 AM CDT, Martin Maechler <
    >> maechler at stat.math.ethz.ch> wrote:
    >> >>>>>> peter dalgaard
    >> >>>>>>     on Tue, 18 Jun 2019 11:45:39 +0200 writes:
    >> >
    >> >    > Sounds like this is isomorphic to reachability in graph
    >> >    > theory. I wonder if
    >> >
    >> >    >   (sum_1^n M^i) > 0
    >> >
    >> >    > would suffice?
    >> >
    >> >neat! (and I guess correct)
    >> >
    >> >    > -pd
    >> >
    >> >Which reminds me that in the relatively distant past as
    >> >maintainer of the 'expm' package I had introduced "%^%" (to
    >> >compute matrix *integer* powers) with this first part of help() :
    >> >
    >> >--------------------------------------------------------------------------
    >> >Matrix Power
    >> >
    >> >Description:
    >> >
    >> >     Compute the k-th power of a matrix. Whereas ?x^k? computes
    >> >     _element wise_ powers, ?x %^% k? corresponds to k - 1 matrix
    >> >     multiplications, ?x %*% x %*% ... %*% x?.
    >> >
    >> >Usage:
    >> >
    >> >     x %^% k
    >> >
    >> >Arguments:
    >> >
    >> >       x: a square matrix.
    >> >
    >> >       k: an integer, k >= 0.
    >> >
    >> >Details:
    >> >
    >> >     Argument k is coerced to integer using as.integer.
    >> >
    >> >     The algorithm uses O(log2(k)) matrix multiplications.
    >> >
    >> >Value:
    >> >
    >> >     A matrix of the same dimension as ?x?.
    >> >
    >> >Note:
    >> >
    >> >     If you think you need ?x^k? for k < 0, then consider instead
    >> >     ?solve(x %^% (-k))?.
    >> >
    >> >........
    >> >........
    >> >
    >> >--------------------------------------------------------------------------
    >> >
    >> >and I had thought / wondered to myself if this should not be
    >> >brought into base R [or then at least 'Matrix' which is
    >> >installed with R (almost surely)] but I think never got around
    >> >to propose that.
    >> >
    >> >Opinions?
    >> >
    >> >
    >> >    >> On 18 Jun 2019, at 02:08 , Duncan Murdoch
    >> >    >> <murdoch.duncan at gmail.com> wrote:
    >> >    >>
    >> >    >> On 17/06/2019 7:34 p.m., Bert Gunter wrote:
    >> >    >>> Depends on what you mean by "simple" of course, but
    >> >    >>> suppose that: M[i,j] & M[j,k] & M[k,n] are TRUE and
    >> >    >>> M[i,k] and M[i,n] are FALSE.  Then the procedure would
    >> >    >>> see that M[i,k] needs to change to TRUE, but not that
    >> >    >>> M[i,n] needs to also become TRUE *after* M[i,k] changes.
    >> >    >>> This seems to imply that an iterative solution is
    >> >    >>> necessary.
    >> >    >>
    >> >    >> Right, that's a good point.
    >> >    >>
    >> >    >> Duncan Murdoch
    >> >    >>
    >> >    >>> One such procedure, via repeated matrix multiplication
    >> >    >>> to check for and impose transitivity, appears to be
    >> >    >>> suggested by this discussion:
    >> >>>>
    >> >
    >> https://math.stackexchange.com/questions/228898/how-to-check-whether-a-relation-is-transitive-from-the-matrix-representation
    >> >    >>> Cheers, Bert On Mon, Jun 17, 2019 at 10:29 AM Duncan
    >> >    >>> Murdoch <murdoch.duncan at gmail.com
    >> >    >>> <mailto:murdoch.duncan at gmail.com>> wrote: On 17/06/2019
    >> >    >>> 1:19 p.m., Duncan Murdoch wrote: > Suppose I have a
    >> >    >>> square logical matrix M which I'm thinking of as a >
    >> >    >>> relation between the row/column numbers.
    >> >    >>> >
    >> >    >>> > I can make it into a symmetric relation (i.e. M[i,j]
    >> >    >>> being TRUE implies > M[j,i] is TRUE) by the calculation
    >> >    >>> >
    >> >    >>> > M <- M | t(M)
    >> >    >>> >
    >> >    >>> > Is there a simple way to ensure transitivity,
    >> >    >>> i.e. M[i,j] & M[j,k] both > being TRUE implies M[i,k] is
    >> >    >>> TRUE?
    >> >    >>> >
    >> >    >>> > The operation should only change FALSE or NA values to
    >> >    >>> TRUE values; TRUE > values should never be changed.  I
    >> >    >>> also want the changes to be minimal; changing everything
    >> >    >>> to TRUE would satisfy transitivity, but isn't useful to
    >> >    >>> me.  Duncan Murdoch
    >> >    >>> ______________________________________________
    >> >    >>> R-help at r-project.org <mailto:R-help at r-project.org>
    >> >    >>> mailing list -- To UNSUBSCRIBE and more, see
    >> >    >>> https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do
    >> >    >>> read the posting guide
    >> >    >>> http://www.R-project.org/posting-guide.html and provide
    >> >    >>> commented, minimal, self-contained, reproducible code.
    >> >    >>>
    >> >    >>
    >> >    >> ______________________________________________
    >> >    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    >> >    >> more, see https://stat.ethz.ch/mailman/listinfo/r-help
    >> >    >> PLEASE do read the posting guide
    >> >    >> http://www.R-project.org/posting-guide.html and provide
    >> >    >> commented, minimal, self-contained, reproducible code.
    >> >
    >> >    > --
    >> >    > Peter Dalgaard, Professor, Center for Statistics,
    >> >    > Copenhagen Business School Solbjerg Plads 3, 2000
    >> >    > Frederiksberg, Denmark Phone: (+45)38153501 Office: A 4.23
    >> >    > Email: pd.mes at cbs.dk Priv: PDalgd at gmail.com
    >> >
    >> >    > ______________________________________________
    >> >    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    >> >    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
    >> >    > PLEASE do read the posting guide
    >> >    > http://www.R-project.org/posting-guide.html and provide
    >> >    > commented, minimal, self-contained, reproducible code.
    >> >
    >> >______________________________________________
    >> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> >https://stat.ethz.ch/mailman/listinfo/r-help
    >> >PLEASE do read the posting guide
    >> >http://www.R-project.org/posting-guide.html
    >> >and provide commented, minimal, self-contained, reproducible code.
    >> 
    >> --
    >> Sent from my phone. Please excuse my brevity.
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.
    >> 

    > [[alternative HTML version deleted]]


From @@mch@ry@ @end|ng |rom y@hoo@com@@u  Tue Jun 18 05:50:27 2019
From: @@mch@ry@ @end|ng |rom y@hoo@com@@u (Sam Charya)
Date: Tue, 18 Jun 2019 03:50:27 +0000 (UTC)
Subject: [R] Help with a third ggplot error
In-Reply-To: <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>
Message-ID: <664773260.2904482.1560829827311@mail.yahoo.com>

 Thanks a lot Boris, I tried out your worked out?solution and it works just perfectly fine. No doubt I need a lot of practice with regexr and the pattern?stated by you - I will do that now. Thanks a lot for pointing me in the right direction. Appreciate it a lot.
 Sam.?

    On Monday, 17 June 2019, 2:39:14 pm GMT+5:30, Boris Steipe <boris.steipe at utoronto.ca> wrote:  
 
 (Technically you are now thread-hijacking. But here goes:)


mydf <- data.frame(V11 = c("DD Pack0.002",
? ? ? ? ? ? ? ? ? ? ? ? ? "FTA English News0.003",
? ? ? ? ? ? ? ? ? ? ? ? ? "FTA Complimentary0.004"),
? ? ? ? ? ? ? ? ? stringsAsFactors = FALSE)

# regex matching start-of-string(letters or blanks)(numbers, a decimal
# point, more numbers)end-of-string: "^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$"

# first check that all elements are matched by the regex. If not, an assumption
# of how the strings are patterned is not true ... 
all(grepl("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", V11))? # must be true!

mydf$`Channel name` <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\1", mydf$V11)
mydf$Price? ? ? ? ? <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\2", mydf$V11)

mydf
#? ? ? ? ? ? ? ? ? ? ? V11? ? ? Channel name Price
# 1? ? ? ? ? DD Pack0.002? ? ? ? ? DD Pack 0.002
# 2? FTA English News0.003? FTA English News 0.003
# 3 FTA Complimentary0.004 FTA Complimentary 0.004


Note this _will_ give wrong results if channel names like "ABC4" exist.


B.




> On 2019-06-15, at 15:40, Sam Charya via R-help <r-help at r-project.org> wrote:
> 
> Hello All,
> I need help with splitting a string. My data frame is in the following format:
>? ? ? ? ? ? ? ? ? ? ? V11? ? ? ? ? ? DD Pack0.002? FTA English News0.003? FTA Complimentary0.004? ? ? ? ? ? ? ? WB1.185? ? ? ? ? ? ? WION1.186? ? ? ? Al Jazeera0.007? ? ? Animal Planet2.368? ? Asianet Movies17.709? ? ? Calcutta News0.0010? ? Comedy Central5.90
> I read the file from a csv and set header = False, hence it is named V1. 
> The data consists of names of Channels and their prices. For example: Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
> similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70. 
> 
> My question is: How would I separate the data into 2 columns: One for the Channel name and one for the Price. 
> For example. The Heading should be for Col1: 'Channel Name' and for Col2: 'Price'The data under? 'Channel Name' should be 'DD Pack' and for 'Price' should be 0.00 and so on and so forth. 
> The letters and the numeric appears together so there is no separator and I am not being able to figure this out. Kindly please help resolve this. 
> Many Thanks in advance for your help. This is my first? question ever to the community so apologies if I have made a mistake in sending it to the wrong group - kindly direct if that is the case. 
> sam. 
> ********************************************************
> 
> 
> 
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
  
	[[alternative HTML version deleted]]


From @@mch@ry@ @end|ng |rom y@hoo@com@@u  Tue Jun 18 06:18:24 2019
From: @@mch@ry@ @end|ng |rom y@hoo@com@@u (Sam Charya)
Date: Tue, 18 Jun 2019 04:18:24 +0000 (UTC)
Subject: [R] Help with numeric and character separation
In-Reply-To: <CAGxFJbRmUStCBMt65Hi-FeUaEeT17Ls8P_ELrM2c-H7tR8a54Q@mail.gmail.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <1800125613.2070982.1560656117529@mail.yahoo.com>
 <CAGxFJbRmUStCBMt65Hi-FeUaEeT17Ls8P_ELrM2c-H7tR8a54Q@mail.gmail.com>
Message-ID: <899460128.2914033.1560831504695@mail.yahoo.com>

 Hi Bert and Jeff,
Thanks a lot for your response. I have been able to?solve the problem with pointers added from people who responded.?
My original dataset was in the form of a vector, my desired goal is to convert it into a data.frame. which I have been able to do.
Thanks again for all your help. 'regexr' is?still?something I am digging into...
sam.??**********************************

    On Sunday, 16 June 2019, 10:28:17 pm GMT+5:30, Bert Gunter <bgunter.4567 at gmail.com> wrote:  
 
 1. Post in **plain text** not? html, please.
2. This looks like a vector, not a data frame. 

3. Use ?strsplit:
> ex <- "a.1"
> strsplit(ex,"\\.")
[[1]]
[1] "a" "1"
See ?regex? for info on regular expressions in R.If you are confused about the data structures of input or output, time to spend time with basic R tutorials.
-- Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Jun 16, 2019 at 8:47 AM Sam Charya via R-help <r-help at r-project.org> wrote:

?Dear All,

I need help with?splitting a?string. My data frame is in the following format:
? ? ? ? ? ? ? ? ? ? ? V11? ? ? ? ? ? DD Pack0.002? ?FTA English News0.003? FTA Complimentary0.004? ? ? ? ? ? ? ? ?WB1.185? ? ? ? ? ? ? ?WION1.186? ? ? ? ?Al Jazeera0.007? ? ? Animal Planet2.368? ? Asianet Movies17.709? ? ? Calcutta News0.0010? ? Comedy Central5.90
I read the file from a csv and?set header = False, hence the name:?V1.?
The data consists of names of TV Channels and their prices. For example:?Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for Row 5, the name of the Channel is 'WION' and the price is 1.18.
similarly for Row 8: The name of the Channel is 'Asianet Movies' and the price is 17.70.?

My question is: How would I?separate the data into 2 columns: One for the Channel name and one for the Price.?
For example. The Heading?should be for Col1: 'Channel Name' and for Col2: 'Price'The data under? 'Channel Name'?should be 'DD Pack' and for 'Price'?should be 0.00 and?so on and?so forth.?
The letters and the numeric appears together?and I am not being able to use a?separator and I am?not being able to figure this out. Kindly please help me with this.?
Many Thanks in advance for your help. This is my first? question ever to the community?so apologies if I have made a mistake in?sending it to the wrong groups - kindly direct if that is the case.?
sam.?
********************************************************




? ? ? ? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

  
	[[alternative HTML version deleted]]


From @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my  Tue Jun 18 07:58:11 2019
From: @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my (SITI AISYAH BINTI ZAKARIA)
Date: Tue, 18 Jun 2019 13:58:11 +0800 (MYT)
Subject: [R] How to select max data according to week?
Message-ID: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>

Hi,

I'm Aisyah..I have a problem to run my R coding. I want to select maximum value according to week.

here is my data 

Date	      O3_Conc
20000101	0.033
20000102	0.023
20000103	0.025
20000104	0.041
20000105	0.063
20000106	0.028
20000107	0.068
20000108	0.048
20000109	0.037
20000110	0.042
20000111	0.027
20000112	0.035
20000113	0.063
20000114	0.035
20000115	0.042
20000116	0.028

I want to find the max value from column O3_Conc for only 14 days that refer to biweekly in month. And the next 14 days for the max value.

I hope that I can get the result like this:

Date                     Max O3_Conc
20000101 - 20000114        0.068
20000115 - 20000129        0.061

I try many coding but still unavailable.

this example my coding

library(plyr)
      data.frame(CA0003)
      
      # format weeks as per requirement (replace "00" with "52" and adjust corresponding year)
      tmp <- list()
      tmp$y <- format(df$Date, format="%Y")
      tmp$w <- format(df$Date, format="%U")
      tmp$y[tmp$w=="00"] <- as.character(as.numeric(tmp$y[tmp$w=="00"]) - 14)
      tmp$w[tmp$w=="00"] <- "884"
      df$week <- paste(tmp$y, tmp$w, sep = "-")
      
      # get summary
      df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
      
      # include week ending date
      tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week ==x, "O3_Conc"])[[1]])
      df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
      
output
	Site_Id	Site_Location	                                    Date	Year	O3_Conc	Month	Day	week
1	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000101	2000	0.033	1	1	NULL-NULL
2	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000102	2000	0.023	1	2	NULL-NULL
3	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000103	2000	0.025	1	3	NULL-NULL
4	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000104	2000	0.041	1	4	NULL-NULL
5	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000105	2000	0.063	1	5	NULL-NULL
6	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000106	2000	0.028	1	6	NULL-NULL
7	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000107	2000	0.068	1	7	NULL-NULL
8	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000108	2000	0.048	1	8	NULL-NULL
9	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000109	2000	0.037	1	9	NULL-NULL
10	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000110	2000	0.042	1	10	NULL-NULL
11	CA0003	Sek. Keb. Cederawasih, Taman Inderawasih, Perai	20000111	2000	0.027	1	11	NULL-NULL




--
This message has been scanned by E.F.A. Project and is believed to be clean.


From m@rc@@gen|@ @end|ng |rom gm@||@com  Tue Jun 18 09:53:35 2019
From: m@rc@@gen|@ @end|ng |rom gm@||@com (Agenis-Nevers Marc)
Date: Tue, 18 Jun 2019 09:53:35 +0200
Subject: [R] [R-pkgs] short presentation of the new package "GuessCompx"
Message-ID: <CAGkBxuHrAum=1X0PT_za24fdht_UY3R8gKkWsC4VFrB5X7svFA@mail.gmail.com>

Dear R community members, please find here a short presentation of our new
package.

We introduce GuessCompx, a new R package that makes an empirical guess on
the time and memory complexities of an algorithm or a function. It will
test multiple, increasing-sizes samples of the user?s data and try to fit
one of seven complexity functions : O(n), O(n2), O(log(n)), etc. Based on a
best fit procedure using LOO-MSE error, it also predicts the full
computation time and memory usage on the whole dataset. It relies on the
base R functions `system.time` and `memory.size `, the latter being only
suitable for Windows users. Together with this result, a plot and a
significance test are also returned.

Complexity is assessed with regard to the user?s actual dataset through its
size (and no other parameter). We provide several examples showing some use
case (distance function, time series, custom function) and how to best tune
the parameters.

The subject of empirical computational complexity has been relatively
little studied in computer sciences, and such a package provides a
convenient and simple procedure to estimate it, thus preventing the user to
run any computation for an unknown amount of time. Empirical fit does not
guarantee to find the true complexity function but approaches it in an
acceptable way. The package does not require to have the code of the target
function.

https://cran.r-project.org/package=GuessCompx

Regards,

Marc Agenis
Neeraj Bokde
marc.agenis at gmail.com
+33 (0)6 19 60 91 23

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From n|co|o@m@rg@r|te||@ @end|ng |rom gm@||@com  Tue Jun 18 16:43:27 2019
From: n|co|o@m@rg@r|te||@ @end|ng |rom gm@||@com (=?UTF-8?Q?Nicol=C3=B2_Margaritella?=)
Date: Tue, 18 Jun 2019 15:43:27 +0100
Subject: [R] [R-pkgs] New package APFr for Average Power Function & Bayes
 FDR robust estimation
Message-ID: <CALLd2zBrD3tYSQepFVY2CPeyNurs=_AW9U3aLtvEUOsLa-yC3w@mail.gmail.com>

A new package called APFr for threshold selection in large scale inference
problems using robust estimates of Average Power Function and Bayes FDR, is
available.

CRAN: https://cran.r-project.org/web/packages/APFr/index.html

An illustrative example can be found at:
https://www.researchgate.net/publication/333852294_APFr_-R_package_for_APF_Bayes_FDR_robust_estimationpdf

Kind regards,
Nicolo' Margaritella

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From dd@|thorp @end|ng |rom u@g@@gov  Tue Jun 18 20:19:06 2019
From: dd@|thorp @end|ng |rom u@g@@gov (Dalthorp, Daniel)
Date: Tue, 18 Jun 2019 11:19:06 -0700
Subject: [R] cannot install gsl from source?
Message-ID: <CAJeYpE9J8VVrEaydKYX_u1iJYpJD1sYLS4jVpKZARbcegFE=+w@mail.gmail.com>

I've been working on a fairly extensive R package for a few years with
ongoing testing with Travis CI. Today, though, I'm seeing an error in
installing the gsl package both at Travis and from the Windows GUI:

install.packages("gsl",repos = getOption("repos"), repo=NULL, type="source")

# gives the following error sequence:

Installing package into ?C:/Users/ddalthorp/Documents/R/win-library/3.5?
(as ?lib? is unspecified)
trying URL 'http://cran.at.r-project.org/src/contrib/gsl_2.1-6.tar.gz'
Content type 'application/x-gzip' length 189794 bytes (185 KB)
downloaded 185 KB

* installing *source* package 'gsl' ...
** package 'gsl' successfully unpacked and MD5 sums checked

   **********************************************
   WARNING: this package has a configure script
         It probably needs manual configuration
   **********************************************

** libs

*** arch - i386
c:/Rtools/mingw_32/bin/gcc  -I"C:/PROGRA~1/R/R-35~1.2/include" -DNDEBUG
-I/include         -O3 -Wall  -std=gnu99 -mtune=generic -c airy.c -o airy.o
airy.c:1:29: fatal error: gsl/gsl_sf_airy.h: No such file or directory
 #include <gsl/gsl_sf_airy.h>
                             ^
compilation terminated.
make: *** [C:/PROGRA~1/R/R-35~1.2/etc/i386/Makeconf:208: airy.o] Error 1
ERROR: compilation failed for package 'gsl'


Any ideas?


-- 
Dan Dalthorp, PhD
USGS Forest and Rangeland Ecosystem Science Center
Forest Sciences Lab, Rm 311
3200 SW Jefferson Way
Corvallis, OR 97331
ph: 541-750-0953
ddalthorp at usgs.gov

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jun 18 20:38:28 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 18 Jun 2019 11:38:28 -0700
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
Message-ID: <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>

My apologies. I negected to cc r-help. -- Bert



On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:

>
> I assume that 20000215 means year 2000, month 2, day 15.
> I also assume that you want maxes for the first 2 weeks of a month, the
> second 2 weeks, and any remaining days.
> I also assume that this might be desired for arbitrary numbers of years,
> months, and days.
>
> The following is one way to do this. As it's a slight pain to cut and
> paste email data as text into R (use ?dput or R code to run to provide
> example data instead), I just made up my own. You'll have to do the
> following within a data frame through extraction or by using with() of
> course.
>
> ## create some example data for 3 months in 2000
> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> conc <- runif(length(d)) # concentrations
>
> ## convert the date to character to extract year, month, and day
> cdate <- as.character(d)
> ## use substr to to the extraction
> year <- substr(cdate,1,4)
> mon <- substr(cdate,5,6)
> day <- substr(cdate, 7,8)
>
> ## convert day to numeric and use cut() to group into the biweekly periods.
> d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
>
> ## Use tapply() to create your desired table of results.
> tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
>
> ## Results
>
> , , 01
>
>       (0,14.5] (14.5,28.5] (28.5,32]
> 2000 0.7357389   0.9655391 0.7962965
>
> , , 02
>
>       (0,14.5] (14.5,28.5] (28.5,32]
> 2000 0.8193979   0.9487207        NA
>
> , , 03
>
>       (0,14.5] (14.5,28.5] (28.5,32]
> 2000 0.9718919   0.9997093  0.168659
>
>
> Cheers,
> Bert
>
> Bert Gunter
>
>
>
>
> On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
> aisyahzakaria at unimap.edu.my> wrote:
>
>> Hi,
>>
>> I'm Aisyah..I have a problem to run my R coding. I want to select maximum
>> value according to week.
>>
>> here is my data
>>
>> Date          O3_Conc
>> 20000101        0.033
>> 20000102        0.023
>> 20000103        0.025
>> 20000104        0.041
>> 20000105        0.063
>> 20000106        0.028
>> 20000107        0.068
>> 20000108        0.048
>> 20000109        0.037
>> 20000110        0.042
>> 20000111        0.027
>> 20000112        0.035
>> 20000113        0.063
>> 20000114        0.035
>> 20000115        0.042
>> 20000116        0.028
>>
>> I want to find the max value from column O3_Conc for only 14 days that
>> refer to biweekly in month. And the next 14 days for the max value.
>>
>> I hope that I can get the result like this:
>>
>> Date                     Max O3_Conc
>> 20000101 - 20000114        0.068
>> 20000115 - 20000129        0.061
>>
>> I try many coding but still unavailable.
>>
>> this example my coding
>>
>> library(plyr)
>>       data.frame(CA0003)
>>
>>       # format weeks as per requirement (replace "00" with "52" and
>> adjust corresponding year)
>>       tmp <- list()
>>       tmp$y <- format(df$Date, format="%Y")
>>       tmp$w <- format(df$Date, format="%U")
>>       tmp$y[tmp$w=="00"] <- as.character(as.numeric(tmp$y[tmp$w=="00"]) -
>> 14)
>>       tmp$w[tmp$w=="00"] <- "884"
>>       df$week <- paste(tmp$y, tmp$w, sep = "-")
>>
>>       # get summary
>>       df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
>>
>>       # include week ending date
>>       tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week ==x,
>> "O3_Conc"])[[1]])
>>       df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
>>
>> output
>>         Site_Id Site_Location                                       Date
>>       Year    O3_Conc Month   Day     week
>> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000101
>>       2000    0.033   1       1       NULL-NULL
>> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000102
>>       2000    0.023   1       2       NULL-NULL
>> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000103
>>       2000    0.025   1       3       NULL-NULL
>> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000104
>>       2000    0.041   1       4       NULL-NULL
>> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000105
>>       2000    0.063   1       5       NULL-NULL
>> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000106
>>       2000    0.028   1       6       NULL-NULL
>> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000107
>>       2000    0.068   1       7       NULL-NULL
>> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000108
>>       2000    0.048   1       8       NULL-NULL
>> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000109
>>       2000    0.037   1       9       NULL-NULL
>> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000110
>>       2000    0.042   1       10      NULL-NULL
>> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000111
>>       2000    0.027   1       11      NULL-NULL
>>
>>
>>
>>
>> --
>> This message has been scanned by E.F.A. Project and is believed to be
>> clean.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From d@r|o @end|ng |rom ch@nzuckerberg@com  Tue Jun 18 19:48:19 2019
From: d@r|o @end|ng |rom ch@nzuckerberg@com (Dario Taraborelli)
Date: Tue, 18 Jun 2019 19:48:19 +0200
Subject: [R] Fwd: RFA Now Open: Essential Open Source Software for Science
In-Reply-To: <d0d4863b-3ebd-40a5-96a3-bcf35e1680fb@dfw1s10mta48.xt.local>
References: <d0d4863b-3ebd-40a5-96a3-bcf35e1680fb@dfw1s10mta48.xt.local>
Message-ID: <CAK=hahRh_WFteDOHbLdwvqBtbWAKvo3pwHPaGathm9pThKA=Aw@mail.gmail.com>

Hey all,

I wanted to draw your attention to a new grants program we launched today
at the Chan Zuckerberg Initiative, aiming to fund *open source scientific
software* with significant adoption within the life sciences and biomedical
research communities.

We'd love to see applications from developers and maintainers in the R
community. More details on the motivation and scope of the grant can be
found in this Medium post
<https://medium.com/@cziscience/essential-open-source-software-for-science-72faec2c38c1>
and applications
can be submitted by one of three upcoming deadlines (the first round of
applications closes on *August 1, 2019*).

Should you have questions on whether your package/project is in scope / or
you're eligible for funding, or anything else about the program in general,
you can write to: sciencegrants at chanzuckerberg.com

Best,
Dario

---------- Forwarded message ---------
From: CZI Science Grants <sciencegrants at chanzuckerberg.com>
Subject: RFA Now Open: Essential Open Source Software for Science



RFA Now Open: Essential Open Source Software for Science
[image: CZI Logo]

Request for Applications


Request for Applications:
Essential Open Source Software for Science

Applications due:
August 1, 2019
[image: Apply Now Button]
<http://go.chanzuckerberg.com/e/617541/n-source-software-for-science-/7d71q/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>

[image: RFA Open Source Software banner]

The Chan Zuckerberg Initiative invites applications for software projects
that are essential to biomedical research, have demonstrated impact, and
can show potential for continued improvement. Applicants can request
funding between $50k and $250k for a one-year period, with the ability to
apply for renewal. Full details here.
<http://go.chanzuckerberg.com/e/617541/n-source-software-for-science-/7d71q/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>

We aim to support open source projects and the communities behind
them?whether it?s hiring an additional developer, improving documentation,
addressing usability, improving compatibility, onboarding contributors, or
convening a community, we hope to help make the computational foundations
of biological research more usable and robust. Read our Medium post
<http://go.chanzuckerberg.com/e/617541/tware-for-science-72faec2c38c1/7d71s/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
and visit our website
<http://go.chanzuckerberg.com/e/617541/2019-06-18/7d71v/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
to learn more.

*Questions? Email sciencegrants at chanzuckerberg.com
<sciencegrants at chanzuckerberg.com> *

Applications due:
August 1, 2019 by 5 p.m. Pacific Time



[image: Facebook]
<http://go.chanzuckerberg.com/e/617541/chanzuckerberginitiative-/7d71x/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
  [image: Twitter]
<http://go.chanzuckerberg.com/e/617541/cziscience-lang-en/7d71z/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
  [image: Instagram]
<http://go.chanzuckerberg.com/e/617541/chanzuckerberginitiative-/7d722/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
  [image: Linkedin]
<http://go.chanzuckerberg.com/e/617541/ny-chan-zuckerberg-initiative-/7d724/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
  [image: Linkedin]
<http://go.chanzuckerberg.com/e/617541/-cziscience/7d726/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>


Chan Zuckerberg Initiative
<http://go.chanzuckerberg.com/e/617541/2019-06-18/7d71v/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA>
| P.O. Box 8040, Redwood City, CA 94063

?2019 The Chan Zuckerberg Initiative | Update Subscription Preferences
<http://go.chanzuckerberg.com/email-preferences?ehash=37c174287ad40d5187caa4dd173697ae53ada3971644546efe0476cd7ce49e3e&email_id=217518795>



-- 

*Dario Taraborelli*
Science Program Officer, Open Science

dario at chanzuckerberg.com
http://chanzuckerberg.com <http://chanzuckerberg.com/?email>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jun 18 23:56:30 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 18 Jun 2019 14:56:30 -0700
Subject: [R] 
 Fwd: RFA Now Open: Essential Open Source Software for Science
In-Reply-To: <CAK=hahRh_WFteDOHbLdwvqBtbWAKvo3pwHPaGathm9pThKA=Aw@mail.gmail.com>
References: <d0d4863b-3ebd-40a5-96a3-bcf35e1680fb@dfw1s10mta48.xt.local>
 <CAK=hahRh_WFteDOHbLdwvqBtbWAKvo3pwHPaGathm9pThKA=Aw@mail.gmail.com>
Message-ID: <CAGxFJbQ+bdSNzV148nFG6PvarniA9OYLS=QmgXit2mr-ujD5ug@mail.gmail.com>

This is probably a suboptimal list for your message. If you have not
already done so, you should post it to R-package-devel  and the
Bioconductor development list,
https://stat.ethz.ch/mailman/listinfo/bioc-devel  .

Cheers,

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Jun 18, 2019 at 2:41 PM Dario Taraborelli <dario at chanzuckerberg.com>
wrote:

> Hey all,
>
> I wanted to draw your attention to a new grants program we launched today
> at the Chan Zuckerberg Initiative, aiming to fund *open source scientific
> software* with significant adoption within the life sciences and biomedical
> research communities.
>
> We'd love to see applications from developers and maintainers in the R
> community. More details on the motivation and scope of the grant can be
> found in this Medium post
> <
> https://medium.com/@cziscience/essential-open-source-software-for-science-72faec2c38c1
> >
> and applications
> can be submitted by one of three upcoming deadlines (the first round of
> applications closes on *August 1, 2019*).
>
> Should you have questions on whether your package/project is in scope / or
> you're eligible for funding, or anything else about the program in general,
> you can write to: sciencegrants at chanzuckerberg.com
>
> Best,
> Dario
>
> ---------- Forwarded message ---------
> From: CZI Science Grants <sciencegrants at chanzuckerberg.com>
> Subject: RFA Now Open: Essential Open Source Software for Science
>
>
>
> RFA Now Open: Essential Open Source Software for Science
> [image: CZI Logo]
>
> Request for Applications
>
>
> Request for Applications:
> Essential Open Source Software for Science
>
> Applications due:
> August 1, 2019
> [image: Apply Now Button]
> <
> http://go.chanzuckerberg.com/e/617541/n-source-software-for-science-/7d71q/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>
> [image: RFA Open Source Software banner]
>
> The Chan Zuckerberg Initiative invites applications for software projects
> that are essential to biomedical research, have demonstrated impact, and
> can show potential for continued improvement. Applicants can request
> funding between $50k and $250k for a one-year period, with the ability to
> apply for renewal. Full details here.
> <
> http://go.chanzuckerberg.com/e/617541/n-source-software-for-science-/7d71q/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>
> We aim to support open source projects and the communities behind
> them?whether it?s hiring an additional developer, improving documentation,
> addressing usability, improving compatibility, onboarding contributors, or
> convening a community, we hope to help make the computational foundations
> of biological research more usable and robust. Read our Medium post
> <
> http://go.chanzuckerberg.com/e/617541/tware-for-science-72faec2c38c1/7d71s/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
> and visit our website
> <
> http://go.chanzuckerberg.com/e/617541/2019-06-18/7d71v/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
> to learn more.
>
> *Questions? Email sciencegrants at chanzuckerberg.com
> <sciencegrants at chanzuckerberg.com> *
>
> Applications due:
> August 1, 2019 by 5 p.m. Pacific Time
>
>
>
> [image: Facebook]
> <
> http://go.chanzuckerberg.com/e/617541/chanzuckerberginitiative-/7d71x/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>   [image: Twitter]
> <
> http://go.chanzuckerberg.com/e/617541/cziscience-lang-en/7d71z/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>   [image: Instagram]
> <
> http://go.chanzuckerberg.com/e/617541/chanzuckerberginitiative-/7d722/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>   [image: Linkedin]
> <
> http://go.chanzuckerberg.com/e/617541/ny-chan-zuckerberg-initiative-/7d724/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>   [image: Linkedin]
> <
> http://go.chanzuckerberg.com/e/617541/-cziscience/7d726/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
>
>
> Chan Zuckerberg Initiative
> <
> http://go.chanzuckerberg.com/e/617541/2019-06-18/7d71v/217518795?h=ZbdQI0KmhvfdfnxBkDVobIdVgkVIWA5NlgkPTM7pjVA
> >
> | P.O. Box 8040, Redwood City, CA 94063
>
> ?2019 The Chan Zuckerberg Initiative | Update Subscription Preferences
> <
> http://go.chanzuckerberg.com/email-preferences?ehash=37c174287ad40d5187caa4dd173697ae53ada3971644546efe0476cd7ce49e3e&email_id=217518795
> >
>
>
>
> --
>
> *Dario Taraborelli*
> Science Program Officer, Open Science
>
> dario at chanzuckerberg.com
> http://chanzuckerberg.com <http://chanzuckerberg.com/?email>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Wed Jun 19 00:06:19 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 19 Jun 2019 10:06:19 +1200
Subject: [R] Help with a third ggplot error
In-Reply-To: <664773260.2904482.1560829827311@mail.yahoo.com>
References: <BN7PR02MB5073A050FAFDA1D54D460644EAEE0@BN7PR02MB5073.namprd02.prod.outlook.com>
 <CAGgJW76VpueO96W72=ufYeU2umRp8xUD4kxsVVS8nifB4rpjPA@mail.gmail.com>
 <BN7PR02MB50731EB549C3DB8583F96A5CEAE90@BN7PR02MB5073.namprd02.prod.outlook.com>
 <1400262958.1988079.1560627647899@mail.yahoo.com>
 <29FE3FFE-E5F7-419F-B814-937EB26B1206@utoronto.ca>
 <664773260.2904482.1560829827311@mail.yahoo.com>
Message-ID: <CABcYAdL4b688smDn6L7i7ouxpfCGQe4QzZdKKboWEJ+7WfiuSQ@mail.gmail.com>

Nobody else has asked the obvious question:  why are the data squashed
together
like that in the first place?  why not modify the process that generates the
data so that it does not do that?  Jamming things together like that is not
common practice with CSV files, so what does the CSV file look like and why
does it look like that?

On Wed, 19 Jun 2019 at 03:55, Sam Charya via R-help <r-help at r-project.org>
wrote:

>  Thanks a lot Boris, I tried out your worked out solution and it works
> just perfectly fine. No doubt I need a lot of practice with regexr and the
> pattern stated by you - I will do that now. Thanks a lot for pointing me in
> the right direction. Appreciate it a lot.
>  Sam.
>
>     On Monday, 17 June 2019, 2:39:14 pm GMT+5:30, Boris Steipe <
> boris.steipe at utoronto.ca> wrote:
>
>  (Technically you are now thread-hijacking. But here goes:)
>
>
> mydf <- data.frame(V11 = c("DD Pack0.002",
>                           "FTA English News0.003",
>                           "FTA Complimentary0.004"),
>                   stringsAsFactors = FALSE)
>
> # regex matching start-of-string(letters or blanks)(numbers, a decimal
> # point, more numbers)end-of-string: "^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$"
>
> # first check that all elements are matched by the regex. If not, an
> assumption
> # of how the strings are patterned is not true ...
> all(grepl("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", V11))  # must be true!
>
> mydf$`Channel name` <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\1",
> mydf$V11)
> mydf$Price          <- gsub("^([a-zA-Z ]+)([0-9]+\\.[0-9]+)$", "\\2",
> mydf$V11)
>
> mydf
> #                      V11      Channel name Price
> # 1          DD Pack0.002          DD Pack 0.002
> # 2  FTA English News0.003  FTA English News 0.003
> # 3 FTA Complimentary0.004 FTA Complimentary 0.004
>
>
> Note this _will_ give wrong results if channel names like "ABC4" exist.
>
>
> B.
>
>
>
>
> > On 2019-06-15, at 15:40, Sam Charya via R-help <r-help at r-project.org>
> wrote:
> >
> > Hello All,
> > I need help with splitting a string. My data frame is in the following
> format:
> >                      V11            DD Pack0.002  FTA English News0.003
> FTA Complimentary0.004                WB1.185              WION1.186
> Al Jazeera0.007      Animal Planet2.368    Asianet Movies17.709
> Calcutta News0.0010    Comedy Central5.90
> > I read the file from a csv and set header = False, hence it is named V1.
> > The data consists of names of Channels and their prices. For example:
> Row 1: Name of the Channel is 'DD Pack' and the Price is 0.00.similarly for
> Row 5, the name of the Channel is 'WION' and the price is 1.18.
> > similarly for Row 8: The name of the Channel is 'Asianet Movies' and the
> price is 17.70.
> >
> > My question is: How would I separate the data into 2 columns: One for
> the Channel name and one for the Price.
> > For example. The Heading should be for Col1: 'Channel Name' and for
> Col2: 'Price'The data under  'Channel Name' should be 'DD Pack' and for
> 'Price' should be 0.00 and so on and so forth.
> > The letters and the numeric appears together so there is no separator
> and I am not being able to figure this out. Kindly please help resolve
> this.
> > Many Thanks in advance for your help. This is my first  question ever to
> the community so apologies if I have made a mistake in sending it to the
> wrong group - kindly direct if that is the case.
> > sam.
> > ********************************************************
> >
> >
> >
> >
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Wed Jun 19 11:35:19 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 19 Jun 2019 12:35:19 +0300
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
Message-ID: <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>

Hi Siti,
I didn't test Bert's code but I assume it's fine. :-)
I would take a different approach than Bert. I prefer to use a package such
as lubridate to handle the date wrangling, and a package such as dplyr to
handle the grouping and max extraction.
It may be overkill for this problem, but these are great packages to become
familiar with.
If one can take the actual week of the year as an acceptable definition of
week, then here's my approach.

library(lubridate)
library(dplyr)

# Step 1: start with Bert's code to create sample data
## create some example data for 3 months in 2000
d<- 2e7 +c(113:131,201:228, 301:330) ## dates
conc <- runif(length(d)) # concentrations

# Step 2: collect the data into a data frame
df <- data.frame( dt=d, conc=conc)

# Step 3: use lubridate's ymd() function to parse the dates, its week()
function to identify the week of the year, and define the new column
'wkpair' that groups the weeks 2-at-a-time
df2 <- dplyr::mutate( df,
wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )

# Step 4: group by the wkpair and use dplyr's summarise to get the info you
wanted
df3 <- dplyr::group_by(df2,wkpair) %>%
          dplyr::summarise( from=min(dt), to=max(dt), maxconc=max(conc)) %>%
          dplyr::select(from,to,maxconc)

df3

# A tibble: 6 x 3
      from       to maxconc
     <dbl>    <dbl>   <dbl>
1 20000113 20000121   0.963
2 20000122 20000204   0.988
3 20000205 20000218   0.939
4 20000219 20000303   0.883
5 20000304 20000317   0.863
6 20000318 20000330   0.765

HTH,
Eric



On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> My apologies. I negected to cc r-help. -- Bert
>
>
>
> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
> >
> > I assume that 20000215 means year 2000, month 2, day 15.
> > I also assume that you want maxes for the first 2 weeks of a month, the
> > second 2 weeks, and any remaining days.
> > I also assume that this might be desired for arbitrary numbers of years,
> > months, and days.
> >
> > The following is one way to do this. As it's a slight pain to cut and
> > paste email data as text into R (use ?dput or R code to run to provide
> > example data instead), I just made up my own. You'll have to do the
> > following within a data frame through extraction or by using with() of
> > course.
> >
> > ## create some example data for 3 months in 2000
> > d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> > conc <- runif(length(d)) # concentrations
> >
> > ## convert the date to character to extract year, month, and day
> > cdate <- as.character(d)
> > ## use substr to to the extraction
> > year <- substr(cdate,1,4)
> > mon <- substr(cdate,5,6)
> > day <- substr(cdate, 7,8)
> >
> > ## convert day to numeric and use cut() to group into the biweekly
> periods.
> > d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
> >
> > ## Use tapply() to create your desired table of results.
> > tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
> >
> > ## Results
> >
> > , , 01
> >
> >       (0,14.5] (14.5,28.5] (28.5,32]
> > 2000 0.7357389   0.9655391 0.7962965
> >
> > , , 02
> >
> >       (0,14.5] (14.5,28.5] (28.5,32]
> > 2000 0.8193979   0.9487207        NA
> >
> > , , 03
> >
> >       (0,14.5] (14.5,28.5] (28.5,32]
> > 2000 0.9718919   0.9997093  0.168659
> >
> >
> > Cheers,
> > Bert
> >
> > Bert Gunter
> >
> >
> >
> >
> > On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
> > aisyahzakaria at unimap.edu.my> wrote:
> >
> >> Hi,
> >>
> >> I'm Aisyah..I have a problem to run my R coding. I want to select
> maximum
> >> value according to week.
> >>
> >> here is my data
> >>
> >> Date          O3_Conc
> >> 20000101        0.033
> >> 20000102        0.023
> >> 20000103        0.025
> >> 20000104        0.041
> >> 20000105        0.063
> >> 20000106        0.028
> >> 20000107        0.068
> >> 20000108        0.048
> >> 20000109        0.037
> >> 20000110        0.042
> >> 20000111        0.027
> >> 20000112        0.035
> >> 20000113        0.063
> >> 20000114        0.035
> >> 20000115        0.042
> >> 20000116        0.028
> >>
> >> I want to find the max value from column O3_Conc for only 14 days that
> >> refer to biweekly in month. And the next 14 days for the max value.
> >>
> >> I hope that I can get the result like this:
> >>
> >> Date                     Max O3_Conc
> >> 20000101 - 20000114        0.068
> >> 20000115 - 20000129        0.061
> >>
> >> I try many coding but still unavailable.
> >>
> >> this example my coding
> >>
> >> library(plyr)
> >>       data.frame(CA0003)
> >>
> >>       # format weeks as per requirement (replace "00" with "52" and
> >> adjust corresponding year)
> >>       tmp <- list()
> >>       tmp$y <- format(df$Date, format="%Y")
> >>       tmp$w <- format(df$Date, format="%U")
> >>       tmp$y[tmp$w=="00"] <- as.character(as.numeric(tmp$y[tmp$w=="00"])
> -
> >> 14)
> >>       tmp$w[tmp$w=="00"] <- "884"
> >>       df$week <- paste(tmp$y, tmp$w, sep = "-")
> >>
> >>       # get summary
> >>       df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
> >>
> >>       # include week ending date
> >>       tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
> ==x,
> >> "O3_Conc"])[[1]])
> >>       df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
> >>
> >> output
> >>         Site_Id Site_Location                                       Date
> >>       Year    O3_Conc Month   Day     week
> >> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000101
> >>       2000    0.033   1       1       NULL-NULL
> >> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000102
> >>       2000    0.023   1       2       NULL-NULL
> >> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000103
> >>       2000    0.025   1       3       NULL-NULL
> >> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000104
> >>       2000    0.041   1       4       NULL-NULL
> >> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000105
> >>       2000    0.063   1       5       NULL-NULL
> >> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000106
> >>       2000    0.028   1       6       NULL-NULL
> >> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000107
> >>       2000    0.068   1       7       NULL-NULL
> >> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000108
> >>       2000    0.048   1       8       NULL-NULL
> >> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000109
> >>       2000    0.037   1       9       NULL-NULL
> >> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000110
> >>       2000    0.042   1       10      NULL-NULL
> >> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai 20000111
> >>       2000    0.027   1       11      NULL-NULL
> >>
> >>
> >>
> >>
> >> --
> >> This message has been scanned by E.F.A. Project and is believed to be
> >> clean.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From shr@@k m@iii@g oii outiook@com  Wed Jun 19 08:45:33 2019
From: shr@@k m@iii@g oii outiook@com (shr@@k m@iii@g oii outiook@com)
Date: Wed, 19 Jun 2019 06:45:33 +0000
Subject: [R] Regarding R doubt
Message-ID: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>

Hello Team,
I hope you are doing well.
I have one doubt about backend functioning of R command.
Currently I'm working on IRT analysis in python but this function is implemented in R and in R they have direct rasch model library but no such library in the Python.

So I wanted to know that is there any way to find the math or formula behind the specific command of R language.
for eg, summary(PL2.rasch)
after this command you will directly get difficulty and discrimination values like mentioned below:

Coefficients:
                 value           std.err   z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
Dffclt.V3   -1.3585       3.2062 -0.4237
Dffclt.V4   -1.0032    8649.3103 -0.0001
Dffclt.V5    0.0400    1350.8452  0.0000

So is there any way to find out the math behind this summary command ?

Thanks,
Shreepad



	[[alternative HTML version deleted]]


From @hreep@d@kh@ndve05 @end|ng |rom gm@||@com  Wed Jun 19 08:48:49 2019
From: @hreep@d@kh@ndve05 @end|ng |rom gm@||@com (shreepad khandve)
Date: Wed, 19 Jun 2019 12:18:49 +0530
Subject: [R] Regarding R doubt on rasch model
Message-ID: <CAGnvD5Cs4fX2fz0CkBGA7h7ysBgf86EVCgzTamE28ObUdDOfLw@mail.gmail.com>

Hello Team,
I hope you are doing well.
I have one doubt about backend functioning of R command.
Currently I'm working on IRT analysis in python but this function is
implemented in R and in R they have direct rasch model library but no
such library in the Python.

So i wanted to know that is there any way to find the math or formula
behind the specific command of R language.
for eg, summary(PL2.rasch)
after this command you will directly get difficulty and discrimination
values like mentioned below:

Coefficients:
              value      std.err  z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
Dffclt.V3   -1.3585       3.2062 -0.4237
Dffclt.V4   -1.0032    8649.3103 -0.0001
Dffclt.V5    0.0400    1350.8452  0.0000

So is there any way to find out the math behind this summary command ?


Thanks,
Shreepad


From er|cjberger @end|ng |rom gm@||@com  Wed Jun 19 14:34:46 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 19 Jun 2019 15:34:46 +0300
Subject: [R] Regarding R doubt
In-Reply-To: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
References: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
Message-ID: <CAGgJW76f9tJw_FhAb0_mD6-ZAWFAKkxNSyGn9e61U564LVOSLA@mail.gmail.com>

Hi Shreepad,
>From the command 'summary(PL2.rasch)' it seems that PL2.rasch is an object.
You don't provide enough details on how this object was created.
What python or R packages? And what functions from those packages were used?
Ideally you would provide a reproducible example, but even without that at
least the statements that were used (including the packages).
Finally you should try to submit your question in plain text (and not in
HTML).

Eric


On Wed, Jun 19, 2019 at 3:25 PM shraak at outlook.com <shraak at outlook.com>
wrote:

> Hello Team,
> I hope you are doing well.
> I have one doubt about backend functioning of R command.
> Currently I'm working on IRT analysis in python but this function is
> implemented in R and in R they have direct rasch model library but no such
> library in the Python.
>
> So I wanted to know that is there any way to find the math or formula
> behind the specific command of R language.
> for eg, summary(PL2.rasch)
> after this command you will directly get difficulty and discrimination
> values like mentioned below:
>
> Coefficients:
>                  value           std.err   z.vals
> Dffclt.V1    3.1135       9.8208  0.3170
> Dffclt.V2   -0.5157       0.8941 -0.5768
> Dffclt.V3   -1.3585       3.2062 -0.4237
> Dffclt.V4   -1.0032    8649.3103 -0.0001
> Dffclt.V5    0.0400    1350.8452  0.0000
>
> So is there any way to find out the math behind this summary command ?
>
> Thanks,
> Shreepad
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From HDor@n @end|ng |rom @|r@org  Wed Jun 19 15:07:55 2019
From: HDor@n @end|ng |rom @|r@org (Doran, Harold)
Date: Wed, 19 Jun 2019 13:07:55 +0000
Subject: [R] Regarding R doubt on rasch model
In-Reply-To: <CAGnvD5Cs4fX2fz0CkBGA7h7ysBgf86EVCgzTamE28ObUdDOfLw@mail.gmail.com>
References: <CAGnvD5Cs4fX2fz0CkBGA7h7ysBgf86EVCgzTamE28ObUdDOfLw@mail.gmail.com>
Message-ID: <BN7PR05MB5857E3E8C1674C86FCD1D8D9CAE50@BN7PR05MB5857.namprd05.prod.outlook.com>

You need to say what function in R is creating this. However, how are you getting a discrimination parameter for Rasch?

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of shreepad khandve
Sent: Wednesday, June 19, 2019 2:49 AM
To: r-help at r-project.org
Subject: [R] Regarding R doubt on rasch model

Hello Team,
I hope you are doing well.
I have one doubt about backend functioning of R command.
Currently I'm working on IRT analysis in python but this function is implemented in R and in R they have direct rasch model library but no such library in the Python.

So i wanted to know that is there any way to find the math or formula behind the specific command of R language.
for eg, summary(PL2.rasch)
after this command you will directly get difficulty and discrimination values like mentioned below:

Coefficients:
              value      std.err  z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
Dffclt.V3   -1.3585       3.2062 -0.4237
Dffclt.V4   -1.0032    8649.3103 -0.0001
Dffclt.V5    0.0400    1350.8452  0.0000

So is there any way to find out the math behind this summary command ?


Thanks,
Shreepad

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jun 19 15:46:36 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 19 Jun 2019 14:46:36 +0100
Subject: [R] Regarding R doubt on rasch model
In-Reply-To: <CAGnvD5Cs4fX2fz0CkBGA7h7ysBgf86EVCgzTamE28ObUdDOfLw@mail.gmail.com>
References: <CAGnvD5Cs4fX2fz0CkBGA7h7ysBgf86EVCgzTamE28ObUdDOfLw@mail.gmail.com>
Message-ID: <2829aa28-8a8e-b1e5-a2fb-ff717083c193@sapo.pt>

Hello,

There are many packages that implement rasch models but I could only 
find 2 with summary methods,

package pairwise and
package ltm

See [1] and [2].


To see the source code at an R prompt
print the function code with

summary.<the_object_class>

where <the_object_class> is the output of

class(PL2.rasch)


R is open source and the code is available to download from CRAN.


Hope this helps,

Rui Barradas

?s 07:48 de 19/06/19, shreepad khandve escreveu:
> Hello Team,
> I hope you are doing well.
> I have one doubt about backend functioning of R command.
> Currently I'm working on IRT analysis in python but this function is
> implemented in R and in R they have direct rasch model library but no
> such library in the Python.
> 
> So i wanted to know that is there any way to find the math or formula
> behind the specific command of R language.
> for eg, summary(PL2.rasch)
> after this command you will directly get difficulty and discrimination
> values like mentioned below:
> 
> Coefficients:
>                value      std.err  z.vals
> Dffclt.V1    3.1135       9.8208  0.3170
> Dffclt.V2   -0.5157       0.8941 -0.5768
> Dffclt.V3   -1.3585       3.2062 -0.4237
> Dffclt.V4   -1.0032    8649.3103 -0.0001
> Dffclt.V5    0.0400    1350.8452  0.0000
> 
> So is there any way to find out the math behind this summary command ?
> 
> 
> Thanks,
> Shreepad
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From bgunter@4567 @end|ng |rom gm@||@com  Wed Jun 19 16:04:13 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 19 Jun 2019 07:04:13 -0700
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
Message-ID: <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>

Eric:

I believe you're doing something different than I did. I broke up each
month into biweekly periods, 2+ per month. You seem to be grouping the
overall entire period into biweekly intervals -- apologies if I'm wrong,
but if I understood correctly, that's not the same thing. I do not know
which of us -- if either -- has interpreted her query correctly.

Cheers,
Bert

On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com> wrote:

> Hi Siti,
> I didn't test Bert's code but I assume it's fine. :-)
> I would take a different approach than Bert. I prefer to use a package
> such as lubridate to handle the date wrangling, and a package such as dplyr
> to handle the grouping and max extraction.
> It may be overkill for this problem, but these are great packages to
> become familiar with.
> If one can take the actual week of the year as an acceptable definition of
> week, then here's my approach.
>
> library(lubridate)
> library(dplyr)
>
> # Step 1: start with Bert's code to create sample data
> ## create some example data for 3 months in 2000
> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> conc <- runif(length(d)) # concentrations
>
> # Step 2: collect the data into a data frame
> df <- data.frame( dt=d, conc=conc)
>
> # Step 3: use lubridate's ymd() function to parse the dates, its week()
> function to identify the week of the year, and define the new column
> 'wkpair' that groups the weeks 2-at-a-time
> df2 <- dplyr::mutate( df,
> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
>
> # Step 4: group by the wkpair and use dplyr's summarise to get the info
> you wanted
> df3 <- dplyr::group_by(df2,wkpair) %>%
>           dplyr::summarise( from=min(dt), to=max(dt), maxconc=max(conc))
> %>%
>           dplyr::select(from,to,maxconc)
>
> df3
>
> # A tibble: 6 x 3
>       from       to maxconc
>      <dbl>    <dbl>   <dbl>
> 1 20000113 20000121   0.963
> 2 20000122 20000204   0.988
> 3 20000205 20000218   0.939
> 4 20000219 20000303   0.883
> 5 20000304 20000317   0.863
> 6 20000318 20000330   0.765
>
> HTH,
> Eric
>
>
>
> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
>> My apologies. I negected to cc r-help. -- Bert
>>
>>
>>
>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com>
>> wrote:
>>
>> >
>> > I assume that 20000215 means year 2000, month 2, day 15.
>> > I also assume that you want maxes for the first 2 weeks of a month, the
>> > second 2 weeks, and any remaining days.
>> > I also assume that this might be desired for arbitrary numbers of years,
>> > months, and days.
>> >
>> > The following is one way to do this. As it's a slight pain to cut and
>> > paste email data as text into R (use ?dput or R code to run to provide
>> > example data instead), I just made up my own. You'll have to do the
>> > following within a data frame through extraction or by using with() of
>> > course.
>> >
>> > ## create some example data for 3 months in 2000
>> > d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>> > conc <- runif(length(d)) # concentrations
>> >
>> > ## convert the date to character to extract year, month, and day
>> > cdate <- as.character(d)
>> > ## use substr to to the extraction
>> > year <- substr(cdate,1,4)
>> > mon <- substr(cdate,5,6)
>> > day <- substr(cdate, 7,8)
>> >
>> > ## convert day to numeric and use cut() to group into the biweekly
>> periods.
>> > d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
>> >
>> > ## Use tapply() to create your desired table of results.
>> > tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
>> >
>> > ## Results
>> >
>> > , , 01
>> >
>> >       (0,14.5] (14.5,28.5] (28.5,32]
>> > 2000 0.7357389   0.9655391 0.7962965
>> >
>> > , , 02
>> >
>> >       (0,14.5] (14.5,28.5] (28.5,32]
>> > 2000 0.8193979   0.9487207        NA
>> >
>> > , , 03
>> >
>> >       (0,14.5] (14.5,28.5] (28.5,32]
>> > 2000 0.9718919   0.9997093  0.168659
>> >
>> >
>> > Cheers,
>> > Bert
>> >
>> > Bert Gunter
>> >
>> >
>> >
>> >
>> > On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
>> > aisyahzakaria at unimap.edu.my> wrote:
>> >
>> >> Hi,
>> >>
>> >> I'm Aisyah..I have a problem to run my R coding. I want to select
>> maximum
>> >> value according to week.
>> >>
>> >> here is my data
>> >>
>> >> Date          O3_Conc
>> >> 20000101        0.033
>> >> 20000102        0.023
>> >> 20000103        0.025
>> >> 20000104        0.041
>> >> 20000105        0.063
>> >> 20000106        0.028
>> >> 20000107        0.068
>> >> 20000108        0.048
>> >> 20000109        0.037
>> >> 20000110        0.042
>> >> 20000111        0.027
>> >> 20000112        0.035
>> >> 20000113        0.063
>> >> 20000114        0.035
>> >> 20000115        0.042
>> >> 20000116        0.028
>> >>
>> >> I want to find the max value from column O3_Conc for only 14 days that
>> >> refer to biweekly in month. And the next 14 days for the max value.
>> >>
>> >> I hope that I can get the result like this:
>> >>
>> >> Date                     Max O3_Conc
>> >> 20000101 - 20000114        0.068
>> >> 20000115 - 20000129        0.061
>> >>
>> >> I try many coding but still unavailable.
>> >>
>> >> this example my coding
>> >>
>> >> library(plyr)
>> >>       data.frame(CA0003)
>> >>
>> >>       # format weeks as per requirement (replace "00" with "52" and
>> >> adjust corresponding year)
>> >>       tmp <- list()
>> >>       tmp$y <- format(df$Date, format="%Y")
>> >>       tmp$w <- format(df$Date, format="%U")
>> >>       tmp$y[tmp$w=="00"] <-
>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
>> >> 14)
>> >>       tmp$w[tmp$w=="00"] <- "884"
>> >>       df$week <- paste(tmp$y, tmp$w, sep = "-")
>> >>
>> >>       # get summary
>> >>       df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
>> >>
>> >>       # include week ending date
>> >>       tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
>> ==x,
>> >> "O3_Conc"])[[1]])
>> >>       df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
>> >>
>> >> output
>> >>         Site_Id Site_Location
>>  Date
>> >>       Year    O3_Conc Month   Day     week
>> >> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000101
>> >>       2000    0.033   1       1       NULL-NULL
>> >> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000102
>> >>       2000    0.023   1       2       NULL-NULL
>> >> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000103
>> >>       2000    0.025   1       3       NULL-NULL
>> >> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000104
>> >>       2000    0.041   1       4       NULL-NULL
>> >> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000105
>> >>       2000    0.063   1       5       NULL-NULL
>> >> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000106
>> >>       2000    0.028   1       6       NULL-NULL
>> >> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000107
>> >>       2000    0.068   1       7       NULL-NULL
>> >> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000108
>> >>       2000    0.048   1       8       NULL-NULL
>> >> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000109
>> >>       2000    0.037   1       9       NULL-NULL
>> >> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000110
>> >>       2000    0.042   1       10      NULL-NULL
>> >> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>> 20000111
>> >>       2000    0.027   1       11      NULL-NULL
>> >>
>> >>
>> >>
>> >>
>> >> --
>> >> This message has been scanned by E.F.A. Project and is believed to be
>> >> clean.
>> >>
>> >> ______________________________________________
>> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >> https://stat.ethz.ch/mailman/listinfo/r-help
>> >> PLEASE do read the posting guide
>> >> http://www.R-project.org/posting-guide.html
>> >> and provide commented, minimal, self-contained, reproducible code.
>> >>
>> >
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Wed Jun 19 16:08:33 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 19 Jun 2019 17:08:33 +0300
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
 <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
Message-ID: <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>

Hi Bert,
I agree that our interpretation is slightly different, which is why I wrote:
"If one can take the actual week of the year as an acceptable definition of
week, then here's my approach."

Regards,
Eric

On Wed, Jun 19, 2019 at 5:04 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Eric:
>
> I believe you're doing something different than I did. I broke up each
> month into biweekly periods, 2+ per month. You seem to be grouping the
> overall entire period into biweekly intervals -- apologies if I'm wrong,
> but if I understood correctly, that's not the same thing. I do not know
> which of us -- if either -- has interpreted her query correctly.
>
> Cheers,
> Bert
>
> On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com> wrote:
>
>> Hi Siti,
>> I didn't test Bert's code but I assume it's fine. :-)
>> I would take a different approach than Bert. I prefer to use a package
>> such as lubridate to handle the date wrangling, and a package such as dplyr
>> to handle the grouping and max extraction.
>> It may be overkill for this problem, but these are great packages to
>> become familiar with.
>> If one can take the actual week of the year as an acceptable definition
>> of week, then here's my approach.
>>
>> library(lubridate)
>> library(dplyr)
>>
>> # Step 1: start with Bert's code to create sample data
>> ## create some example data for 3 months in 2000
>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>> conc <- runif(length(d)) # concentrations
>>
>> # Step 2: collect the data into a data frame
>> df <- data.frame( dt=d, conc=conc)
>>
>> # Step 3: use lubridate's ymd() function to parse the dates, its week()
>> function to identify the week of the year, and define the new column
>> 'wkpair' that groups the weeks 2-at-a-time
>> df2 <- dplyr::mutate( df,
>> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
>>
>> # Step 4: group by the wkpair and use dplyr's summarise to get the info
>> you wanted
>> df3 <- dplyr::group_by(df2,wkpair) %>%
>>           dplyr::summarise( from=min(dt), to=max(dt), maxconc=max(conc))
>> %>%
>>           dplyr::select(from,to,maxconc)
>>
>> df3
>>
>> # A tibble: 6 x 3
>>       from       to maxconc
>>      <dbl>    <dbl>   <dbl>
>> 1 20000113 20000121   0.963
>> 2 20000122 20000204   0.988
>> 3 20000205 20000218   0.939
>> 4 20000219 20000303   0.883
>> 5 20000304 20000317   0.863
>> 6 20000318 20000330   0.765
>>
>> HTH,
>> Eric
>>
>>
>>
>> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
>> wrote:
>>
>>> My apologies. I negected to cc r-help. -- Bert
>>>
>>>
>>>
>>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com>
>>> wrote:
>>>
>>> >
>>> > I assume that 20000215 means year 2000, month 2, day 15.
>>> > I also assume that you want maxes for the first 2 weeks of a month, the
>>> > second 2 weeks, and any remaining days.
>>> > I also assume that this might be desired for arbitrary numbers of
>>> years,
>>> > months, and days.
>>> >
>>> > The following is one way to do this. As it's a slight pain to cut and
>>> > paste email data as text into R (use ?dput or R code to run to provide
>>> > example data instead), I just made up my own. You'll have to do the
>>> > following within a data frame through extraction or by using with() of
>>> > course.
>>> >
>>> > ## create some example data for 3 months in 2000
>>> > d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>>> > conc <- runif(length(d)) # concentrations
>>> >
>>> > ## convert the date to character to extract year, month, and day
>>> > cdate <- as.character(d)
>>> > ## use substr to to the extraction
>>> > year <- substr(cdate,1,4)
>>> > mon <- substr(cdate,5,6)
>>> > day <- substr(cdate, 7,8)
>>> >
>>> > ## convert day to numeric and use cut() to group into the biweekly
>>> periods.
>>> > d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
>>> >
>>> > ## Use tapply() to create your desired table of results.
>>> > tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
>>> >
>>> > ## Results
>>> >
>>> > , , 01
>>> >
>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>> > 2000 0.7357389   0.9655391 0.7962965
>>> >
>>> > , , 02
>>> >
>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>> > 2000 0.8193979   0.9487207        NA
>>> >
>>> > , , 03
>>> >
>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>> > 2000 0.9718919   0.9997093  0.168659
>>> >
>>> >
>>> > Cheers,
>>> > Bert
>>> >
>>> > Bert Gunter
>>> >
>>> >
>>> >
>>> >
>>> > On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
>>> > aisyahzakaria at unimap.edu.my> wrote:
>>> >
>>> >> Hi,
>>> >>
>>> >> I'm Aisyah..I have a problem to run my R coding. I want to select
>>> maximum
>>> >> value according to week.
>>> >>
>>> >> here is my data
>>> >>
>>> >> Date          O3_Conc
>>> >> 20000101        0.033
>>> >> 20000102        0.023
>>> >> 20000103        0.025
>>> >> 20000104        0.041
>>> >> 20000105        0.063
>>> >> 20000106        0.028
>>> >> 20000107        0.068
>>> >> 20000108        0.048
>>> >> 20000109        0.037
>>> >> 20000110        0.042
>>> >> 20000111        0.027
>>> >> 20000112        0.035
>>> >> 20000113        0.063
>>> >> 20000114        0.035
>>> >> 20000115        0.042
>>> >> 20000116        0.028
>>> >>
>>> >> I want to find the max value from column O3_Conc for only 14 days that
>>> >> refer to biweekly in month. And the next 14 days for the max value.
>>> >>
>>> >> I hope that I can get the result like this:
>>> >>
>>> >> Date                     Max O3_Conc
>>> >> 20000101 - 20000114        0.068
>>> >> 20000115 - 20000129        0.061
>>> >>
>>> >> I try many coding but still unavailable.
>>> >>
>>> >> this example my coding
>>> >>
>>> >> library(plyr)
>>> >>       data.frame(CA0003)
>>> >>
>>> >>       # format weeks as per requirement (replace "00" with "52" and
>>> >> adjust corresponding year)
>>> >>       tmp <- list()
>>> >>       tmp$y <- format(df$Date, format="%Y")
>>> >>       tmp$w <- format(df$Date, format="%U")
>>> >>       tmp$y[tmp$w=="00"] <-
>>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
>>> >> 14)
>>> >>       tmp$w[tmp$w=="00"] <- "884"
>>> >>       df$week <- paste(tmp$y, tmp$w, sep = "-")
>>> >>
>>> >>       # get summary
>>> >>       df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
>>> >>
>>> >>       # include week ending date
>>> >>       tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
>>> ==x,
>>> >> "O3_Conc"])[[1]])
>>> >>       df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
>>> >>
>>> >> output
>>> >>         Site_Id Site_Location
>>>  Date
>>> >>       Year    O3_Conc Month   Day     week
>>> >> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000101
>>> >>       2000    0.033   1       1       NULL-NULL
>>> >> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000102
>>> >>       2000    0.023   1       2       NULL-NULL
>>> >> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000103
>>> >>       2000    0.025   1       3       NULL-NULL
>>> >> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000104
>>> >>       2000    0.041   1       4       NULL-NULL
>>> >> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000105
>>> >>       2000    0.063   1       5       NULL-NULL
>>> >> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000106
>>> >>       2000    0.028   1       6       NULL-NULL
>>> >> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000107
>>> >>       2000    0.068   1       7       NULL-NULL
>>> >> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000108
>>> >>       2000    0.048   1       8       NULL-NULL
>>> >> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000109
>>> >>       2000    0.037   1       9       NULL-NULL
>>> >> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000110
>>> >>       2000    0.042   1       10      NULL-NULL
>>> >> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>> 20000111
>>> >>       2000    0.027   1       11      NULL-NULL
>>> >>
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> This message has been scanned by E.F.A. Project and is believed to be
>>> >> clean.
>>> >>
>>> >> ______________________________________________
>>> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> >> https://stat.ethz.ch/mailman/listinfo/r-help
>>> >> PLEASE do read the posting guide
>>> >> http://www.R-project.org/posting-guide.html
>>> >> and provide commented, minimal, self-contained, reproducible code.
>>> >>
>>> >
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Wed Jun 19 16:45:08 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 19 Jun 2019 17:45:08 +0300
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
 <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
 <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>
Message-ID: <CAGgJW77nYzOC5LR4oZvF=H6gerQCGwD=qnpn0StrPDeTXVw0Vw@mail.gmail.com>

I just realized that my method as written only works if the entire date
range is within a single calendar year.
Here is a revised version that should handle the general case.

In this version I assume that the conversion from the original numbers to
dates has already been done
e.g. it can be done using ymd() as I showed before

library(dplyr)
library(lubridate)

## create some example data for 36 months from 2010
d <- seq(from=as.Date("2010-01-01"),to=as.Date("2012-12-31"),by="1 day")
conc <- runif(length(d)) # concentrations
df <- data.frame( dt=d, conc=conc)
df2 <- dplyr::mutate( df, wkpair=as.integer(floor((0:(nrow(df)-1))/14)) )
df3 <- dplyr::group_by(df2,wkpair) %>%
       dplyr::summarise(from=min(dt), to=max(dt), maxconc=max(conc)) %>%
       dplyr::select(from,to,maxconc)
df3

# A tibble: 79 x 3
   from       to         maxconc
   <date>     <date>       <dbl>
 1 2010-01-01 2010-01-14   0.928
 2 2010-01-15 2010-01-28   0.834
 3 2010-01-29 2010-02-11   0.989
 4 2010-02-12 2010-02-25   0.983
 5 2010-02-26 2010-03-11   0.898
 6 2010-03-12 2010-03-25   0.864
 7 2010-03-26 2010-04-08   0.920
 8 2010-04-09 2010-04-22   0.925
 9 2010-04-23 2010-05-06   0.998
10 2010-05-07 2010-05-20   0.761
# ... with 69 more rows

On Wed, Jun 19, 2019 at 5:08 PM Eric Berger <ericjberger at gmail.com> wrote:

> Hi Bert,
> I agree that our interpretation is slightly different, which is why I
> wrote:
> "If one can take the actual week of the year as an acceptable definition
> of week, then here's my approach."
>
> Regards,
> Eric
>
> On Wed, Jun 19, 2019 at 5:04 PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
>> Eric:
>>
>> I believe you're doing something different than I did. I broke up each
>> month into biweekly periods, 2+ per month. You seem to be grouping the
>> overall entire period into biweekly intervals -- apologies if I'm wrong,
>> but if I understood correctly, that's not the same thing. I do not know
>> which of us -- if either -- has interpreted her query correctly.
>>
>> Cheers,
>> Bert
>>
>> On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com>
>> wrote:
>>
>>> Hi Siti,
>>> I didn't test Bert's code but I assume it's fine. :-)
>>> I would take a different approach than Bert. I prefer to use a package
>>> such as lubridate to handle the date wrangling, and a package such as dplyr
>>> to handle the grouping and max extraction.
>>> It may be overkill for this problem, but these are great packages to
>>> become familiar with.
>>> If one can take the actual week of the year as an acceptable definition
>>> of week, then here's my approach.
>>>
>>> library(lubridate)
>>> library(dplyr)
>>>
>>> # Step 1: start with Bert's code to create sample data
>>> ## create some example data for 3 months in 2000
>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>>> conc <- runif(length(d)) # concentrations
>>>
>>> # Step 2: collect the data into a data frame
>>> df <- data.frame( dt=d, conc=conc)
>>>
>>> # Step 3: use lubridate's ymd() function to parse the dates, its week()
>>> function to identify the week of the year, and define the new column
>>> 'wkpair' that groups the weeks 2-at-a-time
>>> df2 <- dplyr::mutate( df,
>>> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
>>>
>>> # Step 4: group by the wkpair and use dplyr's summarise to get the info
>>> you wanted
>>> df3 <- dplyr::group_by(df2,wkpair) %>%
>>>           dplyr::summarise( from=min(dt), to=max(dt), maxconc=max(conc))
>>> %>%
>>>           dplyr::select(from,to,maxconc)
>>>
>>> df3
>>>
>>> # A tibble: 6 x 3
>>>       from       to maxconc
>>>      <dbl>    <dbl>   <dbl>
>>> 1 20000113 20000121   0.963
>>> 2 20000122 20000204   0.988
>>> 3 20000205 20000218   0.939
>>> 4 20000219 20000303   0.883
>>> 5 20000304 20000317   0.863
>>> 6 20000318 20000330   0.765
>>>
>>> HTH,
>>> Eric
>>>
>>>
>>>
>>> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
>>> wrote:
>>>
>>>> My apologies. I negected to cc r-help. -- Bert
>>>>
>>>>
>>>>
>>>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com>
>>>> wrote:
>>>>
>>>> >
>>>> > I assume that 20000215 means year 2000, month 2, day 15.
>>>> > I also assume that you want maxes for the first 2 weeks of a month,
>>>> the
>>>> > second 2 weeks, and any remaining days.
>>>> > I also assume that this might be desired for arbitrary numbers of
>>>> years,
>>>> > months, and days.
>>>> >
>>>> > The following is one way to do this. As it's a slight pain to cut and
>>>> > paste email data as text into R (use ?dput or R code to run to provide
>>>> > example data instead), I just made up my own. You'll have to do the
>>>> > following within a data frame through extraction or by using with() of
>>>> > course.
>>>> >
>>>> > ## create some example data for 3 months in 2000
>>>> > d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>>>> > conc <- runif(length(d)) # concentrations
>>>> >
>>>> > ## convert the date to character to extract year, month, and day
>>>> > cdate <- as.character(d)
>>>> > ## use substr to to the extraction
>>>> > year <- substr(cdate,1,4)
>>>> > mon <- substr(cdate,5,6)
>>>> > day <- substr(cdate, 7,8)
>>>> >
>>>> > ## convert day to numeric and use cut() to group into the biweekly
>>>> periods.
>>>> > d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
>>>> >
>>>> > ## Use tapply() to create your desired table of results.
>>>> > tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
>>>> >
>>>> > ## Results
>>>> >
>>>> > , , 01
>>>> >
>>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>>> > 2000 0.7357389   0.9655391 0.7962965
>>>> >
>>>> > , , 02
>>>> >
>>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>>> > 2000 0.8193979   0.9487207        NA
>>>> >
>>>> > , , 03
>>>> >
>>>> >       (0,14.5] (14.5,28.5] (28.5,32]
>>>> > 2000 0.9718919   0.9997093  0.168659
>>>> >
>>>> >
>>>> > Cheers,
>>>> > Bert
>>>> >
>>>> > Bert Gunter
>>>> >
>>>> >
>>>> >
>>>> >
>>>> > On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
>>>> > aisyahzakaria at unimap.edu.my> wrote:
>>>> >
>>>> >> Hi,
>>>> >>
>>>> >> I'm Aisyah..I have a problem to run my R coding. I want to select
>>>> maximum
>>>> >> value according to week.
>>>> >>
>>>> >> here is my data
>>>> >>
>>>> >> Date          O3_Conc
>>>> >> 20000101        0.033
>>>> >> 20000102        0.023
>>>> >> 20000103        0.025
>>>> >> 20000104        0.041
>>>> >> 20000105        0.063
>>>> >> 20000106        0.028
>>>> >> 20000107        0.068
>>>> >> 20000108        0.048
>>>> >> 20000109        0.037
>>>> >> 20000110        0.042
>>>> >> 20000111        0.027
>>>> >> 20000112        0.035
>>>> >> 20000113        0.063
>>>> >> 20000114        0.035
>>>> >> 20000115        0.042
>>>> >> 20000116        0.028
>>>> >>
>>>> >> I want to find the max value from column O3_Conc for only 14 days
>>>> that
>>>> >> refer to biweekly in month. And the next 14 days for the max value.
>>>> >>
>>>> >> I hope that I can get the result like this:
>>>> >>
>>>> >> Date                     Max O3_Conc
>>>> >> 20000101 - 20000114        0.068
>>>> >> 20000115 - 20000129        0.061
>>>> >>
>>>> >> I try many coding but still unavailable.
>>>> >>
>>>> >> this example my coding
>>>> >>
>>>> >> library(plyr)
>>>> >>       data.frame(CA0003)
>>>> >>
>>>> >>       # format weeks as per requirement (replace "00" with "52" and
>>>> >> adjust corresponding year)
>>>> >>       tmp <- list()
>>>> >>       tmp$y <- format(df$Date, format="%Y")
>>>> >>       tmp$w <- format(df$Date, format="%U")
>>>> >>       tmp$y[tmp$w=="00"] <-
>>>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
>>>> >> 14)
>>>> >>       tmp$w[tmp$w=="00"] <- "884"
>>>> >>       df$week <- paste(tmp$y, tmp$w, sep = "-")
>>>> >>
>>>> >>       # get summary
>>>> >>       df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
>>>> >>
>>>> >>       # include week ending date
>>>> >>       tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
>>>> ==x,
>>>> >> "O3_Conc"])[[1]])
>>>> >>       df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
>>>> >>
>>>> >> output
>>>> >>         Site_Id Site_Location
>>>>  Date
>>>> >>       Year    O3_Conc Month   Day     week
>>>> >> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000101
>>>> >>       2000    0.033   1       1       NULL-NULL
>>>> >> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000102
>>>> >>       2000    0.023   1       2       NULL-NULL
>>>> >> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000103
>>>> >>       2000    0.025   1       3       NULL-NULL
>>>> >> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000104
>>>> >>       2000    0.041   1       4       NULL-NULL
>>>> >> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000105
>>>> >>       2000    0.063   1       5       NULL-NULL
>>>> >> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000106
>>>> >>       2000    0.028   1       6       NULL-NULL
>>>> >> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000107
>>>> >>       2000    0.068   1       7       NULL-NULL
>>>> >> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000108
>>>> >>       2000    0.048   1       8       NULL-NULL
>>>> >> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000109
>>>> >>       2000    0.037   1       9       NULL-NULL
>>>> >> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000110
>>>> >>       2000    0.042   1       10      NULL-NULL
>>>> >> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>> 20000111
>>>> >>       2000    0.027   1       11      NULL-NULL
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >> --
>>>> >> This message has been scanned by E.F.A. Project and is believed to be
>>>> >> clean.
>>>> >>
>>>> >> ______________________________________________
>>>> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> >> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> >> PLEASE do read the posting guide
>>>> >> http://www.R-project.org/posting-guide.html
>>>> >> and provide commented, minimal, self-contained, reproducible code.
>>>> >>
>>>> >
>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>

	[[alternative HTML version deleted]]


From m@rc_@chw@rtz @end|ng |rom me@com  Wed Jun 19 17:30:26 2019
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Wed, 19 Jun 2019 11:30:26 -0400
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGgJW77nYzOC5LR4oZvF=H6gerQCGwD=qnpn0StrPDeTXVw0Vw@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
 <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
 <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>
 <CAGgJW77nYzOC5LR4oZvF=H6gerQCGwD=qnpn0StrPDeTXVw0Vw@mail.gmail.com>
Message-ID: <E4519DC0-D304-40A4-96CD-FE91A7995B28@me.com>

Hi All,

Is there a reason that the following was not considered?

> DF
         Date O3_Conc
1  2000-01-01   0.033
2  2000-01-02   0.023
3  2000-01-03   0.025
4  2000-01-04   0.041
5  2000-01-05   0.063
6  2000-01-06   0.028
7  2000-01-07   0.068
8  2000-01-08   0.048
9  2000-01-09   0.037
10 2000-01-10   0.042
11 2000-01-11   0.027
12 2000-01-12   0.035
13 2000-01-13   0.063
14 2000-01-14   0.035
15 2000-01-15   0.042
16 2000-01-16   0.028

> str(DF)
'data.frame':	16 obs. of  2 variables:
 $ Date   : Date, format: "2000-01-01" ...
 $ O3_Conc: num  0.033 0.023 0.025 0.041 0.063 0.028 0.068 0.048 0.037 0.042 ...


> aggregate(O3_Conc ~ cut(Date, breaks = "14 days"), data = DF, max)
  cut(Date, breaks = "14 days") O3_Conc
1                    2000-01-01   0.068
2                    2000-01-15   0.042


See ?cut.Date

Note that there is an error in Aisyah's original post, in that the value for the max concentration in the second 14 day window is 0.042, not 0.061.

Also, if one wanted to use actual calendar weeks, with a week starting on Sunday, as opposed to 14 day windows starting from the minimum date, you could use:

> aggregate(O3_Conc ~ cut(Date, breaks = "2 weeks", start.on.monday = FALSE), data = DF, max)
  cut(Date, breaks = "2 weeks", start.on.monday = FALSE) O3_Conc
1                                             1999-12-26   0.068
2                                             2000-01-09   0.063


If desired, you could pre-create a column in the DF with the result of cut():

DF$TimeStartDays <- cut(DF$Date, breaks = "14 days")
DF$TimeStartWks <- cut(DF$Date, breaks = "2 weeks", start.on.monday = FALSE)

> DF
         Date O3_Conc TimeStartDays TimeStartWks
1  2000-01-01   0.033    2000-01-01   1999-12-26
2  2000-01-02   0.023    2000-01-01   1999-12-26
3  2000-01-03   0.025    2000-01-01   1999-12-26
4  2000-01-04   0.041    2000-01-01   1999-12-26
5  2000-01-05   0.063    2000-01-01   1999-12-26
6  2000-01-06   0.028    2000-01-01   1999-12-26
7  2000-01-07   0.068    2000-01-01   1999-12-26
8  2000-01-08   0.048    2000-01-01   1999-12-26
9  2000-01-09   0.037    2000-01-01   2000-01-09
10 2000-01-10   0.042    2000-01-01   2000-01-09
11 2000-01-11   0.027    2000-01-01   2000-01-09
12 2000-01-12   0.035    2000-01-01   2000-01-09
13 2000-01-13   0.063    2000-01-01   2000-01-09
14 2000-01-14   0.035    2000-01-01   2000-01-09
15 2000-01-15   0.042    2000-01-15   2000-01-09
16 2000-01-16   0.028    2000-01-15   2000-01-09

and then use:

> aggregate(O3_Conc ~ TimeStartDays, data = DF, max)
  TimeStartDays O3_Conc
1    2000-01-01   0.068
2    2000-01-15   0.042

> aggregate(O3_Conc ~ TimeStartWks, data = DF, max)
  TimeStartWks O3_Conc
1   1999-12-26   0.068
2   2000-01-09   0.063


Regards,

Marc Schwartz



> On Jun 19, 2019, at 10:45 AM, Eric Berger <ericjberger at gmail.com> wrote:
> 
> I just realized that my method as written only works if the entire date
> range is within a single calendar year.
> Here is a revised version that should handle the general case.
> 
> In this version I assume that the conversion from the original numbers to
> dates has already been done
> e.g. it can be done using ymd() as I showed before
> 
> library(dplyr)
> library(lubridate)
> 
> ## create some example data for 36 months from 2010
> d <- seq(from=as.Date("2010-01-01"),to=as.Date("2012-12-31"),by="1 day")
> conc <- runif(length(d)) # concentrations
> df <- data.frame( dt=d, conc=conc)
> df2 <- dplyr::mutate( df, wkpair=as.integer(floor((0:(nrow(df)-1))/14)) )
> df3 <- dplyr::group_by(df2,wkpair) %>%
>       dplyr::summarise(from=min(dt), to=max(dt), maxconc=max(conc)) %>%
>       dplyr::select(from,to,maxconc)
> df3
> 
> # A tibble: 79 x 3
>   from       to         maxconc
>   <date>     <date>       <dbl>
> 1 2010-01-01 2010-01-14   0.928
> 2 2010-01-15 2010-01-28   0.834
> 3 2010-01-29 2010-02-11   0.989
> 4 2010-02-12 2010-02-25   0.983
> 5 2010-02-26 2010-03-11   0.898
> 6 2010-03-12 2010-03-25   0.864
> 7 2010-03-26 2010-04-08   0.920
> 8 2010-04-09 2010-04-22   0.925
> 9 2010-04-23 2010-05-06   0.998
> 10 2010-05-07 2010-05-20   0.761
> # ... with 69 more rows
> 
> On Wed, Jun 19, 2019 at 5:08 PM Eric Berger <ericjberger at gmail.com> wrote:
> 
>> Hi Bert,
>> I agree that our interpretation is slightly different, which is why I
>> wrote:
>> "If one can take the actual week of the year as an acceptable definition
>> of week, then here's my approach."
>> 
>> Regards,
>> Eric
>> 
>> On Wed, Jun 19, 2019 at 5:04 PM Bert Gunter <bgunter.4567 at gmail.com>
>> wrote:
>> 
>>> Eric:
>>> 
>>> I believe you're doing something different than I did. I broke up each
>>> month into biweekly periods, 2+ per month. You seem to be grouping the
>>> overall entire period into biweekly intervals -- apologies if I'm wrong,
>>> but if I understood correctly, that's not the same thing. I do not know
>>> which of us -- if either -- has interpreted her query correctly.
>>> 
>>> Cheers,
>>> Bert
>>> 
>>> On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com>
>>> wrote:
>>> 
>>>> Hi Siti,
>>>> I didn't test Bert's code but I assume it's fine. :-)
>>>> I would take a different approach than Bert. I prefer to use a package
>>>> such as lubridate to handle the date wrangling, and a package such as dplyr
>>>> to handle the grouping and max extraction.
>>>> It may be overkill for this problem, but these are great packages to
>>>> become familiar with.
>>>> If one can take the actual week of the year as an acceptable definition
>>>> of week, then here's my approach.
>>>> 
>>>> library(lubridate)
>>>> library(dplyr)
>>>> 
>>>> # Step 1: start with Bert's code to create sample data
>>>> ## create some example data for 3 months in 2000
>>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>>>> conc <- runif(length(d)) # concentrations
>>>> 
>>>> # Step 2: collect the data into a data frame
>>>> df <- data.frame( dt=d, conc=conc)
>>>> 
>>>> # Step 3: use lubridate's ymd() function to parse the dates, its week()
>>>> function to identify the week of the year, and define the new column
>>>> 'wkpair' that groups the weeks 2-at-a-time
>>>> df2 <- dplyr::mutate( df,
>>>> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
>>>> 
>>>> # Step 4: group by the wkpair and use dplyr's summarise to get the info
>>>> you wanted
>>>> df3 <- dplyr::group_by(df2,wkpair) %>%
>>>>          dplyr::summarise( from=min(dt), to=max(dt), maxconc=max(conc))
>>>> %>%
>>>>          dplyr::select(from,to,maxconc)
>>>> 
>>>> df3
>>>> 
>>>> # A tibble: 6 x 3
>>>>      from       to maxconc
>>>>     <dbl>    <dbl>   <dbl>
>>>> 1 20000113 20000121   0.963
>>>> 2 20000122 20000204   0.988
>>>> 3 20000205 20000218   0.939
>>>> 4 20000219 20000303   0.883
>>>> 5 20000304 20000317   0.863
>>>> 6 20000318 20000330   0.765
>>>> 
>>>> HTH,
>>>> Eric
>>>> 
>>>> 
>>>> 
>>>> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
>>>> wrote:
>>>> 
>>>>> My apologies. I negected to cc r-help. -- Bert
>>>>> 
>>>>> 
>>>>> 
>>>>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com>
>>>>> wrote:
>>>>> 
>>>>>> 
>>>>>> I assume that 20000215 means year 2000, month 2, day 15.
>>>>>> I also assume that you want maxes for the first 2 weeks of a month,
>>>>> the
>>>>>> second 2 weeks, and any remaining days.
>>>>>> I also assume that this might be desired for arbitrary numbers of
>>>>> years,
>>>>>> months, and days.
>>>>>> 
>>>>>> The following is one way to do this. As it's a slight pain to cut and
>>>>>> paste email data as text into R (use ?dput or R code to run to provide
>>>>>> example data instead), I just made up my own. You'll have to do the
>>>>>> following within a data frame through extraction or by using with() of
>>>>>> course.
>>>>>> 
>>>>>> ## create some example data for 3 months in 2000
>>>>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
>>>>>> conc <- runif(length(d)) # concentrations
>>>>>> 
>>>>>> ## convert the date to character to extract year, month, and day
>>>>>> cdate <- as.character(d)
>>>>>> ## use substr to to the extraction
>>>>>> year <- substr(cdate,1,4)
>>>>>> mon <- substr(cdate,5,6)
>>>>>> day <- substr(cdate, 7,8)
>>>>>> 
>>>>>> ## convert day to numeric and use cut() to group into the biweekly
>>>>> periods.
>>>>>> d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
>>>>>> 
>>>>>> ## Use tapply() to create your desired table of results.
>>>>>> tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
>>>>>> 
>>>>>> ## Results
>>>>>> 
>>>>>> , , 01
>>>>>> 
>>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
>>>>>> 2000 0.7357389   0.9655391 0.7962965
>>>>>> 
>>>>>> , , 02
>>>>>> 
>>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
>>>>>> 2000 0.8193979   0.9487207        NA
>>>>>> 
>>>>>> , , 03
>>>>>> 
>>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
>>>>>> 2000 0.9718919   0.9997093  0.168659
>>>>>> 
>>>>>> 
>>>>>> Cheers,
>>>>>> Bert
>>>>>> 
>>>>>> Bert Gunter
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
>>>>>> aisyahzakaria at unimap.edu.my> wrote:
>>>>>> 
>>>>>>> Hi,
>>>>>>> 
>>>>>>> I'm Aisyah..I have a problem to run my R coding. I want to select
>>>>> maximum
>>>>>>> value according to week.
>>>>>>> 
>>>>>>> here is my data
>>>>>>> 
>>>>>>> Date          O3_Conc
>>>>>>> 20000101        0.033
>>>>>>> 20000102        0.023
>>>>>>> 20000103        0.025
>>>>>>> 20000104        0.041
>>>>>>> 20000105        0.063
>>>>>>> 20000106        0.028
>>>>>>> 20000107        0.068
>>>>>>> 20000108        0.048
>>>>>>> 20000109        0.037
>>>>>>> 20000110        0.042
>>>>>>> 20000111        0.027
>>>>>>> 20000112        0.035
>>>>>>> 20000113        0.063
>>>>>>> 20000114        0.035
>>>>>>> 20000115        0.042
>>>>>>> 20000116        0.028
>>>>>>> 
>>>>>>> I want to find the max value from column O3_Conc for only 14 days
>>>>> that
>>>>>>> refer to biweekly in month. And the next 14 days for the max value.
>>>>>>> 
>>>>>>> I hope that I can get the result like this:
>>>>>>> 
>>>>>>> Date                     Max O3_Conc
>>>>>>> 20000101 - 20000114        0.068
>>>>>>> 20000115 - 20000129        0.061
>>>>>>> 
>>>>>>> I try many coding but still unavailable.
>>>>>>> 
>>>>>>> this example my coding
>>>>>>> 
>>>>>>> library(plyr)
>>>>>>>      data.frame(CA0003)
>>>>>>> 
>>>>>>>      # format weeks as per requirement (replace "00" with "52" and
>>>>>>> adjust corresponding year)
>>>>>>>      tmp <- list()
>>>>>>>      tmp$y <- format(df$Date, format="%Y")
>>>>>>>      tmp$w <- format(df$Date, format="%U")
>>>>>>>      tmp$y[tmp$w=="00"] <-
>>>>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
>>>>>>> 14)
>>>>>>>      tmp$w[tmp$w=="00"] <- "884"
>>>>>>>      df$week <- paste(tmp$y, tmp$w, sep = "-")
>>>>>>> 
>>>>>>>      # get summary
>>>>>>>      df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
>>>>>>> 
>>>>>>>      # include week ending date
>>>>>>>      tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
>>>>> ==x,
>>>>>>> "O3_Conc"])[[1]])
>>>>>>>      df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
>>>>>>> 
>>>>>>> output
>>>>>>>        Site_Id Site_Location
>>>>> Date
>>>>>>>      Year    O3_Conc Month   Day     week
>>>>>>> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000101
>>>>>>>      2000    0.033   1       1       NULL-NULL
>>>>>>> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000102
>>>>>>>      2000    0.023   1       2       NULL-NULL
>>>>>>> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000103
>>>>>>>      2000    0.025   1       3       NULL-NULL
>>>>>>> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000104
>>>>>>>      2000    0.041   1       4       NULL-NULL
>>>>>>> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000105
>>>>>>>      2000    0.063   1       5       NULL-NULL
>>>>>>> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000106
>>>>>>>      2000    0.028   1       6       NULL-NULL
>>>>>>> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000107
>>>>>>>      2000    0.068   1       7       NULL-NULL
>>>>>>> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000108
>>>>>>>      2000    0.048   1       8       NULL-NULL
>>>>>>> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000109
>>>>>>>      2000    0.037   1       9       NULL-NULL
>>>>>>> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000110
>>>>>>>      2000    0.042   1       10      NULL-NULL
>>>>>>> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
>>>>> 20000111
>>>>>>>      2000    0.027   1       11      NULL-NULL
>>>>>>> 


From percent||101 @end|ng |rom gm@||@com  Wed Jun 19 18:49:42 2019
From: percent||101 @end|ng |rom gm@||@com (=?UTF-8?Q?Pedro_p=C3=A1ramo?=)
Date: Wed, 19 Jun 2019 18:49:42 +0200
Subject: [R] Plot historical data
Message-ID: <CAB-TgNsunOg_apy9B+43aByptqJwkfZUxCUuQ3fJ=vE9oWYPDA@mail.gmail.com>

Hi I am re discovering R and I need a help to make this plot, please let me
know if you can help me.

I want to EXTRACT FOR ONE HAND A TABLE WITH MEAN BY CENTER, STD DESV. BUT
my doubt is to plot by center in the same plot the empirical distribution
of cost by center

I want a plot or smooth plot replicating a gauss line distribution by
center. individual by center and one superposed by center and to save each
plot in a jpeg file,
?How shoul I compare distribution empirical line of center M with C?

Please help me this time





Center                      Cost

M 10000
M 3600
C 4500
CR 5000
M 3600
AV 1250
M 5000
C 2500
M 7500
B 3600
V 1650
M 6310,6
M 1450
C 1813,4
M 3600
M 2500
CR 2179,7
V 3600
M 7500
M 3600
G 6200
LP 3600
S 3000
M 7500
M 8000
M 9000
S 3600
M 2252,6
C 6758
V 1250
B 3600
M 2500
CR 7500
G 1250
B 3600
M 5000
G 1250
M 1797,5
M 1450
M 1200
M 3600
LP 3600
M 3600
T 2477,1
M 3600
B 7935
V 3600
T 1450
CAS 1380
COR 1250
V 5000
M 2367,8
C 8000
M 1250
B 1725,3
M 3600
M 0
BAL 6200
C 1250
G 1250
B 1380
M 1800
BAL 6200
M 3600

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Wed Jun 19 22:48:26 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 20 Jun 2019 08:48:26 +1200
Subject: [R] Regarding R doubt
In-Reply-To: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
References: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
Message-ID: <CABcYAdLof8LuxOvDX7ujcT9emYxXn0dROxEvYKsLNsC_YK9qEw@mail.gmail.com>

You did not say what your doubt about R was.
PL2.rasch has some class.
> class(PL2.rasch)
[1] 'Grofnigtz'   # or whatever
The summary function is really just a dispatcher.
> summary.Grofnigtz
... a listing comes out here ...

Or you could look in the source code of whatever package you are usin.


On Thu, 20 Jun 2019 at 00:25, shraak at outlook.com <shraak at outlook.com> wrote:

> Hello Team,
> I hope you are doing well.
> I have one doubt about backend functioning of R command.
> Currently I'm working on IRT analysis in python but this function is
> implemented in R and in R they have direct rasch model library but no such
> library in the Python.
>
> So I wanted to know that is there any way to find the math or formula
> behind the specific command of R language.
> for eg, summary(PL2.rasch)
> after this command you will directly get difficulty and discrimination
> values like mentioned below:
>
> Coefficients:
>                  value           std.err   z.vals
> Dffclt.V1    3.1135       9.8208  0.3170
> Dffclt.V2   -0.5157       0.8941 -0.5768
> Dffclt.V3   -1.3585       3.2062 -0.4237
> Dffclt.V4   -1.0032    8649.3103 -0.0001
> Dffclt.V5    0.0400    1350.8452  0.0000
>
> So is there any way to find out the math behind this summary command ?
>
> Thanks,
> Shreepad
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From reichm@@j m@iii@g oii sbcgiob@i@@et  Thu Jun 20 00:13:01 2019
From: reichm@@j m@iii@g oii sbcgiob@i@@et (reichm@@j m@iii@g oii sbcgiob@i@@et)
Date: Wed, 19 Jun 2019 17:13:01 -0500
Subject: [R] Separating Date and Time
Message-ID: <000401d526ec$298f1d40$7cad57c0$@sbcglobal.net>

R-Help

 

I'm using the following code to deparate the date and time components from a
date_time varaible as follows:

 

dt1$date <- format(as.POSIXct(dt1$date_time, format = "%m/%d/%Y %H:%M"),
"%Y-%m-%d")

dt1$time <- format(as.POSIXct(dt1$date_time, format = "%m/%d/%Y %H:%M"),
"%H:%M:%S")

 

But I end up with <chr> objects. What am I missing?

 

Jeff


	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu Jun 20 01:14:02 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 20 Jun 2019 09:14:02 +1000
Subject: [R] Separating Date and Time
In-Reply-To: <000401d526ec$298f1d40$7cad57c0$@sbcglobal.net>
References: <000401d526ec$298f1d40$7cad57c0$@sbcglobal.net>
Message-ID: <CA+8X3fVSw5OZcH2nL5_MPn5KpJcm9gUKTx8Gf_EKryVqbZwO4w@mail.gmail.com>

Hi Jeff,
Well, the output of "format" is character strings, so that is what you
are missing. I assume that you want to get two numeric values for each
date.

date1<-"06/20/2019 09:07"
> as.POSIXct(date1,format="%m/%d/%Y %H:%M")
[1] "2019-06-20 09:07:00 AEST"

day<-as.numeric(as.POSIXct(date1,format="%m/%d/%Y"))
day
[1] 1560952800
seconds<-as.numeric(as.POSIXct(date1,format="%m/%d/%Y %H:%M"))-day
seconds
[1] 32820

Jim

On Thu, Jun 20, 2019 at 8:13 AM <reichmanj at sbcglobal.net> wrote:
>
> R-Help
>
>
>
> I'm using the following code to deparate the date and time components from a
> date_time varaible as follows:
>
>
>
> dt1$date <- format(as.POSIXct(dt1$date_time, format = "%m/%d/%Y %H:%M"),
> "%Y-%m-%d")
>
> dt1$time <- format(as.POSIXct(dt1$date_time, format = "%m/%d/%Y %H:%M"),
> "%H:%M:%S")
>
>
>
> But I end up with <chr> objects. What am I missing?
>
>
>
> Jeff
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From phii m@iii@g oii phiiipsmith@c@  Thu Jun 20 03:23:40 2019
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Wed, 19 Jun 2019 21:23:40 -0400
Subject: [R] Colour for unique label with ggplot
Message-ID: <48f976762a4f0c66eaad765f257a6ae2@philipsmith.ca>

# RStudio version 1.1.463
# sessionInfo()
# R version 3.5.1 (2018-07-02)
# Platform: x86_64-apple-darwin15.6.0 (64-bit)
# Running under: macOS  10.14.5

# I am constructing a bar chart using ggplot, as in the example below.
# I want to highlight "Series 2" by colouring the bar red,
# with the other bars coloured blue. That works.
# I also want to colour the label "Series 2" (only) in red, but I have 
not
# been able to find a way to do that.
# Here is the example:

library(tidyverse)
# Test data
dta <- data.frame(dta_names=c("Series 1","Series 2","Series 3","Series 
4"),dta_values=c(0.5,1.3,-0.7,0.2))
dta$dta_names <- as.character(dta$dta_names) # convert from factor
# Bar chart
ggplot(dta,aes(x=dta_names,y=dta_values)) +
   geom_bar(stat="identity",fill="darkblue") +
   geom_bar(data=dta[2, ],stat="identity",aes(x=dta_names, y=dta_values), 
fill="red") +
   labs(title = "Example bar chart") +
   coord_flip()

# Any suggestions appreciated.


From @purd|e@@ @end|ng |rom gm@||@com  Thu Jun 20 04:35:52 2019
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Thu, 20 Jun 2019 14:35:52 +1200
Subject: [R] Plot historical data
In-Reply-To: <CAB-TgNsunOg_apy9B+43aByptqJwkfZUxCUuQ3fJ=vE9oWYPDA@mail.gmail.com>
References: <CAB-TgNsunOg_apy9B+43aByptqJwkfZUxCUuQ3fJ=vE9oWYPDA@mail.gmail.com>
Message-ID: <CAB8pepyNBzgPNYMfxsC8seGH6kYv-SvAmXcckGWu8oZmiP9pVQ@mail.gmail.com>

I'm not sure I understand exactly what you mean.

> I want to EXTRACT FOR ONE HAND A TABLE WITH MEAN BY CENTER, STD DESV.

Do you want a table giving the mean and sd of Cost, grouped by Center?

> I want a plot or smooth plot replicating a gauss line distribution by
> center.

Do you want one plot for each Center, showing the normal distribution of
Cost?
Or you want one plot for each Center, showing a kernel density estimate of
Cost?
Or you want one plot for each Center, showing the ECDF of Cost?
All are possible.

> and to save each plot in a jpeg file

I recommend PDF format.
(Vector graphics tend to have higher quality than raster graphics).
Are you sure you want JPEG format?

> How should I compare distribution empirical line of center M with C?

Do you want to compare the ECDF of Cost, for Center M and Center C?
If so, you can produce one plot, with both distributions.
Or you can plot each next to each other?
The first option is probably better, but you need to be careful with the
horizontal axis.

However, I'm wondering if you want a kernel density estimate?


Abs

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Thu Jun 20 07:11:49 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 20 Jun 2019 17:11:49 +1200
Subject: [R] Regarding R doubt
In-Reply-To: <BN6PR12MB1924422B1367E30CD3F2CC82DEE40@BN6PR12MB1924.namprd12.prod.outlook.com>
References: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
 <CABcYAdLof8LuxOvDX7ujcT9emYxXn0dROxEvYKsLNsC_YK9qEw@mail.gmail.com>
 <BN6PR12MB1924422B1367E30CD3F2CC82DEE40@BN6PR12MB1924.namprd12.prod.outlook.com>
Message-ID: <CABcYAdKxiStkpTgvn76-CqVUPbrQyfWjh0MwSz2cRT==xtmM6g@mail.gmail.com>

And PL.rasch has what class?
The manual for the 'ltm' package says that 'summary'
"[s]ummarizes the fit of either grm, ltm, rasch or tpm objects."

Download the sources from
https://cran.r-project.org/src/contrib/ltm_1.1-1.tar.gz
Unpack the sources.  Look at ltm/R/summary.rasch.R
as that *computes* the summary and ltm/R/print.summ.rasch.R
as that *prints* the summary.

R is a wonderful wonderful tool with a great community and many fine
statisticians
contributing code.  Statisticians are not software engineers, so it is no
reflection on the professional competence of the author to say that neither
of
these files has any comments.  On the other hand, the code is not very
complex.
The files are about one page each.

On Thu, 20 Jun 2019 at 15:49, shraak at outlook.com <shraak at outlook.com> wrote:

> *library(ltm)*
>
> *library(psych)*
>
>
>
> *setwd("C:/Users/Admin/Desktop/IRT_CatSim")*
>
>
>
> *irtdat<-read.csv("Fresh_r_2pl.csv",header=F)*
>
> *head(irtdat)*
>
> *PL2.rasch<-ltm(irtdat~z1)*
>
> *summary(PL2.rasch)*
>
>
>
> *plot(PL2.rasch,type=c("ICC"))*
>
> *plot(PL2.rasch,type=c("IIC"))*
>
>
>
>
>
> Above is the code,When I run *summary(PL2.rasch) *I will get the
> following table directly:
>
> Coefficients:
>
>
> *                 value           std.err   z.vals Dffclt.V1    3.1135
>    9.8208  0.3170 Dffclt.V2   -0.5157       0.8941 -0.5768*
>
>
>
>
> *? Discrm.V1   -1.3585       3.2062 -0.4237 Discrm.V1   -1.0032
> 8649.3103 -0.0001 **?*
>
>
>
> Working on Item response theory and I?m struggling at calculating above
> values manually.
>
> You will get this difficulty and discrimination values directly, I just
> want the simple formulas to calculate item difficulty and item
> discrimination.
>
> Also how they have calculated theta(ability) and scores at the backend of
> the code.
>
>
>
>
>
> Sent from Mail <https://go.microsoft.com/fwlink/?LinkId=550986> for
> Windows 10
>
>
> ------------------------------
> *From:* Richard O'Keefe <raoknz at gmail.com>
> *Sent:* Thursday, June 20, 2019 2:18:26 AM
> *To:* shraak at outlook.com
> *Cc:* r-help at r-project.org
> *Subject:* Re: [R] Regarding R doubt
>
> You did not say what your doubt about R was.
> PL2.rasch has some class.
> > class(PL2.rasch)
> [1] 'Grofnigtz'   # or whatever
> The summary function is really just a dispatcher.
> > summary.Grofnigtz
> ... a listing comes out here ...
>
> Or you could look in the source code of whatever package you are usin.
>
>
> On Thu, 20 Jun 2019 at 00:25, shraak at outlook.com <shraak at outlook.com>
> wrote:
>
>> Hello Team,
>> I hope you are doing well.
>> I have one doubt about backend functioning of R command.
>> Currently I'm working on IRT analysis in python but this function is
>> implemented in R and in R they have direct rasch model library but no such
>> library in the Python.
>>
>> So I wanted to know that is there any way to find the math or formula
>> behind the specific command of R language.
>> for eg, summary(PL2.rasch)
>> after this command you will directly get difficulty and discrimination
>> values like mentioned below:
>>
>> Coefficients:
>>                  value           std.err   z.vals
>> Dffclt.V1    3.1135       9.8208  0.3170
>> Dffclt.V2   -0.5157       0.8941 -0.5768
>> Dffclt.V3   -1.3585       3.2062 -0.4237
>> Dffclt.V4   -1.0032    8649.3103 -0.0001
>> Dffclt.V5    0.0400    1350.8452  0.0000
>>
>> So is there any way to find out the math behind this summary command ?
>>
>> Thanks,
>> Shreepad
>>
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Thu Jun 20 09:21:14 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 20 Jun 2019 10:21:14 +0300
Subject: [R] How to select max data according to week?
In-Reply-To: <E4519DC0-D304-40A4-96CD-FE91A7995B28@me.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQF0JfAgMquh0ahcb5yCw=kre9iO60saX=NfpTTkDV80w@mail.gmail.com>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
 <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
 <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>
 <CAGgJW77nYzOC5LR4oZvF=H6gerQCGwD=qnpn0StrPDeTXVw0Vw@mail.gmail.com>
 <E4519DC0-D304-40A4-96CD-FE91A7995B28@me.com>
Message-ID: <CAGgJW76r-jO+exQ4Yz2qcy8Azk32h+Oija4u0RFx09piJx=ZTA@mail.gmail.com>

Marc - very nice.

On Wed, Jun 19, 2019 at 6:30 PM Marc Schwartz <marc_schwartz at me.com> wrote:

> Hi All,
>
> Is there a reason that the following was not considered?
>
> > DF
>          Date O3_Conc
> 1  2000-01-01   0.033
> 2  2000-01-02   0.023
> 3  2000-01-03   0.025
> 4  2000-01-04   0.041
> 5  2000-01-05   0.063
> 6  2000-01-06   0.028
> 7  2000-01-07   0.068
> 8  2000-01-08   0.048
> 9  2000-01-09   0.037
> 10 2000-01-10   0.042
> 11 2000-01-11   0.027
> 12 2000-01-12   0.035
> 13 2000-01-13   0.063
> 14 2000-01-14   0.035
> 15 2000-01-15   0.042
> 16 2000-01-16   0.028
>
> > str(DF)
> 'data.frame':   16 obs. of  2 variables:
>  $ Date   : Date, format: "2000-01-01" ...
>  $ O3_Conc: num  0.033 0.023 0.025 0.041 0.063 0.028 0.068 0.048 0.037
> 0.042 ...
>
>
> > aggregate(O3_Conc ~ cut(Date, breaks = "14 days"), data = DF, max)
>   cut(Date, breaks = "14 days") O3_Conc
> 1                    2000-01-01   0.068
> 2                    2000-01-15   0.042
>
>
> See ?cut.Date
>
> Note that there is an error in Aisyah's original post, in that the value
> for the max concentration in the second 14 day window is 0.042, not 0.061.
>
> Also, if one wanted to use actual calendar weeks, with a week starting on
> Sunday, as opposed to 14 day windows starting from the minimum date, you
> could use:
>
> > aggregate(O3_Conc ~ cut(Date, breaks = "2 weeks", start.on.monday =
> FALSE), data = DF, max)
>   cut(Date, breaks = "2 weeks", start.on.monday = FALSE) O3_Conc
> 1                                             1999-12-26   0.068
> 2                                             2000-01-09   0.063
>
>
> If desired, you could pre-create a column in the DF with the result of
> cut():
>
> DF$TimeStartDays <- cut(DF$Date, breaks = "14 days")
> DF$TimeStartWks <- cut(DF$Date, breaks = "2 weeks", start.on.monday =
> FALSE)
>
> > DF
>          Date O3_Conc TimeStartDays TimeStartWks
> 1  2000-01-01   0.033    2000-01-01   1999-12-26
> 2  2000-01-02   0.023    2000-01-01   1999-12-26
> 3  2000-01-03   0.025    2000-01-01   1999-12-26
> 4  2000-01-04   0.041    2000-01-01   1999-12-26
> 5  2000-01-05   0.063    2000-01-01   1999-12-26
> 6  2000-01-06   0.028    2000-01-01   1999-12-26
> 7  2000-01-07   0.068    2000-01-01   1999-12-26
> 8  2000-01-08   0.048    2000-01-01   1999-12-26
> 9  2000-01-09   0.037    2000-01-01   2000-01-09
> 10 2000-01-10   0.042    2000-01-01   2000-01-09
> 11 2000-01-11   0.027    2000-01-01   2000-01-09
> 12 2000-01-12   0.035    2000-01-01   2000-01-09
> 13 2000-01-13   0.063    2000-01-01   2000-01-09
> 14 2000-01-14   0.035    2000-01-01   2000-01-09
> 15 2000-01-15   0.042    2000-01-15   2000-01-09
> 16 2000-01-16   0.028    2000-01-15   2000-01-09
>
> and then use:
>
> > aggregate(O3_Conc ~ TimeStartDays, data = DF, max)
>   TimeStartDays O3_Conc
> 1    2000-01-01   0.068
> 2    2000-01-15   0.042
>
> > aggregate(O3_Conc ~ TimeStartWks, data = DF, max)
>   TimeStartWks O3_Conc
> 1   1999-12-26   0.068
> 2   2000-01-09   0.063
>
>
> Regards,
>
> Marc Schwartz
>
>
>
> > On Jun 19, 2019, at 10:45 AM, Eric Berger <ericjberger at gmail.com> wrote:
> >
> > I just realized that my method as written only works if the entire date
> > range is within a single calendar year.
> > Here is a revised version that should handle the general case.
> >
> > In this version I assume that the conversion from the original numbers to
> > dates has already been done
> > e.g. it can be done using ymd() as I showed before
> >
> > library(dplyr)
> > library(lubridate)
> >
> > ## create some example data for 36 months from 2010
> > d <- seq(from=as.Date("2010-01-01"),to=as.Date("2012-12-31"),by="1 day")
> > conc <- runif(length(d)) # concentrations
> > df <- data.frame( dt=d, conc=conc)
> > df2 <- dplyr::mutate( df, wkpair=as.integer(floor((0:(nrow(df)-1))/14)) )
> > df3 <- dplyr::group_by(df2,wkpair) %>%
> >       dplyr::summarise(from=min(dt), to=max(dt), maxconc=max(conc)) %>%
> >       dplyr::select(from,to,maxconc)
> > df3
> >
> > # A tibble: 79 x 3
> >   from       to         maxconc
> >   <date>     <date>       <dbl>
> > 1 2010-01-01 2010-01-14   0.928
> > 2 2010-01-15 2010-01-28   0.834
> > 3 2010-01-29 2010-02-11   0.989
> > 4 2010-02-12 2010-02-25   0.983
> > 5 2010-02-26 2010-03-11   0.898
> > 6 2010-03-12 2010-03-25   0.864
> > 7 2010-03-26 2010-04-08   0.920
> > 8 2010-04-09 2010-04-22   0.925
> > 9 2010-04-23 2010-05-06   0.998
> > 10 2010-05-07 2010-05-20   0.761
> > # ... with 69 more rows
> >
> > On Wed, Jun 19, 2019 at 5:08 PM Eric Berger <ericjberger at gmail.com>
> wrote:
> >
> >> Hi Bert,
> >> I agree that our interpretation is slightly different, which is why I
> >> wrote:
> >> "If one can take the actual week of the year as an acceptable definition
> >> of week, then here's my approach."
> >>
> >> Regards,
> >> Eric
> >>
> >> On Wed, Jun 19, 2019 at 5:04 PM Bert Gunter <bgunter.4567 at gmail.com>
> >> wrote:
> >>
> >>> Eric:
> >>>
> >>> I believe you're doing something different than I did. I broke up each
> >>> month into biweekly periods, 2+ per month. You seem to be grouping the
> >>> overall entire period into biweekly intervals -- apologies if I'm
> wrong,
> >>> but if I understood correctly, that's not the same thing. I do not know
> >>> which of us -- if either -- has interpreted her query correctly.
> >>>
> >>> Cheers,
> >>> Bert
> >>>
> >>> On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com>
> >>> wrote:
> >>>
> >>>> Hi Siti,
> >>>> I didn't test Bert's code but I assume it's fine. :-)
> >>>> I would take a different approach than Bert. I prefer to use a package
> >>>> such as lubridate to handle the date wrangling, and a package such as
> dplyr
> >>>> to handle the grouping and max extraction.
> >>>> It may be overkill for this problem, but these are great packages to
> >>>> become familiar with.
> >>>> If one can take the actual week of the year as an acceptable
> definition
> >>>> of week, then here's my approach.
> >>>>
> >>>> library(lubridate)
> >>>> library(dplyr)
> >>>>
> >>>> # Step 1: start with Bert's code to create sample data
> >>>> ## create some example data for 3 months in 2000
> >>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> >>>> conc <- runif(length(d)) # concentrations
> >>>>
> >>>> # Step 2: collect the data into a data frame
> >>>> df <- data.frame( dt=d, conc=conc)
> >>>>
> >>>> # Step 3: use lubridate's ymd() function to parse the dates, its
> week()
> >>>> function to identify the week of the year, and define the new column
> >>>> 'wkpair' that groups the weeks 2-at-a-time
> >>>> df2 <- dplyr::mutate( df,
> >>>> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
> >>>>
> >>>> # Step 4: group by the wkpair and use dplyr's summarise to get the
> info
> >>>> you wanted
> >>>> df3 <- dplyr::group_by(df2,wkpair) %>%
> >>>>          dplyr::summarise( from=min(dt), to=max(dt),
> maxconc=max(conc))
> >>>> %>%
> >>>>          dplyr::select(from,to,maxconc)
> >>>>
> >>>> df3
> >>>>
> >>>> # A tibble: 6 x 3
> >>>>      from       to maxconc
> >>>>     <dbl>    <dbl>   <dbl>
> >>>> 1 20000113 20000121   0.963
> >>>> 2 20000122 20000204   0.988
> >>>> 3 20000205 20000218   0.939
> >>>> 4 20000219 20000303   0.883
> >>>> 5 20000304 20000317   0.863
> >>>> 6 20000318 20000330   0.765
> >>>>
> >>>> HTH,
> >>>> Eric
> >>>>
> >>>>
> >>>>
> >>>> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
> >>>> wrote:
> >>>>
> >>>>> My apologies. I negected to cc r-help. -- Bert
> >>>>>
> >>>>>
> >>>>>
> >>>>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com
> >
> >>>>> wrote:
> >>>>>
> >>>>>>
> >>>>>> I assume that 20000215 means year 2000, month 2, day 15.
> >>>>>> I also assume that you want maxes for the first 2 weeks of a month,
> >>>>> the
> >>>>>> second 2 weeks, and any remaining days.
> >>>>>> I also assume that this might be desired for arbitrary numbers of
> >>>>> years,
> >>>>>> months, and days.
> >>>>>>
> >>>>>> The following is one way to do this. As it's a slight pain to cut
> and
> >>>>>> paste email data as text into R (use ?dput or R code to run to
> provide
> >>>>>> example data instead), I just made up my own. You'll have to do the
> >>>>>> following within a data frame through extraction or by using with()
> of
> >>>>>> course.
> >>>>>>
> >>>>>> ## create some example data for 3 months in 2000
> >>>>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> >>>>>> conc <- runif(length(d)) # concentrations
> >>>>>>
> >>>>>> ## convert the date to character to extract year, month, and day
> >>>>>> cdate <- as.character(d)
> >>>>>> ## use substr to to the extraction
> >>>>>> year <- substr(cdate,1,4)
> >>>>>> mon <- substr(cdate,5,6)
> >>>>>> day <- substr(cdate, 7,8)
> >>>>>>
> >>>>>> ## convert day to numeric and use cut() to group into the biweekly
> >>>>> periods.
> >>>>>> d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
> >>>>>>
> >>>>>> ## Use tapply() to create your desired table of results.
> >>>>>> tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
> >>>>>>
> >>>>>> ## Results
> >>>>>>
> >>>>>> , , 01
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.7357389   0.9655391 0.7962965
> >>>>>>
> >>>>>> , , 02
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.8193979   0.9487207        NA
> >>>>>>
> >>>>>> , , 03
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.9718919   0.9997093  0.168659
> >>>>>>
> >>>>>>
> >>>>>> Cheers,
> >>>>>> Bert
> >>>>>>
> >>>>>> Bert Gunter
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
> >>>>>> aisyahzakaria at unimap.edu.my> wrote:
> >>>>>>
> >>>>>>> Hi,
> >>>>>>>
> >>>>>>> I'm Aisyah..I have a problem to run my R coding. I want to select
> >>>>> maximum
> >>>>>>> value according to week.
> >>>>>>>
> >>>>>>> here is my data
> >>>>>>>
> >>>>>>> Date          O3_Conc
> >>>>>>> 20000101        0.033
> >>>>>>> 20000102        0.023
> >>>>>>> 20000103        0.025
> >>>>>>> 20000104        0.041
> >>>>>>> 20000105        0.063
> >>>>>>> 20000106        0.028
> >>>>>>> 20000107        0.068
> >>>>>>> 20000108        0.048
> >>>>>>> 20000109        0.037
> >>>>>>> 20000110        0.042
> >>>>>>> 20000111        0.027
> >>>>>>> 20000112        0.035
> >>>>>>> 20000113        0.063
> >>>>>>> 20000114        0.035
> >>>>>>> 20000115        0.042
> >>>>>>> 20000116        0.028
> >>>>>>>
> >>>>>>> I want to find the max value from column O3_Conc for only 14 days
> >>>>> that
> >>>>>>> refer to biweekly in month. And the next 14 days for the max value.
> >>>>>>>
> >>>>>>> I hope that I can get the result like this:
> >>>>>>>
> >>>>>>> Date                     Max O3_Conc
> >>>>>>> 20000101 - 20000114        0.068
> >>>>>>> 20000115 - 20000129        0.061
> >>>>>>>
> >>>>>>> I try many coding but still unavailable.
> >>>>>>>
> >>>>>>> this example my coding
> >>>>>>>
> >>>>>>> library(plyr)
> >>>>>>>      data.frame(CA0003)
> >>>>>>>
> >>>>>>>      # format weeks as per requirement (replace "00" with "52" and
> >>>>>>> adjust corresponding year)
> >>>>>>>      tmp <- list()
> >>>>>>>      tmp$y <- format(df$Date, format="%Y")
> >>>>>>>      tmp$w <- format(df$Date, format="%U")
> >>>>>>>      tmp$y[tmp$w=="00"] <-
> >>>>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
> >>>>>>> 14)
> >>>>>>>      tmp$w[tmp$w=="00"] <- "884"
> >>>>>>>      df$week <- paste(tmp$y, tmp$w, sep = "-")
> >>>>>>>
> >>>>>>>      # get summary
> >>>>>>>      df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
> >>>>>>>
> >>>>>>>      # include week ending date
> >>>>>>>      tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
> >>>>> ==x,
> >>>>>>> "O3_Conc"])[[1]])
> >>>>>>>      df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
> >>>>>>>
> >>>>>>> output
> >>>>>>>        Site_Id Site_Location
> >>>>> Date
> >>>>>>>      Year    O3_Conc Month   Day     week
> >>>>>>> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000101
> >>>>>>>      2000    0.033   1       1       NULL-NULL
> >>>>>>> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000102
> >>>>>>>      2000    0.023   1       2       NULL-NULL
> >>>>>>> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000103
> >>>>>>>      2000    0.025   1       3       NULL-NULL
> >>>>>>> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000104
> >>>>>>>      2000    0.041   1       4       NULL-NULL
> >>>>>>> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000105
> >>>>>>>      2000    0.063   1       5       NULL-NULL
> >>>>>>> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000106
> >>>>>>>      2000    0.028   1       6       NULL-NULL
> >>>>>>> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000107
> >>>>>>>      2000    0.068   1       7       NULL-NULL
> >>>>>>> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000108
> >>>>>>>      2000    0.048   1       8       NULL-NULL
> >>>>>>> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000109
> >>>>>>>      2000    0.037   1       9       NULL-NULL
> >>>>>>> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000110
> >>>>>>>      2000    0.042   1       10      NULL-NULL
> >>>>>>> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000111
> >>>>>>>      2000    0.027   1       11      NULL-NULL
> >>>>>>>
>
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Thu Jun 20 10:03:09 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 20 Jun 2019 11:03:09 +0300
Subject: [R] Colour for unique label with ggplot
In-Reply-To: <48f976762a4f0c66eaad765f257a6ae2@philipsmith.ca>
References: <48f976762a4f0c66eaad765f257a6ae2@philipsmith.ca>
Message-ID: <CAGgJW77yt0AixcYA0AuvoJx5uZ2yinrYnUYhySKtPh9B8L8fJQ@mail.gmail.com>

Hi Phil,

Try this

library(tidyverse)
# Test data
dta <- data.frame(dta_names=c("Series 1","Series 2","Series 3","Series 4"),
dta_values=c(0.5,1.3,-0.7,0.2))
dta$dta_names <- as.character(dta$dta_names) # convert from factor

*dta$labelColor <- c("black","red","black","black")*
# Bar chart
ggplot(dta,aes(x=dta_names,y=dta_values)) +
  geom_bar(stat="identity",fill="darkblue") +
  geom_bar(data=dta[2, ],stat="identity",aes(x=dta_names, y=dta_values),
           fill="red") +
  *theme(axis.text.y = element_text(colour=dta$labelColor)) +*
  labs(title = "Example bar chart") +
  coord_flip()

I did not know how to do this. I did a search on

ggplot format axis labels categorical data different each category

and the first result was the following URL which provided the necessary
information

https://stackoverflow.com/questions/38862303/customize-ggplot2-axis-labels-with-different-colors


HTH,
Eric


On Thu, Jun 20, 2019 at 4:24 AM <phil at philipsmith.ca> wrote:

> # RStudio version 1.1.463
> # sessionInfo()
> # R version 3.5.1 (2018-07-02)
> # Platform: x86_64-apple-darwin15.6.0 (64-bit)
> # Running under: macOS  10.14.5
>
> # I am constructing a bar chart using ggplot, as in the example below.
> # I want to highlight "Series 2" by colouring the bar red,
> # with the other bars coloured blue. That works.
> # I also want to colour the label "Series 2" (only) in red, but I have
> not
> # been able to find a way to do that.
> # Here is the example:
>
> library(tidyverse)
> # Test data
> dta <- data.frame(dta_names=c("Series 1","Series 2","Series 3","Series
> 4"),dta_values=c(0.5,1.3,-0.7,0.2))
> dta$dta_names <- as.character(dta$dta_names) # convert from factor
> # Bar chart
> ggplot(dta,aes(x=dta_names,y=dta_values)) +
>    geom_bar(stat="identity",fill="darkblue") +
>    geom_bar(data=dta[2, ],stat="identity",aes(x=dta_names, y=dta_values),
> fill="red") +
>    labs(title = "Example bar chart") +
>    coord_flip()
>
> # Any suggestions appreciated.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From phii m@iii@g oii phiiipsmith@c@  Thu Jun 20 13:24:34 2019
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Thu, 20 Jun 2019 07:24:34 -0400
Subject: [R] Colour for unique label with ggplot
In-Reply-To: <CAGgJW77yt0AixcYA0AuvoJx5uZ2yinrYnUYhySKtPh9B8L8fJQ@mail.gmail.com>
References: <48f976762a4f0c66eaad765f257a6ae2@philipsmith.ca>
 <CAGgJW77yt0AixcYA0AuvoJx5uZ2yinrYnUYhySKtPh9B8L8fJQ@mail.gmail.com>
Message-ID: <dcad83a5782253d54b16b6ea60490146@philipsmith.ca>

Thank you so much Eric. I had tried searching stackoverflow too, but I 
could not find the right way to word the query.

Philip

On 2019-06-20 04:03, Eric Berger wrote:
> Hi Phil,
> 
> Try this
> 
> library(tidyverse)
> # Test data
> dta <- data.frame(dta_names=c("Series 1","Series 2","Series 3","Series
> 4"), dta_values=c(0.5,1.3,-0.7,0.2))
> dta$dta_names <- as.character(dta$dta_names) # convert from factor
> 
> DTA$LABELCOLOR <- C("BLACK","RED","BLACK","BLACK")
> # Bar chart
> ggplot(dta,aes(x=dta_names,y=dta_values)) +
>   geom_bar(stat="identity",fill="darkblue") +
>   geom_bar(data=dta[2, ],stat="identity",aes(x=dta_names,
> y=dta_values),
>            fill="red") +
>   THEME(AXIS.TEXT.Y = ELEMENT_TEXT(COLOUR=DTA$LABELCOLOR)) +
>   labs(title = "Example bar chart") +
>   coord_flip()
> 
> I did not know how to do this. I did a search on
> 
> ggplot format axis labels categorical data different each category
> 
> and the first result was the following URL which provided the
> necessary information
> 
> https://stackoverflow.com/questions/38862303/customize-ggplot2-axis-labels-with-different-colors
> 
> 
> HTH,
> Eric
> 
> On Thu, Jun 20, 2019 at 4:24 AM <phil at philipsmith.ca> wrote:
> 
>> # RStudio version 1.1.463
>> # sessionInfo()
>> # R version 3.5.1 (2018-07-02)
>> # Platform: x86_64-apple-darwin15.6.0 (64-bit)
>> # Running under: macOS  10.14.5
>> 
>> # I am constructing a bar chart using ggplot, as in the example
>> below.
>> # I want to highlight "Series 2" by colouring the bar red,
>> # with the other bars coloured blue. That works.
>> # I also want to colour the label "Series 2" (only) in red, but I
>> have
>> not
>> # been able to find a way to do that.
>> # Here is the example:
>> 
>> library(tidyverse)
>> # Test data
>> dta <- data.frame(dta_names=c("Series 1","Series 2","Series
>> 3","Series
>> 4"),dta_values=c(0.5,1.3,-0.7,0.2))
>> dta$dta_names <- as.character(dta$dta_names) # convert from factor
>> # Bar chart
>> ggplot(dta,aes(x=dta_names,y=dta_values)) +
>> geom_bar(stat="identity",fill="darkblue") +
>> geom_bar(data=dta[2, ],stat="identity",aes(x=dta_names,
>> y=dta_values),
>> fill="red") +
>> labs(title = "Example bar chart") +
>> coord_flip()
>> 
>> # Any suggestions appreciated.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From @steii m@iii@g oii gm@ii@com  Thu Jun 20 17:04:27 2019
From: @steii m@iii@g oii gm@ii@com (@steii m@iii@g oii gm@ii@com)
Date: Thu, 20 Jun 2019 11:04:27 -0400
Subject: [R] How to change x axes labels in plot_ly?
Message-ID: <016501d52779$75259120$5f70b360$@gmail.com>

Hi everyone,

 

I have been struggling with this for a while, and I hope someone can give me
some advice.

I have built a line chart that shows a cumulated value of number of
transactions, and there are 2 lines on the chart comparing last year with
this year.

The way I matched last year's data with this year's data is by the month and
day (without the year), so my data looks like this:


Month-Day

FiscalYear_Days

Last_year

This_Year


05-01

0

16

10


05-02

1

17

14


05-03

2

22

18


05-04

3

25

18

 

chart_data <- matrix(c("05-01", "05-02", "05-03", "05-04",

                "0", "1", "2", "3",

                "16", "17", "22", "25",

                "10", "14", "18", "18"),

                nrow=4, ncol=4, dimnames=list(c("A","B","C","D"),
c("Month-Day","FiscalYear_Days", "Last_year", "This_Year")))

 

Since our fiscal year doesn't start on January 1st, I had to introduce this
column called "FiscalYear_Days", which is the number of days passed since
1st day of fiscal year, and matched last year and current year by that
instead. Otherwise I had a problem with plot_ly() showing the chart starting
with January 1st on the left.

 

Now I figured out a way to change the order of the x axis labels to make it
based on the "FiscalYear_Days" instead. This is a simplified plot:

plot_ly(renewals_chart_data, 

        x = ~`Month-Day`,

        y = ~Last_Year,

        type = 'scatter',

        mode = 'lines'

) %>% 

  layout(xaxis = list(categoryarray = renewals_chart_data$FiscalYear_Days,
categoryorder = "array"))

 

My problem now is that if the period is longer than 1 year, under Month-Day
column I will have some repeating values starting from following year May
1st (05-01, 05-02, etc.), and the plotly chart shows an increasing line that
returns back to the left side when reaches the next year's May 1st.

How can I make the line to continue on the right?

If I change plotly to show the x axis based on "FiscalYear_Days", the line
is right, but I want at the bottom to show the month and day as labels:

plot_ly(renewals_chart_data, 

        x = ~`FiscalYear_Days`,

        y = ~Last_Year,

        type = 'scatter',

        mode = 'lines'

) %>% 

  layout(xaxis = list(categoryarray = renewals_chart_data$FiscalYear_Days,
categoryorder = "array"))

 

Is it possible to just change the x axis label values?

 

Thanks a lot,

Steven


From Redondo5_447 @end|ng |rom hotm@||@com  Thu Jun 20 11:15:12 2019
From: Redondo5_447 @end|ng |rom hotm@||@com (Vangelis Litos)
Date: Thu, 20 Jun 2019 09:15:12 +0000
Subject: [R] Find the max entry in column 2 - that satisfies a condition
 given a fixed entry in column 1
Message-ID: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>

I am using R and I created based on a vector x, a grid (named: plain) - where zero is included. This gives me a 9x2 ``matrix''.

> x_t = cbind(c(1),c(2));
> x = t(x_t);

> plain = expand.grid (sort (unique (c (0, x))), sort (unique (c (0, x))));

My aim is to focus on column 1 and take i.e the first entry (then the second, the third entry etc through a loop) of the unique (c (0, x)) vector (==0) [rows 1, 4 and 7] and find the maximum value (entry) in the second column of the matrix that satisfies a condition.

Let say that the condition is satisfied when at column 2 the value is 2. That is I want row 7 to be selected

Then I want to create a column vector b (9x1) that has zero everywhere apart from row 7.

Can anybody help me with this?

Thank you in advance.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Jun 21 02:08:32 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 20 Jun 2019 17:08:32 -0700
Subject: [R] Find the max entry in column 2 - that satisfies a condition
 given a fixed entry in column 1
In-Reply-To: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
References: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
Message-ID: <CAGxFJbSnXXXY0x_3B1NsKQOz6yqYGUtd3NVpycfFLkh8ukrRwg@mail.gmail.com>

"Can anybody help me with this?"

Probably not. Your explanation is as clear as mud -- to me anyway. Showing
us the actual data or code of a simple example, what you want to do and
what you have tried, and what you would like to get would likely help
(assuming it's not just me being dense, always a distinct possibility!).

And please *post in **plain text** not html* to avoid opaque text
formatting in this plain text list.

Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jun 20, 2019 at 4:50 PM Vangelis Litos <Redondo5_447 at hotmail.com>
wrote:

> I am using R and I created based on a vector x, a grid (named: plain) -
> where zero is included. This gives me a 9x2 ``matrix''.
>
> > x_t = cbind(c(1),c(2));
> > x = t(x_t);
>
> > plain = expand.grid (sort (unique (c (0, x))), sort (unique (c (0, x))));
>
> My aim is to focus on column 1 and take i.e the first entry (then the
> second, the third entry etc through a loop) of the unique (c (0, x)) vector
> (==0) [rows 1, 4 and 7] and find the maximum value (entry) in the second
> column of the matrix that satisfies a condition.
>
> Let say that the condition is satisfied when at column 2 the value is 2.
> That is I want row 7 to be selected
>
> Then I want to create a column vector b (9x1) that has zero everywhere
> apart from row 7.
>
> Can anybody help me with this?
>
> Thank you in advance.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jun 21 07:47:15 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 21 Jun 2019 06:47:15 +0100
Subject: [R] Find the max entry in column 2 - that satisfies a condition
 given a fixed entry in column 1
In-Reply-To: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
References: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
Message-ID: <2d3ffc28-28d7-ef46-b828-0198b22a00ed@sapo.pt>

Hello,

Inline.

?s 10:15 de 20/06/19, Vangelis Litos escreveu:
> I am using R and I created based on a vector x, a grid (named: plain) - where zero is included. This gives me a 9x2 ``matrix''.
> 
>> x_t = cbind(c(1),c(2));
>> x = t(x_t);

This code works but there are several issues with it.

1) c(1) is exactly the same as just 1. Try running

identical(c(1), 1)

2) You end the line with a semi-colon. This is not needed.
In fact,

the semi-colon is the INSTRUCTIONS SEPARATOR

so what you end up with is 2 instructions, one on the left of the ; and 
the other, the NULL instruction, on the right. What the parser sees and 
processes is

instruction;NULL

3) Then in the next line you transpose the matrix you have created. Much 
  simpler:

y <- rbind(1, 2)
identical(x, y)    # TRUE


> 
>> plain = expand.grid (sort (unique (c (0, x))), sort (unique (c (0, x))));


4) Now you combine the matrix you have created with a new element, 0.

c(0, x)

The output of this is no longer a matrix, it's a vector without the dim 
attribute.

identical(c(0, x), c(0, 1, 2))    # TRUE


> 
> My aim is to focus on column 1 and take i.e the first entry (then the second, the third entry etc through a loop) of the unique (c (0, x)) vector (==0) [rows 1, 4 and 7] and find the maximum value (entry) in the second column of the matrix that satisfies a condition.
> 
> Let say that the condition is satisfied when at column 2 the value is 2. That is I want row 7 to be selected
> 


The following function does this.


fun <- function(X, val){
   u <- sort(unique(X))
   plain <- expand.grid(u, u)
   w <- which(plain[, 1] == val)
   w[which.max(plain[w, 2])]
}

fun(c(0, x), 0)
#[1] 7
fun(c(x, 0, x), 0)
#[1] 7


> Then I want to create a column vector b (9x1) that has zero everywhere apart from row 7.


And what would be the non-zero value? The max in column 2?

b <- numeric(nrow(plain))    # creates a vector of 9 zeros
i <- fun(c(0, x), 0)
b[i] <- new_value

# or maybe

b[i] <- plain[i, 2]


The first and the last instructions have an obvious problem, 'plain' 
only exists inside the function fun(), it will have to be created elsewhere.


Hope this helps,

Rui Barradas
> 
> Can anybody help me with this?
> 
> Thank you in advance.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jun 21 08:23:15 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 21 Jun 2019 07:23:15 +0100
Subject: [R] Find the max entry in column 2 - that satisfies a condition
 given a fixed entry in column 1
In-Reply-To: <2d3ffc28-28d7-ef46-b828-0198b22a00ed@sapo.pt>
References: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
 <2d3ffc28-28d7-ef46-b828-0198b22a00ed@sapo.pt>
Message-ID: <d33a82c1-8946-6670-7a40-f052cc81aa38@sapo.pt>

Hello,

Thinking again, if all you want is vector b the following function fun2 
will do it without having to create plain. Less memory and (much) faster.

fun2 <- function(X, val){
   u <- sort(unique(X))
   n <- length(u)
   b <- numeric(n^2)
   b[n*(n - 1) + match(val, u)] <- u[n]
   b
}

fun2(c(0, x), 0)
fun2(c(0, x), 1)
fun2(c(0, x), 2)


Hope this helps,

Rui Barradas

?s 06:47 de 21/06/19, Rui Barradas escreveu:
> Hello,
> 
> Inline.
> 
> ?s 10:15 de 20/06/19, Vangelis Litos escreveu:
>> I am using R and I created based on a vector x, a grid (named: plain) 
>> - where zero is included. This gives me a 9x2 ``matrix''.
>>
>>> x_t = cbind(c(1),c(2));
>>> x = t(x_t);
> 
> This code works but there are several issues with it.
> 
> 1) c(1) is exactly the same as just 1. Try running
> 
> identical(c(1), 1)
> 
> 2) You end the line with a semi-colon. This is not needed.
> In fact,
> 
> the semi-colon is the INSTRUCTIONS SEPARATOR
> 
> so what you end up with is 2 instructions, one on the left of the ; and 
> the other, the NULL instruction, on the right. What the parser sees and 
> processes is
> 
> instruction;NULL
> 
> 3) Then in the next line you transpose the matrix you have created. Much 
>  ?simpler:
> 
> y <- rbind(1, 2)
> identical(x, y)??? # TRUE
> 
> 
>>
>>> plain = expand.grid (sort (unique (c (0, x))), sort (unique (c (0, 
>>> x))));
> 
> 
> 4) Now you combine the matrix you have created with a new element, 0.
> 
> c(0, x)
> 
> The output of this is no longer a matrix, it's a vector without the dim 
> attribute.
> 
> identical(c(0, x), c(0, 1, 2))??? # TRUE
> 
> 
>>
>> My aim is to focus on column 1 and take i.e the first entry (then the 
>> second, the third entry etc through a loop) of the unique (c (0, x)) 
>> vector (==0) [rows 1, 4 and 7] and find the maximum value (entry) in 
>> the second column of the matrix that satisfies a condition.
>>
>> Let say that the condition is satisfied when at column 2 the value is 
>> 2. That is I want row 7 to be selected
>>
> 
> 
> The following function does this.
> 
> 
> fun <- function(X, val){
>  ? u <- sort(unique(X))
>  ? plain <- expand.grid(u, u)
>  ? w <- which(plain[, 1] == val)
>  ? w[which.max(plain[w, 2])]
> }
> 
> fun(c(0, x), 0)
> #[1] 7
> fun(c(x, 0, x), 0)
> #[1] 7
> 
> 
>> Then I want to create a column vector b (9x1) that has zero everywhere 
>> apart from row 7.
> 
> 
> And what would be the non-zero value? The max in column 2?
> 
> b <- numeric(nrow(plain))??? # creates a vector of 9 zeros
> i <- fun(c(0, x), 0)
> b[i] <- new_value
> 
> # or maybe
> 
> b[i] <- plain[i, 2]
> 
> 
> The first and the last instructions have an obvious problem, 'plain' 
> only exists inside the function fun(), it will have to be created 
> elsewhere.
> 
> 
> Hope this helps,
> 
> Rui Barradas
>>
>> Can anybody help me with this?
>>
>> Thank you in advance.
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Fri Jun 21 18:10:19 2019
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Sat, 22 Jun 2019 00:10:19 +0800
Subject: [R] Problem with random numbers/seed
In-Reply-To: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
Message-ID: <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>

Dear all,
I did all this work with older R (R-3.5.3.patched and older)
but now with R3.6 I cannot replicate the results.
Below I sample 60 observations from 1:500 using the sample command with 
a random seed of 123. I get different results. Advice appreciated.
Steven Yen

 > # Run under R-3.6.0
 > x<-1:500
 > set.seed(12345671)
 > j<-sample(1:length(x),size=60); y<-x[j]
 > summary(y)
 ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
 ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0

 > # Run under R-3.5.3.patched
 > x<-1:500
 > set.seed(12345671)
 > j<-sample(1:length(x),size=60); y<-x[j]
 > summary(y)
 ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
 ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0

-- 
styen at ntu.edu.tw (S.T. Yen)


	[[alternative HTML version deleted]]


From shr@@k m@iii@g oii outiook@com  Thu Jun 20 05:49:45 2019
From: shr@@k m@iii@g oii outiook@com (shr@@k m@iii@g oii outiook@com)
Date: Thu, 20 Jun 2019 03:49:45 +0000
Subject: [R] Regarding R doubt
In-Reply-To: <CABcYAdLof8LuxOvDX7ujcT9emYxXn0dROxEvYKsLNsC_YK9qEw@mail.gmail.com>
References: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>,
 <CABcYAdLof8LuxOvDX7ujcT9emYxXn0dROxEvYKsLNsC_YK9qEw@mail.gmail.com>
Message-ID: <BN6PR12MB1924422B1367E30CD3F2CC82DEE40@BN6PR12MB1924.namprd12.prod.outlook.com>

library(ltm)
library(psych)

setwd("C:/Users/Admin/Desktop/IRT_CatSim")

irtdat<-read.csv("Fresh_r_2pl.csv",header=F)
head(irtdat)
PL2.rasch<-ltm(irtdat~z1)
summary(PL2.rasch)

plot(PL2.rasch,type=c("ICC"))
plot(PL2.rasch,type=c("IIC"))


Above is the code,When I run summary(PL2.rasch) I will get the following table directly:
Coefficients:
                 value           std.err   z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
?
Discrm.V1   -1.3585       3.2062 -0.4237
Discrm.V1   -1.0032    8649.3103 -0.0001
?

Working on Item response theory and I?m struggling at calculating above values manually.
You will get this difficulty and discrimination values directly, I just want the simple formulas to calculate item difficulty and item discrimination.
Also how they have calculated theta(ability) and scores at the backend of the code.


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Richard O'Keefe <raoknz at gmail.com>
Sent: Thursday, June 20, 2019 2:18:26 AM
To: shraak at outlook.com
Cc: r-help at r-project.org
Subject: Re: [R] Regarding R doubt

You did not say what your doubt about R was.
PL2.rasch has some class.
> class(PL2.rasch)
[1] 'Grofnigtz'   # or whatever
The summary function is really just a dispatcher.
> summary.Grofnigtz
... a listing comes out here ...

Or you could look in the source code of whatever package you are usin.


On Thu, 20 Jun 2019 at 00:25, shraak at outlook.com<mailto:shraak at outlook.com> <shraak at outlook.com<mailto:shraak at outlook.com>> wrote:
Hello Team,
I hope you are doing well.
I have one doubt about backend functioning of R command.
Currently I'm working on IRT analysis in python but this function is implemented in R and in R they have direct rasch model library but no such library in the Python.

So I wanted to know that is there any way to find the math or formula behind the specific command of R language.
for eg, summary(PL2.rasch)
after this command you will directly get difficulty and discrimination values like mentioned below:

Coefficients:
                 value           std.err   z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
Dffclt.V3   -1.3585       3.2062 -0.4237
Dffclt.V4   -1.0032    8649.3103 -0.0001
Dffclt.V5    0.0400    1350.8452  0.0000

So is there any way to find out the math behind this summary command ?

Thanks,
Shreepad



        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From shr@@k m@iii@g oii outiook@com  Thu Jun 20 07:35:52 2019
From: shr@@k m@iii@g oii outiook@com (shr@@k m@iii@g oii outiook@com)
Date: Thu, 20 Jun 2019 05:35:52 +0000
Subject: [R] Regarding R doubt
In-Reply-To: <CABcYAdKxiStkpTgvn76-CqVUPbrQyfWjh0MwSz2cRT==xtmM6g@mail.gmail.com>
References: <BN6PR12MB19240DE7C157763A2FF5DCB6DEE50@BN6PR12MB1924.namprd12.prod.outlook.com>
 <CABcYAdLof8LuxOvDX7ujcT9emYxXn0dROxEvYKsLNsC_YK9qEw@mail.gmail.com>
 <BN6PR12MB1924422B1367E30CD3F2CC82DEE40@BN6PR12MB1924.namprd12.prod.outlook.com>,
 <CABcYAdKxiStkpTgvn76-CqVUPbrQyfWjh0MwSz2cRT==xtmM6g@mail.gmail.com>
Message-ID: <BN6PR12MB19246F6D9F9E94C24E28836BDEE40@BN6PR12MB1924.namprd12.prod.outlook.com>

Thank you so much for the help !

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Richard O'Keefe <raoknz at gmail.com>
Sent: Thursday, June 20, 2019 10:41:49 AM
To: shraak at outlook.com
Cc: r-help at r-project.org
Subject: Re: [R] Regarding R doubt

And PL.rasch has what class?
The manual for the 'ltm' package says that 'summary'
"[s]ummarizes the fit of either grm, ltm, rasch or tpm objects."

Download the sources from https://cran.r-project.org/src/contrib/ltm_1.1-1.tar.gz
Unpack the sources.  Look at ltm/R/summary.rasch.R
as that *computes* the summary and ltm/R/print.summ.rasch.R
as that *prints* the summary.

R is a wonderful wonderful tool with a great community and many fine statisticians
contributing code.  Statisticians are not software engineers, so it is no
reflection on the professional competence of the author to say that neither of
these files has any comments.  On the other hand, the code is not very complex.
The files are about one page each.

On Thu, 20 Jun 2019 at 15:49, shraak at outlook.com<mailto:shraak at outlook.com> <shraak at outlook.com<mailto:shraak at outlook.com>> wrote:
library(ltm)
library(psych)

setwd("C:/Users/Admin/Desktop/IRT_CatSim")

irtdat<-read.csv("Fresh_r_2pl.csv",header=F)
head(irtdat)
PL2.rasch<-ltm(irtdat~z1)
summary(PL2.rasch)

plot(PL2.rasch,type=c("ICC"))
plot(PL2.rasch,type=c("IIC"))


Above is the code,When I run summary(PL2.rasch) I will get the following table directly:
Coefficients:
                 value           std.err   z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
?
Discrm.V1   -1.3585       3.2062 -0.4237
Discrm.V1   -1.0032    8649.3103 -0.0001
?

Working on Item response theory and I?m struggling at calculating above values manually.
You will get this difficulty and discrimination values directly, I just want the simple formulas to calculate item difficulty and item discrimination.
Also how they have calculated theta(ability) and scores at the backend of the code.


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Richard O'Keefe <raoknz at gmail.com<mailto:raoknz at gmail.com>>
Sent: Thursday, June 20, 2019 2:18:26 AM
To: shraak at outlook.com<mailto:shraak at outlook.com>
Cc: r-help at r-project.org<mailto:r-help at r-project.org>
Subject: Re: [R] Regarding R doubt

You did not say what your doubt about R was.
PL2.rasch has some class.
> class(PL2.rasch)
[1] 'Grofnigtz'   # or whatever
The summary function is really just a dispatcher.
> summary.Grofnigtz
... a listing comes out here ...

Or you could look in the source code of whatever package you are usin.


On Thu, 20 Jun 2019 at 00:25, shraak at outlook.com<mailto:shraak at outlook.com> <shraak at outlook.com<mailto:shraak at outlook.com>> wrote:
Hello Team,
I hope you are doing well.
I have one doubt about backend functioning of R command.
Currently I'm working on IRT analysis in python but this function is implemented in R and in R they have direct rasch model library but no such library in the Python.

So I wanted to know that is there any way to find the math or formula behind the specific command of R language.
for eg, summary(PL2.rasch)
after this command you will directly get difficulty and discrimination values like mentioned below:

Coefficients:
                 value           std.err   z.vals
Dffclt.V1    3.1135       9.8208  0.3170
Dffclt.V2   -0.5157       0.8941 -0.5768
Dffclt.V3   -1.3585       3.2062 -0.4237
Dffclt.V4   -1.0032    8649.3103 -0.0001
Dffclt.V5    0.0400    1350.8452  0.0000

So is there any way to find out the math behind this summary command ?

Thanks,
Shreepad



        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri Jun 21 18:25:23 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 21 Jun 2019 18:25:23 +0200
Subject: [R] Problem with random numbers/seed
In-Reply-To: <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
Message-ID: <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>

See the NEWS, the RNG has been changed, use RNGversion

On 21.06.2019 18:10, Steven Yen wrote:
> Dear all,
> I did all this work with older R (R-3.5.3.patched and older)
> but now with R3.6 I cannot replicate the results.
> Below I sample 60 observations from 1:500 using the sample command with
> a random seed of 123. I get different results. Advice appreciated.
> Steven Yen
> 
>   > # Run under R-3.6.0
>   > x<-1:500
>   > set.seed(12345671)
>   > j<-sample(1:length(x),size=60); y<-x[j]
>   > summary(y)
>   ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>   ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
> 
>   > # Run under R-3.5.3.patched
>   > x<-1:500
>   > set.seed(12345671)
>   > j<-sample(1:length(x),size=60); y<-x[j]
>   > summary(y)
>   ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>   ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
> 


Under R-3.6.0  use, e.g.
RNGversion("3.5.2")
to get reproducible results from the older RNG.

Best,
Uwe Ligges


From @tyen @end|ng |rom ntu@edu@tw  Fri Jun 21 18:39:48 2019
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Sat, 22 Jun 2019 00:39:48 +0800
Subject: [R] Problem with random numbers/seed
In-Reply-To: <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
Message-ID: <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>

Thanks. Somewhat of a mystery. The older version I had was R-3.5.3patched.
I cannot get the RNGversion command to run. Can you help? Thanks.

On 6/22/2019 12:25 AM, Uwe Ligges wrote:
> See the NEWS, the RNG has been changed, use RNGversion
>
> On 21.06.2019 18:10, Steven Yen wrote:
>> Dear all,
>> I did all this work with older R (R-3.5.3.patched and older)
>> but now with R3.6 I cannot replicate the results.
>> Below I sample 60 observations from 1:500 using the sample command with
>> a random seed of 123. I get different results. Advice appreciated.
>> Steven Yen
>>
>> ? > # Run under R-3.6.0
>> ? > x<-1:500
>> ? > set.seed(12345671)
>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>> ? > summary(y)
>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>> ? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>
>> ? > # Run under R-3.5.3.patched
>> ? > x<-1:500
>> ? > set.seed(12345671)
>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>> ? > summary(y)
>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>> ? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>
>
>
> Under R-3.6.0? use, e.g.
> RNGversion("3.5.2")
> to get reproducible results from the older RNG.
>
> Best,
> Uwe Ligges
>
>

-- 
styen at ntu.edu.tw (S.T. Yen)


	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri Jun 21 19:03:05 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 21 Jun 2019 19:03:05 +0200
Subject: [R] Problem with random numbers/seed
In-Reply-To: <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
Message-ID: <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>

What does not work?


For me it works under R-3.6.0:

  x<-1:500
  set.seed(12345671)
  j<-sample(1:length(x),size=60); y<-x[j]
  summary(j)

  RNGversion("3.5.3")
  set.seed(12345671)
  j<-sample(1:length(x),size=60); y<-x[j]
  summary(j)


Now I get the results you got udner the old R.

Best,
Uwe Ligges



On 21.06.2019 18:39, Steven Yen wrote:
> Thanks. Somewhat of a mystery. The older version I had was R-3.5.3patched.
> I cannot get the RNGversion command to run. Can you help? Thanks.
> 
> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>> See the NEWS, the RNG has been changed, use RNGversion
>>
>> On 21.06.2019 18:10, Steven Yen wrote:
>>> Dear all,
>>> I did all this work with older R (R-3.5.3.patched and older)
>>> but now with R3.6 I cannot replicate the results.
>>> Below I sample 60 observations from 1:500 using the sample command with
>>> a random seed of 123. I get different results. Advice appreciated.
>>> Steven Yen
>>>
>>> ? > # Run under R-3.6.0
>>> ? > x<-1:500
>>> ? > set.seed(12345671)
>>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>>> ? > summary(y)
>>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>> ? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>
>>> ? > # Run under R-3.5.3.patched
>>> ? > x<-1:500
>>> ? > set.seed(12345671)
>>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>>> ? > summary(y)
>>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>> ? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>
>>
>>
>> Under R-3.6.0? use, e.g.
>> RNGversion("3.5.2")
>> to get reproducible results from the older RNG.
>>
>> Best,
>> Uwe Ligges
>>
>>
> 
> -- 
> styen at ntu.edu.tw  (S.T. Yen)
>


From @tyen @end|ng |rom ntu@edu@tw  Fri Jun 21 19:09:28 2019
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Sat, 22 Jun 2019 01:09:28 +0800
Subject: [R] Problem with random numbers/seed
In-Reply-To: <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
Message-ID: <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>

Now I see that results were replicated but running RNGversion
I get a warning message. Isn't there a way to do this clean?

> RNGversion("3.5.3") Warning message: In RNGkind("Mersenne-Twister", 
"Inversion", "Rounding") : non-uniform 'Rounding' sampler used


On 6/22/2019 1:03 AM, Uwe Ligges wrote:
> What does not work?
>
>
> For me it works under R-3.6.0:
>
> ?x<-1:500
> ?set.seed(12345671)
> ?j<-sample(1:length(x),size=60); y<-x[j]
> ?summary(j)
>
> ?RNGversion("3.5.3")
> ?set.seed(12345671)
> ?j<-sample(1:length(x),size=60); y<-x[j]
> ?summary(j)
>
>
> Now I get the results you got udner the old R.
>
> Best,
> Uwe Ligges
>
>
>
> On 21.06.2019 18:39, Steven Yen wrote:
>> Thanks. Somewhat of a mystery. The older version I had was 
>> R-3.5.3patched.
>> I cannot get the RNGversion command to run. Can you help? Thanks.
>>
>> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>>> See the NEWS, the RNG has been changed, use RNGversion
>>>
>>> On 21.06.2019 18:10, Steven Yen wrote:
>>>> Dear all,
>>>> I did all this work with older R (R-3.5.3.patched and older)
>>>> but now with R3.6 I cannot replicate the results.
>>>> Below I sample 60 observations from 1:500 using the sample command 
>>>> with
>>>> a random seed of 123. I get different results. Advice appreciated.
>>>> Steven Yen
>>>>
>>>> ? > # Run under R-3.6.0
>>>> ? > x<-1:500
>>>> ? > set.seed(12345671)
>>>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>>>> ? > summary(y)
>>>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>> ? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>>
>>>> ? > # Run under R-3.5.3.patched
>>>> ? > x<-1:500
>>>> ? > set.seed(12345671)
>>>> ? > j<-sample(1:length(x),size=60); y<-x[j]
>>>> ? > summary(y)
>>>> ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>> ? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>>
>>>
>>>
>>> Under R-3.6.0? use, e.g.
>>> RNGversion("3.5.2")
>>> to get reproducible results from the older RNG.
>>>
>>> Best,
>>> Uwe Ligges
>>>
>>>
>>
>> -- 
>> styen at ntu.edu.tw? (S.T. Yen)
>>
>

-- 
styen at ntu.edu.tw (S.T. Yen)


	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri Jun 21 19:13:28 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 21 Jun 2019 19:13:28 +0200
Subject: [R] Problem with random numbers/seed
In-Reply-To: <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
Message-ID: <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>



On 21.06.2019 19:09, Steven Yen wrote:
> Now I see that results were replicated but running RNGversion
> I get a warning message. Isn't there a way to do this clean?

Well, the old RNG is known to be not optimal, hence we give a warning if 
you choose the old one. This is the clean way if you really want to get 
the old (slightly buggy) behaviour.

Best,
Uwe Ligges

> 
>> RNGversion("3.5.3") Warning message: In RNGkind("Mersenne-Twister",
> "Inversion", "Rounding") : non-uniform 'Rounding' sampler used
> 
> 
> On 6/22/2019 1:03 AM, Uwe Ligges wrote:
>> What does not work?
>>
>>
>> For me it works under R-3.6.0:
>>
>>  ?x<-1:500
>>  ?set.seed(12345671)
>>  ?j<-sample(1:length(x),size=60); y<-x[j]
>>  ?summary(j)
>>
>>  ?RNGversion("3.5.3")
>>  ?set.seed(12345671)
>>  ?j<-sample(1:length(x),size=60); y<-x[j]
>>  ?summary(j)
>>
>>
>> Now I get the results you got udner the old R.
>>
>> Best,
>> Uwe Ligges
>>
>>
>>
>> On 21.06.2019 18:39, Steven Yen wrote:
>>> Thanks. Somewhat of a mystery. The older version I had was
>>> R-3.5.3patched.
>>> I cannot get the RNGversion command to run. Can you help? Thanks.
>>>
>>> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>>>> See the NEWS, the RNG has been changed, use RNGversion
>>>>
>>>> On 21.06.2019 18:10, Steven Yen wrote:
>>>>> Dear all,
>>>>> I did all this work with older R (R-3.5.3.patched and older)
>>>>> but now with R3.6 I cannot replicate the results.
>>>>> Below I sample 60 observations from 1:500 using the sample command
>>>>> with
>>>>> a random seed of 123. I get different results. Advice appreciated.
>>>>> Steven Yen
>>>>>
>>>>>  ? > # Run under R-3.6.0
>>>>>  ? > x<-1:500
>>>>>  ? > set.seed(12345671)
>>>>>  ? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>  ? > summary(y)
>>>>>  ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>  ? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>>>
>>>>>  ? > # Run under R-3.5.3.patched
>>>>>  ? > x<-1:500
>>>>>  ? > set.seed(12345671)
>>>>>  ? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>  ? > summary(y)
>>>>>  ? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>  ? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>>>
>>>>
>>>>
>>>> Under R-3.6.0? use, e.g.
>>>> RNGversion("3.5.2")
>>>> to get reproducible results from the older RNG.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>>
>>>
>>> -- 
>>> styen at ntu.edu.tw? (S.T. Yen)
>>>
>>
>


From @tyen @end|ng |rom ntu@edu@tw  Fri Jun 21 19:21:49 2019
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Sat, 22 Jun 2019 01:21:49 +0800
Subject: [R] Problem with random numbers/seed
In-Reply-To: <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
 <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
Message-ID: <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>

Unhappy but thanks.
Steven

On 6/22/2019 1:13 AM, Uwe Ligges wrote:
>
>
> On 21.06.2019 19:09, Steven Yen wrote:
>> Now I see that results were replicated but running RNGversion
>> I get a warning message. Isn't there a way to do this clean?
>
> Well, the old RNG is known to be not optimal, hence we give a warning 
> if you choose the old one. This is the clean way if you really want to 
> get the old (slightly buggy) behaviour.
>
> Best,
> Uwe Ligges
>
>>
>>> RNGversion("3.5.3") Warning message: In RNGkind("Mersenne-Twister",
>> "Inversion", "Rounding") : non-uniform 'Rounding' sampler used
>>
>>
>> On 6/22/2019 1:03 AM, Uwe Ligges wrote:
>>> What does not work?
>>>
>>>
>>> For me it works under R-3.6.0:
>>>
>>> ??x<-1:500
>>> ??set.seed(12345671)
>>> ??j<-sample(1:length(x),size=60); y<-x[j]
>>> ??summary(j)
>>>
>>> ??RNGversion("3.5.3")
>>> ??set.seed(12345671)
>>> ??j<-sample(1:length(x),size=60); y<-x[j]
>>> ??summary(j)
>>>
>>>
>>> Now I get the results you got udner the old R.
>>>
>>> Best,
>>> Uwe Ligges
>>>
>>>
>>>
>>> On 21.06.2019 18:39, Steven Yen wrote:
>>>> Thanks. Somewhat of a mystery. The older version I had was
>>>> R-3.5.3patched.
>>>> I cannot get the RNGversion command to run. Can you help? Thanks.
>>>>
>>>> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>>>>> See the NEWS, the RNG has been changed, use RNGversion
>>>>>
>>>>> On 21.06.2019 18:10, Steven Yen wrote:
>>>>>> Dear all,
>>>>>> I did all this work with older R (R-3.5.3.patched and older)
>>>>>> but now with R3.6 I cannot replicate the results.
>>>>>> Below I sample 60 observations from 1:500 using the sample command
>>>>>> with
>>>>>> a random seed of 123. I get different results. Advice appreciated.
>>>>>> Steven Yen
>>>>>>
>>>>>> ?? > # Run under R-3.6.0
>>>>>> ?? > x<-1:500
>>>>>> ?? > set.seed(12345671)
>>>>>> ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>> ?? > summary(y)
>>>>>> ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>> ?? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>>>>
>>>>>> ?? > # Run under R-3.5.3.patched
>>>>>> ?? > x<-1:500
>>>>>> ?? > set.seed(12345671)
>>>>>> ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>> ?? > summary(y)
>>>>>> ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>> ?? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>>>>
>>>>>
>>>>>
>>>>> Under R-3.6.0? use, e.g.
>>>>> RNGversion("3.5.2")
>>>>> to get reproducible results from the older RNG.
>>>>>
>>>>> Best,
>>>>> Uwe Ligges
>>>>>
>>>>>
>>>>
>>>> -- 
>>>> styen at ntu.edu.tw? (S.T. Yen)
>>>>
>>>
>>
>

-- 
styen at ntu.edu.tw (S.T. Yen)


	[[alternative HTML version deleted]]


From |uke-t|erney @end|ng |rom u|ow@@edu  Fri Jun 21 19:43:47 2019
From: |uke-t|erney @end|ng |rom u|ow@@edu (Tierney, Luke)
Date: Fri, 21 Jun 2019 17:43:47 +0000
Subject: [R] [External] Re:  Problem with random numbers/seed
In-Reply-To: <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
 <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
 <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
Message-ID: <alpine.DEB.2.21.1906211243370.9391@luke-Latitude-7480>

Maybe looking at ?suppressWarnings will make you feel better.

Best,

luke

On Fri, 21 Jun 2019, Steven Yen wrote:

> Unhappy but thanks.
> Steven
>
> On 6/22/2019 1:13 AM, Uwe Ligges wrote:
>>
>>
>> On 21.06.2019 19:09, Steven Yen wrote:
>>> Now I see that results were replicated but running RNGversion
>>> I get a warning message. Isn't there a way to do this clean?
>>
>> Well, the old RNG is known to be not optimal, hence we give a warning
>> if you choose the old one. This is the clean way if you really want to
>> get the old (slightly buggy) behaviour.
>>
>> Best,
>> Uwe Ligges
>>
>>>
>>>> RNGversion("3.5.3") Warning message: In RNGkind("Mersenne-Twister",
>>> "Inversion", "Rounding") : non-uniform 'Rounding' sampler used
>>>
>>>
>>> On 6/22/2019 1:03 AM, Uwe Ligges wrote:
>>>> What does not work?
>>>>
>>>>
>>>> For me it works under R-3.6.0:
>>>>
>>>> ??x<-1:500
>>>> ??set.seed(12345671)
>>>> ??j<-sample(1:length(x),size=60); y<-x[j]
>>>> ??summary(j)
>>>>
>>>> ??RNGversion("3.5.3")
>>>> ??set.seed(12345671)
>>>> ??j<-sample(1:length(x),size=60); y<-x[j]
>>>> ??summary(j)
>>>>
>>>>
>>>> Now I get the results you got udner the old R.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>>
>>>>
>>>> On 21.06.2019 18:39, Steven Yen wrote:
>>>>> Thanks. Somewhat of a mystery. The older version I had was
>>>>> R-3.5.3patched.
>>>>> I cannot get the RNGversion command to run. Can you help? Thanks.
>>>>>
>>>>> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>>>>>> See the NEWS, the RNG has been changed, use RNGversion
>>>>>>
>>>>>> On 21.06.2019 18:10, Steven Yen wrote:
>>>>>>> Dear all,
>>>>>>> I did all this work with older R (R-3.5.3.patched and older)
>>>>>>> but now with R3.6 I cannot replicate the results.
>>>>>>> Below I sample 60 observations from 1:500 using the sample command
>>>>>>> with
>>>>>>> a random seed of 123. I get different results. Advice appreciated.
>>>>>>> Steven Yen
>>>>>>>
>>>>>>> ?? > # Run under R-3.6.0
>>>>>>> ?? > x<-1:500
>>>>>>> ?? > set.seed(12345671)
>>>>>>> ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>>> ?? > summary(y)
>>>>>>> ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>>> ?? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>>>>>
>>>>>>> ?? > # Run under R-3.5.3.patched
>>>>>>> ?? > x<-1:500
>>>>>>> ?? > set.seed(12345671)
>>>>>>> ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>>> ?? > summary(y)
>>>>>>> ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>>> ?? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>>>>>
>>>>>>
>>>>>>
>>>>>> Under R-3.6.0? use, e.g.
>>>>>> RNGversion("3.5.2")
>>>>>> to get reproducible results from the older RNG.
>>>>>>
>>>>>> Best,
>>>>>> Uwe Ligges
>>>>>>
>>>>>>
>>>>>
>>>>> --
>>>>> styen at ntu.edu.tw? (S.T. Yen)
>>>>>
>>>>
>>>
>>
>
>

-- 
Luke Tierney
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

From twoo|m@n @end|ng |rom ont@rgettek@com  Fri Jun 21 19:58:02 2019
From: twoo|m@n @end|ng |rom ont@rgettek@com (Tom Woolman)
Date: Fri, 21 Jun 2019 12:58:02 -0500
Subject: [R] Problem witth nnet:multinom
In-Reply-To: <alpine.DEB.2.21.1906211243370.9391@luke-Latitude-7480>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
 <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
 <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
 <alpine.DEB.2.21.1906211243370.9391@luke-Latitude-7480>
Message-ID: <20190621125802.Horde.gHPrc4SgIDFsvTV4aGrodkJ@www.ontargettek.com>

I am using R with the nnet package to perform a multinomial logistic  
regression on a training dataset with ~5800 training dataset records  
and 45 predictor variables in that training data. Predictor variables  
were chosen as a subset of all ~120 available variables based on PCA  
analysis. My target variable is a factor with 10 items.
All predictor variable are numeric (type "dbl").

My command in R is as follows:

model <- nnet:multinom(frmla, data = training_set, maxit = 1000,  
na.action = na.omit)

#note that the frmla string is a value of "Target_Variable ~ v1 + v2 +  
v3, etc."
Output of this command is as follows (I will truncate to save a little  
space after the first few rows):

# weights: 360 (308 variable)
initial value 10912.909211

iter 10 value 9194.608309

iter 20 value 9142.608309

iter 30 value 9128.737991

iter 40 value 9093.899887
.
.
.
iter 420 value 8077.803755

final value 8077.800112
converged
Error in nnet:multinom(frmla, data = training_set, maxit = 1000, :
NA/NaN argument

In addition: Warning message:

In nnet:multinom(frmla, data= training_set, maxit = 1000, :
numerical expression has 26 elements: only the first used

So that's my issue. I can't figure out the meaning behind both the  
error message and the warning message above. There are no NA values in  
my data set. I've also tried reducing the number of predictor  
variables, but I get the same issue (just a different number of  
iterations).

Thanks in advance.


From n@b|yoge@h @end|ng |rom gm@||@com  Fri Jun 21 22:09:18 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Fri, 21 Jun 2019 21:09:18 +0100
Subject: [R] How to filter data in R based on first column ID
Message-ID: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>

Hi,

I do need to filter data based on first column could you please suggest ,
How I can do it in R.







head(data)



Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
Root-17.S26.L001
719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
aed34f36d535976c247278bec289fd12 0.580694642 0.113445793 0.56221674
0.06764097 0.525782644
42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861 0.254166069
0.463074623
3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703 0.061193659
0.038944801 0.02411847

I need to extract data for the below IDs

head(ID.list)

719e20e1e3d19fbc5dd50844c6d29a8f
bfffa74c0971b30ccf3b19f65911801f
62a5c6f5e0adda662739a7ac521ea790

I will be tankful for your help.

Thanks
Yogesh

*Yogesh Gupta*
*Research Fellow*
*Institute for Global Food Security*
*Queen's University*
*Belfast, UK*

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jun 21 22:29:56 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 21 Jun 2019 21:29:56 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
Message-ID: <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>

Hello,

Please don't post in HTML like the posting guide asks you to, the data 
is unreadable.

Not tested:

i <- data[[1]] %in% ID.list
data[i, ]


That's it.

Hope this helps,

Rui Barradas

?s 21:09 de 21/06/19, Yogesh Gupta escreveu:
> Hi,
> 
> I do need to filter data based on first column could you please suggest ,
> How I can do it in R.
> 
> 
> 
> 
> 
> 
> 
> head(data)
> 
> 
> 
> Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
> Root-17.S26.L001
> 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
> bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
> 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
> aed34f36d535976c247278bec289fd12 0.580694642 0.113445793 0.56221674
> 0.06764097 0.525782644
> 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
> d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
> 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
> 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861 0.254166069
> 0.463074623
> 3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703 0.061193659
> 0.038944801 0.02411847
> 
> I need to extract data for the below IDs
> 
> head(ID.list)
> 
> 719e20e1e3d19fbc5dd50844c6d29a8f
> bfffa74c0971b30ccf3b19f65911801f
> 62a5c6f5e0adda662739a7ac521ea790
> 
> I will be tankful for your help.
> 
> Thanks
> Yogesh
> 
> *Yogesh Gupta*
> *Research Fellow*
> *Institute for Global Food Security*
> *Queen's University*
> *Belfast, UK*
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Fri Jun 21 22:43:48 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 16:43:48 -0400
Subject: [R] Recovering former projects on R
Message-ID: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>

Good evening,

  I am revisiting a project I had saved to R studio and after working with
it for a little, with loaded data and environments shown just as I left
them when I stopped working on the project, my console and the tabs opened
went blank. I believe I accidentally activated q() and quit the project. I
tried to re-access the same file with all of the work I?ve done for this
project saved onto it, and I got the following...


 load("~/R/GBM P-EXP/GBM P-EXP.Rproj")
Error in load("~/R/GBM P-EXP/GBM P-EXP.Rproj") :
  bad restore file magic number (file may be corrupted) -- no data loaded
In addition: Warning message:
file ?GBM P-EXP.Rproj? has magic number 'Versi'
  Use of save versions prior to 2 is deprecated

Does this mean that I lost all of my previous work, or is there another way
to recover all the coding and loaded environments that I had saved to this
file?  For context, I also tried accessing the project through a desktop
version of the file saved on my desktop through R Studio, but this also
just generated a blank terminal with no loaded environments.

Any advice would be greatly appreciated!

Best,

Spencer Brackett

	[[alternative HTML version deleted]]


From wdun|@p @end|ng |rom t|bco@com  Fri Jun 21 22:51:37 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Fri, 21 Jun 2019 13:51:37 -0700
Subject: [R] Recovering former projects on R
In-Reply-To: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>
References: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>
Message-ID: <CAF8bMcYohSiUWj_50uacyRBw5gXbZKS0McFO=0eCSCSW-vzbgg@mail.gmail.com>

You should ask someone at RStudio about this, but *.Rproj files are not
something R itself knows about.  load() reads files made by save(), which
usually have the extension ".Rdata" or ".rda".

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, Jun 21, 2019 at 1:43 PM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Good evening,
>
>   I am revisiting a project I had saved to R studio and after working with
> it for a little, with loaded data and environments shown just as I left
> them when I stopped working on the project, my console and the tabs opened
> went blank. I believe I accidentally activated q() and quit the project. I
> tried to re-access the same file with all of the work I?ve done for this
> project saved onto it, and I got the following...
>
>
>  load("~/R/GBM P-EXP/GBM P-EXP.Rproj")
> Error in load("~/R/GBM P-EXP/GBM P-EXP.Rproj") :
>   bad restore file magic number (file may be corrupted) -- no data loaded
> In addition: Warning message:
> file ?GBM P-EXP.Rproj? has magic number 'Versi'
>   Use of save versions prior to 2 is deprecated
>
> Does this mean that I lost all of my previous work, or is there another way
> to recover all the coding and loaded environments that I had saved to this
> file?  For context, I also tried accessing the project through a desktop
> version of the file saved on my desktop through R Studio, but this also
> just generated a blank terminal with no loaded environments.
>
> Any advice would be greatly appreciated!
>
> Best,
>
> Spencer Brackett
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Fri Jun 21 23:34:06 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 17:34:06 -0400
Subject: [R] Recovering former projects on R
In-Reply-To: <CAF8bMcYohSiUWj_50uacyRBw5gXbZKS0McFO=0eCSCSW-vzbgg@mail.gmail.com>
References: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>
 <CAF8bMcYohSiUWj_50uacyRBw5gXbZKS0McFO=0eCSCSW-vzbgg@mail.gmail.com>
Message-ID: <CAPQaxLPz-Dq8c=4F8cd2q2JddLNCNwZO84FO0c8QDJNB6+VUTw@mail.gmail.com>

Thank you, I called them but was able to load what appears to be a reprex
of my Rhistory. If I remember correctly, there is a way to to reimplement
this history into your console so to regenerate previous work. How is this
done?

Best,

Spencer

On Fri, Jun 21, 2019 at 4:51 PM William Dunlap <wdunlap at tibco.com> wrote:

> You should ask someone at RStudio about this, but *.Rproj files are not
> something R itself knows about.  load() reads files made by save(), which
> usually have the extension ".Rdata" or ".rda".
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Fri, Jun 21, 2019 at 1:43 PM Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
>
>> Good evening,
>>
>>   I am revisiting a project I had saved to R studio and after working with
>> it for a little, with loaded data and environments shown just as I left
>> them when I stopped working on the project, my console and the tabs opened
>> went blank. I believe I accidentally activated q() and quit the project. I
>> tried to re-access the same file with all of the work I?ve done for this
>> project saved onto it, and I got the following...
>>
>>
>>  load("~/R/GBM P-EXP/GBM P-EXP.Rproj")
>> Error in load("~/R/GBM P-EXP/GBM P-EXP.Rproj") :
>>   bad restore file magic number (file may be corrupted) -- no data loaded
>> In addition: Warning message:
>> file ?GBM P-EXP.Rproj? has magic number 'Versi'
>>   Use of save versions prior to 2 is deprecated
>>
>> Does this mean that I lost all of my previous work, or is there another
>> way
>> to recover all the coding and loaded environments that I had saved to this
>> file?  For context, I also tried accessing the project through a desktop
>> version of the file saved on my desktop through R Studio, but this also
>> just generated a blank terminal with no loaded environments.
>>
>> Any advice would be greatly appreciated!
>>
>> Best,
>>
>> Spencer Brackett
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Fri Jun 21 23:38:07 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 21 Jun 2019 14:38:07 -0700
Subject: [R] Recovering former projects on R
In-Reply-To: <CAPQaxLPz-Dq8c=4F8cd2q2JddLNCNwZO84FO0c8QDJNB6+VUTw@mail.gmail.com>
References: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>
 <CAF8bMcYohSiUWj_50uacyRBw5gXbZKS0McFO=0eCSCSW-vzbgg@mail.gmail.com>
 <CAPQaxLPz-Dq8c=4F8cd2q2JddLNCNwZO84FO0c8QDJNB6+VUTw@mail.gmail.com>
Message-ID: <56306f23-d17a-25ed-f073-d66600800a76@comcast.net>


On 6/21/19 2:34 PM, Spencer Brackett wrote:
> Thank you, I called them but was able to load what appears to be a reprex
> of my Rhistory. If I remember correctly, there is a way to to reimplement
> this history into your console so to regenerate previous work. How is this
> done?


Assuming you still have teh data files stored in the same locations as 
they were when the history was recorded you should be able to use teh 
`source` function. Or you could create an *.R file and execute it from 
your OS file viewer if you have the R extension associated with the R 
executable.


?source

-- 

David.


>
> Best,
>
> Spencer
>
> On Fri, Jun 21, 2019 at 4:51 PM William Dunlap <wdunlap at tibco.com> wrote:
>
>> You should ask someone at RStudio about this, but *.Rproj files are not
>> something R itself knows about.  load() reads files made by save(), which
>> usually have the extension ".Rdata" or ".rda".
>>
>> Bill Dunlap
>> TIBCO Software
>> wdunlap tibco.com
>>
>>
>> On Fri, Jun 21, 2019 at 1:43 PM Spencer Brackett <
>> spbrackett20 at saintjosephhs.com> wrote:
>>
>>> Good evening,
>>>
>>>    I am revisiting a project I had saved to R studio and after working with
>>> it for a little, with loaded data and environments shown just as I left
>>> them when I stopped working on the project, my console and the tabs opened
>>> went blank. I believe I accidentally activated q() and quit the project. I
>>> tried to re-access the same file with all of the work I?ve done for this
>>> project saved onto it, and I got the following...
>>>
>>>
>>>   load("~/R/GBM P-EXP/GBM P-EXP.Rproj")
>>> Error in load("~/R/GBM P-EXP/GBM P-EXP.Rproj") :
>>>    bad restore file magic number (file may be corrupted) -- no data loaded
>>> In addition: Warning message:
>>> file ?GBM P-EXP.Rproj? has magic number 'Versi'
>>>    Use of save versions prior to 2 is deprecated
>>>
>>> Does this mean that I lost all of my previous work, or is there another
>>> way
>>> to recover all the coding and loaded environments that I had saved to this
>>> file?  For context, I also tried accessing the project through a desktop
>>> version of the file saved on my desktop through R Studio, but this also
>>> just generated a blank terminal with no loaded environments.
>>>
>>> Any advice would be greatly appreciated!
>>>
>>> Best,
>>>
>>> Spencer Brackett
>>>
>>>          [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Sat Jun 22 00:55:30 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 18:55:30 -0400
Subject: [R] Problem with reading file saved in directory
Message-ID: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>

Good evening,

I set up a working directory to read the indicated desktop file, but
implementation of the read.file function produced the following error...

>meth = read.table(file = "~/Vakul's GBM code/mapper.txt", sep  ="\t",
header = T, row.names = 1)
Error in read.table(file = "~/Vakul's GBM code/mapper.txt", sep = "\t",  :
duplicate 'row.names' are not allowed
In addition: Warning message:
In scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
  EOF within quoted string

What does it mean by "duplicate row names are not allowed" ? is the file I
am attempting to access somehow not compatible? Also, how do I address the
second part of the warning referring to what was found "In scan" ?

Best,

Spencer

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Jun 21 22:32:49 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 21 Jun 2019 15:32:49 -0500
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
Message-ID: <9B5832C5-C166-4D89-AD6D-63DB341407CA@dcn.davis.ca.us>

Open the "Introduction to R" document that comes with R and search for "subset".

Oh, and read the Posting Guide mentioned in the footer of this and every message on the list for advice on communicating successfully on the R mailing lists. One problem with your post was that it was sent with HTML formatting, which rendered it quite unlike what you thought we would see, which really makes it difficult to help you.

On June 21, 2019 3:09:18 PM CDT, Yogesh Gupta <nabiyogesh at gmail.com> wrote:
>Hi,
>
>I do need to filter data based on first column could you please suggest
>,
>How I can do it in R.
>
>
>
>
>
>
>
>head(data)
>
>
>
>Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
>Root-17.S26.L001
>719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
>bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
>80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
>aed34f36d535976c247278bec289fd12 0.580694642 0.113445793 0.56221674
>0.06764097 0.525782644
>42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
>d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
>6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
>62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861 0.254166069
>0.463074623
>3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703 0.061193659
>0.038944801 0.02411847
>
>I need to extract data for the below IDs
>
>head(ID.list)
>
>719e20e1e3d19fbc5dd50844c6d29a8f
>bfffa74c0971b30ccf3b19f65911801f
>62a5c6f5e0adda662739a7ac521ea790
>
>I will be tankful for your help.
>
>Thanks
>Yogesh
>
>*Yogesh Gupta*
>*Research Fellow*
>*Institute for Global Food Security*
>*Queen's University*
>*Belfast, UK*
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From r@turner @end|ng |rom @uck|@nd@@c@nz  Sat Jun 22 01:27:23 2019
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Sat, 22 Jun 2019 11:27:23 +1200
Subject: [R] Problem with random numbers/seed
In-Reply-To: <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
 <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
 <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
Message-ID: <82419d92-7852-13a6-dc8c-5e683d78f534@auckland.ac.nz>


On 22/06/19 5:21 AM, Steven Yen wrote:

> Unhappy but thanks.
> Steven

Well, if you're *really* unhappy (???) you could always do

     suppressWarnings(RNGversion("3.5.3"))

Does that make you happier?

cheers,

Rolf

> 
> On 6/22/2019 1:13 AM, Uwe Ligges wrote:
>>
>>
>> On 21.06.2019 19:09, Steven Yen wrote:
>>> Now I see that results were replicated but running RNGversion
>>> I get a warning message. Isn't there a way to do this clean?
>>
>> Well, the old RNG is known to be not optimal, hence we give a warning
>> if you choose the old one. This is the clean way if you really want to
>> get the old (slightly buggy) behaviour.
>>
>> Best,
>> Uwe Ligges
>>
>>>
>>>> RNGversion("3.5.3") Warning message: In RNGkind("Mersenne-Twister",
>>> "Inversion", "Rounding") : non-uniform 'Rounding' sampler used
>>>
>>>
>>> On 6/22/2019 1:03 AM, Uwe Ligges wrote:
>>>> What does not work?
>>>>
>>>>
>>>> For me it works under R-3.6.0:
>>>>
>>>>  ??x<-1:500
>>>>  ??set.seed(12345671)
>>>>  ??j<-sample(1:length(x),size=60); y<-x[j]
>>>>  ??summary(j)
>>>>
>>>>  ??RNGversion("3.5.3")
>>>>  ??set.seed(12345671)
>>>>  ??j<-sample(1:length(x),size=60); y<-x[j]
>>>>  ??summary(j)
>>>>
>>>>
>>>> Now I get the results you got udner the old R.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>>
>>>>
>>>> On 21.06.2019 18:39, Steven Yen wrote:
>>>>> Thanks. Somewhat of a mystery. The older version I had was
>>>>> R-3.5.3patched.
>>>>> I cannot get the RNGversion command to run. Can you help? Thanks.
>>>>>
>>>>> On 6/22/2019 12:25 AM, Uwe Ligges wrote:
>>>>>> See the NEWS, the RNG has been changed, use RNGversion
>>>>>>
>>>>>> On 21.06.2019 18:10, Steven Yen wrote:
>>>>>>> Dear all,
>>>>>>> I did all this work with older R (R-3.5.3.patched and older)
>>>>>>> but now with R3.6 I cannot replicate the results.
>>>>>>> Below I sample 60 observations from 1:500 using the sample command
>>>>>>> with
>>>>>>> a random seed of 123. I get different results. Advice appreciated.
>>>>>>> Steven Yen
>>>>>>>
>>>>>>>  ?? > # Run under R-3.6.0
>>>>>>>  ?? > x<-1:500
>>>>>>>  ?? > set.seed(12345671)
>>>>>>>  ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>>>  ?? > summary(y)
>>>>>>>  ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>>>  ?? ?? 26.0?? 134.2?? 240.0?? 249.8?? 368.0?? 500.0
>>>>>>>
>>>>>>>  ?? > # Run under R-3.5.3.patched
>>>>>>>  ?? > x<-1:500
>>>>>>>  ?? > set.seed(12345671)
>>>>>>>  ?? > j<-sample(1:length(x),size=60); y<-x[j]
>>>>>>>  ?? > summary(y)
>>>>>>>  ?? ?? Min. 1st Qu.? Median??? Mean 3rd Qu.??? Max.
>>>>>>>  ?? ??? 9.0?? 122.2?? 205.0?? 236.1?? 364.2?? 493.0
>>>>>>>
>>>>>>
>>>>>>
>>>>>> Under R-3.6.0? use, e.g.
>>>>>> RNGversion("3.5.2")
>>>>>> to get reproducible results from the older RNG.
>>>>>>
>>>>>> Best,
>>>>>> Uwe Ligges
>>>>>>
>>>>>>
>>>>>
>>>>> -- 
>>>>> styen at ntu.edu.tw? (S.T. Yen)
>>>>>
>>>>
>>>
>>
>


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Jun 22 01:46:13 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 21 Jun 2019 18:46:13 -0500
Subject: [R] Problem with reading file saved in directory
In-Reply-To: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>
References: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>
Message-ID: <CC845B1F-C917-495D-A272-D782FB47601C@dcn.davis.ca.us>

My psychic powers are telling me you don't know what is in that file. Perhaps you should look, with an eye toward counting the number of fields on each line and on having properly-quoted fields. My psychic powers are not strong enough to tell you what problems you will find in that file.

On June 21, 2019 5:55:30 PM CDT, Spencer Brackett <spbrackett20 at saintjosephhs.com> wrote:
>Good evening,
>
>I set up a working directory to read the indicated desktop file, but
>implementation of the read.file function produced the following
>error...
>
>>meth = read.table(file = "~/Vakul's GBM code/mapper.txt", sep  ="\t",
>header = T, row.names = 1)
>Error in read.table(file = "~/Vakul's GBM code/mapper.txt", sep = "\t",
> :
>duplicate 'row.names' are not allowed
>In addition: Warning message:
>In scan(file = file, what = what, sep = sep, quote = quote, dec = dec, 
>:
>  EOF within quoted string
>
>What does it mean by "duplicate row names are not allowed" ? is the
>file I
>am attempting to access somehow not compatible? Also, how do I address
>the
>second part of the warning referring to what was found "In scan" ?
>
>Best,
>
>Spencer
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From wdun|@p @end|ng |rom t|bco@com  Sat Jun 22 02:00:58 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Fri, 21 Jun 2019 17:00:58 -0700
Subject: [R] Problem with reading file saved in directory
In-Reply-To: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>
References: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>
Message-ID: <CAF8bMcYo9u6vdQJ_wCD6-08k9tdRcyTaDBe5TPr_P4997Y3WnQ@mail.gmail.com>

Reading the file with row.names=1 meant to make rownames out of the first
column in the text file.  Duplicate row names are not accepted.  To
diagnose, read it with row.names=NULL and see what is in the first column
(e.g., use the table function on it).

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, Jun 21, 2019 at 3:56 PM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Good evening,
>
> I set up a working directory to read the indicated desktop file, but
> implementation of the read.file function produced the following error...
>
> >meth = read.table(file = "~/Vakul's GBM code/mapper.txt", sep  ="\t",
> header = T, row.names = 1)
> Error in read.table(file = "~/Vakul's GBM code/mapper.txt", sep = "\t",  :
> duplicate 'row.names' are not allowed
> In addition: Warning message:
> In scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
>   EOF within quoted string
>
> What does it mean by "duplicate row names are not allowed" ? is the file I
> am attempting to access somehow not compatible? Also, how do I address the
> second part of the warning referring to what was found "In scan" ?
>
> Best,
>
> Spencer
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Sat Jun 22 03:03:18 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 21:03:18 -0400
Subject: [R] Problem with reading file saved in directory
In-Reply-To: <CAF8bMcYo9u6vdQJ_wCD6-08k9tdRcyTaDBe5TPr_P4997Y3WnQ@mail.gmail.com>
References: <CAPQaxLMWmgk9EoSxGvuavQOnbQVOVSb8-z-qiLngVeYGLLLzow@mail.gmail.com>
 <CAF8bMcYo9u6vdQJ_wCD6-08k9tdRcyTaDBe5TPr_P4997Y3WnQ@mail.gmail.com>
Message-ID: <CAPQaxLPDQwQTZhc+Qtm2sS-=-XpuUwCyVG5m9cHBben7=yPCdQ@mail.gmail.com>

Thank you Mr. Dunlap, that was very helpful!

On Fri, Jun 21, 2019 at 8:01 PM William Dunlap <wdunlap at tibco.com> wrote:

> Reading the file with row.names=1 meant to make rownames out of the first
> column in the text file.  Duplicate row names are not accepted.  To
> diagnose, read it with row.names=NULL and see what is in the first column
> (e.g., use the table function on it).
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Fri, Jun 21, 2019 at 3:56 PM Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
>
>> Good evening,
>>
>> I set up a working directory to read the indicated desktop file, but
>> implementation of the read.file function produced the following error...
>>
>> >meth = read.table(file = "~/Vakul's GBM code/mapper.txt", sep  ="\t",
>> header = T, row.names = 1)
>> Error in read.table(file = "~/Vakul's GBM code/mapper.txt", sep = "\t",  :
>> duplicate 'row.names' are not allowed
>> In addition: Warning message:
>> In scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
>>   EOF within quoted string
>>
>> What does it mean by "duplicate row names are not allowed" ? is the file I
>> am attempting to access somehow not compatible? Also, how do I address the
>> second part of the warning referring to what was found "In scan" ?
>>
>> Best,
>>
>> Spencer
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Sat Jun 22 03:11:34 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 21:11:34 -0400
Subject: [R] Output for pasting multiple vectors
Message-ID: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>

Hello,

I am attempting to paste multiple vectors using the paste() function for a
dataset that  I'm working with. Shouldn't I be receiving some kind of
output as a result of the following?

 meth=as.matrix(meth)
> colnames(meth) = sapply(colnames(meth), function(i){
+ c1 = strsplit(i,split ='.', fixed = T)[[1]]
+ c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
 "")
+ paste(c1,collapse = ".")
+ {

Best,

Spencer Brackett

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Sat Jun 22 03:43:50 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 21:43:50 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
Message-ID: <CAPQaxLP3Q136uqn6TFSkLhoA90sfHyzZCXPqNL-PpeF8N_yiNw@mail.gmail.com>

Would output <-paste() be part of the solution perhaps? Reading up on the
matter now.

Best,

Spencer

On Fri, Jun 21, 2019 at 9:11 PM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Hello,
>
> I am attempting to paste multiple vectors using the paste() function for a
> dataset that  I'm working with. Shouldn't I be receiving some kind of
> output as a result of the following?
>
>  meth=as.matrix(meth)
> > colnames(meth) = sapply(colnames(meth), function(i){
> + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>  "")
> + paste(c1,collapse = ".")
> + {
>
> Best,
>
> Spencer Brackett
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Jun 22 03:45:28 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 21 Jun 2019 18:45:28 -0700
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
Message-ID: <07F1D10A-B796-4C02-825D-8658943E7AAB@comcast.net>

All the +-signs are telling you that the expression is not complete. Please read the posting guide. I?m pretty sure you?ve already been warned NOT to use html. 

? 
David. 

Sent from my iPhone

> On Jun 21, 2019, at 6:11 PM, Spencer Brackett <spbrackett20 at saintjosephhs.com> wrote:
> 
> Hello,
> 
> I am attempting to paste multiple vectors using the paste() function for a
> dataset that  I'm working with. Shouldn't I be receiving some kind of
> output as a result of the following?
> 
> meth=as.matrix(meth)
>> colnames(meth) = sapply(colnames(meth), function(i){
> + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
> "")
> + paste(c1,collapse = ".")
> + {
> 
> Best,
> 
> Spencer Brackett
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Sat Jun 22 03:48:53 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Fri, 21 Jun 2019 21:48:53 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <07F1D10A-B796-4C02-825D-8658943E7AAB@comcast.net>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <07F1D10A-B796-4C02-825D-8658943E7AAB@comcast.net>
Message-ID: <CAPQaxLNYRSmcLE=Q7O+T+Wt8WUKYF3n1aGtKVzrnLo4KCJ0KbA@mail.gmail.com>

My apologies. Is there a way to edit this within R?

On Fri, Jun 21, 2019 at 9:47 PM David Winsemius <dwinsemius at comcast.net>
wrote:

> All the +-signs are telling you that the expression is not complete.
> Please read the posting guide. I?m pretty sure you?ve already been warned
> NOT to use html.
>
> ?
> David.
>
> Sent from my iPhone
>
> > On Jun 21, 2019, at 6:11 PM, Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
> >
> > Hello,
> >
> > I am attempting to paste multiple vectors using the paste() function for
> a
> > dataset that  I'm working with. Shouldn't I be receiving some kind of
> > output as a result of the following?
> >
> > meth=as.matrix(meth)
> >> colnames(meth) = sapply(colnames(meth), function(i){
> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> > + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
> > "")
> > + paste(c1,collapse = ".")
> > + {
> >
> > Best,
> >
> > Spencer Brackett
> >
> >    [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Jun 22 06:10:53 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 21 Jun 2019 21:10:53 -0700
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNYRSmcLE=Q7O+T+Wt8WUKYF3n1aGtKVzrnLo4KCJ0KbA@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <07F1D10A-B796-4C02-825D-8658943E7AAB@comcast.net>
 <CAPQaxLNYRSmcLE=Q7O+T+Wt8WUKYF3n1aGtKVzrnLo4KCJ0KbA@mail.gmail.com>
Message-ID: <04D9E202-D77C-4A3E-84A4-000E1B45FE0E@comcast.net>



Sent from my iPhone

> On Jun 21, 2019, at 6:48 PM, Spencer Brackett <spbrackett20 at saintjosephhs.com> wrote:
> 
> My apologies. Is there a way to edit this within R? 

Most people use an editor or an IDE to work on their code. The code you presented didn?t seem be doing what you were describing. You should put together a small example and the show what your goals are. 

? 
David. 
>> On Fri, Jun 21, 2019 at 9:47 PM David Winsemius <dwinsemius at comcast.net> wrote:
>> All the +-signs are telling you that the expression is not complete. Please read the posting guide. I?m pretty sure you?ve already been warned NOT to use html. 
>> 
>> ? 
>> David. 
>> 
>> Sent from my iPhone
>> 
>> > On Jun 21, 2019, at 6:11 PM, Spencer Brackett <spbrackett20 at saintjosephhs.com> wrote:
>> > 
>> > Hello,
>> > 
>> > I am attempting to paste multiple vectors using the paste() function for a
>> > dataset that  I'm working with. Shouldn't I be receiving some kind of
>> > output as a result of the following?
>> > 
>> > meth=as.matrix(meth)
>> >> colnames(meth) = sapply(colnames(meth), function(i){
>> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
>> > + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>> > "")
>> > + paste(c1,collapse = ".")
>> > + {
>> > 
>> > Best,
>> > 
>> > Spencer Brackett
>> > 
>> >    [[alternative HTML version deleted]]
>> > 
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> 

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Jun 22 06:47:21 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 21 Jun 2019 21:47:21 -0700
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <04D9E202-D77C-4A3E-84A4-000E1B45FE0E@comcast.net>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <07F1D10A-B796-4C02-825D-8658943E7AAB@comcast.net>
 <CAPQaxLNYRSmcLE=Q7O+T+Wt8WUKYF3n1aGtKVzrnLo4KCJ0KbA@mail.gmail.com>
 <04D9E202-D77C-4A3E-84A4-000E1B45FE0E@comcast.net>
Message-ID: <27D2DE57-0CF8-4D43-AB0F-A2F50A99A96E@dcn.davis.ca.us>

Note that just editing in R (or RStudio, or Notepad, or whatever) will not solve the problem... you MUST learn how to use your email client to set the format to send at least your R-help emails in plain text. If you don't do that, the email program will just screw up your hard work.

I do think using the reprex package to test your example for reproducibility will improve the clarity of your questions.

On June 21, 2019 9:10:53 PM PDT, David Winsemius <dwinsemius at comcast.net> wrote:
>
>
>Sent from my iPhone
>
>> On Jun 21, 2019, at 6:48 PM, Spencer Brackett
><spbrackett20 at saintjosephhs.com> wrote:
>> 
>> My apologies. Is there a way to edit this within R? 
>
>Most people use an editor or an IDE to work on their code. The code you
>presented didn?t seem be doing what you were describing. You should put
>together a small example and the show what your goals are. 
>
>? 
>David. 
>>> On Fri, Jun 21, 2019 at 9:47 PM David Winsemius
><dwinsemius at comcast.net> wrote:
>>> All the +-signs are telling you that the expression is not complete.
>Please read the posting guide. I?m pretty sure you?ve already been
>warned NOT to use html. 
>>> 
>>> ? 
>>> David. 
>>> 
>>> Sent from my iPhone
>>> 
>>> > On Jun 21, 2019, at 6:11 PM, Spencer Brackett
><spbrackett20 at saintjosephhs.com> wrote:
>>> > 
>>> > Hello,
>>> > 
>>> > I am attempting to paste multiple vectors using the paste()
>function for a
>>> > dataset that  I'm working with. Shouldn't I be receiving some kind
>of
>>> > output as a result of the following?
>>> > 
>>> > meth=as.matrix(meth)
>>> >> colnames(meth) = sapply(colnames(meth), function(i){
>>> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
>>> > + c1[4] = paste(strsplit(c1[4],split = "",fixed =
>T)[[1]][1:2],collapse =
>>> > "")
>>> > + paste(c1,collapse = ".")
>>> > + {
>>> > 
>>> > Best,
>>> > 
>>> > Spencer Brackett
>>> > 
>>> >    [[alternative HTML version deleted]]
>>> > 
>>> > ______________________________________________
>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > https://stat.ethz.ch/mailman/listinfo/r-help
>>> > PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>>> > and provide commented, minimal, self-contained, reproducible code.
>>> 
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From r@oknz @end|ng |rom gm@||@com  Sat Jun 22 08:23:24 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Sat, 22 Jun 2019 18:23:24 +1200
Subject: [R] Find the max entry in column 2 - that satisfies a condition
 given a fixed entry in column 1
In-Reply-To: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
References: <BN7PR08MB5684D1C72AE36B79E2186F60EBE40@BN7PR08MB5684.namprd08.prod.outlook.com>
Message-ID: <CABcYAdLOVXhNbbu4wfgGPOXncnisimiFXmOu+TkdgJHzUgcP8g@mail.gmail.com>

I have read your message four times in the last couple of days,
but I still have very little idea what you want.
Let's try some things I've gleaned.
You have a matrix with 9 rows and 2 columns, and there is a 2
somewhere in column 1.
> m <- matrix(1:18, nrow=9, ncol=2)
> m[c(4,7,8),1] <- 2
> m
      [,1] [,2]
 [1,]    1   10
 [2,]    2   11
 [3,]    3   12
 [4,]    2   13
 [5,]    5   14
 [6,]    6   15
 [7,]    2   16
 [8,]    2   17
 [9,]    9   18
You want to select rows where column 1 is 2.
> m[,1] == 2
[1] FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE  TRUE FALSE
You want to select the corresponding elements from column 2.
> m[m[,1] == 2, 2]
[1] 11 13 16 17
You want the maximum of these elements.
> max(m[m[,1] == 2, 2])
[1] 17

You can do pretty amazing things with indexing in R without any extra
packages.

Of course, I have almost certainly misunderstood you.
Perhaps you can ask again, maybe with an example?

On Fri, 21 Jun 2019 at 11:50, Vangelis Litos <Redondo5_447 at hotmail.com>
wrote:

> I am using R and I created based on a vector x, a grid (named: plain) -
> where zero is included. This gives me a 9x2 ``matrix''.
>
> > x_t = cbind(c(1),c(2));
> > x = t(x_t);
>
> > plain = expand.grid (sort (unique (c (0, x))), sort (unique (c (0, x))));
>
> My aim is to focus on column 1 and take i.e the first entry (then the
> second, the third entry etc through a loop) of the unique (c (0, x)) vector
> (==0) [rows 1, 4 and 7] and find the maximum value (entry) in the second
> column of the matrix that satisfies a condition.
>
> Let say that the condition is satisfied when at column 2 the value is 2.
> That is I want row 7 to be selected
>
> Then I want to create a column vector b (9x1) that has zero everywhere
> apart from row 7.
>
> Can anybody help me with this?
>
> Thank you in advance.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Jun 22 09:08:54 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 22 Jun 2019 08:08:54 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
Message-ID: <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>

Hello,

I cannot find the dataset. meth is a (CRAN) package dataset?

Rui barradas

?s 02:11 de 22/06/19, Spencer Brackett escreveu:
> Hello,
> 
> I am attempting to paste multiple vectors using the paste() function for a
> dataset that  I'm working with. Shouldn't I be receiving some kind of
> output as a result of the following?
> 
>   meth=as.matrix(meth)
>> colnames(meth) = sapply(colnames(meth), function(i){
> + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>   "")
> + paste(c1,collapse = ".")
> + {
> 
> Best,
> 
> Spencer Brackett
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From er|cjberger @end|ng |rom gm@||@com  Sun Jun 23 10:38:22 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 23 Jun 2019 11:38:22 +0300
Subject: [R] Recovering former projects on R
In-Reply-To: <56306f23-d17a-25ed-f073-d66600800a76@comcast.net>
References: <CAPQaxLOi91KHdjhV08T64hCQ2CURsUFiRD1z6TtqbCSespPuCg@mail.gmail.com>
 <CAF8bMcYohSiUWj_50uacyRBw5gXbZKS0McFO=0eCSCSW-vzbgg@mail.gmail.com>
 <CAPQaxLPz-Dq8c=4F8cd2q2JddLNCNwZO84FO0c8QDJNB6+VUTw@mail.gmail.com>
 <56306f23-d17a-25ed-f073-d66600800a76@comcast.net>
Message-ID: <CAGgJW74-4NJ498+SceDymoSNeh=hMSryQvG5+ujGwAo7K6qb6A@mail.gmail.com>

RStudio has a panel with a tab 'History' (that panel also has tabs
'Environment' and 'Connections').
If you click on the 'History' tab and can see your relevant history, you
can then highlight commands of interest and click the 'To Console' button.
This copies the highlighted commands to the console and you can then press
the 'Enter' key to execute them.

Alternatively, you can open an R file (script) and press 'To Source'
instead of 'To Console'. This copies the highlighted commands to the source
file.
This is a great convenience in creating a source file to be (edited and)
executed as you wish.

HTH,
Eric


On Sat, Jun 22, 2019 at 12:44 AM David Winsemius <dwinsemius at comcast.net>
wrote:

>
> On 6/21/19 2:34 PM, Spencer Brackett wrote:
> > Thank you, I called them but was able to load what appears to be a reprex
> > of my Rhistory. If I remember correctly, there is a way to to reimplement
> > this history into your console so to regenerate previous work. How is
> this
> > done?
>
>
> Assuming you still have teh data files stored in the same locations as
> they were when the history was recorded you should be able to use teh
> `source` function. Or you could create an *.R file and execute it from
> your OS file viewer if you have the R extension associated with the R
> executable.
>
>
> ?source
>
> --
>
> David.
>
>
> >
> > Best,
> >
> > Spencer
> >
> > On Fri, Jun 21, 2019 at 4:51 PM William Dunlap <wdunlap at tibco.com>
> wrote:
> >
> >> You should ask someone at RStudio about this, but *.Rproj files are not
> >> something R itself knows about.  load() reads files made by save(),
> which
> >> usually have the extension ".Rdata" or ".rda".
> >>
> >> Bill Dunlap
> >> TIBCO Software
> >> wdunlap tibco.com
> >>
> >>
> >> On Fri, Jun 21, 2019 at 1:43 PM Spencer Brackett <
> >> spbrackett20 at saintjosephhs.com> wrote:
> >>
> >>> Good evening,
> >>>
> >>>    I am revisiting a project I had saved to R studio and after working
> with
> >>> it for a little, with loaded data and environments shown just as I left
> >>> them when I stopped working on the project, my console and the tabs
> opened
> >>> went blank. I believe I accidentally activated q() and quit the
> project. I
> >>> tried to re-access the same file with all of the work I?ve done for
> this
> >>> project saved onto it, and I got the following...
> >>>
> >>>
> >>>   load("~/R/GBM P-EXP/GBM P-EXP.Rproj")
> >>> Error in load("~/R/GBM P-EXP/GBM P-EXP.Rproj") :
> >>>    bad restore file magic number (file may be corrupted) -- no data
> loaded
> >>> In addition: Warning message:
> >>> file ?GBM P-EXP.Rproj? has magic number 'Versi'
> >>>    Use of save versions prior to 2 is deprecated
> >>>
> >>> Does this mean that I lost all of my previous work, or is there another
> >>> way
> >>> to recover all the coding and loaded environments that I had saved to
> this
> >>> file?  For context, I also tried accessing the project through a
> desktop
> >>> version of the file saved on my desktop through R Studio, but this also
> >>> just generated a blank terminal with no loaded environments.
> >>>
> >>> Any advice would be greatly appreciated!
> >>>
> >>> Best,
> >>>
> >>> Spencer Brackett
> >>>
> >>>          [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 14:57:32 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 13:57:32 +0100
Subject: [R] How to extract data based on first column ID in R
Message-ID: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>

Hi,

I need help to extract data based on first column ID in R.

I used the below code but not succeed , it is not giving the row values,
only showing the header of rows.

> head(data)


 Root-1.S35.L001.    Root-10.S75.L001

71f84e7910006f22684121564206e8ca      0.00000000                0

03b167b9f86f2519b4263b4125377eed      0.00000000                0

54e204fb99c80764e964456dadd6a0e5      0.00000000                0

55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0

65f5c31e12c277aec319e2096463f9d2      0.00000000                0

7bed62f0fef250fd831dcf13bf43f4fc           0.04679457                0


.....................................................


> head(otu.list)

  9d94ce7d60e59034941e3a12bc37865e

1 8e60d301122d7aa359eb6b0b00f37f62

2 bfad6370d28182cc6304844e9bec7fb6

3 088571139af8e0a63fb6652df8a7438b

4 ccd70d57890f276a542ef4b5e5142d4c

5 cab4ca278af34bf722e0c7cb3219370b

6 72f30f3780145f16ac882eb8e2d189a5


....................................


> i <- data[[1]] %in% otu.list

> dim(i)

NULL

> data[i, ]

 [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001

 [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001

 [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001

[13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001

[17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001

[21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001


.............


Could you please suggest how I can get the row values along with the header?


Thanks

Yogesh

	[[alternative HTML version deleted]]


From M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz  Sun Jun 23 15:05:23 2019
From: M@Thev@r@j@ @end|ng |rom m@@@ey@@c@nz (Thevaraja, Mayooran)
Date: Sun, 23 Jun 2019 13:05:23 +0000
Subject: [R] How to extract data based on first column ID in R
In-Reply-To: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>
References: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>
Message-ID: <MEXPR01MB2069A97B87B0E2E68CFC6D2EC9E10@MEXPR01MB2069.ausprd01.prod.outlook.com>

Hello

            Check out following link:



https://dzone.com/articles/learn-r-how-extract-rows



https://stat.ethz.ch/R-manual/R-devel/library/base/html/Extract.data.frame.html



Cheers



Mayooran



Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10



From: Yogesh Gupta<mailto:nabiyogesh at gmail.com>
Sent: Monday, June 24, 2019 12:58 AM
To: r-help at r-project.org<mailto:r-help at r-project.org>
Subject: [R] How to extract data based on first column ID in R



Hi,

I need help to extract data based on first column ID in R.

I used the below code but not succeed , it is not giving the row values,
only showing the header of rows.

> head(data)


 Root-1.S35.L001.    Root-10.S75.L001

71f84e7910006f22684121564206e8ca      0.00000000                0

03b167b9f86f2519b4263b4125377eed      0.00000000                0

54e204fb99c80764e964456dadd6a0e5      0.00000000                0

55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0

65f5c31e12c277aec319e2096463f9d2      0.00000000                0

7bed62f0fef250fd831dcf13bf43f4fc           0.04679457                0


.....................................................


> head(otu.list)

  9d94ce7d60e59034941e3a12bc37865e

1 8e60d301122d7aa359eb6b0b00f37f62

2 bfad6370d28182cc6304844e9bec7fb6

3 088571139af8e0a63fb6652df8a7438b

4 ccd70d57890f276a542ef4b5e5142d4c

5 cab4ca278af34bf722e0c7cb3219370b

6 72f30f3780145f16ac882eb8e2d189a5


....................................


> i <- data[[1]] %in% otu.list

> dim(i)

NULL

> data[i, ]

 [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001

 [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001

 [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001

[13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001

[17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001

[21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001


.............


Could you please suggest how I can get the row values along with the header?


Thanks

Yogesh

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Sun Jun 23 15:56:21 2019
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Sun, 23 Jun 2019 09:56:21 -0400
Subject: [R] How to change x axes labels in plot_ly?
In-Reply-To: <016501d52779$75259120$5f70b360$@gmail.com>
References: <016501d52779$75259120$5f70b360$@gmail.com>
Message-ID: <CAKZQJMBX1bi2WOCfW=dwR8jguRFho=MJns7h4rU6QJvt6nSC0A@mail.gmail.com>

Could you supply some code and sample data. The data should be in
dput() format. The way the data has arrived is very difficult to read.

I have never heard of ploty. Is that a typo?

To answer your direct question, yes you should be able to change the
x-axis labels but we need to get some idea of what exactly you are
doing before we can easily suggest a solution.

I would recommend reading this two links to get an idea of how to
present a question in order to get the besc reply
http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

 http://adv-r.had.co.nz/Reproducibility.html

On Thu, 20 Jun 2019 at 11:05, <nstefi at gmail.com> wrote:
>
> Hi everyone,
>
>
>
> I have been struggling with this for a while, and I hope someone can give me
> some advice.
>
> I have built a line chart that shows a cumulated value of number of
> transactions, and there are 2 lines on the chart comparing last year with
> this year.
>
> The way I matched last year's data with this year's data is by the month and
> day (without the year), so my data looks like this:
>
>
> Month-Day
>
> FiscalYear_Days
>
> Last_year
>
> This_Year
>
>
> 05-01
>
> 0
>
> 16
>
> 10
>
>
> 05-02
>
> 1
>
> 17
>
> 14
>
>
> 05-03
>
> 2
>
> 22
>
> 18
>
>
> 05-04
>
> 3
>
> 25
>
> 18
>
>
>
> chart_data <- matrix(c("05-01", "05-02", "05-03", "05-04",
>
>                 "0", "1", "2", "3",
>
>                 "16", "17", "22", "25",
>
>                 "10", "14", "18", "18"),
>
>                 nrow=4, ncol=4, dimnames=list(c("A","B","C","D"),
> c("Month-Day","FiscalYear_Days", "Last_year", "This_Year")))
>
>
>
> Since our fiscal year doesn't start on January 1st, I had to introduce this
> column called "FiscalYear_Days", which is the number of days passed since
> 1st day of fiscal year, and matched last year and current year by that
> instead. Otherwise I had a problem with plot_ly() showing the chart starting
> with January 1st on the left.
>
>
>
> Now I figured out a way to change the order of the x axis labels to make it
> based on the "FiscalYear_Days" instead. This is a simplified plot:
>
> plot_ly(renewals_chart_data,
>
>         x = ~`Month-Day`,
>
>         y = ~Last_Year,
>
>         type = 'scatter',
>
>         mode = 'lines'
>
> ) %>%
>
>   layout(xaxis = list(categoryarray = renewals_chart_data$FiscalYear_Days,
> categoryorder = "array"))
>
>
>
> My problem now is that if the period is longer than 1 year, under Month-Day
> column I will have some repeating values starting from following year May
> 1st (05-01, 05-02, etc.), and the plotly chart shows an increasing line that
> returns back to the left side when reaches the next year's May 1st.
>
> How can I make the line to continue on the right?
>
> If I change plotly to show the x axis based on "FiscalYear_Days", the line
> is right, but I want at the bottom to show the month and day as labels:
>
> plot_ly(renewals_chart_data,
>
>         x = ~`FiscalYear_Days`,
>
>         y = ~Last_Year,
>
>         type = 'scatter',
>
>         mode = 'lines'
>
> ) %>%
>
>   layout(xaxis = list(categoryarray = renewals_chart_data$FiscalYear_Days,
> categoryorder = "array"))
>
>
>
> Is it possible to just change the x axis label values?
>
>
>
> Thanks a lot,
>
> Steven
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
John Kane
Kingston ON Canada


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Jun 23 16:34:16 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 23 Jun 2019 15:34:16 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
 <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>
 <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
Message-ID: <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>

Hello,

Please always cc the list.

The data you have posted has the values you want to match as 
*row.names*, not as the first column values.

This is why it is important to follow the posting guide and post 
datasets as it suggests, in dput() format.

dput(head(data))    # post the output of this


In the mean time, try

i <- row.names(data) %in% otu.list
data[i, ]


Also, dim(i) doesn't make sense, it's a vector and in R it's not 
expected to have a dim attribute. What would have made sense would have 
been

length(i)
sum(i)


Hope this helps,

Rui Barradas


?s 11:41 de 23/06/19, Yogesh Gupta escreveu:
> Hi Rui,
> 
> I used the code as you suggested , it is not giving the row values, only 
> showing the header of rows.
> 
>> head(data)
> 
>  ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Root-1.S35.L001 Root-10.S75.L001
> 
> 71f84e7910006f22684121564206e8ca? ? ? 0.00000000? ? ? ? ? ? ? ? 0
> 
> 03b167b9f86f2519b4263b4125377eed? ? ? 0.00000000? ? ? ? ? ? ? ? 0
> 
> 54e204fb99c80764e964456dadd6a0e5? ? ? 0.00000000? ? ? ? ? ? ? ? 0
> 
> 55cd1fc570879d645bbf7a3642e9b0a8? ? ? 0.00000000? ? ? ? ? ? ? ? 0
> 
> 65f5c31e12c277aec319e2096463f9d2? ? ? 0.00000000? ? ? ? ? ? ? ? 0
> 
> 7bed62f0fef250fd831dcf13bf43f4fc? ? ? 0.04679457? ? ? ? ? ? ? ? 0
> 
> 
> .....................................................
> 
> 
>> head(otu.list)
> 
>  ? 9d94ce7d60e59034941e3a12bc37865e
> 
> 1 8e60d301122d7aa359eb6b0b00f37f62
> 
> 2 bfad6370d28182cc6304844e9bec7fb6
> 
> 3 088571139af8e0a63fb6652df8a7438b
> 
> 4 ccd70d57890f276a542ef4b5e5142d4c
> 
> 5 cab4ca278af34bf722e0c7cb3219370b
> 
> 6 72f30f3780145f16ac882eb8e2d189a5
> 
> 
> ....................................
> 
> 
>> i <- data[[1]] %in% otu.list
> 
>> dim(i)
> 
> NULL
> 
>> data[i, ]
> 
>  ?[1] Root-1.S35.L001? Root-10.S75.L001 Root-13.S5.L001? Root-14.S16.L001
> 
>  ?[5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
> 
>  ?[9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001? Root-27.S17.L001
> 
> [13] Root-3.S45.L001? Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
> 
> [17] Root-39.S57.L001 Root-4.S55.L001? Root-40.S67.L001 Root-41.S77.L001
> 
> [21] Root-43.S7.L001? Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
> 
> 
> .............
> 
> 
> Could you please suggest how I can get the row values along with the harder?
> 
> 
> Kind Regards
> 
> Yogesh
> 
> 
> 
> 
> *Yogesh Gupta*
> *Research Fellow*
> *Institute for Global Food Security*
> *Queen's University*
> *Belfast, UK*
> 
> 
> 
> On Fri, Jun 21, 2019 at 9:29 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     Please don't post in HTML like the posting guide asks you to, the data
>     is unreadable.
> 
>     Not tested:
> 
>     i <- data[[1]] %in% ID.list
>     data[i, ]
> 
> 
>     That's it.
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 21:09 de 21/06/19, Yogesh Gupta escreveu:
>      > Hi,
>      >
>      > I do need to filter data based on first column could you please
>     suggest ,
>      > How I can do it in R.
>      >
>      >
>      >
>      >
>      >
>      >
>      >
>      > head(data)
>      >
>      >
>      >
>      > Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
>      > Root-17.S26.L001
>      > 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
>      > bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
>      > 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
>      > aed34f36d535976c247278bec289fd12 0.580694642 0.113445793 0.56221674
>      > 0.06764097 0.525782644
>      > 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
>      > d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
>      > 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
>      > 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861
>     0.254166069
>      > 0.463074623
>      > 3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703 0.061193659
>      > 0.038944801 0.02411847
>      >
>      > I need to extract data for the below IDs
>      >
>      > head(ID.list)
>      >
>      > 719e20e1e3d19fbc5dd50844c6d29a8f
>      > bfffa74c0971b30ccf3b19f65911801f
>      > 62a5c6f5e0adda662739a7ac521ea790
>      >
>      > I will be tankful for your help.
>      >
>      > Thanks
>      > Yogesh
>      >
>      > *Yogesh Gupta*
>      > *Research Fellow*
>      > *Institute for Global Food Security*
>      > *Queen's University*
>      > *Belfast, UK*
>      >
>      >? ? ? ?[[alternative HTML version deleted]]
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>      > and provide commented, minimal, self-contained, reproducible code.
>      >
>


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 17:20:44 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 16:20:44 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
 <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>
 <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
 <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>
Message-ID: <CAJE2if10kcF2oZM8-t=NQOf0p2=JF11jWCXT8LzJb4XJQN5FPA@mail.gmail.com>

Hi Rui,

Thanks for your help. but still I did able to get the data.

> dput(head(data))

structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678

), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,

0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
`Root-17.S26.L001` = c(0,

0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
`Root-19.S46.L001` = c(0,

0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
`Root-24.S66.L001` = c(0,

0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0), `Root-26.S6.L001`
= c(0,

0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,

0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0), `Root-30.S27.L001` =
c(0,

0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
`Root-34.S47.L001` = c(0,

0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0), `Root-4.S55.L001`
= c(0,

0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,

0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,

0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,

0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001` = c(0,

0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
`Root-51.S48.L001` = c(0,

0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,

0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,

0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,

0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,

0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,

0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,

0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,

0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,

0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,

0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
0.00731421884142774,

0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
0.00780065971293572,

0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
c(0.00368785956630772,

0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0, 0.0306968177632252,

0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,

0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,

0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,

0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
c(0.0150072892547809,

0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,

0, 0, 0.0062986835751328, 0, 0)), row.names =
c("71f84e7910006f22684121564206e8ca",

"03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",

"55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",

"7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")


> i <- row.names(data) %in% otu.list

> data[i, ]

 [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001

 [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001

 [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001

[13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001

[17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001

[21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001

[25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001  Root.11.S5

[29] Root.12.S16      Root.15.S26      Root.16.S36      Root.2.S35

[33] Root.20.S46      Root.21.S56      Root.23.S66      Root.28.S76

[37] Root.29.S6       Root.31.S17      Root.33.S27      Root.35.S37

[41] Root.36.S47      Root.37.S57      Root.38.S67      Root.42.S77

[45] Root.44.S7       Root.46.S18      Root.48.S28      Root.49.S38

[49] Root.5.S45       Root.52.S48      Root.53.S58      Root.6.S55

[53] Root.7.S65       Root.8.S75

<0 rows> (or 0-length row.names)


Thanks

Yogesh



On Sun, Jun 23, 2019 at 3:34 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Please always cc the list.
>
> The data you have posted has the values you want to match as
> *row.names*, not as the first column values.
>
> This is why it is important to follow the posting guide and post
> datasets as it suggests, in dput() format.
>
> dput(head(data))    # post the output of this
>
>
> In the mean time, try
>
> i <- row.names(data) %in% otu.list
> data[i, ]
>
>
> Also, dim(i) doesn't make sense, it's a vector and in R it's not
> expected to have a dim attribute. What would have made sense would have
> been
>
> length(i)
> sum(i)
>
>
> Hope this helps,
>
> Rui Barradas
>
>
> ?s 11:41 de 23/06/19, Yogesh Gupta escreveu:
> > Hi Rui,
> >
> > I used the code as you suggested , it is not giving the row values, only
> > showing the header of rows.
> >
> >> head(data)
> >
> >                                   Root-1.S35.L001 Root-10.S75.L001
> >
> > 71f84e7910006f22684121564206e8ca      0.00000000                0
> >
> > 03b167b9f86f2519b4263b4125377eed      0.00000000                0
> >
> > 54e204fb99c80764e964456dadd6a0e5      0.00000000                0
> >
> > 55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0
> >
> > 65f5c31e12c277aec319e2096463f9d2      0.00000000                0
> >
> > 7bed62f0fef250fd831dcf13bf43f4fc      0.04679457                0
> >
> >
> > .....................................................
> >
> >
> >> head(otu.list)
> >
> >    9d94ce7d60e59034941e3a12bc37865e
> >
> > 1 8e60d301122d7aa359eb6b0b00f37f62
> >
> > 2 bfad6370d28182cc6304844e9bec7fb6
> >
> > 3 088571139af8e0a63fb6652df8a7438b
> >
> > 4 ccd70d57890f276a542ef4b5e5142d4c
> >
> > 5 cab4ca278af34bf722e0c7cb3219370b
> >
> > 6 72f30f3780145f16ac882eb8e2d189a5
> >
> >
> > ....................................
> >
> >
> >> i <- data[[1]] %in% otu.list
> >
> >> dim(i)
> >
> > NULL
> >
> >> data[i, ]
> >
> >   [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
> >
> >   [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
> >
> >   [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
> >
> > [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
> >
> > [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
> >
> > [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
> >
> >
> > .............
> >
> >
> > Could you please suggest how I can get the row values along with the
> harder?
> >
> >
> > Kind Regards
> >
> > Yogesh
> >
> >
> >
> >
> > *Yogesh Gupta*
> > *Research Fellow*
> > *Institute for Global Food Security*
> > *Queen's University*
> > *Belfast, UK*
> >
> >
> >
> > On Fri, Jun 21, 2019 at 9:29 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     Please don't post in HTML like the posting guide asks you to, the
> data
> >     is unreadable.
> >
> >     Not tested:
> >
> >     i <- data[[1]] %in% ID.list
> >     data[i, ]
> >
> >
> >     That's it.
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 21:09 de 21/06/19, Yogesh Gupta escreveu:
> >      > Hi,
> >      >
> >      > I do need to filter data based on first column could you please
> >     suggest ,
> >      > How I can do it in R.
> >      >
> >      >
> >      >
> >      >
> >      >
> >      >
> >      >
> >      > head(data)
> >      >
> >      >
> >      >
> >      > Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
> >      > Root-17.S26.L001
> >      > 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
> >      > bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
> >      > 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
> >      > aed34f36d535976c247278bec289fd12 0.580694642 0.113445793
> 0.56221674
> >      > 0.06764097 0.525782644
> >      > 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
> >      > d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
> >      > 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
> >      > 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861
> >     0.254166069
> >      > 0.463074623
> >      > 3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703
> 0.061193659
> >      > 0.038944801 0.02411847
> >      >
> >      > I need to extract data for the below IDs
> >      >
> >      > head(ID.list)
> >      >
> >      > 719e20e1e3d19fbc5dd50844c6d29a8f
> >      > bfffa74c0971b30ccf3b19f65911801f
> >      > 62a5c6f5e0adda662739a7ac521ea790
> >      >
> >      > I will be tankful for your help.
> >      >
> >      > Thanks
> >      > Yogesh
> >      >
> >      > *Yogesh Gupta*
> >      > *Research Fellow*
> >      > *Institute for Global Food Security*
> >      > *Queen's University*
> >      > *Belfast, UK*
> >      >
> >      >       [[alternative HTML version deleted]]
> >      >
> >      > ______________________________________________
> >      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
> >     -- To UNSUBSCRIBE and more, see
> >      > https://stat.ethz.ch/mailman/listinfo/r-help
> >      > PLEASE do read the posting guide
> >     http://www.R-project.org/posting-guide.html
> >      > and provide commented, minimal, self-contained, reproducible code.
> >      >
> >
>

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 17:22:06 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 16:22:06 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if10kcF2oZM8-t=NQOf0p2=JF11jWCXT8LzJb4XJQN5FPA@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
 <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>
 <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
 <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>
 <CAJE2if10kcF2oZM8-t=NQOf0p2=JF11jWCXT8LzJb4XJQN5FPA@mail.gmail.com>
Message-ID: <CAJE2if2k1H6eZ-ZW8Rrc5RH7O4Rmr3zHJe2TFAWg9pYPJ4AUeA@mail.gmail.com>

Hi Rui,

Thanks for your help. but still I did not able to get the data.

> dput(head(data))

structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678

), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,

0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
`Root-17.S26.L001` = c(0,

0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
`Root-19.S46.L001` = c(0,

0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
`Root-24.S66.L001` = c(0,

0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0), `Root-26.S6.L001`
= c(0,

0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,

0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0), `Root-30.S27.L001` =
c(0,

0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
`Root-34.S47.L001` = c(0,

0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0), `Root-4.S55.L001`
= c(0,

0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,

0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,

0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,

0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001` = c(0,

0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
`Root-51.S48.L001` = c(0,

0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,

0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,

0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,

0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,

0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,

0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,

0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,

0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,

0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,

0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
0.00731421884142774,

0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
0.00780065971293572,

0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
c(0.00368785956630772,

0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0, 0.0306968177632252,

0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,

0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,

0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,

0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
c(0.0150072892547809,

0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,

0, 0, 0.0062986835751328, 0, 0)), row.names =
c("71f84e7910006f22684121564206e8ca",

"03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",

"55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",

"7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")


> i <- row.names(data) %in% otu.list

> data[i, ]

 [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001

 [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001

 [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001

[13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001

[17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001

[21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001

[25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001  Root.11.S5

[29] Root.12.S16      Root.15.S26      Root.16.S36      Root.2.S35

[33] Root.20.S46      Root.21.S56      Root.23.S66      Root.28.S76

[37] Root.29.S6       Root.31.S17      Root.33.S27      Root.35.S37

[41] Root.36.S47      Root.37.S57      Root.38.S67      Root.42.S77

[45] Root.44.S7       Root.46.S18      Root.48.S28      Root.49.S38

[49] Root.5.S45       Root.52.S48      Root.53.S58      Root.6.S55

[53] Root.7.S65       Root.8.S75

<0 rows> (or 0-length row.names)


Thanks



On Sun, Jun 23, 2019 at 4:20 PM Yogesh Gupta <nabiyogesh at gmail.com> wrote:

> Hi Rui,
>
> Thanks for your help. but still I did able to get the data.
>
> > dput(head(data))
>
> structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678
>
> ), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-17.S26.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-19.S46.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-24.S66.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-26.S6.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,
>
> 0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0), `Root-30.S27.L001` =
> c(0,
>
> 0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-34.S47.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-4.S55.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,
>
> 0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,
>
> 0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,
>
> 0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-51.S48.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,
>
> 0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,
>
> 0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,
>
> 0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,
>
> 0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,
>
> 0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,
>
> 0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,
>
> 0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,
>
> 0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,
>
> 0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
> 0.00731421884142774,
>
> 0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
> 0.00780065971293572,
>
> 0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
> c(0.00368785956630772,
>
> 0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0, 0.0306968177632252,
>
> 0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,
>
> 0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,
>
> 0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,
>
> 0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
> c(0.0150072892547809,
>
> 0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,
>
> 0, 0, 0.0062986835751328, 0, 0)), row.names =
> c("71f84e7910006f22684121564206e8ca",
>
> "03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",
>
> "55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",
>
> "7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")
>
>
> > i <- row.names(data) %in% otu.list
>
> > data[i, ]
>
>  [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
>
>  [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
>
>  [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
>
> [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
>
> [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
>
> [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
>
> [25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001  Root.11.S5
>
> [29] Root.12.S16      Root.15.S26      Root.16.S36      Root.2.S35
>
> [33] Root.20.S46      Root.21.S56      Root.23.S66      Root.28.S76
>
> [37] Root.29.S6       Root.31.S17      Root.33.S27      Root.35.S37
>
> [41] Root.36.S47      Root.37.S57      Root.38.S67      Root.42.S77
>
> [45] Root.44.S7       Root.46.S18      Root.48.S28      Root.49.S38
>
> [49] Root.5.S45       Root.52.S48      Root.53.S58      Root.6.S55
>
> [53] Root.7.S65       Root.8.S75
>
> <0 rows> (or 0-length row.names)
>
>
> Thanks
>
> Yogesh
>
>
>
> On Sun, Jun 23, 2019 at 3:34 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> Please always cc the list.
>>
>> The data you have posted has the values you want to match as
>> *row.names*, not as the first column values.
>>
>> This is why it is important to follow the posting guide and post
>> datasets as it suggests, in dput() format.
>>
>> dput(head(data))    # post the output of this
>>
>>
>> In the mean time, try
>>
>> i <- row.names(data) %in% otu.list
>> data[i, ]
>>
>>
>> Also, dim(i) doesn't make sense, it's a vector and in R it's not
>> expected to have a dim attribute. What would have made sense would have
>> been
>>
>> length(i)
>> sum(i)
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>
>> ?s 11:41 de 23/06/19, Yogesh Gupta escreveu:
>> > Hi Rui,
>> >
>> > I used the code as you suggested , it is not giving the row values,
>> only
>> > showing the header of rows.
>> >
>> >> head(data)
>> >
>> >                                   Root-1.S35.L001 Root-10.S75.L001
>> >
>> > 71f84e7910006f22684121564206e8ca      0.00000000                0
>> >
>> > 03b167b9f86f2519b4263b4125377eed      0.00000000                0
>> >
>> > 54e204fb99c80764e964456dadd6a0e5      0.00000000                0
>> >
>> > 55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0
>> >
>> > 65f5c31e12c277aec319e2096463f9d2      0.00000000                0
>> >
>> > 7bed62f0fef250fd831dcf13bf43f4fc      0.04679457                0
>> >
>> >
>> > .....................................................
>> >
>> >
>> >> head(otu.list)
>> >
>> >    9d94ce7d60e59034941e3a12bc37865e
>> >
>> > 1 8e60d301122d7aa359eb6b0b00f37f62
>> >
>> > 2 bfad6370d28182cc6304844e9bec7fb6
>> >
>> > 3 088571139af8e0a63fb6652df8a7438b
>> >
>> > 4 ccd70d57890f276a542ef4b5e5142d4c
>> >
>> > 5 cab4ca278af34bf722e0c7cb3219370b
>> >
>> > 6 72f30f3780145f16ac882eb8e2d189a5
>> >
>> >
>> > ....................................
>> >
>> >
>> >> i <- data[[1]] %in% otu.list
>> >
>> >> dim(i)
>> >
>> > NULL
>> >
>> >> data[i, ]
>> >
>> >   [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001
>> Root-14.S16.L001
>> >
>> >   [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001
>> Root-22.S56.L001
>> >
>> >   [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001
>> Root-27.S17.L001
>> >
>> > [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
>> >
>> > [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
>> >
>> > [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
>> >
>> >
>> > .............
>> >
>> >
>> > Could you please suggest how I can get the row values along with the
>> harder?
>> >
>> >
>> > Kind Regards
>> >
>> > Yogesh
>> >
>> >
>> >
>> >
>> > *Yogesh Gupta*
>> > *Research Fellow*
>> > *Institute for Global Food Security*
>> > *Queen's University*
>> > *Belfast, UK*
>> >
>> >
>> >
>> > On Fri, Jun 21, 2019 at 9:29 PM Rui Barradas <ruipbarradas at sapo.pt
>> > <mailto:ruipbarradas at sapo.pt>> wrote:
>> >
>> >     Hello,
>> >
>> >     Please don't post in HTML like the posting guide asks you to, the
>> data
>> >     is unreadable.
>> >
>> >     Not tested:
>> >
>> >     i <- data[[1]] %in% ID.list
>> >     data[i, ]
>> >
>> >
>> >     That's it.
>> >
>> >     Hope this helps,
>> >
>> >     Rui Barradas
>> >
>> >     ?s 21:09 de 21/06/19, Yogesh Gupta escreveu:
>> >      > Hi,
>> >      >
>> >      > I do need to filter data based on first column could you please
>> >     suggest ,
>> >      > How I can do it in R.
>> >      >
>> >      >
>> >      >
>> >      >
>> >      >
>> >      >
>> >      >
>> >      > head(data)
>> >      >
>> >      >
>> >      >
>> >      > Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001 Root-14.S16.L001
>> >      > Root-17.S26.L001
>> >      > 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
>> >      > bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
>> >      > 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
>> >      > aed34f36d535976c247278bec289fd12 0.580694642 0.113445793
>> 0.56221674
>> >      > 0.06764097 0.525782644
>> >      > 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
>> >      > d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
>> >      > 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
>> >      > 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861
>> >     0.254166069
>> >      > 0.463074623
>> >      > 3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703
>> 0.061193659
>> >      > 0.038944801 0.02411847
>> >      >
>> >      > I need to extract data for the below IDs
>> >      >
>> >      > head(ID.list)
>> >      >
>> >      > 719e20e1e3d19fbc5dd50844c6d29a8f
>> >      > bfffa74c0971b30ccf3b19f65911801f
>> >      > 62a5c6f5e0adda662739a7ac521ea790
>> >      >
>> >      > I will be tankful for your help.
>> >      >
>> >      > Thanks
>> >      > Yogesh
>> >      >
>> >      > *Yogesh Gupta*
>> >      > *Research Fellow*
>> >      > *Institute for Global Food Security*
>> >      > *Queen's University*
>> >      > *Belfast, UK*
>> >      >
>> >      >       [[alternative HTML version deleted]]
>> >      >
>> >      > ______________________________________________
>> >      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>> >     -- To UNSUBSCRIBE and more, see
>> >      > https://stat.ethz.ch/mailman/listinfo/r-help
>> >      > PLEASE do read the posting guide
>> >     http://www.R-project.org/posting-guide.html
>> >      > and provide commented, minimal, self-contained, reproducible
>> code.
>> >      >
>> >
>>
>

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 17:27:35 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 16:27:35 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if2k1H6eZ-ZW8Rrc5RH7O4Rmr3zHJe2TFAWg9pYPJ4AUeA@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
 <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>
 <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
 <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>
 <CAJE2if10kcF2oZM8-t=NQOf0p2=JF11jWCXT8LzJb4XJQN5FPA@mail.gmail.com>
 <CAJE2if2k1H6eZ-ZW8Rrc5RH7O4Rmr3zHJe2TFAWg9pYPJ4AUeA@mail.gmail.com>
Message-ID: <CAJE2if1Qs45KNywFH0WhDscwghQGuF=DGi0p=dzNQkJtmDbO7g@mail.gmail.com>

I have read data table and out.list in R  like this:

> data =
read.table("Mymensingh_root_relative.percent.COUNT.txt",header=T,sep='\t',check.names=F)

> otu.list =
read.table("root_differential.OTU.list.txt",header=T,sep='\t',check.names=F)


these both are tab delimited text files.


*Thanks*

*Yogesh*




On Sun, Jun 23, 2019 at 4:22 PM Yogesh Gupta <nabiyogesh at gmail.com> wrote:

> Hi Rui,
>
> Thanks for your help. but still I did not able to get the data.
>
> > dput(head(data))
>
> structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678
>
> ), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-17.S26.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-19.S46.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-24.S66.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-26.S6.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,
>
> 0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0), `Root-30.S27.L001` =
> c(0,
>
> 0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-34.S47.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-4.S55.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,
>
> 0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,
>
> 0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,
>
> 0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
> `Root-51.S48.L001` = c(0,
>
> 0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,
>
> 0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,
>
> 0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,
>
> 0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,
>
> 0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,
>
> 0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,
>
> 0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,
>
> 0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,
>
> 0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,
>
> 0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
> 0.00731421884142774,
>
> 0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
> 0.00780065971293572,
>
> 0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
> c(0.00368785956630772,
>
> 0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0, 0.0306968177632252,
>
> 0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,
>
> 0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,
>
> 0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,
>
> 0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
> c(0.0150072892547809,
>
> 0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,
>
> 0, 0, 0.0062986835751328, 0, 0)), row.names =
> c("71f84e7910006f22684121564206e8ca",
>
> "03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",
>
> "55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",
>
> "7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")
>
>
> > i <- row.names(data) %in% otu.list
>
> > data[i, ]
>
>  [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
>
>  [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
>
>  [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
>
> [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
>
> [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
>
> [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
>
> [25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001  Root.11.S5
>
> [29] Root.12.S16      Root.15.S26      Root.16.S36      Root.2.S35
>
> [33] Root.20.S46      Root.21.S56      Root.23.S66      Root.28.S76
>
> [37] Root.29.S6       Root.31.S17      Root.33.S27      Root.35.S37
>
> [41] Root.36.S47      Root.37.S57      Root.38.S67      Root.42.S77
>
> [45] Root.44.S7       Root.46.S18      Root.48.S28      Root.49.S38
>
> [49] Root.5.S45       Root.52.S48      Root.53.S58      Root.6.S55
>
> [53] Root.7.S65       Root.8.S75
>
> <0 rows> (or 0-length row.names)
>
>
> Thanks
>
>
>
> On Sun, Jun 23, 2019 at 4:20 PM Yogesh Gupta <nabiyogesh at gmail.com> wrote:
>
>> Hi Rui,
>>
>> Thanks for your help. but still I did able to get the data.
>>
>> > dput(head(data))
>>
>> structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678
>>
>> ), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-17.S26.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-19.S46.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-24.S66.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-26.S6.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,
>>
>> 0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0), `Root-30.S27.L001`
>> = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-34.S47.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-4.S55.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,
>>
>> 0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,
>>
>> 0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,
>>
>> 0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001` =
>> c(0,
>>
>> 0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
>> `Root-51.S48.L001` = c(0,
>>
>> 0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,
>>
>> 0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,
>>
>> 0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,
>>
>> 0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,
>>
>> 0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,
>>
>> 0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,
>>
>> 0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,
>>
>> 0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,
>>
>> 0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,
>>
>> 0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
>> 0.00731421884142774,
>>
>> 0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
>> 0.00780065971293572,
>>
>> 0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
>> c(0.00368785956630772,
>>
>> 0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0,
>> 0.0306968177632252,
>>
>> 0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,
>>
>> 0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,
>>
>> 0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,
>>
>> 0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
>> c(0.0150072892547809,
>>
>> 0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,
>>
>> 0, 0, 0.0062986835751328, 0, 0)), row.names =
>> c("71f84e7910006f22684121564206e8ca",
>>
>> "03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",
>>
>> "55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",
>>
>> "7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")
>>
>>
>> > i <- row.names(data) %in% otu.list
>>
>> > data[i, ]
>>
>>  [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
>>
>>  [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
>>
>>  [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
>>
>> [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
>>
>> [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
>>
>> [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
>>
>> [25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001  Root.11.S5
>>
>> [29] Root.12.S16      Root.15.S26      Root.16.S36      Root.2.S35
>>
>> [33] Root.20.S46      Root.21.S56      Root.23.S66      Root.28.S76
>>
>> [37] Root.29.S6       Root.31.S17      Root.33.S27      Root.35.S37
>>
>> [41] Root.36.S47      Root.37.S57      Root.38.S67      Root.42.S77
>>
>> [45] Root.44.S7       Root.46.S18      Root.48.S28      Root.49.S38
>>
>> [49] Root.5.S45       Root.52.S48      Root.53.S58      Root.6.S55
>>
>> [53] Root.7.S65       Root.8.S75
>>
>> <0 rows> (or 0-length row.names)
>>
>>
>> Thanks
>>
>> Yogesh
>>
>>
>>
>> On Sun, Jun 23, 2019 at 3:34 PM Rui Barradas <ruipbarradas at sapo.pt>
>> wrote:
>>
>>> Hello,
>>>
>>> Please always cc the list.
>>>
>>> The data you have posted has the values you want to match as
>>> *row.names*, not as the first column values.
>>>
>>> This is why it is important to follow the posting guide and post
>>> datasets as it suggests, in dput() format.
>>>
>>> dput(head(data))    # post the output of this
>>>
>>>
>>> In the mean time, try
>>>
>>> i <- row.names(data) %in% otu.list
>>> data[i, ]
>>>
>>>
>>> Also, dim(i) doesn't make sense, it's a vector and in R it's not
>>> expected to have a dim attribute. What would have made sense would have
>>> been
>>>
>>> length(i)
>>> sum(i)
>>>
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>>
>>> ?s 11:41 de 23/06/19, Yogesh Gupta escreveu:
>>> > Hi Rui,
>>> >
>>> > I used the code as you suggested , it is not giving the row values,
>>> only
>>> > showing the header of rows.
>>> >
>>> >> head(data)
>>> >
>>> >                                   Root-1.S35.L001 Root-10.S75.L001
>>> >
>>> > 71f84e7910006f22684121564206e8ca      0.00000000                0
>>> >
>>> > 03b167b9f86f2519b4263b4125377eed      0.00000000                0
>>> >
>>> > 54e204fb99c80764e964456dadd6a0e5      0.00000000                0
>>> >
>>> > 55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0
>>> >
>>> > 65f5c31e12c277aec319e2096463f9d2      0.00000000                0
>>> >
>>> > 7bed62f0fef250fd831dcf13bf43f4fc      0.04679457                0
>>> >
>>> >
>>> > .....................................................
>>> >
>>> >
>>> >> head(otu.list)
>>> >
>>> >    9d94ce7d60e59034941e3a12bc37865e
>>> >
>>> > 1 8e60d301122d7aa359eb6b0b00f37f62
>>> >
>>> > 2 bfad6370d28182cc6304844e9bec7fb6
>>> >
>>> > 3 088571139af8e0a63fb6652df8a7438b
>>> >
>>> > 4 ccd70d57890f276a542ef4b5e5142d4c
>>> >
>>> > 5 cab4ca278af34bf722e0c7cb3219370b
>>> >
>>> > 6 72f30f3780145f16ac882eb8e2d189a5
>>> >
>>> >
>>> > ....................................
>>> >
>>> >
>>> >> i <- data[[1]] %in% otu.list
>>> >
>>> >> dim(i)
>>> >
>>> > NULL
>>> >
>>> >> data[i, ]
>>> >
>>> >   [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001
>>> Root-14.S16.L001
>>> >
>>> >   [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001
>>> Root-22.S56.L001
>>> >
>>> >   [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001
>>> Root-27.S17.L001
>>> >
>>> > [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001
>>> Root-34.S47.L001
>>> >
>>> > [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001
>>> Root-41.S77.L001
>>> >
>>> > [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001
>>> Root-50.S38.L001
>>> >
>>> >
>>> > .............
>>> >
>>> >
>>> > Could you please suggest how I can get the row values along with the
>>> harder?
>>> >
>>> >
>>> > Kind Regards
>>> >
>>> > Yogesh
>>> >
>>> >
>>> >
>>> >
>>> > *Yogesh Gupta*
>>> > *Research Fellow*
>>> > *Institute for Global Food Security*
>>> > *Queen's University*
>>> > *Belfast, UK*
>>> >
>>> >
>>> >
>>> > On Fri, Jun 21, 2019 at 9:29 PM Rui Barradas <ruipbarradas at sapo.pt
>>> > <mailto:ruipbarradas at sapo.pt>> wrote:
>>> >
>>> >     Hello,
>>> >
>>> >     Please don't post in HTML like the posting guide asks you to, the
>>> data
>>> >     is unreadable.
>>> >
>>> >     Not tested:
>>> >
>>> >     i <- data[[1]] %in% ID.list
>>> >     data[i, ]
>>> >
>>> >
>>> >     That's it.
>>> >
>>> >     Hope this helps,
>>> >
>>> >     Rui Barradas
>>> >
>>> >     ?s 21:09 de 21/06/19, Yogesh Gupta escreveu:
>>> >      > Hi,
>>> >      >
>>> >      > I do need to filter data based on first column could you please
>>> >     suggest ,
>>> >      > How I can do it in R.
>>> >      >
>>> >      >
>>> >      >
>>> >      >
>>> >      >
>>> >      >
>>> >      >
>>> >      > head(data)
>>> >      >
>>> >      >
>>> >      >
>>> >      > Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001
>>> Root-14.S16.L001
>>> >      > Root-17.S26.L001
>>> >      > 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0 0.033765858
>>> >      > bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
>>> >      > 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
>>> >      > aed34f36d535976c247278bec289fd12 0.580694642 0.113445793
>>> 0.56221674
>>> >      > 0.06764097 0.525782644
>>> >      > 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
>>> >      > d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
>>> >      > 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811 0.019294776
>>> >      > 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0 0.271546861
>>> >     0.254166069
>>> >      > 0.463074623
>>> >      > 3b5d8860f6a03668df80d364e9591bab 0.125999781 0.019729703
>>> 0.061193659
>>> >      > 0.038944801 0.02411847
>>> >      >
>>> >      > I need to extract data for the below IDs
>>> >      >
>>> >      > head(ID.list)
>>> >      >
>>> >      > 719e20e1e3d19fbc5dd50844c6d29a8f
>>> >      > bfffa74c0971b30ccf3b19f65911801f
>>> >      > 62a5c6f5e0adda662739a7ac521ea790
>>> >      >
>>> >      > I will be tankful for your help.
>>> >      >
>>> >      > Thanks
>>> >      > Yogesh
>>> >      >
>>> >      > *Yogesh Gupta*
>>> >      > *Research Fellow*
>>> >      > *Institute for Global Food Security*
>>> >      > *Queen's University*
>>> >      > *Belfast, UK*
>>> >      >
>>> >      >       [[alternative HTML version deleted]]
>>> >      >
>>> >      > ______________________________________________
>>> >      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>>> >     -- To UNSUBSCRIBE and more, see
>>> >      > https://stat.ethz.ch/mailman/listinfo/r-help
>>> >      > PLEASE do read the posting guide
>>> >     http://www.R-project.org/posting-guide.html
>>> >      > and provide commented, minimal, self-contained, reproducible
>>> code.
>>> >      >
>>> >
>>>
>>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Jun 23 17:40:02 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 23 Jun 2019 16:40:02 +0100
Subject: [R] How to filter data in R based on first column ID
In-Reply-To: <CAJE2if1Qs45KNywFH0WhDscwghQGuF=DGi0p=dzNQkJtmDbO7g@mail.gmail.com>
References: <CAJE2if24AqEPw9Z5iJ1ByYhzyCk6e8Rm_VE5qKVtkuwLG5jyHQ@mail.gmail.com>
 <318f1f49-c81c-4083-e7ff-2d3fa741ab61@sapo.pt>
 <CAJE2if1MAer8+Zso6vuNiSvi8QC3WkyuTmbyw-A0A0ga23siXQ@mail.gmail.com>
 <723e0c84-580d-dc48-e84b-70037c77bfb7@sapo.pt>
 <CAJE2if10kcF2oZM8-t=NQOf0p2=JF11jWCXT8LzJb4XJQN5FPA@mail.gmail.com>
 <CAJE2if2k1H6eZ-ZW8Rrc5RH7O4Rmr3zHJe2TFAWg9pYPJ4AUeA@mail.gmail.com>
 <CAJE2if1Qs45KNywFH0WhDscwghQGuF=DGi0p=dzNQkJtmDbO7g@mail.gmail.com>
Message-ID: <b63af08e-0cec-9e32-90a6-648467f3f828@sapo.pt>

Hello,

The previous 2 e-mails show that there is no match between otu.list and 
the row.names of data. Now I can see why, because otu.list is a 
dataframe, not a vector. Try instead

i <- row.names(data) %in% otu[[1]]

I assume that otu.list is a df with just *one* column.
Check what dim(otu.list) returns and in the code line above use 
otu.list[[n]] where n is the column number where the values you want can 
be found.

Hope this helps,

Rui Barradas

?s 16:27 de 23/06/19, Yogesh Gupta escreveu:
> I have read data table and out.list in R ?like this:
> 
>> data = read.table("Mymensingh_root_relative.percent.COUNT.txt",header=T,sep='\t',check.names=F)
> 
>> otu.list = read.table("root_differential.OTU.list.txt",header=T,sep='\t',check.names=F)
> 
> 
> these both are tab delimited text files.
> 
> *
> *
> 
> *Thanks*
> 
> *Yogesh*
> 
> 
> 
> 
> On Sun, Jun 23, 2019 at 4:22 PM Yogesh Gupta <nabiyogesh at gmail.com 
> <mailto:nabiyogesh at gmail.com>> wrote:
> 
>     Hi Rui,
> 
>     Thanks for your help. but still I did not able to get the data.
> 
>     > dput(head(data))
> 
>     structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0, 0.0467945718296678
> 
>     ), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-17.S26.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-19.S46.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-24.S66.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-26.S6.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,
> 
>     0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-30.S27.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-34.S47.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-4.S55.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,
> 
>     0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,
> 
>     0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,
> 
>     0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0), `Root-47.S28.L001`
>     = c(0,
> 
>     0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
>     `Root-51.S48.L001` = c(0,
> 
>     0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,
> 
>     0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,
> 
>     0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,
> 
>     0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 = c(0,
> 
>     0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 = c(0,
> 
>     0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 = c(0,
> 
>     0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,
> 
>     0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,
> 
>     0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,
> 
>     0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
>     0.00731421884142774,
> 
>     0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
>     0.00780065971293572,
> 
>     0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
>     c(0.00368785956630772,
> 
>     0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0,
>     0.0306968177632252,
> 
>     0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,
> 
>     0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,
> 
>     0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,
> 
>     0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
>     c(0.0150072892547809,
> 
>     0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,
> 
>     0, 0, 0.0062986835751328, 0, 0)), row.names =
>     c("71f84e7910006f22684121564206e8ca",
> 
>     "03b167b9f86f2519b4263b4125377eed", "54e204fb99c80764e964456dadd6a0e5",
> 
>     "55cd1fc570879d645bbf7a3642e9b0a8", "65f5c31e12c277aec319e2096463f9d2",
> 
>     "7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")
> 
> 
>     > i <- row.names(data) %in% otu.list
> 
>     > data[i, ]
> 
>      ?[1] Root-1.S35.L001? Root-10.S75.L001 Root-13.S5.L001 
>     Root-14.S16.L001
> 
>      ?[5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001
>     Root-22.S56.L001
> 
>      ?[9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001 
>     Root-27.S17.L001
> 
>     [13] Root-3.S45.L001? Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
> 
>     [17] Root-39.S57.L001 Root-4.S55.L001? Root-40.S67.L001 Root-41.S77.L001
> 
>     [21] Root-43.S7.L001? Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
> 
>     [25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001? Root.11.S5
> 
>     [29] Root.12.S16? ? ? Root.15.S26? ? ? Root.16.S36? ? ? Root.2.S35
> 
>     [33] Root.20.S46? ? ? Root.21.S56? ? ? Root.23.S66? ? ? Root.28.S76
> 
>     [37] Root.29.S6 ? ? ? Root.31.S17? ? ? Root.33.S27? ? ? Root.35.S37
> 
>     [41] Root.36.S47? ? ? Root.37.S57? ? ? Root.38.S67? ? ? Root.42.S77
> 
>     [45] Root.44.S7 ? ? ? Root.46.S18? ? ? Root.48.S28? ? ? Root.49.S38
> 
>     [49] Root.5.S45 ? ? ? Root.52.S48? ? ? Root.53.S58? ? ? Root.6.S55
> 
>     [53] Root.7.S65 ? ? ? Root.8.S75
> 
>     <0 rows> (or 0-length row.names)
> 
> 
>     Thanks
> 
> 
> 
> 
>     On Sun, Jun 23, 2019 at 4:20 PM Yogesh Gupta <nabiyogesh at gmail.com
>     <mailto:nabiyogesh at gmail.com>> wrote:
> 
>         Hi Rui,
> 
>         Thanks for your help. but still I did able to get the data.
> 
>         > dput(head(data))
> 
>         structure(list(`Root-1.S35.L001` = c(0, 0, 0, 0, 0,
>         0.0467945718296678
> 
>         ), `Root-10.S75.L001` = c(0, 0, 0, 0, 0, 0), `Root-13.S5.L001` =
>         c(0,
> 
>         0, 0, 0, 0, 0), `Root-14.S16.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-17.S26.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-18.S36.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-19.S46.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-22.S56.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-24.S66.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-25.S76.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-26.S6.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-27.S17.L001` = c(0.0293745480838756, 0,
> 
>         0, 0, 0, 0), `Root-3.S45.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-30.S27.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-32.S37.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-34.S47.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-39.S57.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-4.S55.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-40.S67.L001` = c(0.0189409882986783, 0,
> 
>         0, 0, 0, 0), `Root-41.S77.L001` = c(0.0171320884015762, 0, 0,
> 
>         0.0202470135654991, 0, 0), `Root-43.S7.L001` = c(0, 0, 0, 0,
> 
>         0, 0), `Root-45.S18.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-47.S28.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-50.S38.L001` = c(0, 0, 0, 0, 0, 0),
>         `Root-51.S48.L001` = c(0,
> 
>         0, 0, 0, 0, 0), `Root-54.S58.L001` = c(0.0080481457966323, 0,
> 
>         0, 0, 0, 0), `Root-9.S65.L001` = c(0.00744125132082211, 0, 0,
> 
>         0, 0, 0), Root.11.S5 = c(0, 0, 0, 0, 0, 0), Root.12.S16 = c(0,
> 
>         0, 0, 0, 0, 0), Root.15.S26 = c(0, 0, 0, 0, 0, 0), Root.16.S36 =
>         c(0,
> 
>         0, 0, 0, 0, 0), Root.2.S35 = c(0, 0, 0, 0, 0, 0), Root.20.S46 =
>         c(0,
> 
>         0, 0, 0, 0, 0), Root.21.S56 = c(0, 0, 0, 0, 0, 0), Root.23.S66 =
>         c(0,
> 
>         0, 0, 0.0123632317487791, 0, 0), Root.28.S76 = c(0, 0, 0, 0,
> 
>         0, 0), Root.29.S6 = c(0, 0, 0, 0, 0, 0), Root.31.S17 = c(0, 0,
> 
>         0, 0, 0, 0), Root.33.S27 = c(0.0165520894254218, 0, 0, 0, 0,
> 
>         0), Root.35.S37 = c(0, 0, 0, 0, 0, 0), Root.36.S47 = c(0,
>         0.00731421884142774,
> 
>         0, 0, 0, 0), Root.37.S57 = c(0.00668627975394491, 0, 0,
>         0.00780065971293572,
> 
>         0, 0), Root.38.S67 = c(0, 0, 0, 0, 0, 0), Root.42.S77 =
>         c(0.00368785956630772,
> 
>         0, 0, 0, 0.00553178934946157, 0), Root.44.S7 = c(0, 0,
>         0.0306968177632252,
> 
>         0, 0, 0), Root.46.S18 = c(0, 0, 0, 0, 0, 0), Root.48.S28 = c(0,
> 
>         0, 0, 0, 0, 0), Root.49.S38 = c(0, 0.0133380016339052, 0, 0,
> 
>         0, 0), Root.5.S45 = c(0, 0, 0, 0, 0, 0), Root.52.S48 = c(0, 0,
> 
>         0, 0, 0, 0), Root.53.S58 = c(0, 0, 0, 0, 0, 0), Root.6.S55 =
>         c(0.0150072892547809,
> 
>         0, 0, 0, 0, 0), Root.7.S65 = c(0, 0, 0, 0, 0, 0), Root.8.S75 = c(0,
> 
>         0, 0, 0.0062986835751328, 0, 0)), row.names =
>         c("71f84e7910006f22684121564206e8ca",
> 
>         "03b167b9f86f2519b4263b4125377eed",
>         "54e204fb99c80764e964456dadd6a0e5",
> 
>         "55cd1fc570879d645bbf7a3642e9b0a8",
>         "65f5c31e12c277aec319e2096463f9d2",
> 
>         "7bed62f0fef250fd831dcf13bf43f4fc"), class = "data.frame")
> 
> 
>         > i <- row.names(data) %in% otu.list
> 
>         > data[i, ]
> 
>          ?[1] Root-1.S35.L001? Root-10.S75.L001 Root-13.S5.L001 
>         Root-14.S16.L001
> 
>          ?[5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001
>         Root-22.S56.L001
> 
>          ?[9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001 
>         Root-27.S17.L001
> 
>         [13] Root-3.S45.L001? Root-30.S27.L001 Root-32.S37.L001
>         Root-34.S47.L001
> 
>         [17] Root-39.S57.L001 Root-4.S55.L001? Root-40.S67.L001
>         Root-41.S77.L001
> 
>         [21] Root-43.S7.L001? Root-45.S18.L001 Root-47.S28.L001
>         Root-50.S38.L001
> 
>         [25] Root-51.S48.L001 Root-54.S58.L001 Root-9.S65.L001? Root.11.S5
> 
>         [29] Root.12.S16? ? ? Root.15.S26? ? ? Root.16.S36? ? ? Root.2.S35
> 
>         [33] Root.20.S46? ? ? Root.21.S56? ? ? Root.23.S66? ? ? Root.28.S76
> 
>         [37] Root.29.S6 ? ? ? Root.31.S17? ? ? Root.33.S27? ? ? Root.35.S37
> 
>         [41] Root.36.S47? ? ? Root.37.S57? ? ? Root.38.S67? ? ? Root.42.S77
> 
>         [45] Root.44.S7 ? ? ? Root.46.S18? ? ? Root.48.S28? ? ? Root.49.S38
> 
>         [49] Root.5.S45 ? ? ? Root.52.S48? ? ? Root.53.S58? ? ? Root.6.S55
> 
>         [53] Root.7.S65 ? ? ? Root.8.S75
> 
>         <0 rows> (or 0-length row.names)
> 
> 
>         Thanks
> 
>         Yogesh
> 
> 
> 
> 
>         On Sun, Jun 23, 2019 at 3:34 PM Rui Barradas
>         <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>             Hello,
> 
>             Please always cc the list.
> 
>             The data you have posted has the values you want to match as
>             *row.names*, not as the first column values.
> 
>             This is why it is important to follow the posting guide and
>             post
>             datasets as it suggests, in dput() format.
> 
>             dput(head(data))? ? # post the output of this
> 
> 
>             In the mean time, try
> 
>             i <- row.names(data) %in% otu.list
>             data[i, ]
> 
> 
>             Also, dim(i) doesn't make sense, it's a vector and in R it's
>             not
>             expected to have a dim attribute. What would have made sense
>             would have
>             been
> 
>             length(i)
>             sum(i)
> 
> 
>             Hope this helps,
> 
>             Rui Barradas
> 
> 
>             ?s 11:41 de 23/06/19, Yogesh Gupta escreveu:
>              > Hi Rui,
>              >
>              > I used the code as you suggested , it is not giving the
>             row values, only
>              > showing the header of rows.
>              >
>              >> head(data)
>              >
>              >? ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Root-1.S35.L001
>             Root-10.S75.L001
>              >
>              > 71f84e7910006f22684121564206e8ca? ? ? 0.00000000         
>              ? ? ? 0
>              >
>              > 03b167b9f86f2519b4263b4125377eed? ? ? 0.00000000         
>              ? ? ? 0
>              >
>              > 54e204fb99c80764e964456dadd6a0e5? ? ? 0.00000000         
>              ? ? ? 0
>              >
>              > 55cd1fc570879d645bbf7a3642e9b0a8? ? ? 0.00000000         
>              ? ? ? 0
>              >
>              > 65f5c31e12c277aec319e2096463f9d2? ? ? 0.00000000         
>              ? ? ? 0
>              >
>              > 7bed62f0fef250fd831dcf13bf43f4fc? ? ? 0.04679457         
>              ? ? ? 0
>              >
>              >
>              > .....................................................
>              >
>              >
>              >> head(otu.list)
>              >
>              >? ? 9d94ce7d60e59034941e3a12bc37865e
>              >
>              > 1 8e60d301122d7aa359eb6b0b00f37f62
>              >
>              > 2 bfad6370d28182cc6304844e9bec7fb6
>              >
>              > 3 088571139af8e0a63fb6652df8a7438b
>              >
>              > 4 ccd70d57890f276a542ef4b5e5142d4c
>              >
>              > 5 cab4ca278af34bf722e0c7cb3219370b
>              >
>              > 6 72f30f3780145f16ac882eb8e2d189a5
>              >
>              >
>              > ....................................
>              >
>              >
>              >> i <- data[[1]] %in% otu.list
>              >
>              >> dim(i)
>              >
>              > NULL
>              >
>              >> data[i, ]
>              >
>              >? ?[1] Root-1.S35.L001? Root-10.S75.L001 Root-13.S5.L001 
>             Root-14.S16.L001
>              >
>              >? ?[5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001
>             Root-22.S56.L001
>              >
>              >? ?[9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001 
>             Root-27.S17.L001
>              >
>              > [13] Root-3.S45.L001? Root-30.S27.L001 Root-32.S37.L001
>             Root-34.S47.L001
>              >
>              > [17] Root-39.S57.L001 Root-4.S55.L001? Root-40.S67.L001
>             Root-41.S77.L001
>              >
>              > [21] Root-43.S7.L001? Root-45.S18.L001 Root-47.S28.L001
>             Root-50.S38.L001
>              >
>              >
>              > .............
>              >
>              >
>              > Could you please suggest how I can get the row values
>             along with the harder?
>              >
>              >
>              > Kind Regards
>              >
>              > Yogesh
>              >
>              >
>              >
>              >
>              > *Yogesh Gupta*
>              > *Research Fellow*
>              > *Institute for Global Food Security*
>              > *Queen's University*
>              > *Belfast, UK*
>              >
>              >
>              >
>              > On Fri, Jun 21, 2019 at 9:29 PM Rui Barradas
>             <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>              > <mailto:ruipbarradas at sapo.pt
>             <mailto:ruipbarradas at sapo.pt>>> wrote:
>              >
>              >? ? ?Hello,
>              >
>              >? ? ?Please don't post in HTML like the posting guide asks
>             you to, the data
>              >? ? ?is unreadable.
>              >
>              >? ? ?Not tested:
>              >
>              >? ? ?i <- data[[1]] %in% ID.list
>              >? ? ?data[i, ]
>              >
>              >
>              >? ? ?That's it.
>              >
>              >? ? ?Hope this helps,
>              >
>              >? ? ?Rui Barradas
>              >
>              >? ? ??s 21:09 de 21/06/19, Yogesh Gupta escreveu:
>              >? ? ? > Hi,
>              >? ? ? >
>              >? ? ? > I do need to filter data based on first column
>             could you please
>              >? ? ?suggest ,
>              >? ? ? > How I can do it in R.
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? > head(data)
>              >? ? ? >
>              >? ? ? >
>              >? ? ? >
>              >? ? ? > Root-1.S35.L001 Root-10.S75.L001 Root-13.S5.L001
>             Root-14.S16.L001
>              >? ? ? > Root-17.S26.L001
>              >? ? ? > 719e20e1e3d19fbc5dd50844c6d29a8f 0.049304262 0 0 0
>             0.033765858
>              >? ? ? > bfffa74c0971b30ccf3b19f65911801f 0 0 0.017210717 0 0
>              >? ? ? > 80087a003188288a9b0e3990d72113e3 0 0 0 0.010248632 0
>              >? ? ? > aed34f36d535976c247278bec289fd12 0.580694642
>             0.113445793 0.56221674
>              >? ? ? > 0.06764097 0.525782644
>              >? ? ? > 42df8f30203380e9a604cb5c4000411b 0 0 0 0.004099453 0
>              >? ? ? > d47199c9d9c5417c7cb82ff4159cf497 0 0.019729703 0 0 0
>              >? ? ? > 6272cdc38bd517a77ba3887619c36b9f 0 0 0 0.016397811
>             0.019294776
>              >? ? ? > 62a5c6f5e0adda662739a7ac521ea790 0.076695519 0
>             0.271546861
>              >? ? ?0.254166069
>              >? ? ? > 0.463074623
>              >? ? ? > 3b5d8860f6a03668df80d364e9591bab 0.125999781
>             0.019729703 0.061193659
>              >? ? ? > 0.038944801 0.02411847
>              >? ? ? >
>              >? ? ? > I need to extract data for the below IDs
>              >? ? ? >
>              >? ? ? > head(ID.list)
>              >? ? ? >
>              >? ? ? > 719e20e1e3d19fbc5dd50844c6d29a8f
>              >? ? ? > bfffa74c0971b30ccf3b19f65911801f
>              >? ? ? > 62a5c6f5e0adda662739a7ac521ea790
>              >? ? ? >
>              >? ? ? > I will be tankful for your help.
>              >? ? ? >
>              >? ? ? > Thanks
>              >? ? ? > Yogesh
>              >? ? ? >
>              >? ? ? > *Yogesh Gupta*
>              >? ? ? > *Research Fellow*
>              >? ? ? > *Institute for Global Food Security*
>              >? ? ? > *Queen's University*
>              >? ? ? > *Belfast, UK*
>              >? ? ? >
>              >? ? ? >? ? ? ?[[alternative HTML version deleted]]
>              >? ? ? >
>              >? ? ? > ______________________________________________
>              >? ? ? > R-help at r-project.org <mailto:R-help at r-project.org>
>             <mailto:R-help at r-project.org <mailto:R-help at r-project.org>>
>             mailing list
>              >? ? ?-- To UNSUBSCRIBE and more, see
>              >? ? ? > https://stat.ethz.ch/mailman/listinfo/r-help
>              >? ? ? > PLEASE do read the posting guide
>              > http://www.R-project.org/posting-guide.html
>              >? ? ? > and provide commented, minimal, self-contained,
>             reproducible code.
>              >? ? ? >
>              >
>


From h@h@|eez@deh @end|ng |rom gm@||@com  Sun Jun 23 08:52:33 2019
From: h@h@|eez@deh @end|ng |rom gm@||@com (Hossein Shafizadeh)
Date: Sun, 23 Jun 2019 11:22:33 +0430
Subject: [R] How to save components in pls model
Message-ID: <CA+P0tdMKLhfDoU6jht9PLD7THVW2GS9aYNi8ppCbRxjrdNLoQw@mail.gmail.com>

Hello everyone,
I want to *save the components *when using pls, I tried several ways but
failed.
No matter if using the caret package or in other coding formats. The code
in the caret is:
factors <- c("a","b","c")
set.seed(123)
silt <- caret::train(extsentinel[,factors],extsentinel$Silt,metric="RMSE",
                method="pls",tuneLength = 10 , importance=T, verbose=FALSE,
                trControl=trainControl(method="cv",savePredictions =
"final"),
                returnData=T, preProc = c("BoxCox","center", "scale"))

Thanks in advance,
Hossein

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 19:32:59 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 18:32:59 +0100
Subject: [R] How to allow duplicate names in R
Message-ID: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>

Hi,

I do have duplicates names in tab delimited files, I need to allow to read
these duplicate names in R,

Could you please suggest how can modify this code to allow to read
duplicates names:

x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T, check.names=FALSE)

> x

                    Genus     Root_T1     Root_T2     Root_T3

1                 GOUTA19 0.011798697 0.004254994 0.008371628

2                 GOUTA19 0.010871359 0.025930026 0.012268479

3            Planctomyces 0.046654187 0.030925497 0.021187820

4            Methylomonas 0.012051952 0.019538770 0.035813232

5          Propionivibrio 0.104477461 0.286847806 0.184285575



I need to make Genus name as row names but it shows error:


x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T, check.names=FALSE,
row.names=1)

*Error in read.table("HEATMAP.ROOT.input.txt", sep = "\t", head = T,
check.names = FALSE,  : *

*  duplicate 'row.names' are not allowed*


*Kind Regards*

*Yogesh*

	[[alternative HTML version deleted]]


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 19:54:34 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 18:54:34 +0100
Subject: [R] How to allow duplicate names in R
In-Reply-To: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>
References: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>
Message-ID: <CAJE2if2cYxPAc1-2SL_20QaTZRrC=KgJZXovZ_E9+Uk2305SuA@mail.gmail.com>

I able to do it with the below code but in heat map it shows x at beginning
of each names.


x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T, check.names=TRUE)

x2 <- x[,-1]

rownames(x2) <- make.names(x[,1], unique = TRUE)

head(x2)

> head(x2)

                        Root_T1     Root_T2     Root_T3

X.GOUTA19            0.01179870 0.004254994 0.008371628

X.GOUTA19.1          0.01087136 0.025930026 0.012268479

X.Planctomyces       0.04665419 0.030925497 0.021187820

X.Methylomonas       0.01205195 0.019538770 0.035813232

X.Propionivibrio     0.10447746 0.286847806 0.184285575

X.Uliginosibacterium 0.16966278 0.193626963 0.232004759



How I can remove this X while plotting heat map:

for heat map I am using pheatmap:


pheatmap(x2,scale="row",color =cm.colors(100),cluster_cols =
F,show_colnames = T,cluster_row=F,border_color="NA")


Thanks
Yogesh




On Sun, Jun 23, 2019 at 6:32 PM Yogesh Gupta <nabiyogesh at gmail.com> wrote:

> Hi,
>
> I do have duplicates names in tab delimited files, I need to allow to read
> these duplicate names in R,
>
> Could you please suggest how can modify this code to allow to read
> duplicates names:
>
> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T, check.names=FALSE)
>
> > x
>
>                     Genus     Root_T1     Root_T2     Root_T3
>
> 1                 GOUTA19 0.011798697 0.004254994 0.008371628
>
> 2                 GOUTA19 0.010871359 0.025930026 0.012268479
>
> 3            Planctomyces 0.046654187 0.030925497 0.021187820
>
> 4            Methylomonas 0.012051952 0.019538770 0.035813232
>
> 5          Propionivibrio 0.104477461 0.286847806 0.184285575
>
>
>
> I need to make Genus name as row names but it shows error:
>
>
> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T, check.names=FALSE,
> row.names=1)
>
> *Error in read.table("HEATMAP.ROOT.input.txt", sep = "\t", head = T,
> check.names = FALSE,  : *
>
> *  duplicate 'row.names' are not allowed*
>
>
> *Kind Regards*
>
> *Yogesh*
>
>
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Jun 23 21:09:16 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 23 Jun 2019 12:09:16 -0700
Subject: [R] How to allow duplicate names in R
In-Reply-To: <CAJE2if2cYxPAc1-2SL_20QaTZRrC=KgJZXovZ_E9+Uk2305SuA@mail.gmail.com>
References: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>
 <CAJE2if2cYxPAc1-2SL_20QaTZRrC=KgJZXovZ_E9+Uk2305SuA@mail.gmail.com>
Message-ID: <AAB2D2A1-25A0-4A13-9A5F-7C3435920A4D@dcn.davis.ca.us>

Some concepts are so fundamental that they get encoded into general-purpose code. The idea that each row (column) of a heat map should be uniquely identifiable among all other rows (columns) is one such idea.

To break this rule you will have to create your own heatmap function. I strongly recommend that you not do this. Rather, you should study why there are duplicates in your data, and consider options such as removing duplicates, re-labelling duplicates, or aggregating the values corresponding to duplicates (e.g. mean, median, max...) before plotting so that the result will be meaningful to the viewer.

On June 23, 2019 10:54:34 AM PDT, Yogesh Gupta <nabiyogesh at gmail.com> wrote:
>I able to do it with the below code but in heat map it shows x at
>beginning
>of each names.
>
>
>x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>check.names=TRUE)
>
>x2 <- x[,-1]
>
>rownames(x2) <- make.names(x[,1], unique = TRUE)
>
>head(x2)
>
>> head(x2)
>
>                        Root_T1     Root_T2     Root_T3
>
>X.GOUTA19            0.01179870 0.004254994 0.008371628
>
>X.GOUTA19.1          0.01087136 0.025930026 0.012268479
>
>X.Planctomyces       0.04665419 0.030925497 0.021187820
>
>X.Methylomonas       0.01205195 0.019538770 0.035813232
>
>X.Propionivibrio     0.10447746 0.286847806 0.184285575
>
>X.Uliginosibacterium 0.16966278 0.193626963 0.232004759
>
>
>
>How I can remove this X while plotting heat map:
>
>for heat map I am using pheatmap:
>
>
>pheatmap(x2,scale="row",color =cm.colors(100),cluster_cols =
>F,show_colnames = T,cluster_row=F,border_color="NA")
>
>
>Thanks
>Yogesh
>
>
>
>
>On Sun, Jun 23, 2019 at 6:32 PM Yogesh Gupta <nabiyogesh at gmail.com>
>wrote:
>
>> Hi,
>>
>> I do have duplicates names in tab delimited files, I need to allow to
>read
>> these duplicate names in R,
>>
>> Could you please suggest how can modify this code to allow to read
>> duplicates names:
>>
>> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>check.names=FALSE)
>>
>> > x
>>
>>                     Genus     Root_T1     Root_T2     Root_T3
>>
>> 1                 GOUTA19 0.011798697 0.004254994 0.008371628
>>
>> 2                 GOUTA19 0.010871359 0.025930026 0.012268479
>>
>> 3            Planctomyces 0.046654187 0.030925497 0.021187820
>>
>> 4            Methylomonas 0.012051952 0.019538770 0.035813232
>>
>> 5          Propionivibrio 0.104477461 0.286847806 0.184285575
>>
>>
>>
>> I need to make Genus name as row names but it shows error:
>>
>>
>> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>check.names=FALSE,
>> row.names=1)
>>
>> *Error in read.table("HEATMAP.ROOT.input.txt", sep = "\t", head = T,
>> check.names = FALSE,  : *
>>
>> *  duplicate 'row.names' are not allowed*
>>
>>
>> *Kind Regards*
>>
>> *Yogesh*
>>
>>
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Jun 23 21:15:14 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 23 Jun 2019 12:15:14 -0700
Subject: [R] How to save components in pls model
In-Reply-To: <CA+P0tdMKLhfDoU6jht9PLD7THVW2GS9aYNi8ppCbRxjrdNLoQw@mail.gmail.com>
References: <CA+P0tdMKLhfDoU6jht9PLD7THVW2GS9aYNi8ppCbRxjrdNLoQw@mail.gmail.com>
Message-ID: <E95F19E9-B1B5-4B6E-A84C-5CB27B11614E@dcn.davis.ca.us>

By one obvious measure of "save" it looks like you already did save the results... they are in your `silt` object.

What are you trying to accomplish?

 Also, please learn to send plain-text emails to this mailing list... the mailing list will strip out your formatting anyway, leaving more or less of a mess for us to read.

On June 22, 2019 11:52:33 PM PDT, Hossein Shafizadeh <hshafeezadeh at gmail.com> wrote:
>Hello everyone,
>I want to *save the components *when using pls, I tried several ways
>but
>failed.
>No matter if using the caret package or in other coding formats. The
>code
>in the caret is:
>factors <- c("a","b","c")
>set.seed(123)
>silt <-
>caret::train(extsentinel[,factors],extsentinel$Silt,metric="RMSE",
>            method="pls",tuneLength = 10 , importance=T, verbose=FALSE,
>                trControl=trainControl(method="cv",savePredictions =
>"final"),
>                returnData=T, preProc = c("BoxCox","center", "scale"))
>
>Thanks in advance,
>Hossein
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 21:28:59 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 20:28:59 +0100
Subject: [R] How to allow duplicate names in R
In-Reply-To: <AAB2D2A1-25A0-4A13-9A5F-7C3435920A4D@dcn.davis.ca.us>
References: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>
 <CAJE2if2cYxPAc1-2SL_20QaTZRrC=KgJZXovZ_E9+Uk2305SuA@mail.gmail.com>
 <AAB2D2A1-25A0-4A13-9A5F-7C3435920A4D@dcn.davis.ca.us>
Message-ID: <CAJE2if2JZc7XMSn7-AhUuyva19Tc1kWmjXrkM193aXvJf_EeWw@mail.gmail.com>

Thanks Jeff

Actually these are Amplicon sequencing variant which are differ at single
nucleotide but may belongs to same genus, or further may be same species,
but may be different bacterial strain, so I will think about it what should
I do, may be I can plot with OTU ID and genus together...or can just
aggregate at genus level...could you please suggest how I can aggregate
same genus name ID while importing data into R.

Thanks
Yogesh

On Sun, 23 Jun 2019, 20:09 Jeff Newmiller, <jdnewmil at dcn.davis.ca.us> wrote:

> Some concepts are so fundamental that they get encoded into
> general-purpose code. The idea that each row (column) of a heat map should
> be uniquely identifiable among all other rows (columns) is one such idea.
>
> To break this rule you will have to create your own heatmap function. I
> strongly recommend that you not do this. Rather, you should study why there
> are duplicates in your data, and consider options such as removing
> duplicates, re-labelling duplicates, or aggregating the values
> corresponding to duplicates (e.g. mean, median, max...) before plotting so
> that the result will be meaningful to the viewer.
>
> On June 23, 2019 10:54:34 AM PDT, Yogesh Gupta <nabiyogesh at gmail.com>
> wrote:
> >I able to do it with the below code but in heat map it shows x at
> >beginning
> >of each names.
> >
> >
> >x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
> >check.names=TRUE)
> >
> >x2 <- x[,-1]
> >
> >rownames(x2) <- make.names(x[,1], unique = TRUE)
> >
> >head(x2)
> >
> >> head(x2)
> >
> >                        Root_T1     Root_T2     Root_T3
> >
> >X.GOUTA19            0.01179870 0.004254994 0.008371628
> >
> >X.GOUTA19.1          0.01087136 0.025930026 0.012268479
> >
> >X.Planctomyces       0.04665419 0.030925497 0.021187820
> >
> >X.Methylomonas       0.01205195 0.019538770 0.035813232
> >
> >X.Propionivibrio     0.10447746 0.286847806 0.184285575
> >
> >X.Uliginosibacterium 0.16966278 0.193626963 0.232004759
> >
> >
> >
> >How I can remove this X while plotting heat map:
> >
> >for heat map I am using pheatmap:
> >
> >
> >pheatmap(x2,scale="row",color =cm.colors(100),cluster_cols =
> >F,show_colnames = T,cluster_row=F,border_color="NA")
> >
> >
> >Thanks
> >Yogesh
> >
> >
> >
> >
> >On Sun, Jun 23, 2019 at 6:32 PM Yogesh Gupta <nabiyogesh at gmail.com>
> >wrote:
> >
> >> Hi,
> >>
> >> I do have duplicates names in tab delimited files, I need to allow to
> >read
> >> these duplicate names in R,
> >>
> >> Could you please suggest how can modify this code to allow to read
> >> duplicates names:
> >>
> >> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
> >check.names=FALSE)
> >>
> >> > x
> >>
> >>                     Genus     Root_T1     Root_T2     Root_T3
> >>
> >> 1                 GOUTA19 0.011798697 0.004254994 0.008371628
> >>
> >> 2                 GOUTA19 0.010871359 0.025930026 0.012268479
> >>
> >> 3            Planctomyces 0.046654187 0.030925497 0.021187820
> >>
> >> 4            Methylomonas 0.012051952 0.019538770 0.035813232
> >>
> >> 5          Propionivibrio 0.104477461 0.286847806 0.184285575
> >>
> >>
> >>
> >> I need to make Genus name as row names but it shows error:
> >>
> >>
> >> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
> >check.names=FALSE,
> >> row.names=1)
> >>
> >> *Error in read.table("HEATMAP.ROOT.input.txt", sep = "\t", head = T,
> >> check.names = FALSE,  : *
> >>
> >> *  duplicate 'row.names' are not allowed*
> >>
> >>
> >> *Kind Regards*
> >>
> >> *Yogesh*
> >>
> >>
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Jun 23 22:10:34 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 23 Jun 2019 13:10:34 -0700
Subject: [R] Problem witth nnet:multinom
In-Reply-To: <20190621125802.Horde.gHPrc4SgIDFsvTV4aGrodkJ@www.ontargettek.com>
References: <75f326bc-2307-4ca9-dc2c-9691a71170aa@hqu.edu.cn>
 <87f7cfa7-627e-bbbd-2cf3-6227b604482b@ntu.edu.tw>
 <74cb70fe-2364-1701-f600-5d6a1b17068f@statistik.tu-dortmund.de>
 <4085266f-6060-b9ae-e1f8-2ae92ddf969b@ntu.edu.tw>
 <1e95ac07-dc02-125e-391e-fbd6aa929926@statistik.tu-dortmund.de>
 <055330c2-55a0-2bee-058b-eb5cd067bc20@ntu.edu.tw>
 <b00e501b-4ccf-60eb-b4d0-37fe1a9af991@statistik.tu-dortmund.de>
 <43987333-0be6-1508-7de1-c999ddbbe7d0@ntu.edu.tw>
 <alpine.DEB.2.21.1906211243370.9391@luke-Latitude-7480>
 <20190621125802.Horde.gHPrc4SgIDFsvTV4aGrodkJ@www.ontargettek.com>
Message-ID: <3A1F8042-F285-4C9C-8288-4B9AA0DFEE02@comcast.net>


> On Jun 21, 2019, at 10:58 AM, Tom Woolman <twoolman at ontargettek.com> wrote:
> 
> I am using R with the nnet package to perform a multinomial logistic regression on a training dataset with ~5800 training dataset records and 45 predictor variables in that training data. Predictor variables were chosen as a subset of all ~120 available variables based on PCA analysis. My target variable is a factor with 10 items.
> All predictor variable are numeric (type "dbl").
> 
> My command in R is as follows:
> 
> model <- nnet:multinom(frmla, data = training_set, maxit = 1000, na.action = na.omit)
> 
> #note that the frmla string is a value of "Target_Variable ~ v1 + v2 + v3, etc."

Surely that is not its value. You should show the code that created the frmla object.

-- 
David.
> Output of this command is as follows (I will truncate to save a little space after the first few rows):
> 
> # weights: 360 (308 variable)
> initial value 10912.909211
> 
> iter 10 value 9194.608309
> 
> iter 20 value 9142.608309
> 
> iter 30 value 9128.737991
> 
> iter 40 value 9093.899887
> .
> .
> .
> iter 420 value 8077.803755
> 
> final value 8077.800112
> converged
> Error in nnet:multinom(frmla, data = training_set, maxit = 1000, :
> NA/NaN argument
> 
> In addition: Warning message:
> 
> In nnet:multinom(frmla, data= training_set, maxit = 1000, :
> numerical expression has 26 elements: only the first used
> 
> So that's my issue. I can't figure out the meaning behind both the error message and the warning message above. There are no NA values in my data set. I've also tried reducing the number of predictor variables, but I get the same issue (just a different number of iterations).
> 
> Thanks in advance.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Jun 23 22:38:40 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 23 Jun 2019 13:38:40 -0700
Subject: [R] How to extract data based on first column ID in R
In-Reply-To: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>
References: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>
Message-ID: <F699870D-7A24-4A5D-9655-79FAA6F22DBF@comcast.net>


> On Jun 23, 2019, at 5:57 AM, Yogesh Gupta <nabiyogesh at gmail.com> wrote:
> 
> Hi,
> 
> I need help to extract data based on first column ID in R.
> 
> I used the below code but not succeed , it is not giving the row values,
> only showing the header of rows.
> 
>> head(data)
> 
> 
> Root-1.S35.L001.    Root-10.S75.L001
> 
> 71f84e7910006f22684121564206e8ca      0.00000000                0

A more accurate method of presenting R objects would be to offer the output of:

dput(head(data))

But working with this I have the hypothesis that your first column is numeric while the character values listed along the left side of that output are the rownames which cannot be accessed with the "[[" operator.

So your code might have been:

i <- rownames(data) %in% otu.list
dim(i)


> 
> 03b167b9f86f2519b4263b4125377eed      0.00000000                0
> 
> 54e204fb99c80764e964456dadd6a0e5      0.00000000                0
> 
> 55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0
> 
> 65f5c31e12c277aec319e2096463f9d2      0.00000000                0
> 
> 7bed62f0fef250fd831dcf13bf43f4fc           0.04679457                0
> 
> 
> .....................................................
> 
> 
>> head(otu.list)
> 
>  9d94ce7d60e59034941e3a12bc37865e
> 
> 1 8e60d301122d7aa359eb6b0b00f37f62
> 
> 2 bfad6370d28182cc6304844e9bec7fb6
> 
> 3 088571139af8e0a63fb6652df8a7438b
> 
> 4 ccd70d57890f276a542ef4b5e5142d4c
> 
> 5 cab4ca278af34bf722e0c7cb3219370b
> 
> 6 72f30f3780145f16ac882eb8e2d189a5
> 
> 
> ....................................
> 
> 
>> i <- data[[1]] %in% otu.list
> 
>> dim(i)
> 
> NULL
> 
>> data[i, ]
> 
> [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
> 
> [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
> 
> [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
> 
> [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
> 
> [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
> 
> [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
> 
> 
> .............
> 
> 
> Could you please suggest how I can get the row values along with the header?
> 
> 
> Thanks
> 
> Yogesh
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

'Any technology distinguishable from magic is insufficiently advanced.'   -Gehm's Corollary to Clarke's Third Law


From n@b|yoge@h @end|ng |rom gm@||@com  Sun Jun 23 22:42:00 2019
From: n@b|yoge@h @end|ng |rom gm@||@com (Yogesh Gupta)
Date: Sun, 23 Jun 2019 21:42:00 +0100
Subject: [R] How to extract data based on first column ID in R
In-Reply-To: <F699870D-7A24-4A5D-9655-79FAA6F22DBF@comcast.net>
References: <CAJE2if2yxHcqUd9T7KzC3cH0FWawujjxufDNPTmJOjmREy2Gvg@mail.gmail.com>
 <F699870D-7A24-4A5D-9655-79FAA6F22DBF@comcast.net>
Message-ID: <CAJE2if33=k9kep7WtX==3gxB1X017gWVH5+eHj2L9-oJ01o2aw@mail.gmail.com>

Thanks, David,

It is resolved now.

I used below code

dim(otu.list)

[1] 196   1

i <- row.names(data) %in% otu.list[[1]]



Thanks

Yogesh




On Sun, 23 Jun 2019, 21:38 David Winsemius, <dwinsemius at comcast.net> wrote:

>
> > On Jun 23, 2019, at 5:57 AM, Yogesh Gupta <nabiyogesh at gmail.com> wrote:
> >
> > Hi,
> >
> > I need help to extract data based on first column ID in R.
> >
> > I used the below code but not succeed , it is not giving the row values,
> > only showing the header of rows.
> >
> >> head(data)
> >
> >
> > Root-1.S35.L001.    Root-10.S75.L001
> >
> > 71f84e7910006f22684121564206e8ca      0.00000000                0
>
> A more accurate method of presenting R objects would be to offer the
> output of:
>
> dput(head(data))
>
> But working with this I have the hypothesis that your first column is
> numeric while the character values listed along the left side of that
> output are the rownames which cannot be accessed with the "[[" operator.
>
> So your code might have been:
>
> i <- rownames(data) %in% otu.list
> dim(i)
>
>
> >
> > 03b167b9f86f2519b4263b4125377eed      0.00000000                0
> >
> > 54e204fb99c80764e964456dadd6a0e5      0.00000000                0
> >
> > 55cd1fc570879d645bbf7a3642e9b0a8      0.00000000                0
> >
> > 65f5c31e12c277aec319e2096463f9d2      0.00000000                0
> >
> > 7bed62f0fef250fd831dcf13bf43f4fc           0.04679457                0
> >
> >
> > .....................................................
> >
> >
> >> head(otu.list)
> >
> >  9d94ce7d60e59034941e3a12bc37865e
> >
> > 1 8e60d301122d7aa359eb6b0b00f37f62
> >
> > 2 bfad6370d28182cc6304844e9bec7fb6
> >
> > 3 088571139af8e0a63fb6652df8a7438b
> >
> > 4 ccd70d57890f276a542ef4b5e5142d4c
> >
> > 5 cab4ca278af34bf722e0c7cb3219370b
> >
> > 6 72f30f3780145f16ac882eb8e2d189a5
> >
> >
> > ....................................
> >
> >
> >> i <- data[[1]] %in% otu.list
> >
> >> dim(i)
> >
> > NULL
> >
> >> data[i, ]
> >
> > [1] Root-1.S35.L001  Root-10.S75.L001 Root-13.S5.L001  Root-14.S16.L001
> >
> > [5] Root-17.S26.L001 Root-18.S36.L001 Root-19.S46.L001 Root-22.S56.L001
> >
> > [9] Root-24.S66.L001 Root-25.S76.L001 Root-26.S6.L001  Root-27.S17.L001
> >
> > [13] Root-3.S45.L001  Root-30.S27.L001 Root-32.S37.L001 Root-34.S47.L001
> >
> > [17] Root-39.S57.L001 Root-4.S55.L001  Root-40.S67.L001 Root-41.S77.L001
> >
> > [21] Root-43.S7.L001  Root-45.S18.L001 Root-47.S28.L001 Root-50.S38.L001
> >
> >
> > .............
> >
> >
> > Could you please suggest how I can get the row values along with the
> header?
> >
> >
> > Thanks
> >
> > Yogesh
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> David Winsemius
> Alameda, CA, USA
>
> 'Any technology distinguishable from magic is insufficiently advanced.'
>  -Gehm's Corollary to Clarke's Third Law
>
>
>
>
>
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Jun 23 22:46:20 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 23 Jun 2019 13:46:20 -0700
Subject: [R] How to allow duplicate names in R
In-Reply-To: <CAJE2if2JZc7XMSn7-AhUuyva19Tc1kWmjXrkM193aXvJf_EeWw@mail.gmail.com>
References: <CAJE2if1GpeifDitbBguX3ypSz87bGBUJGa46xbaO4JuP4qN-HA@mail.gmail.com>
 <CAJE2if2cYxPAc1-2SL_20QaTZRrC=KgJZXovZ_E9+Uk2305SuA@mail.gmail.com>
 <AAB2D2A1-25A0-4A13-9A5F-7C3435920A4D@dcn.davis.ca.us>
 <CAJE2if2JZc7XMSn7-AhUuyva19Tc1kWmjXrkM193aXvJf_EeWw@mail.gmail.com>
Message-ID: <57A2F838-B2BB-4D4A-BFD3-0C47E8095F29@dcn.davis.ca.us>

I don't know anything about gene sequencing analysis. You may find better expertise for that on the Bioconductor mailing list.

On June 23, 2019 12:28:59 PM PDT, Yogesh Gupta <nabiyogesh at gmail.com> wrote:
>Thanks Jeff
>
>Actually these are Amplicon sequencing variant which are differ at
>single
>nucleotide but may belongs to same genus, or further may be same
>species,
>but may be different bacterial strain, so I will think about it what
>should
>I do, may be I can plot with OTU ID and genus together...or can just
>aggregate at genus level...could you please suggest how I can aggregate
>same genus name ID while importing data into R.
>
>Thanks
>Yogesh
>
>On Sun, 23 Jun 2019, 20:09 Jeff Newmiller, <jdnewmil at dcn.davis.ca.us>
>wrote:
>
>> Some concepts are so fundamental that they get encoded into
>> general-purpose code. The idea that each row (column) of a heat map
>should
>> be uniquely identifiable among all other rows (columns) is one such
>idea.
>>
>> To break this rule you will have to create your own heatmap function.
>I
>> strongly recommend that you not do this. Rather, you should study why
>there
>> are duplicates in your data, and consider options such as removing
>> duplicates, re-labelling duplicates, or aggregating the values
>> corresponding to duplicates (e.g. mean, median, max...) before
>plotting so
>> that the result will be meaningful to the viewer.
>>
>> On June 23, 2019 10:54:34 AM PDT, Yogesh Gupta <nabiyogesh at gmail.com>
>> wrote:
>> >I able to do it with the below code but in heat map it shows x at
>> >beginning
>> >of each names.
>> >
>> >
>> >x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>> >check.names=TRUE)
>> >
>> >x2 <- x[,-1]
>> >
>> >rownames(x2) <- make.names(x[,1], unique = TRUE)
>> >
>> >head(x2)
>> >
>> >> head(x2)
>> >
>> >                        Root_T1     Root_T2     Root_T3
>> >
>> >X.GOUTA19            0.01179870 0.004254994 0.008371628
>> >
>> >X.GOUTA19.1          0.01087136 0.025930026 0.012268479
>> >
>> >X.Planctomyces       0.04665419 0.030925497 0.021187820
>> >
>> >X.Methylomonas       0.01205195 0.019538770 0.035813232
>> >
>> >X.Propionivibrio     0.10447746 0.286847806 0.184285575
>> >
>> >X.Uliginosibacterium 0.16966278 0.193626963 0.232004759
>> >
>> >
>> >
>> >How I can remove this X while plotting heat map:
>> >
>> >for heat map I am using pheatmap:
>> >
>> >
>> >pheatmap(x2,scale="row",color =cm.colors(100),cluster_cols =
>> >F,show_colnames = T,cluster_row=F,border_color="NA")
>> >
>> >
>> >Thanks
>> >Yogesh
>> >
>> >
>> >
>> >
>> >On Sun, Jun 23, 2019 at 6:32 PM Yogesh Gupta <nabiyogesh at gmail.com>
>> >wrote:
>> >
>> >> Hi,
>> >>
>> >> I do have duplicates names in tab delimited files, I need to allow
>to
>> >read
>> >> these duplicate names in R,
>> >>
>> >> Could you please suggest how can modify this code to allow to read
>> >> duplicates names:
>> >>
>> >> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>> >check.names=FALSE)
>> >>
>> >> > x
>> >>
>> >>                     Genus     Root_T1     Root_T2     Root_T3
>> >>
>> >> 1                 GOUTA19 0.011798697 0.004254994 0.008371628
>> >>
>> >> 2                 GOUTA19 0.010871359 0.025930026 0.012268479
>> >>
>> >> 3            Planctomyces 0.046654187 0.030925497 0.021187820
>> >>
>> >> 4            Methylomonas 0.012051952 0.019538770 0.035813232
>> >>
>> >> 5          Propionivibrio 0.104477461 0.286847806 0.184285575
>> >>
>> >>
>> >>
>> >> I need to make Genus name as row names but it shows error:
>> >>
>> >>
>> >> x<-read.table("HEATMAP.ROOT.input.txt",sep="\t",head=T,
>> >check.names=FALSE,
>> >> row.names=1)
>> >>
>> >> *Error in read.table("HEATMAP.ROOT.input.txt", sep = "\t", head =
>T,
>> >> check.names = FALSE,  : *
>> >>
>> >> *  duplicate 'row.names' are not allowed*
>> >>
>> >>
>> >> *Kind Regards*
>> >>
>> >> *Yogesh*
>> >>
>> >>
>> >>
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>

-- 
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Jun 24 07:43:52 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 23 Jun 2019 22:43:52 -0700
Subject: [R] not a good way to reply on "How to save components in pls
 model"
In-Reply-To: <CA+P0tdOc9vW9a2DJB6rsthC5gEYTUfj0XvYLZQ2mK0_CqSujnA@mail.gmail.com>
References: <CA+P0tdOc9vW9a2DJB6rsthC5gEYTUfj0XvYLZQ2mK0_CqSujnA@mail.gmail.com>
Message-ID: <7911D01A-EC15-4C74-B267-EEC87C926851@dcn.davis.ca.us>

ccd to the list, as this is about R-help.

It appears that you do not think I replied respectfully to your question. I am sorry you feel that way, but I genuinely do not understand what you are trying to accomplish, and I do think the reason I am not understanding is because you need to be more specific about what you want to do, not because I am a rude person making fun of you. A plain text email list can be a difficult forum in which to communicate, and the question has to be clear in writing or the answer you get may be an answer to a different question than you had in mind.

For example, a common mistake is to call an analysis function but fail to assign the returned object to a variable. You have in fact saved your result after a fashion, but you appear to want something else.

There is a `save` function in R that will save all variables in your workspace to a file on disk (we typically append an .RData or .rda extension to the file name for such a file). The drawback to that function is that (almost?) no other program will be able to read it... but it is convenient for restoring your results in R later.

If you do want another program to read it then there are (very!) many possible functions that could be useful, but the one we recommend will require that we know what program or data file format you want to save your data in so that it can be read by another program.

I hope you now understand why I asked: what do you want to accomplish?

On June 23, 2019 9:37:22 PM PDT, Hossein Shafizadeh <hshafeezadeh at gmail.com> wrote:
>Dear Jeff,
>Thank you for your contribution on my question in 
>r-help at r-project.org.
>Despite the question and answers do not meet which is not important,
>but
>you better when writing in a public place, try to use better words.
>The way you write is suitable for a preschool student not for an
>faculty
>member!
>instead of *please learn*, it would be more appropriate to write it
>would
>better
>Thank you, Hoseein

-- 
Sent from my phone. Please excuse my brevity.


From k|erenj @end|ng |rom gm@||@com  Mon Jun 24 12:08:21 2019
From: k|erenj @end|ng |rom gm@||@com (Kieren Johnstone)
Date: Mon, 24 Jun 2019 11:08:21 +0100
Subject: [R] libR.so doesn't export DATAPTR_OR_NULL - R.NET needs it?
Message-ID: <CABQGjyNYP8Yh4E3Q2tBQBaruLtp3oSOJfPX1DSM5Xsr2gbbweg@mail.gmail.com>

I'm trying to use the excellent R.NET (github.com/rdotnet/rdotnet) to
involve R code from .NET Core on Linux.

As outlined here - https://github.com/rdotnet/rdotnet/issues/103 - it's
looking for DATAPTR_OR_NULL in libR.so, but it's not exported there. It is
exported in r.dll on Windows.

How can I diagnose and fix this issue, please?

Thanks
Kieren

	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Tue Jun 25 06:08:51 2019
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Tue, 25 Jun 2019 16:08:51 +1200
Subject: [R] libR.so doesn't export DATAPTR_OR_NULL - R.NET needs it?
In-Reply-To: <CABQGjyNYP8Yh4E3Q2tBQBaruLtp3oSOJfPX1DSM5Xsr2gbbweg@mail.gmail.com>
References: <CABQGjyNYP8Yh4E3Q2tBQBaruLtp3oSOJfPX1DSM5Xsr2gbbweg@mail.gmail.com>
Message-ID: <CAB8pepxMwxCFiOnLrQStGDLQd90thCsCs5N=XGQ3OpmaQHed_w@mail.gmail.com>

> I'm trying to use the excellent R.NET (github.com/rdotnet/rdotnet) to
> involve R code from .NET Core on Linux.
> As outlined here - https://github.com/rdotnet/rdotnet/issues/103 - it's
> looking for DATAPTR_OR_NULL in libR.so, but it's not exported there. It is
> exported in r.dll on Windows.

I don't know the answer to your question.
However, I noticed the following:
On the GitHub page, the Linux build fails.
(And it's from over a month ago).

That means that there's significant problems running the R.NET package on
Linux.

Maybe there's a simpler way of doing whatever you're trying to do...?


Abs

	[[alternative HTML version deleted]]


From shr@@k m@iii@g oii outiook@com  Tue Jun 25 07:28:05 2019
From: shr@@k m@iii@g oii outiook@com (shr@@k m@iii@g oii outiook@com)
Date: Tue, 25 Jun 2019 05:28:05 +0000
Subject: [R] FW: IRT discrimination value (ltm and psych package)
In-Reply-To: <MWHPR12MB193512DFE1AE809BF45D4AF4DEE30@MWHPR12MB1935.namprd12.prod.outlook.com>
References: <MWHPR12MB193512DFE1AE809BF45D4AF4DEE30@MWHPR12MB1935.namprd12.prod.outlook.com>
Message-ID: <MWHPR12MB1935F92D854C905256ED585DDEE30@MWHPR12MB1935.namprd12.prod.outlook.com>



Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: shraak at outlook.com
Sent: Tuesday, June 25, 2019 10:57:30 AM
To: Eric Berger
Subject: IRT discrimination value (ltm and psych package)

Hello Sir,
I am learning R and its syntax and  I have successfully converted irt.item.diff.rasch into python code and pass the inputs as per the function made in R.

In R  :-
function (items)
{
  ncases <- nrow(items)
  item.mean <- colMeans(items, na.rm = TRUE)
  item.mean[item.mean < (1/ncases)] <- 1/ncases
  irt.item.diff.rasch <- log((1/item.mean) - 1)
}

In Python :-
def diff(items):
    item_mean= items.mean()
    item_diff = []
    for i in item_mean:
        diff = np.log((1/i)-1)
        item_diff.append(diff)
    return item_diff


I am getting the exact same result as R output.
But I?m still unable to understand the ?item.discrim? and how to and what to pass as a input to the function,

function (item.diff, theta, items)
{
  irt.item.discrim <- function(x, diff, theta, scores) {
    fit <- -1 * (log(scores/(1 + exp(x * (diff - theta))) +
      (1 - scores)/(1 + exp(x * (theta - diff)))))
    mean(fit, na.rm = TRUE)
  }
  nitems <- length(item.diff)
  discrim <- matrix(NaN, nitems, 2)
  for (i in 1:nitems) {
    item.fit <- optimize(irt.item.discrim, c(-5, 5), diff = item.diff[i],
      theta = theta, scores = items[, i])
    discrim[i, 1] <- item.fit$minimum
    discrim[i, 2] <- item.fit$objective
  }
  irt.discrim <- discrim

Could you please guide how do I convert the same in python, because there are no proper explanation in documentation what to pass as following arguments or the formulas to find the values of x and theta.
X= ?
Diff = I got the diff values
Theta = ?
Scores = = items[, i] as per mentioned in code

Unable to find theta and x, please help with this parameters ?



	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 15:29:54 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 09:29:54 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
Message-ID: <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>

Mr. Barradas,

  My apologies for the delayed response. No, (meth) is not a dataset within
CRAN. I?m not sure why my supervisor wrote that in as the object for the
bit of script I shared previously. Assuming that the correct object for
this particular command is to be a data, the one with which we are working
is a TCGA dataset containing Glioblastoma data. We are attempting to
analyze available methylation information.

Best,

Spencer


On Sat, Jun 22, 2019 at 3:08 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> I cannot find the dataset. meth is a (CRAN) package dataset?
>
> Rui barradas
>
> ?s 02:11 de 22/06/19, Spencer Brackett escreveu:
> > Hello,
> >
> > I am attempting to paste multiple vectors using the paste() function for
> a
> > dataset that  I'm working with. Shouldn't I be receiving some kind of
> > output as a result of the following?
> >
> >   meth=as.matrix(meth)
> >> colnames(meth) = sapply(colnames(meth), function(i){
> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> > + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
> >   "")
> > + paste(c1,collapse = ".")
> > + {
> >
> > Best,
> >
> > Spencer Brackett
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 17:11:34 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 11:11:34 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
Message-ID: <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>

Hello,

The following is the bit of code I was having trouble with reproducing;
(meth) being the set matrix of the dataset I am working within R...

colnames(meth) = sapply(colnames(meth), function(i){
  c1 = strsplit(i,split ='.', fixed = T)[[1]]
  c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
 "")
  paste(c1,collapse = ".")

And this is the reprex () that R generated...

Error in parse(text = x, keep.source = TRUE) :
  <text>:28:0: unexpected end of input
26:
27:
   ^

Does this perhaps make my question clearer? Or should I provide a more
extensive reprex of my work for background?

P.S. Above text should be formatted correctly this time (according to the
posting guide rules), if not, I will try resetting my client email again.

Best,

Spencer


On Tue, Jun 25, 2019 at 9:29 AM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Mr. Barradas,
>
>   My apologies for the delayed response. No, (meth) is not a dataset
> within CRAN. I?m not sure why my supervisor wrote that in as the object for
> the bit of script I shared previously. Assuming that the correct object for
> this particular command is to be a data, the one with which we are working
> is a TCGA dataset containing Glioblastoma data. We are attempting to
> analyze available methylation information.
>
> Best,
>
> Spencer
>
>
> On Sat, Jun 22, 2019 at 3:08 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> I cannot find the dataset. meth is a (CRAN) package dataset?
>>
>> Rui barradas
>>
>> ?s 02:11 de 22/06/19, Spencer Brackett escreveu:
>> > Hello,
>> >
>> > I am attempting to paste multiple vectors using the paste() function
>> for a
>> > dataset that  I'm working with. Shouldn't I be receiving some kind of
>> > output as a result of the following?
>> >
>> >   meth=as.matrix(meth)
>> >> colnames(meth) = sapply(colnames(meth), function(i){
>> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
>> > + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse
>> =
>> >   "")
>> > + paste(c1,collapse = ".")
>> > + {
>> >
>> > Best,
>> >
>> > Spencer Brackett
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Jun 25 17:14:16 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Tue, 25 Jun 2019 08:14:16 -0700
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
Message-ID: <d7e561f2-9a3c-e31d-b662-2741bef27ded@comcast.net>


On 6/25/19 6:29 AM, Spencer Brackett wrote:
> Mr. Barradas,
>
>    My apologies for the delayed response. No, (meth) is not a dataset within
> CRAN. I?m not sure why my supervisor wrote that in as the object for the
> bit of script I shared previously. Assuming that the correct object for
> this particular command is to be a data, the one with which we are working
> is a TCGA dataset containing Glioblastoma data. We are attempting to
> analyze available methylation information.

In that case, you should be able to use `read.table` to pull the dataset 
in from the TCGA archive and show what code you have used so far. Then 
you can describe in detail what further transformations are desired.


You could have also tried to offer the output of dput(head(meth)) (but 
do so before transforming to matrix. Transfoming to matrix will screw up 
a lot of the information in any dataset that is not entirely numeric.

-- 

David.

>
> Best,
>
> Spencer
>
>
> On Sat, Jun 22, 2019 at 3:08 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> I cannot find the dataset. meth is a (CRAN) package dataset?
>>
>> Rui barradas
>>
>> ?s 02:11 de 22/06/19, Spencer Brackett escreveu:
>>> Hello,
>>>
>>> I am attempting to paste multiple vectors using the paste() function for
>> a
>>> dataset that  I'm working with. Shouldn't I be receiving some kind of
>>> output as a result of the following?
>>>
>>>    meth=as.matrix(meth)
>>>> colnames(meth) = sapply(colnames(meth), function(i){
>>> + c1 = strsplit(i,split ='.', fixed = T)[[1]]
>>> + c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>>>    "")
>>> + paste(c1,collapse = ".")
>>> + {
>>>
>>> Best,
>>>
>>> Spencer Brackett
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jun 25 17:30:03 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 25 Jun 2019 16:30:03 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
Message-ID: <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>

Hello,

Maybe with

c1 = strsplit(i, split = '\\.', fixed = T)[[1]]

instead of split = '.'

The dot is a metacharacter that matches any character so it has to be 
escaped.

Hope this helps,

Rui Barradas

?s 16:11 de 25/06/19, Spencer Brackett escreveu:
> c1 = strsplit(i,split ='.', fixed = T)[[1]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 17:45:20 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 11:45:20 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
Message-ID: <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>

Mr. Barradas,

I got the same "output" as before, which is the + indicating that the
expression is incomplete (according to some R users response in this
chain).

Should the argument perhaps be c1 = strsplit(i, split = '\\', fixed =
T)[[1]] .... thereby eliminating the "." ?
The reprex and error message as the result of this is the same as the
previous one I sent.

I will send a more detailed description of what code I have done so far for
context.

Best,

Spencer

On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Maybe with
>
> c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>
> instead of split = '.'
>
> The dot is a metacharacter that matches any character so it has to be
> escaped.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
> > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 17:58:47 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 11:58:47 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
Message-ID: <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>

The following is what I have implemented thus far...

The file object for the two files listed in lines 1-2 was set in my working
directory, and are under the folder "Vakul's GBM Code"... hence the source
of the odd 'prefix' for .txt files shown

>library(data.table)>.anno = as.data.frame(fread(file = "~Vakul's GBM
Code/mapper.txt", sep ="\t", header = T))
>meth = read.table(file = "~Vakul's GBM Code/GBM.txt", sep  ="\t", header =
T, row.names = 1)
>meth = as.matrix(meth)

##  the loop just formats the methylation column names to match format ##
colnames(meth) = sapply(colnames(meth), function(i){
  c1 = strsplit(i,split ='\\', fixed = T)[[1]]
  c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
 "")
  paste(c1,collapse = ".")

Rendering reprex...
Error in parse(text = x, keep.source = TRUE) :
  <text>:28:0: unexpected end of input

Best,

Spencer



On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Mr. Barradas,
>
> I got the same "output" as before, which is the + indicating that the
> expression is incomplete (according to some R users response in this
> chain).
>
> Should the argument perhaps be c1 = strsplit(i, split = '\\', fixed =
> T)[[1]] .... thereby eliminating the "." ?
> The reprex and error message as the result of this is the same as the
> previous one I sent.
>
> I will send a more detailed description of what code I have done so far
> for context.
>
> Best,
>
> Spencer
>
> On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas <ruipbarradas at sapo.pt>
> wrote:
>
>> Hello,
>>
>> Maybe with
>>
>> c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>>
>> instead of split = '.'
>>
>> The dot is a metacharacter that matches any character so it has to be
>> escaped.
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
>> > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>>
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jun 25 18:19:41 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 25 Jun 2019 17:19:41 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
Message-ID: <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>

Hello,

1) That error comes from not closing }) after the paste() instruction.
The complete statement would be


colnames(meth) = sapply(colnames(meth), function(i){
   c1 = strsplit(i, split ='\\', fixed = T)[[1]]
   c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse 
=  "")
   paste(c1,collapse = ".")
})


2) Can you post the output of the following?

dput(head(meth))


Hope this helps,

Rui Barradas

?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> The following is what I have implemented thus far...
> 
> The file object for the two files listed in lines 1-2 was set in my 
> working directory, and are under the folder "Vakul's GBM Code"... hence 
> the source of the odd 'prefix' for .txt files shown
> 
>  >library(data.table)>.anno = as.data.frame(fread(file = "~Vakul's GBM 
> Code/mapper.txt", sep ="\t", header = T))
>  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt", sep ?="\t", 
> header = T, row.names = 1)
>  >meth = as.matrix(meth)
> 
> ##? the loop just formats the methylation column names to match format ##
> colnames(meth) = sapply(colnames(meth), function(i){
>  ? c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>  ? c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse 
> = ?"")
>  ? paste(c1,collapse = ".")
> 
> Rendering reprex...
> Error in parse(text = x, keep.source = TRUE) :
>  ? <text>:28:0: unexpected end of input
> 
> Best,
> 
> Spencer
> 
> 
> 
> On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett 
> <spbrackett20 at saintjosephhs.com <mailto:spbrackett20 at saintjosephhs.com>> 
> wrote:
> 
>     Mr. Barradas,
> 
>     I got the same "output" as before, which is the?+ indicating that
>     the expression is incomplete (according to some R users response in
>     this chain).
> 
>     Should the argument perhaps be c1 = strsplit(i, split = '\\', fixed
>     = T)[[1]] .... thereby eliminating the "." ?
>     The reprex and error message as the result of this is the same as
>     the previous one I sent.
> 
>     I will send a more detailed description of what code I have done so
>     far for context.
> 
>     Best,
> 
>     Spencer
> 
>     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas <ruipbarradas at sapo.pt
>     <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>         Hello,
> 
>         Maybe with
> 
>         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
> 
>         instead of split = '.'
> 
>         The dot is a metacharacter that matches any character so it has
>         to be
>         escaped.
> 
>         Hope this helps,
> 
>         Rui Barradas
> 
>         ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
>          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 18:36:33 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 12:36:33 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
Message-ID: <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>

The result of  dput(head(meth)) is a very large data table/listing of data
by category of what I presume to be the data from the two TCGA .txt files I
referenced previously. Is this the output you were expecting?

On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> 1) That error comes from not closing }) after the paste() instruction.
> The complete statement would be
>
>
> colnames(meth) = sapply(colnames(meth), function(i){
>    c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>    c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse
> =  "")
>    paste(c1,collapse = ".")
> })
>
>
> 2) Can you post the output of the following?
>
> dput(head(meth))
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> > The following is what I have implemented thus far...
> >
> > The file object for the two files listed in lines 1-2 was set in my
> > working directory, and are under the folder "Vakul's GBM Code"... hence
> > the source of the odd 'prefix' for .txt files shown
> >
> >  >library(data.table)>.anno = as.data.frame(fread(file = "~Vakul's GBM
> > Code/mapper.txt", sep ="\t", header = T))
> >  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt", sep  ="\t",
> > header = T, row.names = 1)
> >  >meth = as.matrix(meth)
> >
> > ##  the loop just formats the methylation column names to match format ##
> > colnames(meth) = sapply(colnames(meth), function(i){
> >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
> >    c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse
> > =  "")
> >    paste(c1,collapse = ".")
> >
> > Rendering reprex...
> > Error in parse(text = x, keep.source = TRUE) :
> >    <text>:28:0: unexpected end of input
> >
> > Best,
> >
> > Spencer
> >
> >
> >
> > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
> > <spbrackett20 at saintjosephhs.com <mailto:spbrackett20 at saintjosephhs.com>>
>
> > wrote:
> >
> >     Mr. Barradas,
> >
> >     I got the same "output" as before, which is the + indicating that
> >     the expression is incomplete (according to some R users response in
> >     this chain).
> >
> >     Should the argument perhaps be c1 = strsplit(i, split = '\\', fixed
> >     = T)[[1]] .... thereby eliminating the "." ?
> >     The reprex and error message as the result of this is the same as
> >     the previous one I sent.
> >
> >     I will send a more detailed description of what code I have done so
> >     far for context.
> >
> >     Best,
> >
> >     Spencer
> >
> >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas <ruipbarradas at sapo.pt
> >     <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >         Hello,
> >
> >         Maybe with
> >
> >         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
> >
> >         instead of split = '.'
> >
> >         The dot is a metacharacter that matches any character so it has
> >         to be
> >         escaped.
> >
> >         Hope this helps,
> >
> >         Rui Barradas
> >
> >         ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
> >          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
> >
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jun 25 20:25:50 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 25 Jun 2019 19:25:50 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
Message-ID: <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>

Hello,

No I wasn't expecting a very large file.
Try to make a reproducible example. If the problem seems to be with the 
sapply/strsplit post a subset of the data like just some of the colnames:

colnames(meth)[1:10]


This would allow us to run the code you are having trouble with.


Hope this helps,

Rui Barradas

?s 17:36 de 25/06/19, Spencer Brackett escreveu:
> The result of dput(head(meth)) is a very large data table/listing of 
> data by category of what I presume to be the data from the two TCGA .txt 
> files I referenced previously. Is this the output you were expecting?
> 
> On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     1) That error comes from not closing }) after the paste() instruction.
>     The complete statement would be
> 
> 
>     colnames(meth) = sapply(colnames(meth), function(i){
>      ? ?c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>      ? ?c1[4] = paste(strsplit(c1[4],split = "",fixed =
>     T)[[1]][1:2],collapse
>     =? "")
>      ? ?paste(c1,collapse = ".")
>     })
> 
> 
>     2) Can you post the output of the following?
> 
>     dput(head(meth))
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
>      > The following is what I have implemented thus far...
>      >
>      > The file object for the two files listed in lines 1-2 was set in my
>      > working directory, and are under the folder "Vakul's GBM Code"...
>     hence
>      > the source of the odd 'prefix' for .txt files shown
>      >
>      >? >library(data.table)>.anno = as.data.frame(fread(file =
>     "~Vakul's GBM
>      > Code/mapper.txt", sep ="\t", header = T))
>      >? >meth = read.table(file = "~Vakul's GBM Code/GBM.txt", sep ?="\t",
>      > header = T, row.names = 1)
>      >? >meth = as.matrix(meth)
>      >
>      > ##? the loop just formats the methylation column names to match
>     format ##
>      > colnames(meth) = sapply(colnames(meth), function(i){
>      >? ? c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>      >? ? c1[4] = paste(strsplit(c1[4],split = "",fixed =
>     T)[[1]][1:2],collapse
>      > = ?"")
>      >? ? paste(c1,collapse = ".")
>      >
>      > Rendering reprex...
>      > Error in parse(text = x, keep.source = TRUE) :
>      >? ? <text>:28:0: unexpected end of input
>      >
>      > Best,
>      >
>      > Spencer
>      >
>      >
>      >
>      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>      > <spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>     <mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>>
>      > wrote:
>      >
>      >? ? ?Mr. Barradas,
>      >
>      >? ? ?I got the same "output" as before, which is the?+ indicating that
>      >? ? ?the expression is incomplete (according to some R users
>     response in
>      >? ? ?this chain).
>      >
>      >? ? ?Should the argument perhaps be c1 = strsplit(i, split = '\\',
>     fixed
>      >? ? ?= T)[[1]] .... thereby eliminating the "." ?
>      >? ? ?The reprex and error message as the result of this is the same as
>      >? ? ?the previous one I sent.
>      >
>      >? ? ?I will send a more detailed description of what code I have
>     done so
>      >? ? ?far for context.
>      >
>      >? ? ?Best,
>      >
>      >? ? ?Spencer
>      >
>      >? ? ?On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      >? ? ?<mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>     wrote:
>      >
>      >? ? ? ? ?Hello,
>      >
>      >? ? ? ? ?Maybe with
>      >
>      >? ? ? ? ?c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>      >
>      >? ? ? ? ?instead of split = '.'
>      >
>      >? ? ? ? ?The dot is a metacharacter that matches any character so
>     it has
>      >? ? ? ? ?to be
>      >? ? ? ? ?escaped.
>      >
>      >? ? ? ? ?Hope this helps,
>      >
>      >? ? ? ? ?Rui Barradas
>      >
>      >? ? ? ? ??s 16:11 de 25/06/19, Spencer Brackett escreveu:
>      >? ? ? ? ? > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>      >
>


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 20:31:32 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 14:31:32 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
Message-ID: <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>

The requested reprex....

Rendering reprex...
Error in parse(text = x, keep.source = TRUE) :
  <text>:26:2: unexpected ')'
25:
26: 2)
     ^

And the subset of the data....

 row.names = c(NA, 6L), class = "data.frame")

Best,

Spencer


On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> No I wasn't expecting a very large file.
> Try to make a reproducible example. If the problem seems to be with the
> sapply/strsplit post a subset of the data like just some of the colnames:
>
> colnames(meth)[1:10]
>
>
> This would allow us to run the code you are having trouble with.
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
> > The result of dput(head(meth)) is a very large data table/listing of
> > data by category of what I presume to be the data from the two TCGA .txt
> > files I referenced previously. Is this the output you were expecting?
> >
> > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     1) That error comes from not closing }) after the paste()
> instruction.
> >     The complete statement would be
> >
> >
> >     colnames(meth) = sapply(colnames(meth), function(i){
> >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
> >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >     T)[[1]][1:2],collapse
> >     =  "")
> >         paste(c1,collapse = ".")
> >     })
> >
> >
> >     2) Can you post the output of the following?
> >
> >     dput(head(meth))
> >
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> >      > The following is what I have implemented thus far...
> >      >
> >      > The file object for the two files listed in lines 1-2 was set in
> my
> >      > working directory, and are under the folder "Vakul's GBM Code"...
> >     hence
> >      > the source of the odd 'prefix' for .txt files shown
> >      >
> >      >  >library(data.table)>.anno = as.data.frame(fread(file =
> >     "~Vakul's GBM
> >      > Code/mapper.txt", sep ="\t", header = T))
> >      >  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt", sep
>  ="\t",
> >      > header = T, row.names = 1)
> >      >  >meth = as.matrix(meth)
> >      >
> >      > ##  the loop just formats the methylation column names to match
> >     format ##
> >      > colnames(meth) = sapply(colnames(meth), function(i){
> >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
> >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >     T)[[1]][1:2],collapse
> >      > =  "")
> >      >    paste(c1,collapse = ".")
> >      >
> >      > Rendering reprex...
> >      > Error in parse(text = x, keep.source = TRUE) :
> >      >    <text>:28:0: unexpected end of input
> >      >
> >      > Best,
> >      >
> >      > Spencer
> >      >
> >      >
> >      >
> >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
> >      > <spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>>
> >      > wrote:
> >      >
> >      >     Mr. Barradas,
> >      >
> >      >     I got the same "output" as before, which is the + indicating
> that
> >      >     the expression is incomplete (according to some R users
> >     response in
> >      >     this chain).
> >      >
> >      >     Should the argument perhaps be c1 = strsplit(i, split = '\\',
> >     fixed
> >      >     = T)[[1]] .... thereby eliminating the "." ?
> >      >     The reprex and error message as the result of this is the
> same as
> >      >     the previous one I sent.
> >      >
> >      >     I will send a more detailed description of what code I have
> >     done so
> >      >     far for context.
> >      >
> >      >     Best,
> >      >
> >      >     Spencer
> >      >
> >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> >     wrote:
> >      >
> >      >         Hello,
> >      >
> >      >         Maybe with
> >      >
> >      >         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
> >      >
> >      >         instead of split = '.'
> >      >
> >      >         The dot is a metacharacter that matches any character so
> >     it has
> >      >         to be
> >      >         escaped.
> >      >
> >      >         Hope this helps,
> >      >
> >      >         Rui Barradas
> >      >
> >      >         ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
> >      >          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
> >      >
> >
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jun 25 20:50:30 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 25 Jun 2019 19:50:30 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
Message-ID: <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>

Hello,

No, you have not understood, post the colnames, not the row.names.

Run

colnames(meth)[1:10]

and post the output of that code line.

Hope this helps,

Rui Barradas

?s 19:31 de 25/06/19, Spencer Brackett escreveu:
> The requested reprex....
> 
> Rendering reprex...
> Error in parse(text = x, keep.source = TRUE) :
>  ? <text>:26:2: unexpected ')'
> 25:
> 26: 2)
>  ? ? ?^
> 
> And the subset of the data....
> 
>  ?row.names = c(NA, 6L), class = "data.frame")
> 
> Best,
> 
> Spencer
> 
> 
> On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     No I wasn't expecting a very large file.
>     Try to make a reproducible example. If the problem seems to be with the
>     sapply/strsplit post a subset of the data like just some of the
>     colnames:
> 
>     colnames(meth)[1:10]
> 
> 
>     This would allow us to run the code you are having trouble with.
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
>      > The result of dput(head(meth)) is a very large data table/listing of
>      > data by category of what I presume to be the data from the two
>     TCGA .txt
>      > files I referenced previously. Is this the output you were expecting?
>      >
>      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>> wrote:
>      >
>      >? ? ?Hello,
>      >
>      >? ? ?1) That error comes from not closing }) after the paste()
>     instruction.
>      >? ? ?The complete statement would be
>      >
>      >
>      >? ? ?colnames(meth) = sapply(colnames(meth), function(i){
>      >? ? ? ? ?c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>      >? ? ? ? ?c1[4] = paste(strsplit(c1[4],split = "",fixed =
>      >? ? ?T)[[1]][1:2],collapse
>      >? ? ?=? "")
>      >? ? ? ? ?paste(c1,collapse = ".")
>      >? ? ?})
>      >
>      >
>      >? ? ?2) Can you post the output of the following?
>      >
>      >? ? ?dput(head(meth))
>      >
>      >
>      >? ? ?Hope this helps,
>      >
>      >? ? ?Rui Barradas
>      >
>      >? ? ??s 16:58 de 25/06/19, Spencer Brackett escreveu:
>      >? ? ? > The following is what I have implemented thus far...
>      >? ? ? >
>      >? ? ? > The file object for the two files listed in lines 1-2 was
>     set in my
>      >? ? ? > working directory, and are under the folder "Vakul's GBM
>     Code"...
>      >? ? ?hence
>      >? ? ? > the source of the odd 'prefix' for .txt files shown
>      >? ? ? >
>      >? ? ? >? >library(data.table)>.anno = as.data.frame(fread(file =
>      >? ? ?"~Vakul's GBM
>      >? ? ? > Code/mapper.txt", sep ="\t", header = T))
>      >? ? ? >? >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
>     sep ?="\t",
>      >? ? ? > header = T, row.names = 1)
>      >? ? ? >? >meth = as.matrix(meth)
>      >? ? ? >
>      >? ? ? > ##? the loop just formats the methylation column names to
>     match
>      >? ? ?format ##
>      >? ? ? > colnames(meth) = sapply(colnames(meth), function(i){
>      >? ? ? >? ? c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>      >? ? ? >? ? c1[4] = paste(strsplit(c1[4],split = "",fixed =
>      >? ? ?T)[[1]][1:2],collapse
>      >? ? ? > = ?"")
>      >? ? ? >? ? paste(c1,collapse = ".")
>      >? ? ? >
>      >? ? ? > Rendering reprex...
>      >? ? ? > Error in parse(text = x, keep.source = TRUE) :
>      >? ? ? >? ? <text>:28:0: unexpected end of input
>      >? ? ? >
>      >? ? ? > Best,
>      >? ? ? >
>      >? ? ? > Spencer
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >
>      >? ? ? > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>      >? ? ? > <spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>>>
>      >? ? ? > wrote:
>      >? ? ? >
>      >? ? ? >? ? ?Mr. Barradas,
>      >? ? ? >
>      >? ? ? >? ? ?I got the same "output" as before, which is the?+
>     indicating that
>      >? ? ? >? ? ?the expression is incomplete (according to some R users
>      >? ? ?response in
>      >? ? ? >? ? ?this chain).
>      >? ? ? >
>      >? ? ? >? ? ?Should the argument perhaps be c1 = strsplit(i, split
>     = '\\',
>      >? ? ?fixed
>      >? ? ? >? ? ?= T)[[1]] .... thereby eliminating the "." ?
>      >? ? ? >? ? ?The reprex and error message as the result of this is
>     the same as
>      >? ? ? >? ? ?the previous one I sent.
>      >? ? ? >
>      >? ? ? >? ? ?I will send a more detailed description of what code I
>     have
>      >? ? ?done so
>      >? ? ? >? ? ?far for context.
>      >? ? ? >
>      >? ? ? >? ? ?Best,
>      >? ? ? >
>      >? ? ? >? ? ?Spencer
>      >? ? ? >
>      >? ? ? >? ? ?On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>      >? ? ?<ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>      >? ? ? >? ? ?<mailto:ruipbarradas at sapo.pt
>     <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt
>     <mailto:ruipbarradas at sapo.pt>>>>
>      >? ? ?wrote:
>      >? ? ? >
>      >? ? ? >? ? ? ? ?Hello,
>      >? ? ? >
>      >? ? ? >? ? ? ? ?Maybe with
>      >? ? ? >
>      >? ? ? >? ? ? ? ?c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>      >? ? ? >
>      >? ? ? >? ? ? ? ?instead of split = '.'
>      >? ? ? >
>      >? ? ? >? ? ? ? ?The dot is a metacharacter that matches any
>     character so
>      >? ? ?it has
>      >? ? ? >? ? ? ? ?to be
>      >? ? ? >? ? ? ? ?escaped.
>      >? ? ? >
>      >? ? ? >? ? ? ? ?Hope this helps,
>      >? ? ? >
>      >? ? ? >? ? ? ? ?Rui Barradas
>      >? ? ? >
>      >? ? ? >? ? ? ? ??s 16:11 de 25/06/19, Spencer Brackett escreveu:
>      >? ? ? >? ? ? ? ? > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>      >? ? ? >
>      >
>


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 21:24:20 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 15:24:20 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
Message-ID: <CAPQaxLMybNkgHY5Sq5i=FZLyh-NtwkORYDdj2oFsGx7+dTWNEg@mail.gmail.com>

Mr. Barradas,

Oh haha my mistake. The following is the output you requested....

[1] "sample.NA.NA.NANA"
 [2] "TCGA.27.1832.01.NA.NA.NANA"
 [3] "TCGA.27.1831.01.NA.NA.NANA"
 [4] "TCGA.28.5216.01.NA.NA.NANA"
 [5] "TCGA.16.0846.01.NA.NA.NANA"
 [6] "TCGA.28.5218.01.NA.NA.NANA"
 [7] "TCGA.06.0178.01.NA.NA.NANA"
 [8] "TCGA.06.0238.01.NA.NA.NANA"
 [9] "TCGA.06.0125.01.NA.NA.NANA"
[10] "TCGA.06.0219.01.NA.NA.NANA"

Best,

Spencer

On Tue, Jun 25, 2019 at 2:50 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> No, you have not understood, post the colnames, not the row.names.
>
> Run
>
> colnames(meth)[1:10]
>
> and post the output of that code line.
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 19:31 de 25/06/19, Spencer Brackett escreveu:
> > The requested reprex....
> >
> > Rendering reprex...
> > Error in parse(text = x, keep.source = TRUE) :
> >    <text>:26:2: unexpected ')'
> > 25:
> > 26: 2)
> >       ^
> >
> > And the subset of the data....
> >
> >   row.names = c(NA, 6L), class = "data.frame")
> >
> > Best,
> >
> > Spencer
> >
> >
> > On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     No I wasn't expecting a very large file.
> >     Try to make a reproducible example. If the problem seems to be with
> the
> >     sapply/strsplit post a subset of the data like just some of the
> >     colnames:
> >
> >     colnames(meth)[1:10]
> >
> >
> >     This would allow us to run the code you are having trouble with.
> >
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
> >      > The result of dput(head(meth)) is a very large data table/listing
> of
> >      > data by category of what I presume to be the data from the two
> >     TCGA .txt
> >      > files I referenced previously. Is this the output you were
> expecting?
> >      >
> >      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> wrote:
> >      >
> >      >     Hello,
> >      >
> >      >     1) That error comes from not closing }) after the paste()
> >     instruction.
> >      >     The complete statement would be
> >      >
> >      >
> >      >     colnames(meth) = sapply(colnames(meth), function(i){
> >      >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
> >      >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >      >     T)[[1]][1:2],collapse
> >      >     =  "")
> >      >         paste(c1,collapse = ".")
> >      >     })
> >      >
> >      >
> >      >     2) Can you post the output of the following?
> >      >
> >      >     dput(head(meth))
> >      >
> >      >
> >      >     Hope this helps,
> >      >
> >      >     Rui Barradas
> >      >
> >      >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> >      >      > The following is what I have implemented thus far...
> >      >      >
> >      >      > The file object for the two files listed in lines 1-2 was
> >     set in my
> >      >      > working directory, and are under the folder "Vakul's GBM
> >     Code"...
> >      >     hence
> >      >      > the source of the odd 'prefix' for .txt files shown
> >      >      >
> >      >      >  >library(data.table)>.anno = as.data.frame(fread(file =
> >      >     "~Vakul's GBM
> >      >      > Code/mapper.txt", sep ="\t", header = T))
> >      >      >  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
> >     sep  ="\t",
> >      >      > header = T, row.names = 1)
> >      >      >  >meth = as.matrix(meth)
> >      >      >
> >      >      > ##  the loop just formats the methylation column names to
> >     match
> >      >     format ##
> >      >      > colnames(meth) = sapply(colnames(meth), function(i){
> >      >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
> >      >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >      >     T)[[1]][1:2],collapse
> >      >      > =  "")
> >      >      >    paste(c1,collapse = ".")
> >      >      >
> >      >      > Rendering reprex...
> >      >      > Error in parse(text = x, keep.source = TRUE) :
> >      >      >    <text>:28:0: unexpected end of input
> >      >      >
> >      >      > Best,
> >      >      >
> >      >      > Spencer
> >      >      >
> >      >      >
> >      >      >
> >      >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
> >      >      > <spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>>>
> >      >      > wrote:
> >      >      >
> >      >      >     Mr. Barradas,
> >      >      >
> >      >      >     I got the same "output" as before, which is the +
> >     indicating that
> >      >      >     the expression is incomplete (according to some R users
> >      >     response in
> >      >      >     this chain).
> >      >      >
> >      >      >     Should the argument perhaps be c1 = strsplit(i, split
> >     = '\\',
> >      >     fixed
> >      >      >     = T)[[1]] .... thereby eliminating the "." ?
> >      >      >     The reprex and error message as the result of this is
> >     the same as
> >      >      >     the previous one I sent.
> >      >      >
> >      >      >     I will send a more detailed description of what code I
> >     have
> >      >     done so
> >      >      >     far for context.
> >      >      >
> >      >      >     Best,
> >      >      >
> >      >      >     Spencer
> >      >      >
> >      >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
> >      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
> >      >      >     <mailto:ruipbarradas at sapo.pt
> >     <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt
> >     <mailto:ruipbarradas at sapo.pt>>>>
> >      >     wrote:
> >      >      >
> >      >      >         Hello,
> >      >      >
> >      >      >         Maybe with
> >      >      >
> >      >      >         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
> >      >      >
> >      >      >         instead of split = '.'
> >      >      >
> >      >      >         The dot is a metacharacter that matches any
> >     character so
> >      >     it has
> >      >      >         to be
> >      >      >         escaped.
> >      >      >
> >      >      >         Hope this helps,
> >      >      >
> >      >      >         Rui Barradas
> >      >      >
> >      >      >         ?s 16:11 de 25/06/19, Spencer Brackett escreveu:
> >      >      >          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
> >      >      >
> >      >
> >
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jun 25 21:28:20 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 25 Jun 2019 12:28:20 -0700
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
Message-ID: <7E471F6D-10D8-4813-8E60-204C2874C129@dcn.davis.ca.us>

A "very large" output from dput(head(meth)) may just mean that"meth" has factors instead of character columns. I recommend using the `stringsAsFactors=FALSE` argument if the data frame is being loaded using read.table or one of its variants. It almost always makes better sense to create factors explicitly after the data has been reviewed for validity.

On June 25, 2019 11:50:30 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>Hello,
>
>No, you have not understood, post the colnames, not the row.names.
>
>Run
>
>colnames(meth)[1:10]
>
>and post the output of that code line.
>
>Hope this helps,
>
>Rui Barradas
>
>?s 19:31 de 25/06/19, Spencer Brackett escreveu:
>> The requested reprex....
>> 
>> Rendering reprex...
>> Error in parse(text = x, keep.source = TRUE) :
>>  ? <text>:26:2: unexpected ')'
>> 25:
>> 26: 2)
>>  ? ? ?^
>> 
>> And the subset of the data....
>> 
>>  ?row.names = c(NA, 6L), class = "data.frame")
>> 
>> Best,
>> 
>> Spencer
>> 
>> 
>> On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt 
>> <mailto:ruipbarradas at sapo.pt>> wrote:
>> 
>>     Hello,
>> 
>>     No I wasn't expecting a very large file.
>>     Try to make a reproducible example. If the problem seems to be
>with the
>>     sapply/strsplit post a subset of the data like just some of the
>>     colnames:
>> 
>>     colnames(meth)[1:10]
>> 
>> 
>>     This would allow us to run the code you are having trouble with.
>> 
>> 
>>     Hope this helps,
>> 
>>     Rui Barradas
>> 
>>     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
>>      > The result of dput(head(meth)) is a very large data
>table/listing of
>>      > data by category of what I presume to be the data from the two
>>     TCGA .txt
>>      > files I referenced previously. Is this the output you were
>expecting?
>>      >
>>      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
>>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>wrote:
>>      >
>>      >? ? ?Hello,
>>      >
>>      >? ? ?1) That error comes from not closing }) after the paste()
>>     instruction.
>>      >? ? ?The complete statement would be
>>      >
>>      >
>>      >? ? ?colnames(meth) = sapply(colnames(meth), function(i){
>>      >? ? ? ? ?c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>>      >? ? ? ? ?c1[4] = paste(strsplit(c1[4],split = "",fixed =
>>      >? ? ?T)[[1]][1:2],collapse
>>      >? ? ?=? "")
>>      >? ? ? ? ?paste(c1,collapse = ".")
>>      >? ? ?})
>>      >
>>      >
>>      >? ? ?2) Can you post the output of the following?
>>      >
>>      >? ? ?dput(head(meth))
>>      >
>>      >
>>      >? ? ?Hope this helps,
>>      >
>>      >? ? ?Rui Barradas
>>      >
>>      >? ? ??s 16:58 de 25/06/19, Spencer Brackett escreveu:
>>      >? ? ? > The following is what I have implemented thus far...
>>      >? ? ? >
>>      >? ? ? > The file object for the two files listed in lines 1-2
>was
>>     set in my
>>      >? ? ? > working directory, and are under the folder "Vakul's
>GBM
>>     Code"...
>>      >? ? ?hence
>>      >? ? ? > the source of the odd 'prefix' for .txt files shown
>>      >? ? ? >
>>      >? ? ? >? >library(data.table)>.anno = as.data.frame(fread(file
>=
>>      >? ? ?"~Vakul's GBM
>>      >? ? ? > Code/mapper.txt", sep ="\t", header = T))
>>      >? ? ? >? >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
>>     sep ?="\t",
>>      >? ? ? > header = T, row.names = 1)
>>      >? ? ? >? >meth = as.matrix(meth)
>>      >? ? ? >
>>      >? ? ? > ##? the loop just formats the methylation column names
>to
>>     match
>>      >? ? ?format ##
>>      >? ? ? > colnames(meth) = sapply(colnames(meth), function(i){
>>      >? ? ? >? ? c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>>      >? ? ? >? ? c1[4] = paste(strsplit(c1[4],split = "",fixed =
>>      >? ? ?T)[[1]][1:2],collapse
>>      >? ? ? > = ?"")
>>      >? ? ? >? ? paste(c1,collapse = ".")
>>      >? ? ? >
>>      >? ? ? > Rendering reprex...
>>      >? ? ? > Error in parse(text = x, keep.source = TRUE) :
>>      >? ? ? >? ? <text>:28:0: unexpected end of input
>>      >? ? ? >
>>      >? ? ? > Best,
>>      >? ? ? >
>>      >? ? ? > Spencer
>>      >? ? ? >
>>      >? ? ? >
>>      >? ? ? >
>>      >? ? ? > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>>      >? ? ? > <spbrackett20 at saintjosephhs.com
>>     <mailto:spbrackett20 at saintjosephhs.com>
>>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>>     <mailto:spbrackett20 at saintjosephhs.com>>
>>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>>     <mailto:spbrackett20 at saintjosephhs.com>
>>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>>     <mailto:spbrackett20 at saintjosephhs.com>>>>
>>      >? ? ? > wrote:
>>      >? ? ? >
>>      >? ? ? >? ? ?Mr. Barradas,
>>      >? ? ? >
>>      >? ? ? >? ? ?I got the same "output" as before, which is the?+
>>     indicating that
>>      >? ? ? >? ? ?the expression is incomplete (according to some R
>users
>>      >? ? ?response in
>>      >? ? ? >? ? ?this chain).
>>      >? ? ? >
>>      >? ? ? >? ? ?Should the argument perhaps be c1 = strsplit(i,
>split
>>     = '\\',
>>      >? ? ?fixed
>>      >? ? ? >? ? ?= T)[[1]] .... thereby eliminating the "." ?
>>      >? ? ? >? ? ?The reprex and error message as the result of this
>is
>>     the same as
>>      >? ? ? >? ? ?the previous one I sent.
>>      >? ? ? >
>>      >? ? ? >? ? ?I will send a more detailed description of what
>code I
>>     have
>>      >? ? ?done so
>>      >? ? ? >? ? ?far for context.
>>      >? ? ? >
>>      >? ? ? >? ? ?Best,
>>      >? ? ? >
>>      >? ? ? >? ? ?Spencer
>>      >? ? ? >
>>      >? ? ? >? ? ?On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>>      >? ? ?<ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>>      >? ? ? >? ? ?<mailto:ruipbarradas at sapo.pt
>>     <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt
>>     <mailto:ruipbarradas at sapo.pt>>>>
>>      >? ? ?wrote:
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?Hello,
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?Maybe with
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?instead of split = '.'
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?The dot is a metacharacter that matches any
>>     character so
>>      >? ? ?it has
>>      >? ? ? >? ? ? ? ?to be
>>      >? ? ? >? ? ? ? ?escaped.
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?Hope this helps,
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ?Rui Barradas
>>      >? ? ? >
>>      >? ? ? >? ? ? ? ??s 16:11 de 25/06/19, Spencer Brackett
>escreveu:
>>      >? ? ? >? ? ? ? ? > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>>      >? ? ? >
>>      >
>> 

-- 
Sent from my phone. Please excuse my brevity.


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 21:32:42 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 15:32:42 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <7E471F6D-10D8-4813-8E60-204C2874C129@dcn.davis.ca.us>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
 <7E471F6D-10D8-4813-8E60-204C2874C129@dcn.davis.ca.us>
Message-ID: <CAPQaxLP8A7xqTbEK5LmMsOf1fCo0aeGBDXH5pB3bS5rJA1PNAw@mail.gmail.com>

So I can run the suggested `stringsAsFactors=FALSE` argument following the
'colnames(meth)[1:10]' one I just used?

Best,

Spencer

On Tue, Jun 25, 2019 at 3:28 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> A "very large" output from dput(head(meth)) may just mean that"meth" has
> factors instead of character columns. I recommend using the
> `stringsAsFactors=FALSE` argument if the data frame is being loaded using
> read.table or one of its variants. It almost always makes better sense to
> create factors explicitly after the data has been reviewed for validity.
>
> On June 25, 2019 11:50:30 AM PDT, Rui Barradas <ruipbarradas at sapo.pt>
> wrote:
> >Hello,
> >
> >No, you have not understood, post the colnames, not the row.names.
> >
> >Run
> >
> >colnames(meth)[1:10]
> >
> >and post the output of that code line.
> >
> >Hope this helps,
> >
> >Rui Barradas
> >
> >?s 19:31 de 25/06/19, Spencer Brackett escreveu:
> >> The requested reprex....
> >>
> >> Rendering reprex...
> >> Error in parse(text = x, keep.source = TRUE) :
> >>    <text>:26:2: unexpected ')'
> >> 25:
> >> 26: 2)
> >>       ^
> >>
> >> And the subset of the data....
> >>
> >>   row.names = c(NA, 6L), class = "data.frame")
> >>
> >> Best,
> >>
> >> Spencer
> >>
> >>
> >> On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt
> >> <mailto:ruipbarradas at sapo.pt>> wrote:
> >>
> >>     Hello,
> >>
> >>     No I wasn't expecting a very large file.
> >>     Try to make a reproducible example. If the problem seems to be
> >with the
> >>     sapply/strsplit post a subset of the data like just some of the
> >>     colnames:
> >>
> >>     colnames(meth)[1:10]
> >>
> >>
> >>     This would allow us to run the code you are having trouble with.
> >>
> >>
> >>     Hope this helps,
> >>
> >>     Rui Barradas
> >>
> >>     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
> >>      > The result of dput(head(meth)) is a very large data
> >table/listing of
> >>      > data by category of what I presume to be the data from the two
> >>     TCGA .txt
> >>      > files I referenced previously. Is this the output you were
> >expecting?
> >>      >
> >>      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
> >>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> >wrote:
> >>      >
> >>      >     Hello,
> >>      >
> >>      >     1) That error comes from not closing }) after the paste()
> >>     instruction.
> >>      >     The complete statement would be
> >>      >
> >>      >
> >>      >     colnames(meth) = sapply(colnames(meth), function(i){
> >>      >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
> >>      >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >>      >     T)[[1]][1:2],collapse
> >>      >     =  "")
> >>      >         paste(c1,collapse = ".")
> >>      >     })
> >>      >
> >>      >
> >>      >     2) Can you post the output of the following?
> >>      >
> >>      >     dput(head(meth))
> >>      >
> >>      >
> >>      >     Hope this helps,
> >>      >
> >>      >     Rui Barradas
> >>      >
> >>      >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> >>      >      > The following is what I have implemented thus far...
> >>      >      >
> >>      >      > The file object for the two files listed in lines 1-2
> >was
> >>     set in my
> >>      >      > working directory, and are under the folder "Vakul's
> >GBM
> >>     Code"...
> >>      >     hence
> >>      >      > the source of the odd 'prefix' for .txt files shown
> >>      >      >
> >>      >      >  >library(data.table)>.anno = as.data.frame(fread(file
> >=
> >>      >     "~Vakul's GBM
> >>      >      > Code/mapper.txt", sep ="\t", header = T))
> >>      >      >  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
> >>     sep  ="\t",
> >>      >      > header = T, row.names = 1)
> >>      >      >  >meth = as.matrix(meth)
> >>      >      >
> >>      >      > ##  the loop just formats the methylation column names
> >to
> >>     match
> >>      >     format ##
> >>      >      > colnames(meth) = sapply(colnames(meth), function(i){
> >>      >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
> >>      >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >>      >     T)[[1]][1:2],collapse
> >>      >      > =  "")
> >>      >      >    paste(c1,collapse = ".")
> >>      >      >
> >>      >      > Rendering reprex...
> >>      >      > Error in parse(text = x, keep.source = TRUE) :
> >>      >      >    <text>:28:0: unexpected end of input
> >>      >      >
> >>      >      > Best,
> >>      >      >
> >>      >      > Spencer
> >>      >      >
> >>      >      >
> >>      >      >
> >>      >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
> >>      >      > <spbrackett20 at saintjosephhs.com
> >>     <mailto:spbrackett20 at saintjosephhs.com>
> >>      >     <mailto:spbrackett20 at saintjosephhs.com
> >>     <mailto:spbrackett20 at saintjosephhs.com>>
> >>      >     <mailto:spbrackett20 at saintjosephhs.com
> >>     <mailto:spbrackett20 at saintjosephhs.com>
> >>      >     <mailto:spbrackett20 at saintjosephhs.com
> >>     <mailto:spbrackett20 at saintjosephhs.com>>>>
> >>      >      > wrote:
> >>      >      >
> >>      >      >     Mr. Barradas,
> >>      >      >
> >>      >      >     I got the same "output" as before, which is the +
> >>     indicating that
> >>      >      >     the expression is incomplete (according to some R
> >users
> >>      >     response in
> >>      >      >     this chain).
> >>      >      >
> >>      >      >     Should the argument perhaps be c1 = strsplit(i,
> >split
> >>     = '\\',
> >>      >     fixed
> >>      >      >     = T)[[1]] .... thereby eliminating the "." ?
> >>      >      >     The reprex and error message as the result of this
> >is
> >>     the same as
> >>      >      >     the previous one I sent.
> >>      >      >
> >>      >      >     I will send a more detailed description of what
> >code I
> >>     have
> >>      >     done so
> >>      >      >     far for context.
> >>      >      >
> >>      >      >     Best,
> >>      >      >
> >>      >      >     Spencer
> >>      >      >
> >>      >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
> >>      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
> >>      >      >     <mailto:ruipbarradas at sapo.pt
> >>     <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt
> >>     <mailto:ruipbarradas at sapo.pt>>>>
> >>      >     wrote:
> >>      >      >
> >>      >      >         Hello,
> >>      >      >
> >>      >      >         Maybe with
> >>      >      >
> >>      >      >         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
> >>      >      >
> >>      >      >         instead of split = '.'
> >>      >      >
> >>      >      >         The dot is a metacharacter that matches any
> >>     character so
> >>      >     it has
> >>      >      >         to be
> >>      >      >         escaped.
> >>      >      >
> >>      >      >         Hope this helps,
> >>      >      >
> >>      >      >         Rui Barradas
> >>      >      >
> >>      >      >         ?s 16:11 de 25/06/19, Spencer Brackett
> >escreveu:
> >>      >      >          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
> >>      >      >
> >>      >
> >>
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 21:41:13 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 15:41:13 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLP8A7xqTbEK5LmMsOf1fCo0aeGBDXH5pB3bS5rJA1PNAw@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
 <7E471F6D-10D8-4813-8E60-204C2874C129@dcn.davis.ca.us>
 <CAPQaxLP8A7xqTbEK5LmMsOf1fCo0aeGBDXH5pB3bS5rJA1PNAw@mail.gmail.com>
Message-ID: <CAPQaxLP8tDbCmUAN5bG=4Obs3WxQKouO3f4SWdjjVgBX8JEU-g@mail.gmail.com>

Doing so results in the following subset of my data...

>colnames(meth)[1:10]
 [1] "sample.NA.NA.NANA"          "TCGA.27.1832.01.NA.NA.NANA"
"TCGA.27.1831.01.NA.NA.NANA"
 [4] "TCGA.28.5216.01.NA.NA.NANA" "TCGA.16.0846.01.NA.NA.NANA"
"TCGA.28.5218.01.NA.NA.NANA"
 [7] "TCGA.06.0178.01.NA.NA.NANA" "TCGA.06.0238.01.NA.NA.NANA"
"TCGA.06.0125.01.NA.NA.NANA"
[10] "TCGA.06.0219.01.NA.NA.NANA"

On Tue, Jun 25, 2019 at 3:32 PM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> So I can run the suggested `stringsAsFactors=FALSE` argument following
> the  'colnames(meth)[1:10]' one I just used?
>
> Best,
>
> Spencer
>
> On Tue, Jun 25, 2019 at 3:28 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
>
>> A "very large" output from dput(head(meth)) may just mean that"meth" has
>> factors instead of character columns. I recommend using the
>> `stringsAsFactors=FALSE` argument if the data frame is being loaded using
>> read.table or one of its variants. It almost always makes better sense to
>> create factors explicitly after the data has been reviewed for validity.
>>
>> On June 25, 2019 11:50:30 AM PDT, Rui Barradas <ruipbarradas at sapo.pt>
>> wrote:
>> >Hello,
>> >
>> >No, you have not understood, post the colnames, not the row.names.
>> >
>> >Run
>> >
>> >colnames(meth)[1:10]
>> >
>> >and post the output of that code line.
>> >
>> >Hope this helps,
>> >
>> >Rui Barradas
>> >
>> >?s 19:31 de 25/06/19, Spencer Brackett escreveu:
>> >> The requested reprex....
>> >>
>> >> Rendering reprex...
>> >> Error in parse(text = x, keep.source = TRUE) :
>> >>    <text>:26:2: unexpected ')'
>> >> 25:
>> >> 26: 2)
>> >>       ^
>> >>
>> >> And the subset of the data....
>> >>
>> >>   row.names = c(NA, 6L), class = "data.frame")
>> >>
>> >> Best,
>> >>
>> >> Spencer
>> >>
>> >>
>> >> On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas <ruipbarradas at sapo.pt
>> >> <mailto:ruipbarradas at sapo.pt>> wrote:
>> >>
>> >>     Hello,
>> >>
>> >>     No I wasn't expecting a very large file.
>> >>     Try to make a reproducible example. If the problem seems to be
>> >with the
>> >>     sapply/strsplit post a subset of the data like just some of the
>> >>     colnames:
>> >>
>> >>     colnames(meth)[1:10]
>> >>
>> >>
>> >>     This would allow us to run the code you are having trouble with.
>> >>
>> >>
>> >>     Hope this helps,
>> >>
>> >>     Rui Barradas
>> >>
>> >>     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
>> >>      > The result of dput(head(meth)) is a very large data
>> >table/listing of
>> >>      > data by category of what I presume to be the data from the two
>> >>     TCGA .txt
>> >>      > files I referenced previously. Is this the output you were
>> >expecting?
>> >>      >
>> >>      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
>> >>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>> >>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>> >wrote:
>> >>      >
>> >>      >     Hello,
>> >>      >
>> >>      >     1) That error comes from not closing }) after the paste()
>> >>     instruction.
>> >>      >     The complete statement would be
>> >>      >
>> >>      >
>> >>      >     colnames(meth) = sapply(colnames(meth), function(i){
>> >>      >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>> >>      >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
>> >>      >     T)[[1]][1:2],collapse
>> >>      >     =  "")
>> >>      >         paste(c1,collapse = ".")
>> >>      >     })
>> >>      >
>> >>      >
>> >>      >     2) Can you post the output of the following?
>> >>      >
>> >>      >     dput(head(meth))
>> >>      >
>> >>      >
>> >>      >     Hope this helps,
>> >>      >
>> >>      >     Rui Barradas
>> >>      >
>> >>      >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
>> >>      >      > The following is what I have implemented thus far...
>> >>      >      >
>> >>      >      > The file object for the two files listed in lines 1-2
>> >was
>> >>     set in my
>> >>      >      > working directory, and are under the folder "Vakul's
>> >GBM
>> >>     Code"...
>> >>      >     hence
>> >>      >      > the source of the odd 'prefix' for .txt files shown
>> >>      >      >
>> >>      >      >  >library(data.table)>.anno = as.data.frame(fread(file
>> >=
>> >>      >     "~Vakul's GBM
>> >>      >      > Code/mapper.txt", sep ="\t", header = T))
>> >>      >      >  >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
>> >>     sep  ="\t",
>> >>      >      > header = T, row.names = 1)
>> >>      >      >  >meth = as.matrix(meth)
>> >>      >      >
>> >>      >      > ##  the loop just formats the methylation column names
>> >to
>> >>     match
>> >>      >     format ##
>> >>      >      > colnames(meth) = sapply(colnames(meth), function(i){
>> >>      >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>> >>      >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
>> >>      >     T)[[1]][1:2],collapse
>> >>      >      > =  "")
>> >>      >      >    paste(c1,collapse = ".")
>> >>      >      >
>> >>      >      > Rendering reprex...
>> >>      >      > Error in parse(text = x, keep.source = TRUE) :
>> >>      >      >    <text>:28:0: unexpected end of input
>> >>      >      >
>> >>      >      > Best,
>> >>      >      >
>> >>      >      > Spencer
>> >>      >      >
>> >>      >      >
>> >>      >      >
>> >>      >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>> >>      >      > <spbrackett20 at saintjosephhs.com
>> >>     <mailto:spbrackett20 at saintjosephhs.com>
>> >>      >     <mailto:spbrackett20 at saintjosephhs.com
>> >>     <mailto:spbrackett20 at saintjosephhs.com>>
>> >>      >     <mailto:spbrackett20 at saintjosephhs.com
>> >>     <mailto:spbrackett20 at saintjosephhs.com>
>> >>      >     <mailto:spbrackett20 at saintjosephhs.com
>> >>     <mailto:spbrackett20 at saintjosephhs.com>>>>
>> >>      >      > wrote:
>> >>      >      >
>> >>      >      >     Mr. Barradas,
>> >>      >      >
>> >>      >      >     I got the same "output" as before, which is the +
>> >>     indicating that
>> >>      >      >     the expression is incomplete (according to some R
>> >users
>> >>      >     response in
>> >>      >      >     this chain).
>> >>      >      >
>> >>      >      >     Should the argument perhaps be c1 = strsplit(i,
>> >split
>> >>     = '\\',
>> >>      >     fixed
>> >>      >      >     = T)[[1]] .... thereby eliminating the "." ?
>> >>      >      >     The reprex and error message as the result of this
>> >is
>> >>     the same as
>> >>      >      >     the previous one I sent.
>> >>      >      >
>> >>      >      >     I will send a more detailed description of what
>> >code I
>> >>     have
>> >>      >     done so
>> >>      >      >     far for context.
>> >>      >      >
>> >>      >      >     Best,
>> >>      >      >
>> >>      >      >     Spencer
>> >>      >      >
>> >>      >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>> >>      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>> >>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>> >>      >      >     <mailto:ruipbarradas at sapo.pt
>> >>     <mailto:ruipbarradas at sapo.pt> <mailto:ruipbarradas at sapo.pt
>> >>     <mailto:ruipbarradas at sapo.pt>>>>
>> >>      >     wrote:
>> >>      >      >
>> >>      >      >         Hello,
>> >>      >      >
>> >>      >      >         Maybe with
>> >>      >      >
>> >>      >      >         c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>> >>      >      >
>> >>      >      >         instead of split = '.'
>> >>      >      >
>> >>      >      >         The dot is a metacharacter that matches any
>> >>     character so
>> >>      >     it has
>> >>      >      >         to be
>> >>      >      >         escaped.
>> >>      >      >
>> >>      >      >         Hope this helps,
>> >>      >      >
>> >>      >      >         Rui Barradas
>> >>      >      >
>> >>      >      >         ?s 16:11 de 25/06/19, Spencer Brackett
>> >escreveu:
>> >>      >      >          > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>> >>      >      >
>> >>      >
>> >>
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Jun 25 22:54:25 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 25 Jun 2019 21:54:25 +0100
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLMybNkgHY5Sq5i=FZLyh-NtwkORYDdj2oFsGx7+dTWNEg@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
 <CAPQaxLMybNkgHY5Sq5i=FZLyh-NtwkORYDdj2oFsGx7+dTWNEg@mail.gmail.com>
Message-ID: <44e6ccf5-f753-d5c7-6cf6-c6ae3f9c55f7@sapo.pt>

Hello,

The following works.
First, get the colnames you have posted in a format that R can process. 
in your code you would skip this.

cnames <- scan(what = character(), text = '
"sample.NA.NA.NANA"
"TCGA.27.1832.01.NA.NA.NANA"
"TCGA.27.1831.01.NA.NA.NANA"
"TCGA.28.5216.01.NA.NA.NANA"
"TCGA.16.0846.01.NA.NA.NANA"
"TCGA.28.5218.01.NA.NA.NANA"
"TCGA.06.0178.01.NA.NA.NANA"
"TCGA.06.0238.01.NA.NA.NANA"
"TCGA.06.0125.01.NA.NA.NANA"
"TCGA.06.0219.01.NA.NA.NANA"
')
cnames


Now your code corrected. I do not understand the output you are 
expecting. Can you give an example of the expected output of, say, the 
first 2 or 3 strings?

lapply(cnames, function(i){
   c1 <- strsplit(i, split = '\\.')[[1]]
   c1[4] <- paste(strsplit(c1[4], split = "",fixed = T)[[1]][1:2], 
collapse =  "")
   paste(c1, collapse = ".")
})


Hope this helps,

Rui Barradas

?s 20:24 de 25/06/19, Spencer Brackett escreveu:
> Mr. Barradas,
> 
> Oh haha my mistake. The following is the output you requested....
> 
> [1] "sample.NA.NA.NANA"
>  ?[2] "TCGA.27.1832.01.NA.NA.NANA"
>  ?[3] "TCGA.27.1831.01.NA.NA.NANA"
>  ?[4] "TCGA.28.5216.01.NA.NA.NANA"
>  ?[5] "TCGA.16.0846.01.NA.NA.NANA"
>  ?[6] "TCGA.28.5218.01.NA.NA.NANA"
>  ?[7] "TCGA.06.0178.01.NA.NA.NANA"
>  ?[8] "TCGA.06.0238.01.NA.NA.NANA"
>  ?[9] "TCGA.06.0125.01.NA.NA.NANA"
> [10] "TCGA.06.0219.01.NA.NA.NANA"
> 
> Best,
> 
> Spencer
> 
> On Tue, Jun 25, 2019 at 2:50 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     No, you have not understood, post the colnames, not the row.names.
> 
>     Run
> 
>     colnames(meth)[1:10]
> 
>     and post the output of that code line.
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 19:31 de 25/06/19, Spencer Brackett escreveu:
>      > The requested reprex....
>      >
>      > Rendering reprex...
>      > Error in parse(text = x, keep.source = TRUE) :
>      >? ? <text>:26:2: unexpected ')'
>      > 25:
>      > 26: 2)
>      >? ? ? ?^
>      >
>      > And the subset of the data....
>      >
>      >? ?row.names = c(NA, 6L), class = "data.frame")
>      >
>      > Best,
>      >
>      > Spencer
>      >
>      >
>      > On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas
>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>> wrote:
>      >
>      >? ? ?Hello,
>      >
>      >? ? ?No I wasn't expecting a very large file.
>      >? ? ?Try to make a reproducible example. If the problem seems to
>     be with the
>      >? ? ?sapply/strsplit post a subset of the data like just some of the
>      >? ? ?colnames:
>      >
>      >? ? ?colnames(meth)[1:10]
>      >
>      >
>      >? ? ?This would allow us to run the code you are having trouble with.
>      >
>      >
>      >? ? ?Hope this helps,
>      >
>      >? ? ?Rui Barradas
>      >
>      >? ? ??s 17:36 de 25/06/19, Spencer Brackett escreveu:
>      >? ? ? > The result of dput(head(meth)) is a very large data
>     table/listing of
>      >? ? ? > data by category of what I presume to be the data from the two
>      >? ? ?TCGA .txt
>      >? ? ? > files I referenced previously. Is this the output you were
>     expecting?
>      >? ? ? >
>      >? ? ? > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
>      >? ? ?<ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>      >? ? ? > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>> wrote:
>      >? ? ? >
>      >? ? ? >? ? ?Hello,
>      >? ? ? >
>      >? ? ? >? ? ?1) That error comes from not closing }) after the paste()
>      >? ? ?instruction.
>      >? ? ? >? ? ?The complete statement would be
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?colnames(meth) = sapply(colnames(meth), function(i){
>      >? ? ? >? ? ? ? ?c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>      >? ? ? >? ? ? ? ?c1[4] = paste(strsplit(c1[4],split = "",fixed =
>      >? ? ? >? ? ?T)[[1]][1:2],collapse
>      >? ? ? >? ? ?=? "")
>      >? ? ? >? ? ? ? ?paste(c1,collapse = ".")
>      >? ? ? >? ? ?})
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?2) Can you post the output of the following?
>      >? ? ? >
>      >? ? ? >? ? ?dput(head(meth))
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?Hope this helps,
>      >? ? ? >
>      >? ? ? >? ? ?Rui Barradas
>      >? ? ? >
>      >? ? ? >? ? ??s 16:58 de 25/06/19, Spencer Brackett escreveu:
>      >? ? ? >? ? ? > The following is what I have implemented thus far...
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > The file object for the two files listed in lines
>     1-2 was
>      >? ? ?set in my
>      >? ? ? >? ? ? > working directory, and are under the folder
>     "Vakul's GBM
>      >? ? ?Code"...
>      >? ? ? >? ? ?hence
>      >? ? ? >? ? ? > the source of the odd 'prefix' for .txt files shown
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? >library(data.table)>.anno =
>     as.data.frame(fread(file =
>      >? ? ? >? ? ?"~Vakul's GBM
>      >? ? ? >? ? ? > Code/mapper.txt", sep ="\t", header = T))
>      >? ? ? >? ? ? >? >meth = read.table(file = "~Vakul's GBM Code/GBM.txt",
>      >? ? ?sep ?="\t",
>      >? ? ? >? ? ? > header = T, row.names = 1)
>      >? ? ? >? ? ? >? >meth = as.matrix(meth)
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > ##? the loop just formats the methylation column
>     names to
>      >? ? ?match
>      >? ? ? >? ? ?format ##
>      >? ? ? >? ? ? > colnames(meth) = sapply(colnames(meth), function(i){
>      >? ? ? >? ? ? >? ? c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>      >? ? ? >? ? ? >? ? c1[4] = paste(strsplit(c1[4],split = "",fixed =
>      >? ? ? >? ? ?T)[[1]][1:2],collapse
>      >? ? ? >? ? ? > = ?"")
>      >? ? ? >? ? ? >? ? paste(c1,collapse = ".")
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > Rendering reprex...
>      >? ? ? >? ? ? > Error in parse(text = x, keep.source = TRUE) :
>      >? ? ? >? ? ? >? ? <text>:28:0: unexpected end of input
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > Best,
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > Spencer
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>      >? ? ? >? ? ? > <spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>
>      >? ? ? >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>>
>      >? ? ? >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>
>      >? ? ? >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>
>      >? ? ?<mailto:spbrackett20 at saintjosephhs.com
>     <mailto:spbrackett20 at saintjosephhs.com>>>>>
>      >? ? ? >? ? ? > wrote:
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?Mr. Barradas,
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?I got the same "output" as before, which is the?+
>      >? ? ?indicating that
>      >? ? ? >? ? ? >? ? ?the expression is incomplete (according to some
>     R users
>      >? ? ? >? ? ?response in
>      >? ? ? >? ? ? >? ? ?this chain).
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?Should the argument perhaps be c1 = strsplit(i,
>     split
>      >? ? ?= '\\',
>      >? ? ? >? ? ?fixed
>      >? ? ? >? ? ? >? ? ?= T)[[1]] .... thereby eliminating the "." ?
>      >? ? ? >? ? ? >? ? ?The reprex and error message as the result of
>     this is
>      >? ? ?the same as
>      >? ? ? >? ? ? >? ? ?the previous one I sent.
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?I will send a more detailed description of what
>     code I
>      >? ? ?have
>      >? ? ? >? ? ?done so
>      >? ? ? >? ? ? >? ? ?far for context.
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?Best,
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?Spencer
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ?On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>      >? ? ? >? ? ?<ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>      >? ? ?<mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>      >? ? ? >? ? ? >? ? ?<mailto:ruipbarradas at sapo.pt
>     <mailto:ruipbarradas at sapo.pt>
>      >? ? ?<mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      >? ? ?<mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>>>
>      >? ? ? >? ? ?wrote:
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?Hello,
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?Maybe with
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?c1 = strsplit(i, split = '\\.', fixed = T)[[1]]
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?instead of split = '.'
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?The dot is a metacharacter that matches any
>      >? ? ?character so
>      >? ? ? >? ? ?it has
>      >? ? ? >? ? ? >? ? ? ? ?to be
>      >? ? ? >? ? ? >? ? ? ? ?escaped.
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?Hope this helps,
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ?Rui Barradas
>      >? ? ? >? ? ? >
>      >? ? ? >? ? ? >? ? ? ? ??s 16:11 de 25/06/19, Spencer Brackett
>     escreveu:
>      >? ? ? >? ? ? >? ? ? ? ? > c1 = strsplit(i,split ='.', fixed = T)[[1]]
>      >? ? ? >? ? ? >
>      >? ? ? >
>      >
>


From r@oknz @end|ng |rom gm@||@com  Tue Jun 25 23:05:46 2019
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 26 Jun 2019 09:05:46 +1200
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
Message-ID: <CABcYAdLTqEiFYJySPYyh=bq+aBSy5MgmBPt=uLg5iHN5KO+LpA@mail.gmail.com>

This has nothing to do with your problem, but given the heavy use of "="
to bind keyword parameters in R, I find the use of "=" for assignment as
well confusing.  It makes code harder to read than it needs to be.
The historic " <- " assignment makes the distinction obvious.


On Wed, 26 Jun 2019 at 03:12, Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Hello,
>
> The following is the bit of code I was having trouble with reproducing;
> (meth) being the set matrix of the dataset I am working within R...
>
> colnames(meth) = sapply(colnames(meth), function(i){
>   c1 = strsplit(i,split ='.', fixed = T)[[1]]
>   c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>  "")
>   paste(c1,collapse = ".")
>
> And this is the reprex () that R generated...
>
> Error in parse(text = x, keep.source = TRUE) :
>   <text>:28:0: unexpected end of input
> 26:
> 27:
>    ^
>
> Does this perhaps make my question clearer? Or should I provide a more
> extensive reprex of my work for background?
>
> P.S. Above text should be formatted correctly this time (according to the
> posting guide rules), if not, I will try resetting my client email again.
>
> Best,
>
> Spencer
>
>
> On Tue, Jun 25, 2019 at 9:29 AM Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
>
> > Mr. Barradas,
> >
> >   My apologies for the delayed response. No, (meth) is not a dataset
> > within CRAN. I?m not sure why my supervisor wrote that in as the object
> for
> > the bit of script I shared previously. Assuming that the correct object
> for
> > this particular command is to be a data, the one with which we are
> working
> > is a TCGA dataset containing Glioblastoma data. We are attempting to
> > analyze available methylation information.
> >
> > Best,
> >
> > Spencer
> >
> >
> > On Sat, Jun 22, 2019 at 3:08 AM Rui Barradas <ruipbarradas at sapo.pt>
> wrote:
> >
> >> Hello,
> >>
> >> I cannot find the dataset. meth is a (CRAN) package dataset?
> >>
> >> Rui barradas
> >>
> >> ?s 02:11 de 22/06/19, Spencer Brackett escreveu:
> >> > Hello,
> >> >
> >> > I am attempting to paste multiple vectors using the paste() function
> >> for a
> >> > dataset that  I'm working with. Shouldn't I be receiving some kind of
> >> > output as a result of the following?
> >> >
> >> >   meth=as.matrix(meth)
> >> >> colnames(meth) = sapply(colnames(meth), function(i){
> >> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
> >> > + c1[4] = paste(strsplit(c1[4],split = "",fixed =
> T)[[1]][1:2],collapse
> >> =
> >> >   "")
> >> > + paste(c1,collapse = ".")
> >> > + {
> >> >
> >> > Best,
> >> >
> >> > Spencer Brackett
> >> >
> >> >       [[alternative HTML version deleted]]
> >> >
> >> > ______________________________________________
> >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> > https://stat.ethz.ch/mailman/listinfo/r-help
> >> > PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> > and provide commented, minimal, self-contained, reproducible code.
> >> >
> >>
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 23:14:41 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 17:14:41 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <44e6ccf5-f753-d5c7-6cf6-c6ae3f9c55f7@sapo.pt>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
 <CAPQaxLMybNkgHY5Sq5i=FZLyh-NtwkORYDdj2oFsGx7+dTWNEg@mail.gmail.com>
 <44e6ccf5-f753-d5c7-6cf6-c6ae3f9c55f7@sapo.pt>
Message-ID: <CAPQaxLPWUuaT6OFEj+=ji5FxYon7+WVbW1FMRtfEinKMiYWDrw@mail.gmail.com>

Thank you! The following is the result of the corrected code using >cnames
....

> cnames
 [1] "sample.NA.NA.NANA"          "TCGA.27.1832.01.NA.NA.NANA"
"TCGA.27.1831.01.NA.NA.NANA"
 [4] "TCGA.28.5216.01.NA.NA.NANA" "TCGA.16.0846.01.NA.NA.NANA"
"TCGA.28.5218.01.NA.NA.NANA"
 [7] "TCGA.06.0178.01.NA.NA.NANA" "TCGA.06.0238.01.NA.NA.NANA"
"TCGA.06.0125.01.NA.NA.NANA"
[10] "TCGA.06.0219.01.NA.NA.NANA"

And then the first 2 lines of the output for the corrected paste() bit of
the original coding...

[[1]]
[1] "sample.NA.NA.NA"

[[2]]
[1] "TCGA.27.1832.01.NA.NA.NANA"

I would have to reconvene with my instructor who wrote the original code to
determine what his desired output for the data would be, but from what I
can tell, this bit of coding is formatting the given dataset(s) that we are
working with, prepping them for what will be a Linear regression model of
the protein expression datatype contained with the larger dataset. Sorry, I
know that this explanation doesn't really narrow things down.

For reference, here are the proceeding few lines of code following the
paste() function portion; specifically after the "})" ...

exp = read.table(file =
"/rsrch1/bcb/kchen_group/v_mohanty/data/TCGA/RNAseq/GBM.txt", sep = "\t",
header = T, row.names = 1)
exp = as.matrix(exp)
c = intersect(colnames(exp),colnames(meth))
exp = exp[,c]
meth = meth[,c]
m = apply(meth, 1, function(i){
  log2(i/(1-i))
})

Best,

Spencer Brackett

On Tue, Jun 25, 2019 at 4:54 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> The following works.
> First, get the colnames you have posted in a format that R can process.
> in your code you would skip this.
>
> cnames <- scan(what = character(), text = '
> "sample.NA.NA.NANA"
> "TCGA.27.1832.01.NA.NA.NANA"
> "TCGA.27.1831.01.NA.NA.NANA"
> "TCGA.28.5216.01.NA.NA.NANA"
> "TCGA.16.0846.01.NA.NA.NANA"
> "TCGA.28.5218.01.NA.NA.NANA"
> "TCGA.06.0178.01.NA.NA.NANA"
> "TCGA.06.0238.01.NA.NA.NANA"
> "TCGA.06.0125.01.NA.NA.NANA"
> "TCGA.06.0219.01.NA.NA.NANA"
> ')
> cnames
>
>
> Now your code corrected. I do not understand the output you are
> expecting. Can you give an example of the expected output of, say, the
> first 2 or 3 strings?
>
> lapply(cnames, function(i){
>    c1 <- strsplit(i, split = '\\.')[[1]]
>    c1[4] <- paste(strsplit(c1[4], split = "",fixed = T)[[1]][1:2],
> collapse =  "")
>    paste(c1, collapse = ".")
> })
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 20:24 de 25/06/19, Spencer Brackett escreveu:
> > Mr. Barradas,
> >
> > Oh haha my mistake. The following is the output you requested....
> >
> > [1] "sample.NA.NA.NANA"
> >   [2] "TCGA.27.1832.01.NA.NA.NANA"
> >   [3] "TCGA.27.1831.01.NA.NA.NANA"
> >   [4] "TCGA.28.5216.01.NA.NA.NANA"
> >   [5] "TCGA.16.0846.01.NA.NA.NANA"
> >   [6] "TCGA.28.5218.01.NA.NA.NANA"
> >   [7] "TCGA.06.0178.01.NA.NA.NANA"
> >   [8] "TCGA.06.0238.01.NA.NA.NANA"
> >   [9] "TCGA.06.0125.01.NA.NA.NANA"
> > [10] "TCGA.06.0219.01.NA.NA.NANA"
> >
> > Best,
> >
> > Spencer
> >
> > On Tue, Jun 25, 2019 at 2:50 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     No, you have not understood, post the colnames, not the row.names.
> >
> >     Run
> >
> >     colnames(meth)[1:10]
> >
> >     and post the output of that code line.
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 19:31 de 25/06/19, Spencer Brackett escreveu:
> >      > The requested reprex....
> >      >
> >      > Rendering reprex...
> >      > Error in parse(text = x, keep.source = TRUE) :
> >      >    <text>:26:2: unexpected ')'
> >      > 25:
> >      > 26: 2)
> >      >       ^
> >      >
> >      > And the subset of the data....
> >      >
> >      >   row.names = c(NA, 6L), class = "data.frame")
> >      >
> >      > Best,
> >      >
> >      > Spencer
> >      >
> >      >
> >      > On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas
> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> wrote:
> >      >
> >      >     Hello,
> >      >
> >      >     No I wasn't expecting a very large file.
> >      >     Try to make a reproducible example. If the problem seems to
> >     be with the
> >      >     sapply/strsplit post a subset of the data like just some of
> the
> >      >     colnames:
> >      >
> >      >     colnames(meth)[1:10]
> >      >
> >      >
> >      >     This would allow us to run the code you are having trouble
> with.
> >      >
> >      >
> >      >     Hope this helps,
> >      >
> >      >     Rui Barradas
> >      >
> >      >     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
> >      >      > The result of dput(head(meth)) is a very large data
> >     table/listing of
> >      >      > data by category of what I presume to be the data from the
> two
> >      >     TCGA .txt
> >      >      > files I referenced previously. Is this the output you were
> >     expecting?
> >      >      >
> >      >      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
> >      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
> >      >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>> wrote:
> >      >      >
> >      >      >     Hello,
> >      >      >
> >      >      >     1) That error comes from not closing }) after the
> paste()
> >      >     instruction.
> >      >      >     The complete statement would be
> >      >      >
> >      >      >
> >      >      >     colnames(meth) = sapply(colnames(meth), function(i){
> >      >      >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
> >      >      >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >      >      >     T)[[1]][1:2],collapse
> >      >      >     =  "")
> >      >      >         paste(c1,collapse = ".")
> >      >      >     })
> >      >      >
> >      >      >
> >      >      >     2) Can you post the output of the following?
> >      >      >
> >      >      >     dput(head(meth))
> >      >      >
> >      >      >
> >      >      >     Hope this helps,
> >      >      >
> >      >      >     Rui Barradas
> >      >      >
> >      >      >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
> >      >      >      > The following is what I have implemented thus far...
> >      >      >      >
> >      >      >      > The file object for the two files listed in lines
> >     1-2 was
> >      >     set in my
> >      >      >      > working directory, and are under the folder
> >     "Vakul's GBM
> >      >     Code"...
> >      >      >     hence
> >      >      >      > the source of the odd 'prefix' for .txt files shown
> >      >      >      >
> >      >      >      >  >library(data.table)>.anno =
> >     as.data.frame(fread(file =
> >      >      >     "~Vakul's GBM
> >      >      >      > Code/mapper.txt", sep ="\t", header = T))
> >      >      >      >  >meth = read.table(file = "~Vakul's GBM
> Code/GBM.txt",
> >      >     sep  ="\t",
> >      >      >      > header = T, row.names = 1)
> >      >      >      >  >meth = as.matrix(meth)
> >      >      >      >
> >      >      >      > ##  the loop just formats the methylation column
> >     names to
> >      >     match
> >      >      >     format ##
> >      >      >      > colnames(meth) = sapply(colnames(meth), function(i){
> >      >      >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
> >      >      >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
> >      >      >     T)[[1]][1:2],collapse
> >      >      >      > =  "")
> >      >      >      >    paste(c1,collapse = ".")
> >      >      >      >
> >      >      >      > Rendering reprex...
> >      >      >      > Error in parse(text = x, keep.source = TRUE) :
> >      >      >      >    <text>:28:0: unexpected end of input
> >      >      >      >
> >      >      >      > Best,
> >      >      >      >
> >      >      >      > Spencer
> >      >      >      >
> >      >      >      >
> >      >      >      >
> >      >      >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
> >      >      >      > <spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>
> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>>
> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>
> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>
> >      >     <mailto:spbrackett20 at saintjosephhs.com
> >     <mailto:spbrackett20 at saintjosephhs.com>>>>>
> >      >      >      > wrote:
> >      >      >      >
> >      >      >      >     Mr. Barradas,
> >      >      >      >
> >      >      >      >     I got the same "output" as before, which is
> the +
> >      >     indicating that
> >      >      >      >     the expression is incomplete (according to some
> >     R users
> >      >      >     response in
> >      >      >      >     this chain).
> >      >      >      >
> >      >      >      >     Should the argument perhaps be c1 = strsplit(i,
> >     split
> >      >     = '\\',
> >      >      >     fixed
> >      >      >      >     = T)[[1]] .... thereby eliminating the "." ?
> >      >      >      >     The reprex and error message as the result of
> >     this is
> >      >     the same as
> >      >      >      >     the previous one I sent.
> >      >      >      >
> >      >      >      >     I will send a more detailed description of what
> >     code I
> >      >     have
> >      >      >     done so
> >      >      >      >     far for context.
> >      >      >      >
> >      >      >      >     Best,
> >      >      >      >
> >      >      >      >     Spencer
> >      >      >      >
> >      >      >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
> >      >      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> >      >      >      >     <mailto:ruipbarradas at sapo.pt
> >     <mailto:ruipbarradas at sapo.pt>
> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt
> >>>>>
> >      >      >     wrote:
> >      >      >      >
> >      >      >      >         Hello,
> >      >      >      >
> >      >      >      >         Maybe with
> >      >      >      >
> >      >      >      >         c1 = strsplit(i, split = '\\.', fixed =
> T)[[1]]
> >      >      >      >
> >      >      >      >         instead of split = '.'
> >      >      >      >
> >      >      >      >         The dot is a metacharacter that matches any
> >      >     character so
> >      >      >     it has
> >      >      >      >         to be
> >      >      >      >         escaped.
> >      >      >      >
> >      >      >      >         Hope this helps,
> >      >      >      >
> >      >      >      >         Rui Barradas
> >      >      >      >
> >      >      >      >         ?s 16:11 de 25/06/19, Spencer Brackett
> >     escreveu:
> >      >      >      >          > c1 = strsplit(i,split ='.', fixed =
> T)[[1]]
> >      >      >      >
> >      >      >
> >      >
> >
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Tue Jun 25 23:16:04 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Tue, 25 Jun 2019 17:16:04 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CABcYAdLTqEiFYJySPYyh=bq+aBSy5MgmBPt=uLg5iHN5KO+LpA@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <CABcYAdLTqEiFYJySPYyh=bq+aBSy5MgmBPt=uLg5iHN5KO+LpA@mail.gmail.com>
Message-ID: <CAPQaxLP-50mPtw=yCWy6Cfu0v4Xe8KXgjO7GJBge1qLiQHPcrQ@mail.gmail.com>

Noted. Thank you as well! :)

On Tue, Jun 25, 2019 at 5:05 PM Richard O'Keefe <raoknz at gmail.com> wrote:

> This has nothing to do with your problem, but given the heavy use of "="
> to bind keyword parameters in R, I find the use of "=" for assignment as
> well confusing.  It makes code harder to read than it needs to be.
> The historic " <- " assignment makes the distinction obvious.
>
>
> On Wed, 26 Jun 2019 at 03:12, Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
>
>> Hello,
>>
>> The following is the bit of code I was having trouble with reproducing;
>> (meth) being the set matrix of the dataset I am working within R...
>>
>> colnames(meth) = sapply(colnames(meth), function(i){
>>   c1 = strsplit(i,split ='.', fixed = T)[[1]]
>>   c1[4] = paste(strsplit(c1[4],split = "",fixed = T)[[1]][1:2],collapse =
>>  "")
>>   paste(c1,collapse = ".")
>>
>> And this is the reprex () that R generated...
>>
>> Error in parse(text = x, keep.source = TRUE) :
>>   <text>:28:0: unexpected end of input
>> 26:
>> 27:
>>    ^
>>
>> Does this perhaps make my question clearer? Or should I provide a more
>> extensive reprex of my work for background?
>>
>> P.S. Above text should be formatted correctly this time (according to the
>> posting guide rules), if not, I will try resetting my client email again.
>>
>> Best,
>>
>> Spencer
>>
>>
>> On Tue, Jun 25, 2019 at 9:29 AM Spencer Brackett <
>> spbrackett20 at saintjosephhs.com> wrote:
>>
>> > Mr. Barradas,
>> >
>> >   My apologies for the delayed response. No, (meth) is not a dataset
>> > within CRAN. I?m not sure why my supervisor wrote that in as the object
>> for
>> > the bit of script I shared previously. Assuming that the correct object
>> for
>> > this particular command is to be a data, the one with which we are
>> working
>> > is a TCGA dataset containing Glioblastoma data. We are attempting to
>> > analyze available methylation information.
>> >
>> > Best,
>> >
>> > Spencer
>> >
>> >
>> > On Sat, Jun 22, 2019 at 3:08 AM Rui Barradas <ruipbarradas at sapo.pt>
>> wrote:
>> >
>> >> Hello,
>> >>
>> >> I cannot find the dataset. meth is a (CRAN) package dataset?
>> >>
>> >> Rui barradas
>> >>
>> >> ?s 02:11 de 22/06/19, Spencer Brackett escreveu:
>> >> > Hello,
>> >> >
>> >> > I am attempting to paste multiple vectors using the paste() function
>> >> for a
>> >> > dataset that  I'm working with. Shouldn't I be receiving some kind of
>> >> > output as a result of the following?
>> >> >
>> >> >   meth=as.matrix(meth)
>> >> >> colnames(meth) = sapply(colnames(meth), function(i){
>> >> > + c1 = strsplit(i,split ='.', fixed = T)[[1]]
>> >> > + c1[4] = paste(strsplit(c1[4],split = "",fixed =
>> T)[[1]][1:2],collapse
>> >> =
>> >> >   "")
>> >> > + paste(c1,collapse = ".")
>> >> > + {
>> >> >
>> >> > Best,
>> >> >
>> >> > Spencer Brackett
>> >> >
>> >> >       [[alternative HTML version deleted]]
>> >> >
>> >> > ______________________________________________
>> >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >> > https://stat.ethz.ch/mailman/listinfo/r-help
>> >> > PLEASE do read the posting guide
>> >> http://www.R-project.org/posting-guide.html
>> >> > and provide commented, minimal, self-contained, reproducible code.
>> >> >
>> >>
>> >
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From @v@dhoot@ve|@nk@r @end|ng |rom gm@||@com  Wed Jun 26 14:01:00 2019
From: @v@dhoot@ve|@nk@r @end|ng |rom gm@||@com (avadhoot velankar)
Date: Wed, 26 Jun 2019 17:31:00 +0530
Subject: [R] Help with maximum likelihood estimation
Message-ID: <CANcRq3rAoxJSit20hv81MAgUF+GgyOmezP5T4LkAXYpZ30S=PA@mail.gmail.com>

I am analyzing animal movement pattern using levy flight pattern and want
to fit power function to observed data and estimate exponent using Maximum
Likelihood Estimation.

I am using

lff<-function(mu){1-1/mean(log(x))}
library(stats4)
mle(lff, start = list(mu = 1))

where x is the observed data.

I am getting following error

Error in solve.default(oout$hessian) :
  Lapack routine dgesv: system is exactly singular: U[1,1] = 0

This is first time i am writing function and I am as good at algebra
as brick is good at flying.

Thank you in advance for your help.

-- 
*Avadhoot D. Velankar*

	[[alternative HTML version deleted]]


From @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my  Wed Jun 26 03:32:51 2019
From: @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my (SITI AISYAH BINTI ZAKARIA)
Date: Wed, 26 Jun 2019 09:32:51 +0800 (MYT)
Subject: [R] How to select max data according to week?
In-Reply-To: <CAGgJW76r-jO+exQ4Yz2qcy8Azk32h+Oija4u0RFx09piJx=ZTA@mail.gmail.com>
References: <2086865704.8223817.1560837491819.JavaMail.zimbra@unimap.edu.my>
 <CAGxFJbQptp_g+rVUG+05vefY26R5wtqF=2fBaCCJmaxK8fdWyg@mail.gmail.com>
 <CAGgJW766dnkXopX0hxHaxo5BNghkhooXsBX4SUN5eEdpkOPPnw@mail.gmail.com>
 <CAGxFJbTGPycTtQPq_AxzbAZV3oqf72Fmr3d3QM5M683W3Ci8Dg@mail.gmail.com>
 <CAGgJW749O+wkxXjVWZU-F+MMg3DAy-ETS3i=kL1ka2_M-d-F4A@mail.gmail.com>
 <CAGgJW77nYzOC5LR4oZvF=H6gerQCGwD=qnpn0StrPDeTXVw0Vw@mail.gmail.com>
 <E4519DC0-D304-40A4-96CD-FE91A7995B28@me.com>
 <CAGgJW76r-jO+exQ4Yz2qcy8Azk32h+Oija4u0RFx09piJx=ZTA@mail.gmail.com>
Message-ID: <174385041.9782250.1561512771472.JavaMail.zimbra@unimap.edu.my>

Dear All, 

Thank you very much for helping me.. i will try my best by using all suggestion..

thank you again.. hopefully is work.

----- Original Message -----
From: "Eric Berger" <ericjberger at gmail.com>
To: "Marc Schwartz" <marc_schwartz at me.com>
Cc: "Bert Gunter" <bgunter.4567 at gmail.com>, "R-help" <r-help at r-project.org>, "SITI AISYAH BINTI ZAKARIA" <aisyahzakaria at unimap.edu.my>
Sent: Thursday, June 20, 2019 3:21:14 PM
Subject: Re: [R] How to select max data according to week?

Marc - very nice.

On Wed, Jun 19, 2019 at 6:30 PM Marc Schwartz <marc_schwartz at me.com> wrote:

> Hi All,
>
> Is there a reason that the following was not considered?
>
> > DF
>          Date O3_Conc
> 1  2000-01-01   0.033
> 2  2000-01-02   0.023
> 3  2000-01-03   0.025
> 4  2000-01-04   0.041
> 5  2000-01-05   0.063
> 6  2000-01-06   0.028
> 7  2000-01-07   0.068
> 8  2000-01-08   0.048
> 9  2000-01-09   0.037
> 10 2000-01-10   0.042
> 11 2000-01-11   0.027
> 12 2000-01-12   0.035
> 13 2000-01-13   0.063
> 14 2000-01-14   0.035
> 15 2000-01-15   0.042
> 16 2000-01-16   0.028
>
> > str(DF)
> 'data.frame':   16 obs. of  2 variables:
>  $ Date   : Date, format: "2000-01-01" ...
>  $ O3_Conc: num  0.033 0.023 0.025 0.041 0.063 0.028 0.068 0.048 0.037
> 0.042 ...
>
>
> > aggregate(O3_Conc ~ cut(Date, breaks = "14 days"), data = DF, max)
>   cut(Date, breaks = "14 days") O3_Conc
> 1                    2000-01-01   0.068
> 2                    2000-01-15   0.042
>
>
> See ?cut.Date
>
> Note that there is an error in Aisyah's original post, in that the value
> for the max concentration in the second 14 day window is 0.042, not 0.061.
>
> Also, if one wanted to use actual calendar weeks, with a week starting on
> Sunday, as opposed to 14 day windows starting from the minimum date, you
> could use:
>
> > aggregate(O3_Conc ~ cut(Date, breaks = "2 weeks", start.on.monday =
> FALSE), data = DF, max)
>   cut(Date, breaks = "2 weeks", start.on.monday = FALSE) O3_Conc
> 1                                             1999-12-26   0.068
> 2                                             2000-01-09   0.063
>
>
> If desired, you could pre-create a column in the DF with the result of
> cut():
>
> DF$TimeStartDays <- cut(DF$Date, breaks = "14 days")
> DF$TimeStartWks <- cut(DF$Date, breaks = "2 weeks", start.on.monday =
> FALSE)
>
> > DF
>          Date O3_Conc TimeStartDays TimeStartWks
> 1  2000-01-01   0.033    2000-01-01   1999-12-26
> 2  2000-01-02   0.023    2000-01-01   1999-12-26
> 3  2000-01-03   0.025    2000-01-01   1999-12-26
> 4  2000-01-04   0.041    2000-01-01   1999-12-26
> 5  2000-01-05   0.063    2000-01-01   1999-12-26
> 6  2000-01-06   0.028    2000-01-01   1999-12-26
> 7  2000-01-07   0.068    2000-01-01   1999-12-26
> 8  2000-01-08   0.048    2000-01-01   1999-12-26
> 9  2000-01-09   0.037    2000-01-01   2000-01-09
> 10 2000-01-10   0.042    2000-01-01   2000-01-09
> 11 2000-01-11   0.027    2000-01-01   2000-01-09
> 12 2000-01-12   0.035    2000-01-01   2000-01-09
> 13 2000-01-13   0.063    2000-01-01   2000-01-09
> 14 2000-01-14   0.035    2000-01-01   2000-01-09
> 15 2000-01-15   0.042    2000-01-15   2000-01-09
> 16 2000-01-16   0.028    2000-01-15   2000-01-09
>
> and then use:
>
> > aggregate(O3_Conc ~ TimeStartDays, data = DF, max)
>   TimeStartDays O3_Conc
> 1    2000-01-01   0.068
> 2    2000-01-15   0.042
>
> > aggregate(O3_Conc ~ TimeStartWks, data = DF, max)
>   TimeStartWks O3_Conc
> 1   1999-12-26   0.068
> 2   2000-01-09   0.063
>
>
> Regards,
>
> Marc Schwartz
>
>
>
> > On Jun 19, 2019, at 10:45 AM, Eric Berger <ericjberger at gmail.com> wrote:
> >
> > I just realized that my method as written only works if the entire date
> > range is within a single calendar year.
> > Here is a revised version that should handle the general case.
> >
> > In this version I assume that the conversion from the original numbers to
> > dates has already been done
> > e.g. it can be done using ymd() as I showed before
> >
> > library(dplyr)
> > library(lubridate)
> >
> > ## create some example data for 36 months from 2010
> > d <- seq(from=as.Date("2010-01-01"),to=as.Date("2012-12-31"),by="1 day")
> > conc <- runif(length(d)) # concentrations
> > df <- data.frame( dt=d, conc=conc)
> > df2 <- dplyr::mutate( df, wkpair=as.integer(floor((0:(nrow(df)-1))/14)) )
> > df3 <- dplyr::group_by(df2,wkpair) %>%
> >       dplyr::summarise(from=min(dt), to=max(dt), maxconc=max(conc)) %>%
> >       dplyr::select(from,to,maxconc)
> > df3
> >
> > # A tibble: 79 x 3
> >   from       to         maxconc
> >   <date>     <date>       <dbl>
> > 1 2010-01-01 2010-01-14   0.928
> > 2 2010-01-15 2010-01-28   0.834
> > 3 2010-01-29 2010-02-11   0.989
> > 4 2010-02-12 2010-02-25   0.983
> > 5 2010-02-26 2010-03-11   0.898
> > 6 2010-03-12 2010-03-25   0.864
> > 7 2010-03-26 2010-04-08   0.920
> > 8 2010-04-09 2010-04-22   0.925
> > 9 2010-04-23 2010-05-06   0.998
> > 10 2010-05-07 2010-05-20   0.761
> > # ... with 69 more rows
> >
> > On Wed, Jun 19, 2019 at 5:08 PM Eric Berger <ericjberger at gmail.com>
> wrote:
> >
> >> Hi Bert,
> >> I agree that our interpretation is slightly different, which is why I
> >> wrote:
> >> "If one can take the actual week of the year as an acceptable definition
> >> of week, then here's my approach."
> >>
> >> Regards,
> >> Eric
> >>
> >> On Wed, Jun 19, 2019 at 5:04 PM Bert Gunter <bgunter.4567 at gmail.com>
> >> wrote:
> >>
> >>> Eric:
> >>>
> >>> I believe you're doing something different than I did. I broke up each
> >>> month into biweekly periods, 2+ per month. You seem to be grouping the
> >>> overall entire period into biweekly intervals -- apologies if I'm
> wrong,
> >>> but if I understood correctly, that's not the same thing. I do not know
> >>> which of us -- if either -- has interpreted her query correctly.
> >>>
> >>> Cheers,
> >>> Bert
> >>>
> >>> On Wed, Jun 19, 2019 at 2:35 AM Eric Berger <ericjberger at gmail.com>
> >>> wrote:
> >>>
> >>>> Hi Siti,
> >>>> I didn't test Bert's code but I assume it's fine. :-)
> >>>> I would take a different approach than Bert. I prefer to use a package
> >>>> such as lubridate to handle the date wrangling, and a package such as
> dplyr
> >>>> to handle the grouping and max extraction.
> >>>> It may be overkill for this problem, but these are great packages to
> >>>> become familiar with.
> >>>> If one can take the actual week of the year as an acceptable
> definition
> >>>> of week, then here's my approach.
> >>>>
> >>>> library(lubridate)
> >>>> library(dplyr)
> >>>>
> >>>> # Step 1: start with Bert's code to create sample data
> >>>> ## create some example data for 3 months in 2000
> >>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> >>>> conc <- runif(length(d)) # concentrations
> >>>>
> >>>> # Step 2: collect the data into a data frame
> >>>> df <- data.frame( dt=d, conc=conc)
> >>>>
> >>>> # Step 3: use lubridate's ymd() function to parse the dates, its
> week()
> >>>> function to identify the week of the year, and define the new column
> >>>> 'wkpair' that groups the weeks 2-at-a-time
> >>>> df2 <- dplyr::mutate( df,
> >>>> wkpair=as.integer(floor(lubridate::week(lubridate::ymd(dt) )/2)) )
> >>>>
> >>>> # Step 4: group by the wkpair and use dplyr's summarise to get the
> info
> >>>> you wanted
> >>>> df3 <- dplyr::group_by(df2,wkpair) %>%
> >>>>          dplyr::summarise( from=min(dt), to=max(dt),
> maxconc=max(conc))
> >>>> %>%
> >>>>          dplyr::select(from,to,maxconc)
> >>>>
> >>>> df3
> >>>>
> >>>> # A tibble: 6 x 3
> >>>>      from       to maxconc
> >>>>     <dbl>    <dbl>   <dbl>
> >>>> 1 20000113 20000121   0.963
> >>>> 2 20000122 20000204   0.988
> >>>> 3 20000205 20000218   0.939
> >>>> 4 20000219 20000303   0.883
> >>>> 5 20000304 20000317   0.863
> >>>> 6 20000318 20000330   0.765
> >>>>
> >>>> HTH,
> >>>> Eric
> >>>>
> >>>>
> >>>>
> >>>> On Tue, Jun 18, 2019 at 9:39 PM Bert Gunter <bgunter.4567 at gmail.com>
> >>>> wrote:
> >>>>
> >>>>> My apologies. I negected to cc r-help. -- Bert
> >>>>>
> >>>>>
> >>>>>
> >>>>> On Tue, Jun 18, 2019 at 11:21 AM Bert Gunter <bgunter.4567 at gmail.com
> >
> >>>>> wrote:
> >>>>>
> >>>>>>
> >>>>>> I assume that 20000215 means year 2000, month 2, day 15.
> >>>>>> I also assume that you want maxes for the first 2 weeks of a month,
> >>>>> the
> >>>>>> second 2 weeks, and any remaining days.
> >>>>>> I also assume that this might be desired for arbitrary numbers of
> >>>>> years,
> >>>>>> months, and days.
> >>>>>>
> >>>>>> The following is one way to do this. As it's a slight pain to cut
> and
> >>>>>> paste email data as text into R (use ?dput or R code to run to
> provide
> >>>>>> example data instead), I just made up my own. You'll have to do the
> >>>>>> following within a data frame through extraction or by using with()
> of
> >>>>>> course.
> >>>>>>
> >>>>>> ## create some example data for 3 months in 2000
> >>>>>> d<- 2e7 +c(113:131,201:228, 301:330) ## dates
> >>>>>> conc <- runif(length(d)) # concentrations
> >>>>>>
> >>>>>> ## convert the date to character to extract year, month, and day
> >>>>>> cdate <- as.character(d)
> >>>>>> ## use substr to to the extraction
> >>>>>> year <- substr(cdate,1,4)
> >>>>>> mon <- substr(cdate,5,6)
> >>>>>> day <- substr(cdate, 7,8)
> >>>>>>
> >>>>>> ## convert day to numeric and use cut() to group into the biweekly
> >>>>> periods.
> >>>>>> d14 <- cut(as.numeric(day), c(0,14.5,28.5, 32))
> >>>>>>
> >>>>>> ## Use tapply() to create your desired table of results.
> >>>>>> tapply(conc, list(year, d14, mon), max, na.rm = TRUE)
> >>>>>>
> >>>>>> ## Results
> >>>>>>
> >>>>>> , , 01
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.7357389   0.9655391 0.7962965
> >>>>>>
> >>>>>> , , 02
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.8193979   0.9487207        NA
> >>>>>>
> >>>>>> , , 03
> >>>>>>
> >>>>>>      (0,14.5] (14.5,28.5] (28.5,32]
> >>>>>> 2000 0.9718919   0.9997093  0.168659
> >>>>>>
> >>>>>>
> >>>>>> Cheers,
> >>>>>> Bert
> >>>>>>
> >>>>>> Bert Gunter
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> On Tue, Jun 18, 2019 at 8:53 AM SITI AISYAH BINTI ZAKARIA <
> >>>>>> aisyahzakaria at unimap.edu.my> wrote:
> >>>>>>
> >>>>>>> Hi,
> >>>>>>>
> >>>>>>> I'm Aisyah..I have a problem to run my R coding. I want to select
> >>>>> maximum
> >>>>>>> value according to week.
> >>>>>>>
> >>>>>>> here is my data
> >>>>>>>
> >>>>>>> Date          O3_Conc
> >>>>>>> 20000101        0.033
> >>>>>>> 20000102        0.023
> >>>>>>> 20000103        0.025
> >>>>>>> 20000104        0.041
> >>>>>>> 20000105        0.063
> >>>>>>> 20000106        0.028
> >>>>>>> 20000107        0.068
> >>>>>>> 20000108        0.048
> >>>>>>> 20000109        0.037
> >>>>>>> 20000110        0.042
> >>>>>>> 20000111        0.027
> >>>>>>> 20000112        0.035
> >>>>>>> 20000113        0.063
> >>>>>>> 20000114        0.035
> >>>>>>> 20000115        0.042
> >>>>>>> 20000116        0.028
> >>>>>>>
> >>>>>>> I want to find the max value from column O3_Conc for only 14 days
> >>>>> that
> >>>>>>> refer to biweekly in month. And the next 14 days for the max value.
> >>>>>>>
> >>>>>>> I hope that I can get the result like this:
> >>>>>>>
> >>>>>>> Date                     Max O3_Conc
> >>>>>>> 20000101 - 20000114        0.068
> >>>>>>> 20000115 - 20000129        0.061
> >>>>>>>
> >>>>>>> I try many coding but still unavailable.
> >>>>>>>
> >>>>>>> this example my coding
> >>>>>>>
> >>>>>>> library(plyr)
> >>>>>>>      data.frame(CA0003)
> >>>>>>>
> >>>>>>>      # format weeks as per requirement (replace "00" with "52" and
> >>>>>>> adjust corresponding year)
> >>>>>>>      tmp <- list()
> >>>>>>>      tmp$y <- format(df$Date, format="%Y")
> >>>>>>>      tmp$w <- format(df$Date, format="%U")
> >>>>>>>      tmp$y[tmp$w=="00"] <-
> >>>>> as.character(as.numeric(tmp$y[tmp$w=="00"]) -
> >>>>>>> 14)
> >>>>>>>      tmp$w[tmp$w=="00"] <- "884"
> >>>>>>>      df$week <- paste(tmp$y, tmp$w, sep = "-")
> >>>>>>>
> >>>>>>>      # get summary
> >>>>>>>      df2 <- ddply(df, .(week),transform, O3_Conc=max(O3_Conc))
> >>>>>>>
> >>>>>>>      # include week ending date
> >>>>>>>      tmp$week.ending <- lapply(df2$week, function(x) rev(df[df$week
> >>>>> ==x,
> >>>>>>> "O3_Conc"])[[1]])
> >>>>>>>      df2$week.ending <- sapply(tmp$week.ending, max(O3_Conc, TRUE)
> >>>>>>>
> >>>>>>> output
> >>>>>>>        Site_Id Site_Location
> >>>>> Date
> >>>>>>>      Year    O3_Conc Month   Day     week
> >>>>>>> 1       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000101
> >>>>>>>      2000    0.033   1       1       NULL-NULL
> >>>>>>> 2       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000102
> >>>>>>>      2000    0.023   1       2       NULL-NULL
> >>>>>>> 3       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000103
> >>>>>>>      2000    0.025   1       3       NULL-NULL
> >>>>>>> 4       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000104
> >>>>>>>      2000    0.041   1       4       NULL-NULL
> >>>>>>> 5       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000105
> >>>>>>>      2000    0.063   1       5       NULL-NULL
> >>>>>>> 6       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000106
> >>>>>>>      2000    0.028   1       6       NULL-NULL
> >>>>>>> 7       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000107
> >>>>>>>      2000    0.068   1       7       NULL-NULL
> >>>>>>> 8       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000108
> >>>>>>>      2000    0.048   1       8       NULL-NULL
> >>>>>>> 9       CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000109
> >>>>>>>      2000    0.037   1       9       NULL-NULL
> >>>>>>> 10      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000110
> >>>>>>>      2000    0.042   1       10      NULL-NULL
> >>>>>>> 11      CA0003  Sek. Keb. Cederawasih, Taman Inderawasih, Perai
> >>>>> 20000111
> >>>>>>>      2000    0.027   1       11      NULL-NULL
> >>>>>>>
>
>


From @hreep@d@kh@ndve05 @end|ng |rom gm@||@com  Wed Jun 26 13:16:10 2019
From: @hreep@d@kh@ndve05 @end|ng |rom gm@||@com (shreepad khandve)
Date: Wed, 26 Jun 2019 16:46:10 +0530
Subject: [R] IRT discrimination value (ltm and psych package)
Message-ID: <CAGnvD5BGp8kkkBUW7EtZSN4REyQXvRqP+t1kdvv497QLxyRyOQ@mail.gmail.com>

Hello Sir,

I am learning R and its syntax and  I have successfully converted
irt.item.diff.rasch into python code and pass the inputs as per the
function made in R.



In R  :-

function (items)

{

  ncases <- nrow(items)

  item.mean <- colMeans(items, na.rm = TRUE)

  item.mean[item.mean < (1/ncases)] <- 1/ncases

  irt.item.diff.rasch <- log((1/item.mean) - 1)

}



In Python :-

def diff(items):

    item_mean= items.mean()

    item_diff = []

    for i in item_mean:

        diff = np.log((1/i)-1)

        item_diff.append(diff)

    return item_diff





I am getting the exact same result as R output.

But I?m still unable to understand the ?item.discrim? and how to and
what to pass as a input to the function,



function (item.diff, theta, items)

{

  irt.item.discrim <- function(x, diff, theta, scores) {

    fit <- -1 * (log(scores/(1 + exp(x * (diff - theta))) +

      (1 - scores)/(1 + exp(x * (theta - diff)))))

    mean(fit, na.rm = TRUE)

  }

  nitems <- length(item.diff)

  discrim <- matrix(NaN, nitems, 2)

  for (i in 1:nitems) {

    item.fit <- optimize(irt.item.discrim, c(-5, 5), diff = item.diff[i],

      theta = theta, scores = items[, i])

    discrim[i, 1] <- item.fit$minimum

    discrim[i, 2] <- item.fit$objective

  }

  irt.discrim <- discrim



Could you please guide how do I convert the same in python, because
there are no proper explanation in documentation what to pass as
following arguments or the formulas to find the values of x and theta.

X= ?

Diff = I got the diff values

Theta = ?

Scores = = items[, i] as per mentioned in code



Unable to find theta and x, please help with this parameters ?


Thanks,
Shreepad


From pd@|gd @end|ng |rom gm@||@com  Wed Jun 26 14:32:45 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 26 Jun 2019 14:32:45 +0200
Subject: [R] Help with maximum likelihood estimation
In-Reply-To: <CANcRq3rAoxJSit20hv81MAgUF+GgyOmezP5T4LkAXYpZ30S=PA@mail.gmail.com>
References: <CANcRq3rAoxJSit20hv81MAgUF+GgyOmezP5T4LkAXYpZ30S=PA@mail.gmail.com>
Message-ID: <7616A443-BD46-490C-AE16-29BAAE705691@gmail.com>

Bricks fly fine with sufficient thrust, but you have lff with a mu argument that never gets used, so the negative log-likelihood is constant and mle() cannot minimize it.

You need to read up on the definition of (log-) likelihood and write a proper one for your problem.

-pd

> On 26 Jun 2019, at 14:01 , avadhoot velankar <avadhoot.velankar at gmail.com> wrote:
> 
> I am analyzing animal movement pattern using levy flight pattern and want
> to fit power function to observed data and estimate exponent using Maximum
> Likelihood Estimation.
> 
> I am using
> 
> lff<-function(mu){1-1/mean(log(x))}
> library(stats4)
> mle(lff, start = list(mu = 1))
> 
> where x is the observed data.
> 
> I am getting following error
> 
> Error in solve.default(oout$hessian) :
>  Lapack routine dgesv: system is exactly singular: U[1,1] = 0
> 
> This is first time i am writing function and I am as good at algebra
> as brick is good at flying.
> 
> Thank you in advance for your help.
> 
> -- 
> *Avadhoot D. Velankar*
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pe|j@@z @end|ng |rom y@hoo@co@uk  Wed Jun 26 16:11:11 2019
From: pe|j@@z @end|ng |rom y@hoo@co@uk (lejeczek)
Date: Wed, 26 Jun 2019 15:11:11 +0100
Subject: [R] problem in saving the history file '~/.Rhistory'
Message-ID: <81aa3c50-0d9f-edb5-aa90-f8f7868fa659@yahoo.co.uk>

hi guys,

I'm on Centos 7.6 with R 3.6 and I see this:

>?
Save workspace image? [y/n/c]: y
Warning message:
problem in saving the history file '~/.Rhistory'?

from strace:

rt_sigaction(SIGWINCH, {SIG_DFL, [], SA_RESTORER, 0x7fb9dd34b5d0},
{0x7fb9dc383820, [], SA_RESTORER|SA_RESTART, 0x7fb9dd34b5d0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, [INT], [], 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
ioctl(1, TCXONC, TCOON)???????????????? = 0
open("~/.Rhistory", O_WRONLY|O_CREAT|O_TRUNC, 0600) = -1 ENOENT (No such
file or directory)
brk(NULL)?????????????????????????????? = 0x43da000
brk(0x43fe000)????????????????????????? = 0x43fe000
rt_sigaction(SIGINT, {SIG_IGN, [], SA_RESTORER, 0x7fb9dcfa2280},
{0x7fb9dfd99ffb, [INT], SA_RESTORER|SA_RESTART, 0x7fb9dd34b5d0}, 8) = 0
rt_sigaction(SIGQUIT, {SIG_IGN, [], SA_RESTORER, 0x7fb9dcfa2280},
{SIG_DFL, [], SA_RESTORER, 0x7fb9dd34b5d0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
clone(child_stack=0, flags=CLONE_PARENT_SETTID|SIGCHLD,
parent_tidptr=0x7ffd7d87e100) = 1367359
wait4(1367359, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 1367359
rt_sigaction(SIGINT, {0x7fb9dfd99ffb, [INT], SA_RESTORER|SA_RESTART,
0x7fb9dcfa2280}, NULL, 8) = 0
rt_sigaction(SIGQUIT, {SIG_DFL, [], SA_RESTORER, 0x7fb9dcfa2280}, NULL,
8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=1367359,
si_uid=0, si_status=0, si_utime=0, si_stime=1} ---
write(2, "Warning message:\n", 17)????? = 17
write(2, "problem in saving the history fi"..., 50) = 50
exit_group(0)?????????????????????????? = ?
+++ exited with 0 +++


This only with user "root", and the some root can touch the ~/.Rhistory
just fine.

Even this works:

> system(command="touch ~/.Rhistory")

Would have any suggestions, ideas on how to fix it?

many thanks, L.


From wdun|@p @end|ng |rom t|bco@com  Wed Jun 26 17:17:29 2019
From: wdun|@p @end|ng |rom t|bco@com (William Dunlap)
Date: Wed, 26 Jun 2019 08:17:29 -0700
Subject: [R] problem in saving the history file '~/.Rhistory'
In-Reply-To: <81aa3c50-0d9f-edb5-aa90-f8f7868fa659@yahoo.co.uk>
References: <81aa3c50-0d9f-edb5-aa90-f8f7868fa659@yahoo.co.uk>
Message-ID: <CAF8bMcb4BH3ynXZi6ZZv8==sM5CfmJOwZPHw25x_6UsQA39z+A@mail.gmail.com>

Did you (or a startup script) set the environment variable R_HISTORY to be
'~/somefile'?  R does not expand the tilde in this case so you need to let
the shell do it.  Perhaps ~ doesn't expand for the root user.  (IMO, it is
crazy to run R, or almost any other program, as root.)

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Wed, Jun 26, 2019 at 7:11 AM lejeczek via R-help <r-help at r-project.org>
wrote:

> hi guys,
>
> I'm on Centos 7.6 with R 3.6 and I see this:
>
> >
> Save workspace image? [y/n/c]: y
> Warning message:
> problem in saving the history file '~/.Rhistory'
>
> from strace:
>
> rt_sigaction(SIGWINCH, {SIG_DFL, [], SA_RESTORER, 0x7fb9dd34b5d0},
> {0x7fb9dc383820, [], SA_RESTORER|SA_RESTART, 0x7fb9dd34b5d0}, 8) = 0
> rt_sigprocmask(SIG_BLOCK, [INT], [], 8) = 0
> rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
> ioctl(1, TCXONC, TCOON)                 = 0
> open("~/.Rhistory", O_WRONLY|O_CREAT|O_TRUNC, 0600) = -1 ENOENT (No such
> file or directory)
> brk(NULL)                               = 0x43da000
> brk(0x43fe000)                          = 0x43fe000
> rt_sigaction(SIGINT, {SIG_IGN, [], SA_RESTORER, 0x7fb9dcfa2280},
> {0x7fb9dfd99ffb, [INT], SA_RESTORER|SA_RESTART, 0x7fb9dd34b5d0}, 8) = 0
> rt_sigaction(SIGQUIT, {SIG_IGN, [], SA_RESTORER, 0x7fb9dcfa2280},
> {SIG_DFL, [], SA_RESTORER, 0x7fb9dd34b5d0}, 8) = 0
> rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
> clone(child_stack=0, flags=CLONE_PARENT_SETTID|SIGCHLD,
> parent_tidptr=0x7ffd7d87e100) = 1367359
> wait4(1367359, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 1367359
> rt_sigaction(SIGINT, {0x7fb9dfd99ffb, [INT], SA_RESTORER|SA_RESTART,
> 0x7fb9dcfa2280}, NULL, 8) = 0
> rt_sigaction(SIGQUIT, {SIG_DFL, [], SA_RESTORER, 0x7fb9dcfa2280}, NULL,
> 8) = 0
> rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
> --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=1367359,
> si_uid=0, si_status=0, si_utime=0, si_stime=1} ---
> write(2, "Warning message:\n", 17)      = 17
> write(2, "problem in saving the history fi"..., 50) = 50
> exit_group(0)                           = ?
> +++ exited with 0 +++
>
>
> This only with user "root", and the some root can touch the ~/.Rhistory
> just fine.
>
> Even this works:
>
> > system(command="touch ~/.Rhistory")
>
> Would have any suggestions, ideas on how to fix it?
>
> many thanks, L.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @@h|mk@poor @end|ng |rom gm@||@com  Thu Jun 27 09:18:50 2019
From: @@h|mk@poor @end|ng |rom gm@||@com (Ashim Kapoor)
Date: Thu, 27 Jun 2019 12:48:50 +0530
Subject: [R] Error in installing pbmcapply / WhatIf
Message-ID: <CAC8=1eoobTkPUzJQwjx4pTe4R01WiqakkLscnxQ1Agb=DgMc3g@mail.gmail.com>

Dear All,

I am not able to install pbmcapply which I need for package WhatIf.

Here are my sessionInfo and the error message :-

> sessionInfo()
R version 3.3.3 (2017-03-06)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Debian GNU/Linux 8 (jessie)

locale:
 [1] LC_CTYPE=en_IN       LC_NUMERIC=C         LC_TIME=en_IN
 [4] LC_COLLATE=en_IN     LC_MONETARY=en_IN    LC_MESSAGES=en_IN
 [7] LC_PAPER=en_IN       LC_NAME=C            LC_ADDRESS=C
[10] LC_TELEPHONE=C       LC_MEASUREMENT=en_IN LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.3.3 tcltk_3.3.3
> install.packages("pbmcapply")
Installing package into ?/usr/local/lib/R/site-library?
(as ?lib? is unspecified)
trying URL 'https://cloud.r-project.org/src/contrib/pbmcapply_1.4.1.tar.gz'
Content type 'unknown' length 8224 bytes
==================================================
downloaded 8224 bytes

* installing *source* package ?pbmcapply? ...
** package ?pbmcapply? successfully unpacked and MD5 sums checked
** libs
gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG      -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-3.3.3=. -fstack-protector-strong -Wformat
-Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g  -c process.c -o
process.o
process.c:10:23: error: unknown type name ?DllInfo?
 void R_init_pbmcapply(DllInfo* info) {
                       ^
/usr/lib/R/etc/Makeconf:132: recipe for target 'process.o' failed
make: *** [process.o] Error 1
ERROR: compilation failed for package ?pbmcapply?
* removing ?/usr/local/lib/R/site-library/pbmcapply?

The downloaded source packages are in
    ?/tmp/RtmpgOn4Vx/downloaded_packages?
Warning message:
In install.packages("pbmcapply") :
  installation of package ?pbmcapply? had non-zero exit status
>


Thank you,
Ashim

	[[alternative HTML version deleted]]


From @steii m@iii@g oii gm@ii@com  Wed Jun 26 20:11:49 2019
From: @steii m@iii@g oii gm@ii@com (@steii m@iii@g oii gm@ii@com)
Date: Wed, 26 Jun 2019 14:11:49 -0400
Subject: [R] How to change x axes labels in plot_ly?
In-Reply-To: <CAKZQJMBX1bi2WOCfW=dwR8jguRFho=MJns7h4rU6QJvt6nSC0A@mail.gmail.com>
References: <016501d52779$75259120$5f70b360$@gmail.com>
 <CAKZQJMBX1bi2WOCfW=dwR8jguRFho=MJns7h4rU6QJvt6nSC0A@mail.gmail.com>
Message-ID: <002901d52c4a$a027c2a0$e07747e0$@gmail.com>

Thanks a lot John.

> I have never heard of ploty. Is that a typo?
Plotly is a library and the function for visualizing the chart is actually called "plot_ly". I learned about this in an Udemy course, I thought is the best function to create line charts, bar charts, etc. What function do you use for that?

I have read the articles, and I created a Gist example on Github:
https://gist.github.com/nstefi/f67f8cbc171a2dc6e4b8cc876dfd0c81

Here is the code:
library(plotly)

chart_data <- structure(list(`Month-Day` = c("05-01", "05-15", "05-31", "06-01", 
"06-15", "07-01", "07-15", "08-01", "08-15", "09-01", "09-15", 
"10-01", "10-15", "11-01", "11-15", "12-01", "12-15", "01-01", 
"01-15", "02-01", "02-15", "03-01", "03-15", "04-01", "04-15", 
"05-01", "05-15", "06-01", "06-15", "07-01", "07-15"), FiscalYear_Days = c(0, 
14, 30, 31, 45, 61, 75, 92, 106, 123, 137, 153, 167, 184, 198, 
214, 228, 245, 259, 276, 290, 304, 318, 335, 349, 365, 379, 396, 
410, 426, 440), Last_Year = c(16, 17, 22, 25, 28, 31, 34, 37, 
40, 44, 47, 50, 53, 56, 60, 63, 66, 69, 72, 76, 79, 82, 85, 88, 
92, 95, 98, 101, 104, 108, 111), This_Year = c(10, 14, 18, 18, 
22, 24, 27, 30, 33, 36, 38, 41, 44, 47, 50, 52, 55, 58, 61, 64, 
66, 69, 72, 75, 78, 80, 83, 86, 89, 92, 94)), row.names = c(NA, 
31L), class = "data.frame")

plot_ly(chart_data, 
        x = ~`Month-Day`,
        y = ~Last_Year,
        type = 'scatter',
        mode = 'lines'
) %>% 
  layout(xaxis = list(categoryarray = chart_data$FiscalYear_Days, categoryorder = "array"))

It would be nice if I could provide some screenshots. How can we do that in the r-project mailing list? I've read that they recommend to send plain text emails. Do you use any site where you can upload screenshots and provide links?
So if you run the code, you would see some zig-zag shape chart instead of continuously growing line. Also for some reason now I see the x axis labels mixed up, up to half way I see values of "FiscalYear_Days" column, and after that continues with values from "Month-Day" column. I don't get it, it should be one or the other.
My goal was to show the chart based on x values from "FiscalYear_Days", but show the x axis labels from "Month-Day". Because if I simply show based on "Month-Day", the period is longer than a year, and some values are repeating, and it ends up with a zig-zag line.

Thanks,
Steven

-----Original Message-----
From: John Kane <jrkrideau at gmail.com> 
Sent: Sunday, June 23, 2019 9:56 AM
To: nstefi at gmail.com
Cc: R. Help Mailing List <r-help at r-project.org>
Subject: Re: [R] How to change x axes labels in plot_ly?

Could you supply some code and sample data. The data should be in
dput() format. The way the data has arrived is very difficult to read.

I have never heard of ploty. Is that a typo?

To answer your direct question, yes you should be able to change the x-axis labels but we need to get some idea of what exactly you are doing before we can easily suggest a solution.

I would recommend reading this two links to get an idea of how to present a question in order to get the besc reply http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

 http://adv-r.had.co.nz/Reproducibility.html

On Thu, 20 Jun 2019 at 11:05, <nstefi at gmail.com> wrote:
>
> Hi everyone,
>
>
>
> I have been struggling with this for a while, and I hope someone can 
> give me some advice.
>
> I have built a line chart that shows a cumulated value of number of 
> transactions, and there are 2 lines on the chart comparing last year 
> with this year.
>
> The way I matched last year's data with this year's data is by the 
> month and day (without the year), so my data looks like this:
>
>
> Month-Day
>
> FiscalYear_Days
>
> Last_year
>
> This_Year
>
>
> 05-01
>
> 0
>
> 16
>
> 10
>
>
> 05-02
>
> 1
>
> 17
>
> 14
>
>
> 05-03
>
> 2
>
> 22
>
> 18
>
>
> 05-04
>
> 3
>
> 25
>
> 18
>
>
>
> chart_data <- matrix(c("05-01", "05-02", "05-03", "05-04",
>
>                 "0", "1", "2", "3",
>
>                 "16", "17", "22", "25",
>
>                 "10", "14", "18", "18"),
>
>                 nrow=4, ncol=4, dimnames=list(c("A","B","C","D"), 
> c("Month-Day","FiscalYear_Days", "Last_year", "This_Year")))
>
>
>
> Since our fiscal year doesn't start on January 1st, I had to introduce 
> this column called "FiscalYear_Days", which is the number of days 
> passed since 1st day of fiscal year, and matched last year and current 
> year by that instead. Otherwise I had a problem with plot_ly() showing 
> the chart starting with January 1st on the left.
>
>
>
> Now I figured out a way to change the order of the x axis labels to 
> make it based on the "FiscalYear_Days" instead. This is a simplified plot:
>
> plot_ly(renewals_chart_data,
>
>         x = ~`Month-Day`,
>
>         y = ~Last_Year,
>
>         type = 'scatter',
>
>         mode = 'lines'
>
> ) %>%
>
>   layout(xaxis = list(categoryarray = 
> renewals_chart_data$FiscalYear_Days,
> categoryorder = "array"))
>
>
>
> My problem now is that if the period is longer than 1 year, under 
> Month-Day column I will have some repeating values starting from 
> following year May 1st (05-01, 05-02, etc.), and the plotly chart 
> shows an increasing line that returns back to the left side when reaches the next year's May 1st.
>
> How can I make the line to continue on the right?
>
> If I change plotly to show the x axis based on "FiscalYear_Days", the 
> line is right, but I want at the bottom to show the month and day as labels:
>
> plot_ly(renewals_chart_data,
>
>         x = ~`FiscalYear_Days`,
>
>         y = ~Last_Year,
>
>         type = 'scatter',
>
>         mode = 'lines'
>
> ) %>%
>
>   layout(xaxis = list(categoryarray = 
> renewals_chart_data$FiscalYear_Days,
> categoryorder = "array"))
>
>
>
> Is it possible to just change the x axis label values?
>
>
>
> Thanks a lot,
>
> Steven
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



--
John Kane
Kingston ON Canada


From j@@ono@|c @end|ng |rom 163@com  Thu Jun 27 01:34:59 2019
From: j@@ono@|c @end|ng |rom 163@com (=?UTF-8?Q?Jason_=E6=9E=97=E4=BF=8A?=)
Date: Thu, 27 Jun 2019 07:34:59 +0800 (GMT+08:00)
Subject: [R] GAM P value (package mgcv)
Message-ID: <2e6726cf.b593.16b962471b3.Coremail.jasonosfc@163.com>

Dear R-helpers,


My system: R 3.5.3 osx, mgcv 1.8-28


I try to build a model for five parameters


Model = gam( Y ~ s(x1) + s(x2) + s(x3) + s(x4) + s(x5))


But, We found these five parameters have multicollinearity. We observed a significant correlation between these parameters. So, we performed a PCA to convert the set of five correlated air pollution variables into a set of linearly uncorrelated main variations.  (PC1 and PC2)


Then, we build the new GAM model using these two main variations as predictor variables.


Model = gam( Y ~ s(PC1) + s(PC2))


Then, we can obtain the P value of PC1 and PC2.


Approximate significance of smooth terms:
         edf Ref.df Chi.sq p-value
s(PC1) 8.892  8.996  57402  <2e-16 ***
s(PC2) 8.978  9.000  15125  <2e-16 ***


 But, we still cannot find out a way to calculate the P value for the original five parameter.
 


Jason / Lin Jun


	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Jun 27 12:04:36 2019
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 27 Jun 2019 13:04:36 +0300
Subject: [R] Error in installing pbmcapply / WhatIf
In-Reply-To: <CAC8=1eoobTkPUzJQwjx4pTe4R01WiqakkLscnxQ1Agb=DgMc3g@mail.gmail.com>
References: <CAC8=1eoobTkPUzJQwjx4pTe4R01WiqakkLscnxQ1Agb=DgMc3g@mail.gmail.com>
Message-ID: <20190627130436.30358fbd@trisector>

On Thu, 27 Jun 2019 12:48:50 +0530
Ashim Kapoor <ashimkapoor at gmail.com> wrote:

> R version 3.3.3 (2017-03-06)

> process.c:10:23: error: unknown type name ?DllInfo?

DllInfo is defined in R_ext/Rdynload.h [1].

process.c only includes Rinternals.h [2], which has been including
R_ext/Rdynload.h since September 2016 [3]. Unfortunately, R 3.3.3 from
Debian Stretch does not contain this change [4].

On the one hand, a cursory look at latest "Writing R extensions" doesn't
seem to indicate that Rinternals.h is guaranteed to include
R_ext/Rdynload.h, so this may turn out to be a bug in pbmcapply (easily
fixable by adding an #include). But that discussion is better suited
for R-pkg-devel.

On the other hand, there is an excellent Debian repo [5] containing the
latest version of R which should be able to build pbmcapply without a
problem.

-- 
Best regards,
Ivan

[1]
https://github.com/wch/r-source/blob/22441d30384507d9d358a1e1c13f311d7a1b3627/src/include/R_ext/Rdynload.h#L70

[2]
https://github.com/kvnkuang/pbmcapply/blob/ef95ca6a23e003b45ec97b2aa55b7cb01d21363b/src/process.c#L3

[3]
https://github.com/wch/r-source/blame/22441d30384507d9d358a1e1c13f311d7a1b3627/src/include/Rinternals.h#L51

[4]
https://github.com/wch/r-source/blob/tags/R-3-3-3/src/include/Rinternals.h

[5] https://cloud.r-project.org/bin/linux/debian/


From @@h|mk@poor @end|ng |rom gm@||@com  Thu Jun 27 12:31:54 2019
From: @@h|mk@poor @end|ng |rom gm@||@com (Ashim Kapoor)
Date: Thu, 27 Jun 2019 16:01:54 +0530
Subject: [R] Error in installing pbmcapply / WhatIf
In-Reply-To: <20190627130436.30358fbd@trisector>
References: <CAC8=1eoobTkPUzJQwjx4pTe4R01WiqakkLscnxQ1Agb=DgMc3g@mail.gmail.com>
 <20190627130436.30358fbd@trisector>
Message-ID: <CAC8=1ep5zb92_31B-o2hvfGLtD2QJ0X-4vVBJekEjc3nO1FNEw@mail.gmail.com>

Dear Ivan,

OK and thank you for your help.

Best Regards,
Ashim

On Thu, Jun 27, 2019 at 3:34 PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Thu, 27 Jun 2019 12:48:50 +0530
> Ashim Kapoor <ashimkapoor at gmail.com> wrote:
>
> > R version 3.3.3 (2017-03-06)
>
> > process.c:10:23: error: unknown type name ?DllInfo?
>
> DllInfo is defined in R_ext/Rdynload.h [1].
>
> process.c only includes Rinternals.h [2], which has been including
> R_ext/Rdynload.h since September 2016 [3]. Unfortunately, R 3.3.3 from
> Debian Stretch does not contain this change [4].
>
> On the one hand, a cursory look at latest "Writing R extensions" doesn't
> seem to indicate that Rinternals.h is guaranteed to include
> R_ext/Rdynload.h, so this may turn out to be a bug in pbmcapply (easily
> fixable by adding an #include). But that discussion is better suited
> for R-pkg-devel.
>
> On the other hand, there is an excellent Debian repo [5] containing the
> latest version of R which should be able to build pbmcapply without a
> problem.
>
> --
> Best regards,
> Ivan
>
> [1]
>
> https://github.com/wch/r-source/blob/22441d30384507d9d358a1e1c13f311d7a1b3627/src/include/R_ext/Rdynload.h#L70
>
> [2]
>
> https://github.com/kvnkuang/pbmcapply/blob/ef95ca6a23e003b45ec97b2aa55b7cb01d21363b/src/process.c#L3
>
> [3]
>
> https://github.com/wch/r-source/blame/22441d30384507d9d358a1e1c13f311d7a1b3627/src/include/Rinternals.h#L51
>
> [4]
> https://github.com/wch/r-source/blob/tags/R-3-3-3/src/include/Rinternals.h
>
> [5] https://cloud.r-project.org/bin/linux/debian/
>

	[[alternative HTML version deleted]]


From @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com  Thu Jun 27 16:48:28 2019
From: @pbr@ckett20 @end|ng |rom @@|ntjo@ephh@@com (Spencer Brackett)
Date: Thu, 27 Jun 2019 10:48:28 -0400
Subject: [R] Output for pasting multiple vectors
In-Reply-To: <CAPQaxLPbYdB7fkxwsLca=NORkEc0rH2rsU4Z8x6rdNpY8tkmrQ@mail.gmail.com>
References: <CAPQaxLNkfifMUFaLPwvtjVn0r0Dqv7=wWn-bUkWEkeraaC6ZPw@mail.gmail.com>
 <2e6862a2-6cb1-7913-bed9-bfbf25d43f56@sapo.pt>
 <CAPQaxLOBb6Qn_BxxaF24FaVRsNDysqBYcjdBwv9gVwgRAZCehg@mail.gmail.com>
 <CAPQaxLNzMcM0hvH=4MhynbYoEsDqx2=dq4x6TbsCbuaRuQxXJA@mail.gmail.com>
 <f4d74b3b-4088-af1e-c0d0-1f9f3a5e0223@sapo.pt>
 <CAPQaxLMq34FQuSPnXCy-z4krmOwBwuFG026amMutmU9yQAONpQ@mail.gmail.com>
 <CAPQaxLN=_brKLtySmEQH6TULmwoex-abVZs7TxFAJ0cd5Q7LZA@mail.gmail.com>
 <de4451c8-ffe6-b6a2-e19a-26ca68287d05@sapo.pt>
 <CAPQaxLOXAPXaKQGHu=LBkSY-7ZB0H-Rk_A9=LCxaX3SbT3=WOQ@mail.gmail.com>
 <b8fcf15a-79aa-0777-0012-51792890bdd0@sapo.pt>
 <CAPQaxLMmuqT=iqOenWWQ=gjU15jGkSg56XPJBsJO_uQb6k=fVg@mail.gmail.com>
 <0bfd64c4-e452-7e3f-6dca-a3d224edf922@sapo.pt>
 <CAPQaxLMybNkgHY5Sq5i=FZLyh-NtwkORYDdj2oFsGx7+dTWNEg@mail.gmail.com>
 <44e6ccf5-f753-d5c7-6cf6-c6ae3f9c55f7@sapo.pt>
 <CAPQaxLPWUuaT6OFEj+=ji5FxYon7+WVbW1FMRtfEinKMiYWDrw@mail.gmail.com>
 <CAPQaxLPbYdB7fkxwsLca=NORkEc0rH2rsU4Z8x6rdNpY8tkmrQ@mail.gmail.com>
Message-ID: <CAPQaxLM15Mg=CjgUWbji5ja4dwZebgo8JUewegH18z5DctX4dw@mail.gmail.com>

On Thu, Jun 27, 2019 at 10:48 AM Spencer Brackett <
spbrackett20 at saintjosephhs.com> wrote:

> Hello,
>
> Was that helpful in clarifying?
>
> Best,
>
> Spencer
>
> On Tue, Jun 25, 2019 at 5:14 PM Spencer Brackett <
> spbrackett20 at saintjosephhs.com> wrote:
>
>> Thank you! The following is the result of the corrected code using
>> >cnames ....
>>
>> > cnames
>>  [1] "sample.NA.NA.NANA"          "TCGA.27.1832.01.NA.NA.NANA"
>> "TCGA.27.1831.01.NA.NA.NANA"
>>  [4] "TCGA.28.5216.01.NA.NA.NANA" "TCGA.16.0846.01.NA.NA.NANA"
>> "TCGA.28.5218.01.NA.NA.NANA"
>>  [7] "TCGA.06.0178.01.NA.NA.NANA" "TCGA.06.0238.01.NA.NA.NANA"
>> "TCGA.06.0125.01.NA.NA.NANA"
>> [10] "TCGA.06.0219.01.NA.NA.NANA"
>>
>> And then the first 2 lines of the output for the corrected paste() bit of
>> the original coding...
>>
>> [[1]]
>> [1] "sample.NA.NA.NA"
>>
>> [[2]]
>> [1] "TCGA.27.1832.01.NA.NA.NANA"
>>
>> I would have to reconvene with my instructor who wrote the original code
>> to determine what his desired output for the data would be, but from what I
>> can tell, this bit of coding is formatting the given dataset(s) that we are
>> working with, prepping them for what will be a Linear regression model of
>> the protein expression datatype contained with the larger dataset. Sorry, I
>> know that this explanation doesn't really narrow things down.
>>
>> For reference, here are the proceeding few lines of code following the
>> paste() function portion; specifically after the "})" ...
>>
>> exp = read.table(file =
>> "/rsrch1/bcb/kchen_group/v_mohanty/data/TCGA/RNAseq/GBM.txt", sep = "\t",
>> header = T, row.names = 1)
>> exp = as.matrix(exp)
>> c = intersect(colnames(exp),colnames(meth))
>> exp = exp[,c]
>> meth = meth[,c]
>> m = apply(meth, 1, function(i){
>>   log2(i/(1-i))
>> })
>>
>> Best,
>>
>> Spencer Brackett
>>
>> On Tue, Jun 25, 2019 at 4:54 PM Rui Barradas <ruipbarradas at sapo.pt>
>> wrote:
>>
>>> Hello,
>>>
>>> The following works.
>>> First, get the colnames you have posted in a format that R can process.
>>> in your code you would skip this.
>>>
>>> cnames <- scan(what = character(), text = '
>>> "sample.NA.NA.NANA"
>>> "TCGA.27.1832.01.NA.NA.NANA"
>>> "TCGA.27.1831.01.NA.NA.NANA"
>>> "TCGA.28.5216.01.NA.NA.NANA"
>>> "TCGA.16.0846.01.NA.NA.NANA"
>>> "TCGA.28.5218.01.NA.NA.NANA"
>>> "TCGA.06.0178.01.NA.NA.NANA"
>>> "TCGA.06.0238.01.NA.NA.NANA"
>>> "TCGA.06.0125.01.NA.NA.NANA"
>>> "TCGA.06.0219.01.NA.NA.NANA"
>>> ')
>>> cnames
>>>
>>>
>>> Now your code corrected. I do not understand the output you are
>>> expecting. Can you give an example of the expected output of, say, the
>>> first 2 or 3 strings?
>>>
>>> lapply(cnames, function(i){
>>>    c1 <- strsplit(i, split = '\\.')[[1]]
>>>    c1[4] <- paste(strsplit(c1[4], split = "",fixed = T)[[1]][1:2],
>>> collapse =  "")
>>>    paste(c1, collapse = ".")
>>> })
>>>
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>> ?s 20:24 de 25/06/19, Spencer Brackett escreveu:
>>> > Mr. Barradas,
>>> >
>>> > Oh haha my mistake. The following is the output you requested....
>>> >
>>> > [1] "sample.NA.NA.NANA"
>>> >   [2] "TCGA.27.1832.01.NA.NA.NANA"
>>> >   [3] "TCGA.27.1831.01.NA.NA.NANA"
>>> >   [4] "TCGA.28.5216.01.NA.NA.NANA"
>>> >   [5] "TCGA.16.0846.01.NA.NA.NANA"
>>> >   [6] "TCGA.28.5218.01.NA.NA.NANA"
>>> >   [7] "TCGA.06.0178.01.NA.NA.NANA"
>>> >   [8] "TCGA.06.0238.01.NA.NA.NANA"
>>> >   [9] "TCGA.06.0125.01.NA.NA.NANA"
>>> > [10] "TCGA.06.0219.01.NA.NA.NANA"
>>> >
>>> > Best,
>>> >
>>> > Spencer
>>> >
>>> > On Tue, Jun 25, 2019 at 2:50 PM Rui Barradas <ruipbarradas at sapo.pt
>>> > <mailto:ruipbarradas at sapo.pt>> wrote:
>>> >
>>> >     Hello,
>>> >
>>> >     No, you have not understood, post the colnames, not the row.names.
>>> >
>>> >     Run
>>> >
>>> >     colnames(meth)[1:10]
>>> >
>>> >     and post the output of that code line.
>>> >
>>> >     Hope this helps,
>>> >
>>> >     Rui Barradas
>>> >
>>> >     ?s 19:31 de 25/06/19, Spencer Brackett escreveu:
>>> >      > The requested reprex....
>>> >      >
>>> >      > Rendering reprex...
>>> >      > Error in parse(text = x, keep.source = TRUE) :
>>> >      >    <text>:26:2: unexpected ')'
>>> >      > 25:
>>> >      > 26: 2)
>>> >      >       ^
>>> >      >
>>> >      > And the subset of the data....
>>> >      >
>>> >      >   row.names = c(NA, 6L), class = "data.frame")
>>> >      >
>>> >      > Best,
>>> >      >
>>> >      > Spencer
>>> >      >
>>> >      >
>>> >      > On Tue, Jun 25, 2019 at 2:25 PM Rui Barradas
>>> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>> >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>>> wrote:
>>> >      >
>>> >      >     Hello,
>>> >      >
>>> >      >     No I wasn't expecting a very large file.
>>> >      >     Try to make a reproducible example. If the problem seems to
>>> >     be with the
>>> >      >     sapply/strsplit post a subset of the data like just some of
>>> the
>>> >      >     colnames:
>>> >      >
>>> >      >     colnames(meth)[1:10]
>>> >      >
>>> >      >
>>> >      >     This would allow us to run the code you are having trouble
>>> with.
>>> >      >
>>> >      >
>>> >      >     Hope this helps,
>>> >      >
>>> >      >     Rui Barradas
>>> >      >
>>> >      >     ?s 17:36 de 25/06/19, Spencer Brackett escreveu:
>>> >      >      > The result of dput(head(meth)) is a very large data
>>> >     table/listing of
>>> >      >      > data by category of what I presume to be the data from
>>> the two
>>> >      >     TCGA .txt
>>> >      >      > files I referenced previously. Is this the output you
>>> were
>>> >     expecting?
>>> >      >      >
>>> >      >      > On Tue, Jun 25, 2019 at 12:19 PM Rui Barradas
>>> >      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>>> >      >      > <mailto:ruipbarradas at sapo.pt <mailto:
>>> ruipbarradas at sapo.pt>
>>> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>>
>>> wrote:
>>> >      >      >
>>> >      >      >     Hello,
>>> >      >      >
>>> >      >      >     1) That error comes from not closing }) after the
>>> paste()
>>> >      >     instruction.
>>> >      >      >     The complete statement would be
>>> >      >      >
>>> >      >      >
>>> >      >      >     colnames(meth) = sapply(colnames(meth), function(i){
>>> >      >      >         c1 = strsplit(i, split ='\\', fixed = T)[[1]]
>>> >      >      >         c1[4] = paste(strsplit(c1[4],split = "",fixed =
>>> >      >      >     T)[[1]][1:2],collapse
>>> >      >      >     =  "")
>>> >      >      >         paste(c1,collapse = ".")
>>> >      >      >     })
>>> >      >      >
>>> >      >      >
>>> >      >      >     2) Can you post the output of the following?
>>> >      >      >
>>> >      >      >     dput(head(meth))
>>> >      >      >
>>> >      >      >
>>> >      >      >     Hope this helps,
>>> >      >      >
>>> >      >      >     Rui Barradas
>>> >      >      >
>>> >      >      >     ?s 16:58 de 25/06/19, Spencer Brackett escreveu:
>>> >      >      >      > The following is what I have implemented thus
>>> far...
>>> >      >      >      >
>>> >      >      >      > The file object for the two files listed in lines
>>> >     1-2 was
>>> >      >     set in my
>>> >      >      >      > working directory, and are under the folder
>>> >     "Vakul's GBM
>>> >      >     Code"...
>>> >      >      >     hence
>>> >      >      >      > the source of the odd 'prefix' for .txt files
>>> shown
>>> >      >      >      >
>>> >      >      >      >  >library(data.table)>.anno =
>>> >     as.data.frame(fread(file =
>>> >      >      >     "~Vakul's GBM
>>> >      >      >      > Code/mapper.txt", sep ="\t", header = T))
>>> >      >      >      >  >meth = read.table(file = "~Vakul's GBM
>>> Code/GBM.txt",
>>> >      >     sep  ="\t",
>>> >      >      >      > header = T, row.names = 1)
>>> >      >      >      >  >meth = as.matrix(meth)
>>> >      >      >      >
>>> >      >      >      > ##  the loop just formats the methylation column
>>> >     names to
>>> >      >     match
>>> >      >      >     format ##
>>> >      >      >      > colnames(meth) = sapply(colnames(meth),
>>> function(i){
>>> >      >      >      >    c1 = strsplit(i,split ='\\', fixed = T)[[1]]
>>> >      >      >      >    c1[4] = paste(strsplit(c1[4],split = "",fixed =
>>> >      >      >     T)[[1]][1:2],collapse
>>> >      >      >      > =  "")
>>> >      >      >      >    paste(c1,collapse = ".")
>>> >      >      >      >
>>> >      >      >      > Rendering reprex...
>>> >      >      >      > Error in parse(text = x, keep.source = TRUE) :
>>> >      >      >      >    <text>:28:0: unexpected end of input
>>> >      >      >      >
>>> >      >      >      > Best,
>>> >      >      >      >
>>> >      >      >      > Spencer
>>> >      >      >      >
>>> >      >      >      >
>>> >      >      >      >
>>> >      >      >      > On Tue, Jun 25, 2019 at 11:45 AM Spencer Brackett
>>> >      >      >      > <spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>
>>> >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>>
>>> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>
>>> >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>>>
>>> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>
>>> >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>>
>>> >      >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>
>>> >      >     <mailto:spbrackett20 at saintjosephhs.com
>>> >     <mailto:spbrackett20 at saintjosephhs.com>>>>>
>>> >      >      >      > wrote:
>>> >      >      >      >
>>> >      >      >      >     Mr. Barradas,
>>> >      >      >      >
>>> >      >      >      >     I got the same "output" as before, which is
>>> the +
>>> >      >     indicating that
>>> >      >      >      >     the expression is incomplete (according to
>>> some
>>> >     R users
>>> >      >      >     response in
>>> >      >      >      >     this chain).
>>> >      >      >      >
>>> >      >      >      >     Should the argument perhaps be c1 =
>>> strsplit(i,
>>> >     split
>>> >      >     = '\\',
>>> >      >      >     fixed
>>> >      >      >      >     = T)[[1]] .... thereby eliminating the "." ?
>>> >      >      >      >     The reprex and error message as the result of
>>> >     this is
>>> >      >     the same as
>>> >      >      >      >     the previous one I sent.
>>> >      >      >      >
>>> >      >      >      >     I will send a more detailed description of
>>> what
>>> >     code I
>>> >      >     have
>>> >      >      >     done so
>>> >      >      >      >     far for context.
>>> >      >      >      >
>>> >      >      >      >     Best,
>>> >      >      >      >
>>> >      >      >      >     Spencer
>>> >      >      >      >
>>> >      >      >      >     On Tue, Jun 25, 2019 at 11:30 AM Rui Barradas
>>> >      >      >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>>> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>>> >      >      >      >     <mailto:ruipbarradas at sapo.pt
>>> >     <mailto:ruipbarradas at sapo.pt>
>>> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>
>>> >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>>> >      >     <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt
>>> >>>>>
>>> >      >      >     wrote:
>>> >      >      >      >
>>> >      >      >      >         Hello,
>>> >      >      >      >
>>> >      >      >      >         Maybe with
>>> >      >      >      >
>>> >      >      >      >         c1 = strsplit(i, split = '\\.', fixed =
>>> T)[[1]]
>>> >      >      >      >
>>> >      >      >      >         instead of split = '.'
>>> >      >      >      >
>>> >      >      >      >         The dot is a metacharacter that matches
>>> any
>>> >      >     character so
>>> >      >      >     it has
>>> >      >      >      >         to be
>>> >      >      >      >         escaped.
>>> >      >      >      >
>>> >      >      >      >         Hope this helps,
>>> >      >      >      >
>>> >      >      >      >         Rui Barradas
>>> >      >      >      >
>>> >      >      >      >         ?s 16:11 de 25/06/19, Spencer Brackett
>>> >     escreveu:
>>> >      >      >      >          > c1 = strsplit(i,split ='.', fixed =
>>> T)[[1]]
>>> >      >      >      >
>>> >      >      >
>>> >      >
>>> >
>>>
>>

	[[alternative HTML version deleted]]


From pt|t_b|eu @end|ng |rom y@hoo@|r  Fri Jun 28 10:00:40 2019
From: pt|t_b|eu @end|ng |rom y@hoo@|r (lionel sicot)
Date: Fri, 28 Jun 2019 08:00:40 +0000 (UTC)
Subject: [R] Regular expressions and 2 dots
References: <311011964.1843724.1561708840910.ref@mail.yahoo.com>
Message-ID: <311011964.1843724.1561708840910@mail.yahoo.com>

Hello,
I have files from an equipment with column names including dots.I would like to simplify these names but all my attempts with sub and regular expressions are unsuccessful.
I havec( "colone..xx.","coltwo.ft..rr.","colthree.gh..az.","colfour.DG..lm.")and I would like to have c(?"colone","coltwo.ft","colthree.gh","colfour.DG")

that means to delete everything after the two dots but to keep strings after intermediate dot like in?colfour.DG
Thanks in advance for your help (a working solution would be good, explainations with the working solution would be ideal).Nice day,Ptit Bleu.
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jun 28 10:18:45 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 28 Jun 2019 09:18:45 +0100
Subject: [R] Regular expressions and 2 dots
In-Reply-To: <311011964.1843724.1561708840910@mail.yahoo.com>
References: <311011964.1843724.1561708840910.ref@mail.yahoo.com>
 <311011964.1843724.1561708840910@mail.yahoo.com>
Message-ID: <d9a47c55-2782-9cc3-b8f5-f60f3d8dc6a7@sapo.pt>

Hello,

Try

s <- c( "colone..xx.","coltwo.ft..rr.","colthree.gh..az.","colfour.DG..lm.")

sub("\\.{2,}.*$", "", s)
#[1] "colone"      "coltwo.ft"   "colthree.gh" "colfour.DG"

?s 09:00 de 28/06/19, lionel sicot via R-help escreveu:
> c( "colone..xx.","coltwo.ft..rr.","colthree.gh..az.","colfour.DG..lm.")


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Jun 28 10:53:21 2019
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 28 Jun 2019 09:53:21 +0100
Subject: [R] Regular expressions and 2 dots
In-Reply-To: <927434257.949719.1561710785142.JavaMail.administrator@n4.nabble.com>
References: <927434257.949719.1561710785142.JavaMail.administrator@n4.nabble.com>
Message-ID: <26abbe36-3903-118b-5a83-a41d0926ec7b@sapo.pt>

Hello,

Please always cc the list.

To know more about the regular expressions used by r read

help("regex")

The one I used is not very complicated.

\\.  match a dot; it is a meta-character so it needs to be escaped.
{2,} repeated at least 2 times, at most an undetermined number of times.
.*   any character (.) repeated zero or more times (*).
$    end of string.

All together now.

"\\.{2,}.*$"  matches at least 2 dots followed by anything until
               the end of the string.

The replacement for this is the empty string "", so what is matched is 
removed.


Hope this helps,

Rui Barradas



?s 09:33 de 28/06/19, ptit_bleu at yahoo.fr escreveu:
> Just a small message to thank you for your fast and working solution.
> I now have to understand it ...
> Nice day.
> 
> _____________________________________
> Sent from http://r.789695.n4.nabble.com
>


From gor@n@bro@trom @end|ng |rom umu@@e  Fri Jun 28 13:35:44 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Fri, 28 Jun 2019 13:35:44 +0200
Subject: [R] Object and file sizes
Message-ID: <205381d4-d017-a46c-6748-a88b92170db6@umu.se>

Hello,

I have two large data frames, 'liss' (170 million obs, 8 variables) and 
'fobb' (52 million obs, 8 variables, same as for 'liss'), and checking 
their sizes I get

 > object.size(liss)
7477492552 bytes
 > object.size(fobb)
2494591736 bytes

Fair enough, but when I save them to disk (saveRDS), the size relation 
is reversed: 'fobb.rds' takes up 273 MB while 'liss.rds' uses 146 MB!

I was puzzled by this and thought that I had made a mistake in creating 
them, but the only explanation I can find for this is that 'liss' 
contains a lot more missing values.

Suggestions?

Thanks, G?ran


From ed@|m@r|@ @end|ng |rom gm@||@com  Fri Jun 28 14:34:12 2019
From: ed@|m@r|@ @end|ng |rom gm@||@com (Eleftheria Dalmaris)
Date: Fri, 28 Jun 2019 15:34:12 +0300
Subject: [R] Assumptions ANOVA
Message-ID: <CAOcmn_gkNp+Q-xz=c8nmdFz1S+zOxjSscCVZJH6nLifgXBaXeA@mail.gmail.com>

Dear all,

I need to run the following ANOVA

b <- aov(y ~ a +b*(factor(a)/b) + c + d + e)

I'm checking the assumption of the normality of the residuals and then the
Levene's Test for Homogeneity of Variance. I first transform my data so the
normality assumption is met, but if I do that the Homogeneity of Variance
test is failing to be met. If I transform them again for the Levene's Test
to be OK, then the normality assumption is not.

Is one of those two test more important than the other? Both of those
assumptions should be met?

Is it bet to choose a kruskal.test and not an ANOVA since I'm facing those
kinds of issues?

Thanks a lot,
Eleftheria

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Jun 28 15:26:47 2019
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 28 Jun 2019 09:26:47 -0400
Subject: [R] Object and file sizes
In-Reply-To: <205381d4-d017-a46c-6748-a88b92170db6@umu.se>
References: <205381d4-d017-a46c-6748-a88b92170db6@umu.se>
Message-ID: <f3e975a3-9339-0005-3309-bb6622286413@gmail.com>

On 28/06/2019 7:35 a.m., G?ran Brostr?m wrote:
> Hello,
> 
> I have two large data frames, 'liss' (170 million obs, 8 variables) and
> 'fobb' (52 million obs, 8 variables, same as for 'liss'), and checking
> their sizes I get
> 
>   > object.size(liss)
> 7477492552 bytes
>   > object.size(fobb)
> 2494591736 bytes
> 
> Fair enough, but when I save them to disk (saveRDS), the size relation
> is reversed: 'fobb.rds' takes up 273 MB while 'liss.rds' uses 146 MB!
> 
> I was puzzled by this and thought that I had made a mistake in creating
> them, but the only explanation I can find for this is that 'liss'
> contains a lot more missing values.

saveRDS() uses compression by default.  Compression works best if there 
are a lot of repetitive values; every NA is the same, so that would help 
  compression.  Other values may also be repeated.

If you use saveRDS(compress=FALSE), you'll get much larger results, 
probably roughly proportional to the object.size() results.

Duncan Murdoch


From gor@n@bro@trom @end|ng |rom umu@@e  Fri Jun 28 16:12:34 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Fri, 28 Jun 2019 16:12:34 +0200
Subject: [R] Object and file sizes
In-Reply-To: <f3e975a3-9339-0005-3309-bb6622286413@gmail.com>
References: <205381d4-d017-a46c-6748-a88b92170db6@umu.se>
 <f3e975a3-9339-0005-3309-bb6622286413@gmail.com>
Message-ID: <4af3133a-f417-d0c5-57a2-b6c190e5b71e@umu.se>



On 2019-06-28 15:26, Duncan Murdoch wrote:
> On 28/06/2019 7:35 a.m., G?ran Brostr?m wrote:
>> Hello,
>>
>> I have two large data frames, 'liss' (170 million obs, 8 variables) and
>> 'fobb' (52 million obs, 8 variables, same as for 'liss'), and checking
>> their sizes I get
>>
>> ? > object.size(liss)
>> 7477492552 bytes
>> ? > object.size(fobb)
>> 2494591736 bytes
>>
>> Fair enough, but when I save them to disk (saveRDS), the size relation
>> is reversed: 'fobb.rds' takes up 273 MB while 'liss.rds' uses 146 MB!
>>
>> I was puzzled by this and thought that I had made a mistake in creating
>> them, but the only explanation I can find for this is that 'liss'
>> contains a lot more missing values.
> 
> saveRDS() uses compression by default.? Compression works best if there 
> are a lot of repetitive values; every NA is the same, so that would help 
>  ?compression.? Other values may also be repeated.
> 
> If you use saveRDS(compress=FALSE), you'll get much larger results, 
> probably roughly proportional to the object.size() results.

Almost equal to the object.size results: The differences are 2167 bytes 
and 2171 bytes, respectively (smaller on disk). Thanks for the explanation!

G?ran

> 
> Duncan Murdoch


From j@c@eco @end|ng |rom gm@||@com  Fri Jun 28 17:42:07 2019
From: j@c@eco @end|ng |rom gm@||@com (Janet Choate)
Date: Fri, 28 Jun 2019 08:42:07 -0700
Subject: [R] splitting a column of data into multiple columns
Message-ID: <CAEqw1VzURTxtk3dH_Di-rGzBKdKe=z3dJW=RcdB-coThObNhqQ@mail.gmail.com>

Hello R community,
I have a data frame that has multiple observations in a single column that
I would like to break into multiple columns.
The data looks something like this:

scen trans evap flow
1       1.1    0.1    0.09
1       1.2    0.2    0.10
1       1.3    0.3    0.20
2       2.1    0.1    0.09
2       2.2    0.2    0.10
2       2.3    0.3    0.20
3       3.1    0.1    0.09
3       3.2    0.2    0.10
3       3.3    0.3    0.20

the column scen runs from 1 through 500, and each scen # contains 1461 rows
- i.e. there are 1461 observations for scen1, 1461 observations for scen2,
etc...
i want to split the trans, evap, and flow columns out by scen #, so that i
end up with something like:

trans1   trans2    trans3
1.1         2.1        1.1
1.2         2.2        3.2
1.3         2.3        3.3

and same for the other variables.
thought i could use the separate command to do this, but either not the
right approach or i am not executing it properly.
thank you for any assistance,
Janet
-- 
Tague Team Lab Manager
1005 Bren Hall
UCSB, Santa Barbara, CA.

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Fri Jun 28 23:45:38 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sat, 29 Jun 2019 07:45:38 +1000
Subject: [R] splitting a column of data into multiple columns
In-Reply-To: <CAEqw1VzURTxtk3dH_Di-rGzBKdKe=z3dJW=RcdB-coThObNhqQ@mail.gmail.com>
References: <CAEqw1VzURTxtk3dH_Di-rGzBKdKe=z3dJW=RcdB-coThObNhqQ@mail.gmail.com>
Message-ID: <CA+8X3fWSTK3yEipc3qXMWkxmy2DLik=K9JUB3iN_TCfMCCDG8Q@mail.gmail.com>

Hi Janet,
This might help:

jcdf<-read.table(text="scen trans evap flow
1       1.1    0.1    0.09
1       1.2    0.2    0.10
1       1.3    0.3    0.20
2       2.1    0.1    0.09
2       2.2    0.2    0.10
2       2.3    0.3    0.20
3       3.1    0.1    0.09
3       3.2    0.2    0.10
3       3.3    0.3    0.20",
header=TRUE)
library(prettyR)
stretch_df(jcdf,"scen",c("trans","evap","flow"))[,2:10]

Jim


On Sat, Jun 29, 2019 at 1:42 AM Janet Choate <jsc.eco at gmail.com> wrote:
>
> Hello R community,
> I have a data frame that has multiple observations in a single column that
> I would like to break into multiple columns.
> The data looks something like this:
>
> scen trans evap flow
> 1       1.1    0.1    0.09
> 1       1.2    0.2    0.10
> 1       1.3    0.3    0.20
> 2       2.1    0.1    0.09
> 2       2.2    0.2    0.10
> 2       2.3    0.3    0.20
> 3       3.1    0.1    0.09
> 3       3.2    0.2    0.10
> 3       3.3    0.3    0.20
>
> the column scen runs from 1 through 500, and each scen # contains 1461 rows
> - i.e. there are 1461 observations for scen1, 1461 observations for scen2,
> etc...
> i want to split the trans, evap, and flow columns out by scen #, so that i
> end up with something like:
>
> trans1   trans2    trans3
> 1.1         2.1        1.1
> 1.2         2.2        3.2
> 1.3         2.3        3.3
>
> and same for the other variables.
> thought i could use the separate command to do this, but either not the
> right approach or i am not executing it properly.
> thank you for any assistance,
> Janet
> --
> Tague Team Lab Manager
> 1005 Bren Hall
> UCSB, Santa Barbara, CA.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From drj|m|emon @end|ng |rom gm@||@com  Sat Jun 29 09:02:21 2019
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sat, 29 Jun 2019 17:02:21 +1000
Subject: [R] Assumptions ANOVA
In-Reply-To: <CAOcmn_gkNp+Q-xz=c8nmdFz1S+zOxjSscCVZJH6nLifgXBaXeA@mail.gmail.com>
References: <CAOcmn_gkNp+Q-xz=c8nmdFz1S+zOxjSscCVZJH6nLifgXBaXeA@mail.gmail.com>
Message-ID: <CA+8X3fWWuWUR0vkvk8Pgf54VYFDfs66djfbSEKnOB3toNFoggg@mail.gmail.com>

Hi Eleftheria,
If a non-parametric test doesn't sink your preferred hypothesis, it
can offer some peace of mind with regard to scrupulous reviewers. If
it does, it is wise to ponder the reliability of your results.

Jim

On Fri, Jun 28, 2019 at 10:34 PM Eleftheria Dalmaris
<edalmaris at gmail.com> wrote:
>
> Dear all,
>
> I need to run the following ANOVA
>
> b <- aov(y ~ a +b*(factor(a)/b) + c + d + e)
>
> I'm checking the assumption of the normality of the residuals and then the
> Levene's Test for Homogeneity of Variance. I first transform my data so the
> normality assumption is met, but if I do that the Homogeneity of Variance
> test is failing to be met. If I transform them again for the Levene's Test
> to be OK, then the normality assumption is not.
>
> Is one of those two test more important than the other? Both of those
> assumptions should be met?
>
> Is it bet to choose a kruskal.test and not an ANOVA since I'm facing those
> kinds of issues?
>
> Thanks a lot,
> Eleftheria
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j@c@eco @end|ng |rom gm@||@com  Sat Jun 29 20:27:40 2019
From: j@c@eco @end|ng |rom gm@||@com (Janet Choate)
Date: Sat, 29 Jun 2019 11:27:40 -0700
Subject: [R] turning a list of objects into columns
Message-ID: <CAEqw1VyKv3Qy+Xgz5NQAiDE1FfHSqC1VZRgfBf1SVi9=m+krJw@mail.gmail.com>

Hi,
I have a data frame that looks something like this (but much longer):
df
scen streamflow    trans     evap      psn
1   0.019234 1.658967 0.002883 0.002391
1   0.019027 1.661192 0.002844 0.003142
2   0.018821 1.695623 0.003192 0.002167
2   0.018619 1.503481 0.002536 0.003059
3   0.018425 0.000008 1.880355 0.002592
3   0.018369 0.100551 2.225793 0.006642

i want to end up with something like this (for each variable - streamflow,
trans, evap, psn). using the variable trans here as an example:
trans1        trans2      trans3
1.658967  1.695623  0.000008
1.661192  1.503481  0.100551

so that each variable (streamflow, trans, evap, psn) is in a separate
column based on the scen #.

i used split which created a list for each scen #:
test = split(df[,,], df$scen)
as well as
test = as.data.frame(split(df[,,], df$scen)

which did separate out each scen instance, but in lists, i.e.:
 $`1`
   [1] 1.658967 1.661192
$`2`
   [1] 1.695623 1.503481
$`3`
   [1] 0.000008 0.100551

if i use as.data.frame, i.e.:
test2 = as.data.frame(test)

it seems like it puts it into columns, i.e.:
        X1       X2       X3
1 1.658967  1.695623  0.000008
2 1.661192  1.503481  0.100551

however, if i look at one of the variables, it still presents as a list,
even though the class is numeric:
head(tmp2$X1)
[1] 1.658967 1.661192

can anyone tell me how to get this into the format i want - where each
variable for each scen # is in it's own column in a data frame?
thank you,
Janet

-- 
Tague Team Lab Manager
1005 Bren Hall
UCSB, Santa Barbara, CA.

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Sat Jun 29 20:58:13 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sat, 29 Jun 2019 21:58:13 +0300
Subject: [R] turning a list of objects into columns
In-Reply-To: <CAEqw1VyKv3Qy+Xgz5NQAiDE1FfHSqC1VZRgfBf1SVi9=m+krJw@mail.gmail.com>
References: <CAEqw1VyKv3Qy+Xgz5NQAiDE1FfHSqC1VZRgfBf1SVi9=m+krJw@mail.gmail.com>
Message-ID: <CAGgJW77dWm6oRKzChHpLvVaDpC9Mz8h1nQA09HvqQs6x7K+iYg@mail.gmail.com>

Hi Janet,
I am not sure what your problem is. It seems that the code you wrote is
doing what you want.
The command 'head(tmp2$X1)' is outputting a numeric vector, not a list.

Eric


On Sat, Jun 29, 2019 at 9:28 PM Janet Choate <jsc.eco at gmail.com> wrote:

> Hi,
> I have a data frame that looks something like this (but much longer):
> df
> scen streamflow    trans     evap      psn
> 1   0.019234 1.658967 0.002883 0.002391
> 1   0.019027 1.661192 0.002844 0.003142
> 2   0.018821 1.695623 0.003192 0.002167
> 2   0.018619 1.503481 0.002536 0.003059
> 3   0.018425 0.000008 1.880355 0.002592
> 3   0.018369 0.100551 2.225793 0.006642
>
> i want to end up with something like this (for each variable - streamflow,
> trans, evap, psn). using the variable trans here as an example:
> trans1        trans2      trans3
> 1.658967  1.695623  0.000008
> 1.661192  1.503481  0.100551
>
> so that each variable (streamflow, trans, evap, psn) is in a separate
> column based on the scen #.
>
> i used split which created a list for each scen #:
> test = split(df[,,], df$scen)
> as well as
> test = as.data.frame(split(df[,,], df$scen)
>
> which did separate out each scen instance, but in lists, i.e.:
>  $`1`
>    [1] 1.658967 1.661192
> $`2`
>    [1] 1.695623 1.503481
> $`3`
>    [1] 0.000008 0.100551
>
> if i use as.data.frame, i.e.:
> test2 = as.data.frame(test)
>
> it seems like it puts it into columns, i.e.:
>         X1       X2       X3
> 1 1.658967  1.695623  0.000008
> 2 1.661192  1.503481  0.100551
>
> however, if i look at one of the variables, it still presents as a list,
> even though the class is numeric:
> head(tmp2$X1)
> [1] 1.658967 1.661192
>
> can anyone tell me how to get this into the format i want - where each
> variable for each scen # is in it's own column in a data frame?
> thank you,
> Janet
>
> --
> Tague Team Lab Manager
> 1005 Bren Hall
> UCSB, Santa Barbara, CA.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From mehd|d@dkh@h91 @end|ng |rom gm@||@com  Fri Jun 28 16:56:10 2019
From: mehd|d@dkh@h91 @end|ng |rom gm@||@com (Mehdi Dadkhah)
Date: Fri, 28 Jun 2019 19:26:10 +0430
Subject: [R] Looking for R package to extract Concept from text files
In-Reply-To: <CAGN=ytM_Vs5nBj=NA2S-zdJqtjYAT_U1z5RvytAt9uTAZoSx5Q@mail.gmail.com>
References: <CAGN=ytM_Vs5nBj=NA2S-zdJqtjYAT_U1z5RvytAt9uTAZoSx5Q@mail.gmail.com>
Message-ID: <CAGN=ytNnTT=+aXVK9nKR30X83n75nRqz39rtd=2PMxC5yOOmAw@mail.gmail.com>

Hi,
I hope you are doing well!

I have a question about R, could you please answer it?
Please consider that we have some reports (for example 100 reports) which
people presented their experience about use of a particular system. These
reports are unstructured. In parts of these reports, people may state their
reasons for do not using such system. Is it possible to use R to only
extract such reasons from all reports?
Such case is an example and is not real world problem. I want to know that
R can do such task? which library can do it?

Thank you very much!
With best regards,

-- 
*Mehdi Dadkhah*

	[[alternative HTML version deleted]]


From cd@m|th @end|ng |rom hotm@||@c@  Sat Jun 29 01:41:35 2019
From: cd@m|th @end|ng |rom hotm@||@c@ (Don or Charlotte Smith)
Date: Fri, 28 Jun 2019 23:41:35 +0000
Subject: [R] StructTS hang? TiThe fact
Message-ID: <MN2PR04MB55014F592E629579B8EBD664C0FC0@MN2PR04MB5501.namprd04.prod.outlook.com>



Sent from my iPhone


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Jun 29 21:45:46 2019
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 29 Jun 2019 12:45:46 -0700
Subject: [R] turning a list of objects into columns
In-Reply-To: <CAEqw1VyKv3Qy+Xgz5NQAiDE1FfHSqC1VZRgfBf1SVi9=m+krJw@mail.gmail.com>
References: <CAEqw1VyKv3Qy+Xgz5NQAiDE1FfHSqC1VZRgfBf1SVi9=m+krJw@mail.gmail.com>
Message-ID: <95605DB2-0F30-42C3-9AA3-6307D963BB37@dcn.davis.ca.us>

Maybe look at reshape2? e.g. https://seananderson.ca/2013/10/19/reshape/

There is a very capable base R reshape function, but I find it quite challenging to apply.

Note that you normally want to retain one or more columns to identify each row in your result... but I am not sure I see anything suitable in your example data. You may have removed it, or it may have been implied and you may need to create something that will do the job.

e.g. https://www.studytonight.com/dbms/database-key.php

On June 29, 2019 11:27:40 AM PDT, Janet Choate <jsc.eco at gmail.com> wrote:
>Hi,
>I have a data frame that looks something like this (but much longer):
>df
>scen streamflow    trans     evap      psn
>1   0.019234 1.658967 0.002883 0.002391
>1   0.019027 1.661192 0.002844 0.003142
>2   0.018821 1.695623 0.003192 0.002167
>2   0.018619 1.503481 0.002536 0.003059
>3   0.018425 0.000008 1.880355 0.002592
>3   0.018369 0.100551 2.225793 0.006642
>
>i want to end up with something like this (for each variable -
>streamflow,
>trans, evap, psn). using the variable trans here as an example:
>trans1        trans2      trans3
>1.658967  1.695623  0.000008
>1.661192  1.503481  0.100551
>
>so that each variable (streamflow, trans, evap, psn) is in a separate
>column based on the scen #.
>
>i used split which created a list for each scen #:
>test = split(df[,,], df$scen)
>as well as
>test = as.data.frame(split(df[,,], df$scen)
>
>which did separate out each scen instance, but in lists, i.e.:
> $`1`
>   [1] 1.658967 1.661192
>$`2`
>   [1] 1.695623 1.503481
>$`3`
>   [1] 0.000008 0.100551
>
>if i use as.data.frame, i.e.:
>test2 = as.data.frame(test)
>
>it seems like it puts it into columns, i.e.:
>        X1       X2       X3
>1 1.658967  1.695623  0.000008
>2 1.661192  1.503481  0.100551
>
>however, if i look at one of the variables, it still presents as a
>list,
>even though the class is numeric:
>head(tmp2$X1)
>[1] 1.658967 1.661192
>
>can anyone tell me how to get this into the format i want - where each
>variable for each scen # is in it's own column in a data frame?
>thank you,
>Janet

-- 
Sent from my phone. Please excuse my brevity.


From er|cjberger @end|ng |rom gm@||@com  Sun Jun 30 10:08:44 2019
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sun, 30 Jun 2019 11:08:44 +0300
Subject: [R] StructTS hang? TiThe fact
In-Reply-To: <MN2PR04MB55014F592E629579B8EBD664C0FC0@MN2PR04MB5501.namprd04.prod.outlook.com>
References: <MN2PR04MB55014F592E629579B8EBD664C0FC0@MN2PR04MB5501.namprd04.prod.outlook.com>
Message-ID: <CAGgJW74t6w8HRjQDVqwbP_xfBq2JQ-mLyP9BAV2YTqH0v5iRoQ@mail.gmail.com>

Nothing came through. Note that this is a plain text list and content that
is not plain text may be stripped off (or mangled).

On Sat, Jun 29, 2019 at 10:14 PM Don or Charlotte Smith <cdsmith at hotmail.ca>
wrote:

>
>
> Sent from my iPhone
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@turner @end|ng |rom @uck|@nd@@c@nz  Sun Jun 30 10:57:17 2019
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Sun, 30 Jun 2019 20:57:17 +1200
Subject: [R] [FORGED] Re:  StructTS hang? TiThe fact
In-Reply-To: <CAGgJW74t6w8HRjQDVqwbP_xfBq2JQ-mLyP9BAV2YTqH0v5iRoQ@mail.gmail.com>
References: <MN2PR04MB55014F592E629579B8EBD664C0FC0@MN2PR04MB5501.namprd04.prod.outlook.com>
 <CAGgJW74t6w8HRjQDVqwbP_xfBq2JQ-mLyP9BAV2YTqH0v5iRoQ@mail.gmail.com>
Message-ID: <8210ef0f-81d0-6d7a-c07c-15683eb4b7e6@auckland.ac.nz>


On 30/06/19 8:08 PM, Eric Berger wrote:

> Nothing came through. Note that this is a plain text list and content that
> is not plain text may be stripped off (or mangled).
> 
> On Sat, Jun 29, 2019 at 10:14 PM Don or Charlotte Smith <cdsmith at hotmail.ca>
> wrote:
> 
>>
>>
>> Sent from my iPhone

Eric:  This is most likely some sort of spam/scam.  Better to have 
ignored it.

cheers,

Rolf

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From gdr@|@m@ @end|ng |rom x@4@||@n|  Sun Jun 30 16:34:11 2019
From: gdr@|@m@ @end|ng |rom x@4@||@n| (Gerrit Draisma)
Date: Sun, 30 Jun 2019 16:34:11 +0200
Subject: [R] turning a list of objects into columns
Message-ID: <5810ee24-41f3-a8b2-364c-4631e0a0f7e9@xs4all.nl>


Ha Janet,
Does this reshape do what you want:
df = read.table(header=TRUE,text="
scen streamflow    trans     evap      psn
1   0.019234 1.658967 0.002883 0.002391
1   0.019027 1.661192 0.002844 0.003142
2   0.018821 1.695623 0.003192 0.002167
2   0.018619 1.503481 0.002536 0.003059
3   0.018425 0.000008 1.880355 0.002592
3   0.018369 0.100551 2.225793 0.006642
")
df$t <- 1:2
# reshape(df,idvar="scen",timevar="t",direction="wide")
reshape(df,idvar="t",timevar="scen",direction="wide")

HTH, Gerrit

 > Date: Sat, 29 Jun 2019 12:45:46 -0700
 > From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
 >
 > Maybe look at reshape2? e.g. https://seananderson.ca/2013/10/19/reshape/
 >
 > There is a very capable base R reshape function, but I find it quite
 > challenging to apply.
 >
 > Note that you normally want to retain one or more columns to identify
 > each row in your result... but I am not sure I see anything suitable
 > in your example data. You may have removed it, or it may have been
 > implied and you may need to create something that will do the job.
 >
 > e.g. https://www.studytonight.com/dbms/database-key.php
 >
 > On June 29, 2019 11:27:40 AM PDT, Janet Choate <jsc.eco at gmail.com> wrote:
 > > Hi,
 > > I have a data frame that looks something like this (but much longer):
 > > df
 > > scen streamflow    trans     evap      psn
 > > 1   0.019234 1.658967 0.002883 0.002391
 > > 1   0.019027 1.661192 0.002844 0.003142
 > > 2   0.018821 1.695623 0.003192 0.002167
 > > 2   0.018619 1.503481 0.002536 0.003059
 > > 3   0.018425 0.000008 1.880355 0.002592
 > > 3   0.018369 0.100551 2.225793 0.006642
 > >
 > > i want to end up with something like this (for each variable -
 > > streamflow,
 > > trans, evap, psn). using the variable trans here as an example:
 > > trans1        trans2      trans3
 > > 1.658967  1.695623  0.000008
 > > 1.661192  1.503481  0.100551
 > >
 > > so that each variable (streamflow, trans, evap, psn) is in a separate
 > > column based on the scen #.
 >


From h@ny|ne @end|ng |rom gm@||@com  Fri Jun 28 14:34:45 2019
From: h@ny|ne @end|ng |rom gm@||@com (Yong Han)
Date: Fri, 28 Jun 2019 20:34:45 +0800
Subject: [R] cancerclass,
 which genes are used in the predictor model and model details
Message-ID: <CAJSpfowUMD6oOn-GhCAj5t4pn4oB-W06oqhGNpDyS5V-=BiThA@mail.gmail.com>

 Hi All,

This is the first time I use 'cancerclass' package in R. It works pretty
well.
However, I can't find out which genes are used in the predictor model and
how these genes are combined together to build the predictor model.

Thanks in advance.
Yong

> Sys.info()
                     sysname                      release
                   "Windows"                      "7 x64"
                     version                     nodename
"build 7601, Service Pack 1"                     "MXZ-PC"
                     machine                        login
                    "x86-64"                        "MXZ"
                        user               effective_user
                       "MXZ"                        "MXZ"

## cancerclass code ##
> library(cancerdata)
> data(VEER)
> data(VIJVER)
> VIJVER2 <- VIJVER[, setdiff(sampleNames(VIJVER), sampleNames(VEER))]
> predictor <- fit(VEER, method="welch.test")
> prediction <- predict(predictor, VIJVER2, positive="DM", dist="cor")
> plot(prediction, type="histogram", positive="DM", score="zeta")

	[[alternative HTML version deleted]]


From h@m|d332000 @end|ng |rom y@hoo@com  Sun Jun 30 11:28:01 2019
From: h@m|d332000 @end|ng |rom y@hoo@com (Hamid Ghorbani)
Date: Sun, 30 Jun 2019 09:28:01 +0000 (UTC)
Subject: [R] running Apply takes long time
References: <293554377.561656.1561886881393.ref@mail.yahoo.com>
Message-ID: <293554377.561656.1561886881393@mail.yahoo.com>

Dear users,
Below I? have a? matrix, called *mysim.obs*?? (548 row and (1+nsim) columns, which its first column is my observation and the next? columns comprises simulation from the? fitted? model to first column). I want to evaluate *simpsonlognormpval* function on each column of? *mysim.obs*. For this I have used apply function.
Unfortunately, running apply? takes long time (i have several models, log-normal model in the following is just for? explanation).
Many thanks in advance.
Yours,
Hamid
------------

simpsonlognormpval <- function(xx){
??? # numerical integral using Simpson's rule
??? # assume a < b and n is an even positive integer
????????? n<-10000
a<-0;b<- 25*max(xx) #because log-normal distribution has heavy tail
meanlog = -0.216
sdlog = 1.4245521
??? h <- (b-a)/n
??? x <- seq(a, b, by=h)
??????????????? y <- (plnorm(x, meanlog = meanlog0 , sdlog =sdlog0 )-ecdf(xx)(x))^2
??? if (n == 2) {
??????? s <- (y[1] + 4*y[2] +y[3])
??? } else {
??????? s <- y[1] + y[n+1] + 2*sum(y[seq(2,n,by=2)]) + 4 *sum(y[seq(3,n-1, by=2)])
??? }
??? s <- s*h/3
??? return(s)
}
?
>meanlog0 = -0.216
>sdlog0 = 1.4245521
>nsim=100000
>my.obs<-rexp( 548,0.5*lambda ) #my.obs is acctually an observed sample, here I just replaced it
>mysim.obs<-cbind(my.obs ,matrix(rlnorm(548*nsim, meanlog = meanlog0, sdlog =sdlog0),548,nsim))

>fsimpsonlognormpval <-apply( mysim.obs, 2,simpsonlognormpval )
> fsimpsonlognormpval[1]
>lognormpval<-mean(fsimpsonlognormpval[2:(nsim+1)]>fsimpsonlognormpval[1])
>lognormpval?
	[[alternative HTML version deleted]]


From g|ennrdoherty @end|ng |rom gm@||@com  Sun Jun 30 20:47:29 2019
From: g|ennrdoherty @end|ng |rom gm@||@com (Glenn Doherty)
Date: Sun, 30 Jun 2019 11:47:29 -0700
Subject: [R] splitting a column of data into multiple columns
In-Reply-To: <CA+8X3fWSTK3yEipc3qXMWkxmy2DLik=K9JUB3iN_TCfMCCDG8Q@mail.gmail.com>
References: <CAEqw1VzURTxtk3dH_Di-rGzBKdKe=z3dJW=RcdB-coThObNhqQ@mail.gmail.com>
 <CA+8X3fWSTK3yEipc3qXMWkxmy2DLik=K9JUB3iN_TCfMCCDG8Q@mail.gmail.com>
Message-ID: <CAHy4naHShKocQi1TzA9h=Tn1SGpuhArwO4X4EOMWcoo_YFfa=A@mail.gmail.com>

A very elegant solution Jim. Here is a tidyverse solution. Janet, this is a
different sample set (the same you sent in another post a couple days ago),
but it will work with this data frame as well.

### RECREATING YOUR DATA FRAME
scen<-c("1","1","2","2","3","3")
streamflow<-c("0.019234","0.019027","0.018821","0.018619","0.018425","0.018369")
trans<-c("1.658967","1.661192","1.695623","1.503481","0.000008","0.100551")
evap<-c("0.002883","0.002844","0.003192","0.002536","1.880355","2.225793")
psn<-c("0.002391","0.003142","0.002167","0.003059","0.002592","0.006642")
df<-as.data.frame(cbind(scen=as.numeric(scen),
                        streamflow=as.numeric(streamflow),
                        trans=as.numeric(trans),
                        evap=as.numeric(evap),
                        psn=as.numeric(psn)),
                  stringsAsFactors = FALSE)

###Data Manipulation
library(tidyverse)
df2<-gather(df, variable, value, -scen)%>%
  unite(scen_variable, scen, variable)%>%
  mutate(Row=sequence(rle(scen_variable)$lengths))%>%
  spread(scen_variable, value)%>%
  dplyr::select(-Row)

On Fri, Jun 28, 2019 at 2:46 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi Janet,
> This might help:
>
> jcdf<-read.table(text="scen trans evap flow
> 1       1.1    0.1    0.09
> 1       1.2    0.2    0.10
> 1       1.3    0.3    0.20
> 2       2.1    0.1    0.09
> 2       2.2    0.2    0.10
> 2       2.3    0.3    0.20
> 3       3.1    0.1    0.09
> 3       3.2    0.2    0.10
> 3       3.3    0.3    0.20",
> header=TRUE)
> library(prettyR)
> stretch_df(jcdf,"scen",c("trans","evap","flow"))[,2:10]
>
> Jim
>
>
> On Sat, Jun 29, 2019 at 1:42 AM Janet Choate <jsc.eco at gmail.com> wrote:
> >
> > Hello R community,
> > I have a data frame that has multiple observations in a single column
> that
> > I would like to break into multiple columns.
> > The data looks something like this:
> >
> > scen trans evap flow
> > 1       1.1    0.1    0.09
> > 1       1.2    0.2    0.10
> > 1       1.3    0.3    0.20
> > 2       2.1    0.1    0.09
> > 2       2.2    0.2    0.10
> > 2       2.3    0.3    0.20
> > 3       3.1    0.1    0.09
> > 3       3.2    0.2    0.10
> > 3       3.3    0.3    0.20
> >
> > the column scen runs from 1 through 500, and each scen # contains 1461
> rows
> > - i.e. there are 1461 observations for scen1, 1461 observations for
> scen2,
> > etc...
> > i want to split the trans, evap, and flow columns out by scen #, so that
> i
> > end up with something like:
> >
> > trans1   trans2    trans3
> > 1.1         2.1        1.1
> > 1.2         2.2        3.2
> > 1.3         2.3        3.3
> >
> > and same for the other variables.
> > thought i could use the separate command to do this, but either not the
> > right approach or i am not executing it properly.
> > thank you for any assistance,
> > Janet
> > --
> > Tague Team Lab Manager
> > 1005 Bren Hall
> > UCSB, Santa Barbara, CA.
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


