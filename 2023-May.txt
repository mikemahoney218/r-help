From @|mon@wood @end|ng |rom b@th@edu  Mon May  1 11:19:24 2023
From: @|mon@wood @end|ng |rom b@th@edu (Simon Wood)
Date: Mon, 1 May 2023 10:19:24 +0100
Subject: [R] NaN response with gam (mgcv library)
In-Reply-To: <196943759.2974360.1682888582130@mail.yahoo.com>
References: <196943759.2974360.1682888582130.ref@mail.yahoo.com>
 <196943759.2974360.1682888582130@mail.yahoo.com>
Message-ID: <8bb52f0b-3dd6-78ce-1338-e90db6ca8f3c@bath.edu>

try...

sum(residuals(model1)^2)

On 30/04/2023 22:03, varin sacha via R-help wrote:
> Dear R-experts,
>
> Here below my R code. I get a NaN response for gam with mgcv library. How to solve that problem?
> Many thanks.
>
> #########################################################
> library(mgcv)
>   
> y=c(23,24,34,40,42,43,54,34,52,54,23,32,35,45,46,54,34,36,37,48)
> x1=c(0.1,0.3,0.5,0.7,0.8,0.9,0.1,0.7,0.67,0.98,0.56,0.54,0.34,0.12,0.47,0.52,0.87,0.56,0.71,0.6)
> x2=c(9,7,5,3,2,1,1,2,8,9,6,3,1,5,6,7,3,1,3,5)
> x3=c(11,10,13,15,10,9,14,16,18,19,20,9,13,12,14,17,21,19,23,12)
>   
> model=lm(y~x1+x2+x3)
> model1=gam(y ~ s(x1, bs = 'cr', k = 3) + s(x2, bs = 'cr', k = 3)+ s(x3, bs = 'cr', k = 3))
>   
>   
> #Calculate MSE
>  ?model_summ=summary(model)
>  ?mean(model_summ$residuals^2)
>   
>   
>  ?#Calculate MSE
>  ?model_summ=summary(model1)
>  ?mean(model_summ$residuals^2)
> #########################################################
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Simon Wood, School of Mathematics, University of Edinburgh,
https://www.maths.ed.ac.uk/~swood34/


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Mon May  1 22:09:39 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Mon, 1 May 2023 20:09:39 +0000 (UTC)
Subject: [R] NaN response with gam (mgcv library)
In-Reply-To: <8bb52f0b-3dd6-78ce-1338-e90db6ca8f3c@bath.edu>
References: <196943759.2974360.1682888582130.ref@mail.yahoo.com>
 <196943759.2974360.1682888582130@mail.yahoo.com>
 <8bb52f0b-3dd6-78ce-1338-e90db6ca8f3c@bath.edu>
Message-ID: <1871035915.1053686.1682971779336@mail.yahoo.com>

Dear Simon,

Thanks ! It works !

Best,







Le lundi 1 mai 2023 ? 11:19:26 UTC+2, Simon Wood <simon.wood at bath.edu> a ?crit : 





try...

sum(residuals(model1)^2)

On 30/04/2023 22:03, varin sacha via R-help wrote:
> Dear R-experts,
>
> Here below my R code. I get a NaN response for gam with mgcv library. How to solve that problem?
> Many thanks.
>
> #########################################################
> library(mgcv)
>? 
> y=c(23,24,34,40,42,43,54,34,52,54,23,32,35,45,46,54,34,36,37,48)
> x1=c(0.1,0.3,0.5,0.7,0.8,0.9,0.1,0.7,0.67,0.98,0.56,0.54,0.34,0.12,0.47,0.52,0.87,0.56,0.71,0.6)
> x2=c(9,7,5,3,2,1,1,2,8,9,6,3,1,5,6,7,3,1,3,5)
> x3=c(11,10,13,15,10,9,14,16,18,19,20,9,13,12,14,17,21,19,23,12)
>? 
> model=lm(y~x1+x2+x3)
> model1=gam(y ~ s(x1, bs = 'cr', k = 3) + s(x2, bs = 'cr', k = 3)+ s(x3, bs = 'cr', k = 3))
>? 
>? 
> #Calculate MSE
>? ?model_summ=summary(model)
>? ?mean(model_summ$residuals^2)
>? 
>? 
>? ?#Calculate MSE
>? ?model_summ=summary(model1)
>? ?mean(model_summ$residuals^2)
> #########################################################
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Simon Wood, School of Mathematics, University of Edinburgh,
https://www.maths.ed.ac.uk/~swood34/


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Mon May  1 22:16:51 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Mon, 1 May 2023 20:16:51 +0000 (UTC)
Subject: [R] 2 bands (confidence and prediction) on the same GAM plot?
References: <180938894.3419606.1682972211961.ref@mail.yahoo.com>
Message-ID: <180938894.3419606.1682972211961@mail.yahoo.com>

Dear R-experts,

Here below my R code (toy example) working! The only thing missing is in my GAM plot: I would like to get on the same graph the 2 bands (prediction and confidence bands) like in my lm model graph!
Is it possible? How to get that?


##############################################################################
#Data
a=c(23,43,23,45,46,56,76,87,98,73,36,48,100,134,21,12,25,43,21,73,48,57,69)
x1=c(0.1,0.3,0.4,0.7,0.1,0.5,0.9,0.1,0.2,0.3,0.4,0.5,0.9,0.5,0.76,0.45,0.98,0.23,0.41,0.38,0.36,0.67,0.89)
x2=c(1.2,2.1,1.8,1.6,1.9,2.9,4.9,5.2,6.4,2.7,8.9,6.7,4.5,3.8,4.5,9.8,6.7,8,5,9,4.7,6.98,9.9)
?
data=data.frame(a,x1,x2)
?
#Fit lm model
model=lm(a~x1+x2)
?
#add predictions
pred.int=predict(model, interval="prediction")
mydata=cbind(data,pred.int)
?
#regression line + Cis for x1
library("ggplot2")
p=ggplot(mydata,aes(x1,a)) + geom_point() + stat_smooth(method=lm)
?
#add prediction intervals for x1
p + geom_line(aes(y=lwr),color="red",linetype="dashed") + geom_line(aes(y=upr),color="red", linetype="dashed")
?
#regression line + Cis for x2
library("ggplot2")
p=ggplot(mydata,aes(x2,a)) + geom_point() + stat_smooth(method=lm)
?
#add prediction intervals for x2
p + geom_line(aes(y=lwr),color="red",linetype="dashed") + geom_line(aes(y=upr),color="red", linetype="dashed")
?

###GAM
##libraries
library(ggplot2)
library(mgcv)
?
##fit and plot
model1=gam(a~s(x1)+s(x2))
plot(model1, pages=1,residuals=TRUE,all.terms=TRUE,shade=TRUE,shade.col=2)
##############################################################################


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Tue May  2 10:57:24 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Tue, 2 May 2023 14:27:24 +0530
Subject: [R] Reg: Help regarding ggplot2
Message-ID: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>

Dear All,

I have a dataset which contains date and 12 other countries data. I
have extracted the data as xts object.

I am not able to recall all the series in the Y axis. My data set
looks like this

index      crepub finland france germany italy netherlands norway poland
  <date>      <dbl>   <dbl>  <dbl>   <dbl> <dbl>       <dbl>  <dbl>  <dbl>
1 2005-01-03   1.21   0.615   1.90    3.01 0.346       0.509  1.05    1.13
2 2005-01-04   1.18   0.615   1.85    2.89 0.346       0.509  0.889   1.12
3 2005-01-05   1.15   0.615   1.81    2.78 0.346       0.509  0.785   1.09
4 2005-01-06   1.11   0.615   1.76    2.67 0.346       0.509  0.711   1.06
5 2005-01-07   1.08   0.615   1.72    2.57 0.346       0.509  0.661   1.02
6 2005-01-10   1.04   0.615   1.69    2.48 0.346       0.509  0.630   1.01

My code for the same is as follows

ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
  geom_line())

Any help in this regard will be highly appreciated

With regards,
Upananda Pani


From chr|@ho|d @end|ng |rom p@yctc@org  Tue May  2 11:37:43 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Tue, 2 May 2023 11:37:43 +0200
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
Message-ID: <6b2026ec-c923-db89-3af9-36936aa72cea@psyctc.org>

It's not clear what you want but ...

On 02/05/2023 10:57, Upananda Pani wrote:
> Dear All,
>
> I have a dataset which contains date and 12 other countries data. I
> have extracted the data as xts object.
>
> I am not able to recall all the series in the Y axis. My data set
> looks like this
>
> index crepub finland france germany italy netherlands norway poland
> <date> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2005-01-03 1.21 0.615 1.90 3.01 0.346 0.509 1.05 1.13
> 2 2005-01-04 1.18 0.615 1.85 2.89 0.346 0.509 0.889 1.12
> 3 2005-01-05 1.15 0.615 1.81 2.78 0.346 0.509 0.785 1.09
> 4 2005-01-06 1.11 0.615 1.76 2.67 0.346 0.509 0.711 1.06
> 5 2005-01-07 1.08 0.615 1.72 2.57 0.346 0.509 0.661 1.02
> 6 2005-01-10 1.04 0.615 1.69 2.48 0.346 0.509 0.630 1.01
>
> My code for the same is as follows
>
> ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
> geom_line())

Well you don't need to say that the y data are from data_vol3, your data 
= declaration says that.

I wonder if what you want is:

library(tidyverse)

tribble(
 ? ~rowN, ~index, ~crepub, ~finland, ~france, ~germany, ~italy, 
~netherlands, ~norway, ~poland,
 ? 1, "2005-01-03", 1.21, 0.615, 1.90, 3.01, 0.346, 0.509, 1.05, 1.13,
 ? 2, "2005-01-04", 1.18, 0.615, 1.85, 2.89, 0.346, 0.509, 0.889, 1.12,
 ? 3, "2005-01-05", 1.15, 0.615, 1.81, 2.78, 0.346, 0.509, 0.785, 1.09,
 ? 4, "2005-01-06", 1.11, 0.615, 1.76, 2.67, 0.346, 0.509, 0.711, 1.06,
 ? 5, "2005-01-07", 1.08, 0.615, 1.72, 2.57, 0.346, 0.509, 0.661, 1.02,
 ? 6, "2005-01-10", 1.04, 0.615, 1.69, 2.48, 0.346, 0.509, 0.630, 1.01) 
-> data_vol3

### please give us data using dput in future: saves us having to do 
something like that to reclaim it!

### pivot that longer to make it easy to get country data as separate lines

data_vol3 %>%? select(-rowN) %>%
 ? pivot_longer(cols = -index, # as you want to pivot the other 
variables/columns
 ?????????????? names_to = "countries") -> tibDataVol3Long

ggplot(data = tibDataVol3Long,
 ?????? aes(x = index, y = value,
 ???????????? ### now get the grouping and use it for a colour legend
 ???????????? group = countries, colour = countries)) +
 ? geom_line()

> Any help in this regard will be highly appreciated
>
> With regards,
> Upananda Pani
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): 
<https://www.psyctc.org/pelerinage2016/>https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>
	[[alternative HTML version deleted]]


From o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r  Tue May  2 11:57:15 2023
From: o||v|er@crouzet @end|ng |rom un|v-n@nte@@|r (Olivier Crouzet)
Date: Tue, 2 May 2023 11:57:15 +0200
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
Message-ID: <20230502115715.72f78310aef3f0fecf7fec88@univ-nantes.fr>

Dear Upananda,

to complement the current response to your question, your data
source looks like a "wide table" while you would certainly need them to
be organised as a "long table", or to speak differently as a "tidy
table". You should read this source in order to get a grasp on these
issues:

https://tidyr.tidyverse.org/articles/tidy-data.html

Please note that the etiquette on this list states that example data
should conform to some constraints that your message does not conform
to (you shoud therefore also read the posting guide:
http://www.R-project.org/posting-guide.html).

Yours. 
Olivier.

On Tue, 2 May 2023 14:27:24 +0530 Upananda
Pani <upananda.pani at gmail.com> wrote:

> Dear All,
> 
> I have a dataset which contains date and 12 other countries data. I
> have extracted the data as xts object.
> 
> I am not able to recall all the series in the Y axis. My data set
> looks like this
> 
> index      crepub finland france germany italy netherlands norway
> poland <date>      <dbl>   <dbl>  <dbl>   <dbl> <dbl>       <dbl>
> <dbl>  <dbl> 1 2005-01-03   1.21   0.615   1.90    3.01 0.346
> 0.509  1.05    1.13 2 2005-01-04   1.18   0.615   1.85    2.89
> 0.346       0.509  0.889   1.12 3 2005-01-05   1.15   0.615   1.81
> 2.78 0.346       0.509  0.785   1.09 4 2005-01-06   1.11   0.615
> 1.76    2.67 0.346       0.509  0.711   1.06 5 2005-01-07   1.08
> 0.615   1.72    2.57 0.346       0.509  0.661   1.02 6 2005-01-10
> 1.04   0.615   1.69    2.48 0.346       0.509  0.630   1.01
> 
> My code for the same is as follows
> 
> ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
>   geom_line())
> 
> Any help in this regard will be highly appreciated
> 
> With regards,
> Upananda Pani
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html and provide commented,
> minimal, self-contained, reproducible code.


-- 
  Olivier Crouzet, PhD
  http://olivier.ghostinthemachine.space
  /Ma?tre de Conf?rences/
  @LLING - Laboratoire de Linguistique de Nantes
    UMR6310 CNRS / Universit? de Nantes


From tebert @end|ng |rom u||@edu  Tue May  2 12:35:21 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 2 May 2023 10:35:21 +0000
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
Message-ID: <SN4PR22MB28249A3B96CA2731F898F441CF6F9@SN4PR22MB2824.namprd22.prod.outlook.com>

Reorganize the data so that you have three columns
Something more like this:

Date                      Country      Value
2005-01-03          Crepub        1.21

You ggplot statement has a mistake. The geom_line() should be outside the ggplot() call.

You might then have a ggplot statement like
ggplot(data=data_vol3, aes(x=Country, y=Value)) + geom_line()

Just make sure that the data type(s) are what they need to be. Country is non-numeric, and I am not sure geom_line() will like that. I am not sure why one might draw a line connecting categorical items.


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Upananda Pani
Sent: Tuesday, May 2, 2023 4:57 AM
To: r-help <r-help at r-project.org>
Subject: [R] Reg: Help regarding ggplot2

[External Email]

Dear All,

I have a dataset which contains date and 12 other countries data. I have extracted the data as xts object.

I am not able to recall all the series in the Y axis. My data set looks like this

index      crepub finland france germany italy netherlands norway poland
  <date>      <dbl>   <dbl>  <dbl>   <dbl> <dbl>       <dbl>  <dbl>  <dbl>
1 2005-01-03   1.21   0.615   1.90    3.01 0.346       0.509  1.05    1.13
2 2005-01-04   1.18   0.615   1.85    2.89 0.346       0.509  0.889   1.12
3 2005-01-05   1.15   0.615   1.81    2.78 0.346       0.509  0.785   1.09
4 2005-01-06   1.11   0.615   1.76    2.67 0.346       0.509  0.711   1.06
5 2005-01-07   1.08   0.615   1.72    2.57 0.346       0.509  0.661   1.02
6 2005-01-10   1.04   0.615   1.69    2.48 0.346       0.509  0.630   1.01

My code for the same is as follows

ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
  geom_line())

Any help in this regard will be highly appreciated

With regards,
Upananda Pani

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Tue May  2 13:14:25 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Tue, 2 May 2023 16:44:25 +0530
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <AS4P192MB1600E40FF1D55DC501756599C36F9@AS4P192MB1600.EURP192.PROD.OUTLOOK.COM>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
 <AS4P192MB1600E40FF1D55DC501756599C36F9@AS4P192MB1600.EURP192.PROD.OUTLOOK.COM>
Message-ID: <CAEezrQQhbmx9Y=RegDS8_wW-NDcNq_Y_2vC8gwsviFMofJRS=w@mail.gmail.com>

Hi Thomas,

Thanks for your help. I need to plot all other countries as well.

Thanks for your time

With sincere regards,
Upananda

On Tue, May 2, 2023 at 3:01?PM Thomas.Rose <Thomas.Rose at daad-alumni.de>
wrote:

> Dear Upananda,
>
> I see a misplaced bracket in your code, and there is no need in aes() to
> call the dataframe explicitly. Does this work?
>
> ggplot(data = data_vol3, aes(x = index, y = usa)) +
>   geom_line()
>
> Best wishes,
> Thomas
>
> ------------------------------
> *Von:* R-help <r-help-bounces at r-project.org> im Auftrag von Upananda Pani
> <upananda.pani at gmail.com>
> *Gesendet:* Dienstag, 2. Mai 2023 10:57
> *An:* r-help <r-help at r-project.org>
> *Betreff:* [R] Reg: Help regarding ggplot2
>
> Dear All,
>
> I have a dataset which contains date and 12 other countries data. I
> have extracted the data as xts object.
>
> I am not able to recall all the series in the Y axis. My data set
> looks like this
>
> index      crepub finland france germany italy netherlands norway poland
>   <date>      <dbl>   <dbl>  <dbl>   <dbl> <dbl>       <dbl>  <dbl>  <dbl>
> 1 2005-01-03   1.21   0.615   1.90    3.01 0.346       0.509  1.05    1.13
> 2 2005-01-04   1.18   0.615   1.85    2.89 0.346       0.509  0.889   1.12
> 3 2005-01-05   1.15   0.615   1.81    2.78 0.346       0.509  0.785   1.09
> 4 2005-01-06   1.11   0.615   1.76    2.67 0.346       0.509  0.711   1.06
> 5 2005-01-07   1.08   0.615   1.72    2.57 0.346       0.509  0.661   1.02
> 6 2005-01-10   1.04   0.615   1.69    2.48 0.346       0.509  0.630   1.01
>
> My code for the same is as follows
>
> ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
>   geom_line())
>
> Any help in this regard will be highly appreciated
>
> With regards,
> Upananda Pani
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Tue May  2 13:44:01 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Tue, 2 May 2023 17:14:01 +0530
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <6b2026ec-c923-db89-3af9-36936aa72cea@psyctc.org>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
 <6b2026ec-c923-db89-3af9-36936aa72cea@psyctc.org>
Message-ID: <CAEezrQQ4ktuU89yFfq6R_ZpQZ23rV8aEtynp5bOBkdAO2GT=hw@mail.gmail.com>

Hi Chris,

Thank for your solutions and time. I am getting the following error
while trying to execute the code you suggested.

Error in select(., -rowN) : unused argument (-rowN)

Regards,
Upananda

On Tue, May 2, 2023 at 3:08?PM Chris Evans via R-help
<r-help at r-project.org> wrote:
>
> It's not clear what you want but ...
>
> On 02/05/2023 10:57, Upananda Pani wrote:
> > Dear All,
> >
> > I have a dataset which contains date and 12 other countries data. I
> > have extracted the data as xts object.
> >
> > I am not able to recall all the series in the Y axis. My data set
> > looks like this
> >
> > index crepub finland france germany italy netherlands norway poland
> > <date> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>
> > 1 2005-01-03 1.21 0.615 1.90 3.01 0.346 0.509 1.05 1.13
> > 2 2005-01-04 1.18 0.615 1.85 2.89 0.346 0.509 0.889 1.12
> > 3 2005-01-05 1.15 0.615 1.81 2.78 0.346 0.509 0.785 1.09
> > 4 2005-01-06 1.11 0.615 1.76 2.67 0.346 0.509 0.711 1.06
> > 5 2005-01-07 1.08 0.615 1.72 2.57 0.346 0.509 0.661 1.02
> > 6 2005-01-10 1.04 0.615 1.69 2.48 0.346 0.509 0.630 1.01
> >
> > My code for the same is as follows
> >
> > ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
> > geom_line())
>
> Well you don't need to say that the y data are from data_vol3, your data
> = declaration says that.
>
> I wonder if what you want is:
>
> library(tidyverse)
>
> tribble(
>    ~rowN, ~index, ~crepub, ~finland, ~france, ~germany, ~italy,
> ~netherlands, ~norway, ~poland,
>    1, "2005-01-03", 1.21, 0.615, 1.90, 3.01, 0.346, 0.509, 1.05, 1.13,
>    2, "2005-01-04", 1.18, 0.615, 1.85, 2.89, 0.346, 0.509, 0.889, 1.12,
>    3, "2005-01-05", 1.15, 0.615, 1.81, 2.78, 0.346, 0.509, 0.785, 1.09,
>    4, "2005-01-06", 1.11, 0.615, 1.76, 2.67, 0.346, 0.509, 0.711, 1.06,
>    5, "2005-01-07", 1.08, 0.615, 1.72, 2.57, 0.346, 0.509, 0.661, 1.02,
>    6, "2005-01-10", 1.04, 0.615, 1.69, 2.48, 0.346, 0.509, 0.630, 1.01)
> -> data_vol3
>
> ### please give us data using dput in future: saves us having to do
> something like that to reclaim it!
>
> ### pivot that longer to make it easy to get country data as separate lines
>
> data_vol3 %>%  select(-rowN) %>%
>    pivot_longer(cols = -index, # as you want to pivot the other
> variables/columns
>                 names_to = "countries") -> tibDataVol3Long
>
> ggplot(data = tibDataVol3Long,
>         aes(x = index, y = value,
>               ### now get the grouping and use it for a colour legend
>               group = countries, colour = countries)) +
>    geom_line()
>
> > Any help in this regard will be highly appreciated
> >
> > With regards,
> > Upananda Pani
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor,
> University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays):
> <https://www.psyctc.org/pelerinage2016/>https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From up@n@nd@@p@n| @end|ng |rom gm@||@com  Tue May  2 17:50:06 2023
From: up@n@nd@@p@n| @end|ng |rom gm@||@com (Upananda Pani)
Date: Tue, 2 May 2023 21:20:06 +0530
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <2362548d-dbdf-b902-e8cc-819991f712e4@psyctc.org>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
 <6b2026ec-c923-db89-3af9-36936aa72cea@psyctc.org>
 <CAEezrQQ4ktuU89yFfq6R_ZpQZ23rV8aEtynp5bOBkdAO2GT=hw@mail.gmail.com>
 <2362548d-dbdf-b902-e8cc-819991f712e4@psyctc.org>
Message-ID: <CAEezrQT2XTJqbSSMSUm0Dc=TFchCgR2ZQDGCwqM+zG8=CTAtzg@mail.gmail.com>

Hi Chrish,

I am grateful to you for your reply. Your code is working fine.
Moreover, you have guided me how to improve my knowledge, I appreciate
it. I will be very careful next time.
The data which i am working on is given below:

dput(head(data_vol3))
structure(list(index = structure(c(12786, 12787, 12788, 12789,
12790, 12793), tzone = "UTC", tclass = "Date", class = "Date"),
    crepub = c(1.20601312, 1.176601845, 1.14945752, 1.112667506,
    1.076184043, 1.042147848), finland = c(0.614973309, 0.615008409,
    0.615034446, 0.615053761, 0.615068089, 0.615078717), france = c(1.896830857,
    1.849908737, 1.807150091, 1.763296422, 1.719573044, 1.690600819
    ), germany = c(3.01041925, 2.892518667, 2.780918603, 2.672356826,
    2.567306135, 2.479892045), italy = c(0.345659867, 0.345675874,
    0.345686934, 0.345694578, 0.34569986, 0.34570351), netherlands =
c(0.509263785,
    0.509279495, 0.509289967, 0.509296947, 0.509301605, 0.509304705
    ), norway = c(1.052509528, 0.889357215, 0.784607722, 0.710551664,
    0.661473027, 0.629951323), poland = c(1.127163733, 1.12432629,
    1.087704091, 1.056705592, 1.024417693, 1.007962456), slovakia =
c(0.715652234,
    0.706087191, 0.706077173, 0.706104559, 0.70622666, 0.706098981
    ), slovenia = c(0.831886154, 0.831945994, 0.832003445, 0.832058602,
    0.832111556, 0.832162397), uk = c(1.504813191, 1.463648326,
    1.424235397, 1.38618692, 1.349628127, 1.318653737), usa = c(1.521675109,
    1.488286869, 1.451778376, 1.418378195, 1.384742397, 1.363477506
    )), row.names = c(NA, -6L), class = c("tbl_df", "tbl", "data.frame"
))

As there are some countries which are having higher volatilities than
countries with lower, is there any suggestion to improve the graph?

Looking forward to your suggestion in this regard.

With sincere regards,
Upananda Pani


On Tue, May 2, 2023 at 6:14?PM Chris Evans <chrishold at psyctc.org> wrote:
>
> I suspect that you have tried to pass your own data into the pivot_longer() function and your data probably doesn't have the rowN variable.
>
> First try running the whole of what I sent you.  It definitively works for me.  It gives me the attached graph.
>
> My code, using tribble() to read in the data you sent us, creates a rowN variable to save me the trouble of deleting those row numbers one by one.  Then I drop that variable with that select(-rowN) line.
>
> Assuming that works for you running my code on that tiny dataset, and that you are trying to use the code on your full data frame, called data_vol3 then try this:
>
> data_vol3 %>%
>   # select(-rowN) %>% # I have commented out this line
>   pivot_longer(cols = -index, # as you want to pivot the other variables/columns
>                names_to = "countries") -> tibDataVol3Long
>
> ggplot(data = tibDataVol3Long,
>        aes(x = index, y = value, group = countries, colour = countries)) +
>   geom_line()
>
> This is a very good illustration of why you should supply data using dput(data), dput(head(data)) if you have a large dataset. I know it doesn't feel a very sympathetic piece of advice, but I think you need to spend some days working on your understanding of R, ggplot and the tidyverse realm of R.  You can use ggplot() without using much of the tidyverse but they are designed to complement each other and the more I understand of the tidyverse way of doing things, the better I use ggplot().
>
> On 02/05/2023 13:44, Upananda Pani wrote:
>
> Hi Chris,
>
> Thank for your solutions and time. I am getting the following error
> while trying to execute the code you suggested.
>
> Error in select(., -rowN) : unused argument (-rowN)
>
> Regards,
> Upananda
>
> On Tue, May 2, 2023 at 3:08?PM Chris Evans via R-help
> <r-help at r-project.org> wrote:
>
> It's not clear what you want but ...
>
> On 02/05/2023 10:57, Upananda Pani wrote:
>
> Dear All,
>
> I have a dataset which contains date and 12 other countries data. I
> have extracted the data as xts object.
>
> I am not able to recall all the series in the Y axis. My data set
> looks like this
>
> index crepub finland france germany italy netherlands norway poland
> <date> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>
> 1 2005-01-03 1.21 0.615 1.90 3.01 0.346 0.509 1.05 1.13
> 2 2005-01-04 1.18 0.615 1.85 2.89 0.346 0.509 0.889 1.12
> 3 2005-01-05 1.15 0.615 1.81 2.78 0.346 0.509 0.785 1.09
> 4 2005-01-06 1.11 0.615 1.76 2.67 0.346 0.509 0.711 1.06
> 5 2005-01-07 1.08 0.615 1.72 2.57 0.346 0.509 0.661 1.02
> 6 2005-01-10 1.04 0.615 1.69 2.48 0.346 0.509 0.630 1.01
>
> My code for the same is as follows
>
> ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
> geom_line())
>
> Well you don't need to say that the y data are from data_vol3, your data
> = declaration says that.
>
> I wonder if what you want is:
>
> library(tidyverse)
>
> tribble(
>    ~rowN, ~index, ~crepub, ~finland, ~france, ~germany, ~italy,
> ~netherlands, ~norway, ~poland,
>    1, "2005-01-03", 1.21, 0.615, 1.90, 3.01, 0.346, 0.509, 1.05, 1.13,
>    2, "2005-01-04", 1.18, 0.615, 1.85, 2.89, 0.346, 0.509, 0.889, 1.12,
>    3, "2005-01-05", 1.15, 0.615, 1.81, 2.78, 0.346, 0.509, 0.785, 1.09,
>    4, "2005-01-06", 1.11, 0.615, 1.76, 2.67, 0.346, 0.509, 0.711, 1.06,
>    5, "2005-01-07", 1.08, 0.615, 1.72, 2.57, 0.346, 0.509, 0.661, 1.02,
>    6, "2005-01-10", 1.04, 0.615, 1.69, 2.48, 0.346, 0.509, 0.630, 1.01)
> -> data_vol3
>
> ### please give us data using dput in future: saves us having to do
> something like that to reclaim it!
>
> ### pivot that longer to make it easy to get country data as separate lines
>
> data_vol3 %>%  select(-rowN) %>%
>    pivot_longer(cols = -index, # as you want to pivot the other
> variables/columns
>                 names_to = "countries") -> tibDataVol3Long
>
> ggplot(data = tibDataVol3Long,
>         aes(x = index, y = value,
>               ### now get the grouping and use it for a colour legend
>               group = countries, colour = countries)) +
>    geom_line()
>
> Any help in this regard will be highly appreciated
>
> With regards,
> Upananda Pani
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor,
> University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays):
> <https://www.psyctc.org/pelerinage2016/>https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)
> <https://ombook.psyctc.org/book>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> --
> Chris Evans (he/him)
> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
> Work web site: https://www.psyctc.org/psyctc/
> CORE site: http://www.coresystemtrust.org.uk/
> Personal site: https://www.psyctc.org/pelerinage2016/
> Emeetings (Thursdays): https://www.psyctc.org/psyctc/booking-meetings-with-me/
> (Beware: French time, generally an hour ahead of UK)


From me @end|ng |rom n@nx@me  Mon May  1 22:36:17 2023
From: me @end|ng |rom n@nx@me (Nan Xiao)
Date: Mon, 01 May 2023 16:36:17 -0400
Subject: [R] [R-pkgs] gsDesign2 1.0.8 is released
Message-ID: <8e6617ab-a4aa-4a9c-927d-133e0cd846e5@app.fastmail.com>

Dear all,

A new version of gsDesign2 (1.0.8) is now on CRAN (https://cran.r-project.org/package=gsDesign2). gsDesign2 enables fixed or group sequential design under non-proportional hazards and supports highly flexible enrollment, time-to-event, and time-to-dropout assumptions.

The key improvements in this version include refined naming conventions for options in the info_scale argument adhering to the tidyverse design guide, and bug fixes for computing the futility bounds. Please see the changelog (https://merck.github.io/gsDesign2/news/) for details.

As the gsDesign2 package is still in its early stages, we're eager to continue refining its features and performance. We invite you to try out this new version and share your insights with us. Your feedback is invaluable in helping us develop a tool that meets the evolving needs of users.

Cheers,
-Nan

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From Thom@@@Ro@e @end|ng |rom d@@d-@|umn|@de  Tue May  2 11:31:14 2023
From: Thom@@@Ro@e @end|ng |rom d@@d-@|umn|@de (Thomas.Rose)
Date: Tue, 2 May 2023 09:31:14 +0000
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
Message-ID: <AS4P192MB1600E40FF1D55DC501756599C36F9@AS4P192MB1600.EURP192.PROD.OUTLOOK.COM>

Dear Upananda,

I see a misplaced bracket in your code, and there is no need in aes() to call the dataframe explicitly. Does this work?

ggplot(data = data_vol3, aes(x = index, y = usa)) +
  geom_line()

Best wishes,
Thomas

________________________________
Von: R-help <r-help-bounces at r-project.org> im Auftrag von Upananda Pani <upananda.pani at gmail.com>
Gesendet: Dienstag, 2. Mai 2023 10:57
An: r-help <r-help at r-project.org>
Betreff: [R] Reg: Help regarding ggplot2

Dear All,

I have a dataset which contains date and 12 other countries data. I
have extracted the data as xts object.

I am not able to recall all the series in the Y axis. My data set
looks like this

index      crepub finland france germany italy netherlands norway poland
  <date>      <dbl>   <dbl>  <dbl>   <dbl> <dbl>       <dbl>  <dbl>  <dbl>
1 2005-01-03   1.21   0.615   1.90    3.01 0.346       0.509  1.05    1.13
2 2005-01-04   1.18   0.615   1.85    2.89 0.346       0.509  0.889   1.12
3 2005-01-05   1.15   0.615   1.81    2.78 0.346       0.509  0.785   1.09
4 2005-01-06   1.11   0.615   1.76    2.67 0.346       0.509  0.711   1.06
5 2005-01-07   1.08   0.615   1.72    2.57 0.346       0.509  0.661   1.02
6 2005-01-10   1.04   0.615   1.69    2.48 0.346       0.509  0.630   1.01

My code for the same is as follows

ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
  geom_line())

Any help in this regard will be highly appreciated

With regards,
Upananda Pani

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From chr|@ho|d @end|ng |rom p@yctc@org  Tue May  2 18:27:05 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Tue, 2 May 2023 18:27:05 +0200
Subject: [R] Reg: Help regarding ggplot2
In-Reply-To: <CAEezrQT2XTJqbSSMSUm0Dc=TFchCgR2ZQDGCwqM+zG8=CTAtzg@mail.gmail.com>
References: <CAEezrQR3NNtW3-Y_n=eZ-BRwU3xV71UXQFEGY1hwEo60simhLA@mail.gmail.com>
 <6b2026ec-c923-db89-3af9-36936aa72cea@psyctc.org>
 <CAEezrQQ4ktuU89yFfq6R_ZpQZ23rV8aEtynp5bOBkdAO2GT=hw@mail.gmail.com>
 <2362548d-dbdf-b902-e8cc-819991f712e4@psyctc.org>
 <CAEezrQT2XTJqbSSMSUm0Dc=TFchCgR2ZQDGCwqM+zG8=CTAtzg@mail.gmail.com>
Message-ID: <fe449922-c6f2-51bb-e299-14207f67da48@psyctc.org>

I'm only seeing six dates, by the look of them five at one day intervals 
and the last three days later.? According to my calendar those were 
weekdays in 2005.? I don't see much "volatility" there and that's not a 
term I'm familiar with, I suspect it's econometric.? I don't know what 
you're looking for and I think we're starting to get into issues about 
interpretation of data not issues about using R so off list.? I think 
you need statistical or econometric support from somewhere.

Good luck!

Chris

On 02/05/2023 17:50, Upananda Pani wrote:
> Hi Chrish,
>
> I am grateful to you for your reply. Your code is working fine.
> Moreover, you have guided me how to improve my knowledge, I appreciate
> it. I will be very careful next time.
> The data which i am working on is given below:
>
> dput(head(data_vol3))
> structure(list(index = structure(c(12786, 12787, 12788, 12789,
> 12790, 12793), tzone = "UTC", tclass = "Date", class = "Date"),
>      crepub = c(1.20601312, 1.176601845, 1.14945752, 1.112667506,
>      1.076184043, 1.042147848), finland = c(0.614973309, 0.615008409,
>      0.615034446, 0.615053761, 0.615068089, 0.615078717), france = c(1.896830857,
>      1.849908737, 1.807150091, 1.763296422, 1.719573044, 1.690600819
>      ), germany = c(3.01041925, 2.892518667, 2.780918603, 2.672356826,
>      2.567306135, 2.479892045), italy = c(0.345659867, 0.345675874,
>      0.345686934, 0.345694578, 0.34569986, 0.34570351), netherlands =
> c(0.509263785,
>      0.509279495, 0.509289967, 0.509296947, 0.509301605, 0.509304705
>      ), norway = c(1.052509528, 0.889357215, 0.784607722, 0.710551664,
>      0.661473027, 0.629951323), poland = c(1.127163733, 1.12432629,
>      1.087704091, 1.056705592, 1.024417693, 1.007962456), slovakia =
> c(0.715652234,
>      0.706087191, 0.706077173, 0.706104559, 0.70622666, 0.706098981
>      ), slovenia = c(0.831886154, 0.831945994, 0.832003445, 0.832058602,
>      0.832111556, 0.832162397), uk = c(1.504813191, 1.463648326,
>      1.424235397, 1.38618692, 1.349628127, 1.318653737), usa = c(1.521675109,
>      1.488286869, 1.451778376, 1.418378195, 1.384742397, 1.363477506
>      )), row.names = c(NA, -6L), class = c("tbl_df", "tbl", "data.frame"
> ))
>
> As there are some countries which are having higher volatilities than
> countries with lower, is there any suggestion to improve the graph?
>
> Looking forward to your suggestion in this regard.
>
> With sincere regards,
> Upananda Pani
>
>
> On Tue, May 2, 2023 at 6:14?PM Chris Evans<chrishold at psyctc.org>  wrote:
>> I suspect that you have tried to pass your own data into the pivot_longer() function and your data probably doesn't have the rowN variable.
>>
>> First try running the whole of what I sent you.  It definitively works for me.  It gives me the attached graph.
>>
>> My code, using tribble() to read in the data you sent us, creates a rowN variable to save me the trouble of deleting those row numbers one by one.  Then I drop that variable with that select(-rowN) line.
>>
>> Assuming that works for you running my code on that tiny dataset, and that you are trying to use the code on your full data frame, called data_vol3 then try this:
>>
>> data_vol3 %>%
>>    # select(-rowN) %>% # I have commented out this line
>>    pivot_longer(cols = -index, # as you want to pivot the other variables/columns
>>                 names_to = "countries") -> tibDataVol3Long
>>
>> ggplot(data = tibDataVol3Long,
>>         aes(x = index, y = value, group = countries, colour = countries)) +
>>    geom_line()
>>
>> This is a very good illustration of why you should supply data using dput(data), dput(head(data)) if you have a large dataset. I know it doesn't feel a very sympathetic piece of advice, but I think you need to spend some days working on your understanding of R, ggplot and the tidyverse realm of R.  You can use ggplot() without using much of the tidyverse but they are designed to complement each other and the more I understand of the tidyverse way of doing things, the better I use ggplot().
>>
>> On 02/05/2023 13:44, Upananda Pani wrote:
>>
>> Hi Chris,
>>
>> Thank for your solutions and time. I am getting the following error
>> while trying to execute the code you suggested.
>>
>> Error in select(., -rowN) : unused argument (-rowN)
>>
>> Regards,
>> Upananda
>>
>> On Tue, May 2, 2023 at 3:08?PM Chris Evans via R-help
>> <r-help at r-project.org>  wrote:
>>
>> It's not clear what you want but ...
>>
>> On 02/05/2023 10:57, Upananda Pani wrote:
>>
>> Dear All,
>>
>> I have a dataset which contains date and 12 other countries data. I
>> have extracted the data as xts object.
>>
>> I am not able to recall all the series in the Y axis. My data set
>> looks like this
>>
>> index crepub finland france germany italy netherlands norway poland
>> <date> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>
>> 1 2005-01-03 1.21 0.615 1.90 3.01 0.346 0.509 1.05 1.13
>> 2 2005-01-04 1.18 0.615 1.85 2.89 0.346 0.509 0.889 1.12
>> 3 2005-01-05 1.15 0.615 1.81 2.78 0.346 0.509 0.785 1.09
>> 4 2005-01-06 1.11 0.615 1.76 2.67 0.346 0.509 0.711 1.06
>> 5 2005-01-07 1.08 0.615 1.72 2.57 0.346 0.509 0.661 1.02
>> 6 2005-01-10 1.04 0.615 1.69 2.48 0.346 0.509 0.630 1.01
>>
>> My code for the same is as follows
>>
>> ggplot(data=data_vol3, aes(x=index, y=data_vol3$usa)+
>> geom_line())
>>
>> Well you don't need to say that the y data are from data_vol3, your data
>> = declaration says that.
>>
>> I wonder if what you want is:
>>
>> library(tidyverse)
>>
>> tribble(
>>     ~rowN, ~index, ~crepub, ~finland, ~france, ~germany, ~italy,
>> ~netherlands, ~norway, ~poland,
>>     1, "2005-01-03", 1.21, 0.615, 1.90, 3.01, 0.346, 0.509, 1.05, 1.13,
>>     2, "2005-01-04", 1.18, 0.615, 1.85, 2.89, 0.346, 0.509, 0.889, 1.12,
>>     3, "2005-01-05", 1.15, 0.615, 1.81, 2.78, 0.346, 0.509, 0.785, 1.09,
>>     4, "2005-01-06", 1.11, 0.615, 1.76, 2.67, 0.346, 0.509, 0.711, 1.06,
>>     5, "2005-01-07", 1.08, 0.615, 1.72, 2.57, 0.346, 0.509, 0.661, 1.02,
>>     6, "2005-01-10", 1.04, 0.615, 1.69, 2.48, 0.346, 0.509, 0.630, 1.01)
>> -> data_vol3
>>
>> ### please give us data using dput in future: saves us having to do
>> something like that to reclaim it!
>>
>> ### pivot that longer to make it easy to get country data as separate lines
>>
>> data_vol3 %>%  select(-rowN) %>%
>>     pivot_longer(cols = -index, # as you want to pivot the other
>> variables/columns
>>                  names_to = "countries") -> tibDataVol3Long
>>
>> ggplot(data = tibDataVol3Long,
>>          aes(x = index, y = value,
>>                ### now get the grouping and use it for a colour legend
>>                group = countries, colour = countries)) +
>>     geom_line()
>>
>> Any help in this regard will be highly appreciated
>>
>> With regards,
>> Upananda Pani
>>
>> ______________________________________________
>> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Chris Evans (he/him)
>> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor,
>> University of Roehampton, London, UK.
>> Work web site:https://www.psyctc.org/psyctc/
>> CORE site:http://www.coresystemtrust.org.uk/
>> Personal site:https://www.psyctc.org/pelerinage2016/
>> Emeetings (Thursdays):
>> <https://www.psyctc.org/pelerinage2016/>https://www.psyctc.org/psyctc/booking-meetings-with-me/
>> (Beware: French time, generally an hour ahead of UK)
>> <https://ombook.psyctc.org/book>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org  mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Chris Evans (he/him)
>> Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, University of Roehampton, London, UK.
>> Work web site:https://www.psyctc.org/psyctc/
>> CORE site:http://www.coresystemtrust.org.uk/
>> Personal site:https://www.psyctc.org/pelerinage2016/
>> Emeetings (Thursdays):https://www.psyctc.org/psyctc/booking-meetings-with-me/
>> (Beware: French time, generally an hour ahead of UK)
-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): 
<https://www.psyctc.org/pelerinage2016/>https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>
	[[alternative HTML version deleted]]


From m|@thour| @end|ng |rom y@hoo@gr  Tue May  2 21:23:04 2023
From: m|@thour| @end|ng |rom y@hoo@gr (Maria Lathouri)
Date: Tue, 2 May 2023 19:23:04 +0000 (UTC)
Subject: [R] Error in percentage stacked barplot
References: <2006719832.4245163.1683055384501.ref@mail.yahoo.com>
Message-ID: <2006719832.4245163.1683055384501@mail.yahoo.com>

Dear all,?
I am trying to plot the following table in stacked barplot in percentages and also horizontal.
Component? ? ? Sample 1? ? ? Sample 2? ? ? Sample 3CaO????????????????? ? 45????????????? ? 52????????????? ? 48SiO2????????????????? ?25????????????? ? 22????????????? ? 18Al2O3?????????????????15????????????? ? 11????????????? ? 14TiO2? ? ? ? ? ? ? ? ? ? ?6? ? ? ? ? ? ? ? ? 5? ? ? ? ? ? ? ? 6? ? ??Na2O????????????????? ? 5????????????????? 4????????????? ? 5CuO? ? ? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? 5? ? ? ? ?Cl?????????????????????????1????????????????? 3? ? ? ? ? ? ? ? 4
When I tried the following functionbarplot(data,
+         main = "Stacked bar chart",
+         sub = "Subtitle",
+         xlab = "X-lab",
+         ylab = "Y-lab",
+         axes = TRUE, horiz = TRUE)
I got the following error
Error in barplot.default(hellisheidi, main = "Stacked bar chart", sub = "Subtitle",  : 
  'height' must be a vector or a matrix
I also tried barplot(as.matrix(hellisheidi)) but what I was getting was the three stacked columns for Samples 1, 2 and 3 but I was getting an empty column for Component, instead of being the variable in the Samples. 


I was hoping if you could help me on that. 
Thank you very much in advance. 
Kind regards,Maria




-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1683055323500blob.jpg
Type: image/png
Size: 11610 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230502/e508c126/attachment.png>

From rmh @end|ng |rom temp|e@edu  Tue May  2 21:51:11 2023
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Tue, 2 May 2023 19:51:11 +0000
Subject: [R] [External]  Error in percentage stacked barplot
In-Reply-To: <2006719832.4245163.1683055384501@mail.yahoo.com>
References: <2006719832.4245163.1683055384501.ref@mail.yahoo.com>
 <2006719832.4245163.1683055384501@mail.yahoo.com>
Message-ID: <3238A038-876A-42C6-995B-CBF7BDC08C3F@temple.edu>

## you may need to install HH
install.packagess("HH")

library(HH)

hellisheidi <- read.table(text="
Component      Sample1      Sample2      Sample3
CaO                    45                52                48
SiO2                   25                22                18
Al2O3                 15                11                14
TiO2  		      6                  5                6
Na2O                    5                  4                5
CuO                      3        3                5
Cl                         1                  3                4"
, header=TRUE, row.names="Component")

likert(t(hellisheidi), ReferenceZero=.5,
       xlab="X-lab", ylab="Y-lab", main="Stacked bar chart")


> On May 2, 2023, at 15:23, Maria Lathouri via R-help <r-help at r-project.org> wrote:
> 
> Dear all, 
> I am trying to plot the following table in stacked barplot in percentages and also horizontal.
> Component      Sample 1      Sample 2      Sample 3CaO                    45                52                48SiO2                   25                22                18Al2O3                 15                11                14TiO2                     6                  5                6      Na2O                    5                  4                5CuO                      3                  3                5         Cl                         1                  3                4
> When I tried the following functionbarplot(data,
> +         main = "Stacked bar chart",
> +         sub = "Subtitle",
> +         xlab = "X-lab",
> +         ylab = "Y-lab",
> +         axes = TRUE, horiz = TRUE)
> I got the following error
> Error in barplot.default(hellisheidi, main = "Stacked bar chart", sub = "Subtitle",  : 
>  'height' must be a vector or a matrix
> I also tried barplot(as.matrix(hellisheidi)) but what I was getting was the three stacked columns for Samples 1, 2 and 3 but I was getting an empty column for Component, instead of being the variable in the Samples. 
> 
> 
> I was hoping if you could help me on that. 
> Thank you very much in advance. 
> Kind regards,Maria
> 
> 
> 
> <1683055323500blob.jpg>______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m|@thour| @end|ng |rom y@hoo@gr  Wed May  3 10:58:29 2023
From: m|@thour| @end|ng |rom y@hoo@gr (Maria Lathouri)
Date: Wed, 3 May 2023 08:58:29 +0000 (UTC)
Subject: [R] [External]  Error in percentage stacked barplot
In-Reply-To: <3238A038-876A-42C6-995B-CBF7BDC08C3F@temple.edu>
References: <2006719832.4245163.1683055384501.ref@mail.yahoo.com>
 <2006719832.4245163.1683055384501@mail.yahoo.com>
 <3238A038-876A-42C6-995B-CBF7BDC08C3F@temple.edu>
Message-ID: <1098577910.222279.1683104309778@mail.yahoo.com>


Dear Richard,?

Thank you very much for your reply. I went through the code and it worked. I was also able to change the colours.?

I was wondering if I can change the legend position; instead of being in the bottom to be on the left side.?

I tried the following but without any success

strip = FALSE
strip.right = TRUE

likert(t(hellisheidi), ReferenceZero=.5, xlab="X-lab", ylab="Y-lab", main="Stacked bar chart", col=c("#E94E1B", "#F7AA4E", "#BEBEBE", "#6193CE", "#00508C", "#E94E1B", "#BEBEBE"), legend.position="left")

Once again, thank you very much.

Kind regards,
Maria


???? ????? 2 ????? 2023 ???? 08:51:16 ?.?. GMT+1, ? ??????? Richard M. Heiberger <rmh at temple.edu> ??????: 





## you may need to install HH
install.packagess("HH")

library(HH)

hellisheidi <- read.table(text="
Component? ? ? Sample1? ? ? Sample2? ? ? Sample3
CaO? ? ? ? ? ? ? ? ? ? 45? ? ? ? ? ? ? ? 52? ? ? ? ? ? ? ? 48
SiO2? ? ? ? ? ? ? ? ? 25? ? ? ? ? ? ? ? 22? ? ? ? ? ? ? ? 18
Al2O3? ? ? ? ? ? ? ? 15? ? ? ? ? ? ? ? 11? ? ? ? ? ? ? ? 14
TiO2? ??? ??? ? ? ? 6? ? ? ? ? ? ? ? ? 5? ? ? ? ? ? ? ? 6
Na2O? ? ? ? ? ? ? ? ? ? 5? ? ? ? ? ? ? ? ? 4? ? ? ? ? ? ? ? 5
CuO? ? ? ? ? ? ? ? ? ? ? 3? ? ? ? 3? ? ? ? ? ? ? ? 5
Cl? ? ? ? ? ? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? 4"
, header=TRUE, row.names="Component")

likert(t(hellisheidi), ReferenceZero=.5,
? ? ? xlab="X-lab", ylab="Y-lab", main="Stacked bar chart")


> On May 2, 2023, at 15:23, Maria Lathouri via R-help <r-help at r-project.org> wrote:
> 
> Dear all, 
> I am trying to plot the following table in stacked barplot in percentages and also horizontal.
> Component? ? ? Sample 1? ? ? Sample 2? ? ? Sample 3CaO? ? ? ? ? ? ? ? ? ? 45? ? ? ? ? ? ? ? 52? ? ? ? ? ? ? ? 48SiO2? ? ? ? ? ? ? ? ? 25? ? ? ? ? ? ? ? 22? ? ? ? ? ? ? ? 18Al2O3? ? ? ? ? ? ? ? 15? ? ? ? ? ? ? ? 11? ? ? ? ? ? ? ? 14TiO2? ? ? ? ? ? ? ? ? ? 6? ? ? ? ? ? ? ? ? 5? ? ? ? ? ? ? ? 6? ? ? Na2O? ? ? ? ? ? ? ? ? ? 5? ? ? ? ? ? ? ? ? 4? ? ? ? ? ? ? ? 5CuO? ? ? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? 5? ? ? ? Cl? ? ? ? ? ? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? 3? ? ? ? ? ? ? ? 4
> When I tried the following functionbarplot(data,
> +? ? ? ? main = "Stacked bar chart",
> +? ? ? ? sub = "Subtitle",
> +? ? ? ? xlab = "X-lab",
> +? ? ? ? ylab = "Y-lab",
> +? ? ? ? axes = TRUE, horiz = TRUE)
> I got the following error
> Error in barplot.default(hellisheidi, main = "Stacked bar chart", sub = "Subtitle",? : 
>? 'height' must be a vector or a matrix
> I also tried barplot(as.matrix(hellisheidi)) but what I was getting was the three stacked columns for Samples 1, 2 and 3 but I was getting an empty column for Component, instead of being the variable in the Samples. 
> 
> 
> I was hoping if you could help me on that. 
> Thank you very much in advance. 
> Kind regards,Maria
> 
> 
> 
> <1683055323500blob.jpg>______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From rmh @end|ng |rom temp|e@edu  Wed May  3 15:57:17 2023
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Wed, 3 May 2023 13:57:17 +0000
Subject: [R] [External]  Error in percentage stacked barplot
In-Reply-To: <1098577910.222279.1683104309778@mail.yahoo.com>
References: <2006719832.4245163.1683055384501.ref@mail.yahoo.com>
 <2006719832.4245163.1683055384501@mail.yahoo.com>
 <3238A038-876A-42C6-995B-CBF7BDC08C3F@temple.edu>
 <1098577910.222279.1683104309778@mail.yahoo.com>
Message-ID: <B8CD7642-3C18-4D33-A1C7-2140BB804D3A@temple.edu>

likert is built on the lattice barchart function.
Hence everything in
?panel.barchart
?xyplot
applies.  The legend is constructed with the auto.key argument.

You can move the legend to the left, but that is not a good idea for a horizontal barchart.

likert(t(hellisheidi), ReferenceZero=.5,
        xlab="X-lab", ylab="Y-lab", main="stacked bar chart",
        auto.key=list(space="left", columns=1))

Note that the legend is vertical and the plot is horizontal, making it difficult
to read both simultaneously.

Rich

> On May 3, 2023, at 04:58, Maria Lathouri <mlathouri at yahoo.gr> wrote:
>
>
> Dear Richard,
>
> Thank you very much for your reply. I went through the code and it worked. I was also able to change the colours.
>
> I was wondering if I can change the legend position; instead of being in the bottom to be on the left side.
>
> I tried the following but without any success
>
> strip = FALSE
> strip.right = TRUE
>
> likert(t(hellisheidi), ReferenceZero=.5, xlab="X-lab", ylab="Y-lab", main="Stacked bar chart", col=c("#E94E1B", "#F7AA4E", "#BEBEBE", "#6193CE", "#00508C", "#E94E1B", "#BEBEBE"), legend.position="left")
>
> Once again, thank you very much.
>
> Kind regards,
> Maria
>
>
> ???? ????? 2 ????? 2023 ???? 08:51:16 ?.?. GMT+1, ? ??????? Richard M. Heiberger <rmh at temple.edu> ??????:
>
>
>
>
>
> ## you may need to install HH
> install.packagess("HH")
>
> library(HH)
>
> hellisheidi <- read.table(text="
> Component      Sample1      Sample2      Sample3
> CaO                    45                52                48
> SiO2                  25                22                18
> Al2O3                15                11                14
> TiO2                6                  5                6
> Na2O                    5                  4                5
> CuO                      3        3                5
> Cl                        1                  3                4"
> , header=TRUE, row.names="Component")
>
> likert(t(hellisheidi), ReferenceZero=.5,
>       xlab="X-lab", ylab="Y-lab", main="Stacked bar chart")
>
>
>> On May 2, 2023, at 15:23, Maria Lathouri via R-help <r-help at r-project.org> wrote:
>>
>> Dear all,
>> I am trying to plot the following table in stacked barplot in percentages and also horizontal.
>> Component      Sample 1      Sample 2      Sample 3CaO                    45                52                48SiO2                  25                22                18Al2O3                15                11                14TiO2 6                  5                6      Na2O                    5                  4                5CuO                      3      3                5        Cl                        1                  3                4
>> When I tried the following functionbarplot(data,
>> +        main = "Stacked bar chart",
>> +        sub = "Subtitle",
>> +        xlab = "X-lab",
>> +        ylab = "Y-lab",
>> +        axes = TRUE, horiz = TRUE)
>> I got the following error
>> Error in barplot.default(hellisheidi, main = "Stacked bar chart", sub = "Subtitle",  :
>>   'height' must be a vector or a matrix
>> I also tried barplot(as.matrix(hellisheidi)) but what I was getting was the three stacked columns for Samples 1, 2 and 3 but I was getting an empty column for Component, instead of being the variable in the Samples.
>>
>>
>> I was hoping if you could help me on that.
>> Thank you very much in advance.
>> Kind regards,Maria
>>
>>
>>
>> <1683055323500blob.jpg>______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.



From r@b364 @end|ng |rom @c@r|etm@||@rutger@@edu  Wed May  3 17:42:28 2023
From: r@b364 @end|ng |rom @c@r|etm@||@rutger@@edu (RIDDHI BABEL)
Date: Wed, 3 May 2023 11:42:28 -0400
Subject: [R] Question about implementing statistical test in R
Message-ID: <CAJXJZ4Z6n575vkxymNBWvdVNfrGb=i7jfJ2aWDp9=6d2YFQn1g@mail.gmail.com>

Hi,

I am a new user and have a stats question that I need help implementing in
R.

I have 4 groups and I want to assess whether there is a statistical
difference between these groups at baseline first in a global comparison
test and then a pairwise comparison test.

There are about 2 continuous variables and 10 categorical variables

For the group wise comparison for continuous variables-I am using the Mann
Whitney test

For the categorical variables-I am using either chi square or Fisher
exact test for both global comparison and pairwise comparison.

What packages should I use to implement this in R? Is there any example
code that I use? I was thinking tbl_summary but don't think that's the
right one.

Would really appreciate any help with this!

Thank you!

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed May  3 21:23:46 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 3 May 2023 19:23:46 +0000
Subject: [R] Question about implementing statistical test in R
In-Reply-To: <CAJXJZ4Z6n575vkxymNBWvdVNfrGb=i7jfJ2aWDp9=6d2YFQn1g@mail.gmail.com>
References: <CAJXJZ4Z6n575vkxymNBWvdVNfrGb=i7jfJ2aWDp9=6d2YFQn1g@mail.gmail.com>
Message-ID: <SN4PR22MB282458C10EE239F40FFCD5C3CF6C9@SN4PR22MB2824.namprd22.prod.outlook.com>

Start with defining your dependent variable and independent variable(s). As an equation like y equals some function of x, the y is the dependent variable. It is often continuous, but does not have to be.

If your continuous variable is the dependent variable and you have one categorical independent variable then the ANOVA would be a general comparison tests determining if there are differences. This can be further broken down by a multiple comparison test. The Tukey test is commonly used if you assume normal distributions. The Kruskal-Wallis test would be the start of a non-parametric approach.


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of RIDDHI BABEL via R-help
Sent: Wednesday, May 3, 2023 11:42 AM
To: r-help at r-project.org
Subject: [R] Question about implementing statistical test in R

[External Email]

Hi,

I am a new user and have a stats question that I need help implementing in R.

I have 4 groups and I want to assess whether there is a statistical difference between these groups at baseline first in a global comparison test and then a pairwise comparison test.

There are about 2 continuous variables and 10 categorical variables

For the group wise comparison for continuous variables-I am using the Mann Whitney test

For the categorical variables-I am using either chi square or Fisher exact test for both global comparison and pairwise comparison.

What packages should I use to implement this in R? Is there any example code that I use? I was thinking tbl_summary but don't think that's the right one.

Would really appreciate any help with this!

Thank you!

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


