From helgito at hag.hi.is  Fri May  1 11:41:02 1998
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Fri, 1 May 1998 09:41:02 +0000 (GMT)
Subject: R-beta: ps-graph in R and S confirmation
Message-ID: <199805010941.JAA27998@walras.hag.hi.is>


 
> > On Sat, 25 Apr 1998, Helgi Tomasson wrote: 
> > > I am creating postscript-graphics in R.  When I import them into
> > >  a LATEX document it is impossible to get the caption close 
> > >  to the figure.  I run the same program in Splus, and no problem
> > > of getting the caption just below the figure.  Another thing,
> > > the ps file that S created is only 10% of the size of the file
> > >  that R created.  What is wrong?  Are there some parameters to
> > >  be set?
Douglas Bates, sent the following script.

I can confirm.  This works, I get the caption close to the
ps-graph in my LATEX document.  This script shoulld  be somewhere
publicly available.  The size of the ps-file is for reason
explained in earlier messages 10 times larger in R than in S.

best regards to everyone who helped me with this

Helgi Tomasson

> 
> Sorry to get into this late - I have been off at a conference.  
> 
> The Aladdin distribution of ghostscript contains a script called
> ps2epsi that re-calculates and inserts a tighter bounding box.  It
> does this essentially by rendering the postscript code on a raster
> then determining a minimal bounding box for the raster.  
> 
> A disadvantage of using ps2epsi is that it also includes the raster
> image in the file so the figure can be rendered in a word processor,
> for example.  If you don't need that you can strip the file down a bit
> using a script that Bill Venables and I called ps2eps.
> 
> #!/bin/sh
> infile=$1
> if [ $# -eq 2 ]
> then
> 	outfile=$2
> else
> 	outfile=`basename ${infile} .ps`.eps
> fi
> ps2epsi $infile /tmp/X$$.epsi
> sed -e '/^%%BeginPreview/,/^%%EndPreview/d' -e '/^%%EOF/d' < /tmp/X$$.epsi > $outfile
> rm -f /tmp/X$$.epsi
> exit 0
> 


-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat May  2 22:19:07 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 1998 22:19:07 +0200
Subject: R-beta: R-0.61.3 released
Message-ID: <x267jojuis.fsf@biostat.ku.dk>


I've just put up R-0.61.3.tgz and R-0.61.2-0.61.3.diff.gz for
anonymous FTP on ftp.stat.auckland.ac.nz. 

As usual: Don't get it from there unless you are in a desperate hurry.
It will migrate to the CRAN sites within a day or two. (See the FAQ
for the list of CRAN sites. And see the footer for the FAQ location....)

This release mainly fixes a couple of embarassing bugs in 0.61.2. It
is expected to be the last of the 0.61.x series (unless something
*really* ghastly is discovered), 0.62.0 being scheduled for release
some time in mid-June.

Here is the list of changes:


                CHANGES IN R VERSION 0.61.3

NEW FEATURES

    o   find(.) function [on wish of many...]

BUG FIXES

    o   Remove "Alpha" revision from opening blurb. Didn't make sense
        with our development model

    o   set SHELL=/bin/sh in Makefile and use $(MAKE). Avoid use of 
        wildcards in $(MANSRC) for non-gnu "make" (notably Solaris).

    o   rhyper gave wrong results in degenerate cases

    o   Using get with pos=length(search()) or envir=NULL was
        actually actually starting the search in .GlobalEnv.

    o   first=0 (or negative) argument to substr() caused trouble.

    o   1%o%1 would segfault

    o   .Dyn.libs would linger in .RData causing code not to be dyn.loaded.
        Now removed in .First(), if necessary

    o   system.time() expression could not access local variables in
        functions.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at deimos.tc.uaslp.mx  Mon May  4 05:35:17 1998
From: mandevip at deimos.tc.uaslp.mx (Peter B. Mandeville)
Date: Mon, 04 May 1998 05:35:17
Subject: No subject
Message-ID: <3.0.5.16.19980504053517.2d6f0018@deimos.tc.uaslp.mx>

1. How do I ask a question?
2. How do I answer a question?

Question:

At ftp://stat.auckland.ac.nz/pub/R/ in the subdirectory courses is the file
r201. In r201.fun it states that "definitions are now compatible with Data
Analysis by A. Lee". I checked with amazon.com but they don't have anything
about this source. What is it? Where can I get it? How much does it cost? etc.

Peter B.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at abo.fi  Wed May  6 12:29:22 1998
From: mjantti at abo.fi (mjantti@abo.fi)
Date: Wed, 6 May 1998 13:29:22 +0300 (EEST)
Subject: R-beta: adjusting y-axis scale with multiple lines in plot
Message-ID: <199805061029.NAA10268@net28.labour.fi>

Hello --

I am plotting multiple densities in a single plot. If the max of a new
density (added with 'lines()') is sufficiently larger than that of the
one first plotted (using 'plot()'), the new density is cut or
trucated off of the figure. Is there a simple way of adjusting the
yscale after all lines have been added? 

Or is the procedure to be used to first estimate all densities, the plot
the first one with 'ylim=c(0,max())' and the add the lines one by one?
If anyone has pondered on and solved this, I'd be very grateful for the
solution. 

Regards,
Markus
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  6 13:45:06 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 1998 13:45:06 +0200
Subject: R-beta: adjusting y-axis scale with multiple lines in plot
In-Reply-To: mjantti@abo.fi's message of Wed, 6 May 1998 13:29:22 +0300 (EEST)
References: <199805061029.NAA10268@net28.labour.fi>
Message-ID: <x2emy7zkql.fsf@blueberry.kubism.ku.dk>

mjantti at abo.fi writes:

> Or is the procedure to be used to first estimate all densities, the plot
> the first one with 'ylim=c(0,max())' and the add the lines one by one?
> If anyone has pondered on and solved this, I'd be very grateful for the
> solution. 

Yup. That's the general procedure. Some kind of autoscaling would be
nice to have some time in the future, but currently the graphics
model in R (and S-plus) is that of a hardcopy device (e.g. a plotter)
with "no eraser".

There's also the option of using matplot(), although that'll lose the
facilities of plot.density. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed May  6 14:17:42 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 6 May 1998 14:17:42 +0200 (CEST)
Subject: R-beta: Re: WWWADMIN: Survival Analysis & Factors in R
In-Reply-To: <SIMEON.9805061254.A@pc05-cen.pp.hw.ac.uk>
References: <SIMEON.9805061254.A@pc05-cen.pp.hw.ac.uk>
Message-ID: <13648.21734.98647.890850@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 6 May 1998 12:14:54 +0100 (British Summer Time),
>>>>> Mark Tucker (MT) wrote:

MT> Please could you tell me where I can find the latest 
MT> version of R which will run in Windows 3.11 {with 
MT> Microsift's 32-bit adjustment present}

MT> Ideally, I am looking for a version which will do survival 
MT> analysis & handle 'factors' in analysis of variance


I've never used any of the windows versions of R, so I'm not to sure
about their capabilities. I think that the latest3.11 version (can be
found on CRAN in the directory bin/ms-windows) is rather ancient,
but it seems to have support for survival analysis.


Please note that the wwwadmin at ci.tuwien.ac.at is intended for
administration of our web pages, such as submissions to CRAN. Please
use

	r-help at stat.math.ethz.ch

for questions about R (that list has a much broader audience). I'm
forwarding this mail to r-help, maybe somebody out there can give you
more specific help on MS questions.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May  6 14:49:16 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 May 1998 07:49:16 -0500
Subject: R-beta: adjusting y-axis scale with multiple lines in plot
In-Reply-To: Peter Dalgaard BSA's message of 06 May 1998 13:45:06 +0200
References: <199805061029.NAA10268@net28.labour.fi> <x2emy7zkql.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rhg33r2cz.fsf@verdi.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> mjantti at abo.fi writes:
> 
> > Or is the procedure to be used to first estimate all densities, the plot
> > the first one with 'ylim=c(0,max())' and the add the lines one by one?
> > If anyone has pondered on and solved this, I'd be very grateful for the
> > solution. 
> 
> Yup. That's the general procedure. Some kind of autoscaling would be
> nice to have some time in the future, but currently the graphics
> model in R (and S-plus) is that of a hardcopy device (e.g. a plotter)
> with "no eraser".

A general approach when overlaying several separate lines on a plot is
to calculate all the lines first then plot the concatenated y
coordinates versus the concatenated y coordinates using the graphical
argument type="n".  That establishes the axes as large enough to
accomodate all the data but does not draw any points or lines.

After that you can add the individual lines with the lines function.
It would look like
 samp <- rnorm(50)
 d1 <- density(samp)
 d2 <- density(samp, adj = 0.5)
 d3 <- density(samp, adj = 2.0)
 plot( c(d1$x, d2$x, d3$x), c(d1$y, d2$y, d3$y), type = "n")
 lines( d1$x, d1$y, lty = 2 )  # maybe lines(d1, lty = 2) would work
 lines( d2$x, d2$y, lty = 3 )
 lines( d3$x, d3$y, lty = 4 )
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May  6 14:55:57 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 May 1998 07:55:57 -0500
Subject: R-beta: adjusting y-axis scale with multiple lines in plot
In-Reply-To: Douglas Bates's message of 06 May 1998 07:49:16 -0500
References: <199805061029.NAA10268@net28.labour.fi> <x2emy7zkql.fsf@blueberry.kubism.ku.dk> <6rhg33r2cz.fsf@verdi.stat.wisc.edu>
Message-ID: <6rbttbr21u.fsf@verdi.stat.wisc.edu>

Douglas Bates <bates at cs.wisc.edu> writes:

> A general approach when overlaying several separate lines on a plot is
> to calculate all the lines first then plot the concatenated y
> coordinates versus the concatenated y coordinates using the graphical
                                      ^^^^^^^^^^^^^ 
> argument type="n".

I meant "x coordinates" - otherwise the plot would be rather boring.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  6 15:07:57 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 1998 15:07:57 +0200
Subject: R-beta: Re: WWWADMIN: Survival Analysis & Factors in R
In-Reply-To: Friedrich Leisch's message of Wed, 6 May 1998 14:17:42 +0200 (CEST)
References: <SIMEON.9805061254.A@pc05-cen.pp.hw.ac.uk>
	<13648.21734.98647.890850@galadriel.ci.tuwien.ac.at>
Message-ID: <x2d8drzgwi.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

> >>>>> On Wed, 6 May 1998 12:14:54 +0100 (British Summer Time),
> >>>>> Mark Tucker (MT) wrote:
> 
> MT> Please could you tell me where I can find the latest=20
> MT> version of R which will run in Windows 3.11 {with=20
> MT> Microsift's 32-bit adjustment present}
> 
> MT> Ideally, I am looking for a version which will do survival=20
> MT> analysis & handle 'factors' in analysis of variance
> 
> 
> I've never used any of the windows versions of R, so I'm not to sure
> about their capabilities. I think that the latest3.11 version (can be
> found on CRAN in the directory bin/ms-windows) is rather ancient,
> but it seems to have support for survival analysis.

I'm afraid that it doesn't... This relies on having a working dyn.load
and as far as I remember, the support for that in the latest version
that will run under win3.x was too sketchy to support survival4. The
recent (mingw32) port of 0.61.1 does not run with win32s, but Guido
Masarotto (sp?) is currently testing whether RSXNT is a viable
alternative.

I presume that more than simple Kaplan-Meier plots and logrank tests
are required? I have interpreted code for those which runs with the
available binaries.

Actually, none of the versions have run too well with win32s. There
has been trouble with printing graphics etc. Are you sure that you
don't just want to upgrade?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ina at stats.ucl.ac.uk  Wed May  6 17:37:45 1998
From: ina at stats.ucl.ac.uk (Ina Dau)
Date: Wed, 6 May 1998 16:37:45 +0100 (BST)
Subject: R-beta: R-0.61.3 "Color Allocation Error"
Message-ID: <Pine.SOL.3.95.980506163448.13114C-100000@egon.stats.ucl.ac.uk>

Running R under Solaris 2.5.1 I get "Color allocation error".
the offending line is
lines(x,col="green4",lty="dotted")
from the "graphics" demo

Any suggestions?

The same program runs fine under linux, BTW.

Ina

---------------------
Ina Dau
Computer Administrator - Room 101 - Pearson Building - UCL
email: i.dau at ucl.ac.uk
Phone: +44-171-4193636
snail: Dep. of Statistical Sciences, University College London
       Gower Street, London WC1E 6BT

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  6 18:19:34 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 1998 18:19:34 +0200
Subject: R-beta: R-0.61.3 "Color Allocation Error"
In-Reply-To: Ina Dau's message of Wed, 6 May 1998 16:37:45 +0100 (BST)
References: <Pine.SOL.3.95.980506163448.13114C-100000@egon.stats.ucl.ac.uk>
Message-ID: <x2wwbzxtgp.fsf@blueberry.kubism.ku.dk>

Ina Dau <ina at stats.ucl.ac.uk> writes:

> 
> Running R under Solaris 2.5.1 I get "Color allocation error".
> the offending line is
> lines(x,col="green4",lty="dotted")
> from the "graphics" demo
> 
> Any suggestions?
> 
> The same program runs fine under linux, BTW.

Not Happening Here...

This is with a Linux 16 bit display, though. Were you viewing
multicolored pictures in another window at the time?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  6 18:40:52 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 1998 18:40:52 +0200
Subject: R-beta: R-0.61.3 "Color Allocation Error"
In-Reply-To: Peter Dalgaard BSA's message of 06 May 1998 18:19:34 +0200
References: <Pine.SOL.3.95.980506163448.13114C-100000@egon.stats.ucl.ac.uk>
	<x2wwbzxtgp.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2vhrjxsh7.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> > The same program runs fine under linux, BTW.
> 
> Not Happening Here...
> 
> This is with a Linux 16 bit display, though. Were you viewing
> multicolored pictures in another window at the time?

Sorry, forgot to say: Running on Solaris 2.5.1 *displaying* on Linux...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ina at stats.ucl.ac.uk  Wed May  6 19:31:49 1998
From: ina at stats.ucl.ac.uk (Ina Dau)
Date: Wed, 6 May 1998 18:31:49 +0100 (BST)
Subject: R-beta: R-0.61.3 "Color Allocation Error"
In-Reply-To: <x2vhrjxsh7.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.95.980506183020.13623A-100000@egon.stats.ucl.ac.uk>

On 6 May 1998, Peter Dalgaard BSA wrote:

> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
> > > The same program runs fine under linux, BTW.
> > 
> > Not Happening Here...
> > 
> > This is with a Linux 16 bit display, though. Were you viewing
> > multicolored pictures in another window at the time?
> 
> Sorry, forgot to say: Running on Solaris 2.5.1 *displaying* on Linux...
> 
This is exactly what I am doing and  - having closed down a few
applications on the linux box now - the display is ok.
Thanks for help

Ina


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedrovl at yahoo.com  Thu May  7 12:12:40 1998
From: pedrovl at yahoo.com (Pedro Lima)
Date: Thu, 7 May 1998 03:12:40 -0700 (PDT)
Subject: R-beta: scripting with R?
Message-ID: <19980507101240.238.rocketmail@send1d.yahoomail.com>


I've been playing with R for a while using emacs ESS. I've started to
like it a
lot ( the beautiful S language was unknown to me before I dumped into R)

I want to make some scripts to automate the display of some statistics
on web pages. I started to look for ways of using R in a scripting
environment
 but I could not find information on this. Is there a way to call R with
command prompt arguments, like a file with a session?

Looking at the code I saw in file main.c something that lead me to
believe that
there must be a way to do it

[...]
                        /* File Input/Output */

int     R_Interactive = 1;              /* Interactive? */
int     R_Quiet = 0;                    /* Be Quiet */

[...]

Can someone help me on that? Thanks in advance.

Oh! .... and thanks a lot to everybody that made R!

--
Pedro Vale Lima
email: eq3pvl at eq.uc.pt, pedrovl at yahoo.com
Chemical Eng. Dep.
Coimbra University




_________________________________________________________
DO YOU YAHOO!?
Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu May  7 12:57:40 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 7 May 1998 12:57:40 +0200 (CEST)
Subject: R-beta: scripting with R?
In-Reply-To: <19980507101240.238.rocketmail@send1d.yahoomail.com>
References: <19980507101240.238.rocketmail@send1d.yahoomail.com>
Message-ID: <13649.37796.529086.598899@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 7 May 1998 03:12:40 -0700 (PDT),
>>>>> Pedro Lima (PL) wrote:

PL> I've been playing with R for a while using emacs ESS. I've started to
PL> like it a
PL> lot ( the beautiful S language was unknown to me before I dumped into R)

PL> I want to make some scripts to automate the display of some statistics
PL> on web pages. I started to look for ways of using R in a scripting
PL> environment
PL>  but I could not find information on this. Is there a way to call R with
PL> command prompt arguments, like a file with a session?

Yes, you simply have to redirect the input of R from stdin to a file,
i.e.,

	R [--save|--no-save] < cmdfile

reads the commands in cmdfile as if they were typed at the prompt. You
have to specify --save or --no-save, stating wether the environment
should be saved to the .RData file upon exiting.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agebhard at zidsrv.sci.uni-klu.ac.at  Thu May  7 14:51:55 1998
From: agebhard at zidsrv.sci.uni-klu.ac.at (Albrecht Gebhardt)
Date: Thu, 7 May 1998 14:51:55 +0200 (MET DST)
Subject: R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <Pine.OSF.3.93.980507083904.16406B-100000@alpha2-stat.sci.uni-klu.ac.at>

Hi,

I had some trouble compiling the new R version on my Alpha:

make[2]: Entering directory `/usr2/local/R/src/graphics'
cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include   -c
gdevice.c 
cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include   -c
graphics.c 
cc: Error: graphics.c, line 808: An unexpected newline character is present in a
string literal.
          printf("Gpretty(%g,%g,%d): cell=%g, ndiv= %d <=0;\t\t(ns,nu)=(%d,%d);
-----------------^

...

It seems that my DEC cc does not understand strings that fill two lines. 

The solution to this is to join the lines 808 and 809 of src/graphics.c
into one line. 



There is another problem with paste():  it did not work anymore:

> paste("a","b")
Error: memory exhausted

This happens with an empty .RData file, even with "R -v100" and
and plenty of free memory.

Because paste() is used very often, e.g. already in library/base/R/Rprofile
(in getenv("RHOME")) to determine the RHOME variable, R does not work
anymore (But 0.61.1 did).

This happens when I build R on DU 4.0B (with some DEC-Patches
(OSFV40B-patch-133.00 and ...136.00 = threaded libc, ...) applied (OSF1
V4.0 564 alpha). 

The same thing happens when this DU-4.0B binary runs on DU-4.0D (OSF1 V4.0
878 alpha)

Now I compiled R on a the machine running DU 4.0D and the "memory
exhausted"-Problem vanished, and R runs without the memory problem on
this DU-4.0D machine. 

But when I now run the DU-4.0D binary on DU 4.0B I get some kernel
warnings:

R : Copyright 1998, Robert Gentleman and Ross Ihaka
Version 0.61.3  (May 3, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "license()" for details.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.

inst emulated pid=19282 <R.binary> va=0x11fffdf0e pc=0x3000002dc04
inst=0x3bfe002e
> 

This also happens when I build and run R on an unpatched version of
DU-4.0B. This binary runs without memory error and warnings on DU-4.0D.


So it seems to me that R-0.61.3 will only run without errors or warnings on
DU-4.0D ? 


Has anyone else other experiences with R-0.61.3 on a DEC Alpha?


 
Albrecht


PS:
Now I discarded the DU 4.0B version of R.
But just now I see the next problem (with the DU 4.0D version):
help() does not work:

> help(ls)
Error: subscript out of bounds

hist() does not work:
> x<-rnorm(1000)
> x11()   
> hist(x)
Error: subscript out of bounds

...?
------------------------------------------------------------------------------
Albrecht Gebhardt          email: albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik   Tel. : (++43 463) 2700/837
Universitaet Klagenfurt    Fax  : (++43 463) 2700/834
Villacher Str. 161         WWW  : http://www-stat.uni-klu.ac.at/~agebhard
A-9020 Klagenfurt, Austria
------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zk at biocem.univ-bpclermont.fr  Thu May  7 15:07:41 1998
From: zk at biocem.univ-bpclermont.fr (Zivan Karaman)
Date: Thu, 07 May 1998 15:07:41 +0200
Subject: R-beta: scripting with R?
In-Reply-To: <13649.37796.529086.598899@galadriel.ci.tuwien.ac.at>
References: <19980507101240.238.rocketmail@send1d.yahoomail.com>
 <19980507101240.238.rocketmail@send1d.yahoomail.com>
Message-ID: <3.0.5.32.19980507150741.008fa100@biocem.univ-bpclermont.fr>

At 12:57 07/05/98 +0200, you wrote:
>
>Yes, you simply have to redirect the input of R from stdin to a file,
>i.e.,
>
>	R [--save|--no-save] < cmdfile
>
>reads the commands in cmdfile as if they were typed at the prompt. You
>have to specify --save or --no-save, stating wether the environment
>should be saved to the .RData file upon exiting.
>
>Best,
>
>-------------------------------------------------------------------
>                        Friedrich  Leisch                             
>Institut f?r Statistik                      Tel: (+43 1) 58801 4546
>Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
>Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
>A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
>     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
>-------------------------------------------------------------------
>

Does it work (and how) under Windows? (I'm using the version compiled by
Guido Masarotto on an NT4 machine).

I'v tried, but the screen flashes for a second, and nothing happens.
My cmdfile is very simple:
x <- rnorm(100)
dump("x","x.out")
q() 

The "x.out" file is NOT created. I'v tried the --save and --no-save, but
result is the same. Source-ing the same cmdfile works as expected.

When trying with Rsept.exe, I get the message "erno was 1411".

Thanks for any help

Regards

Zivan
Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May  7 15:26:00 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 1998 15:26:00 +0200
Subject: R-beta: scripting with R?
In-Reply-To: zk@biocem.univ-bpclermont.fr's message of Thu, 07 May 1998 15:07:41 +0200
References: <19980507101240.238.rocketmail@send1d.yahoomail.com>
	<19980507101240.238.rocketmail@send1d.yahoomail.com>
	<3.0.5.32.19980507150741.008fa100@biocem.univ-bpclermont.fr>
Message-ID: <x290oe9pqv.fsf@blueberry.kubism.ku.dk>

zk at biocem.univ-bpclermont.fr (Zivan Karaman) writes:

> Does it work (and how) under Windows? (I'm using the version compiled by
> Guido Masarotto on an NT4 machine).

Nope. With Win32 (95/NT) you have to decide whether to write a
"console application" or a "windowed" one. Guido's is of the latter
variety and you need the former in order to do redirections etc. It is
in fact quite easy to do a console R with the mingw32 tools and
(probably) also with RSXNT. Start with the Unix sources and throw out
anything that refuses to compile, such as the X11 stuff and things
related to system() (the latter might be fakeable, but won't work out
of the box). We *should* really put such a beast up for the benefit of
NTEmacs/ESS-mode users anyway, but things are in a slightly "muddy"
state right now, the main obstacle being that we're not quite sure how
to handle win32s applications.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laimonis at chance.otago.ac.nz  Fri May  8 00:50:43 1998
From: laimonis at chance.otago.ac.nz (laimonis kavalieris)
Date: Fri, 8 May 1998 10:50:43 +1200 (NZST)
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <199805072250.KAA07710@chance.otago.ac.nz>


> I had some trouble compiling the new R version on my Alpha:
> 
> make[2]: Entering directory `/usr2/local/R/src/graphics'
> cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include   -c
> gdevice.c 
> cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include   -c
> graphics.c 
> cc: Error: graphics.c, line 808: An unexpected newline character is present in a
> string literal.
>           printf("Gpretty(%g,%g,%d): cell=%g, ndiv= %d <=0;\t\t(ns,nu)=(%d,%d);
> -----------------^
> 
> ...
> 
> It seems that my DEC cc does not understand strings that fill two lines. 
> 
> The solution to this is to join the lines 808 and 809 of src/graphics.c
> into one line. 
> 
I run Digital UNIX 4.0A
The above error arises with the following compiler flags
     cc -ieee_with_inexact -g -I../include
The same solution also applies.
     

> 
> There is another problem with paste():  it did not work anymore:
> 
> > paste("a","b")
> Error: memory exhausted
> 

> Has anyone else other experiences with R-0.61.3 on a DEC Alpha?

I do not have your problem -- when I run R I get:

R : Copyright 1998, Robert Gentleman and Ross Ihaka
Version 0.61.3  (May 3, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "license()" for details.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.

Error in paste("echo $", i, sep = "") : negative length vectors are not allowed
> 
> 
> paste("a","b")
Error in paste("a", "b") : negative length vectors are not allowed
> 1:10
[1] 1 2 3 4

This is not good!?

> 10:1
[1] 10  9  8  7

At least it is consistent!!

> > help(ls)
Error: Object ".lib.loc" not found
> x11()
Error in if (is.na(match(paper, c("none", "a4", "letter")))) stop("unsupported paper size in 
x11") : missing value where logical needed
> 

It seems that some of the environment variables are not set.

...?


Laimonis Kavalieris
Mathematics and Statistics
University of Otago
Dunedin
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri May  8 01:12:10 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 8 May 1998 11:12:10 +1200 (NZST)
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <199805072312.LAA09453@stat1.stat.auckland.ac.nz>

I haven't tried compiling on an Alpha for a while.  I can get access
to a local one and I'll try things out again and get back to you.

It might be time for general portfest again.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.baker at qut.edu.au  Fri May  8 08:39:25 1998
From: p.baker at qut.edu.au (Peter Baker)
Date: Fri, 08 May 1998 16:39:25 +1000 (EST)
Subject: R-beta: problems compiling R 0.61.2 on silicon graphics
Message-ID: 
 <Pine.OSF.3.95.980508161448.11264L-100000@einstein.math.sci.qut.edu.au>

Hi

Computing services here at QUT are trying to compile R0.61.2 for me on
a silicon graphics computer running IRIX Release 6.2 IP25 and gcc.
%gcc -v
Reading specs from /usr/gnu/lib/gcc-lib/mips-sgi-irix5.3/2.7.2.2/specs
gcc version 2.7.2.2
%perl -v
This is perl, version 5.004_04 built for irix

Basically, it was impossible for me even to get R configured although
under Linux RH4.2 and DEC ALPHA Digital UNIX V4.0B, R compiled fine.

Using gmake, some editing of configure and make files and upgrading
perl computing services got an executable but ... it doesn't work. R
can't find base package which is probably because
library/base/{INDEX,R/,TITLE} are all missing :-(

Fatal error: unable to open the base package

Has anyone had any luck compiling on a similar machine and if so have
you got any suggestions.

Thanks a lot
Peter Baker

=========================================================================
|| Peter Baker  email: p.baker at fsc.qut.edu.au    ph: 07 3864 1293  (W)  ||
||              Mail:  School of Mathematics, Queensland University     ||
||                     of Technology,  GPO Box 2434, Brisbane  QLD 4001 ||
=========================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May  8 10:49:08 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 May 1998 10:49:08 +0200
Subject: R-beta: problems compiling R 0.61.2 on silicon graphics
In-Reply-To: Peter Baker's message of Fri, 08 May 1998 16:39:25 +1000 (EST)
References: <x2ogx9qi2t.fsf@totally-fudged-out-message-id>
Message-ID: <x2n2ctqha3.fsf@biostat.ku.dk>

Peter Baker <p.baker at qut.edu.au> writes:

> Using gmake, some editing of configure and make files and upgrading
> perl computing services got an executable but ... it doesn't work. R
> can't find base package which is probably because
> library/base/{INDEX,R/,TITLE} are all missing :-(
> 
> Fatal error: unable to open the base package
> 
> Has anyone had any luck compiling on a similar machine and if so have
> you got any suggestions.

Hm. We've had two reports from people compiling 0.61.3 on IRIX and all
they had to say was that the IRIX cc didn't like a string that had
been split over two lines...

One thing to notice is that the last step of "make install" builds the
base library by running make in src/library/base/. Apparently that
isn't happening for you. So perhaps one makefile didn't get edited
quite right.

0.61.3 has a couple of small makefile changes which might help you. It
sets the SHELL variable, so that you won't be trying to execute Bourne
shell syntax with csh and it uses $(MAKE) throughout, which avoids
problems when make is called something else (such as, gmake). Perhaps
you should try the new version.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri May  8 14:40:28 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 8 May 1998 14:40:28 +0200
Subject: R-beta: [ajanku@ulrik.uio.no: R-0.61.3 with readline]
Message-ID: <199805081240.OAA10719@sophie.ethz.ch>

This was accidentally sent to 
R-help-owner instead of R-help  [why on earth ??]

Can anyone help here?

-------------- next part --------------
An embedded message was scrubbed...
From: "A. Jan Kutylowski" <ajanku at ulrik.uio.no>
Subject: R-0.61.3 with readline
Date: Fri, 8 May 1998 12:41:54 +0200
Size: 747
Url: https://stat.ethz.ch/pipermail/r-help/attachments/19980508/27f339b6/attachment.mht

From p.dalgaard at biostat.ku.dk  Fri May  8 15:21:47 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 May 1998 15:21:47 +0200
Subject: R-beta: [ajanku@ulrik.uio.no: R-0.61.3 with readline]
In-Reply-To: Martin Maechler's message of Fri, 8 May 1998 14:40:28 +0200
References: <199805081240.OAA10719@sophie.ethz.ch>
Message-ID: <x2u370q4no.fsf@biostat.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> 
> 	checking for main in -lreadline... yes
> 
> but not this
> 
> 	checking for readline/history.h... no
> 
> so compilation fails.

Actually, that's not enough to cause compilation failure. The biostats
server has exactly the same set of configure responses. The latter one
only means that R can't save the command history so that you can't
access commands from an earlier session.

I bet the problem is that gcc cannot find the include files for
readline. The way to fix that is

a) figure out where readline.h is at. Let's say it's in
/opt/gnu/readline/readline.h 

b) modify the makefile so that while compiling system.c, gcc will look
in the relevant directory. That would be: modify src/unix/Makefile so
that the relevant lines say

system.o:       system.c ../include/Defn.h
                $(CC) $(CFLAGS) -I/opt/gnu -c system.c

It's a bit annoying that configure can't figure it out by itself, but
on the other hand, there are limits to how many strange places it
should investigate for possible system files.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david at ohiolink.edu  Fri May  8 16:39:22 1998
From: david at ohiolink.edu (David Barber)
Date: Fri, 8 May 1998 10:39:22 -0400
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <199805081438.KAA00996@ohiolink.edu>

I had the same problem when I compiled on my Alpha last week.  The error
disappeared when I edited the source to join the line with the following
parts
of the statement to make it all one long line.  Then cc did not complain.  
cc does not seem to like the division of the statement into multiple lines.
If my memory serves me right, after that problem disappeared, most of the
software compiled okay until I got an error related to the compiler not
being
able to find readline.h.   

These errors made me think I should be compiling with gcc.  I went back 
and compiled with gcc.   Everything compiled beautifully, but when I
started
R I got a core dump and a statement about a floating point exception.  I
have
not had time to investigate this problem.  If anyone knows of a solution
please
let me know.   If I do not hear of a solution, I plan to try to recompile
this 
weekend with the -g option and then try to find out what is causing the 
exception.  But I would prefer that someone else tell me how to fix the
problem.

David Barber
OhioLINK

----------
> From: laimonis kavalieris <laimonis at chance.otago.ac.nz>
> To: r-help at stat.math.ethz.ch
> Cc: agebhard at zidsrv.sci.uni-klu.ac.at
> Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
> Date: Thursday, May 07, 1998 6:50 PM
> 
> 
> > I had some trouble compiling the new R version on my Alpha:
> > 
> > make[2]: Entering directory `/usr2/local/R/src/graphics'
> > cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include
  -c
> > gdevice.c 
> > cc -ieee_with_inexact -O -Olimit 2000 -I/usr/local/include -I../include
  -c
> > graphics.c 
> > cc: Error: graphics.c, line 808: An unexpected newline character is
present in a
> > string literal.
> >           printf("Gpretty(%g,%g,%d): cell=%g, ndiv= %d
<=0;\t\t(ns,nu)=(%d,%d);
> > -----------------^
> > 
> > ...
> > 
> > It seems that my DEC cc does not understand strings that fill two
lines. 
> > 
> > The solution to this is to join the lines 808 and 809 of src/graphics.c
> > into one line. 
> > 
> I run Digital UNIX 4.0A
> The above error arises with the following compiler flags
>      cc -ieee_with_inexact -g -I../include
> The same solution also applies.
>      
> 
> > 
> > There is another problem with paste():  it did not work anymore:
> > 
> > > paste("a","b")
> > Error: memory exhausted
> > 
> 
> > Has anyone else other experiences with R-0.61.3 on a DEC Alpha?
> 
> I do not have your problem -- when I run R I get:
> 
> R : Copyright 1998, Robert Gentleman and Ross Ihaka
> Version 0.61.3  (May 3, 1998)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "license()" for details.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> 
> Error in paste("echo $", i, sep = "") : negative length vectors are not
allowed
> > 
> > 
> > paste("a","b")
> Error in paste("a", "b") : negative length vectors are not allowed
> > 1:10
> [1] 1 2 3 4
> 
> This is not good!?
> 
> > 10:1
> [1] 10  9  8  7
> 
> At least it is consistent!!
> 
> > > help(ls)
> Error: Object ".lib.loc" not found
> > x11()
> Error in if (is.na(match(paper, c("none", "a4", "letter"))))
stop("unsupported paper size in 
> x11") : missing value where logical needed
> > 
> 
> It seems that some of the environment variables are not set.
> 
> ...?
> 
> 
> Laimonis Kavalieris
> Mathematics and Statistics
> University of Otago
> Dunedin
> New Zealand
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Fri May  8 20:30:02 1998
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Fri, 8 May 1998 20:30:02 +0200 (CEST)
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <Pine.LNX.3.96.980508202656.9260A-100000@alpha.fuzzy.at>

On Fri, 8 May 1998, David Barber wrote:

> I had the same problem when I compiled on my Alpha last week.  The error
> disappeared when I edited the source to join the line with the following
> parts
> of the statement to make it all one long line.  Then cc did not complain.  
> cc does not seem to like the division of the statement into multiple lines.
> If my memory serves me right, after that problem disappeared, most of the
> software compiled okay until I got an error related to the compiler not
> being
> able to find readline.h.   
> 
> These errors made me think I should be compiling with gcc.  I went back 
> and compiled with gcc.   Everything compiled beautifully, but when I
> started
> R I got a core dump and a statement about a floating point exception. 

I had the same problems with R and gcc on the Alpha with earlier
versions. If I remember right, it's because of lacking IEEE-arithmetic in
gcc. So may be you have no chance to get a working version with gcc. 
 
After my trouble with R 0.61.3 I?m now using R 0.61.1 again.
This is the last version which runs without problems on the Alpha
(compiled with cc, not gcc!)


Albrecht

------------------------------------------------------------------------------
Albrecht Gebhardt          email: albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik   Tel. : (++43 463) 2700/837
Universitaet Klagenfurt    Fax  : (++43 463) 2700/834
Villacher Str. 161         WWW  : http://www-stat.uni-klu.ac.at/~agebhard
A-9020 Klagenfurt, Austria
------------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david at ohiolink.edu  Fri May  8 21:46:12 1998
From: david at ohiolink.edu (David Barber)
Date: Fri, 8 May 1998 15:46:12 -0400
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
Message-ID: <199805081945.PAA07162@ohiolink.edu>

I have been playing around with compiling R using cc some more this
afternoon.  

I fixed the newline problem in graphics.c by combining the statement
into one line, eliminating the newlines in the middle of the statement.

This then got me to another problem.  The compile failed because 
readline.h was to be included in unix/system.c   This problem apparently
occurs because of the definition of HAVE_READLINE in Platform.h.
That file appears to be generated by the ./configure script, so the problem
must be the way that this script has been written.

After I commented out this definition, everything compiles fine but now I
get the error message 
 
Error in paste("echo $", i, sep = "") : negative length vectors are not
allowed

when I start the program and when I try to run the demos.  I have not
yet looked for the cause of this problem.   Can anyone suggest a place
to look?

David Barber

----------
> From: Albrecht Gebhardt <albrecht.gebhardt at uni-klu.ac.at>
> To: R-help at stat.math.ethz.ch
> Subject: Re: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
> Date: Friday, May 08, 1998 2:30 PM
> 
> On Fri, 8 May 1998, David Barber wrote:
> 
> > I had the same problem when I compiled on my Alpha last week.  The
error
> > disappeared when I edited the source to join the line with the
following
> > parts
> > of the statement to make it all one long line.  Then cc did not
complain.  
> > cc does not seem to like the division of the statement into multiple
lines.
> > If my memory serves me right, after that problem disappeared, most of
the
> > software compiled okay until I got an error related to the compiler not
> > being
> > able to find readline.h.   
> > 
> > These errors made me think I should be compiling with gcc.  I went back

> > and compiled with gcc.   Everything compiled beautifully, but when I
> > started
> > R I got a core dump and a statement about a floating point exception. 
> 
> I had the same problems with R and gcc on the Alpha with earlier
> versions. If I remember right, it's because of lacking IEEE-arithmetic in
> gcc. So may be you have no chance to get a working version with gcc. 
>  
> After my trouble with R 0.61.3 I?m now using R 0.61.1 again.
> This is the last version which runs without problems on the Alpha
> (compiled with cc, not gcc!)
> 
> 
> Albrecht
> 
>
----------------------------------------------------------------------------
--
> Albrecht Gebhardt          email: albrecht.gebhardt at uni-klu.ac.at
> Institut fuer Mathematik   Tel. : (++43 463) 2700/837
> Universitaet Klagenfurt    Fax  : (++43 463) 2700/834
> Villacher Str. 161         WWW  : http://www-stat.uni-klu.ac.at/~agebhard
> A-9020 Klagenfurt, Austria
>
----------------------------------------------------------------------------
--
> 
> 
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vernier at unixg.ubc.ca  Fri May  8 22:02:27 1998
From: vernier at unixg.ubc.ca (vernier@unixg.ubc.ca)
Date: Fri, 8 May 1998 13:02:27 -0700
Subject: No subject
Message-ID: <08f7c1711200858COAST@versyscom.com>

Hi,

I just downloaded R for windows and subscribed to this list.  I would like to 
know if it is possible to install an add-on package (e.g. spatial) in the Win95 
version (0.61.1).

Thank you, Pierre
=======================================
Pierre Vernier
Research Associate / GIS Coordinator
Centre for Applied Conservation Biology
Forest Sciences, UBC
Phone 1: (604) 822-8288
Phone 2: (604) 948-9181
Fax: (604) 822-5410
Email: vernier at unixg.ubc.ca
=======================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May  8 22:24:48 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 May 1998 22:24:48 +0200
Subject: Re R-beta: 0.61.3: Problems on DEC Unix 4.0
In-Reply-To: "David Barber"'s message of Fri, 8 May 1998 15:46:12 -0400
References: <199805081945.PAA07162@ohiolink.edu>
Message-ID: <x2wwbwlddb.fsf@biostat.ku.dk>

"David Barber" <david at ohiolink.edu> writes:

> This then got me to another problem.  The compile failed because=20
> readline.h was to be included in unix/system.c   This problem apparently
> occurs because of the definition of HAVE_READLINE in Platform.h.
> That file appears to be generated by the ./configure script, so the probl=
> em
> must be the way that this script has been written.

As I mentioned in another post, the problem is that it doesn't want to
look all over the system disk for the location of the readline include
files, so what can happen is that it finds libreadline in a standard
location and decides that readline is there but can't find the include
files later on.

All you have to do is to supply a -I argument to gcc with the correct
location. Of course, there are some locations that are semi-standard
(/opt/gnu, e.g.) and probably configure can be persuaded to do a
better search. Or, make a symbolic link to the actual location from
/usr/local/include.

> After I commented out this definition, everything compiles fine but now I
> get the error message=20
> =20
> Error in paste("echo $", i, sep = "") : negative length vectors are not
> allowed

This one is nasty! I bet something is not quite 64-bit clean. If you
know your way around gdb, it would be very nice to see a stack trace
at the point where the error is generated (line 307,
src/main/memory.c). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May  8 22:59:42 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 8 May 1998 13:59:42 -0700 (PDT)
Subject: R-beta: Re: your mail
In-Reply-To: <08f7c1711200858COAST@versyscom.com>
Message-ID: <Pine.SUN.3.95.980508135318.4094C-100000@chekov>

On Fri, 8 May 1998 vernier at unixg.ubc.ca wrote:

> Hi,
> 
> I just downloaded R for windows and subscribed to this list.  I would like to 
> know if it is possible to install an add-on package (e.g. spatial) in the Win95 
> version (0.61.1).
> 

It's possible in theory. The procedure is sort of explained in the source
for the new windows version.  The package needs to be compiled as a DLL
and linked with the R executable if it uses any R functions like S_alloc.

There's a MakePkg script in the src/gnuwin32 directory, but it requires
the mingw32 compiler and quite a lot of GNU tools for NT/Win95. 


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moro at percol.ethz.ch  Sat May  9 17:43:44 1998
From: moro at percol.ethz.ch (moro@percol.ethz.ch)
Date: Sat, 9 May 1998 17:43:44 +0200 (MEST)
Subject: R-beta: par
Message-ID: <199805091543.RAA05834@percol.ethz.ch>

I started using R to draw different plots. Thereby I'm having different problems adjusting graphical parameters.
I wonder wy, because I don't see any reason. I'm using R61.1 with Linux Slackware (kernel 2.0?), emacs19.31 and ESS-5.0

1. I want to write a text on margin-site 4, therefore I need to reduce my plot in size . But       
whatever I do, the size doesn't change:

postscript("a.ps")
a_c(1:10)
b_a*a
a
b
plot(a,b)
dev.off()
postscript("b.ps")
plot(a,b,mar=c(5,5,5,5))
axis(4,  labels = F, tck = 0.1)
mtext("blabla", side = 4, line = 3, cex=1.5)
dev.off()

"b.ps" does not have a different plot-size and therefore the label "blabla" cannot be drawn.

2. In a log="x" plot, labels are drawn in exp.mode: 1e-02, 1e-01,..
   How can I change it to 0.01, 0.1, ... ?

3. If I want to write with latin-font in S-plus, I use 
   
   ps.options (paper="A4", setfont=ps.setfont.latin1)
   and ESS/emacs to write d,..
   
   With R the ps.opt.-command gives an error.
   Which is the correct way to do it?

thanks

F.Moro
IBWK-ETH
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggl at onaustralia.com.au  Sun May 10 14:32:29 1998
From: ggl at onaustralia.com.au (Jim Lemon)
Date: Sun, 10 May 1998 12:32:29 +0000
Subject: R-beta: Re: R (par)
Message-ID: <35559E5D.29C8D1F4@onaustralia.com.au>

1) 'par' doesn't seem to be called from 'plot', as it is in S.  I was
able to get the plot to work with:

par(mar=c(5,5,5,5))
plot(a,b)
axis(4,labels=F,tck=0.1)
mtext("blabla",side=4,line=3,cex=1.5)

NOTE: I tried this on the x11() display, which seemed to reproduce the
problem you described.

2) ??  I was unable to get either x or y logarithmic axes using

par(xlog=T)
par(ylog=T)

and querying the values with par returned FALSE.  Can't help much on
this one.

3) The syntax should be:

ps.options(paper="a4",family="Times")

NOTE: strings are case-sensitive, and there is no "Latin" font available
(as far as the help files are concerned).

Hope this helps,

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 10 20:49:22 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 May 1998 20:49:22 +0200
Subject: R-beta: Re: R (par)
In-Reply-To: Jim Lemon's message of Sun, 10 May 1998 12:32:29 +0000
References: <35559E5D.29C8D1F4@onaustralia.com.au>
Message-ID: <x290oax8p9.fsf@biostat.ku.dk>

Jim Lemon <ggl at onaustralia.com.au> writes:

> 2) ??  I was unable to get either x or y logarithmic axes using
> 
> par(xlog=T)
> par(ylog=T)
> 
> and querying the values with par returned FALSE.  Can't help much on
> this one.

Those are for querying (although the help page could arguably
be clearer on that point). Use log="x" or "y" or "xy" to se log axes.
This *is* documented, but on the plot.default page...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon May 11 16:15:18 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 11 May 1998 14:15:18 +0000
Subject: R-beta: Corrections to documentation
Message-ID: <355707F5.6C07316A@ozemail.com.au>

Thanks to Peter Dalgaard's message, I learned a bit more about the 'par'
function and rewrote my HTML help file accordingly.  Is it appropriate
to submit such changes somewhere to improve the documentation?  I would
also be willing to write some missing documentation as well.

Dr. Jim Lemon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon May 11 17:38:01 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 11 May 1998 17:38:01 +0200
Subject: R-beta: Corrections to documentation
In-Reply-To: <355707F5.6C07316A@ozemail.com.au> (message from Jim Lemon on
	Mon, 11 May 1998 14:15:18 +0000)
Message-ID: <199805111538.RAA01057@sophie.ethz.ch>

>>>>> "Jim" == Jim Lemon <bitwrit at ozemail.com.au> writes:

    Jim> Thanks to Peter Dalgaard's message, I learned a bit more about the
    Jim> 'par' function and rewrote my HTML help file accordingly.

    Jim> Is it appropriate to submit such changes somewhere
    Jim> to improve the documentation?
Of course!
The appropriate place might be simply the R-devel mailing list, unless your
changes are really big.  In that case, you could offer an FTP / HTTP
address where one could get your fix (as *.tar.gz file, if possible).

However, note that you should not edit HTML files which are not the source,
but rather the corresponding  *.Rd files,
	RHOME/src/library/*/man/*.Rd
			  ^
			base
			mva
			eda
			stepfun

from which the HTML, LaTeX, and [nt]roff files are produced automatically.

    Jim> I would also be willing to write some missing documentation as well.

Thank you in advance.

For that and the above (editing an *.Rd file), you probably should read
current "Appendix A", entitled, ``Writing R documentation''
from  RHOME/doc/manual/Man.dvi  (assuming that you got so far...).

-----
For the work you have already done on HTML,
and if you don't have the will to redo in *.Rd,
you can e-mail the output of

	diff -c  file-old.html  file-new.html

to either R-devel or just to me.
Thank you.

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon May 11 17:43:56 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 11 May 1998 17:43:56 +0200 (CEST)
Subject: R-beta: Corrections to documentation
In-Reply-To: <355707F5.6C07316A@ozemail.com.au>
References: <355707F5.6C07316A@ozemail.com.au>
Message-ID: <13655.7356.618641.796327@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 11 May 1998 14:15:18 +0000,
>>>>> Jim Lemon (JL) wrote:

JL> Thanks to Peter Dalgaard's message, I learned a bit more about the 'par'
JL> function and rewrote my HTML help file accordingly.  Is it appropriate
JL> to submit such changes somewhere to improve the documentation?

Volunteers are always warmly welcome! Simply send improvements to the
code to r-core at stat.math.ethz.ch (list of core developers team).

Just to avoid reinvention of the wheel:

*) Please make sure that you modify only code from a recent
development version of R (a daily snapshot can be obtained from CRAN),
because in the meantime we have changed considerably from the stable
releases.

*) You mentioned that you ``rewrote my HTML help file'' ... maybe this
is just a misunderstanding on my side, but the HTML function pages are
created automatically from R documentation source files (the *.Rd
files in the man directory of each package). Modifications should be
made to this files, the HTML files can then be created using

	$RHOME/etc/Rdconv --html file.Rd



JL> I would also be willing to write some missing documentation as well.

What exactly do you have in mind (there's so much documentation
missing, that there's a wide variaty of fields to choose from ...).
Anything would be welcome ...

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eschmid at delos.lf.net  Mon May 11 20:11:52 1998
From: eschmid at delos.lf.net (Egon Schmid)
Date: Mon, 11 May 1998 20:11:52 +0200
Subject: R-beta: C/Fortran function not in load table
Message-ID: <35573F68.A97E258@delos.lf.net>

I have gotten this sort of problem some weeks ago and have solved it
with the mailing list archive.  But now I have this problem again with
the class library.
What should I put in library/class/R/zzz.R?  Everything I put in that
file leads to the same error message.  I'm running 0.61.3 on Linux.

> knn1(train, test, cl)
Error in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p), 
: C/Fortran function not in load table
Execution halted

-Egon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue May 12 11:10:30 1998
From: gb at stat.umu.se (Goran Brostrom)
Date: Tue, 12 May 1998 11:10:30 +0200 (MET DST)
Subject: R-beta: R-0.61.3 and __setfpucw.
In-Reply-To: <Pine.SUN.3.95.980508135318.4094C-100000@chekov>
Message-ID: <Pine.LNX.3.95.980512110330.11848B-100000@pc30.stat.umu.se>


I have Linux, Redhat 4.2, on two machines, an i586 and a Sparc.
When I compile R-0.61.3 on them, everything is fine on i586,
but on the Sparc I get, in the last linking stage: 

../lib/libunix.a(system.o): In function `main':
/usr/local/R-0.61.3/src/unix/system.c:353: undefined reference to
`__setfpucw'
../lib/libunix.a(system.o): In function `R_CleanUp':
/usr/local/R-0.61.3/src/unix/system.c:430: undefined reference to
`__setfpucw'
make[2]: *** [R.binary] Error 1
make[2]: Leaving directory `/usr/local/R-0.61.3/src/main'
make[1]: *** [build] Error 2
make[1]: Leaving directory `/usr/local/R-0.61.3/src'
make: *** [install] Error 2

Any ideas?

Goran
---------------------------------------------------------
Goran Brostrom
Department of Statistics              tel: +46 90 786-5223
Umea University                       fax: +46 90 786-6614
S-90187 Umea, Sweden               e-mail: gb at stat.umu.se
----------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 12 11:46:14 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 May 1998 11:46:14 +0200
Subject: R-beta: R-0.61.3 and __setfpucw.
In-Reply-To: Goran Brostrom's message of Tue, 12 May 1998 11:10:30 +0200 (MET DST)
References: <Pine.LNX.3.95.980512110330.11848B-100000@pc30.stat.umu.se>
Message-ID: <x24syvyg7t.fsf@blueberry.kubism.ku.dk>

Goran Brostrom <gb at stat.umu.se> writes:

> 
> 
> I have Linux, Redhat 4.2, on two machines, an i586 and a Sparc.
> When I compile R-0.61.3 on them, everything is fine on i586,
> but on the Sparc I get, in the last linking stage: 
> 
> ../lib/libunix.a(system.o): In function `main':
> /usr/local/R-0.61.3/src/unix/system.c:353: undefined reference to
> `__setfpucw'
> ../lib/libunix.a(system.o): In function `R_CleanUp':
> /usr/local/R-0.61.3/src/unix/system.c:430: undefined reference to
> `__setfpucw'

Using __setfpucw is a horrible hack in the first place... 

You could try simply commenting it out. Or study <fpu_control.h> and
guess what the mechanism is supposed to be on Sparc Linux.

On i386 with RH4.2, _FPU_DEFAULT == _FPU_IEEE, so the __setfpucw() is
a no-op anyway. (Earlier Linuxen would unmask exceptions invalid-op,
zero-div, and overflow - halting programs at inconvenient times).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue May 12 12:34:19 1998
From: gb at stat.umu.se (Goran Brostrom)
Date: Tue, 12 May 1998 12:34:19 +0200 (MET DST)
Subject: R-beta: R-0.61.3 and __setfpucw.
In-Reply-To: <x24syvyg7t.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.95.980512122016.11948A-100000@pc30.stat.umu.se>

On 12 May 1998, Peter Dalgaard BSA wrote:

> Goran Brostrom <gb at stat.umu.se> writes:
> 
> > 
> > 
> > I have Linux, Redhat 4.2, on two machines, an i586 and a Sparc.
> > When I compile R-0.61.3 on them, everything is fine on i586,
> > but on the Sparc I get, in the last linking stage: 
> > 
> > ../lib/libunix.a(system.o): In function `main':
> > /usr/local/R-0.61.3/src/unix/system.c:353: undefined reference to
> > `__setfpucw'
> > ../lib/libunix.a(system.o): In function `R_CleanUp':
> > /usr/local/R-0.61.3/src/unix/system.c:430: undefined reference to
> > `__setfpucw'
> 
> Using __setfpucw is a horrible hack in the first place... 
> 
> You could try simply commenting it out. Or study <fpu_control.h> and
> guess what the mechanism is supposed to be on Sparc Linux.

I commented out two (identical) lines in src/unix/system.c:

/*	__setfpucw(_FPU_DEFAULT); */

and the compilation worked alright. The file /usr/include/fpu_control.h:

#ifndef _FPU_CONTROL_H
#define _FPU_CONTROL_H

#if defined(__i386__)
# include <i386/fpu_control.h>
#elif defined(__mc68000__)
# include <m68k/fpu_control.h>
#elif defined(__sparc__)
# include <sparc/fpu_control.h>
#else
# error architecture not supported by Linux C library
#endif 

#endif /* _FPU_CONTROL_H */

Is __sparc__ automatically defined? In sparc/fpu_control.h there
is a line

extern void __setfpucw __P ((unsigned short));

but __setfpucw doesn't seem to be defined somewhere. I don't 
understand the significance of all this, but maybe it doesn't
matter?

Goran
---------------------------------------------------------
Goran Brostrom
Department of Statistics              tel: +46 90 786-5223
Umea University                       fax: +46 90 786-6614
S-90187 Umea, Sweden               e-mail: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue May 12 14:58:49 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 May 1998 07:58:49 -0500
Subject: R-beta: R-0.61.3 and __setfpucw.
In-Reply-To: Goran Brostrom's message of Tue, 12 May 1998 12:34:19 +0200 (MET DST)
References: <Pine.LNX.3.95.980512122016.11948A-100000@pc30.stat.umu.se>
Message-ID: <6rogx34pdi.fsf@verdi.stat.wisc.edu>

Goran Brostrom <gb at stat.umu.se> writes:


> Is __sparc__ automatically defined? In sparc/fpu_control.h there
> is a line
> 
> extern void __setfpucw __P ((unsigned short));
> 
> but __setfpucw doesn't seem to be defined somewhere. I don't 
> understand the significance of all this, but maybe it doesn't
> matter?

Did you use something like an NFS mount of a file system to share the
same sources between the two machines?  If you did the configuration
on the Linux machine and kept around a config.cache file, it may have
used some information from the Linux machine in configuring the
compilation for the SPARC.  I would advise trying the
configure/compile sequence again on the SPARC but using a clean set of
source files direct from the .tar.gz archive.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue May 12 15:13:34 1998
From: gb at stat.umu.se (Goran Brostrom)
Date: Tue, 12 May 1998 15:13:34 +0200 (MET DST)
Subject: R-beta: R-0.61.3 and __setfpucw.
In-Reply-To: <6rogx34pdi.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.LNX.3.95.980512151036.17303A-100000@pc30.stat.umu.se>

On 12 May 1998, Douglas Bates wrote:

> Goran Brostrom <gb at stat.umu.se> writes:
> 
> 
> > Is __sparc__ automatically defined? In sparc/fpu_control.h there
> > is a line
> > 
> > extern void __setfpucw __P ((unsigned short));
> > 
> > but __setfpucw doesn't seem to be defined somewhere. I don't 
> > understand the significance of all this, but maybe it doesn't
> > matter?
> 
> Did you use something like an NFS mount of a file system to share the
> same sources between the two machines?  If you did the configuration
> on the Linux machine and kept around a config.cache file, it may have
> used some information from the Linux machine in configuring the
> compilation for the SPARC.  I would advise trying the
> configure/compile sequence again on the SPARC but using a clean set of
> source files direct from the .tar.gz archive.

Actually, the two compiles were done completely independent of each
other, as you propose. Each machine had its own copy of the source tree.

Goran
---------------------------------------------------------
Goran Brostrom
Department of Statistics              tel: +46 90 786-5223
Umea University                       fax: +46 90 786-6614
S-90187 Umea, Sweden               e-mail: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue May 12 15:43:15 1998
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 12 May 1998 09:43:15 -0400
Subject: R-beta: C/Fortran function not in load table
References: <35573F68.A97E258@delos.lf.net>
Message-ID: <98May12.094432edt.13448@mailgate.bank-banque-canada.ca>

>> knn1(train, test, cl)
>Error in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
>: C/Fortran function not in load table

This sounds like the bug which causes .Dyn.libs to linger in .RData, causing
code not to be dyn.loaded. If you really didn't intend to save .RData then you
can rm .RData before you start R. Otherwise, once R is started, but before you
use library() do rm(.Dyn.libs).

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 12 17:36:40 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 May 1998 17:36:40 +0200
Subject: R-beta: C/Fortran function not in load table
In-Reply-To: Paul Gilbert's message of Tue, 12 May 1998 09:43:15 -0400
References: <35573F68.A97E258@delos.lf.net>
	<98May12.094432edt.13448@mailgate.bank-banque-canada.ca>
Message-ID: <x2u36vwlfb.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

> 
> >> knn1(train, test, cl)
> >Error in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
> >: C/Fortran function not in load table
> 
> This sounds like the bug which causes .Dyn.libs to linger in .RData, causing
> code not to be dyn.loaded. If you really didn't intend to save .RData then you
> can rm .RData before you start R. Otherwise, once R is started, but before you
> use library() do rm(.Dyn.libs).

That one should be fixed in 0.61.3:
> .First  
function () 
{
        if (exists(".Dyn.libs", envir = .GlobalEnv)) 
                rm(".Dyn.libs", envir = .GlobalEnv)
        if (interactive() && getenv("DISPLAY") != "") 
                x11()
}

So unless you've been creating your own .First, .Dyn.libs shouldn't
get in the way and the error must be somewhere else.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eschmid at delos.stuttgart.netsurf.de  Tue May 12 17:49:46 1998
From: eschmid at delos.stuttgart.netsurf.de (Egon Schmid)
Date: Tue, 12 May 1998 17:49:46 +0200 (MET DST)
Subject: R-beta: C/Fortran function not in load table
In-Reply-To: <x2u36vwlfb.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.NEB.3.95.980512173956.9298A-100000@delos.stuttgart.netsurf.de>

In the meantime I found it was 'version$minor < "0.62"' in
library/class/R/zzz.R and library/class/test/test.R. After chance of
"0.62" to "62.0" 'R -nosave < test.R' works as expected.

The output has a lot of spaces or lines in it. Is this normal?  

-Egon

On 12 May 1998, Peter Dalgaard BSA wrote:

> Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:
> 
> > 
> > >> knn1(train, test, cl)
> > >Error in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
> > >: C/Fortran function not in load table
> > 
> > This sounds like the bug which causes .Dyn.libs to linger in .RData, causing
> > code not to be dyn.loaded. If you really didn't intend to save .RData then you
> > can rm .RData before you start R. Otherwise, once R is started, but before you
> > use library() do rm(.Dyn.libs).
> 
> That one should be fixed in 0.61.3:
> > .First  
> function () 
> {
>         if (exists(".Dyn.libs", envir = .GlobalEnv)) 
>                 rm(".Dyn.libs", envir = .GlobalEnv)
>         if (interactive() && getenv("DISPLAY") != "") 
>                 x11()
> }
> 
> So unless you've been creating your own .First, .Dyn.libs shouldn't
> get in the way and the error must be somewhere else.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 12 19:47:54 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 May 1998 19:47:54 +0200
Subject: R-beta: R-0.61.3 with readline]
In-Reply-To: Jan Kutylowski's message of Tue, 12 May 1998 18:35:06 +0200 (MET DST)
References: <199805121635.17548.vanaheim.ifi.uio.no@ifi.uio.no>
Message-ID: <x2n2cnwfcl.fsf@blueberry.kubism.ku.dk>

Jan Kutylowski <janku at ifi.uio.no> writes:

> Hi,
> 
> Originally on Solaris I get 
> 
> 	checking for main in -lreadline... no 
> 
> and also 
> 	checking for readline/history.h... no
> 

Um, I think you said that the 1st one gave "yes" first time around???

> You kindly suggests:
> 
> <I bet the problem is that gcc cannot find the include files for
> <readline. [I think so too.] The way to fix that is
> <
> <a) figure out where readline.h is at. Let's say it's in
> </opt/gnu/readline/readline.h 
> 
> My readline.h is in 
> 
> /home/frey/b/janku/lib/sun4/readline
> 
> so I follow your suggestion
> 
> <b) modify the makefile so that while compiling system.c, gcc will look
> <in the relevant directory. That would be: modify src/unix/Makefile so
> <that the relevant lines say
> <
> <system.o:       system.c ../include/Defn.h
> <               $(CC) $(CFLAGS) -I/opt/gnu -c system.c
> <
> 
> I modify Makefile.in (before ./configure) so I have relavant line in my
> Makefile in that directory (after I say distclean and run ./configure again)
> 
> system.o:	system.c ../include/Defn.h
> 		$(CC) $(CFLAGS) -I/home/frey/b/janku/lib/sun4 -c system.c
> 
> 
> Then I say  ./configure again. I expect 'yes' attached to lreadline
> and history.h, but this is _not_ the case. If I compile, than if I recall
> correctly system.c cannot find history.h and I get an error.
> 

? Strange. I would expect ok compile, but no readline functionality at
the end.

> 
> So your suggestion is not sufficient if one starts from the scratch (two 
> 'no' at the outset). 
> 

No. Not surprising.


> After some trials and errors I modify config.site by adding following
> options to C-compiler (gnumake and gcc)
> 
> CFLAGS="-g -L/home/frey/b/janku/lib/sun4/readline -I/home/frey/b/janku/lib/sun4"
> 
> I say make distclean, ./configure again: this time I get yes to 
> the first question (lreadline), no to the second (history.h). I say
> make and get following error:
>
> ++++++++++
> .o optimize.o options.o par.o paste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o ../lib/libgraphics.a ../lib/libunix.a ../lib/libappl.a ../lib/libmath.a  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lsocket  -lnsl -ldl -lreadline -ltermcap -lm 
> ld: fatal: library -lreadline: not found
> ld: fatal: File processing errors. No output written to R.binary
> make[2]: *** [R.binary] Error 1
> make[2]: Leaving directory `/home/frey/b/janku/lib/sun4/R0613/src/main'
> make[1]: *** [build] Error 2
> make[1]: Leaving directory `/home/frey/b/janku/lib/sun4/R0613/src'
> make: *** [install] Error 2
> vanaheim: R0613>
> +++++++++++
> 
> Why this error? 

This is because the -L/home/frey/b/janku/lib/sun4/readline doesn't
appear on the linking command.

> What should I do to get both YES in the autoconfig step?

First check that you actually *have* readline/history.h...

> 
> I am not a programmer and can get some help locally in principle. 
> 
> Any suggestions?
> 
> A. Jan Kutylowski
> Buskerud College

Probably it isn't easy to persuade autoconf to do the right thing. A
better plan should be this:

Start with a clean source tree

(1)
make acclean # just so there are no config.cache or similar files
             # floating around

(2)
./configure

(3)
edit src/include/Platform.h to contain

#define HAVE_LIBREADLINE 1
#define HAVE_READLINE_HISTORY_H 1

(4)
edit src/unix/Makefile to contain

system.o:       system.c ../include/Defn.h
                $(CC) $(CFLAGS) -I/home/frey/b/janku/lib/sun4/ -c system.c

(5)
edit src/main/Makefile to contain

LIBS=-ldl  -ltermcap -lm -L/home/frey/b/janku/lib/sun4/readline -lreadline

#(not quite sure whether it must go last, and whether that might cause
trouble)

> (P.S. The list is so knowledgeable and I am so ashamed of not meeting
> the expectations of knowing how to include the readline that I take
> permission to send it to your address directly.)

Wrong. It could be useful to many people, so I'm Cc-ing this back
to R-help.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto_m_lists at hotmail.com  Tue May 12 22:47:29 1998
From: ernesto_m_lists at hotmail.com (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 12 May 1998 21:47:29 +0100
Subject: R-beta: legends and postscrip device
Message-ID: <3.0.3.32.19980512214729.009157c0@mail.telepac.pt>

1) I?m trying to add a legend to a set of 4 graphics. After I want to print
the graphics to a file.ps but the legend disapear, can you tell me why?

2) How can I had labels to a second y axes ? I'm using the par function
with new=T to overlap two graphs and after that whit axis(4) I insert the
second y axes but now I need to add labels and I didn't find out how. I
used text(x,y,c("kkkk"),srt=90) but the function srt isn't working. Can you
tell how to overcome this problem.

thanks
ernesto

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Wed May 13 02:01:37 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 13 May 1998 09:31:37 +0930
Subject: R-beta: C/Fortran function not in load table
In-Reply-To: <98May12.094432edt.13448@mailgate.bank-banque-canada.ca>
References: <35573F68.A97E258@delos.lf.net>
	<98May12.094432edt.13448@mailgate.bank-banque-canada.ca>
Message-ID: <9805130001.AA22259@attunga.stats.adelaide.edu.au>

Paul Gilbert writes:
 > >> knn1(train, test, cl)
 > >Error in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
 > >: C/Fortran function not in load table
 > 
 > This sounds like the bug which causes .Dyn.libs to linger in .RData, causing
 > code not to be dyn.loaded. If you really didn't intend to save .RData then you
 > can rm .RData before you start R. Otherwise, once R is started, but before you
 > use library() do rm(.Dyn.libs).

... or do it in .First.  Here's mine, for example:

.First <- function () {
    options(width = 65, length = 99999, editor = "emacs -nw", 
        contrasts = c("contr.treatment", "contr.poly"), 
        printcmd = "psprint -")
    if (exists(".Dyn.libs")) remove(".Dyn.libs")  # <-----------
    if (interactive() && getenv("DISPLAY") != "") x11()
}

but it really should not be necessary.  Is the flaw and its fix
now understood?

Bill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed May 13 12:04:54 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 13 May 1998 12:04:54 +0200
Subject: R-beta: par --- how to do custom axes
In-Reply-To: <199805091543.RAA05834@percol.ethz.ch> (moro@percol.ethz.ch)
Message-ID: <199805131004.MAA10333@sophie.ethz.ch>


Some of your problems should be gone
once you upgrade to  0.61.3 (instead 0.61.1).

0.61.2 und xx.3 have explicitly been  Bug-fix releases  
``that everybody should install'' (:-)   --- of course, not really)

>> 2. In a log="x" plot, labels are drawn in exp.mode: 1e-02, 1e-01,..
>>    How can I change it to 0.01, 0.1, ... ?

You can work with
	axes = FALSE
and later explicit

	axis(1, at = ..., labels= ...)
	axis(2, at = ..., labels= ...)

Here is an example ((which also exhibits a long standing bug for pch="."
		     AND a bug in 0.62 [no ticks !!]))

##--- Log-Log Plot  with  custom axes
lx <- seq(1,5, length=41)
yl <- expression(e^{-frac(1,2) * {log[10](x)}^2})
y <- exp(-.5*lx^2)
op <- par(mfrow=c(2,1), mar=par("mar")+c(0,1,0,0))

plot(10^lx, y, log="xy", type="l", col="purple",
     main="Log-Log plot", ylab=yl, xlab="x")

plot(10^lx, y, log="xy", type="o", pch='.', col="forestgreen",
     main="Log-Log plot with custom axes", ylab=yl, xlab="x",
     axes = FALSE, frame.plot = TRUE)

axis(1, at = my.at <- 10^(1:5), labels = formatC(my.at))
at.y <- 10^(-5:-1)
axis(2, at = at.y, labels = formatC(at.y))
par(op)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From palme at uni-wuppertal.de  Wed May 13 12:30:23 1998
From: palme at uni-wuppertal.de (Hubert Palme)
Date: Wed, 13 May 1998 12:30:23 +0200 (MDT)
Subject: R-beta: package ported from S to R
Message-ID: <199805131030.MAA20912@wrin27.urz.uni-wuppertal.de>

Hello,

I'm trying to port the S package "print.display" to R. The porting
procedure seemed to work, but when I say library(print.display) or
library("print.display"), then none of the functions is available. May 
be, it's because of the dot in the package name?

What could have happened?

The help information is available.

BTW: How can I look up wether the package is really loaded? 

Thanks,

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme at uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed May 13 12:50:48 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 13 May 1998 12:50:48 +0200
Subject: R-beta: package ported from S to R
In-Reply-To: <199805131030.MAA20912@wrin27.urz.uni-wuppertal.de>
	(palme@uni-wuppertal.de)
Message-ID: <199805131050.MAA10416@sophie.ethz.ch>

>>>>> "Hubert" == Hubert Palme <palme at uni-wuppertal.de> writes:

    Hubert> Hello, I'm trying to port the S package "print.display" to
    Hubert> R. The porting procedure seemed to work, but when I say
    Hubert> library(print.display) or library("print.display"), then none
    Hubert> of the functions is available. May be, it's because of the dot
    Hubert> in the package name?

Not really; I do have package with a "." which works..

    Hubert> What could have happened?
no idea.
You should send a real "log" of what you did (and the output)
-- but NOT to R-help, but rather to R-devel.

    Hubert> The help information is available.

    Hubert> BTW: How can I look up wether the package is really loaded?

search()

should show you (in your case)

[1] ".GlobalEnv"   "package:print.display"  "Autoloads"    "package:base"
		    ---------------------
and 
	ls(pos=2)

would show your objects
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed May 13 12:56:07 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 13 May 1998 12:56:07 +0200 (CEST)
Subject: R-beta: package ported from S to R
In-Reply-To: <199805131030.MAA20912@wrin27.urz.uni-wuppertal.de>
References: <199805131030.MAA20912@wrin27.urz.uni-wuppertal.de>
Message-ID: <13657.31815.468838.654877@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 13 May 1998 12:30:23 +0200 (MDT),
>>>>> Hubert Palme (HP) wrote:

HP> Hello,
HP> I'm trying to port the S package "print.display" to R. The porting
HP> procedure seemed to work, but when I say library(print.display) or
HP> library("print.display"), then none of the functions is available. May 
HP> be, it's because of the dot in the package name?

Just tried a sample package with a dot in the filename and it worked
fine.

HP> What could have happened?

How and where did you install the package? Using the R INSTALL
mechanism or by hand? Is it in the library search path .lib.loc?


HP> BTW: How can I look up wether the package is really loaded? 

search() shows an entry like "package:base" for every loaded package.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From palme at uni-wuppertal.de  Wed May 13 15:02:26 1998
From: palme at uni-wuppertal.de (Hubert Palme)
Date: Wed, 13 May 1998 15:02:26 +0200 (MDT)
Subject: R-beta: package ported from S to R
In-Reply-To: <199805131050.MAA10416@sophie.ethz.ch>
References: <199805131030.MAA20912@wrin27.urz.uni-wuppertal.de>
	<199805131050.MAA10416@sophie.ethz.ch>
Message-ID: <199805131302.PAA21564@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > >>>>> "Hubert" == Hubert Palme <palme at uni-wuppertal.de> writes:
 > 
 >     Hubert> Hello, I'm trying to port the S package "print.display" to
 >     Hubert> R. The porting procedure seemed to work, but when I say
 >     Hubert> library(print.display) or library("print.display"), then none
 >     Hubert> of the functions is available. May be, it's because of the dot
 >     Hubert> in the package name?
 > 
 > Not really; I do have package with a "." which works..
 > 
 >     Hubert> What could have happened?
 > no idea.
 > You should send a real "log" of what you did (and the output)
 > -- but NOT to R-help, but rather to R-devel.

OK, This one I send to both, the next one only to r-devel.

 > 
 >     Hubert> The help information is available.
 > 
 >     Hubert> BTW: How can I look up wether the package is really loaded?
 > 
 > search()
 > 
 > should show you (in your case)
 > 
 > [1] ".GlobalEnv"   "package:print.display"  "Autoloads"    "package:base"
 > 		    ---------------------
 > and 
 > 	ls(pos=2)
 > 
 > would show your objects

It is strange: I jist restarted R to try out search(), but now
print.display loads! Don't know what happened... But the next step I
wanted to try was to install the package without dot. So I won't --
Thanks for this hint.

Friedrich Leisch: 
 > 
 > How and where did you install the package? Using the R INSTALL
 > mechanism or by hand? Is it in the library search path .lib.loc?

Yes and yes.

OK, hopefully it stayes loading correctly now, so I'll try to debug
it. There is an unknown function "unix". Is "system" the R
replacement? If yes: There is no "input" parameter. How can I redirect
input with "system"?

Is there also a replacement for "!" ?

Thanks a lot!

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme at uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Wed May 13 18:10:24 1998
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Wed, 13 May 1998 18:10:24 +0200 (CEST)
Subject: R-beta: package ported from S to R
Message-ID: <Pine.LNX.3.96.980513180949.3294B-100000@alpha.fuzzy.at>

On Wed, 13 May 1998, Hubert Palme wrote:

> 
> ... 
> it. There is an unknown function "unix". Is "system" the R
> replacement? If yes: There is no "input" parameter. How can I redirect
> input with "system"?

This function emulates unix() with system(): 

unix <- function (command, input, output.to.S = T) 
{
        if (!missing(input)) {
                file <- tempfile("unix")
                on.exit(unlink(file))
                cat(input, file = file, sep = "\n")
                command <- paste("<", file, command)
        }
        system(command, output.to.S)
}

Albrecht

------------------------------------------------------------------------------
Albrecht Gebhardt          email: albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik   Tel. : (++43 463) 2700/837
Universitaet Klagenfurt    Fax  : (++43 463) 2700/834
Villacher Str. 161         WWW  : http://www-stat.uni-klu.ac.at/~agebhard
A-9020 Klagenfurt, Austria
------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Thu May 14 11:23:55 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 14 May 1998 11:23:55 +0200 (MET DST)
Subject: R-beta: ctrl-c
Message-ID: <9805140923.AA14123@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 668 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980514/af07cf17/attachment.pl

From p.dalgaard at biostat.ku.dk  Thu May 14 12:13:23 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 May 1998 12:13:23 +0200
Subject: R-beta: ctrl-c
In-Reply-To: Jim Lindsey's message of Thu, 14 May 1998 11:23:55 +0200 (MET DST)
References: <9805140923.AA14123@alpha.luc.ac.be>
Message-ID: <x2vhr9f9do.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> 
> There is something I do not understand about ctrl-c not working in R
> 0.61.x with Red Hat 5. I use GLIM compiled with f2c and ctrl-c does
> work as it should.  This seems to imply that there is a problem with
> the way that it is implemented in R or at least that it could be
> implemented to work in R with Red Hat 5.
>   Jim

Yes. I think that we have now "found the enemy and it is us." R
returns from signal handlers using longjmp() which is asking for
trouble because it may leave signals blocked. So things may have
changed in glibc() but it is "legal" for it to do so. How to fix the
problem correctly is another matter, but according to Luke Tierney
there's a workaround by explicitly setting the signal mask on return
from the signal handler. Here's the relevant excerpt of his note:


``There seem to be two possible solutions. The quick-and-dirty one is to
add the following after the

        signal(SIGINT, onintr);

calls in main.c:

  {
    sigset_t set;
    sigemptyset(&set);
    sigaddset(&set, SIGINT);
    sigprocmask(SIG_UNBLOCK, &set, NULL);
  }

This unblocks the signal again. This should probably be wrapped in...''

We didn't get this cleared up for 0.61.3 (it may work on some systems
only etc., etc.), but I certainly hope that we get it done in 0.62
(due out June 14). Meanwhile, you could try to patch the sources in
the indicated manner.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Thu May 14 12:45:02 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 14 May 1998 12:45:02 +0200 (MET DST)
Subject: R-beta: ctrl-c
In-Reply-To: <x2vhr9f9do.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at May 14, 98 12:13:23 pm
Message-ID: <9805141045.AA29238@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 408 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980514/19bce3c5/attachment.pl

From thor.thoresen at hlk.hj.se  Thu May 14 12:50:59 1998
From: thor.thoresen at hlk.hj.se (Thor Thoresen)
Date: Thu, 14 May 1998 12:50:59 +0200
Subject: R-beta: How do I dyn.load in R for Windows95?
Message-ID: <355ACC92.6110F92E@hj.se>

I am currently running R under Windows95.

I am entirely new to R in any environment, with no prior experience of S
or S-Plus
either.
I want to run some functions written for S-plus and residing in a file
"cat.s". The
fuctions also call some Fortran routines residing in a compiled fortran
file "cat.obj"

In S-Plus as I understand it I am supposed to first

dyn.load("cat.obj")

then

source("cat.s")

in order to run the added functions.

When I am trying this in R it seems that the R dyn.load expects a
directory name
(according to the html help-page) whereas S-Plus expects a file name.
A dyn.load("cat.obj") referencing the file name produces this error
message:

Error in dyn.load(x) : unable to load shared library
"C:\Program\r.gnw\library\cat\cat.obj"

However if I instead make a reference to the directory were my
Fortran file resides R still comes up with an error message:

dyn.load("cat")

Error in dyn.load(x) : unable to load shared library
"C:\Program\r.gnw\library\cat"

I have tried to "invoke" R  from different directories (by providing
different initial directories in the Windows95 program information file)
so it will have no reason to miss the Fortran object file. I have also
tried different suffixes to the Fortran
file such as .o and .for. I suppose I also have to rename the "cat.s"
file to "cat.R"

I have searched the Notes on R, the FAQ and naturally the html help
files but cannot find any clues.

(by the way, I have not managed to dyn.load the file (zero.c) residing
in the directory "\demos\dynload\" either)

Could anyone please come up with a solution.

Thanks very much

Thor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu May 14 15:42:18 1998
From: guido at sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Thu, 14 May 1998 14:42:18 +0100 (GMT+0100)
Subject: R-beta: How do I dyn.load in R for Windows95?
In-Reply-To: <355ACC92.6110F92E@hj.se> from "Thor Thoresen" at May 14, 98 12:50:59 pm
Message-ID: <19980514134218.5141.qmail@sirio.stat.unipd.it>

Thor Thoresen writes:
> 
> I am currently running R under Windows95.
> dyn.load("cat.obj")
> 
> then
> 
> source("cat.s")
> 
> in order to run the added functions.
> 
> Error in dyn.load(x) : unable to load shared library
> "C:\Program\r.gnw\library\cat\cat.obj"
> 
> However if I instead make a reference to the directory were my
> Fortran file resides R still comes up with an error message:
> 
> dyn.load("cat")
> 
> Error in dyn.load(x) : unable to load shared library
> "C:\Program\r.gnw\library\cat"
> 
> I have tried to "invoke" R  from different directories (by providing
> different initial directories in the Windows95 program information file)
> so it will have no reason to miss the Fortran object file. I have also
> tried different suffixes to the Fortran
> file such as .o and .for. I suppose I also have to rename the "cat.s"
> file to "cat.R"
  You have to build a dll (dynamic link library). It is not a problem
  of suffixes. If you get the above message the file is found.
  But its format is not the one expected.
  You should be able to build a dll with the compiler that you use
  to make the cat.obj file. This dll must be self contained (see below).
> (by the way, I have not managed to dyn.load the file (zero.c) residing
> in the directory "\demos\dynload\" either)
  This opens another question. With the actual pre-compiled  distribution
  of R for Win95 (both of them) is impossible to have a dll calling
  a routine in main executable. I hope to make available a version
  of R with this capability soon (next few days). But, in this period,
  i.e., always, time is diffucult to find.
  guido masarotto
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu May 14 15:11:16 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 14 May 1998 13:11:16 +0000
Subject: R-beta: Legends and Postscript devices
Message-ID: <355AED74.3E4BA789@ozemail.com.au>

Ernesto,

1) I generally preview the graphics on the x11() display, and then print
to a file using the 'postscript' output device.  Using the following
procedure has never failed for me.

>plot(x,y,...)
>legend(...)
>postscript("Rplots.ps",paper="a4",width=6,height=5,
+ family="Times")
>plot(x,y,...)
>legend(...)
>dev.off
>system("lpr Rplots.ps")

(In fact, I usually encapsulate the whole affair in a specially written
plotting routine which allows me to choose whether or not to produce
hard copy with a keystroke.)  You can, of course, call the output file
anything you please.  Trying to use '/dev/lp1' (or whatever your
Postscript device file is) is usually not a good idea.  When I have
messed up a legend on hard copy, it has usually been because of improper
x/y placement.

2) The problem brought up by F. Moro (9/5/98) may be relevant to your
second request.  If you just want an axis label, the following will
produce one.

> par(mar=c(5,5,5,5))
> plot(...)
> axis(...)
> mtext("y2",side=4,line=3)

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laffont at phibred.com  Fri May 15 13:48:47 1998
From: Laffont at phibred.com (Laffont, Jean-Louis)
Date: Fri, 15 May 1998 06:48:47 -0500
Subject: R-beta: windows()
Message-ID: <A3BDAF28E3E8D111AB300008C7242C3607C577@AUSSONNE>

Good morning/afternoon,

I am new in R and I have the following problem:
I am using Win95 version (from Rsept.zip); typing the command:
> windows()
closes the already opened graphic window.
After that, I am not able to open any new graphic window using this
command.
Is there something I am missing?
Thanks,

Jean-Louis Laffont
Pioneer Semences
Aussonne - France
E-mail: laffont at phibred.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Fri May 15 03:22:31 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Fri, 15 May 1998 13:22:31 +1200 (NZST)
Subject: R-beta: How do I dyn.load in R for Windows95?
Message-ID: <199805161121.NAA00419@florence.ethz.ch>


In the current R for Windows it is possible to build a dll that calls
routines in the main executable. You need to build the dll with Watcom
Version 10 (not 11; 11 seems to have a horrendous number of bugs in the
dll compiler). Watcom is the only development environment that seems to
allow unspecified references in the dll that will be resolved at run-time.

In the very near future a new version of R for Windows (different from
Guido's) should be available with more of the R internals explicitly exported.
There seems to be no way to export all of them and there seems to be an
overhead in exporting functions so we probably only will export a selection
of them. Those needed for the libraries that we currently have will be included.

There are lots of changes to the c functions in R/src/windows made over
the last few days. These bring the graphics in to line and provide a 
fairly different user interface. I'm hoping to have RMay out.....

robert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cocteau at research.bell-labs.com  Tue May 19 00:40:49 1998
From: cocteau at research.bell-labs.com (Mark)
Date: Mon, 18 May 1998 18:40:49 -0400
Subject: R-beta: Statistical Science and the Internet
Message-ID: <199805182241.AAA21293@hypatia.math.ethz.ch>



   Statistical Science and the Internet

      A mini-conference to explore the impact of emerging Internet 
      technologies on the field of statistics. 

   July 12-14, 1998
   Drew University
   Madison, New Jersey

   Organizer: Mark Hansen, Bell Laboratories

        --------------- Call for Participants ---------------

Over the past few years, the Internet has changed the way we announce our
research results, primarily by making it easier for us to exchange drafts of 
papers destined for journal publication. With the introduction of new computing
languages like Java, however, we are presented with incredible new 
possibilities for sharing statistical ideas. 

The purpose of this mini-conference is to explore the ability of emerging 
Internet technologies to support and possibly shape statistical research
and usage. Sessions will cover:

* Tools for distributed computing (CORBA, PVM, RMI) 

     Communication of statistical methods, or perhaps more fundamentally
     statistical data, is at the heart of current approaches to distributed 
     computing.  Deciding on an architecture is crucial for sharing statistical 
     methods both conveniently and efficiently. 

* Client-server experiments in statistical computation and visualization 

     A number of vendors have begun developing Web-based interfaces to their
     existing computing platforms, including XploRe and S-PLUS. These
     experiments have opened up new and interesting directions in distributing
     statistical methodology. Related projects like GASP, the Globally 
     Accessible Statistical Procedures Initiative will also be discussed. 

* Statistical applications of Java and VRML 

     Several packages for computing and visualization have appeared that are
     entirely written in Java. Examples include the Graphics Production 
     Library, WebStat, and a commercial venture Statlets. The creators of each 
     platform will discuss the issues involved in designing and implementing 
     these specialized clients. 

* Statistical multiuser environments 


The goal of this mini-conference is to bring together tool users, tool 
developers and system architects, with a focus on sharing statistical
ideas (graphics, computations, documentation, etc.) in a networked 
environment like the Internet. Through our discussions, we hope to 
integrate existing systems, allowing the user to focus 
statistical ideas rather than surrounding software environments.

We can only accommodate 35 participants. This mini-conference
is an opportunity to share ideas, and all participants are expected
to be active in discussions and presentations of new ideas.
If you are interested in joining us, please send email
to cocteau at bell-labs.com.

        --------------- Registration Information ---------------

The conference will take place at Drew University in Madison, New Jersey.
A registration fee will cover the cost of food and lodging for 2 1/2 days.
The mini-conference is being held in conjunction with an workshop on
``Data Visualization in Statistics'' organized by AT&T Labs. For more
mini-conference details, see cm.bell-labs.com/who/cocteau/comsci.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedrovl at yahoo.com  Thu May 21 15:32:02 1998
From: pedrovl at yahoo.com (Pedro Lima)
Date: Thu, 21 May 1998 06:32:02 -0700 (PDT)
Subject: R-beta: Problem instaling e1071
Message-ID: <19980521133202.16893.rocketmail@send1e.yahoomail.com>

I was trying to install e1071 and the compilation failed. Can some of
you R gurus help me with this...

thanks

pedro

----

Installing package `e1071' ...
libs
gcc -g -fpic -I/usr/local/R/include   -c pgm.c -o pgm.o
pgm.c:19: pgm.h: No such file or directory
make: *** [pgm.o] Error 1
cp: src-c/*.so: No such file or directory
R
DONE                 



-----
Pedro Vale Lima
Dep. Chemical Eng.
Coimbra University
_________________________________________________________
DO YOU YAHOO!?
Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Thu May 21 21:24:54 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Thu, 21 May 1998 14:24:54 -0500 (CDT)
Subject: R-beta: plot annotation
Message-ID: <Pine.OSF.3.95.980521141920.8818A-100000@io.uwinnipeg.ca>

I have a bunch of curves on a plot and I would like to label each curve.
Currently, if I place the text right on the curve it is hard to read
because the text and the curve overlap.  I would like to make a label
on an opaque white box just slightly larger than the label, and this sits
on top of the curve. (This is easy to do in drawing programs on the Mac)

If I have the label ||
and the line ----------------
I want the result to look like
----||-----
not like
----H------

Is there any way to do this in R?

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu May 21 22:19:02 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 May 1998 13:19:02 -0700 (PDT)
Subject: R-beta: plot annotation
In-Reply-To: <Pine.OSF.3.95.980521141920.8818A-100000@io.uwinnipeg.ca>
Message-ID: <Pine.SOL.3.95.980521131405.923A-100000@gorn>

On Thu, 21 May 1998, Bill Simpson wrote:

> I have a bunch of curves on a plot and I would like to label each curve.
> Currently, if I place the text right on the curve it is hard to read
> because the text and the curve overlap.  I would like to make a label
> on an opaque white box just slightly larger than the label, and this sits
> on top of the curve. (This is easy to do in drawing programs on the Mac)
> 
> If I have the label ||
> and the line ----------------
> I want the result to look like
> ----||-----
> not like
> ----H------
> 

I would have expected legend() to be able to do this, but it can't -- if
a box is not drawn the background is not shaded.  However you can do it
manually:

Suppose s<-"||" is your text, and lx,ly are the coordinates where you want
it.

hh<-strheight(s)/2
ww<-strwidth(s)/2
rect(lx-ww,ly-hh,lx+ww,ly+hh,border=par("bg"),col=par("bg"))
text(lx,ly,labels=s)

This draws a rectangle big enough for the text in the current background
color and then writes the text.  You can adjust how much space there is
by changing the 2 to something smaller


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Fri May 22 07:18:58 1998
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 22 May 1998 17:18:58 +1200
Subject: R-beta: Contour package
In-Reply-To: <35559E5D.29C8D1F4@onaustralia.com.au>
Message-ID: <3.0.3.32.19980522171858.00b76220@pop.stats.waikato.ac.nz>

Maybe I'm going crazy!

I seem to remember downloading a wonderful package for doing colour contour
plotting in R. (Well, at least the output from the demo looked most
impressive on my laptop!)

Now I can't find anything like it on my hard drive.

Anyway, if anyone knows what I may be thinking of, please help me. I'd also
like to know where I might find some example of R code for plotting various
sufraces in R.

Murray Jorgensen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri May 22 09:02:27 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 22 May 1998 09:02:27 +0200 (CEST)
Subject: R-beta: Problem instaling e1071
In-Reply-To: <19980521133202.16893.rocketmail@send1e.yahoomail.com>
References: <19980521133202.16893.rocketmail@send1e.yahoomail.com>
Message-ID: <13669.8963.138510.148513@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 21 May 1998 06:32:02 -0700 (PDT),
>>>>> Pedro Lima (PL) wrote:

PL> I was trying to install e1071 and the compilation failed. Can some of
PL> you R gurus help me with this...

PL> thanks

PL> pedro

PL> ----

PL> Installing package `e1071' ...
PL> libs
PL> gcc -g -fpic -I/usr/local/R/include   -c pgm.c -o pgm.o
PL> pgm.c:19: pgm.h: No such file or directory
PL> make: *** [pgm.o] Error 1
PL> cp: src-c/*.so: No such file or directory
PL> R
PL> DONE                 

As indicated in the README file of e1071 you need libpgm and libpbm to
compile the image loading functions. pgm.h is an associated header
file. For Debian Linux these are contained in the netpbm and
netpbm-dev packages, I don't know about other OSs.


Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri May 22 09:57:14 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 22 May 1998 09:57:14 +0200
Subject: R-beta: Contour package
In-Reply-To: <3.0.3.32.19980522171858.00b76220@pop.stats.waikato.ac.nz>
	(message from Murray Jorgensen on Fri, 22 May 1998 17:18:58 +1200)
Message-ID: <199805220757.JAA00534@sophie.ethz.ch>

>>>>> "Murray" == Murray Jorgensen <maj at waikato.ac.nz> writes:

    Murray> Maybe I'm going crazy!  I seem to remember downloading a
    Murray> wonderful package for doing colour contour plotting in
    Murray> R. (Well, at least the output from the demo looked most
    Murray> impressive on my laptop!)

    Murray> Now I can't find anything like it on my hard drive.

There is

	image(.)		[with the nice demo(.) plots]
and	contour(.)

You can superimpose them which could be what you'd really  like.

Look at  ?image  ?contour  and   <RHOME>/demos/graphics/images

    Murray> Anyway, if anyone knows what I may be thinking of, please help
    Murray> me. I'd also like to know where I might find some example of R
    Murray> code for plotting various sufraces in R.

There's still no "persp" (perspective plots), even though Ross once told
about a ``prototype'' hidden somewhere in his private code.

Something to post to <CRAN>/src/contrib/devel/ ??
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri May 22 11:05:46 1998
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 22 May 1998 09:05:46 -0000 ()
Subject: R-beta: CODA package for R
Message-ID: <XFMail.980522094346.plummer@iarc.fr>

I have just uploaded the R port of the CODA (Convergence Diagnostics
and Output Analysis) package to CRAN.  This is a suite of functions
for analyzing the output of Markov Chain Monte Carlo simulations and
diagnosing lack of convergence of the simulated output.  It is designed
to work with (but is not necessarily limited to) the BUGS program:
http://www.mrc-bsu.cam.ac.uk/bugs/ 

I have made substantial changes to the original S code, not just to make
the package run under R but to put the code on a more sound basis. The
R version also includes a license change to GPL.

I have tried to maintain the functionality of the original, while at the
same time allowing experienced R users to free themselves from the menu
driven interface.  The graphics are a bit rough, but apart from that it
works well in testing here. More testing and feedback from others is,
of course, welcome.

Since the R version is very different you should refer to the online
help rather than the existing CODA manual.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri May 22 14:32:05 1998
From: guido at sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Fri, 22 May 1998 13:32:05 +0100 (GMT+0100)
Subject: R-beta: R-0.61.3 for Win95/NT available
Message-ID: <19980522123205.10247.qmail@sirio.stat.unipd.it>

I have just put on ftp://sirio.stat.unipd.it/pub/R a new version 
of R for Win95/NT.
The main difference concerns dynamic linking (see below).
In addition, the binary distribution contains many of the 
available packages (all the ones that I have installed on
my Unix machine).
In the afternoon, I will upload the files on CRAN.
g.m.

This is the README file:
rw0613b.zip is  a new binary distribution of R (based on the last "stable"
version, 0.61.3) for Win95 and WinNT. It is compiled using  egcs-minw32.
rw0613s.zip contains the MsWindows sources.

News
(a) Now, a dll can call a routine in the main executable. This
    means that call_S, R_alloc,... work. Try, for example,
    demo(dyn.load).
    All R.exe (non static) functions and all global variables
    are exported.
    In this way, more packages can be ported and furthermore
    the size of the dll cuts down.
(b) I fixed a nasty bug which made impossible to set the
    memory size. Now, R -v VVVV -n NNNN works.
(c) There is a new command line switch -home aDir which
    sets for the current run the HOME directory.
    Workspace and user RProfile file are  searched in HOME.
    In addition, now tempfile() try to use the environmental variables 
    TMP, TEMP and HOME (in this order).
(d) The following packages are included in the binary distribution:
      acepack    ace() and avas() for selecting regression transformations 
      base       The R base package 
      bootstrap  Functions for the Book "An Introduction to the Bootstrap" 
      class      Functions for classification 
      ctest      Classical Tests 
      eda        Exploratory Data Analysis 
      gee        Generalized Estimating Equation models  
      integrate  numerical integration 
      leaps      Regression subset selection 
      locfit     Local Regression, Likelihood and Density Estimtion. 
      mva        Classical Multivariate Analysis 
      polymars   (polychotomous) regression based on  
                 Multivariate Adaptive Regression Splines 
      polynom    A collection of functions to implement a class for  
		 univariate polynomial manipulations 
      spatial    functions for kriging and point pattern analysis 
      splines    Regression Spline Functions and Classes 
      stepfun    Step Functions, including Empirical Distributions 
      survival4  Survival analysis [needs library(splines)] 

    Of course, I cannot test all the functions. So, don't flame me
    if something doesn't work.
    

Installation (binary distribution)
Just unzip the archive. You will get a new directory (rw0613).
The executable is bin/R.exe.

Installation (sources)
First of all, you have to download and untar the complete sources.
Then, in the directory R-0.61.3, unzip rw0613s.zip.
To rebuild the system using egcs-mingw32 go to the src/gnuwin32
directory and type 
> make
This will build the main executable (in R-0.61.3/bin) and
the standard packages: base, eda, mva, stepfun.

Installing other packages
Uncompress the package you want in R-0.61.3/src/library.
Then, from the gnuwin32 directory, 
> make -f MakePkg -C ../library/xxx PKG=xxx [HAVEG77=NO] [DLLNAME=yyy]
will try to build the package xxx.
The HAVEG77=NO options must be used if:
(a) you don't have or don't want to use g77;
or
(b) the package has a src-c directory but not a src one.
The option DLLNAME=yyy must be used if the package requires a
dll with a name different from xxx.dll. For example, the dll
of integrate is adapt.dll.
If you don't need the two flags, you can use the short command
> make pkg-xxx
Compiler flags must be setted in MakeDll. Look to this file
for some example.


Help files
There are no support for generating the help files.
You have to download the pre-formatted one by any CRAN site or
to build them yourself on a Unix machine.

Tools
To rebuild the system and to install other packages, you need
not only a compiler but also some Gnu tools. The ones that I used,
coming from DJGPP, are  in djtools.zip.
You must uncompress this file from C:. It will expand
under usr/bin and usr/home.
To use the tools usr/bin must be in the PATH.
In djtools.zip, a version of bash is included.
I am not sure that you need it but I did all my work 
using it. To use bash, the environmental variable HOME
should point to /usr/home. You have to start bash, in a console
or a MsDos windows, with
> bash -login
If you install djtools.zip, please use the make in usr/bin not
the one of your compiler.


guido masarotto (22/05/1998)
guido at sirio.stat.unipd.it
http://sirio.stat.unipd.it




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri May 22 22:19:43 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 23 May 1998 08:19:43 +1200 (NZST)
Subject: R-beta: Contour package
Message-ID: <199805222019.IAA05049@stat1.stat.auckland.ac.nz>

	From: Martin Maechler <maechler at stat.math.ethz.ch>
	Subject: Re: R-beta: Contour package

	There's still no "persp" (perspective plots), even though Ross
	once told about a ``prototype'' hidden somewhere in his private code.

Interesting coincidence...  Yesterday I pulled out some very old pascal
code I wrote to do perspective plots of surfaces.  I hope to have a
basic implementation by early next week.  Initially it probably won't
have axes or coloring, but those should come quickly.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Sun May 24 11:17:59 1998
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Sun, 24 May 1998 11:17:59 +0200 (CEST)
Subject: R-beta: problem with graphics parameter "fin"
Message-ID: <Pine.LNX.3.96.980524105528.1457A-100000@alpha.fuzzy.at>


Hi,

I have the following problem (with R 0.61.3 an Linux, and a new and empty
workspace) 

> oldpar<-par()
> par(oldpar)
Error: attempt to set invalid value for graphics parameter "fin".
> oldpar$fin
[1] 6.992034 6.990803

but now:

> oldpar$fin <- c(6.99,6.99)
> par(oldpar)

it works.

It seems, that if I set oldpar$fin to values greater than listed above
(6.9920...) it stops to work:

> oldpar$fin <- c(7,7)
> par(oldpar)
Error: attempt to set invalid value for graphics parameter "fin".

and again

> oldpar$fin <- c(6.992034,6.990803)
> par(oldpar)
Error: attempt to set invalid value for graphics parameter "fin".

What does the par() values depend on? the X Server? 
It happens both on an 8bit and 24bit XFree display. 

It occurs also with no active x11() device (postscript() instead).

What's the matter? I tried the same on the DEC Alpha (but with R 0.61.1
!!) and it didn't happen. 

Sorry, but I have no more R 0.61.1 available on Linux, so I could not 
check it with an earlier version.



Albrecht


PS:
It does not appear with the R snapshot (from May 16).

------------------------------------------------------------------------------
Albrecht Gebhardt          email: albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik   Tel. : (++43 463) 2700/837
Universitaet Klagenfurt    Fax  : (++43 463) 2700/834
Villacher Str. 161         WWW  : http://www-stat.uni-klu.ac.at/~agebhard
A-9020 Klagenfurt, Austria
------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun May 24 21:58:42 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 24 May 1998 12:58:42 -0700 (PDT)
Subject: R-beta: problem with graphics parameter "fin"
In-Reply-To: <Pine.LNX.3.96.980524105528.1457A-100000@alpha.fuzzy.at>
Message-ID: <Pine.LNX.3.96.980524125212.16979C-100000@buffy>

On Sun, 24 May 1998, Albrecht Gebhardt wrote:
> 
> I have the following problem (with R 0.61.3 an Linux, and a new and empty
> workspace) 
> 
> > oldpar<-par()
> > par(oldpar)
> Error: attempt to set invalid value for graphics parameter "fin".
> > oldpar$fin
> [1] 6.992034 6.990803
> 
> but now:
> 
> > oldpar$fin <- c(6.99,6.99)
> > par(oldpar)
> 
> it works.
> 
> It seems, that if I set oldpar$fin to values greater than listed above
> (6.9920...) it stops to work:
> 
> > oldpar$fin <- c(7,7)
> > par(oldpar)
> Error: attempt to set invalid value for graphics parameter "fin".
> 
> and again
> 
> > oldpar$fin <- c(6.992034,6.990803)
> > par(oldpar)
> Error: attempt to set invalid value for graphics parameter "fin".
> 
> What does the par() values depend on? the X Server? 
> It happens both on an 8bit and 24bit XFree display. 
> 

I don't have this problem (Red Hat Linux, R0.61.1) unless I deliberately
set par$fin greater than its default value. It may depend on the screen
resolution. 

par$fin is the size of the plotting region in inches.  It must be less
that the size given when you open the x11() window.  If you look at
help(x11) it gives width and height arguments that default to 7inches. You
can't set the plotting region bigger than this, which explains why par$fin
has to be less than 7.


Thomas Lumley


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agebhard at zidsrv.sci.uni-klu.ac.at  Tue May 26 08:40:34 1998
From: agebhard at zidsrv.sci.uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 26 May 1998 08:40:34 +0200 (MET DST)
Subject: R-beta: problem with graphics parameter "fin"
In-Reply-To: <Pine.LNX.3.96.980524125212.16979C-100000@buffy>
Message-ID: <Pine.OSF.3.93.980526083514.3582A-100000@alpha2-stat.sci.uni-klu.ac.at>



On Sun, 24 May 1998, Thomas Lumley wrote:

> On Sun, 24 May 1998, Albrecht Gebhardt wrote:
> > 
> > I have the following problem (with R 0.61.3 an Linux, and a new and empty
> > workspace) 
> > 
> > > oldpar<-par()
> > > par(oldpar)
> > Error: attempt to set invalid value for graphics parameter "fin".
> > > oldpar$fin
> > [1] 6.992034 6.990803
> > ...... 
> 
> I don't have this problem (Red Hat Linux, R0.61.1) unless I deliberately
> set par$fin greater than its default value. It may depend on the screen
> resolution. 
> 
> par$fin is the size of the plotting region in inches.  It must be less
> that the size given when you open the x11() window.  If you look at
> help(x11) it gives width and height arguments that default to 7inches. You
> can't set the plotting region bigger than this, which explains why par$fin
> has to be less than 7.

The problem is that R itself sets par$fin to a value greater than the
allowed one, maybe an internal rounding error?

Now I' have trouble with many graphics functions, which store the original
par() values, do something, and attempt to restore the original settings
afterwards from the saved ones.

Albrecht


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggl at onaustralia.com.au  Tue May 26 14:42:33 1998
From: ggl at onaustralia.com.au (Jim Lemon)
Date: Tue, 26 May 1998 12:42:33 +0000
Subject: R-beta: Problem with graphics parameter 'fin'
References: <356AB421.78249ABB@onaustralia.com.au>
Message-ID: <356AB8B9.51CE2482@onaustralia.com.au>

Albrecht,

I tried this:

>oldfin<-par("fin")
>oldfin
 [1] 6.990803 6.997416
>par(fin=oldfin)

on my system (Linux and R-0.61.2) and received no error message, as also
reported by Thomas Lumley.  I then tried to create the error,
successfully, by:

>oldfin<-c(7,7)
>par(fin=oldfin)
Error: attempt to set invalid value for graphics parameter "fin".

Thinking that I might be able to finesse the problem by altering the
.First function to set x11() slightly larger, which can then accept the
new, larger value, I found that 'par' played catch-up:

> dev.off()
> x11(width=7.1,height=7.1)
> par("fin")
[1] 7.097533 7.090715

However, you may get around it by including a

par(fin=c(6.95,6.95))

assignment in .First after the call to x11(), which might allow you to
read and reset 'fin' without problems.  Unfortunately, I can't test it
conclusively, as I don't get the error.

Your conjecture about the rounding error is probably correct, as when I
incremented the value of 'oldfin' by one in the 6th decimal place, I got
the error.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Wed May 27 15:18:23 1998
From: acosa at ubu.es (Alvaro Colina)
Date: Wed, 27 May 1998 13:18:23 +0000
Subject: R-beta: Problems with postscript
Message-ID: <356C129E.FC0140@cid.cid.ubu.es>

I've got a lot of problems saving plots using postscript(file="xx.ps")
The quality  is not too good when I print it.
Is there any way to save good quality plots in a file?
Is there, perhaps, another function?
I have tied save.plot(), postscript(), ...

Thank you very much






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed May 27 16:06:44 1998
From: guido at sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Wed, 27 May 1998 15:06:44 +0100 (GMT+0100)
Subject: R-beta: R-0.61.3 for MsWindows3.1+Win32s available
Message-ID: <19980527140645.522.qmail@sirio.stat.unipd.it>

I have just uploaded to CRAN a binary distribution of R for 
Windows3.1 + Win32s. 
You can also find it at ftp://sirio.stat.unipd.it/pub/R
guido m.

---------------------------readme.31----------------------------------------
rwin31b.zip contains a binary distribution of R-0.61.3 for MsWindows3.1
with Win32s installed. The executable and the dll's are compiled
with egcs-mingw32.
This distribution is equal to the one for Win95/NT (rw0613b.zip).
In particular, it contais the same packages (see README.95).
I simple modified one  line of the source which is never
executed under Win95/NT but which raises an error under Win31 
and converted (using the included Unix shell script win31.sh)
the names of the files to the MsDos 8.3 format. I hope to
have converted also the links in the html files.
Installation is easy: just unzip rwin31b.zip somewhere and
you will get a new directory (rw0613); the executable is
rw0613\bin\r.exe.

Notes:
(1) You need a recent version of Win32s. How much recent I don't know. 
    But r.exe doesn't work with version 1.30.142.0 and it works with 
    1.30.172.0. If you have a too old version of Win32s installed
    you will get get some message of the type "symbol xxxx not found
    in crtdll.dll". The Win32s version can be found in the file
    windows\system\win32s.ini.
    
(2) To load a package, you should use only the first 8 characters
    of the name, i.e., use
    > library(survival)
    not
    > library(survival4)
    
(3) The system() command doesn't work. I have no time now to understand 
    why so I put a dummy definition in library/Rprofile.

-----------------------------------------------------------------------------
Remember that this distribution is experimental. So, use it at your 
own risk. This distribution is not formally maintained, but I am interested 
in hearing (on r-devel and r-help) from people who have problems with it, 
although I may not be able to solve them.
-----------------------------------------------------------------------------


guido masarotto (26/5/1998)
guido at sirio.stat.unipd.it
http://sirio.stat.unipd.it

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 27 15:45:18 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 May 1998 08:45:18 -0500
Subject: R-beta: Problems with postscript
In-Reply-To: Alvaro Colina's message of Wed, 27 May 1998 13:18:23 +0000
References: <356C129E.FC0140@cid.cid.ubu.es>
Message-ID: <6rogwjzv2p.fsf@verdi.stat.wisc.edu>

Alvaro Colina <acosa at ubu.es> writes:

> I've got a lot of problems saving plots using postscript(file="xx.ps")
> The quality  is not too good when I print it.

It might be a matter of how you are printing the file.  I believe that
the postscript files saved from R will be in pure PostScript which is
device-independent.  The quality of the printed copy will be dependent
on the device or the software used to print it.  I don't think I I
have ever had any problems with the quality of printed copies of
PostScript files created by R.

Could you be more specific about what the plot is and what you find
poor quality about it?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thor.thoresen at hlk.hj.se  Wed May 27 16:35:18 1998
From: thor.thoresen at hlk.hj.se (Thor Thoresen)
Date: Wed, 27 May 1998 16:35:18 +0200
Subject: R-beta: slice.index in R
Message-ID: <356C24A5.8D9A86BF@hj.se>

I am currently trying to port a couple of S or S-plus add ons (Multiple
imputation) to R.
Since I do not have S or S-Plus it is a bit of a trial and error
process. Most things though,
run smooth. I encountered however a function "slice.index" for which I
cannot find
any R counterpart. I have searched the different available
documentations such as the
S-FAQ and S-Plus-notes with no luck.
Do anyone know what this S-Plus function is supposed to accomplish and
if there is
any method to accomplish the same in R?

Thanks

Thor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 27 17:34:02 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 May 1998 10:34:02 -0500
Subject: R-beta: Problems with postscript
In-Reply-To: Alvaro Colina's message of Wed, 27 May 1998 17:26:43 +0000
References: <356C129E.FC0140@cid.cid.ubu.es> <6rogwjzv2p.fsf@verdi.stat.wisc.edu> <356C4CD3.706B92B4@cid.cid.ubu.es>
Message-ID: <6rlnrnzq1h.fsf@verdi.stat.wisc.edu>

Alvaro Colina <acosa at ubu.es> writes:

> Douglas Bates wrote:
> 
> > Alvaro Colina <acosa at ubu.es> writes:
> >
> > > I've got a lot of problems saving plots using postscript(file="xx.ps")
> > > The quality  is not too good when I print it.
> >
> > It might be a matter of how you are printing the file.  I believe that
> > the postscript files saved from R will be in pure PostScript which is
> > device-independent.  The quality of the printed copy will be dependent
> > on the device or the software used to print it.  I don't think I I
> > have ever had any problems with the quality of printed copies of
> > PostScript files created by R.
> >
> > Could you be more specific about what the plot is and what you find
> > poor quality about it?
> 
> I've got the problem because of I can't use a PostScript printer. I can'tinsert a
> PostScript file in my word processor, I need insert another type
> of file (TIFF, JPG, GIF ...).
> If I print the PostScript file with Ghostview I haven't got problems, but
> I would like to use another format for the picture, transform the PostScript
> file to another format.
> I belive that it isn't a problem of R.
> I know it's my problem but I tougth that would be possible to find a function
> to write a different picture format.

I understand the problem but I'm afraid I don't have enough experience
with alternate image formats to help out.  I use PostScript printers
and text processors that can accomodate PostScript inclusions so I am
not sure what to do in other word processors.

I hope you find a solution to your problem.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 27 17:48:01 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 May 1998 17:48:01 +0200
Subject: R-beta: slice.index in R
In-Reply-To: thor.thoresen@hlk.hj.se's message of Wed, 27 May 1998 16:35:18 +0200
References: <356C24A5.8D9A86BF@hj.se>
Message-ID: <x2k977zpe6.fsf@blueberry.kubism.ku.dk>

thor.thoresen at hlk.hj.se (Thor Thoresen) writes:

> 
> I am currently trying to port a couple of S or S-plus add ons (Multiple
> imputation) to R.
> Since I do not have S or S-Plus it is a bit of a trial and error
> process. Most things though,
> run smooth. I encountered however a function "slice.index" for which I
> cannot find
> any R counterpart. I have searched the different available
> documentations such as the
> S-FAQ and S-Plus-notes with no luck.
> Do anyone know what this S-Plus function is supposed to accomplish and
> if there is
> any method to accomplish the same in R?

Here's the top of the help page:

DESCRIPTION:
       Returns an array  filled  with  integers,  each  of  which
       identifies  where  in  the current slice it is.  This is a
       generalization of the row and col functions: row(x) can be
       expressed  as slice.index(x,1) and col(x) can be expressed
       as slice.index(x,2).

Doesn't sound too hard to duplicate. Do you want to try? I think a
careful look at the sweep function might help....  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 27 17:54:13 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 May 1998 17:54:13 +0200
Subject: R-beta: Problems with postscript
In-Reply-To: Douglas Bates's message of 27 May 1998 10:34:02 -0500
References: <356C129E.FC0140@cid.cid.ubu.es>
	<6rogwjzv2p.fsf@verdi.stat.wisc.edu>
	<356C4CD3.706B92B4@cid.cid.ubu.es>
	<6rlnrnzq1h.fsf@verdi.stat.wisc.edu>
Message-ID: <x2iumrzp3u.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> > I've got the problem because of I can't use a PostScript printer. I can'tinsert a
> > PostScript file in my word processor, I need insert another type
> > of file (TIFF, JPG, GIF ...).
> > If I print the PostScript file with Ghostview I haven't got problems, but
> > I would like to use another format for the picture, transform the PostScript
> > file to another format.
> > I belive that it isn't a problem of R.
> > I know it's my problem but I tougth that would be possible to find a function
> > to write a different picture format.
> 
> I understand the problem but I'm afraid I don't have enough experience
> with alternate image formats to help out.  I use PostScript printers
> and text processors that can accomodate PostScript inclusions so I am
> not sure what to do in other word processors.
> 
> I hope you find a solution to your problem.

Ghostscript can output to a number of file formats, in addition to
printers... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Wed May 27 17:58:21 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Wed, 27 May 1998 10:58:21 -0500 (CDT)
Subject: R-beta: Problems with postscript
In-Reply-To: <6rlnrnzq1h.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.OSF.3.95.980527105230.8559B-100000@io.uwinnipeg.ca>

> > I've got the problem because of I can't use a PostScript printer. I can'tinsert a
> > PostScript file in my word processor, I need insert another type
> > of file (TIFF, JPG, GIF ...).
> > If I print the PostScript file with Ghostview I haven't got problems, but
> > I would like to use another format for the picture, transform the PostScript
> > file to another format.
> > I belive that it isn't a problem of R.
> > I know it's my problem but I thought that would be possible to find a
function
> > to write a different picture format.
I don't know what platform you are using (Windows?) I think Word for Mac
or Windows can handle an inserted postscript figure.

Ghostview is available for unix )and windows and Mac I think).

With Ghostview, there is no need for a postscript printer.  It works
wonderfully.

I suggest you get a word processor that lets you insert a postscript
figure. (I personally went from Mac to Linux on Intel and I use LyX)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed May 27 19:16:04 1998
From: guido at sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Wed, 27 May 1998 18:16:04 +0100 (GMT+0100)
Subject: R-beta: Problems with postscript
In-Reply-To: <6rlnrnzq1h.fsf@verdi.stat.wisc.edu> from "Douglas Bates" at May 27, 98 10:34:02 am
Message-ID: <19980527171605.1066.qmail@sirio.stat.unipd.it>

> Alvaro Colina <acosa at ubu.es> writes:
> 
> > I've got the problem because of I can't use a PostScript printer. I can'tinsert a
> > PostScript file in my word processor, I need insert another type
> > of file (TIFF, JPG, GIF ...).
> > If I print the PostScript file with Ghostview I haven't got problems, but
> > I would like to use another format for the picture, transform the PostScript
> > file to another format.
> > I belive that it isn't a problem of R.
> > I know it's my problem but I tougth that would be possible to find a function
> > to write a different picture format.
I use TeX+Postscript so I have really no experience. But, I have
just tried to convert a ps figure (generated with R) to jpeg using
Ghostscript. I simple use
> gs -sDEVICE=jpeg -sOutputFile=col.jpeg col.ps
The result, at least in my case (a color image), seems quite beatiful.
I hope this can help.
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Wed May 27 22:00:04 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Wed, 27 May 1998 15:00:04 -0500 (CDT)
Subject: R-beta: Problems with postscript
In-Reply-To: <19980527171605.1066.qmail@sirio.stat.unipd.it>
Message-ID: <ML-3.3.896299204.5758.gordon@localhost>

ghostscript provides nice clean conversion of postscript.

Also useful is ImageMagick which will convert anything to anything, is very
user friendly, and is designed for image editing so you can get exactly the
image you want. However, because of compression methods of other formats and
their conversion, you may not get as high resolution as you will from a
postscript program using a postscript driver. Try:

	http://www.wizards.dupont.com/cristy/ImageMagick.html

gordon

> > Alvaro Colina <acosa at ubu.es> writes:
> > 
> > > I've got the problem because of I can't use a PostScript printer. I
> > > can'tinsert a PostScript file in my word processor, I need insert
> > > another type of file (TIFF, JPG, GIF ...).
> > > If I print the PostScript file with Ghostview I haven't got problems,
> > > but I would like to use another format for the picture, transform the
> > > PostScript file to another format.
> > > I belive that it isn't a problem of R.
> > > I know it's my problem but I tougth that would be possible to find a
> > > function to write a different picture format.
> I use TeX+Postscript so I have really no experience. But, I have
> just tried to convert a ps figure (generated with R) to jpeg using
> Ghostscript. I simple use
> > gs -sDEVICE=jpeg -sOutputFile=col.jpeg col.ps
> The result, at least in my case (a color image), seems quite beatiful.
> I hope this can help.
> guido m.
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 

	http://www.wizards.dupont.com/cristy/ImageMagick.html


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu May 28 13:40:08 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 28 May 1998 11:40:08 +0000
Subject: R-beta: Re: Problem with Postscript printing
Message-ID: <356D4D18.5DA4CC3E@ozemail.com.au>

Alvaro,

The Postscript output from R will produce output as good as your
printer.  It is best to have a printer with a Postscript interpreter
built in, as the software conversions often found in Windows printer
drivers can be pretty wobbly.  One advantage of R Postscript is that it
doesn't tack a Postscript reset (^D) on the end of every file.

As for word processors which handle Postscript inclusions, WordPerfect
for DOS (haven't got my Linux version yet) is the best I have used, and
RedHat's Applixware Words (for Linux) will also do it, although not
quite as neatly.  Microsoft Word will sometimes do it, sometimes not,
although I have not used it for a while, and they may(?) have fixed it. 
I think almost any Macintosh application will handle Postscript,
although I can't speak from experience.  Obviously, you have to have a
Postscript interpreter somewhere between your application and the paper.

I've found that converting Postscript images to other formats (PCX,
TIFF, etc.) almost always degrades the print quality.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri May 29 13:31:51 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 29 May 1998 13:31:51 +0200 (CEST)
Subject: R-beta: multiv package on CRAN
Message-ID: <13678.40103.628403.602684@galadriel.ci.tuwien.ac.at>



I've ported F. Murtagh's statlib package "multiv" to R, it can be
found in the usual place on CRAN.

Contents:

bea                      Bond Energy Algorithm
ca                       Correspondence Analysis
supplc                   Supplementary Columns in Correspondence Analysis
supplr                   Supplementary Rows in Correspondence Analysis
flou                     Fuzzy Coding (3-Way)
hierclust                Hierarchical Clustering
logique                  Logical Coding
members                  Cluster Memberships
partition                Partitioning by Iterative Optimization
pca                      Principal Components Analysis
sammon                   Sammon's Non-Linear Mapping

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eschmid at delos.lf.net  Fri May 29 16:06:14 1998
From: eschmid at delos.lf.net (Egon Schmid)
Date: Fri, 29 May 1998 16:06:14 +0200
Subject: R-beta: multiv package from CRAN
Message-ID: <356EC0D6.62AE9D2E@delos.lf.net>

Hallo Friedrich,

I have read your announcement, downloaded and installed it in R-0.61.3.
But now I have problems :)

> hc <- hierclust(dist(t(pollen)), method=3)
Error in pmatch(x, table) : argument is not of mode character
> hc <- hclust(dist(t(pollen)))
> members(hc)
Error in .Fortran("assgn", n = as.integer(n), nplus1 =
as.integer(nplus1),  : C/Fortran function not in load table

Since I have a snapshot from May 22 I put it there. But in these tree I
couldn't install it.

marliesle# R INSTALL multiv
Installing package `multiv' ...
No man pages found in package `multiv'
DONE (multiv)

DONE (INSTALL)

More questions:

Is it possible to get the mahalanobis distance as a distance matrix like
the dist function.

Gabriel's biplot functions are not working in the mass library. Around
the year 1983 I had a lot of Calcomp plot's according to the publication
in 1971. But now my programming skill's gets a little bit rusty. Are
there any efforts to get the mass library working or would someone else
enhance the multiv library with biplots.

-Egon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jean at stat.ubc.ca  Sat May 30 08:15:37 1998
From: jean at stat.ubc.ca (Jean Meloche)
Date: Fri, 29 May 1998 23:15:37 -0700
Subject: R-beta: loadable modules
Message-ID: <356FA409.123B5C96@stat.ubc.ca>

I want to write a C function that should return
an object of unknown structure at the time of the
invocation.

In particular, I'd like to

1- return a string of unknown length
2- a vector or a matrix of unknown dims and of
   unknown element type
3- a data frame

Is any of that possible? Are there examples?
Which R functions should I call to create such
objects?

Any help would be appreciated.
Please reply directly to jean at stat.ubc.ca

Thanks.

Jean
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


