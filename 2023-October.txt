From 538280 @end|ng |rom gm@||@com  Mon Oct  2 21:12:29 2023
From: 538280 @end|ng |rom gm@||@com (Greg Snow)
Date: Mon, 2 Oct 2023 13:12:29 -0600
Subject: [R] save(), load(), saveRDS(), and readRDS()
In-Reply-To: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
Message-ID: <CAFEqCdxsHAF89Jii7T4ikQx0LgOpDPZ+STqvuMzffbwJG3nk5g@mail.gmail.com>

One more function to consider using and teaching is the attach
function.  If you use `attach` with a the name of a file that was
created using `save` then it creates a new, empty environment, `load`s
the contents of the file into the environment, and attached the
environment to the search path (by default in position 2).  This means
that the objects are all available to use, but will not overwrite any
objects of the same name in your workspace.  The command `ls(2)`
quickly shows the names of the objects that were read in.  You can use
simple assignment to copy and optionally rename any of the objects
into your workspace, or just leave them in the attached workspace
(just recognize what will happen if you have multiple objects with the
same name).  Once you have copied or used the objects of interest, you
can simply `detach` the environment.

If you are going to teach the use of `attach` I would suggest
emphasizing the 2nd paragraph under the heading "Good practice" on the
help page for attach.

On Thu, Sep 28, 2023 at 9:48?AM Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
>
> Hi All,
>
> There is a thread about the use of save(), load(), saveRDS(), and
> loadRDS(). It led me to think about a question regarding them.
>
> In my personal work, I prefer using saveRDS() and loadRDS() as I don't like
> the risk of overwriting anything in the global environment. I also like the
> freedom to name an object when reading it from a file.
>
> However, for teaching, I have to teach save() and load() because, in my
> discipline, it is common for researchers to share their datasets on the
> internet using the format saved by save(), and so students need to know how
> to use load() and what will happen when using it. Actually, I can't recall
> encountering datasets shared by the .rds format. I have been wondering why
> save() was usually used in that case.
>
> That discussion led me to read the help pages again and I noticed the
> following warning, from the help page of saveRDS():
>
> "Files produced by saveRDS (or serialize to a file connection) are not
> suitable as an interchange format between machines, for example to download
> from a website. The files produced by save
> <http://127.0.0.1:18888/library/base/help/save> have a header identifying
> the file type and so are better protected against erroneous use."
>
> When will the problem mentioned in the warning occur? That is, when will a
> file saved by saveRDS() not be read correctly? Saved in Linux and then read
> in Windows? Is it possible to create a reproducible error?
>
> Regards,
> Shu Fai
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From ro||turner @end|ng |rom po@teo@net  Tue Oct  3 00:11:52 2023
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Mon,  2 Oct 2023 22:11:52 +0000
Subject: [R] New version of the Iso package is now up on CRAN.
Message-ID: <20231003111152.63c24295@rolf-Latitude-E7470>


There was a deficiency in the argument list of the ufit() function in
the Iso package which made it all too easy to conflate a specified
location for the maximum with the *index* of that location in the "x"
argument.  This problem was kindly drawn to my attention by Zhiwei
Zhang.

The deficiency is remedied in the new version (Iso_0.0-21).  The
argument list for ufit() has changed.  There is a new argument "imode"
to specify the index of the location.  The argument "lmode" is now
restricted to being one of the entries of "x" (and an error is thrown
if it is not).  At most one of "imode" and "lmode" may be specified.

The source of the new version is now available on CRAN, as is the Mac
OSX binary.  The Windoze binary should be available soon.

Note that the change to Iso breaks the current version of the UMR
package.  The maintainer of UMR has been notified, and a revision of
UMR should become available sometime in the near future.

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of AucklandZhiwei Zhang
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From Roger@B|v@nd @end|ng |rom nhh@no  Tue Oct  3 10:18:25 2023
From: Roger@B|v@nd @end|ng |rom nhh@no (Roger Bivand)
Date: Tue, 3 Oct 2023 08:18:25 +0000
Subject: [R] [R-pkgs] maptools, rgdal, rgeos and rgrass7 retiring Monday,
 October 16
Message-ID: <SV0P279MB04755A943724ADEE275CDEBCEEC4A@SV0P279MB0475.NORP279.PROD.OUTLOOK.COM>

The legacy R spatial infrastructure packages maptools, rgdal and rgeos will be archived by CRAN on Monday, October 16, 2023; rgrass7 has  already been replaced by rgrass and will be archived with the retiring packages. 

The choice of date matches the previously announced archiving during October 2023, and the specific date matches the release schedule of Bioconductor 3.18 (some Bioconductor packages depend on retiring packages).

sp_2.1-0 was published October 2, 2023, dropping all dependencies on the retiring packages. sp will continue to be available and maintained, but not developed further. Users of sp classes may continue to make use of them, but will have to use sf or terra to read, write or manipulate objects with coercion (for a guide to coercion, see https://cran.r-project.org/web/packages/rgrass/vignettes/coerce.html).

Information about the evolution project may be found in reports and resources at https://r-spatial.github.io/evolution/; a recent blog by Jakub Nowosad may also be useful as an overview of what has been going on: https://geocompx.org/post/2023/rgdal-retirement/. For more detail, see https://r-spatial.github.io/evolution/ogh23_bivand.html and a video recording of this presentation https://av.tib.eu/media/63141 (August 28).

All directly affected package maintainers have been alerted to the impending changes, some in December 2022, most others in March-April 2023. Many have already updated their packages on CRAN - thank you for your understanding! The remainder received github issue comments and email reminders in the last ten days, and will receive final notices to update by October 9. 

On R-universe, builds of packages archived on CRAN are dropped automatically (https://github.com/r-universe-org/help/issues/286). Read-only github mirrors of archived packages will remain available in principle while github exists (https://github.com/r-hub/rhub/issues/568), for example https://github.com/cran/rgdal. Other binary builds (Debian, Fedora, Ubuntu) have been alerted; support at Anaconda has been alerted.

On CRAN, the retired packages will continue to be available as source packages on https://cran.r-project.org/src/contrib/Archive. maptools, rgdal and rgeos also retain their R-forge repositories, which may be used to retrieve functions for adding to other packages.

A snapshot of Windows and macOS binary packages may be found on https://github.com/r-spatial/evolution/tree/main/backstore.

Please raise questions by replying to this post, or as issues on https://github.com/r-spatial/evolution.

--
Roger Bivand
Emeritus Professor
Norwegian School of Economics
Postboks 3490 Ytre Sandviken, 5045 Bergen, Norway
Roger.Bivand at nhh.no
_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From Ch@r|ty@Em|n|ergu@on @end|ng |rom g@tt@nh@@uk  Mon Oct  2 09:48:36 2023
From: Ch@r|ty@Em|n|ergu@on @end|ng |rom g@tt@nh@@uk (Ferguson Charity (CEMINFERGUSON))
Date: Mon, 2 Oct 2023 07:48:36 +0000
Subject: [R] Question about R software and output
Message-ID: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>

To whom it may concern,



My understanding is that the R software is downloaded from a CRAN network and data is imported into it using Microsoft Excel for example. Could I please just double check whether any data or results from the output is held on external servers or is it just held on local files on the computer?



Many thanks,



Charity


*************************************************************************************

The information contained in this message and or attachments is intended only for the
person or entity to which it is addressed and may contain confidential and/or 
privileged material. Unless otherwise specified, the opinions expressed herein do not
necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
any of its subsidiaries. The information contained in this e-mail may be subject to 
public disclosure under the Freedom of Information Act 2000. Unless the information 
is legally exempt from disclosure, the confidentiality of this e-mail and any replies
cannot be guaranteed.

Any review, retransmission,dissemination or other use of, or taking of any action in 
reliance upon, this information by persons or entities other than the intended
recipient is prohibited. If you received this in error, please contact the sender
and delete the material from any system and destroy any copies.

We make every effort to keep our network free from viruses. However, it is your
responsibility to ensure that this e-mail and any attachments are free of viruses as
we can take no responsibility for any computer virus which might be transferred by 
way of this e-mail.

*************************************************************************************

	[[alternative HTML version deleted]]


From bbo|ker @end|ng |rom gm@||@com  Tue Oct  3 16:30:43 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Tue, 3 Oct 2023 10:30:43 -0400
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <9133ca9c-0bd2-1d83-b7e7-bd21d1ceb75a@gmail.com>

    It's conceivable that functions in a contributed package would 
communicate/transmit or receive data from a remote server, but base R 
does nothing like that (unless you explicitly ask it to).

   cheers
    Ben Bolker

On 2023-10-02 3:48 a.m., Ferguson Charity (CEMINFERGUSON) wrote:
> To whom it may concern,
> 
> 
> 
> My understanding is that the R software is downloaded from a CRAN network and data is imported into it using Microsoft Excel for example. Could I please just double check whether any data or results from the output is held on external servers or is it just held on local files on the computer?
> 
> 
> 
> Many thanks,
> 
> 
> 
> Charity
> 
> 
> *************************************************************************************
> 
> The information contained in this message and or attachments is intended only for the
> person or entity to which it is addressed and may contain confidential and/or
> privileged material. Unless otherwise specified, the opinions expressed herein do not
> necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
> any of its subsidiaries. The information contained in this e-mail may be subject to
> public disclosure under the Freedom of Information Act 2000. Unless the information
> is legally exempt from disclosure, the confidentiality of this e-mail and any replies
> cannot be guaranteed.
> 
> Any review, retransmission,dissemination or other use of, or taking of any action in
> reliance upon, this information by persons or entities other than the intended
> recipient is prohibited. If you received this in error, please contact the sender
> and delete the material from any system and destroy any copies.
> 
> We make every effort to keep our network free from viruses. However, it is your
> responsibility to ensure that this e-mail and any attachments are free of viruses as
> we can take no responsibility for any computer virus which might be transferred by
> way of this e-mail.
> 
> *************************************************************************************
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Oct  3 16:41:52 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 3 Oct 2023 17:41:52 +0300
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <20231003174152.37ab9433@arachnoid>

? Mon, 2 Oct 2023 07:48:36 +0000
"Ferguson Charity (CEMINFERGUSON)" <Charity.Eminferguson at gstt.nhs.uk>
?????:

> My understanding is that the R software is downloaded from a CRAN
> network

This is mostly true. (There are other ways of installing R, but it is
most frequently downloaded from a CRAN mirror.)

> and data is imported into it using Microsoft Excel for example.

This is not exactly the case.

It is possible to prepare data using Microsoft Excel and store it in
the Microsoft Excel format, but the actual import process is performed
either using base R functions (e.g. read.csv(), which is built into R),
or using third-party packages running inside R (e.g. "openxlsx", which
is available on CRAN) that implement the functions necessary to
transform Excel format into R data structures.

It is also possible to prepare data using other software, or type it
manually into R, or store it only in R's native data format (using
the saveRDS() or save() functions).

> Could I please just double check whether any data or results from the
> output is held on external servers or is it just held on local files
> on the computer?

As long as you're running R on your own computer, it should keep the
data locally. The words of a J. Random Hacker from the Internet don't
carry much weight with government agencies (as they shouldn't), but the
source code of R is open to audits. Additionally, there are some
guidance documents at <https://www.r-project.org/certification.html>.

Note that this only covers R itself and not any third-party software
packages that you could be using together with R. (You could also be
connecting to an RStudio server or running an instance of webR in your
web browser, in which case your data is subject to the privacy policy
of the server administrators.) For example, the "googleCloudRunner"
package available on CRAN is designed for the purpose of running code
on Google infrastructure and will send the data there if asked to.

CRAN packages are required never to do anything that might be regarded
as antisocial <https://cran.r-project.org/web/packages/policies.html>,
but a dedicated attacker may be able to slip something past the
reviewers anyway.

Since your e-mail address contains nhs.uk, the
<https://nhsrcommunity.com/> website could help you find the
information you need.

-- 
Best regards,
Ivan


From bgunter@4567 @end|ng |rom gm@||@com  Tue Oct  3 16:46:35 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 Oct 2023 07:46:35 -0700
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CAGxFJbRYG7FaO-9Q8T7L7VCuSg92oFdPDYwtLbGOtfqbfByHOA@mail.gmail.com>

I am pretty sure you'll get more replies than mine, so just consider this
as part of the story.

Your understanding is confused/flawed.

1. R can be downloaded from hundreds/thousands of software repositories,
not just CRAN.

2. R can read/upload data in hundreds of different formats, not just
Excel's. R makes no use of Excel to read external files (I wasn't clear
what you meant here).

3. As Ben said, it is certainly possible that some R packages -- optional
add-ons extending R capabilities ---  communicate with and store data or
results on external servers. R,  itself, can run locally and can store
results either locally or externally. Like most software, it can also be
integrated as part of the infrastructure on a server for web applications.

If you have a specific question not addressed by these various replies, ask
it. You will most likely get a useful reply.

Cheers,
Bert

On Tue, Oct 3, 2023 at 7:17?AM Ferguson Charity (CEMINFERGUSON) <
Charity.Eminferguson at gstt.nhs.uk> wrote:

> To whom it may concern,
>
>
>
> My understanding is that the R software is downloaded from a CRAN network
> and data is imported into it using Microsoft Excel for example. Could I
> please just double check whether any data or results from the output is
> held on external servers or is it just held on local files on the computer?
>
>
>
> Many thanks,
>
>
>
> Charity
>
>
>
> *************************************************************************************
>
> The information contained in this message and or attachments is intended
> only for the
> person or entity to which it is addressed and may contain confidential
> and/or
> privileged material. Unless otherwise specified, the opinions expressed
> herein do not
> necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
> any of its subsidiaries. The information contained in this e-mail may be
> subject to
> public disclosure under the Freedom of Information Act 2000. Unless the
> information
> is legally exempt from disclosure, the confidentiality of this e-mail and
> any replies
> cannot be guaranteed.
>
> Any review, retransmission,dissemination or other use of, or taking of any
> action in
> reliance upon, this information by persons or entities other than the
> intended
> recipient is prohibited. If you received this in error, please contact the
> sender
> and delete the material from any system and destroy any copies.
>
> We make every effort to keep our network free from viruses. However, it is
> your
> responsibility to ensure that this e-mail and any attachments are free of
> viruses as
> we can take no responsibility for any computer virus which might be
> transferred by
> way of this e-mail.
>
>
> *************************************************************************************
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Tue Oct  3 17:01:04 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Tue, 3 Oct 2023 15:01:04 +0000
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CH3PR22MB45147CCCFB847C9E0C222DB9CFC4A@CH3PR22MB4514.namprd22.prod.outlook.com>

I would answer "local files only," but with sufficient motive it is possible for some people to abuse a system. Base R does not download any of your data. The packages that I know about do not download data. You can add a layer of protection by only downloading directly from the source rather than through some third party. If you are skilled, you should be able to read through the source code to check for statements that would write your data to an external source.

Another viewpoint: R is an approved software for the University of Florida. The University is very aware of regulations and risks associated with personally identifiable information. Downloading to an external location would be a security risk that the University would not allow. That said, the university provides students and employees  an approved link for downloading the software. It is designed to help people avoid third party sites and associated risks.

If this is an issue with personally identifiable information, then you should check with your employer if R is an approved software.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Ferguson Charity (CEMINFERGUSON)
Sent: Monday, October 2, 2023 3:49 AM
To: r-help at r-project.org
Subject: [R] Question about R software and output

[External Email]

To whom it may concern,



My understanding is that the R software is downloaded from a CRAN network and data is imported into it using Microsoft Excel for example. Could I please just double check whether any data or results from the output is held on external servers or is it just held on local files on the computer?



Many thanks,



Charity


*************************************************************************************

The information contained in this message and or attachments is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Unless otherwise specified, the opinions expressed herein do not necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or any of its subsidiaries. The information contained in this e-mail may be subject to public disclosure under the Freedom of Information Act 2000. Unless the information is legally exempt from disclosure, the confidentiality of this e-mail and any replies cannot be guaranteed.

Any review, retransmission,dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any system and destroy any copies.

We make every effort to keep our network free from viruses. However, it is your responsibility to ensure that this e-mail and any attachments are free of viruses as we can take no responsibility for any computer virus which might be transferred by way of this e-mail.

*************************************************************************************

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From @vi@e@gross m@iii@g oii gm@ii@com  Tue Oct  3 17:06:43 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 3 Oct 2023 11:06:43 -0400
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <004201d9f60b$38650d00$a92f2700$@gmail.com>

Charity,

As some of the answers I have seen show, your question is not clear.

You need to be clear on what you mean about R software and other concepts
before an answer makes sense.

The Base version of R may come on your computer already but likely has been
installed from some external source, or updated and the CRAN mirrors are one
such installation. As far as I know, it downloads the main R software as
well as packages considered important as part of that distribution and from
then on, you can disconnect your computer from any network and it will work
fine for any programs that operate only locally. 

Of course any program you run that wishes to access external resources can
do so. In particular, it is quite common for you at the prompt, or within an
R program, to ask for a package stored externally to be placed within your
computer but once done, it remains there until and unless you want to get a
newer version or something.

There are packages that include data within themselves and may well be some
that dynamically go out and get info from somewhere but I know of no simple
way to find out other than reading the source code or seeing what happens if
you disconnect from the internet.

Your mention of EXCEL also needs clarification. EXCEL has absolutely nothing
to do with R. It is an unrelated product and you do not need to have it
installed to run R and vice versa. That does not mean your program cannot
interact with EXCEL or the files it makes, just that it is not part of base
R. R does allow importing data (locally or not) in lots of formats including
some that EXCEL can save data in. But generally, internal to R there are
storage methods such as the data.frame that hold data and manipulate it and
a typical R program may read in some data from files like .CSV that can be
saved from EXCEL or many other sources or with the proper packages, you can
read directly from more native EXCEL formats such as XLSX files. And, you
can write out results in many ways using packages that include those
formats.

Once data has been received, I know of no way in R that tags it with the
source of the data as being internal or external. Often the fact that
something is external is well hidden as many R packages have ways to access
external data as if it were local.

Perhaps you can explain more clearly what your concerns are. But note R is
not atypical among computer languages and many others might share the same
issues that concern you. 

Avi

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Ferguson Charity
(CEMINFERGUSON)
Sent: Monday, October 2, 2023 3:49 AM
To: r-help at r-project.org
Subject: [R] Question about R software and output

To whom it may concern,



My understanding is that the R software is downloaded from a CRAN network
and data is imported into it using Microsoft Excel for example. Could I
please just double check whether any data or results from the output is held
on external servers or is it just held on local files on the computer?



Many thanks,



Charity


****************************************************************************
*********

The information contained in this message and or attachments is intended
only for the
person or entity to which it is addressed and may contain confidential
and/or 
privileged material. Unless otherwise specified, the opinions expressed
herein do not
necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
any of its subsidiaries. The information contained in this e-mail may be
subject to 
public disclosure under the Freedom of Information Act 2000. Unless the
information 
is legally exempt from disclosure, the confidentiality of this e-mail and
any replies
cannot be guaranteed.

Any review, retransmission,dissemination or other use of, or taking of any
action in 
reliance upon, this information by persons or entities other than the
intended
recipient is prohibited. If you received this in error, please contact the
sender
and delete the material from any system and destroy any copies.

We make every effort to keep our network free from viruses. However, it is
your
responsibility to ensure that this e-mail and any attachments are free of
viruses as
we can take no responsibility for any computer virus which might be
transferred by 
way of this e-mail.

****************************************************************************
*********

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Tue Oct  3 18:26:14 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 3 Oct 2023 17:26:14 +0100
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <7b90f4d4-31db-8d66-4aea-1087c858f4f7@dewey.myzen.co.uk>

Dear Charity

Since your organisation is a member of King's Health Partners you might 
like to ask colleagues in KCL for local support.

Michael

On 02/10/2023 08:48, Ferguson Charity (CEMINFERGUSON) wrote:
> To whom it may concern,
> 
> 
> 
> My understanding is that the R software is downloaded from a CRAN network and data is imported into it using Microsoft Excel for example. Could I please just double check whether any data or results from the output is held on external servers or is it just held on local files on the computer?
> 
> 
> 
> Many thanks,
> 
> 
> 
> Charity
> 
> 
> *************************************************************************************
> 
> The information contained in this message and or attachments is intended only for the
> person or entity to which it is addressed and may contain confidential and/or
> privileged material. Unless otherwise specified, the opinions expressed herein do not
> necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
> any of its subsidiaries. The information contained in this e-mail may be subject to
> public disclosure under the Freedom of Information Act 2000. Unless the information
> is legally exempt from disclosure, the confidentiality of this e-mail and any replies
> cannot be guaranteed.
> 
> Any review, retransmission,dissemination or other use of, or taking of any action in
> reliance upon, this information by persons or entities other than the intended
> recipient is prohibited. If you received this in error, please contact the sender
> and delete the material from any system and destroy any copies.
> 
> We make every effort to keep our network free from viruses. However, it is your
> responsibility to ensure that this e-mail and any attachments are free of viruses as
> we can take no responsibility for any computer virus which might be transferred by
> way of this e-mail.
> 
> *************************************************************************************
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael


From po|c1410 @end|ng |rom gm@||@com  Tue Oct  3 20:51:24 2023
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Tue, 3 Oct 2023 19:51:24 +0100
Subject: [R] Question about R software and output
In-Reply-To: <7b90f4d4-31db-8d66-4aea-1087c858f4f7@dewey.myzen.co.uk>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
 <7b90f4d4-31db-8d66-4aea-1087c858f4f7@dewey.myzen.co.uk>
Message-ID: <CA+etgPkKEpmOZfVZv7Gjq6yKpsfAuA8zdS0Hoo0FbfGjS+=QQg@mail.gmail.com>

Charity

There is OFTEN confusion what we mean when we say "R".

R is effectively a single bit of software with a ton of other bits of
software as optional extras.  You might think of some of those optional
extras like apps on a phone. You'd say you have a phone when you can open
the box and power it on. But you might add say "Spotify" app to it. That
will then be downloading the songs. And inevitably sending some data back
(I not do Spotify - no idea what - but it must have your identification and
what songs to play as a minimum).

R packages are like apps. They interact with the R core and do sometimes
amazing things. I think the majority do all that entirely on the machine
running R. BUT some may be using external services. There is for instance a
package that can interact with the Twitter API.  It would be impossible to
do that without sending as a minimum some login data and downloading data
back.  But you'd not normally send your entire research database to Twitter
during the login!

There will be SOME R packages that may be doing some odd stuff which might
need the dataset sent to the web. I can't think of any! Then there are
packages that could accidentally send data that you may or may not consider
sensitive. Say for instance you have a postcode list for every patient in
your research study. And you wanted to geocode that to get their location
as a long/lat... you can do that in an r package - which will have to send
the post code to get the answer. You haven't identified why you want the
postcode... but it is patient identifiable data...

That's R.

Add to that R Studio (or possibly other software solutions) - which is a
development environment which sits on top of R. It's often what people mean
by programming in R but it's effectively a glorified text editor. R Studio
desktop doesn't send data anywhere. Although it has database connectors
that could (but so can excel so if IG are flipping out feel free to remind
them of that!).

R Studio can work with git which is a version management system and can
upload code to a service like GitHub. You COULD upload data in that, or you
could chose not to.

And finally...

R Studio has a cloud version. It looks 98% the same as R Studio desktop.
Now called Posit.Cloud. That's a cloud service. While it may be secure etc
-- you are processing on their server not your PC.  And if this was your
question - it's a whole different set of answers!!


You may also want to Google NHSRcommunity where you might find help if
there are IG question to address as many of us will have wrestled with an
NHS IG team at some point.



On Tue, 3 Oct 2023, 17:26 Michael Dewey, <lists at dewey.myzen.co.uk> wrote:

> Dear Charity
>
> Since your organisation is a member of King's Health Partners you might
> like to ask colleagues in KCL for local support.
>
> Michael
>
> On 02/10/2023 08:48, Ferguson Charity (CEMINFERGUSON) wrote:
> > To whom it may concern,
> >
> >
> >
> > My understanding is that the R software is downloaded from a CRAN
> network and data is imported into it using Microsoft Excel for example.
> Could I please just double check whether any data or results from the
> output is held on external servers or is it just held on local files on the
> computer?
> >
> >
> >
> > Many thanks,
> >
> >
> >
> > Charity
> >
> >
> >
> *************************************************************************************
> >
> > The information contained in this message and or attachments is intended
> only for the
> > person or entity to which it is addressed and may contain confidential
> and/or
> > privileged material. Unless otherwise specified, the opinions expressed
> herein do not
> > necessarily represent those of Guy's and St Thomas' NHS Foundation Trust
> or
> > any of its subsidiaries. The information contained in this e-mail may be
> subject to
> > public disclosure under the Freedom of Information Act 2000. Unless the
> information
> > is legally exempt from disclosure, the confidentiality of this e-mail
> and any replies
> > cannot be guaranteed.
> >
> > Any review, retransmission,dissemination or other use of, or taking of
> any action in
> > reliance upon, this information by persons or entities other than the
> intended
> > recipient is prohibited. If you received this in error, please contact
> the sender
> > and delete the material from any system and destroy any copies.
> >
> > We make every effort to keep our network free from viruses. However, it
> is your
> > responsibility to ensure that this e-mail and any attachments are free
> of viruses as
> > we can take no responsibility for any computer virus which might be
> transferred by
> > way of this e-mail.
> >
> >
> *************************************************************************************
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Michael
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From p@u|bern@|07 @end|ng |rom gm@||@com  Wed Oct  4 00:18:01 2023
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Tue, 3 Oct 2023 17:18:01 -0500
Subject: [R] Problems Structuring My Data
Message-ID: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>

Dear friends,

Hope you are all doing great. I am working with a dataset which is a subset
of the original one, that has the following columns: FAILDATE, REM_NAME,
and Days_At_Failure.

I want to structure the data in such a way that I have the unique FAILDATE
in "%Y-%m-%d" format, then a column for each REM_NAME and then the
Days_At_Failure displayed for each REM_NAME and FAILDATE (just as if I was
using a pivot table).

The structure I want is the following:
FAILDATE  REM1                 REM2  REM3 ........ REM N
2000-01-01 # days at failure ................................#days at
failure
2000-01-02 # days at failure ................................#days at
failure
2000-01-03 # days at failure ................................#days at
failure

Here is the dput() of my dataframe:
#I don?t know why R is showing the dates as numbers
#when I do str, it actually shows that FAIL date has type Date
 dput(head(failure_subset2, n=1000))
structure(list(FAILDATE = structure(c(17597, 17597, 17347, 17334,
17148, 17168, 17299, 17402, 17406, 17347, 17505, 17449, 17352,
17931, 17424, 17439, 17406, 17292, 17390, 17373, 17259, 17561,
17563, 17550, 17723, 17814, 17564, 17299, 17307, 17296, 17483,
17644, 17394, 17360, 17850, 17744, 17719, 17712, 17710, 18048,
18069, 17876, 17506, 17821, 18041, 17586, 18069, 18069, 18048,
17899, 17899, 17759, 17732, 17822, 17771, 17821, 17837, 17824,
17469, 17483, 17582, 17613, 18016, 18036, 18030, 17862, 17871,
17899, 17651, 17684, 17844, 17632, 17784, 17855, 17764, 17915,
18245, 18260, 18166, 18295, 18094, 18062, 18083, 18223, 18237,
18197, 18284, 18289, 18218, 18218, 18298, 18297, 18299, 17910,
18089, 18304, 18141, 18272, 18387, 18183, 18184, 18422, 18422,
18422, 18038, 17988, 18413, 17836, 18328, 18230, 18011, 18011,
17991, 18041, 18041, 18070, 18432, 18031, 18165, 18345, 18386,
17899, 18374, 18427, 18098, 18416, 18397, 18458, 18126, 18126,
18123, 18286, 17827, 18069, 18081, 18505, 18508, 18086, 18468,
18482, 18107, 18146, 18371, 18368, 18186, 18270, 17772, 18054,
17959, 18106, 18148, 18380, 18398, 17921, 18265, 18273, 18030,
18473, 18166, 18006, 18006, 18006, 18000, 17938, 18155, 18175,
18047, 18503, 18042, 18072, 17964, 18223, 17850, 17871, 18071,
18174, 18154, 18153, 18344, 18384, 18512, 18112, 18131, 18085,
18094, 18096, 18100, 18477, 17967, 17752, 17964, 18491, 18124,
18115, 18166, 17912, 18489, 18087, 18130, 18170, 18169, 18175,
18177, 18226, 18376, 18374, 18217, 18226, 18135, 18136, 17942,
18099, 18031, 18032, 18107, 18041, 18062, 18078, 18087, 18249,
18081, 18231, 18195, 18192, 18213, 18209, 18156, 18157, 18157,
18158, 18159, 18053, 18221, 18185, 18311, 18239, 18258, 18390,
18390, 17997, 18197, 18095, 18145, 18101, 18194, 18260, 18260,
18202, 18447, 18450, 18088, 18249, 18206, 18290, 17995, 18270,
18282, 18251, 18157, 18094, 18437, 18299, 18333, 18035, 18146,
18010, 18395, 18204, 18259, 18311, 18335, 18444, 18444, 18453,
18453, 18192, 18098, 17969, 17680, 18147, 18147, 17977, 17996,
18001, 18399, 18432, 18354, 18147, 17912, 17995, 17995, 18221,
18428, 18447, 18452, 18264, 18321, 18334, 18386, 18156, 18371,
18345, 18156, 18164, 18029, 18433, 17602, 17931, 18290, 18339,
18424, 18052, 18052, 18166, 18540, 18783, 18166, 18607, 18606,
18606, 18594, 18592, 18805, 18648, 18768, 18887, 18888, 18648,
18630, 18812, 18812, 18845, 18932, 18418, 18950, 18166, 18702,
18684, 18812, 18589, 18597, 18611, 18648, 18577, 19024, 19041,
19043, 18768, 19216, 18787, 19159, 18529, 18589, 18646, 18166,
18571, 18637, 18624, 18716, 18166, 18568, 18527, 18535, 18542,
18494, 18846, 18166, 18877, 18548, 18659, 18839, 18905, 18632,
18804, 18648, 18892, 18921, 18718, 18805, 18805, 18561, 18682,
18943, 18949, 18542, 18927, 18409, 19047, 19059, 18524, 18941,
18941, 18941, 18648, 19044, 18758, 19034, 18609, 18788, 18812,
18676, 19194, 18740, 18812, 18842, 18659, 19042, 18230, 19036,
19144, 19032, 18542, 19097, 18564, 18166, 18552, 18557, 18467,
19002, 19174, 18624, 18828, 18542, 18542, 18686, 18628, 18702,
19227, 19239, 19264, 17597, 17470, 17401, 17344, 17562, 17578,
17476, 17539, 17348, 17326, 17420, 17423, 17427, 17347, 17359,
17372, 17385, 17365, 17365, 17598, 17977, 17977, 17736, 17684,
17612, 17792, 17220, 17310, 17452, 17641, 17813, 17407, 17712,
17697, 17752, 17694, 17724, 17862, 17865, 17633, 18048, 17815,
17911, 17753, 17818, 17784, 17619, 17697, 17381, 17641, 17449,
17456, 17555, 17564, 17574, 17793, 17889, 17869, 17885, 17890,
17903, 17912, 17809, 17891, 17846, 17916, 18019, 18234, 18180,
18181, 18292, 18140, 18036, 18289, 18278, 18298, 18297, 18295,
18319, 18313, 17936, 17939, 18109, 18340, 18166, 18206, 18204,
17904, 17998, 18269, 18165, 18120, 18349, 18368, 18416, 18416,
18025, 18322, 17989, 17830, 17845, 17869, 18065, 18328, 18324,
17944, 17920, 18433, 17962, 18169, 18170, 18171, 18340, 18393,
18070, 18083, 18087, 18108, 18116, 18142, 18386, 18425, 18464,
18498, 18400, 17931, 18459, 18126, 18124, 18310, 18228, 17828,
17851, 18143, 18028, 18425, 18416, 18482, 18482, 18396, 18428,
18414, 18441, 18240, 18146, 18370, 18403, 18367, 17975, 17987,
17771, 17976, 18068, 18091, 18466, 18002, 18023, 18166, 18438,
18426, 18473, 18470, 18173, 18124, 18067, 17929, 18236, 17847,
17850, 18033, 17906, 17935, 18435, 17925, 17520, 17925, 18065,
18087, 18101, 18116, 18123, 18200, 18002, 18432, 18166, 18484,
18130, 18128, 18122, 18122, 18384, 18442, 18124, 18053, 18437,
17844, 17837, 18265, 17981, 18165, 18163, 18084, 18116, 18113,
18141, 18237, 18241, 18163, 18167, 18173, 18177, 18009, 18299,
18006, 17996, 18038, 18040, 18040, 17989, 18085, 18192, 18192,
18202, 18213, 18210, 18158, 18157, 18236, 18224, 18114, 18134,
18327, 18240, 18078, 18280, 18351, 18320, 18281, 17975, 18258,
18088, 18135, 18230, 18267, 18186, 18253, 18279, 18291, 18291,
17995, 17995, 17995, 18108, 18293, 18066, 18023, 18138, 18149,
18285, 17946, 17809, 17939, 17948, 18130, 18317, 18198, 18443,
18103, 17961, 18040, 18113, 17551, 18073, 18099, 18339, 17931,
17978, 18165, 18210, 17981, 18371, 17995, 17995, 18196, 18341,
17993, 18409, 18432, 18334, 18361, 18375, 18148, 18164, 18417,
18166, 17931, 17967, 17984, 17390, 18092, 18407, 18303, 18542,
18855, 18424, 18640, 18608, 18805, 18648, 18879, 18437, 18633,
18915, 18437, 18775, 18396, 18605, 18557, 18824, 18838, 18845,
18388, 18598, 18723, 19021, 18565, 18560, 19079, 18589, 18765,
18606, 18837, 18848, 18561, 18702, 18571, 18673, 18230, 18706,
19158, 18568, 18159, 18706, 18819, 18601, 19129, 19107, 19184,
18166, 18655, 18694, 18694, 18798, 18700, 18722, 18712, 18884,
18666, 18664, 18702, 18648, 18652, 18718, 18890, 18897, 18920,
18467, 18561, 18671, 18648, 18928, 18929, 18519, 19054, 18614,
18702, 18758, 18758, 19149, 18550, 18653, 18674, 18676, 18166,
18702, 18710, 18671, 18639, 18838, 18548, 18649, 18659, 18659,
18782, 18782, 18641, 18629, 18837, 18847, 18847, 18805, 18808,
18724, 19032, 18576, 18575, 18648, 18812, 19005, 18978, 19079,
19152, 19053, 19178, 18624, 19098, 18639, 18799, 18643, 18725,
18778, 17189, 17433, 17269, 17356, 17494, 17445, 17381, 17449,
17539, 17539, 17590, 17583, 17545, 17484, 17404, 17406, 17413,
17427, 17436, 17347, 17368, 17388, 17390, 17394, 17357, 17361,
17352, 17453, 17555, 17684, 17222, 17719, 17224, 17463, 17478,
17656, 17613, 17827, 17709, 17849, 17806, 17444, 17861, 17639,
18069, 17876, 18038, 17751, 17644, 17771, 17717, 17641, 17687,
17723, 17564, 17612, 17882, 17858, 17721, 17894, 17908, 17832,
17771, 17771, 17631, 17665, 17630, 17918, 17918, 17865, 17622,
17908, 17483, 18245, 18256, 18306, 17922, 18140, 18062, 18223,
18237, 18285, 18298, 18293, 18293, 18298, 18292, 18322, 18305,
18340, 18300, 18305, 18118, 17914, 18221, 18512, 17822, 17851,
17882, 18334, 18122, 17934, 17982, 17991, 18167, 18168, 18437,
18436, 17987, 18166, 18169, 18230, 18083, 18418, 18433, 18498,
17977, 18458, 18127, 18124, 18124, 18173, 18428, 18137, 18325,
18464, 18298, 18285, 18482, 18482, 18482, 18488, 18442, 18166,
18147, 18011, 17987, 18086, 18439, 17900, 17778, 18074, 18175,
18151, 18063, 18277, 18277, 18236, 18278), class = "Date"), REM_NAME =
c("REMAZUL",
"REMJEFE", "REMBDELT", "REMDARIEN", "REMPANAMA", "REMBAYANO",
"REMUNIDAD", "REMBELEN", "REMBELEN", "REMTONOSI", "REMLOSSANTOS",
"REMLOSSANTOS", "REMTUIRA", "REMESTI", "REMAZUL", "REMCOLON",
"REMVERAGUAS", "REMSANTIAGO", "REMBDELT", "REMBDELT", "REMCHIRIQUI",
"REMSANTIAGO", "REMPANAMA", "REMCALOV", "REMCALOV", "REMDARIEN",
"REMITAMUT", "REMTUIRA", "REMINDIO", "REMBDELT", "REMBAYANO",
"REMUNIDAD", "REMCHIRIQUI", "REMPANAMA", "REMBELEN", "REMTUIRA",
"REMCHIRIQUI", "REMPEQUENI", "REMBDELT", "REMCHANG", "REMTUIRA",
"REMBELEN", "REMTERIBE", "REMDARIEN", "REMINDIO", "REMFARFAN",
"REMCHANG", "REMCHIRIQUI", "REMCOCLE", "REMITAMUT", "REMLIDER",
"REMDOLEGA", "REMMCAULIFFE", "REMPACORA", "REMTERIBE", "REMMCAULIFFE",
"REMCHANG", "REMGUARDIA", "REMUNIDAD", "REMCHANG", "REMUNIDAD",
"REMGUARDIA", "REMCOCLE", "REMCHANG", "REMCHANG", "REMPEQUENI",
"REMTUIRA", "REMDARIEN", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
"REMPARITA", "REMCALOV", "REMBAYANO", "REMGUARDIA", "REMLOSSANTOS",
"REMPICACHO", "REMTERIBE", "REMPICACHO", "REMCHIRIQUI", "REMESTI",
"REMINDIO", "REMCHANG", "REMSANTIAGO", "REMSIXAOLA", "REMCOCLE",
"REMFARFAN", "REMLOSSANTOS", "REMHERRERA", "REMHERRERA", "REMITAMUT",
"REMPEQUENI", "REMESTI", "REMPANDO", "REMHAYNES", "REMCHIRIQUI",
"REMPANAMA", "REMBELEN", "REMBAYANO", "REMESTI", "REMESTI", "REMPEQUENI",
"REMBELEN", "REMFARFAN", "REMCHIRIQUI", "REMBAYANO", "REMLOSSANTOS",
"REMCHANG", "REMBELEN", "REMSAJALICES", "REMCHIRIQUI", "REMCHIRIQUI",
"REMCOLON", "REMBAYANO", "REMBAYANO", "REMINDIO", "REMAZUL",
"REMCACIQUE", "REMITAMUT", "REMBAYANO", "REMPICACHO", "REMLOSSANTOS",
"REMUNIDAD", "REMTONOSI", "REMSANTIAGO", "REMHERRERA", "REMTERIBE",
"REMCACIQUE", "REMHAYNES", "REMHAYNES", "REMPARITA", "REMLIDER",
"REMMCAULIFFE", "REMCHANG", "REMESTI", "REMESTI", "REMAZUL",
"REMLOSSANTOS", "REMINDIO", "REMFARFAN", "REMJEFE", "REMPEQUENI",
"REMMCAULIFFE", "REMAZUL", "REMFARFAN", "REMPICACHO", "REMDARIEN",
"REMJEFE", "REMUNIDAD", "REMPEQUENI", "REMPANAMA", "REMITAMUT",
"REMBAYANO", "REMPEQUENI", "REMHERRERA", "REMPARITA", "REMHAYNES",
"REMITAMUT", "REMBDELT", "REMHERRERA", "REMHERRERA", "REMCOCLE",
"REMSANTIAGO", "REMCHANG", "REMPEQUENI", "REMBDELT", "REMTERIBE",
"REMCOLON", "REMFARFAN", "REMCALOV", "REMPACORA", "REMITAMUT",
"REMTONOSI", "REMGUIA", "REMFARFAN", "REMITAMUT", "REMBELEN",
"REMLOSSANTOS", "REMCALOV", "REMTONOSI", "REMVERAGUAS", "REMBDELT",
"REMPANAMA", "REMPICACHO", "REMLIDER", "REMGUARDIA", "REMTERIBE",
"REMDARIEN", "REMMAJAGUAL", "REMSANTIAGO", "REMHAYNES", "REMPICACHO",
"REMPARITA", "REMTUIRA", "REMTUIRA", "REMLOSSANTOS", "REMPACORA",
"REMPICACHO", "REMPACORA", "REMTERIBE", "REMBELEN", "REMFARFAN",
"REMLIDER", "REMCOLON", "REMCHANG", "REMPICACHO", "REMLIDER",
"REMBELEN", "REMPEQUENI", "REMPEQUENI", "REMPICACHO", "REMTERIBE",
"REMPICACHO", "REMPICACHO", "REMAZUL", "REMPARITA", "REMPARITA",
"REMLOSSANTOS", "REMCOLON", "REMSIXAOLA", "REMHERRERA", "REMMCAULIFFE",
"REMCHIRIQUI", "REMAZUL", "REMPARITA", "REMHERRERA", "REMPEQUENI",
"REMTONOSI", "REMPEQUENI", "REMTONOSI", "REMPEQUENI", "REMSIXAOLA",
"REMESTI", "REMLIDER", "REMBELEN", "REMMCAULIFFE", "REMHERRERA",
"REMCOCLE", "REMCOLON", "REMESTI", "REMCOCLE", "REMBAYANO", "REMPARITA",
"REMSANTIAGO", "REMAZUL", "REMPARITA", "REMPARITA", "REMCOCLE",
"REMPARITA", "REMDARIEN", "REMITAMUT", "REMTONOSI", "REMPICACHO",
"REMAZUL", "REMCACIQUE", "REMBELEN", "REMCACIQUE", "REMPEQUENI",
"REMDARIEN", "REMCHIRIQUI", "REMCHANG", "REMTUIRA", "REMBELEN",
"REMLIDER", "REMHERRERA", "REMCALOV", "REMINDIO", "REMESTI",
"REMHAYNES", "REMCOCLE", "REMGUIA", "REMCOCLE", "REMCOCLE", "REMDARIEN",
"REMCACIQUE", "REMCALOV", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
"REMCHIRIQUI", "REMCACIQUE", "REMCACIQUE", "REMHAYNES", "REMHAYNES",
"REMAZUL", "REMPACORA", "REMCALOV", "REMCACIQUE", "REMCOLON",
"REMBELEN", "REMUNIDAD", "REMINDIO", "REMDOLEGA", "REMTERIBE",
"REMBELEN", "REMTUIRA", "REMINDIO", "REMJEFE", "REMBAYANO", "REMCHANG",
"REMPARITA", "REMCOLON", "REMBELEN", "REMFARFAN", "REMESTI",
"REMCACIQUE", "REMLOSSANTOS", "REMHERRERA", "REMDARIEN", "REMUNIDAD",
"REMPACORA", "REMCHIRIQUI", "REMBELEN", "REMBAYANO", "REMLOSSANTOS",
"REMTERIBE", "REMSIXAOLA", "REMCOLON", "REMESTI", "REMFARFAN",
"REMFARFAN", "REMUNIDAD", "REMBDELT", "REMTERIBE", "REMDOLEGA",
"REMCALOV", "REMCALOV", "REMESTI", "REMCOCLE", "REMPARITA", "REMPARITA",
"REMTERIBE", "REMFARFAN", "REMPEQUENI", "REMTERIBE", "REMPICACHO",
"REMHAYNES", "REMDOLEGA", "REMPARITA", "REMDOLEGA", "REMVERAGUAS",
"REMCOCLE", "REMLOSSANTOS", "REMITAMUT", "REMPARITA", "REMPARITA",
"REMTERIBE", "REMTERIBE", "REMHERRERA", "REMTERIBE", "REMBDELT",
"REMBAYANO", "REMDOLEGA", "REMINDIO", "REMJEFE", "REMINDIO",
"REMDOLEGA", "REMPICACHO", "REMCOCLE", "REMPARITA", "REMHAYNES",
"REMCOCLE", "REMPANAMA", "REMAZUL", "REMSANTIAGO", "REMPARITA",
"REMJEFE", "REMTERIBE", "REMLOSSANTOS", "REMSIXAOLA", "REMCHIRIQUI",
"REMPARITA", "REMVERAGUAS", "REMCHIRIQUI", "REMPANAMA", "REMCALOV",
"REMTERIBE", "REMVERAGUAS", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
"REMESTI", "REMLOSSANTOS", "REMTERIBE", "REMESTI", "REMTERIBE",
"REMLIDER", "REMTERIBE", "REMTERIBE", "REMCOLON", "REMTERIBE",
"REMTERIBE", "REMTERIBE", "REMTUIRA", "REMMCAULIFFE", "REMPACORA",
"REMTERIBE", "REMVERAGUAS", "REMPARITA", "REMPARITA", "REMSIXAOLA",
"REMPACORA", "REMPEQUENI", "REMPARITA", "REMPACORA", "REMPEQUENI",
"REMTERIBE", "REMSAJALICES", "REMTERIBE", "REMTERIBE", "REMGUIA",
"REMTONOSI", "REMPARITA", "REMCALOV", "REMBAYANO", "REMCOCLE",
"REMJEFE", "REMESTI", "REMPARITA", "REMESTI", "REMFARFAN", "REMPARITA",
"REMTERIBE", "REMAZUL", "REMBELEN", "REMCACIQUE", "REMTUIRA",
"REMPACORA", "REMESTI", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
"REMCHIRIQUI", "REMTUIRA", "REMCOLON", "REMCOCLE", "REMDOLEGA",
"REMPANAMA", "REMDOLEGA", "REMTERIBE", "REMCOCLE", "REMJEFE",
"REMBAYANO", "REMJEFE", "REMGUIA", "REMSIXAOLA", "REMHERRERA",
"REMCOCLE", "REMSIXAOLA", "REMBAYANO", "REMPARITA", "REMPANAMA",
"REMDOLEGA", "REMLOSSANTOS", "REMITAMUT", "REMBELEN", "REMCHIRIQUI",
"REMCHIRIQUI", "REMBAYANO", "REMTERIBE", "REMPANAMA", "REMCHIRIQUI",
"REMPACORA", "REMBDELT", "REMTUIRA", "REMHAYNES", "REMCACIQUE",
"REMSIXAOLA", "REMITAMUT", "REMPARITA", "REMCOCLE", "REMTONOSI",
"REMGUIA", "REMCOCLE", "REMHERRERA", "REMSAJALICES", "REMINDIO",
"REMJEFE", "REMCOCLE", "REMSIXAOLA", "REMVERAGUAS", "REMUNIDAD",
"REMCALOV", "REMCOCLE", "REMSANTIAGO", "REMBAYANO", "REMSANTIAGO",
"REMPARITA", "REMTONOSI", "REMCHIRIQUI", "REMCOCLE", "REMLIDER",
"REMSANTIAGO", "REMCHIRIQUI", "REMFARFAN", "REMAZUL", "REMGUIA",
"REMITAMUT", "REMESTI", "REMTERIBE", "REMPARITA", "REMHAYNES",
"REMCHANG", "REMHERRERA", "REMLIDER", "REMITAMUT", "REMPEQUENI",
"REMPARITA", "REMDARIEN", "REMBAYANO", "REMMAJAGUAL", "REMMAJAGUAL",
"REMCANAJAGUA", "REMPARITA", "REMBAYANO", "REMTERIBE", "REMHERRERA",
"REMPARITA", "REMTUIRA", "REMGUARDIA", "REMJEFE", "REMITAMUT",
"REMLOSSANTOS", "REMBAYANO", "REMPARITA", "REMBAYANO", "REMESTI",
"REMLOSSANTOS", "REMAZUL", "REMSANTIAGO", "REMCHANG", "REMCOLON",
"REMTUIRA", "REMFARFAN", "REMTUIRA", "REMVERAGUAS", "REMLOSSANTOS",
"REMTONOSI", "REMSAJALICES", "REMTERIBE", "REMSIXAOLA", "REMPICACHO",
"REMVERAGUAS", "REMBAYANO", "REMVERAGUAS", "REMFARFAN", "REMCHIRIQUI",
"REMPARITA", "REMPARITA", "REMESTI", "REMBAYANO", "REMCHIRIQUI",
"REMITAMUT", "REMESTI", "REMBELEN", "REMCACIQUE", "REMTERIBE",
"REMPICACHO", "REMPICACHO", "REMESTI", "REMPICACHO", "REMCHANG",
"REMCHANG", "REMITAMUT", "REMHERRERA", "REMCHIRIQUI", "REMESTI",
"REMGUARDIA", "REMCACIQUE", "REMCHANG", "REMBELEN", "REMBDELT",
"REMAZUL", "REMPEQUENI", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS",
"REMESTI", "REMMAJAGUAL", "REMBDELT", "REMTUIRA", "REMESTI",
"REMSANTIAGO", "REMPEQUENI", "REMESTI", "REMHAYNES", "REMPACORA",
"REMDARIEN", "REMLOSSANTOS", "REMDARIEN", "REMTERIBE", "REMPARITA",
"REMLIDER", "REMITAMUT", "REMPACORA", "REMCALOV", "REMBELEN",
"REMTONOSI", "REMTONOSI", "REMVERAGUAS", "REMPACORA", "REMTERIBE",
"REMPARITA", "REMGUARDIA", "REMSANTIAGO", "REMCACIQUE", "REMTERIBE",
"REMTUIRA", "REMESTI", "REMLOSSANTOS", "REMTUIRA", "REMTUIRA",
"REMCOCLE", "REMPICACHO", "REMDARIEN", "REMBELEN", "REMITAMUT",
"REMGUIA", "REMHAYNES", "REMSAJALICES", "REMCHIRIQUI", "REMHERRERA",
"REMPACORA", "REMBAYANO", "REMCOLON", "REMPACORA", "REMCOLON",
"REMJEFE", "REMCOLON", "REMESTI", "REMBDELT", "REMPICACHO", "REMPEQUENI",
"REMVERAGUAS", "REMTERIBE", "REMLIDER", "REMAZUL", "REMHERRERA",
"REMBELEN", "REMJEFE", "REMESTI", "REMESTI", "REMVERAGUAS", "REMESTI",
"REMBAYANO", "REMBAYANO", "REMHAYNES", "REMESTI", "REMLOSSANTOS",
"REMTUIRA", "REMAZUL", "REMPICACHO", "REMDARIEN", "REMJEFE",
"REMLOSSANTOS", "REMPEQUENI", "REMPEQUENI", "REMGRANDE", "REMITAMUT",
"REMBAYANO", "REMTERIBE", "REMSIXAOLA", "REMESTI", "REMSANTIAGO",
"REMUNIDAD", "REMBAYANO", "REMBAYANO", "REMCACIQUE", "REMJEFE",
"REMSIXAOLA", "REMUNIDAD", "REMPARITA", "REMCOCLE", "REMSIXAOLA",
"REMESTI", "REMDARIEN", "REMCACIQUE", "REMAZUL", "REMFARFAN",
"REMMCAULIFFE", "REMCHIRIQUI", "REMCALOV", "REMLOSSANTOS", "REMDOLEGA",
"REMCHIRIQUI", "REMCHANG", "REMCHANG", "REMFARFAN", "REMCHIRIQUI",
"REMBELEN", "REMCANAJAGUA", "REMLIDER", "REMMCAULIFFE", "REMAZUL",
"REMBELEN", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS", "REMCHIRIQUI",
"REMCACIQUE", "REMTERIBE", "REMTUIRA", "REMCACIQUE", "REMESTI",
"REMTUIRA", "REMHERRERA", "REMCAMPANA", "REMLOSSANTOS", "REMINDIO",
"REMAZUL", "REMPEQUENI", "REMUNIDAD", "REMBDELT", "REMSANTIAGO",
"REMITAMUT", "REMSAJALICES", "REMCHIRIQUI", "REMPICACHO", "REMHAYNES",
"REMBAYANO", "REMCHIRIQUI", "REMCOLON", "REMTERIBE", "REMTONOSI",
"REMLIDER", "REMHERRERA", "REMSAJALICES", "REMPARITA", "REMCANAJAGUA",
"REMBDELT", "REMLOSSANTOS", "REMFARFAN", "REMESTI", "REMUNIDAD",
"REMTERIBE", "REMPICACHO", "REMPACORA", "REMBDELT", "REMITAMUT",
"REMGUIA", "REMESTI", "REMCOCLE", "REMPARITA", "REMJEFE", "REMVERAGUAS",
"REMPICACHO", "REMCHANG", "REMITAMUT", "REMHERRERA", "REMSIXAOLA",
"REMPARITA", "REMPANAMA", "REMVERAGUAS", "REMVERAGUAS", "REMTERIBE",
"REMPARITA", "REMBAYANO", "REMTERIBE", "REMCOLON", "REMTERIBE",
"REMTERIBE", "REMDOLEGA", "REMPARITA", "REMBDELT", "REMMCAULIFFE",
"REMINDIO", "REMITAMUT", "REMSAJALICES", "REMTERIBE", "REMBDELT",
"REMLOSSANTOS", "REMLOSSANTOS", "REMCHANG", "REMTERIBE", "REMBAYANO",
"REMPARITA", "REMPARITA", "REMESTI", "REMESTI", "REMTERIBE",
"REMPARITA", "REMPARITA", "REMPARITA", "REMTERIBE", "REMVERAGUAS",
"REMGUARDIA", "REMHERRERA", "REMLOSSANTOS", "REMFARFAN", "REMLIDER",
"REMLOSSANTOS", "REMCOCLE", "REMPICACHO", "REMCALOV", "REMPARITA",
"REMTERIBE", "REMBAYANO", "REMCACIQUE", "REMLOSSANTOS", "REMAZUL",
"REMTERIBE", "REMTERIBE", "REMESTI", "REMMCAULIFFE", "REMLIDER",
"REMBAYANO", "REMCHIRIQUI", "REMCHIRIQUI", "REMMCAULIFFE", "REMCACIQUE",
"REMBAYANO", "REMAZUL", "REMCACIQUE", "REMESTI", "REMAZUL", "REMVERAGUAS",
"REMUNIDAD", "REMPICACHO", "REMGUARDIA", "REMTERIBE", "REMLOSSANTOS",
"REMPEQUENI", "REMDOLEGA", "REMTERIBE", "REMTERIBE", "REMFARFAN",
"REMLOSSANTOS", "REMBDELT", "REMCHIRIQUI", "REMVERAGUAS", "REMVERAGUAS",
"REMTERIBE", "REMHERRERA", "REMGUIA", "REMFARFAN", "REMBDELT",
"REMBELEN", "REMCACIQUE", "REMTERIBE", "REMPARITA", "REMBDELT",
"REMPARITA", "REMPARITA", "REMPARITA", "REMFARFAN", "REMTERIBE",
"REMFARFAN", "REMTONOSI", "REMHAYNES", "REMVERAGUAS", "REMITAMUT",
"REMBAYANO", "REMBDELT", "REMDARIEN", "REMDARIEN", "REMSANTIAGO",
"REMCACIQUE", "REMDOLEGA", "REMSANTIAGO", "REMCHIRIQUI", "REMCACIQUE",
"REMUNIDAD", "REMBELEN", "REMCHIRIQUI", "REMITAMUT", "REMCOLON",
"REMCACIQUE", "REMPACORA", "REMLOSSANTOS", "REMCOLON", "REMJEFE",
"REMSIXAOLA", "REMUNIDAD", "REMTUIRA", "REMPANAMA", "REMSAJALICES",
"REMDARIEN", "REMCOLON", "REMDOLEGA", "REMCALOV", "REMAZUL",
"REMPARITA", "REMTUIRA", "REMLOSSANTOS", "REMJEFE", "REMBAYANO",
"REMCOLON", "REMGUARDIA", "REMSIXAOLA", "REMSIXAOLA", "REMAZUL",
"REMJEFE", "REMESTI", "REMBDELT", "REMPICACHO", "REMCHANG", "REMGUARDIA",
"REMESTI", "REMCOCLE", "REMBELEN", "REMTUIRA", "REMPICACHO",
"REMCOLON", "REMSIXAOLA", "REMANCON", "REMCALOV", "REMSAJALICES",
"REMLIDER", "REMGUIA", "REMBDELT", "REMTONOSI", "REMUNIDAD",
"REMINDIO", "REMTUIRA", "REMCOLON", "REMLIDER", "REMLIDER", "REMLOSSANTOS",
"REMJEFE", "REMJEFE", "REMAZUL", "REMUNIDAD", "REMINDIO", "REMLOSSANTOS",
"REMINDIO", "REMTERIBE", "REMFARFAN", "REMTUIRA", "REMHAYNES",
"REMINDIO", "REMFARFAN", "REMCOCLE", "REMPICACHO", "REMLOSSANTOS",
"REMLIDER", "REMINDIO", "REMITAMUT", "REMTONOSI", "REMUNIDAD",
"REMESTI", "REMLOSSANTOS", "REMANCON", "REMUNIDAD", "REMGRANDE",
"REMESTI", "REMJEFE", "REMITAMUT", "REMESTI", "REMCHANG", "REMDARIEN",
"REMHERRERA", "REMBAYANO", "REMSANTIAGO", "REMMCAULIFFE", "REMCOLON",
"REMCALOV", "REMBDELT", "REMVERAGUAS", "REMSIXAOLA", "REMCOLON",
"REMSANTIAGO", "REMLOSSANTOS", "REMSAJALICES", "REMVERAGUAS",
"REMTONOSI", "REMTONOSI", "REMPEQUENI", "REMDARIEN", "REMCACIQUE",
"REMITAMUT", "REMBELEN", "REMBELEN", "REMLOSSANTOS", "REMTONOSI",
"REMITAMUT", "REMCOCLE", "REMSANTIAGO", "REMITAMUT", "REMJEFE",
"REMFARFAN", "REMHERRERA", "REMCALOV", "REMCOLON", "REMINDIO",
"REMITAMUT", "REMITAMUT", "REMMCAULIFFE", "REMBDELT", "REMPACORA",
"REMTONOSI", "REMPACORA", "REMBAYANO", "REMTERIBE", "REMBELEN",
"REMPACORA", "REMMCAULIFFE", "REMBDELT", "REMCHIRIQUI", "REMSAJALICES",
"REMPARITA"), Days_At_Failure = c(2369, 2369, 3743, 3730, 3158,
3008, 6342, 2215, 2219, 1887, 5469, 5413, 3221, 2644, 2196, 5786,
3802, 1369, 3786, 3769, 3366, 1638, 3573, 2602, 2775, 4210, 1734,
3168, 3228, 3692, 3323, 6687, 3501, 3370, 2663, 3613, 3826, 2580,
4106, 3060, 3938, 2689, 2444, 4217, 3962, 2241, 3081, 4176, 6395,
2069, 6942, 2542, 6775, 2486, 2709, 6864, 2849, 6867, 6512, 2495,
6625, 6656, 6363, 3048, 3042, 2730, 3740, 4295, 5672, 5648, 2508,
2244, 2836, 3695, 6807, 5879, 2358, 3198, 2279, 4402, 2807, 3983,
3095, 2300, 3206, 6544, 2939, 6253, 6239, 6239, 2468, 3165, 3012,
1902, 7132, 4411, 4151, 3085, 4227, 2896, 2897, 3290, 3235, 3077,
4145, 3828, 6377, 2848, 3141, 3122, 4118, 4118, 6338, 3881, 3881,
3991, 3204, 7074, 2335, 4185, 2499, 5863, 7417, 2967, 2175, 6437,
3335, 7501, 7169, 7169, 2735, 7329, 6870, 3081, 2794, 3218, 3280,
6050, 4389, 3137, 2879, 3014, 7414, 3140, 2841, 2383, 4168, 2826,
7002, 2974, 4158, 2550, 4238, 2789, 6286, 2885, 7073, 2643, 4562,
6027, 6027, 6353, 2077, 2950, 3023, 4571, 2985, 6850, 2697, 3124,
2628, 2393, 2390, 6914, 2726, 2344, 2967, 6117, 3396, 2924, 4908,
4508, 4141, 2198, 7137, 7139, 3038, 4873, 1965, 1829, 7007, 2604,
2736, 3984, 4035, 5876, 3153, 2200, 2794, 3108, 2982, 2830, 7220,
6573, 3388, 2487, 7260, 3039, 3003, 3004, 2055, 3037, 2144, 2145,
2879, 2653, 2674, 6042, 6434, 3218, 6102, 7274, 4302, 2964, 2825,
6230, 3024, 2697, 3025, 2698, 3027, 3022, 2934, 7228, 3124, 7282,
6279, 6737, 6737, 2710, 6544, 3935, 2757, 2178, 2966, 2872, 2872,
6549, 3059, 4846, 2258, 2789, 2319, 3062, 7038, 3083, 7325, 3119,
4553, 4201, 3449, 4168, 3146, 7078, 6167, 3062, 4316, 2917, 7302,
6658, 7378, 6791, 6791, 4849, 7496, 3244, 6119, 2633, 5644, 4254,
7190, 7020, 7039, 7044, 2398, 3096, 3406, 7190, 6259, 2808, 7038,
4142, 3211, 3385, 3265, 4133, 4242, 3106, 4226, 3168, 2983, 6692,
2969, 2819, 2742, 7476, 5566, 5952, 4686, 7382, 3088, 4159, 2865,
4006, 6504, 3721, 3135, 6954, 3319, 3261, 3249, 7635, 5201, 3586,
3551, 3939, 3940, 3361, 6977, 3424, 3424, 3783, 3587, 3286, 3888,
2279, 7745, 3467, 3424, 3372, 4993, 6958, 6612, 2747, 3636, 3653,
3981, 3706, 7237, 3725, 5555, 4369, 3372, 4567, 2938, 4492, 3420,
2737, 7063, 2778, 7611, 6874, 4545, 3314, 2571, 3458, 2938, 3815,
6512, 3628, 4946, 3517, 5028, 4911, 4658, 3944, 3859, 5114, 6826,
3469, 6525, 3395, 6907, 3887, 3255, 3865, 7452, 3985, 3997, 6871,
3879, 3879, 3879, 4517, 8087, 3422, 3972, 5005, 3400, 3424, 3645,
3858, 3608, 3424, 3506, 3527, 3980, 3122, 3974, 4082, 8075, 3082,
3709, 3616, 4006, 6899, 3329, 3180, 3614, 3887, 3279, 3440, 3480,
3314, 3499, 7671, 4571, 3891, 3952, 7285, 5561, 2134, 3508, 3213,
5909, 5925, 2259, 3549, 2131, 2264, 5767, 2195, 3267, 2119, 6402,
2341, 5406, 5712, 2334, 3438, 2589, 3987, 2519, 5648, 1782, 2605,
3327, 3417, 3292, 2579, 3823, 3514, 2376, 4093, 3621, 6737, 6767,
2831, 2035, 2245, 6395, 2355, 6954, 6100, 5839, 2676, 3540, 2469,
5728, 2610, 3845, 6499, 2607, 5911, 1651, 3633, 1966, 2481, 2425,
3997, 6250, 6955, 1886, 3998, 2501, 2688, 7062, 2404, 2893, 3119,
2904, 7183, 3048, 6310, 7321, 2468, 3165, 2907, 4715, 4153, 1934,
1937, 2101, 2952, 4006, 3144, 6225, 2516, 3867, 7312, 2937, 2290,
6313, 4208, 3028, 4256, 2738, 6286, 2761, 1907, 2857, 6216, 3934,
2983, 4193, 4340, 5884, 2973, 2854, 3107, 3139, 2284, 4736, 4233,
4466, 2738, 4194, 2720, 2728, 2855, 4226, 4532, 2634, 3211, 3213,
6974, 3397, 2239, 2237, 3023, 2341, 2840, 2863, 2313, 6049, 4532,
3129, 7525, 7525, 3408, 3241, 4810, 2441, 3108, 2316, 3339, 6367,
3080, 1974, 4383, 3640, 2689, 2145, 2959, 3179, 7045, 2687, 4562,
6402, 4822, 3411, 3082, 7216, 2294, 2731, 2981, 3049, 2387, 2390,
4429, 2570, 2873, 3047, 6968, 1597, 6968, 3003, 3956, 2814, 6080,
3992, 4069, 6349, 2545, 4562, 3297, 2300, 7171, 7165, 3014, 4491,
6463, 2788, 3893, 6784, 2508, 6184, 3037, 6328, 2878, 4559, 2197,
2984, 4509, 3079, 7280, 3013, 6184, 2980, 2945, 2890, 2722, 4695,
2719, 3836, 3878, 7083, 2753, 5953, 3954, 2964, 2305, 4598, 2985,
6174, 3026, 3025, 2235, 2394, 3954, 3072, 3296, 2953, 2155, 7323,
4191, 4160, 7324, 2747, 3227, 7131, 2747, 6577, 3236, 2899, 4649,
7322, 3063, 2946, 7038, 4102, 3047, 6072, 3076, 4173, 3035, 3150,
2804, 4392, 2759, 1801, 6982, 6991, 2123, 3130, 2368, 3412, 6067,
4068, 7083, 3051, 3420, 7116, 2812, 4208, 5952, 1978, 6129, 4131,
2753, 3239, 7038, 4391, 2273, 2511, 2885, 4516, 2545, 7377, 4201,
4482, 6495, 3102, 2957, 7209, 5952, 2859, 2596, 1390, 4488, 6371,
2958, 3255, 7898, 3362, 2753, 3272, 5201, 2818, 7922, 3150, 6980,
3527, 3209, 5171, 2509, 3617, 2727, 6845, 3807, 3457, 4398, 4994,
5119, 3959, 3177, 4400, 4017, 6936, 3703, 3544, 3620, 3460, 4957,
7745, 4492, 2843, 3122, 3644, 5554, 6532, 6123, 3718, 3757, 4441,
3741, 3719, 3897, 2879, 3593, 3306, 3306, 3410, 3638, 5118, 7755,
6905, 6630, 3319, 7745, 6612, 6999, 2831, 3942, 3509, 3858, 4307,
7604, 6635, 3420, 3866, 3867, 3232, 8097, 7657, 4542, 4865, 4865,
8192, 7593, 4493, 3446, 7719, 2879, 3474, 5106, 7714, 2752, 7881,
3486, 6613, 3527, 3442, 3720, 3720, 3296, 6593, 5233, 4954, 5243,
5201, 3746, 6745, 8075, 3231, 4971, 3461, 7855, 3943, 3590, 5475,
3764, 3665, 3790, 3279, 4036, 3294, 3339, 7686, 5121, 2948, 3029,
3829, 3665, 3752, 1571, 6488, 2164, 1526, 3646, 6582, 6633, 2396,
3652, 1654, 5751, 6449, 2077, 5391, 5783, 2119, 2337, 6431, 3259,
3404, 2249, 3757, 5699, 2236, 2607, 2456, 1834, 3588, 5188, 2235,
3318, 6003, 6656, 2796, 2678, 1849, 2578, 2157, 4257, 1752, 3081,
6919, 2751, 6098, 2457, 3640, 1830, 5988, 2656, 1722, 2616, 2504,
6925, 6901, 4117, 2434, 6951, 3753, 3640, 6118, 6674, 6708, 5594,
2690, 2690, 2637, 6665, 3829, 5447, 4166, 3194, 2961, 3791, 7183,
3983, 2878, 6584, 2398, 6262, 7336, 4214, 2468, 2832, 7365, 3018,
6304, 2298, 7348, 2110, 2627, 2993, 2682, 2535, 2863, 4278, 6355,
3962, 2011, 7025, 6338, 3219, 4564, 4833, 3405, 6334, 2243, 6133,
3122, 4479, 2958, 2973, 3366, 4373, 7501, 2297, 2937, 2937, 6137,
2968, 2307, 6672, 2541, 2468, 3057, 3137, 6503, 3534, 6835, 4363,
2336, 2317, 7054, 4383, 2750, 2979, 2564, 3618, 3012, 2988, 2815,
7106, 4673, 4384, 3128, 2890)), row.names = c(1L, 2L, 3L, 4L,
5L, 6L, 8L, 9L, 10L, 11L, 15L, 17L, 19L, 20L, 23L, 24L, 25L,
26L, 28L, 29L, 30L, 31L, 32L, 34L, 36L, 39L, 40L, 41L, 42L, 43L,
44L, 45L, 46L, 47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L,
57L, 58L, 60L, 62L, 63L, 64L, 66L, 67L, 68L, 70L, 71L, 72L, 73L,
74L, 75L, 77L, 78L, 79L, 80L, 81L, 83L, 84L, 85L, 86L, 88L, 89L,
90L, 92L, 93L, 94L, 95L, 96L, 97L, 103L, 104L, 105L, 107L, 109L,
112L, 113L, 114L, 115L, 117L, 118L, 119L, 121L, 122L, 123L, 124L,
125L, 128L, 129L, 131L, 132L, 134L, 136L, 137L, 139L, 140L, 141L,
142L, 143L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
154L, 155L, 156L, 158L, 159L, 160L, 161L, 163L, 164L, 166L, 167L,
168L, 170L, 171L, 173L, 174L, 175L, 177L, 179L, 180L, 181L, 182L,
184L, 185L, 186L, 187L, 190L, 192L, 193L, 194L, 195L, 196L, 198L,
199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 208L, 209L, 210L,
211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L, 221L, 222L,
223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L, 231L, 232L, 233L,
234L, 235L, 236L, 237L, 238L, 239L, 241L, 244L, 245L, 246L, 247L,
248L, 250L, 251L, 252L, 253L, 255L, 256L, 257L, 258L, 259L, 260L,
261L, 262L, 263L, 268L, 269L, 271L, 272L, 273L, 274L, 275L, 278L,
279L, 282L, 283L, 285L, 286L, 287L, 288L, 289L, 290L, 291L, 292L,
293L, 294L, 295L, 296L, 297L, 298L, 299L, 302L, 304L, 306L, 307L,
308L, 309L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L, 320L,
321L, 322L, 323L, 324L, 325L, 327L, 328L, 330L, 331L, 332L, 333L,
334L, 335L, 336L, 337L, 339L, 340L, 341L, 342L, 343L, 346L, 350L,
351L, 352L, 353L, 354L, 355L, 357L, 358L, 359L, 361L, 362L, 363L,
364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 374L, 376L, 377L,
378L, 381L, 382L, 383L, 384L, 385L, 387L, 388L, 391L, 393L, 394L,
396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 407L,
408L, 409L, 412L, 413L, 414L, 415L, 416L, 417L, 418L, 419L, 420L,
421L, 422L, 424L, 425L, 426L, 428L, 429L, 430L, 431L, 432L, 435L,
437L, 439L, 440L, 441L, 442L, 445L, 449L, 450L, 451L, 453L, 454L,
455L, 456L, 457L, 458L, 459L, 462L, 463L, 464L, 465L, 467L, 468L,
469L, 472L, 473L, 475L, 476L, 479L, 480L, 485L, 487L, 489L, 490L,
491L, 492L, 493L, 495L, 496L, 497L, 498L, 499L, 500L, 501L, 502L,
503L, 504L, 505L, 506L, 507L, 509L, 512L, 514L, 516L, 517L, 518L,
519L, 520L, 521L, 522L, 523L, 526L, 528L, 530L, 532L, 533L, 534L,
535L, 537L, 538L, 539L, 540L, 544L, 545L, 548L, 549L, 554L, 555L,
556L, 557L, 558L, 560L, 568L, 569L, 571L, 572L, 576L, 577L, 579L,
582L, 583L, 584L, 586L, 587L, 590L, 614L, 629L, 630L, 631L, 632L,
633L, 634L, 636L, 637L, 640L, 642L, 646L, 647L, 648L, 649L, 650L,
651L, 653L, 655L, 656L, 657L, 659L, 660L, 661L, 662L, 663L, 664L,
666L, 667L, 668L, 669L, 670L, 671L, 673L, 674L, 675L, 676L, 677L,
678L, 679L, 681L, 682L, 683L, 684L, 685L, 686L, 688L, 690L, 692L,
693L, 694L, 695L, 696L, 697L, 698L, 699L, 700L, 701L, 703L, 704L,
705L, 706L, 707L, 709L, 710L, 714L, 715L, 716L, 717L, 719L, 720L,
721L, 722L, 723L, 724L, 725L, 726L, 728L, 729L, 730L, 731L, 732L,
733L, 734L, 735L, 736L, 737L, 738L, 739L, 740L, 741L, 742L, 744L,
745L, 747L, 748L, 750L, 751L, 752L, 753L, 754L, 756L, 757L, 758L,
759L, 760L, 761L, 762L, 763L, 764L, 765L, 766L, 767L, 768L, 769L,
771L, 772L, 773L, 774L, 775L, 776L, 777L, 778L, 780L, 781L, 782L,
783L, 784L, 786L, 787L, 788L, 789L, 790L, 791L, 792L, 793L, 794L,
795L, 796L, 797L, 798L, 799L, 800L, 801L, 803L, 806L, 808L, 809L,
810L, 811L, 812L, 813L, 817L, 818L, 819L, 820L, 821L, 822L, 824L,
828L, 829L, 830L, 831L, 832L, 834L, 835L, 836L, 837L, 838L, 839L,
840L, 841L, 842L, 843L, 844L, 845L, 846L, 847L, 849L, 850L, 851L,
852L, 853L, 854L, 856L, 857L, 858L, 860L, 861L, 862L, 863L, 864L,
866L, 868L, 870L, 871L, 872L, 873L, 874L, 875L, 877L, 878L, 879L,
880L, 881L, 882L, 885L, 886L, 887L, 888L, 889L, 891L, 892L, 893L,
894L, 896L, 898L, 899L, 900L, 901L, 903L, 904L, 908L, 909L, 910L,
911L, 912L, 913L, 914L, 915L, 918L, 919L, 920L, 921L, 922L, 924L,
925L, 926L, 929L, 930L, 931L, 932L, 933L, 934L, 935L, 936L, 938L,
939L, 940L, 941L, 942L, 943L, 945L, 946L, 947L, 948L, 949L, 950L,
951L, 953L, 954L, 955L, 956L, 960L, 961L, 962L, 963L, 964L, 966L,
969L, 970L, 972L, 973L, 974L, 975L, 976L, 978L, 979L, 983L, 984L,
985L, 986L, 987L, 988L, 989L, 990L, 991L, 992L, 993L, 994L, 995L,
997L, 998L, 999L, 1001L, 1002L, 1003L, 1004L, 1005L, 1007L, 1008L,
1009L, 1010L, 1011L, 1013L, 1014L, 1015L, 1016L, 1018L, 1019L,
1020L, 1021L, 1022L, 1024L, 1025L, 1026L, 1028L, 1030L, 1033L,
1038L, 1039L, 1040L, 1041L, 1043L, 1044L, 1046L, 1048L, 1049L,
1050L, 1052L, 1053L, 1054L, 1055L, 1056L, 1057L, 1058L, 1059L,
1061L, 1062L, 1063L, 1065L, 1066L, 1067L, 1068L, 1071L, 1072L,
1074L, 1075L, 1076L, 1078L, 1079L, 1083L, 1085L, 1086L, 1087L,
1088L, 1089L, 1092L, 1094L, 1095L, 1096L, 1098L, 1099L, 1100L,
1101L, 1102L, 1103L, 1105L, 1106L, 1108L, 1109L, 1110L, 1114L,
1116L, 1117L, 1118L, 1119L, 1122L, 1123L, 1124L, 1125L, 1127L,
1129L, 1130L, 1131L, 1132L, 1133L, 1134L, 1136L, 1137L, 1139L,
1141L, 1142L, 1143L, 1144L, 1145L, 1146L, 1148L, 1149L, 1150L,
1151L, 1152L, 1155L, 1156L, 1159L, 1160L, 1162L, 1163L, 1164L,
1165L, 1166L, 1174L, 1176L, 1177L, 1180L, 1181L, 1182L, 1185L,
1186L, 1187L, 1191L, 1192L, 1193L, 1234L, 1235L, 1236L, 1237L,
1238L, 1239L, 1241L, 1242L, 1243L, 1244L, 1245L, 1246L, 1248L,
1250L, 1251L, 1252L, 1253L, 1254L, 1255L, 1256L, 1257L, 1259L,
1260L, 1261L, 1262L, 1263L, 1264L, 1266L, 1267L, 1270L, 1271L,
1272L, 1273L, 1274L, 1275L, 1277L, 1278L, 1279L, 1280L, 1281L,
1283L, 1284L, 1285L, 1286L, 1287L, 1288L, 1289L, 1290L, 1291L,
1294L, 1295L, 1297L, 1298L, 1299L, 1300L, 1301L, 1302L, 1304L,
1305L, 1306L, 1307L, 1308L, 1309L, 1310L, 1312L, 1313L, 1314L,
1315L, 1316L, 1317L, 1318L, 1319L, 1321L, 1322L, 1323L, 1324L,
1326L, 1327L, 1328L, 1329L, 1330L, 1333L, 1335L, 1336L, 1337L,
1338L, 1339L, 1340L, 1341L, 1342L, 1344L, 1346L, 1347L, 1348L,
1349L, 1353L, 1354L, 1355L, 1356L, 1358L, 1359L, 1360L, 1362L,
1363L, 1364L, 1365L, 1366L, 1367L, 1369L, 1370L, 1371L, 1372L,
1374L, 1376L, 1377L, 1378L, 1381L, 1382L, 1383L, 1384L, 1385L,
1387L, 1388L, 1389L, 1390L, 1391L, 1392L, 1393L, 1396L, 1397L,
1398L, 1400L, 1401L, 1402L, 1403L, 1407L, 1408L, 1409L, 1410L,
1411L, 1413L, 1414L, 1416L, 1417L, 1418L, 1419L, 1420L, 1422L,
1424L), class = "data.frame")

Any guidance will be greatly appreciated.

Best regards,
Paul

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Wed Oct  4 01:25:24 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 Oct 2023 16:25:24 -0700
Subject: [R] Problems Structuring My Data
In-Reply-To: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>
References: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>
Message-ID: <CAGxFJbQVDP8ydENq-0PRc4BSnRVu9ey2+mOZTvktWFyORhPuTg@mail.gmail.com>

I won't attempt to answer your post here, but:

#I don?t know why R is showing the dates as numbers

Please read the Help files!
You say FAILDATE has "type" = S3 class, "Date".
The first thing ?Dates tells you in the "Details" is:

"Dates are represented as the number of days since 1970-01-01, with
negative values for earlier dates. They are always printed following
the rules of the current Gregorian calendar, even though that calendar
was not in use long ago (it was adopted in 1752 in Great Britain and
its colonies)."

That answers your question without ever needing to post here.

Cheers,
Bert



On Tue, Oct 3, 2023 at 3:18?PM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> Hope you are all doing great. I am working with a dataset which is a subset
> of the original one, that has the following columns: FAILDATE, REM_NAME,
> and Days_At_Failure.
>
> I want to structure the data in such a way that I have the unique FAILDATE
> in "%Y-%m-%d" format, then a column for each REM_NAME and then the
> Days_At_Failure displayed for each REM_NAME and FAILDATE (just as if I was
> using a pivot table).
>
> The structure I want is the following:
> FAILDATE  REM1                 REM2  REM3 ........ REM N
> 2000-01-01 # days at failure ................................#days at
> failure
> 2000-01-02 # days at failure ................................#days at
> failure
> 2000-01-03 # days at failure ................................#days at
> failure
>
> Here is the dput() of my dataframe:
> #I don?t know why R is showing the dates as numbers
> #when I do str, it actually shows that FAIL date has type Date
>  dput(head(failure_subset2, n=1000))
> structure(list(FAILDATE = structure(c(17597, 17597, 17347, 17334,
> 17148, 17168, 17299, 17402, 17406, 17347, 17505, 17449, 17352,
> 17931, 17424, 17439, 17406, 17292, 17390, 17373, 17259, 17561,
> 17563, 17550, 17723, 17814, 17564, 17299, 17307, 17296, 17483,
> 17644, 17394, 17360, 17850, 17744, 17719, 17712, 17710, 18048,
> 18069, 17876, 17506, 17821, 18041, 17586, 18069, 18069, 18048,
> 17899, 17899, 17759, 17732, 17822, 17771, 17821, 17837, 17824,
> 17469, 17483, 17582, 17613, 18016, 18036, 18030, 17862, 17871,
> 17899, 17651, 17684, 17844, 17632, 17784, 17855, 17764, 17915,
> 18245, 18260, 18166, 18295, 18094, 18062, 18083, 18223, 18237,
> 18197, 18284, 18289, 18218, 18218, 18298, 18297, 18299, 17910,
> 18089, 18304, 18141, 18272, 18387, 18183, 18184, 18422, 18422,
> 18422, 18038, 17988, 18413, 17836, 18328, 18230, 18011, 18011,
> 17991, 18041, 18041, 18070, 18432, 18031, 18165, 18345, 18386,
> 17899, 18374, 18427, 18098, 18416, 18397, 18458, 18126, 18126,
> 18123, 18286, 17827, 18069, 18081, 18505, 18508, 18086, 18468,
> 18482, 18107, 18146, 18371, 18368, 18186, 18270, 17772, 18054,
> 17959, 18106, 18148, 18380, 18398, 17921, 18265, 18273, 18030,
> 18473, 18166, 18006, 18006, 18006, 18000, 17938, 18155, 18175,
> 18047, 18503, 18042, 18072, 17964, 18223, 17850, 17871, 18071,
> 18174, 18154, 18153, 18344, 18384, 18512, 18112, 18131, 18085,
> 18094, 18096, 18100, 18477, 17967, 17752, 17964, 18491, 18124,
> 18115, 18166, 17912, 18489, 18087, 18130, 18170, 18169, 18175,
> 18177, 18226, 18376, 18374, 18217, 18226, 18135, 18136, 17942,
> 18099, 18031, 18032, 18107, 18041, 18062, 18078, 18087, 18249,
> 18081, 18231, 18195, 18192, 18213, 18209, 18156, 18157, 18157,
> 18158, 18159, 18053, 18221, 18185, 18311, 18239, 18258, 18390,
> 18390, 17997, 18197, 18095, 18145, 18101, 18194, 18260, 18260,
> 18202, 18447, 18450, 18088, 18249, 18206, 18290, 17995, 18270,
> 18282, 18251, 18157, 18094, 18437, 18299, 18333, 18035, 18146,
> 18010, 18395, 18204, 18259, 18311, 18335, 18444, 18444, 18453,
> 18453, 18192, 18098, 17969, 17680, 18147, 18147, 17977, 17996,
> 18001, 18399, 18432, 18354, 18147, 17912, 17995, 17995, 18221,
> 18428, 18447, 18452, 18264, 18321, 18334, 18386, 18156, 18371,
> 18345, 18156, 18164, 18029, 18433, 17602, 17931, 18290, 18339,
> 18424, 18052, 18052, 18166, 18540, 18783, 18166, 18607, 18606,
> 18606, 18594, 18592, 18805, 18648, 18768, 18887, 18888, 18648,
> 18630, 18812, 18812, 18845, 18932, 18418, 18950, 18166, 18702,
> 18684, 18812, 18589, 18597, 18611, 18648, 18577, 19024, 19041,
> 19043, 18768, 19216, 18787, 19159, 18529, 18589, 18646, 18166,
> 18571, 18637, 18624, 18716, 18166, 18568, 18527, 18535, 18542,
> 18494, 18846, 18166, 18877, 18548, 18659, 18839, 18905, 18632,
> 18804, 18648, 18892, 18921, 18718, 18805, 18805, 18561, 18682,
> 18943, 18949, 18542, 18927, 18409, 19047, 19059, 18524, 18941,
> 18941, 18941, 18648, 19044, 18758, 19034, 18609, 18788, 18812,
> 18676, 19194, 18740, 18812, 18842, 18659, 19042, 18230, 19036,
> 19144, 19032, 18542, 19097, 18564, 18166, 18552, 18557, 18467,
> 19002, 19174, 18624, 18828, 18542, 18542, 18686, 18628, 18702,
> 19227, 19239, 19264, 17597, 17470, 17401, 17344, 17562, 17578,
> 17476, 17539, 17348, 17326, 17420, 17423, 17427, 17347, 17359,
> 17372, 17385, 17365, 17365, 17598, 17977, 17977, 17736, 17684,
> 17612, 17792, 17220, 17310, 17452, 17641, 17813, 17407, 17712,
> 17697, 17752, 17694, 17724, 17862, 17865, 17633, 18048, 17815,
> 17911, 17753, 17818, 17784, 17619, 17697, 17381, 17641, 17449,
> 17456, 17555, 17564, 17574, 17793, 17889, 17869, 17885, 17890,
> 17903, 17912, 17809, 17891, 17846, 17916, 18019, 18234, 18180,
> 18181, 18292, 18140, 18036, 18289, 18278, 18298, 18297, 18295,
> 18319, 18313, 17936, 17939, 18109, 18340, 18166, 18206, 18204,
> 17904, 17998, 18269, 18165, 18120, 18349, 18368, 18416, 18416,
> 18025, 18322, 17989, 17830, 17845, 17869, 18065, 18328, 18324,
> 17944, 17920, 18433, 17962, 18169, 18170, 18171, 18340, 18393,
> 18070, 18083, 18087, 18108, 18116, 18142, 18386, 18425, 18464,
> 18498, 18400, 17931, 18459, 18126, 18124, 18310, 18228, 17828,
> 17851, 18143, 18028, 18425, 18416, 18482, 18482, 18396, 18428,
> 18414, 18441, 18240, 18146, 18370, 18403, 18367, 17975, 17987,
> 17771, 17976, 18068, 18091, 18466, 18002, 18023, 18166, 18438,
> 18426, 18473, 18470, 18173, 18124, 18067, 17929, 18236, 17847,
> 17850, 18033, 17906, 17935, 18435, 17925, 17520, 17925, 18065,
> 18087, 18101, 18116, 18123, 18200, 18002, 18432, 18166, 18484,
> 18130, 18128, 18122, 18122, 18384, 18442, 18124, 18053, 18437,
> 17844, 17837, 18265, 17981, 18165, 18163, 18084, 18116, 18113,
> 18141, 18237, 18241, 18163, 18167, 18173, 18177, 18009, 18299,
> 18006, 17996, 18038, 18040, 18040, 17989, 18085, 18192, 18192,
> 18202, 18213, 18210, 18158, 18157, 18236, 18224, 18114, 18134,
> 18327, 18240, 18078, 18280, 18351, 18320, 18281, 17975, 18258,
> 18088, 18135, 18230, 18267, 18186, 18253, 18279, 18291, 18291,
> 17995, 17995, 17995, 18108, 18293, 18066, 18023, 18138, 18149,
> 18285, 17946, 17809, 17939, 17948, 18130, 18317, 18198, 18443,
> 18103, 17961, 18040, 18113, 17551, 18073, 18099, 18339, 17931,
> 17978, 18165, 18210, 17981, 18371, 17995, 17995, 18196, 18341,
> 17993, 18409, 18432, 18334, 18361, 18375, 18148, 18164, 18417,
> 18166, 17931, 17967, 17984, 17390, 18092, 18407, 18303, 18542,
> 18855, 18424, 18640, 18608, 18805, 18648, 18879, 18437, 18633,
> 18915, 18437, 18775, 18396, 18605, 18557, 18824, 18838, 18845,
> 18388, 18598, 18723, 19021, 18565, 18560, 19079, 18589, 18765,
> 18606, 18837, 18848, 18561, 18702, 18571, 18673, 18230, 18706,
> 19158, 18568, 18159, 18706, 18819, 18601, 19129, 19107, 19184,
> 18166, 18655, 18694, 18694, 18798, 18700, 18722, 18712, 18884,
> 18666, 18664, 18702, 18648, 18652, 18718, 18890, 18897, 18920,
> 18467, 18561, 18671, 18648, 18928, 18929, 18519, 19054, 18614,
> 18702, 18758, 18758, 19149, 18550, 18653, 18674, 18676, 18166,
> 18702, 18710, 18671, 18639, 18838, 18548, 18649, 18659, 18659,
> 18782, 18782, 18641, 18629, 18837, 18847, 18847, 18805, 18808,
> 18724, 19032, 18576, 18575, 18648, 18812, 19005, 18978, 19079,
> 19152, 19053, 19178, 18624, 19098, 18639, 18799, 18643, 18725,
> 18778, 17189, 17433, 17269, 17356, 17494, 17445, 17381, 17449,
> 17539, 17539, 17590, 17583, 17545, 17484, 17404, 17406, 17413,
> 17427, 17436, 17347, 17368, 17388, 17390, 17394, 17357, 17361,
> 17352, 17453, 17555, 17684, 17222, 17719, 17224, 17463, 17478,
> 17656, 17613, 17827, 17709, 17849, 17806, 17444, 17861, 17639,
> 18069, 17876, 18038, 17751, 17644, 17771, 17717, 17641, 17687,
> 17723, 17564, 17612, 17882, 17858, 17721, 17894, 17908, 17832,
> 17771, 17771, 17631, 17665, 17630, 17918, 17918, 17865, 17622,
> 17908, 17483, 18245, 18256, 18306, 17922, 18140, 18062, 18223,
> 18237, 18285, 18298, 18293, 18293, 18298, 18292, 18322, 18305,
> 18340, 18300, 18305, 18118, 17914, 18221, 18512, 17822, 17851,
> 17882, 18334, 18122, 17934, 17982, 17991, 18167, 18168, 18437,
> 18436, 17987, 18166, 18169, 18230, 18083, 18418, 18433, 18498,
> 17977, 18458, 18127, 18124, 18124, 18173, 18428, 18137, 18325,
> 18464, 18298, 18285, 18482, 18482, 18482, 18488, 18442, 18166,
> 18147, 18011, 17987, 18086, 18439, 17900, 17778, 18074, 18175,
> 18151, 18063, 18277, 18277, 18236, 18278), class = "Date"), REM_NAME =
> c("REMAZUL",
> "REMJEFE", "REMBDELT", "REMDARIEN", "REMPANAMA", "REMBAYANO",
> "REMUNIDAD", "REMBELEN", "REMBELEN", "REMTONOSI", "REMLOSSANTOS",
> "REMLOSSANTOS", "REMTUIRA", "REMESTI", "REMAZUL", "REMCOLON",
> "REMVERAGUAS", "REMSANTIAGO", "REMBDELT", "REMBDELT", "REMCHIRIQUI",
> "REMSANTIAGO", "REMPANAMA", "REMCALOV", "REMCALOV", "REMDARIEN",
> "REMITAMUT", "REMTUIRA", "REMINDIO", "REMBDELT", "REMBAYANO",
> "REMUNIDAD", "REMCHIRIQUI", "REMPANAMA", "REMBELEN", "REMTUIRA",
> "REMCHIRIQUI", "REMPEQUENI", "REMBDELT", "REMCHANG", "REMTUIRA",
> "REMBELEN", "REMTERIBE", "REMDARIEN", "REMINDIO", "REMFARFAN",
> "REMCHANG", "REMCHIRIQUI", "REMCOCLE", "REMITAMUT", "REMLIDER",
> "REMDOLEGA", "REMMCAULIFFE", "REMPACORA", "REMTERIBE", "REMMCAULIFFE",
> "REMCHANG", "REMGUARDIA", "REMUNIDAD", "REMCHANG", "REMUNIDAD",
> "REMGUARDIA", "REMCOCLE", "REMCHANG", "REMCHANG", "REMPEQUENI",
> "REMTUIRA", "REMDARIEN", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> "REMPARITA", "REMCALOV", "REMBAYANO", "REMGUARDIA", "REMLOSSANTOS",
> "REMPICACHO", "REMTERIBE", "REMPICACHO", "REMCHIRIQUI", "REMESTI",
> "REMINDIO", "REMCHANG", "REMSANTIAGO", "REMSIXAOLA", "REMCOCLE",
> "REMFARFAN", "REMLOSSANTOS", "REMHERRERA", "REMHERRERA", "REMITAMUT",
> "REMPEQUENI", "REMESTI", "REMPANDO", "REMHAYNES", "REMCHIRIQUI",
> "REMPANAMA", "REMBELEN", "REMBAYANO", "REMESTI", "REMESTI", "REMPEQUENI",
> "REMBELEN", "REMFARFAN", "REMCHIRIQUI", "REMBAYANO", "REMLOSSANTOS",
> "REMCHANG", "REMBELEN", "REMSAJALICES", "REMCHIRIQUI", "REMCHIRIQUI",
> "REMCOLON", "REMBAYANO", "REMBAYANO", "REMINDIO", "REMAZUL",
> "REMCACIQUE", "REMITAMUT", "REMBAYANO", "REMPICACHO", "REMLOSSANTOS",
> "REMUNIDAD", "REMTONOSI", "REMSANTIAGO", "REMHERRERA", "REMTERIBE",
> "REMCACIQUE", "REMHAYNES", "REMHAYNES", "REMPARITA", "REMLIDER",
> "REMMCAULIFFE", "REMCHANG", "REMESTI", "REMESTI", "REMAZUL",
> "REMLOSSANTOS", "REMINDIO", "REMFARFAN", "REMJEFE", "REMPEQUENI",
> "REMMCAULIFFE", "REMAZUL", "REMFARFAN", "REMPICACHO", "REMDARIEN",
> "REMJEFE", "REMUNIDAD", "REMPEQUENI", "REMPANAMA", "REMITAMUT",
> "REMBAYANO", "REMPEQUENI", "REMHERRERA", "REMPARITA", "REMHAYNES",
> "REMITAMUT", "REMBDELT", "REMHERRERA", "REMHERRERA", "REMCOCLE",
> "REMSANTIAGO", "REMCHANG", "REMPEQUENI", "REMBDELT", "REMTERIBE",
> "REMCOLON", "REMFARFAN", "REMCALOV", "REMPACORA", "REMITAMUT",
> "REMTONOSI", "REMGUIA", "REMFARFAN", "REMITAMUT", "REMBELEN",
> "REMLOSSANTOS", "REMCALOV", "REMTONOSI", "REMVERAGUAS", "REMBDELT",
> "REMPANAMA", "REMPICACHO", "REMLIDER", "REMGUARDIA", "REMTERIBE",
> "REMDARIEN", "REMMAJAGUAL", "REMSANTIAGO", "REMHAYNES", "REMPICACHO",
> "REMPARITA", "REMTUIRA", "REMTUIRA", "REMLOSSANTOS", "REMPACORA",
> "REMPICACHO", "REMPACORA", "REMTERIBE", "REMBELEN", "REMFARFAN",
> "REMLIDER", "REMCOLON", "REMCHANG", "REMPICACHO", "REMLIDER",
> "REMBELEN", "REMPEQUENI", "REMPEQUENI", "REMPICACHO", "REMTERIBE",
> "REMPICACHO", "REMPICACHO", "REMAZUL", "REMPARITA", "REMPARITA",
> "REMLOSSANTOS", "REMCOLON", "REMSIXAOLA", "REMHERRERA", "REMMCAULIFFE",
> "REMCHIRIQUI", "REMAZUL", "REMPARITA", "REMHERRERA", "REMPEQUENI",
> "REMTONOSI", "REMPEQUENI", "REMTONOSI", "REMPEQUENI", "REMSIXAOLA",
> "REMESTI", "REMLIDER", "REMBELEN", "REMMCAULIFFE", "REMHERRERA",
> "REMCOCLE", "REMCOLON", "REMESTI", "REMCOCLE", "REMBAYANO", "REMPARITA",
> "REMSANTIAGO", "REMAZUL", "REMPARITA", "REMPARITA", "REMCOCLE",
> "REMPARITA", "REMDARIEN", "REMITAMUT", "REMTONOSI", "REMPICACHO",
> "REMAZUL", "REMCACIQUE", "REMBELEN", "REMCACIQUE", "REMPEQUENI",
> "REMDARIEN", "REMCHIRIQUI", "REMCHANG", "REMTUIRA", "REMBELEN",
> "REMLIDER", "REMHERRERA", "REMCALOV", "REMINDIO", "REMESTI",
> "REMHAYNES", "REMCOCLE", "REMGUIA", "REMCOCLE", "REMCOCLE", "REMDARIEN",
> "REMCACIQUE", "REMCALOV", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> "REMCHIRIQUI", "REMCACIQUE", "REMCACIQUE", "REMHAYNES", "REMHAYNES",
> "REMAZUL", "REMPACORA", "REMCALOV", "REMCACIQUE", "REMCOLON",
> "REMBELEN", "REMUNIDAD", "REMINDIO", "REMDOLEGA", "REMTERIBE",
> "REMBELEN", "REMTUIRA", "REMINDIO", "REMJEFE", "REMBAYANO", "REMCHANG",
> "REMPARITA", "REMCOLON", "REMBELEN", "REMFARFAN", "REMESTI",
> "REMCACIQUE", "REMLOSSANTOS", "REMHERRERA", "REMDARIEN", "REMUNIDAD",
> "REMPACORA", "REMCHIRIQUI", "REMBELEN", "REMBAYANO", "REMLOSSANTOS",
> "REMTERIBE", "REMSIXAOLA", "REMCOLON", "REMESTI", "REMFARFAN",
> "REMFARFAN", "REMUNIDAD", "REMBDELT", "REMTERIBE", "REMDOLEGA",
> "REMCALOV", "REMCALOV", "REMESTI", "REMCOCLE", "REMPARITA", "REMPARITA",
> "REMTERIBE", "REMFARFAN", "REMPEQUENI", "REMTERIBE", "REMPICACHO",
> "REMHAYNES", "REMDOLEGA", "REMPARITA", "REMDOLEGA", "REMVERAGUAS",
> "REMCOCLE", "REMLOSSANTOS", "REMITAMUT", "REMPARITA", "REMPARITA",
> "REMTERIBE", "REMTERIBE", "REMHERRERA", "REMTERIBE", "REMBDELT",
> "REMBAYANO", "REMDOLEGA", "REMINDIO", "REMJEFE", "REMINDIO",
> "REMDOLEGA", "REMPICACHO", "REMCOCLE", "REMPARITA", "REMHAYNES",
> "REMCOCLE", "REMPANAMA", "REMAZUL", "REMSANTIAGO", "REMPARITA",
> "REMJEFE", "REMTERIBE", "REMLOSSANTOS", "REMSIXAOLA", "REMCHIRIQUI",
> "REMPARITA", "REMVERAGUAS", "REMCHIRIQUI", "REMPANAMA", "REMCALOV",
> "REMTERIBE", "REMVERAGUAS", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> "REMESTI", "REMLOSSANTOS", "REMTERIBE", "REMESTI", "REMTERIBE",
> "REMLIDER", "REMTERIBE", "REMTERIBE", "REMCOLON", "REMTERIBE",
> "REMTERIBE", "REMTERIBE", "REMTUIRA", "REMMCAULIFFE", "REMPACORA",
> "REMTERIBE", "REMVERAGUAS", "REMPARITA", "REMPARITA", "REMSIXAOLA",
> "REMPACORA", "REMPEQUENI", "REMPARITA", "REMPACORA", "REMPEQUENI",
> "REMTERIBE", "REMSAJALICES", "REMTERIBE", "REMTERIBE", "REMGUIA",
> "REMTONOSI", "REMPARITA", "REMCALOV", "REMBAYANO", "REMCOCLE",
> "REMJEFE", "REMESTI", "REMPARITA", "REMESTI", "REMFARFAN", "REMPARITA",
> "REMTERIBE", "REMAZUL", "REMBELEN", "REMCACIQUE", "REMTUIRA",
> "REMPACORA", "REMESTI", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> "REMCHIRIQUI", "REMTUIRA", "REMCOLON", "REMCOCLE", "REMDOLEGA",
> "REMPANAMA", "REMDOLEGA", "REMTERIBE", "REMCOCLE", "REMJEFE",
> "REMBAYANO", "REMJEFE", "REMGUIA", "REMSIXAOLA", "REMHERRERA",
> "REMCOCLE", "REMSIXAOLA", "REMBAYANO", "REMPARITA", "REMPANAMA",
> "REMDOLEGA", "REMLOSSANTOS", "REMITAMUT", "REMBELEN", "REMCHIRIQUI",
> "REMCHIRIQUI", "REMBAYANO", "REMTERIBE", "REMPANAMA", "REMCHIRIQUI",
> "REMPACORA", "REMBDELT", "REMTUIRA", "REMHAYNES", "REMCACIQUE",
> "REMSIXAOLA", "REMITAMUT", "REMPARITA", "REMCOCLE", "REMTONOSI",
> "REMGUIA", "REMCOCLE", "REMHERRERA", "REMSAJALICES", "REMINDIO",
> "REMJEFE", "REMCOCLE", "REMSIXAOLA", "REMVERAGUAS", "REMUNIDAD",
> "REMCALOV", "REMCOCLE", "REMSANTIAGO", "REMBAYANO", "REMSANTIAGO",
> "REMPARITA", "REMTONOSI", "REMCHIRIQUI", "REMCOCLE", "REMLIDER",
> "REMSANTIAGO", "REMCHIRIQUI", "REMFARFAN", "REMAZUL", "REMGUIA",
> "REMITAMUT", "REMESTI", "REMTERIBE", "REMPARITA", "REMHAYNES",
> "REMCHANG", "REMHERRERA", "REMLIDER", "REMITAMUT", "REMPEQUENI",
> "REMPARITA", "REMDARIEN", "REMBAYANO", "REMMAJAGUAL", "REMMAJAGUAL",
> "REMCANAJAGUA", "REMPARITA", "REMBAYANO", "REMTERIBE", "REMHERRERA",
> "REMPARITA", "REMTUIRA", "REMGUARDIA", "REMJEFE", "REMITAMUT",
> "REMLOSSANTOS", "REMBAYANO", "REMPARITA", "REMBAYANO", "REMESTI",
> "REMLOSSANTOS", "REMAZUL", "REMSANTIAGO", "REMCHANG", "REMCOLON",
> "REMTUIRA", "REMFARFAN", "REMTUIRA", "REMVERAGUAS", "REMLOSSANTOS",
> "REMTONOSI", "REMSAJALICES", "REMTERIBE", "REMSIXAOLA", "REMPICACHO",
> "REMVERAGUAS", "REMBAYANO", "REMVERAGUAS", "REMFARFAN", "REMCHIRIQUI",
> "REMPARITA", "REMPARITA", "REMESTI", "REMBAYANO", "REMCHIRIQUI",
> "REMITAMUT", "REMESTI", "REMBELEN", "REMCACIQUE", "REMTERIBE",
> "REMPICACHO", "REMPICACHO", "REMESTI", "REMPICACHO", "REMCHANG",
> "REMCHANG", "REMITAMUT", "REMHERRERA", "REMCHIRIQUI", "REMESTI",
> "REMGUARDIA", "REMCACIQUE", "REMCHANG", "REMBELEN", "REMBDELT",
> "REMAZUL", "REMPEQUENI", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS",
> "REMESTI", "REMMAJAGUAL", "REMBDELT", "REMTUIRA", "REMESTI",
> "REMSANTIAGO", "REMPEQUENI", "REMESTI", "REMHAYNES", "REMPACORA",
> "REMDARIEN", "REMLOSSANTOS", "REMDARIEN", "REMTERIBE", "REMPARITA",
> "REMLIDER", "REMITAMUT", "REMPACORA", "REMCALOV", "REMBELEN",
> "REMTONOSI", "REMTONOSI", "REMVERAGUAS", "REMPACORA", "REMTERIBE",
> "REMPARITA", "REMGUARDIA", "REMSANTIAGO", "REMCACIQUE", "REMTERIBE",
> "REMTUIRA", "REMESTI", "REMLOSSANTOS", "REMTUIRA", "REMTUIRA",
> "REMCOCLE", "REMPICACHO", "REMDARIEN", "REMBELEN", "REMITAMUT",
> "REMGUIA", "REMHAYNES", "REMSAJALICES", "REMCHIRIQUI", "REMHERRERA",
> "REMPACORA", "REMBAYANO", "REMCOLON", "REMPACORA", "REMCOLON",
> "REMJEFE", "REMCOLON", "REMESTI", "REMBDELT", "REMPICACHO", "REMPEQUENI",
> "REMVERAGUAS", "REMTERIBE", "REMLIDER", "REMAZUL", "REMHERRERA",
> "REMBELEN", "REMJEFE", "REMESTI", "REMESTI", "REMVERAGUAS", "REMESTI",
> "REMBAYANO", "REMBAYANO", "REMHAYNES", "REMESTI", "REMLOSSANTOS",
> "REMTUIRA", "REMAZUL", "REMPICACHO", "REMDARIEN", "REMJEFE",
> "REMLOSSANTOS", "REMPEQUENI", "REMPEQUENI", "REMGRANDE", "REMITAMUT",
> "REMBAYANO", "REMTERIBE", "REMSIXAOLA", "REMESTI", "REMSANTIAGO",
> "REMUNIDAD", "REMBAYANO", "REMBAYANO", "REMCACIQUE", "REMJEFE",
> "REMSIXAOLA", "REMUNIDAD", "REMPARITA", "REMCOCLE", "REMSIXAOLA",
> "REMESTI", "REMDARIEN", "REMCACIQUE", "REMAZUL", "REMFARFAN",
> "REMMCAULIFFE", "REMCHIRIQUI", "REMCALOV", "REMLOSSANTOS", "REMDOLEGA",
> "REMCHIRIQUI", "REMCHANG", "REMCHANG", "REMFARFAN", "REMCHIRIQUI",
> "REMBELEN", "REMCANAJAGUA", "REMLIDER", "REMMCAULIFFE", "REMAZUL",
> "REMBELEN", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS", "REMCHIRIQUI",
> "REMCACIQUE", "REMTERIBE", "REMTUIRA", "REMCACIQUE", "REMESTI",
> "REMTUIRA", "REMHERRERA", "REMCAMPANA", "REMLOSSANTOS", "REMINDIO",
> "REMAZUL", "REMPEQUENI", "REMUNIDAD", "REMBDELT", "REMSANTIAGO",
> "REMITAMUT", "REMSAJALICES", "REMCHIRIQUI", "REMPICACHO", "REMHAYNES",
> "REMBAYANO", "REMCHIRIQUI", "REMCOLON", "REMTERIBE", "REMTONOSI",
> "REMLIDER", "REMHERRERA", "REMSAJALICES", "REMPARITA", "REMCANAJAGUA",
> "REMBDELT", "REMLOSSANTOS", "REMFARFAN", "REMESTI", "REMUNIDAD",
> "REMTERIBE", "REMPICACHO", "REMPACORA", "REMBDELT", "REMITAMUT",
> "REMGUIA", "REMESTI", "REMCOCLE", "REMPARITA", "REMJEFE", "REMVERAGUAS",
> "REMPICACHO", "REMCHANG", "REMITAMUT", "REMHERRERA", "REMSIXAOLA",
> "REMPARITA", "REMPANAMA", "REMVERAGUAS", "REMVERAGUAS", "REMTERIBE",
> "REMPARITA", "REMBAYANO", "REMTERIBE", "REMCOLON", "REMTERIBE",
> "REMTERIBE", "REMDOLEGA", "REMPARITA", "REMBDELT", "REMMCAULIFFE",
> "REMINDIO", "REMITAMUT", "REMSAJALICES", "REMTERIBE", "REMBDELT",
> "REMLOSSANTOS", "REMLOSSANTOS", "REMCHANG", "REMTERIBE", "REMBAYANO",
> "REMPARITA", "REMPARITA", "REMESTI", "REMESTI", "REMTERIBE",
> "REMPARITA", "REMPARITA", "REMPARITA", "REMTERIBE", "REMVERAGUAS",
> "REMGUARDIA", "REMHERRERA", "REMLOSSANTOS", "REMFARFAN", "REMLIDER",
> "REMLOSSANTOS", "REMCOCLE", "REMPICACHO", "REMCALOV", "REMPARITA",
> "REMTERIBE", "REMBAYANO", "REMCACIQUE", "REMLOSSANTOS", "REMAZUL",
> "REMTERIBE", "REMTERIBE", "REMESTI", "REMMCAULIFFE", "REMLIDER",
> "REMBAYANO", "REMCHIRIQUI", "REMCHIRIQUI", "REMMCAULIFFE", "REMCACIQUE",
> "REMBAYANO", "REMAZUL", "REMCACIQUE", "REMESTI", "REMAZUL", "REMVERAGUAS",
> "REMUNIDAD", "REMPICACHO", "REMGUARDIA", "REMTERIBE", "REMLOSSANTOS",
> "REMPEQUENI", "REMDOLEGA", "REMTERIBE", "REMTERIBE", "REMFARFAN",
> "REMLOSSANTOS", "REMBDELT", "REMCHIRIQUI", "REMVERAGUAS", "REMVERAGUAS",
> "REMTERIBE", "REMHERRERA", "REMGUIA", "REMFARFAN", "REMBDELT",
> "REMBELEN", "REMCACIQUE", "REMTERIBE", "REMPARITA", "REMBDELT",
> "REMPARITA", "REMPARITA", "REMPARITA", "REMFARFAN", "REMTERIBE",
> "REMFARFAN", "REMTONOSI", "REMHAYNES", "REMVERAGUAS", "REMITAMUT",
> "REMBAYANO", "REMBDELT", "REMDARIEN", "REMDARIEN", "REMSANTIAGO",
> "REMCACIQUE", "REMDOLEGA", "REMSANTIAGO", "REMCHIRIQUI", "REMCACIQUE",
> "REMUNIDAD", "REMBELEN", "REMCHIRIQUI", "REMITAMUT", "REMCOLON",
> "REMCACIQUE", "REMPACORA", "REMLOSSANTOS", "REMCOLON", "REMJEFE",
> "REMSIXAOLA", "REMUNIDAD", "REMTUIRA", "REMPANAMA", "REMSAJALICES",
> "REMDARIEN", "REMCOLON", "REMDOLEGA", "REMCALOV", "REMAZUL",
> "REMPARITA", "REMTUIRA", "REMLOSSANTOS", "REMJEFE", "REMBAYANO",
> "REMCOLON", "REMGUARDIA", "REMSIXAOLA", "REMSIXAOLA", "REMAZUL",
> "REMJEFE", "REMESTI", "REMBDELT", "REMPICACHO", "REMCHANG", "REMGUARDIA",
> "REMESTI", "REMCOCLE", "REMBELEN", "REMTUIRA", "REMPICACHO",
> "REMCOLON", "REMSIXAOLA", "REMANCON", "REMCALOV", "REMSAJALICES",
> "REMLIDER", "REMGUIA", "REMBDELT", "REMTONOSI", "REMUNIDAD",
> "REMINDIO", "REMTUIRA", "REMCOLON", "REMLIDER", "REMLIDER", "REMLOSSANTOS",
> "REMJEFE", "REMJEFE", "REMAZUL", "REMUNIDAD", "REMINDIO", "REMLOSSANTOS",
> "REMINDIO", "REMTERIBE", "REMFARFAN", "REMTUIRA", "REMHAYNES",
> "REMINDIO", "REMFARFAN", "REMCOCLE", "REMPICACHO", "REMLOSSANTOS",
> "REMLIDER", "REMINDIO", "REMITAMUT", "REMTONOSI", "REMUNIDAD",
> "REMESTI", "REMLOSSANTOS", "REMANCON", "REMUNIDAD", "REMGRANDE",
> "REMESTI", "REMJEFE", "REMITAMUT", "REMESTI", "REMCHANG", "REMDARIEN",
> "REMHERRERA", "REMBAYANO", "REMSANTIAGO", "REMMCAULIFFE", "REMCOLON",
> "REMCALOV", "REMBDELT", "REMVERAGUAS", "REMSIXAOLA", "REMCOLON",
> "REMSANTIAGO", "REMLOSSANTOS", "REMSAJALICES", "REMVERAGUAS",
> "REMTONOSI", "REMTONOSI", "REMPEQUENI", "REMDARIEN", "REMCACIQUE",
> "REMITAMUT", "REMBELEN", "REMBELEN", "REMLOSSANTOS", "REMTONOSI",
> "REMITAMUT", "REMCOCLE", "REMSANTIAGO", "REMITAMUT", "REMJEFE",
> "REMFARFAN", "REMHERRERA", "REMCALOV", "REMCOLON", "REMINDIO",
> "REMITAMUT", "REMITAMUT", "REMMCAULIFFE", "REMBDELT", "REMPACORA",
> "REMTONOSI", "REMPACORA", "REMBAYANO", "REMTERIBE", "REMBELEN",
> "REMPACORA", "REMMCAULIFFE", "REMBDELT", "REMCHIRIQUI", "REMSAJALICES",
> "REMPARITA"), Days_At_Failure = c(2369, 2369, 3743, 3730, 3158,
> 3008, 6342, 2215, 2219, 1887, 5469, 5413, 3221, 2644, 2196, 5786,
> 3802, 1369, 3786, 3769, 3366, 1638, 3573, 2602, 2775, 4210, 1734,
> 3168, 3228, 3692, 3323, 6687, 3501, 3370, 2663, 3613, 3826, 2580,
> 4106, 3060, 3938, 2689, 2444, 4217, 3962, 2241, 3081, 4176, 6395,
> 2069, 6942, 2542, 6775, 2486, 2709, 6864, 2849, 6867, 6512, 2495,
> 6625, 6656, 6363, 3048, 3042, 2730, 3740, 4295, 5672, 5648, 2508,
> 2244, 2836, 3695, 6807, 5879, 2358, 3198, 2279, 4402, 2807, 3983,
> 3095, 2300, 3206, 6544, 2939, 6253, 6239, 6239, 2468, 3165, 3012,
> 1902, 7132, 4411, 4151, 3085, 4227, 2896, 2897, 3290, 3235, 3077,
> 4145, 3828, 6377, 2848, 3141, 3122, 4118, 4118, 6338, 3881, 3881,
> 3991, 3204, 7074, 2335, 4185, 2499, 5863, 7417, 2967, 2175, 6437,
> 3335, 7501, 7169, 7169, 2735, 7329, 6870, 3081, 2794, 3218, 3280,
> 6050, 4389, 3137, 2879, 3014, 7414, 3140, 2841, 2383, 4168, 2826,
> 7002, 2974, 4158, 2550, 4238, 2789, 6286, 2885, 7073, 2643, 4562,
> 6027, 6027, 6353, 2077, 2950, 3023, 4571, 2985, 6850, 2697, 3124,
> 2628, 2393, 2390, 6914, 2726, 2344, 2967, 6117, 3396, 2924, 4908,
> 4508, 4141, 2198, 7137, 7139, 3038, 4873, 1965, 1829, 7007, 2604,
> 2736, 3984, 4035, 5876, 3153, 2200, 2794, 3108, 2982, 2830, 7220,
> 6573, 3388, 2487, 7260, 3039, 3003, 3004, 2055, 3037, 2144, 2145,
> 2879, 2653, 2674, 6042, 6434, 3218, 6102, 7274, 4302, 2964, 2825,
> 6230, 3024, 2697, 3025, 2698, 3027, 3022, 2934, 7228, 3124, 7282,
> 6279, 6737, 6737, 2710, 6544, 3935, 2757, 2178, 2966, 2872, 2872,
> 6549, 3059, 4846, 2258, 2789, 2319, 3062, 7038, 3083, 7325, 3119,
> 4553, 4201, 3449, 4168, 3146, 7078, 6167, 3062, 4316, 2917, 7302,
> 6658, 7378, 6791, 6791, 4849, 7496, 3244, 6119, 2633, 5644, 4254,
> 7190, 7020, 7039, 7044, 2398, 3096, 3406, 7190, 6259, 2808, 7038,
> 4142, 3211, 3385, 3265, 4133, 4242, 3106, 4226, 3168, 2983, 6692,
> 2969, 2819, 2742, 7476, 5566, 5952, 4686, 7382, 3088, 4159, 2865,
> 4006, 6504, 3721, 3135, 6954, 3319, 3261, 3249, 7635, 5201, 3586,
> 3551, 3939, 3940, 3361, 6977, 3424, 3424, 3783, 3587, 3286, 3888,
> 2279, 7745, 3467, 3424, 3372, 4993, 6958, 6612, 2747, 3636, 3653,
> 3981, 3706, 7237, 3725, 5555, 4369, 3372, 4567, 2938, 4492, 3420,
> 2737, 7063, 2778, 7611, 6874, 4545, 3314, 2571, 3458, 2938, 3815,
> 6512, 3628, 4946, 3517, 5028, 4911, 4658, 3944, 3859, 5114, 6826,
> 3469, 6525, 3395, 6907, 3887, 3255, 3865, 7452, 3985, 3997, 6871,
> 3879, 3879, 3879, 4517, 8087, 3422, 3972, 5005, 3400, 3424, 3645,
> 3858, 3608, 3424, 3506, 3527, 3980, 3122, 3974, 4082, 8075, 3082,
> 3709, 3616, 4006, 6899, 3329, 3180, 3614, 3887, 3279, 3440, 3480,
> 3314, 3499, 7671, 4571, 3891, 3952, 7285, 5561, 2134, 3508, 3213,
> 5909, 5925, 2259, 3549, 2131, 2264, 5767, 2195, 3267, 2119, 6402,
> 2341, 5406, 5712, 2334, 3438, 2589, 3987, 2519, 5648, 1782, 2605,
> 3327, 3417, 3292, 2579, 3823, 3514, 2376, 4093, 3621, 6737, 6767,
> 2831, 2035, 2245, 6395, 2355, 6954, 6100, 5839, 2676, 3540, 2469,
> 5728, 2610, 3845, 6499, 2607, 5911, 1651, 3633, 1966, 2481, 2425,
> 3997, 6250, 6955, 1886, 3998, 2501, 2688, 7062, 2404, 2893, 3119,
> 2904, 7183, 3048, 6310, 7321, 2468, 3165, 2907, 4715, 4153, 1934,
> 1937, 2101, 2952, 4006, 3144, 6225, 2516, 3867, 7312, 2937, 2290,
> 6313, 4208, 3028, 4256, 2738, 6286, 2761, 1907, 2857, 6216, 3934,
> 2983, 4193, 4340, 5884, 2973, 2854, 3107, 3139, 2284, 4736, 4233,
> 4466, 2738, 4194, 2720, 2728, 2855, 4226, 4532, 2634, 3211, 3213,
> 6974, 3397, 2239, 2237, 3023, 2341, 2840, 2863, 2313, 6049, 4532,
> 3129, 7525, 7525, 3408, 3241, 4810, 2441, 3108, 2316, 3339, 6367,
> 3080, 1974, 4383, 3640, 2689, 2145, 2959, 3179, 7045, 2687, 4562,
> 6402, 4822, 3411, 3082, 7216, 2294, 2731, 2981, 3049, 2387, 2390,
> 4429, 2570, 2873, 3047, 6968, 1597, 6968, 3003, 3956, 2814, 6080,
> 3992, 4069, 6349, 2545, 4562, 3297, 2300, 7171, 7165, 3014, 4491,
> 6463, 2788, 3893, 6784, 2508, 6184, 3037, 6328, 2878, 4559, 2197,
> 2984, 4509, 3079, 7280, 3013, 6184, 2980, 2945, 2890, 2722, 4695,
> 2719, 3836, 3878, 7083, 2753, 5953, 3954, 2964, 2305, 4598, 2985,
> 6174, 3026, 3025, 2235, 2394, 3954, 3072, 3296, 2953, 2155, 7323,
> 4191, 4160, 7324, 2747, 3227, 7131, 2747, 6577, 3236, 2899, 4649,
> 7322, 3063, 2946, 7038, 4102, 3047, 6072, 3076, 4173, 3035, 3150,
> 2804, 4392, 2759, 1801, 6982, 6991, 2123, 3130, 2368, 3412, 6067,
> 4068, 7083, 3051, 3420, 7116, 2812, 4208, 5952, 1978, 6129, 4131,
> 2753, 3239, 7038, 4391, 2273, 2511, 2885, 4516, 2545, 7377, 4201,
> 4482, 6495, 3102, 2957, 7209, 5952, 2859, 2596, 1390, 4488, 6371,
> 2958, 3255, 7898, 3362, 2753, 3272, 5201, 2818, 7922, 3150, 6980,
> 3527, 3209, 5171, 2509, 3617, 2727, 6845, 3807, 3457, 4398, 4994,
> 5119, 3959, 3177, 4400, 4017, 6936, 3703, 3544, 3620, 3460, 4957,
> 7745, 4492, 2843, 3122, 3644, 5554, 6532, 6123, 3718, 3757, 4441,
> 3741, 3719, 3897, 2879, 3593, 3306, 3306, 3410, 3638, 5118, 7755,
> 6905, 6630, 3319, 7745, 6612, 6999, 2831, 3942, 3509, 3858, 4307,
> 7604, 6635, 3420, 3866, 3867, 3232, 8097, 7657, 4542, 4865, 4865,
> 8192, 7593, 4493, 3446, 7719, 2879, 3474, 5106, 7714, 2752, 7881,
> 3486, 6613, 3527, 3442, 3720, 3720, 3296, 6593, 5233, 4954, 5243,
> 5201, 3746, 6745, 8075, 3231, 4971, 3461, 7855, 3943, 3590, 5475,
> 3764, 3665, 3790, 3279, 4036, 3294, 3339, 7686, 5121, 2948, 3029,
> 3829, 3665, 3752, 1571, 6488, 2164, 1526, 3646, 6582, 6633, 2396,
> 3652, 1654, 5751, 6449, 2077, 5391, 5783, 2119, 2337, 6431, 3259,
> 3404, 2249, 3757, 5699, 2236, 2607, 2456, 1834, 3588, 5188, 2235,
> 3318, 6003, 6656, 2796, 2678, 1849, 2578, 2157, 4257, 1752, 3081,
> 6919, 2751, 6098, 2457, 3640, 1830, 5988, 2656, 1722, 2616, 2504,
> 6925, 6901, 4117, 2434, 6951, 3753, 3640, 6118, 6674, 6708, 5594,
> 2690, 2690, 2637, 6665, 3829, 5447, 4166, 3194, 2961, 3791, 7183,
> 3983, 2878, 6584, 2398, 6262, 7336, 4214, 2468, 2832, 7365, 3018,
> 6304, 2298, 7348, 2110, 2627, 2993, 2682, 2535, 2863, 4278, 6355,
> 3962, 2011, 7025, 6338, 3219, 4564, 4833, 3405, 6334, 2243, 6133,
> 3122, 4479, 2958, 2973, 3366, 4373, 7501, 2297, 2937, 2937, 6137,
> 2968, 2307, 6672, 2541, 2468, 3057, 3137, 6503, 3534, 6835, 4363,
> 2336, 2317, 7054, 4383, 2750, 2979, 2564, 3618, 3012, 2988, 2815,
> 7106, 4673, 4384, 3128, 2890)), row.names = c(1L, 2L, 3L, 4L,
> 5L, 6L, 8L, 9L, 10L, 11L, 15L, 17L, 19L, 20L, 23L, 24L, 25L,
> 26L, 28L, 29L, 30L, 31L, 32L, 34L, 36L, 39L, 40L, 41L, 42L, 43L,
> 44L, 45L, 46L, 47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L,
> 57L, 58L, 60L, 62L, 63L, 64L, 66L, 67L, 68L, 70L, 71L, 72L, 73L,
> 74L, 75L, 77L, 78L, 79L, 80L, 81L, 83L, 84L, 85L, 86L, 88L, 89L,
> 90L, 92L, 93L, 94L, 95L, 96L, 97L, 103L, 104L, 105L, 107L, 109L,
> 112L, 113L, 114L, 115L, 117L, 118L, 119L, 121L, 122L, 123L, 124L,
> 125L, 128L, 129L, 131L, 132L, 134L, 136L, 137L, 139L, 140L, 141L,
> 142L, 143L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
> 154L, 155L, 156L, 158L, 159L, 160L, 161L, 163L, 164L, 166L, 167L,
> 168L, 170L, 171L, 173L, 174L, 175L, 177L, 179L, 180L, 181L, 182L,
> 184L, 185L, 186L, 187L, 190L, 192L, 193L, 194L, 195L, 196L, 198L,
> 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 208L, 209L, 210L,
> 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L, 221L, 222L,
> 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L, 231L, 232L, 233L,
> 234L, 235L, 236L, 237L, 238L, 239L, 241L, 244L, 245L, 246L, 247L,
> 248L, 250L, 251L, 252L, 253L, 255L, 256L, 257L, 258L, 259L, 260L,
> 261L, 262L, 263L, 268L, 269L, 271L, 272L, 273L, 274L, 275L, 278L,
> 279L, 282L, 283L, 285L, 286L, 287L, 288L, 289L, 290L, 291L, 292L,
> 293L, 294L, 295L, 296L, 297L, 298L, 299L, 302L, 304L, 306L, 307L,
> 308L, 309L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L, 320L,
> 321L, 322L, 323L, 324L, 325L, 327L, 328L, 330L, 331L, 332L, 333L,
> 334L, 335L, 336L, 337L, 339L, 340L, 341L, 342L, 343L, 346L, 350L,
> 351L, 352L, 353L, 354L, 355L, 357L, 358L, 359L, 361L, 362L, 363L,
> 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 374L, 376L, 377L,
> 378L, 381L, 382L, 383L, 384L, 385L, 387L, 388L, 391L, 393L, 394L,
> 396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 407L,
> 408L, 409L, 412L, 413L, 414L, 415L, 416L, 417L, 418L, 419L, 420L,
> 421L, 422L, 424L, 425L, 426L, 428L, 429L, 430L, 431L, 432L, 435L,
> 437L, 439L, 440L, 441L, 442L, 445L, 449L, 450L, 451L, 453L, 454L,
> 455L, 456L, 457L, 458L, 459L, 462L, 463L, 464L, 465L, 467L, 468L,
> 469L, 472L, 473L, 475L, 476L, 479L, 480L, 485L, 487L, 489L, 490L,
> 491L, 492L, 493L, 495L, 496L, 497L, 498L, 499L, 500L, 501L, 502L,
> 503L, 504L, 505L, 506L, 507L, 509L, 512L, 514L, 516L, 517L, 518L,
> 519L, 520L, 521L, 522L, 523L, 526L, 528L, 530L, 532L, 533L, 534L,
> 535L, 537L, 538L, 539L, 540L, 544L, 545L, 548L, 549L, 554L, 555L,
> 556L, 557L, 558L, 560L, 568L, 569L, 571L, 572L, 576L, 577L, 579L,
> 582L, 583L, 584L, 586L, 587L, 590L, 614L, 629L, 630L, 631L, 632L,
> 633L, 634L, 636L, 637L, 640L, 642L, 646L, 647L, 648L, 649L, 650L,
> 651L, 653L, 655L, 656L, 657L, 659L, 660L, 661L, 662L, 663L, 664L,
> 666L, 667L, 668L, 669L, 670L, 671L, 673L, 674L, 675L, 676L, 677L,
> 678L, 679L, 681L, 682L, 683L, 684L, 685L, 686L, 688L, 690L, 692L,
> 693L, 694L, 695L, 696L, 697L, 698L, 699L, 700L, 701L, 703L, 704L,
> 705L, 706L, 707L, 709L, 710L, 714L, 715L, 716L, 717L, 719L, 720L,
> 721L, 722L, 723L, 724L, 725L, 726L, 728L, 729L, 730L, 731L, 732L,
> 733L, 734L, 735L, 736L, 737L, 738L, 739L, 740L, 741L, 742L, 744L,
> 745L, 747L, 748L, 750L, 751L, 752L, 753L, 754L, 756L, 757L, 758L,
> 759L, 760L, 761L, 762L, 763L, 764L, 765L, 766L, 767L, 768L, 769L,
> 771L, 772L, 773L, 774L, 775L, 776L, 777L, 778L, 780L, 781L, 782L,
> 783L, 784L, 786L, 787L, 788L, 789L, 790L, 791L, 792L, 793L, 794L,
> 795L, 796L, 797L, 798L, 799L, 800L, 801L, 803L, 806L, 808L, 809L,
> 810L, 811L, 812L, 813L, 817L, 818L, 819L, 820L, 821L, 822L, 824L,
> 828L, 829L, 830L, 831L, 832L, 834L, 835L, 836L, 837L, 838L, 839L,
> 840L, 841L, 842L, 843L, 844L, 845L, 846L, 847L, 849L, 850L, 851L,
> 852L, 853L, 854L, 856L, 857L, 858L, 860L, 861L, 862L, 863L, 864L,
> 866L, 868L, 870L, 871L, 872L, 873L, 874L, 875L, 877L, 878L, 879L,
> 880L, 881L, 882L, 885L, 886L, 887L, 888L, 889L, 891L, 892L, 893L,
> 894L, 896L, 898L, 899L, 900L, 901L, 903L, 904L, 908L, 909L, 910L,
> 911L, 912L, 913L, 914L, 915L, 918L, 919L, 920L, 921L, 922L, 924L,
> 925L, 926L, 929L, 930L, 931L, 932L, 933L, 934L, 935L, 936L, 938L,
> 939L, 940L, 941L, 942L, 943L, 945L, 946L, 947L, 948L, 949L, 950L,
> 951L, 953L, 954L, 955L, 956L, 960L, 961L, 962L, 963L, 964L, 966L,
> 969L, 970L, 972L, 973L, 974L, 975L, 976L, 978L, 979L, 983L, 984L,
> 985L, 986L, 987L, 988L, 989L, 990L, 991L, 992L, 993L, 994L, 995L,
> 997L, 998L, 999L, 1001L, 1002L, 1003L, 1004L, 1005L, 1007L, 1008L,
> 1009L, 1010L, 1011L, 1013L, 1014L, 1015L, 1016L, 1018L, 1019L,
> 1020L, 1021L, 1022L, 1024L, 1025L, 1026L, 1028L, 1030L, 1033L,
> 1038L, 1039L, 1040L, 1041L, 1043L, 1044L, 1046L, 1048L, 1049L,
> 1050L, 1052L, 1053L, 1054L, 1055L, 1056L, 1057L, 1058L, 1059L,
> 1061L, 1062L, 1063L, 1065L, 1066L, 1067L, 1068L, 1071L, 1072L,
> 1074L, 1075L, 1076L, 1078L, 1079L, 1083L, 1085L, 1086L, 1087L,
> 1088L, 1089L, 1092L, 1094L, 1095L, 1096L, 1098L, 1099L, 1100L,
> 1101L, 1102L, 1103L, 1105L, 1106L, 1108L, 1109L, 1110L, 1114L,
> 1116L, 1117L, 1118L, 1119L, 1122L, 1123L, 1124L, 1125L, 1127L,
> 1129L, 1130L, 1131L, 1132L, 1133L, 1134L, 1136L, 1137L, 1139L,
> 1141L, 1142L, 1143L, 1144L, 1145L, 1146L, 1148L, 1149L, 1150L,
> 1151L, 1152L, 1155L, 1156L, 1159L, 1160L, 1162L, 1163L, 1164L,
> 1165L, 1166L, 1174L, 1176L, 1177L, 1180L, 1181L, 1182L, 1185L,
> 1186L, 1187L, 1191L, 1192L, 1193L, 1234L, 1235L, 1236L, 1237L,
> 1238L, 1239L, 1241L, 1242L, 1243L, 1244L, 1245L, 1246L, 1248L,
> 1250L, 1251L, 1252L, 1253L, 1254L, 1255L, 1256L, 1257L, 1259L,
> 1260L, 1261L, 1262L, 1263L, 1264L, 1266L, 1267L, 1270L, 1271L,
> 1272L, 1273L, 1274L, 1275L, 1277L, 1278L, 1279L, 1280L, 1281L,
> 1283L, 1284L, 1285L, 1286L, 1287L, 1288L, 1289L, 1290L, 1291L,
> 1294L, 1295L, 1297L, 1298L, 1299L, 1300L, 1301L, 1302L, 1304L,
> 1305L, 1306L, 1307L, 1308L, 1309L, 1310L, 1312L, 1313L, 1314L,
> 1315L, 1316L, 1317L, 1318L, 1319L, 1321L, 1322L, 1323L, 1324L,
> 1326L, 1327L, 1328L, 1329L, 1330L, 1333L, 1335L, 1336L, 1337L,
> 1338L, 1339L, 1340L, 1341L, 1342L, 1344L, 1346L, 1347L, 1348L,
> 1349L, 1353L, 1354L, 1355L, 1356L, 1358L, 1359L, 1360L, 1362L,
> 1363L, 1364L, 1365L, 1366L, 1367L, 1369L, 1370L, 1371L, 1372L,
> 1374L, 1376L, 1377L, 1378L, 1381L, 1382L, 1383L, 1384L, 1385L,
> 1387L, 1388L, 1389L, 1390L, 1391L, 1392L, 1393L, 1396L, 1397L,
> 1398L, 1400L, 1401L, 1402L, 1403L, 1407L, 1408L, 1409L, 1410L,
> 1411L, 1413L, 1414L, 1416L, 1417L, 1418L, 1419L, 1420L, 1422L,
> 1424L), class = "data.frame")
>
> Any guidance will be greatly appreciated.
>
> Best regards,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From r@oknz @end|ng |rom gm@||@com  Wed Oct  4 01:45:36 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 4 Oct 2023 12:45:36 +1300
Subject: [R] Question about R software and output
In-Reply-To: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB2831D6E3A2BAFFC03EA8548CC9C5A@LO2P265MB2831.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CABcYAdJAsUxRqMz0Z-W78mzeY7Xt_6_ibGeD-6CBgQuqk7xgJQ@mail.gmail.com>

R is open source software, available from CRAN servers, but also
packaged for various Linux distributions.  On this machine,
running Ubuntu, R was installed using the 'apt' package manager.

R is a complete programming language with built-in support for
reading and writing over the network.  Packages -- whether on CRAN
or elsewhere -- extend R with code written in a mixture of Fortran,
C, C++, and R.  Base R behaves itself, but a package loaded from
some random GitHub site could do anything.

Data processed by R need not have been anywhere near Excel or any
kind of spreadsheet.  I don't even *have* Excel on any of the machines
I run R on.  Most of the data I process is not in .csv or .xslx format.
R is able to read data in many formats as described in the
R Data Import/Export
manual, which is fairly brief.  If there is a data exchange format
with a significant community, chances are there's an R package that
can read and/or write it.  Indeed, it is even possible to extract
information from PDFs in R using the pdftools package.

It sounds as though your primary concern is data protection, and
there's good news and bad news.  The good news is that if you stick
with R and with packages from a trusted repository, you're safe.
The bad news is that a programming language that can do anything
can do ANYTHING, and you are not safe from a malicious programmer
in your own organisation sending data anywhere she wants to.
% R
> system("some possibly dangerous command goes here")
Of course, this doesn't let anyone do something they couldn't already
do *without* R.

And this gets us to the real bad news.  I think you are trying
to achieve security by a method that cannot work.  You're trying to
limit yourself to safe software.  But you ALSO need to plug ALL the
USB ports, ALL the Thunderbolt ports, snip the wires to the Wifi and
Bluetooth modules, &c &c.  If a system is capable enough to install
R (or anything else), it is insecure *without* R.  You have to limit
the internet connections that can possibly be established by ANY
program, and that means several levels of firewalls.  It also means
no "work from home".

On Wed, 4 Oct 2023 at 03:18, Ferguson Charity (CEMINFERGUSON) <
Charity.Eminferguson at gstt.nhs.uk> wrote:

> To whom it may concern,
>
>
>
> My understanding is that the R software is downloaded from a CRAN network
> and data is imported into it using Microsoft Excel for example. Could I
> please just double check whether any data or results from the output is
> held on external servers or is it just held on local files on the computer?
>
>
>
> Many thanks,
>
>
>
> Charity
>
>
>
> *************************************************************************************
>
> The information contained in this message and or attachments is intended
> only for the
> person or entity to which it is addressed and may contain confidential
> and/or
> privileged material. Unless otherwise specified, the opinions expressed
> herein do not
> necessarily represent those of Guy's and St Thomas' NHS Foundation Trust or
> any of its subsidiaries. The information contained in this e-mail may be
> subject to
> public disclosure under the Freedom of Information Act 2000. Unless the
> information
> is legally exempt from disclosure, the confidentiality of this e-mail and
> any replies
> cannot be guaranteed.
>
> Any review, retransmission,dissemination or other use of, or taking of any
> action in
> reliance upon, this information by persons or entities other than the
> intended
> recipient is prohibited. If you received this in error, please contact the
> sender
> and delete the material from any system and destroy any copies.
>
> We make every effort to keep our network free from viruses. However, it is
> your
> responsibility to ensure that this e-mail and any attachments are free of
> viruses as
> we can take no responsibility for any computer virus which might be
> transferred by
> way of this e-mail.
>
>
> *************************************************************************************
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Wed Oct  4 02:40:44 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 3 Oct 2023 17:40:44 -0700
Subject: [R] Problems Structuring My Data
In-Reply-To: <CAGxFJbQVDP8ydENq-0PRc4BSnRVu9ey2+mOZTvktWFyORhPuTg@mail.gmail.com>
References: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>
 <CAGxFJbQVDP8ydENq-0PRc4BSnRVu9ey2+mOZTvktWFyORhPuTg@mail.gmail.com>
Message-ID: <CAGxFJbS7f3_Ne1bzQESudSr7FeTxZOD7Df1XvF33SNDtzmMPqg@mail.gmail.com>

I'll make an attempt to answer your question, but the results seems
extremely wasteful, as there appears to be only one REMNAME for each
FAILDATE. This means for my "solution", almost all of the entries are
empty (NULL, actually). So I assume I must misunderstand your
specification, but maybe showing you my misunderstanding will help you
and/or others to clarify or it.

Anyway, calling the data frame you provided, d, my "solution" is
simply (I changed your variable names to fdate, name, and fdays to
save typing):

w <- with(d, tapply(fdays, list(factor(fdate), name), I))
## that's an I = "eye" at the end not an "ell"

w is a *matrix* of the fdays, with the rownames of the matrix your
dates, and the colnames your remnames.  The dimension of w is 640 x
43.  As I said, most of the entries are NULL.

If this *is* perchance what you want, then I suggest you stay with
your original data frame and rethink how to work with it more
efficiently. You should *not* be guided by imitating what one does in
Excel.

However, as is more likely, I've just misunderstood what you want, so
a bit of clarification might get you the answer you seek.

Bon chance.

Cheers,
Bert

On Tue, Oct 3, 2023 at 4:25?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> I won't attempt to answer your post here, but:
>
> #I don?t know why R is showing the dates as numbers
>
> Please read the Help files!
> You say FAILDATE has "type" = S3 class, "Date".
> The first thing ?Dates tells you in the "Details" is:
>
> "Dates are represented as the number of days since 1970-01-01, with
> negative values for earlier dates. They are always printed following
> the rules of the current Gregorian calendar, even though that calendar
> was not in use long ago (it was adopted in 1752 in Great Britain and
> its colonies)."
>
> That answers your question without ever needing to post here.
>
> Cheers,
> Bert
>
>
>
> On Tue, Oct 3, 2023 at 3:18?PM Paul Bernal <paulbernal07 at gmail.com> wrote:
> >
> > Dear friends,
> >
> > Hope you are all doing great. I am working with a dataset which is a subset
> > of the original one, that has the following columns: FAILDATE, REM_NAME,
> > and Days_At_Failure.
> >
> > I want to structure the data in such a way that I have the unique FAILDATE
> > in "%Y-%m-%d" format, then a column for each REM_NAME and then the
> > Days_At_Failure displayed for each REM_NAME and FAILDATE (just as if I was
> > using a pivot table).
> >
> > The structure I want is the following:
> > FAILDATE  REM1                 REM2  REM3 ........ REM N
> > 2000-01-01 # days at failure ................................#days at
> > failure
> > 2000-01-02 # days at failure ................................#days at
> > failure
> > 2000-01-03 # days at failure ................................#days at
> > failure
> >
> > Here is the dput() of my dataframe:
> > #I don?t know why R is showing the dates as numbers
> > #when I do str, it actually shows that FAIL date has type Date
> >  dput(head(failure_subset2, n=1000))
> > structure(list(FAILDATE = structure(c(17597, 17597, 17347, 17334,
> > 17148, 17168, 17299, 17402, 17406, 17347, 17505, 17449, 17352,
> > 17931, 17424, 17439, 17406, 17292, 17390, 17373, 17259, 17561,
> > 17563, 17550, 17723, 17814, 17564, 17299, 17307, 17296, 17483,
> > 17644, 17394, 17360, 17850, 17744, 17719, 17712, 17710, 18048,
> > 18069, 17876, 17506, 17821, 18041, 17586, 18069, 18069, 18048,
> > 17899, 17899, 17759, 17732, 17822, 17771, 17821, 17837, 17824,
> > 17469, 17483, 17582, 17613, 18016, 18036, 18030, 17862, 17871,
> > 17899, 17651, 17684, 17844, 17632, 17784, 17855, 17764, 17915,
> > 18245, 18260, 18166, 18295, 18094, 18062, 18083, 18223, 18237,
> > 18197, 18284, 18289, 18218, 18218, 18298, 18297, 18299, 17910,
> > 18089, 18304, 18141, 18272, 18387, 18183, 18184, 18422, 18422,
> > 18422, 18038, 17988, 18413, 17836, 18328, 18230, 18011, 18011,
> > 17991, 18041, 18041, 18070, 18432, 18031, 18165, 18345, 18386,
> > 17899, 18374, 18427, 18098, 18416, 18397, 18458, 18126, 18126,
> > 18123, 18286, 17827, 18069, 18081, 18505, 18508, 18086, 18468,
> > 18482, 18107, 18146, 18371, 18368, 18186, 18270, 17772, 18054,
> > 17959, 18106, 18148, 18380, 18398, 17921, 18265, 18273, 18030,
> > 18473, 18166, 18006, 18006, 18006, 18000, 17938, 18155, 18175,
> > 18047, 18503, 18042, 18072, 17964, 18223, 17850, 17871, 18071,
> > 18174, 18154, 18153, 18344, 18384, 18512, 18112, 18131, 18085,
> > 18094, 18096, 18100, 18477, 17967, 17752, 17964, 18491, 18124,
> > 18115, 18166, 17912, 18489, 18087, 18130, 18170, 18169, 18175,
> > 18177, 18226, 18376, 18374, 18217, 18226, 18135, 18136, 17942,
> > 18099, 18031, 18032, 18107, 18041, 18062, 18078, 18087, 18249,
> > 18081, 18231, 18195, 18192, 18213, 18209, 18156, 18157, 18157,
> > 18158, 18159, 18053, 18221, 18185, 18311, 18239, 18258, 18390,
> > 18390, 17997, 18197, 18095, 18145, 18101, 18194, 18260, 18260,
> > 18202, 18447, 18450, 18088, 18249, 18206, 18290, 17995, 18270,
> > 18282, 18251, 18157, 18094, 18437, 18299, 18333, 18035, 18146,
> > 18010, 18395, 18204, 18259, 18311, 18335, 18444, 18444, 18453,
> > 18453, 18192, 18098, 17969, 17680, 18147, 18147, 17977, 17996,
> > 18001, 18399, 18432, 18354, 18147, 17912, 17995, 17995, 18221,
> > 18428, 18447, 18452, 18264, 18321, 18334, 18386, 18156, 18371,
> > 18345, 18156, 18164, 18029, 18433, 17602, 17931, 18290, 18339,
> > 18424, 18052, 18052, 18166, 18540, 18783, 18166, 18607, 18606,
> > 18606, 18594, 18592, 18805, 18648, 18768, 18887, 18888, 18648,
> > 18630, 18812, 18812, 18845, 18932, 18418, 18950, 18166, 18702,
> > 18684, 18812, 18589, 18597, 18611, 18648, 18577, 19024, 19041,
> > 19043, 18768, 19216, 18787, 19159, 18529, 18589, 18646, 18166,
> > 18571, 18637, 18624, 18716, 18166, 18568, 18527, 18535, 18542,
> > 18494, 18846, 18166, 18877, 18548, 18659, 18839, 18905, 18632,
> > 18804, 18648, 18892, 18921, 18718, 18805, 18805, 18561, 18682,
> > 18943, 18949, 18542, 18927, 18409, 19047, 19059, 18524, 18941,
> > 18941, 18941, 18648, 19044, 18758, 19034, 18609, 18788, 18812,
> > 18676, 19194, 18740, 18812, 18842, 18659, 19042, 18230, 19036,
> > 19144, 19032, 18542, 19097, 18564, 18166, 18552, 18557, 18467,
> > 19002, 19174, 18624, 18828, 18542, 18542, 18686, 18628, 18702,
> > 19227, 19239, 19264, 17597, 17470, 17401, 17344, 17562, 17578,
> > 17476, 17539, 17348, 17326, 17420, 17423, 17427, 17347, 17359,
> > 17372, 17385, 17365, 17365, 17598, 17977, 17977, 17736, 17684,
> > 17612, 17792, 17220, 17310, 17452, 17641, 17813, 17407, 17712,
> > 17697, 17752, 17694, 17724, 17862, 17865, 17633, 18048, 17815,
> > 17911, 17753, 17818, 17784, 17619, 17697, 17381, 17641, 17449,
> > 17456, 17555, 17564, 17574, 17793, 17889, 17869, 17885, 17890,
> > 17903, 17912, 17809, 17891, 17846, 17916, 18019, 18234, 18180,
> > 18181, 18292, 18140, 18036, 18289, 18278, 18298, 18297, 18295,
> > 18319, 18313, 17936, 17939, 18109, 18340, 18166, 18206, 18204,
> > 17904, 17998, 18269, 18165, 18120, 18349, 18368, 18416, 18416,
> > 18025, 18322, 17989, 17830, 17845, 17869, 18065, 18328, 18324,
> > 17944, 17920, 18433, 17962, 18169, 18170, 18171, 18340, 18393,
> > 18070, 18083, 18087, 18108, 18116, 18142, 18386, 18425, 18464,
> > 18498, 18400, 17931, 18459, 18126, 18124, 18310, 18228, 17828,
> > 17851, 18143, 18028, 18425, 18416, 18482, 18482, 18396, 18428,
> > 18414, 18441, 18240, 18146, 18370, 18403, 18367, 17975, 17987,
> > 17771, 17976, 18068, 18091, 18466, 18002, 18023, 18166, 18438,
> > 18426, 18473, 18470, 18173, 18124, 18067, 17929, 18236, 17847,
> > 17850, 18033, 17906, 17935, 18435, 17925, 17520, 17925, 18065,
> > 18087, 18101, 18116, 18123, 18200, 18002, 18432, 18166, 18484,
> > 18130, 18128, 18122, 18122, 18384, 18442, 18124, 18053, 18437,
> > 17844, 17837, 18265, 17981, 18165, 18163, 18084, 18116, 18113,
> > 18141, 18237, 18241, 18163, 18167, 18173, 18177, 18009, 18299,
> > 18006, 17996, 18038, 18040, 18040, 17989, 18085, 18192, 18192,
> > 18202, 18213, 18210, 18158, 18157, 18236, 18224, 18114, 18134,
> > 18327, 18240, 18078, 18280, 18351, 18320, 18281, 17975, 18258,
> > 18088, 18135, 18230, 18267, 18186, 18253, 18279, 18291, 18291,
> > 17995, 17995, 17995, 18108, 18293, 18066, 18023, 18138, 18149,
> > 18285, 17946, 17809, 17939, 17948, 18130, 18317, 18198, 18443,
> > 18103, 17961, 18040, 18113, 17551, 18073, 18099, 18339, 17931,
> > 17978, 18165, 18210, 17981, 18371, 17995, 17995, 18196, 18341,
> > 17993, 18409, 18432, 18334, 18361, 18375, 18148, 18164, 18417,
> > 18166, 17931, 17967, 17984, 17390, 18092, 18407, 18303, 18542,
> > 18855, 18424, 18640, 18608, 18805, 18648, 18879, 18437, 18633,
> > 18915, 18437, 18775, 18396, 18605, 18557, 18824, 18838, 18845,
> > 18388, 18598, 18723, 19021, 18565, 18560, 19079, 18589, 18765,
> > 18606, 18837, 18848, 18561, 18702, 18571, 18673, 18230, 18706,
> > 19158, 18568, 18159, 18706, 18819, 18601, 19129, 19107, 19184,
> > 18166, 18655, 18694, 18694, 18798, 18700, 18722, 18712, 18884,
> > 18666, 18664, 18702, 18648, 18652, 18718, 18890, 18897, 18920,
> > 18467, 18561, 18671, 18648, 18928, 18929, 18519, 19054, 18614,
> > 18702, 18758, 18758, 19149, 18550, 18653, 18674, 18676, 18166,
> > 18702, 18710, 18671, 18639, 18838, 18548, 18649, 18659, 18659,
> > 18782, 18782, 18641, 18629, 18837, 18847, 18847, 18805, 18808,
> > 18724, 19032, 18576, 18575, 18648, 18812, 19005, 18978, 19079,
> > 19152, 19053, 19178, 18624, 19098, 18639, 18799, 18643, 18725,
> > 18778, 17189, 17433, 17269, 17356, 17494, 17445, 17381, 17449,
> > 17539, 17539, 17590, 17583, 17545, 17484, 17404, 17406, 17413,
> > 17427, 17436, 17347, 17368, 17388, 17390, 17394, 17357, 17361,
> > 17352, 17453, 17555, 17684, 17222, 17719, 17224, 17463, 17478,
> > 17656, 17613, 17827, 17709, 17849, 17806, 17444, 17861, 17639,
> > 18069, 17876, 18038, 17751, 17644, 17771, 17717, 17641, 17687,
> > 17723, 17564, 17612, 17882, 17858, 17721, 17894, 17908, 17832,
> > 17771, 17771, 17631, 17665, 17630, 17918, 17918, 17865, 17622,
> > 17908, 17483, 18245, 18256, 18306, 17922, 18140, 18062, 18223,
> > 18237, 18285, 18298, 18293, 18293, 18298, 18292, 18322, 18305,
> > 18340, 18300, 18305, 18118, 17914, 18221, 18512, 17822, 17851,
> > 17882, 18334, 18122, 17934, 17982, 17991, 18167, 18168, 18437,
> > 18436, 17987, 18166, 18169, 18230, 18083, 18418, 18433, 18498,
> > 17977, 18458, 18127, 18124, 18124, 18173, 18428, 18137, 18325,
> > 18464, 18298, 18285, 18482, 18482, 18482, 18488, 18442, 18166,
> > 18147, 18011, 17987, 18086, 18439, 17900, 17778, 18074, 18175,
> > 18151, 18063, 18277, 18277, 18236, 18278), class = "Date"), REM_NAME =
> > c("REMAZUL",
> > "REMJEFE", "REMBDELT", "REMDARIEN", "REMPANAMA", "REMBAYANO",
> > "REMUNIDAD", "REMBELEN", "REMBELEN", "REMTONOSI", "REMLOSSANTOS",
> > "REMLOSSANTOS", "REMTUIRA", "REMESTI", "REMAZUL", "REMCOLON",
> > "REMVERAGUAS", "REMSANTIAGO", "REMBDELT", "REMBDELT", "REMCHIRIQUI",
> > "REMSANTIAGO", "REMPANAMA", "REMCALOV", "REMCALOV", "REMDARIEN",
> > "REMITAMUT", "REMTUIRA", "REMINDIO", "REMBDELT", "REMBAYANO",
> > "REMUNIDAD", "REMCHIRIQUI", "REMPANAMA", "REMBELEN", "REMTUIRA",
> > "REMCHIRIQUI", "REMPEQUENI", "REMBDELT", "REMCHANG", "REMTUIRA",
> > "REMBELEN", "REMTERIBE", "REMDARIEN", "REMINDIO", "REMFARFAN",
> > "REMCHANG", "REMCHIRIQUI", "REMCOCLE", "REMITAMUT", "REMLIDER",
> > "REMDOLEGA", "REMMCAULIFFE", "REMPACORA", "REMTERIBE", "REMMCAULIFFE",
> > "REMCHANG", "REMGUARDIA", "REMUNIDAD", "REMCHANG", "REMUNIDAD",
> > "REMGUARDIA", "REMCOCLE", "REMCHANG", "REMCHANG", "REMPEQUENI",
> > "REMTUIRA", "REMDARIEN", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> > "REMPARITA", "REMCALOV", "REMBAYANO", "REMGUARDIA", "REMLOSSANTOS",
> > "REMPICACHO", "REMTERIBE", "REMPICACHO", "REMCHIRIQUI", "REMESTI",
> > "REMINDIO", "REMCHANG", "REMSANTIAGO", "REMSIXAOLA", "REMCOCLE",
> > "REMFARFAN", "REMLOSSANTOS", "REMHERRERA", "REMHERRERA", "REMITAMUT",
> > "REMPEQUENI", "REMESTI", "REMPANDO", "REMHAYNES", "REMCHIRIQUI",
> > "REMPANAMA", "REMBELEN", "REMBAYANO", "REMESTI", "REMESTI", "REMPEQUENI",
> > "REMBELEN", "REMFARFAN", "REMCHIRIQUI", "REMBAYANO", "REMLOSSANTOS",
> > "REMCHANG", "REMBELEN", "REMSAJALICES", "REMCHIRIQUI", "REMCHIRIQUI",
> > "REMCOLON", "REMBAYANO", "REMBAYANO", "REMINDIO", "REMAZUL",
> > "REMCACIQUE", "REMITAMUT", "REMBAYANO", "REMPICACHO", "REMLOSSANTOS",
> > "REMUNIDAD", "REMTONOSI", "REMSANTIAGO", "REMHERRERA", "REMTERIBE",
> > "REMCACIQUE", "REMHAYNES", "REMHAYNES", "REMPARITA", "REMLIDER",
> > "REMMCAULIFFE", "REMCHANG", "REMESTI", "REMESTI", "REMAZUL",
> > "REMLOSSANTOS", "REMINDIO", "REMFARFAN", "REMJEFE", "REMPEQUENI",
> > "REMMCAULIFFE", "REMAZUL", "REMFARFAN", "REMPICACHO", "REMDARIEN",
> > "REMJEFE", "REMUNIDAD", "REMPEQUENI", "REMPANAMA", "REMITAMUT",
> > "REMBAYANO", "REMPEQUENI", "REMHERRERA", "REMPARITA", "REMHAYNES",
> > "REMITAMUT", "REMBDELT", "REMHERRERA", "REMHERRERA", "REMCOCLE",
> > "REMSANTIAGO", "REMCHANG", "REMPEQUENI", "REMBDELT", "REMTERIBE",
> > "REMCOLON", "REMFARFAN", "REMCALOV", "REMPACORA", "REMITAMUT",
> > "REMTONOSI", "REMGUIA", "REMFARFAN", "REMITAMUT", "REMBELEN",
> > "REMLOSSANTOS", "REMCALOV", "REMTONOSI", "REMVERAGUAS", "REMBDELT",
> > "REMPANAMA", "REMPICACHO", "REMLIDER", "REMGUARDIA", "REMTERIBE",
> > "REMDARIEN", "REMMAJAGUAL", "REMSANTIAGO", "REMHAYNES", "REMPICACHO",
> > "REMPARITA", "REMTUIRA", "REMTUIRA", "REMLOSSANTOS", "REMPACORA",
> > "REMPICACHO", "REMPACORA", "REMTERIBE", "REMBELEN", "REMFARFAN",
> > "REMLIDER", "REMCOLON", "REMCHANG", "REMPICACHO", "REMLIDER",
> > "REMBELEN", "REMPEQUENI", "REMPEQUENI", "REMPICACHO", "REMTERIBE",
> > "REMPICACHO", "REMPICACHO", "REMAZUL", "REMPARITA", "REMPARITA",
> > "REMLOSSANTOS", "REMCOLON", "REMSIXAOLA", "REMHERRERA", "REMMCAULIFFE",
> > "REMCHIRIQUI", "REMAZUL", "REMPARITA", "REMHERRERA", "REMPEQUENI",
> > "REMTONOSI", "REMPEQUENI", "REMTONOSI", "REMPEQUENI", "REMSIXAOLA",
> > "REMESTI", "REMLIDER", "REMBELEN", "REMMCAULIFFE", "REMHERRERA",
> > "REMCOCLE", "REMCOLON", "REMESTI", "REMCOCLE", "REMBAYANO", "REMPARITA",
> > "REMSANTIAGO", "REMAZUL", "REMPARITA", "REMPARITA", "REMCOCLE",
> > "REMPARITA", "REMDARIEN", "REMITAMUT", "REMTONOSI", "REMPICACHO",
> > "REMAZUL", "REMCACIQUE", "REMBELEN", "REMCACIQUE", "REMPEQUENI",
> > "REMDARIEN", "REMCHIRIQUI", "REMCHANG", "REMTUIRA", "REMBELEN",
> > "REMLIDER", "REMHERRERA", "REMCALOV", "REMINDIO", "REMESTI",
> > "REMHAYNES", "REMCOCLE", "REMGUIA", "REMCOCLE", "REMCOCLE", "REMDARIEN",
> > "REMCACIQUE", "REMCALOV", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> > "REMCHIRIQUI", "REMCACIQUE", "REMCACIQUE", "REMHAYNES", "REMHAYNES",
> > "REMAZUL", "REMPACORA", "REMCALOV", "REMCACIQUE", "REMCOLON",
> > "REMBELEN", "REMUNIDAD", "REMINDIO", "REMDOLEGA", "REMTERIBE",
> > "REMBELEN", "REMTUIRA", "REMINDIO", "REMJEFE", "REMBAYANO", "REMCHANG",
> > "REMPARITA", "REMCOLON", "REMBELEN", "REMFARFAN", "REMESTI",
> > "REMCACIQUE", "REMLOSSANTOS", "REMHERRERA", "REMDARIEN", "REMUNIDAD",
> > "REMPACORA", "REMCHIRIQUI", "REMBELEN", "REMBAYANO", "REMLOSSANTOS",
> > "REMTERIBE", "REMSIXAOLA", "REMCOLON", "REMESTI", "REMFARFAN",
> > "REMFARFAN", "REMUNIDAD", "REMBDELT", "REMTERIBE", "REMDOLEGA",
> > "REMCALOV", "REMCALOV", "REMESTI", "REMCOCLE", "REMPARITA", "REMPARITA",
> > "REMTERIBE", "REMFARFAN", "REMPEQUENI", "REMTERIBE", "REMPICACHO",
> > "REMHAYNES", "REMDOLEGA", "REMPARITA", "REMDOLEGA", "REMVERAGUAS",
> > "REMCOCLE", "REMLOSSANTOS", "REMITAMUT", "REMPARITA", "REMPARITA",
> > "REMTERIBE", "REMTERIBE", "REMHERRERA", "REMTERIBE", "REMBDELT",
> > "REMBAYANO", "REMDOLEGA", "REMINDIO", "REMJEFE", "REMINDIO",
> > "REMDOLEGA", "REMPICACHO", "REMCOCLE", "REMPARITA", "REMHAYNES",
> > "REMCOCLE", "REMPANAMA", "REMAZUL", "REMSANTIAGO", "REMPARITA",
> > "REMJEFE", "REMTERIBE", "REMLOSSANTOS", "REMSIXAOLA", "REMCHIRIQUI",
> > "REMPARITA", "REMVERAGUAS", "REMCHIRIQUI", "REMPANAMA", "REMCALOV",
> > "REMTERIBE", "REMVERAGUAS", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> > "REMESTI", "REMLOSSANTOS", "REMTERIBE", "REMESTI", "REMTERIBE",
> > "REMLIDER", "REMTERIBE", "REMTERIBE", "REMCOLON", "REMTERIBE",
> > "REMTERIBE", "REMTERIBE", "REMTUIRA", "REMMCAULIFFE", "REMPACORA",
> > "REMTERIBE", "REMVERAGUAS", "REMPARITA", "REMPARITA", "REMSIXAOLA",
> > "REMPACORA", "REMPEQUENI", "REMPARITA", "REMPACORA", "REMPEQUENI",
> > "REMTERIBE", "REMSAJALICES", "REMTERIBE", "REMTERIBE", "REMGUIA",
> > "REMTONOSI", "REMPARITA", "REMCALOV", "REMBAYANO", "REMCOCLE",
> > "REMJEFE", "REMESTI", "REMPARITA", "REMESTI", "REMFARFAN", "REMPARITA",
> > "REMTERIBE", "REMAZUL", "REMBELEN", "REMCACIQUE", "REMTUIRA",
> > "REMPACORA", "REMESTI", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> > "REMCHIRIQUI", "REMTUIRA", "REMCOLON", "REMCOCLE", "REMDOLEGA",
> > "REMPANAMA", "REMDOLEGA", "REMTERIBE", "REMCOCLE", "REMJEFE",
> > "REMBAYANO", "REMJEFE", "REMGUIA", "REMSIXAOLA", "REMHERRERA",
> > "REMCOCLE", "REMSIXAOLA", "REMBAYANO", "REMPARITA", "REMPANAMA",
> > "REMDOLEGA", "REMLOSSANTOS", "REMITAMUT", "REMBELEN", "REMCHIRIQUI",
> > "REMCHIRIQUI", "REMBAYANO", "REMTERIBE", "REMPANAMA", "REMCHIRIQUI",
> > "REMPACORA", "REMBDELT", "REMTUIRA", "REMHAYNES", "REMCACIQUE",
> > "REMSIXAOLA", "REMITAMUT", "REMPARITA", "REMCOCLE", "REMTONOSI",
> > "REMGUIA", "REMCOCLE", "REMHERRERA", "REMSAJALICES", "REMINDIO",
> > "REMJEFE", "REMCOCLE", "REMSIXAOLA", "REMVERAGUAS", "REMUNIDAD",
> > "REMCALOV", "REMCOCLE", "REMSANTIAGO", "REMBAYANO", "REMSANTIAGO",
> > "REMPARITA", "REMTONOSI", "REMCHIRIQUI", "REMCOCLE", "REMLIDER",
> > "REMSANTIAGO", "REMCHIRIQUI", "REMFARFAN", "REMAZUL", "REMGUIA",
> > "REMITAMUT", "REMESTI", "REMTERIBE", "REMPARITA", "REMHAYNES",
> > "REMCHANG", "REMHERRERA", "REMLIDER", "REMITAMUT", "REMPEQUENI",
> > "REMPARITA", "REMDARIEN", "REMBAYANO", "REMMAJAGUAL", "REMMAJAGUAL",
> > "REMCANAJAGUA", "REMPARITA", "REMBAYANO", "REMTERIBE", "REMHERRERA",
> > "REMPARITA", "REMTUIRA", "REMGUARDIA", "REMJEFE", "REMITAMUT",
> > "REMLOSSANTOS", "REMBAYANO", "REMPARITA", "REMBAYANO", "REMESTI",
> > "REMLOSSANTOS", "REMAZUL", "REMSANTIAGO", "REMCHANG", "REMCOLON",
> > "REMTUIRA", "REMFARFAN", "REMTUIRA", "REMVERAGUAS", "REMLOSSANTOS",
> > "REMTONOSI", "REMSAJALICES", "REMTERIBE", "REMSIXAOLA", "REMPICACHO",
> > "REMVERAGUAS", "REMBAYANO", "REMVERAGUAS", "REMFARFAN", "REMCHIRIQUI",
> > "REMPARITA", "REMPARITA", "REMESTI", "REMBAYANO", "REMCHIRIQUI",
> > "REMITAMUT", "REMESTI", "REMBELEN", "REMCACIQUE", "REMTERIBE",
> > "REMPICACHO", "REMPICACHO", "REMESTI", "REMPICACHO", "REMCHANG",
> > "REMCHANG", "REMITAMUT", "REMHERRERA", "REMCHIRIQUI", "REMESTI",
> > "REMGUARDIA", "REMCACIQUE", "REMCHANG", "REMBELEN", "REMBDELT",
> > "REMAZUL", "REMPEQUENI", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS",
> > "REMESTI", "REMMAJAGUAL", "REMBDELT", "REMTUIRA", "REMESTI",
> > "REMSANTIAGO", "REMPEQUENI", "REMESTI", "REMHAYNES", "REMPACORA",
> > "REMDARIEN", "REMLOSSANTOS", "REMDARIEN", "REMTERIBE", "REMPARITA",
> > "REMLIDER", "REMITAMUT", "REMPACORA", "REMCALOV", "REMBELEN",
> > "REMTONOSI", "REMTONOSI", "REMVERAGUAS", "REMPACORA", "REMTERIBE",
> > "REMPARITA", "REMGUARDIA", "REMSANTIAGO", "REMCACIQUE", "REMTERIBE",
> > "REMTUIRA", "REMESTI", "REMLOSSANTOS", "REMTUIRA", "REMTUIRA",
> > "REMCOCLE", "REMPICACHO", "REMDARIEN", "REMBELEN", "REMITAMUT",
> > "REMGUIA", "REMHAYNES", "REMSAJALICES", "REMCHIRIQUI", "REMHERRERA",
> > "REMPACORA", "REMBAYANO", "REMCOLON", "REMPACORA", "REMCOLON",
> > "REMJEFE", "REMCOLON", "REMESTI", "REMBDELT", "REMPICACHO", "REMPEQUENI",
> > "REMVERAGUAS", "REMTERIBE", "REMLIDER", "REMAZUL", "REMHERRERA",
> > "REMBELEN", "REMJEFE", "REMESTI", "REMESTI", "REMVERAGUAS", "REMESTI",
> > "REMBAYANO", "REMBAYANO", "REMHAYNES", "REMESTI", "REMLOSSANTOS",
> > "REMTUIRA", "REMAZUL", "REMPICACHO", "REMDARIEN", "REMJEFE",
> > "REMLOSSANTOS", "REMPEQUENI", "REMPEQUENI", "REMGRANDE", "REMITAMUT",
> > "REMBAYANO", "REMTERIBE", "REMSIXAOLA", "REMESTI", "REMSANTIAGO",
> > "REMUNIDAD", "REMBAYANO", "REMBAYANO", "REMCACIQUE", "REMJEFE",
> > "REMSIXAOLA", "REMUNIDAD", "REMPARITA", "REMCOCLE", "REMSIXAOLA",
> > "REMESTI", "REMDARIEN", "REMCACIQUE", "REMAZUL", "REMFARFAN",
> > "REMMCAULIFFE", "REMCHIRIQUI", "REMCALOV", "REMLOSSANTOS", "REMDOLEGA",
> > "REMCHIRIQUI", "REMCHANG", "REMCHANG", "REMFARFAN", "REMCHIRIQUI",
> > "REMBELEN", "REMCANAJAGUA", "REMLIDER", "REMMCAULIFFE", "REMAZUL",
> > "REMBELEN", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS", "REMCHIRIQUI",
> > "REMCACIQUE", "REMTERIBE", "REMTUIRA", "REMCACIQUE", "REMESTI",
> > "REMTUIRA", "REMHERRERA", "REMCAMPANA", "REMLOSSANTOS", "REMINDIO",
> > "REMAZUL", "REMPEQUENI", "REMUNIDAD", "REMBDELT", "REMSANTIAGO",
> > "REMITAMUT", "REMSAJALICES", "REMCHIRIQUI", "REMPICACHO", "REMHAYNES",
> > "REMBAYANO", "REMCHIRIQUI", "REMCOLON", "REMTERIBE", "REMTONOSI",
> > "REMLIDER", "REMHERRERA", "REMSAJALICES", "REMPARITA", "REMCANAJAGUA",
> > "REMBDELT", "REMLOSSANTOS", "REMFARFAN", "REMESTI", "REMUNIDAD",
> > "REMTERIBE", "REMPICACHO", "REMPACORA", "REMBDELT", "REMITAMUT",
> > "REMGUIA", "REMESTI", "REMCOCLE", "REMPARITA", "REMJEFE", "REMVERAGUAS",
> > "REMPICACHO", "REMCHANG", "REMITAMUT", "REMHERRERA", "REMSIXAOLA",
> > "REMPARITA", "REMPANAMA", "REMVERAGUAS", "REMVERAGUAS", "REMTERIBE",
> > "REMPARITA", "REMBAYANO", "REMTERIBE", "REMCOLON", "REMTERIBE",
> > "REMTERIBE", "REMDOLEGA", "REMPARITA", "REMBDELT", "REMMCAULIFFE",
> > "REMINDIO", "REMITAMUT", "REMSAJALICES", "REMTERIBE", "REMBDELT",
> > "REMLOSSANTOS", "REMLOSSANTOS", "REMCHANG", "REMTERIBE", "REMBAYANO",
> > "REMPARITA", "REMPARITA", "REMESTI", "REMESTI", "REMTERIBE",
> > "REMPARITA", "REMPARITA", "REMPARITA", "REMTERIBE", "REMVERAGUAS",
> > "REMGUARDIA", "REMHERRERA", "REMLOSSANTOS", "REMFARFAN", "REMLIDER",
> > "REMLOSSANTOS", "REMCOCLE", "REMPICACHO", "REMCALOV", "REMPARITA",
> > "REMTERIBE", "REMBAYANO", "REMCACIQUE", "REMLOSSANTOS", "REMAZUL",
> > "REMTERIBE", "REMTERIBE", "REMESTI", "REMMCAULIFFE", "REMLIDER",
> > "REMBAYANO", "REMCHIRIQUI", "REMCHIRIQUI", "REMMCAULIFFE", "REMCACIQUE",
> > "REMBAYANO", "REMAZUL", "REMCACIQUE", "REMESTI", "REMAZUL", "REMVERAGUAS",
> > "REMUNIDAD", "REMPICACHO", "REMGUARDIA", "REMTERIBE", "REMLOSSANTOS",
> > "REMPEQUENI", "REMDOLEGA", "REMTERIBE", "REMTERIBE", "REMFARFAN",
> > "REMLOSSANTOS", "REMBDELT", "REMCHIRIQUI", "REMVERAGUAS", "REMVERAGUAS",
> > "REMTERIBE", "REMHERRERA", "REMGUIA", "REMFARFAN", "REMBDELT",
> > "REMBELEN", "REMCACIQUE", "REMTERIBE", "REMPARITA", "REMBDELT",
> > "REMPARITA", "REMPARITA", "REMPARITA", "REMFARFAN", "REMTERIBE",
> > "REMFARFAN", "REMTONOSI", "REMHAYNES", "REMVERAGUAS", "REMITAMUT",
> > "REMBAYANO", "REMBDELT", "REMDARIEN", "REMDARIEN", "REMSANTIAGO",
> > "REMCACIQUE", "REMDOLEGA", "REMSANTIAGO", "REMCHIRIQUI", "REMCACIQUE",
> > "REMUNIDAD", "REMBELEN", "REMCHIRIQUI", "REMITAMUT", "REMCOLON",
> > "REMCACIQUE", "REMPACORA", "REMLOSSANTOS", "REMCOLON", "REMJEFE",
> > "REMSIXAOLA", "REMUNIDAD", "REMTUIRA", "REMPANAMA", "REMSAJALICES",
> > "REMDARIEN", "REMCOLON", "REMDOLEGA", "REMCALOV", "REMAZUL",
> > "REMPARITA", "REMTUIRA", "REMLOSSANTOS", "REMJEFE", "REMBAYANO",
> > "REMCOLON", "REMGUARDIA", "REMSIXAOLA", "REMSIXAOLA", "REMAZUL",
> > "REMJEFE", "REMESTI", "REMBDELT", "REMPICACHO", "REMCHANG", "REMGUARDIA",
> > "REMESTI", "REMCOCLE", "REMBELEN", "REMTUIRA", "REMPICACHO",
> > "REMCOLON", "REMSIXAOLA", "REMANCON", "REMCALOV", "REMSAJALICES",
> > "REMLIDER", "REMGUIA", "REMBDELT", "REMTONOSI", "REMUNIDAD",
> > "REMINDIO", "REMTUIRA", "REMCOLON", "REMLIDER", "REMLIDER", "REMLOSSANTOS",
> > "REMJEFE", "REMJEFE", "REMAZUL", "REMUNIDAD", "REMINDIO", "REMLOSSANTOS",
> > "REMINDIO", "REMTERIBE", "REMFARFAN", "REMTUIRA", "REMHAYNES",
> > "REMINDIO", "REMFARFAN", "REMCOCLE", "REMPICACHO", "REMLOSSANTOS",
> > "REMLIDER", "REMINDIO", "REMITAMUT", "REMTONOSI", "REMUNIDAD",
> > "REMESTI", "REMLOSSANTOS", "REMANCON", "REMUNIDAD", "REMGRANDE",
> > "REMESTI", "REMJEFE", "REMITAMUT", "REMESTI", "REMCHANG", "REMDARIEN",
> > "REMHERRERA", "REMBAYANO", "REMSANTIAGO", "REMMCAULIFFE", "REMCOLON",
> > "REMCALOV", "REMBDELT", "REMVERAGUAS", "REMSIXAOLA", "REMCOLON",
> > "REMSANTIAGO", "REMLOSSANTOS", "REMSAJALICES", "REMVERAGUAS",
> > "REMTONOSI", "REMTONOSI", "REMPEQUENI", "REMDARIEN", "REMCACIQUE",
> > "REMITAMUT", "REMBELEN", "REMBELEN", "REMLOSSANTOS", "REMTONOSI",
> > "REMITAMUT", "REMCOCLE", "REMSANTIAGO", "REMITAMUT", "REMJEFE",
> > "REMFARFAN", "REMHERRERA", "REMCALOV", "REMCOLON", "REMINDIO",
> > "REMITAMUT", "REMITAMUT", "REMMCAULIFFE", "REMBDELT", "REMPACORA",
> > "REMTONOSI", "REMPACORA", "REMBAYANO", "REMTERIBE", "REMBELEN",
> > "REMPACORA", "REMMCAULIFFE", "REMBDELT", "REMCHIRIQUI", "REMSAJALICES",
> > "REMPARITA"), Days_At_Failure = c(2369, 2369, 3743, 3730, 3158,
> > 3008, 6342, 2215, 2219, 1887, 5469, 5413, 3221, 2644, 2196, 5786,
> > 3802, 1369, 3786, 3769, 3366, 1638, 3573, 2602, 2775, 4210, 1734,
> > 3168, 3228, 3692, 3323, 6687, 3501, 3370, 2663, 3613, 3826, 2580,
> > 4106, 3060, 3938, 2689, 2444, 4217, 3962, 2241, 3081, 4176, 6395,
> > 2069, 6942, 2542, 6775, 2486, 2709, 6864, 2849, 6867, 6512, 2495,
> > 6625, 6656, 6363, 3048, 3042, 2730, 3740, 4295, 5672, 5648, 2508,
> > 2244, 2836, 3695, 6807, 5879, 2358, 3198, 2279, 4402, 2807, 3983,
> > 3095, 2300, 3206, 6544, 2939, 6253, 6239, 6239, 2468, 3165, 3012,
> > 1902, 7132, 4411, 4151, 3085, 4227, 2896, 2897, 3290, 3235, 3077,
> > 4145, 3828, 6377, 2848, 3141, 3122, 4118, 4118, 6338, 3881, 3881,
> > 3991, 3204, 7074, 2335, 4185, 2499, 5863, 7417, 2967, 2175, 6437,
> > 3335, 7501, 7169, 7169, 2735, 7329, 6870, 3081, 2794, 3218, 3280,
> > 6050, 4389, 3137, 2879, 3014, 7414, 3140, 2841, 2383, 4168, 2826,
> > 7002, 2974, 4158, 2550, 4238, 2789, 6286, 2885, 7073, 2643, 4562,
> > 6027, 6027, 6353, 2077, 2950, 3023, 4571, 2985, 6850, 2697, 3124,
> > 2628, 2393, 2390, 6914, 2726, 2344, 2967, 6117, 3396, 2924, 4908,
> > 4508, 4141, 2198, 7137, 7139, 3038, 4873, 1965, 1829, 7007, 2604,
> > 2736, 3984, 4035, 5876, 3153, 2200, 2794, 3108, 2982, 2830, 7220,
> > 6573, 3388, 2487, 7260, 3039, 3003, 3004, 2055, 3037, 2144, 2145,
> > 2879, 2653, 2674, 6042, 6434, 3218, 6102, 7274, 4302, 2964, 2825,
> > 6230, 3024, 2697, 3025, 2698, 3027, 3022, 2934, 7228, 3124, 7282,
> > 6279, 6737, 6737, 2710, 6544, 3935, 2757, 2178, 2966, 2872, 2872,
> > 6549, 3059, 4846, 2258, 2789, 2319, 3062, 7038, 3083, 7325, 3119,
> > 4553, 4201, 3449, 4168, 3146, 7078, 6167, 3062, 4316, 2917, 7302,
> > 6658, 7378, 6791, 6791, 4849, 7496, 3244, 6119, 2633, 5644, 4254,
> > 7190, 7020, 7039, 7044, 2398, 3096, 3406, 7190, 6259, 2808, 7038,
> > 4142, 3211, 3385, 3265, 4133, 4242, 3106, 4226, 3168, 2983, 6692,
> > 2969, 2819, 2742, 7476, 5566, 5952, 4686, 7382, 3088, 4159, 2865,
> > 4006, 6504, 3721, 3135, 6954, 3319, 3261, 3249, 7635, 5201, 3586,
> > 3551, 3939, 3940, 3361, 6977, 3424, 3424, 3783, 3587, 3286, 3888,
> > 2279, 7745, 3467, 3424, 3372, 4993, 6958, 6612, 2747, 3636, 3653,
> > 3981, 3706, 7237, 3725, 5555, 4369, 3372, 4567, 2938, 4492, 3420,
> > 2737, 7063, 2778, 7611, 6874, 4545, 3314, 2571, 3458, 2938, 3815,
> > 6512, 3628, 4946, 3517, 5028, 4911, 4658, 3944, 3859, 5114, 6826,
> > 3469, 6525, 3395, 6907, 3887, 3255, 3865, 7452, 3985, 3997, 6871,
> > 3879, 3879, 3879, 4517, 8087, 3422, 3972, 5005, 3400, 3424, 3645,
> > 3858, 3608, 3424, 3506, 3527, 3980, 3122, 3974, 4082, 8075, 3082,
> > 3709, 3616, 4006, 6899, 3329, 3180, 3614, 3887, 3279, 3440, 3480,
> > 3314, 3499, 7671, 4571, 3891, 3952, 7285, 5561, 2134, 3508, 3213,
> > 5909, 5925, 2259, 3549, 2131, 2264, 5767, 2195, 3267, 2119, 6402,
> > 2341, 5406, 5712, 2334, 3438, 2589, 3987, 2519, 5648, 1782, 2605,
> > 3327, 3417, 3292, 2579, 3823, 3514, 2376, 4093, 3621, 6737, 6767,
> > 2831, 2035, 2245, 6395, 2355, 6954, 6100, 5839, 2676, 3540, 2469,
> > 5728, 2610, 3845, 6499, 2607, 5911, 1651, 3633, 1966, 2481, 2425,
> > 3997, 6250, 6955, 1886, 3998, 2501, 2688, 7062, 2404, 2893, 3119,
> > 2904, 7183, 3048, 6310, 7321, 2468, 3165, 2907, 4715, 4153, 1934,
> > 1937, 2101, 2952, 4006, 3144, 6225, 2516, 3867, 7312, 2937, 2290,
> > 6313, 4208, 3028, 4256, 2738, 6286, 2761, 1907, 2857, 6216, 3934,
> > 2983, 4193, 4340, 5884, 2973, 2854, 3107, 3139, 2284, 4736, 4233,
> > 4466, 2738, 4194, 2720, 2728, 2855, 4226, 4532, 2634, 3211, 3213,
> > 6974, 3397, 2239, 2237, 3023, 2341, 2840, 2863, 2313, 6049, 4532,
> > 3129, 7525, 7525, 3408, 3241, 4810, 2441, 3108, 2316, 3339, 6367,
> > 3080, 1974, 4383, 3640, 2689, 2145, 2959, 3179, 7045, 2687, 4562,
> > 6402, 4822, 3411, 3082, 7216, 2294, 2731, 2981, 3049, 2387, 2390,
> > 4429, 2570, 2873, 3047, 6968, 1597, 6968, 3003, 3956, 2814, 6080,
> > 3992, 4069, 6349, 2545, 4562, 3297, 2300, 7171, 7165, 3014, 4491,
> > 6463, 2788, 3893, 6784, 2508, 6184, 3037, 6328, 2878, 4559, 2197,
> > 2984, 4509, 3079, 7280, 3013, 6184, 2980, 2945, 2890, 2722, 4695,
> > 2719, 3836, 3878, 7083, 2753, 5953, 3954, 2964, 2305, 4598, 2985,
> > 6174, 3026, 3025, 2235, 2394, 3954, 3072, 3296, 2953, 2155, 7323,
> > 4191, 4160, 7324, 2747, 3227, 7131, 2747, 6577, 3236, 2899, 4649,
> > 7322, 3063, 2946, 7038, 4102, 3047, 6072, 3076, 4173, 3035, 3150,
> > 2804, 4392, 2759, 1801, 6982, 6991, 2123, 3130, 2368, 3412, 6067,
> > 4068, 7083, 3051, 3420, 7116, 2812, 4208, 5952, 1978, 6129, 4131,
> > 2753, 3239, 7038, 4391, 2273, 2511, 2885, 4516, 2545, 7377, 4201,
> > 4482, 6495, 3102, 2957, 7209, 5952, 2859, 2596, 1390, 4488, 6371,
> > 2958, 3255, 7898, 3362, 2753, 3272, 5201, 2818, 7922, 3150, 6980,
> > 3527, 3209, 5171, 2509, 3617, 2727, 6845, 3807, 3457, 4398, 4994,
> > 5119, 3959, 3177, 4400, 4017, 6936, 3703, 3544, 3620, 3460, 4957,
> > 7745, 4492, 2843, 3122, 3644, 5554, 6532, 6123, 3718, 3757, 4441,
> > 3741, 3719, 3897, 2879, 3593, 3306, 3306, 3410, 3638, 5118, 7755,
> > 6905, 6630, 3319, 7745, 6612, 6999, 2831, 3942, 3509, 3858, 4307,
> > 7604, 6635, 3420, 3866, 3867, 3232, 8097, 7657, 4542, 4865, 4865,
> > 8192, 7593, 4493, 3446, 7719, 2879, 3474, 5106, 7714, 2752, 7881,
> > 3486, 6613, 3527, 3442, 3720, 3720, 3296, 6593, 5233, 4954, 5243,
> > 5201, 3746, 6745, 8075, 3231, 4971, 3461, 7855, 3943, 3590, 5475,
> > 3764, 3665, 3790, 3279, 4036, 3294, 3339, 7686, 5121, 2948, 3029,
> > 3829, 3665, 3752, 1571, 6488, 2164, 1526, 3646, 6582, 6633, 2396,
> > 3652, 1654, 5751, 6449, 2077, 5391, 5783, 2119, 2337, 6431, 3259,
> > 3404, 2249, 3757, 5699, 2236, 2607, 2456, 1834, 3588, 5188, 2235,
> > 3318, 6003, 6656, 2796, 2678, 1849, 2578, 2157, 4257, 1752, 3081,
> > 6919, 2751, 6098, 2457, 3640, 1830, 5988, 2656, 1722, 2616, 2504,
> > 6925, 6901, 4117, 2434, 6951, 3753, 3640, 6118, 6674, 6708, 5594,
> > 2690, 2690, 2637, 6665, 3829, 5447, 4166, 3194, 2961, 3791, 7183,
> > 3983, 2878, 6584, 2398, 6262, 7336, 4214, 2468, 2832, 7365, 3018,
> > 6304, 2298, 7348, 2110, 2627, 2993, 2682, 2535, 2863, 4278, 6355,
> > 3962, 2011, 7025, 6338, 3219, 4564, 4833, 3405, 6334, 2243, 6133,
> > 3122, 4479, 2958, 2973, 3366, 4373, 7501, 2297, 2937, 2937, 6137,
> > 2968, 2307, 6672, 2541, 2468, 3057, 3137, 6503, 3534, 6835, 4363,
> > 2336, 2317, 7054, 4383, 2750, 2979, 2564, 3618, 3012, 2988, 2815,
> > 7106, 4673, 4384, 3128, 2890)), row.names = c(1L, 2L, 3L, 4L,
> > 5L, 6L, 8L, 9L, 10L, 11L, 15L, 17L, 19L, 20L, 23L, 24L, 25L,
> > 26L, 28L, 29L, 30L, 31L, 32L, 34L, 36L, 39L, 40L, 41L, 42L, 43L,
> > 44L, 45L, 46L, 47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L,
> > 57L, 58L, 60L, 62L, 63L, 64L, 66L, 67L, 68L, 70L, 71L, 72L, 73L,
> > 74L, 75L, 77L, 78L, 79L, 80L, 81L, 83L, 84L, 85L, 86L, 88L, 89L,
> > 90L, 92L, 93L, 94L, 95L, 96L, 97L, 103L, 104L, 105L, 107L, 109L,
> > 112L, 113L, 114L, 115L, 117L, 118L, 119L, 121L, 122L, 123L, 124L,
> > 125L, 128L, 129L, 131L, 132L, 134L, 136L, 137L, 139L, 140L, 141L,
> > 142L, 143L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
> > 154L, 155L, 156L, 158L, 159L, 160L, 161L, 163L, 164L, 166L, 167L,
> > 168L, 170L, 171L, 173L, 174L, 175L, 177L, 179L, 180L, 181L, 182L,
> > 184L, 185L, 186L, 187L, 190L, 192L, 193L, 194L, 195L, 196L, 198L,
> > 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 208L, 209L, 210L,
> > 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L, 221L, 222L,
> > 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L, 231L, 232L, 233L,
> > 234L, 235L, 236L, 237L, 238L, 239L, 241L, 244L, 245L, 246L, 247L,
> > 248L, 250L, 251L, 252L, 253L, 255L, 256L, 257L, 258L, 259L, 260L,
> > 261L, 262L, 263L, 268L, 269L, 271L, 272L, 273L, 274L, 275L, 278L,
> > 279L, 282L, 283L, 285L, 286L, 287L, 288L, 289L, 290L, 291L, 292L,
> > 293L, 294L, 295L, 296L, 297L, 298L, 299L, 302L, 304L, 306L, 307L,
> > 308L, 309L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L, 320L,
> > 321L, 322L, 323L, 324L, 325L, 327L, 328L, 330L, 331L, 332L, 333L,
> > 334L, 335L, 336L, 337L, 339L, 340L, 341L, 342L, 343L, 346L, 350L,
> > 351L, 352L, 353L, 354L, 355L, 357L, 358L, 359L, 361L, 362L, 363L,
> > 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 374L, 376L, 377L,
> > 378L, 381L, 382L, 383L, 384L, 385L, 387L, 388L, 391L, 393L, 394L,
> > 396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 407L,
> > 408L, 409L, 412L, 413L, 414L, 415L, 416L, 417L, 418L, 419L, 420L,
> > 421L, 422L, 424L, 425L, 426L, 428L, 429L, 430L, 431L, 432L, 435L,
> > 437L, 439L, 440L, 441L, 442L, 445L, 449L, 450L, 451L, 453L, 454L,
> > 455L, 456L, 457L, 458L, 459L, 462L, 463L, 464L, 465L, 467L, 468L,
> > 469L, 472L, 473L, 475L, 476L, 479L, 480L, 485L, 487L, 489L, 490L,
> > 491L, 492L, 493L, 495L, 496L, 497L, 498L, 499L, 500L, 501L, 502L,
> > 503L, 504L, 505L, 506L, 507L, 509L, 512L, 514L, 516L, 517L, 518L,
> > 519L, 520L, 521L, 522L, 523L, 526L, 528L, 530L, 532L, 533L, 534L,
> > 535L, 537L, 538L, 539L, 540L, 544L, 545L, 548L, 549L, 554L, 555L,
> > 556L, 557L, 558L, 560L, 568L, 569L, 571L, 572L, 576L, 577L, 579L,
> > 582L, 583L, 584L, 586L, 587L, 590L, 614L, 629L, 630L, 631L, 632L,
> > 633L, 634L, 636L, 637L, 640L, 642L, 646L, 647L, 648L, 649L, 650L,
> > 651L, 653L, 655L, 656L, 657L, 659L, 660L, 661L, 662L, 663L, 664L,
> > 666L, 667L, 668L, 669L, 670L, 671L, 673L, 674L, 675L, 676L, 677L,
> > 678L, 679L, 681L, 682L, 683L, 684L, 685L, 686L, 688L, 690L, 692L,
> > 693L, 694L, 695L, 696L, 697L, 698L, 699L, 700L, 701L, 703L, 704L,
> > 705L, 706L, 707L, 709L, 710L, 714L, 715L, 716L, 717L, 719L, 720L,
> > 721L, 722L, 723L, 724L, 725L, 726L, 728L, 729L, 730L, 731L, 732L,
> > 733L, 734L, 735L, 736L, 737L, 738L, 739L, 740L, 741L, 742L, 744L,
> > 745L, 747L, 748L, 750L, 751L, 752L, 753L, 754L, 756L, 757L, 758L,
> > 759L, 760L, 761L, 762L, 763L, 764L, 765L, 766L, 767L, 768L, 769L,
> > 771L, 772L, 773L, 774L, 775L, 776L, 777L, 778L, 780L, 781L, 782L,
> > 783L, 784L, 786L, 787L, 788L, 789L, 790L, 791L, 792L, 793L, 794L,
> > 795L, 796L, 797L, 798L, 799L, 800L, 801L, 803L, 806L, 808L, 809L,
> > 810L, 811L, 812L, 813L, 817L, 818L, 819L, 820L, 821L, 822L, 824L,
> > 828L, 829L, 830L, 831L, 832L, 834L, 835L, 836L, 837L, 838L, 839L,
> > 840L, 841L, 842L, 843L, 844L, 845L, 846L, 847L, 849L, 850L, 851L,
> > 852L, 853L, 854L, 856L, 857L, 858L, 860L, 861L, 862L, 863L, 864L,
> > 866L, 868L, 870L, 871L, 872L, 873L, 874L, 875L, 877L, 878L, 879L,
> > 880L, 881L, 882L, 885L, 886L, 887L, 888L, 889L, 891L, 892L, 893L,
> > 894L, 896L, 898L, 899L, 900L, 901L, 903L, 904L, 908L, 909L, 910L,
> > 911L, 912L, 913L, 914L, 915L, 918L, 919L, 920L, 921L, 922L, 924L,
> > 925L, 926L, 929L, 930L, 931L, 932L, 933L, 934L, 935L, 936L, 938L,
> > 939L, 940L, 941L, 942L, 943L, 945L, 946L, 947L, 948L, 949L, 950L,
> > 951L, 953L, 954L, 955L, 956L, 960L, 961L, 962L, 963L, 964L, 966L,
> > 969L, 970L, 972L, 973L, 974L, 975L, 976L, 978L, 979L, 983L, 984L,
> > 985L, 986L, 987L, 988L, 989L, 990L, 991L, 992L, 993L, 994L, 995L,
> > 997L, 998L, 999L, 1001L, 1002L, 1003L, 1004L, 1005L, 1007L, 1008L,
> > 1009L, 1010L, 1011L, 1013L, 1014L, 1015L, 1016L, 1018L, 1019L,
> > 1020L, 1021L, 1022L, 1024L, 1025L, 1026L, 1028L, 1030L, 1033L,
> > 1038L, 1039L, 1040L, 1041L, 1043L, 1044L, 1046L, 1048L, 1049L,
> > 1050L, 1052L, 1053L, 1054L, 1055L, 1056L, 1057L, 1058L, 1059L,
> > 1061L, 1062L, 1063L, 1065L, 1066L, 1067L, 1068L, 1071L, 1072L,
> > 1074L, 1075L, 1076L, 1078L, 1079L, 1083L, 1085L, 1086L, 1087L,
> > 1088L, 1089L, 1092L, 1094L, 1095L, 1096L, 1098L, 1099L, 1100L,
> > 1101L, 1102L, 1103L, 1105L, 1106L, 1108L, 1109L, 1110L, 1114L,
> > 1116L, 1117L, 1118L, 1119L, 1122L, 1123L, 1124L, 1125L, 1127L,
> > 1129L, 1130L, 1131L, 1132L, 1133L, 1134L, 1136L, 1137L, 1139L,
> > 1141L, 1142L, 1143L, 1144L, 1145L, 1146L, 1148L, 1149L, 1150L,
> > 1151L, 1152L, 1155L, 1156L, 1159L, 1160L, 1162L, 1163L, 1164L,
> > 1165L, 1166L, 1174L, 1176L, 1177L, 1180L, 1181L, 1182L, 1185L,
> > 1186L, 1187L, 1191L, 1192L, 1193L, 1234L, 1235L, 1236L, 1237L,
> > 1238L, 1239L, 1241L, 1242L, 1243L, 1244L, 1245L, 1246L, 1248L,
> > 1250L, 1251L, 1252L, 1253L, 1254L, 1255L, 1256L, 1257L, 1259L,
> > 1260L, 1261L, 1262L, 1263L, 1264L, 1266L, 1267L, 1270L, 1271L,
> > 1272L, 1273L, 1274L, 1275L, 1277L, 1278L, 1279L, 1280L, 1281L,
> > 1283L, 1284L, 1285L, 1286L, 1287L, 1288L, 1289L, 1290L, 1291L,
> > 1294L, 1295L, 1297L, 1298L, 1299L, 1300L, 1301L, 1302L, 1304L,
> > 1305L, 1306L, 1307L, 1308L, 1309L, 1310L, 1312L, 1313L, 1314L,
> > 1315L, 1316L, 1317L, 1318L, 1319L, 1321L, 1322L, 1323L, 1324L,
> > 1326L, 1327L, 1328L, 1329L, 1330L, 1333L, 1335L, 1336L, 1337L,
> > 1338L, 1339L, 1340L, 1341L, 1342L, 1344L, 1346L, 1347L, 1348L,
> > 1349L, 1353L, 1354L, 1355L, 1356L, 1358L, 1359L, 1360L, 1362L,
> > 1363L, 1364L, 1365L, 1366L, 1367L, 1369L, 1370L, 1371L, 1372L,
> > 1374L, 1376L, 1377L, 1378L, 1381L, 1382L, 1383L, 1384L, 1385L,
> > 1387L, 1388L, 1389L, 1390L, 1391L, 1392L, 1393L, 1396L, 1397L,
> > 1398L, 1400L, 1401L, 1402L, 1403L, 1407L, 1408L, 1409L, 1410L,
> > 1411L, 1413L, 1414L, 1416L, 1417L, 1418L, 1419L, 1420L, 1422L,
> > 1424L), class = "data.frame")
> >
> > Any guidance will be greatly appreciated.
> >
> > Best regards,
> > Paul
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >


From John@Ne@et @end|ng |rom nor|d|@n@com  Wed Oct  4 15:09:47 2023
From: John@Ne@et @end|ng |rom nor|d|@n@com (John Neset)
Date: Wed, 4 Oct 2023 13:09:47 +0000
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
Message-ID: <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>

What/how do I interact with the download.file with turning off the strict certificate revocation check in regards to download & update packages?
I clearly made an attempt at this, but failed miserably.

Trying to do this, reference FAQ-
2.18 The Internet download functions fail.
(c) A MITM proxy (typically in enterprise environments) makes it impossible to validate that certificates haven't been revoked. One can switch to only best effort revocation checks via an environment variable: see ?download.file.
Confidentiality Notice - This communication and any atta...{{dropped:10}}


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Oct  4 15:52:00 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 4 Oct 2023 16:52:00 +0300
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
 <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
Message-ID: <20231004165200.59429be6@arachnoid>

? Wed, 4 Oct 2023 13:09:47 +0000
John Neset <John.Neset at noridian.com> ?????:

> Trying to do this, reference FAQ-
> 2.18 The Internet download functions fail.
> (c) A MITM proxy (typically in enterprise environments) makes it
> impossible to validate that certificates haven't been revoked. One
> can switch to only best effort revocation checks via an environment
> variable: see ?download.file.

Here's what help(download.file) has to say:

>>     On Windows with ?method = "libcurl"?, when R was linked with
>>     ?libcurl? with ?Schannel? enabled, the connection fails if it
>>     cannot be established that the certificate has not been revoked.
>>     Some MITM proxies present particularly in corporate environments
>>     do not work with this behavior. It can be changed by setting
>>     environment variable ?R_LIBCURL_SSL_REVOKE_BEST_EFFORT? to
>>     ?TRUE?, with the consequence of reducing security.

Does it help to Sys.setenv(...) this environment variable before
downloading? If not, please provide your sessionInfo() and the full
error message.

-- 
Best regards,
Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Oct  4 17:06:34 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 4 Oct 2023 18:06:34 +0300
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <PH7PR06MB9020F7DCEEF4347F5ABFE724E9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
 <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004165200.59429be6@arachnoid>
 <PH7PR06MB9020F7DCEEF4347F5ABFE724E9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
Message-ID: <20231004180634.1ba436cd@arachnoid>

? Wed, 4 Oct 2023 14:32:49 +0000
John Neset <John.Neset at noridian.com> ?????:

> No change with True or False with R_LIBCURL_SSL_REVOKE_BEST_EFFORT

Judging by the screenshot, it looks like you've set an R variable
R_LIBCURL_SSL_REVOKE_BEST_EFFORT instead of setting an environment
variable using Sys.setenv:

 Sys.setenv('R_LIBCURL_SSL_REVOKE_BEST_EFFORT' = 'TRUE')

(Use Sys.getenv to verify the result.)

For the next time, most people on the R-help mailing list would
probably appreciate it if you copied and pasted the text from the R
console instead of attaching screenshots.

-- 
Best regards,
Ivan


From drj|m|emon @end|ng |rom gm@||@com  Thu Oct  5 00:30:38 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 5 Oct 2023 09:30:38 +1100
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <20231004180634.1ba436cd@arachnoid>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
 <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004165200.59429be6@arachnoid>
 <PH7PR06MB9020F7DCEEF4347F5ABFE724E9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004180634.1ba436cd@arachnoid>
Message-ID: <CA+8X3fWsDwpUaZEW3wZ0H3NAt49Fd2RFdW047axiSmNFwbc3JA@mail.gmail.com>

Hello,
I am very sad to let you know that my husband Jim died in 18th September. I
apologise for not letting you know earlier but I had trouble finding the
password for his phone.
Kind regards,
Juel Briggs

On Thu, 5 Oct 2023, 02:07 Ivan Krylov <krylov.r00t at gmail.com wrote:

> ? Wed, 4 Oct 2023 14:32:49 +0000
> John Neset <John.Neset at noridian.com> ?????:
>
> > No change with True or False with R_LIBCURL_SSL_REVOKE_BEST_EFFORT
>
> Judging by the screenshot, it looks like you've set an R variable
> R_LIBCURL_SSL_REVOKE_BEST_EFFORT instead of setting an environment
> variable using Sys.setenv:
>
>  Sys.setenv('R_LIBCURL_SSL_REVOKE_BEST_EFFORT' = 'TRUE')
>
> (Use Sys.getenv to verify the result.)
>
> For the next time, most people on the R-help mailing list would
> probably appreciate it if you copied and pasted the text from the R
> console instead of attaching screenshots.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu Oct  5 00:33:33 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 5 Oct 2023 09:33:33 +1100
Subject: [R] Problems Structuring My Data
In-Reply-To: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>
References: <CAMOcQfPz8Yte9GmqX3daiRwcstonS6WKEFiUq2Aq3N5UzvzQnA@mail.gmail.com>
Message-ID: <CA+8X3fXHO1+C9PHBgTxBSYVjFmnXcVM3xVRU+V8icCAjxKL-aA@mail.gmail.com>

Hello,
I am very sad to let you know that my husband Jim died in 18th September. I
apologise for not letting you know earlier but I had trouble finding the
password for his phone.
If you wish to do an obituary please let me know by emailing
juelsallybriggs at gmail.com, I can send info through.
Kind regards,
Juel

On Wed, 4 Oct 2023, 09:18 Paul Bernal <paulbernal07 at gmail.com wrote:

> Dear friends,
>
> Hope you are all doing great. I am working with a dataset which is a subset
> of the original one, that has the following columns: FAILDATE, REM_NAME,
> and Days_At_Failure.
>
> I want to structure the data in such a way that I have the unique FAILDATE
> in "%Y-%m-%d" format, then a column for each REM_NAME and then the
> Days_At_Failure displayed for each REM_NAME and FAILDATE (just as if I was
> using a pivot table).
>
> The structure I want is the following:
> FAILDATE  REM1                 REM2  REM3 ........ REM N
> 2000-01-01 # days at failure ................................#days at
> failure
> 2000-01-02 # days at failure ................................#days at
> failure
> 2000-01-03 # days at failure ................................#days at
> failure
>
> Here is the dput() of my dataframe:
> #I don?t know why R is showing the dates as numbers
> #when I do str, it actually shows that FAIL date has type Date
>  dput(head(failure_subset2, n=1000))
> structure(list(FAILDATE = structure(c(17597, 17597, 17347, 17334,
> 17148, 17168, 17299, 17402, 17406, 17347, 17505, 17449, 17352,
> 17931, 17424, 17439, 17406, 17292, 17390, 17373, 17259, 17561,
> 17563, 17550, 17723, 17814, 17564, 17299, 17307, 17296, 17483,
> 17644, 17394, 17360, 17850, 17744, 17719, 17712, 17710, 18048,
> 18069, 17876, 17506, 17821, 18041, 17586, 18069, 18069, 18048,
> 17899, 17899, 17759, 17732, 17822, 17771, 17821, 17837, 17824,
> 17469, 17483, 17582, 17613, 18016, 18036, 18030, 17862, 17871,
> 17899, 17651, 17684, 17844, 17632, 17784, 17855, 17764, 17915,
> 18245, 18260, 18166, 18295, 18094, 18062, 18083, 18223, 18237,
> 18197, 18284, 18289, 18218, 18218, 18298, 18297, 18299, 17910,
> 18089, 18304, 18141, 18272, 18387, 18183, 18184, 18422, 18422,
> 18422, 18038, 17988, 18413, 17836, 18328, 18230, 18011, 18011,
> 17991, 18041, 18041, 18070, 18432, 18031, 18165, 18345, 18386,
> 17899, 18374, 18427, 18098, 18416, 18397, 18458, 18126, 18126,
> 18123, 18286, 17827, 18069, 18081, 18505, 18508, 18086, 18468,
> 18482, 18107, 18146, 18371, 18368, 18186, 18270, 17772, 18054,
> 17959, 18106, 18148, 18380, 18398, 17921, 18265, 18273, 18030,
> 18473, 18166, 18006, 18006, 18006, 18000, 17938, 18155, 18175,
> 18047, 18503, 18042, 18072, 17964, 18223, 17850, 17871, 18071,
> 18174, 18154, 18153, 18344, 18384, 18512, 18112, 18131, 18085,
> 18094, 18096, 18100, 18477, 17967, 17752, 17964, 18491, 18124,
> 18115, 18166, 17912, 18489, 18087, 18130, 18170, 18169, 18175,
> 18177, 18226, 18376, 18374, 18217, 18226, 18135, 18136, 17942,
> 18099, 18031, 18032, 18107, 18041, 18062, 18078, 18087, 18249,
> 18081, 18231, 18195, 18192, 18213, 18209, 18156, 18157, 18157,
> 18158, 18159, 18053, 18221, 18185, 18311, 18239, 18258, 18390,
> 18390, 17997, 18197, 18095, 18145, 18101, 18194, 18260, 18260,
> 18202, 18447, 18450, 18088, 18249, 18206, 18290, 17995, 18270,
> 18282, 18251, 18157, 18094, 18437, 18299, 18333, 18035, 18146,
> 18010, 18395, 18204, 18259, 18311, 18335, 18444, 18444, 18453,
> 18453, 18192, 18098, 17969, 17680, 18147, 18147, 17977, 17996,
> 18001, 18399, 18432, 18354, 18147, 17912, 17995, 17995, 18221,
> 18428, 18447, 18452, 18264, 18321, 18334, 18386, 18156, 18371,
> 18345, 18156, 18164, 18029, 18433, 17602, 17931, 18290, 18339,
> 18424, 18052, 18052, 18166, 18540, 18783, 18166, 18607, 18606,
> 18606, 18594, 18592, 18805, 18648, 18768, 18887, 18888, 18648,
> 18630, 18812, 18812, 18845, 18932, 18418, 18950, 18166, 18702,
> 18684, 18812, 18589, 18597, 18611, 18648, 18577, 19024, 19041,
> 19043, 18768, 19216, 18787, 19159, 18529, 18589, 18646, 18166,
> 18571, 18637, 18624, 18716, 18166, 18568, 18527, 18535, 18542,
> 18494, 18846, 18166, 18877, 18548, 18659, 18839, 18905, 18632,
> 18804, 18648, 18892, 18921, 18718, 18805, 18805, 18561, 18682,
> 18943, 18949, 18542, 18927, 18409, 19047, 19059, 18524, 18941,
> 18941, 18941, 18648, 19044, 18758, 19034, 18609, 18788, 18812,
> 18676, 19194, 18740, 18812, 18842, 18659, 19042, 18230, 19036,
> 19144, 19032, 18542, 19097, 18564, 18166, 18552, 18557, 18467,
> 19002, 19174, 18624, 18828, 18542, 18542, 18686, 18628, 18702,
> 19227, 19239, 19264, 17597, 17470, 17401, 17344, 17562, 17578,
> 17476, 17539, 17348, 17326, 17420, 17423, 17427, 17347, 17359,
> 17372, 17385, 17365, 17365, 17598, 17977, 17977, 17736, 17684,
> 17612, 17792, 17220, 17310, 17452, 17641, 17813, 17407, 17712,
> 17697, 17752, 17694, 17724, 17862, 17865, 17633, 18048, 17815,
> 17911, 17753, 17818, 17784, 17619, 17697, 17381, 17641, 17449,
> 17456, 17555, 17564, 17574, 17793, 17889, 17869, 17885, 17890,
> 17903, 17912, 17809, 17891, 17846, 17916, 18019, 18234, 18180,
> 18181, 18292, 18140, 18036, 18289, 18278, 18298, 18297, 18295,
> 18319, 18313, 17936, 17939, 18109, 18340, 18166, 18206, 18204,
> 17904, 17998, 18269, 18165, 18120, 18349, 18368, 18416, 18416,
> 18025, 18322, 17989, 17830, 17845, 17869, 18065, 18328, 18324,
> 17944, 17920, 18433, 17962, 18169, 18170, 18171, 18340, 18393,
> 18070, 18083, 18087, 18108, 18116, 18142, 18386, 18425, 18464,
> 18498, 18400, 17931, 18459, 18126, 18124, 18310, 18228, 17828,
> 17851, 18143, 18028, 18425, 18416, 18482, 18482, 18396, 18428,
> 18414, 18441, 18240, 18146, 18370, 18403, 18367, 17975, 17987,
> 17771, 17976, 18068, 18091, 18466, 18002, 18023, 18166, 18438,
> 18426, 18473, 18470, 18173, 18124, 18067, 17929, 18236, 17847,
> 17850, 18033, 17906, 17935, 18435, 17925, 17520, 17925, 18065,
> 18087, 18101, 18116, 18123, 18200, 18002, 18432, 18166, 18484,
> 18130, 18128, 18122, 18122, 18384, 18442, 18124, 18053, 18437,
> 17844, 17837, 18265, 17981, 18165, 18163, 18084, 18116, 18113,
> 18141, 18237, 18241, 18163, 18167, 18173, 18177, 18009, 18299,
> 18006, 17996, 18038, 18040, 18040, 17989, 18085, 18192, 18192,
> 18202, 18213, 18210, 18158, 18157, 18236, 18224, 18114, 18134,
> 18327, 18240, 18078, 18280, 18351, 18320, 18281, 17975, 18258,
> 18088, 18135, 18230, 18267, 18186, 18253, 18279, 18291, 18291,
> 17995, 17995, 17995, 18108, 18293, 18066, 18023, 18138, 18149,
> 18285, 17946, 17809, 17939, 17948, 18130, 18317, 18198, 18443,
> 18103, 17961, 18040, 18113, 17551, 18073, 18099, 18339, 17931,
> 17978, 18165, 18210, 17981, 18371, 17995, 17995, 18196, 18341,
> 17993, 18409, 18432, 18334, 18361, 18375, 18148, 18164, 18417,
> 18166, 17931, 17967, 17984, 17390, 18092, 18407, 18303, 18542,
> 18855, 18424, 18640, 18608, 18805, 18648, 18879, 18437, 18633,
> 18915, 18437, 18775, 18396, 18605, 18557, 18824, 18838, 18845,
> 18388, 18598, 18723, 19021, 18565, 18560, 19079, 18589, 18765,
> 18606, 18837, 18848, 18561, 18702, 18571, 18673, 18230, 18706,
> 19158, 18568, 18159, 18706, 18819, 18601, 19129, 19107, 19184,
> 18166, 18655, 18694, 18694, 18798, 18700, 18722, 18712, 18884,
> 18666, 18664, 18702, 18648, 18652, 18718, 18890, 18897, 18920,
> 18467, 18561, 18671, 18648, 18928, 18929, 18519, 19054, 18614,
> 18702, 18758, 18758, 19149, 18550, 18653, 18674, 18676, 18166,
> 18702, 18710, 18671, 18639, 18838, 18548, 18649, 18659, 18659,
> 18782, 18782, 18641, 18629, 18837, 18847, 18847, 18805, 18808,
> 18724, 19032, 18576, 18575, 18648, 18812, 19005, 18978, 19079,
> 19152, 19053, 19178, 18624, 19098, 18639, 18799, 18643, 18725,
> 18778, 17189, 17433, 17269, 17356, 17494, 17445, 17381, 17449,
> 17539, 17539, 17590, 17583, 17545, 17484, 17404, 17406, 17413,
> 17427, 17436, 17347, 17368, 17388, 17390, 17394, 17357, 17361,
> 17352, 17453, 17555, 17684, 17222, 17719, 17224, 17463, 17478,
> 17656, 17613, 17827, 17709, 17849, 17806, 17444, 17861, 17639,
> 18069, 17876, 18038, 17751, 17644, 17771, 17717, 17641, 17687,
> 17723, 17564, 17612, 17882, 17858, 17721, 17894, 17908, 17832,
> 17771, 17771, 17631, 17665, 17630, 17918, 17918, 17865, 17622,
> 17908, 17483, 18245, 18256, 18306, 17922, 18140, 18062, 18223,
> 18237, 18285, 18298, 18293, 18293, 18298, 18292, 18322, 18305,
> 18340, 18300, 18305, 18118, 17914, 18221, 18512, 17822, 17851,
> 17882, 18334, 18122, 17934, 17982, 17991, 18167, 18168, 18437,
> 18436, 17987, 18166, 18169, 18230, 18083, 18418, 18433, 18498,
> 17977, 18458, 18127, 18124, 18124, 18173, 18428, 18137, 18325,
> 18464, 18298, 18285, 18482, 18482, 18482, 18488, 18442, 18166,
> 18147, 18011, 17987, 18086, 18439, 17900, 17778, 18074, 18175,
> 18151, 18063, 18277, 18277, 18236, 18278), class = "Date"), REM_NAME =
> c("REMAZUL",
> "REMJEFE", "REMBDELT", "REMDARIEN", "REMPANAMA", "REMBAYANO",
> "REMUNIDAD", "REMBELEN", "REMBELEN", "REMTONOSI", "REMLOSSANTOS",
> "REMLOSSANTOS", "REMTUIRA", "REMESTI", "REMAZUL", "REMCOLON",
> "REMVERAGUAS", "REMSANTIAGO", "REMBDELT", "REMBDELT", "REMCHIRIQUI",
> "REMSANTIAGO", "REMPANAMA", "REMCALOV", "REMCALOV", "REMDARIEN",
> "REMITAMUT", "REMTUIRA", "REMINDIO", "REMBDELT", "REMBAYANO",
> "REMUNIDAD", "REMCHIRIQUI", "REMPANAMA", "REMBELEN", "REMTUIRA",
> "REMCHIRIQUI", "REMPEQUENI", "REMBDELT", "REMCHANG", "REMTUIRA",
> "REMBELEN", "REMTERIBE", "REMDARIEN", "REMINDIO", "REMFARFAN",
> "REMCHANG", "REMCHIRIQUI", "REMCOCLE", "REMITAMUT", "REMLIDER",
> "REMDOLEGA", "REMMCAULIFFE", "REMPACORA", "REMTERIBE", "REMMCAULIFFE",
> "REMCHANG", "REMGUARDIA", "REMUNIDAD", "REMCHANG", "REMUNIDAD",
> "REMGUARDIA", "REMCOCLE", "REMCHANG", "REMCHANG", "REMPEQUENI",
> "REMTUIRA", "REMDARIEN", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> "REMPARITA", "REMCALOV", "REMBAYANO", "REMGUARDIA", "REMLOSSANTOS",
> "REMPICACHO", "REMTERIBE", "REMPICACHO", "REMCHIRIQUI", "REMESTI",
> "REMINDIO", "REMCHANG", "REMSANTIAGO", "REMSIXAOLA", "REMCOCLE",
> "REMFARFAN", "REMLOSSANTOS", "REMHERRERA", "REMHERRERA", "REMITAMUT",
> "REMPEQUENI", "REMESTI", "REMPANDO", "REMHAYNES", "REMCHIRIQUI",
> "REMPANAMA", "REMBELEN", "REMBAYANO", "REMESTI", "REMESTI", "REMPEQUENI",
> "REMBELEN", "REMFARFAN", "REMCHIRIQUI", "REMBAYANO", "REMLOSSANTOS",
> "REMCHANG", "REMBELEN", "REMSAJALICES", "REMCHIRIQUI", "REMCHIRIQUI",
> "REMCOLON", "REMBAYANO", "REMBAYANO", "REMINDIO", "REMAZUL",
> "REMCACIQUE", "REMITAMUT", "REMBAYANO", "REMPICACHO", "REMLOSSANTOS",
> "REMUNIDAD", "REMTONOSI", "REMSANTIAGO", "REMHERRERA", "REMTERIBE",
> "REMCACIQUE", "REMHAYNES", "REMHAYNES", "REMPARITA", "REMLIDER",
> "REMMCAULIFFE", "REMCHANG", "REMESTI", "REMESTI", "REMAZUL",
> "REMLOSSANTOS", "REMINDIO", "REMFARFAN", "REMJEFE", "REMPEQUENI",
> "REMMCAULIFFE", "REMAZUL", "REMFARFAN", "REMPICACHO", "REMDARIEN",
> "REMJEFE", "REMUNIDAD", "REMPEQUENI", "REMPANAMA", "REMITAMUT",
> "REMBAYANO", "REMPEQUENI", "REMHERRERA", "REMPARITA", "REMHAYNES",
> "REMITAMUT", "REMBDELT", "REMHERRERA", "REMHERRERA", "REMCOCLE",
> "REMSANTIAGO", "REMCHANG", "REMPEQUENI", "REMBDELT", "REMTERIBE",
> "REMCOLON", "REMFARFAN", "REMCALOV", "REMPACORA", "REMITAMUT",
> "REMTONOSI", "REMGUIA", "REMFARFAN", "REMITAMUT", "REMBELEN",
> "REMLOSSANTOS", "REMCALOV", "REMTONOSI", "REMVERAGUAS", "REMBDELT",
> "REMPANAMA", "REMPICACHO", "REMLIDER", "REMGUARDIA", "REMTERIBE",
> "REMDARIEN", "REMMAJAGUAL", "REMSANTIAGO", "REMHAYNES", "REMPICACHO",
> "REMPARITA", "REMTUIRA", "REMTUIRA", "REMLOSSANTOS", "REMPACORA",
> "REMPICACHO", "REMPACORA", "REMTERIBE", "REMBELEN", "REMFARFAN",
> "REMLIDER", "REMCOLON", "REMCHANG", "REMPICACHO", "REMLIDER",
> "REMBELEN", "REMPEQUENI", "REMPEQUENI", "REMPICACHO", "REMTERIBE",
> "REMPICACHO", "REMPICACHO", "REMAZUL", "REMPARITA", "REMPARITA",
> "REMLOSSANTOS", "REMCOLON", "REMSIXAOLA", "REMHERRERA", "REMMCAULIFFE",
> "REMCHIRIQUI", "REMAZUL", "REMPARITA", "REMHERRERA", "REMPEQUENI",
> "REMTONOSI", "REMPEQUENI", "REMTONOSI", "REMPEQUENI", "REMSIXAOLA",
> "REMESTI", "REMLIDER", "REMBELEN", "REMMCAULIFFE", "REMHERRERA",
> "REMCOCLE", "REMCOLON", "REMESTI", "REMCOCLE", "REMBAYANO", "REMPARITA",
> "REMSANTIAGO", "REMAZUL", "REMPARITA", "REMPARITA", "REMCOCLE",
> "REMPARITA", "REMDARIEN", "REMITAMUT", "REMTONOSI", "REMPICACHO",
> "REMAZUL", "REMCACIQUE", "REMBELEN", "REMCACIQUE", "REMPEQUENI",
> "REMDARIEN", "REMCHIRIQUI", "REMCHANG", "REMTUIRA", "REMBELEN",
> "REMLIDER", "REMHERRERA", "REMCALOV", "REMINDIO", "REMESTI",
> "REMHAYNES", "REMCOCLE", "REMGUIA", "REMCOCLE", "REMCOCLE", "REMDARIEN",
> "REMCACIQUE", "REMCALOV", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> "REMCHIRIQUI", "REMCACIQUE", "REMCACIQUE", "REMHAYNES", "REMHAYNES",
> "REMAZUL", "REMPACORA", "REMCALOV", "REMCACIQUE", "REMCOLON",
> "REMBELEN", "REMUNIDAD", "REMINDIO", "REMDOLEGA", "REMTERIBE",
> "REMBELEN", "REMTUIRA", "REMINDIO", "REMJEFE", "REMBAYANO", "REMCHANG",
> "REMPARITA", "REMCOLON", "REMBELEN", "REMFARFAN", "REMESTI",
> "REMCACIQUE", "REMLOSSANTOS", "REMHERRERA", "REMDARIEN", "REMUNIDAD",
> "REMPACORA", "REMCHIRIQUI", "REMBELEN", "REMBAYANO", "REMLOSSANTOS",
> "REMTERIBE", "REMSIXAOLA", "REMCOLON", "REMESTI", "REMFARFAN",
> "REMFARFAN", "REMUNIDAD", "REMBDELT", "REMTERIBE", "REMDOLEGA",
> "REMCALOV", "REMCALOV", "REMESTI", "REMCOCLE", "REMPARITA", "REMPARITA",
> "REMTERIBE", "REMFARFAN", "REMPEQUENI", "REMTERIBE", "REMPICACHO",
> "REMHAYNES", "REMDOLEGA", "REMPARITA", "REMDOLEGA", "REMVERAGUAS",
> "REMCOCLE", "REMLOSSANTOS", "REMITAMUT", "REMPARITA", "REMPARITA",
> "REMTERIBE", "REMTERIBE", "REMHERRERA", "REMTERIBE", "REMBDELT",
> "REMBAYANO", "REMDOLEGA", "REMINDIO", "REMJEFE", "REMINDIO",
> "REMDOLEGA", "REMPICACHO", "REMCOCLE", "REMPARITA", "REMHAYNES",
> "REMCOCLE", "REMPANAMA", "REMAZUL", "REMSANTIAGO", "REMPARITA",
> "REMJEFE", "REMTERIBE", "REMLOSSANTOS", "REMSIXAOLA", "REMCHIRIQUI",
> "REMPARITA", "REMVERAGUAS", "REMCHIRIQUI", "REMPANAMA", "REMCALOV",
> "REMTERIBE", "REMVERAGUAS", "REMHERRERA", "REMPACORA", "REMLOSSANTOS",
> "REMESTI", "REMLOSSANTOS", "REMTERIBE", "REMESTI", "REMTERIBE",
> "REMLIDER", "REMTERIBE", "REMTERIBE", "REMCOLON", "REMTERIBE",
> "REMTERIBE", "REMTERIBE", "REMTUIRA", "REMMCAULIFFE", "REMPACORA",
> "REMTERIBE", "REMVERAGUAS", "REMPARITA", "REMPARITA", "REMSIXAOLA",
> "REMPACORA", "REMPEQUENI", "REMPARITA", "REMPACORA", "REMPEQUENI",
> "REMTERIBE", "REMSAJALICES", "REMTERIBE", "REMTERIBE", "REMGUIA",
> "REMTONOSI", "REMPARITA", "REMCALOV", "REMBAYANO", "REMCOCLE",
> "REMJEFE", "REMESTI", "REMPARITA", "REMESTI", "REMFARFAN", "REMPARITA",
> "REMTERIBE", "REMAZUL", "REMBELEN", "REMCACIQUE", "REMTUIRA",
> "REMPACORA", "REMESTI", "REMHERRERA", "REMLOSSANTOS", "REMPACORA",
> "REMCHIRIQUI", "REMTUIRA", "REMCOLON", "REMCOCLE", "REMDOLEGA",
> "REMPANAMA", "REMDOLEGA", "REMTERIBE", "REMCOCLE", "REMJEFE",
> "REMBAYANO", "REMJEFE", "REMGUIA", "REMSIXAOLA", "REMHERRERA",
> "REMCOCLE", "REMSIXAOLA", "REMBAYANO", "REMPARITA", "REMPANAMA",
> "REMDOLEGA", "REMLOSSANTOS", "REMITAMUT", "REMBELEN", "REMCHIRIQUI",
> "REMCHIRIQUI", "REMBAYANO", "REMTERIBE", "REMPANAMA", "REMCHIRIQUI",
> "REMPACORA", "REMBDELT", "REMTUIRA", "REMHAYNES", "REMCACIQUE",
> "REMSIXAOLA", "REMITAMUT", "REMPARITA", "REMCOCLE", "REMTONOSI",
> "REMGUIA", "REMCOCLE", "REMHERRERA", "REMSAJALICES", "REMINDIO",
> "REMJEFE", "REMCOCLE", "REMSIXAOLA", "REMVERAGUAS", "REMUNIDAD",
> "REMCALOV", "REMCOCLE", "REMSANTIAGO", "REMBAYANO", "REMSANTIAGO",
> "REMPARITA", "REMTONOSI", "REMCHIRIQUI", "REMCOCLE", "REMLIDER",
> "REMSANTIAGO", "REMCHIRIQUI", "REMFARFAN", "REMAZUL", "REMGUIA",
> "REMITAMUT", "REMESTI", "REMTERIBE", "REMPARITA", "REMHAYNES",
> "REMCHANG", "REMHERRERA", "REMLIDER", "REMITAMUT", "REMPEQUENI",
> "REMPARITA", "REMDARIEN", "REMBAYANO", "REMMAJAGUAL", "REMMAJAGUAL",
> "REMCANAJAGUA", "REMPARITA", "REMBAYANO", "REMTERIBE", "REMHERRERA",
> "REMPARITA", "REMTUIRA", "REMGUARDIA", "REMJEFE", "REMITAMUT",
> "REMLOSSANTOS", "REMBAYANO", "REMPARITA", "REMBAYANO", "REMESTI",
> "REMLOSSANTOS", "REMAZUL", "REMSANTIAGO", "REMCHANG", "REMCOLON",
> "REMTUIRA", "REMFARFAN", "REMTUIRA", "REMVERAGUAS", "REMLOSSANTOS",
> "REMTONOSI", "REMSAJALICES", "REMTERIBE", "REMSIXAOLA", "REMPICACHO",
> "REMVERAGUAS", "REMBAYANO", "REMVERAGUAS", "REMFARFAN", "REMCHIRIQUI",
> "REMPARITA", "REMPARITA", "REMESTI", "REMBAYANO", "REMCHIRIQUI",
> "REMITAMUT", "REMESTI", "REMBELEN", "REMCACIQUE", "REMTERIBE",
> "REMPICACHO", "REMPICACHO", "REMESTI", "REMPICACHO", "REMCHANG",
> "REMCHANG", "REMITAMUT", "REMHERRERA", "REMCHIRIQUI", "REMESTI",
> "REMGUARDIA", "REMCACIQUE", "REMCHANG", "REMBELEN", "REMBDELT",
> "REMAZUL", "REMPEQUENI", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS",
> "REMESTI", "REMMAJAGUAL", "REMBDELT", "REMTUIRA", "REMESTI",
> "REMSANTIAGO", "REMPEQUENI", "REMESTI", "REMHAYNES", "REMPACORA",
> "REMDARIEN", "REMLOSSANTOS", "REMDARIEN", "REMTERIBE", "REMPARITA",
> "REMLIDER", "REMITAMUT", "REMPACORA", "REMCALOV", "REMBELEN",
> "REMTONOSI", "REMTONOSI", "REMVERAGUAS", "REMPACORA", "REMTERIBE",
> "REMPARITA", "REMGUARDIA", "REMSANTIAGO", "REMCACIQUE", "REMTERIBE",
> "REMTUIRA", "REMESTI", "REMLOSSANTOS", "REMTUIRA", "REMTUIRA",
> "REMCOCLE", "REMPICACHO", "REMDARIEN", "REMBELEN", "REMITAMUT",
> "REMGUIA", "REMHAYNES", "REMSAJALICES", "REMCHIRIQUI", "REMHERRERA",
> "REMPACORA", "REMBAYANO", "REMCOLON", "REMPACORA", "REMCOLON",
> "REMJEFE", "REMCOLON", "REMESTI", "REMBDELT", "REMPICACHO", "REMPEQUENI",
> "REMVERAGUAS", "REMTERIBE", "REMLIDER", "REMAZUL", "REMHERRERA",
> "REMBELEN", "REMJEFE", "REMESTI", "REMESTI", "REMVERAGUAS", "REMESTI",
> "REMBAYANO", "REMBAYANO", "REMHAYNES", "REMESTI", "REMLOSSANTOS",
> "REMTUIRA", "REMAZUL", "REMPICACHO", "REMDARIEN", "REMJEFE",
> "REMLOSSANTOS", "REMPEQUENI", "REMPEQUENI", "REMGRANDE", "REMITAMUT",
> "REMBAYANO", "REMTERIBE", "REMSIXAOLA", "REMESTI", "REMSANTIAGO",
> "REMUNIDAD", "REMBAYANO", "REMBAYANO", "REMCACIQUE", "REMJEFE",
> "REMSIXAOLA", "REMUNIDAD", "REMPARITA", "REMCOCLE", "REMSIXAOLA",
> "REMESTI", "REMDARIEN", "REMCACIQUE", "REMAZUL", "REMFARFAN",
> "REMMCAULIFFE", "REMCHIRIQUI", "REMCALOV", "REMLOSSANTOS", "REMDOLEGA",
> "REMCHIRIQUI", "REMCHANG", "REMCHANG", "REMFARFAN", "REMCHIRIQUI",
> "REMBELEN", "REMCANAJAGUA", "REMLIDER", "REMMCAULIFFE", "REMAZUL",
> "REMBELEN", "REMITAMUT", "REMSIXAOLA", "REMLOSSANTOS", "REMCHIRIQUI",
> "REMCACIQUE", "REMTERIBE", "REMTUIRA", "REMCACIQUE", "REMESTI",
> "REMTUIRA", "REMHERRERA", "REMCAMPANA", "REMLOSSANTOS", "REMINDIO",
> "REMAZUL", "REMPEQUENI", "REMUNIDAD", "REMBDELT", "REMSANTIAGO",
> "REMITAMUT", "REMSAJALICES", "REMCHIRIQUI", "REMPICACHO", "REMHAYNES",
> "REMBAYANO", "REMCHIRIQUI", "REMCOLON", "REMTERIBE", "REMTONOSI",
> "REMLIDER", "REMHERRERA", "REMSAJALICES", "REMPARITA", "REMCANAJAGUA",
> "REMBDELT", "REMLOSSANTOS", "REMFARFAN", "REMESTI", "REMUNIDAD",
> "REMTERIBE", "REMPICACHO", "REMPACORA", "REMBDELT", "REMITAMUT",
> "REMGUIA", "REMESTI", "REMCOCLE", "REMPARITA", "REMJEFE", "REMVERAGUAS",
> "REMPICACHO", "REMCHANG", "REMITAMUT", "REMHERRERA", "REMSIXAOLA",
> "REMPARITA", "REMPANAMA", "REMVERAGUAS", "REMVERAGUAS", "REMTERIBE",
> "REMPARITA", "REMBAYANO", "REMTERIBE", "REMCOLON", "REMTERIBE",
> "REMTERIBE", "REMDOLEGA", "REMPARITA", "REMBDELT", "REMMCAULIFFE",
> "REMINDIO", "REMITAMUT", "REMSAJALICES", "REMTERIBE", "REMBDELT",
> "REMLOSSANTOS", "REMLOSSANTOS", "REMCHANG", "REMTERIBE", "REMBAYANO",
> "REMPARITA", "REMPARITA", "REMESTI", "REMESTI", "REMTERIBE",
> "REMPARITA", "REMPARITA", "REMPARITA", "REMTERIBE", "REMVERAGUAS",
> "REMGUARDIA", "REMHERRERA", "REMLOSSANTOS", "REMFARFAN", "REMLIDER",
> "REMLOSSANTOS", "REMCOCLE", "REMPICACHO", "REMCALOV", "REMPARITA",
> "REMTERIBE", "REMBAYANO", "REMCACIQUE", "REMLOSSANTOS", "REMAZUL",
> "REMTERIBE", "REMTERIBE", "REMESTI", "REMMCAULIFFE", "REMLIDER",
> "REMBAYANO", "REMCHIRIQUI", "REMCHIRIQUI", "REMMCAULIFFE", "REMCACIQUE",
> "REMBAYANO", "REMAZUL", "REMCACIQUE", "REMESTI", "REMAZUL", "REMVERAGUAS",
> "REMUNIDAD", "REMPICACHO", "REMGUARDIA", "REMTERIBE", "REMLOSSANTOS",
> "REMPEQUENI", "REMDOLEGA", "REMTERIBE", "REMTERIBE", "REMFARFAN",
> "REMLOSSANTOS", "REMBDELT", "REMCHIRIQUI", "REMVERAGUAS", "REMVERAGUAS",
> "REMTERIBE", "REMHERRERA", "REMGUIA", "REMFARFAN", "REMBDELT",
> "REMBELEN", "REMCACIQUE", "REMTERIBE", "REMPARITA", "REMBDELT",
> "REMPARITA", "REMPARITA", "REMPARITA", "REMFARFAN", "REMTERIBE",
> "REMFARFAN", "REMTONOSI", "REMHAYNES", "REMVERAGUAS", "REMITAMUT",
> "REMBAYANO", "REMBDELT", "REMDARIEN", "REMDARIEN", "REMSANTIAGO",
> "REMCACIQUE", "REMDOLEGA", "REMSANTIAGO", "REMCHIRIQUI", "REMCACIQUE",
> "REMUNIDAD", "REMBELEN", "REMCHIRIQUI", "REMITAMUT", "REMCOLON",
> "REMCACIQUE", "REMPACORA", "REMLOSSANTOS", "REMCOLON", "REMJEFE",
> "REMSIXAOLA", "REMUNIDAD", "REMTUIRA", "REMPANAMA", "REMSAJALICES",
> "REMDARIEN", "REMCOLON", "REMDOLEGA", "REMCALOV", "REMAZUL",
> "REMPARITA", "REMTUIRA", "REMLOSSANTOS", "REMJEFE", "REMBAYANO",
> "REMCOLON", "REMGUARDIA", "REMSIXAOLA", "REMSIXAOLA", "REMAZUL",
> "REMJEFE", "REMESTI", "REMBDELT", "REMPICACHO", "REMCHANG", "REMGUARDIA",
> "REMESTI", "REMCOCLE", "REMBELEN", "REMTUIRA", "REMPICACHO",
> "REMCOLON", "REMSIXAOLA", "REMANCON", "REMCALOV", "REMSAJALICES",
> "REMLIDER", "REMGUIA", "REMBDELT", "REMTONOSI", "REMUNIDAD",
> "REMINDIO", "REMTUIRA", "REMCOLON", "REMLIDER", "REMLIDER", "REMLOSSANTOS",
> "REMJEFE", "REMJEFE", "REMAZUL", "REMUNIDAD", "REMINDIO", "REMLOSSANTOS",
> "REMINDIO", "REMTERIBE", "REMFARFAN", "REMTUIRA", "REMHAYNES",
> "REMINDIO", "REMFARFAN", "REMCOCLE", "REMPICACHO", "REMLOSSANTOS",
> "REMLIDER", "REMINDIO", "REMITAMUT", "REMTONOSI", "REMUNIDAD",
> "REMESTI", "REMLOSSANTOS", "REMANCON", "REMUNIDAD", "REMGRANDE",
> "REMESTI", "REMJEFE", "REMITAMUT", "REMESTI", "REMCHANG", "REMDARIEN",
> "REMHERRERA", "REMBAYANO", "REMSANTIAGO", "REMMCAULIFFE", "REMCOLON",
> "REMCALOV", "REMBDELT", "REMVERAGUAS", "REMSIXAOLA", "REMCOLON",
> "REMSANTIAGO", "REMLOSSANTOS", "REMSAJALICES", "REMVERAGUAS",
> "REMTONOSI", "REMTONOSI", "REMPEQUENI", "REMDARIEN", "REMCACIQUE",
> "REMITAMUT", "REMBELEN", "REMBELEN", "REMLOSSANTOS", "REMTONOSI",
> "REMITAMUT", "REMCOCLE", "REMSANTIAGO", "REMITAMUT", "REMJEFE",
> "REMFARFAN", "REMHERRERA", "REMCALOV", "REMCOLON", "REMINDIO",
> "REMITAMUT", "REMITAMUT", "REMMCAULIFFE", "REMBDELT", "REMPACORA",
> "REMTONOSI", "REMPACORA", "REMBAYANO", "REMTERIBE", "REMBELEN",
> "REMPACORA", "REMMCAULIFFE", "REMBDELT", "REMCHIRIQUI", "REMSAJALICES",
> "REMPARITA"), Days_At_Failure = c(2369, 2369, 3743, 3730, 3158,
> 3008, 6342, 2215, 2219, 1887, 5469, 5413, 3221, 2644, 2196, 5786,
> 3802, 1369, 3786, 3769, 3366, 1638, 3573, 2602, 2775, 4210, 1734,
> 3168, 3228, 3692, 3323, 6687, 3501, 3370, 2663, 3613, 3826, 2580,
> 4106, 3060, 3938, 2689, 2444, 4217, 3962, 2241, 3081, 4176, 6395,
> 2069, 6942, 2542, 6775, 2486, 2709, 6864, 2849, 6867, 6512, 2495,
> 6625, 6656, 6363, 3048, 3042, 2730, 3740, 4295, 5672, 5648, 2508,
> 2244, 2836, 3695, 6807, 5879, 2358, 3198, 2279, 4402, 2807, 3983,
> 3095, 2300, 3206, 6544, 2939, 6253, 6239, 6239, 2468, 3165, 3012,
> 1902, 7132, 4411, 4151, 3085, 4227, 2896, 2897, 3290, 3235, 3077,
> 4145, 3828, 6377, 2848, 3141, 3122, 4118, 4118, 6338, 3881, 3881,
> 3991, 3204, 7074, 2335, 4185, 2499, 5863, 7417, 2967, 2175, 6437,
> 3335, 7501, 7169, 7169, 2735, 7329, 6870, 3081, 2794, 3218, 3280,
> 6050, 4389, 3137, 2879, 3014, 7414, 3140, 2841, 2383, 4168, 2826,
> 7002, 2974, 4158, 2550, 4238, 2789, 6286, 2885, 7073, 2643, 4562,
> 6027, 6027, 6353, 2077, 2950, 3023, 4571, 2985, 6850, 2697, 3124,
> 2628, 2393, 2390, 6914, 2726, 2344, 2967, 6117, 3396, 2924, 4908,
> 4508, 4141, 2198, 7137, 7139, 3038, 4873, 1965, 1829, 7007, 2604,
> 2736, 3984, 4035, 5876, 3153, 2200, 2794, 3108, 2982, 2830, 7220,
> 6573, 3388, 2487, 7260, 3039, 3003, 3004, 2055, 3037, 2144, 2145,
> 2879, 2653, 2674, 6042, 6434, 3218, 6102, 7274, 4302, 2964, 2825,
> 6230, 3024, 2697, 3025, 2698, 3027, 3022, 2934, 7228, 3124, 7282,
> 6279, 6737, 6737, 2710, 6544, 3935, 2757, 2178, 2966, 2872, 2872,
> 6549, 3059, 4846, 2258, 2789, 2319, 3062, 7038, 3083, 7325, 3119,
> 4553, 4201, 3449, 4168, 3146, 7078, 6167, 3062, 4316, 2917, 7302,
> 6658, 7378, 6791, 6791, 4849, 7496, 3244, 6119, 2633, 5644, 4254,
> 7190, 7020, 7039, 7044, 2398, 3096, 3406, 7190, 6259, 2808, 7038,
> 4142, 3211, 3385, 3265, 4133, 4242, 3106, 4226, 3168, 2983, 6692,
> 2969, 2819, 2742, 7476, 5566, 5952, 4686, 7382, 3088, 4159, 2865,
> 4006, 6504, 3721, 3135, 6954, 3319, 3261, 3249, 7635, 5201, 3586,
> 3551, 3939, 3940, 3361, 6977, 3424, 3424, 3783, 3587, 3286, 3888,
> 2279, 7745, 3467, 3424, 3372, 4993, 6958, 6612, 2747, 3636, 3653,
> 3981, 3706, 7237, 3725, 5555, 4369, 3372, 4567, 2938, 4492, 3420,
> 2737, 7063, 2778, 7611, 6874, 4545, 3314, 2571, 3458, 2938, 3815,
> 6512, 3628, 4946, 3517, 5028, 4911, 4658, 3944, 3859, 5114, 6826,
> 3469, 6525, 3395, 6907, 3887, 3255, 3865, 7452, 3985, 3997, 6871,
> 3879, 3879, 3879, 4517, 8087, 3422, 3972, 5005, 3400, 3424, 3645,
> 3858, 3608, 3424, 3506, 3527, 3980, 3122, 3974, 4082, 8075, 3082,
> 3709, 3616, 4006, 6899, 3329, 3180, 3614, 3887, 3279, 3440, 3480,
> 3314, 3499, 7671, 4571, 3891, 3952, 7285, 5561, 2134, 3508, 3213,
> 5909, 5925, 2259, 3549, 2131, 2264, 5767, 2195, 3267, 2119, 6402,
> 2341, 5406, 5712, 2334, 3438, 2589, 3987, 2519, 5648, 1782, 2605,
> 3327, 3417, 3292, 2579, 3823, 3514, 2376, 4093, 3621, 6737, 6767,
> 2831, 2035, 2245, 6395, 2355, 6954, 6100, 5839, 2676, 3540, 2469,
> 5728, 2610, 3845, 6499, 2607, 5911, 1651, 3633, 1966, 2481, 2425,
> 3997, 6250, 6955, 1886, 3998, 2501, 2688, 7062, 2404, 2893, 3119,
> 2904, 7183, 3048, 6310, 7321, 2468, 3165, 2907, 4715, 4153, 1934,
> 1937, 2101, 2952, 4006, 3144, 6225, 2516, 3867, 7312, 2937, 2290,
> 6313, 4208, 3028, 4256, 2738, 6286, 2761, 1907, 2857, 6216, 3934,
> 2983, 4193, 4340, 5884, 2973, 2854, 3107, 3139, 2284, 4736, 4233,
> 4466, 2738, 4194, 2720, 2728, 2855, 4226, 4532, 2634, 3211, 3213,
> 6974, 3397, 2239, 2237, 3023, 2341, 2840, 2863, 2313, 6049, 4532,
> 3129, 7525, 7525, 3408, 3241, 4810, 2441, 3108, 2316, 3339, 6367,
> 3080, 1974, 4383, 3640, 2689, 2145, 2959, 3179, 7045, 2687, 4562,
> 6402, 4822, 3411, 3082, 7216, 2294, 2731, 2981, 3049, 2387, 2390,
> 4429, 2570, 2873, 3047, 6968, 1597, 6968, 3003, 3956, 2814, 6080,
> 3992, 4069, 6349, 2545, 4562, 3297, 2300, 7171, 7165, 3014, 4491,
> 6463, 2788, 3893, 6784, 2508, 6184, 3037, 6328, 2878, 4559, 2197,
> 2984, 4509, 3079, 7280, 3013, 6184, 2980, 2945, 2890, 2722, 4695,
> 2719, 3836, 3878, 7083, 2753, 5953, 3954, 2964, 2305, 4598, 2985,
> 6174, 3026, 3025, 2235, 2394, 3954, 3072, 3296, 2953, 2155, 7323,
> 4191, 4160, 7324, 2747, 3227, 7131, 2747, 6577, 3236, 2899, 4649,
> 7322, 3063, 2946, 7038, 4102, 3047, 6072, 3076, 4173, 3035, 3150,
> 2804, 4392, 2759, 1801, 6982, 6991, 2123, 3130, 2368, 3412, 6067,
> 4068, 7083, 3051, 3420, 7116, 2812, 4208, 5952, 1978, 6129, 4131,
> 2753, 3239, 7038, 4391, 2273, 2511, 2885, 4516, 2545, 7377, 4201,
> 4482, 6495, 3102, 2957, 7209, 5952, 2859, 2596, 1390, 4488, 6371,
> 2958, 3255, 7898, 3362, 2753, 3272, 5201, 2818, 7922, 3150, 6980,
> 3527, 3209, 5171, 2509, 3617, 2727, 6845, 3807, 3457, 4398, 4994,
> 5119, 3959, 3177, 4400, 4017, 6936, 3703, 3544, 3620, 3460, 4957,
> 7745, 4492, 2843, 3122, 3644, 5554, 6532, 6123, 3718, 3757, 4441,
> 3741, 3719, 3897, 2879, 3593, 3306, 3306, 3410, 3638, 5118, 7755,
> 6905, 6630, 3319, 7745, 6612, 6999, 2831, 3942, 3509, 3858, 4307,
> 7604, 6635, 3420, 3866, 3867, 3232, 8097, 7657, 4542, 4865, 4865,
> 8192, 7593, 4493, 3446, 7719, 2879, 3474, 5106, 7714, 2752, 7881,
> 3486, 6613, 3527, 3442, 3720, 3720, 3296, 6593, 5233, 4954, 5243,
> 5201, 3746, 6745, 8075, 3231, 4971, 3461, 7855, 3943, 3590, 5475,
> 3764, 3665, 3790, 3279, 4036, 3294, 3339, 7686, 5121, 2948, 3029,
> 3829, 3665, 3752, 1571, 6488, 2164, 1526, 3646, 6582, 6633, 2396,
> 3652, 1654, 5751, 6449, 2077, 5391, 5783, 2119, 2337, 6431, 3259,
> 3404, 2249, 3757, 5699, 2236, 2607, 2456, 1834, 3588, 5188, 2235,
> 3318, 6003, 6656, 2796, 2678, 1849, 2578, 2157, 4257, 1752, 3081,
> 6919, 2751, 6098, 2457, 3640, 1830, 5988, 2656, 1722, 2616, 2504,
> 6925, 6901, 4117, 2434, 6951, 3753, 3640, 6118, 6674, 6708, 5594,
> 2690, 2690, 2637, 6665, 3829, 5447, 4166, 3194, 2961, 3791, 7183,
> 3983, 2878, 6584, 2398, 6262, 7336, 4214, 2468, 2832, 7365, 3018,
> 6304, 2298, 7348, 2110, 2627, 2993, 2682, 2535, 2863, 4278, 6355,
> 3962, 2011, 7025, 6338, 3219, 4564, 4833, 3405, 6334, 2243, 6133,
> 3122, 4479, 2958, 2973, 3366, 4373, 7501, 2297, 2937, 2937, 6137,
> 2968, 2307, 6672, 2541, 2468, 3057, 3137, 6503, 3534, 6835, 4363,
> 2336, 2317, 7054, 4383, 2750, 2979, 2564, 3618, 3012, 2988, 2815,
> 7106, 4673, 4384, 3128, 2890)), row.names = c(1L, 2L, 3L, 4L,
> 5L, 6L, 8L, 9L, 10L, 11L, 15L, 17L, 19L, 20L, 23L, 24L, 25L,
> 26L, 28L, 29L, 30L, 31L, 32L, 34L, 36L, 39L, 40L, 41L, 42L, 43L,
> 44L, 45L, 46L, 47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L,
> 57L, 58L, 60L, 62L, 63L, 64L, 66L, 67L, 68L, 70L, 71L, 72L, 73L,
> 74L, 75L, 77L, 78L, 79L, 80L, 81L, 83L, 84L, 85L, 86L, 88L, 89L,
> 90L, 92L, 93L, 94L, 95L, 96L, 97L, 103L, 104L, 105L, 107L, 109L,
> 112L, 113L, 114L, 115L, 117L, 118L, 119L, 121L, 122L, 123L, 124L,
> 125L, 128L, 129L, 131L, 132L, 134L, 136L, 137L, 139L, 140L, 141L,
> 142L, 143L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
> 154L, 155L, 156L, 158L, 159L, 160L, 161L, 163L, 164L, 166L, 167L,
> 168L, 170L, 171L, 173L, 174L, 175L, 177L, 179L, 180L, 181L, 182L,
> 184L, 185L, 186L, 187L, 190L, 192L, 193L, 194L, 195L, 196L, 198L,
> 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 208L, 209L, 210L,
> 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L, 221L, 222L,
> 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L, 231L, 232L, 233L,
> 234L, 235L, 236L, 237L, 238L, 239L, 241L, 244L, 245L, 246L, 247L,
> 248L, 250L, 251L, 252L, 253L, 255L, 256L, 257L, 258L, 259L, 260L,
> 261L, 262L, 263L, 268L, 269L, 271L, 272L, 273L, 274L, 275L, 278L,
> 279L, 282L, 283L, 285L, 286L, 287L, 288L, 289L, 290L, 291L, 292L,
> 293L, 294L, 295L, 296L, 297L, 298L, 299L, 302L, 304L, 306L, 307L,
> 308L, 309L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L, 320L,
> 321L, 322L, 323L, 324L, 325L, 327L, 328L, 330L, 331L, 332L, 333L,
> 334L, 335L, 336L, 337L, 339L, 340L, 341L, 342L, 343L, 346L, 350L,
> 351L, 352L, 353L, 354L, 355L, 357L, 358L, 359L, 361L, 362L, 363L,
> 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 374L, 376L, 377L,
> 378L, 381L, 382L, 383L, 384L, 385L, 387L, 388L, 391L, 393L, 394L,
> 396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 407L,
> 408L, 409L, 412L, 413L, 414L, 415L, 416L, 417L, 418L, 419L, 420L,
> 421L, 422L, 424L, 425L, 426L, 428L, 429L, 430L, 431L, 432L, 435L,
> 437L, 439L, 440L, 441L, 442L, 445L, 449L, 450L, 451L, 453L, 454L,
> 455L, 456L, 457L, 458L, 459L, 462L, 463L, 464L, 465L, 467L, 468L,
> 469L, 472L, 473L, 475L, 476L, 479L, 480L, 485L, 487L, 489L, 490L,
> 491L, 492L, 493L, 495L, 496L, 497L, 498L, 499L, 500L, 501L, 502L,
> 503L, 504L, 505L, 506L, 507L, 509L, 512L, 514L, 516L, 517L, 518L,
> 519L, 520L, 521L, 522L, 523L, 526L, 528L, 530L, 532L, 533L, 534L,
> 535L, 537L, 538L, 539L, 540L, 544L, 545L, 548L, 549L, 554L, 555L,
> 556L, 557L, 558L, 560L, 568L, 569L, 571L, 572L, 576L, 577L, 579L,
> 582L, 583L, 584L, 586L, 587L, 590L, 614L, 629L, 630L, 631L, 632L,
> 633L, 634L, 636L, 637L, 640L, 642L, 646L, 647L, 648L, 649L, 650L,
> 651L, 653L, 655L, 656L, 657L, 659L, 660L, 661L, 662L, 663L, 664L,
> 666L, 667L, 668L, 669L, 670L, 671L, 673L, 674L, 675L, 676L, 677L,
> 678L, 679L, 681L, 682L, 683L, 684L, 685L, 686L, 688L, 690L, 692L,
> 693L, 694L, 695L, 696L, 697L, 698L, 699L, 700L, 701L, 703L, 704L,
> 705L, 706L, 707L, 709L, 710L, 714L, 715L, 716L, 717L, 719L, 720L,
> 721L, 722L, 723L, 724L, 725L, 726L, 728L, 729L, 730L, 731L, 732L,
> 733L, 734L, 735L, 736L, 737L, 738L, 739L, 740L, 741L, 742L, 744L,
> 745L, 747L, 748L, 750L, 751L, 752L, 753L, 754L, 756L, 757L, 758L,
> 759L, 760L, 761L, 762L, 763L, 764L, 765L, 766L, 767L, 768L, 769L,
> 771L, 772L, 773L, 774L, 775L, 776L, 777L, 778L, 780L, 781L, 782L,
> 783L, 784L, 786L, 787L, 788L, 789L, 790L, 791L, 792L, 793L, 794L,
> 795L, 796L, 797L, 798L, 799L, 800L, 801L, 803L, 806L, 808L, 809L,
> 810L, 811L, 812L, 813L, 817L, 818L, 819L, 820L, 821L, 822L, 824L,
> 828L, 829L, 830L, 831L, 832L, 834L, 835L, 836L, 837L, 838L, 839L,
> 840L, 841L, 842L, 843L, 844L, 845L, 846L, 847L, 849L, 850L, 851L,
> 852L, 853L, 854L, 856L, 857L, 858L, 860L, 861L, 862L, 863L, 864L,
> 866L, 868L, 870L, 871L, 872L, 873L, 874L, 875L, 877L, 878L, 879L,
> 880L, 881L, 882L, 885L, 886L, 887L, 888L, 889L, 891L, 892L, 893L,
> 894L, 896L, 898L, 899L, 900L, 901L, 903L, 904L, 908L, 909L, 910L,
> 911L, 912L, 913L, 914L, 915L, 918L, 919L, 920L, 921L, 922L, 924L,
> 925L, 926L, 929L, 930L, 931L, 932L, 933L, 934L, 935L, 936L, 938L,
> 939L, 940L, 941L, 942L, 943L, 945L, 946L, 947L, 948L, 949L, 950L,
> 951L, 953L, 954L, 955L, 956L, 960L, 961L, 962L, 963L, 964L, 966L,
> 969L, 970L, 972L, 973L, 974L, 975L, 976L, 978L, 979L, 983L, 984L,
> 985L, 986L, 987L, 988L, 989L, 990L, 991L, 992L, 993L, 994L, 995L,
> 997L, 998L, 999L, 1001L, 1002L, 1003L, 1004L, 1005L, 1007L, 1008L,
> 1009L, 1010L, 1011L, 1013L, 1014L, 1015L, 1016L, 1018L, 1019L,
> 1020L, 1021L, 1022L, 1024L, 1025L, 1026L, 1028L, 1030L, 1033L,
> 1038L, 1039L, 1040L, 1041L, 1043L, 1044L, 1046L, 1048L, 1049L,
> 1050L, 1052L, 1053L, 1054L, 1055L, 1056L, 1057L, 1058L, 1059L,
> 1061L, 1062L, 1063L, 1065L, 1066L, 1067L, 1068L, 1071L, 1072L,
> 1074L, 1075L, 1076L, 1078L, 1079L, 1083L, 1085L, 1086L, 1087L,
> 1088L, 1089L, 1092L, 1094L, 1095L, 1096L, 1098L, 1099L, 1100L,
> 1101L, 1102L, 1103L, 1105L, 1106L, 1108L, 1109L, 1110L, 1114L,
> 1116L, 1117L, 1118L, 1119L, 1122L, 1123L, 1124L, 1125L, 1127L,
> 1129L, 1130L, 1131L, 1132L, 1133L, 1134L, 1136L, 1137L, 1139L,
> 1141L, 1142L, 1143L, 1144L, 1145L, 1146L, 1148L, 1149L, 1150L,
> 1151L, 1152L, 1155L, 1156L, 1159L, 1160L, 1162L, 1163L, 1164L,
> 1165L, 1166L, 1174L, 1176L, 1177L, 1180L, 1181L, 1182L, 1185L,
> 1186L, 1187L, 1191L, 1192L, 1193L, 1234L, 1235L, 1236L, 1237L,
> 1238L, 1239L, 1241L, 1242L, 1243L, 1244L, 1245L, 1246L, 1248L,
> 1250L, 1251L, 1252L, 1253L, 1254L, 1255L, 1256L, 1257L, 1259L,
> 1260L, 1261L, 1262L, 1263L, 1264L, 1266L, 1267L, 1270L, 1271L,
> 1272L, 1273L, 1274L, 1275L, 1277L, 1278L, 1279L, 1280L, 1281L,
> 1283L, 1284L, 1285L, 1286L, 1287L, 1288L, 1289L, 1290L, 1291L,
> 1294L, 1295L, 1297L, 1298L, 1299L, 1300L, 1301L, 1302L, 1304L,
> 1305L, 1306L, 1307L, 1308L, 1309L, 1310L, 1312L, 1313L, 1314L,
> 1315L, 1316L, 1317L, 1318L, 1319L, 1321L, 1322L, 1323L, 1324L,
> 1326L, 1327L, 1328L, 1329L, 1330L, 1333L, 1335L, 1336L, 1337L,
> 1338L, 1339L, 1340L, 1341L, 1342L, 1344L, 1346L, 1347L, 1348L,
> 1349L, 1353L, 1354L, 1355L, 1356L, 1358L, 1359L, 1360L, 1362L,
> 1363L, 1364L, 1365L, 1366L, 1367L, 1369L, 1370L, 1371L, 1372L,
> 1374L, 1376L, 1377L, 1378L, 1381L, 1382L, 1383L, 1384L, 1385L,
> 1387L, 1388L, 1389L, 1390L, 1391L, 1392L, 1393L, 1396L, 1397L,
> 1398L, 1400L, 1401L, 1402L, 1403L, 1407L, 1408L, 1409L, 1410L,
> 1411L, 1413L, 1414L, 1416L, 1417L, 1418L, 1419L, 1420L, 1422L,
> 1424L), class = "data.frame")
>
> Any guidance will be greatly appreciated.
>
> Best regards,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu Oct  5 00:36:50 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 5 Oct 2023 09:36:50 +1100
Subject: [R] save(), load(), saveRDS(), and readRDS()
In-Reply-To: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
Message-ID: <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>

Hello,
I am very sad to let you know that my husband Jim died on 18th September. I
apologise for not letting you know earlier but I had trouble finding the
password for his phone.
Kind regards,
Juel

On Fri, 29 Sep 2023, 01:48 Shu Fai Cheung <shufai.cheung at gmail.com wrote:

> Hi All,
>
> There is a thread about the use of save(), load(), saveRDS(), and
> loadRDS(). It led me to think about a question regarding them.
>
> In my personal work, I prefer using saveRDS() and loadRDS() as I don't like
> the risk of overwriting anything in the global environment. I also like the
> freedom to name an object when reading it from a file.
>
> However, for teaching, I have to teach save() and load() because, in my
> discipline, it is common for researchers to share their datasets on the
> internet using the format saved by save(), and so students need to know how
> to use load() and what will happen when using it. Actually, I can't recall
> encountering datasets shared by the .rds format. I have been wondering why
> save() was usually used in that case.
>
> That discussion led me to read the help pages again and I noticed the
> following warning, from the help page of saveRDS():
>
> "Files produced by saveRDS (or serialize to a file connection) are not
> suitable as an interchange format between machines, for example to download
> from a website. The files produced by save
> <http://127.0.0.1:18888/library/base/help/save> have a header identifying
> the file type and so are better protected against erroneous use."
>
> When will the problem mentioned in the warning occur? That is, when will a
> file saved by saveRDS() not be read correctly? Saved in Linux and then read
> in Windows? Is it possible to create a reproducible error?
>
> Regards,
> Shu Fai
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct  5 01:15:35 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 04 Oct 2023 16:15:35 -0700
Subject: [R] Jim Lemon RIP (was Re:  save(), load(), saveRDS(),
 and readRDS())
In-Reply-To: <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
Message-ID: <8543F09A-4C78-474A-B28A-C8851612AE9A@dcn.davis.ca.us>

Thank you for informing us. Jim was a remarkably patient helper of many lost R analysts. His efforts will be missed.

On October 4, 2023 3:36:50 PM PDT, Jim Lemon <drjimlemon at gmail.com> wrote:
>Hello,
>I am very sad to let you know that my husband Jim died on 18th September. I
>apologise for not letting you know earlier but I had trouble finding the
>password for his phone.
>Kind regards,
>Juel
>
>On Fri, 29 Sep 2023, 01:48 Shu Fai Cheung <shufai.cheung at gmail.com wrote:
>
>> Hi All,
>>
>> There is a thread about the use of save(), load(), saveRDS(), and
>> loadRDS(). It led me to think about a question regarding them.
>>
>> In my personal work, I prefer using saveRDS() and loadRDS() as I don't like
>> the risk of overwriting anything in the global environment. I also like the
>> freedom to name an object when reading it from a file.
>>
>> However, for teaching, I have to teach save() and load() because, in my
>> discipline, it is common for researchers to share their datasets on the
>> internet using the format saved by save(), and so students need to know how
>> to use load() and what will happen when using it. Actually, I can't recall
>> encountering datasets shared by the .rds format. I have been wondering why
>> save() was usually used in that case.
>>
>> That discussion led me to read the help pages again and I noticed the
>> following warning, from the help page of saveRDS():
>>
>> "Files produced by saveRDS (or serialize to a file connection) are not
>> suitable as an interchange format between machines, for example to download
>> from a website. The files produced by save
>> <http://127.0.0.1:18888/library/base/help/save> have a header identifying
>> the file type and so are better protected against erroneous use."
>>
>> When will the problem mentioned in the warning occur? That is, when will a
>> file saved by saveRDS() not be read correctly? Saved in Linux and then read
>> in Windows? Is it possible to create a reproducible error?
>>
>> Regards,
>> Shu Fai
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bbo|ker @end|ng |rom gm@||@com  Thu Oct  5 01:53:20 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Wed, 4 Oct 2023 19:53:20 -0400
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <CA+8X3fWsDwpUaZEW3wZ0H3NAt49Fd2RFdW047axiSmNFwbc3JA@mail.gmail.com>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
 <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004165200.59429be6@arachnoid>
 <PH7PR06MB9020F7DCEEF4347F5ABFE724E9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004180634.1ba436cd@arachnoid>
 <CA+8X3fWsDwpUaZEW3wZ0H3NAt49Fd2RFdW047axiSmNFwbc3JA@mail.gmail.com>
Message-ID: <32c67bea-9132-49d4-bf0b-ec1bd2288990@gmail.com>


   This is sad news indeed.

https://cran.r-project.org/web/checks/check_summary_by_maintainer.html

   lists Jim as the maintainer of clinsig, crank, eventInterval, 
plotrix, and prettyR.

 > library(packageRank)
 > packageRank(c("clinsig", "crank", "eventInterval", "plotrix", "prettyR"))
         date      packages downloads             rank percentile
1 2023-10-03       clinsig         1 14,454 of 18,024        0.0
2 2023-10-03         crank         2 11,344 of 18,024       22.8
3 2023-10-03 eventInterval         4  8,001 of 18,024       51.0
4 2023-10-03       plotrix     3,082    310 of 18,024       98.3
5 2023-10-03       prettyR        90  1,954 of 18,024       89.1

It seems that at least plotrix and prettyR would be worth rescuing ... 
volunteers ... ? (prettyR has 1 strong reverse dep, plotrix has many ...)

   Ben Bolker


On 2023-10-04 6:30 p.m., Jim Lemon wrote:
> Hello,
> I am very sad to let you know that my husband Jim died in 18th September. I
> apologise for not letting you know earlier but I had trouble finding the
> password for his phone.
> Kind regards,
> Juel Briggs
> 
> On Thu, 5 Oct 2023, 02:07 Ivan Krylov <krylov.r00t at gmail.com wrote:
> 
>> ? Wed, 4 Oct 2023 14:32:49 +0000
>> John Neset <John.Neset at noridian.com> ?????:
>>
>>> No change with True or False with R_LIBCURL_SSL_REVOKE_BEST_EFFORT
>>
>> Judging by the screenshot, it looks like you've set an R variable
>> R_LIBCURL_SSL_REVOKE_BEST_EFFORT instead of setting an environment
>> variable using Sys.setenv:
>>
>>   Sys.setenv('R_LIBCURL_SSL_REVOKE_BEST_EFFORT' = 'TRUE')
>>
>> (Use Sys.getenv to verify the result.)
>>
>> For the next time, most people on the R-help mailing list would
>> probably appreciate it if you copied and pasted the text from the R
>> console instead of attaching screenshots.
>>
>> --
>> Best regards,
>> Ivan
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  5 07:32:30 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 5 Oct 2023 06:32:30 +0100
Subject: [R] Jim Lemon RIP
In-Reply-To: <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
Message-ID: <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>


My sympathies for your loss.
Jim Lemon was a dedicated contributor to the R community and his answers 
were always welcome.
Jim will be missed.

Rui Barradas

?s 23:36 de 04/10/2023, Jim Lemon escreveu:
> Hello,
> I am very sad to let you know that my husband Jim died on 18th September. I
> apologise for not letting you know earlier but I had trouble finding the
> password for his phone.
> Kind regards,
> Juel
> 




-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From g||ted|||e2014 @end|ng |rom gm@||@com  Thu Oct  5 07:44:42 2023
From: g||ted|||e2014 @end|ng |rom gm@||@com (Ogbos Okike)
Date: Thu, 5 Oct 2023 06:44:42 +0100
Subject: [R] Jim Lemon RIP
In-Reply-To: <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
 <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
Message-ID: <CAC8ss31GZPpuFGOAQUyPeQ2hxSBpPG0AQMLf5_QLX9aDPXp3mg@mail.gmail.com>

I'm yet to accept this. I have sent an email to his wife.
Ogbos.

On Thu, Oct 5, 2023, 06:35 Rui Barradas <ruipbarradas at sapo.pt> wrote:

>
> My sympathies for your loss.
> Jim Lemon was a dedicated contributor to the R community and his answers
> were always welcome.
> Jim will be missed.
>
> Rui Barradas
>
> ?s 23:36 de 04/10/2023, Jim Lemon escreveu:
> > Hello,
> > I am very sad to let you know that my husband Jim died on 18th
> September. I
> > apologise for not letting you know earlier but I had trouble finding the
> > password for his phone.
> > Kind regards,
> > Juel
> >
>
>
>
>
> --
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a
> presen?a de v?rus.
> www.avg.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ro@||n@ump @end|ng |rom gm@||@com  Thu Oct  5 08:02:12 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Thu, 5 Oct 2023 14:02:12 +0800
Subject: [R] Jim Lemon RIP
In-Reply-To: <CAC8ss31GZPpuFGOAQUyPeQ2hxSBpPG0AQMLf5_QLX9aDPXp3mg@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
 <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
 <CAC8ss31GZPpuFGOAQUyPeQ2hxSBpPG0AQMLf5_QLX9aDPXp3mg@mail.gmail.com>
Message-ID: <CANTvJZJ56c3GBwRw4TrhL+b-LCXvk-E_ai0gHsEGgbSbHBMxAQ@mail.gmail.com>

Hi,
Jim is always very helpful. So sorry to hear that.

On Thu, Oct 5, 2023, 13:45 Ogbos Okike <giftedlife2014 at gmail.com> wrote:

> I'm yet to accept this. I have sent an email to his wife.
> Ogbos.
>
> On Thu, Oct 5, 2023, 06:35 Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
> >
> > My sympathies for your loss.
> > Jim Lemon was a dedicated contributor to the R community and his answers
> > were always welcome.
> > Jim will be missed.
> >
> > Rui Barradas
> >
> > ?s 23:36 de 04/10/2023, Jim Lemon escreveu:
> > > Hello,
> > > I am very sad to let you know that my husband Jim died on 18th
> > September. I
> > > apologise for not letting you know earlier but I had trouble finding
> the
> > > password for his phone.
> > > Kind regards,
> > > Juel
> > >
> >
> >
> >
> >
> > --
> > Este e-mail foi analisado pelo software antiv?rus AVG para verificar a
> > presen?a de v?rus.
> > www.avg.com
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From John@Ne@et @end|ng |rom nor|d|@n@com  Wed Oct  4 16:32:49 2023
From: John@Ne@et @end|ng |rom nor|d|@n@com (John Neset)
Date: Wed, 4 Oct 2023 14:32:49 +0000
Subject: [R] download.file strict certificate revocation check
In-Reply-To: <20231004165200.59429be6@arachnoid>
References: <PH7PR06MB9020C0A2CB5EDBC3320EE405E9C5A@PH7PR06MB9020.namprd06.prod.outlook.com>
 <PH7PR06MB90202C28CFE3AE4031C0FE2DE9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>
 <20231004165200.59429be6@arachnoid>
Message-ID: <PH7PR06MB9020F7DCEEF4347F5ABFE724E9CBA@PH7PR06MB9020.namprd06.prod.outlook.com>

Ivan,
SSL connect error & we definitely have MITM doing certificate interference.
No change with True or False with R_LIBCURL_SSL_REVOKE_BEST_EFFORT
Environment variable results should be attached.

-----Original Message-----
From: Ivan Krylov <krylov.r00t at gmail.com>
Sent: Wednesday, October 4, 2023 8:52 AM
To: John Neset <John.Neset at noridian.com>
Cc: r-help at R-project.org
Subject: Re: [R] download.file strict certificate revocation check

WARNING: This is an external email.
Do not click links or open attachments unless you recognize the sender and know the content is safe.



? Wed, 4 Oct 2023 13:09:47 +0000
John Neset <John.Neset at noridian.com> ?????:

> Trying to do this, reference FAQ-
> 2.18 The Internet download functions fail.
> (c) A MITM proxy (typically in enterprise environments) makes it
> impossible to validate that certificates haven't been revoked. One can
> switch to only best effort revocation checks via an environment
> variable: see ?download.file.

Here's what help(download.file) has to say:

>>     On Windows with ?method = "libcurl"?, when R was linked with
>>     ?libcurl? with ?Schannel? enabled, the connection fails if it
>>     cannot be established that the certificate has not been revoked.
>>     Some MITM proxies present particularly in corporate environments
>>     do not work with this behavior. It can be changed by setting
>>     environment variable ?R_LIBCURL_SSL_REVOKE_BEST_EFFORT? to
>>     ?TRUE?, with the consequence of reducing security.

Does it help to Sys.setenv(...) this environment variable before downloading? If not, please provide your sessionInfo() and the full error message.

--
Best regards,
Ivan
Confidentiality Notice - This communication and any attachments are for the sole use of the intended recipient(s) and may contain confidential and privileged information. Any unauthorized review, use, disclosure, distribution or copying is prohibited. If you are not the intended recipient(s), please contact the sender by replying to this e-mail and destroy/delete all copies of this e-mail message.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2023-10-04_09-30-52.png
Type: image/png
Size: 88749 bytes
Desc: 2023-10-04_09-30-52.png
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20231004/bd523cf2/attachment.png>

From Thom@@@Sub|@ @end|ng |rom dr@ex|m@|er@com  Wed Oct  4 21:34:32 2023
From: Thom@@@Sub|@ @end|ng |rom dr@ex|m@|er@com (Subia Thomas OI-US-LIV5)
Date: Wed, 4 Oct 2023 19:34:32 +0000
Subject: [R] annotate
Message-ID: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>

Colleagues,

I wish to create y-data labels which meet a criterion.

Here is my reproducible code.
library(dplyr)
library(ggplot2)
library(cowplot)

above_92 <- filter(faithful,waiting>92)

ggplot(faithful,aes(x=eruptions,y=waiting))+
  geom_point(shape=21,size=3,fill="orange")+
  theme_cowplot()+
  geom_hline(yintercept = 92)+
  annotate(geom="text",x=above_92$eruptions,y=above_92$waiting+2,label=above_92$waiting)

A bit of trial and error is required to figure out what number to add or subtract to above_92$waiting.

Is there a more efficient way to do this?


Thomas Subia
Lean Six Sigma Senior Practitioner

DR?XLMAIER Group
DAA Draexlmaier Automotive of America LLC

mailto:thomas.subia at draexlmaier.com
http://www.draexlmaier.com

"Nous croyons en Dieu.
Tous les autres doivent apporter des donn?es.
Edward Deming


Public: All rights reserved. Distribution to third parties allowed.


From er|cjberger @end|ng |rom gm@||@com  Thu Oct  5 09:57:59 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 5 Oct 2023 10:57:59 +0300
Subject: [R] annotate
In-Reply-To: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
References: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAGgJW75URWwZMQTPQwAEBjKWCPCK3mtTnV_ADprVKb59VFeh2w@mail.gmail.com>

Another approach (still seems to require experimentation to get the value
'2') would be to replace the annotate() with

geom_text(data=above_92, aes(x=eruptions,y=waiting, label=waiting),
nudge_y=2)

At least this makes clear the reason for the magic number '2' in the code.

For details see
?geom_text


On Thu, Oct 5, 2023 at 10:38?AM Subia Thomas OI-US-LIV5 <
Thomas.Subia at draexlmaier.com> wrote:

> Colleagues,
>
> I wish to create y-data labels which meet a criterion.
>
> Here is my reproducible code.
> library(dplyr)
> library(ggplot2)
> library(cowplot)
>
> above_92 <- filter(faithful,waiting>92)
>
> ggplot(faithful,aes(x=eruptions,y=waiting))+
>   geom_point(shape=21,size=3,fill="orange")+
>   theme_cowplot()+
>   geom_hline(yintercept = 92)+
>
> annotate(geom="text",x=above_92$eruptions,y=above_92$waiting+2,label=above_92$waiting)
>
> A bit of trial and error is required to figure out what number to add or
> subtract to above_92$waiting.
>
> Is there a more efficient way to do this?
>
>
> Thomas Subia
> Lean Six Sigma Senior Practitioner
>
> DR?XLMAIER Group
> DAA Draexlmaier Automotive of America LLC
>
> mailto:thomas.subia at draexlmaier.com
> http://www.draexlmaier.com
>
> "Nous croyons en Dieu.
> Tous les autres doivent apporter des donn?es.
> Edward Deming
>
>
> Public: All rights reserved. Distribution to third parties allowed.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  5 10:09:42 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 5 Oct 2023 09:09:42 +0100
Subject: [R] annotate
In-Reply-To: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
References: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
Message-ID: <24e3a12c-5fce-4fb9-996d-c647a5a92f69@sapo.pt>

?s 20:34 de 04/10/2023, Subia Thomas OI-US-LIV5 escreveu:
> Colleagues,
> 
> I wish to create y-data labels which meet a criterion.
> 
> Here is my reproducible code.
> library(dplyr)
> library(ggplot2)
> library(cowplot)
> 
> above_92 <- filter(faithful,waiting>92)
> 
> ggplot(faithful,aes(x=eruptions,y=waiting))+
>    geom_point(shape=21,size=3,fill="orange")+
>    theme_cowplot()+
>    geom_hline(yintercept = 92)+
>    annotate(geom="text",x=above_92$eruptions,y=above_92$waiting+2,label=above_92$waiting)
> 
> A bit of trial and error is required to figure out what number to add or subtract to above_92$waiting.
> 
> Is there a more efficient way to do this?
> 
> 
> Thomas Subia
> Lean Six Sigma Senior Practitioner
> 
> DR?XLMAIER Group
> DAA Draexlmaier Automotive of America LLC
> 
> mailto:thomas.subia at draexlmaier.com
> http://www.draexlmaier.com
> 
> "Nous croyons en Dieu.
> Tous les autres doivent apporter des donn?es.
> Edward Deming
> 
> 
> Public: All rights reserved. Distribution to third parties allowed.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hdello,

Yes, there is an automatic way of doing this.
Use a new data set in geom_text or annotate. Below I use geom_text.
Then vjust will take care of the labels placement.




library(dplyr)
library(ggplot2)
library(cowplot)

above_92 <- filter(faithful, waiting > 92)

ggplot(faithful, aes(x = eruptions, y = waiting)) +
   geom_point(shape=21,size=3,fill="orange") +
   geom_hline(yintercept = 92) +
   # use a new data argument here
   geom_text(
     data = above_92,
     mapping = aes(x = eruptions, y = waiting, label = waiting),
     vjust = -1
   ) +
   theme_cowplot()




Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From m@k|@we @end|ng |rom gm@||@com  Thu Oct  5 12:01:55 2023
From: m@k|@we @end|ng |rom gm@||@com (Edjabou Vincent)
Date: Thu, 5 Oct 2023 10:01:55 +0000
Subject: [R] Jim Lemon RIP
In-Reply-To: <CANTvJZJ56c3GBwRw4TrhL+b-LCXvk-E_ai0gHsEGgbSbHBMxAQ@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
 <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
 <CAC8ss31GZPpuFGOAQUyPeQ2hxSBpPG0AQMLf5_QLX9aDPXp3mg@mail.gmail.com>
 <CANTvJZJ56c3GBwRw4TrhL+b-LCXvk-E_ai0gHsEGgbSbHBMxAQ@mail.gmail.com>
Message-ID: <CALFkoErxho_b+bOs4rsFKKxSaNiyZFEEbg+-A2ZPh+zfNnBXNA@mail.gmail.com>

Sorry to hear that! He has been very active answering questions on R. May
his soul rest in peace.

Best regards
Vincent

tor. 5. okt. 2023 06.03 skrev roslinazairimah zakaria <roslinaump at gmail.com
>:

> Hi,
> Jim is always very helpful. So sorry to hear that.
>
> On Thu, Oct 5, 2023, 13:45 Ogbos Okike <giftedlife2014 at gmail.com> wrote:
>
> > I'm yet to accept this. I have sent an email to his wife.
> > Ogbos.
> >
> > On Thu, Oct 5, 2023, 06:35 Rui Barradas <ruipbarradas at sapo.pt> wrote:
> >
> > >
> > > My sympathies for your loss.
> > > Jim Lemon was a dedicated contributor to the R community and his
> answers
> > > were always welcome.
> > > Jim will be missed.
> > >
> > > Rui Barradas
> > >
> > > ?s 23:36 de 04/10/2023, Jim Lemon escreveu:
> > > > Hello,
> > > > I am very sad to let you know that my husband Jim died on 18th
> > > September. I
> > > > apologise for not letting you know earlier but I had trouble finding
> > the
> > > > password for his phone.
> > > > Kind regards,
> > > > Juel
> > > >
> > >
> > >
> > >
> > >
> > > --
> > > Este e-mail foi analisado pelo software antiv?rus AVG para verificar a
> > > presen?a de v?rus.
> > > www.avg.com
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @t@r@kykwe@| @end|ng |rom gm@||@com  Thu Oct  5 12:28:04 2023
From: @t@r@kykwe@| @end|ng |rom gm@||@com (Dr Kay Quagraine)
Date: Thu, 5 Oct 2023 10:28:04 +0000
Subject: [R] Jim Lemon RIP
In-Reply-To: <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
 <617df735-aad3-43ff-ab70-bf74c1665f20@sapo.pt>
Message-ID: <814e89a0-bb12-4885-974f-9b8f8e0d527c@Spark>

Dear Friends,

Absolutely gutted to hear of the passing of Jim, he was always an excellent contributor and he will be missed. My sincerest sympathies to the family of Jim.

May He Rest In Peace.

--
Kwesi A. Quagraine (PhD)
PDR-Fellow,?Climate System Analysis Group (CSAG)
University of Cape Town, South Africa
Website:?https://kayquagraine.my.canva.site/
Socials:??Twitter
Tels: ??+27 21 650 1563??| +233 50 781 2543

Let?s save our world, there is no PLANET B - Anonymous.
On Oct 5, 2023 at 5:35 AM +0000, Rui Barradas <ruipbarradas at sapo.pt>, wrote:
>
> My sympathies for your loss.
> Jim Lemon was a dedicated contributor to the R community and his answers
> were always welcome.
> Jim will be missed.
>
> Rui Barradas
>
> ?s 23:36 de 04/10/2023, Jim Lemon escreveu:
> > Hello,
> > I am very sad to let you know that my husband Jim died on 18th September. I
> > apologise for not letting you know earlier but I had trouble finding the
> > password for his phone.
> > Kind regards,
> > Juel
> >
>
>
>
>
> --
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
> www.avg.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From oh@doren @end|ng |rom gm@||@com  Wed Oct  4 22:28:38 2023
From: oh@doren @end|ng |rom gm@||@com (Ohad Oren, MD)
Date: Wed, 4 Oct 2023 16:28:38 -0400
Subject: [R] R issue / No buffer space available
Message-ID: <CAN-gg_i66BpVNm88G=A_uKAQxUTdEDPYLeimVtfQYxh6muRP3A@mail.gmail.com>

Hello,

I keep getting the following message about 'no buffer space available'. I
am using R studio via connection to server. I verified that the connection
to the server is good.

2023-10-04T20:26:25.698193Z [rsession-oo968] ERROR system error 105
(No buffer space available) [host: localhost, uri: /log_message, path:
/var/run/rstudio-server/rstudio-rserver/rserver-monitor.socket];
OCCURRED AT void
rstudio::core::http::LocalStreamAsyncClient::handleConnect(const
rstudio_boost::system::error_code&)
src/cpp/session/SessionModuleContext.cpp:124


Will appreciate your help!

Ohad

	[[alternative HTML version deleted]]


From bbo|ker @end|ng |rom gm@||@com  Thu Oct  5 13:58:39 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 5 Oct 2023 07:58:39 -0400
Subject: [R] R issue / No buffer space available
In-Reply-To: <CAN-gg_i66BpVNm88G=A_uKAQxUTdEDPYLeimVtfQYxh6muRP3A@mail.gmail.com>
References: <CAN-gg_i66BpVNm88G=A_uKAQxUTdEDPYLeimVtfQYxh6muRP3A@mail.gmail.com>
Message-ID: <CABghstTGGZzRbC3nbUEAoWQKk0rMbuGL-NJwT-ycY3ew_3=WPw@mail.gmail.com>

This looks like an RStudio issue; it might be better to post the question
on their forum

On Thu, Oct 5, 2023, 7:43 AM Ohad Oren, MD <ohadoren at gmail.com> wrote:

> Hello,
>
> I keep getting the following message about 'no buffer space available'. I
> am using R studio via connection to server. I verified that the connection
> to the server is good.
>
> 2023-10-04T20:26:25.698193Z [rsession-oo968] ERROR system error 105
> (No buffer space available) [host: localhost, uri: /log_message, path:
> /var/run/rstudio-server/rstudio-rserver/rserver-monitor.socket];
> OCCURRED AT void
> rstudio::core::http::LocalStreamAsyncClient::handleConnect(const
> rstudio_boost::system::error_code&)
> src/cpp/session/SessionModuleContext.cpp:124
>
>
> Will appreciate your help!
>
> Ohad
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  5 15:12:47 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 5 Oct 2023 14:12:47 +0100
Subject: [R] R issue / No buffer space available
In-Reply-To: <CAN-gg_i66BpVNm88G=A_uKAQxUTdEDPYLeimVtfQYxh6muRP3A@mail.gmail.com>
References: <CAN-gg_i66BpVNm88G=A_uKAQxUTdEDPYLeimVtfQYxh6muRP3A@mail.gmail.com>
Message-ID: <c7f61340-d090-4e9a-9fb7-949b214299d4@sapo.pt>

?s 21:28 de 04/10/2023, Ohad Oren, MD escreveu:
> Hello,
> 
> I keep getting the following message about 'no buffer space available'. I
> am using R studio via connection to server. I verified that the connection
> to the server is good.
> 
> 2023-10-04T20:26:25.698193Z [rsession-oo968] ERROR system error 105
> (No buffer space available) [host: localhost, uri: /log_message, path:
> /var/run/rstudio-server/rstudio-rserver/rserver-monitor.socket];
> OCCURRED AT void
> rstudio::core::http::LocalStreamAsyncClient::handleConnect(const
> rstudio_boost::system::error_code&)
> src/cpp/session/SessionModuleContext.cpp:124
> 
> 
> Will appreciate your help!
> 
> Ohad
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

RStudio is an IDE for R, not R itself.
That is a RStudio error and RStudio technical support [1] is better 
suited to solve your problem.

[1] https://community.rstudio.com/

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Fri Oct  6 03:47:23 2023
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Fri, 6 Oct 2023 14:47:23 +1300
Subject: [R] annotate
In-Reply-To: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
References: <PAXP190MB1839BE6BD81BA1597223CCC58FCBA@PAXP190MB1839.EURP190.PROD.OUTLOOK.COM>
Message-ID: <1b432944-cfd8-aecf-3561-d5bf4321ee0b@stat.auckland.ac.nz>

Hi

You could use the 'gggrid' package, which gets you access to other 
coordinate systems.  For example, the following places the text labels 
2mm above the (centres of the) data points (bottom-justified) ...


library(gggrid)

labels <- function(data, coords) {
     textGrob(data$label,
              coords$x,
              unit(coords$y, "npc") + unit(2, "mm"),
              just="bottom")
}

ggplot(faithful, aes(x = eruptions, y = waiting)) +
     geom_point(shape=21, size=3, fill="orange") +
     geom_hline(yintercept = 92) +
     grid_panel(labels,
                data = above_92,
                mapping = aes(x = eruptions, y = waiting,
                              label = waiting)) +
     theme_cowplot()


Hope that helps.

Paul

On 5/10/2023 8:34 am, Subia Thomas OI-US-LIV5 wrote:
> Colleagues,
> 
> I wish to create y-data labels which meet a criterion.
> 
> Here is my reproducible code.
> library(dplyr)
> library(ggplot2)
> library(cowplot)
> 
> above_92 <- filter(faithful,waiting>92)
> 
> ggplot(faithful,aes(x=eruptions,y=waiting))+
> geom_point(shape=21,size=3,fill="orange")+
> theme_cowplot()+
> geom_hline(yintercept = 92)+
> annotate(geom="text",x=above_92$eruptions,y=above_92$waiting+2,label=above_92$waiting)
> 
> A bit of trial and error is required to figure out what number to add or 
> subtract to above_92$waiting.
> 
> Is there a more efficient way to do this?
> 
> 
> Thomas Subia
> Lean Six Sigma Senior Practitioner
> 
> DR?XLMAIER Group
> DAA Draexlmaier Automotive of America LLC
> 
> mailto:thomas.subia at draexlmaier.com
> http://www.draexlmaier.com 
> <http://www.draexlmaier.com>
> 
> "Nous croyons en Dieu.
> Tous les autres doivent apporter des donn?es.
> Edward Deming
> 
> 
> Public: All rights reserved. Distribution to third parties allowed.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From chr|@ho|d @end|ng |rom p@yctc@org  Fri Oct  6 11:09:20 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Fri, 6 Oct 2023 11:09:20 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
Message-ID: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>

The reason I am asking is that I would like to mark areas on a plot 
using geom_polygon() and aes(fill = variable) to fill various polygons 
forming the background of a plot with different colours. Then I would 
like to overlay that with points representing direction of change: 
improved, no reliable change, deteriorated. The obvious symbols to use 
for those three directions are an upward arrow, a circle or square and a 
downward pointing arrow.? There is a solid upward point triangle symbol 
in R (ph = 17) and there are both upward and downward pointing open 
triangle symbols (pch 21 and 25) but to fill those with a solid colour 
so they will be visible over the background requires that I use a fill 
aesthetic and that gets me a mess with the legend as I will have used a 
different fill mapping to fill the polygons.? This silly reprex shows 
the issue I think.

library(tidyverse)
tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
tmpTibArea2
tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
tmpTibArea3
tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
tmpTibArea4
bind_rows(tmpTibArea1,
 ????????? tmpTibArea2,
 ????????? tmpTibArea3,
 ????????? tmpTibArea4) -> tmpTibAreas
ggplot(data = tmpTib,
 ?????? aes(x = x, y = y)) +
 ? geom_polygon(data = tmpTibAreas,
 ?????????????? aes(x = x, y = y, fill = a)) +
 ? geom_point(data = tmpTibPoints,
 ???????????? aes(x = x, y = y, fill = c),
 ???????????? pch = 24,
 ???????????? size = 6)

Does anyone know a way to create a solid downward pointing symbol?? Or 
another workaround?

TIA,

Chris

-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/


From rhe|p @end|ng |rom eoo@@dd@@n|  Fri Oct  6 11:50:21 2023
From: rhe|p @end|ng |rom eoo@@dd@@n| (Jan van der Laan)
Date: Fri, 6 Oct 2023 11:50:21 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
Message-ID: <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>


Does adding

, show.legend = c("color"=TRUE, "fill"=FALSE)

to the geom_point do what you want?

Best,
Jan

On 06-10-2023 11:09, Chris Evans via R-help wrote:
> library(tidyverse)
> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> 
> tmpTibArea1
> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
> tmpTibArea2
> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
> tmpTibArea3
> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
> tmpTibArea4
> bind_rows(tmpTibArea1,
>  ????????? tmpTibArea2,
>  ????????? tmpTibArea3,
>  ????????? tmpTibArea4) -> tmpTibAreas
> ggplot(data = tmpTib,
>  ?????? aes(x = x, y = y)) +
>  ? geom_polygon(data = tmpTibAreas,
>  ?????????????? aes(x = x, y = y, fill = a)) +
>  ? geom_point(data = tmpTibPoints,
>  ???????????? aes(x = x, y = y, fill = c),
>  ???????????? pch = 24,
>  ???????????? size = 6)


From chr|@ho|d @end|ng |rom p@yctc@org  Fri Oct  6 12:11:36 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Fri, 6 Oct 2023 12:11:36 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>
Message-ID: <07a7fdb4-1078-42cc-9469-8a2203d1d01a@psyctc.org>

Sadly, no.? Still shows the same legend with both sets of fill 
mappings.? I have found a workaround, sadly
much longer than yours (!) that does get me what I want but it is a real 
bodge.? Still interested to see
if there is a way to create a downward pointing solid symbol but here is 
my bodge using new_scale_fill()
and new_scale_color() from the ggnewscale package (many thanks to Elio 
Campitelli for that).

library(tidyverse)
library(ggnewscale) # allows me to change the scales used
tibble(x = 2:9, y = 2:9,
 ?????? ### I have used A:C to ensure the changes sort in the correct 
order to avoid the messes of using shape to scale an ordinal variable
 ?????? ### have to say that seems a case where it is perfectly sensible 
to map shapes to an ordinal variable, scale_shape_manual() makes
 ?????? ### this difficult hence this bodge
 ?????? c = c(rep("A", 5), "B", rep("C", 2)),
 ?????? change = c(rep("Deteriorated", 5), "No change", rep("Improved", 
2))) %>%
 ? ### this is just keeping the original coding but not used below
 ? mutate(change = ordered(change,
 ????????????????????????? levels = c("Deteriorated", "No change", 
"Improved"))) -> tmpTibPoints
### create the area mapping
tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
tmpTibArea2
tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
tmpTibArea3
tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
tmpTibArea4
bind_rows(tmpTibArea1,
 ????????? tmpTibArea2,
 ????????? tmpTibArea3,
 ????????? tmpTibArea4) -> tmpTibAreas
### now plot
ggplot(data = tmpTib,
 ?????? aes(x = x, y = y)) +
 ? geom_polygon(data = tmpTibAreas,
 ?????????????? aes(x = x, y = y, fill = a),
 ?????????????? alpha = .5) +
 ? scale_fill_manual(name = "Areas",
 ??????????????????? values = c("orange", "purple", "yellow", "brown"),
 ??????????????????? labels = letters[1:4]) +
 ? ### next two lines use ggnewscale functions to reset the scale mappings
 ? new_scale_fill() +
 ? new_scale_colour() +
 ? ### can now use the open triangles and fill aesthetic to map them
 ? geom_point(data = tmpTibPoints,
 ???????????? aes(x = x, y = y, shape = c, fill = c, colour = c),
 ???????????? size = 6) +
 ? ### use the ordered variable c to get mapping in desired order
 ? ### which, sadly, isn't the alphabetical order!
 ? scale_shape_manual(name = "Change",
 ?????????????????? values = c("A" = 24,
 ????????????????????????????? "B" = 23,
 ????????????????????????????? "C" = 25),
 ?????????????????? labels = c("Deteriorated",
 ????????????????????????????? "No change",
 ????????????????????????????? "Improved")) +
 ? scale_colour_manual(name = "Change",
 ?????????????????? values = c("A" = "red",
 ????????????????????????????? "B" = "grey",
 ????????????????????????????? "C" = "green"),
 ?????????????????? labels = c("Deteriorated",
 ????????????????????????????? "No change",
 ????????????????????????????? "Improved")) +
 ? scale_fill_manual(name = "Change",
 ?????????????????? values = c("A" = "red",
 ????????????????????????????? "B" = "grey",
 ????????????????????????????? "C" = "green"),
 ?????????????????? labels = c("Deteriorated",
 ????????????????????????????? "No change",
 ????????????????????????????? "Improved"))

That gives the attached plot which is really what I want.? Long bodge 
though!*
*

On 06/10/2023 11:50, Jan van der Laan wrote:
>
> Does adding
>
> , show.legend = c("color"=TRUE, "fill"=FALSE)
>
> to the geom_point do what you want?
>
> Best,
> Jan
>
> On 06-10-2023 11:09, Chris Evans via R-help wrote:
>> library(tidyverse)
>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> 
>> tmpTibPoints
>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> 
>> tmpTibArea1
>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
>> tmpTibArea2
>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
>> tmpTibArea3
>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
>> tmpTibArea4
>> bind_rows(tmpTibArea1,
>> ?????????? tmpTibArea2,
>> ?????????? tmpTibArea3,
>> ?????????? tmpTibArea4) -> tmpTibAreas
>> ggplot(data = tmpTib,
>> ??????? aes(x = x, y = y)) +
>> ?? geom_polygon(data = tmpTibAreas,
>> ??????????????? aes(x = x, y = y, fill = a)) +
>> ?? geom_point(data = tmpTibPoints,
>> ????????????? aes(x = x, y = y, fill = c),
>> ????????????? pch = 24,
>> ????????????? size = 6)
>
-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ggnewscale_solution.png
Type: image/png
Size: 17846 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20231006/b054a7e6/attachment.png>

From rhe|p @end|ng |rom eoo@@dd@@n|  Fri Oct  6 12:55:49 2023
From: rhe|p @end|ng |rom eoo@@dd@@n| (Jan van der Laan)
Date: Fri, 6 Oct 2023 12:55:49 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <07a7fdb4-1078-42cc-9469-8a2203d1d01a@psyctc.org>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>
 <07a7fdb4-1078-42cc-9469-8a2203d1d01a@psyctc.org>
Message-ID: <b78371f5-7dd8-4a0a-bc8c-f09974553bbe@eoos.dds.nl>

You are right, sorry.

Another possible solution then: use geom_text instead of geom_point and 
use a triangle shape as text:

ggplot(data = tmpTibPoints,
        aes(x = x, y = y)) +
   geom_polygon(data = tmpTibAreas,
                aes(x = x, y = y, fill = a)) +
   geom_text(data = tmpTibPoints,
              aes(x = x, y = y, label = "?", color = c),
              size = 6) + guides(color = FALSE)



On 06-10-2023 12:11, Chris Evans via R-help wrote:
> Sadly, no.? Still shows the same legend with both sets of fill 
> mappings.? I have found a workaround, sadly
> much longer than yours (!) that does get me what I want but it is a real 
> bodge.? Still interested to see
> if there is a way to create a downward pointing solid symbol but here is 
> my bodge using new_scale_fill()
> and new_scale_color() from the ggnewscale package (many thanks to Elio 
> Campitelli for that).
> 
> library(tidyverse)
> library(ggnewscale) # allows me to change the scales used
> tibble(x = 2:9, y = 2:9,
>  ?????? ### I have used A:C to ensure the changes sort in the correct 
> order to avoid the messes of using shape to scale an ordinal variable
>  ?????? ### have to say that seems a case where it is perfectly sensible 
> to map shapes to an ordinal variable, scale_shape_manual() makes
>  ?????? ### this difficult hence this bodge
>  ?????? c = c(rep("A", 5), "B", rep("C", 2)),
>  ?????? change = c(rep("Deteriorated", 5), "No change", rep("Improved", 
> 2))) %>%
>  ? ### this is just keeping the original coding but not used below
>  ? mutate(change = ordered(change,
>  ????????????????????????? levels = c("Deteriorated", "No change", 
> "Improved"))) -> tmpTibPoints
> ### create the area mapping
> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> 
> tmpTibArea1
> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
> tmpTibArea2
> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
> tmpTibArea3
> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
> tmpTibArea4
> bind_rows(tmpTibArea1,
>  ????????? tmpTibArea2,
>  ????????? tmpTibArea3,
>  ????????? tmpTibArea4) -> tmpTibAreas
> ### now plot
> ggplot(data = tmpTib,
>  ?????? aes(x = x, y = y)) +
>  ? geom_polygon(data = tmpTibAreas,
>  ?????????????? aes(x = x, y = y, fill = a),
>  ?????????????? alpha = .5) +
>  ? scale_fill_manual(name = "Areas",
>  ??????????????????? values = c("orange", "purple", "yellow", "brown"),
>  ??????????????????? labels = letters[1:4]) +
>  ? ### next two lines use ggnewscale functions to reset the scale mappings
>  ? new_scale_fill() +
>  ? new_scale_colour() +
>  ? ### can now use the open triangles and fill aesthetic to map them
>  ? geom_point(data = tmpTibPoints,
>  ???????????? aes(x = x, y = y, shape = c, fill = c, colour = c),
>  ???????????? size = 6) +
>  ? ### use the ordered variable c to get mapping in desired order
>  ? ### which, sadly, isn't the alphabetical order!
>  ? scale_shape_manual(name = "Change",
>  ?????????????????? values = c("A" = 24,
>  ????????????????????????????? "B" = 23,
>  ????????????????????????????? "C" = 25),
>  ?????????????????? labels = c("Deteriorated",
>  ????????????????????????????? "No change",
>  ????????????????????????????? "Improved")) +
>  ? scale_colour_manual(name = "Change",
>  ?????????????????? values = c("A" = "red",
>  ????????????????????????????? "B" = "grey",
>  ????????????????????????????? "C" = "green"),
>  ?????????????????? labels = c("Deteriorated",
>  ????????????????????????????? "No change",
>  ????????????????????????????? "Improved")) +
>  ? scale_fill_manual(name = "Change",
>  ?????????????????? values = c("A" = "red",
>  ????????????????????????????? "B" = "grey",
>  ????????????????????????????? "C" = "green"),
>  ?????????????????? labels = c("Deteriorated",
>  ????????????????????????????? "No change",
>  ????????????????????????????? "Improved"))
> 
> That gives the attached plot which is really what I want.? Long bodge 
> though!*
> *
> 
> On 06/10/2023 11:50, Jan van der Laan wrote:
>>
>> Does adding
>>
>> , show.legend = c("color"=TRUE, "fill"=FALSE)
>>
>> to the geom_point do what you want?
>>
>> Best,
>> Jan
>>
>> On 06-10-2023 11:09, Chris Evans via R-help wrote:
>>> library(tidyverse)
>>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> 
>>> tmpTibPoints
>>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> 
>>> tmpTibArea1
>>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
>>> tmpTibArea2
>>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
>>> tmpTibArea3
>>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
>>> tmpTibArea4
>>> bind_rows(tmpTibArea1,
>>> ?????????? tmpTibArea2,
>>> ?????????? tmpTibArea3,
>>> ?????????? tmpTibArea4) -> tmpTibAreas
>>> ggplot(data = tmpTib,
>>> ??????? aes(x = x, y = y)) +
>>> ?? geom_polygon(data = tmpTibAreas,
>>> ??????????????? aes(x = x, y = y, fill = a)) +
>>> ?? geom_point(data = tmpTibPoints,
>>> ????????????? aes(x = x, y = y, fill = c),
>>> ????????????? pch = 24,
>>> ????????????? size = 6)
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From chr|@ho|d @end|ng |rom p@yctc@org  Fri Oct  6 14:21:55 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Fri, 6 Oct 2023 14:21:55 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <b78371f5-7dd8-4a0a-bc8c-f09974553bbe@eoos.dds.nl>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>
 <07a7fdb4-1078-42cc-9469-8a2203d1d01a@psyctc.org>
 <b78371f5-7dd8-4a0a-bc8c-f09974553bbe@eoos.dds.nl>
Message-ID: <11609d18-2506-49fc-82f6-189538ef1347@psyctc.org>

Thanks again Jan.? That is lovely and clean and I probably should have 
seen that option.

I had anxieties about the portability of using text.? (The function will 
end up in my
https://github.com/cpsyctc/CECPfuns package so I'd like it to be fairly 
immune to character
sets and different platforms in different countries.

I'm morphing this question a lot now but I guess it's still on topic 
really.? I know
I need to put in some time to understand the complexities of R and 
platforms (I'm
pretty exclusively on Linux, Ubuntu or Debian now so have mostly done 
the ostrich thing
about these issues though I do hit problems exchanging things with my 
Spanish speaking
colleagues).? Jan or anyone: any simple reassurance or pointers to 
resources I should
best use for homework about these issues?

TIA (again!)

Chris

On 06/10/2023 12:55, Jan van der Laan wrote:
> You are right, sorry.
>
> Another possible solution then: use geom_text instead of geom_point 
> and use a triangle shape as text:
>
> ggplot(data = tmpTibPoints,
> ?????? aes(x = x, y = y)) +
> ? geom_polygon(data = tmpTibAreas,
> ?????????????? aes(x = x, y = y, fill = a)) +
> ? geom_text(data = tmpTibPoints,
> ???????????? aes(x = x, y = y, label = "?", color = c),
> ???????????? size = 6) + guides(color = FALSE)
>
[much snipped]


-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/


From rhe|p @end|ng |rom eoo@@dd@@n|  Fri Oct  6 15:23:02 2023
From: rhe|p @end|ng |rom eoo@@dd@@n| (Jan van der Laan)
Date: Fri, 6 Oct 2023 15:23:02 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <11609d18-2506-49fc-82f6-189538ef1347@psyctc.org>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <d65dfe57-af83-410a-9cc1-a213ef1f983b@eoos.dds.nl>
 <07a7fdb4-1078-42cc-9469-8a2203d1d01a@psyctc.org>
 <b78371f5-7dd8-4a0a-bc8c-f09974553bbe@eoos.dds.nl>
 <11609d18-2506-49fc-82f6-189538ef1347@psyctc.org>
Message-ID: <19d8803f-2dac-4799-a234-9f69a1d0ad41@eoos.dds.nl>

Another thing that I considered, but doesn't seem to be supported, is 
rotating the symbols. I noticed that that does work with text. So you 
could use a arrow symbol and then specify the angle aesthetic. But this 
still relies on text and unfortunately there are no arrowlike symbols in 
ASCII: except perhaps 'V'.

I can't say how the support for non-ascii text is over different OS-es 
and localities. 
https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Encoding-issues 
gives some 'hints'




On 06-10-2023 14:21, Chris Evans via R-help wrote:
> Thanks again Jan.? That is lovely and clean and I probably should have 
> seen that option.
> 
> I had anxieties about the portability of using text.? (The function will 
> end up in my
> https://github.com/cpsyctc/CECPfuns package so I'd like it to be fairly 
> immune to character
> sets and different platforms in different countries.
> 
> I'm morphing this question a lot now but I guess it's still on topic 
> really.? I know
> I need to put in some time to understand the complexities of R and 
> platforms (I'm
> pretty exclusively on Linux, Ubuntu or Debian now so have mostly done 
> the ostrich thing
> about these issues though I do hit problems exchanging things with my 
> Spanish speaking
> colleagues).? Jan or anyone: any simple reassurance or pointers to 
> resources I should
> best use for homework about these issues?
> 
> TIA (again!)
> 
> Chris
> 
> On 06/10/2023 12:55, Jan van der Laan wrote:
>> You are right, sorry.
>>
>> Another possible solution then: use geom_text instead of geom_point 
>> and use a triangle shape as text:
>>
>> ggplot(data = tmpTibPoints,
>> ?????? aes(x = x, y = y)) +
>> ? geom_polygon(data = tmpTibAreas,
>> ?????????????? aes(x = x, y = y, fill = a)) +
>> ? geom_text(data = tmpTibPoints,
>> ???????????? aes(x = x, y = y, label = "?", color = c),
>> ???????????? size = 6) + guides(color = FALSE)
>>
> [much snipped]
> 
>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Oct  6 16:50:00 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 6 Oct 2023 15:50:00 +0100
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
Message-ID: <019f75be-8b1d-4701-b4d8-f7564cba1739@sapo.pt>

?s 10:09 de 06/10/2023, Chris Evans via R-help escreveu:
> The reason I am asking is that I would like to mark areas on a plot 
> using geom_polygon() and aes(fill = variable) to fill various polygons 
> forming the background of a plot with different colours. Then I would 
> like to overlay that with points representing direction of change: 
> improved, no reliable change, deteriorated. The obvious symbols to use 
> for those three directions are an upward arrow, a circle or square and a 
> downward pointing arrow.? There is a solid upward point triangle symbol 
> in R (ph = 17) and there are both upward and downward pointing open 
> triangle symbols (pch 21 and 25) but to fill those with a solid colour 
> so they will be visible over the background requires that I use a fill 
> aesthetic and that gets me a mess with the legend as I will have used a 
> different fill mapping to fill the polygons.? This silly reprex shows 
> the issue I think.
> 
> library(tidyverse)
> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> 
> tmpTibArea1
> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
> tmpTibArea2
> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
> tmpTibArea3
> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
> tmpTibArea4
> bind_rows(tmpTibArea1,
>  ????????? tmpTibArea2,
>  ????????? tmpTibArea3,
>  ????????? tmpTibArea4) -> tmpTibAreas
> ggplot(data = tmpTib,
>  ?????? aes(x = x, y = y)) +
>  ? geom_polygon(data = tmpTibAreas,
>  ?????????????? aes(x = x, y = y, fill = a)) +
>  ? geom_point(data = tmpTibPoints,
>  ???????????? aes(x = x, y = y, fill = c),
>  ???????????? pch = 24,
>  ???????????? size = 6)
> 
> Does anyone know a way to create a solid downward pointing symbol?? Or 
> another workaround?
> 
> TIA,
> 
> Chris
> 
Hello,

Maybe you can solve the problem with unicode characters.
See the two scale_*_manual at the end of the plot.



# Unicode characters for black up- and down-pointing characters
pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
pts_colors <- c("blue", "red") |> setNames(c("A", "B"))

ggplot(data = tmpTibAreas,
        aes(x = x, y = y)) +
   geom_polygon(data = tmpTibAreas,
                aes(x = x, y = y, fill = a)) +
   geom_point(data = tmpTibPoints,
              aes(x = x, y = y, color = c, shape = c),
              size = 6) +
   scale_shape_manual(values = pts_shapes) +
   scale_color_manual(values = pts_colors)




-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Oct  6 17:05:51 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 06 Oct 2023 08:05:51 -0700
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <019f75be-8b1d-4701-b4d8-f7564cba1739@sapo.pt>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <019f75be-8b1d-4701-b4d8-f7564cba1739@sapo.pt>
Message-ID: <F7E44F92-D788-4F8F-B86A-B3956FFC2E23@dcn.davis.ca.us>

Doesn't the outcome of this suggestion still depend on which fonts and output device you are using? ... and that is to some degree still system dependent...

On October 6, 2023 7:50:00 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>?s 10:09 de 06/10/2023, Chris Evans via R-help escreveu:
>> The reason I am asking is that I would like to mark areas on a plot using geom_polygon() and aes(fill = variable) to fill various polygons forming the background of a plot with different colours. Then I would like to overlay that with points representing direction of change: improved, no reliable change, deteriorated. The obvious symbols to use for those three directions are an upward arrow, a circle or square and a downward pointing arrow.? There is a solid upward point triangle symbol in R (ph = 17) and there are both upward and downward pointing open triangle symbols (pch 21 and 25) but to fill those with a solid colour so they will be visible over the background requires that I use a fill aesthetic and that gets me a mess with the legend as I will have used a different fill mapping to fill the polygons.? This silly reprex shows the issue I think.
>> 
>> library(tidyverse)
>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> tmpTibArea2
>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> tmpTibArea3
>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> tmpTibArea4
>> bind_rows(tmpTibArea1,
>>  ????????? tmpTibArea2,
>>  ????????? tmpTibArea3,
>>  ????????? tmpTibArea4) -> tmpTibAreas
>> ggplot(data = tmpTib,
>>  ?????? aes(x = x, y = y)) +
>>  ? geom_polygon(data = tmpTibAreas,
>>  ?????????????? aes(x = x, y = y, fill = a)) +
>>  ? geom_point(data = tmpTibPoints,
>>  ???????????? aes(x = x, y = y, fill = c),
>>  ???????????? pch = 24,
>>  ???????????? size = 6)
>> 
>> Does anyone know a way to create a solid downward pointing symbol?? Or another workaround?
>> 
>> TIA,
>> 
>> Chris
>> 
>Hello,
>
>Maybe you can solve the problem with unicode characters.
>See the two scale_*_manual at the end of the plot.
>
>
>
># Unicode characters for black up- and down-pointing characters
>pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
>pts_colors <- c("blue", "red") |> setNames(c("A", "B"))
>
>ggplot(data = tmpTibAreas,
>       aes(x = x, y = y)) +
>  geom_polygon(data = tmpTibAreas,
>               aes(x = x, y = y, fill = a)) +
>  geom_point(data = tmpTibPoints,
>             aes(x = x, y = y, color = c, shape = c),
>             size = 6) +
>  scale_shape_manual(values = pts_shapes) +
>  scale_color_manual(values = pts_colors)
>
>
>
>

-- 
Sent from my phone. Please excuse my brevity.


From t@v|b@r @end|ng |rom gm@||@com  Fri Oct  6 17:37:53 2023
From: t@v|b@r @end|ng |rom gm@||@com (Micha Silver)
Date: Fri, 6 Oct 2023 18:37:53 +0300
Subject: [R] save(), load(), saveRDS(), and readRDS()
In-Reply-To: <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
References: <CAPVJd2X1a57BynSv+dDYbyRiRSXnTkUUoqJTDsJ2cgw0rMdVoA@mail.gmail.com>
 <CA+8X3fXhqJEYgbZCt6zrd61M1iooirsSBGtTFyVC-P_Gn-McVw@mail.gmail.com>
Message-ID: <ce899fe6-7480-4699-8b97-2ac96921e2cc@gmail.com>


Jim always went beyond just posting answers. He helped me along in 
learning R, always showing solutions together with insightful 
explanations. His patience and good humor were remarkable.

Condolences to his family.


On 05/10/2023 1:36, Jim Lemon wrote:
> Hello,
> I am very sad to let you know that my husband Jim died on 18th September. I
> apologise for not letting you know earlier but I had trouble finding the
> password for his phone.
> Kind regards,
> Juel
>
> On Fri, 29 Sep 2023, 01:48 Shu Fai Cheung <shufai.cheung at gmail.com wrote:
>
>> Hi All,
>>
>> There is a thread about the use of save(), load(), saveRDS(), and
>> loadRDS(). It led me to think about a question regarding them.
>>
>> In my personal work, I prefer using saveRDS() and loadRDS() as I don't like
>> the risk of overwriting anything in the global environment. I also like the
>> freedom to name an object when reading it from a file.
>>
>> However, for teaching, I have to teach save() and load() because, in my
>> discipline, it is common for researchers to share their datasets on the
>> internet using the format saved by save(), and so students need to know how
>> to use load() and what will happen when using it. Actually, I can't recall
>> encountering datasets shared by the .rds format. I have been wondering why
>> save() was usually used in that case.
>>
>> That discussion led me to read the help pages again and I noticed the
>> following warning, from the help page of saveRDS():
>>
>> "Files produced by saveRDS (or serialize to a file connection) are not
>> suitable as an interchange format between machines, for example to download
>> from a website. The files produced by save
>> <http://127.0.0.1:18888/library/base/help/save> have a header identifying
>> the file type and so are better protected against erroneous use."
>>
>> When will the problem mentioned in the warning occur? That is, when will a
>> file saved by saveRDS() not be read correctly? Saved in Linux and then read
>> in Windows? Is it possible to create a reproducible error?
>>
>> Regards,
>> Shu Fai
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Micha Silver
Ben Gurion Univ.
Sde Boker, Remote Sensing Lab
cell: +972-523-665918


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct  6 20:23:20 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 6 Oct 2023 11:23:20 -0700
Subject: [R] **Off Topic**, but perhaps of interest to many on this list
Message-ID: <CAGxFJbSsvmp_cSKc2mmXhq1m--v3UEFfRWgmjduu_oyUr6nVpg@mail.gmail.com>

** Please Do Not Respond**
This is only FYI for those who care to follow the link below.

Explanation: Many questions that appear on this list are about how to
organize and format data -- unsurprising, as data structures are an
essential component of software and algorithm development in general,
and data science in particular. Those who are interested in such
queries and/or  the related area of reproducible research may find the
stupefying mess that biologist microscopists have to contend with to
be of interest:

(from Nature)
"How open-source software could finally get the world?s microscopes
speaking the same language"

https://www.nature.com/articles/d41586-023-03064-9

Best to all,
Bert


From kweb|h@| @end|ng |rom gm@||@com  Fri Oct  6 22:23:20 2023
From: kweb|h@| @end|ng |rom gm@||@com (Fred Kwebiha)
Date: Fri, 6 Oct 2023 23:23:20 +0300
Subject: [R] R Gigs
Message-ID: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>

Dear Community,

Where Can I get Gigs related to R programming language?

Thanks in Advance for your help.

*Best Regards,*

*FRED KWEBIHA*
*+256-782-746-154*

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct  6 22:35:51 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 6 Oct 2023 13:35:51 -0700
Subject: [R] R Gigs
In-Reply-To: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
Message-ID: <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>

May be an age gap here, but I assume "gigs" = freelance jobs. If so,
https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
might be useful. As well as an online search in all the usual places.
Otherwise, please excuse my out-of-date ignorance.

Cheers,
Bert

On Fri, Oct 6, 2023 at 1:23?PM Fred Kwebiha <kwebihaf at gmail.com> wrote:
>
> Dear Community,
>
> Where Can I get Gigs related to R programming language?
>
> Thanks in Advance for your help.
>
> *Best Regards,*
>
> *FRED KWEBIHA*
> *+256-782-746-154*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kweb|h@| @end|ng |rom gm@||@com  Fri Oct  6 22:50:17 2023
From: kweb|h@| @end|ng |rom gm@||@com (Fred Kwebiha)
Date: Fri, 6 Oct 2023 23:50:17 +0300
Subject: [R] R Gigs
In-Reply-To: <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
 <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
Message-ID: <CAED7jgNKHf67wTjQq0a07WsdBPx7nMm4L0ByQNKsVayJfzxN1g@mail.gmail.com>

Thanks Bert.

I have Subscribed now to that list.

*Best Regards,*

*FRED KWEBIHA*
*+256-782-746-154*


On Fri, Oct 6, 2023 at 11:36?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> May be an age gap here, but I assume "gigs" = freelance jobs. If so,
> https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
> might be useful. As well as an online search in all the usual places.
> Otherwise, please excuse my out-of-date ignorance.
>
> Cheers,
> Bert
>
> On Fri, Oct 6, 2023 at 1:23?PM Fred Kwebiha <kwebihaf at gmail.com> wrote:
> >
> > Dear Community,
> >
> > Where Can I get Gigs related to R programming language?
> >
> > Thanks in Advance for your help.
> >
> > *Best Regards,*
> >
> > *FRED KWEBIHA*
> > *+256-782-746-154*
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Fri Oct  6 23:03:07 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Fri, 06 Oct 2023 14:03:07 -0700
Subject: [R] R Gigs
In-Reply-To: <CAED7jgNKHf67wTjQq0a07WsdBPx7nMm4L0ByQNKsVayJfzxN1g@mail.gmail.com>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
 <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
 <CAED7jgNKHf67wTjQq0a07WsdBPx7nMm4L0ByQNKsVayJfzxN1g@mail.gmail.com>
Message-ID: <F9915B14-C65C-44E7-A1AA-FBD4A5BACCD6@dcn.davis.ca.us>

That list is _very_ low volume... most employers who would benefit from the skills of an R user don't know that R exists.

On October 6, 2023 1:50:17 PM PDT, Fred Kwebiha <kwebihaf at gmail.com> wrote:
>Thanks Bert.
>
>I have Subscribed now to that list.
>
>*Best Regards,*
>
>*FRED KWEBIHA*
>*+256-782-746-154*
>
>
>On Fri, Oct 6, 2023 at 11:36?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
>> May be an age gap here, but I assume "gigs" = freelance jobs. If so,
>> https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
>> might be useful. As well as an online search in all the usual places.
>> Otherwise, please excuse my out-of-date ignorance.
>>
>> Cheers,
>> Bert
>>
>> On Fri, Oct 6, 2023 at 1:23?PM Fred Kwebiha <kwebihaf at gmail.com> wrote:
>> >
>> > Dear Community,
>> >
>> > Where Can I get Gigs related to R programming language?
>> >
>> > Thanks in Advance for your help.
>> >
>> > *Best Regards,*
>> >
>> > *FRED KWEBIHA*
>> > *+256-782-746-154*
>> >
>> >         [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From no@p@m @end|ng |rom ||@@e@NA  Sat Oct  7 10:45:06 2023
From: no@p@m @end|ng |rom ||@@e@NA (Dr Eberhard Lisse)
Date: Sat, 7 Oct 2023 10:45:06 +0200
Subject: [R] R Gigs
In-Reply-To: <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
 <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
Message-ID: <d50b7c38-f1e8-4874-ad21-037cb7e7376c@lisse.NA>

LinkedIn is what seems to go these days

el

On 2023-10-06 22:35 , Bert Gunter wrote:
> May be an age gap here, but I assume "gigs" = freelance jobs. If so,
> https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
> might be useful. As well as an online search in all the usual places.
> Otherwise, please excuse my out-of-date ignorance.
[...]


From no@p@m @end|ng |rom ||@@e@NA  Sat Oct  7 10:45:06 2023
From: no@p@m @end|ng |rom ||@@e@NA (Dr Eberhard Lisse)
Date: Sat, 7 Oct 2023 10:45:06 +0200
Subject: [R] R Gigs
In-Reply-To: <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
 <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
Message-ID: <d50b7c38-f1e8-4874-ad21-037cb7e7376c@lisse.NA>

LinkedIn is what seems to go these days

el

On 2023-10-06 22:35 , Bert Gunter wrote:
> May be an age gap here, but I assume "gigs" = freelance jobs. If so,
> https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
> might be useful. As well as an online search in all the usual places.
> Otherwise, please excuse my out-of-date ignorance.
[...]


From non @end|ng |rom mcohn@net  Fri Oct  6 12:52:34 2023
From: non @end|ng |rom mcohn@net (Michael Cohn)
Date: Fri, 6 Oct 2023 03:52:34 -0700
Subject: [R] car::deltaMethod() fails when a particular combination of
 categorical variables is not present
In-Reply-To: <932ebbc2-897a-4684-bc03-8179c077cd3a@mcmaster.ca>
References: <CAJBfvSCsvTaAZL6e9SjKzHW6QB_eoTHUKNOeKStGXYvDdyDtdw@mail.gmail.com>
 <fdcf2c56-962c-4a33-b292-95f9e788c68c@mcmaster.ca>
 <932ebbc2-897a-4684-bc03-8179c077cd3a@mcmaster.ca>
Message-ID: <CAJBfvSCgZAdnxu1OpO=z4L1skD0Co_8hnwPNU61xR7Wk1oaZ=A@mail.gmail.com>

Thank you very much, John. This has allowed us to move forward on several
fronts and better understand our data.

- Michael Cohn

On Tue, Sep 26, 2023 at 8:39?AM John Fox <jfox at mcmaster.ca> wrote:

> Dear Michael,
>
> My previous response was inaccurate: First, linearHypothesis() *is* able
> to accommodate aliased coefficients by setting the argument singular.ok
> = TRUE:
>
>  > linearHypothesis(minimal_model, "bt2 + csent + bt2:csent = 0",
> +                  singular.ok=TRUE)
>
> Linear hypothesis test:
> bt2  + csent  + bt2:csent = 0
>
> Model 1: restricted model
> Model 2: a ~ b * c
>
>    Res.Df    RSS Df Sum of Sq      F Pr(>F)
> 1     16 9392.1
> 2     15 9266.4  1    125.67 0.2034 0.6584
>
> Moreover, when there is an empty cell, this F-test is (for a reason that
> I haven't worked out, but is almost surely due to how the rank-deficient
> model is parametrized) *not* equivalent to the t-test for the
> corresponding coefficient in the raveled version of the two factors:
>
>  > df$bc <- factor(with(df, paste(b, c, sep=":")))
>  > m <- lm(a ~ bc, data=df)
>  > summary(m)
>
> Call:
> lm(formula = a ~ bc, data = df)
>
> Residuals:
>      Min      1Q  Median      3Q     Max
> -57.455 -11.750   0.439  14.011  37.545
>
> Coefficients:
>              Estimate Std. Error t value Pr(>|t|)
> (Intercept)    20.50      17.57   1.166   0.2617
> bct1:unsent    37.50      24.85   1.509   0.1521
> bct2:other     32.00      24.85   1.287   0.2174
> bct2:sent      17.17      22.69   0.757   0.4610  <<< cf. F = 0.2034, p
> = 0.6584
> bct2:unsent    38.95      19.11   2.039   0.0595
>
> Residual standard error: 24.85 on 15 degrees of freedom
> Multiple R-squared:  0.2613,    Adjusted R-squared:  0.06437
> F-statistic: 1.327 on 4 and 15 DF,  p-value: 0.3052
>
> In the full-rank case, however, what I said is correct -- that is, the
> F-test for the 1 df hypothesis on the three coefficients is equivalent
> to the t-test for the corresponding coefficient when the two factors are
> raveled:
>
>  > linearHypothesis(minimal_model_fixed, "bt2 + csent + bt2:csent = 0")
>
> Linear hypothesis test:
> bt2  + csent  + bt2:csent = 0
>
> Model 1: restricted model
> Model 2: a ~ b * c
>
>    Res.Df    RSS Df Sum of Sq      F Pr(>F)
> 1     15 9714.5
> 2     14 9194.4  1    520.08 0.7919 0.3886
>
>  > df_fixed$bc <- factor(with(df_fixed, paste(b, c, sep=":")))
>  > m <- lm(a ~ bc, data=df_fixed)
>  > summary(m)
>
> Call:
> lm(formula = a ~ bc, data = df_fixed)
>
> Residuals:
>      Min      1Q  Median      3Q     Max
> -57.455 -11.750   0.167  14.011  37.545
>
> Coefficients:
>              Estimate Std. Error t value Pr(>|t|)
> (Intercept)   64.000     25.627   2.497   0.0256
> bct1:sent    -43.500     31.387  -1.386   0.1874
> bct1:unsent  -12.000     36.242  -0.331   0.7455
> bct2:other   -11.500     31.387  -0.366   0.7195
> bct2:sent    -26.333     29.591  -0.890   0.3886 << cf.
> bct2:unsent   -4.545     26.767  -0.170   0.8676
>
> Residual standard error: 25.63 on 14 degrees of freedom
> Multiple R-squared:  0.2671,    Adjusted R-squared:  0.005328
> F-statistic:  1.02 on 5 and 14 DF,  p-value: 0.4425
>
> So, to summarize:
>
> (1) You can use linearHypothesis() with singular.ok=TRUE to test the
> hypothesis that you specified, though I suspect that this hypothesis
> probably isn't testing what you think in the rank-deficient case. I
> suspect that the hypothesis that you want to test is obtained by
> raveling the two factors.
>
> (2) There is no reason to use deltaMethod() for a linear hypothesis, but
> there is also no intrinsic reason that deltaMethod() shouldn't be able
> to handle a rank-deficient model. We'll probably fix that.
>
> My apologies for the confusion,
>   John
>
> --
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web: https://www.john-fox.ca/
>
> On 2023-09-26 9:49 a.m., John Fox wrote:
> > Caution: External email.
> >
> >
> > Dear Michael,
> >
> > You're testing a linear hypothesis, so there's no need to use the delta
> > method, but the linearHypothesis() function in the car package also
> > fails in your case:
> >
> >  > linearHypothesis(minimal_model, "bt2 + csent + bt2:csent = 0")
> > Error in linearHypothesis.lm(minimal_model, "bt2 + csent + bt2:csent =
> > 0") :
> > there are aliased coefficients in the model.
> >
> > One work-around is to ravel the two factors into a single factor with 5
> > levels:
> >
> >  > df$bc <- factor(with(df, paste(b, c, sep=":")))
> >  > df$bc
> >   [1] t2:unsent t2:unsent t2:unsent t2:unsent t2:sent   t2:unsent
> >   [7] t2:unsent t1:sent   t2:unsent t2:unsent t2:other  t2:unsent
> > [13] t1:unsent t1:sent   t2:unsent t2:other  t1:unsent t2:sent
> > [19] t2:sent   t2:unsent
> > Levels: t1:sent t1:unsent t2:other t2:sent t2:unsent
> >
> >  > m <- lm(a ~ bc, data=df)
> >  > summary(m)
> >
> > Call:
> > lm(formula = a ~ bc, data = df)
> >
> > Residuals:
> >      Min      1Q  Median      3Q     Max
> > -57.455 -11.750   0.439  14.011  37.545
> >
> > Coefficients:
> >              Estimate Std. Error t value Pr(>|t|)
> > (Intercept)    20.50      17.57   1.166   0.2617
> > bct1:unsent    37.50      24.85   1.509   0.1521
> > bct2:other     32.00      24.85   1.287   0.2174
> > bct2:sent      17.17      22.69   0.757   0.4610
> > bct2:unsent    38.95      19.11   2.039   0.0595
> >
> > Residual standard error: 24.85 on 15 degrees of freedom
> > Multiple R-squared:  0.2613,    Adjusted R-squared:  0.06437
> > F-statistic: 1.327 on 4 and 15 DF,  p-value: 0.3052
> >
> > Then the hypothesis is tested directly by the t-value for the
> > coefficient bct2:sent.
> >
> > I hope that this helps,
> >   John
> >
> > --
> > John Fox, Professor Emeritus
> > McMaster University
> > Hamilton, Ontario, Canada
> > web: https://www.john-fox.ca/
> >
> > On 2023-09-26 1:12 a.m., Michael Cohn wrote:
> >> Caution: External email.
> >>
> >>
> >> I'm running a linear regression with two categorical predictors and
> their
> >> interaction. One combination of levels does not occur in the data, and
> as
> >> expected, no parameter is estimated for it. I now want to significance
> >> test
> >> a particular combination of levels that does occur in the data (ie, I
> >> want
> >> to get a confidence interval for the total prediction at given levels of
> >> each variable).
> >>
> >> In the past I've done this using car::deltaMethod() but in this dataset
> >> that does not work, as shown in the example below: The regression model
> >> gives the expected output, but deltaMethod() gives this error:
> >>
> >> error in t(gd) %*% vcov. : non-conformable arguments
> >>
> >> I believe this is because there is no parameter estimate for when the
> >> predictors have the values 't1' and 'other'. In the df_fixed dataframe,
> >> putting one person into that combination of categories causes
> >> deltaMethod()
> >> to work as expected.
> >>
> >> I don't know of any theoretical reason that missing one interaction
> >> parameter estimate should prevent getting a confidence interval for a
> >> different combination of predictors. Is there a way to use
> >> deltaMethod() or
> >> some other function to do this without changing my data?
> >>
> >> Thank you,
> >>
> >> - Michael Cohn
> >> Vote Rev (http://voterev.org)
> >>
> >>
> >> Demonstration:
> >> ------
> >>
> >> library(car)
> >> # create dataset with outcome and two categorical predictors
> >> outcomes <- c(91,2,60,53,38,78,48,33,97,41,64,84,64,8,66,41,52,18,57,34)
> >> persontype <-
> >>
> c("t2","t2","t2","t2","t2","t2","t2","t1","t2","t2","t2","t2","t1","t1","t2","t2","t1","t2","t2","t2")
> >> arm_letter <-
> >>
> c("unsent","unsent","unsent","unsent","sent","unsent","unsent","sent","unsent","unsent","other","unsent","unsent","sent","unsent","other","unsent","sent","sent","unsent")
> >> df <- data.frame(a = outcomes, b=persontype, c=arm_letter)
> >>
> >> # note: there are no records with the combination 't1' + 'other'
> >> table(df$b,df$c)
> >>
> >>
> >> #regression works as expected
> >> minimal_formula <- formula("a ~ b*c")
> >> minimal_model <- lm(minimal_formula, data=df)
> >> summary(minimal_model)
> >>
> >> #use deltaMethod() to get a prediction for individuals with the
> >> combination
> >> 'b2' and 'sent'
> >> # deltaMethod() fails with "error in t(gd) %*% vcov. : non-conformable
> >> arguments."
> >> deltaMethod(minimal_model, "bt2 + csent + `bt2:csent`", rhs=0)
> >>
> >> # duplicate the dataset and change one record to be in the previously
> >> empty
> >> cell
> >> df_fixed <- df
> >> df_fixed[c(13),"c"] <- 'other'
> >> table(df_fixed$b,df_fixed$c)
> >>
> >> #deltaMethod() now works
> >> minimal_model_fixed <- lm(minimal_formula, data=df_fixed)
> >> deltaMethod(minimal_model_fixed, "bt2 + csent + `bt2:csent`", rhs=0)
> >>
> >>          [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Sat Oct  7 12:45:40 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Sat, 7 Oct 2023 12:45:40 +0200
Subject: [R] R Gigs
In-Reply-To: <d50b7c38-f1e8-4874-ad21-037cb7e7376c@lisse.NA>
References: <CAED7jgPQ7niuwH4V0XBz0J0NPjzwZGiWN7e_3_vQvYgc7QDzow@mail.gmail.com>
 <CAGxFJbRyWgjkkoK0yzDM58EgW4w+nbW74YJTwfSq65=vuQ7GFg@mail.gmail.com>
 <d50b7c38-f1e8-4874-ad21-037cb7e7376c@lisse.NA>
Message-ID: <01806913-0cb7-0eef-6cc6-c61b535b4a12@statistik.tu-dortmund.de>



On 07.10.2023 10:45, Dr Eberhard Lisse wrote:
> LinkedIn is what seems to go these days

Well, for those some years older it would certainly help not to use 
words such as "gigs" (I first assumed gigabytes of data were meant). 
Apparently the original poster is looking for some employment, but we do 
not even know the country nor what the capabilities are.
Honestly, given that mail message, I would not even offer to supervise 
any voluntary tasks.
My personal classification was "spam", hence not replying to the OP.

Best,
Uwe Ligges



> 
> el
> 
> On 2023-10-06 22:35 , Bert Gunter wrote:
>> May be an age gap here, but I assume "gigs" = freelance jobs. If so,
>> https://stat.ethz.ch/mailman/listinfo/r-sig-jobs
>> might be useful. As well as an online search in all the usual places.
>> Otherwise, please excuse my out-of-date ignorance.
> [...]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @erv|ce @end|ng |rom @hd@w@on@com  Sat Oct  7 17:09:25 2023
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 7 Oct 2023 11:09:25 -0400
Subject: [R] Confirming MySQL Alive
Message-ID: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>

Hi,


Getting some data from an older MySQL box. I had an event recently where 
the MySQL box went off-line for maintenance without a prior announcement 
of service disruption.

I decided to add a line on my local version of MySQL as I considered how 
to handle this condition going forward.

system("sudo systemctl status mysql", input = 
rstudioapi::askForPassword("sudo password"))

system("sudo systemctl status mysql",input=readline("Enter Password: "))


Both fail for the same reason, saying I need a terminal.


 > system("sudo systemctl status mysql", input = 
rstudioapi::askForPassword("sudo password"))
sudo: a terminal is required to read the password; either use the -S 
option to read from standard input or configure an askpass helper
sudo: a password is required
 >



 > system("sudo systemctl status mysql",input=readline("Enter Password: "))
Enter Password: ***REDACTED***
sudo: a terminal is required to read the password; either use the -S 
option to read from standard input or configure an askpass helper
sudo: a password is required
 >



I can run the code segments for things like ls and pwd. So, there is 
something unique about systemctl and R that is beyond my understanding 
today.

QUESTIONS
What is so special about systemctl and R in a system syntax statement?

What are some of the best practices to confirm a box I am hitting for 
data with R , either local or across the network, has MySQL up and running?


Thanks,
-- 
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


From chr|@ho|d @end|ng |rom p@yctc@org  Sat Oct  7 17:18:24 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Sat, 7 Oct 2023 17:18:24 +0200
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <F7E44F92-D788-4F8F-B86A-B3956FFC2E23@dcn.davis.ca.us>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <019f75be-8b1d-4701-b4d8-f7564cba1739@sapo.pt>
 <F7E44F92-D788-4F8F-B86A-B3956FFC2E23@dcn.davis.ca.us>
Message-ID: <62c6a315-e65e-4901-b055-8d7c0b1c7c9f@psyctc.org>

SO helpful. Thanks to all.? I _think_ the answer to Jeff's question may 
be "It should only be problematical on R earlier than 2.10". At least,
that's how I read this:

There is a portable way to have arbitrary text in character strings 
(only) in your R code, which is to supply them in Unicode as ?\uxxxx?
escapes (or, rarely needed except for emojis, ?\Uxxxxxxxx? escapes). If 
there are any characters not in the current encoding the parser
will encode the character string as UTF-8 and mark it as such. This 
applies also to character strings in datasets: they can be prepared
using ?\uxxxx? escapes or encoded in UTF-8 in a UTF-8 locale, or even 
converted to UTF-8 /via/ |iconv()|. If you do this, make sure you have
?R (>= 2.10)? (or later) in the ?Depends? field of the DESCRIPTION file.

(Quoting from 
https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Encoding-issues. 
Thanks for that pointer Jan.)

### using UTF to solve my issue (for R versions >= 2.10 I think)
library(tidyverse)
tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) %>%
 ? mutate(y1 = y + 1,
 ???????? y2 = y + 2) -> tmpTibPoints
tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> 
tmpTibArea2
tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> 
tmpTibArea3
tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> 
tmpTibArea4
bind_rows(tmpTibArea1,
 ?????????? tmpTibArea2,
 ?????????? tmpTibArea3,
 ?????????? tmpTibArea4) -> tmpTibAreas

# Unicode characters for black up- and down-pointing characters
pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
pts_colors <- c("blue", "red") |> setNames(c("A", "B"))

pts_shapes

ggplot() +
 ? ### this was the suggestion from Rui Barradas
 ? geom_point(data = tmpTibPoints,
 ???????????? aes(x = x, y = y, color = c, shape = c),
 ???????????? size = 6) +
 ? ### checking what happens using geom_text (for amusement really)
 ? geom_text(data = tmpTibPoints,
 ??????????? aes(x = x, y = y1, label = c)) +
 ? ### and checking using the UTF characters in annotate() too (ditto)
 ? annotate(geom = "text", x = 2.5, y = 8.5, label = paste(pts_shapes, 
collapse = "? ")) +
 ? scale_shape_manual(values = pts_shapes) +
 ? scale_color_manual(values = pts_colors)

Output attached.? Thanks to Jan and Rui particularly.? R-help providing 
wide and deep R education as ever.


On 06/10/2023 17:05, Jeff Newmiller wrote:
> Doesn't the outcome of this suggestion still depend on which fonts and output device you are using? ... and that is to some degree still system dependent...
>
> On October 6, 2023 7:50:00 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>> ?s 10:09 de 06/10/2023, Chris Evans via R-help escreveu:
>>> The reason I am asking is that I would like to mark areas on a plot using geom_polygon() and aes(fill = variable) to fill various polygons forming the background of a plot with different colours. Then I would like to overlay that with points representing direction of change: improved, no reliable change, deteriorated. The obvious symbols to use for those three directions are an upward arrow, a circle or square and a downward pointing arrow.? There is a solid upward point triangle symbol in R (ph = 17) and there are both upward and downward pointing open triangle symbols (pch 21 and 25) but to fill those with a solid colour so they will be visible over the background requires that I use a fill aesthetic and that gets me a mess with the legend as I will have used a different fill mapping to fill the polygons.? This silly reprex shows the issue I think.
>>>
>>> library(tidyverse)
>>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
>>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
>>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> tmpTibArea2
>>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> tmpTibArea3
>>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> tmpTibArea4
>>> bind_rows(tmpTibArea1,
>>>   ????????? tmpTibArea2,
>>>   ????????? tmpTibArea3,
>>>   ????????? tmpTibArea4) -> tmpTibAreas
>>> ggplot(data = tmpTib,
>>>   ?????? aes(x = x, y = y)) +
>>>   ? geom_polygon(data = tmpTibAreas,
>>>   ?????????????? aes(x = x, y = y, fill = a)) +
>>>   ? geom_point(data = tmpTibPoints,
>>>   ???????????? aes(x = x, y = y, fill = c),
>>>   ???????????? pch = 24,
>>>   ???????????? size = 6)
>>>
>>> Does anyone know a way to create a solid downward pointing symbol?? Or another workaround?
>>>
>>> TIA,
>>>
>>> Chris
>>>
>> Hello,
>>
>> Maybe you can solve the problem with unicode characters.
>> See the two scale_*_manual at the end of the plot.
>>
>>
>>
>> # Unicode characters for black up- and down-pointing characters
>> pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
>> pts_colors <- c("blue", "red") |> setNames(c("A", "B"))
>>
>> ggplot(data = tmpTibAreas,
>>        aes(x = x, y = y)) +
>>   geom_polygon(data = tmpTibAreas,
>>                aes(x = x, y = y, fill = a)) +
>>   geom_point(data = tmpTibPoints,
>>              aes(x = x, y = y, color = c, shape = c),
>>              size = 6) +
>>   scale_shape_manual(values = pts_shapes) +
>>   scale_color_manual(values = pts_colors)
>>
>>
>>
>>
-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): 
https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ggnewscale_solution2.png
Type: image/png
Size: 12731 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20231007/6bede3de/attachment.png>

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Oct  7 17:26:42 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 07 Oct 2023 08:26:42 -0700
Subject: [R] Confirming MySQL Alive
In-Reply-To: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
References: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
Message-ID: <0EC483FF-9566-43CC-935A-AA5388DC6D62@dcn.davis.ca.us>

Not really an R question, but some processes are connected to interactive terminals (where someone can type) and some are not (because they were created and managed by another process). The system call creates a process and controls all interactions with that process. You really should not be messing with sudo in the background like that.

On October 7, 2023 8:09:25 AM PDT, "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> wrote:
>Hi,
>
>
>Getting some data from an older MySQL box. I had an event recently where the MySQL box went off-line for maintenance without a prior announcement of service disruption.
>
>I decided to add a line on my local version of MySQL as I considered how to handle this condition going forward.
>
>system("sudo systemctl status mysql", input = rstudioapi::askForPassword("sudo password"))
>
>system("sudo systemctl status mysql",input=readline("Enter Password: "))
>
>
>Both fail for the same reason, saying I need a terminal.
>
>
>> system("sudo systemctl status mysql", input = rstudioapi::askForPassword("sudo password"))
>sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
>sudo: a password is required
>>
>
>
>
>> system("sudo systemctl status mysql",input=readline("Enter Password: "))
>Enter Password: ***REDACTED***
>sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
>sudo: a password is required
>>
>
>
>
>I can run the code segments for things like ls and pwd. So, there is something unique about systemctl and R that is beyond my understanding today.
>
>QUESTIONS
>What is so special about systemctl and R in a system syntax statement?
>
>What are some of the best practices to confirm a box I am hitting for data with R , either local or across the network, has MySQL up and running?
>
>
>Thanks,

-- 
Sent from my phone. Please excuse my brevity.


From @erv|ce @end|ng |rom @hd@w@on@com  Sat Oct  7 17:32:54 2023
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sat, 7 Oct 2023 11:32:54 -0400
Subject: [R] Confirming MySQL Alive
In-Reply-To: <0EC483FF-9566-43CC-935A-AA5388DC6D62@dcn.davis.ca.us>
References: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
 <0EC483FF-9566-43CC-935A-AA5388DC6D62@dcn.davis.ca.us>
Message-ID: <b9099cf7-1534-178c-8cc7-accd67135f47@shdawson.com>

Thanks, Jeff.

So, how do you know in your work if the box you are hitting for data is 
alive in the moment?


*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 10/7/23 11:26, Jeff Newmiller wrote:
> Not really an R question, but some processes are connected to interactive terminals (where someone can type) and some are not (because they were created and managed by another process). The system call creates a process and controls all interactions with that process. You really should not be messing with sudo in the background like that.
>
> On October 7, 2023 8:09:25 AM PDT, "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> wrote:
>> Hi,
>>
>>
>> Getting some data from an older MySQL box. I had an event recently where the MySQL box went off-line for maintenance without a prior announcement of service disruption.
>>
>> I decided to add a line on my local version of MySQL as I considered how to handle this condition going forward.
>>
>> system("sudo systemctl status mysql", input = rstudioapi::askForPassword("sudo password"))
>>
>> system("sudo systemctl status mysql",input=readline("Enter Password: "))
>>
>>
>> Both fail for the same reason, saying I need a terminal.
>>
>>
>>> system("sudo systemctl status mysql", input = rstudioapi::askForPassword("sudo password"))
>> sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
>> sudo: a password is required
>>
>>
>>> system("sudo systemctl status mysql",input=readline("Enter Password: "))
>> Enter Password: ***REDACTED***
>> sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
>> sudo: a password is required
>>
>>
>> I can run the code segments for things like ls and pwd. So, there is something unique about systemctl and R that is beyond my understanding today.
>>
>> QUESTIONS
>> What is so special about systemctl and R in a system syntax statement?
>>
>> What are some of the best practices to confirm a box I am hitting for data with R , either local or across the network, has MySQL up and running?
>>
>>
>> Thanks,


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Oct  7 18:00:20 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 7 Oct 2023 19:00:20 +0300
Subject: [R] Confirming MySQL Alive
In-Reply-To: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
References: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
Message-ID: <20231007190020.01061fff@Tarkus>

? Sat, 7 Oct 2023 11:09:25 -0400
"Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:

> sudo: a terminal is required to read the password; either use the -S 
> option to read from standard input or configure an askpass helper
> sudo: a password is required

sudo is giving you a hint here. Normally it requires an interactive
terminal (that it can set up to disable character echo), but if you
give it the -S flag, it will be happy to read the password from stdin.

> What are some of the best practices to confirm a box I am hitting for
> data with R , either local or across the network, has MySQL up and
> running?

Wrap (a copy of) the connection code in try() or tryCatch() and see if
it fails.

If the MySQL DBI driver doesn't have a timeout option and can hang
indefinitely, you can try R.utils::withTimeout (implemented using
setTimeLimit(), so requires the DBI code to be interruptible / check
for interrupts). Alternatively, on a GNU/Linux box there's the timeout
utility (see `man 1 timeout`) that you could use together with the
`mysql` command-line client to try to establish the connection. Failing
everything else, there's socketConnection() to check whether anything
is listening on a given address and TCP port (but not for a UNIX domain
socket you would normally use to connect to the local server).

Beware of the time-of-check to time-of-use problem: a particularly
unlucky program could see a working MySQL server and then have it fail
later when it actually tries to work with it.

-- 
Best regards,
Ivan


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Oct  8 13:19:22 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 08 Oct 2023 04:19:22 -0700
Subject: [R] Is it possible to get a downward pointing solid triangle
 plotting symbol in R?
In-Reply-To: <7ce87259-83b0-41b8-a4a3-bfc3edc629be@psyctc.org>
References: <1166b665-5708-497a-9ab0-c9bf216946c2@psyctc.org>
 <019f75be-8b1d-4701-b4d8-f7564cba1739@sapo.pt>
 <F7E44F92-D788-4F8F-B86A-B3956FFC2E23@dcn.davis.ca.us>
 <62c6a315-e65e-4901-b055-8d7c0b1c7c9f@psyctc.org>
 <300D4998-8AF2-4085-A371-A7A65CD04814@dcn.davis.ca.us>
 <7ce87259-83b0-41b8-a4a3-bfc3edc629be@psyctc.org>
Message-ID: <33BD109B-E958-4089-A91E-374C37785AB4@dcn.davis.ca.us>

Ah, I accidentally replied only to you. I re-introduced the list here...

Maybe this [1] will help?

[1] https://coolbutuseless.github.io/2021/11/04/custom-ggplot2-point-shapes-with-gggrid/

On October 8, 2023 1:04:23 AM PDT, Chris Evans <chrishold at psyctc.org> wrote:
>
>On 07/10/2023 17:45, Jeff Newmiller wrote:
>> No, you seem to be missing the distinction between code points (numbers representing the semantics of a character) and the visible presentation of a character. Some graphics devices don't understand Unicode at all (e.g. pdf()) and not all fonts have glyphs for all code points.
>Thanks, that's helpful.? I think I have no illusions about that distinction but seem to have overvalued what it said in https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Encoding-issues. That doesn't alert to the issue with pdf() and fonts.? I did have a niggly feeling things couldn't be as easy as that seemed to imply.
>> Which is not to say you cannot get away with using this approach... but you will need to be prepared to deal with "it doesn't work" or "it looks wrong" complaints so documenting where it doesn't work (as you deal with such complaints?) may be advisable for your sanity. A solution that hardcoded three-sided polygons would avoid such concerns though it would be more tedious.
>
>And certainly beyond my limited programming capacities.? Hm, I suspect PDF output will be important to to some users, probably including myself, so if that won't handle this then I think I probably will go for the clumsy but seemingly usable workaround using ggnewscale at least for now.? I'll check out its output with the main graphic file outputs (probably not the correct term: pdf(), png() etc.) but I assume that as the fillable triangles are in the default R symbols they will come through to those various outputs.
>
>Was there a reason you replied only to me?? This seems the sort of clarification that I learn from watching the list: too trivial?? I would like to post it to the list but won't unless you are OK for me to do that.
>
>Many thanks again ...
>
>Chris
>
>> 
>> On October 7, 2023 8:18:24 AM PDT, Chris Evans via R-help<r-help at r-project.org>  wrote:
>>> SO helpful. Thanks to all.? I _think_ the answer to Jeff's question may be "It should only be problematical on R earlier than 2.10". At least,
>>> that's how I read this:
>>> 
>>> There is a portable way to have arbitrary text in character strings (only) in your R code, which is to supply them in Unicode as ?\uxxxx?
>>> escapes (or, rarely needed except for emojis, ?\Uxxxxxxxx? escapes). If there are any characters not in the current encoding the parser
>>> will encode the character string as UTF-8 and mark it as such. This applies also to character strings in datasets: they can be prepared
>>> using ?\uxxxx? escapes or encoded in UTF-8 in a UTF-8 locale, or even converted to UTF-8 /via/ |iconv()|. If you do this, make sure you have
>>> ?R (>= 2.10)? (or later) in the ?Depends? field of the DESCRIPTION file.
>>> 
>>> (Quoting fromhttps://cran.r-project.org/doc/manuals/r-release/R-exts.html#Encoding-issues. Thanks for that pointer Jan.)
>>> 
>>> ### using UTF to solve my issue (for R versions >= 2.10 I think)
>>> library(tidyverse)
>>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) %>%
>>>  ? mutate(y1 = y + 1,
>>>  ???????? y2 = y + 2) -> tmpTibPoints
>>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
>>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> tmpTibArea2
>>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> tmpTibArea3
>>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> tmpTibArea4
>>> bind_rows(tmpTibArea1,
>>>  ?????????? tmpTibArea2,
>>>  ?????????? tmpTibArea3,
>>>  ?????????? tmpTibArea4) -> tmpTibAreas
>>> 
>>> # Unicode characters for black up- and down-pointing characters
>>> pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
>>> pts_colors <- c("blue", "red") |> setNames(c("A", "B"))
>>> 
>>> pts_shapes
>>> 
>>> ggplot() +
>>>  ? ### this was the suggestion from Rui Barradas
>>>  ? geom_point(data = tmpTibPoints,
>>>  ???????????? aes(x = x, y = y, color = c, shape = c),
>>>  ???????????? size = 6) +
>>>  ? ### checking what happens using geom_text (for amusement really)
>>>  ? geom_text(data = tmpTibPoints,
>>>  ??????????? aes(x = x, y = y1, label = c)) +
>>>  ? ### and checking using the UTF characters in annotate() too (ditto)
>>>  ? annotate(geom = "text", x = 2.5, y = 8.5, label = paste(pts_shapes, collapse = "? ")) +
>>>  ? scale_shape_manual(values = pts_shapes) +
>>>  ? scale_color_manual(values = pts_colors)
>>> 
>>> Output attached.? Thanks to Jan and Rui particularly.? R-help providing wide and deep R education as ever.
>>> 
>>> 
>>> On 06/10/2023 17:05, Jeff Newmiller wrote:
>>>> Doesn't the outcome of this suggestion still depend on which fonts and output device you are using? ... and that is to some degree still system dependent...
>>>> 
>>>> On October 6, 2023 7:50:00 AM PDT, Rui Barradas<ruipbarradas at sapo.pt>  wrote:
>>>>> ?s 10:09 de 06/10/2023, Chris Evans via R-help escreveu:
>>>>>> The reason I am asking is that I would like to mark areas on a plot using geom_polygon() and aes(fill = variable) to fill various polygons forming the background of a plot with different colours. Then I would like to overlay that with points representing direction of change: improved, no reliable change, deteriorated. The obvious symbols to use for those three directions are an upward arrow, a circle or square and a downward pointing arrow.? There is a solid upward point triangle symbol in R (ph = 17) and there are both upward and downward pointing open triangle symbols (pch 21 and 25) but to fill those with a solid colour so they will be visible over the background requires that I use a fill aesthetic and that gets me a mess with the legend as I will have used a different fill mapping to fill the polygons.? This silly reprex shows the issue I think.
>>>>>> 
>>>>>> library(tidyverse)
>>>>>> tibble(x = 2:9, y = 2:9, c = c(rep("A", 5), rep("B", 3))) -> tmpTibPoints
>>>>>> tibble(x = c(1, 5, 5, 1), y = c(1, 1, 5, 5), a = rep("a", 4)) -> tmpTibArea1
>>>>>> tibble(x = c(5, 10, 10, 5), y = c(1, 1, 5, 5), a = rep("b", 4)) -> tmpTibArea2
>>>>>> tibble(x = c(1, 5, 5, 1), y = c(5, 5, 10, 10), a = rep("c", 4)) -> tmpTibArea3
>>>>>> tibble(x = c(5, 10, 10, 5), y = c(5, 5, 10, 10), a = rep("d", 4)) -> tmpTibArea4
>>>>>> bind_rows(tmpTibArea1,
>>>>>>    ????????? tmpTibArea2,
>>>>>>    ????????? tmpTibArea3,
>>>>>>    ????????? tmpTibArea4) -> tmpTibAreas
>>>>>> ggplot(data = tmpTib,
>>>>>>    ?????? aes(x = x, y = y)) +
>>>>>>    ? geom_polygon(data = tmpTibAreas,
>>>>>>    ?????????????? aes(x = x, y = y, fill = a)) +
>>>>>>    ? geom_point(data = tmpTibPoints,
>>>>>>    ???????????? aes(x = x, y = y, fill = c),
>>>>>>    ???????????? pch = 24,
>>>>>>    ???????????? size = 6)
>>>>>> 
>>>>>> Does anyone know a way to create a solid downward pointing symbol?? Or another workaround?
>>>>>> 
>>>>>> TIA,
>>>>>> 
>>>>>> Chris
>>>>>> 
>>>>> Hello,
>>>>> 
>>>>> Maybe you can solve the problem with unicode characters.
>>>>> See the two scale_*_manual at the end of the plot.
>>>>> 
>>>>> 
>>>>> 
>>>>> # Unicode characters for black up- and down-pointing characters
>>>>> pts_shapes <- c("\U25B2", "\U25BC") |> setNames(c("A", "B"))
>>>>> pts_colors <- c("blue", "red") |> setNames(c("A", "B"))
>>>>> 
>>>>> ggplot(data = tmpTibAreas,
>>>>>         aes(x = x, y = y)) +
>>>>>    geom_polygon(data = tmpTibAreas,
>>>>>                 aes(x = x, y = y, fill = a)) +
>>>>>    geom_point(data = tmpTibPoints,
>>>>>               aes(x = x, y = y, color = c, shape = c),
>>>>>               size = 6) +
>>>>>    scale_shape_manual(values = pts_shapes) +
>>>>>    scale_color_manual(values = pts_colors)
>>>>> 
>>>>> 
>>>>> 
>>>>> 

-- 
Sent from my phone. Please excuse my brevity.


From tr@xp|@yer @end|ng |rom gm@||@com  Mon Oct  9 00:00:35 2023
From: tr@xp|@yer @end|ng |rom gm@||@com (=?UTF-8?Q?Martin_M=C3=B8ller_Skarbiniks_Pedersen?=)
Date: Mon, 9 Oct 2023 00:00:35 +0200
Subject: [R] Confirming MySQL Alive
In-Reply-To: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
References: <21cebfe8-465f-c3aa-d71d-d1ae8b7886b5@shdawson.com>
Message-ID: <CAGAA5bejO6Bi1wq8C-DGmfvw0DZGkR-+mLTmofTWX+D+rpOcBg@mail.gmail.com>

You don't need sudo to run:
systemctl status

On Sat, Oct 7, 2023, 17:09 Stephen H. Dawson, DSL via R-help <
r-help at r-project.org> wrote:

> Hi,
>
>
> Getting some data from an older MySQL box. I had an event recently where
> the MySQL box went off-line for maintenance without a prior announcement
> of service disruption.
>
> I decided to add a line on my local version of MySQL as I considered how
> to handle this condition going forward.
>
> system("sudo systemctl status mysql", input =
> rstudioapi::askForPassword("sudo password"))
>
> system("sudo systemctl status mysql",input=readline("Enter Password: "))
>
>
> Both fail for the same reason, saying I need a terminal.
>
>
>  > system("sudo systemctl status mysql", input =
> rstudioapi::askForPassword("sudo password"))
> sudo: a terminal is required to read the password; either use the -S
> option to read from standard input or configure an askpass helper
> sudo: a password is required
>  >
>
>
>
>  > system("sudo systemctl status mysql",input=readline("Enter Password: "))
> Enter Password: ***REDACTED***
> sudo: a terminal is required to read the password; either use the -S
> option to read from standard input or configure an askpass helper
> sudo: a password is required
>  >
>
>
>
> I can run the code segments for things like ls and pwd. So, there is
> something unique about systemctl and R that is beyond my understanding
> today.
>
> QUESTIONS
> What is so special about systemctl and R in a system syntax statement?
>
> What are some of the best practices to confirm a box I am hitting for
> data with R , either local or across the network, has MySQL up and running?
>
>
> Thanks,
> --
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From george@|o|tu@ @end|ng |rom hotm@||@com  Tue Oct 10 00:56:50 2023
From: george@|o|tu@ @end|ng |rom hotm@||@com (George Loftus)
Date: Mon, 9 Oct 2023 22:56:50 +0000
Subject: [R] Text showing when R is launched
Message-ID: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>

Good Evening,

I was wondering if you were able to help, I am running R on MacOS, it is the 2020 model mac so have install the Intel arm of R which I believe is correct

However when I launch R or resume the R window after going on a different programme the following text is running

I have also copied and pasted for ease

1   HIToolbox                           0x00007ff82142e0c2 _ZN15MenuBarInstance22RemoveAutoShowObserverEv + 30
2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
20  R                                   0x0000000103d6466f Re_ReadConsole + 175
21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
24  R                                   0x0000000103d56718 main + 792
25  dyld                                0x00007ff8176d4310 start + 2432
1   HIToolbox                           0x00007ff8214a1726 _ZN15MenuBarInstance22EnsureAutoShowObserverEv + 102
2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
20  R                                   0x0000000103d6466f Re_ReadConsole + 175
21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
24  R                                   0x0000000103d56718 main + 792
25  dyld                                0x00007ff8176d4310 start + 2432

Are you able to inform me what is causing this? I can't seem to find any online help regarding this

Thankyou in advance,
George Loftus

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2023-10-09 at 23.52.26.png
Type: image/png
Size: 303665 bytes
Desc: Screenshot 2023-10-09 at 23.52.26.png
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20231009/15713bc1/attachment.png>

From @@h|mk@poor @end|ng |rom gm@||@com  Tue Oct 10 09:00:01 2023
From: @@h|mk@poor @end|ng |rom gm@||@com (Ashim Kapoor)
Date: Tue, 10 Oct 2023 12:30:01 +0530
Subject: [R] olsrr and substitute lm -> lmRob
Message-ID: <CAC8=1epOq24cAP9hUoHgLvxbecP7+aWTUw9+7uHHnCatz8B2HQ@mail.gmail.com>

Dear all,

I wish to use backward selection from the package olsrr.
?ols_step_backward_p
This gives me a model of class lm.
I wish to then run lmRob from the robust package on the SAME variables
ie I want to substitute lm -> lmRob in the function call which created
the lm model.

Here is a reprex:
----------------------------------------------------------------
library(olsrr)
library(robust)

myformula <- lm(mpg~.,data = mtcars)

# This is how I do backward selection.

chosen.model = ols_step_backward_p(myformula,details=F)

# Chosen model

chosen.model$model

# Not sure if this is the correct thing to do

lmRob(chosen.model$model)

--------------------------------------------------------------------------

My query is : is the above correct ? Do I need to do some meta
programming and substitute lm with lmRob ?
I am not sure how I would do that in this context using the
?substitute function perhaps ?

Many thanks,
Ashim


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Oct 10 10:38:04 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 10 Oct 2023 11:38:04 +0300
Subject: [R] Text showing when R is launched
In-Reply-To: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
References: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
Message-ID: <20231010113804.34e70168@Tarkus>

On Mon, 9 Oct 2023 22:56:50 +0000
George Loftus <george.loftus at hotmail.com> wrote:

> However when I launch R or resume the R window after going on a
> different programme the following text is running

Do you have anything valuable stored in /Users/admin/.RData? Does the
message disappear if you move the file away?

If you don't get your problem solved here, try asking at
R-SIG-Mac at r-project.org.
 
> I have also copied and pasted for ease

Thank you for doing that! This is exactly the right thing to do.

-- 
Best regards,
Ivan


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Oct 10 13:06:06 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 10 Oct 2023 12:06:06 +0100
Subject: [R] Text showing when R is launched
In-Reply-To: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
References: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
Message-ID: <f6182acb-d4b0-408c-bdf0-4a3476bcc0c9@sapo.pt>

?s 23:56 de 09/10/2023, George Loftus escreveu:
> Good Evening,
> 
> I was wondering if you were able to help, I am running R on MacOS, it is the 2020 model mac so have install the Intel arm of R which I believe is correct
> 
> However when I launch R or resume the R window after going on a different programme the following text is running
> 
> I have also copied and pasted for ease
> 
> 1   HIToolbox                           0x00007ff82142e0c2 _ZN15MenuBarInstance22RemoveAutoShowObserverEv + 30
> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
> 24  R                                   0x0000000103d56718 main + 792
> 25  dyld                                0x00007ff8176d4310 start + 2432
> 1   HIToolbox                           0x00007ff8214a1726 _ZN15MenuBarInstance22EnsureAutoShowObserverEv + 102
> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
> 24  R                                   0x0000000103d56718 main + 792
> 25  dyld                                0x00007ff8176d4310 start + 2432
> 
> Are you able to inform me what is causing this? I can't seem to find any online help regarding this
> 
> Thankyou in advance,
> George Loftus
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Try deleting file

/Users/admin/.RData


It is restoring the previous session and this is many times a source for 
problems.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From @@b|ne@br@un @end|ng |rom |@p@ch  Tue Oct 10 17:34:37 2023
From: @@b|ne@br@un @end|ng |rom |@p@ch (Sabine Braun)
Date: Tue, 10 Oct 2023 17:34:37 +0200
Subject: [R] Problem with compatible library versions
Message-ID: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>

On the github website I have reported several bugs with new versions of 
the tidyverse group (probably dplyr) which prevent me from using R 
normally. I wanted to go back to older versions but this seems not bo be 
easy. I downloaded R 4.1.2. and Rtools 40 but the library versions 
installed are still the newest ones. I was able to install dplyr 1.0.7. 
manually but there are error messages on incompatibility when loading 
this version. Is there a possibility to load older library versions 
which alre compatible ?

Thank you very much!

Best regards

Sabine Braun


-- 
------------------------------------------------------------------------

Dr. Sabine Braun
Leitung

www.iap.ch <https://www.iap.ch/>

Institut f?r Angewandte Pflanzenbiologie (IAP) AG
Benkenstrasse 254a
CH-4108 Witterswil
++41 (0)61 485 50 71
++41 (0)79 696 69 85

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Wed Oct 11 09:58:21 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Wed, 11 Oct 2023 09:58:21 +0200
Subject: [R] Problem with compatible library versions
In-Reply-To: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
Message-ID: <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>


On 10.10.2023 17:34, Sabine Braun wrote:
> On the github website I have reported several bugs with new versions of
> the tidyverse group (probably dplyr) which prevent me from using R
> normally. I wanted to go back to older versions but this seems not bo be
> easy. I downloaded R 4.1.2. and Rtools 40 but the library versions

So this is on Windows.

Actually, if you install R-4.1.2 and use a clean library and install 
binaries, then you should get binary installation from CRAN that fit to 
the R-4.1.x series.

If you want to install older package versions, then you have to install 
these one by one from sources, unfortunately.

Best,
Uwe Ligges



> installed are still the newest ones. I was able to install dplyr 1.0.7.
> manually but there are error messages on incompatibility when loading
> this version. Is there a possibility to load older library versions
> which alre compatible ?
> 
> Thank you very much!
> 
> Best regards
> 
> Sabine Braun
> 
>


From r@oknz @end|ng |rom gm@||@com  Wed Oct 11 14:08:19 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 12 Oct 2023 01:08:19 +1300
Subject: [R] Problem with compatible library versions
In-Reply-To: <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
 <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
Message-ID: <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>

There is a fairly straightforward way to load older versions
of packages, and that is to use the 'groundhog' package.
As the first sentence of https://groundhogr.com/ puts it:
   Make your R scripts reproducible by replacing library(pkg)
   with groundhog.library(pkg, date).

pkg can be a vector of package names or a single name.

On Wed, 11 Oct 2023 at 20:58, Uwe Ligges <ligges at statistik.tu-dortmund.de>
wrote:
>
>
> On 10.10.2023 17:34, Sabine Braun wrote:
> > On the github website I have reported several bugs with new versions of
> > the tidyverse group (probably dplyr) which prevent me from using R
> > normally. I wanted to go back to older versions but this seems not bo be
> > easy. I downloaded R 4.1.2. and Rtools 40 but the library versions
>
> So this is on Windows.
>
> Actually, if you install R-4.1.2 and use a clean library and install
> binaries, then you should get binary installation from CRAN that fit to
> the R-4.1.x series.
>
> If you want to install older package versions, then you have to install
> these one by one from sources, unfortunately.
>
> Best,
> Uwe Ligges
>
>
>
> > installed are still the newest ones. I was able to install dplyr 1.0.7.
> > manually but there are error messages on incompatibility when loading
> > this version. Is there a possibility to load older library versions
> > which alre compatible ?
> >
> > Thank you very much!
> >
> > Best regards
> >
> > Sabine Braun
> >
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed Oct 11 14:54:04 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 11 Oct 2023 12:54:04 +0000
Subject: [R] Problem with compatible library versions
In-Reply-To: <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
 <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
 <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
Message-ID: <CH3PR22MB451484A223AA3C0CA4F7A33ACFCCA@CH3PR22MB4514.namprd22.prod.outlook.com>

Is that a method where a program that I write today would still run without changes in 10 years?
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Wednesday, October 11, 2023 8:08 AM
To: Uwe Ligges <ligges at statistik.tu-dortmund.de>
Cc: r-help at r-project.org
Subject: Re: [R] Problem with compatible library versions

[External Email]

There is a fairly straightforward way to load older versions of packages, and that is to use the 'groundhog' package.
As the first sentence of https://groundhogr.com/ puts it:
   Make your R scripts reproducible by replacing library(pkg)
   with groundhog.library(pkg, date).

pkg can be a vector of package names or a single name.

On Wed, 11 Oct 2023 at 20:58, Uwe Ligges <ligges at statistik.tu-dortmund.de>
wrote:
>
>
> On 10.10.2023 17:34, Sabine Braun wrote:
> > On the github website I have reported several bugs with new versions
> > of the tidyverse group (probably dplyr) which prevent me from using
> > R normally. I wanted to go back to older versions but this seems not
> > bo be easy. I downloaded R 4.1.2. and Rtools 40 but the library
> > versions
>
> So this is on Windows.
>
> Actually, if you install R-4.1.2 and use a clean library and install
> binaries, then you should get binary installation from CRAN that fit
> to the R-4.1.x series.
>
> If you want to install older package versions, then you have to
> install these one by one from sources, unfortunately.
>
> Best,
> Uwe Ligges
>
>
>
> > installed are still the newest ones. I was able to install dplyr 1.0.7.
> > manually but there are error messages on incompatibility when
> > loading this version. Is there a possibility to load older library
> > versions which alre compatible ?
> >
> > Thank you very much!
> >
> > Best regards
> >
> > Sabine Braun
> >
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C86c81ebb0b184971b4eb08dbca52d5b3%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638326229351781447%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=kEpdr7GlTQwcaKCMfI0NJfWXrgCshp5DVALyiu%2FHG4I%3D&reserved=0
> PLEASE do read the posting guide
http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Wed Oct 11 18:43:20 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Wed, 11 Oct 2023 18:43:20 +0200
Subject: [R] Problem with compatible library versions
In-Reply-To: <CH3PR22MB451484A223AA3C0CA4F7A33ACFCCA@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
 <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
 <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
 <CH3PR22MB451484A223AA3C0CA4F7A33ACFCCA@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <8f28f0f1-12ca-572f-8907-2769bcab9c91@statistik.tu-dortmund.de>

No.

In 10 years you may have different hardware and a different OS, so that 
the old R and old packages won't run on the new hardware or produce 
different results. This may even happen for some sort of containers and 
virtualizations.

To be really safe, you ideally need to keep the whole system as is (but 
then there are security updates etc).

Best,
Uwe Ligges




On 11.10.2023 14:54, Ebert,Timothy Aaron wrote:
> Is that a method where a program that I write today would still run without changes in 10 years?
> Tim
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
> Sent: Wednesday, October 11, 2023 8:08 AM
> To: Uwe Ligges <ligges at statistik.tu-dortmund.de>
> Cc: r-help at r-project.org
> Subject: Re: [R] Problem with compatible library versions
> 
> [External Email]
> 
> There is a fairly straightforward way to load older versions of packages, and that is to use the 'groundhog' package.
> As the first sentence of https://groundhogr.com/ puts it:
>     Make your R scripts reproducible by replacing library(pkg)
>     with groundhog.library(pkg, date).
> 
> pkg can be a vector of package names or a single name.
> 
> On Wed, 11 Oct 2023 at 20:58, Uwe Ligges <ligges at statistik.tu-dortmund.de>
> wrote:
>>
>>
>> On 10.10.2023 17:34, Sabine Braun wrote:
>>> On the github website I have reported several bugs with new versions
>>> of the tidyverse group (probably dplyr) which prevent me from using
>>> R normally. I wanted to go back to older versions but this seems not
>>> bo be easy. I downloaded R 4.1.2. and Rtools 40 but the library
>>> versions
>>
>> So this is on Windows.
>>
>> Actually, if you install R-4.1.2 and use a clean library and install
>> binaries, then you should get binary installation from CRAN that fit
>> to the R-4.1.x series.
>>
>> If you want to install older package versions, then you have to
>> install these one by one from sources, unfortunately.
>>
>> Best,
>> Uwe Ligges
>>
>>
>>
>>> installed are still the newest ones. I was able to install dplyr 1.0.7.
>>> manually but there are error messages on incompatibility when
>>> loading this version. Is there a possibility to load older library
>>> versions which alre compatible ?
>>>
>>> Thank you very much!
>>>
>>> Best regards
>>>
>>> Sabine Braun
>>>
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat/
>> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
>> %7C86c81ebb0b184971b4eb08dbca52d5b3%7C0d4da0f84a314d76ace60a62331e1b84
>> %7C0%7C0%7C638326229351781447%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>> ta=kEpdr7GlTQwcaKCMfI0NJfWXrgCshp5DVALyiu%2FHG4I%3D&reserved=0
>> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
>          [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct 11 20:46:12 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 11 Oct 2023 19:46:12 +0100
Subject: [R] Text showing when R is launched
In-Reply-To: <DB9P192MB11936E16904B227683007287EBCCA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
References: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
 <f6182acb-d4b0-408c-bdf0-4a3476bcc0c9@sapo.pt>
 <DB9P192MB11936E16904B227683007287EBCCA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
Message-ID: <089c10a9-085c-49d6-a2b9-e7d6c448f909@sapo.pt>

?s 19:21 de 11/10/2023, George Loftus escreveu:
> Hi,
> 
> Thankyou for your response
> 
> <https://1drv.ms/i/s!AkfoLX--ikbqkweYckSQiXYKXJuR>
> [https://9c11xq.db.files.1drv.com/y4m7xqt5yVu7b5IG1jFuopunwB7Oa9Eij0WeZ7p1lSSmBECcSIB3XjcKjXIUhdMrJwaJdjZnBRhMeAxY0_Kko06Nq1fm5IhqaHlT6aFeI3R7gicXCteRPkzqNwmCdVxZu5DhNq66IrpwDyQ1lr8E5OFdm_xL86pMgNSLAx5HRRKLPOmFdUFWdv1ID-D1PC6LvNvAB-rT87JiQonSHRJIHouLg?width=200&height=150&cropmode=center]
> [https://res-h3.public.cdn.office.net/assets/mail/file-icon/png/cloud_blue_16x16.png]Screenshot 2023-10-11 at 19.19.48.png
> ?
> 
> However this is all that exists in Users/Admin
> 
> There were a couple of R files in there which I have since deleted but I am still getting the same issue
> 
> Thankyou,
> George
> 
> ________________________________
> From: Rui Barradas <ruipbarradas at sapo.pt>
> Sent: 10 October 2023 12:06
> To: George Loftus <george.loftus at hotmail.com>; r-help at r-project.org <r-help at r-project.org>
> Subject: Re: [R] Text showing when R is launched
> 
> ?s 23:56 de 09/10/2023, George Loftus escreveu:
>> Good Evening,
>>
>> I was wondering if you were able to help, I am running R on MacOS, it is the 2020 model mac so have install the Intel arm of R which I believe is correct
>>
>> However when I launch R or resume the R window after going on a different programme the following text is running
>>
>> I have also copied and pasted for ease
>>
>> 1   HIToolbox                           0x00007ff82142e0c2 _ZN15MenuBarInstance22RemoveAutoShowObserverEv + 30
>> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
>> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
>> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
>> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
>> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
>> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
>> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
>> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
>> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
>> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
>> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
>> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
>> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
>> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
>> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
>> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
>> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
>> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
>> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
>> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
>> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
>> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
>> 24  R                                   0x0000000103d56718 main + 792
>> 25  dyld                                0x00007ff8176d4310 start + 2432
>> 1   HIToolbox                           0x00007ff8214a1726 _ZN15MenuBarInstance22EnsureAutoShowObserverEv + 102
>> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
>> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
>> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
>> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
>> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
>> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
>> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
>> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
>> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
>> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
>> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
>> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
>> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
>> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
>> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
>> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
>> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
>> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
>> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
>> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
>> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
>> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
>> 24  R                                   0x0000000103d56718 main + 792
>> 25  dyld                                0x00007ff8176d4310 start + 2432
>>
>> Are you able to inform me what is causing this? I can't seem to find any online help regarding this
>>
>> Thankyou in advance,
>> George Loftus
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://emea01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=FJRpNfDJgXVD6Sg4YDGNvZRs47%2FrLg1EC7ldKLI4PSk%3D&reserved=0<https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide https://emea01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=kF2bZEZpc9OTbZZon3sRvgWyXjmgzR0ycvu83FTRlsw%3D&reserved=0<http://www.r-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> Try deleting file
> 
> /Users/admin/.RData
> 
> 
> It is restoring the previous session and this is many times a source for
> problems.
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> --
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
> https://emea01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.avg.com%2F&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=x%2B2dQ%2BmBdBURO9pcQJPIfk%2FWhoFgIc8f5VGsIkO7ZCY%3D&reserved=0<http://www.avg.com/>
> 
Hello,

Look at the screenshot attached to your original post. RIght before the 
red text there are two lines:

[Workspace restored from /Users/admin/.RData]
[History restored from /Users/admin/.Rapp.history]


It's the first of these two, the .RData line that you want.
Close R, delete that file and restart R to see if the error persists.

(Since it's a file starting with a period it may not appear in a 
directory listing.)

If this doesn't solve the problem, maybe try the R-SIG-Mac [1] list.

[1] https://stat.ethz.ch/mailman/listinfo/r-sig-mac


Hope this helps,

Rui Barradas


From george@|o|tu@ @end|ng |rom hotm@||@com  Wed Oct 11 20:21:48 2023
From: george@|o|tu@ @end|ng |rom hotm@||@com (George Loftus)
Date: Wed, 11 Oct 2023 18:21:48 +0000
Subject: [R] Text showing when R is launched
In-Reply-To: <f6182acb-d4b0-408c-bdf0-4a3476bcc0c9@sapo.pt>
References: <DB9P192MB1193D24A6FB1A772D6EC833BEBCEA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>
 <f6182acb-d4b0-408c-bdf0-4a3476bcc0c9@sapo.pt>
Message-ID: <DB9P192MB11936E16904B227683007287EBCCA@DB9P192MB1193.EURP192.PROD.OUTLOOK.COM>

Hi,

Thankyou for your response

<https://1drv.ms/i/s!AkfoLX--ikbqkweYckSQiXYKXJuR>
[https://9c11xq.db.files.1drv.com/y4m7xqt5yVu7b5IG1jFuopunwB7Oa9Eij0WeZ7p1lSSmBECcSIB3XjcKjXIUhdMrJwaJdjZnBRhMeAxY0_Kko06Nq1fm5IhqaHlT6aFeI3R7gicXCteRPkzqNwmCdVxZu5DhNq66IrpwDyQ1lr8E5OFdm_xL86pMgNSLAx5HRRKLPOmFdUFWdv1ID-D1PC6LvNvAB-rT87JiQonSHRJIHouLg?width=200&height=150&cropmode=center]
[https://res-h3.public.cdn.office.net/assets/mail/file-icon/png/cloud_blue_16x16.png]Screenshot 2023-10-11 at 19.19.48.png
?

However this is all that exists in Users/Admin

There were a couple of R files in there which I have since deleted but I am still getting the same issue

Thankyou,
George

________________________________
From: Rui Barradas <ruipbarradas at sapo.pt>
Sent: 10 October 2023 12:06
To: George Loftus <george.loftus at hotmail.com>; r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Text showing when R is launched

?s 23:56 de 09/10/2023, George Loftus escreveu:
> Good Evening,
>
> I was wondering if you were able to help, I am running R on MacOS, it is the 2020 model mac so have install the Intel arm of R which I believe is correct
>
> However when I launch R or resume the R window after going on a different programme the following text is running
>
> I have also copied and pasted for ease
>
> 1   HIToolbox                           0x00007ff82142e0c2 _ZN15MenuBarInstance22RemoveAutoShowObserverEv + 30
> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
> 24  R                                   0x0000000103d56718 main + 792
> 25  dyld                                0x00007ff8176d4310 start + 2432
> 1   HIToolbox                           0x00007ff8214a1726 _ZN15MenuBarInstance22EnsureAutoShowObserverEv + 102
> 2   HIToolbox                           0x00007ff82146a638 _ZL17BroadcastInternaljPvh + 167
> 3   SkyLight                            0x00007ff81c70f23d _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ + 1030
> 4   SkyLight                            0x00007ff81ca2205a _ZN21CGSDatagramReadStream26dispatchMainQueueDatagramsEv + 202
> 5   SkyLight                            0x00007ff81ca21f81 ___ZN21CGSDatagramReadStream15mainQueueWakeupEv_block_invoke + 18
> 6   libdispatch.dylib                   0x00007ff8178867fb _dispatch_call_block_and_release + 12
> 7   libdispatch.dylib                   0x00007ff817887a44 _dispatch_client_callout + 8
> 8   libdispatch.dylib                   0x00007ff8178947b9 _dispatch_main_queue_drain + 952
> 9   libdispatch.dylib                   0x00007ff8178943f3 _dispatch_main_queue_callback_4CF + 31
> 10  CoreFoundation                      0x00007ff817b215f0 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
> 11  CoreFoundation                      0x00007ff817ae1b70 __CFRunLoopRun + 2454
> 12  CoreFoundation                      0x00007ff817ae0b60 CFRunLoopRunSpecific + 560
> 13  HIToolbox                           0x00007ff82142e766 RunCurrentEventLoopInMode + 292
> 14  HIToolbox                           0x00007ff82142e576 ReceiveNextEventCommon + 679
> 15  HIToolbox                           0x00007ff82142e2b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70
> 16  AppKit                              0x00007ff81ac31293 _DPSNextEvent + 909
> 17  AppKit                              0x00007ff81ac30114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219
> 18  R                                   0x0000000103d60c76 -[RController doProcessEvents:] + 166
> 19  R                                   0x0000000103d5b295 -[RController handleReadConsole:] + 149
> 20  R                                   0x0000000103d6466f Re_ReadConsole + 175
> 21  libR.dylib                          0x0000000104442154 R_ReplDLLdo1 + 148
> 22  R                                   0x0000000103d71c47 run_REngineRmainloop + 263
> 23  R                                   0x0000000103d66d5f -[REngine runREPL] + 143
> 24  R                                   0x0000000103d56718 main + 792
> 25  dyld                                0x00007ff8176d4310 start + 2432
>
> Are you able to inform me what is causing this? I can't seem to find any online help regarding this
>
> Thankyou in advance,
> George Loftus
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://emea01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=FJRpNfDJgXVD6Sg4YDGNvZRs47%2FrLg1EC7ldKLI4PSk%3D&reserved=0<https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide https://emea01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=kF2bZEZpc9OTbZZon3sRvgWyXjmgzR0ycvu83FTRlsw%3D&reserved=0<http://www.r-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Try deleting file

/Users/admin/.RData


It is restoring the previous session and this is many times a source for
problems.

Hope this helps,

Rui Barradas


--
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
https://emea01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.avg.com%2F&data=05%7C01%7C%7C043f535fc4ba4d3e00cd08dbc980ec8c%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638325327788856734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=x%2B2dQ%2BmBdBURO9pcQJPIfk%2FWhoFgIc8f5VGsIkO7ZCY%3D&reserved=0<http://www.avg.com/>

	[[alternative HTML version deleted]]


From |@rchuby @end|ng |rom gm@||@com  Thu Oct 12 16:25:11 2023
From: |@rchuby @end|ng |rom gm@||@com (Fernando Archuby)
Date: Thu, 12 Oct 2023 11:25:11 -0300
Subject: [R] Linear discriminant analysis
Message-ID: <CAE09ejdw5Bz2zNjmJZwgHUajG4M39mFaaSddxrE7F1Sb-kTJOg@mail.gmail.com>

Hi.
I have successfully performed the discriminant analysis with the lda
function, I can classify new individuals with the predict function, but I
cannot figure out how the lda results translate into the classification
decision. That is, I don't realize how the classification equation for new
individuals is constructed from the lda output. I want to understand it but
also, I need to communicate it and provide a mechanism for other colleagues
to make classifications with their data.
Thank you very much,
Fernando

-- 

*Dr. Fernando M. Archuby*
CONICET-UNLP
Tel?fono Personal: +54-221-15-6129667.
farchuby at gmail.com
paleobiologia at gmail.com

	[[alternative HTML version deleted]]


From bbo|ker @end|ng |rom gm@||@com  Thu Oct 12 22:00:14 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 12 Oct 2023 16:00:14 -0400
Subject: [R] Linear discriminant analysis
In-Reply-To: <CAE09ejdw5Bz2zNjmJZwgHUajG4M39mFaaSddxrE7F1Sb-kTJOg@mail.gmail.com>
References: <CAE09ejdw5Bz2zNjmJZwgHUajG4M39mFaaSddxrE7F1Sb-kTJOg@mail.gmail.com>
Message-ID: <c19cec27-ed43-4b8a-b39c-6544d34e066f@gmail.com>

   It's possible that neither of these will help, but

(1) you can look at the source code of the predict method 
(MASS:::predict.lda)

(2) you can look at the source reference ("Modern Applied Statistics in 
S", Venables and Ripley) to see if it gives more information (although 
it might not); there's a chance that you can get the information you 
need via a google books search

On 2023-10-12 10:25 a.m., Fernando Archuby wrote:
> Hi.
> I have successfully performed the discriminant analysis with the lda
> function, I can classify new individuals with the predict function, but I
> cannot figure out how the lda results translate into the classification
> decision. That is, I don't realize how the classification equation for new
> individuals is constructed from the lda output. I want to understand it but
> also, I need to communicate it and provide a mechanism for other colleagues
> to make classifications with their data.
> Thank you very much,
> Fernando
>


From bog@@o@chr|@to|er @end|ng |rom gm@||@com  Thu Oct 12 22:22:03 2023
From: bog@@o@chr|@to|er @end|ng |rom gm@||@com (Christofer Bogaso)
Date: Fri, 13 Oct 2023 01:52:03 +0530
Subject: [R] if-else that returns vector
Message-ID: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>

Hi,

Following expression returns only the first element

ifelse(T, c(1,2,3), c(5,6))

However I am looking for some one-liner expression like above which
will return the entire vector.

Is there any way to achieve this?


From bbo|ker @end|ng |rom gm@||@com  Thu Oct 12 22:26:56 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 12 Oct 2023 16:26:56 -0400
Subject: [R] if-else that returns vector
In-Reply-To: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
References: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
Message-ID: <0bdfa8c3-1a34-42dd-ae7e-995e268dcd47@gmail.com>

  how about

if(T) c(1,2,3) else c(5,6)

?

On 2023-10-12 4:22 p.m., Christofer Bogaso wrote:
> Hi,
> 
> Following expression returns only the first element
> 
> ifelse(T, c(1,2,3), c(5,6))
> 
> However I am looking for some one-liner expression like above which
> will return the entire vector.
> 
> Is there any way to achieve this?
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct 12 22:33:01 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 12 Oct 2023 13:33:01 -0700
Subject: [R] if-else that returns vector
In-Reply-To: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
References: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
Message-ID: <3AA61C88-D88F-4C2B-AB42-BFCCB19A160E@dcn.davis.ca.us>

What a strange question... ifelse returns a vector (all data in R is vectors... some have length 1, but length zero is also possible, as are longer vectors) that is exactly as long as the logical vector that you give it, filled with elements from the respective positions in the vectors supplied in the second and third arguments. Because your logical vector is length 1, you only get a vector with the first element of the second argument.

If you want to choose between one of two vectors considered wholly, then "if" is what you need:

result <- if (TRUE) c(1,2,3) else c(5,6)


On October 12, 2023 1:22:03 PM PDT, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>Hi,
>
>Following expression returns only the first element
>
>ifelse(T, c(1,2,3), c(5,6))
>
>However I am looking for some one-liner expression like above which
>will return the entire vector.
>
>Is there any way to achieve this?
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct 12 22:35:01 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 12 Oct 2023 21:35:01 +0100
Subject: [R] if-else that returns vector
In-Reply-To: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
References: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
Message-ID: <4f3be2e0-ff17-47f8-ab72-eba3f0f741ff@sapo.pt>

?s 21:22 de 12/10/2023, Christofer Bogaso escreveu:
> Hi,
> 
> Following expression returns only the first element
> 
> ifelse(T, c(1,2,3), c(5,6))
> 
> However I am looking for some one-liner expression like above which
> will return the entire vector.
> 
> Is there any way to achieve this?
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

I don't like it but


ifelse(rep(T, length(c(1,2,3))), c(1,2,3), c(5,6))


maybe you should use


max(length(c(1, 2, 3)), length(5, 6)))


instead, but it's still ugly.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Fri Oct 13 00:06:55 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Fri, 13 Oct 2023 00:06:55 +0200
Subject: [R] Linear discriminant analysis
In-Reply-To: <CAE09ejdw5Bz2zNjmJZwgHUajG4M39mFaaSddxrE7F1Sb-kTJOg@mail.gmail.com>
References: <CAE09ejdw5Bz2zNjmJZwgHUajG4M39mFaaSddxrE7F1Sb-kTJOg@mail.gmail.com>
Message-ID: <6c3267b8-dd53-a773-078b-307dad0544c7@statistik.tu-dortmund.de>



On 12.10.2023 16:25, Fernando Archuby wrote:
> Hi.
> I have successfully performed the discriminant analysis with the lda
> function, I can classify new individuals with the predict function, but I
> cannot figure out how the lda results translate into the classification
> decision. That is, I don't realize how the classification equation for new
> individuals is constructed from the lda output. I want to understand it but
> also, I need to communicate it and provide a mechanism for other colleagues
> to make classifications with their data.
> Thank you very much,
> Fernando
> 


Do you want to know the principles of the theory behind LDA? That is 
available in lots of textbooks.

Do you want the implementation detials of MASS::lda()?
That is hard. It is based (but does not follow in all details) on a 
paper by Nils Hjort from Norway.
A former student of mine, Swetlana Herbrandt, has analysed and reverse 
engineered the code and wrote down the theory in a German thesis. The 
implementation uses some nice tricks to get numerically rather stable 
results that are typically not mentioned in any textbook.

Do you really want to do prediction with LDA?
I typically look at classificatuion performance of LDA as a reference to 
compare better and more modern techniques with.

I think you should ask some trained local statistician for advise on 
both, the LDA theory and for prediction in general.

Best,
Uwe Ligges


From r@oknz @end|ng |rom gm@||@com  Fri Oct 13 05:35:03 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 13 Oct 2023 16:35:03 +1300
Subject: [R] Problem with compatible library versions
In-Reply-To: <CH3PR22MB451484A223AA3C0CA4F7A33ACFCCA@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
 <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
 <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
 <CH3PR22MB451484A223AA3C0CA4F7A33ACFCCA@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <CABcYAdLr2x26qFNp_gRe56haUXseZ4gk5q2OMuhWodnXYOYUCQ@mail.gmail.com>

The purpose of 'groundhog' is to support reproducible research.
As Uwe Ligges pointed out, there are practical limits to that.
Since I am typing this on a 10-year-old machine, it's clearly
feasible in *some* instances, but as an illustration of Uwe's
point, Ubuntu still supports 32-bit applications, but it does
not support 32-bit x86 hardware (since 20.04 IIRC).

I think it is fair to say that 'groundhog' *supports*
reproducible research, but nothing can *guarantee* it.


On Thu, 12 Oct 2023 at 01:54, Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

> Is that a method where a program that I write today would still run
> without changes in 10 years?
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
> Sent: Wednesday, October 11, 2023 8:08 AM
> To: Uwe Ligges <ligges at statistik.tu-dortmund.de>
> Cc: r-help at r-project.org
> Subject: Re: [R] Problem with compatible library versions
>
> [External Email]
>
> There is a fairly straightforward way to load older versions of packages,
> and that is to use the 'groundhog' package.
> As the first sentence of https://groundhogr.com/ puts it:
>    Make your R scripts reproducible by replacing library(pkg)
>    with groundhog.library(pkg, date).
>
> pkg can be a vector of package names or a single name.
>
> On Wed, 11 Oct 2023 at 20:58, Uwe Ligges <ligges at statistik.tu-dortmund.de>
> wrote:
> >
> >
> > On 10.10.2023 17:34, Sabine Braun wrote:
> > > On the github website I have reported several bugs with new versions
> > > of the tidyverse group (probably dplyr) which prevent me from using
> > > R normally. I wanted to go back to older versions but this seems not
> > > bo be easy. I downloaded R 4.1.2. and Rtools 40 but the library
> > > versions
> >
> > So this is on Windows.
> >
> > Actually, if you install R-4.1.2 and use a clean library and install
> > binaries, then you should get binary installation from CRAN that fit
> > to the R-4.1.x series.
> >
> > If you want to install older package versions, then you have to
> > install these one by one from sources, unfortunately.
> >
> > Best,
> > Uwe Ligges
> >
> >
> >
> > > installed are still the newest ones. I was able to install dplyr 1.0.7.
> > > manually but there are error messages on incompatibility when
> > > loading this version. Is there a possibility to load older library
> > > versions which alre compatible ?
> > >
> > > Thank you very much!
> > >
> > > Best regards
> > >
> > > Sabine Braun
> > >
> > >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat/
> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> > %7C86c81ebb0b184971b4eb08dbca52d5b3%7C0d4da0f84a314d76ace60a62331e1b84
> > %7C0%7C0%7C638326229351781447%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > ta=kEpdr7GlTQwcaKCMfI0NJfWXrgCshp5DVALyiu%2FHG4I%3D&reserved=0
> > PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Fri Oct 13 06:55:47 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Fri, 13 Oct 2023 17:55:47 +1300
Subject: [R] if-else that returns vector
In-Reply-To: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
References: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
Message-ID: <CABcYAdKp4LemtkF8m7arJbJUYz3BcgP6yLMCZQvUD5P_hpsbSg@mail.gmail.com>

?ifelse
'ifelse' returns a value with the same shape as 'test' which is
     filled with elements selected from either 'yes' or 'no' depending
     on whether the element of 'test' is 'TRUE' or 'FALSE'.

This is actually rather startling, because elsewhere in the
S (R) language, operands are normally replicated to the length
of the longer.  Thus
    c(1,2,3)*10 + c(5,6)
first (notionally) replicates 10 to c(10,10,10)
and then c(5,6) to c(5,6,5), yielding c(15,26,35).
And this *does* happen, sort of.
> ifelse(c(F,T,F), c(1,2,3), c(5,6))
=> 5 2 5.
But it *doesn't* apply to the test.

There's another surprise.  Years ago I expected that
all three arguments would be evaluated, then length
adjusted, and then processing would be done.
But the 2nd argument is evaluated (in full) if and only
if some element of the test is true,
and the 3rd argument is evaluated (in full) if and oly
if some element of the test is false.
ifelse(c(NA,NA), stop("true"), stop("false"))
=> c(NA,NA).

At any rate, what you want is if (<test>) <tp> else <fp>



On Fri, 13 Oct 2023 at 09:22, Christofer Bogaso <bogaso.christofer at gmail.com>
wrote:

> Hi,
>
> Following expression returns only the first element
>
> ifelse(T, c(1,2,3), c(5,6))
>
> However I am looking for some one-liner expression like above which
> will return the entire vector.
>
> Is there any way to achieve this?
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From n|ckmwr@y @end|ng |rom gm@||@com  Fri Oct 13 10:11:25 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Fri, 13 Oct 2023 09:11:25 +0100
Subject: [R] rnrfa package problems
Message-ID: <CABxY9BPXijj-OePW3tknySvvjoXmB2y-BTaczE7vnYTUjqtqwg@mail.gmail.com>

R help email

Hello  I?m trying to work my way through the rnrfa package

RJ-2016-036.pdf (r-project.org)
<https://journal.r-project.org/archive/2016/RJ-2016-036/RJ-2016-036.pdf>

I?ve got it loaded OK and can access the data by the catalogue() command -
gives me a tibble with names, grid refs etc

allStations <- catalogue()

allStations

This works OK



But when I try to run the example codes there are various problems

The code is lifted directly from the document btw it?s not mine

This bit to convert gives an error message:

# Option a: from OS grid reference to WGS84 >

osg_parse(gridRef = "NC581062", CoordSystem = "WGS84")

 # Option b: from OS grid reference to BNG

osg_parse(gridRef = "NC581062", CoordSystem = "BNG")

##

osg_parse seems to be built into the rnrfa package so I don?t know why it
doesn?t work?




Then this bounding box code works but doesn?t seem to capture any stations
although rubric says that it should capture stations in mid Wales - the
tibble is empty

# Define a bounding box.

bbox <- list(lonMin = -3.76, latMin = 52.43, lonMax = -3.67, latMax = 52.48)




The ggmap code following gives an error ? this may be because the bbox data
is empty but I?m not sure  The needed packages are loaded:

library(ggmap)

library(ggrepel)

m <- get_map(location = as.numeric(bbox), maptype = 'terrain')

ggmap(m) + geom_point(data = someStations, aes(x = lon, y = lat),

                        + col = "red", size = 3, alpha = 0.5) +

geom_text_repel(data = someStations, aes(x = lon, y = lat, label = name),

                    + size = 3, col = "red")




I thought that I?d try the next bit to see anyway:

# Select stations with more than 100 years of recordings.

s100Y <- catalogue(minRec = 100, all = FALSE)

# Print s100Y to the screen.

s100Y

But again I get an error message

I haven?t gone any further through the article because there doesn?t seem
much point unless I can sort things.  I am puzzled as to why the examples
don?t work ? I?ve got all the needed packages loaded etc

If anyone can help/explain I?d be v grateful

Thanks Nick Wray

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Fri Oct 13 11:02:58 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 13 Oct 2023 12:02:58 +0300
Subject: [R] rnrfa package problems
In-Reply-To: <CABxY9BPXijj-OePW3tknySvvjoXmB2y-BTaczE7vnYTUjqtqwg@mail.gmail.com>
References: <CABxY9BPXijj-OePW3tknySvvjoXmB2y-BTaczE7vnYTUjqtqwg@mail.gmail.com>
Message-ID: <20231013120258.2538d190@Tarkus>

On Fri, 13 Oct 2023 09:11:25 +0100
Nick Wray <nickmwray at gmail.com> wrote:

> But when I try to run the example codes there are various problems
> 
> The code is lifted directly from the document btw it?s not mine
> 
> This bit to convert gives an error message:
> 
> # Option a: from OS grid reference to WGS84 >
> 
> osg_parse(gridRef = "NC581062", CoordSystem = "WGS84")

When reporting problems, it's best to list (1) your actions, (2) their
expected result and (3) their actual result:
https://www.chiark.greenend.org.uk/~sgtatham/bugs.html

In particular, it's best to report error messages together with the
code that causes them. This is what I get:

osg_parse(gridRef = "NC581062", CoordSystem = "WGS84")
# ?????? ? osg_parse(gridRef = "NC581062", CoordSystem = "WGS84") :
#   ???????????????? ????????? (gridRef = "NC581062", CoordSystem =
#   "WGS84")

Presumably, your error message looks a bit differently, but the
underlying cause is the same: the package has evolved since the R
Journal article has been published. In particular, the argument names
have been changed in 2018 with a giant commit commented "lint free":
https://github.com/ilapros/rnrfa/commit/258f11d89726c1031cb5bfa73e2f819d984914f3#diff-acbd0646da1333775e213e83567eaf53cb9e791ff7ba1200d462005e65fd7694L24-R30

I think you can use the argument name grid_refs instead of gridRef
and coord_system instead of CoordSystem:

osg_parse(grid = "NC581062", coo = "WGS84")
# $lon
# [1] -4.404049
# 
# $lat
# [1] 58.02222

Same goes for your catalogue() problems, which can be easily resolved
by calling help() on the respective functions to look up their new
argument names.

> The ggmap code following gives an error ? this may be because the bbox
> data is empty but I?m not sure  The needed packages are loaded:

> m <- get_map(location = as.numeric(bbox), maptype = 'terrain')

Is this the error you get?

>> Error in `get_googlemap()`:
>> ! Google now requires an API key; see `ggmap::register_google()`.

Does it help to follow the instructions in help(register_google,
package = ggmap)? Google inflected this change on the world in 2018,
approximately 1.5 years after the article had been published.

OpenStreetMap support is broken in ggmap
<https://github.com/dkahle/ggmap/issues/117>, but passing the source =
'stamen' argument to ggmap::get_map seems to work. Well, partially. I
also get half an error message rendered right into the map telling me
something about "these basemap[s]... no longer... as of October..." and
asking me to upgrade by visiting stamen.com.

This is more or less inevitable when a package depends on an external
service to keep providing map data (you can't bundle the whole map of
the world into a CRAN package, after all), so unless someone steps up
and implements OpenStreetMap's stable API support in ggmap, your best
bet is to ask Google for an API key and pray they won't alter the deal
any further.

-- 
Best regards,
Ivan


From bog@@o@chr|@to|er @end|ng |rom gm@||@com  Fri Oct 13 11:38:30 2023
From: bog@@o@chr|@to|er @end|ng |rom gm@||@com (Christofer Bogaso)
Date: Fri, 13 Oct 2023 15:08:30 +0530
Subject: [R] if-else that returns vector
In-Reply-To: <CABcYAdKp4LemtkF8m7arJbJUYz3BcgP6yLMCZQvUD5P_hpsbSg@mail.gmail.com>
References: <CA+dpOJkiezcL-6G1TpCv17zjK2YFyA76Y7qCVFRf0UU0FFLs_w@mail.gmail.com>
 <CABcYAdKp4LemtkF8m7arJbJUYz3BcgP6yLMCZQvUD5P_hpsbSg@mail.gmail.com>
Message-ID: <CA+dpOJmGgirvvQb0kQEHEbPd_0Ck=ySxYp-kp78e0kdUfOX79g@mail.gmail.com>

This is very interesting. Thanks for sharing.

On Fri, Oct 13, 2023 at 10:25?AM Richard O'Keefe <raoknz at gmail.com> wrote:
>
> ?ifelse
> 'ifelse' returns a value with the same shape as 'test' which is
>      filled with elements selected from either 'yes' or 'no' depending
>      on whether the element of 'test' is 'TRUE' or 'FALSE'.
>
> This is actually rather startling, because elsewhere in the
> S (R) language, operands are normally replicated to the length
> of the longer.  Thus
>     c(1,2,3)*10 + c(5,6)
> first (notionally) replicates 10 to c(10,10,10)
> and then c(5,6) to c(5,6,5), yielding c(15,26,35).
> And this *does* happen, sort of.
> > ifelse(c(F,T,F), c(1,2,3), c(5,6))
> => 5 2 5.
> But it *doesn't* apply to the test.
>
> There's another surprise.  Years ago I expected that
> all three arguments would be evaluated, then length
> adjusted, and then processing would be done.
> But the 2nd argument is evaluated (in full) if and only
> if some element of the test is true,
> and the 3rd argument is evaluated (in full) if and oly
> if some element of the test is false.
> ifelse(c(NA,NA), stop("true"), stop("false"))
> => c(NA,NA).
>
> At any rate, what you want is if (<test>) <tp> else <fp>
>
>
>
> On Fri, 13 Oct 2023 at 09:22, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>
>> Hi,
>>
>> Following expression returns only the first element
>>
>> ifelse(T, c(1,2,3), c(5,6))
>>
>> However I am looking for some one-liner expression like above which
>> will return the entire vector.
>>
>> Is there any way to achieve this?
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From pd@me@ @end|ng |rom cb@@dk  Fri Oct 13 16:25:44 2023
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Fri, 13 Oct 2023 14:25:44 +0000
Subject: [R] [Rd] R 4.3.2 scheduled for October 31
Message-ID: <ED7A693B-A436-456A-A676-9D97378F7F08@cbs.dk>

Full schedule available on developer.r-project.org in a short while.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From @@b|ne@br@un @end|ng |rom |@p@ch  Fri Oct 13 16:54:21 2023
From: @@b|ne@br@un @end|ng |rom |@p@ch (Sabine Braun)
Date: Fri, 13 Oct 2023 16:54:21 +0200
Subject: [R] Problem with compatible library versions
In-Reply-To: <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
References: <0ced8135-94f8-4b8a-bbc3-14d664545753@iap.ch>
 <0084b653-d3ef-7bbb-9013-368c9bcf687b@statistik.tu-dortmund.de>
 <CABcYAdLb18mj=pGdQOBQEj9er_YswZoK7n2BZQ-QbP3uh8FQqg@mail.gmail.com>
Message-ID: <91633638-6480-4a19-bd5b-cdddc14dda21@iap.ch>

Thank you very much :-)), this worked! Now the loaded libraries are 
compatible with each other.

Best regards

Sabine Braun

Am 11.10.2023 um 14:08 schrieb Richard O'Keefe:
> There is a fairly straightforward way to load older versions
> of packages, and that is to use the 'groundhog' package.
> As the first sentence of https://groundhogr.com/ puts it:
> ? ?Make your R scripts reproducible by replacing library(pkg)
> ? ?with groundhog.library(pkg, date).
>
> pkg can be a vector of package names or a single name.
>
> On Wed, 11 Oct 2023 at 20:58, Uwe Ligges 
> <ligges at statistik.tu-dortmund.de> wrote:
> >
> >
> > On 10.10.2023 17:34, Sabine Braun wrote:
> > > On the github website I have reported several bugs with new 
> versions of
> > > the tidyverse group (probably dplyr) which prevent me from using R
> > > normally. I wanted to go back to older versions but this seems not 
> bo be
> > > easy. I downloaded R 4.1.2. and Rtools 40 but the library versions
> >
> > So this is on Windows.
> >
> > Actually, if you install R-4.1.2 and use a clean library and install
> > binaries, then you should get binary installation from CRAN that fit to
> > the R-4.1.x series.
> >
> > If you want to install older package versions, then you have to install
> > these one by one from sources, unfortunately.
> >
> > Best,
> > Uwe Ligges
> >
> >
> >
> > > installed are still the newest ones. I was able to install dplyr 
> 1.0.7.
> > > manually but there are error messages on incompatibility when loading
> > > this version. Is there a possibility to load older library versions
> > > which alre compatible ?
> > >
> > > Thank you very much!
> > >
> > > Best regards
> > >
> > > Sabine Braun
> > >
> > >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> > and provide commented, minimal, self-contained, reproducible code.
-- 
------------------------------------------------------------------------

Dr. Sabine Braun
Leitung

www.iap.ch <https://www.iap.ch/>

Institut f?r Angewandte Pflanzenbiologie (IAP) AG
Benkenstrasse 254a
CH-4108 Witterswil
++41 (0)61 485 50 71
++41 (0)79 696 69 85

	[[alternative HTML version deleted]]


From j@@on@@tout @end|ng |rom duke@edu  Fri Oct 13 22:13:56 2023
From: j@@on@@tout @end|ng |rom duke@edu (Jason Stout, M.D.)
Date: Fri, 13 Oct 2023 20:13:56 +0000
Subject: [R] Create new data frame with conditional sums
Message-ID: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>

This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:

Tract      Pct          Totpop
1              0.05        4000
2              0.03        3500
3              0.01        4500
4              0.12        4100
5              0.21        3900
6              0.04        4250
7              0.07        5100
8              0.09        4700
9              0.06        4950
10           0.03        4800

And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:

   Cutoff   Pop
1    0.00 43800
2    0.01 43800
3    0.02 39300
4    0.03 39300
5    0.04 31000
6    0.05 26750
7    0.06 22750
8    0.07 17800
9    0.08 12700
10   0.09 12700
11   0.10  8000
12   0.11  8000
13   0.12  8000
14   0.13  3900
15   0.14  3900
16   0.15  3900

I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:

dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
                                                                                                             3900,4250,5100,4700,
                                                                                                             4950,4800))
dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
for (i in seq(0,0.15,by=0.01)) {
 temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
dfrm[nrow(dfrm)+1,]<-c(i,temp)
}

Jason Stout, MD, MHS
Division of Infectious Diseases
Dept of Medicine
Duke University
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sat Oct 14 17:10:56 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 14 Oct 2023 08:10:56 -0700
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
Message-ID: <CAGxFJbSYFkGQyNTi4JsHzCCy2NZ7bJ_JxAcUUhi2stWzsoYsnQ@mail.gmail.com>

Well, here's one way to do it:
(dat is your example data frame)

Cutoff <- seq(0, .15, .01)
Pop <- with(dat, sapply(Cutoff, \(p)sum(Totpop[Pct >= p])))

I think there must be a more efficient way to do it with cumsum(), though.

Cheers,
Bert

On Sat, Oct 14, 2023 at 12:53?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>
> This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
>
> Tract      Pct          Totpop
> 1              0.05        4000
> 2              0.03        3500
> 3              0.01        4500
> 4              0.12        4100
> 5              0.21        3900
> 6              0.04        4250
> 7              0.07        5100
> 8              0.09        4700
> 9              0.06        4950
> 10           0.03        4800
>
> And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
>
>    Cutoff   Pop
> 1    0.00 43800
> 2    0.01 43800
> 3    0.02 39300
> 4    0.03 39300
> 5    0.04 31000
> 6    0.05 26750
> 7    0.06 22750
> 8    0.07 17800
> 9    0.08 12700
> 10   0.09 12700
> 11   0.10  8000
> 12   0.11  8000
> 13   0.12  8000
> 14   0.13  3900
> 15   0.14  3900
> 16   0.15  3900
>
> I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
>
> dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
>                                                                                                              3900,4250,5100,4700,
>                                                                                                              4950,4800))
> dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
> for (i in seq(0,0.15,by=0.01)) {
>  temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
> dfrm[nrow(dfrm)+1,]<-c(i,temp)
> }
>
> Jason Stout, MD, MHS
> Division of Infectious Diseases
> Dept of Medicine
> Duke University
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Oct 14 19:01:30 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 14 Oct 2023 10:01:30 -0700
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <CAGxFJbSYFkGQyNTi4JsHzCCy2NZ7bJ_JxAcUUhi2stWzsoYsnQ@mail.gmail.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <CAGxFJbSYFkGQyNTi4JsHzCCy2NZ7bJ_JxAcUUhi2stWzsoYsnQ@mail.gmail.com>
Message-ID: <1242B1B4-6DA4-45A3-A84B-3E7F95DB25CB@dcn.davis.ca.us>

Pre-compute the per-interval answers and use findInterval to look up the per-row answers...

dat <- read.table( text=
"Tract          Pct         Totpop
1              0.05        4000
2              0.03        3500
3              0.01        4500
4              0.12        4100
5              0.21        3900
6              0.04        4250
7              0.07        5100
8              0.09        4700
9              0.06        4950
10             0.03        4800
", header=TRUE )
dat2 <- aggregate( Totpop ~ Pct, dat, FUN = sum )
dat2$TotpopSum <- rev( cumsum( rev( dat2$Totpop ) ) )
Cutoff <- seq( 0, .15, .01 )
ans <- data.frame(
  Cutoff = Cutoff
  , Pop = dat2$TotpopSum[
    findInterval(
      Cutoff
      , c( -Inf, dat2$Pct )
      , left.open = TRUE
    )
  ]
)
ans




On October 14, 2023 8:10:56 AM PDT, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>Well, here's one way to do it:
>(dat is your example data frame)
>
>Cutoff <- seq(0, .15, .01)
>Pop <- with(dat, sapply(Cutoff, \(p)sum(Totpop[Pct >= p])))
>
>I think there must be a more efficient way to do it with cumsum(), though.
>
>Cheers,
>Bert
>
>On Sat, Oct 14, 2023 at 12:53?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>>
>> This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
>>
>> Tract      Pct          Totpop
>> 1              0.05        4000
>> 2              0.03        3500
>> 3              0.01        4500
>> 4              0.12        4100
>> 5              0.21        3900
>> 6              0.04        4250
>> 7              0.07        5100
>> 8              0.09        4700
>> 9              0.06        4950
>> 10           0.03        4800
>>
>> And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
>>
>>    Cutoff   Pop
>> 1    0.00 43800
>> 2    0.01 43800
>> 3    0.02 39300
>> 4    0.03 39300
>> 5    0.04 31000
>> 6    0.05 26750
>> 7    0.06 22750
>> 8    0.07 17800
>> 9    0.08 12700
>> 10   0.09 12700
>> 11   0.10  8000
>> 12   0.11  8000
>> 13   0.12  8000
>> 14   0.13  3900
>> 15   0.14  3900
>> 16   0.15  3900
>>
>> I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
>>
>> dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
>>                                                                                                              3900,4250,5100,4700,
>>                                                                                                              4950,4800))
>> dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
>> for (i in seq(0,0.15,by=0.01)) {
>>  temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
>> dfrm[nrow(dfrm)+1,]<-c(i,temp)
>> }
>>
>> Jason Stout, MD, MHS
>> Division of Infectious Diseases
>> Dept of Medicine
>> Duke University
>> Box 102359-DUMC
>> Durham, NC 27710
>> FAX 919-681-7494
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From j@@on@@tout @end|ng |rom duke@edu  Sat Oct 14 13:57:48 2023
From: j@@on@@tout @end|ng |rom duke@edu (Jason Stout, M.D.)
Date: Sat, 14 Oct 2023 11:57:48 +0000
Subject: [R] Create new data frame with conditional sums
Message-ID: <BN8PR05MB60667866B11762918BA242E581D1A@BN8PR05MB6066.namprd05.prod.outlook.com>

After I sent this, a colleague referred me to the GPT-4 interface on Bing.  I entered the exact email query below and it provided the following solution, which worked for the toy example and was successfully adapted to my application:

# Define the cutoffs
cutoffs <- seq(0, 0.15, by = 0.01)

# Create a new column with cutoffs
dummydata$Cutoff <- cut(dummydata$Pct, breaks = cutoffs, labels = cutoffs[-1])

# Aggregate Totpop by Cutoff
result <- aggregate(Totpop ~ Cutoff, data = dummydata, sum)

# Rename the columns
names(result) <- c("Cutoff", "Pop")

# Print the result
result

So thanks to all for considering this query?we're in a brave new world of AI-generated coding.

Message: 3
Date: Fri, 13 Oct 2023 20:13:56 +0000
From: "Jason Stout, M.D." <jason.stout at duke.edu>
To: "r-help at r-project.org" <r-help at r-project.org>
Subject: [R] Create new data frame with conditional sums
Message-ID:
        <BN8PR05MB60663B9D27B40E8C240A387981D2A at BN8PR05MB6066.namprd05.prod.outlook.com>

Content-Type: text/plain; charset="utf-8"

This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:

Tract      Pct          Totpop
1              0.05        4000
2              0.03        3500
3              0.01        4500
4              0.12        4100
5              0.21        3900
6              0.04        4250
7              0.07        5100
8              0.09        4700
9              0.06        4950
10           0.03        4800

And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:

   Cutoff   Pop
1    0.00 43800
2    0.01 43800
3    0.02 39300
4    0.03 39300
5    0.04 31000
6    0.05 26750
7    0.06 22750
8    0.07 17800
9    0.08 12700
10   0.09 12700
11   0.10  8000
12   0.11  8000
13   0.12  8000
14   0.13  3900
15   0.14  3900
16   0.15  3900

I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:

dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
                                                                                                             3900,4250,5100,4700,
                                                                                                             4950,4800))
dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
for (i in seq(0,0.15,by=0.01)) {
 temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
dfrm[nrow(dfrm)+1,]<-c(i,temp)
}

Jason Stout, MD, MHS
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494

	[[alternative HTML version deleted]]


From j@@on@@tout @end|ng |rom duke@edu  Sat Oct 14 16:16:27 2023
From: j@@on@@tout @end|ng |rom duke@edu (Jason Stout, M.D.)
Date: Sat, 14 Oct 2023 14:16:27 +0000
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <e317e5b0-a730-4ff4-ba75-85afeff154c9@mcmaster.ca>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <e317e5b0-a730-4ff4-ba75-85afeff154c9@mcmaster.ca>
Message-ID: <BN8PR05MB6066584D588B76E138583D3481D1A@BN8PR05MB6066.namprd05.prod.outlook.com>

That's very helpful and instructive, thank you!

Jason Stout, MD, MHS
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494
________________________________
From: John Fox <jfox at mcmaster.ca>
Sent: Saturday, October 14, 2023 10:13 AM
To: Jason Stout, M.D. <jason.stout at duke.edu>
Cc: r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Create new data frame with conditional sums

Dear Jason,

I don't think that there's anything wrong with using a loop to solve
this problem, but it's generally a good idea to pre-allocate space for
the result rather than build it up one value at a time, which may cause
unnecessary copying of the object.

Here are three solutions:

f1 <- function(Cutoff, Pct, Totpop){
   Pop <- numeric(0)
   for (i in seq_along(Cutoff))
     Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
   cbind(Cutoff, Pop)
}

f2 <- function(Cutoff, Pct, Totpop){
   Pop <- numeric(length(Cutoff))
   for (i in seq_along(Cutoff))
     Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
   cbind(Cutoff, Pop)
}

f3 <- function(Cutoff, Pct, Totpop){
   Pop <- sapply(Cutoff, function(c) sum(Totpop[Pct >= c]))
   cbind(Cutoff, Pop)
}

The first is similar to yours; the second pre-allocates space for the
result but still uses a loop; and the third avoids the loop. All produce
the same result, for example,

 > with(dummydata, f3(seq(0, 0.15, by=0.01), Pct, Totpop))
       Cutoff   Pop
  [1,]   0.00 43800
  [2,]   0.01 43800
  [3,]   0.02 39300
  [4,]   0.03 39300
  [5,]   0.04 31000
  [6,]   0.05 26750
  [7,]   0.06 22750
  [8,]   0.07 17800
  [9,]   0.08 12700
[10,]   0.09 12700
[11,]   0.10  8000
[12,]   0.11  8000
[13,]   0.12  8000
[14,]   0.13  3900
[15,]   0.14  3900
[16,]   0.15  3900

Here are some timings:

 > microbenchmark::microbenchmark(
+   preallocate=with(dummydata, f2(seq(0, 0.15, by=0.01),
+                                  Pct, Totpop)),
+   yourloop=with(dummydata, f1(seq(0, 0.15, by=0.01),
+                               Pct, Totpop)),
+   sapply=with(dummydata, f3(seq(0, 0.15, by=0.01),
+                             Pct, Totpop)),
+   times=1000
+ )
Unit: microseconds
         expr    min      lq     mean  median     uq    max neval cld
  preallocate 13.776 14.3910 15.74195 14.9240 16.318 56.908  1000 a
     yourloop 15.129 15.7645 17.26809 16.3795 18.368 73.964  1000  b
       sapply 22.304 23.2060 25.19868 24.1080 26.814 48.544  1000   c

So, for this very small problem, there are small but reliable
differences in timing among the three solutions, and the version that
avoids the loop is slowest. I suspect, but haven't verified, that for a
much larger problem, your solution would be slowest.

I hope this helps,
  John

--
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://urldefense.com/v3/__https://www.john-fox.ca/__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtJEwobdDQ$
On 2023-10-13 4:13 p.m., Jason Stout, M.D. wrote:
> Caution: External email.
>
>
> This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
>
> Tract      Pct          Totpop
> 1              0.05        4000
> 2              0.03        3500
> 3              0.01        4500
> 4              0.12        4100
> 5              0.21        3900
> 6              0.04        4250
> 7              0.07        5100
> 8              0.09        4700
> 9              0.06        4950
> 10           0.03        4800
>
> And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
>
>     Cutoff   Pop
> 1    0.00 43800
> 2    0.01 43800
> 3    0.02 39300
> 4    0.03 39300
> 5    0.04 31000
> 6    0.05 26750
> 7    0.06 22750
> 8    0.07 17800
> 9    0.08 12700
> 10   0.09 12700
> 11   0.10  8000
> 12   0.11  8000
> 13   0.12  8000
> 14   0.13  3900
> 15   0.14  3900
> 16   0.15  3900
>
> I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
>
> dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
>                                                                                                               3900,4250,5100,4700,
>                                                                                                               4950,4800))
> dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
> for (i in seq(0,0.15,by=0.01)) {
>   temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
> dfrm[nrow(dfrm)+1,]<-c(i,temp)
> }
>
> Jason Stout, MD, MHS
> Division of Infectious Diseases
> Dept of Medicine
> Duke University
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
>
>
>          [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtL8RrekaA$
> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtKGvEhDNw$
> and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Oct 15 16:29:36 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 15 Oct 2023 07:29:36 -0700
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <BN8PR05MB6066584D588B76E138583D3481D1A@BN8PR05MB6066.namprd05.prod.outlook.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <e317e5b0-a730-4ff4-ba75-85afeff154c9@mcmaster.ca>
 <BN8PR05MB6066584D588B76E138583D3481D1A@BN8PR05MB6066.namprd05.prod.outlook.com>
Message-ID: <CAGxFJbRvqOrNvz68cZck7dgj+X0xN96kzenBoV-HAupQabj-4Q@mail.gmail.com>

Under the hood, sapply() is also a loop (at the interpreted level). As
is lapply(), etc.

-- Bert

On Sun, Oct 15, 2023 at 2:34?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>
> That's very helpful and instructive, thank you!
>
> Jason Stout, MD, MHS
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
> ________________________________
> From: John Fox <jfox at mcmaster.ca>
> Sent: Saturday, October 14, 2023 10:13 AM
> To: Jason Stout, M.D. <jason.stout at duke.edu>
> Cc: r-help at r-project.org <r-help at r-project.org>
> Subject: Re: [R] Create new data frame with conditional sums
>
> Dear Jason,
>
> I don't think that there's anything wrong with using a loop to solve
> this problem, but it's generally a good idea to pre-allocate space for
> the result rather than build it up one value at a time, which may cause
> unnecessary copying of the object.
>
> Here are three solutions:
>
> f1 <- function(Cutoff, Pct, Totpop){
>    Pop <- numeric(0)
>    for (i in seq_along(Cutoff))
>      Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>    cbind(Cutoff, Pop)
> }
>
> f2 <- function(Cutoff, Pct, Totpop){
>    Pop <- numeric(length(Cutoff))
>    for (i in seq_along(Cutoff))
>      Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>    cbind(Cutoff, Pop)
> }
>
> f3 <- function(Cutoff, Pct, Totpop){
>    Pop <- sapply(Cutoff, function(c) sum(Totpop[Pct >= c]))
>    cbind(Cutoff, Pop)
> }
>
> The first is similar to yours; the second pre-allocates space for the
> result but still uses a loop; and the third avoids the loop. All produce
> the same result, for example,
>
>  > with(dummydata, f3(seq(0, 0.15, by=0.01), Pct, Totpop))
>        Cutoff   Pop
>   [1,]   0.00 43800
>   [2,]   0.01 43800
>   [3,]   0.02 39300
>   [4,]   0.03 39300
>   [5,]   0.04 31000
>   [6,]   0.05 26750
>   [7,]   0.06 22750
>   [8,]   0.07 17800
>   [9,]   0.08 12700
> [10,]   0.09 12700
> [11,]   0.10  8000
> [12,]   0.11  8000
> [13,]   0.12  8000
> [14,]   0.13  3900
> [15,]   0.14  3900
> [16,]   0.15  3900
>
> Here are some timings:
>
>  > microbenchmark::microbenchmark(
> +   preallocate=with(dummydata, f2(seq(0, 0.15, by=0.01),
> +                                  Pct, Totpop)),
> +   yourloop=with(dummydata, f1(seq(0, 0.15, by=0.01),
> +                               Pct, Totpop)),
> +   sapply=with(dummydata, f3(seq(0, 0.15, by=0.01),
> +                             Pct, Totpop)),
> +   times=1000
> + )
> Unit: microseconds
>          expr    min      lq     mean  median     uq    max neval cld
>   preallocate 13.776 14.3910 15.74195 14.9240 16.318 56.908  1000 a
>      yourloop 15.129 15.7645 17.26809 16.3795 18.368 73.964  1000  b
>        sapply 22.304 23.2060 25.19868 24.1080 26.814 48.544  1000   c
>
> So, for this very small problem, there are small but reliable
> differences in timing among the three solutions, and the version that
> avoids the loop is slowest. I suspect, but haven't verified, that for a
> much larger problem, your solution would be slowest.
>
> I hope this helps,
>   John
>
> --
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web: https://urldefense.com/v3/__https://www.john-fox.ca/__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtJEwobdDQ$
> On 2023-10-13 4:13 p.m., Jason Stout, M.D. wrote:
> > Caution: External email.
> >
> >
> > This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
> >
> > Tract      Pct          Totpop
> > 1              0.05        4000
> > 2              0.03        3500
> > 3              0.01        4500
> > 4              0.12        4100
> > 5              0.21        3900
> > 6              0.04        4250
> > 7              0.07        5100
> > 8              0.09        4700
> > 9              0.06        4950
> > 10           0.03        4800
> >
> > And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
> >
> >     Cutoff   Pop
> > 1    0.00 43800
> > 2    0.01 43800
> > 3    0.02 39300
> > 4    0.03 39300
> > 5    0.04 31000
> > 6    0.05 26750
> > 7    0.06 22750
> > 8    0.07 17800
> > 9    0.08 12700
> > 10   0.09 12700
> > 11   0.10  8000
> > 12   0.11  8000
> > 13   0.12  8000
> > 14   0.13  3900
> > 15   0.14  3900
> > 16   0.15  3900
> >
> > I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
> >
> > dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
> >                                                                                                               3900,4250,5100,4700,
> >                                                                                                               4950,4800))
> > dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
> > for (i in seq(0,0.15,by=0.01)) {
> >   temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
> > dfrm[nrow(dfrm)+1,]<-c(i,temp)
> > }
> >
> > Jason Stout, MD, MHS
> > Division of Infectious Diseases
> > Dept of Medicine
> > Duke University
> > Box 102359-DUMC
> > Durham, NC 27710
> > FAX 919-681-7494
> >
> >
> >          [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtL8RrekaA$
> > PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtKGvEhDNw$
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|ox @end|ng |rom mcm@@ter@c@  Sun Oct 15 16:39:59 2023
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Sun, 15 Oct 2023 10:39:59 -0400
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <CAGxFJbRvqOrNvz68cZck7dgj+X0xN96kzenBoV-HAupQabj-4Q@mail.gmail.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <e317e5b0-a730-4ff4-ba75-85afeff154c9@mcmaster.ca>
 <BN8PR05MB6066584D588B76E138583D3481D1A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <CAGxFJbRvqOrNvz68cZck7dgj+X0xN96kzenBoV-HAupQabj-4Q@mail.gmail.com>
Message-ID: <eb9e0a67-1e3e-426f-824e-0ea069a0953a@mcmaster.ca>

Dear Bert,

On 2023-10-15 10:29 a.m., Bert Gunter wrote:

> 
> 
> Under the hood, sapply() is also a loop (at the interpreted level). As
> is lapply(), etc.

Indeed. I think that there's a neurotic aversion to using loops in R in 
favour of functions in the apply family. Sometimes one approach leads to 
a more transparent solution, sometimes the other.

Many years ago, Uwe Ligges and I wrote an R News (the predecessor of the 
R Journal) "Help Desk" article about loops in R, available at 
<https://cran.r-project.org/doc/Rnews/Rnews_2008-1.pdf>. Some of the 
advice there is probably outdated due to internal changes in R, but much 
of it is probably still valide.

BTW, I don't think that my original posting ever made it to r-help. It 
was intercepted by r-help's filters and I eventually deleted it because 
so many other people had by then responded. Let's hope that this message 
makes it to the list.

Best,
  John

> 
> -- Bert
> 
> On Sun, Oct 15, 2023 at 2:34?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>>
>> That's very helpful and instructive, thank you!
>>
>> Jason Stout, MD, MHS
>> Box 102359-DUMC
>> Durham, NC 27710
>> FAX 919-681-7494
>> ________________________________
>> From: John Fox <jfox at mcmaster.ca>
>> Sent: Saturday, October 14, 2023 10:13 AM
>> To: Jason Stout, M.D. <jason.stout at duke.edu>
>> Cc: r-help at r-project.org <r-help at r-project.org>
>> Subject: Re: [R] Create new data frame with conditional sums
>>
>> Dear Jason,
>>
>> I don't think that there's anything wrong with using a loop to solve
>> this problem, but it's generally a good idea to pre-allocate space for
>> the result rather than build it up one value at a time, which may cause
>> unnecessary copying of the object.
>>
>> Here are three solutions:
>>
>> f1 <- function(Cutoff, Pct, Totpop){
>>     Pop <- numeric(0)
>>     for (i in seq_along(Cutoff))
>>       Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>>     cbind(Cutoff, Pop)
>> }
>>
>> f2 <- function(Cutoff, Pct, Totpop){
>>     Pop <- numeric(length(Cutoff))
>>     for (i in seq_along(Cutoff))
>>       Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>>     cbind(Cutoff, Pop)
>> }
>>
>> f3 <- function(Cutoff, Pct, Totpop){
>>     Pop <- sapply(Cutoff, function(c) sum(Totpop[Pct >= c]))
>>     cbind(Cutoff, Pop)
>> }
>>
>> The first is similar to yours; the second pre-allocates space for the
>> result but still uses a loop; and the third avoids the loop. All produce
>> the same result, for example,
>>
>>   > with(dummydata, f3(seq(0, 0.15, by=0.01), Pct, Totpop))
>>         Cutoff   Pop
>>    [1,]   0.00 43800
>>    [2,]   0.01 43800
>>    [3,]   0.02 39300
>>    [4,]   0.03 39300
>>    [5,]   0.04 31000
>>    [6,]   0.05 26750
>>    [7,]   0.06 22750
>>    [8,]   0.07 17800
>>    [9,]   0.08 12700
>> [10,]   0.09 12700
>> [11,]   0.10  8000
>> [12,]   0.11  8000
>> [13,]   0.12  8000
>> [14,]   0.13  3900
>> [15,]   0.14  3900
>> [16,]   0.15  3900
>>
>> Here are some timings:
>>
>>   > microbenchmark::microbenchmark(
>> +   preallocate=with(dummydata, f2(seq(0, 0.15, by=0.01),
>> +                                  Pct, Totpop)),
>> +   yourloop=with(dummydata, f1(seq(0, 0.15, by=0.01),
>> +                               Pct, Totpop)),
>> +   sapply=with(dummydata, f3(seq(0, 0.15, by=0.01),
>> +                             Pct, Totpop)),
>> +   times=1000
>> + )
>> Unit: microseconds
>>           expr    min      lq     mean  median     uq    max neval cld
>>    preallocate 13.776 14.3910 15.74195 14.9240 16.318 56.908  1000 a
>>       yourloop 15.129 15.7645 17.26809 16.3795 18.368 73.964  1000  b
>>         sapply 22.304 23.2060 25.19868 24.1080 26.814 48.544  1000   c
>>
>> So, for this very small problem, there are small but reliable
>> differences in timing among the three solutions, and the version that
>> avoids the loop is slowest. I suspect, but haven't verified, that for a
>> much larger problem, your solution would be slowest.
>>
>> I hope this helps,
>>    John
>>
>> --
>> John Fox, Professor Emeritus
>> McMaster University
>> Hamilton, Ontario, Canada
>> web: https://urldefense.com/v3/__https://www.john-fox.ca/__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtJEwobdDQ$
>> On 2023-10-13 4:13 p.m., Jason Stout, M.D. wrote:
>>> Caution: External email.
>>>
>>>
>>> This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
>>>
>>> Tract      Pct          Totpop
>>> 1              0.05        4000
>>> 2              0.03        3500
>>> 3              0.01        4500
>>> 4              0.12        4100
>>> 5              0.21        3900
>>> 6              0.04        4250
>>> 7              0.07        5100
>>> 8              0.09        4700
>>> 9              0.06        4950
>>> 10           0.03        4800
>>>
>>> And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
>>>
>>>      Cutoff   Pop
>>> 1    0.00 43800
>>> 2    0.01 43800
>>> 3    0.02 39300
>>> 4    0.03 39300
>>> 5    0.04 31000
>>> 6    0.05 26750
>>> 7    0.06 22750
>>> 8    0.07 17800
>>> 9    0.08 12700
>>> 10   0.09 12700
>>> 11   0.10  8000
>>> 12   0.11  8000
>>> 13   0.12  8000
>>> 14   0.13  3900
>>> 15   0.14  3900
>>> 16   0.15  3900
>>>
>>> I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
>>>
>>> dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
>>>                                                                                                                3900,4250,5100,4700,
>>>                                                                                                                4950,4800))
>>> dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
>>> for (i in seq(0,0.15,by=0.01)) {
>>>    temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
>>> dfrm[nrow(dfrm)+1,]<-c(i,temp)
>>> }
>>>
>>> Jason Stout, MD, MHS
>>> Division of Infectious Diseases
>>> Dept of Medicine
>>> Duke University
>>> Box 102359-DUMC
>>> Durham, NC 27710
>>> FAX 919-681-7494
>>>
>>>
>>>           [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-help__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtL8RrekaA$
>>> PLEASE do read the posting guide https://urldefense.com/v3/__http://www.R-project.org/posting-guide.html__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtKGvEhDNw$
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From @hu|@|@cheung @end|ng |rom gm@||@com  Sun Oct 15 17:04:00 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Sun, 15 Oct 2023 23:04:00 +0800
Subject: [R] Plot to a device and examine the plot?
Message-ID: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>

Hi All,

I want to inspect the content of a plot generated by another function.

For example:

plot.new()
polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))

A polygon will be drawn. If I do not know what has been done to generate
the plot, is it possible to query the content in the active device?

Regards,
Shu Fai

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Oct 15 17:31:38 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 15 Oct 2023 08:31:38 -0700
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
Message-ID: <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>

This question is not clear to me. What is it you hope to retrieve from the device?

Note that the type of device in your example is system-dependent. The content in a png() would be different than the content in a win.graph() device.

On October 15, 2023 8:04:00 AM PDT, Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
>Hi All,
>
>I want to inspect the content of a plot generated by another function.
>
>For example:
>
>plot.new()
>polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
>
>A polygon will be drawn. If I do not know what has been done to generate
>the plot, is it possible to query the content in the active device?
>
>Regards,
>Shu Fai
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @hu|@|@cheung @end|ng |rom gm@||@com  Sun Oct 15 17:44:29 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Sun, 15 Oct 2023 23:44:29 +0800
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
Message-ID: <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>

Sorry that I did not make my question clear enough.

If the device is file based (e.g., a PNG file), then I believe I can do
that, by using functions that can inspect an image. This is the solution I
originally wanted to try. However, it requires creating a file in the
process.

I would like to see whether it is possible to inspect the canvas if the
device is an on-screen one, like the pop-up window in R for Windows.

Regards,
Shu Fai


On Sun, Oct 15, 2023 at 11:31?PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:

> This question is not clear to me. What is it you hope to retrieve from the
> device?
>
> Note that the type of device in your example is system-dependent. The
> content in a png() would be different than the content in a win.graph()
> device.
>
> On October 15, 2023 8:04:00 AM PDT, Shu Fai Cheung <
> shufai.cheung at gmail.com> wrote:
> >Hi All,
> >
> >I want to inspect the content of a plot generated by another function.
> >
> >For example:
> >
> >plot.new()
> >polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
> >
> >A polygon will be drawn. If I do not know what has been done to generate
> >the plot, is it possible to query the content in the active device?
> >
> >Regards,
> >Shu Fai
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>

	[[alternative HTML version deleted]]


From @hu|@|@cheung @end|ng |rom gm@||@com  Sun Oct 15 18:05:30 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Mon, 16 Oct 2023 00:05:30 +0800
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
 <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
Message-ID: <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>

Let me clarify my question:

plot.new()
polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))

If the device is an on-screen device, can I check whether a particular area
has anything drawn on it, or, to be precise, whether the color of a
particular area has all pixels equal to the background color. That is, if
the background is white, can I know whether a particular area is white?

E.g.,  in the case above, the area bounded by rect(0, 0, .25, .25) is
completely white, while the area bounded by rect(0, 0, .75, .75) is not
because part of border of the polygon, black by default, has been drawn in
this area.

If the device is an image file, then I can check the color of a pixel. I
would like to know whether I can do the same with an on-screen device.

Thanks.

Regards,
Shu Fai


On Sun, Oct 15, 2023 at 11:44?PM Shu Fai Cheung <shufai.cheung at gmail.com>
wrote:

> Sorry that I did not make my question clear enough.
>
> If the device is file based (e.g., a PNG file), then I believe I can do
> that, by using functions that can inspect an image. This is the solution I
> originally wanted to try. However, it requires creating a file in the
> process.
>
> I would like to see whether it is possible to inspect the canvas if the
> device is an on-screen one, like the pop-up window in R for Windows.
>
> Regards,
> Shu Fai
>
>
> On Sun, Oct 15, 2023 at 11:31?PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
>
>> This question is not clear to me. What is it you hope to retrieve from
>> the device?
>>
>> Note that the type of device in your example is system-dependent. The
>> content in a png() would be different than the content in a win.graph()
>> device.
>>
>> On October 15, 2023 8:04:00 AM PDT, Shu Fai Cheung <
>> shufai.cheung at gmail.com> wrote:
>> >Hi All,
>> >
>> >I want to inspect the content of a plot generated by another function.
>> >
>> >For example:
>> >
>> >plot.new()
>> >polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
>> >
>> >A polygon will be drawn. If I do not know what has been done to generate
>> >the plot, is it possible to query the content in the active device?
>> >
>> >Regards,
>> >Shu Fai
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Oct 15 18:24:25 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sun, 15 Oct 2023 12:24:25 -0400
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
 <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
 <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>
Message-ID: <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>

On 15/10/2023 12:05 p.m., Shu Fai Cheung wrote:
> Let me clarify my question:
> 
> plot.new()
> polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
> 
> If the device is an on-screen device, can I check whether a particular area
> has anything drawn on it, or, to be precise, whether the color of a
> particular area has all pixels equal to the background color. That is, if
> the background is white, can I know whether a particular area is white?
> 
> E.g.,  in the case above, the area bounded by rect(0, 0, .25, .25) is
> completely white, while the area bounded by rect(0, 0, .75, .75) is not
> because part of border of the polygon, black by default, has been drawn in
> this area.
> 
> If the device is an image file, then I can check the color of a pixel. I
> would like to know whether I can do the same with an on-screen device.
> 

I think the answer is that you can't do that in general.  However, in 
general you can copy a plot to a different device using dev.copy() and 
examine it there.  It won't be pixel-by-pixel identical, but will 
contain the same components, likely with slightly different scaling and 
positioning if the new device isn't the same as the old one.

You can also save the commands that drew the plot using recordPlot() and 
redraw it using replayPlot() (which is essentially what dev.copy() 
does), but the format of the object saved by recordPlot() is not 
documented, and is subject to change with R version changes.

Duncan Murdoch


From |eo@m@d@ @end|ng |rom @yon|c@eu  Sun Oct 15 18:41:24 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Sun, 15 Oct 2023 19:41:24 +0300
Subject: [R] Create new data frame with conditional sums
Message-ID: <127afb3d-e376-4acf-9057-fc84b37e792a@syonic.eu>

Dear Jason,


I do not think that the solution based on aggregate offered by GPT was 
correct. That quasi-solution only aggregates for every individual level.


As I understand, you want the cumulative sum. The idea was proposed by 
Bert; you need only to sort first based on the cutoff (e.g. using an 
ordered factor). And then only extract the last value for each level. If 
Pct is unique, than you can skip this last step and use directly the 
cumsum (but on the sorted data set).


Alternatives: see the solutions with loops or with sapply.


Sincerely,


Leonard


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Sun Oct 15 21:39:40 2023
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Mon, 16 Oct 2023 08:39:40 +1300
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
 <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
 <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>
 <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>
Message-ID: <27bfaea1-13de-44d1-a058-26c5d2565fe1@stat.auckland.ac.nz>

Hi

You could also look at dev.capture(), depending on which screen device 
you are using.

Paul

On 16/10/23 05:24, Duncan Murdoch wrote:
> On 15/10/2023 12:05 p.m., Shu Fai Cheung wrote:
>  > Let me clarify my question:
>  >
>  > plot.new()
>  > polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
>  >
>  > If the device is an on-screen device, can I check whether a 
> particular area
>  > has anything drawn on it, or, to be precise, whether the color of a
>  > particular area has all pixels equal to the background color. That is, if
>  > the background is white, can I know whether a particular area is white?
>  >
>  > E.g., in the case above, the area bounded by rect(0, 0, .25, .25) is
>  > completely white, while the area bounded by rect(0, 0, .75, .75) is not
>  > because part of border of the polygon, black by default, has been 
> drawn in
>  > this area.
>  >
>  > If the device is an image file, then I can check the color of a pixel. I
>  > would like to know whether I can do the same with an on-screen device.
>  >
> 
> I think the answer is that you can't do that in general. However, in
> general you can copy a plot to a different device using dev.copy() and
> examine it there. It won't be pixel-by-pixel identical, but will
> contain the same components, likely with slightly different scaling and
> positioning if the new device isn't the same as the old one.
> 
> You can also save the commands that drew the plot using recordPlot() and
> redraw it using replayPlot() (which is essentially what dev.copy()
> does), but the format of the object saved by recordPlot() is not
> documented, and is subject to change with R version changes.
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland 1142, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From @hu|@|@cheung @end|ng |rom gm@||@com  Mon Oct 16 04:19:34 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Mon, 16 Oct 2023 10:19:34 +0800
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
 <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
 <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>
 <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>
Message-ID: <CAPVJd2WmTv=LaSEraO5LcC2sN8=oysrGwrR9a+wzatAzuJtP6g@mail.gmail.com>

Thanks a lot for introducing these functions! I am not aware of them
but it seems that they can help me to do what I want to do.

Regards,
Shu Fai

Regards,
Shu Fai Cheung (???)


On Mon, Oct 16, 2023 at 12:24?AM Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
>
> On 15/10/2023 12:05 p.m., Shu Fai Cheung wrote:
> > Let me clarify my question:
> >
> > plot.new()
> > polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
> >
> > If the device is an on-screen device, can I check whether a particular area
> > has anything drawn on it, or, to be precise, whether the color of a
> > particular area has all pixels equal to the background color. That is, if
> > the background is white, can I know whether a particular area is white?
> >
> > E.g.,  in the case above, the area bounded by rect(0, 0, .25, .25) is
> > completely white, while the area bounded by rect(0, 0, .75, .75) is not
> > because part of border of the polygon, black by default, has been drawn in
> > this area.
> >
> > If the device is an image file, then I can check the color of a pixel. I
> > would like to know whether I can do the same with an on-screen device.
> >
>
> I think the answer is that you can't do that in general.  However, in
> general you can copy a plot to a different device using dev.copy() and
> examine it there.  It won't be pixel-by-pixel identical, but will
> contain the same components, likely with slightly different scaling and
> positioning if the new device isn't the same as the old one.
>
> You can also save the commands that drew the plot using recordPlot() and
> redraw it using replayPlot() (which is essentially what dev.copy()
> does), but the format of the object saved by recordPlot() is not
> documented, and is subject to change with R version changes.
>
> Duncan Murdoch
>


From @hu|@|@cheung @end|ng |rom gm@||@com  Mon Oct 16 04:31:51 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Mon, 16 Oct 2023 10:31:51 +0800
Subject: [R] Plot to a device and examine the plot?
In-Reply-To: <27bfaea1-13de-44d1-a058-26c5d2565fe1@stat.auckland.ac.nz>
References: <CAPVJd2WBzkOZoN7gwFnX3K8g5oVV4VhyRcXXhG5Uve3ODu_qww@mail.gmail.com>
 <70552651-A1F4-422E-A12E-49DA80F70ACC@dcn.davis.ca.us>
 <CAPVJd2UafHmz0SHqqwZDk37YLKKuJ7i3EdwJQVo+Prj-XuBgbw@mail.gmail.com>
 <CAPVJd2V96Jzig=L2=E4cumkr4U2mRJLyd3ZH0L59ZMi+8qhHPw@mail.gmail.com>
 <16477b3d-5399-41b7-850d-fdeffe2b9fee@gmail.com>
 <27bfaea1-13de-44d1-a058-26c5d2565fe1@stat.auckland.ac.nz>
Message-ID: <CAPVJd2XAQp7+BkhUf7EVTOoKgSPrDOnsrKjBj_QmCyKFOAwy-Q@mail.gmail.com>

Thanks for the suggestion. I believe it is exactly what I need. I will
try this function. Thanks!

Regards,
Shu Fai

On Mon, Oct 16, 2023 at 3:39?AM Paul Murrell <paul at stat.auckland.ac.nz> wrote:
>
> Hi
>
> You could also look at dev.capture(), depending on which screen device
> you are using.
>
> Paul
>
> On 16/10/23 05:24, Duncan Murdoch wrote:
> > On 15/10/2023 12:05 p.m., Shu Fai Cheung wrote:
> >  > Let me clarify my question:
> >  >
> >  > plot.new()
> >  > polygon(c(.5, .5, .75, .8), c(.25, .3, .4, .5))
> >  >
> >  > If the device is an on-screen device, can I check whether a
> > particular area
> >  > has anything drawn on it, or, to be precise, whether the color of a
> >  > particular area has all pixels equal to the background color. That is, if
> >  > the background is white, can I know whether a particular area is white?
> >  >
> >  > E.g., in the case above, the area bounded by rect(0, 0, .25, .25) is
> >  > completely white, while the area bounded by rect(0, 0, .75, .75) is not
> >  > because part of border of the polygon, black by default, has been
> > drawn in
> >  > this area.
> >  >
> >  > If the device is an image file, then I can check the color of a pixel. I
> >  > would like to know whether I can do the same with an on-screen device.
> >  >
> >
> > I think the answer is that you can't do that in general. However, in
> > general you can copy a plot to a different device using dev.copy() and
> > examine it there. It won't be pixel-by-pixel identical, but will
> > contain the same components, likely with slightly different scaling and
> > positioning if the new device isn't the same as the old one.
> >
> > You can also save the commands that drew the plot using recordPlot() and
> > redraw it using replayPlot() (which is essentially what dev.copy()
> > does), but the format of the object saved by recordPlot() is not
> > documented, and is subject to change with R version changes.
> >
> > Duncan Murdoch
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > <https://stat.ethz.ch/mailman/listinfo/r-help>
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > <http://www.R-project.org/posting-guide.html>
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Dr Paul Murrell
> Te Kura Tatauranga | Department of Statistics
> Waipapa Taumata Rau | The University of Auckland
> Private Bag 92019, Auckland 1142, New Zealand
> 64 9 3737599 x85392
> paul at stat.auckland.ac.nz
> www.stat.auckland.ac.nz/~paul/
>


From tebert @end|ng |rom u||@edu  Mon Oct 16 04:43:07 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Mon, 16 Oct 2023 02:43:07 +0000
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <CAGxFJbRvqOrNvz68cZck7dgj+X0xN96kzenBoV-HAupQabj-4Q@mail.gmail.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <e317e5b0-a730-4ff4-ba75-85afeff154c9@mcmaster.ca>
 <BN8PR05MB6066584D588B76E138583D3481D1A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <CAGxFJbRvqOrNvz68cZck7dgj+X0xN96kzenBoV-HAupQabj-4Q@mail.gmail.com>
Message-ID: <CH3PR22MB4514C46C7C6DC46615D08E68CFD7A@CH3PR22MB4514.namprd22.prod.outlook.com>

Pre-allocate space if you have a great deal of data, or if you think your code is running too slowly. Building it up one value at a time takes more time to execute.
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Bert Gunter
Sent: Sunday, October 15, 2023 10:30 AM
To: Jason Stout, M.D. <jason.stout at duke.edu>
Cc: r-help at r-project.org; John Fox <jfox at mcmaster.ca>
Subject: Re: [R] Create new data frame with conditional sums

[External Email]

Under the hood, sapply() is also a loop (at the interpreted level). As is lapply(), etc.

-- Bert

On Sun, Oct 15, 2023 at 2:34?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>
> That's very helpful and instructive, thank you!
>
> Jason Stout, MD, MHS
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
> ________________________________
> From: John Fox <jfox at mcmaster.ca>
> Sent: Saturday, October 14, 2023 10:13 AM
> To: Jason Stout, M.D. <jason.stout at duke.edu>
> Cc: r-help at r-project.org <r-help at r-project.org>
> Subject: Re: [R] Create new data frame with conditional sums
>
> Dear Jason,
>
> I don't think that there's anything wrong with using a loop to solve
> this problem, but it's generally a good idea to pre-allocate space for
> the result rather than build it up one value at a time, which may
> cause unnecessary copying of the object.
>
> Here are three solutions:
>
> f1 <- function(Cutoff, Pct, Totpop){
>    Pop <- numeric(0)
>    for (i in seq_along(Cutoff))
>      Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>    cbind(Cutoff, Pop)
> }
>
> f2 <- function(Cutoff, Pct, Totpop){
>    Pop <- numeric(length(Cutoff))
>    for (i in seq_along(Cutoff))
>      Pop[i] <- sum(Totpop[Pct >= Cutoff[i]])
>    cbind(Cutoff, Pop)
> }
>
> f3 <- function(Cutoff, Pct, Totpop){
>    Pop <- sapply(Cutoff, function(c) sum(Totpop[Pct >= c]))
>    cbind(Cutoff, Pop)
> }
>
> The first is similar to yours; the second pre-allocates space for the
> result but still uses a loop; and the third avoids the loop. All
> produce the same result, for example,
>
>  > with(dummydata, f3(seq(0, 0.15, by=0.01), Pct, Totpop))
>        Cutoff   Pop
>   [1,]   0.00 43800
>   [2,]   0.01 43800
>   [3,]   0.02 39300
>   [4,]   0.03 39300
>   [5,]   0.04 31000
>   [6,]   0.05 26750
>   [7,]   0.06 22750
>   [8,]   0.07 17800
>   [9,]   0.08 12700
> [10,]   0.09 12700
> [11,]   0.10  8000
> [12,]   0.11  8000
> [13,]   0.12  8000
> [14,]   0.13  3900
> [15,]   0.14  3900
> [16,]   0.15  3900
>
> Here are some timings:
>
>  > microbenchmark::microbenchmark(
> +   preallocate=with(dummydata, f2(seq(0, 0.15, by=0.01),
> +                                  Pct, Totpop)),
> +   yourloop=with(dummydata, f1(seq(0, 0.15, by=0.01),
> +                               Pct, Totpop)),
> +   sapply=with(dummydata, f3(seq(0, 0.15, by=0.01),
> +                             Pct, Totpop)),
> +   times=1000
> + )
> Unit: microseconds
>          expr    min      lq     mean  median     uq    max neval cld
>   preallocate 13.776 14.3910 15.74195 14.9240 16.318 56.908  1000 a
>      yourloop 15.129 15.7645 17.26809 16.3795 18.368 73.964  1000  b
>        sapply 22.304 23.2060 25.19868 24.1080 26.814 48.544  1000   c
>
> So, for this very small problem, there are small but reliable
> differences in timing among the three solutions, and the version that
> avoids the loop is slowest. I suspect, but haven't verified, that for
> a much larger problem, your solution would be slowest.
>
> I hope this helps,
>   John
>
> --
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web:
> https://urldefense.com/v3/__https://www.john-fox.ca/__;!!OToaGQ!s5vzmg
> 4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpCfBz6aP0YhCGemy-bP6xEtJE
> wobdDQ$ On 2023-10-13 4:13 p.m., Jason Stout, M.D. wrote:
> > Caution: External email.
> >
> >
> > This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
> >
> > Tract      Pct          Totpop
> > 1              0.05        4000
> > 2              0.03        3500
> > 3              0.01        4500
> > 4              0.12        4100
> > 5              0.21        3900
> > 6              0.04        4250
> > 7              0.07        5100
> > 8              0.09        4700
> > 9              0.06        4950
> > 10           0.03        4800
> >
> > And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
> >
> >     Cutoff   Pop
> > 1    0.00 43800
> > 2    0.01 43800
> > 3    0.02 39300
> > 4    0.03 39300
> > 5    0.04 31000
> > 6    0.05 26750
> > 7    0.06 22750
> > 8    0.07 17800
> > 9    0.08 12700
> > 10   0.09 12700
> > 11   0.10  8000
> > 12   0.11  8000
> > 13   0.12  8000
> > 14   0.13  3900
> > 15   0.14  3900
> > 16   0.15  3900
> >
> > I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
> >
> > dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
> >                                                                                                               3900,4250,5100,4700,
> >
> > 4950,4800))
> > dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff",
> > "Pop"))))
> > for (i in seq(0,0.15,by=0.01)) {
> >   temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
> > dfrm[nrow(dfrm)+1,]<-c(i,temp)
> > }
> >
> > Jason Stout, MD, MHS
> > Division of Infectious Diseases
> > Dept of Medicine
> > Duke University
> > Box 102359-DUMC
> > Durham, NC 27710
> > FAX 919-681-7494
> >
> >
> >          [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-
> > help__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzp
> > CfBz6aP0YhCGemy-bP6xEtL8RrekaA$ PLEASE do read the posting guide
> > https://urldefense.com/v3/__http://www.R-project.org/posting-guide.h
> > tml__;!!OToaGQ!s5vzmg4dxnnS0zohDtpWBBey7cb53uSXIPTTqs5fgaz-BKlNnWzpC
> > fBz6aP0YhCGemy-bP6xEtKGvEhDNw$ and provide commented, minimal,
> > self-contained, reproducible code.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C48a3486c0667410d80d808dbcd8b3a11%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638329770103320677%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=5Hc5BCGTlgAwSC5CHZSQWeIpBNPTtXutGojnQ1hVgsE%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C48
> a3486c0667410d80d808dbcd8b3a11%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638329770103320677%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=lE
> virLNVGKrscJxDqtAdj%2Ft6hgcw5Pv8J1YA8S3DWCE%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From v@r||61 @end|ng |rom w|ndow@||ve@com  Mon Oct 16 12:12:37 2023
From: v@r||61 @end|ng |rom w|ndow@||ve@com (=?iso-8859-9?Q?ahmet_varl=FD?=)
Date: Mon, 16 Oct 2023 10:12:37 +0000
Subject: [R] creating a time series
Message-ID: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>


Hello everyone,

? had 15 minutes of data from 2017-11-02 13:30:00 to  2022-11-26 23:45:00 and number of data is 177647

? would like to ask why my time series are less then my expectation.


baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)


length(zaman_seti)
[1] 177642

but it has to be  177647



and secondly ? have times in this format ( 2.11.2017 13:30/DD-MM-YYYY HH:MM:SS)

su_seviyeleri_data <- as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%Y-%m-%d %H:%M:%S")

I am using this code to change the format but it gives result as Na

How can ? solve this problem?

Bests,





	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Oct 16 12:34:52 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 16 Oct 2023 11:34:52 +0100
Subject: [R] creating a time series
In-Reply-To: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
References: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <b7be2cbf-883f-4e4a-8bbe-73d5f066b3e9@sapo.pt>

?s 11:12 de 16/10/2023, ahmet varl? escreveu:
> 
> Hello everyone,
> 
> ? had 15 minutes of data from 2017-11-02 13:30:00 to  2022-11-26 23:45:00 and number of data is 177647
> 
> ? would like to ask why my time series are less then my expectation.
> 
> 
> baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
> bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
> zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)
> 
> 
> length(zaman_seti)
> [1] 177642
> 
> but it has to be  177647
> 
> 
> 
> and secondly ? have times in this format ( 2.11.2017 13:30/DD-MM-YYYY HH:MM:SS)
> 
> su_seviyeleri_data <- as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%Y-%m-%d %H:%M:%S")
> 
> I am using this code to change the format but it gives result as Na
> 
> How can ? solve this problem?
> 
> Bests,
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Given your date format, try


format = "%d.%m.%Y %H:%M"


Test with your date time:



x <- "2.11.2017 13:30"
as.POSIXct(x, format = "%d.%m.%Y %H:%M")
#> [1] "2017-11-02 13:30:00 WET"

as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%d.%m.%Y %H:%M")


Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From m@rc_grt @end|ng |rom y@hoo@|r  Mon Oct 16 12:43:42 2023
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Mon, 16 Oct 2023 12:43:42 +0200
Subject: [R] creating a time series
In-Reply-To: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
References: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <906beffd-53df-4653-a444-9911adb0a060@yahoo.fr>

Why did you expect to have 177647 elements ?

I found that 177642 is the correct number:

Marc

baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")? #
zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)

y2017_11_02 <- seq(from=as.POSIXct("2017-11-02 13:30:00", tz = "CET"), 
to=as.POSIXct("2017-11-02 23:45:00", tz = "CET"), by = 60 * 15)
# Length 42 - OK
length(y2017_11_02)
y2017_11_12 <- seq(from=as.POSIXct("2017-11-03 00:00:00", tz = "CET"), 
to=as.POSIXct("2017-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# ((30-2)+31)*24*4=5664 - OK
length(y2017_11_12)
y2018 <- seq(from=as.POSIXct("2018-01-01 00:00:00", tz = "CET"), 
to=as.POSIXct("2018-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2018)
y2019 <- seq(from=as.POSIXct("2019-01-01 00:00:00", tz = "CET"), 
to=as.POSIXct("2019-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2019)
y2020 <- seq(from=as.POSIXct("2020-01-01 00:00:00", tz = "CET"), 
to=as.POSIXct("2020-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (366)*24*4=35136 - OK
length(y2020)
y2021 <- seq(from=as.POSIXct("2021-01-01 00:00:00", tz = "CET"), 
to=as.POSIXct("2021-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2021)
y2022 <- seq(from=as.POSIXct("2022-01-01 00:00:00", tz = "CET"), 
to=as.POSIXct("2022-11-26 23:45:00", tz = "CET"), by = 60 * 15)
# (365-31-4)*24*4=31680 - OK
length(y2022)

length(y2017_11_02)+length(y2017_11_12)+length(y2018)+length(y2019)+length(y2020)+length(y2021)+length(y2022)
length(zaman_seti)


Le 16/10/2023 ? 12:12, ahmet varl? a ?crit?:
> Hello everyone,
>
> ? had 15 minutes of data from 2017-11-02 13:30:00 to  2022-11-26 23:45:00 and number of data is 177647
>
> ? would like to ask why my time series are less then my expectation.
>
>
> baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
> bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
> zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)
>
>
> length(zaman_seti)
> [1] 177642
>
> but it has to be  177647
>
>
>
> and secondly ? have times in this format ( 2.11.2017 13:30/DD-MM-YYYY HH:MM:SS)
>
> su_seviyeleri_data <- as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%Y-%m-%d %H:%M:%S")
>
> I am using this code to change the format but it gives result as Na
>
> How can ? solve this problem?
>
> Bests,
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Mon Oct 16 13:41:48 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Mon, 16 Oct 2023 14:41:48 +0300
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <127afb3d-e376-4acf-9057-fc84b37e792a@syonic.eu>
References: <127afb3d-e376-4acf-9057-fc84b37e792a@syonic.eu>
Message-ID: <34d9b5e4-6d84-42b0-bb98-d652317bc00f@syonic.eu>

Dear Jason,

The code could look something like:

dummyData = data.frame(Tract=seq(1, 10, by=1),
 ?? ?Pct = c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),
 ?? ?Totpop = c(4000,3500,4500,4100,3900,4250,5100,4700,4950,4800))

# Define the cutoffs
# - allow for duplicate entries;
by = 0.03; # by = 0.01;
cutoffs <- seq(0, 0.20, by = by)

# Create a new column with cutoffs
dummyData$Cutoff <- cut(dummyData$Pct, breaks = cutoffs,
 ?? ?labels = cutoffs[-1], ordered_result = TRUE)

# Sort data
# - we could actually order only the columns:
#?? Totpop & Cutoff;
dummyData = dummyData[order(dummyData$Cutoff), ]

# Result
cs = cumsum(dummyData$Totpop)

# Only last entry:
# - I do not have a nice one-liner, but this should do it:
isLast = rev(! duplicated(rev(dummyData$Cutoff)))

data.frame(Total = cs[isLast],
 ?? ?Cutoff = dummyData$Cutoff[isLast])


Sincerely,

Leonard


On 10/15/2023 7:41 PM, Leonard Mada wrote:
> Dear Jason,
>
>
> I do not think that the solution based on aggregate offered by GPT was 
> correct. That quasi-solution only aggregates for every individual level.
>
>
> As I understand, you want the cumulative sum. The idea was proposed by 
> Bert; you need only to sort first based on the cutoff (e.g. using an 
> ordered factor). And then only extract the last value for each level. 
> If Pct is unique, than you can skip this last step and use directly 
> the cumsum (but on the sorted data set).
>
>
> Alternatives: see the solutions with loops or with sapply.
>
>
> Sincerely,
>
>
> Leonard
>
>


From v@r||61 @end|ng |rom w|ndow@||ve@com  Mon Oct 16 16:29:25 2023
From: v@r||61 @end|ng |rom w|ndow@||ve@com (=?utf-8?B?YWhtZXQgdmFybMSx?=)
Date: Mon, 16 Oct 2023 14:29:25 +0000
Subject: [R] Ynt:  creating a time series
In-Reply-To: <906beffd-53df-4653-a444-9911adb0a060@yahoo.fr>
References: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
 <906beffd-53df-4653-a444-9911adb0a060@yahoo.fr>
Message-ID: <PAVPR10MB68162CED06DE9CAB4D38BF1CBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>

hello,

because ? have data between these times and it has 177647 elements
________________________________
G?nderen: Marc Girondot via R-help <r-help at r-project.org> ad?na R-help <r-help-bounces at r-project.org>
G?nderildi: 16 Ekim 2023 Pazartesi 13:43
Kime: r-help at r-project.org <r-help at r-project.org>
Konu: Re: [R] creating a time series

Why did you expect to have 177647 elements ?

I found that 177642 is the correct number:

Marc

baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)

y2017_11_02 <- seq(from=as.POSIXct("2017-11-02 13:30:00", tz = "CET"),
to=as.POSIXct("2017-11-02 23:45:00", tz = "CET"), by = 60 * 15)
# Length 42 - OK
length(y2017_11_02)
y2017_11_12 <- seq(from=as.POSIXct("2017-11-03 00:00:00", tz = "CET"),
to=as.POSIXct("2017-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# ((30-2)+31)*24*4=5664 - OK
length(y2017_11_12)
y2018 <- seq(from=as.POSIXct("2018-01-01 00:00:00", tz = "CET"),
to=as.POSIXct("2018-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2018)
y2019 <- seq(from=as.POSIXct("2019-01-01 00:00:00", tz = "CET"),
to=as.POSIXct("2019-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2019)
y2020 <- seq(from=as.POSIXct("2020-01-01 00:00:00", tz = "CET"),
to=as.POSIXct("2020-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (366)*24*4=35136 - OK
length(y2020)
y2021 <- seq(from=as.POSIXct("2021-01-01 00:00:00", tz = "CET"),
to=as.POSIXct("2021-12-31 23:45:00", tz = "CET"), by = 60 * 15)
# (365)*24*4=35040 - OK
length(y2021)
y2022 <- seq(from=as.POSIXct("2022-01-01 00:00:00", tz = "CET"),
to=as.POSIXct("2022-11-26 23:45:00", tz = "CET"), by = 60 * 15)
# (365-31-4)*24*4=31680 - OK
length(y2022)

length(y2017_11_02)+length(y2017_11_12)+length(y2018)+length(y2019)+length(y2020)+length(y2021)+length(y2022)
length(zaman_seti)


Le 16/10/2023 ? 12:12, ahmet varl? a ?crit :
> Hello everyone,
>
> ? had 15 minutes of data from 2017-11-02 13:30:00 to  2022-11-26 23:45:00 and number of data is 177647
>
> ? would like to ask why my time series are less then my expectation.
>
>
> baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
> bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
> zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)
>
>
> length(zaman_seti)
> [1] 177642
>
> but it has to be  177647
>
>
>
> and secondly ? have times in this format ( 2.11.2017 13:30/DD-MM-YYYY HH:MM:SS)
>
> su_seviyeleri_data <- as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%Y-%m-%d %H:%M:%S")
>
> I am using this code to change the format but it gives result as Na
>
> How can ? solve this problem?
>
> Bests,
>
>
>
>
>
>        [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Oct 16 16:48:05 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 16 Oct 2023 07:48:05 -0700
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <34d9b5e4-6d84-42b0-bb98-d652317bc00f@syonic.eu>
References: <127afb3d-e376-4acf-9057-fc84b37e792a@syonic.eu>
 <34d9b5e4-6d84-42b0-bb98-d652317bc00f@syonic.eu>
Message-ID: <CAGxFJbTZ7hbCPvYBFo3APPX11Vj0P7kwgKHBXk7+HD_aj0M4Tg@mail.gmail.com>

If one makes the reasonable assumption that Pct is much larger than
Cutoff, sorting Cutoff is the expensive part e.g O(nlog2(n)  for
Quicksort (n = length Cutoff). I believe looping is O(n^2). Jeff's
approach using findInterval may be faster. Of course implementation
details matter.

-- Bert

On Mon, Oct 16, 2023 at 4:41?AM Leonard Mada <leo.mada at syonic.eu> wrote:
>
> Dear Jason,
>
> The code could look something like:
>
> dummyData = data.frame(Tract=seq(1, 10, by=1),
>      Pct = c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),
>      Totpop = c(4000,3500,4500,4100,3900,4250,5100,4700,4950,4800))
>
> # Define the cutoffs
> # - allow for duplicate entries;
> by = 0.03; # by = 0.01;
> cutoffs <- seq(0, 0.20, by = by)
>
> # Create a new column with cutoffs
> dummyData$Cutoff <- cut(dummyData$Pct, breaks = cutoffs,
>      labels = cutoffs[-1], ordered_result = TRUE)
>
> # Sort data
> # - we could actually order only the columns:
> #   Totpop & Cutoff;
> dummyData = dummyData[order(dummyData$Cutoff), ]
>
> # Result
> cs = cumsum(dummyData$Totpop)
>
> # Only last entry:
> # - I do not have a nice one-liner, but this should do it:
> isLast = rev(! duplicated(rev(dummyData$Cutoff)))
>
> data.frame(Total = cs[isLast],
>      Cutoff = dummyData$Cutoff[isLast])
>
>
> Sincerely,
>
> Leonard
>
>
> On 10/15/2023 7:41 PM, Leonard Mada wrote:
> > Dear Jason,
> >
> >
> > I do not think that the solution based on aggregate offered by GPT was
> > correct. That quasi-solution only aggregates for every individual level.
> >
> >
> > As I understand, you want the cumulative sum. The idea was proposed by
> > Bert; you need only to sort first based on the cutoff (e.g. using an
> > ordered factor). And then only extract the last value for each level.
> > If Pct is unique, than you can skip this last step and use directly
> > the cumsum (but on the sorted data set).
> >
> >
> > Alternatives: see the solutions with loops or with sapply.
> >
> >
> > Sincerely,
> >
> >
> > Leonard
> >
> >


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Oct 16 17:00:59 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 16 Oct 2023 08:00:59 -0700
Subject: [R] Ynt:  creating a time series
In-Reply-To: <PAVPR10MB68162CED06DE9CAB4D38BF1CBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
References: <PAVPR10MB6816FED8E446A410A4ABF3BEBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
 <906beffd-53df-4653-a444-9911adb0a060@yahoo.fr>
 <PAVPR10MB68162CED06DE9CAB4D38BF1CBBD7A@PAVPR10MB6816.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <9B26180C-8128-4A0E-B9CA-0C44ADB2F1A2@dcn.davis.ca.us>

Then your data has extra data points... either duplicates or records with timestamps not on 15min intervals.


On October 16, 2023 7:29:25 AM PDT, "ahmet varl?" <varli61 at windowslive.com> wrote:
>hello,
>
>because ? have data between these times and it has 177647 elements
>________________________________
>G?nderen: Marc Girondot via R-help <r-help at r-project.org> ad?na R-help <r-help-bounces at r-project.org>
>G?nderildi: 16 Ekim 2023 Pazartesi 13:43
>Kime: r-help at r-project.org <r-help at r-project.org>
>Konu: Re: [R] creating a time series
>
>Why did you expect to have 177647 elements ?
>
>I found that 177642 is the correct number:
>
>Marc
>
>baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
>bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
>zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)
>
>y2017_11_02 <- seq(from=as.POSIXct("2017-11-02 13:30:00", tz = "CET"),
>to=as.POSIXct("2017-11-02 23:45:00", tz = "CET"), by = 60 * 15)
># Length 42 - OK
>length(y2017_11_02)
>y2017_11_12 <- seq(from=as.POSIXct("2017-11-03 00:00:00", tz = "CET"),
>to=as.POSIXct("2017-12-31 23:45:00", tz = "CET"), by = 60 * 15)
># ((30-2)+31)*24*4=5664 - OK
>length(y2017_11_12)
>y2018 <- seq(from=as.POSIXct("2018-01-01 00:00:00", tz = "CET"),
>to=as.POSIXct("2018-12-31 23:45:00", tz = "CET"), by = 60 * 15)
># (365)*24*4=35040 - OK
>length(y2018)
>y2019 <- seq(from=as.POSIXct("2019-01-01 00:00:00", tz = "CET"),
>to=as.POSIXct("2019-12-31 23:45:00", tz = "CET"), by = 60 * 15)
># (365)*24*4=35040 - OK
>length(y2019)
>y2020 <- seq(from=as.POSIXct("2020-01-01 00:00:00", tz = "CET"),
>to=as.POSIXct("2020-12-31 23:45:00", tz = "CET"), by = 60 * 15)
># (366)*24*4=35136 - OK
>length(y2020)
>y2021 <- seq(from=as.POSIXct("2021-01-01 00:00:00", tz = "CET"),
>to=as.POSIXct("2021-12-31 23:45:00", tz = "CET"), by = 60 * 15)
># (365)*24*4=35040 - OK
>length(y2021)
>y2022 <- seq(from=as.POSIXct("2022-01-01 00:00:00", tz = "CET"),
>to=as.POSIXct("2022-11-26 23:45:00", tz = "CET"), by = 60 * 15)
># (365-31-4)*24*4=31680 - OK
>length(y2022)
>
>length(y2017_11_02)+length(y2017_11_12)+length(y2018)+length(y2019)+length(y2020)+length(y2021)+length(y2022)
>length(zaman_seti)
>
>
>Le 16/10/2023 ? 12:12, ahmet varl? a ?crit :
>> Hello everyone,
>>
>> ? had 15 minutes of data from 2017-11-02 13:30:00 to  2022-11-26 23:45:00 and number of data is 177647
>>
>> ? would like to ask why my time series are less then my expectation.
>>
>>
>> baslangic <- as.POSIXct("2017-11-02 13:30:00", tz = "CET")
>> bitis <- as.POSIXct("2022-11-26 23:45:00", tz = "CET")  #
>> zaman_seti <- seq.POSIXt(from = baslangic, to = bitis, by = 60 * 15)
>>
>>
>> length(zaman_seti)
>> [1] 177642
>>
>> but it has to be  177647
>>
>>
>>
>> and secondly ? have times in this format ( 2.11.2017 13:30/DD-MM-YYYY HH:MM:SS)
>>
>> su_seviyeleri_data <- as.POSIXct(su_seviyeleri_data$kayit_zaman, format = "%Y-%m-%d %H:%M:%S")
>>
>> I am using this code to change the format but it gives result as Na
>>
>> How can ? solve this problem?
>>
>> Bests,
>>
>>
>>
>>
>>
>>        [[alternative HTML version deleted]]
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Mon Oct 16 17:07:51 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 16 Oct 2023 08:07:51 -0700
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <CAGxFJbTZ7hbCPvYBFo3APPX11Vj0P7kwgKHBXk7+HD_aj0M4Tg@mail.gmail.com>
References: <127afb3d-e376-4acf-9057-fc84b37e792a@syonic.eu>
 <34d9b5e4-6d84-42b0-bb98-d652317bc00f@syonic.eu>
 <CAGxFJbTZ7hbCPvYBFo3APPX11Vj0P7kwgKHBXk7+HD_aj0M4Tg@mail.gmail.com>
Message-ID: <CAGxFJbTfnC=CpF=HbVNzqyNHeAtZC_BFn+K2vNkaFyOn1-SSWg@mail.gmail.com>

Sorry, misstatements. It should (of course) read:

If one makes the reasonable assumption that Pct is much larger than
Cutoff, sorting Pct is the expensive part e.g O(nlog2(n)  for
Quicksort (n = length Pct). I believe looping is O(n^2).
etc.

On Mon, Oct 16, 2023 at 7:48?AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> If one makes the reasonable assumption that Pct is much larger than
> Cutoff, sorting Cutoff is the expensive part e.g O(nlog2(n)  for
> Quicksort (n = length Cutoff). I believe looping is O(n^2). Jeff's
> approach using findInterval may be faster. Of course implementation
> details matter.
>
> -- Bert
>
> On Mon, Oct 16, 2023 at 4:41?AM Leonard Mada <leo.mada at syonic.eu> wrote:
> >
> > Dear Jason,
> >
> > The code could look something like:
> >
> > dummyData = data.frame(Tract=seq(1, 10, by=1),
> >      Pct = c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),
> >      Totpop = c(4000,3500,4500,4100,3900,4250,5100,4700,4950,4800))
> >
> > # Define the cutoffs
> > # - allow for duplicate entries;
> > by = 0.03; # by = 0.01;
> > cutoffs <- seq(0, 0.20, by = by)
> >
> > # Create a new column with cutoffs
> > dummyData$Cutoff <- cut(dummyData$Pct, breaks = cutoffs,
> >      labels = cutoffs[-1], ordered_result = TRUE)
> >
> > # Sort data
> > # - we could actually order only the columns:
> > #   Totpop & Cutoff;
> > dummyData = dummyData[order(dummyData$Cutoff), ]
> >
> > # Result
> > cs = cumsum(dummyData$Totpop)
> >
> > # Only last entry:
> > # - I do not have a nice one-liner, but this should do it:
> > isLast = rev(! duplicated(rev(dummyData$Cutoff)))
> >
> > data.frame(Total = cs[isLast],
> >      Cutoff = dummyData$Cutoff[isLast])
> >
> >
> > Sincerely,
> >
> > Leonard
> >
> >
> > On 10/15/2023 7:41 PM, Leonard Mada wrote:
> > > Dear Jason,
> > >
> > >
> > > I do not think that the solution based on aggregate offered by GPT was
> > > correct. That quasi-solution only aggregates for every individual level.
> > >
> > >
> > > As I understand, you want the cumulative sum. The idea was proposed by
> > > Bert; you need only to sort first based on the cutoff (e.g. using an
> > > ordered factor). And then only extract the last value for each level.
> > > If Pct is unique, than you can skip this last step and use directly
> > > the cumsum (but on the sorted data set).
> > >
> > >
> > > Alternatives: see the solutions with loops or with sapply.
> > >
> > >
> > > Sincerely,
> > >
> > >
> > > Leonard
> > >
> > >


From @rn@ud@g@boury @end|ng |rom gm@||@com  Tue Oct 17 10:29:33 2023
From: @rn@ud@g@boury @end|ng |rom gm@||@com (arnaud gaboury)
Date: Tue, 17 Oct 2023 10:29:33 +0200
Subject: [R] transform a list of arrays to tibble
Message-ID: <CAK1hC9so-7WJHsXHKmTRwbS6EjTyQNg9ZymCGSWG26qDL3nb0w@mail.gmail.com>

I work with a list of crypto assets daily closing prices in a xts
class. Here is a limited example:

asset.xts.lst <- list(BTCUSDT = structure(c(26759.63, 26862, 26852.48, 27154.15,
27973.45), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")), ETHUSDT = structure(c(1539.61, 1552.16, 1554.94, 1557.77,
1579.73), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")), TRXUSDT = structure(c(0.08481, 0.08549, 0.08501, 0.08667,
0.08821), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")))

I will compute some function from PerformanceAnalytics package and
write all results in a tibble. Let's apply a first function,
Return.annualized() (at first I computed returns from daily prices). I
have now a list of arrays named my.ret.lst:

my.ret.lst <- list(BTCUSDT = structure(15.36, dim = c(1L, 1L), dimnames = list(
    "Annualized Return", NULL)), ETHUSDT = structure(4.06, dim = c(1L,
1L), dimnames = list("Annualized Return", NULL)), TRXUSDT =
structure(10.9, dim = c(1L,
1L), dimnames = list("Annualized Return", NULL)))

Now I can't find how to build a  tibble in a specific format (asset
names as row names and observations as column names) .
I can of course run:
> mytb <- as_tibble(unlist(my.ret.lst)
but I loose row and column names.
> as_tibble_col(unlist(my.ret.lst), column_name = 'return')
will give me the wanted column name but row names (in my case asset
names) are missing.


Thank you for help


From @@h||@h@rm@h|m@|@y@ @end|ng |rom gm@||@com  Tue Oct 17 08:42:05 2023
From: @@h||@h@rm@h|m@|@y@ @end|ng |rom gm@||@com (Sahil Sharma)
Date: Tue, 17 Oct 2023 12:12:05 +0530
Subject: [R] Fwd: r-stats: Geometric Distribution
In-Reply-To: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
Message-ID: <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>

---------- Forwarded message ---------
From: Sahil Sharma <sahilsharmahimalaya at gmail.com>
Date: Tue, Oct 17, 2023 at 12:10?PM
Subject: r-stats: Geometric Distribution
To: <do-use-Contact-address at r-project.org>


Hey I want to raise one issue in *r-stats **geometric distribution *
function.

I have found the dgeom(x,p) which denotes probability density function of
geometric distribution, is not reducing 1 from x.

The original formula for Geometric Distribution PDF is *((1-p)^x-1)*P*.
However, the current r function *dgeom(x, p)* is doing this: *((1-p)^x)*P, *it
is not reducing 1 from x.

I don't know whether this it is kept as it is intentionally, but I thought
of just informing you, in case it's an error, so you can correct it.

Thanks.

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Oct 17 15:09:34 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 17 Oct 2023 16:09:34 +0300
Subject: [R] Fwd: r-stats: Geometric Distribution
In-Reply-To: <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
 <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
Message-ID: <20231017160934.51f1cced@arachnoid>

? Tue, 17 Oct 2023 12:12:05 +0530
Sahil Sharma <sahilsharmahimalaya at gmail.com> ?????:

> The original formula for Geometric Distribution PDF is
> *((1-p)^x-1)*P*. However, the current r function *dgeom(x, p)* is
> doing this: *((1-p)^x)*P, *it is not reducing 1 from x.

Your definition is valid for integer 'x' starting from 1. ('x'th trial
is the first success.)

The definition in help(dgeom):

>> p(x) = p (1-p)^x
>> for x = 0, 1, 2, ..., 0 < p <= 1.

...is valid for integer x starting from 0. ('x' failures until the
first success.)

They are equivalent, but they use the name 'x' for two subtly different
things.

Thank you for giving attention to this and best of luck in your future
research!

-- 
Best regards,
Ivan


From @vi@e@gross m@iii@g oii gm@ii@com  Tue Oct 17 15:33:05 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Tue, 17 Oct 2023 09:33:05 -0400
Subject: [R] transform a list of arrays to tibble
In-Reply-To: <CAK1hC9so-7WJHsXHKmTRwbS6EjTyQNg9ZymCGSWG26qDL3nb0w@mail.gmail.com>
References: <CAK1hC9so-7WJHsXHKmTRwbS6EjTyQNg9ZymCGSWG26qDL3nb0w@mail.gmail.com>
Message-ID: <003f01da00fe$75bc7870$61356950$@gmail.com>

Arnaud,


Short answer may be that the tibble data structure will not be supporting row names and you may want to simply save those names in an additional column or externally.

My first thought was to simply save the names you need and then put them back on the tibble. In your code, something like this:

save.names <- names(my.ret.lst)
result.tib <- as_tibble_col(unlist(my.ret.lst), column_name = 'return')
rownames(result.tib) <- save.names

Unfortunately, I got an error message:

> save.names
[1] "BTCUSDT" "ETHUSDT" "TRXUSDT"
> rownames(result.tib) <- save.names
Warning message:
Setting row names on a tibble is deprecated. 
Error in exists(cacheKey, where = .rs.WorkingDataEnv, inherits = FALSE) : 
  invalid first argument
Error in assign(cacheKey, frame, .rs.CachedDataEnv) : 
  attempt to use zero-length variable name

If a tibble deprecates row names, it may not be the ideal storage for you. A plain data.frame works:

> result.df <- as.data.frame(result.tib)
> rownames(result.df) <- save.names
> result.df
        return
BTCUSDT  15.36
ETHUSDT   4.06
TRXUSDT  10.90

Trying to convert it to a tibble, as anticipated, is not working for me:

> as.tibble(result.df)
# A tibble: 3 ? 1
  return
   <dbl>
1  15.4 
2   4.06
3  10.9 
Warning message:
`as.tibble()` was deprecated in tibble 2.0.0.
? Please use `as_tibble()` instead.
? The signature and semantics have changed, see `?as_tibble`.
This warning is displayed once every 8 hours.
Call `lifecycle::last_lifecycle_warnings()` to see where this
warning was generated.

You can, instead, create a matrix and assign the row and column names you save or create:

result.mat <- matrix(my.ret.lst)
colnames(result.mat) <- c("return")
rownames(result.mat) <- save.names

> result.mat
        return
BTCUSDT 15.36 
ETHUSDT 4.06  
TRXUSDT 10.9

But saving a matrix to reuse has other considerations.

So, if I may make a suggestion, if you really want a tibble that allows you to know what each row is for, consider one of many methods for saving the previous row names as a new column. I used that to take the data.frame version I made above and got:

> temp <- as_tibble(result.df, rownames="rows")
> temp
# A tibble: 3 ? 2
  rows    return
  <chr>    <dbl>
1 BTCUSDT  15.4 
2 ETHUSDT   4.06
3 TRXUSDT  10.9

Note the above uses as_tibble with an underscore, but many other ways to make a column exist.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of arnaud gaboury
Sent: Tuesday, October 17, 2023 4:30 AM
To: r-help <r-help at r-project.org>
Subject: [R] transform a list of arrays to tibble

I work with a list of crypto assets daily closing prices in a xts
class. Here is a limited example:

asset.xts.lst <- list(BTCUSDT = structure(c(26759.63, 26862, 26852.48, 27154.15,
27973.45), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")), ETHUSDT = structure(c(1539.61, 1552.16, 1554.94, 1557.77,
1579.73), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")), TRXUSDT = structure(c(0.08481, 0.08549, 0.08501, 0.08667,
0.08821), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
class = c("xts",
"zoo")))

I will compute some function from PerformanceAnalytics package and
write all results in a tibble. Let's apply a first function,
Return.annualized() (at first I computed returns from daily prices). I
have now a list of arrays named my.ret.lst:

my.ret.lst <- list(BTCUSDT = structure(15.36, dim = c(1L, 1L), dimnames = list(
    "Annualized Return", NULL)), ETHUSDT = structure(4.06, dim = c(1L,
1L), dimnames = list("Annualized Return", NULL)), TRXUSDT =
structure(10.9, dim = c(1L,
1L), dimnames = list("Annualized Return", NULL)))

Now I can't find how to build a  tibble in a specific format (asset
names as row names and observations as column names) .
I can of course run:
> mytb <- as_tibble(unlist(my.ret.lst)
but I loose row and column names.
> as_tibble_col(unlist(my.ret.lst), column_name = 'return')
will give me the wanted column name but row names (in my case asset
names) are missing.


Thank you for help

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From @rn@ud@g@boury @end|ng |rom gm@||@com  Tue Oct 17 15:48:13 2023
From: @rn@ud@g@boury @end|ng |rom gm@||@com (arnaud gaboury)
Date: Tue, 17 Oct 2023 15:48:13 +0200
Subject: [R] transform a list of arrays to tibble
In-Reply-To: <003f01da00fe$75bc7870$61356950$@gmail.com>
References: <CAK1hC9so-7WJHsXHKmTRwbS6EjTyQNg9ZymCGSWG26qDL3nb0w@mail.gmail.com>
 <003f01da00fe$75bc7870$61356950$@gmail.com>
Message-ID: <CAK1hC9vhqSyPX70hFSrGieGupRyaq74gUvyH92KGBys1Mwx0HQ@mail.gmail.com>

In fact, I realized this is not recommended to give names to rows. A
better approach is to add a column with all names as row. The
following does the job:

asset.stats <- as_tibble_col(unlist(my.ret.lst), column_name =
'Annualized_return')
asset.stats <- rownames_to_column(asset.stats, var = 'Assets')
asset.stats$Assets <- names(my.ret.lst)

asset.stats <- structure(list(Assets = c("BTCUSDT", "ETHUSDT",
"TRXUSDT"), Annualized_return = c(BTCUSDT = 15.36,
ETHUSDT = 4.06, TRXUSDT = 10.9)), row.names = c(NA, -3L), class = c("tbl_df",
"tbl", "data.frame"))

On Tue, Oct 17, 2023 at 3:33?PM <avi.e.gross at gmail.com> wrote:
>
> Arnaud,
>
>
> Short answer may be that the tibble data structure will not be supporting row names and you may want to simply save those names in an additional column or externally.
>
> My first thought was to simply save the names you need and then put them back on the tibble. In your code, something like this:
>
> save.names <- names(my.ret.lst)
> result.tib <- as_tibble_col(unlist(my.ret.lst), column_name = 'return')
> rownames(result.tib) <- save.names
>
> Unfortunately, I got an error message:
>
> > save.names
> [1] "BTCUSDT" "ETHUSDT" "TRXUSDT"
> > rownames(result.tib) <- save.names
> Warning message:
> Setting row names on a tibble is deprecated.
> Error in exists(cacheKey, where = .rs.WorkingDataEnv, inherits = FALSE) :
>   invalid first argument
> Error in assign(cacheKey, frame, .rs.CachedDataEnv) :
>   attempt to use zero-length variable name
>
> If a tibble deprecates row names, it may not be the ideal storage for you. A plain data.frame works:
>
> > result.df <- as.data.frame(result.tib)
> > rownames(result.df) <- save.names
> > result.df
>         return
> BTCUSDT  15.36
> ETHUSDT   4.06
> TRXUSDT  10.90
>
> Trying to convert it to a tibble, as anticipated, is not working for me:
>
> > as.tibble(result.df)
> # A tibble: 3 ? 1
>   return
>    <dbl>
> 1  15.4
> 2   4.06
> 3  10.9
> Warning message:
> `as.tibble()` was deprecated in tibble 2.0.0.
> ? Please use `as_tibble()` instead.
> ? The signature and semantics have changed, see `?as_tibble`.
> This warning is displayed once every 8 hours.
> Call `lifecycle::last_lifecycle_warnings()` to see where this
> warning was generated.
>
> You can, instead, create a matrix and assign the row and column names you save or create:
>
> result.mat <- matrix(my.ret.lst)
> colnames(result.mat) <- c("return")
> rownames(result.mat) <- save.names
>
> > result.mat
>         return
> BTCUSDT 15.36
> ETHUSDT 4.06
> TRXUSDT 10.9
>
> But saving a matrix to reuse has other considerations.
>
> So, if I may make a suggestion, if you really want a tibble that allows you to know what each row is for, consider one of many methods for saving the previous row names as a new column. I used that to take the data.frame version I made above and got:
>
> > temp <- as_tibble(result.df, rownames="rows")
> > temp
> # A tibble: 3 ? 2
>   rows    return
>   <chr>    <dbl>
> 1 BTCUSDT  15.4
> 2 ETHUSDT   4.06
> 3 TRXUSDT  10.9
>
> Note the above uses as_tibble with an underscore, but many other ways to make a column exist.
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of arnaud gaboury
> Sent: Tuesday, October 17, 2023 4:30 AM
> To: r-help <r-help at r-project.org>
> Subject: [R] transform a list of arrays to tibble
>
> I work with a list of crypto assets daily closing prices in a xts
> class. Here is a limited example:
>
> asset.xts.lst <- list(BTCUSDT = structure(c(26759.63, 26862, 26852.48, 27154.15,
> 27973.45), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
> 1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
> class = c("xts",
> "zoo")), ETHUSDT = structure(c(1539.61, 1552.16, 1554.94, 1557.77,
> 1579.73), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
> 1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
> class = c("xts",
> "zoo")), TRXUSDT = structure(c(0.08481, 0.08549, 0.08501, 0.08667,
> 0.08821), dim = c(5L, 1L), index = structure(c(1697068800, 1697155200,
> 1697241600, 1697328000, 1697414400), tzone = "UTC", tclass = "Date"),
> class = c("xts",
> "zoo")))
>
> I will compute some function from PerformanceAnalytics package and
> write all results in a tibble. Let's apply a first function,
> Return.annualized() (at first I computed returns from daily prices). I
> have now a list of arrays named my.ret.lst:
>
> my.ret.lst <- list(BTCUSDT = structure(15.36, dim = c(1L, 1L), dimnames = list(
>     "Annualized Return", NULL)), ETHUSDT = structure(4.06, dim = c(1L,
> 1L), dimnames = list("Annualized Return", NULL)), TRXUSDT =
> structure(10.9, dim = c(1L,
> 1L), dimnames = list("Annualized Return", NULL)))
>
> Now I can't find how to build a  tibble in a specific format (asset
> names as row names and observations as column names) .
> I can of course run:
> > mytb <- as_tibble(unlist(my.ret.lst)
> but I loose row and column names.
> > as_tibble_col(unlist(my.ret.lst), column_name = 'return')
> will give me the wanted column name but row names (in my case asset
> names) are missing.
>
>
> Thank you for help
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Oct 18 16:59:01 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 18 Oct 2023 17:59:01 +0300
Subject: [R] Best way to test for numeric digits?
Message-ID: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>

Dear List members,

What is the best way to test for numeric digits?

suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
# [1] NA NA NA? 2 NA NA? 3
The above requires the use of the suppressWarnings function. Are there 
any better ways?

I was working to extract chemical elements from a formula, something 
like this:
split.symbol.character = function(x, rm.digits = TRUE) {
 ?? ?# Perl is partly broken in R 4.3, but this works:
 ?? ?regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
 ?? ?# stringi::stri_split(x, regex = regex);
 ?? ?s = strsplit(x, regex, perl = TRUE);
 ?? ?if(rm.digits) {
 ?? ???? s = lapply(s, function(s) {
 ?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
 ?? ???? ??? s = s[isNotD];
 ?? ???? });
 ?? ?}
 ?? ?return(s);
}

split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))


Sincerely,


Leonard


Note:
# works:
regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)


# broken in R 4.3.1
# only slightly "erroneous" with stringi::stri_split
regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)


From bbo|ker @end|ng |rom gm@||@com  Wed Oct 18 17:08:36 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Wed, 18 Oct 2023 11:08:36 -0400
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <f582ec27-7294-4a87-8f45-eb387fc9c918@gmail.com>

    There are some answers on Stack Overflow:

https://stackoverflow.com/questions/14984989/how-to-avoid-warning-when-introducing-nas-by-coercion



On 2023-10-18 10:59 a.m., Leonard Mada via R-help wrote:
> Dear List members,
> 
> What is the best way to test for numeric digits?
> 
> suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
> # [1] NA NA NA? 2 NA NA? 3
> The above requires the use of the suppressWarnings function. Are there 
> any better ways?
> 
> I was working to extract chemical elements from a formula, something 
> like this:
> split.symbol.character = function(x, rm.digits = TRUE) {
>  ?? ?# Perl is partly broken in R 4.3, but this works:
>  ?? ?regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>  ?? ?# stringi::stri_split(x, regex = regex);
>  ?? ?s = strsplit(x, regex, perl = TRUE);
>  ?? ?if(rm.digits) {
>  ?? ???? s = lapply(s, function(s) {
>  ?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
>  ?? ???? ??? s = s[isNotD];
>  ?? ???? });
>  ?? ?}
>  ?? ?return(s);
> }
> 
> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
> 
> 
> Sincerely,
> 
> 
> Leonard
> 
> 
> Note:
> # works:
> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> 
> 
> # broken in R 4.3.1
> # only slightly "erroneous" with stringi::stri_split
> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Oct 18 17:12:39 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 18 Oct 2023 08:12:39 -0700
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <7D10FE48-843C-4958-B454-2DB41F3642C9@dcn.davis.ca.us>

Use any occurrence of one or more digits as a separator?

s <- c( "CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl" )
strsplit( s, "\\d+" )


On October 18, 2023 7:59:01 AM PDT, Leonard Mada via R-help <r-help at r-project.org> wrote:
>Dear List members,
>
>What is the best way to test for numeric digits?
>
>suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
># [1] NA NA NA? 2 NA NA? 3
>The above requires the use of the suppressWarnings function. Are there any better ways?
>
>I was working to extract chemical elements from a formula, something like this:
>split.symbol.character = function(x, rm.digits = TRUE) {
>?? ?# Perl is partly broken in R 4.3, but this works:
>?? ?regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>?? ?# stringi::stri_split(x, regex = regex);
>?? ?s = strsplit(x, regex, perl = TRUE);
>?? ?if(rm.digits) {
>?? ???? s = lapply(s, function(s) {
>?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
>?? ???? ??? s = s[isNotD];
>?? ???? });
>?? ?}
>?? ?return(s);
>}
>
>split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
>
>
>Sincerely,
>
>
>Leonard
>
>
>Note:
># works:
>regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>
>
># broken in R 4.3.1
># only slightly "erroneous" with stringi::stri_split
>regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Oct 18 17:26:27 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 18 Oct 2023 18:26:27 +0300
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <20231018182627.3e32cc5d@arachnoid>

? Wed, 18 Oct 2023 17:59:01 +0300
Leonard Mada via R-help <r-help at r-project.org> ?????:

> What is the best way to test for numeric digits?
> 
> suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
> # [1] NA NA NA? 2 NA NA? 3
> The above requires the use of the suppressWarnings function. Are
> there any better ways?

This test also has the downside of accepting things like "1.2" and
"+1e-100". Since you need digits only, why not use a regular expression
to test for '^[0-9]+$'?

> I was working to extract chemical elements from a formula, something 
> like this:

> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))

Perhaps the following function could be made to work in your cases?

function(x) regmatches(x, gregexec('([A-Z][a-z]*)([0-9]*)', x))

retval[2,] is the element and retval[3,] is the coefficient. Do you
need brackets? Charges? Non-stoichiometric compounds? (SMILES?)

> # broken in R 4.3.1
> # only slightly "erroneous" with stringi::stri_split
> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl =
> T)

strsplit() has special historical behaviour about empty matches:
https://bugs.r-project.org/show_bug.cgi?id=16745

It's unfortunate that it doesn't split on empty matches the way you
would intuitively expect it to, but changing the behaviour at this
point is hard. Even adding a flag may be complicated to implement. Do
you want such a flag?

-- 
Best regards,
Ivan


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct 18 17:53:42 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 18 Oct 2023 16:53:42 +0100
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>

?s 15:59 de 18/10/2023, Leonard Mada via R-help escreveu:
> Dear List members,
> 
> What is the best way to test for numeric digits?
> 
> suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
> # [1] NA NA NA? 2 NA NA? 3
> The above requires the use of the suppressWarnings function. Are there 
> any better ways?
> 
> I was working to extract chemical elements from a formula, something 
> like this:
> split.symbol.character = function(x, rm.digits = TRUE) {
>  ?? ?# Perl is partly broken in R 4.3, but this works:
>  ?? ?regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>  ?? ?# stringi::stri_split(x, regex = regex);
>  ?? ?s = strsplit(x, regex, perl = TRUE);
>  ?? ?if(rm.digits) {
>  ?? ???? s = lapply(s, function(s) {
>  ?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
>  ?? ???? ??? s = s[isNotD];
>  ?? ???? });
>  ?? ?}
>  ?? ?return(s);
> }
> 
> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
> 
> 
> Sincerely,
> 
> 
> Leonard
> 
> 
> Note:
> # works:
> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> 
> 
> # broken in R 4.3.1
> # only slightly "erroneous" with stringi::stri_split
> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

If you want to extract chemical elements symbols, the following might work.
It uses the periodic table in GitHub package chemr and a package stringr 
function.


devtools::install_github("paleolimbot/chemr")



split_chem_elements <- function(x) {
   data(pt, package = "chemr", envir = environment())
   el <- pt$symbol[order(nchar(pt$symbol), decreasing = TRUE)]
   pat <- paste(el, collapse = "|")
   stringr::str_extract_all(x, pat)
}

mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
split_chem_elements(mol)
#> [[1]]
#> [1] "C"  "Cl" "F"
#>
#> [[2]]
#> [1] "Li" "Al" "H"
#>
#> [[3]]
#>  [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"


It is also possible to rewrite the function without calls to non base 
packages but that will take some more work.

Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Oct 18 18:24:16 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 18 Oct 2023 19:24:16 +0300
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
Message-ID: <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>

Dear Rui,

Thank you for your reply.

I do have actually access to the chemical symbols: I have started to 
refactor and enhance the Rpdb package, see Rpdb::elements:
https://github.com/discoleo/Rpdb

However, the regex that you have constructed is quite heavy, as it needs 
to iterate through all chemical symbols (in decreasing nchar). Elements 
like C, and especially O, P or S, appear late in the regex expression - 
but are quite common in chemistry.

The alternative regex is (in this respect) simpler. It actually works 
(once you know about the workaround).

Q: My question focused if there is anything like is.numeric, but to 
parse each element of a vector.

Sincerely,


Leonard


On 10/18/2023 6:53 PM, Rui Barradas wrote:
> ?s 15:59 de 18/10/2023, Leonard Mada via R-help escreveu:
>> Dear List members,
>>
>> What is the best way to test for numeric digits?
>>
>> suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
>> # [1] NA NA NA? 2 NA NA? 3
>> The above requires the use of the suppressWarnings function. Are there
>> any better ways?
>>
>> I was working to extract chemical elements from a formula, something
>> like this:
>> split.symbol.character = function(x, rm.digits = TRUE) {
>>   ?? ?# Perl is partly broken in R 4.3, but this works:
>>   ?? ?regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>>   ?? ?# stringi::stri_split(x, regex = regex);
>>   ?? ?s = strsplit(x, regex, perl = TRUE);
>>   ?? ?if(rm.digits) {
>>   ?? ???? s = lapply(s, function(s) {
>>   ?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
>>   ?? ???? ??? s = s[isNotD];
>>   ?? ???? });
>>   ?? ?}
>>   ?? ?return(s);
>> }
>>
>> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
>>
>>
>> Sincerely,
>>
>>
>> Leonard
>>
>>
>> Note:
>> # works:
>> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>
>>
>> # broken in R 4.3.1
>> # only slightly "erroneous" with stringi::stri_split
>> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://eu01.z.antigena.com/l/boS9jwics77ZHEe0yO-Lt8AIDZm9-s6afEH4ulMO3sMyE9mLHNAR603_eeHQG2-_t0N2KsFVQRcldL-XDy~dLMhLtJWX69QR9Y0E8BCSopItW8RqG76PPj7ejTkm7UOsLQcy9PUV0-uTjKs2zeC_oxUOrjaFUWIhk8xuDJWb
>> PLEASE do read the posting guide
>> https://eu01.z.antigena.com/l/rUSt2cEKjOO0HrIFcEgHH_NROfU9g5sZ8MaK28fnBl9G6CrCrrQyqd~_vNxLYzQ7Ruvlxfq~P_77QvT1BngSg~NLk7joNyC4dSEagQsiroWozpyhR~tbGOGCRg5cGlOszZLsmq2~w6qHO5T~8b5z8ZBTJkCZ8CBDi5KYD33-OK
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> If you want to extract chemical elements symbols, the following might work.
> It uses the periodic table in GitHub package chemr and a package stringr
> function.
>
>
> devtools::install_github("paleolimbot/chemr")
>
>
>
> split_chem_elements <- function(x) {
>     data(pt, package = "chemr", envir = environment())
>     el <- pt$symbol[order(nchar(pt$symbol), decreasing = TRUE)]
>     pat <- paste(el, collapse = "|")
>     stringr::str_extract_all(x, pat)
> }
>
> mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
> split_chem_elements(mol)
> #> [[1]]
> #> [1] "C"  "Cl" "F"
> #>
> #> [[2]]
> #> [1] "Li" "Al" "H"
> #>
> #> [[3]]
> #>  [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"
>
>
> It is also possible to rewrite the function without calls to non base
> packages but that will take some more work.
>
> Hope this helps,
>
> Rui Barradas
>
>


From @vi@e@gross m@iii@g oii gm@ii@com  Wed Oct 18 19:19:28 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Wed, 18 Oct 2023 13:19:28 -0400
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
 <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
Message-ID: <003701da01e7$40a9bd70$c1fd3850$@gmail.com>

Rui,

The problem with searching for elements, as with many kinds of text, is that the optimal search order may depend on the probabilities of what is involved. There can be more elements added such as Unobtainium in the future with whatever abbreviations that may then change the algorithm you may have chosen but then again, who actually looks for elements with a negligible half-life?

If you had an application focused on Organic Chemistry, a relatively few of the elements would normally be present while for something like electronics components of some kind, a different overlapping palette with probabilities can be found.

Just how important is the efficiency for you? If this was in a language like python, I would consider using a dictionary or set and I think there are packages in R that support a version of this.  In your case, one solution can be to pre-create a dictionary of all the elements, or just a set, and take your word tokens and check if they are in the dictionary/set or not. Any that aren't can then be further examined as needed and if your data is set a specific way, they may all just end up to be numeric. The cost is the hashing and of course memory used. Your corpus of elements is small enough that this may not be as helpful as parsing text that can contain many thousands of words.

Even in plain R, you can probably also use something like:

elements = c("H", "He", "Li", ...)
If (text %in% elements) ...

Something like the above may not be faster but can be quite a bit more readable than the regular expressions

But plenty of the solutions others offered may well be great for your current need.

Some may even work with Handwavium.

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Leonard Mada via R-help
Sent: Wednesday, October 18, 2023 12:24 PM
To: Rui Barradas <ruipbarradas at sapo.pt>; R-help Mailing List <r-help at r-project.org>
Subject: Re: [R] Best way to test for numeric digits?

Dear Rui,

Thank you for your reply.

I do have actually access to the chemical symbols: I have started to 
refactor and enhance the Rpdb package, see Rpdb::elements:
https://github.com/discoleo/Rpdb

However, the regex that you have constructed is quite heavy, as it needs 
to iterate through all chemical symbols (in decreasing nchar). Elements 
like C, and especially O, P or S, appear late in the regex expression - 
but are quite common in chemistry.

The alternative regex is (in this respect) simpler. It actually works 
(once you know about the workaround).

Q: My question focused if there is anything like is.numeric, but to 
parse each element of a vector.

Sincerely,


Leonard


On 10/18/2023 6:53 PM, Rui Barradas wrote:
> ?s 15:59 de 18/10/2023, Leonard Mada via R-help escreveu:
>> Dear List members,
>>
>> What is the best way to test for numeric digits?
>>
>> suppressWarnings(as.double(c("Li", "Na", "K",  "2", "Rb", "Ca", "3")))
>> # [1] NA NA NA  2 NA NA  3
>> The above requires the use of the suppressWarnings function. Are there
>> any better ways?
>>
>> I was working to extract chemical elements from a formula, something
>> like this:
>> split.symbol.character = function(x, rm.digits = TRUE) {
>>       # Perl is partly broken in R 4.3, but this works:
>>       regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>>       # stringi::stri_split(x, regex = regex);
>>       s = strsplit(x, regex, perl = TRUE);
>>       if(rm.digits) {
>>           s = lapply(s, function(s) {
>>               isNotD = is.na(suppressWarnings(as.numeric(s)));
>>               s = s[isNotD];
>>           });
>>       }
>>       return(s);
>> }
>>
>> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
>>
>>
>> Sincerely,
>>
>>
>> Leonard
>>
>>
>> Note:
>> # works:
>> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>
>>
>> # broken in R 4.3.1
>> # only slightly "erroneous" with stringi::stri_split
>> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://eu01.z.antigena.com/l/boS9jwics77ZHEe0yO-Lt8AIDZm9-s6afEH4ulMO3sMyE9mLHNAR603_eeHQG2-_t0N2KsFVQRcldL-XDy~dLMhLtJWX69QR9Y0E8BCSopItW8RqG76PPj7ejTkm7UOsLQcy9PUV0-uTjKs2zeC_oxUOrjaFUWIhk8xuDJWb
>> PLEASE do read the posting guide
>> https://eu01.z.antigena.com/l/rUSt2cEKjOO0HrIFcEgHH_NROfU9g5sZ8MaK28fnBl9G6CrCrrQyqd~_vNxLYzQ7Ruvlxfq~P_77QvT1BngSg~NLk7joNyC4dSEagQsiroWozpyhR~tbGOGCRg5cGlOszZLsmq2~w6qHO5T~8b5z8ZBTJkCZ8CBDi5KYD33-OK
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> If you want to extract chemical elements symbols, the following might work.
> It uses the periodic table in GitHub package chemr and a package stringr
> function.
>
>
> devtools::install_github("paleolimbot/chemr")
>
>
>
> split_chem_elements <- function(x) {
>     data(pt, package = "chemr", envir = environment())
>     el <- pt$symbol[order(nchar(pt$symbol), decreasing = TRUE)]
>     pat <- paste(el, collapse = "|")
>     stringr::str_extract_all(x, pat)
> }
>
> mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
> split_chem_elements(mol)
> #> [[1]]
> #> [1] "C"  "Cl" "F"
> #>
> #> [[2]]
> #> [1] "Li" "Al" "H"
> #>
> #> [[3]]
> #>  [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"
>
>
> It is also possible to rewrite the function without calls to non base
> packages but that will take some more work.
>
> Hope this helps,
>
> Rui Barradas
>
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct 18 19:45:04 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 18 Oct 2023 18:45:04 +0100
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
 <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
Message-ID: <7e0724d4-afff-4275-b0ba-be6b6d9de0ff@sapo.pt>

?s 17:24 de 18/10/2023, Leonard Mada escreveu:
> Dear Rui,
> 
> Thank you for your reply.
> 
> I do have actually access to the chemical symbols: I have started to 
> refactor and enhance the Rpdb package, see Rpdb::elements:
> https://github.com/discoleo/Rpdb
> 
> However, the regex that you have constructed is quite heavy, as it needs 
> to iterate through all chemical symbols (in decreasing nchar). Elements 
> like C, and especially O, P or S, appear late in the regex expression - 
> but are quite common in chemistry.
> 
> The alternative regex is (in this respect) simpler. It actually works 
> (once you know about the workaround).
> 
> Q: My question focused if there is anything like is.numeric, but to 
> parse each element of a vector.
> 
> Sincerely,
> 
> 
> Leonard
> 
> 
> On 10/18/2023 6:53 PM, Rui Barradas wrote:
>> ?s 15:59 de 18/10/2023, Leonard Mada via R-help escreveu:
>>> Dear List members,
>>>
>>> What is the best way to test for numeric digits?
>>>
>>> suppressWarnings(as.double(c("Li", "Na", "K",? "2", "Rb", "Ca", "3")))
>>> # [1] NA NA NA? 2 NA NA? 3
>>> The above requires the use of the suppressWarnings function. Are there
>>> any better ways?
>>>
>>> I was working to extract chemical elements from a formula, something
>>> like this:
>>> split.symbol.character = function(x, rm.digits = TRUE) {
>>> ? ?? ?# Perl is partly broken in R 4.3, but this works:
>>> ? ?? ?regex = 
>>> "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>>> ? ?? ?# stringi::stri_split(x, regex = regex);
>>> ? ?? ?s = strsplit(x, regex, perl = TRUE);
>>> ? ?? ?if(rm.digits) {
>>> ? ?? ???? s = lapply(s, function(s) {
>>> ? ?? ???? ??? isNotD = is.na(suppressWarnings(as.numeric(s)));
>>> ? ?? ???? ??? s = s[isNotD];
>>> ? ?? ???? });
>>> ? ?? ?}
>>> ? ?? ?return(s);
>>> }
>>>
>>> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
>>>
>>>
>>> Sincerely,
>>>
>>>
>>> Leonard
>>>
>>>
>>> Note:
>>> # works:
>>> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>>
>>>
>>> # broken in R 4.3.1
>>> # only slightly "erroneous" with stringi::stri_split
>>> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>>> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://eu01.z.antigena.com/l/boS9jwics77ZHEe0yO-Lt8AIDZm9-s6afEH4ulMO3sMyE9mLHNAR603_eeHQG2-_t0N2KsFVQRcldL-XDy~dLMhLtJWX69QR9Y0E8BCSopItW8RqG76PPj7ejTkm7UOsLQcy9PUV0-uTjKs2zeC_oxUOrjaFUWIhk8xuDJWb
>>> PLEASE do read the posting guide
>>> https://eu01.z.antigena.com/l/rUSt2cEKjOO0HrIFcEgHH_NROfU9g5sZ8MaK28fnBl9G6CrCrrQyqd~_vNxLYzQ7Ruvlxfq~P_77QvT1BngSg~NLk7joNyC4dSEagQsiroWozpyhR~tbGOGCRg5cGlOszZLsmq2~w6qHO5T~8b5z8ZBTJkCZ8CBDi5KYD33-OK
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> If you want to extract chemical elements symbols, the following might 
>> work.
>> It uses the periodic table in GitHub package chemr and a package stringr
>> function.
>>
>>
>> devtools::install_github("paleolimbot/chemr")
>>
>>
>>
>> split_chem_elements <- function(x) {
>> ??? data(pt, package = "chemr", envir = environment())
>> ??? el <- pt$symbol[order(nchar(pt$symbol), decreasing = TRUE)]
>> ??? pat <- paste(el, collapse = "|")
>> ??? stringr::str_extract_all(x, pat)
>> }
>>
>> mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
>> split_chem_elements(mol)
>> #> [[1]]
>> #> [1] "C"? "Cl" "F"
>> #>
>> #> [[2]]
>> #> [1] "Li" "Al" "H"
>> #>
>> #> [[3]]
>> #>? [1] "C"? "Cl" "C"? "O"? "Al" "P"? "O"? "Si" "O"? "Cl"
>>
>>
>> It is also possible to rewrite the function without calls to non base
>> packages but that will take some more work.
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>
Hello,

You and Avi are right, my function's performance is terrible. The 
following is much faster.

As for how to not have digits throw warnings, the lapply in the version 
of your function below solves it by setting grep argument invert = TRUE. 
This will get all strings where digits do not occur.



split_chem_elements <- function(x, rm.digits = TRUE) {
   regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
   if(rm.digits) {
     stringr::str_replace_all(mol, regex, "#") |>
       strsplit("#|[[:digit:]]") |>
       lapply(\(x) x[nchar(x) > 0L])
   } else {
     strsplit(x, regex, perl = TRUE)
   }
}

split.symbol.character = function(x, rm.digits = TRUE) {
   # Perl is partly broken in R 4.3, but this works:
   regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
   s <- strsplit(x, regex, perl = TRUE)
   if(rm.digits) {
     s <- lapply(s, \(x) x[grep("[[:digit:]]+", x, invert = TRUE)])
   }
   s
}

mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
split_chem_elements(mol)
#> [[1]]
#> [1] "C"  "Cl" "F"
#>
#> [[2]]
#> [1] "Li" "Al" "H"
#>
#> [[3]]
#>  [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"
split.symbol.character(mol)
#> [[1]]
#> [1] "C"  "Cl" "F"
#>
#> [[2]]
#> [1] "Li" "Al" "H"
#>
#> [[3]]
#>  [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"

mol10000 <- rep(mol, 10000)

system.time(
   split_chem_elements(mol10000)
)
#>    user  system elapsed
#>    0.01    0.00    0.02
system.time(
   split.symbol.character(mol10000)
)
#>    user  system elapsed
#>    0.35    0.07    0.47



Hope this helps,

Rui Barradas

-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Oct 18 20:35:38 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 18 Oct 2023 21:35:38 +0300
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <7e0724d4-afff-4275-b0ba-be6b6d9de0ff@sapo.pt>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
 <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
 <7e0724d4-afff-4275-b0ba-be6b6d9de0ff@sapo.pt>
Message-ID: <8314deb9-1e71-4a7d-ad0d-ade1f7c7008a@syonic.eu>

Dear Rui,

On 10/18/2023 8:45 PM, Rui Barradas wrote:
> split_chem_elements <- function(x, rm.digits = TRUE) {
> ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
> ? if(rm.digits) {
> ??? stringr::str_replace_all(mol, regex, "#") |>
> ????? strsplit("#|[[:digit:]]") |>
> ????? lapply(\(x) x[nchar(x) > 0L])
> ? } else {
> ??? strsplit(x, regex, perl = TRUE)
> ? }
> }
>
> split.symbol.character = function(x, rm.digits = TRUE) {
> ? # Perl is partly broken in R 4.3, but this works:
> ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
> ? s <- strsplit(x, regex, perl = TRUE)
> ? if(rm.digits) {
> ??? s <- lapply(s, \(x) x[grep("[[:digit:]]+", x, invert = TRUE)])
> ? }
> ? s
> }

You have a glitch (mol is hardcoded) in the code of the first function. 
The times are similar, after correcting for that glitch.

Note:
- grep("[[:digit:]]", ...) behaves almost twice as slow as grep("[0-9]", 
...)!
- corrected results below;

Sincerely,

Leonard
#######

split_chem_elements <- function(x, rm.digits = TRUE) {
 ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
 ? if(rm.digits) {
 ??? stringr::str_replace_all(x, regex, "#") |>
 ????? strsplit("#|[[:digit:]]") |>
 ????? lapply(\(x) x[nchar(x) > 0L])
 ? } else {
 ??? strsplit(x, regex, perl = TRUE)
 ? }
}

split.symbol.character = function(x, rm.digits = TRUE) {
 ? # Perl is partly broken in R 4.3, but this works:
 ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
 ? s <- strsplit(x, regex, perl = TRUE)
 ? if(rm.digits) {
 ??? s <- lapply(s, \(x) x[grep("[0-9]", x, invert = TRUE)])
 ? }
 ? s
}

mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
mol10000 <- rep(mol, 10000)

system.time(
 ? split_chem_elements(mol10000)
)
#?? user? system elapsed
#?? 0.58??? 0.00??? 0.58

system.time(
 ? split.symbol.character(mol10000)
)
#?? user? system elapsed
#?? 0.67??? 0.00??? 0.67


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct 18 20:54:32 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 18 Oct 2023 19:54:32 +0100
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <8314deb9-1e71-4a7d-ad0d-ade1f7c7008a@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
 <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
 <7e0724d4-afff-4275-b0ba-be6b6d9de0ff@sapo.pt>
 <8314deb9-1e71-4a7d-ad0d-ade1f7c7008a@syonic.eu>
Message-ID: <4bc2d866-15fb-4fb0-801f-f6ad4c445280@sapo.pt>

?s 19:35 de 18/10/2023, Leonard Mada escreveu:
> Dear Rui,
> 
> On 10/18/2023 8:45 PM, Rui Barradas wrote:
>> split_chem_elements <- function(x, rm.digits = TRUE) {
>> ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
>> ? if(rm.digits) {
>> ??? stringr::str_replace_all(mol, regex, "#") |>
>> ????? strsplit("#|[[:digit:]]") |>
>> ????? lapply(\(x) x[nchar(x) > 0L])
>> ? } else {
>> ??? strsplit(x, regex, perl = TRUE)
>> ? }
>> }
>>
>> split.symbol.character = function(x, rm.digits = TRUE) {
>> ? # Perl is partly broken in R 4.3, but this works:
>> ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
>> ? s <- strsplit(x, regex, perl = TRUE)
>> ? if(rm.digits) {
>> ??? s <- lapply(s, \(x) x[grep("[[:digit:]]+", x, invert = TRUE)])
>> ? }
>> ? s
>> }
> 
> You have a glitch (mol is hardcoded) in the code of the first function. 
> The times are similar, after correcting for that glitch.
> 
> Note:
> - grep("[[:digit:]]", ...) behaves almost twice as slow as grep("[0-9]", 
> ...)!
> - corrected results below;
> 
> Sincerely,
> 
> Leonard
> #######
> 
> split_chem_elements <- function(x, rm.digits = TRUE) {
>  ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
>  ? if(rm.digits) {
>  ??? stringr::str_replace_all(x, regex, "#") |>
>  ????? strsplit("#|[[:digit:]]") |>
>  ????? lapply(\(x) x[nchar(x) > 0L])
>  ? } else {
>  ??? strsplit(x, regex, perl = TRUE)
>  ? }
> }
> 
> split.symbol.character = function(x, rm.digits = TRUE) {
>  ? # Perl is partly broken in R 4.3, but this works:
>  ? regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
>  ? s <- strsplit(x, regex, perl = TRUE)
>  ? if(rm.digits) {
>  ??? s <- lapply(s, \(x) x[grep("[0-9]", x, invert = TRUE)])
>  ? }
>  ? s
> }
> 
> mol <- c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl")
> mol10000 <- rep(mol, 10000)
> 
> system.time(
>  ? split_chem_elements(mol10000)
> )
> #?? user? system elapsed
> #?? 0.58??? 0.00??? 0.58
> 
> system.time(
>  ? split.symbol.character(mol10000)
> )
> #?? user? system elapsed
> #?? 0.67??? 0.00??? 0.67
> 
Hello,

You are right, sorry for the blunder :(.
In the code below I have replaced stringr::str_replace_all by the 
package stringi function stri_replace_all_regex and the improvement is 
significant.


split_chem_elements <- function(x, rm.digits = TRUE) {
   regex <- "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])"
   if(rm.digits) {
     stringi::stri_replace_all_regex(x, "#", regex) |>
       strsplit("#|[0-9]") |>
       lapply(\(x) x[nchar(x) > 0L])
   } else {
     strsplit(x, regex, perl = TRUE)
   }
}

# system.time(
#   split_chem_elements(mol10000)
# )
#  user  system elapsed
#  0.06    0.00    0.09
# system.time(
#   split.symbol.character(mol10000)
# )
#  user  system elapsed
#  0.25    0.00    0.28



Hope this helps,

Rui Barradas




-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Oct 18 21:26:20 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 18 Oct 2023 22:26:20 +0300
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <4bc2d866-15fb-4fb0-801f-f6ad4c445280@sapo.pt>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <c5fabf84-2032-4fce-b913-502654494f9b@sapo.pt>
 <b6bae903-51b3-413e-9c8a-d97836fec9ac@syonic.eu>
 <7e0724d4-afff-4275-b0ba-be6b6d9de0ff@sapo.pt>
 <8314deb9-1e71-4a7d-ad0d-ade1f7c7008a@syonic.eu>
 <4bc2d866-15fb-4fb0-801f-f6ad4c445280@sapo.pt>
Message-ID: <20231018222620.725e5aa1@Tarkus>

The matching approach is also competitive:

match.symbol2 <- function(x, rm.digits = TRUE) {
 if (rm.digits) stringi::stri_extract_all(x, regex = '[A-Z][a-z]*') else
 lapply(
  stringi::stri_match_all(x, regex = '([A-Z][a-z]*)([0-9]*)'), \(m) {
   m <- t(m[,2:3]); m[nzchar(m)]
  }
 )
}
mol50000 <- rep(mol, 50000)
system.time(split.symbol.character(mol50000))
#   user  system elapsed 
#  1.518   0.000   1.518 
system.time(split_chem_elements(mol50000))
#   user  system elapsed 
#  0.435   0.000   0.436 
system.time(match.symbol2(mol50000))
#   user  system elapsed 
#  0.117   0.000   0.117 

-- 
Best regards,
Ivan


From drj|m|emon @end|ng |rom gm@||@com  Thu Oct 19 01:38:48 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 19 Oct 2023 10:38:48 +1100
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <f582ec27-7294-4a87-8f45-eb387fc9c918@gmail.com>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
 <f582ec27-7294-4a87-8f45-eb387fc9c918@gmail.com>
Message-ID: <CA+8X3fXbzS+cOmS6Fj3p5u4L4aQKdES0DJ8uZ4n+-bufVOdnwA@mail.gmail.com>

Please delete drjimlemon at bitwrit.com from your mailing list. He passed away
a month ago.
Regards,
Juel (wife)

On Thu, 19 Oct 2023, 02:09 Ben Bolker <bbolker at gmail.com wrote:

>     There are some answers on Stack Overflow:
>
>
> https://stackoverflow.com/questions/14984989/how-to-avoid-warning-when-introducing-nas-by-coercion
>
>
>
> On 2023-10-18 10:59 a.m., Leonard Mada via R-help wrote:
> > Dear List members,
> >
> > What is the best way to test for numeric digits?
> >
> > suppressWarnings(as.double(c("Li", "Na", "K",  "2", "Rb", "Ca", "3")))
> > # [1] NA NA NA  2 NA NA  3
> > The above requires the use of the suppressWarnings function. Are there
> > any better ways?
> >
> > I was working to extract chemical elements from a formula, something
> > like this:
> > split.symbol.character = function(x, rm.digits = TRUE) {
> >      # Perl is partly broken in R 4.3, but this works:
> >      regex =
> "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> >      # stringi::stri_split(x, regex = regex);
> >      s = strsplit(x, regex, perl = TRUE);
> >      if(rm.digits) {
> >          s = lapply(s, function(s) {
> >              isNotD = is.na(suppressWarnings(as.numeric(s)));
> >              s = s[isNotD];
> >          });
> >      }
> >      return(s);
> > }
> >
> > split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
> >
> >
> > Sincerely,
> >
> >
> > Leonard
> >
> >
> > Note:
> > # works:
> > regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> > strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> >
> >
> > # broken in R 4.3.1
> > # only slightly "erroneous" with stringi::stri_split
> > regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> > strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Thu Oct 19 01:49:25 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 19 Oct 2023 10:49:25 +1100
Subject: [R] Fwd: r-stats: Geometric Distribution
In-Reply-To: <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
 <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
Message-ID: <CA+8X3fVg2cufkRLfH0MB8buRQNnj3yF00UdNyM06C8qK7ydEOQ@mail.gmail.com>

Please delete drjimlemon at gmail.com from your mailing lists. He passed away
a mknth ago.
Regards,
Juel
Wife

On Tue, 17 Oct 2023, 22:58 Sahil Sharma <sahilsharmahimalaya at gmail.com
wrote:

> ---------- Forwarded message ---------
> From: Sahil Sharma <sahilsharmahimalaya at gmail.com>
> Date: Tue, Oct 17, 2023 at 12:10?PM
> Subject: r-stats: Geometric Distribution
> To: <do-use-Contact-address at r-project.org>
>
>
> Hey I want to raise one issue in *r-stats **geometric distribution *
> function.
>
> I have found the dgeom(x,p) which denotes probability density function of
> geometric distribution, is not reducing 1 from x.
>
> The original formula for Geometric Distribution PDF is *((1-p)^x-1)*P*.
> However, the current r function *dgeom(x, p)* is doing this: *((1-p)^x)*P,
> *it
> is not reducing 1 from x.
>
> I don't know whether this it is kept as it is intentionally, but I thought
> of just informing you, in case it's an error, so you can correct it.
>
> Thanks.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Thu Oct 19 02:45:09 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 19 Oct 2023 13:45:09 +1300
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <CABcYAd+CRJ+pCpcUx6WCJ+-GTxs4wtwkALNqJomvMnB2X6LPTg@mail.gmail.com>

This seems unnecessarily complex.  Or rather,
it pushes the complexity into an arcane notation
What we really want is something that says "here is a string,
here is a pattern, give me all the substrings that match."
What we're given is a function that tells us where those
substrings are.

# greg.matches(pattern, text)
# accepts a POSIX regular expression, pattern
# and a text to search in.  Both arguments must be character strings
# (length(...) = 1) not longer vectors of strings.
# It returns a character vector of all the (non-overlapping)
# substrings of text as determined by gregexpr.

greg.matches <- function (pattern, text) {
    if (length(pattern) > 1) stop("pattern has too many elements")
    if (length(text)    > 1) stop(   "text has too many elements")
    match.info <- gregexpr(pattern, text)
    starts <- match.info[[1]]
    stops <- attr(starts, "match.length") - 1 + starts
    sapply(seq(along=starts), function (i) {
       substr(text, starts[i], stops[i])
    })
}

Given greg.matches, we can do the rest with very simple
and easily comprehended regular expressions.

# parse.chemical(formula)
# takes a simple chemical formula "<element><count>..." and
# returns a list with components
# $elements -- character -- the atom symbols
# $counts   -- number    -- the counts (missing counts taken as 1).
# BEWARE.  This does not handle formulas like "CH(OH)3".

parse.chemical <- function (formula) {
    parts <- greg.matches("[A-Z][a-z]*[0-9]*", formula)
    elements <- gsub("[0-9]+", "", parts)
    counts <- as.numeric(gsub("[^0-9]+", "", parts))
    counts <- ifelse(is.na(counts), 1, counts)
    list(elements=elements, counts=counts)
}

> parse.chemical("CCl3F")
$elements
[1] "C"  "Cl" "F"

$counts
[1] 1 3 1

> parse.chemical("Li4Al4H16")
$elements
[1] "Li" "Al" "H"

$counts
[1]  4  4 16

> parse.chemical("CCl2CO2AlPO4SiO4Cl")
$elements
 [1] "C"  "Cl" "C"  "O"  "Al" "P"  "O"  "Si" "O"  "Cl"

$counts
 [1] 1 2 1 2 1 1 4 1 4 1


On Thu, 19 Oct 2023 at 03:59, Leonard Mada via R-help <r-help at r-project.org>
wrote:

> Dear List members,
>
> What is the best way to test for numeric digits?
>
> suppressWarnings(as.double(c("Li", "Na", "K",  "2", "Rb", "Ca", "3")))
> # [1] NA NA NA  2 NA NA  3
> The above requires the use of the suppressWarnings function. Are there
> any better ways?
>
> I was working to extract chemical elements from a formula, something
> like this:
> split.symbol.character = function(x, rm.digits = TRUE) {
>      # Perl is partly broken in R 4.3, but this works:
>      regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
>      # stringi::stri_split(x, regex = regex);
>      s = strsplit(x, regex, perl = TRUE);
>      if(rm.digits) {
>          s = lapply(s, function(s) {
>              isNotD = is.na(suppressWarnings(as.numeric(s)));
>              s = s[isNotD];
>          });
>      }
>      return(s);
> }
>
> split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))
>
>
> Sincerely,
>
>
> Leonard
>
>
> Note:
> # works:
> regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>
>
> # broken in R 4.3.1
> # only slightly "erroneous" with stringi::stri_split
> regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
> strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @@h||@h@rm@h|m@|@y@ @end|ng |rom gm@||@com  Thu Oct 19 07:44:21 2023
From: @@h||@h@rm@h|m@|@y@ @end|ng |rom gm@||@com (Sahil Sharma)
Date: Thu, 19 Oct 2023 11:14:21 +0530
Subject: [R] Fwd: r-stats: Geometric Distribution
In-Reply-To: <20231017160934.51f1cced@arachnoid>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
 <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
 <20231017160934.51f1cced@arachnoid>
Message-ID: <CAPod2kG4KX_70uzrVJ1jkte468=i6z6qU04GYkz+-6xRjLU54Q@mail.gmail.com>

Hi, today I came across the same problem. And, I'm able to explain it with
an example as well.

Suppose I want to PDF or P(X=5) in Geometric Distribution with P = 0.2.

The theoretical formula is P * (1-P) ^ (x -1). But the R function dgeom(x,
p) works like P * (1-P) ^ x, it does not reduce 1 from x because in r the x
starts from 0. In that case, if I am writing x as 5 then in-principle it
should work like x = 4 because starting from zero, 4 is the 5th place of x.
E.g., 0,1,2,3,4 there are five digits.

However, the x in dgeom(x,p) is exactly working like 5.

Here are some codes that I used:

> dgeom(5, 0.2)
[1] 0.065536

If I use the formula manually, i.e., p(1-P)^x-1, I get this.

> 0.2 * (1-0.2)^(5-1)
[1] 0.08192

Even if x starts from 0 in r, that's why we do not minus 1 from x, it
should work like 4 when I'm writing 5, but not, it is working exactly 5.
For example, if I manually put the 5 at the place of X, I get same results
as dgeom(x,p).

> 0.2 * (1-0.2)^(5)
[1] 0.065536



I guess there is a need for solution to this problem otherwise, it may
result in erroneous calculations. Either the function dgeom(x,p) can
perform and result as per the theoretical definition of PDF in Geometric
Distribution, or the user applying this function must be prompted about the
nature of this function so that the user manually minus one from x and then
enter it into the function dgeom(x,p).

Thanks, and Regards
Sahil





On Tue, Oct 17, 2023 at 6:39?PM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> ? Tue, 17 Oct 2023 12:12:05 +0530
> Sahil Sharma <sahilsharmahimalaya at gmail.com> ?????:
>
> > The original formula for Geometric Distribution PDF is
> > *((1-p)^x-1)*P*. However, the current r function *dgeom(x, p)* is
> > doing this: *((1-p)^x)*P, *it is not reducing 1 from x.
>
> Your definition is valid for integer 'x' starting from 1. ('x'th trial
> is the first success.)
>
> The definition in help(dgeom):
>
> >> p(x) = p (1-p)^x
> >> for x = 0, 1, 2, ..., 0 < p <= 1.
>
> ...is valid for integer x starting from 0. ('x' failures until the
> first success.)
>
> They are equivalent, but they use the name 'x' for two subtly different
> things.
>
> Thank you for giving attention to this and best of luck in your future
> research!
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct 19 09:20:18 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 19 Oct 2023 00:20:18 -0700
Subject: [R] [Tagged]  Re:  Fwd: r-stats: Geometric Distribution
In-Reply-To: <CAPod2kG4KX_70uzrVJ1jkte468=i6z6qU04GYkz+-6xRjLU54Q@mail.gmail.com>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
 <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
 <20231017160934.51f1cced@arachnoid>
 <CAPod2kG4KX_70uzrVJ1jkte468=i6z6qU04GYkz+-6xRjLU54Q@mail.gmail.com>
Message-ID: <C1A35F04-D423-4824-A97D-580107411C6B@dcn.davis.ca.us>

What makes sense in a math class is not necessarily the same as what makes sense in a floating point analysis environment.

You lose a lot of significant digits when you add 1 to a floating point number that is close to zero, and this implementation allows the user to avoid that structural deficiency inherent in your preferred formulation.

This is a case where you need to read the documentation and adapt your handling of numbers to get the most accurate results.

Or write your own version that destroys significant digits.

There are other functions that allow for similar maintenance of significant digits... like log1p and expm1. See i.e. https://en.m.wikipedia.org/wiki/Natural_logarithm#lnp1 for discussion.

On October 18, 2023 10:44:21 PM PDT, Sahil Sharma <sahilsharmahimalaya at gmail.com> wrote:
>Hi, today I came across the same problem. And, I'm able to explain it with
>an example as well.
>
>Suppose I want to PDF or P(X=5) in Geometric Distribution with P = 0.2.
>
>The theoretical formula is P * (1-P) ^ (x -1). But the R function dgeom(x,
>p) works like P * (1-P) ^ x, it does not reduce 1 from x because in r the x
>starts from 0. In that case, if I am writing x as 5 then in-principle it
>should work like x = 4 because starting from zero, 4 is the 5th place of x.
>E.g., 0,1,2,3,4 there are five digits.
>
>However, the x in dgeom(x,p) is exactly working like 5.
>
>Here are some codes that I used:
>
>> dgeom(5, 0.2)
>[1] 0.065536
>
>If I use the formula manually, i.e., p(1-P)^x-1, I get this.
>
>> 0.2 * (1-0.2)^(5-1)
>[1] 0.08192
>
>Even if x starts from 0 in r, that's why we do not minus 1 from x, it
>should work like 4 when I'm writing 5, but not, it is working exactly 5.
>For example, if I manually put the 5 at the place of X, I get same results
>as dgeom(x,p).
>
>> 0.2 * (1-0.2)^(5)
>[1] 0.065536
>
>
>
>I guess there is a need for solution to this problem otherwise, it may
>result in erroneous calculations. Either the function dgeom(x,p) can
>perform and result as per the theoretical definition of PDF in Geometric
>Distribution, or the user applying this function must be prompted about the
>nature of this function so that the user manually minus one from x and then
>enter it into the function dgeom(x,p).
>
>Thanks, and Regards
>Sahil
>
>
>
>
>
>On Tue, Oct 17, 2023 at 6:39?PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
>> ? Tue, 17 Oct 2023 12:12:05 +0530
>> Sahil Sharma <sahilsharmahimalaya at gmail.com> ?????:
>>
>> > The original formula for Geometric Distribution PDF is
>> > *((1-p)^x-1)*P*. However, the current r function *dgeom(x, p)* is
>> > doing this: *((1-p)^x)*P, *it is not reducing 1 from x.
>>
>> Your definition is valid for integer 'x' starting from 1. ('x'th trial
>> is the first success.)
>>
>> The definition in help(dgeom):
>>
>> >> p(x) = p (1-p)^x
>> >> for x = 0, 1, 2, ..., 0 < p <= 1.
>>
>> ...is valid for integer x starting from 0. ('x' failures until the
>> first success.)
>>
>> They are equivalent, but they use the name 'x' for two subtly different
>> things.
>>
>> Thank you for giving attention to this and best of luck in your future
>> research!
>>
>> --
>> Best regards,
>> Ivan
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From n|ckmwr@y @end|ng |rom gm@||@com  Thu Oct 19 09:25:39 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Thu, 19 Oct 2023 08:25:39 +0100
Subject: [R] Yamamoto test in BreakPoints package
Message-ID: <CABxY9BO7DJhuL4-3+c3Ja3wp7zdiGT5j2v6rz7cseUzzDUKVXA@mail.gmail.com>

Hello I?m not sure whether this strictly speaking counts as an R-help query
but anyway?  I have been using the Yamamoto test in the BreakPoints package
to find breakpoints in flow data for Scottish rivers.  However, I can?t
really just use the Yamamoto test as a ?black box? ie data in, data out --
I need to find the actual algorithm which the Yamamoto test uses, either in
algebraic form or as R code, but despite exhaustive searching I can?t find
it.  I?ve tried to find a Github repository and various other things but
nothing comes up to give detailed information about the Yamamoto test as in
the package.  The original 1985 paper

 Climatic Jump: A Hypothesis in Climate Diagnosis

Ryozaburo Yamamoto
<https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Ryozaburo+Yamamoto>
, Tatsuya Iwashima
<https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Tatsuya+Iwashima>
, Sanga-Ngoie Kazadi
<https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Sanga-Ngoie+Kazadi>
, Makoto Hoshiai
<https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Makoto+Hoshiai>



 which is cited on the CRAN R info BreakPoints: Identify Breakpoints in
Series of Data (r-project.org)
<https://cran.r-project.org/web/packages/BreakPoints/BreakPoints.pdf>
doesn?t give any details.


There is another paper by Yamamoto et al (1987) Proc. NIPR Symp. Polar
Meteorol. Glaciol., 1, 91-102, 1987 but the method is not very clear and
whether it?s actually what the package does I can?t tell.

There is info about a Toda-Yamamoto causality test but this doesn?t seem to
be the same thing as the Yamamoto test in the R package BreakPoints

If anyone can point me to where either an algebraic algorithm or the R code
is I?d be v grateful

Thanks Nick Wray

	[[alternative HTML version deleted]]


From n|ckmwr@y @end|ng |rom gm@||@com  Thu Oct 19 09:30:43 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Thu, 19 Oct 2023 08:30:43 +0100
Subject: [R] Yamamoto again
Message-ID: <CABxY9BP1xZcBS3XMAYBO3CvRLi-w0WNC+y-DrCEwXCE0EZ_hWg@mail.gmail.com>

Aaargh after sending out last message realised that the R code is in fact
on the Cran site.  However, if anyone has an algebraic form that would
still be v useful as it's hard to get an overview of the process by looking
just at the code   Thanks Nick Wray

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Thu Oct 19 10:18:40 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 19 Oct 2023 21:18:40 +1300
Subject: [R] Yamamoto test in BreakPoints package
In-Reply-To: <CABxY9BO7DJhuL4-3+c3Ja3wp7zdiGT5j2v6rz7cseUzzDUKVXA@mail.gmail.com>
References: <CABxY9BO7DJhuL4-3+c3Ja3wp7zdiGT5j2v6rz7cseUzzDUKVXA@mail.gmail.com>
Message-ID: <CABcYAdLmG=Hky=HZzSJTyp168PRcATt78vZHf4VOS_b-ovf6Ew@mail.gmail.com>

Visit the page at CRAN
https://cran.r-project.org/web/packages/BreakPoints/index.html
and download

BreakPoints_1.2.tar.gz
<https://cran.r-project.org/src/contrib/BreakPoints_1.2.tar.gz>
and you will find yamamoto.R in there.  Sadly, there are no
useful comments in there.

<https://cran.r-project.org/src/contrib/BreakPoints_1.2.tar.gz>
I tried example(yamamoto), and out of 4 actual break-points,
it found 5 of them.  In another test, modelled on that
example, it found 6 out of 3 actual breaks.

On Thu, 19 Oct 2023 at 20:30, Nick Wray <nickmwray at gmail.com> wrote:

> Hello I?m not sure whether this strictly speaking counts as an R-help query
> but anyway?  I have been using the Yamamoto test in the BreakPoints package
> to find breakpoints in flow data for Scottish rivers.  However, I can?t
> really just use the Yamamoto test as a ?black box? ie data in, data out --
> I need to find the actual algorithm which the Yamamoto test uses, either in
> algebraic form or as R code, but despite exhaustive searching I can?t find
> it.  I?ve tried to find a Github repository and various other things but
> nothing comes up to give detailed information about the Yamamoto test as in
> the package.  The original 1985 paper
>
>  Climatic Jump: A Hypothesis in Climate Diagnosis
>
> Ryozaburo Yamamoto
> <
> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Ryozaburo+Yamamoto
> >
> , Tatsuya Iwashima
> <
> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Tatsuya+Iwashima
> >
> , Sanga-Ngoie Kazadi
> <
> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Sanga-Ngoie+Kazadi
> >
> , Makoto Hoshiai
> <
> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Makoto+Hoshiai
> >
>
>
>
>  which is cited on the CRAN R info BreakPoints: Identify Breakpoints in
> Series of Data (r-project.org)
> <https://cran.r-project.org/web/packages/BreakPoints/BreakPoints.pdf>
> doesn?t give any details.
>
>
> There is another paper by Yamamoto et al (1987) Proc. NIPR Symp. Polar
> Meteorol. Glaciol., 1, 91-102, 1987 but the method is not very clear and
> whether it?s actually what the package does I can?t tell.
>
> There is info about a Toda-Yamamoto causality test but this doesn?t seem to
> be the same thing as the Yamamoto test in the R package BreakPoints
>
> If anyone can point me to where either an algebraic algorithm or the R code
> is I?d be v grateful
>
> Thanks Nick Wray
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From pro|jcn@@h @end|ng |rom gm@||@com  Thu Oct 19 13:52:11 2023
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Thu, 19 Oct 2023 07:52:11 -0400
Subject: [R] stopping R emails
Message-ID: <783bcbb4-576a-45cf-b76c-5ed2378ffcd4@gmail.com>

Dear Juel,

The R lists are automated, and while there is probably someone with access
to remove particular subscribers, it is generally easier to UNSUBSCRIBE to
them.

I believe Jim was on several lists. The full collection is at https://www.r-project.org/mail.html

The main help list can be unsubscribed as described at the bottom of most
postings:
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

There is also the package-devel list, which can be unsubscribed at

https://stat.ethz.ch/mailman/listinfo/r-package-devel

Similarly https://stat.ethz.ch/mailman/listinfo/r-devel

I am copying this to the R-help list to inform other users so hopefully you
don't get multiple similar messages. So you will likely see the msg copied
there before you manage to unsubscribe.

With condolences,

John Nash


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Thu Oct 19 14:31:09 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Thu, 19 Oct 2023 14:31:09 +0200
Subject: [R] stopping R emails
In-Reply-To: <783bcbb4-576a-45cf-b76c-5ed2378ffcd4@gmail.com>
References: <783bcbb4-576a-45cf-b76c-5ed2378ffcd4@gmail.com>
Message-ID: <25905.8589.390267.412823@stat.math.ethz.ch>

>>>>> J C Nash 
>>>>>     on Thu, 19 Oct 2023 07:52:11 -0400 writes:

    > Dear Juel,

    > The R lists are automated, and while there is probably
    > someone with access to remove particular subscribers, it
    > is generally easier to UNSUBSCRIBE to them.

    > I believe Jim was on several lists. The full collection is
    > at https://www.r-project.org/mail.html

As (R mailing lists) *Site* maintainer, I can remove subscribers
from all lists at once.

I have done so with Jim's e-mail (above).
The result was that the address was unsubscribed from
R-help  and  R-package-devel, no others.

    > The main help list can be unsubscribed as described at the
    > bottom of most postings:
    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide
    > http://www.R-project.org/posting-guide.html and provide
    > commented, minimal, self-contained, reproducible code.

    > There is also the package-devel list, which can be
    > unsubscribed at

    > https://stat.ethz.ch/mailman/listinfo/r-package-devel

    > Similarly https://stat.ethz.ch/mailman/listinfo/r-devel

    > I am copying this to the R-help list to inform other users
    > so hopefully you don't get multiple similar messages. So
    > you will likely see the msg copied there before you manage
    > to unsubscribe.

    > With condolences,
    > John Nash

>From me, as well.

Jim Lemon has been one of the frequent really *friendly*
and patient "helpers" to many who have searched for support and
help on the R mailing lists (R-help and R-package-devel, see above).
His death is indeed a loss to the R community.

Best regards,
Martin

--
Martin Maechler
ETH Zurich  and  R Core team


From bbo|ker @end|ng |rom gm@||@com  Thu Oct 19 17:12:56 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 19 Oct 2023 11:12:56 -0400
Subject: [R] Yamamoto test in BreakPoints package
In-Reply-To: <CABcYAdLmG=Hky=HZzSJTyp168PRcATt78vZHf4VOS_b-ovf6Ew@mail.gmail.com>
References: <CABxY9BO7DJhuL4-3+c3Ja3wp7zdiGT5j2v6rz7cseUzzDUKVXA@mail.gmail.com>
 <CABcYAdLmG=Hky=HZzSJTyp168PRcATt78vZHf4VOS_b-ovf6Ew@mail.gmail.com>
Message-ID: <44e15c92-b901-4ac0-8cc1-ab76065f437a@gmail.com>

   Maybe contact the package maintainer (maintainer("BreakPoints")) and 
ask?  (Normally I avoid bugging package maintainers if I can, but it 
seems you've looked everywhere else you can ...)

   Ben Bolker

On 2023-10-19 4:18 a.m., Richard O'Keefe wrote:
> Visit the page at CRAN
> https://cran.r-project.org/web/packages/BreakPoints/index.html
> and download
> 
> BreakPoints_1.2.tar.gz
> <https://cran.r-project.org/src/contrib/BreakPoints_1.2.tar.gz>
> and you will find yamamoto.R in there.  Sadly, there are no
> useful comments in there.
> 
> <https://cran.r-project.org/src/contrib/BreakPoints_1.2.tar.gz>
> I tried example(yamamoto), and out of 4 actual break-points,
> it found 5 of them.  In another test, modelled on that
> example, it found 6 out of 3 actual breaks.
> 
> On Thu, 19 Oct 2023 at 20:30, Nick Wray <nickmwray at gmail.com> wrote:
> 
>> Hello I?m not sure whether this strictly speaking counts as an R-help query
>> but anyway?  I have been using the Yamamoto test in the BreakPoints package
>> to find breakpoints in flow data for Scottish rivers.  However, I can?t
>> really just use the Yamamoto test as a ?black box? ie data in, data out --
>> I need to find the actual algorithm which the Yamamoto test uses, either in
>> algebraic form or as R code, but despite exhaustive searching I can?t find
>> it.  I?ve tried to find a Github repository and various other things but
>> nothing comes up to give detailed information about the Yamamoto test as in
>> the package.  The original 1985 paper
>>
>>   Climatic Jump: A Hypothesis in Climate Diagnosis
>>
>> Ryozaburo Yamamoto
>> <
>> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Ryozaburo+Yamamoto
>>>
>> , Tatsuya Iwashima
>> <
>> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Tatsuya+Iwashima
>>>
>> , Sanga-Ngoie Kazadi
>> <
>> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Sanga-Ngoie+Kazadi
>>>
>> , Makoto Hoshiai
>> <
>> https://www.jstage.jst.go.jp/search/global/_search/-char/en?item=8&word=Makoto+Hoshiai
>>>
>>
>>
>>
>>   which is cited on the CRAN R info BreakPoints: Identify Breakpoints in
>> Series of Data (r-project.org)
>> <https://cran.r-project.org/web/packages/BreakPoints/BreakPoints.pdf>
>> doesn?t give any details.
>>
>>
>> There is another paper by Yamamoto et al (1987) Proc. NIPR Symp. Polar
>> Meteorol. Glaciol., 1, 91-102, 1987 but the method is not very clear and
>> whether it?s actually what the package does I can?t tell.
>>
>> There is info about a Toda-Yamamoto causality test but this doesn?t seem to
>> be the same thing as the Yamamoto test in the R package BreakPoints
>>
>> If anyone can point me to where either an algebraic algorithm or the R code
>> is I?d be v grateful
>>
>> Thanks Nick Wray
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bbo|ker @end|ng |rom gm@||@com  Thu Oct 19 19:52:37 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 19 Oct 2023 13:52:37 -0400
Subject: [R] [Tagged] Re: Fwd: r-stats: Geometric Distribution
In-Reply-To: <C1A35F04-D423-4824-A97D-580107411C6B@dcn.davis.ca.us>
References: <CAPod2kH9YDs4WRt3Nay1PjLZocTBOdAad3Um=k7ybE-SejJsZA@mail.gmail.com>
 <CAPod2kFfoFUOtuTP8CoGGTqtav3xiagmwc2-y178DmThcGka4g@mail.gmail.com>
 <20231017160934.51f1cced@arachnoid>
 <CAPod2kG4KX_70uzrVJ1jkte468=i6z6qU04GYkz+-6xRjLU54Q@mail.gmail.com>
 <C1A35F04-D423-4824-A97D-580107411C6B@dcn.davis.ca.us>
Message-ID: <349bd903-247e-4c6d-a443-1ad029390ff0@gmail.com>

   Jeff: I think you might be misdiagnosing the OP's problem; I'm not 
sure that the R parameterization is primarily intended to avoid FP 
problems, but rather is *one* possible sensible choice of definition. 
Note that the Wikipedia page on the geometric distribution: 
https://en.wikipedia.org/wiki/Geometric_distribution (obviously not an 
authoritative reference, but Wikipedia is generally very good for these 
things) gives *both* the starting-from-zero and starting-from-1 definitions.

   Sahil: this is not an error in R, it's simply a different (and 
equally sensible) choice of definition from yours. You can certainly 
write your code to do `dgeom(x-1, p)`: in fact, you could write a wrapper

my_dgeom <- function(x, ...) dgeom(x-1, ...)

so that you never have to think about it again ...

   cheers
     Ben Bolker


On 2023-10-19 3:20 a.m., Jeff Newmiller via R-help wrote:
> What makes sense in a math class is not necessarily the same as what makes sense in a floating point analysis environment.
> 
> You lose a lot of significant digits when you add 1 to a floating point number that is close to zero, and this implementation allows the user to avoid that structural deficiency inherent in your preferred formulation.
> 
> This is a case where you need to read the documentation and adapt your handling of numbers to get the most accurate results.
> 
> Or write your own version that destroys significant digits.
> 
> There are other functions that allow for similar maintenance of significant digits... like log1p and expm1. See i.e. https://en.m.wikipedia.org/wiki/Natural_logarithm#lnp1 for discussion.
> 
> On October 18, 2023 10:44:21 PM PDT, Sahil Sharma <sahilsharmahimalaya at gmail.com> wrote:
>> Hi, today I came across the same problem. And, I'm able to explain it with
>> an example as well.
>>
>> Suppose I want to PDF or P(X=5) in Geometric Distribution with P = 0.2.
>>
>> The theoretical formula is P * (1-P) ^ (x -1). But the R function dgeom(x,
>> p) works like P * (1-P) ^ x, it does not reduce 1 from x because in r the x
>> starts from 0. In that case, if I am writing x as 5 then in-principle it
>> should work like x = 4 because starting from zero, 4 is the 5th place of x.
>> E.g., 0,1,2,3,4 there are five digits.
>>
>> However, the x in dgeom(x,p) is exactly working like 5.
>>
>> Here are some codes that I used:
>>
>>> dgeom(5, 0.2)
>> [1] 0.065536
>>
>> If I use the formula manually, i.e., p(1-P)^x-1, I get this.
>>
>>> 0.2 * (1-0.2)^(5-1)
>> [1] 0.08192
>>
>> Even if x starts from 0 in r, that's why we do not minus 1 from x, it
>> should work like 4 when I'm writing 5, but not, it is working exactly 5.
>> For example, if I manually put the 5 at the place of X, I get same results
>> as dgeom(x,p).
>>
>>> 0.2 * (1-0.2)^(5)
>> [1] 0.065536
>>
>>
>>
>> I guess there is a need for solution to this problem otherwise, it may
>> result in erroneous calculations. Either the function dgeom(x,p) can
>> perform and result as per the theoretical definition of PDF in Geometric
>> Distribution, or the user applying this function must be prompted about the
>> nature of this function so that the user manually minus one from x and then
>> enter it into the function dgeom(x,p).
>>
>> Thanks, and Regards
>> Sahil
>>
>>
>>
>>
>>
>> On Tue, Oct 17, 2023 at 6:39?PM Ivan Krylov <krylov.r00t at gmail.com> wrote:
>>
>>> ? Tue, 17 Oct 2023 12:12:05 +0530
>>> Sahil Sharma <sahilsharmahimalaya at gmail.com> ?????:
>>>
>>>> The original formula for Geometric Distribution PDF is
>>>> *((1-p)^x-1)*P*. However, the current r function *dgeom(x, p)* is
>>>> doing this: *((1-p)^x)*P, *it is not reducing 1 from x.
>>>
>>> Your definition is valid for integer 'x' starting from 1. ('x'th trial
>>> is the first success.)
>>>
>>> The definition in help(dgeom):
>>>
>>>>> p(x) = p (1-p)^x
>>>>> for x = 0, 1, 2, ..., 0 < p <= 1.
>>>
>>> ...is valid for integer x starting from 0. ('x' failures until the
>>> first success.)
>>>
>>> They are equivalent, but they use the name 'x' for two subtly different
>>> things.
>>>
>>> Thank you for giving attention to this and best of luck in your future
>>> research!
>>>
>>> --
>>> Best regards,
>>> Ivan
>>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From ro||turner @end|ng |rom po@teo@net  Thu Oct 19 23:23:46 2023
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Thu, 19 Oct 2023 21:23:46 +0000
Subject: [R] New hidden Markov models package.
Message-ID: <20231020102346.0828412e@rolf-Latitude-E7470>


A package eglhmm ("extended generalised linear hidden Markov models")
has just become available on CRAN.  Mac OSX binaries are available.
Windoze binaries will presumably be available shortly.  The new package
largely supersedes the package hmm.discnp (which will eventually be
archived).  The hmm.discnp package deals only with ad hoc discrete
distributions, which are handled in eglhmm by specifying the
distribution to be "Multinom".  The eglhmm package is capable of
handling Gaussian, Poisson, Binomial, and discretised beta (Dbd)
distributions as well as the Multinomial distribution.

I would appreciate learning about any problems or bugs that users
encounter in using eglhmm.  General comments and suggestions are also
welcome.

Note that eglhmm has considerable overlap with the depmixS4 package
(written by Ingmar Visser and Maarten Speekenbrink), but a considerable
symmetric difference as well.  The syntax is very different.

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From @vi@e@gross m@iii@g oii gm@ii@com  Fri Oct 20 19:27:18 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Fri, 20 Oct 2023 13:27:18 -0400
Subject: [R] Best way to test for numeric digits?
In-Reply-To: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
References: <6c4ac344-ddbe-4c3d-8ecd-c5a29657893d@syonic.eu>
Message-ID: <003001da037a$ad671b80$08355280$@gmail.com>

Leonard,

Since it now seems a main consideration you have is speed/efficiency, maybe a step back might help.

Are there simplifying assumptions that are valid or can you make it simpler, such as converting everything to the same case?

Your sample data was this and I assume your actual data is similar and far longer.

c("Li", "Na", "K",  "2", "Rb", "Ca", "3")

So rather than use complex and costly regular expressions, or other full searches, can you just assume all entries start with either an uppercase letter orn a numeral and test for those usinnd something simple like
> substr(c("Li", "Na", "K",  "2", "Rb", "Ca", "3"), 1, 1)
[1] "L" "N" "K" "2" "R" "C" "3"

If you save that in a variable you can check if that is greater than or equal to "A" or perhaps "0" and also perhaps if it is less than or equal to "Z" or perhaps "9" and see if such a test is faster.

orig <- c("Li", "Na", "K",  "2", "Rb", "Ca", "3")
initial <- substr(orig, 1, 1)
elements_bool <- initial >= "A" & initial <= "Z"

The latter contains a Boolean vector you can use to index your original and toss away the ones with digits, or any lower case letter versions or any other UNICODE symbols.

orig_elements <- orig[elements_bool]

> orig
[1] "Li" "Na" "K"  "2"  "Rb" "Ca" "3" 
> orig_elements
[1] "Li" "Na" "K"  "Rb" "Ca"
> orig[!elements_bool]
[1] "2" "3"

Other approaches you might consider depending on your needs is to encapsulate your data as a column in a data.frame or tibble or other such construct and generate additional columns along the way that keep your information consolidated in what could be an efficient way especially if you shift some of your logic to using faster compiled functionality and perhaps using packages that fit your needs better such as data.table or dplyr and other things in the tidyverse. And note if using pipelines, for many purposes, the new built-in pipelines may be faster.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Leonard Mada via R-help
Sent: Wednesday, October 18, 2023 10:59 AM
To: R-help Mailing List <r-help at r-project.org>
Subject: [R] Best way to test for numeric digits?

Dear List members,

What is the best way to test for numeric digits?

suppressWarnings(as.double(c("Li", "Na", "K",  "2", "Rb", "Ca", "3")))
# [1] NA NA NA  2 NA NA  3
The above requires the use of the suppressWarnings function. Are there 
any better ways?

I was working to extract chemical elements from a formula, something 
like this:
split.symbol.character = function(x, rm.digits = TRUE) {
     # Perl is partly broken in R 4.3, but this works:
     regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
     # stringi::stri_split(x, regex = regex);
     s = strsplit(x, regex, perl = TRUE);
     if(rm.digits) {
         s = lapply(s, function(s) {
             isNotD = is.na(suppressWarnings(as.numeric(s)));
             s = s[isNotD];
         });
     }
     return(s);
}

split.symbol.character(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"))


Sincerely,


Leonard


Note:
# works:
regex = "(?<=[A-Z])(?![a-z]|$)|(?<=.)(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)


# broken in R 4.3.1
# only slightly "erroneous" with stringi::stri_split
regex = "(?<=[A-Z])(?![a-z]|$)|(?=[A-Z])|(?<=[a-z])(?=[^a-z])";
strsplit(c("CCl3F", "Li4Al4H16", "CCl2CO2AlPO4SiO4Cl"), regex, perl = T)

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Sat Oct 21 21:26:09 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Sat, 21 Oct 2023 22:26:09 +0300
Subject: [R] Issue from R-devel: subset on table
Message-ID: <c2a2dd3f-45a0-420c-bb5b-f340aa189d5c@syonic.eu>

Dear List Members,

There was recently an issue on R-devel (which I noticed only very late):
https://stat.ethz.ch/pipermail/r-devel/2023-October/082943.html

It is possible to use subset as well, almost as initially stated:

subset(table(sample(1:5, 100, T)), table > 10)
# Error in table > 10 :
#? comparison (>) is possible only for atomic and list types

subset(table(sample(1:5, 100, T)), 'table' > 10)
#? 1? 2? 3? 4? 5
# 21 13 15 28 23

Works with the letters-example as well.

Sincerely,

Leonard


From |eo@m@d@ @end|ng |rom @yon|c@eu  Sat Oct 21 21:38:16 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Sat, 21 Oct 2023 22:38:16 +0300
Subject: [R] Issue from R-devel: subset on table
In-Reply-To: <c2a2dd3f-45a0-420c-bb5b-f340aa189d5c@syonic.eu>
References: <c2a2dd3f-45a0-420c-bb5b-f340aa189d5c@syonic.eu>
Message-ID: <142f3b97-f9c5-4f92-a5fb-0d12cc5d30e9@syonic.eu>

My mistake!


It does actually something else, which is incorrect. One could still use 
(although the code is more difficult to read):

subset(tmp <- table(sample(1:10, 100, T)), tmp > 10)


Sincerely,


Leonard


On 10/21/2023 10:26 PM, Leonard Mada wrote:
> Dear List Members,
>
> There was recently an issue on R-devel (which I noticed only very late):
> https://stat.ethz.ch/pipermail/r-devel/2023-October/082943.html
>
> It is possible to use subset as well, almost as initially stated:
>
> subset(table(sample(1:5, 100, T)), table > 10)
> # Error in table > 10 :
> #? comparison (>) is possible only for atomic and list types
>
> subset(table(sample(1:5, 100, T)), 'table' > 10)
> #? 1? 2? 3? 4? 5
> # 21 13 15 28 23


Note: The result was ok only by chance! But it is incorrect in general.


>
> Works with the letters-example as well.
>
> Sincerely,
>
> Leonard
>
>


From |eo@m@d@ @end|ng |rom @yon|c@eu  Sat Oct 21 22:04:13 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Sat, 21 Oct 2023 23:04:13 +0300
Subject: [R] Issue from R-devel: subset on table
In-Reply-To: <142f3b97-f9c5-4f92-a5fb-0d12cc5d30e9@syonic.eu>
References: <c2a2dd3f-45a0-420c-bb5b-f340aa189d5c@syonic.eu>
 <142f3b97-f9c5-4f92-a5fb-0d12cc5d30e9@syonic.eu>
Message-ID: <b736f9e8-9ae1-4fce-8531-eec3488d1cd5@syonic.eu>

Another solution could also be possible - see below.


On 10/21/2023 10:38 PM, Leonard Mada wrote:
> My mistake!
>
> It does actually something else, which is incorrect. One could still 
> use (although the code is more difficult to read):
>
> subset(tmp <- table(sample(1:10, 100, T)), tmp > 10)

2) Alternative solution
Enhance subset.default to accept also formulas, e.g.:

subset.default = function (x, subset, ...)
{
 ?? ?if(inherits(subset, "formula")) {
 ?? ???? subset = subset[[2]];
 ?? ???? subset = eval(subset, list("." = x));
 ?? ?} else if (! is.logical(subset))
 ?? ???? stop("'subset' must be logical")
 ?? ?x[subset & ! is.na(subset)]
}

# it works now: but results depend on sample()
subset(table(sample(1:10, 100, T)), ~ . > 10)
subset(table(sample(1:10, 100, T)), ~ . > 10 & . < 13)


>
>
> Sincerely,
>
>
> Leonard
>
>
> On 10/21/2023 10:26 PM, Leonard Mada wrote:
>> Dear List Members,
>>
>> There was recently an issue on R-devel (which I noticed only very late):
>> https://stat.ethz.ch/pipermail/r-devel/2023-October/082943.html
>>
>> It is possible to use subset as well, almost as initially stated:
>>
>> subset(table(sample(1:5, 100, T)), table > 10)
>> # Error in table > 10 :
>> #? comparison (>) is possible only for atomic and list types
>>
>> subset(table(sample(1:5, 100, T)), 'table' > 10)
>> #? 1? 2? 3? 4? 5
>> # 21 13 15 28 23
>
>
> Note: The result was ok only by chance! But it is incorrect in general.
>
>
>>
>> Works with the letters-example as well.
>>
>> Sincerely,
>>
>> Leonard
>>
>>


From @b@pm|@b @end|ng |rom gm@||@com  Sat Oct 21 13:03:22 2023
From: @b@pm|@b @end|ng |rom gm@||@com (Sebastien Bihorel)
Date: Sat, 21 Oct 2023 07:03:22 -0400
Subject: [R] Release of rclipboard 0.2.0
Message-ID: <CABR8Zvr9pMhscUZL5TDd+NgqQ0=qii=vW-Qf2tjVCams5Cy43A@mail.gmail.com>

Hi,

Version 0.2.0 of rclipboard has been released to CRAN. This provides a
minor update of the underlying js library and a support for display of
`bslib::tooltip` for Shiny apps built with `bslib` package.

Enjoy!

	[[alternative HTML version deleted]]


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sun Oct 22 22:36:16 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sun, 22 Oct 2023 20:36:16 +0000 (UTC)
Subject: [R] running crossvalidation many times MSE for Lasso regression
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
Message-ID: <1823742611.1400069.1698006976815@mail.yahoo.com>

Dear R-experts,

Here below my R code with an error message. Can somebody help me to fix this error??
Really appreciate your help.

Best,

############################################################
#?MSE CROSSVALIDATION Lasso regression?

library(glmnet)

?
x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
T=data.frame(y,x1,x2)

z=matrix(c(x1,x2), ncol=2)
cv_model=glmnet(z,y,alpha=1)
best_lambda=cv_model$lambda.min
best_lambda
?
?
# Create a list to store the results
lst<-list()
?
# This statement does the repetitions (looping)
for(i in 1?:1000) {
?
n=45
?
p=0.667
?
sam=sample(1?:n,floor(p*n),replace=FALSE)
?
Training =T [sam,]
Testing = T [-sam,]
?
test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
?
predictLasso=predict(cv_model, newx=test1)
?
?
ypred=predict(predictLasso,newdata=test1)
y=T[-sam,]$y
?
MSE = mean((y-ypred)^2)
MSE
lst[i]<-MSE
}
mean(unlist(lst))
##################################################################?
?
?
?


From bgunter@4567 @end|ng |rom gm@||@com  Mon Oct 23 01:01:48 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 22 Oct 2023 16:01:48 -0700
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <1823742611.1400069.1698006976815@mail.yahoo.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
Message-ID: <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>

No error message shown Please include the error message so that it is
not necessary to rerun your code. This might enable someone to see the
problem without running the code (e.g. downloading packages, etc.)

-- Bert

On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
<r-help at r-project.org> wrote:
>
> Dear R-experts,
>
> Here below my R code with an error message. Can somebody help me to fix this error?
> Really appreciate your help.
>
> Best,
>
> ############################################################
> # MSE CROSSVALIDATION Lasso regression
>
> library(glmnet)
>
>
> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
> T=data.frame(y,x1,x2)
>
> z=matrix(c(x1,x2), ncol=2)
> cv_model=glmnet(z,y,alpha=1)
> best_lambda=cv_model$lambda.min
> best_lambda
>
>
> # Create a list to store the results
> lst<-list()
>
> # This statement does the repetitions (looping)
> for(i in 1 :1000) {
>
> n=45
>
> p=0.667
>
> sam=sample(1 :n,floor(p*n),replace=FALSE)
>
> Training =T [sam,]
> Testing = T [-sam,]
>
> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>
> predictLasso=predict(cv_model, newx=test1)
>
>
> ypred=predict(predictLasso,newdata=test1)
> y=T[-sam,]$y
>
> MSE = mean((y-ypred)^2)
> MSE
> lst[i]<-MSE
> }
> mean(unlist(lst))
> ##################################################################
>
>
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Oct 23 01:58:52 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sun, 22 Oct 2023 19:58:52 -0400
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
Message-ID: <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>

On 22/10/2023 7:01 p.m., Bert Gunter wrote:
> No error message shown Please include the error message so that it is
> not necessary to rerun your code. This might enable someone to see the
> problem without running the code (e.g. downloading packages, etc.)

And it's not necessarily true that someone else would see the same error 
message.

Duncan Murdoch

> 
> -- Bert
> 
> On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
> <r-help at r-project.org> wrote:
>>
>> Dear R-experts,
>>
>> Here below my R code with an error message. Can somebody help me to fix this error?
>> Really appreciate your help.
>>
>> Best,
>>
>> ############################################################
>> # MSE CROSSVALIDATION Lasso regression
>>
>> library(glmnet)
>>
>>
>> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
>> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
>> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
>> T=data.frame(y,x1,x2)
>>
>> z=matrix(c(x1,x2), ncol=2)
>> cv_model=glmnet(z,y,alpha=1)
>> best_lambda=cv_model$lambda.min
>> best_lambda
>>
>>
>> # Create a list to store the results
>> lst<-list()
>>
>> # This statement does the repetitions (looping)
>> for(i in 1 :1000) {
>>
>> n=45
>>
>> p=0.667
>>
>> sam=sample(1 :n,floor(p*n),replace=FALSE)
>>
>> Training =T [sam,]
>> Testing = T [-sam,]
>>
>> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>>
>> predictLasso=predict(cv_model, newx=test1)
>>
>>
>> ypred=predict(predictLasso,newdata=test1)
>> y=T[-sam,]$y
>>
>> MSE = mean((y-ypred)^2)
>> MSE
>> lst[i]<-MSE
>> }
>> mean(unlist(lst))
>> ##################################################################
>>
>>
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|n||68 @end|ng |rom gm@||@com  Mon Oct 23 06:42:14 2023
From: j|n||68 @end|ng |rom gm@||@com (Jin Li)
Date: Mon, 23 Oct 2023 15:42:14 +1100
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
Message-ID: <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>

If you are interested in other validation methods (e.g., LOO or n-fold)
with more predictive accuracy measures, the function, glmnetcv, in the spm2
package can be directly used, and some reproducible examples are
also available in ?glmnetcv.

On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
> > No error message shown Please include the error message so that it is
> > not necessary to rerun your code. This might enable someone to see the
> > problem without running the code (e.g. downloading packages, etc.)
>
> And it's not necessarily true that someone else would see the same error
> message.
>
> Duncan Murdoch
>
> >
> > -- Bert
> >
> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
> > <r-help at r-project.org> wrote:
> >>
> >> Dear R-experts,
> >>
> >> Here below my R code with an error message. Can somebody help me to fix
> this error?
> >> Really appreciate your help.
> >>
> >> Best,
> >>
> >> ############################################################
> >> # MSE CROSSVALIDATION Lasso regression
> >>
> >> library(glmnet)
> >>
> >>
> >>
> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
> >>
> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
> >>
> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
> >> T=data.frame(y,x1,x2)
> >>
> >> z=matrix(c(x1,x2), ncol=2)
> >> cv_model=glmnet(z,y,alpha=1)
> >> best_lambda=cv_model$lambda.min
> >> best_lambda
> >>
> >>
> >> # Create a list to store the results
> >> lst<-list()
> >>
> >> # This statement does the repetitions (looping)
> >> for(i in 1 :1000) {
> >>
> >> n=45
> >>
> >> p=0.667
> >>
> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
> >>
> >> Training =T [sam,]
> >> Testing = T [-sam,]
> >>
> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
> >>
> >> predictLasso=predict(cv_model, newx=test1)
> >>
> >>
> >> ypred=predict(predictLasso,newdata=test1)
> >> y=T[-sam,]$y
> >>
> >> MSE = mean((y-ypred)^2)
> >> MSE
> >> lst[i]<-MSE
> >> }
> >> mean(unlist(lst))
> >> ##################################################################
> >>
> >>
> >>
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Jin
------------------------------------------
Jin Li, PhD
Founder, Data2action, Australia
https://www.researchgate.net/profile/Jin_Li32
https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en

	[[alternative HTML version deleted]]


From nh@b|b58 @end|ng |rom gm@||@com  Sat Oct 21 13:41:23 2023
From: nh@b|b58 @end|ng |rom gm@||@com (Nader Habibzadeh)
Date: Sat, 21 Oct 2023 15:11:23 +0330
Subject: [R] Technical Help Request for "Version Differences" (i.e.,
 CYTOFKIT package)
Message-ID: <CAAUs27w3+fcJ4SAqEUM+wEMROS1yM2K9+5a1mEeutrUhfu9Ebw@mail.gmail.com>

Dear Murat,
I came across the same issue you have demonstrated in "r-help" but with the
shiny package installation. I was wondering if you could send me any
information that you have gotten for figuring out this problem.
Best regards,
Nader

-- 
*Nader Habibzadeh, Ph.D.,*
*Department of Environmental Science,*
*Tabriz Branch, I.A.U.,*
*Tel: +98(914)312-9524*
*https://www.researchgate.net/profile/Nader_Habibzadeh
<https://www.researchgate.net/profile/Nader_Habibzadeh>*
*https://megadata.shinyapps.io/stats/
<https://megadata.shinyapps.io/stats/>*

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Oct 23 10:38:28 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 23 Oct 2023 10:38:28 +0200
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
Message-ID: <25910.12548.637832.67159@stat.math.ethz.ch>

>>>>> Jin Li 
>>>>>     on Mon, 23 Oct 2023 15:42:14 +1100 writes:

    > If you are interested in other validation methods (e.g., LOO or n-fold)
    > with more predictive accuracy measures, the function, glmnetcv, in the spm2
    > package can be directly used, and some reproducible examples are
    > also available in ?glmnetcv.

... and once you open that can of w..:   the  glmnet package itself
contains a function  cv.glmnet()  which we (our students) use when teaching.

What's the advantage of the spm2 package ?
At least, the glmnet package is authored by the same who originated and
first published (as in "peer reviewed" ..) these algorithms.



    > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
    > wrote:

    >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
    >> > No error message shown Please include the error message so that it is
    >> > not necessary to rerun your code. This might enable someone to see the
    >> > problem without running the code (e.g. downloading packages, etc.)
    >> 
    >> And it's not necessarily true that someone else would see the same error
    >> message.
    >> 
    >> Duncan Murdoch
    >> 
    >> >
    >> > -- Bert
    >> >
    >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
    >> > <r-help at r-project.org> wrote:
    >> >>
    >> >> Dear R-experts,
    >> >>
    >> >> Here below my R code with an error message. Can somebody help me to fix
    >> this error?
    >> >> Really appreciate your help.
    >> >>
    >> >> Best,
    >> >>
    >> >> ############################################################
    >> >> # MSE CROSSVALIDATION Lasso regression
    >> >>
    >> >> library(glmnet)
    >> >>
    >> >>
    >> >>
    >> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
    >> >>
    >> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
    >> >>
    >> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
    >> >> T=data.frame(y,x1,x2)
    >> >>
    >> >> z=matrix(c(x1,x2), ncol=2)
    >> >> cv_model=glmnet(z,y,alpha=1)
    >> >> best_lambda=cv_model$lambda.min
    >> >> best_lambda
    >> >>
    >> >>
    >> >> # Create a list to store the results
    >> >> lst<-list()
    >> >>
    >> >> # This statement does the repetitions (looping)
    >> >> for(i in 1 :1000) {
    >> >>
    >> >> n=45
    >> >>
    >> >> p=0.667
    >> >>
    >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
    >> >>
    >> >> Training =T [sam,]
    >> >> Testing = T [-sam,]
    >> >>
    >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
    >> >>
    >> >> predictLasso=predict(cv_model, newx=test1)
    >> >>
    >> >>
    >> >> ypred=predict(predictLasso,newdata=test1)
    >> >> y=T[-sam,]$y
    >> >>
    >> >> MSE = mean((y-ypred)^2)
    >> >> MSE
    >> >> lst[i]<-MSE
    >> >> }
    >> >> mean(unlist(lst))
    >> >> ##################################################################
    >> >>
    >> >>
    >> >>
    >> >>
    >> >> ______________________________________________
    >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> >> PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html
    >> >> and provide commented, minimal, self-contained, reproducible code.
    >> >
    >> > ______________________________________________
    >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> > https://stat.ethz.ch/mailman/listinfo/r-help
    >> > PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html
    >> > and provide commented, minimal, self-contained, reproducible code.
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    >> https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html
    >> and provide commented, minimal, self-contained, reproducible code.
    >> 


    > -- 
    > Jin
    > ------------------------------------------
    > Jin Li, PhD
    > Founder, Data2action, Australia
    > https://www.researchgate.net/profile/Jin_Li32
    > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en

    > [[alternative HTML version deleted]]

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Mon Oct 23 17:04:54 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 23 Oct 2023 18:04:54 +0300
Subject: [R] Technical Help Request for "Version Differences" (i.e.,
 CYTOFKIT package)
In-Reply-To: <CAAUs27w3+fcJ4SAqEUM+wEMROS1yM2K9+5a1mEeutrUhfu9Ebw@mail.gmail.com>
References: <CAAUs27w3+fcJ4SAqEUM+wEMROS1yM2K9+5a1mEeutrUhfu9Ebw@mail.gmail.com>
Message-ID: <20231023180454.2b00e45e@arachnoid>

Dear Nader Habibzadeh,

? Sat, 21 Oct 2023 15:11:23 +0330
Nader Habibzadeh <nhabib58 at gmail.com> ?????:

> I came across the same issue you have demonstrated in "r-help" but
> with the shiny package installation.

Do any of the replies to Murat's question, e.g. [1], help?

If you have a different problem, let us know what exactly it looks like
[2] and we'll try to help.

[1]: https://stat.ethz.ch/pipermail/r-help/2023-August/477830.html

[2]: https://www.chiark.greenend.org.uk/~sgtatham/bugs.html

-- 
Best regards,
Ivan


From bbo|ker @end|ng |rom gm@||@com  Mon Oct 23 19:58:21 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Mon, 23 Oct 2023 13:58:21 -0400
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <25910.12548.637832.67159@stat.math.ethz.ch>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
 <25910.12548.637832.67159@stat.math.ethz.ch>
Message-ID: <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>

   For what it's worth it looks like spm2 is specifically for *spatial* 
predictive modeling; presumably its version of CV is doing something 
spatially aware.

   I agree that glmnet is old and reliable.  One might want to use a 
tidymodels wrapper to create pipelines where you can more easily switch 
among predictive algorithms (see the `parsnip` package), but otherwise 
sticking to glmnet seems wise.

On 2023-10-23 4:38 a.m., Martin Maechler wrote:
>>>>>> Jin Li
>>>>>>      on Mon, 23 Oct 2023 15:42:14 +1100 writes:
> 
>      > If you are interested in other validation methods (e.g., LOO or n-fold)
>      > with more predictive accuracy measures, the function, glmnetcv, in the spm2
>      > package can be directly used, and some reproducible examples are
>      > also available in ?glmnetcv.
> 
> ... and once you open that can of w..:   the  glmnet package itself
> contains a function  cv.glmnet()  which we (our students) use when teaching.
> 
> What's the advantage of the spm2 package ?
> At least, the glmnet package is authored by the same who originated and
> first published (as in "peer reviewed" ..) these algorithms.
> 
> 
> 
>      > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
>      > wrote:
> 
>      >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
>      >> > No error message shown Please include the error message so that it is
>      >> > not necessary to rerun your code. This might enable someone to see the
>      >> > problem without running the code (e.g. downloading packages, etc.)
>      >>
>      >> And it's not necessarily true that someone else would see the same error
>      >> message.
>      >>
>      >> Duncan Murdoch
>      >>
>      >> >
>      >> > -- Bert
>      >> >
>      >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
>      >> > <r-help at r-project.org> wrote:
>      >> >>
>      >> >> Dear R-experts,
>      >> >>
>      >> >> Here below my R code with an error message. Can somebody help me to fix
>      >> this error?
>      >> >> Really appreciate your help.
>      >> >>
>      >> >> Best,
>      >> >>
>      >> >> ############################################################
>      >> >> # MSE CROSSVALIDATION Lasso regression
>      >> >>
>      >> >> library(glmnet)
>      >> >>
>      >> >>
>      >> >>
>      >> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
>      >> >>
>      >> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
>      >> >>
>      >> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
>      >> >> T=data.frame(y,x1,x2)
>      >> >>
>      >> >> z=matrix(c(x1,x2), ncol=2)
>      >> >> cv_model=glmnet(z,y,alpha=1)
>      >> >> best_lambda=cv_model$lambda.min
>      >> >> best_lambda
>      >> >>
>      >> >>
>      >> >> # Create a list to store the results
>      >> >> lst<-list()
>      >> >>
>      >> >> # This statement does the repetitions (looping)
>      >> >> for(i in 1 :1000) {
>      >> >>
>      >> >> n=45
>      >> >>
>      >> >> p=0.667
>      >> >>
>      >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
>      >> >>
>      >> >> Training =T [sam,]
>      >> >> Testing = T [-sam,]
>      >> >>
>      >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>      >> >>
>      >> >> predictLasso=predict(cv_model, newx=test1)
>      >> >>
>      >> >>
>      >> >> ypred=predict(predictLasso,newdata=test1)
>      >> >> y=T[-sam,]$y
>      >> >>
>      >> >> MSE = mean((y-ypred)^2)
>      >> >> MSE
>      >> >> lst[i]<-MSE
>      >> >> }
>      >> >> mean(unlist(lst))
>      >> >> ##################################################################
>      >> >>
>      >> >>
>      >> >>
>      >> >>
>      >> >> ______________________________________________
>      >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      >> >> https://stat.ethz.ch/mailman/listinfo/r-help
>      >> >> PLEASE do read the posting guide
>      >> http://www.R-project.org/posting-guide.html
>      >> >> and provide commented, minimal, self-contained, reproducible code.
>      >> >
>      >> > ______________________________________________
>      >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      >> > https://stat.ethz.ch/mailman/listinfo/r-help
>      >> > PLEASE do read the posting guide
>      >> http://www.R-project.org/posting-guide.html
>      >> > and provide commented, minimal, self-contained, reproducible code.
>      >>
>      >> ______________________________________________
>      >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      >> https://stat.ethz.ch/mailman/listinfo/r-help
>      >> PLEASE do read the posting guide
>      >> http://www.R-project.org/posting-guide.html
>      >> and provide commented, minimal, self-contained, reproducible code.
>      >>
> 
> 
>      > --
>      > Jin
>      > ------------------------------------------
>      > Jin Li, PhD
>      > Founder, Data2action, Australia
>      > https://www.researchgate.net/profile/Jin_Li32
>      > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en
> 
>      > [[alternative HTML version deleted]]
> 
>      > ______________________________________________
>      > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>      > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>      > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Mon Oct 23 21:12:14 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Mon, 23 Oct 2023 19:12:14 +0000 (UTC)
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
 <25910.12548.637832.67159@stat.math.ethz.ch>
 <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
Message-ID: <722137161.2165045.1698088334367@mail.yahoo.com>

Dear R-experts,

I really thank you all a lot for your responses. So, here is the error (and warning) messages at the end of my R code.

Many thanks for your help.


Error in UseMethod("predict") :
? no applicable method for 'predict' applied to an object of class "c('matrix', 'array', 'double', 'numeric')"
> mean(unlist(lst))
[1] NA
Warning message:
In mean.default(unlist(lst)) :
? argument is not numeric or logical: returning NA








Le lundi 23 octobre 2023 ? 19:59:15 UTC+2, Ben Bolker <bbolker at gmail.com> a ?crit : 





? For what it's worth it looks like spm2 is specifically for *spatial* 
predictive modeling; presumably its version of CV is doing something 
spatially aware.

? I agree that glmnet is old and reliable.? One might want to use a 
tidymodels wrapper to create pipelines where you can more easily switch 
among predictive algorithms (see the `parsnip` package), but otherwise 
sticking to glmnet seems wise.

On 2023-10-23 4:38 a.m., Martin Maechler wrote:
>>>>>> Jin Li
>>>>>>? ? ? on Mon, 23 Oct 2023 15:42:14 +1100 writes:
> 
>? ? ? > If you are interested in other validation methods (e.g., LOO or n-fold)
>? ? ? > with more predictive accuracy measures, the function, glmnetcv, in the spm2
>? ? ? > package can be directly used, and some reproducible examples are
>? ? ? > also available in ?glmnetcv.
> 
> ... and once you open that can of w..:? the? glmnet package itself
> contains a function? cv.glmnet()? which we (our students) use when teaching.
> 
> What's the advantage of the spm2 package ?
> At least, the glmnet package is authored by the same who originated and
> first published (as in "peer reviewed" ..) these algorithms.
> 
> 
> 
>? ? ? > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
>? ? ? > wrote:
> 
>? ? ? >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
>? ? ? >> > No error message shown Please include the error message so that it is
>? ? ? >> > not necessary to rerun your code. This might enable someone to see the
>? ? ? >> > problem without running the code (e.g. downloading packages, etc.)
>? ? ? >>
>? ? ? >> And it's not necessarily true that someone else would see the same error
>? ? ? >> message.
>? ? ? >>
>? ? ? >> Duncan Murdoch
>? ? ? >>
>? ? ? >> >
>? ? ? >> > -- Bert
>? ? ? >> >
>? ? ? >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
>? ? ? >> > <r-help at r-project.org> wrote:
>? ? ? >> >>
>? ? ? >> >> Dear R-experts,
>? ? ? >> >>
>? ? ? >> >> Here below my R code with an error message. Can somebody help me to fix
>? ? ? >> this error?
>? ? ? >> >> Really appreciate your help.
>? ? ? >> >>
>? ? ? >> >> Best,
>? ? ? >> >>
>? ? ? >> >> ############################################################
>? ? ? >> >> # MSE CROSSVALIDATION Lasso regression
>? ? ? >> >>
>? ? ? >> >> library(glmnet)
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
>? ? ? >> >>
>? ? ? >> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
>? ? ? >> >>
>? ? ? >> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
>? ? ? >> >> T=data.frame(y,x1,x2)
>? ? ? >> >>
>? ? ? >> >> z=matrix(c(x1,x2), ncol=2)
>? ? ? >> >> cv_model=glmnet(z,y,alpha=1)
>? ? ? >> >> best_lambda=cv_model$lambda.min
>? ? ? >> >> best_lambda
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >> # Create a list to store the results
>? ? ? >> >> lst<-list()
>? ? ? >> >>
>? ? ? >> >> # This statement does the repetitions (looping)
>? ? ? >> >> for(i in 1 :1000) {
>? ? ? >> >>
>? ? ? >> >> n=45
>? ? ? >> >>
>? ? ? >> >> p=0.667
>? ? ? >> >>
>? ? ? >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
>? ? ? >> >>
>? ? ? >> >> Training =T [sam,]
>? ? ? >> >> Testing = T [-sam,]
>? ? ? >> >>
>? ? ? >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>? ? ? >> >>
>? ? ? >> >> predictLasso=predict(cv_model, newx=test1)
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >> ypred=predict(predictLasso,newdata=test1)
>? ? ? >> >> y=T[-sam,]$y
>? ? ? >> >>
>? ? ? >> >> MSE = mean((y-ypred)^2)
>? ? ? >> >> MSE
>? ? ? >> >> lst[i]<-MSE
>? ? ? >> >> }
>? ? ? >> >> mean(unlist(lst))
>? ? ? >> >> ##################################################################
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >>
>? ? ? >> >> ______________________________________________
>? ? ? >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>? ? ? >> >> https://stat.ethz.ch/mailman/listinfo/r-help
>? ? ? >> >> PLEASE do read the posting guide
>? ? ? >> http://www.R-project.org/posting-guide.html
>? ? ? >> >> and provide commented, minimal, self-contained, reproducible code.
>? ? ? >> >
>? ? ? >> > ______________________________________________
>? ? ? >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>? ? ? >> > https://stat.ethz.ch/mailman/listinfo/r-help
>? ? ? >> > PLEASE do read the posting guide
>? ? ? >> http://www.R-project.org/posting-guide.html
>? ? ? >> > and provide commented, minimal, self-contained, reproducible code.
>? ? ? >>
>? ? ? >> ______________________________________________
>? ? ? >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>? ? ? >> https://stat.ethz.ch/mailman/listinfo/r-help
>? ? ? >> PLEASE do read the posting guide
>? ? ? >> http://www.R-project.org/posting-guide.html
>? ? ? >> and provide commented, minimal, self-contained, reproducible code.
>? ? ? >>
> 
> 
>? ? ? > --
>? ? ? > Jin
>? ? ? > ------------------------------------------
>? ? ? > Jin Li, PhD
>? ? ? > Founder, Data2action, Australia
>? ? ? > https://www.researchgate.net/profile/Jin_Li32
>? ? ? > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en
> 
>? ? ? > [[alternative HTML version deleted]]

> 
>? ? ? > ______________________________________________
>? ? ? > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>? ? ? > https://stat.ethz.ch/mailman/listinfo/r-help
>? ? ? > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>? ? ? > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From j|n||68 @end|ng |rom gm@||@com  Tue Oct 24 07:01:10 2023
From: j|n||68 @end|ng |rom gm@||@com (Jin Li)
Date: Tue, 24 Oct 2023 16:01:10 +1100
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
 <25910.12548.637832.67159@stat.math.ethz.ch>
 <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
Message-ID: <CAGu_3ZJoER4V-cKrXnBN=WS-qv-FKML4P=dES8paHkAQuptPHA@mail.gmail.com>

Hi Ben, Martin and all,

The function, glmnetcv, in the spm2 package was developed for the following
main reasons:
1. The training and testing samples were generated using a stratified
random sampling method instead of a simple random sampling method. By doing
this, we hoped that it may be able to decluster the spatial data as Ben
mentioned and also to reduce the variation in the perdictive accuarcy among
iterations and produce a more reliable predictive accuracy.
2.  It can be used to produce various prective accuracy measures (e.g.,
VEcv) as shown in the reproducible examples.
3.  We also wanted that all methods compared in Spatial Predictive Modeling
with R were based on cv functions that are using the same sampling methods
(i.e., a number of cv functions were developed for this purpose), so that
we could conclude that the differences in the accuracy of predictive
methods were resulted from the methods themselves.

Anyway, people interested can use their own data to test and see.

Best,
Jin


On Tue, Oct 24, 2023 at 4:59?AM Ben Bolker <bbolker at gmail.com> wrote:

>    For what it's worth it looks like spm2 is specifically for *spatial*
> predictive modeling; presumably its version of CV is doing something
> spatially aware.
>
>    I agree that glmnet is old and reliable.  One might want to use a
> tidymodels wrapper to create pipelines where you can more easily switch
> among predictive algorithms (see the `parsnip` package), but otherwise
> sticking to glmnet seems wise.
>
> On 2023-10-23 4:38 a.m., Martin Maechler wrote:
> >>>>>> Jin Li
> >>>>>>      on Mon, 23 Oct 2023 15:42:14 +1100 writes:
> >
> >      > If you are interested in other validation methods (e.g., LOO or
> n-fold)
> >      > with more predictive accuracy measures, the function, glmnetcv,
> in the spm2
> >      > package can be directly used, and some reproducible examples are
> >      > also available in ?glmnetcv.
> >
> > ... and once you open that can of w..:   the  glmnet package itself
> > contains a function  cv.glmnet()  which we (our students) use when
> teaching.
> >
> > What's the advantage of the spm2 package ?
> > At least, the glmnet package is authored by the same who originated and
> > first published (as in "peer reviewed" ..) these algorithms.
> >
> >
> >
> >      > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <
> murdoch.duncan at gmail.com>
> >      > wrote:
> >
> >      >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
> >      >> > No error message shown Please include the error message so
> that it is
> >      >> > not necessary to rerun your code. This might enable someone to
> see the
> >      >> > problem without running the code (e.g. downloading packages,
> etc.)
> >      >>
> >      >> And it's not necessarily true that someone else would see the
> same error
> >      >> message.
> >      >>
> >      >> Duncan Murdoch
> >      >>
> >      >> >
> >      >> > -- Bert
> >      >> >
> >      >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
> >      >> > <r-help at r-project.org> wrote:
> >      >> >>
> >      >> >> Dear R-experts,
> >      >> >>
> >      >> >> Here below my R code with an error message. Can somebody help
> me to fix
> >      >> this error?
> >      >> >> Really appreciate your help.
> >      >> >>
> >      >> >> Best,
> >      >> >>
> >      >> >> ############################################################
> >      >> >> # MSE CROSSVALIDATION Lasso regression
> >      >> >>
> >      >> >> library(glmnet)
> >      >> >>
> >      >> >>
> >      >> >>
> >      >>
> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
> >      >> >>
> >      >>
> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
> >      >> >>
> >      >>
> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
> >      >> >> T=data.frame(y,x1,x2)
> >      >> >>
> >      >> >> z=matrix(c(x1,x2), ncol=2)
> >      >> >> cv_model=glmnet(z,y,alpha=1)
> >      >> >> best_lambda=cv_model$lambda.min
> >      >> >> best_lambda
> >      >> >>
> >      >> >>
> >      >> >> # Create a list to store the results
> >      >> >> lst<-list()
> >      >> >>
> >      >> >> # This statement does the repetitions (looping)
> >      >> >> for(i in 1 :1000) {
> >      >> >>
> >      >> >> n=45
> >      >> >>
> >      >> >> p=0.667
> >      >> >>
> >      >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
> >      >> >>
> >      >> >> Training =T [sam,]
> >      >> >> Testing = T [-sam,]
> >      >> >>
> >      >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
> >      >> >>
> >      >> >> predictLasso=predict(cv_model, newx=test1)
> >      >> >>
> >      >> >>
> >      >> >> ypred=predict(predictLasso,newdata=test1)
> >      >> >> y=T[-sam,]$y
> >      >> >>
> >      >> >> MSE = mean((y-ypred)^2)
> >      >> >> MSE
> >      >> >> lst[i]<-MSE
> >      >> >> }
> >      >> >> mean(unlist(lst))
> >      >> >>
> ##################################################################
> >      >> >>
> >      >> >>
> >      >> >>
> >      >> >>
> >      >> >> ______________________________________________
> >      >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> more, see
> >      >> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >      >> >> PLEASE do read the posting guide
> >      >> http://www.R-project.org/posting-guide.html
> >      >> >> and provide commented, minimal, self-contained, reproducible
> code.
> >      >> >
> >      >> > ______________________________________________
> >      >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> see
> >      >> > https://stat.ethz.ch/mailman/listinfo/r-help
> >      >> > PLEASE do read the posting guide
> >      >> http://www.R-project.org/posting-guide.html
> >      >> > and provide commented, minimal, self-contained, reproducible
> code.
> >      >>
> >      >> ______________________________________________
> >      >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> see
> >      >> https://stat.ethz.ch/mailman/listinfo/r-help
> >      >> PLEASE do read the posting guide
> >      >> http://www.R-project.org/posting-guide.html
> >      >> and provide commented, minimal, self-contained, reproducible
> code.
> >      >>
> >
> >
> >      > --
> >      > Jin
> >      > ------------------------------------------
> >      > Jin Li, PhD
> >      > Founder, Data2action, Australia
> >      > https://www.researchgate.net/profile/Jin_Li32
> >      > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en
> >
> >      > [[alternative HTML version deleted]]
> >
> >      > ______________________________________________
> >      > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >      > https://stat.ethz.ch/mailman/listinfo/r-help
> >      > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >      > and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Jin
------------------------------------------
Jin Li, PhD
Founder, Data2action, Australia
https://www.researchgate.net/profile/Jin_Li32
https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Tue Oct 24 13:56:25 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 24 Oct 2023 13:56:25 +0200
Subject: [R] Create new data frame with conditional sums
In-Reply-To: <CAGxFJbSYFkGQyNTi4JsHzCCy2NZ7bJ_JxAcUUhi2stWzsoYsnQ@mail.gmail.com>
References: <BN8PR05MB60663B9D27B40E8C240A387981D2A@BN8PR05MB6066.namprd05.prod.outlook.com>
 <CAGxFJbSYFkGQyNTi4JsHzCCy2NZ7bJ_JxAcUUhi2stWzsoYsnQ@mail.gmail.com>
Message-ID: <4951705F-A3D9-4270-A304-433DD8F512F1@gmail.com>

This seems to work. A couple of fine points, including handling duplicated Pct values right, which is easier if you do the reversed cumsum.

> dd2 <- dummydata[order(dummydata$Pct),]
> dd2$Cum <- rev(cumsum(rev(dd2$Totpop)))
> use <- !duplicated(dd2$Pct)
> approx(dd2$Pct[use], dd2$Cum[use], ctof, method="constant", f=1, rule=2)
$x
 [1] 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08 0.09 0.10 0.11 0.12 0.13 0.14
[16] 0.15

$y
 [1] 43800 43800 39300 39300 31000 26750 22750 17800 12700 12700  8000  8000
[13]  8000  3900  3900  3900


> On 14 Oct 2023, at 17:10 , Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
> Well, here's one way to do it:
> (dat is your example data frame)
> 
> Cutoff <- seq(0, .15, .01)
> Pop <- with(dat, sapply(Cutoff, \(p)sum(Totpop[Pct >= p])))
> 
> I think there must be a more efficient way to do it with cumsum(), though.
> 
> Cheers,
> Bert
> 
> On Sat, Oct 14, 2023 at 12:53?AM Jason Stout, M.D. <jason.stout at duke.edu> wrote:
>> 
>> This seems like it should be simple but I can't get it to work properly.  I'm starting with a data frame like this:
>> 
>> Tract      Pct          Totpop
>> 1              0.05        4000
>> 2              0.03        3500
>> 3              0.01        4500
>> 4              0.12        4100
>> 5              0.21        3900
>> 6              0.04        4250
>> 7              0.07        5100
>> 8              0.09        4700
>> 9              0.06        4950
>> 10           0.03        4800
>> 
>> And I want to end up with a data frame with two columns, a "Cutoff" column that is a simple sequence of equally spaced cutoffs (let's say in this case from 0-0.15 by 0.01) and a "Pop" column which equals the sum of "Totpop" in the prior data frame in which "Pct" is greater than or equal to "cutoff."  So in this toy example, this is what I want for a result:
>> 
>>   Cutoff   Pop
>> 1    0.00 43800
>> 2    0.01 43800
>> 3    0.02 39300
>> 4    0.03 39300
>> 5    0.04 31000
>> 6    0.05 26750
>> 7    0.06 22750
>> 8    0.07 17800
>> 9    0.08 12700
>> 10   0.09 12700
>> 11   0.10  8000
>> 12   0.11  8000
>> 13   0.12  8000
>> 14   0.13  3900
>> 15   0.14  3900
>> 16   0.15  3900
>> 
>> I can do this with a for loop but it seems there should be an easier, vectorized way that would be more efficient.  Here is a reproducible example:
>> 
>> dummydata<-data.frame(Tract=seq(1,10,by=1),Pct=c(0.05,0.03,0.01,0.12,0.21,0.04,0.07,0.09,0.06,0.03),Totpop=c(4000,3500,4500,4100,
>>                                                                                                             3900,4250,5100,4700,
>>                                                                                                             4950,4800))
>> dfrm<-data.frame(matrix(ncol=2,nrow=0,dimnames=list(NULL,c("Cutoff","Pop"))))
>> for (i in seq(0,0.15,by=0.01)) {
>> temp<-sum(dummydata[dummydata$Pct>=i,"Totpop"])
>> dfrm[nrow(dfrm)+1,]<-c(i,temp)
>> }
>> 
>> Jason Stout, MD, MHS
>> Division of Infectious Diseases
>> Dept of Medicine
>> Duke University
>> Box 102359-DUMC
>> Durham, NC 27710
>> FAX 919-681-7494
>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Oct 24 14:31:11 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 24 Oct 2023 14:31:11 +0200
Subject: [R] How to Calculate the Mean by Multiple Groups in R
Message-ID: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>

Hello,
I have a data frame with different groups (Time, Target, Conc) and
each entry has a triplicate value of the measurements OD and ODnorm.
How can I merge the triplicates into a single mean value?
I tried the following:
```
df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
                OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
                Target=rep("BACT", 9),
                Conc=c(1,1,1,2,2,2,3,3,3),
                ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
                stringsAsFactors = FALSE)
aggregate(.~ODnorm, df, mean)

> aggregate(.~ODnorm, df, mean)
  ODnorm Time Well OD Target Conc
1      0   NA   NA NA     NA   NA
2      6   NA   NA NA     NA   NA
3      9   NA   NA NA     NA   NA
4     45   NA   NA NA     NA   NA
5     48   NA   NA NA     NA   NA
6     82   NA   NA NA     NA   NA
7    138   NA   NA NA     NA   NA
8    158   NA   NA NA     NA   NA

 aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
  ODnorm Time Target Conc
1      0   NA     NA   NA
2      6   NA     NA   NA
3      9   NA     NA   NA
4     45   NA     NA   NA
5     48   NA     NA   NA
6     82   NA     NA   NA
7    138   NA     NA   NA
8    158   NA     NA   NA
```

Thank you.


From @@r@h@go@|ee @end|ng |rom gm@||@com  Tue Oct 24 14:40:46 2023
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Tue, 24 Oct 2023 08:40:46 -0400
Subject: [R] How to Calculate the Mean by Multiple Groups in R
In-Reply-To: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
References: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
Message-ID: <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>

Hi,

I think you're misunderstanding which set of variables go on either
side of the formula.

Is this what you're looking for?

> aggregate(OD ~ Time + Target + Conc, data = df, FUN = "mean")
  Time Target Conc       OD
1    1   BACT    1 765.3333
2    1   BACT    2 745.3333
3    1   BACT    3 675.0000
> aggregate(ODnorm ~ Time + Target + Conc, data = df, FUN = "mean")
  Time Target Conc    ODnorm
1    1   BACT    1 108.33333
2    1   BACT    2  88.33333
3    1   BACT    3  18.00000

Or using a different form, that might be more straightforward to you:

> aggregate(df[, c("OD", "ODnorm")], by = df[, c("Time", "Target", "Conc")], data = df, FUN = "mean")
  Time Target Conc       OD    ODnorm
1    1   BACT    1 765.3333 108.33333
2    1   BACT    2 745.3333  88.33333
3    1   BACT    3 675.0000  18.00000

Sarah

On Tue, Oct 24, 2023 at 8:31?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>
> Hello,
> I have a data frame with different groups (Time, Target, Conc) and
> each entry has a triplicate value of the measurements OD and ODnorm.
> How can I merge the triplicates into a single mean value?
> I tried the following:
> ```
> df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
>                 OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
>                 Target=rep("BACT", 9),
>                 Conc=c(1,1,1,2,2,2,3,3,3),
>                 ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
>                 stringsAsFactors = FALSE)
> aggregate(.~ODnorm, df, mean)
>
> > aggregate(.~ODnorm, df, mean)
>   ODnorm Time Well OD Target Conc
> 1      0   NA   NA NA     NA   NA
> 2      6   NA   NA NA     NA   NA
> 3      9   NA   NA NA     NA   NA
> 4     45   NA   NA NA     NA   NA
> 5     48   NA   NA NA     NA   NA
> 6     82   NA   NA NA     NA   NA
> 7    138   NA   NA NA     NA   NA
> 8    158   NA   NA NA     NA   NA
>
>  aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
>   ODnorm Time Target Conc
> 1      0   NA     NA   NA
> 2      6   NA     NA   NA
> 3      9   NA     NA   NA
> 4     45   NA     NA   NA
> 5     48   NA     NA   NA
> 6     82   NA     NA   NA
> 7    138   NA     NA   NA
> 8    158   NA     NA   NA
> ```
>
> Thank you.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee (she/her)
http://www.numberwright.com


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Oct 24 14:43:04 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 24 Oct 2023 14:43:04 +0200
Subject: [R] How to Calculate the Mean by Multiple Groups in R
In-Reply-To: <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>
References: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
 <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>
Message-ID: <CAMk+s2R6zOCNxewHOUnyCdtZHQJi+6zwFrDro4cXtOP-ta3FRg@mail.gmail.com>

Thank you, the last is exactly what I was looking for.

On Tue, Oct 24, 2023 at 2:41?PM Sarah Goslee <sarah.goslee at gmail.com> wrote:
>
> Hi,
>
> I think you're misunderstanding which set of variables go on either
> side of the formula.
>
> Is this what you're looking for?
>
> > aggregate(OD ~ Time + Target + Conc, data = df, FUN = "mean")
>   Time Target Conc       OD
> 1    1   BACT    1 765.3333
> 2    1   BACT    2 745.3333
> 3    1   BACT    3 675.0000
> > aggregate(ODnorm ~ Time + Target + Conc, data = df, FUN = "mean")
>   Time Target Conc    ODnorm
> 1    1   BACT    1 108.33333
> 2    1   BACT    2  88.33333
> 3    1   BACT    3  18.00000
>
> Or using a different form, that might be more straightforward to you:
>
> > aggregate(df[, c("OD", "ODnorm")], by = df[, c("Time", "Target", "Conc")], data = df, FUN = "mean")
>   Time Target Conc       OD    ODnorm
> 1    1   BACT    1 765.3333 108.33333
> 2    1   BACT    2 745.3333  88.33333
> 3    1   BACT    3 675.0000  18.00000
>
> Sarah
>
> On Tue, Oct 24, 2023 at 8:31?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
> >
> > Hello,
> > I have a data frame with different groups (Time, Target, Conc) and
> > each entry has a triplicate value of the measurements OD and ODnorm.
> > How can I merge the triplicates into a single mean value?
> > I tried the following:
> > ```
> > df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
> >                 OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
> >                 Target=rep("BACT", 9),
> >                 Conc=c(1,1,1,2,2,2,3,3,3),
> >                 ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
> >                 stringsAsFactors = FALSE)
> > aggregate(.~ODnorm, df, mean)
> >
> > > aggregate(.~ODnorm, df, mean)
> >   ODnorm Time Well OD Target Conc
> > 1      0   NA   NA NA     NA   NA
> > 2      6   NA   NA NA     NA   NA
> > 3      9   NA   NA NA     NA   NA
> > 4     45   NA   NA NA     NA   NA
> > 5     48   NA   NA NA     NA   NA
> > 6     82   NA   NA NA     NA   NA
> > 7    138   NA   NA NA     NA   NA
> > 8    158   NA   NA NA     NA   NA
> >
> >  aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
> >   ODnorm Time Target Conc
> > 1      0   NA     NA   NA
> > 2      6   NA     NA   NA
> > 3      9   NA     NA   NA
> > 4     45   NA     NA   NA
> > 5     48   NA     NA   NA
> > 6     82   NA     NA   NA
> > 7    138   NA     NA   NA
> > 8    158   NA     NA   NA
> > ```
> >
> > Thank you.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Sarah Goslee (she/her)
> http://www.numberwright.com



-- 
Best regards,
Luigi


From pd@|gd @end|ng |rom gm@||@com  Tue Oct 24 15:01:51 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 24 Oct 2023 15:01:51 +0200
Subject: [R] How to Calculate the Mean by Multiple Groups in R
In-Reply-To: <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>
References: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
 <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>
Message-ID: <421A59CE-89A5-417B-AF6B-E67A4C802B2C@gmail.com>

Also,

> aggregate(cbind(OD, ODnorm) ~ Time + Target + Conc, data = df, FUN = "mean")
  Time Target Conc       OD    ODnorm
1    1   BACT    1 765.3333 108.33333
2    1   BACT    2 745.3333  88.33333
3    1   BACT    3 675.0000  18.00000

(You might wish for "cbind(OD,ODnorm) ~ . - Well", but aggregate.formula is not smart enough for that.)

-pd

> On 24 Oct 2023, at 14:40 , Sarah Goslee <sarah.goslee at gmail.com> wrote:
> 
> Hi,
> 
> I think you're misunderstanding which set of variables go on either
> side of the formula.
> 
> Is this what you're looking for?
> 
>> aggregate(OD ~ Time + Target + Conc, data = df, FUN = "mean")
>  Time Target Conc       OD
> 1    1   BACT    1 765.3333
> 2    1   BACT    2 745.3333
> 3    1   BACT    3 675.0000
>> aggregate(ODnorm ~ Time + Target + Conc, data = df, FUN = "mean")
>  Time Target Conc    ODnorm
> 1    1   BACT    1 108.33333
> 2    1   BACT    2  88.33333
> 3    1   BACT    3  18.00000
> 
> Or using a different form, that might be more straightforward to you:
> 
>> aggregate(df[, c("OD", "ODnorm")], by = df[, c("Time", "Target", "Conc")], data = df, FUN = "mean")
>  Time Target Conc       OD    ODnorm
> 1    1   BACT    1 765.3333 108.33333
> 2    1   BACT    2 745.3333  88.33333
> 3    1   BACT    3 675.0000  18.00000
> 
> Sarah
> 
> On Tue, Oct 24, 2023 at 8:31?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>> 
>> Hello,
>> I have a data frame with different groups (Time, Target, Conc) and
>> each entry has a triplicate value of the measurements OD and ODnorm.
>> How can I merge the triplicates into a single mean value?
>> I tried the following:
>> ```
>> df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
>>                OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
>>                Target=rep("BACT", 9),
>>                Conc=c(1,1,1,2,2,2,3,3,3),
>>                ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
>>                stringsAsFactors = FALSE)
>> aggregate(.~ODnorm, df, mean)
>> 
>>> aggregate(.~ODnorm, df, mean)
>>  ODnorm Time Well OD Target Conc
>> 1      0   NA   NA NA     NA   NA
>> 2      6   NA   NA NA     NA   NA
>> 3      9   NA   NA NA     NA   NA
>> 4     45   NA   NA NA     NA   NA
>> 5     48   NA   NA NA     NA   NA
>> 6     82   NA   NA NA     NA   NA
>> 7    138   NA   NA NA     NA   NA
>> 8    158   NA   NA NA     NA   NA
>> 
>> aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
>>  ODnorm Time Target Conc
>> 1      0   NA     NA   NA
>> 2      6   NA     NA   NA
>> 3      9   NA     NA   NA
>> 4     45   NA     NA   NA
>> 5     48   NA     NA   NA
>> 6     82   NA     NA   NA
>> 7    138   NA     NA   NA
>> 8    158   NA     NA   NA
>> ```
>> 
>> Thank you.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> -- 
> Sarah Goslee (she/her)
> http://www.numberwright.com
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Oct 24 16:36:40 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 24 Oct 2023 16:36:40 +0200
Subject: [R] How to Calculate the Mean by Multiple Groups in R
In-Reply-To: <421A59CE-89A5-417B-AF6B-E67A4C802B2C@gmail.com>
References: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
 <CAM_vju=jtH=+d8nMb=+DLmZg2mQ2U+4TsOVJ6OJ7jHHWQh5jDA@mail.gmail.com>
 <421A59CE-89A5-417B-AF6B-E67A4C802B2C@gmail.com>
Message-ID: <CAMk+s2TWhTOGLWM6rBUv7o20uTq_YDarowGQnkK7LGmxg+qD-Q@mail.gmail.com>

Thank you

On Tue, Oct 24, 2023 at 3:01?PM peter dalgaard <pdalgd at gmail.com> wrote:
>
> Also,
>
> > aggregate(cbind(OD, ODnorm) ~ Time + Target + Conc, data = df, FUN = "mean")
>   Time Target Conc       OD    ODnorm
> 1    1   BACT    1 765.3333 108.33333
> 2    1   BACT    2 745.3333  88.33333
> 3    1   BACT    3 675.0000  18.00000
>
> (You might wish for "cbind(OD,ODnorm) ~ . - Well", but aggregate.formula is not smart enough for that.)
>
> -pd
>
> > On 24 Oct 2023, at 14:40 , Sarah Goslee <sarah.goslee at gmail.com> wrote:
> >
> > Hi,
> >
> > I think you're misunderstanding which set of variables go on either
> > side of the formula.
> >
> > Is this what you're looking for?
> >
> >> aggregate(OD ~ Time + Target + Conc, data = df, FUN = "mean")
> >  Time Target Conc       OD
> > 1    1   BACT    1 765.3333
> > 2    1   BACT    2 745.3333
> > 3    1   BACT    3 675.0000
> >> aggregate(ODnorm ~ Time + Target + Conc, data = df, FUN = "mean")
> >  Time Target Conc    ODnorm
> > 1    1   BACT    1 108.33333
> > 2    1   BACT    2  88.33333
> > 3    1   BACT    3  18.00000
> >
> > Or using a different form, that might be more straightforward to you:
> >
> >> aggregate(df[, c("OD", "ODnorm")], by = df[, c("Time", "Target", "Conc")], data = df, FUN = "mean")
> >  Time Target Conc       OD    ODnorm
> > 1    1   BACT    1 765.3333 108.33333
> > 2    1   BACT    2 745.3333  88.33333
> > 3    1   BACT    3 675.0000  18.00000
> >
> > Sarah
> >
> > On Tue, Oct 24, 2023 at 8:31?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
> >>
> >> Hello,
> >> I have a data frame with different groups (Time, Target, Conc) and
> >> each entry has a triplicate value of the measurements OD and ODnorm.
> >> How can I merge the triplicates into a single mean value?
> >> I tried the following:
> >> ```
> >> df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
> >>                OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
> >>                Target=rep("BACT", 9),
> >>                Conc=c(1,1,1,2,2,2,3,3,3),
> >>                ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
> >>                stringsAsFactors = FALSE)
> >> aggregate(.~ODnorm, df, mean)
> >>
> >>> aggregate(.~ODnorm, df, mean)
> >>  ODnorm Time Well OD Target Conc
> >> 1      0   NA   NA NA     NA   NA
> >> 2      6   NA   NA NA     NA   NA
> >> 3      9   NA   NA NA     NA   NA
> >> 4     45   NA   NA NA     NA   NA
> >> 5     48   NA   NA NA     NA   NA
> >> 6     82   NA   NA NA     NA   NA
> >> 7    138   NA   NA NA     NA   NA
> >> 8    158   NA   NA NA     NA   NA
> >>
> >> aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
> >>  ODnorm Time Target Conc
> >> 1      0   NA     NA   NA
> >> 2      6   NA     NA   NA
> >> 3      9   NA     NA   NA
> >> 4     45   NA     NA   NA
> >> 5     48   NA     NA   NA
> >> 6     82   NA     NA   NA
> >> 7    138   NA     NA   NA
> >> 8    158   NA     NA   NA
> >> ```
> >>
> >> Thank you.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> >
> >
> > --
> > Sarah Goslee (she/her)
> > http://www.numberwright.com
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>


-- 
Best regards,
Luigi


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Oct 24 16:37:48 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 24 Oct 2023 15:37:48 +0100
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <722137161.2165045.1698088334367@mail.yahoo.com>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
 <25910.12548.637832.67159@stat.math.ethz.ch>
 <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
 <722137161.2165045.1698088334367@mail.yahoo.com>
Message-ID: <ac848344-0c92-46be-9fc7-a0886bff7fd6@sapo.pt>

?s 20:12 de 23/10/2023, varin sacha via R-help escreveu:
> Dear R-experts,
> 
> I really thank you all a lot for your responses. So, here is the error (and warning) messages at the end of my R code.
> 
> Many thanks for your help.
> 
> 
> Error in UseMethod("predict") :
>  ? no applicable method for 'predict' applied to an object of class "c('matrix', 'array', 'double', 'numeric')"
>> mean(unlist(lst))
> [1] NA
> Warning message:
> In mean.default(unlist(lst)) :
>  ? argument is not numeric or logical: returning NA
> 
> 
> 
> 
> 
> 
> 
> 
> Le lundi 23 octobre 2023 ? 19:59:15 UTC+2, Ben Bolker <bbolker at gmail.com> a ?crit :
> 
> 
> 
> 
> 
>  ? For what it's worth it looks like spm2 is specifically for *spatial*
> predictive modeling; presumably its version of CV is doing something
> spatially aware.
> 
>  ? I agree that glmnet is old and reliable.? One might want to use a
> tidymodels wrapper to create pipelines where you can more easily switch
> among predictive algorithms (see the `parsnip` package), but otherwise
> sticking to glmnet seems wise.
> 
> On 2023-10-23 4:38 a.m., Martin Maechler wrote:
>>>>>>> Jin Li
>>>>>>>  ? ? ? on Mon, 23 Oct 2023 15:42:14 +1100 writes:
>>
>>  ? ? ? > If you are interested in other validation methods (e.g., LOO or n-fold)
>>  ? ? ? > with more predictive accuracy measures, the function, glmnetcv, in the spm2
>>  ? ? ? > package can be directly used, and some reproducible examples are
>>  ? ? ? > also available in ?glmnetcv.
>>
>> ... and once you open that can of w..:? the? glmnet package itself
>> contains a function? cv.glmnet()? which we (our students) use when teaching.
>>
>> What's the advantage of the spm2 package ?
>> At least, the glmnet package is authored by the same who originated and
>> first published (as in "peer reviewed" ..) these algorithms.
>>
>>
>>
>>  ? ? ? > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
>>  ? ? ? > wrote:
>>
>>  ? ? ? >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
>>  ? ? ? >> > No error message shown Please include the error message so that it is
>>  ? ? ? >> > not necessary to rerun your code. This might enable someone to see the
>>  ? ? ? >> > problem without running the code (e.g. downloading packages, etc.)
>>  ? ? ? >>
>>  ? ? ? >> And it's not necessarily true that someone else would see the same error
>>  ? ? ? >> message.
>>  ? ? ? >>
>>  ? ? ? >> Duncan Murdoch
>>  ? ? ? >>
>>  ? ? ? >> >
>>  ? ? ? >> > -- Bert
>>  ? ? ? >> >
>>  ? ? ? >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
>>  ? ? ? >> > <r-help at r-project.org> wrote:
>>  ? ? ? >> >>
>>  ? ? ? >> >> Dear R-experts,
>>  ? ? ? >> >>
>>  ? ? ? >> >> Here below my R code with an error message. Can somebody help me to fix
>>  ? ? ? >> this error?
>>  ? ? ? >> >> Really appreciate your help.
>>  ? ? ? >> >>
>>  ? ? ? >> >> Best,
>>  ? ? ? >> >>
>>  ? ? ? >> >> ############################################################
>>  ? ? ? >> >> # MSE CROSSVALIDATION Lasso regression
>>  ? ? ? >> >>
>>  ? ? ? >> >> library(glmnet)
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
>>  ? ? ? >> >>
>>  ? ? ? >> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
>>  ? ? ? >> >>
>>  ? ? ? >> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
>>  ? ? ? >> >> T=data.frame(y,x1,x2)
>>  ? ? ? >> >>
>>  ? ? ? >> >> z=matrix(c(x1,x2), ncol=2)
>>  ? ? ? >> >> cv_model=glmnet(z,y,alpha=1)
>>  ? ? ? >> >> best_lambda=cv_model$lambda.min
>>  ? ? ? >> >> best_lambda
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >> # Create a list to store the results
>>  ? ? ? >> >> lst<-list()
>>  ? ? ? >> >>
>>  ? ? ? >> >> # This statement does the repetitions (looping)
>>  ? ? ? >> >> for(i in 1 :1000) {
>>  ? ? ? >> >>
>>  ? ? ? >> >> n=45
>>  ? ? ? >> >>
>>  ? ? ? >> >> p=0.667
>>  ? ? ? >> >>
>>  ? ? ? >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
>>  ? ? ? >> >>
>>  ? ? ? >> >> Training =T [sam,]
>>  ? ? ? >> >> Testing = T [-sam,]
>>  ? ? ? >> >>
>>  ? ? ? >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>>  ? ? ? >> >>
>>  ? ? ? >> >> predictLasso=predict(cv_model, newx=test1)
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >> ypred=predict(predictLasso,newdata=test1)
>>  ? ? ? >> >> y=T[-sam,]$y
>>  ? ? ? >> >>
>>  ? ? ? >> >> MSE = mean((y-ypred)^2)
>>  ? ? ? >> >> MSE
>>  ? ? ? >> >> lst[i]<-MSE
>>  ? ? ? >> >> }
>>  ? ? ? >> >> mean(unlist(lst))
>>  ? ? ? >> >> ##################################################################
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >>
>>  ? ? ? >> >> ______________________________________________
>>  ? ? ? >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>  ? ? ? >> >> https://stat.ethz.ch/mailman/listinfo/r-help
>>  ? ? ? >> >> PLEASE do read the posting guide
>>  ? ? ? >> http://www.R-project.org/posting-guide.html
>>  ? ? ? >> >> and provide commented, minimal, self-contained, reproducible code.
>>  ? ? ? >> >
>>  ? ? ? >> > ______________________________________________
>>  ? ? ? >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>  ? ? ? >> > https://stat.ethz.ch/mailman/listinfo/r-help
>>  ? ? ? >> > PLEASE do read the posting guide
>>  ? ? ? >> http://www.R-project.org/posting-guide.html
>>  ? ? ? >> > and provide commented, minimal, self-contained, reproducible code.
>>  ? ? ? >>
>>  ? ? ? >> ______________________________________________
>>  ? ? ? >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>  ? ? ? >> https://stat.ethz.ch/mailman/listinfo/r-help
>>  ? ? ? >> PLEASE do read the posting guide
>>  ? ? ? >> http://www.R-project.org/posting-guide.html
>>  ? ? ? >> and provide commented, minimal, self-contained, reproducible code.
>>  ? ? ? >>
>>
>>
>>  ? ? ? > --
>>  ? ? ? > Jin
>>  ? ? ? > ------------------------------------------
>>  ? ? ? > Jin Li, PhD
>>  ? ? ? > Founder, Data2action, Australia
>>  ? ? ? > https://www.researchgate.net/profile/Jin_Li32
>>  ? ? ? > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en
>>
>>  ? ? ? > [[alternative HTML version deleted]]
> 
>>
>>  ? ? ? > ______________________________________________
>>  ? ? ? > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>  ? ? ? > https://stat.ethz.ch/mailman/listinfo/r-help
>>  ? ? ? > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>  ? ? ? > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

In your OP, the following two code lines are where that error comes from.


predictLasso=predict(cv_model, newx=test1)

ypred=predict(predictLasso,newdata=test1)



predictLasso already are predictions, it's the output of predict. So 
when you run the 2nd line above you are passing it a matrix, not a 
fitted model, and the error is thrown.

After the several suggestion in this thread, don't you want something 
like this instead of your for loop?


# make the results reproducible
set.seed(2023)
# this is better than what you had
z <- TT[c("x1", "x2")] |> as.matrix()
y <- TT[["y"]]
cv_model <- cv.glmnet(z, y, alpha = 1, type.measure = "mse")
best_lambda <- cv_model$lambda.min
best_lambda

# these two values should be the same, and they are
# index to minimum mse
(i <- cv_model$index[1])
which(cv_model$lambda == cv_model$lambda.min)

# these two values should be the same, and they are
# value of minimum mse
cv_model$cvm[i]
min(cv_model$cvm)

plot(cv_model)



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From ggrothend|eck @end|ng |rom gm@||@com  Tue Oct 24 17:13:42 2023
From: ggrothend|eck @end|ng |rom gm@||@com (Gabor Grothendieck)
Date: Tue, 24 Oct 2023 11:13:42 -0400
Subject: [R] How to Calculate the Mean by Multiple Groups in R
In-Reply-To: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
References: <CAMk+s2TJusxvPx2bbSazHw0Rwjk7ufsJn+Np-V3pw1LbAg94mw@mail.gmail.com>
Message-ID: <CAP01uRk9Au5XVDuLX02+HOXv7HT0xVha8Mv8nSu-JO0yhYJmsA@mail.gmail.com>

A variation is to remove Well and then we can use dot to refer to the
remaining columns.

  aggregate(cbind(OD, ODnorm)  ~ . , subset(df, select = - Well), mean)


On Tue, Oct 24, 2023 at 8:32?AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>
> Hello,
> I have a data frame with different groups (Time, Target, Conc) and
> each entry has a triplicate value of the measurements OD and ODnorm.
> How can I merge the triplicates into a single mean value?
> I tried the following:
> ```
> df = data.frame(Time=rep(1, 9), Well=paste("A", 1:9, sep=""),
>                 OD=c(666, 815, 815, 702, 739, 795, 657, 705, 663),
>                 Target=rep("BACT", 9),
>                 Conc=c(1,1,1,2,2,2,3,3,3),
>                 ODnorm=c(9, 158, 158,  45,  82, 138,   0,  48,   6),
>                 stringsAsFactors = FALSE)
> aggregate(.~ODnorm, df, mean)
>
> > aggregate(.~ODnorm, df, mean)
>   ODnorm Time Well OD Target Conc
> 1      0   NA   NA NA     NA   NA
> 2      6   NA   NA NA     NA   NA
> 3      9   NA   NA NA     NA   NA
> 4     45   NA   NA NA     NA   NA
> 5     48   NA   NA NA     NA   NA
> 6     82   NA   NA NA     NA   NA
> 7    138   NA   NA NA     NA   NA
> 8    158   NA   NA NA     NA   NA
>
>  aggregate(cbind(Time, Target, Conc) ~ ODnorm, df, mean)
>   ODnorm Time Target Conc
> 1      0   NA     NA   NA
> 2      6   NA     NA   NA
> 3      9   NA     NA   NA
> 4     45   NA     NA   NA
> 5     48   NA     NA   NA
> 6     82   NA     NA   NA
> 7    138   NA     NA   NA
> 8    158   NA     NA   NA
> ```
>
> Thank you.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Tue Oct 24 21:02:52 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Tue, 24 Oct 2023 19:02:52 +0000 (UTC)
Subject: [R] running crossvalidation many times MSE for Lasso regression
In-Reply-To: <ac848344-0c92-46be-9fc7-a0886bff7fd6@sapo.pt>
References: <1823742611.1400069.1698006976815.ref@mail.yahoo.com>
 <1823742611.1400069.1698006976815@mail.yahoo.com>
 <CAGxFJbQ26vOFLgHbSiqObOz+amAY94xVMx0d8UUTg8OPaLLdjg@mail.gmail.com>
 <839f1713-9719-47bc-9be8-c4f0b9ae9b2f@gmail.com>
 <CAGu_3ZJHpjpvab6ZumE0LoLtQWYCLB643MR-g4qm+n3WeQYLyw@mail.gmail.com>
 <25910.12548.637832.67159@stat.math.ethz.ch>
 <c86e9fbe-b009-4529-8ae6-73fe5c64fc64@gmail.com>
 <722137161.2165045.1698088334367@mail.yahoo.com>
 <ac848344-0c92-46be-9fc7-a0886bff7fd6@sapo.pt>
Message-ID: <1335695699.2954803.1698174172924@mail.yahoo.com>

Dear Rui,

I really thank you a lot for your response and your R code.

Best,

Sacha


Le mardi 24 octobre 2023 ? 16:37:56 UTC+2, Rui Barradas <ruipbarradas at sapo.pt> a ?crit : 





?s 20:12 de 23/10/2023, varin sacha via R-help escreveu:
> Dear R-experts,
> 
> I really thank you all a lot for your responses. So, here is the error (and warning) messages at the end of my R code.
> 
> Many thanks for your help.
> 
> 
> Error in UseMethod("predict") :
>? ? no applicable method for 'predict' applied to an object of class "c('matrix', 'array', 'double', 'numeric')"
>> mean(unlist(lst))
> [1] NA
> Warning message:
> In mean.default(unlist(lst)) :
>? ? argument is not numeric or logical: returning NA
> 
> 
> 
> 
> 
> 
> 
> 
> Le lundi 23 octobre 2023 ? 19:59:15 UTC+2, Ben Bolker <bbolker at gmail.com> a ?crit :
> 
> 
> 
> 
> 
>? ? For what it's worth it looks like spm2 is specifically for *spatial*
> predictive modeling; presumably its version of CV is doing something
> spatially aware.
> 
>? ? I agree that glmnet is old and reliable.? One might want to use a
> tidymodels wrapper to create pipelines where you can more easily switch
> among predictive algorithms (see the `parsnip` package), but otherwise
> sticking to glmnet seems wise.
> 
> On 2023-10-23 4:38 a.m., Martin Maechler wrote:
>>>>>>> Jin Li
>>>>>>>? ? ? ? on Mon, 23 Oct 2023 15:42:14 +1100 writes:
>>
>>? ? ? ? > If you are interested in other validation methods (e.g., LOO or n-fold)
>>? ? ? ? > with more predictive accuracy measures, the function, glmnetcv, in the spm2
>>? ? ? ? > package can be directly used, and some reproducible examples are
>>? ? ? ? > also available in ?glmnetcv.
>>
>> ... and once you open that can of w..:? the? glmnet package itself
>> contains a function? cv.glmnet()? which we (our students) use when teaching.
>>
>> What's the advantage of the spm2 package ?
>> At least, the glmnet package is authored by the same who originated and
>> first published (as in "peer reviewed" ..) these algorithms.
>>
>>
>>
>>? ? ? ? > On Mon, Oct 23, 2023 at 10:59?AM Duncan Murdoch <murdoch.duncan at gmail.com>
>>? ? ? ? > wrote:
>>
>>? ? ? ? >> On 22/10/2023 7:01 p.m., Bert Gunter wrote:
>>? ? ? ? >> > No error message shown Please include the error message so that it is
>>? ? ? ? >> > not necessary to rerun your code. This might enable someone to see the
>>? ? ? ? >> > problem without running the code (e.g. downloading packages, etc.)
>>? ? ? ? >>
>>? ? ? ? >> And it's not necessarily true that someone else would see the same error
>>? ? ? ? >> message.
>>? ? ? ? >>
>>? ? ? ? >> Duncan Murdoch
>>? ? ? ? >>
>>? ? ? ? >> >
>>? ? ? ? >> > -- Bert
>>? ? ? ? >> >
>>? ? ? ? >> > On Sun, Oct 22, 2023 at 1:36?PM varin sacha via R-help
>>? ? ? ? >> > <r-help at r-project.org> wrote:
>>? ? ? ? >> >>
>>? ? ? ? >> >> Dear R-experts,
>>? ? ? ? >> >>
>>? ? ? ? >> >> Here below my R code with an error message. Can somebody help me to fix
>>? ? ? ? >> this error?
>>? ? ? ? >> >> Really appreciate your help.
>>? ? ? ? >> >>
>>? ? ? ? >> >> Best,
>>? ? ? ? >> >>
>>? ? ? ? >> >> ############################################################
>>? ? ? ? >> >> # MSE CROSSVALIDATION Lasso regression
>>? ? ? ? >> >>
>>? ? ? ? >> >> library(glmnet)
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> x1=c(34,35,12,13,15,37,65,45,47,67,87,45,46,39,87,98,67,51,10,30,65,34,57,68,98,86,45,65,34,78,98,123,202,231,154,21,34,26,56,78,99,83,46,58,91)
>>? ? ? ? >> >>
>>? ? ? ? >> x2=c(1,3,2,4,5,6,7,3,8,9,10,11,12,1,3,4,2,3,4,5,4,6,8,7,9,4,3,6,7,9,8,4,7,6,1,3,2,5,6,8,7,1,1,2,9)
>>? ? ? ? >> >>
>>? ? ? ? >> y=c(2,6,5,4,6,7,8,10,11,2,3,1,3,5,4,6,5,3.4,5.6,-2.4,-5.4,5,3,6,5,-3,-5,3,2,-1,-8,5,8,6,9,4,5,-3,-7,-9,-9,8,7,1,2)
>>? ? ? ? >> >> T=data.frame(y,x1,x2)
>>? ? ? ? >> >>
>>? ? ? ? >> >> z=matrix(c(x1,x2), ncol=2)
>>? ? ? ? >> >> cv_model=glmnet(z,y,alpha=1)
>>? ? ? ? >> >> best_lambda=cv_model$lambda.min
>>? ? ? ? >> >> best_lambda
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >> # Create a list to store the results
>>? ? ? ? >> >> lst<-list()
>>? ? ? ? >> >>
>>? ? ? ? >> >> # This statement does the repetitions (looping)
>>? ? ? ? >> >> for(i in 1 :1000) {
>>? ? ? ? >> >>
>>? ? ? ? >> >> n=45
>>? ? ? ? >> >>
>>? ? ? ? >> >> p=0.667
>>? ? ? ? >> >>
>>? ? ? ? >> >> sam=sample(1 :n,floor(p*n),replace=FALSE)
>>? ? ? ? >> >>
>>? ? ? ? >> >> Training =T [sam,]
>>? ? ? ? >> >> Testing = T [-sam,]
>>? ? ? ? >> >>
>>? ? ? ? >> >> test1=matrix(c(Testing$x1,Testing$x2),ncol=2)
>>? ? ? ? >> >>
>>? ? ? ? >> >> predictLasso=predict(cv_model, newx=test1)
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >> ypred=predict(predictLasso,newdata=test1)
>>? ? ? ? >> >> y=T[-sam,]$y
>>? ? ? ? >> >>
>>? ? ? ? >> >> MSE = mean((y-ypred)^2)
>>? ? ? ? >> >> MSE
>>? ? ? ? >> >> lst[i]<-MSE
>>? ? ? ? >> >> }
>>? ? ? ? >> >> mean(unlist(lst))
>>? ? ? ? >> >> ##################################################################
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >>
>>? ? ? ? >> >> ______________________________________________
>>? ? ? ? >> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>? ? ? ? >> >> https://stat.ethz.ch/mailman/listinfo/r-help
>>? ? ? ? >> >> PLEASE do read the posting guide
>>? ? ? ? >> http://www.R-project.org/posting-guide.html
>>? ? ? ? >> >> and provide commented, minimal, self-contained, reproducible code.
>>? ? ? ? >> >
>>? ? ? ? >> > ______________________________________________
>>? ? ? ? >> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>? ? ? ? >> > https://stat.ethz.ch/mailman/listinfo/r-help
>>? ? ? ? >> > PLEASE do read the posting guide
>>? ? ? ? >> http://www.R-project.org/posting-guide.html
>>? ? ? ? >> > and provide commented, minimal, self-contained, reproducible code.
>>? ? ? ? >>
>>? ? ? ? >> ______________________________________________
>>? ? ? ? >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>? ? ? ? >> https://stat.ethz.ch/mailman/listinfo/r-help
>>? ? ? ? >> PLEASE do read the posting guide
>>? ? ? ? >> http://www.R-project.org/posting-guide.html
>>? ? ? ? >> and provide commented, minimal, self-contained, reproducible code.
>>? ? ? ? >>
>>
>>
>>? ? ? ? > --
>>? ? ? ? > Jin
>>? ? ? ? > ------------------------------------------
>>? ? ? ? > Jin Li, PhD
>>? ? ? ? > Founder, Data2action, Australia
>>? ? ? ? > https://www.researchgate.net/profile/Jin_Li32
>>? ? ? ? > https://scholar.google.com/citations?user=Jeot53EAAAAJ&hl=en
>>
>>? ? ? ? > [[alternative HTML version deleted]]
> 
>>
>>? ? ? ? > ______________________________________________
>>? ? ? ? > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>? ? ? ? > https://stat.ethz.ch/mailman/listinfo/r-help
>>? ? ? ? > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>? ? ? ? > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

In your OP, the following two code lines are where that error comes from.


predictLasso=predict(cv_model, newx=test1)

ypred=predict(predictLasso,newdata=test1)



predictLasso already are predictions, it's the output of predict. So 
when you run the 2nd line above you are passing it a matrix, not a 
fitted model, and the error is thrown.

After the several suggestion in this thread, don't you want something 
like this instead of your for loop?


# make the results reproducible
set.seed(2023)
# this is better than what you had
z <- TT[c("x1", "x2")] |> as.matrix()
y <- TT[["y"]]
cv_model <- cv.glmnet(z, y, alpha = 1, type.measure = "mse")

best_lambda <- cv_model$lambda.min
best_lambda


# these two values should be the same, and they are
# index to minimum mse
(i <- cv_model$index[1])
which(cv_model$lambda == cv_model$lambda.min)

# these two values should be the same, and they are
# value of minimum mse
cv_model$cvm[i]
min(cv_model$cvm)

plot(cv_model)



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed Oct 25 01:22:58 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 24 Oct 2023 23:22:58 +0000
Subject: [R] by function does not separate output from function with
 mulliple parts
Message-ID: <MW4PR03MB636325EB10248F0EB0061CFCE2DFA@MW4PR03MB6363.namprd03.prod.outlook.com>

Colleagues,

I have written an R function (see fully annotated code below), with which I want to process a dataframe within levels of the variable StepType. My program works, it processes the data within levels of StepType, but the usual headers that separate the output by levels of StepType are at the end of the listing rather than being used as separators, i.e. I get

Regression results StepType First
Contrast results StepType First
Regression results StepType Second
Contrast results StepType Second

and only after the results are displayed do I get the usual separators:
mydata$StepType: First
NULL
------------------------------------------------------------------------------ 
mydata$StepType: Second
NULL


What I want to get is output that includes the separators i.e., 

mydata$StepType: First
Regression results StepType First
Contrast results StepType First
------------------------------------------------------------------------------ 
mydata$StepType: Second
Regression results StepType Second
Contrast results StepType Second

Can you help me get the separators included in the printed otput?
Thank you, 
John

####################
# Create Dataframe #
####################
mydata <- structure(list(HipFlex = c(19.44, 4.44, 3.71, 1.95, 2.07, 1.55, 
      0.44, 0.23, 2.15, 0.41, 2.3, 0.22, 2.08, 4.61, 4.19, 5.65, 2.73, 
      1.46, 10.02, 7.41, 6.91, 5.28, 9.56, 2.46, 6, 3.85, 6.43, 3.73, 
      1.08, 1.43, 1.82, 2.22, 0.34, 5.11, 0.94, 0.98, 2.04, 1.73, 0.94, 
      18.41, 0.77, 2.31, 0.22, 1.06, 0.13, 0.36, 2.84, 5.2, 2.39, 2.99),
       jSex = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
      1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
      1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 
      2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L), levels = c("Male", "Female"), class = "factor")), 
      row.names = c(NA, 50L), class = "data.frame")

mydata[,"StepType"] <- rep(c("First","Second"),25)
mydata
########################
# END Create Dataframe #
########################

############################
# Define function to be run#
############################
DoReg <- function(x){
    fit0<-lm(as.numeric(HipFlex) ~ jSex,data=x)
  print(summary(fit0))
  
  cat("\nMale\n")
  print(contrast(fit0,
                 list(jSex="Male")))
  
  cat("\nFemale\n")  
  print(contrast(fit0,
                 list(jSex="Female")))
  
  cat("\nDifference\n")
  print(contrast(fit0,
                 a=list(jSex="Male"),
                 b=list(jSex="Female")))
}
################################
# END Define function to be run#
################################

#########################################
# Run function within levels of Steptype#
#########################################
by(mydata,mydata$StepType,DoReg)
#############################################
# END Run function within levels of Steptype#
#############################################




John David Sorkin M.D., Ph.D.
Professor of Medicine, University of Maryland School of Medicine;
Associate Director for Biostatistics and Informatics, Baltimore VA Medical Center Geriatrics Research, Education, and Clinical Center;?
PI?Biostatistics and Informatics Core, University of Maryland School of Medicine Claude D. Pepper Older Americans Independence Center;
Senior Statistician University of Maryland Center for Vascular Research;
Division of Gerontology and Paliative Care,
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
Cell phone 443-418-5382




From @hu|@|@cheung @end|ng |rom gm@||@com  Wed Oct 25 11:09:23 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Wed, 25 Oct 2023 17:09:23 +0800
Subject: [R] Create a call but evaluate only some elements
Message-ID: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>

Hi All,

I have a problem that may have a simple solution, but I am not
familiar with creating calls manually.

This is example calling lm()

``` r
set.seed(1234)
n <- 10
dat <- data.frame(x1 = rnorm(n),
                  x2 = rnorm(n),
                  y = rnorm(n))

lm_out <- lm(y ~ x1 + x2, dat)
lm_out
#>
#> Call:
#> lm(formula = y ~ x1 + x2, data = dat)
#>
#> Coefficients:
#> (Intercept)           x1           x2
#>     -0.5755      -0.4151      -0.2411
lm_out$call
#> lm(formula = y ~ x1 + x2, data = dat)
```

The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
are not evaluated.

I want to create a similar call, but only one of the elements is from a string.

```r
mod <- "y ~ x1 + x2"
```

This is what I tried but failed:

```r
lm_out2 <- do.call("lm",
                   list(formula = as.formula(mod),
                        data = dat))
lm_out2
#>
#> Call:
#> lm(formula = y ~ x1 + x2, data = structure(list(x1 = c(-1.20706574938542,
#> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
#> 0.506055892157574, -0.574739960134649, -0.546631855784187,
-0.564451999093283,
#> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
#> -0.77625389463799, 0.0644588172762693, 0.959494058970771, -0.110285494390774,
#> -0.511009505806642, -0.911195416629811, -0.83717168026894, 2.41583517848934
#> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
#> 0.459589441005854, -0.693720246937475, -1.44820491038647, 0.574755720900728,
#> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
= "data.frame", row.names = c(NA,
#> -10L)))
#>
#> Coefficients:
#> (Intercept)           x1           x2
#>     -0.5755      -0.4151      -0.2411
```

It does not have the formula, "as a formula": y ~ x1 + x2.
However, the name "dat" is evaluated. Therefore, the call stored does
not have the name 'dat', but has the evaluated content.

The following fits the same model. However, the call stores the name,
'mod', not the evaluated result, y ~ x1 + x2.

```r
lm_out3 <- lm(mod, data = dat)
lm_out3
#>
#> Call:
#> lm(formula = mod, data = dat)
#>
#> Coefficients:
#> (Intercept)           x1           x2
#>     -0.5755      -0.4151      -0.2411
```

The following method works. However, I have to do a dummy call,
extract the stored call, and set formula to the result of
as.formula(mod):

```r
lm_out3 <- lm(mod, data = dat)
lm_out3
#>
#> Call:
#> lm(formula = mod, data = dat)
#>
#> Coefficients:
#> (Intercept)           x1           x2
#>     -0.5755      -0.4151      -0.2411

call1 <- lm_out3$call
call1$formula <- as.formula(mod)
lm_out4 <- eval(call1)
lm_out4
#>
#> Call:
#> lm(formula = y ~ x1 + x2, data = dat)
#>
#> Coefficients:
#> (Intercept)           x1           x2
#>     -0.5755      -0.4151      -0.2411
```

Is it possible to create the call directly, with only 'mod' evaluated,
and other arguments, e.g., 'dat', not evaluated?

Regards,
Shu Fai


From @hu|@|@cheung @end|ng |rom gm@||@com  Wed Oct 25 11:11:50 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Wed, 25 Oct 2023 17:11:50 +0800
Subject: [R] Create a call but evaluate only some elements
In-Reply-To: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
References: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
Message-ID: <CAPVJd2U9B9ZyMXHC12ns0EUaEdQ-6w9Xor29FgbSpFbZpG_FLA@mail.gmail.com>

Sorry for a typo, regarding the first attempt, lm_out2, using
do.call(), I meant:

'It does have the formula, "as a formula": y ~ x1 + x2.
However, the name "dat" is evaluated. ...'

Regards,
Shu Fai

On Wed, Oct 25, 2023 at 5:09?PM Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
>
> Hi All,
>
> I have a problem that may have a simple solution, but I am not
> familiar with creating calls manually.
>
> This is example calling lm()
>
> ``` r
> set.seed(1234)
> n <- 10
> dat <- data.frame(x1 = rnorm(n),
>                   x2 = rnorm(n),
>                   y = rnorm(n))
>
> lm_out <- lm(y ~ x1 + x2, dat)
> lm_out
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> lm_out$call
> #> lm(formula = y ~ x1 + x2, data = dat)
> ```
>
> The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
> are not evaluated.
>
> I want to create a similar call, but only one of the elements is from a string.
>
> ```r
> mod <- "y ~ x1 + x2"
> ```
>
> This is what I tried but failed:
>
> ```r
> lm_out2 <- do.call("lm",
>                    list(formula = as.formula(mod),
>                         data = dat))
> lm_out2
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = structure(list(x1 = c(-1.20706574938542,
> #> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
> #> 0.506055892157574, -0.574739960134649, -0.546631855784187,
> -0.564451999093283,
> #> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
> #> -0.77625389463799, 0.0644588172762693, 0.959494058970771, -0.110285494390774,
> #> -0.511009505806642, -0.911195416629811, -0.83717168026894, 2.41583517848934
> #> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
> #> 0.459589441005854, -0.693720246937475, -1.44820491038647, 0.574755720900728,
> #> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
> = "data.frame", row.names = c(NA,
> #> -10L)))
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> It does not have the formula, "as a formula": y ~ x1 + x2.
> However, the name "dat" is evaluated. Therefore, the call stored does
> not have the name 'dat', but has the evaluated content.
>
> The following fits the same model. However, the call stores the name,
> 'mod', not the evaluated result, y ~ x1 + x2.
>
> ```r
> lm_out3 <- lm(mod, data = dat)
> lm_out3
> #>
> #> Call:
> #> lm(formula = mod, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> The following method works. However, I have to do a dummy call,
> extract the stored call, and set formula to the result of
> as.formula(mod):
>
> ```r
> lm_out3 <- lm(mod, data = dat)
> lm_out3
> #>
> #> Call:
> #> lm(formula = mod, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
>
> call1 <- lm_out3$call
> call1$formula <- as.formula(mod)
> lm_out4 <- eval(call1)
> lm_out4
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> Is it possible to create the call directly, with only 'mod' evaluated,
> and other arguments, e.g., 'dat', not evaluated?
>
> Regards,
> Shu Fai


From |kw@|mmo @end|ng |rom gm@||@com  Wed Oct 25 11:23:49 2023
From: |kw@|mmo @end|ng |rom gm@||@com (Iris Simmons)
Date: Wed, 25 Oct 2023 05:23:49 -0400
Subject: [R] Create a call but evaluate only some elements
In-Reply-To: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
References: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
Message-ID: <CADNULg_bpLo2VyGPW+hkswpTDPJUvvDpEhXWnKVKoFzLtZ-h3g@mail.gmail.com>

You can try either of these:

expr <- bquote(lm(.(as.formula(mod)), dat))
lm_out5 <- eval(expr)

expr <- call("lm", as.formula(mod), as.symbol("dat"))
lm_out6 <- eval(expr)

but bquote is usually easier and good enough.

On Wed, Oct 25, 2023, 05:10 Shu Fai Cheung <shufai.cheung at gmail.com> wrote:

> Hi All,
>
> I have a problem that may have a simple solution, but I am not
> familiar with creating calls manually.
>
> This is example calling lm()
>
> ``` r
> set.seed(1234)
> n <- 10
> dat <- data.frame(x1 = rnorm(n),
>                   x2 = rnorm(n),
>                   y = rnorm(n))
>
> lm_out <- lm(y ~ x1 + x2, dat)
> lm_out
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> lm_out$call
> #> lm(formula = y ~ x1 + x2, data = dat)
> ```
>
> The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
> are not evaluated.
>
> I want to create a similar call, but only one of the elements is from a
> string.
>
> ```r
> mod <- "y ~ x1 + x2"
> ```
>
> This is what I tried but failed:
>
> ```r
> lm_out2 <- do.call("lm",
>                    list(formula = as.formula(mod),
>                         data = dat))
> lm_out2
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = structure(list(x1 =
> c(-1.20706574938542,
> #> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
> #> 0.506055892157574, -0.574739960134649, -0.546631855784187,
> -0.564451999093283,
> #> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
> #> -0.77625389463799, 0.0644588172762693, 0.959494058970771,
> -0.110285494390774,
> #> -0.511009505806642, -0.911195416629811, -0.83717168026894,
> 2.41583517848934
> #> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
> #> 0.459589441005854, -0.693720246937475, -1.44820491038647,
> 0.574755720900728,
> #> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
> = "data.frame", row.names = c(NA,
> #> -10L)))
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> It does not have the formula, "as a formula": y ~ x1 + x2.
> However, the name "dat" is evaluated. Therefore, the call stored does
> not have the name 'dat', but has the evaluated content.
>
> The following fits the same model. However, the call stores the name,
> 'mod', not the evaluated result, y ~ x1 + x2.
>
> ```r
> lm_out3 <- lm(mod, data = dat)
> lm_out3
> #>
> #> Call:
> #> lm(formula = mod, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> The following method works. However, I have to do a dummy call,
> extract the stored call, and set formula to the result of
> as.formula(mod):
>
> ```r
> lm_out3 <- lm(mod, data = dat)
> lm_out3
> #>
> #> Call:
> #> lm(formula = mod, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
>
> call1 <- lm_out3$call
> call1$formula <- as.formula(mod)
> lm_out4 <- eval(call1)
> lm_out4
> #>
> #> Call:
> #> lm(formula = y ~ x1 + x2, data = dat)
> #>
> #> Coefficients:
> #> (Intercept)           x1           x2
> #>     -0.5755      -0.4151      -0.2411
> ```
>
> Is it possible to create the call directly, with only 'mod' evaluated,
> and other arguments, e.g., 'dat', not evaluated?
>
> Regards,
> Shu Fai
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @hu|@|@cheung @end|ng |rom gm@||@com  Wed Oct 25 12:55:48 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Wed, 25 Oct 2023 18:55:48 +0800
Subject: [R] Create a call but evaluate only some elements
In-Reply-To: <CADNULg_bpLo2VyGPW+hkswpTDPJUvvDpEhXWnKVKoFzLtZ-h3g@mail.gmail.com>
References: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
 <CADNULg_bpLo2VyGPW+hkswpTDPJUvvDpEhXWnKVKoFzLtZ-h3g@mail.gmail.com>
Message-ID: <CAPVJd2XS8EJs8wMJpgu_k7fWyOQGWMA2Xr3Hu=1kbHatKbNc-Q@mail.gmail.com>

Dear Iris,

Many many thanks! This is exactly what I need! I have never heard
about bquote(). This function will also be useful to me on other
occasions.

I still have a lot to learn about the R language ...

Regards,
Shu Fai


On Wed, Oct 25, 2023 at 5:24?PM Iris Simmons <ikwsimmo at gmail.com> wrote:
>
> You can try either of these:
>
> expr <- bquote(lm(.(as.formula(mod)), dat))
> lm_out5 <- eval(expr)
>
> expr <- call("lm", as.formula(mod), as.symbol("dat"))
> lm_out6 <- eval(expr)
>
> but bquote is usually easier and good enough.
>
> On Wed, Oct 25, 2023, 05:10 Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
>>
>> Hi All,
>>
>> I have a problem that may have a simple solution, but I am not
>> familiar with creating calls manually.
>>
>> This is example calling lm()
>>
>> ``` r
>> set.seed(1234)
>> n <- 10
>> dat <- data.frame(x1 = rnorm(n),
>>                   x2 = rnorm(n),
>>                   y = rnorm(n))
>>
>> lm_out <- lm(y ~ x1 + x2, dat)
>> lm_out
>> #>
>> #> Call:
>> #> lm(formula = y ~ x1 + x2, data = dat)
>> #>
>> #> Coefficients:
>> #> (Intercept)           x1           x2
>> #>     -0.5755      -0.4151      -0.2411
>> lm_out$call
>> #> lm(formula = y ~ x1 + x2, data = dat)
>> ```
>>
>> The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
>> are not evaluated.
>>
>> I want to create a similar call, but only one of the elements is from a string.
>>
>> ```r
>> mod <- "y ~ x1 + x2"
>> ```
>>
>> This is what I tried but failed:
>>
>> ```r
>> lm_out2 <- do.call("lm",
>>                    list(formula = as.formula(mod),
>>                         data = dat))
>> lm_out2
>> #>
>> #> Call:
>> #> lm(formula = y ~ x1 + x2, data = structure(list(x1 = c(-1.20706574938542,
>> #> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
>> #> 0.506055892157574, -0.574739960134649, -0.546631855784187,
>> -0.564451999093283,
>> #> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
>> #> -0.77625389463799, 0.0644588172762693, 0.959494058970771, -0.110285494390774,
>> #> -0.511009505806642, -0.911195416629811, -0.83717168026894, 2.41583517848934
>> #> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
>> #> 0.459589441005854, -0.693720246937475, -1.44820491038647, 0.574755720900728,
>> #> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
>> = "data.frame", row.names = c(NA,
>> #> -10L)))
>> #>
>> #> Coefficients:
>> #> (Intercept)           x1           x2
>> #>     -0.5755      -0.4151      -0.2411
>> ```
>>
>> It does not have the formula, "as a formula": y ~ x1 + x2.
>> However, the name "dat" is evaluated. Therefore, the call stored does
>> not have the name 'dat', but has the evaluated content.
>>
>> The following fits the same model. However, the call stores the name,
>> 'mod', not the evaluated result, y ~ x1 + x2.
>>
>> ```r
>> lm_out3 <- lm(mod, data = dat)
>> lm_out3
>> #>
>> #> Call:
>> #> lm(formula = mod, data = dat)
>> #>
>> #> Coefficients:
>> #> (Intercept)           x1           x2
>> #>     -0.5755      -0.4151      -0.2411
>> ```
>>
>> The following method works. However, I have to do a dummy call,
>> extract the stored call, and set formula to the result of
>> as.formula(mod):
>>
>> ```r
>> lm_out3 <- lm(mod, data = dat)
>> lm_out3
>> #>
>> #> Call:
>> #> lm(formula = mod, data = dat)
>> #>
>> #> Coefficients:
>> #> (Intercept)           x1           x2
>> #>     -0.5755      -0.4151      -0.2411
>>
>> call1 <- lm_out3$call
>> call1$formula <- as.formula(mod)
>> lm_out4 <- eval(call1)
>> lm_out4
>> #>
>> #> Call:
>> #> lm(formula = y ~ x1 + x2, data = dat)
>> #>
>> #> Coefficients:
>> #> (Intercept)           x1           x2
>> #>     -0.5755      -0.4151      -0.2411
>> ```
>>
>> Is it possible to create the call directly, with only 'mod' evaluated,
>> and other arguments, e.g., 'dat', not evaluated?
>>
>> Regards,
>> Shu Fai
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Oct 25 14:43:09 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 25 Oct 2023 15:43:09 +0300
Subject: [R] by function does not separate output from function with,
 mulliple parts
Message-ID: <81aa0249-c42d-4b00-beac-6a5c89a1a61f@syonic.eu>

Dear John,

Printing inside the function is problematic. Your function itself does 
NOT print the labels.

Just as a clarification:

F = factor(rep(1:2, 2))
by(data.frame(V = 1:4, F = F), F, function(x) { print(x); return(NULL); } )
#?? V F
# 1 1 1
# 3 3 1
#?? V F
# 2 2 2
# 4 4 2
# F: 1 <- this is NOT printed inside the function
# NULL
# ---------------------------------------------------------
# F: 2
# NULL

### Return Results
by(data.frame(V = 1:4, F = F), F, function(x) { return(x); } )
# F: 1
# ? V F
# 1 1 1
# 3 3 1
# --------------------------------------------------
# F: 2
#?? V F
# 2 2 2
# 4 4 2

Maybe others on the list can offer further assistance.

Sincerely,

Leonard


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct 25 17:24:53 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 25 Oct 2023 16:24:53 +0100
Subject: [R] by function does not separate output from function with
 mulliple parts
In-Reply-To: <MW4PR03MB636325EB10248F0EB0061CFCE2DFA@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB636325EB10248F0EB0061CFCE2DFA@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <74492d46-9bcd-4199-a337-f6b5798941c1@sapo.pt>

?s 00:22 de 25/10/2023, Sorkin, John escreveu:
> Colleagues,
> 
> I have written an R function (see fully annotated code below), with which I want to process a dataframe within levels of the variable StepType. My program works, it processes the data within levels of StepType, but the usual headers that separate the output by levels of StepType are at the end of the listing rather than being used as separators, i.e. I get
> 
> Regression results StepType First
> Contrast results StepType First
> Regression results StepType Second
> Contrast results StepType Second
> 
> and only after the results are displayed do I get the usual separators:
> mydata$StepType: First
> NULL
> ------------------------------------------------------------------------------
> mydata$StepType: Second
> NULL
> 
> 
> What I want to get is output that includes the separators i.e.,
> 
> mydata$StepType: First
> Regression results StepType First
> Contrast results StepType First
> ------------------------------------------------------------------------------
> mydata$StepType: Second
> Regression results StepType Second
> Contrast results StepType Second
> 
> Can you help me get the separators included in the printed otput?
> Thank you,
> John
> 
> ####################
> # Create Dataframe #
> ####################
> mydata <- structure(list(HipFlex = c(19.44, 4.44, 3.71, 1.95, 2.07, 1.55,
>        0.44, 0.23, 2.15, 0.41, 2.3, 0.22, 2.08, 4.61, 4.19, 5.65, 2.73,
>        1.46, 10.02, 7.41, 6.91, 5.28, 9.56, 2.46, 6, 3.85, 6.43, 3.73,
>        1.08, 1.43, 1.82, 2.22, 0.34, 5.11, 0.94, 0.98, 2.04, 1.73, 0.94,
>        18.41, 0.77, 2.31, 0.22, 1.06, 0.13, 0.36, 2.84, 5.2, 2.39, 2.99),
>         jSex = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
>        1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
>        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L,
>        2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L), levels = c("Male", "Female"), class = "factor")),
>        row.names = c(NA, 50L), class = "data.frame")
> 
> mydata[,"StepType"] <- rep(c("First","Second"),25)
> mydata
> ########################
> # END Create Dataframe #
> ########################
> 
> ############################
> # Define function to be run#
> ############################
> DoReg <- function(x){
>      fit0<-lm(as.numeric(HipFlex) ~ jSex,data=x)
>    print(summary(fit0))
>    
>    cat("\nMale\n")
>    print(contrast(fit0,
>                   list(jSex="Male")))
>    
>    cat("\nFemale\n")
>    print(contrast(fit0,
>                   list(jSex="Female")))
>    
>    cat("\nDifference\n")
>    print(contrast(fit0,
>                   a=list(jSex="Male"),
>                   b=list(jSex="Female")))
> }
> ################################
> # END Define function to be run#
> ################################
> 
> #########################################
> # Run function within levels of Steptype#
> #########################################
> by(mydata,mydata$StepType,DoReg)
> #############################################
> # END Run function within levels of Steptype#
> #############################################
> 
> 
> 
> 
> John David Sorkin M.D., Ph.D.
> Professor of Medicine, University of Maryland School of Medicine;
> Associate Director for Biostatistics and Informatics, Baltimore VA Medical Center Geriatrics Research, Education, and Clinical Center;
> PI?Biostatistics and Informatics Core, University of Maryland School of Medicine Claude D. Pepper Older Americans Independence Center;
> Senior Statistician University of Maryland Center for Vascular Research;
> Division of Gerontology and Paliative Care,
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> Cell phone 443-418-5382
> 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

What you are seeing is the prints and cats in the function DoReg, not 
its output. The code below works as expected.
Also, you didn't load the package where function contrast() is found.


library(contrast)

############################
# Define function to be run#
############################
DoReg <- function(x){
   fit0 <- lm(as.numeric(HipFlex) ~ jSex,data=x)

   contrast(
     fit0,
     a=list(jSex="Male"),
     b=list(jSex="Female")
   )
}
################################
# END Define function to be run#
################################

#########################################
# Run function within levels of Steptype#
#########################################
by(mydata,mydata$StepType,DoReg)
#> mydata$StepType: First
#> lm model parameter contrast
#>
#>   Contrast     S.E.    Lower    Upper    t df Pr(>|t|)
#> 1  2.99114 1.956013 -1.05518 7.037461 1.53 23   0.1399
#> ------------------------------------------------------------
#> mydata$StepType: Second
#> lm model parameter contrast
#>
#>   Contrast     S.E.     Lower    Upper     t df Pr(>|t|)
#> 1   -2.435 1.819421 -6.198759 1.328759 -1.34 23   0.1939


Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed Oct 25 21:23:42 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Wed, 25 Oct 2023 19:23:42 +0000
Subject: [R] Error running gee function. I neither understand the error
 message, nor know what needs to be done the get the gee to run
Message-ID: <MW4PR03MB6363F4FE1503EFBDD86BEDF6E2DEA@MW4PR03MB6363.namprd03.prod.outlook.com>

Colleagues,

I am receiving several error messages from the gee function. I don't understand the ides the error messages are trying to impart, and I don't know how to debug or correct the error. The error messages follow:


> fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)

Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27

running glm to get initial regression estimate

(Intercept)  StepHeight

   1.400319   58.570236

Error in gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :

  NA/NaN/Inf in foreign function call (arg 3)

In addition: Warning message:

In gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :

  NAs introduced by coercion

Of note, when the analysis is run using lm, there is no problem. My fully data and code follow:
Thank you,
John


CODE:

if (!require(gee)) {install.packages("gee")}
library(gee)

datashort <- structure(list(HipFlex =   c(1.95, 2.07,  1.55,  0.44,  0.23, 0.41,
 0.22, 4.61, 10.02,  1.08, 1.43, 1.82,  0.34,  0.77,  0.22, 1.06,
 0.13, 0.36,  2.84,  5.2, 12.27, 1.37,  2.33,  3.48,  4.76, 1.92,  2.09,
 4.67, 2.94,  0.75,  0.11, 3.56, 1.63,  0.8,   1.54,  5.06, NA,    5.41,
 6.18, 3.75,  3.12, 17.43, 3.18, 0.85, 14.54, 14.34, 21.92, 4.91,
 1.52, 0.38,  0.43,  0.47, 0.56, 6.4,  12.4,   3.98,  0.57, 1.84, 12.06,
 0.45, 8.16,  0.02,  0,    0.05, 0.52,  0.11,  0.48,  1.5,  3.29,  2.58,
 2.07, 6.06,  1.46,  1.06, 3.82, 1.09,  2.86,  3.47,  2.22, 1.89, NA,
 3.48, 6.38,  3.58,  1.83, 2.8,  8.28,  7.15,  4.77,  4.93, 0,     0.11,
 1.99, 2.01,  2.3,   1.24, 1.33, 2, 1.01), PID = c("HIPS004", "HIPS004",
 "HIPS005", "HIPS005", "HIPS005", "HIPS006", "HIPS006", "HIPS008",
 "HIPS010", "HIPS024", "HIPS024", "HIPS024", "HIPS025", "HIPS028",
 "HIPS028", "HIPS030", "HIPS030", "HIPS030", "HIPS035", "HIPS035",
 "HIPS035", "HIPS036", "HIPS036", "HIPS037", "HIPS044", "HIPS047",
 "HIPS047", "HIPS056", "HIPS056", "HIPS057", "HIPS057", "HIPS057",
 "HIPS058", "HIPS059", "HIPS059", "HIPS061", "HIPS062", "HIPS062",
 "HIPS062", "HIPS064", "HIPS074", "HIPS079", "HIPS084", "HIPS089",
 "HIPS090", "HIPS090", "HIPS090", "HIPS091", "HIPS091", "HIPS092",
 "HIPS092", "HIPS092", "HIPS001", "HIPS001", "HIPS001", "HIPS004",
 "HIPS004", "HIPS004", "HIPS005", "HIPS005", "HIPS005", "HIPS006",
 "HIPS006", "HIPS008", "HIPS022", "HIPS024", "HIPS028", "HIPS030",
 "HIPS035", "HIPS036", "HIPS036", "HIPS039", "HIPS044", "HIPS047",
 "HIPS051", "HIPS056", "HIPS058", "HIPS058", "HIPS059", "HIPS059",
 "HIPS062", "HIPS062", "HIPS062", "HIPS069", "HIPS069", "HIPS071",
 "HIPS074", "HIPS079", "HIPS084", "HIPS084", "HIPS085", "HIPS089",
 "HIPS090", "HIPS091", "HIPS091", "HIPS091", "HIPS092", "HIPS092",
 "HIPS093"), StepHeight =  c(0.005, 0.008, 0.072, 0.003, 0.014,
 0.01,  0.027, 0.074, 0.128, 0.048, 0.036, 0.024, 0.021, 0.026,
 0.03,  0.004, 0.006, 0.006, 0.011, 0.006, 0.053, 0.028, 0.073,
 0.041, 0.005, 0.007, 0.013, 0.012, 0.021, 0.053, 0.013, 0.071,
 0.012, 0.016, 0.023, 0.024, 0.011, 0.019, 0.014, 0.022, 0.011,
 0.129, 0.03,  0.012, 0.062, 0.145, 0.077, 0.028, 0.006, 0.019,
 0.008, 0.006, 0.034, 0.109, 0.09,  0.005, 0.016, 0.005, 0.257,
 0.011, 0.205, 0.01,  0.017, 0.039, 0.01,  0.016, 0.043, 0.004,
 0.008, 0.04,  0.068, 0.006, 0.008, 0.005, 0.097, 0.015, 0.016,
 0.01,  0.021, 0.008, 0.01,  0.006, 0.016, 0.021, 0.012, 0.009,
 0.032, 0.055, 0.006, 0.066, 0.018, 0.01,  0.018, 0.017, 0.015,
 0.01,  0.017, 0.02,  0.022)), class = "data.frame", row.names = c(4L,
  5L,   6L,    7L,   8L,  10L,  12L,  14L,  19L,  29L,  30L,  31L, 33L, 41L,
  43L,  44L,  45L,  46L,  47L,  48L,  51L,  52L,  53L,  58L,  62L, 65L, 67L,
  70L,  72L,  74L,  75L,  77L,  79L,  82L,  83L,  86L,  88L,  89L, 90L, 93L,
 109L, 114L, 117L, 129L, 131L, 132L, 133L, 134L, 135L, 136L, 137L,
 138L, 142L, 143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L,
 152L, 155L, 165L, 167L, 172L, 173L, 174L, 176L, 178L, 179L, 185L,
 186L, 188L, 192L, 193L, 195L, 197L, 199L, 202L, 203L, 204L, 214L,
 216L, 221L, 225L, 234L, 236L, 237L, 238L, 250L, 252L, 255L, 256L,
 257L, 258L, 260L, 261L))

datashort

# This does not work:
fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)
summary(fitgee)

# This works.
fitlm <- lm(HipFlex ~ StepHeight,data=datashort)
summary(fitlm)


John David Sorkin M.D., Ph.D.
Professor of Medicine, University of Maryland School of Medicine;

Associate Director for Biostatistics and Informatics, Baltimore VA Medical Center Geriatrics Research, Education, and Clinical Center;

PI Biostatistics and Informatics Core, University of Maryland School of Medicine Claude D. Pepper Older Americans Independence Center;

Senior Statistician University of Maryland Center for Vascular Research;

Division of Gerontology and Paliative Care,
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
Cell phone 443-418-5382


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Oct 25 21:38:18 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 25 Oct 2023 15:38:18 -0400
Subject: [R] Error running gee function. I neither understand the error
 message, nor know what needs to be done the get the gee to run
In-Reply-To: <MW4PR03MB6363F4FE1503EFBDD86BEDF6E2DEA@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363F4FE1503EFBDD86BEDF6E2DEA@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <a0967b24-92b5-470c-b927-20fd3769c540@gmail.com>

I don't see it documented, but it appears that the gee() function 
assumes the id variable can be coerced to a number.  Your ids are in 
PID, and are strings like "HIPS004", etc.  Change that to "004" or a 
numeric 4 and the error goes away.

Duncan Murdoch

On 25/10/2023 3:23 p.m., Sorkin, John wrote:
> Colleagues,
> 
> I am receiving several error messages from the gee function. I don't understand the ides the error messages are trying to impart, and I don't know how to debug or correct the error. The error messages follow:
> 
> 
>> fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)
> 
> Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27
> 
> running glm to get initial regression estimate
> 
> (Intercept)  StepHeight
> 
>     1.400319   58.570236
> 
> Error in gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :
> 
>    NA/NaN/Inf in foreign function call (arg 3)
> 
> In addition: Warning message:
> 
> In gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :
> 
>    NAs introduced by coercion
> 
> Of note, when the analysis is run using lm, there is no problem. My fully data and code follow:
> Thank you,
> John
> 
> 
> CODE:
> 
> if (!require(gee)) {install.packages("gee")}
> library(gee)
> 
> datashort <- structure(list(HipFlex =   c(1.95, 2.07,  1.55,  0.44,  0.23, 0.41,
>   0.22, 4.61, 10.02,  1.08, 1.43, 1.82,  0.34,  0.77,  0.22, 1.06,
>   0.13, 0.36,  2.84,  5.2, 12.27, 1.37,  2.33,  3.48,  4.76, 1.92,  2.09,
>   4.67, 2.94,  0.75,  0.11, 3.56, 1.63,  0.8,   1.54,  5.06, NA,    5.41,
>   6.18, 3.75,  3.12, 17.43, 3.18, 0.85, 14.54, 14.34, 21.92, 4.91,
>   1.52, 0.38,  0.43,  0.47, 0.56, 6.4,  12.4,   3.98,  0.57, 1.84, 12.06,
>   0.45, 8.16,  0.02,  0,    0.05, 0.52,  0.11,  0.48,  1.5,  3.29,  2.58,
>   2.07, 6.06,  1.46,  1.06, 3.82, 1.09,  2.86,  3.47,  2.22, 1.89, NA,
>   3.48, 6.38,  3.58,  1.83, 2.8,  8.28,  7.15,  4.77,  4.93, 0,     0.11,
>   1.99, 2.01,  2.3,   1.24, 1.33, 2, 1.01), PID = c("HIPS004", "HIPS004",
>   "HIPS005", "HIPS005", "HIPS005", "HIPS006", "HIPS006", "HIPS008",
>   "HIPS010", "HIPS024", "HIPS024", "HIPS024", "HIPS025", "HIPS028",
>   "HIPS028", "HIPS030", "HIPS030", "HIPS030", "HIPS035", "HIPS035",
>   "HIPS035", "HIPS036", "HIPS036", "HIPS037", "HIPS044", "HIPS047",
>   "HIPS047", "HIPS056", "HIPS056", "HIPS057", "HIPS057", "HIPS057",
>   "HIPS058", "HIPS059", "HIPS059", "HIPS061", "HIPS062", "HIPS062",
>   "HIPS062", "HIPS064", "HIPS074", "HIPS079", "HIPS084", "HIPS089",
>   "HIPS090", "HIPS090", "HIPS090", "HIPS091", "HIPS091", "HIPS092",
>   "HIPS092", "HIPS092", "HIPS001", "HIPS001", "HIPS001", "HIPS004",
>   "HIPS004", "HIPS004", "HIPS005", "HIPS005", "HIPS005", "HIPS006",
>   "HIPS006", "HIPS008", "HIPS022", "HIPS024", "HIPS028", "HIPS030",
>   "HIPS035", "HIPS036", "HIPS036", "HIPS039", "HIPS044", "HIPS047",
>   "HIPS051", "HIPS056", "HIPS058", "HIPS058", "HIPS059", "HIPS059",
>   "HIPS062", "HIPS062", "HIPS062", "HIPS069", "HIPS069", "HIPS071",
>   "HIPS074", "HIPS079", "HIPS084", "HIPS084", "HIPS085", "HIPS089",
>   "HIPS090", "HIPS091", "HIPS091", "HIPS091", "HIPS092", "HIPS092",
>   "HIPS093"), StepHeight =  c(0.005, 0.008, 0.072, 0.003, 0.014,
>   0.01,  0.027, 0.074, 0.128, 0.048, 0.036, 0.024, 0.021, 0.026,
>   0.03,  0.004, 0.006, 0.006, 0.011, 0.006, 0.053, 0.028, 0.073,
>   0.041, 0.005, 0.007, 0.013, 0.012, 0.021, 0.053, 0.013, 0.071,
>   0.012, 0.016, 0.023, 0.024, 0.011, 0.019, 0.014, 0.022, 0.011,
>   0.129, 0.03,  0.012, 0.062, 0.145, 0.077, 0.028, 0.006, 0.019,
>   0.008, 0.006, 0.034, 0.109, 0.09,  0.005, 0.016, 0.005, 0.257,
>   0.011, 0.205, 0.01,  0.017, 0.039, 0.01,  0.016, 0.043, 0.004,
>   0.008, 0.04,  0.068, 0.006, 0.008, 0.005, 0.097, 0.015, 0.016,
>   0.01,  0.021, 0.008, 0.01,  0.006, 0.016, 0.021, 0.012, 0.009,
>   0.032, 0.055, 0.006, 0.066, 0.018, 0.01,  0.018, 0.017, 0.015,
>   0.01,  0.017, 0.02,  0.022)), class = "data.frame", row.names = c(4L,
>    5L,   6L,    7L,   8L,  10L,  12L,  14L,  19L,  29L,  30L,  31L, 33L, 41L,
>    43L,  44L,  45L,  46L,  47L,  48L,  51L,  52L,  53L,  58L,  62L, 65L, 67L,
>    70L,  72L,  74L,  75L,  77L,  79L,  82L,  83L,  86L,  88L,  89L, 90L, 93L,
>   109L, 114L, 117L, 129L, 131L, 132L, 133L, 134L, 135L, 136L, 137L,
>   138L, 142L, 143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L,
>   152L, 155L, 165L, 167L, 172L, 173L, 174L, 176L, 178L, 179L, 185L,
>   186L, 188L, 192L, 193L, 195L, 197L, 199L, 202L, 203L, 204L, 214L,
>   216L, 221L, 225L, 234L, 236L, 237L, 238L, 250L, 252L, 255L, 256L,
>   257L, 258L, 260L, 261L))
> 
> datashort
> 
> # This does not work:
> fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)
> summary(fitgee)
> 
> # This works.
> fitlm <- lm(HipFlex ~ StepHeight,data=datashort)
> summary(fitlm)
> 
> 
> John David Sorkin M.D., Ph.D.
> Professor of Medicine, University of Maryland School of Medicine;
> 
> Associate Director for Biostatistics and Informatics, Baltimore VA Medical Center Geriatrics Research, Education, and Clinical Center;
> 
> PI Biostatistics and Informatics Core, University of Maryland School of Medicine Claude D. Pepper Older Americans Independence Center;
> 
> Senior Statistician University of Maryland Center for Vascular Research;
> 
> Division of Gerontology and Paliative Care,
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> Cell phone 443-418-5382
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Oct 25 22:22:22 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 25 Oct 2023 16:22:22 -0400
Subject: [R] Error running gee function. I neither understand the error
 message, nor know what needs to be done the get the gee to run
In-Reply-To: <a0967b24-92b5-470c-b927-20fd3769c540@gmail.com>
References: <MW4PR03MB6363F4FE1503EFBDD86BEDF6E2DEA@MW4PR03MB6363.namprd03.prod.outlook.com>
 <a0967b24-92b5-470c-b927-20fd3769c540@gmail.com>
Message-ID: <b51a4ea0-49ee-47b2-85fe-31b1456bca88@gmail.com>

Actually a better solution would be to make PID into a factor.  They can 
always be coerced to a number, but will display with your meaningful labels.

Duncan Murdoch

On 25/10/2023 3:38 p.m., Duncan Murdoch wrote:
> I don't see it documented, but it appears that the gee() function
> assumes the id variable can be coerced to a number.  Your ids are in
> PID, and are strings like "HIPS004", etc.  Change that to "004" or a
> numeric 4 and the error goes away.
> 
> Duncan Murdoch
> 
> On 25/10/2023 3:23 p.m., Sorkin, John wrote:
>> Colleagues,
>>
>> I am receiving several error messages from the gee function. I don't understand the ides the error messages are trying to impart, and I don't know how to debug or correct the error. The error messages follow:
>>
>>
>>> fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)
>>
>> Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27
>>
>> running glm to get initial regression estimate
>>
>> (Intercept)  StepHeight
>>
>>      1.400319   58.570236
>>
>> Error in gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :
>>
>>     NA/NaN/Inf in foreign function call (arg 3)
>>
>> In addition: Warning message:
>>
>> In gee(HipFlex ~ StepHeight, data = datashort, id = PID, corstr = "exchangeable",  :
>>
>>     NAs introduced by coercion
>>
>> Of note, when the analysis is run using lm, there is no problem. My fully data and code follow:
>> Thank you,
>> John
>>
>>
>> CODE:
>>
>> if (!require(gee)) {install.packages("gee")}
>> library(gee)
>>
>> datashort <- structure(list(HipFlex =   c(1.95, 2.07,  1.55,  0.44,  0.23, 0.41,
>>    0.22, 4.61, 10.02,  1.08, 1.43, 1.82,  0.34,  0.77,  0.22, 1.06,
>>    0.13, 0.36,  2.84,  5.2, 12.27, 1.37,  2.33,  3.48,  4.76, 1.92,  2.09,
>>    4.67, 2.94,  0.75,  0.11, 3.56, 1.63,  0.8,   1.54,  5.06, NA,    5.41,
>>    6.18, 3.75,  3.12, 17.43, 3.18, 0.85, 14.54, 14.34, 21.92, 4.91,
>>    1.52, 0.38,  0.43,  0.47, 0.56, 6.4,  12.4,   3.98,  0.57, 1.84, 12.06,
>>    0.45, 8.16,  0.02,  0,    0.05, 0.52,  0.11,  0.48,  1.5,  3.29,  2.58,
>>    2.07, 6.06,  1.46,  1.06, 3.82, 1.09,  2.86,  3.47,  2.22, 1.89, NA,
>>    3.48, 6.38,  3.58,  1.83, 2.8,  8.28,  7.15,  4.77,  4.93, 0,     0.11,
>>    1.99, 2.01,  2.3,   1.24, 1.33, 2, 1.01), PID = c("HIPS004", "HIPS004",
>>    "HIPS005", "HIPS005", "HIPS005", "HIPS006", "HIPS006", "HIPS008",
>>    "HIPS010", "HIPS024", "HIPS024", "HIPS024", "HIPS025", "HIPS028",
>>    "HIPS028", "HIPS030", "HIPS030", "HIPS030", "HIPS035", "HIPS035",
>>    "HIPS035", "HIPS036", "HIPS036", "HIPS037", "HIPS044", "HIPS047",
>>    "HIPS047", "HIPS056", "HIPS056", "HIPS057", "HIPS057", "HIPS057",
>>    "HIPS058", "HIPS059", "HIPS059", "HIPS061", "HIPS062", "HIPS062",
>>    "HIPS062", "HIPS064", "HIPS074", "HIPS079", "HIPS084", "HIPS089",
>>    "HIPS090", "HIPS090", "HIPS090", "HIPS091", "HIPS091", "HIPS092",
>>    "HIPS092", "HIPS092", "HIPS001", "HIPS001", "HIPS001", "HIPS004",
>>    "HIPS004", "HIPS004", "HIPS005", "HIPS005", "HIPS005", "HIPS006",
>>    "HIPS006", "HIPS008", "HIPS022", "HIPS024", "HIPS028", "HIPS030",
>>    "HIPS035", "HIPS036", "HIPS036", "HIPS039", "HIPS044", "HIPS047",
>>    "HIPS051", "HIPS056", "HIPS058", "HIPS058", "HIPS059", "HIPS059",
>>    "HIPS062", "HIPS062", "HIPS062", "HIPS069", "HIPS069", "HIPS071",
>>    "HIPS074", "HIPS079", "HIPS084", "HIPS084", "HIPS085", "HIPS089",
>>    "HIPS090", "HIPS091", "HIPS091", "HIPS091", "HIPS092", "HIPS092",
>>    "HIPS093"), StepHeight =  c(0.005, 0.008, 0.072, 0.003, 0.014,
>>    0.01,  0.027, 0.074, 0.128, 0.048, 0.036, 0.024, 0.021, 0.026,
>>    0.03,  0.004, 0.006, 0.006, 0.011, 0.006, 0.053, 0.028, 0.073,
>>    0.041, 0.005, 0.007, 0.013, 0.012, 0.021, 0.053, 0.013, 0.071,
>>    0.012, 0.016, 0.023, 0.024, 0.011, 0.019, 0.014, 0.022, 0.011,
>>    0.129, 0.03,  0.012, 0.062, 0.145, 0.077, 0.028, 0.006, 0.019,
>>    0.008, 0.006, 0.034, 0.109, 0.09,  0.005, 0.016, 0.005, 0.257,
>>    0.011, 0.205, 0.01,  0.017, 0.039, 0.01,  0.016, 0.043, 0.004,
>>    0.008, 0.04,  0.068, 0.006, 0.008, 0.005, 0.097, 0.015, 0.016,
>>    0.01,  0.021, 0.008, 0.01,  0.006, 0.016, 0.021, 0.012, 0.009,
>>    0.032, 0.055, 0.006, 0.066, 0.018, 0.01,  0.018, 0.017, 0.015,
>>    0.01,  0.017, 0.02,  0.022)), class = "data.frame", row.names = c(4L,
>>     5L,   6L,    7L,   8L,  10L,  12L,  14L,  19L,  29L,  30L,  31L, 33L, 41L,
>>     43L,  44L,  45L,  46L,  47L,  48L,  51L,  52L,  53L,  58L,  62L, 65L, 67L,
>>     70L,  72L,  74L,  75L,  77L,  79L,  82L,  83L,  86L,  88L,  89L, 90L, 93L,
>>    109L, 114L, 117L, 129L, 131L, 132L, 133L, 134L, 135L, 136L, 137L,
>>    138L, 142L, 143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L,
>>    152L, 155L, 165L, 167L, 172L, 173L, 174L, 176L, 178L, 179L, 185L,
>>    186L, 188L, 192L, 193L, 195L, 197L, 199L, 202L, 203L, 204L, 214L,
>>    216L, 221L, 225L, 234L, 236L, 237L, 238L, 250L, 252L, 255L, 256L,
>>    257L, 258L, 260L, 261L))
>>
>> datashort
>>
>> # This does not work:
>> fitgee <- gee(HipFlex ~ StepHeight,data=datashort,id=PID,corstr="exchangeable",na.action=na.omit)
>> summary(fitgee)
>>
>> # This works.
>> fitlm <- lm(HipFlex ~ StepHeight,data=datashort)
>> summary(fitlm)
>>
>>
>> John David Sorkin M.D., Ph.D.
>> Professor of Medicine, University of Maryland School of Medicine;
>>
>> Associate Director for Biostatistics and Informatics, Baltimore VA Medical Center Geriatrics Research, Education, and Clinical Center;
>>
>> PI Biostatistics and Informatics Core, University of Maryland School of Medicine Claude D. Pepper Older Americans Independence Center;
>>
>> Senior Statistician University of Maryland Center for Vascular Research;
>>
>> Division of Gerontology and Paliative Care,
>> 10 North Greene Street
>> GRECC (BT/18/GR)
>> Baltimore, MD 21201-1524
>> Cell phone 443-418-5382
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From bgunter@4567 @end|ng |rom gm@||@com  Wed Oct 25 23:37:57 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 25 Oct 2023 14:37:57 -0700
Subject: [R] Create a call but evaluate only some elements
In-Reply-To: <CAPVJd2XS8EJs8wMJpgu_k7fWyOQGWMA2Xr3Hu=1kbHatKbNc-Q@mail.gmail.com>
References: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
 <CADNULg_bpLo2VyGPW+hkswpTDPJUvvDpEhXWnKVKoFzLtZ-h3g@mail.gmail.com>
 <CAPVJd2XS8EJs8wMJpgu_k7fWyOQGWMA2Xr3Hu=1kbHatKbNc-Q@mail.gmail.com>
Message-ID: <CAGxFJbRAOTta2TA=M+o4Eewsm-hmqFmLsysoY3mRz40k=dicqQ@mail.gmail.com>

As you seem to have a need for this sort of capability (e.g. bquote),
see Section 6: "Computing on the Language" in the R Language
Definition manual. Actually, if you are interested in a concise
(albeit dense) overview of the R Language, you might consider going
through the whole manual.

Cheers,
Bert

On Wed, Oct 25, 2023 at 3:57?AM Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
>
> Dear Iris,
>
> Many many thanks! This is exactly what I need! I have never heard
> about bquote(). This function will also be useful to me on other
> occasions.
>
> I still have a lot to learn about the R language ...
>
> Regards,
> Shu Fai
>
>
> On Wed, Oct 25, 2023 at 5:24?PM Iris Simmons <ikwsimmo at gmail.com> wrote:
> >
> > You can try either of these:
> >
> > expr <- bquote(lm(.(as.formula(mod)), dat))
> > lm_out5 <- eval(expr)
> >
> > expr <- call("lm", as.formula(mod), as.symbol("dat"))
> > lm_out6 <- eval(expr)
> >
> > but bquote is usually easier and good enough.
> >
> > On Wed, Oct 25, 2023, 05:10 Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
> >>
> >> Hi All,
> >>
> >> I have a problem that may have a simple solution, but I am not
> >> familiar with creating calls manually.
> >>
> >> This is example calling lm()
> >>
> >> ``` r
> >> set.seed(1234)
> >> n <- 10
> >> dat <- data.frame(x1 = rnorm(n),
> >>                   x2 = rnorm(n),
> >>                   y = rnorm(n))
> >>
> >> lm_out <- lm(y ~ x1 + x2, dat)
> >> lm_out
> >> #>
> >> #> Call:
> >> #> lm(formula = y ~ x1 + x2, data = dat)
> >> #>
> >> #> Coefficients:
> >> #> (Intercept)           x1           x2
> >> #>     -0.5755      -0.4151      -0.2411
> >> lm_out$call
> >> #> lm(formula = y ~ x1 + x2, data = dat)
> >> ```
> >>
> >> The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
> >> are not evaluated.
> >>
> >> I want to create a similar call, but only one of the elements is from a string.
> >>
> >> ```r
> >> mod <- "y ~ x1 + x2"
> >> ```
> >>
> >> This is what I tried but failed:
> >>
> >> ```r
> >> lm_out2 <- do.call("lm",
> >>                    list(formula = as.formula(mod),
> >>                         data = dat))
> >> lm_out2
> >> #>
> >> #> Call:
> >> #> lm(formula = y ~ x1 + x2, data = structure(list(x1 = c(-1.20706574938542,
> >> #> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
> >> #> 0.506055892157574, -0.574739960134649, -0.546631855784187,
> >> -0.564451999093283,
> >> #> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
> >> #> -0.77625389463799, 0.0644588172762693, 0.959494058970771, -0.110285494390774,
> >> #> -0.511009505806642, -0.911195416629811, -0.83717168026894, 2.41583517848934
> >> #> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
> >> #> 0.459589441005854, -0.693720246937475, -1.44820491038647, 0.574755720900728,
> >> #> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
> >> = "data.frame", row.names = c(NA,
> >> #> -10L)))
> >> #>
> >> #> Coefficients:
> >> #> (Intercept)           x1           x2
> >> #>     -0.5755      -0.4151      -0.2411
> >> ```
> >>
> >> It does not have the formula, "as a formula": y ~ x1 + x2.
> >> However, the name "dat" is evaluated. Therefore, the call stored does
> >> not have the name 'dat', but has the evaluated content.
> >>
> >> The following fits the same model. However, the call stores the name,
> >> 'mod', not the evaluated result, y ~ x1 + x2.
> >>
> >> ```r
> >> lm_out3 <- lm(mod, data = dat)
> >> lm_out3
> >> #>
> >> #> Call:
> >> #> lm(formula = mod, data = dat)
> >> #>
> >> #> Coefficients:
> >> #> (Intercept)           x1           x2
> >> #>     -0.5755      -0.4151      -0.2411
> >> ```
> >>
> >> The following method works. However, I have to do a dummy call,
> >> extract the stored call, and set formula to the result of
> >> as.formula(mod):
> >>
> >> ```r
> >> lm_out3 <- lm(mod, data = dat)
> >> lm_out3
> >> #>
> >> #> Call:
> >> #> lm(formula = mod, data = dat)
> >> #>
> >> #> Coefficients:
> >> #> (Intercept)           x1           x2
> >> #>     -0.5755      -0.4151      -0.2411
> >>
> >> call1 <- lm_out3$call
> >> call1$formula <- as.formula(mod)
> >> lm_out4 <- eval(call1)
> >> lm_out4
> >> #>
> >> #> Call:
> >> #> lm(formula = y ~ x1 + x2, data = dat)
> >> #>
> >> #> Coefficients:
> >> #> (Intercept)           x1           x2
> >> #>     -0.5755      -0.4151      -0.2411
> >> ```
> >>
> >> Is it possible to create the call directly, with only 'mod' evaluated,
> >> and other arguments, e.g., 'dat', not evaluated?
> >>
> >> Regards,
> >> Shu Fai
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @hu|@|@cheung @end|ng |rom gm@||@com  Thu Oct 26 04:28:20 2023
From: @hu|@|@cheung @end|ng |rom gm@||@com (Shu Fai Cheung)
Date: Thu, 26 Oct 2023 10:28:20 +0800
Subject: [R] Create a call but evaluate only some elements
In-Reply-To: <CAGxFJbRAOTta2TA=M+o4Eewsm-hmqFmLsysoY3mRz40k=dicqQ@mail.gmail.com>
References: <CAPVJd2XmZL_FjOpYfiZ2skGW2uzUM7+ZwWcf1+CMpiLwuyUeDQ@mail.gmail.com>
 <CADNULg_bpLo2VyGPW+hkswpTDPJUvvDpEhXWnKVKoFzLtZ-h3g@mail.gmail.com>
 <CAPVJd2XS8EJs8wMJpgu_k7fWyOQGWMA2Xr3Hu=1kbHatKbNc-Q@mail.gmail.com>
 <CAGxFJbRAOTta2TA=M+o4Eewsm-hmqFmLsysoY3mRz40k=dicqQ@mail.gmail.com>
Message-ID: <CAPVJd2WFHLxtsVnHy2-szEVkx0GW0ksFavGUFsPEbX59ySU+yQ@mail.gmail.com>

Dear Bert,

Many thanks for your suggestion! I am reading the section to
understand more about this topic. It is highly relevant to what I plan
to work on.

Regards,
Shu Fai

On Thu, Oct 26, 2023 at 5:38?AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> As you seem to have a need for this sort of capability (e.g. bquote),
> see Section 6: "Computing on the Language" in the R Language
> Definition manual. Actually, if you are interested in a concise
> (albeit dense) overview of the R Language, you might consider going
> through the whole manual.
>
> Cheers,
> Bert
>
> On Wed, Oct 25, 2023 at 3:57?AM Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
> >
> > Dear Iris,
> >
> > Many many thanks! This is exactly what I need! I have never heard
> > about bquote(). This function will also be useful to me on other
> > occasions.
> >
> > I still have a lot to learn about the R language ...
> >
> > Regards,
> > Shu Fai
> >
> >
> > On Wed, Oct 25, 2023 at 5:24?PM Iris Simmons <ikwsimmo at gmail.com> wrote:
> > >
> > > You can try either of these:
> > >
> > > expr <- bquote(lm(.(as.formula(mod)), dat))
> > > lm_out5 <- eval(expr)
> > >
> > > expr <- call("lm", as.formula(mod), as.symbol("dat"))
> > > lm_out6 <- eval(expr)
> > >
> > > but bquote is usually easier and good enough.
> > >
> > > On Wed, Oct 25, 2023, 05:10 Shu Fai Cheung <shufai.cheung at gmail.com> wrote:
> > >>
> > >> Hi All,
> > >>
> > >> I have a problem that may have a simple solution, but I am not
> > >> familiar with creating calls manually.
> > >>
> > >> This is example calling lm()
> > >>
> > >> ``` r
> > >> set.seed(1234)
> > >> n <- 10
> > >> dat <- data.frame(x1 = rnorm(n),
> > >>                   x2 = rnorm(n),
> > >>                   y = rnorm(n))
> > >>
> > >> lm_out <- lm(y ~ x1 + x2, dat)
> > >> lm_out
> > >> #>
> > >> #> Call:
> > >> #> lm(formula = y ~ x1 + x2, data = dat)
> > >> #>
> > >> #> Coefficients:
> > >> #> (Intercept)           x1           x2
> > >> #>     -0.5755      -0.4151      -0.2411
> > >> lm_out$call
> > >> #> lm(formula = y ~ x1 + x2, data = dat)
> > >> ```
> > >>
> > >> The call is stored, "lm(formula = y ~ x1 + x2, data = dat)", and names
> > >> are not evaluated.
> > >>
> > >> I want to create a similar call, but only one of the elements is from a string.
> > >>
> > >> ```r
> > >> mod <- "y ~ x1 + x2"
> > >> ```
> > >>
> > >> This is what I tried but failed:
> > >>
> > >> ```r
> > >> lm_out2 <- do.call("lm",
> > >>                    list(formula = as.formula(mod),
> > >>                         data = dat))
> > >> lm_out2
> > >> #>
> > >> #> Call:
> > >> #> lm(formula = y ~ x1 + x2, data = structure(list(x1 = c(-1.20706574938542,
> > >> #> 0.27742924211066, 1.08444117668306, -2.34569770262935, 0.42912468881105,
> > >> #> 0.506055892157574, -0.574739960134649, -0.546631855784187,
> > >> -0.564451999093283,
> > >> #> -0.890037829044104), x2 = c(-0.477192699753547, -0.998386444859704,
> > >> #> -0.77625389463799, 0.0644588172762693, 0.959494058970771, -0.110285494390774,
> > >> #> -0.511009505806642, -0.911195416629811, -0.83717168026894, 2.41583517848934
> > >> #> ), y = c(0.134088220152031, -0.490685896690943, -0.440547872353227,
> > >> #> 0.459589441005854, -0.693720246937475, -1.44820491038647, 0.574755720900728,
> > >> #> -1.02365572296388, -0.0151383003641817, -0.935948601168394)), class
> > >> = "data.frame", row.names = c(NA,
> > >> #> -10L)))
> > >> #>
> > >> #> Coefficients:
> > >> #> (Intercept)           x1           x2
> > >> #>     -0.5755      -0.4151      -0.2411
> > >> ```
> > >>
> > >> It does not have the formula, "as a formula": y ~ x1 + x2.
> > >> However, the name "dat" is evaluated. Therefore, the call stored does
> > >> not have the name 'dat', but has the evaluated content.
> > >>
> > >> The following fits the same model. However, the call stores the name,
> > >> 'mod', not the evaluated result, y ~ x1 + x2.
> > >>
> > >> ```r
> > >> lm_out3 <- lm(mod, data = dat)
> > >> lm_out3
> > >> #>
> > >> #> Call:
> > >> #> lm(formula = mod, data = dat)
> > >> #>
> > >> #> Coefficients:
> > >> #> (Intercept)           x1           x2
> > >> #>     -0.5755      -0.4151      -0.2411
> > >> ```
> > >>
> > >> The following method works. However, I have to do a dummy call,
> > >> extract the stored call, and set formula to the result of
> > >> as.formula(mod):
> > >>
> > >> ```r
> > >> lm_out3 <- lm(mod, data = dat)
> > >> lm_out3
> > >> #>
> > >> #> Call:
> > >> #> lm(formula = mod, data = dat)
> > >> #>
> > >> #> Coefficients:
> > >> #> (Intercept)           x1           x2
> > >> #>     -0.5755      -0.4151      -0.2411
> > >>
> > >> call1 <- lm_out3$call
> > >> call1$formula <- as.formula(mod)
> > >> lm_out4 <- eval(call1)
> > >> lm_out4
> > >> #>
> > >> #> Call:
> > >> #> lm(formula = y ~ x1 + x2, data = dat)
> > >> #>
> > >> #> Coefficients:
> > >> #> (Intercept)           x1           x2
> > >> #>     -0.5755      -0.4151      -0.2411
> > >> ```
> > >>
> > >> Is it possible to create the call directly, with only 'mod' evaluated,
> > >> and other arguments, e.g., 'dat', not evaluated?
> > >>
> > >> Regards,
> > >> Shu Fai
> > >>
> > >> ______________________________________________
> > >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >> https://stat.ethz.ch/mailman/listinfo/r-help
> > >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From rhe|p @end|ng |rom mo|n@||  Wed Oct 25 08:18:26 2023
From: rhe|p @end|ng |rom mo|n@|| (Christian Asseburg)
Date: Wed, 25 Oct 2023 09:18:26 +0300
Subject: [R] Bug in print for data frames?
Message-ID: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>

Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?

Using R 4.3.1:

> x <- data.frame(A = 1, B = 2, C = 3)
> y <- data.frame(A = 1)
> x
  A B C
1 1 2 3
> x$B <- y$A # works as expected
> x
  A B C
1 1 1 3
> x$C <- y[1] # makes C disappear
> x
  A B A
1 1 1 1
> str(x)
'data.frame':   1 obs. of  3 variables:
 $ A: num 1
 $ B: num 1
 $ C:'data.frame':      1 obs. of  1 variable:
  ..$ A: num 1

Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.

Thanks. With best wishes -

. . . Christian


From |kw@|mmo @end|ng |rom gm@||@com  Thu Oct 26 10:46:03 2023
From: |kw@|mmo @end|ng |rom gm@||@com (Iris Simmons)
Date: Thu, 26 Oct 2023 04:46:03 -0400
Subject: [R] Bug in print for data frames?
In-Reply-To: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
Message-ID: <CADNULg-iWre31Q636SMbM=wcu6c3+2=jKZLU5HMV23=AGh7OzA@mail.gmail.com>

I would say this is not an error, but I think what you wrote isn't
what you intended to do anyway.

y[1] is a data.frame which contains only the first column of y, which
you assign to x$C, so now x$C is a data.frame.

R allows data.frame to be plain vectors as well as matrices and
data.frames, basically anything as long as it has the correct length
or nrow.

When the data.frame is formatted for printing, each column C is
formatted then column-bound into another data.frame using
as.data.frame.list, so it takes the name A because that's the name of
the column from y.

I think what you meant to do is x$C <- y[[1]]  ## double brackets
instead of single

On Thu, Oct 26, 2023 at 4:14?AM Christian Asseburg <rhelp at moin.fi> wrote:
>
> Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?
>
> Using R 4.3.1:
>
> > x <- data.frame(A = 1, B = 2, C = 3)
> > y <- data.frame(A = 1)
> > x
>   A B C
> 1 1 2 3
> > x$B <- y$A # works as expected
> > x
>   A B C
> 1 1 1 3
> > x$C <- y[1] # makes C disappear
> > x
>   A B A
> 1 1 1 1
> > str(x)
> 'data.frame':   1 obs. of  3 variables:
>  $ A: num 1
>  $ B: num 1
>  $ C:'data.frame':      1 obs. of  1 variable:
>   ..$ A: num 1
>
> Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.
>
> Thanks. With best wishes -
>
> . . . Christian
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Oct 26 10:55:26 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 26 Oct 2023 04:55:26 -0400
Subject: [R] Bug in print for data frames?
In-Reply-To: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
Message-ID: <54e89da3-c9fe-4a61-b59b-ec225cb8b1ca@gmail.com>

On 25/10/2023 2:18 a.m., Christian Asseburg wrote:
> Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?
> 
> Using R 4.3.1:
> 
>> x <- data.frame(A = 1, B = 2, C = 3)
>> y <- data.frame(A = 1)
>> x
>    A B C
> 1 1 2 3
>> x$B <- y$A # works as expected
>> x
>    A B C
> 1 1 1 3
>> x$C <- y[1] # makes C disappear
>> x
>    A B A
> 1 1 1 1
>> str(x)
> 'data.frame':   1 obs. of  3 variables:
>   $ A: num 1
>   $ B: num 1
>   $ C:'data.frame':      1 obs. of  1 variable:
>    ..$ A: num 1
> 
> Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.

y[1] is a dataframe with one column, i.e. it is identical to y.  To get 
the result you expected, you should have used y[[1]], to extract column 1.

Since dataframes are lists, you can assign them as columns of other 
dataframes, and you'll create a single column in the result whose rows 
are the columns of the dataframe you're assigning.  This means that

  x$C <- y[1]

replaces the C column of x with a dataframe.  It retains the name C (you 
can see this if you print names(x) ), but since the column contains a 
dataframe, it chooses to use the column name of y when printing.

If you try

  x$D <- x

you'll see it generate new names when printing, but the names within x 
remain as A, B, C, D.

This is a situation where tibbles do a better job than dataframes:  if 
you created x and y as tibbles instead of dataframes and executed your 
code, you'd see this:

   library(tibble)
   x <- tibble(A = 1, B = 2, C = 3)
   y <- tibble(A = 1)
   x$C <- y[1]
   x
   #> # A tibble: 1 ? 3
   #>       A     B   C$A
   #>   <dbl> <dbl> <dbl>
   #> 1     1     2     1

Duncan Murdoch


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct 26 12:42:49 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 26 Oct 2023 11:42:49 +0100
Subject: [R] Bug in print for data frames?
In-Reply-To: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
Message-ID: <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>

?s 07:18 de 25/10/2023, Christian Asseburg escreveu:
> Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?
> 
> Using R 4.3.1:
> 
>> x <- data.frame(A = 1, B = 2, C = 3)
>> y <- data.frame(A = 1)
>> x
>    A B C
> 1 1 2 3
>> x$B <- y$A # works as expected
>> x
>    A B C
> 1 1 1 3
>> x$C <- y[1] # makes C disappear
>> x
>    A B A
> 1 1 1 1
>> str(x)
> 'data.frame':   1 obs. of  3 variables:
>   $ A: num 1
>   $ B: num 1
>   $ C:'data.frame':      1 obs. of  1 variable:
>    ..$ A: num 1
> 
> Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.
> 
> Thanks. With best wishes -
> 
> . . . Christian
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

To expand on the good answers already given, I will present two other 
example data sets.

Example 1. Imagine that instead of assigning just one column from y to 
x$C you assign two columns. The result is a data.frame column. See what 
is displayed as the columns names.
And unlike what happens with `[`, when asssigning columns 1:2, the 
operator `[[` doesn't work. You will have to extract the columns y$A and 
y$B one by one.



x <- data.frame(A = 1, B = 2, C = 3)
y <- data.frame(A = 1, B = 4)
str(y)
#> 'data.frame':    1 obs. of  2 variables:
#>  $ A: num 1
#>  $ B: num 4

x$C <- y[1:2]
x
#>   A B C.A C.B
#> 1 1 2   1   4

str(x)
#> 'data.frame':    1 obs. of  3 variables:
#>  $ A: num 1
#>  $ B: num 2
#>  $ C:'data.frame':   1 obs. of  2 variables:
#>   ..$ A: num 1
#>   ..$ B: num 4

x[[1:2]]  # doesn't work
#> Error in .subset2(x, i, exact = exact): subscript out of bounds



Example 2. Sometimes it is usefull to get a result like this first and 
then correct the resulting df. For instance, when computing more than 
one summary statistics.

str(agg)  below shows that the result summary stats is a matrix, so you 
have a column-matrix. And once again the displayed names reflect that.

The trick to make the result a df is to extract all but the last column 
as a sub-df, extract the last column's values as a matrix (which it is) 
and then cbind the two together.

cbind is a generic function. Since the first argument to cbind is a 
sub-df, the method called is cbind.data.frame and the result is a df.



df1 <- data.frame(A = rep(c("a", "b", "c"), 5L), X = 1:30)

# the anonymous function computes more than one summary statistics
# note that it returns a named vector
agg <- aggregate(X ~ A, df1, \(x) c(Mean = mean(x), S = sd(x)))
agg
#>   A    X.Mean       X.S
#> 1 a 14.500000  9.082951
#> 2 b 15.500000  9.082951
#> 3 c 16.500000  9.082951

# similar effect as in the OP, The difference is that the last
# column is a matrix, not a data.frame
str(agg)
#> 'data.frame':    3 obs. of  2 variables:
#>  $ A: chr  "a" "b" "c"
#>  $ X: num [1:3, 1:2] 14.5 15.5 16.5 9.08 9.08 ...
#>   ..- attr(*, "dimnames")=List of 2
#>   .. ..$ : NULL
#>   .. ..$ : chr [1:2] "Mean" "S"

# nc is just a convenience, avoids repeated calls to ncol
nc <- ncol(agg)
cbind(agg[-nc], agg[[nc]])
#>   A Mean        S
#> 1 a 14.5 9.082951
#> 2 b 15.5 9.082951
#> 3 c 16.5 9.082951

# all is well
cbind(agg[-nc], agg[[nc]]) |> str()
#> 'data.frame':    3 obs. of  3 variables:
#>  $ A   : chr  "a" "b" "c"
#>  $ Mean: num  14.5 15.5 16.5
#>  $ S   : num  9.08 9.08 9.08



If the anonymous function hadn't returned a named vetor, the new column 
names would have been "1". "2", try it.


Hope this helps,

Rui Barradas



-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From tebert @end|ng |rom u||@edu  Thu Oct 26 14:32:05 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 26 Oct 2023 12:32:05 +0000
Subject: [R] Bug in print for data frames?
In-Reply-To: <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
 <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>
Message-ID: <CH3PR22MB45143702BB3CECA3F7A2CA99CFDDA@CH3PR22MB4514.namprd22.prod.outlook.com>

The "problem" goes away if you use

x$C <- y[1,]

If you have another row in your x, say:
x <- data.frame(A=c(1,4), B=c(2,5), C=c(3,6))

then your code
x$C <- y[1]
returns an error.

If y has the same number of rows as x$C then R has the same outcome as in your example.

It looks like your code tells R to replace all of column C (including the name) with all of vector y.

Maybe unexpected, but not a bug. It is consistent.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
Sent: Thursday, October 26, 2023 6:43 AM
To: Christian Asseburg <rhelp at moin.fi>; r-help at r-project.org
Subject: Re: [R] Bug in print for data frames?

[External Email]

?s 07:18 de 25/10/2023, Christian Asseburg escreveu:
> Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?
>
> Using R 4.3.1:
>
>> x <- data.frame(A = 1, B = 2, C = 3)
>> y <- data.frame(A = 1)
>> x
>    A B C
> 1 1 2 3
>> x$B <- y$A # works as expected
>> x
>    A B C
> 1 1 1 3
>> x$C <- y[1] # makes C disappear
>> x
>    A B A
> 1 1 1 1
>> str(x)
> 'data.frame':   1 obs. of  3 variables:
>   $ A: num 1
>   $ B: num 1
>   $ C:'data.frame':      1 obs. of  1 variable:
>    ..$ A: num 1
>
> Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.
>
> Thanks. With best wishes -
>
> . . . Christian
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C237aa7be3de54af710be08dbd61056a4%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638339137898359565%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=fgR6iFifXQpRCv0WqIu4S%2Bnctg%2F0v6j7AXftxrfQGPk%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C23
> 7aa7be3de54af710be08dbd61056a4%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638339137898359565%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=FN
> CYM6%2FbpqThk76Zug%2Bm5x8o1Y2S1Z1S0ajAzPePIms%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
Hello,

To expand on the good answers already given, I will present two other example data sets.

Example 1. Imagine that instead of assigning just one column from y to x$C you assign two columns. The result is a data.frame column. See what is displayed as the columns names.
And unlike what happens with `[`, when asssigning columns 1:2, the operator `[[` doesn't work. You will have to extract the columns y$A and y$B one by one.



x <- data.frame(A = 1, B = 2, C = 3)
y <- data.frame(A = 1, B = 4)
str(y)
#> 'data.frame':    1 obs. of  2 variables:
#>  $ A: num 1
#>  $ B: num 4

x$C <- y[1:2]
x
#>   A B C.A C.B
#> 1 1 2   1   4

str(x)
#> 'data.frame':    1 obs. of  3 variables:
#>  $ A: num 1
#>  $ B: num 2
#>  $ C:'data.frame':   1 obs. of  2 variables:
#>   ..$ A: num 1
#>   ..$ B: num 4

x[[1:2]]  # doesn't work
#> Error in .subset2(x, i, exact = exact): subscript out of bounds



Example 2. Sometimes it is usefull to get a result like this first and then correct the resulting df. For instance, when computing more than one summary statistics.

str(agg)  below shows that the result summary stats is a matrix, so you have a column-matrix. And once again the displayed names reflect that.

The trick to make the result a df is to extract all but the last column as a sub-df, extract the last column's values as a matrix (which it is) and then cbind the two together.

cbind is a generic function. Since the first argument to cbind is a sub-df, the method called is cbind.data.frame and the result is a df.



df1 <- data.frame(A = rep(c("a", "b", "c"), 5L), X = 1:30)

# the anonymous function computes more than one summary statistics # note that it returns a named vector agg <- aggregate(X ~ A, df1, \(x) c(Mean = mean(x), S = sd(x))) agg
#>   A    X.Mean       X.S
#> 1 a 14.500000  9.082951
#> 2 b 15.500000  9.082951
#> 3 c 16.500000  9.082951

# similar effect as in the OP, The difference is that the last # column is a matrix, not a data.frame
str(agg)
#> 'data.frame':    3 obs. of  2 variables:
#>  $ A: chr  "a" "b" "c"
#>  $ X: num [1:3, 1:2] 14.5 15.5 16.5 9.08 9.08 ...
#>   ..- attr(*, "dimnames")=List of 2
#>   .. ..$ : NULL
#>   .. ..$ : chr [1:2] "Mean" "S"

# nc is just a convenience, avoids repeated calls to ncol nc <- ncol(agg) cbind(agg[-nc], agg[[nc]])
#>   A Mean        S
#> 1 a 14.5 9.082951
#> 2 b 15.5 9.082951
#> 3 c 16.5 9.082951

# all is well
cbind(agg[-nc], agg[[nc]]) |> str()
#> 'data.frame':    3 obs. of  3 variables:
#>  $ A   : chr  "a" "b" "c"
#>  $ Mean: num  14.5 15.5 16.5
#>  $ S   : num  9.08 9.08 9.08



If the anonymous function hadn't returned a named vetor, the new column names would have been "1". "2", try it.


Hope this helps,

Rui Barradas



--
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
http://www.avg.com/

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct 26 15:02:49 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 26 Oct 2023 14:02:49 +0100
Subject: [R] Bug in print for data frames?
In-Reply-To: <CH3PR22MB45143702BB3CECA3F7A2CA99CFDDA@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
 <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>
 <CH3PR22MB45143702BB3CECA3F7A2CA99CFDDA@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <34d5386b-2bc1-4d51-92da-23f39257bf6e@sapo.pt>

Hello,

Inline.

?s 13:32 de 26/10/2023, Ebert,Timothy Aaron escreveu:
> The "problem" goes away if you use
> 
> x$C <- y[1,]

Actually, if I understand correctly, the OP wants the column:


x$C <- y[,1]


In this case it will produce the same output because y is a df with only 
one row. But that is a very special case, the general case would be to 
extract the column.

Hope this helps,

Rui Barradas

> 
> If you have another row in your x, say:
> x <- data.frame(A=c(1,4), B=c(2,5), C=c(3,6))
> 
> then your code
> x$C <- y[1]
> returns an error.
> 
> If y has the same number of rows as x$C then R has the same outcome as in your example.
> 
> It looks like your code tells R to replace all of column C (including the name) with all of vector y.
> 
> Maybe unexpected, but not a bug. It is consistent.
> 
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
> Sent: Thursday, October 26, 2023 6:43 AM
> To: Christian Asseburg <rhelp at moin.fi>; r-help at r-project.org
> Subject: Re: [R] Bug in print for data frames?
> 
> [External Email]
> 
> ?s 07:18 de 25/10/2023, Christian Asseburg escreveu:
>> Hi! I came across this unexpected behaviour in R. First I thought it was a bug in the assignment operator <- but now I think it's maybe a bug in the way data frames are being printed. What do you think?
>>
>> Using R 4.3.1:
>>
>>> x <- data.frame(A = 1, B = 2, C = 3)
>>> y <- data.frame(A = 1)
>>> x
>>     A B C
>> 1 1 2 3
>>> x$B <- y$A # works as expected
>>> x
>>     A B C
>> 1 1 1 3
>>> x$C <- y[1] # makes C disappear
>>> x
>>     A B A
>> 1 1 1 1
>>> str(x)
>> 'data.frame':   1 obs. of  3 variables:
>>    $ A: num 1
>>    $ B: num 1
>>    $ C:'data.frame':      1 obs. of  1 variable:
>>     ..$ A: num 1
>>
>> Why does the print(x) not show "C" as the name of the third element? I did mess up the data frame (and this was a mistake on my part), but finding the bug was harder because print(x) didn't show the C any longer.
>>
>> Thanks. With best wishes -
>>
>> . . . Christian
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat/
>> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
>> %7C237aa7be3de54af710be08dbd61056a4%7C0d4da0f84a314d76ace60a62331e1b84
>> %7C0%7C0%7C638339137898359565%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>> ta=fgR6iFifXQpRCv0WqIu4S%2Bnctg%2F0v6j7AXftxrfQGPk%3D&reserved=0
>> PLEASE do read the posting guide
>> http://www.r/
>> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C23
>> 7aa7be3de54af710be08dbd61056a4%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>> 7C0%7C638339137898359565%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=FN
>> CYM6%2FbpqThk76Zug%2Bm5x8o1Y2S1Z1S0ajAzPePIms%3D&reserved=0
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> To expand on the good answers already given, I will present two other example data sets.
> 
> Example 1. Imagine that instead of assigning just one column from y to x$C you assign two columns. The result is a data.frame column. See what is displayed as the columns names.
> And unlike what happens with `[`, when asssigning columns 1:2, the operator `[[` doesn't work. You will have to extract the columns y$A and y$B one by one.
> 
> 
> 
> x <- data.frame(A = 1, B = 2, C = 3)
> y <- data.frame(A = 1, B = 4)
> str(y)
> #> 'data.frame':    1 obs. of  2 variables:
> #>  $ A: num 1
> #>  $ B: num 4
> 
> x$C <- y[1:2]
> x
> #>   A B C.A C.B
> #> 1 1 2   1   4
> 
> str(x)
> #> 'data.frame':    1 obs. of  3 variables:
> #>  $ A: num 1
> #>  $ B: num 2
> #>  $ C:'data.frame':   1 obs. of  2 variables:
> #>   ..$ A: num 1
> #>   ..$ B: num 4
> 
> x[[1:2]]  # doesn't work
> #> Error in .subset2(x, i, exact = exact): subscript out of bounds
> 
> 
> 
> Example 2. Sometimes it is usefull to get a result like this first and then correct the resulting df. For instance, when computing more than one summary statistics.
> 
> str(agg)  below shows that the result summary stats is a matrix, so you have a column-matrix. And once again the displayed names reflect that.
> 
> The trick to make the result a df is to extract all but the last column as a sub-df, extract the last column's values as a matrix (which it is) and then cbind the two together.
> 
> cbind is a generic function. Since the first argument to cbind is a sub-df, the method called is cbind.data.frame and the result is a df.
> 
> 
> 
> df1 <- data.frame(A = rep(c("a", "b", "c"), 5L), X = 1:30)
> 
> # the anonymous function computes more than one summary statistics # note that it returns a named vector agg <- aggregate(X ~ A, df1, \(x) c(Mean = mean(x), S = sd(x))) agg
> #>   A    X.Mean       X.S
> #> 1 a 14.500000  9.082951
> #> 2 b 15.500000  9.082951
> #> 3 c 16.500000  9.082951
> 
> # similar effect as in the OP, The difference is that the last # column is a matrix, not a data.frame
> str(agg)
> #> 'data.frame':    3 obs. of  2 variables:
> #>  $ A: chr  "a" "b" "c"
> #>  $ X: num [1:3, 1:2] 14.5 15.5 16.5 9.08 9.08 ...
> #>   ..- attr(*, "dimnames")=List of 2
> #>   .. ..$ : NULL
> #>   .. ..$ : chr [1:2] "Mean" "S"
> 
> # nc is just a convenience, avoids repeated calls to ncol nc <- ncol(agg) cbind(agg[-nc], agg[[nc]])
> #>   A Mean        S
> #> 1 a 14.5 9.082951
> #> 2 b 15.5 9.082951
> #> 3 c 16.5 9.082951
> 
> # all is well
> cbind(agg[-nc], agg[[nc]]) |> str()
> #> 'data.frame':    3 obs. of  3 variables:
> #>  $ A   : chr  "a" "b" "c"
> #>  $ Mean: num  14.5 15.5 16.5
> #>  $ S   : num  9.08 9.08 9.08
> 
> 
> 
> If the anonymous function hadn't returned a named vetor, the new column names would have been "1". "2", try it.
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> 
> --
> Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
> http://www.avg.com/
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Thu Oct 26 18:18:10 2023
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 27 Oct 2023 00:18:10 +0800
Subject: [R] Yext in parentheses.
Message-ID: <92425f0c-e17a-43a6-97cd-df09c2efe4b0@ntu.edu.tw>

Dear All

My program is long and sorry I do not have a replicable set of codes to 
present. But I present a chunk of codes at the end below. Essentially,

1. I initialize cat.ref as NUL (see line 1)

2. Then, I repeatedly add elements to cat.ref, where each element 
include parentheses in double quotations (see line 2).

I had expected cat.ref to eventually contain the list

dilemma1(ref),scigrn1(ref),...

Not so, I end up getting the following (see first column; not in 
parentheses, like (ref.)).

dilemma1.ref.. 22.356 2.619 8.535 0.000 *** scigrn1.ref.. 22.474 2.697 
8.334 0.000 ***

Any idea how I might revise lines like the following (first line below):

dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"

etc. Thanks.

 ? ap0<-zx.ref<-NULL

 ? dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"
 ? if(any(dv.group%in%jindex)){
 ??? v<-pred0(dv.group,cat.ref)
 ??? ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
 ? }

 ? dv.group<-c("scigrn2","scigrn3"); cat.ref<-"scigrn1(ref.)"
 ? if(any(dv.group%in%jindex)){
 ??? v<-pred0(dv.group,cat.ref)
 ??? ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
 ? }


	[[alternative HTML version deleted]]


From @@r@h@go@|ee @end|ng |rom gm@||@com  Thu Oct 26 18:32:03 2023
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Thu, 26 Oct 2023 12:32:03 -0400
Subject: [R] Yext in parentheses.
In-Reply-To: <92425f0c-e17a-43a6-97cd-df09c2efe4b0@ntu.edu.tw>
References: <92425f0c-e17a-43a6-97cd-df09c2efe4b0@ntu.edu.tw>
Message-ID: <CAM_vjuknki_5AyHLgo5aW0B=JP8e32BZ4K9=PBTocPH37c960g@mail.gmail.com>

Hi,

It isn't at all clear to me what you're trying to do. For one thing,
you never actually add more items to cat.ref in the code snippet you
give.
You do use c() on zx.ref - is that what you mean?

But you aren't adding cat.ref to it, you're adding v$cat.ref, and I
have no idea what that might contain. Lots of things, apparently.

It's possible that something in pred0 is stripping things out of
cat.ref, I suppose, since c() alone won't do that.

> cat.ref<-"dilemma1(ref.)"
> cat.ref <- c(cat.ref, "scigrn1(ref.)")
> cat.ref
[1] "dilemma1(ref.)" "scigrn1(ref.)"

I think we need a reproducible example showing the actual problem, or
at least very clear explanation.

For instance, what's
dput(v$cat.ref)

Is it the same as cat.ref, or is that where the alteration happens?

Sarah

On Thu, Oct 26, 2023 at 12:18?PM Steven Yen <styen at ntu.edu.tw> wrote:
>
> Dear All
>
> My program is long and sorry I do not have a replicable set of codes to
> present. But I present a chunk of codes at the end below. Essentially,
>
> 1. I initialize cat.ref as NUL (see line 1)
>
> 2. Then, I repeatedly add elements to cat.ref, where each element
> include parentheses in double quotations (see line 2).
>
> I had expected cat.ref to eventually contain the list
>
> dilemma1(ref),scigrn1(ref),...
>
> Not so, I end up getting the following (see first column; not in
> parentheses, like (ref.)).
>
> dilemma1.ref.. 22.356 2.619 8.535 0.000 *** scigrn1.ref.. 22.474 2.697
> 8.334 0.000 ***
>
> Any idea how I might revise lines like the following (first line below):
>
> dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"
>
> etc. Thanks.
>
>    ap0<-zx.ref<-NULL
>
>    dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"
>    if(any(dv.group%in%jindex)){
>      v<-pred0(dv.group,cat.ref)
>      ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
>    }
>
>    dv.group<-c("scigrn2","scigrn3"); cat.ref<-"scigrn1(ref.)"
>    if(any(dv.group%in%jindex)){
>      v<-pred0(dv.group,cat.ref)
>      ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
>    }
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee (she/her)
http://www.numberwright.com


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct 26 19:12:38 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 26 Oct 2023 10:12:38 -0700
Subject: [R] Yext in parentheses.
In-Reply-To: <92425f0c-e17a-43a6-97cd-df09c2efe4b0@ntu.edu.tw>
References: <92425f0c-e17a-43a6-97cd-df09c2efe4b0@ntu.edu.tw>
Message-ID: <0E44D267-6342-4264-971F-A944819821D9@dcn.davis.ca.us>

I recommend cutting snippets out of your code by stopping the code at the point of interest and using dput() to pull out "data as it is" before the troublesome section and then using the reprex package to test that the snippet runs.

Either you will notice the problem on your own while taking this time, or you will end up with something we can actually try out. Your current approach fails to provide everything we might need precisely because you don't know what you need to know to solve your problem.

If you have privacy issues with the data then once you have a reprex you can make a shareable reprex by replacing the private data with generic data of the same type. Also, you should often experiment to reduce the size of your sample data to a minimum necessary to reproduce the problem, as this will often remove unnecessary confusion as well.

Remember, you are trying to learn how to solve your problems on your own anyway, so this is not wasted time even if you do end up solving it on your own.

On October 26, 2023 9:18:10 AM PDT, Steven Yen <styen at ntu.edu.tw> wrote:
>Dear All
>
>My program is long and sorry I do not have a replicable set of codes to 
>present. But I present a chunk of codes at the end below. Essentially,
>
>1. I initialize cat.ref as NUL (see line 1)
>
>2. Then, I repeatedly add elements to cat.ref, where each element 
>include parentheses in double quotations (see line 2).
>
>I had expected cat.ref to eventually contain the list
>
>dilemma1(ref),scigrn1(ref),...
>
>Not so, I end up getting the following (see first column; not in 
>parentheses, like (ref.)).
>
>dilemma1.ref.. 22.356 2.619 8.535 0.000 *** scigrn1.ref.. 22.474 2.697 
>8.334 0.000 ***
>
>Any idea how I might revise lines like the following (first line below):
>
>dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"
>
>etc. Thanks.
>
> ? ap0<-zx.ref<-NULL
>
> ? dv.group<-c("dilemma2","dilemma3"); cat.ref<-"dilemma1(ref.)"
> ? if(any(dv.group%in%jindex)){
> ??? v<-pred0(dv.group,cat.ref)
> ??? ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
> ? }
>
> ? dv.group<-c("scigrn2","scigrn3"); cat.ref<-"scigrn1(ref.)"
> ? if(any(dv.group%in%jindex)){
> ??? v<-pred0(dv.group,cat.ref)
> ??? ap0<-rbind(ap0,v$ap0); zx.ref<-c(zx.ref,v$cat.ref)
> ? }
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From J@I@F@||en@chm|d @end|ng |rom t||burgun|ver@|ty@edu  Thu Oct 26 14:14:19 2023
From: J@I@F@||en@chm|d @end|ng |rom t||burgun|ver@|ty@edu (Jan Failenschmid)
Date: Thu, 26 Oct 2023 12:14:19 +0000
Subject: [R] Inquiry about bandwidth rescaling in Ksmooth
Message-ID: <AS4P195MB1503E870871C02D29EE9C1E0C5DDA@AS4P195MB1503.EURP195.PROD.OUTLOOK.COM>

Dear Sir, Madam, or to whom this may concern,

my name is Jan Failenschmid and I am a Ph.D. student at Tilburg University.
For my project I have been looking into different types of kernel regression estimators and corresponding R functions.
While comparing different functions I noticed that stats::ksmooth returned different estimates for the same bandwidth
as other kernel regression estimators that should be equivalent (i.e. the local polynomial estimators KernSmooth::locpoly and
locpol::locpol with degree 0). However, when optimizing the bandwidth of ksmooth separately using the same loss function, I find comparable estimates to the other two estimators for a (larger) different bandwidth. To confirm this, I wrote my own Nadaraya-Watson kernel regression estimator, which is consistent with the two local polynomial estimators and shows the same discordance with ksmooth.

This led me to the suspicion that the bandwidth that is passed to kmooth is rescaled or transformed within the function. Unfortunately, I was not able to confirm this with either the code of the function or the documentation. It would be of great help to me if you could clarify this for me.

Thank you very much for your time and help in advance.

Kind regards,

Jan Failenschmid

	[[alternative HTML version deleted]]


From rhe|p @end|ng |rom mo|n@||  Thu Oct 26 14:03:54 2023
From: rhe|p @end|ng |rom mo|n@|| (Christian Asseburg)
Date: Thu, 26 Oct 2023 15:03:54 +0300
Subject: [R] Bug in print for data frames?
In-Reply-To: <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>
References: <a52edbd7-3291-4c99-b42e-5ff9aeaefdc9@app.fastmail.com>
 <ba0aef87-841e-4bd4-a14f-c14f970e5bd5@sapo.pt>
Message-ID: <e60e5144-7246-4763-8b64-28c31a1b9ff9@app.fastmail.com>

Dear R users! Thank you for your excellent replies. I didn't know that the print.data.frame expands matrix-like values in this way. Why doesn't it call the column in my example C.A? I understand that something like that happens when the data.frame in position three has multiple columns. But your answers have helped me understand this better.


From bgunter@4567 @end|ng |rom gm@||@com  Thu Oct 26 20:19:56 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 26 Oct 2023 11:19:56 -0700
Subject: [R] Inquiry about bandwidth rescaling in Ksmooth
In-Reply-To: <AS4P195MB1503E870871C02D29EE9C1E0C5DDA@AS4P195MB1503.EURP195.PROD.OUTLOOK.COM>
References: <AS4P195MB1503E870871C02D29EE9C1E0C5DDA@AS4P195MB1503.EURP195.PROD.OUTLOOK.COM>
Message-ID: <CAGxFJbTBosL7N=s3iEpBgfb4ZOf_zQ_90W-FVVrkE7SssLin0g@mail.gmail.com>

Apologies in advance if my comments don't help, in which case, no need
to respond,  but I noted in ?ksmooth:

"bandwidth
the bandwidth. The kernels are scaled so that their quartiles (viewed
as probability densities) are at ? 0.25*bandwidth." So, could this be
a source of the discrepancies you cited?

Given that ?ksmooth explicitly says:

"Note:
This function was implemented for compatibility with S, although it is
nowhere near as slow as the S function. Better kernel smoothers are
available in other packages such as KernSmooth."

One wonder why you bother with it at all? (That was rhetorical -- do
not answer).

Cheers,
Bert

On Thu, Oct 26, 2023 at 11:06?AM Jan Failenschmid via R-help
<r-help at r-project.org> wrote:
>
> Dear Sir, Madam, or to whom this may concern,
>
> my name is Jan Failenschmid and I am a Ph.D. student at Tilburg University.
> For my project I have been looking into different types of kernel regression estimators and corresponding R functions.
> While comparing different functions I noticed that stats::ksmooth returned different estimates for the same bandwidth
> as other kernel regression estimators that should be equivalent (i.e. the local polynomial estimators KernSmooth::locpoly and
> locpol::locpol with degree 0). However, when optimizing the bandwidth of ksmooth separately using the same loss function, I find comparable estimates to the other two estimators for a (larger) different bandwidth. To confirm this, I wrote my own Nadaraya-Watson kernel regression estimator, which is consistent with the two local polynomial estimators and shows the same discordance with ksmooth.
>
> This led me to the suspicion that the bandwidth that is passed to kmooth is rescaled or transformed within the function. Unfortunately, I was not able to confirm this with either the code of the function or the documentation. It would be of great help to me if you could clarify this for me.
>
> Thank you very much for your time and help in advance.
>
> Kind regards,
>
> Jan Failenschmid
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Thu Oct 26 20:23:17 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Thu, 26 Oct 2023 18:23:17 +0000 (UTC)
Subject: [R] Plot for 10 years extrapolation
References: <1501493895.4453884.1698344597473.ref@mail.yahoo.com>
Message-ID: <1501493895.4453884.1698344597473@mail.yahoo.com>

Dear R-Experts,

Here below my R code working but I don't know how to complete/finish my R code to get the final plot with the extrapolation for the10 more years.

Indeed, I try to extrapolate my data with a linear fit over the next 10 years. So I create a date sequence for the next 10 years and store as a dataframe to make the prediction possible.
Now, I am trying to get the plot with the actual data (from year 2004 to 2018) and with the 10 more years extrapolation.

Thanks for your help.

####################################################
date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31", "2015-12-31", "2014-12-31", "2013-12-31", "2012-12-31", "2011-12-31", "2010-12-31", "2009-12-31", "2008-12-31", "2007-12-31", "2006-12-31", "2005-12-31", "2004-12-31"))
?
value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209, 11099, 10087, 14987, 11098, 13421, 9023, 12098)
?
model <- lm(value~date)
?
plot(value~date ,col="grey",pch=20,cex=1.5,main="Plot")
abline(model,col="darkorange",lwd=2)
?
dfuture <- data.frame(date=seq(as.Date("2019-12-31"), by="1 year", length.out=10))
?
predict(model,dfuture,interval="prediction")
########################################################


From @|ddh@rth@dortmund @end|ng |rom goog|em@||@com  Thu Oct 26 15:59:15 2023
From: @|ddh@rth@dortmund @end|ng |rom goog|em@||@com (siddharth sahasrabudhe)
Date: Thu, 26 Oct 2023 19:29:15 +0530
Subject: [R] Need help to resolve the Error: evaluation nested too deeply:
 infinite recursion / options(expressions=)? Execution halted
Message-ID: <CAO0h10DB3z8bb5Fh-ckx+t7v09hqwAchNnJtG=JSsFTW26tO7A@mail.gmail.com>

Hello Colleagues,

I am trying to get the Git repository using *remotes* package. I am
using *remotes::install_github("dcl-docs/dcldata")
*to get the Git repo.

However, I am getting the following error message. I have absolutely no
idea on what this error message means and how to get away with this. Can
anyone please suggest the way out...?

Here is the error message that i am getting:

> remotes::install_github("dcl-docs/dcldata")Downloading GitHub repo dcl-docs/dcldata at HEADRunning `R CMD build`...* checking for file 'C:\Users\admin\AppData\Local\Temp\RtmpWmVvZI\remotes2ddc1b982b8\dcl-docs-dcldata-0a08cbb/DESCRIPTION' ... OK
* preparing 'dcldata':
* checking DESCRIPTION meta-information ... OK
* checking for LF line-endings in source and make files and shell scripts
* checking for empty or unneeded directories
* building 'dcldata_0.1.2.9000.tar.gz'Installing package into
?C:/Users/admin/AppData/Local/R/win-library/4.3?
(as ?lib? is unspecified)Error: evaluation nested too deeply: infinite
recursion / options(expressions=)?
Execution haltedWarning: installation of package
?C:/Users/admin/AppData/Local/Temp/RtmpWmVvZI/file2ddc7bed1881/dcldata_0.1.2.9000.tar.gz?
had non-zero exit status


Many thanks for the prompt help as always!

Regards
Siddharth
--

	[[alternative HTML version deleted]]


From bbo|ker @end|ng |rom gm@||@com  Thu Oct 26 22:35:17 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Thu, 26 Oct 2023 16:35:17 -0400
Subject: [R] 
 Need help to resolve the Error: evaluation nested too deeply:
 infinite recursion / options(expressions=)? Execution halted
In-Reply-To: <CAO0h10DB3z8bb5Fh-ckx+t7v09hqwAchNnJtG=JSsFTW26tO7A@mail.gmail.com>
References: <CAO0h10DB3z8bb5Fh-ckx+t7v09hqwAchNnJtG=JSsFTW26tO7A@mail.gmail.com>
Message-ID: <959034e6-5993-454b-bbf1-e189fd825b1c@gmail.com>

   Hmm, I can't replicate (i.e., it works fine for me).  What are the 
results of your sessionInfo() (from a *clean* R session)?

==
R Under development (unstable) (2023-10-25 r85410)
Platform: x86_64-pc-linux-gnu
Running under: Pop!_OS 22.04 LTS

Matrix products: default
BLAS:   /usr/local/lib/R/lib/libRblas.so
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3; 
LAPACK version 3.10.0

<locale/tz redacted>

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base

loaded via a namespace (and not attached):
  [1] desc_1.4.2        R6_2.5.1          bspm_0.5.3 
remotes_2.4.2.1
  [5] ps_1.7.5          cli_3.6.1         processx_3.8.2    callr_3.7.3 

  [9] compiler_4.4.0    prettyunits_1.2.0 rprojroot_2.0.3   tools_4.4.0 

[13] pkgbuild_1.4.2    curl_5.0.1        crayon_1.5.2


On 2023-10-26 9:59 a.m., siddharth sahasrabudhe via R-help wrote:
> Hello Colleagues,
> 
> I am trying to get the Git repository using *remotes* package. I am
> using *remotes::install_github("dcl-docs/dcldata")
> *to get the Git repo.
> 
> However, I am getting the following error message. I have absolutely no
> idea on what this error message means and how to get away with this. Can
> anyone please suggest the way out...?
> 
> Here is the error message that i am getting:
> 
>> remotes::install_github("dcl-docs/dcldata")Downloading GitHub repo dcl-docs/dcldata at HEADRunning `R CMD build`...* checking for file 'C:\Users\admin\AppData\Local\Temp\RtmpWmVvZI\remotes2ddc1b982b8\dcl-docs-dcldata-0a08cbb/DESCRIPTION' ... OK
> * preparing 'dcldata':
> * checking DESCRIPTION meta-information ... OK
> * checking for LF line-endings in source and make files and shell scripts
> * checking for empty or unneeded directories
> * building 'dcldata_0.1.2.9000.tar.gz'Installing package into
> ?C:/Users/admin/AppData/Local/R/win-library/4.3?
> (as ?lib? is unspecified)Error: evaluation nested too deeply: infinite
> recursion / options(expressions=)?
> Execution haltedWarning: installation of package
> ?C:/Users/admin/AppData/Local/Temp/RtmpWmVvZI/file2ddc7bed1881/dcldata_0.1.2.9000.tar.gz?
> had non-zero exit status
> 
> 
> Many thanks for the prompt help as always!
> 
> Regards
> Siddharth
> --
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Thu Oct 26 22:56:20 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 26 Oct 2023 13:56:20 -0700
Subject: [R] Plot for 10 years extrapolation
In-Reply-To: <1501493895.4453884.1698344597473@mail.yahoo.com>
References: <1501493895.4453884.1698344597473.ref@mail.yahoo.com>
 <1501493895.4453884.1698344597473@mail.yahoo.com>
Message-ID: <CAGxFJbRkH9nK=SBa6QV3v8bg1-FzXNxPJ0Ng9wBmJzyJZQUpUg@mail.gmail.com>

from ?predict.lm:

"predict.lm produces a vector of predictions or a matrix of
predictions and bounds with column names fit, lwr, and upr if interval
is set. "

ergo:
predict(model, dfuture, interval = "prediction")[,"fit"]  ## or [,1]
as it's the first column in the returned matrix

is your vector of predicted values that you can plot against
dfuture$date however you would like, e.g. with different colors,
symbols, or whatever. Exactly how you do this depends on what graphics
package you are using. The example in ?predict.lm shows you how to do
it with R's base graphics and overlaying prediction and confidence
intervals.

Cheers,
Bert

On Thu, Oct 26, 2023 at 11:27?AM varin sacha via R-help
<r-help at r-project.org> wrote:
>
> Dear R-Experts,
>
> Here below my R code working but I don't know how to complete/finish my R code to get the final plot with the extrapolation for the10 more years.
>
> Indeed, I try to extrapolate my data with a linear fit over the next 10 years. So I create a date sequence for the next 10 years and store as a dataframe to make the prediction possible.
> Now, I am trying to get the plot with the actual data (from year 2004 to 2018) and with the 10 more years extrapolation.
>
> Thanks for your help.
>
> ####################################################
> date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31", "2015-12-31", "2014-12-31", "2013-12-31", "2012-12-31", "2011-12-31", "2010-12-31", "2009-12-31", "2008-12-31", "2007-12-31", "2006-12-31", "2005-12-31", "2004-12-31"))
>
> value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209, 11099, 10087, 14987, 11098, 13421, 9023, 12098)
>
> model <- lm(value~date)
>
> plot(value~date ,col="grey",pch=20,cex=1.5,main="Plot")
> abline(model,col="darkorange",lwd=2)
>
> dfuture <- data.frame(date=seq(as.Date("2019-12-31"), by="1 year", length.out=10))
>
> predict(model,dfuture,interval="prediction")
> ########################################################
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct 27 00:09:09 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 26 Oct 2023 15:09:09 -0700
Subject: [R] Plot for 10 years extrapolation
In-Reply-To: <CAGxFJbRkH9nK=SBa6QV3v8bg1-FzXNxPJ0Ng9wBmJzyJZQUpUg@mail.gmail.com>
References: <1501493895.4453884.1698344597473.ref@mail.yahoo.com>
 <1501493895.4453884.1698344597473@mail.yahoo.com>
 <CAGxFJbRkH9nK=SBa6QV3v8bg1-FzXNxPJ0Ng9wBmJzyJZQUpUg@mail.gmail.com>
Message-ID: <CAGxFJbSN=YLZh_+y7G++P_cuTgeVPXz=yYN4u-YONFf3e7pCGw@mail.gmail.com>

Incidentally, if all you wanted to do was plot fitted values, the
predict method is kinda overkill, as it's just the fitted line from
the model. But I assume you wanted to plot CI's/PI's also, as the
example illustrated.

-- Bert

On Thu, Oct 26, 2023 at 1:56?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> from ?predict.lm:
>
> "predict.lm produces a vector of predictions or a matrix of
> predictions and bounds with column names fit, lwr, and upr if interval
> is set. "
>
> ergo:
> predict(model, dfuture, interval = "prediction")[,"fit"]  ## or [,1]
> as it's the first column in the returned matrix
>
> is your vector of predicted values that you can plot against
> dfuture$date however you would like, e.g. with different colors,
> symbols, or whatever. Exactly how you do this depends on what graphics
> package you are using. The example in ?predict.lm shows you how to do
> it with R's base graphics and overlaying prediction and confidence
> intervals.
>
> Cheers,
> Bert
>
> On Thu, Oct 26, 2023 at 11:27?AM varin sacha via R-help
> <r-help at r-project.org> wrote:
> >
> > Dear R-Experts,
> >
> > Here below my R code working but I don't know how to complete/finish my R code to get the final plot with the extrapolation for the10 more years.
> >
> > Indeed, I try to extrapolate my data with a linear fit over the next 10 years. So I create a date sequence for the next 10 years and store as a dataframe to make the prediction possible.
> > Now, I am trying to get the plot with the actual data (from year 2004 to 2018) and with the 10 more years extrapolation.
> >
> > Thanks for your help.
> >
> > ####################################################
> > date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31", "2015-12-31", "2014-12-31", "2013-12-31", "2012-12-31", "2011-12-31", "2010-12-31", "2009-12-31", "2008-12-31", "2007-12-31", "2006-12-31", "2005-12-31", "2004-12-31"))
> >
> > value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209, 11099, 10087, 14987, 11098, 13421, 9023, 12098)
> >
> > model <- lm(value~date)
> >
> > plot(value~date ,col="grey",pch=20,cex=1.5,main="Plot")
> > abline(model,col="darkorange",lwd=2)
> >
> > dfuture <- data.frame(date=seq(as.Date("2019-12-31"), by="1 year", length.out=10))
> >
> > predict(model,dfuture,interval="prediction")
> > ########################################################
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Oct 27 09:36:14 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 27 Oct 2023 08:36:14 +0100
Subject: [R] Plot for 10 years extrapolation
In-Reply-To: <1501493895.4453884.1698344597473@mail.yahoo.com>
References: <1501493895.4453884.1698344597473.ref@mail.yahoo.com>
 <1501493895.4453884.1698344597473@mail.yahoo.com>
Message-ID: <71fb1f81-a19e-4479-be87-8ff941daf448@sapo.pt>

?s 19:23 de 26/10/2023, varin sacha via R-help escreveu:
> Dear R-Experts,
> 
> Here below my R code working but I don't know how to complete/finish my R code to get the final plot with the extrapolation for the10 more years.
> 
> Indeed, I try to extrapolate my data with a linear fit over the next 10 years. So I create a date sequence for the next 10 years and store as a dataframe to make the prediction possible.
> Now, I am trying to get the plot with the actual data (from year 2004 to 2018) and with the 10 more years extrapolation.
> 
> Thanks for your help.
> 
> ####################################################
> date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31", "2015-12-31", "2014-12-31", "2013-12-31", "2012-12-31", "2011-12-31", "2010-12-31", "2009-12-31", "2008-12-31", "2007-12-31", "2006-12-31", "2005-12-31", "2004-12-31"))
>   
> value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209, 11099, 10087, 14987, 11098, 13421, 9023, 12098)
>   
> model <- lm(value~date)
>   
> plot(value~date ,col="grey",pch=20,cex=1.5,main="Plot")
> abline(model,col="darkorange",lwd=2)
>   
> dfuture <- data.frame(date=seq(as.Date("2019-12-31"), by="1 year", length.out=10))
>   
> predict(model,dfuture,interval="prediction")
> ########################################################
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Here is a way with base R graphics. Explained in the code comments.



####################################################
date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31",
                  "2015-12-31", "2014-12-31", "2013-12-31",
                  "2012-12-31", "2011-12-31", "2010-12-31",
                  "2009-12-31", "2008-12-31", "2007-12-31",
                  "2006-12-31", "2005-12-31", "2004-12-31"))

value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209,
           11099, 10087, 14987, 11098, 13421, 9023, 12098)

model <- lm(value ~ date)

dfuture <- data.frame(date = seq(as.Date("2019-12-31"), by="1 year", 
length.out=10))

########################################################

predfuture <- predict(model, dfuture, interval="prediction")
dfuture <- cbind(dfuture, predfuture)

# start the plot with the required x and y limits
xlim <- range(c(date, dfuture$date))
ylim <- range(c(value, dfuture$fit))

plot(value ~ date, col="grey", pch=20, cex=1.5, main="Plot"
      , xlim = xlim, ylim = ylim)

# abline extends the fitted line past the x value (date)
# limit making the next ten years line ugly and not even
# completely overplotting the abline drawn line
abline(model, col="darkorange", lwd=2)
lines(fit ~ date, dfuture
       # , lty = "dashed"
       , lwd=2
       , col = "black")

# if lines() is used for both the interpolated and extrapolated
# values you will have a gap between both fitted and predicted lines
# but it is closer to what you want

# get the fitted values first (interpolated values)
ypred <- predict(model)

plot(value ~ date, col="grey", pch=20, cex=1.5, main="Plot"
      , xlim = xlim, ylim = ylim)

# plot the interpolated values
lines(ypred ~ date, col="darkorange", lwd = 2)
# and now the extrapolated values
# I use normal orange to make the difference more obvious
lines(fit ~ date, dfuture, lty = "dashed", lwd=2, col = "orange")



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From J@I@F@||en@chm|d @end|ng |rom t||burgun|ver@|ty@edu  Fri Oct 27 09:41:06 2023
From: J@I@F@||en@chm|d @end|ng |rom t||burgun|ver@|ty@edu (Jan Failenschmid)
Date: Fri, 27 Oct 2023 07:41:06 +0000
Subject: [R] Inquiry about bandwidth rescaling in Ksmooth
In-Reply-To: <CAGxFJbTBosL7N=s3iEpBgfb4ZOf_zQ_90W-FVVrkE7SssLin0g@mail.gmail.com>
References: <AS4P195MB1503E870871C02D29EE9C1E0C5DDA@AS4P195MB1503.EURP195.PROD.OUTLOOK.COM>
 <CAGxFJbTBosL7N=s3iEpBgfb4ZOf_zQ_90W-FVVrkE7SssLin0g@mail.gmail.com>
Message-ID: <AS4P195MB15034C9BE51411F313594C1CC5DCA@AS4P195MB1503.EURP195.PROD.OUTLOOK.COM>

Dear Bert,

Thank you very much for your quick reply.
I have tested this, and it indeed appears to be the source of the discrepancy I observed.
My apologies for overlooking this in the documentation and thank you for clarifying.

Cheers,

Jan
________________________________
From: Bert Gunter <bgunter.4567 at gmail.com>
Sent: Thursday, 26 October 2023 20:19
To: Jan Failenschmid <J.I.Failenschmid at tilburguniversity.edu>
Cc: r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Inquiry about bandwidth rescaling in Ksmooth

Apologies in advance if my comments don't help, in which case, no need
to respond,  but I noted in ?ksmooth:

"bandwidth
the bandwidth. The kernels are scaled so that their quartiles (viewed
as probability densities) are at ? 0.25*bandwidth." So, could this be
a source of the discrepancies you cited?

Given that ?ksmooth explicitly says:

"Note:
This function was implemented for compatibility with S, although it is
nowhere near as slow as the S function. Better kernel smoothers are
available in other packages such as KernSmooth."

One wonder why you bother with it at all? (That was rhetorical -- do
not answer).

Cheers,
Bert

On Thu, Oct 26, 2023 at 11:06?AM Jan Failenschmid via R-help
<r-help at r-project.org> wrote:
>
> Dear Sir, Madam, or to whom this may concern,
>
> my name is Jan Failenschmid and I am a Ph.D. student at Tilburg University.
> For my project I have been looking into different types of kernel regression estimators and corresponding R functions.
> While comparing different functions I noticed that stats::ksmooth returned different estimates for the same bandwidth
> as other kernel regression estimators that should be equivalent (i.e. the local polynomial estimators KernSmooth::locpoly and
> locpol::locpol with degree 0). However, when optimizing the bandwidth of ksmooth separately using the same loss function, I find comparable estimates to the other two estimators for a (larger) different bandwidth. To confirm this, I wrote my own Nadaraya-Watson kernel regression estimator, which is consistent with the two local polynomial estimators and shows the same discordance with ksmooth.
>
> This led me to the suspicion that the bandwidth that is passed to kmooth is rescaled or transformed within the function. Unfortunately, I was not able to confirm this with either the code of the function or the documentation. It would be of great help to me if you could clarify this for me.
>
> Thank you very much for your time and help in advance.
>
> Kind regards,
>
> Jan Failenschmid
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From p@u|bern@|07 @end|ng |rom gm@||@com  Sat Oct 28 05:13:32 2023
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Fri, 27 Oct 2023 22:13:32 -0500
Subject: [R] How to Reformat a dataframe
Message-ID: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>

Dear friends,

I have the following dataframe:
dim(alajuela_df)
[1] 126  12

dput(alajuela_df)
structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556, 40.57804605,
30.38398005, 47.94042705, 36.38715225, 28.06199835, 28.4867511,
122.86681215, 56.4071652, 35.9057658, 52.669341, 24.94714485,
54.4249857, 61.164396, 47.88379335, 30.582198, 26.051502, 43.041612,
64.59073485, 51.6499344, 78.8202902886201, 35.2390173175627,
82.2394568898745, 47.760850180466, 54.3654763342294, 49.4878058854839,
32.8813266149642, 38.9301880693548, 51.9506275455197, 55.4404001992832,
50.7979761262545, 37.1198211413082, 36.9144309425627, 33.7829493281362,
32.8647492475806, 42.8926863444444, 63.9814428257048, 39.219040238172,
88.7557324417563, 42.0964144925627, 129.15973304991, 117.872998635484,
35.4004098300179, 83.4102757505377, 38.6443638074373, 100.491764259319,
40.219162961828, 35.901029409319, 85.2814714674731, 26.5821299974014,
33.0141992892473, 52.4006692386201, 62.7450310643369, 33.3732853655914,
36.4616827405018, 146.501706130466, 59.9869292767025, 132.659282967294,
29.9692075517921, 45.8436438112007, 29.3028312143369, 49.9042699517921,
27.4678688861111, 29.8483957580645, 26.1192323867384, 62.1371491517921,
53.92489050681, 64.5840869873656, 28.4476420455197, 52.9893180218638,
36.4730500781362, 40.8595060662186, 33.4571194806452, 35.6201445262545,
47.5373940344086, 62.5177012273297, 31.9702480361111, 29.6637272685484,
49.9578249978495, 26.1936613831541, 30.8051128442652, 153.165249601165,
36.7652008047491, 14.3854334390681, 55.9930862447133, 87.5882628859319,
88.414763059767, 58.6046644034946, 20.5301898890681, 39.0037205346774,
67.5971386298632, 25.1295804696237, 32.7864973072581, 59.5662701215054,
56.3503435331631, 25.2768483884409, 120.187620533964, 51.3699688189953,
42.6889983487868, 34.5183987020052, 32.9513272936733, 20.6141437461215,
43.4197954932283, 107.258904254306, 23.7548470509806, 48.4457090643702,
72.3249287581108, 32.7272590911596, 48.6115621286089), ...2 = c(34.9996266,
22.00219245, 22.9932822, 19.00060635, 35.99071635, 23.9560551,
44.99547465, 22.00219245, 17.35822905, 38.9639856, 16.4804067,
93.87035775, 81.2693595, 65.4119235, 14.6114946, 33.32893245,
23.3330844, 66.68618175, 29.1097218, 18.77407155, 28.1469489,
20.64298365, 15.31941585, 25.79665035, 39.5869563, 35.9057658,
28.11863205, 27.09922545, 18.03783345, 52.3295388, 47.99706075,
21.88892505, 18.8590221, 17.64139755, 29.2796229, 27.750513,
26.9576412, 36.8932410314484, 19.1194611744253, 37.5166237491071,
37.9625421619439, 23.444984650496, 37.4408609345785, 43.1033210084325,
28.1252430606151, 38.4216392645833, 41.0532302780651, 34.4822260610119,
27.8096188059524, 25.9720387760913, 19.5989670673372, 21.1366557174603,
34.0091174203373, 111.149568174301, 24.5438738482759, 62.923693488747,
36.056976280754, 36.934798630754, 47.0895472967433, 23.0987961767857,
45.1991799260913, 23.0274422095238, 26.8716961246169, 21.5009916962302,
25.315076619246, 41.2098751296627, 15.6537752838123, 20.1723471152778,
31.7437694203373, 34.6486999232143, 27.6318028338123, 23.9637897951389,
50.6646878095238, 33.3208231933532, 38.0673028746602, 19.9469359998016,
27.0503264451389, 19.8385753555556, 29.0062549955939, 17.231889453373,
25.3320442555556, 17.651735447619, 37.12988188841, 37.7982565469246,
33.1890524548611, 15.4283008803571, 33.5040593288314, 24.9726150325397,
29.0612348127976, 30.2629592267857, 32.8065534719349, 43.3676303365079,
39.19334780424, 23.9252474159722, 15.8641806903257, 27.51501019685,
21.5861832758362, 18.5136698379577, 54.9166790494253, 29.2865335598214,
12.8130786005824, 46.2078437446569, 37.9351942968391, 31.8758398080357,
25.4830299994048, 17.4062173291544, 19.1528843310516, 37.2160194109127,
25.3577400835684, 21.3381885368056, 37.5842732179795, 62.4856267757438,
19.2393143990079, 49.4806272500855, 29.5274325254668, 18.7819282827049,
19.5089694997422, 25.524181172185, 15.9275217745507, 25.461470312583,
37.4026236465872, 14.6120197959536, 26.5773978462589, 27.6541154512847,
22.5193597452548, 27.9919830179818), ...3 = c(24.04100565, 22.00219245,
15.0079305, 12.99743415, 22.9932822, 13.9885239, 27.0142749,
16.3671393, 12.2895129, 28.68496905, 16.56535725, 32.70596175,
46.01488125, 24.94714485, 10.8170367, 19.68021075, 15.0079305,
26.41962105, 21.9738756, 15.71585175, 21.26595435, 13.28060265,
11.6099085, 15.5742675, 25.96655145, 20.5013994, 15.99902025,
18.03783345, 11.07188835, 32.59269435, 29.7326925, 15.82911915,
13.4788206, 22.11545985, 17.6130807, 22.3136778, 17.01842685,
24.8211230265233, 13.237941302509, 22.3448026530466, 26.8162566663605,
19.755485530466, 28.9524567137097, 35.9159180773958, 29.0510074712366,
29.6768770591437, 19.74645255681, 21.3046743438172, 18.2600040043011,
14.1888055630824, 13.2245440831541, 14.2163781231183, 19.9802103525986,
56.1211624398027, 13.9762431155914, 26.4956908674731, 29.4013819718638,
26.8419717732975, 44.6725035525986, 14.7828541642548, 24.4708500199821,
10.5834818923835, 20.2093501674731, 14.2639281024194, 17.2504254149642,
19.7845974174731, 10.850022277957, 16.4476927547907, 20.9176435624552,
22.8783063162186, 25.7326244974014, 20.1825218974014, 51.1908599407987,
40.9448287612007, 20.2191781781362, 10.3501469886201, 21.1253173781362,
13.4899172867384, 23.1471303187276, 12.8374587906722, 16.9906343861111,
13.1835697522092, 17.8847127055556, 32.4731512323477, 17.6332611074373,
13.4532405190011, 19.4829400781362, 24.2590318624552, 26.5715576967742,
19.0041586430108, 28.5379041193548, 29.7763011256272, 32.1823265123117,
29.7879391141577, 14.0165763547689, 37.6846187388183, 16.3880639974014,
13.8338638285842, 44.6845644331541, 18.6545178642578, 11.2407237620968,
34.0711681997412, 29.0336803177268, 18.1338299396953, 39.7917534240684,
10.6510092909498, 16.2566291560036, 28.5616029884409, 38.8678199534946,
15.4433570447133, 17.2045135497178, 49.4081574106672, 32.6989511276381,
38.5789940244859, 32.1769916573031, 28.9463686859436, 13.4928541224532,
19.5413894417691, 10.7006215291469, 29.8260981653798, 25.4362115265858,
11.5257100913926, 16.8079233526533, 27.4408077645845, 40.6526894052778,
18.8694236080065), ...4 = c(43.01329515, 25.00377855, 15.99902025,
12.99743415, 47.99706075, 15.99902025, 62.0139015, 12.5160477,
20.13328035, 18.4625862, 16.7635752, 31.4317035, 88.914909, 47.82715965,
10.50555135, 14.18674185, 13.28060265, 72.3778686, 21.9738756,
12.82753305, 28.74160275, 46.69448565, 8.6083224, 15.291099,
23.6162529, 15.8008023, 33.27229875, 18.0661503, 7.95703485,
44.76893985, 22.22872725, 21.03941955, 26.92932435, 22.65348,
46.07151495, 15.9140697, 22.4835789, 17.7829818, 18.2384985351852,
20.5132854851852, 61.5926915188615, 15.693652737963, 19.5663315662037,
24.3550255328704, 53.0975022597222, 36.7972078271926, 36.7901429763889,
18.8871641546296, 20.9930987768519, 20.1431562884259, 10.6699463958333,
15.75360755, 37.4331277462963, 54.1371851226852, 19.1322272638889,
25.599830762963, 33.3566375162037, 19.421600999537, 43.1187841560185,
11.9100427961142, 15.1950489439815, 20.8816316998207, 63.5722125117055,
21.3153340421296, 17.4206699247302, 42.4256331148148, 26.851255354471,
13.8370396062451, 65.4289660486111, 70.8573662263666, 29.3347708393519,
30.1223113805556, 104.141421110648, 53.9017718844937, 50.7707224048161,
9.85083922838523, 16.679586024537, 8.50117283796296, 29.7760417518519,
12.3623151717593, 58.2226773143519, 43.8683067041667, 18.6122984347222,
236.356918314815, 26.518730025, 18.768390700463, 13.0113303819444,
27.8125653564815, 63.6389740583333, 80.2297640347222, 23.5851393240741,
29.110683174537, 26.2230636560185, 18.1385155833333, 35.5873651333171,
71.1575933980326, 14.1058989912037, 22.352831962963, 37.7497695597222,
13.9331137675926, 35.9453219891346, 66.8659299971482, 25.6415400254835,
15.1121959384259, 76.2625002964008, 19.6161482467593, 30.3616062425926,
50.555977574537, 48.0870803657407, 60.781296601654, 17.5123175343251,
46.3781020162159, 32.9047155318093, 45.2884006349093, 39.7311056806747,
26.0169754879377, 32.1970505053614, 22.6549346464934, 16.8551283466882,
22.976903453078, 24.6695897641777, 10.0811787631618, 22.3981217825916,
58.8947786812898, 75.1529521249874, 15.0698117186505), ...5 = c(53.0091432,
44.99547465, 38.0012127, 44.0043849, 60.00340515, 38.99230245,
51.536667, 54.7081542, 31.0919013, 60.3715242, 73.48222575, 68.526777,
147.813957, 79.0040115, 47.6289417, 58.07785935, 59.8051872,
96.19233945, 59.21053335, 57.9929088, 122.6685942, 66.4879638,
13.90357335, 30.89368335, 61.3342971, 35.6225973, 75.8325243,
28.91150385, 14.80971255, 95.17293285, 41.71072005, 49.5544875,
58.58756265, 54.11350035, 61.47588135, 38.02952955, 68.526777,
62.15548575, 77.6784310738351, 50.5600232415771, 131.876932720878,
20.6789463878136, 30.9527021610215, 51.8652541034946, 50.5158733141577,
65.3799359472222, 100.009112523321, 53.1610290997312, 60.1700076922043,
32.2775382972222, 33.8153090258961, 54.401286830914, 95.0948838978495,
76.6519537191756, 57.9907266771505, 100.305556442832, 67.9363689859319,
36.8437233959677, 104.980864599731, 29.1320843302867, 48.3498203616488,
45.5838020353047, 70.4890298277778, 38.6008566758961, 55.4927880633513,
87.7219305972222, 54.7773224196237, 43.3184540353047, 94.7221976139785,
109.994754833695, 69.5983515602151, 65.4988362689964, 130.990821687186,
67.8702794202509, 64.9310106890681, 40.9020659196237, 28.7862263164875,
73.8719355863588, 44.2015371620968, 26.9290029520609, 87.4829120246416,
49.3287477370072, 52.4560850095878, 105.858686949731, 51.1010205514337,
84.4875812418607, 44.0169194196237, 56.9543198177419, 109.201614576703,
155.199816965233, 59.9808227158602, 47.1291171577061, 93.1677987708781,
80.5607447070789, 116.459338258333, 82.8986102315412, 64.9543881602151,
50.5573167326165, 107.571298157258, 67.0962686045699, 77.3657611358944,
70.7801148664875, 73.4220260571224, 30.2768192108423, 53.2795572765233,
39.5983236376344, 119.826015501434, 41.0489109464158, 79.0048065370072,
67.9431183426523, 50.6200062464158, 81.1957762876344, 51.8652033564516,
45.4861804724328, 64.5839189739347, 69.7335909436077, 83.2834162480453,
60.7586179353601, 59.0404232122419, 52.2671818563404, 46.4495093287553,
40.0792220246565, 33.0039252222804, 69.8833876014689, 71.1205502192063,
25.9164851853527), ...6 = c(62.0139015, 60.9944949, 44.0043849,
49.01646735, 62.0139015, 54.9913227, 75.29450415, 45.1370589,
38.59586655, 84.63906465, 62.66518905, 137.9030595, 93.7287735,
81.58084485, 52.58439045, 56.49211575, 59.0123154, 90.18916725,
88.37688885, 86.79114525, 104.00779005, 53.43389595, 61.5041982,
60.1449894, 77.10678255, 61.13607915, 75.57767265, 52.01805345,
56.067363, 108.170367, 79.37213055, 61.64578245, 57.05845275,
63.11825865, 85.99827345, 49.1580516, 67.7339052, 65.89330995,
49.4663906333333, 62.902124174537, 125.42931227963, 56.1662971796296,
49.3735742916667, 89.0394507013889, 92.5179659694444, 86.3792399597222,
70.559909350463, 68.0506344111111, 77.1285445736111, 68.6415301606481,
60.7908582935185, 107.425126938426, 90.4807259277778, 81.396785325,
72.1131410115741, 68.8834469532407, 91.5248660726852, 48.0119183564815,
82.2235674268519, 33.5023294574074, 58.6514503578704, 64.0816433337963,
82.6175561916667, 114.884519368981, 59.435669787037, 93.4450806138889,
110.401979493519, 78.3836627305556, 84.819803062963, 117.287431325463,
86.534895237037, 45.5510617347222, 69.754801874537, 103.916983855093,
69.9525828361111, 71.7655604175926, 52.4842327027778, 78.1433190962963,
50.0991498740741, 33.9123993962963, 107.815794591204, 71.0580761560185,
85.9337739583333, 104.136789033333, 58.433218337963, 56.3486961486111,
105.916555494444, 100.764898941204, 89.4245249023148, 101.514945875463,
62.5367144527778, 80.3241535347222, 50.7403866902778, 52.1234550583333,
106.172281121296, 119.406737793519, 109.830748223148, 98.7653273018519,
110.709881538426, 60.5554089296296, 57.7968757921296, 164.881151758333,
114.807172417593, 42.3015284018519, 47.3479581421296, 69.258295625,
79.6316142773148, 38.6308256240741, 93.6480180388889, 74.1446128060185,
68.0709980717593, 92.146788000463, 79.0773117590429, 89.7252644488388,
53.5003470216826, 62.6669327681478, 74.0358775483401, 49.6010839106274,
62.4195698709396, 39.292332545434, 99.9687981401921, 40.2746960761065,
76.0016770163077, 69.3366089449157, 89.2159743205815, 48.0730413172471
), ...7 = c(91.0103559, 63.00499125, 62.0139015, 55.9540956,
60.00340515, 88.0087698, 75.80420745, 35.2827951, 85.48857015,
119.63869125, 74.72816715, 93.445605, 125.160477, 73.87866165,
73.3972752, 56.77528425, 42.95666145, 118.8175026, 82.4586672,
93.81372405, 99.42046035, 58.332711, 87.1026306, 72.12301695,
54.73647105, 49.41290325, 98.68422225, 60.7679601, 61.02281175,
178.48110555, 60.22993995, 54.84973845, 64.70400225, 94.43669475,
75.06796935, 59.7485535, 60.45647475, 151.8915834, 77.8770211688172,
76.8059709947133, 95.5358418702509, 45.1915104771505, 44.3152274541219,
79.5500496827957, 73.7685236509857, 61.4291771547491, 97.5867666978495,
88.5714360972222, 116.80599130914, 81.5496015871864, 109.510765562724,
136.904898995341, 164.49342743405, 86.2917435997312, 98.5759449758961,
95.1858395146057, 111.213971651613, 86.007780062724, 136.084454635305,
37.0162295108423, 83.3701686708781, 62.8513968664875, 86.4204719321685,
72.132523562724, 104.871318649552, 109.474532174014, 95.9775948796595,
50.6672348277778, 88.3225895139785, 121.58091591147, 76.8334928077061,
55.6079161882617, 95.6947985246416, 127.831395367742, 49.1690975396953,
86.238831349552, 63.4233667882616, 111.597500887007, 31.898796199552,
48.6903161045699, 106.279244610842, 74.6957567051971, 47.4088856058244,
130.007276330914, 88.8368093008065, 50.7865072945341, 101.199211870251,
75.9300093696237, 73.9893747821685, 103.683178131541, 140.684961650806,
104.768995695161, 57.2737217064516, 58.7820591501792, 92.9597528102151,
99.9310094340502, 94.2899004702509, 115.778989568369, 96.1018067252688,
39.8479145108423, 87.5417785945341, 108.026972772133, 67.422470597043,
70.607930149552, 88.305961399552, 59.7161430551971, 69.4862005951613,
54.6980047913978, 126.661692942025, 127.072473339516, 110.780456578853,
93.7374850757168, 69.9698735972591, 106.738637147415, 64.5152740485102,
87.1268323629885, 43.3975092336417, 52.5152792378864, 63.7137140203338,
84.6634689840074, 83.2759556945253, 47.5837274800544, 86.8166065787247,
112.648942563551, 143.549465228576, 65.8425685705771), ...8 =
c(88.99985955,
92.9925354, 79.99510125, 69.00816345, 66.00657735, 89.9909493,
44.71230615, 62.49528795, 91.8032277, 83.67629175, 85.14876795,
115.8159165, 124.59414, 66.79944915, 73.057473, 71.6416305, 59.89013775,
79.59866535, 116.8919568, 133.7687994, 100.77966915, 58.02122565,
101.85570945, 97.38164715, 77.61648585, 72.9442056, 95.3145171,
71.358462, 85.71510495, 104.3759091, 96.5604585, 94.71986325,
51.16854795, 87.8388687, 97.6931325, 69.093114, 64.08103155,
116.463431853136, 69.5767840669355, 88.8546045972222, 155.196044768369,
76.1697722321685, 88.3709345302867, 96.0580289428316, 82.8718327085125,
81.7255585009857, 126.300796887814, 113.122145047222, 92.5947124141577,
96.673455249104, 66.9335905003584, 106.393679192832, 124.757342490323,
91.3846322578853, 112.209577888441, 80.9145700066308, 118.335473354122,
136.781803584677, 88.5102859103943, 48.9130787077061, 76.6303862258961,
66.0512009164875, 91.1909307947133, 90.038228628405, 120.433525268996,
127.600344080914, 93.5963237177419, 58.4067678514337, 91.812734312724,
96.4453811221326, 95.4837246570789, 91.6730107876344, 117.778913617742,
107.262417822133, 72.8408169577061, 93.2214045639785, 75.6332406620968,
138.346774728405, 41.828554683871, 82.8804427901434, 121.71458362276,
92.5882337083333, 71.4110021051971, 105.813741985305, 73.4316986108423,
52.584441197043, 149.500585721505, 70.0548212120968, 71.3453354315412,
118.636386403495, 159.896641868369, 124.508495907079, 99.5186897095878,
61.6371723683692, 135.166203807706, 69.8381144227599, 99.953642615233,
96.6851439846774, 113.023966434677, 37.3526316589606, 94.9774214089606,
129.41979472966, 96.4015525926523, 68.4592496014337, 92.3934158102151,
112.763803260842, 87.9348144426523, 115.168451893907, 114.463558550806,
105.081225335125, 115.213396858333, 107.920082583871, 113.556526721806,
87.182534043245, 100.746877538778, 107.820717028533, 61.2195953835266,
54.8629442665856, 71.7839889353526, 69.3780698503958, 64.8880471329152,
84.3745727047643, 86.8773256086014, 115.250098093976, 124.182856141139,
90.1817841662871), ...9 = c(54.00023295, 68.0170737, 60.9944949,
82.99668735, 66.9976671, 79.0040115, 80.2499529, 48.7616157,
78.80579355, 110.5489824, 105.0555135, 100.807986, 122.86681215,
51.8198355, 80.78797305, 79.3438137, 124.96225905, 82.65688515,
113.1541326, 135.6377115, 104.9422461, 84.8372826, 68.49846015,
88.77332475, 103.6963047, 81.69411225, 74.55826605, 67.6772715,
88.914909, 142.5470229, 96.7303596, 67.64895465, 76.3422276,
119.2705722, 79.54203165, 85.0071837, 79.7968833, 85.1213250768518,
91.1265074236111, 94.8002691203704, 101.243139074537, 67.7463156712963,
65.3070462777778, 92.9989154310185, 104.489963079167, 88.6454619365741,
95.6530957324074, 96.2138392805556, 106.431327860185, 82.2418335430556,
71.5570295407407, 113.462384235648, 93.298339900463, 92.4140501217593,
94.4176420546296, 86.020909450463, 103.683457240278, 85.9453104527778,
94.0256634365741, 59.9890719296296, 93.0187547055556, 100.441352710648,
82.4177650833333, 94.4054063787037, 95.6760813236111, 118.294777044907,
108.812652588426, 95.822822037037, 109.342894344444, 98.7759898194444,
98.0270790550926, 94.9162458486111, 119.636593705556, 93.1206604064815,
96.5566130018519, 87.0842770861111, 75.9921124731482, 95.2274690055556,
63.7360728865741, 75.1976675148148, 87.622734224537, 79.9642498671296,
64.7750565680556, 72.1407586800926, 75.4217551796296, 89.185317437963,
106.493555012037, 121.68947793287, 111.078000588426, 137.71209555787,
119.270484802315, 83.6887022212963, 110.169414253241, 106.021782307407,
105.793237360648, 112.292741014815, 92.3540953097222, 88.7946497851852,
88.3137003236111, 48.0344669592593, 56.6142103162037, 100.058725644907,
92.1715215453704, 81.5248229337963, 84.5357605861111, 99.5218416648148,
98.9644192287037, 113.18262424537, 84.0182788921296, 78.1174493814815,
58.5339878689815, 86.7326761986111, 63.3940417265209, 90.5242216237781,
87.7613482821531, 79.4634654046871, 75.4329525046438, 87.8455136741353,
82.7085680835468, 66.420417900437, 87.3192277343693, 64.8283838519554,
90.4344488320088, 101.89113025832, 107.25424417281, 55.0424269132735
), ...10 = c(75.01133565, 75.01133565, 91.0103559, 78.01292175,
91.0103559, 78.01292175, 57.51152235, 75.5493558, 58.899048,
129.77612355, 102.25214535, 103.78125525, 124.5375063, 68.15865795,
86.083224, 75.12460305, 149.7395028, 108.82165455, 122.92344585,
119.63869125, 108.4535355, 71.1319272, 136.8836529, 92.34124785,
106.10323695, 270.3126501, 75.12460305, 90.98203905, 76.3988613,
91.6899603, 114.76819305, 96.30560685, 95.00303175, 89.33966175,
115.5893817, 53.43389595, 130.17255945, 74.0648187194444, 98.415448994534,
117.077048181541, 111.656418203943, 69.0909318771505, 91.8837125102151,
184.392256445341, 143.99505594095, 111.688557997849, 164.432649392204,
92.4773006723118, 96.031623564785, 98.7507854547491, 89.6331318997312,
116.630034395341, 79.1743862390681, 82.1261387428315, 145.541538245341,
97.1231247972222, 70.2878347179212, 74.8902532053764, 109.844562695968,
99.9151256095878, 80.1571873053764, 93.3414720677419, 112.481429797849,
107.20843988405, 99.7747085415771, 91.5307329947133, 103.970490973387,
120.196790313351, 104.027496818369, 93.228576812724, 119.336712512724,
82.0989383277778, 126.093123072133, 106.900354585932, 89.8837884608423,
100.182088887186, 104.524344200806, 134.879635255824, 91.8319674420251,
133.253513925269, 83.6035035746416, 88.3071285815412, 96.0991509633513,
95.2481568834229, 117.772485658961, 106.50540726586, 128.208598138441,
95.8156103183692, 153.21083736147, 131.853555249731, 152.367387675269,
119.728631925896, 147.733996575896, 85.6276001321685, 83.440402578405,
147.025703180914, 101.382341032796, 77.8944443202509, 94.4307404302867,
59.4824360064516, 91.2871979353047, 100.210777882168, 116.855774158333,
71.9237333120968, 85.1692190083333, 99.4269390558244, 119.594219924642,
69.1883154526882, 122.62561145457, 78.3248299920251, 62.5127111014337,
109.128674160215, 92.5094141691414, 102.214150982881, 113.304196757922,
104.289463219631, 69.3166222008229, 75.6406286742023, 96.6916710132641,
61.1471702956426, 87.6592065685503, 60.3468631148267, 81.8521951100248,
76.5965939733406, 103.143649918913, NA), ...11 = c(111.99314175,
82.99668735, 84.01609395, 135.0147408, 88.99985955, 113.52225165,
117.31670955, 64.19429895, 97.21174605, 109.4729421, 181.22784,
319.980405, 127.1426565, 100.60976805, 156.90366585, 174.6583308,
107.7172974, 126.4064184, 110.35076445, 234.83163705, 71.55667995,
71.4150957, 109.10482305, 119.0440374, 168.3719901, 146.76623355,
107.68898055, 109.4729421, 92.79431745, 139.34721885, 169.02327765,
103.49808675, 99.108975, 269.09502555, 239.7304521, 117.3450264,
165.5403051, 452.789752612037, 112.674668899074, 136.845023123148,
125.390507707407, 147.205406918056, 101.483482708796, 148.538046821759,
93.6385790888889, 104.208804725926, 145.404228024074, 92.5718903412037,
77.9773508921296, 100.475874796296, 108.628243472685, 140.548237839815,
144.128658808796, 84.9861208578704, 82.5432681592593, 121.266910125,
142.538632722222, 193.310132988426, 182.567559116204, 142.72417800787,
104.623069753704, 141.985492772685, 103.156623993981, 114.944911169444,
104.799438282407, 117.003563643981, 117.717515334259, 147.705758665741,
254.736285055556, 120.990908235185, 113.687171081944, 87.6590916615741,
129.361771124537, 107.696933739352, 77.3595366555556, 151.29439501713,
100.562660697685, 138.193744200926, 95.7973893106481, 102.302224223611,
110.082453556481, 108.45808017963, 100.091499776852, 115.70011456713,
72.1630450898148, 114.096978827778, 133.093564884259, 83.1709583342593,
133.803933269444, 182.775128618519, 122.711069475, 148.112857083333,
121.410067533333, 149.270963809722, 104.353972281019, 113.122844228704,
147.872513449074, 112.707443031019, 122.870308057407, 58.9955350444444,
89.6550799958333, 147.303729313889, 75.6135057009259, 106.781442987037,
137.607567926389, 127.527206314815, 234.885299228704, 92.3349552166667,
202.163518497685, 202.821273476389, 143.923798634722, 225.143428851852,
157.530355633389, 187.676065594925, 221.071077738915, 82.7623531446858,
77.798518465568, 129.726331786836, 174.877740649028, 76.0276641003277,
152.010982110292, 102.903773583178, 83.4300837163835, 99.7688463421467,
96.9843391694606, NA), ...12 = c(49.01646735, 63.996081, 65.0154876,
85.99827345, 51.9897366, 155.0064369, 66.5445975, 36.38715225,
206.23161855, 82.0055976, 116.75037255, 489.881505, 168.8816934,
39.38873835, 86.5929273, 65.9216268, 97.8630336, 95.4277845,
76.82361405, 88.99985955, 46.9493373, 61.9006341, 62.863407,
102.81848235, 117.4582938, 71.5283631, 99.5054109, 61.47588135,
98.2594695, 155.94089295, 109.9826454, 61.36261395, 67.02598395,
85.77173865, 132.04147155, 140.9612793, 95.28620025, 226.915825714606,
47.7665338492832, 215.910399075269, 212.148030222133, 90.9036179528674,
44.6233634992832, 82.859771827957, 84.9997408003584, 183.01078660914,
226.450745981093, 151.807529381093, 156.272135815412, 96.0256184980287,
57.7046317643369, 114.181235834857, 157.950002214158, 77.9836407061828,
135.604607512276, 84.7630565917563, 122.853364183602, 101.765599617294,
91.7150293392473, 87.4384406992832, 72.8254067723118, 204.161240689247,
214.597674566667, 70.3557850085125, 75.8190763336022, 49.8698972879928,
44.2102994848566, 126.040684461021, 166.839209497222, 110.586112319803,
68.2977386792115, 147.835203095341, 203.118727268996, 52.2794852999104,
56.9600542336022, 69.8238206723118, 61.674251541129, 129.046414902867,
32.7366637110215, 79.5157277660394, 52.6014922034946, 98.6752400233871,
89.3299859804659, 141.735763754749, 39.2333339886201, 181.927574060394,
74.4077503204301, 145.684661822312, 63.3958957223118, 89.1317680304659,
84.1083689898745, 86.3574610204301, 103.421949269803, 72.9182738610215,
68.2365377453405, 68.8206192947133, 58.5744868285842, 122.020063906004,
178.942193182796, 28.2040562390681, 138.280685162724, 296.330997365233,
173.333545410842, 149.083377365233, 65.756343680914, 159.737685213978,
105.61780765224, 46.7002200658602, 86.7429017277778, 189.154748022133,
96.7353497258961, 68.4664725972222, 499.277855419375, 170.849271829193,
148.879966449353, 60.8120779047451, 91.4588421221316, 43.0376842705498,
108.148547912706, 121.468512697252, 42.6455518427129, 96.4984871785073,
109.87928815051, 85.3031155445198, 58.5462485275265, NA)), row.names =
c(NA,
-126L), class = "data.frame")

What I want to do is, instead of having 12 observations  by row, I want to
have one observation by row. I want to have a single column with 1509
observations instead of 126 rows with 12 columns per row.

I tried the following:
df = data.frame(matrix(nrow = Length, ncol = 1))
colnames(df) = c("aportes_alajuela")



for (row in 1:nrow(alajuela_df)){
  for (col in 1:ncol(alajuela_df)){
    df[i,1]=alajuela_df[i,j]
  }
}

But I am not getting the data in the structure I want.

Any help will be greatly appreciated.

Best regards,
Paul

	[[alternative HTML version deleted]]


From |kw@|mmo @end|ng |rom gm@||@com  Sat Oct 28 05:40:32 2023
From: |kw@|mmo @end|ng |rom gm@||@com (Iris Simmons)
Date: Fri, 27 Oct 2023 23:40:32 -0400
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
Message-ID: <CADNULg-F0Z4Fa9Akmfcj9biEiTu8G9=akHo-FgGigPx1VPp2RQ@mail.gmail.com>

You are not getting the structure you want because the indexes are
wrong. They should be something more like this:

i <- 0
for (row in 1:nrow(alajuela_df)){
  for (col in 1:ncol(alajuela_df)){
    i <- i + 1
    df[i,1]=alajuela_df[row,col]
  }
}

but I think what you are doing can be written much shorter and will run faster:

## transpose here matches your original code
df <- data.frame(aportes_alajuela = c(t(alajuela_df)))

## but if you do not want to transpose, then do this
df <- data.frame(aportes_alajuela = unlist(alajuela_df, use.names = FALSE))

However, you said you expected 1509 observations, but this gives you
1512 observations. If you want to exclude the 3 NA observations, do
something like:

df <- df[!is.na(df$aportes_alajuela), , drop = FALSE]

On Fri, Oct 27, 2023 at 11:14?PM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Dear friends,
>
> I have the following dataframe:
> dim(alajuela_df)
> [1] 126  12
>
> dput(alajuela_df)
> structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
> 28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
> 19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
> 46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556, 40.57804605,
> 30.38398005, 47.94042705, 36.38715225, 28.06199835, 28.4867511,
> 122.86681215, 56.4071652, 35.9057658, 52.669341, 24.94714485,
> 54.4249857, 61.164396, 47.88379335, 30.582198, 26.051502, 43.041612,
> 64.59073485, 51.6499344, 78.8202902886201, 35.2390173175627,
> 82.2394568898745, 47.760850180466, 54.3654763342294, 49.4878058854839,
> 32.8813266149642, 38.9301880693548, 51.9506275455197, 55.4404001992832,
> 50.7979761262545, 37.1198211413082, 36.9144309425627, 33.7829493281362,
> 32.8647492475806, 42.8926863444444, 63.9814428257048, 39.219040238172,
> 88.7557324417563, 42.0964144925627, 129.15973304991, 117.872998635484,
> 35.4004098300179, 83.4102757505377, 38.6443638074373, 100.491764259319,
> 40.219162961828, 35.901029409319, 85.2814714674731, 26.5821299974014,
> 33.0141992892473, 52.4006692386201, 62.7450310643369, 33.3732853655914,
> 36.4616827405018, 146.501706130466, 59.9869292767025, 132.659282967294,
> 29.9692075517921, 45.8436438112007, 29.3028312143369, 49.9042699517921,
> 27.4678688861111, 29.8483957580645, 26.1192323867384, 62.1371491517921,
> 53.92489050681, 64.5840869873656, 28.4476420455197, 52.9893180218638,
> 36.4730500781362, 40.8595060662186, 33.4571194806452, 35.6201445262545,
> 47.5373940344086, 62.5177012273297, 31.9702480361111, 29.6637272685484,
> 49.9578249978495, 26.1936613831541, 30.8051128442652, 153.165249601165,
> 36.7652008047491, 14.3854334390681, 55.9930862447133, 87.5882628859319,
> 88.414763059767, 58.6046644034946, 20.5301898890681, 39.0037205346774,
> 67.5971386298632, 25.1295804696237, 32.7864973072581, 59.5662701215054,
> 56.3503435331631, 25.2768483884409, 120.187620533964, 51.3699688189953,
> 42.6889983487868, 34.5183987020052, 32.9513272936733, 20.6141437461215,
> 43.4197954932283, 107.258904254306, 23.7548470509806, 48.4457090643702,
> 72.3249287581108, 32.7272590911596, 48.6115621286089), ...2 = c(34.9996266,
> 22.00219245, 22.9932822, 19.00060635, 35.99071635, 23.9560551,
> 44.99547465, 22.00219245, 17.35822905, 38.9639856, 16.4804067,
> 93.87035775, 81.2693595, 65.4119235, 14.6114946, 33.32893245,
> 23.3330844, 66.68618175, 29.1097218, 18.77407155, 28.1469489,
> 20.64298365, 15.31941585, 25.79665035, 39.5869563, 35.9057658,
> 28.11863205, 27.09922545, 18.03783345, 52.3295388, 47.99706075,
> 21.88892505, 18.8590221, 17.64139755, 29.2796229, 27.750513,
> 26.9576412, 36.8932410314484, 19.1194611744253, 37.5166237491071,
> 37.9625421619439, 23.444984650496, 37.4408609345785, 43.1033210084325,
> 28.1252430606151, 38.4216392645833, 41.0532302780651, 34.4822260610119,
> 27.8096188059524, 25.9720387760913, 19.5989670673372, 21.1366557174603,
> 34.0091174203373, 111.149568174301, 24.5438738482759, 62.923693488747,
> 36.056976280754, 36.934798630754, 47.0895472967433, 23.0987961767857,
> 45.1991799260913, 23.0274422095238, 26.8716961246169, 21.5009916962302,
> 25.315076619246, 41.2098751296627, 15.6537752838123, 20.1723471152778,
> 31.7437694203373, 34.6486999232143, 27.6318028338123, 23.9637897951389,
> 50.6646878095238, 33.3208231933532, 38.0673028746602, 19.9469359998016,
> 27.0503264451389, 19.8385753555556, 29.0062549955939, 17.231889453373,
> 25.3320442555556, 17.651735447619, 37.12988188841, 37.7982565469246,
> 33.1890524548611, 15.4283008803571, 33.5040593288314, 24.9726150325397,
> 29.0612348127976, 30.2629592267857, 32.8065534719349, 43.3676303365079,
> 39.19334780424, 23.9252474159722, 15.8641806903257, 27.51501019685,
> 21.5861832758362, 18.5136698379577, 54.9166790494253, 29.2865335598214,
> 12.8130786005824, 46.2078437446569, 37.9351942968391, 31.8758398080357,
> 25.4830299994048, 17.4062173291544, 19.1528843310516, 37.2160194109127,
> 25.3577400835684, 21.3381885368056, 37.5842732179795, 62.4856267757438,
> 19.2393143990079, 49.4806272500855, 29.5274325254668, 18.7819282827049,
> 19.5089694997422, 25.524181172185, 15.9275217745507, 25.461470312583,
> 37.4026236465872, 14.6120197959536, 26.5773978462589, 27.6541154512847,
> 22.5193597452548, 27.9919830179818), ...3 = c(24.04100565, 22.00219245,
> 15.0079305, 12.99743415, 22.9932822, 13.9885239, 27.0142749,
> 16.3671393, 12.2895129, 28.68496905, 16.56535725, 32.70596175,
> 46.01488125, 24.94714485, 10.8170367, 19.68021075, 15.0079305,
> 26.41962105, 21.9738756, 15.71585175, 21.26595435, 13.28060265,
> 11.6099085, 15.5742675, 25.96655145, 20.5013994, 15.99902025,
> 18.03783345, 11.07188835, 32.59269435, 29.7326925, 15.82911915,
> 13.4788206, 22.11545985, 17.6130807, 22.3136778, 17.01842685,
> 24.8211230265233, 13.237941302509, 22.3448026530466, 26.8162566663605,
> 19.755485530466, 28.9524567137097, 35.9159180773958, 29.0510074712366,
> 29.6768770591437, 19.74645255681, 21.3046743438172, 18.2600040043011,
> 14.1888055630824, 13.2245440831541, 14.2163781231183, 19.9802103525986,
> 56.1211624398027, 13.9762431155914, 26.4956908674731, 29.4013819718638,
> 26.8419717732975, 44.6725035525986, 14.7828541642548, 24.4708500199821,
> 10.5834818923835, 20.2093501674731, 14.2639281024194, 17.2504254149642,
> 19.7845974174731, 10.850022277957, 16.4476927547907, 20.9176435624552,
> 22.8783063162186, 25.7326244974014, 20.1825218974014, 51.1908599407987,
> 40.9448287612007, 20.2191781781362, 10.3501469886201, 21.1253173781362,
> 13.4899172867384, 23.1471303187276, 12.8374587906722, 16.9906343861111,
> 13.1835697522092, 17.8847127055556, 32.4731512323477, 17.6332611074373,
> 13.4532405190011, 19.4829400781362, 24.2590318624552, 26.5715576967742,
> 19.0041586430108, 28.5379041193548, 29.7763011256272, 32.1823265123117,
> 29.7879391141577, 14.0165763547689, 37.6846187388183, 16.3880639974014,
> 13.8338638285842, 44.6845644331541, 18.6545178642578, 11.2407237620968,
> 34.0711681997412, 29.0336803177268, 18.1338299396953, 39.7917534240684,
> 10.6510092909498, 16.2566291560036, 28.5616029884409, 38.8678199534946,
> 15.4433570447133, 17.2045135497178, 49.4081574106672, 32.6989511276381,
> 38.5789940244859, 32.1769916573031, 28.9463686859436, 13.4928541224532,
> 19.5413894417691, 10.7006215291469, 29.8260981653798, 25.4362115265858,
> 11.5257100913926, 16.8079233526533, 27.4408077645845, 40.6526894052778,
> 18.8694236080065), ...4 = c(43.01329515, 25.00377855, 15.99902025,
> 12.99743415, 47.99706075, 15.99902025, 62.0139015, 12.5160477,
> 20.13328035, 18.4625862, 16.7635752, 31.4317035, 88.914909, 47.82715965,
> 10.50555135, 14.18674185, 13.28060265, 72.3778686, 21.9738756,
> 12.82753305, 28.74160275, 46.69448565, 8.6083224, 15.291099,
> 23.6162529, 15.8008023, 33.27229875, 18.0661503, 7.95703485,
> 44.76893985, 22.22872725, 21.03941955, 26.92932435, 22.65348,
> 46.07151495, 15.9140697, 22.4835789, 17.7829818, 18.2384985351852,
> 20.5132854851852, 61.5926915188615, 15.693652737963, 19.5663315662037,
> 24.3550255328704, 53.0975022597222, 36.7972078271926, 36.7901429763889,
> 18.8871641546296, 20.9930987768519, 20.1431562884259, 10.6699463958333,
> 15.75360755, 37.4331277462963, 54.1371851226852, 19.1322272638889,
> 25.599830762963, 33.3566375162037, 19.421600999537, 43.1187841560185,
> 11.9100427961142, 15.1950489439815, 20.8816316998207, 63.5722125117055,
> 21.3153340421296, 17.4206699247302, 42.4256331148148, 26.851255354471,
> 13.8370396062451, 65.4289660486111, 70.8573662263666, 29.3347708393519,
> 30.1223113805556, 104.141421110648, 53.9017718844937, 50.7707224048161,
> 9.85083922838523, 16.679586024537, 8.50117283796296, 29.7760417518519,
> 12.3623151717593, 58.2226773143519, 43.8683067041667, 18.6122984347222,
> 236.356918314815, 26.518730025, 18.768390700463, 13.0113303819444,
> 27.8125653564815, 63.6389740583333, 80.2297640347222, 23.5851393240741,
> 29.110683174537, 26.2230636560185, 18.1385155833333, 35.5873651333171,
> 71.1575933980326, 14.1058989912037, 22.352831962963, 37.7497695597222,
> 13.9331137675926, 35.9453219891346, 66.8659299971482, 25.6415400254835,
> 15.1121959384259, 76.2625002964008, 19.6161482467593, 30.3616062425926,
> 50.555977574537, 48.0870803657407, 60.781296601654, 17.5123175343251,
> 46.3781020162159, 32.9047155318093, 45.2884006349093, 39.7311056806747,
> 26.0169754879377, 32.1970505053614, 22.6549346464934, 16.8551283466882,
> 22.976903453078, 24.6695897641777, 10.0811787631618, 22.3981217825916,
> 58.8947786812898, 75.1529521249874, 15.0698117186505), ...5 = c(53.0091432,
> 44.99547465, 38.0012127, 44.0043849, 60.00340515, 38.99230245,
> 51.536667, 54.7081542, 31.0919013, 60.3715242, 73.48222575, 68.526777,
> 147.813957, 79.0040115, 47.6289417, 58.07785935, 59.8051872,
> 96.19233945, 59.21053335, 57.9929088, 122.6685942, 66.4879638,
> 13.90357335, 30.89368335, 61.3342971, 35.6225973, 75.8325243,
> 28.91150385, 14.80971255, 95.17293285, 41.71072005, 49.5544875,
> 58.58756265, 54.11350035, 61.47588135, 38.02952955, 68.526777,
> 62.15548575, 77.6784310738351, 50.5600232415771, 131.876932720878,
> 20.6789463878136, 30.9527021610215, 51.8652541034946, 50.5158733141577,
> 65.3799359472222, 100.009112523321, 53.1610290997312, 60.1700076922043,
> 32.2775382972222, 33.8153090258961, 54.401286830914, 95.0948838978495,
> 76.6519537191756, 57.9907266771505, 100.305556442832, 67.9363689859319,
> 36.8437233959677, 104.980864599731, 29.1320843302867, 48.3498203616488,
> 45.5838020353047, 70.4890298277778, 38.6008566758961, 55.4927880633513,
> 87.7219305972222, 54.7773224196237, 43.3184540353047, 94.7221976139785,
> 109.994754833695, 69.5983515602151, 65.4988362689964, 130.990821687186,
> 67.8702794202509, 64.9310106890681, 40.9020659196237, 28.7862263164875,
> 73.8719355863588, 44.2015371620968, 26.9290029520609, 87.4829120246416,
> 49.3287477370072, 52.4560850095878, 105.858686949731, 51.1010205514337,
> 84.4875812418607, 44.0169194196237, 56.9543198177419, 109.201614576703,
> 155.199816965233, 59.9808227158602, 47.1291171577061, 93.1677987708781,
> 80.5607447070789, 116.459338258333, 82.8986102315412, 64.9543881602151,
> 50.5573167326165, 107.571298157258, 67.0962686045699, 77.3657611358944,
> 70.7801148664875, 73.4220260571224, 30.2768192108423, 53.2795572765233,
> 39.5983236376344, 119.826015501434, 41.0489109464158, 79.0048065370072,
> 67.9431183426523, 50.6200062464158, 81.1957762876344, 51.8652033564516,
> 45.4861804724328, 64.5839189739347, 69.7335909436077, 83.2834162480453,
> 60.7586179353601, 59.0404232122419, 52.2671818563404, 46.4495093287553,
> 40.0792220246565, 33.0039252222804, 69.8833876014689, 71.1205502192063,
> 25.9164851853527), ...6 = c(62.0139015, 60.9944949, 44.0043849,
> 49.01646735, 62.0139015, 54.9913227, 75.29450415, 45.1370589,
> 38.59586655, 84.63906465, 62.66518905, 137.9030595, 93.7287735,
> 81.58084485, 52.58439045, 56.49211575, 59.0123154, 90.18916725,
> 88.37688885, 86.79114525, 104.00779005, 53.43389595, 61.5041982,
> 60.1449894, 77.10678255, 61.13607915, 75.57767265, 52.01805345,
> 56.067363, 108.170367, 79.37213055, 61.64578245, 57.05845275,
> 63.11825865, 85.99827345, 49.1580516, 67.7339052, 65.89330995,
> 49.4663906333333, 62.902124174537, 125.42931227963, 56.1662971796296,
> 49.3735742916667, 89.0394507013889, 92.5179659694444, 86.3792399597222,
> 70.559909350463, 68.0506344111111, 77.1285445736111, 68.6415301606481,
> 60.7908582935185, 107.425126938426, 90.4807259277778, 81.396785325,
> 72.1131410115741, 68.8834469532407, 91.5248660726852, 48.0119183564815,
> 82.2235674268519, 33.5023294574074, 58.6514503578704, 64.0816433337963,
> 82.6175561916667, 114.884519368981, 59.435669787037, 93.4450806138889,
> 110.401979493519, 78.3836627305556, 84.819803062963, 117.287431325463,
> 86.534895237037, 45.5510617347222, 69.754801874537, 103.916983855093,
> 69.9525828361111, 71.7655604175926, 52.4842327027778, 78.1433190962963,
> 50.0991498740741, 33.9123993962963, 107.815794591204, 71.0580761560185,
> 85.9337739583333, 104.136789033333, 58.433218337963, 56.3486961486111,
> 105.916555494444, 100.764898941204, 89.4245249023148, 101.514945875463,
> 62.5367144527778, 80.3241535347222, 50.7403866902778, 52.1234550583333,
> 106.172281121296, 119.406737793519, 109.830748223148, 98.7653273018519,
> 110.709881538426, 60.5554089296296, 57.7968757921296, 164.881151758333,
> 114.807172417593, 42.3015284018519, 47.3479581421296, 69.258295625,
> 79.6316142773148, 38.6308256240741, 93.6480180388889, 74.1446128060185,
> 68.0709980717593, 92.146788000463, 79.0773117590429, 89.7252644488388,
> 53.5003470216826, 62.6669327681478, 74.0358775483401, 49.6010839106274,
> 62.4195698709396, 39.292332545434, 99.9687981401921, 40.2746960761065,
> 76.0016770163077, 69.3366089449157, 89.2159743205815, 48.0730413172471
> ), ...7 = c(91.0103559, 63.00499125, 62.0139015, 55.9540956,
> 60.00340515, 88.0087698, 75.80420745, 35.2827951, 85.48857015,
> 119.63869125, 74.72816715, 93.445605, 125.160477, 73.87866165,
> 73.3972752, 56.77528425, 42.95666145, 118.8175026, 82.4586672,
> 93.81372405, 99.42046035, 58.332711, 87.1026306, 72.12301695,
> 54.73647105, 49.41290325, 98.68422225, 60.7679601, 61.02281175,
> 178.48110555, 60.22993995, 54.84973845, 64.70400225, 94.43669475,
> 75.06796935, 59.7485535, 60.45647475, 151.8915834, 77.8770211688172,
> 76.8059709947133, 95.5358418702509, 45.1915104771505, 44.3152274541219,
> 79.5500496827957, 73.7685236509857, 61.4291771547491, 97.5867666978495,
> 88.5714360972222, 116.80599130914, 81.5496015871864, 109.510765562724,
> 136.904898995341, 164.49342743405, 86.2917435997312, 98.5759449758961,
> 95.1858395146057, 111.213971651613, 86.007780062724, 136.084454635305,
> 37.0162295108423, 83.3701686708781, 62.8513968664875, 86.4204719321685,
> 72.132523562724, 104.871318649552, 109.474532174014, 95.9775948796595,
> 50.6672348277778, 88.3225895139785, 121.58091591147, 76.8334928077061,
> 55.6079161882617, 95.6947985246416, 127.831395367742, 49.1690975396953,
> 86.238831349552, 63.4233667882616, 111.597500887007, 31.898796199552,
> 48.6903161045699, 106.279244610842, 74.6957567051971, 47.4088856058244,
> 130.007276330914, 88.8368093008065, 50.7865072945341, 101.199211870251,
> 75.9300093696237, 73.9893747821685, 103.683178131541, 140.684961650806,
> 104.768995695161, 57.2737217064516, 58.7820591501792, 92.9597528102151,
> 99.9310094340502, 94.2899004702509, 115.778989568369, 96.1018067252688,
> 39.8479145108423, 87.5417785945341, 108.026972772133, 67.422470597043,
> 70.607930149552, 88.305961399552, 59.7161430551971, 69.4862005951613,
> 54.6980047913978, 126.661692942025, 127.072473339516, 110.780456578853,
> 93.7374850757168, 69.9698735972591, 106.738637147415, 64.5152740485102,
> 87.1268323629885, 43.3975092336417, 52.5152792378864, 63.7137140203338,
> 84.6634689840074, 83.2759556945253, 47.5837274800544, 86.8166065787247,
> 112.648942563551, 143.549465228576, 65.8425685705771), ...8 =
> c(88.99985955,
> 92.9925354, 79.99510125, 69.00816345, 66.00657735, 89.9909493,
> 44.71230615, 62.49528795, 91.8032277, 83.67629175, 85.14876795,
> 115.8159165, 124.59414, 66.79944915, 73.057473, 71.6416305, 59.89013775,
> 79.59866535, 116.8919568, 133.7687994, 100.77966915, 58.02122565,
> 101.85570945, 97.38164715, 77.61648585, 72.9442056, 95.3145171,
> 71.358462, 85.71510495, 104.3759091, 96.5604585, 94.71986325,
> 51.16854795, 87.8388687, 97.6931325, 69.093114, 64.08103155,
> 116.463431853136, 69.5767840669355, 88.8546045972222, 155.196044768369,
> 76.1697722321685, 88.3709345302867, 96.0580289428316, 82.8718327085125,
> 81.7255585009857, 126.300796887814, 113.122145047222, 92.5947124141577,
> 96.673455249104, 66.9335905003584, 106.393679192832, 124.757342490323,
> 91.3846322578853, 112.209577888441, 80.9145700066308, 118.335473354122,
> 136.781803584677, 88.5102859103943, 48.9130787077061, 76.6303862258961,
> 66.0512009164875, 91.1909307947133, 90.038228628405, 120.433525268996,
> 127.600344080914, 93.5963237177419, 58.4067678514337, 91.812734312724,
> 96.4453811221326, 95.4837246570789, 91.6730107876344, 117.778913617742,
> 107.262417822133, 72.8408169577061, 93.2214045639785, 75.6332406620968,
> 138.346774728405, 41.828554683871, 82.8804427901434, 121.71458362276,
> 92.5882337083333, 71.4110021051971, 105.813741985305, 73.4316986108423,
> 52.584441197043, 149.500585721505, 70.0548212120968, 71.3453354315412,
> 118.636386403495, 159.896641868369, 124.508495907079, 99.5186897095878,
> 61.6371723683692, 135.166203807706, 69.8381144227599, 99.953642615233,
> 96.6851439846774, 113.023966434677, 37.3526316589606, 94.9774214089606,
> 129.41979472966, 96.4015525926523, 68.4592496014337, 92.3934158102151,
> 112.763803260842, 87.9348144426523, 115.168451893907, 114.463558550806,
> 105.081225335125, 115.213396858333, 107.920082583871, 113.556526721806,
> 87.182534043245, 100.746877538778, 107.820717028533, 61.2195953835266,
> 54.8629442665856, 71.7839889353526, 69.3780698503958, 64.8880471329152,
> 84.3745727047643, 86.8773256086014, 115.250098093976, 124.182856141139,
> 90.1817841662871), ...9 = c(54.00023295, 68.0170737, 60.9944949,
> 82.99668735, 66.9976671, 79.0040115, 80.2499529, 48.7616157,
> 78.80579355, 110.5489824, 105.0555135, 100.807986, 122.86681215,
> 51.8198355, 80.78797305, 79.3438137, 124.96225905, 82.65688515,
> 113.1541326, 135.6377115, 104.9422461, 84.8372826, 68.49846015,
> 88.77332475, 103.6963047, 81.69411225, 74.55826605, 67.6772715,
> 88.914909, 142.5470229, 96.7303596, 67.64895465, 76.3422276,
> 119.2705722, 79.54203165, 85.0071837, 79.7968833, 85.1213250768518,
> 91.1265074236111, 94.8002691203704, 101.243139074537, 67.7463156712963,
> 65.3070462777778, 92.9989154310185, 104.489963079167, 88.6454619365741,
> 95.6530957324074, 96.2138392805556, 106.431327860185, 82.2418335430556,
> 71.5570295407407, 113.462384235648, 93.298339900463, 92.4140501217593,
> 94.4176420546296, 86.020909450463, 103.683457240278, 85.9453104527778,
> 94.0256634365741, 59.9890719296296, 93.0187547055556, 100.441352710648,
> 82.4177650833333, 94.4054063787037, 95.6760813236111, 118.294777044907,
> 108.812652588426, 95.822822037037, 109.342894344444, 98.7759898194444,
> 98.0270790550926, 94.9162458486111, 119.636593705556, 93.1206604064815,
> 96.5566130018519, 87.0842770861111, 75.9921124731482, 95.2274690055556,
> 63.7360728865741, 75.1976675148148, 87.622734224537, 79.9642498671296,
> 64.7750565680556, 72.1407586800926, 75.4217551796296, 89.185317437963,
> 106.493555012037, 121.68947793287, 111.078000588426, 137.71209555787,
> 119.270484802315, 83.6887022212963, 110.169414253241, 106.021782307407,
> 105.793237360648, 112.292741014815, 92.3540953097222, 88.7946497851852,
> 88.3137003236111, 48.0344669592593, 56.6142103162037, 100.058725644907,
> 92.1715215453704, 81.5248229337963, 84.5357605861111, 99.5218416648148,
> 98.9644192287037, 113.18262424537, 84.0182788921296, 78.1174493814815,
> 58.5339878689815, 86.7326761986111, 63.3940417265209, 90.5242216237781,
> 87.7613482821531, 79.4634654046871, 75.4329525046438, 87.8455136741353,
> 82.7085680835468, 66.420417900437, 87.3192277343693, 64.8283838519554,
> 90.4344488320088, 101.89113025832, 107.25424417281, 55.0424269132735
> ), ...10 = c(75.01133565, 75.01133565, 91.0103559, 78.01292175,
> 91.0103559, 78.01292175, 57.51152235, 75.5493558, 58.899048,
> 129.77612355, 102.25214535, 103.78125525, 124.5375063, 68.15865795,
> 86.083224, 75.12460305, 149.7395028, 108.82165455, 122.92344585,
> 119.63869125, 108.4535355, 71.1319272, 136.8836529, 92.34124785,
> 106.10323695, 270.3126501, 75.12460305, 90.98203905, 76.3988613,
> 91.6899603, 114.76819305, 96.30560685, 95.00303175, 89.33966175,
> 115.5893817, 53.43389595, 130.17255945, 74.0648187194444, 98.415448994534,
> 117.077048181541, 111.656418203943, 69.0909318771505, 91.8837125102151,
> 184.392256445341, 143.99505594095, 111.688557997849, 164.432649392204,
> 92.4773006723118, 96.031623564785, 98.7507854547491, 89.6331318997312,
> 116.630034395341, 79.1743862390681, 82.1261387428315, 145.541538245341,
> 97.1231247972222, 70.2878347179212, 74.8902532053764, 109.844562695968,
> 99.9151256095878, 80.1571873053764, 93.3414720677419, 112.481429797849,
> 107.20843988405, 99.7747085415771, 91.5307329947133, 103.970490973387,
> 120.196790313351, 104.027496818369, 93.228576812724, 119.336712512724,
> 82.0989383277778, 126.093123072133, 106.900354585932, 89.8837884608423,
> 100.182088887186, 104.524344200806, 134.879635255824, 91.8319674420251,
> 133.253513925269, 83.6035035746416, 88.3071285815412, 96.0991509633513,
> 95.2481568834229, 117.772485658961, 106.50540726586, 128.208598138441,
> 95.8156103183692, 153.21083736147, 131.853555249731, 152.367387675269,
> 119.728631925896, 147.733996575896, 85.6276001321685, 83.440402578405,
> 147.025703180914, 101.382341032796, 77.8944443202509, 94.4307404302867,
> 59.4824360064516, 91.2871979353047, 100.210777882168, 116.855774158333,
> 71.9237333120968, 85.1692190083333, 99.4269390558244, 119.594219924642,
> 69.1883154526882, 122.62561145457, 78.3248299920251, 62.5127111014337,
> 109.128674160215, 92.5094141691414, 102.214150982881, 113.304196757922,
> 104.289463219631, 69.3166222008229, 75.6406286742023, 96.6916710132641,
> 61.1471702956426, 87.6592065685503, 60.3468631148267, 81.8521951100248,
> 76.5965939733406, 103.143649918913, NA), ...11 = c(111.99314175,
> 82.99668735, 84.01609395, 135.0147408, 88.99985955, 113.52225165,
> 117.31670955, 64.19429895, 97.21174605, 109.4729421, 181.22784,
> 319.980405, 127.1426565, 100.60976805, 156.90366585, 174.6583308,
> 107.7172974, 126.4064184, 110.35076445, 234.83163705, 71.55667995,
> 71.4150957, 109.10482305, 119.0440374, 168.3719901, 146.76623355,
> 107.68898055, 109.4729421, 92.79431745, 139.34721885, 169.02327765,
> 103.49808675, 99.108975, 269.09502555, 239.7304521, 117.3450264,
> 165.5403051, 452.789752612037, 112.674668899074, 136.845023123148,
> 125.390507707407, 147.205406918056, 101.483482708796, 148.538046821759,
> 93.6385790888889, 104.208804725926, 145.404228024074, 92.5718903412037,
> 77.9773508921296, 100.475874796296, 108.628243472685, 140.548237839815,
> 144.128658808796, 84.9861208578704, 82.5432681592593, 121.266910125,
> 142.538632722222, 193.310132988426, 182.567559116204, 142.72417800787,
> 104.623069753704, 141.985492772685, 103.156623993981, 114.944911169444,
> 104.799438282407, 117.003563643981, 117.717515334259, 147.705758665741,
> 254.736285055556, 120.990908235185, 113.687171081944, 87.6590916615741,
> 129.361771124537, 107.696933739352, 77.3595366555556, 151.29439501713,
> 100.562660697685, 138.193744200926, 95.7973893106481, 102.302224223611,
> 110.082453556481, 108.45808017963, 100.091499776852, 115.70011456713,
> 72.1630450898148, 114.096978827778, 133.093564884259, 83.1709583342593,
> 133.803933269444, 182.775128618519, 122.711069475, 148.112857083333,
> 121.410067533333, 149.270963809722, 104.353972281019, 113.122844228704,
> 147.872513449074, 112.707443031019, 122.870308057407, 58.9955350444444,
> 89.6550799958333, 147.303729313889, 75.6135057009259, 106.781442987037,
> 137.607567926389, 127.527206314815, 234.885299228704, 92.3349552166667,
> 202.163518497685, 202.821273476389, 143.923798634722, 225.143428851852,
> 157.530355633389, 187.676065594925, 221.071077738915, 82.7623531446858,
> 77.798518465568, 129.726331786836, 174.877740649028, 76.0276641003277,
> 152.010982110292, 102.903773583178, 83.4300837163835, 99.7688463421467,
> 96.9843391694606, NA), ...12 = c(49.01646735, 63.996081, 65.0154876,
> 85.99827345, 51.9897366, 155.0064369, 66.5445975, 36.38715225,
> 206.23161855, 82.0055976, 116.75037255, 489.881505, 168.8816934,
> 39.38873835, 86.5929273, 65.9216268, 97.8630336, 95.4277845,
> 76.82361405, 88.99985955, 46.9493373, 61.9006341, 62.863407,
> 102.81848235, 117.4582938, 71.5283631, 99.5054109, 61.47588135,
> 98.2594695, 155.94089295, 109.9826454, 61.36261395, 67.02598395,
> 85.77173865, 132.04147155, 140.9612793, 95.28620025, 226.915825714606,
> 47.7665338492832, 215.910399075269, 212.148030222133, 90.9036179528674,
> 44.6233634992832, 82.859771827957, 84.9997408003584, 183.01078660914,
> 226.450745981093, 151.807529381093, 156.272135815412, 96.0256184980287,
> 57.7046317643369, 114.181235834857, 157.950002214158, 77.9836407061828,
> 135.604607512276, 84.7630565917563, 122.853364183602, 101.765599617294,
> 91.7150293392473, 87.4384406992832, 72.8254067723118, 204.161240689247,
> 214.597674566667, 70.3557850085125, 75.8190763336022, 49.8698972879928,
> 44.2102994848566, 126.040684461021, 166.839209497222, 110.586112319803,
> 68.2977386792115, 147.835203095341, 203.118727268996, 52.2794852999104,
> 56.9600542336022, 69.8238206723118, 61.674251541129, 129.046414902867,
> 32.7366637110215, 79.5157277660394, 52.6014922034946, 98.6752400233871,
> 89.3299859804659, 141.735763754749, 39.2333339886201, 181.927574060394,
> 74.4077503204301, 145.684661822312, 63.3958957223118, 89.1317680304659,
> 84.1083689898745, 86.3574610204301, 103.421949269803, 72.9182738610215,
> 68.2365377453405, 68.8206192947133, 58.5744868285842, 122.020063906004,
> 178.942193182796, 28.2040562390681, 138.280685162724, 296.330997365233,
> 173.333545410842, 149.083377365233, 65.756343680914, 159.737685213978,
> 105.61780765224, 46.7002200658602, 86.7429017277778, 189.154748022133,
> 96.7353497258961, 68.4664725972222, 499.277855419375, 170.849271829193,
> 148.879966449353, 60.8120779047451, 91.4588421221316, 43.0376842705498,
> 108.148547912706, 121.468512697252, 42.6455518427129, 96.4984871785073,
> 109.87928815051, 85.3031155445198, 58.5462485275265, NA)), row.names =
> c(NA,
> -126L), class = "data.frame")
>
> What I want to do is, instead of having 12 observations  by row, I want to
> have one observation by row. I want to have a single column with 1509
> observations instead of 126 rows with 12 columns per row.
>
> I tried the following:
> df = data.frame(matrix(nrow = Length, ncol = 1))
> colnames(df) = c("aportes_alajuela")
>
>
>
> for (row in 1:nrow(alajuela_df)){
>   for (col in 1:ncol(alajuela_df)){
>     df[i,1]=alajuela_df[i,j]
>   }
> }
>
> But I am not getting the data in the structure I want.
>
> Any help will be greatly appreciated.
>
> Best regards,
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From p@u|bern@|07 @end|ng |rom gm@||@com  Sat Oct 28 07:41:19 2023
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Sat, 28 Oct 2023 00:41:19 -0500
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CADNULg-F0Z4Fa9Akmfcj9biEiTu8G9=akHo-FgGigPx1VPp2RQ@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
 <CADNULg-F0Z4Fa9Akmfcj9biEiTu8G9=akHo-FgGigPx1VPp2RQ@mail.gmail.com>
Message-ID: <CAMOcQfPNDUvhFd4QxvM3_=mQwrwJ8ULz4wopJ0b6LrKizNuntA@mail.gmail.com>

Hi Iris,

Thank you so much for your valuable feedback. I wonder why your code gives
you 1512 rows, given that the original structure has 12 columns and 126
rows, so I would expect (125*12)+ 9=1,509 total rows.

Cheers,
Paul
El El vie, 27 de oct. de 2023 a la(s) 10:40 p. m., Iris Simmons <
ikwsimmo at gmail.com> escribi?:

> You are not getting the structure you want because the indexes are
> wrong. They should be something more like this:
>
> i <- 0
> for (row in 1:nrow(alajuela_df)){
>   for (col in 1:ncol(alajuela_df)){
>     i <- i + 1
>     df[i,1]=alajuela_df[row,col]
>   }
> }
>
> but I think what you are doing can be written much shorter and will run
> faster:
>
> ## transpose here matches your original code
> df <- data.frame(aportes_alajuela = c(t(alajuela_df)))
>
> ## but if you do not want to transpose, then do this
> df <- data.frame(aportes_alajuela = unlist(alajuela_df, use.names = FALSE))
>
> However, you said you expected 1509 observations, but this gives you
> 1512 observations. If you want to exclude the 3 NA observations, do
> something like:
>
> df <- df[!is.na(df$aportes_alajuela), , drop = FALSE]
>
> On Fri, Oct 27, 2023 at 11:14?PM Paul Bernal <paulbernal07 at gmail.com>
> wrote:
> >
> > Dear friends,
> >
> > I have the following dataframe:
> > dim(alajuela_df)
> > [1] 126  12
> >
> > dput(alajuela_df)
> > structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
> > 28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
> > 19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
> > 46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556, 40.57804605,
> > 30.38398005, 47.94042705, 36.38715225, 28.06199835, 28.4867511,
> > 122.86681215, 56.4071652, 35.9057658, 52.669341, 24.94714485,
> > 54.4249857, 61.164396, 47.88379335, 30.582198, 26.051502, 43.041612,
> > 64.59073485, 51.6499344, 78.8202902886201, 35.2390173175627,
> > 82.2394568898745, 47.760850180466, 54.3654763342294, 49.4878058854839,
> > 32.8813266149642, 38.9301880693548, 51.9506275455197, 55.4404001992832,
> > 50.7979761262545, 37.1198211413082, 36.9144309425627, 33.7829493281362,
> > 32.8647492475806, 42.8926863444444, 63.9814428257048, 39.219040238172,
> > 88.7557324417563, 42.0964144925627, 129.15973304991, 117.872998635484,
> > 35.4004098300179, 83.4102757505377, 38.6443638074373, 100.491764259319,
> > 40.219162961828, 35.901029409319, 85.2814714674731, 26.5821299974014,
> > 33.0141992892473, 52.4006692386201, 62.7450310643369, 33.3732853655914,
> > 36.4616827405018, 146.501706130466, 59.9869292767025, 132.659282967294,
> > 29.9692075517921, 45.8436438112007, 29.3028312143369, 49.9042699517921,
> > 27.4678688861111, 29.8483957580645, 26.1192323867384, 62.1371491517921,
> > 53.92489050681, 64.5840869873656, 28.4476420455197, 52.9893180218638,
> > 36.4730500781362, 40.8595060662186, 33.4571194806452, 35.6201445262545,
> > 47.5373940344086, 62.5177012273297, 31.9702480361111, 29.6637272685484,
> > 49.9578249978495, 26.1936613831541, 30.8051128442652, 153.165249601165,
> > 36.7652008047491, 14.3854334390681, 55.9930862447133, 87.5882628859319,
> > 88.414763059767, 58.6046644034946, 20.5301898890681, 39.0037205346774,
> > 67.5971386298632, 25.1295804696237, 32.7864973072581, 59.5662701215054,
> > 56.3503435331631, 25.2768483884409, 120.187620533964, 51.3699688189953,
> > 42.6889983487868, 34.5183987020052, 32.9513272936733, 20.6141437461215,
> > 43.4197954932283, 107.258904254306, 23.7548470509806, 48.4457090643702,
> > 72.3249287581108, 32.7272590911596, 48.6115621286089), ...2 =
> c(34.9996266,
> > 22.00219245, 22.9932822, 19.00060635, 35.99071635, 23.9560551,
> > 44.99547465, 22.00219245, 17.35822905, 38.9639856, 16.4804067,
> > 93.87035775, 81.2693595, 65.4119235, 14.6114946, 33.32893245,
> > 23.3330844, 66.68618175, 29.1097218, 18.77407155, 28.1469489,
> > 20.64298365, 15.31941585, 25.79665035, 39.5869563, 35.9057658,
> > 28.11863205, 27.09922545, 18.03783345, 52.3295388, 47.99706075,
> > 21.88892505, 18.8590221, 17.64139755, 29.2796229, 27.750513,
> > 26.9576412, 36.8932410314484, 19.1194611744253, 37.5166237491071,
> > 37.9625421619439, 23.444984650496, 37.4408609345785, 43.1033210084325,
> > 28.1252430606151, 38.4216392645833, 41.0532302780651, 34.4822260610119,
> > 27.8096188059524, 25.9720387760913, 19.5989670673372, 21.1366557174603,
> > 34.0091174203373, 111.149568174301, 24.5438738482759, 62.923693488747,
> > 36.056976280754, 36.934798630754, 47.0895472967433, 23.0987961767857,
> > 45.1991799260913, 23.0274422095238, 26.8716961246169, 21.5009916962302,
> > 25.315076619246, 41.2098751296627, 15.6537752838123, 20.1723471152778,
> > 31.7437694203373, 34.6486999232143, 27.6318028338123, 23.9637897951389,
> > 50.6646878095238, 33.3208231933532, 38.0673028746602, 19.9469359998016,
> > 27.0503264451389, 19.8385753555556, 29.0062549955939, 17.231889453373,
> > 25.3320442555556, 17.651735447619, 37.12988188841, 37.7982565469246,
> > 33.1890524548611, 15.4283008803571, 33.5040593288314, 24.9726150325397,
> > 29.0612348127976, 30.2629592267857, 32.8065534719349, 43.3676303365079,
> > 39.19334780424, 23.9252474159722, 15.8641806903257, 27.51501019685,
> > 21.5861832758362, 18.5136698379577, 54.9166790494253, 29.2865335598214,
> > 12.8130786005824, 46.2078437446569, 37.9351942968391, 31.8758398080357,
> > 25.4830299994048, 17.4062173291544, 19.1528843310516, 37.2160194109127,
> > 25.3577400835684, 21.3381885368056, 37.5842732179795, 62.4856267757438,
> > 19.2393143990079, 49.4806272500855, 29.5274325254668, 18.7819282827049,
> > 19.5089694997422, 25.524181172185, 15.9275217745507, 25.461470312583,
> > 37.4026236465872, 14.6120197959536, 26.5773978462589, 27.6541154512847,
> > 22.5193597452548, 27.9919830179818), ...3 = c(24.04100565, 22.00219245,
> > 15.0079305, 12.99743415, 22.9932822, 13.9885239, 27.0142749,
> > 16.3671393, 12.2895129, 28.68496905, 16.56535725, 32.70596175,
> > 46.01488125, 24.94714485, 10.8170367, 19.68021075, 15.0079305,
> > 26.41962105, 21.9738756, 15.71585175, 21.26595435, 13.28060265,
> > 11.6099085, 15.5742675, 25.96655145, 20.5013994, 15.99902025,
> > 18.03783345, 11.07188835, 32.59269435, 29.7326925, 15.82911915,
> > 13.4788206, 22.11545985, 17.6130807, 22.3136778, 17.01842685,
> > 24.8211230265233, 13.237941302509, 22.3448026530466, 26.8162566663605,
> > 19.755485530466, 28.9524567137097, 35.9159180773958, 29.0510074712366,
> > 29.6768770591437, 19.74645255681, 21.3046743438172, 18.2600040043011,
> > 14.1888055630824, 13.2245440831541, 14.2163781231183, 19.9802103525986,
> > 56.1211624398027, 13.9762431155914, 26.4956908674731, 29.4013819718638,
> > 26.8419717732975, 44.6725035525986, 14.7828541642548, 24.4708500199821,
> > 10.5834818923835, 20.2093501674731, 14.2639281024194, 17.2504254149642,
> > 19.7845974174731, 10.850022277957, 16.4476927547907, 20.9176435624552,
> > 22.8783063162186, 25.7326244974014, 20.1825218974014, 51.1908599407987,
> > 40.9448287612007, 20.2191781781362, 10.3501469886201, 21.1253173781362,
> > 13.4899172867384, 23.1471303187276, 12.8374587906722, 16.9906343861111,
> > 13.1835697522092, 17.8847127055556, 32.4731512323477, 17.6332611074373,
> > 13.4532405190011, 19.4829400781362, 24.2590318624552, 26.5715576967742,
> > 19.0041586430108, 28.5379041193548, 29.7763011256272, 32.1823265123117,
> > 29.7879391141577, 14.0165763547689, 37.6846187388183, 16.3880639974014,
> > 13.8338638285842, 44.6845644331541, 18.6545178642578, 11.2407237620968,
> > 34.0711681997412, 29.0336803177268, 18.1338299396953, 39.7917534240684,
> > 10.6510092909498, 16.2566291560036, 28.5616029884409, 38.8678199534946,
> > 15.4433570447133, 17.2045135497178, 49.4081574106672, 32.6989511276381,
> > 38.5789940244859, 32.1769916573031, 28.9463686859436, 13.4928541224532,
> > 19.5413894417691, 10.7006215291469, 29.8260981653798, 25.4362115265858,
> > 11.5257100913926, 16.8079233526533, 27.4408077645845, 40.6526894052778,
> > 18.8694236080065), ...4 = c(43.01329515, 25.00377855, 15.99902025,
> > 12.99743415, 47.99706075, 15.99902025, 62.0139015, 12.5160477,
> > 20.13328035, 18.4625862, 16.7635752, 31.4317035, 88.914909, 47.82715965,
> > 10.50555135, 14.18674185, 13.28060265, 72.3778686, 21.9738756,
> > 12.82753305, 28.74160275, 46.69448565, 8.6083224, 15.291099,
> > 23.6162529, 15.8008023, 33.27229875, 18.0661503, 7.95703485,
> > 44.76893985, 22.22872725, 21.03941955, 26.92932435, 22.65348,
> > 46.07151495, 15.9140697, 22.4835789, 17.7829818, 18.2384985351852,
> > 20.5132854851852, 61.5926915188615, 15.693652737963, 19.5663315662037,
> > 24.3550255328704, 53.0975022597222, 36.7972078271926, 36.7901429763889,
> > 18.8871641546296, 20.9930987768519, 20.1431562884259, 10.6699463958333,
> > 15.75360755, 37.4331277462963, 54.1371851226852, 19.1322272638889,
> > 25.599830762963, 33.3566375162037, 19.421600999537, 43.1187841560185,
> > 11.9100427961142, 15.1950489439815, 20.8816316998207, 63.5722125117055,
> > 21.3153340421296, 17.4206699247302, 42.4256331148148, 26.851255354471,
> > 13.8370396062451, 65.4289660486111, 70.8573662263666, 29.3347708393519,
> > 30.1223113805556, 104.141421110648, 53.9017718844937, 50.7707224048161,
> > 9.85083922838523, 16.679586024537, 8.50117283796296, 29.7760417518519,
> > 12.3623151717593, 58.2226773143519, 43.8683067041667, 18.6122984347222,
> > 236.356918314815, 26.518730025, 18.768390700463, 13.0113303819444,
> > 27.8125653564815, 63.6389740583333, 80.2297640347222, 23.5851393240741,
> > 29.110683174537, 26.2230636560185, 18.1385155833333, 35.5873651333171,
> > 71.1575933980326, 14.1058989912037, 22.352831962963, 37.7497695597222,
> > 13.9331137675926, 35.9453219891346, 66.8659299971482, 25.6415400254835,
> > 15.1121959384259, 76.2625002964008, 19.6161482467593, 30.3616062425926,
> > 50.555977574537, 48.0870803657407, 60.781296601654, 17.5123175343251,
> > 46.3781020162159, 32.9047155318093, 45.2884006349093, 39.7311056806747,
> > 26.0169754879377, 32.1970505053614, 22.6549346464934, 16.8551283466882,
> > 22.976903453078, 24.6695897641777, 10.0811787631618, 22.3981217825916,
> > 58.8947786812898, 75.1529521249874, 15.0698117186505), ...5 =
> c(53.0091432,
> > 44.99547465, 38.0012127, 44.0043849, 60.00340515, 38.99230245,
> > 51.536667, 54.7081542, 31.0919013, 60.3715242, 73.48222575, 68.526777,
> > 147.813957, 79.0040115, 47.6289417, 58.07785935, 59.8051872,
> > 96.19233945, 59.21053335, 57.9929088, 122.6685942, 66.4879638,
> > 13.90357335, 30.89368335, 61.3342971, 35.6225973, 75.8325243,
> > 28.91150385, 14.80971255, 95.17293285, 41.71072005, 49.5544875,
> > 58.58756265, 54.11350035, 61.47588135, 38.02952955, 68.526777,
> > 62.15548575, 77.6784310738351, 50.5600232415771, 131.876932720878,
> > 20.6789463878136, 30.9527021610215, 51.8652541034946, 50.5158733141577,
> > 65.3799359472222, 100.009112523321, 53.1610290997312, 60.1700076922043,
> > 32.2775382972222, 33.8153090258961, 54.401286830914, 95.0948838978495,
> > 76.6519537191756, 57.9907266771505, 100.305556442832, 67.9363689859319,
> > 36.8437233959677, 104.980864599731, 29.1320843302867, 48.3498203616488,
> > 45.5838020353047, 70.4890298277778, 38.6008566758961, 55.4927880633513,
> > 87.7219305972222, 54.7773224196237, 43.3184540353047, 94.7221976139785,
> > 109.994754833695, 69.5983515602151, 65.4988362689964, 130.990821687186,
> > 67.8702794202509, 64.9310106890681, 40.9020659196237, 28.7862263164875,
> > 73.8719355863588, 44.2015371620968, 26.9290029520609, 87.4829120246416,
> > 49.3287477370072, 52.4560850095878, 105.858686949731, 51.1010205514337,
> > 84.4875812418607, 44.0169194196237, 56.9543198177419, 109.201614576703,
> > 155.199816965233, 59.9808227158602, 47.1291171577061, 93.1677987708781,
> > 80.5607447070789, 116.459338258333, 82.8986102315412, 64.9543881602151,
> > 50.5573167326165, 107.571298157258, 67.0962686045699, 77.3657611358944,
> > 70.7801148664875, 73.4220260571224, 30.2768192108423, 53.2795572765233,
> > 39.5983236376344, 119.826015501434, 41.0489109464158, 79.0048065370072,
> > 67.9431183426523, 50.6200062464158, 81.1957762876344, 51.8652033564516,
> > 45.4861804724328, 64.5839189739347, 69.7335909436077, 83.2834162480453,
> > 60.7586179353601, 59.0404232122419, 52.2671818563404, 46.4495093287553,
> > 40.0792220246565, 33.0039252222804, 69.8833876014689, 71.1205502192063,
> > 25.9164851853527), ...6 = c(62.0139015, 60.9944949, 44.0043849,
> > 49.01646735, 62.0139015, 54.9913227, 75.29450415, 45.1370589,
> > 38.59586655, 84.63906465, 62.66518905, 137.9030595, 93.7287735,
> > 81.58084485, 52.58439045, 56.49211575, 59.0123154, 90.18916725,
> > 88.37688885, 86.79114525, 104.00779005, 53.43389595, 61.5041982,
> > 60.1449894, 77.10678255, 61.13607915, 75.57767265, 52.01805345,
> > 56.067363, 108.170367, 79.37213055, 61.64578245, 57.05845275,
> > 63.11825865, 85.99827345, 49.1580516, 67.7339052, 65.89330995,
> > 49.4663906333333, 62.902124174537, 125.42931227963, 56.1662971796296,
> > 49.3735742916667, 89.0394507013889, 92.5179659694444, 86.3792399597222,
> > 70.559909350463, 68.0506344111111, 77.1285445736111, 68.6415301606481,
> > 60.7908582935185, 107.425126938426, 90.4807259277778, 81.396785325,
> > 72.1131410115741, 68.8834469532407, 91.5248660726852, 48.0119183564815,
> > 82.2235674268519, 33.5023294574074, 58.6514503578704, 64.0816433337963,
> > 82.6175561916667, 114.884519368981, 59.435669787037, 93.4450806138889,
> > 110.401979493519, 78.3836627305556, 84.819803062963, 117.287431325463,
> > 86.534895237037, 45.5510617347222, 69.754801874537, 103.916983855093,
> > 69.9525828361111, 71.7655604175926, 52.4842327027778, 78.1433190962963,
> > 50.0991498740741, 33.9123993962963, 107.815794591204, 71.0580761560185,
> > 85.9337739583333, 104.136789033333, 58.433218337963, 56.3486961486111,
> > 105.916555494444, 100.764898941204, 89.4245249023148, 101.514945875463,
> > 62.5367144527778, 80.3241535347222, 50.7403866902778, 52.1234550583333,
> > 106.172281121296, 119.406737793519, 109.830748223148, 98.7653273018519,
> > 110.709881538426, 60.5554089296296, 57.7968757921296, 164.881151758333,
> > 114.807172417593, 42.3015284018519, 47.3479581421296, 69.258295625,
> > 79.6316142773148, 38.6308256240741, 93.6480180388889, 74.1446128060185,
> > 68.0709980717593, 92.146788000463, 79.0773117590429, 89.7252644488388,
> > 53.5003470216826, 62.6669327681478, 74.0358775483401, 49.6010839106274,
> > 62.4195698709396, 39.292332545434, 99.9687981401921, 40.2746960761065,
> > 76.0016770163077, 69.3366089449157, 89.2159743205815, 48.0730413172471
> > ), ...7 = c(91.0103559, 63.00499125, 62.0139015, 55.9540956,
> > 60.00340515, 88.0087698, 75.80420745, 35.2827951, 85.48857015,
> > 119.63869125, 74.72816715, 93.445605, 125.160477, 73.87866165,
> > 73.3972752, 56.77528425, 42.95666145, 118.8175026, 82.4586672,
> > 93.81372405, 99.42046035, 58.332711, 87.1026306, 72.12301695,
> > 54.73647105, 49.41290325, 98.68422225, 60.7679601, 61.02281175,
> > 178.48110555, 60.22993995, 54.84973845, 64.70400225, 94.43669475,
> > 75.06796935, 59.7485535, 60.45647475, 151.8915834, 77.8770211688172,
> > 76.8059709947133, 95.5358418702509, 45.1915104771505, 44.3152274541219,
> > 79.5500496827957, 73.7685236509857, 61.4291771547491, 97.5867666978495,
> > 88.5714360972222, 116.80599130914, 81.5496015871864, 109.510765562724,
> > 136.904898995341, 164.49342743405, 86.2917435997312, 98.5759449758961,
> > 95.1858395146057, 111.213971651613, 86.007780062724, 136.084454635305,
> > 37.0162295108423, 83.3701686708781, 62.8513968664875, 86.4204719321685,
> > 72.132523562724, 104.871318649552, 109.474532174014, 95.9775948796595,
> > 50.6672348277778, 88.3225895139785, 121.58091591147, 76.8334928077061,
> > 55.6079161882617, 95.6947985246416, 127.831395367742, 49.1690975396953,
> > 86.238831349552, 63.4233667882616, 111.597500887007, 31.898796199552,
> > 48.6903161045699, 106.279244610842, 74.6957567051971, 47.4088856058244,
> > 130.007276330914, 88.8368093008065, 50.7865072945341, 101.199211870251,
> > 75.9300093696237, 73.9893747821685, 103.683178131541, 140.684961650806,
> > 104.768995695161, 57.2737217064516, 58.7820591501792, 92.9597528102151,
> > 99.9310094340502, 94.2899004702509, 115.778989568369, 96.1018067252688,
> > 39.8479145108423, 87.5417785945341, 108.026972772133, 67.422470597043,
> > 70.607930149552, 88.305961399552, 59.7161430551971, 69.4862005951613,
> > 54.6980047913978, 126.661692942025, 127.072473339516, 110.780456578853,
> > 93.7374850757168, 69.9698735972591, 106.738637147415, 64.5152740485102,
> > 87.1268323629885, 43.3975092336417, 52.5152792378864, 63.7137140203338,
> > 84.6634689840074, 83.2759556945253, 47.5837274800544, 86.8166065787247,
> > 112.648942563551, 143.549465228576, 65.8425685705771), ...8 =
> > c(88.99985955,
> > 92.9925354, 79.99510125, 69.00816345, 66.00657735, 89.9909493,
> > 44.71230615, 62.49528795, 91.8032277, 83.67629175, 85.14876795,
> > 115.8159165, 124.59414, 66.79944915, 73.057473, 71.6416305, 59.89013775,
> > 79.59866535, 116.8919568, 133.7687994, 100.77966915, 58.02122565,
> > 101.85570945, 97.38164715, 77.61648585, 72.9442056, 95.3145171,
> > 71.358462, 85.71510495, 104.3759091, 96.5604585, 94.71986325,
> > 51.16854795, 87.8388687, 97.6931325, 69.093114, 64.08103155,
> > 116.463431853136, 69.5767840669355, 88.8546045972222, 155.196044768369,
> > 76.1697722321685, 88.3709345302867, 96.0580289428316, 82.8718327085125,
> > 81.7255585009857, 126.300796887814, 113.122145047222, 92.5947124141577,
> > 96.673455249104, 66.9335905003584, 106.393679192832, 124.757342490323,
> > 91.3846322578853, 112.209577888441, 80.9145700066308, 118.335473354122,
> > 136.781803584677, 88.5102859103943, 48.9130787077061, 76.6303862258961,
> > 66.0512009164875, 91.1909307947133, 90.038228628405, 120.433525268996,
> > 127.600344080914, 93.5963237177419, 58.4067678514337, 91.812734312724,
> > 96.4453811221326, 95.4837246570789, 91.6730107876344, 117.778913617742,
> > 107.262417822133, 72.8408169577061, 93.2214045639785, 75.6332406620968,
> > 138.346774728405, 41.828554683871, 82.8804427901434, 121.71458362276,
> > 92.5882337083333, 71.4110021051971, 105.813741985305, 73.4316986108423,
> > 52.584441197043, 149.500585721505, 70.0548212120968, 71.3453354315412,
> > 118.636386403495, 159.896641868369, 124.508495907079, 99.5186897095878,
> > 61.6371723683692, 135.166203807706, 69.8381144227599, 99.953642615233,
> > 96.6851439846774, 113.023966434677, 37.3526316589606, 94.9774214089606,
> > 129.41979472966, 96.4015525926523, 68.4592496014337, 92.3934158102151,
> > 112.763803260842, 87.9348144426523, 115.168451893907, 114.463558550806,
> > 105.081225335125, 115.213396858333, 107.920082583871, 113.556526721806,
> > 87.182534043245, 100.746877538778, 107.820717028533, 61.2195953835266,
> > 54.8629442665856, 71.7839889353526, 69.3780698503958, 64.8880471329152,
> > 84.3745727047643, 86.8773256086014, 115.250098093976, 124.182856141139,
> > 90.1817841662871), ...9 = c(54.00023295, 68.0170737, 60.9944949,
> > 82.99668735, 66.9976671, 79.0040115, 80.2499529, 48.7616157,
> > 78.80579355, 110.5489824, 105.0555135, 100.807986, 122.86681215,
> > 51.8198355, 80.78797305, 79.3438137, 124.96225905, 82.65688515,
> > 113.1541326, 135.6377115, 104.9422461, 84.8372826, 68.49846015,
> > 88.77332475, 103.6963047, 81.69411225, 74.55826605, 67.6772715,
> > 88.914909, 142.5470229, 96.7303596, 67.64895465, 76.3422276,
> > 119.2705722, 79.54203165, 85.0071837, 79.7968833, 85.1213250768518,
> > 91.1265074236111, 94.8002691203704, 101.243139074537, 67.7463156712963,
> > 65.3070462777778, 92.9989154310185, 104.489963079167, 88.6454619365741,
> > 95.6530957324074, 96.2138392805556, 106.431327860185, 82.2418335430556,
> > 71.5570295407407, 113.462384235648, 93.298339900463, 92.4140501217593,
> > 94.4176420546296, 86.020909450463, 103.683457240278, 85.9453104527778,
> > 94.0256634365741, 59.9890719296296, 93.0187547055556, 100.441352710648,
> > 82.4177650833333, 94.4054063787037, 95.6760813236111, 118.294777044907,
> > 108.812652588426, 95.822822037037, 109.342894344444, 98.7759898194444,
> > 98.0270790550926, 94.9162458486111, 119.636593705556, 93.1206604064815,
> > 96.5566130018519, 87.0842770861111, 75.9921124731482, 95.2274690055556,
> > 63.7360728865741, 75.1976675148148, 87.622734224537, 79.9642498671296,
> > 64.7750565680556, 72.1407586800926, 75.4217551796296, 89.185317437963,
> > 106.493555012037, 121.68947793287, 111.078000588426, 137.71209555787,
> > 119.270484802315, 83.6887022212963, 110.169414253241, 106.021782307407,
> > 105.793237360648, 112.292741014815, 92.3540953097222, 88.7946497851852,
> > 88.3137003236111, 48.0344669592593, 56.6142103162037, 100.058725644907,
> > 92.1715215453704, 81.5248229337963, 84.5357605861111, 99.5218416648148,
> > 98.9644192287037, 113.18262424537, 84.0182788921296, 78.1174493814815,
> > 58.5339878689815, 86.7326761986111, 63.3940417265209, 90.5242216237781,
> > 87.7613482821531, 79.4634654046871, 75.4329525046438, 87.8455136741353,
> > 82.7085680835468, 66.420417900437, 87.3192277343693, 64.8283838519554,
> > 90.4344488320088, 101.89113025832, 107.25424417281, 55.0424269132735
> > ), ...10 = c(75.01133565, 75.01133565, 91.0103559, 78.01292175,
> > 91.0103559, 78.01292175, 57.51152235, 75.5493558, 58.899048,
> > 129.77612355, 102.25214535, 103.78125525, 124.5375063, 68.15865795,
> > 86.083224, 75.12460305, 149.7395028, 108.82165455, 122.92344585,
> > 119.63869125, 108.4535355, 71.1319272, 136.8836529, 92.34124785,
> > 106.10323695, 270.3126501, 75.12460305, 90.98203905, 76.3988613,
> > 91.6899603, 114.76819305, 96.30560685, 95.00303175, 89.33966175,
> > 115.5893817, 53.43389595, 130.17255945, 74.0648187194444,
> 98.415448994534,
> > 117.077048181541, 111.656418203943, 69.0909318771505, 91.8837125102151,
> > 184.392256445341, 143.99505594095, 111.688557997849, 164.432649392204,
> > 92.4773006723118, 96.031623564785, 98.7507854547491, 89.6331318997312,
> > 116.630034395341, 79.1743862390681, 82.1261387428315, 145.541538245341,
> > 97.1231247972222, 70.2878347179212, 74.8902532053764, 109.844562695968,
> > 99.9151256095878, 80.1571873053764, 93.3414720677419, 112.481429797849,
> > 107.20843988405, 99.7747085415771, 91.5307329947133, 103.970490973387,
> > 120.196790313351, 104.027496818369, 93.228576812724, 119.336712512724,
> > 82.0989383277778, 126.093123072133, 106.900354585932, 89.8837884608423,
> > 100.182088887186, 104.524344200806, 134.879635255824, 91.8319674420251,
> > 133.253513925269, 83.6035035746416, 88.3071285815412, 96.0991509633513,
> > 95.2481568834229, 117.772485658961, 106.50540726586, 128.208598138441,
> > 95.8156103183692, 153.21083736147, 131.853555249731, 152.367387675269,
> > 119.728631925896, 147.733996575896, 85.6276001321685, 83.440402578405,
> > 147.025703180914, 101.382341032796, 77.8944443202509, 94.4307404302867,
> > 59.4824360064516, 91.2871979353047, 100.210777882168, 116.855774158333,
> > 71.9237333120968, 85.1692190083333, 99.4269390558244, 119.594219924642,
> > 69.1883154526882, 122.62561145457, 78.3248299920251, 62.5127111014337,
> > 109.128674160215, 92.5094141691414, 102.214150982881, 113.304196757922,
> > 104.289463219631, 69.3166222008229, 75.6406286742023, 96.6916710132641,
> > 61.1471702956426, 87.6592065685503, 60.3468631148267, 81.8521951100248,
> > 76.5965939733406, 103.143649918913, NA), ...11 = c(111.99314175,
> > 82.99668735, 84.01609395, 135.0147408, 88.99985955, 113.52225165,
> > 117.31670955, 64.19429895, 97.21174605, 109.4729421, 181.22784,
> > 319.980405, 127.1426565, 100.60976805, 156.90366585, 174.6583308,
> > 107.7172974, 126.4064184, 110.35076445, 234.83163705, 71.55667995,
> > 71.4150957, 109.10482305, 119.0440374, 168.3719901, 146.76623355,
> > 107.68898055, 109.4729421, 92.79431745, 139.34721885, 169.02327765,
> > 103.49808675, 99.108975, 269.09502555, 239.7304521, 117.3450264,
> > 165.5403051, 452.789752612037, 112.674668899074, 136.845023123148,
> > 125.390507707407, 147.205406918056, 101.483482708796, 148.538046821759,
> > 93.6385790888889, 104.208804725926, 145.404228024074, 92.5718903412037,
> > 77.9773508921296, 100.475874796296, 108.628243472685, 140.548237839815,
> > 144.128658808796, 84.9861208578704, 82.5432681592593, 121.266910125,
> > 142.538632722222, 193.310132988426, 182.567559116204, 142.72417800787,
> > 104.623069753704, 141.985492772685, 103.156623993981, 114.944911169444,
> > 104.799438282407, 117.003563643981, 117.717515334259, 147.705758665741,
> > 254.736285055556, 120.990908235185, 113.687171081944, 87.6590916615741,
> > 129.361771124537, 107.696933739352, 77.3595366555556, 151.29439501713,
> > 100.562660697685, 138.193744200926, 95.7973893106481, 102.302224223611,
> > 110.082453556481, 108.45808017963, 100.091499776852, 115.70011456713,
> > 72.1630450898148, 114.096978827778, 133.093564884259, 83.1709583342593,
> > 133.803933269444, 182.775128618519, 122.711069475, 148.112857083333,
> > 121.410067533333, 149.270963809722, 104.353972281019, 113.122844228704,
> > 147.872513449074, 112.707443031019, 122.870308057407, 58.9955350444444,
> > 89.6550799958333, 147.303729313889, 75.6135057009259, 106.781442987037,
> > 137.607567926389, 127.527206314815, 234.885299228704, 92.3349552166667,
> > 202.163518497685, 202.821273476389, 143.923798634722, 225.143428851852,
> > 157.530355633389, 187.676065594925, 221.071077738915, 82.7623531446858,
> > 77.798518465568, 129.726331786836, 174.877740649028, 76.0276641003277,
> > 152.010982110292, 102.903773583178, 83.4300837163835, 99.7688463421467,
> > 96.9843391694606, NA), ...12 = c(49.01646735, 63.996081, 65.0154876,
> > 85.99827345, 51.9897366, 155.0064369, 66.5445975, 36.38715225,
> > 206.23161855, 82.0055976, 116.75037255, 489.881505, 168.8816934,
> > 39.38873835, 86.5929273, 65.9216268, 97.8630336, 95.4277845,
> > 76.82361405, 88.99985955, 46.9493373, 61.9006341, 62.863407,
> > 102.81848235, 117.4582938, 71.5283631, 99.5054109, 61.47588135,
> > 98.2594695, 155.94089295, 109.9826454, 61.36261395, 67.02598395,
> > 85.77173865, 132.04147155, 140.9612793, 95.28620025, 226.915825714606,
> > 47.7665338492832, 215.910399075269, 212.148030222133, 90.9036179528674,
> > 44.6233634992832, 82.859771827957, 84.9997408003584, 183.01078660914,
> > 226.450745981093, 151.807529381093, 156.272135815412, 96.0256184980287,
> > 57.7046317643369, 114.181235834857, 157.950002214158, 77.9836407061828,
> > 135.604607512276, 84.7630565917563, 122.853364183602, 101.765599617294,
> > 91.7150293392473, 87.4384406992832, 72.8254067723118, 204.161240689247,
> > 214.597674566667, 70.3557850085125, 75.8190763336022, 49.8698972879928,
> > 44.2102994848566, 126.040684461021, 166.839209497222, 110.586112319803,
> > 68.2977386792115, 147.835203095341, 203.118727268996, 52.2794852999104,
> > 56.9600542336022, 69.8238206723118, 61.674251541129, 129.046414902867,
> > 32.7366637110215, 79.5157277660394, 52.6014922034946, 98.6752400233871,
> > 89.3299859804659, 141.735763754749, 39.2333339886201, 181.927574060394,
> > 74.4077503204301, 145.684661822312, 63.3958957223118, 89.1317680304659,
> > 84.1083689898745, 86.3574610204301, 103.421949269803, 72.9182738610215,
> > 68.2365377453405, 68.8206192947133, 58.5744868285842, 122.020063906004,
> > 178.942193182796, 28.2040562390681, 138.280685162724, 296.330997365233,
> > 173.333545410842, 149.083377365233, 65.756343680914, 159.737685213978,
> > 105.61780765224, 46.7002200658602, 86.7429017277778, 189.154748022133,
> > 96.7353497258961, 68.4664725972222, 499.277855419375, 170.849271829193,
> > 148.879966449353, 60.8120779047451, 91.4588421221316, 43.0376842705498,
> > 108.148547912706, 121.468512697252, 42.6455518427129, 96.4984871785073,
> > 109.87928815051, 85.3031155445198, 58.5462485275265, NA)), row.names =
> > c(NA,
> > -126L), class = "data.frame")
> >
> > What I want to do is, instead of having 12 observations  by row, I want
> to
> > have one observation by row. I want to have a single column with 1509
> > observations instead of 126 rows with 12 columns per row.
> >
> > I tried the following:
> > df = data.frame(matrix(nrow = Length, ncol = 1))
> > colnames(df) = c("aportes_alajuela")
> >
> >
> >
> > for (row in 1:nrow(alajuela_df)){
> >   for (col in 1:ncol(alajuela_df)){
> >     df[i,1]=alajuela_df[i,j]
> >   }
> > }
> >
> > But I am not getting the data in the structure I want.
> >
> > Any help will be greatly appreciated.
> >
> > Best regards,
> > Paul
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From yjt7660 @end|ng |rom gm@||@com  Sat Oct 28 09:30:22 2023
From: yjt7660 @end|ng |rom gm@||@com (=?UTF-8?B?7Jyg7KSA7YOd?=)
Date: Sat, 28 Oct 2023 16:30:22 +0900
Subject: [R] weights vs. offset (negative binomial regression)
Message-ID: <CAPFqpxHHhbkVhiJTV8GKMmsRNgbjogHrXrb8d3sZmJm22B53Cw@mail.gmail.com>

Colleagues,



I have a dataset that includes five variables.

- Catch: the catch number counted in some species (ind.)

- Effort: fishing effort (the number of fishing vessels)

- xx1, xx2, xx3: some environmental factors

As an overdispersion test on the ?Catch? variable, I modeled with negative
binomial distribution using a GLM. The ?Effort? variable showed a gradually
decreasing trend during the study period. I was able to get the results I
wanted when considered ?Effort? function as a weights function in the
negative binomial regression as follows:



library(qcc)

Catch=c(25,2,7,6,75,5,1,4,66,15,9,25,40,8,7,4,36,11,1,14,141,9,74,38,126,3)

Effort=c(258,258,258,258,258,258,258,254,252,252,252,252,252,252,252,252,252,252,252,248,246,246,246,246,246,246)

xx1=c(0.8,0.5,1.2,0.5,1.1,1.1,1.0,0.6,0.9,0.5,1.2,0.6,1.2,0.7,1.0,0.6,1.6,0.7,0.8,0.6,1.7,0.9,1.1,0.5,1.4,0.5)

xx2=c(1.7,1.6,2.7,2.6,1.5,1.5,2.8,2.5,1.7,1.9,2.2,2.4,1.6,1.4,3.0,2.4,1.4,1.5,2.2,2.3,1.7,1.7,1.9,1.9,1.4,1.4)

xx3=c(188,40,2,10,210,102,117,14,141,28,48,15,220,115,10,14,320,20,3,10,400,150,145,160,460,66)

#

edata <- data.frame(Catch, Effort, xx1, xx2, xx3)

#

qcc.overdispersion.test(edata$Catch, type="poisson")

#

summary(glm.nb(Catch~xx1+xx2+xx3, weights=Effort, data=edata))

summary(glm.nb(Catch~xx1+xx2+xx3+offset(log(Effort)), data=edata))



I am not sure the application of the weights function to the negative
binomial regression is correct. Also I wonder if there is a better way
doing this. Can anyone help?

	[[alternative HTML version deleted]]


From chr|@ho|d @end|ng |rom p@yctc@org  Sat Oct 28 09:32:26 2023
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Sat, 28 Oct 2023 09:32:26 +0200
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CAMOcQfPNDUvhFd4QxvM3_=mQwrwJ8ULz4wopJ0b6LrKizNuntA@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
 <CADNULg-F0Z4Fa9Akmfcj9biEiTu8G9=akHo-FgGigPx1VPp2RQ@mail.gmail.com>
 <CAMOcQfPNDUvhFd4QxvM3_=mQwrwJ8ULz4wopJ0b6LrKizNuntA@mail.gmail.com>
Message-ID: <1cea2cd0-e472-4ce9-aa1a-36ff9b379a16@psyctc.org>

The tidyverse idiom looks very different but does what you want and I have come to like it.
What idiom of R one likes, for the mostly small datasets I handle, is largely a matter
of preferenceds for "readability", itself very personal.  Here's my tidyverse way of doing
what you wanted:

### start of code
library(tidyverse)
# tmpDF <- structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
### I omitted the rest of reconstructing the dataframe for brevity, easy to reconstruct

tmpDF %>%
   pivot_longer(cols = everything()) -> tmpTibLong

tmpTibLong
### showed:
# # A tibble: 1,512 ? 2
# name  value
# <chr> <dbl>
#   1 ...1   93.0
# 2 ...2   35.0
# 3 ...3   24.0
# 4 ...4   43.0
# 5 ...5   53.0
# 6 ...6   62.0
# 7 ...7   91.0
# 8 ...8   89.0
# 9 ...9   54.0
# 10 ...10  75.0
# # ? 1,502 more rows
# # ? Use `print(n = ...)` to see more rows

### as you don't want the missing values
tmpTibLong %>%
   drop_na()
### gave:
# # A tibble: 1,509 ? 2
# name  value
# <chr> <dbl>
#   1 ...1   93.0
# 2 ...2   35.0
# 3 ...3   24.0
# 4 ...4   43.0
# 5 ...5   53.0
# 6 ...6   62.0
# 7 ...7   91.0
# 8 ...8   89.0
# 9 ...9   54.0
# 10 ...10  75.0
# # ? 1,499 more rows
# # ? Use `print(n = ...)` to see more rows
### end

Very best all,

Chris

On 28/10/2023 07:41, Paul Bernal wrote:

> Hi Iris,
>
> Thank you so much for your valuable feedback. I wonder why your code gives
> you 1512 rows, given that the original structure has 12 columns and 126
> rows, so I would expect (125*12)+ 9=1,509 total rows.
>
> Cheers,
> Paul
> El El vie, 27 de oct. de 2023 a la(s) 10:40 p. m., Iris Simmons <
> ikwsimmo at gmail.com> escribi?:
>
>> You are not getting the structure you want because the indexes are
>> wrong. They should be something more like this:
>>
>> i <- 0
>> for (row in 1:nrow(alajuela_df)){
>>    for (col in 1:ncol(alajuela_df)){
>>      i <- i + 1
>>      df[i,1]=alajuela_df[row,col]
>>    }
>> }
>>
>> but I think what you are doing can be written much shorter and will run
>> faster:
>>
>> ## transpose here matches your original code
>> df <- data.frame(aportes_alajuela = c(t(alajuela_df)))
>>
>> ## but if you do not want to transpose, then do this
>> df <- data.frame(aportes_alajuela = unlist(alajuela_df, use.names = FALSE))
>>
>> However, you said you expected 1509 observations, but this gives you
>> 1512 observations. If you want to exclude the 3 NA observations, do
>> something like:
>>
>> df <- df[!is.na(df$aportes_alajuela), , drop = FALSE]
>>
>> On Fri, Oct 27, 2023 at 11:14?PM Paul Bernal <paulbernal07 at gmail.com>
>> wrote:
>>> Dear friends,
>>>
>>> I have the following dataframe:
>>> dim(alajuela_df)
>>> [1] 126  12
>>>
[dput snipped]

>>>
>>> What I want to do is, instead of having 12 observations  by row, I want
>> to
>>> have one observation by row. I want to have a single column with 1509
>>> observations instead of 126 rows with 12 columns per row.
>>>
>>> I tried the following:
>>> df = data.frame(matrix(nrow = Length, ncol = 1))
>>> colnames(df) = c("aportes_alajuela")
>>>
>>>
>>>
>>> for (row in 1:nrow(alajuela_df)){
>>>    for (col in 1:ncol(alajuela_df)){
>>>      df[i,1]=alajuela_df[i,j]
>>>    }
>>> }
>>>
>>> But I am not getting the data in the structure I want.
>>>
>>> Any help will be greatly appreciated.
>>>
>>> Best regards,
>>> Paul
>>>
>>>          [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
-- 
Chris Evans (he/him)
Visiting Professor, UDLA, Quito, Ecuador & Honorary Professor, 
University of Roehampton, London, UK.
Work web site: https://www.psyctc.org/psyctc/
CORE site: http://www.coresystemtrust.org.uk/
Personal site: https://www.psyctc.org/pelerinage2016/
Emeetings (Thursdays): 
https://www.psyctc.org/psyctc/booking-meetings-with-me/
(Beware: French time, generally an hour ahead of UK)
<https://ombook.psyctc.org/book>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Oct 28 14:39:28 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 28 Oct 2023 13:39:28 +0100
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
Message-ID: <033aa6cf-ebff-432f-b19a-2a65ce3b433a@sapo.pt>

?s 04:13 de 28/10/2023, Paul Bernal escreveu:
> Dear friends,
> 
> I have the following dataframe:
> dim(alajuela_df)
> [1] 126  12
> 
> dput(alajuela_df)
> structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
> 28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
> 19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
> 46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556, 40.57804605,
> 30.38398005, 47.94042705, 36.38715225, 28.06199835, 28.4867511,
> 122.86681215, 56.4071652, 35.9057658, 52.669341, 24.94714485,
> 54.4249857, 61.164396, 47.88379335, 30.582198, 26.051502, 43.041612,
> 64.59073485, 51.6499344, 78.8202902886201, 35.2390173175627,
> 82.2394568898745, 47.760850180466, 54.3654763342294, 49.4878058854839,
> 32.8813266149642, 38.9301880693548, 51.9506275455197, 55.4404001992832,
> 50.7979761262545, 37.1198211413082, 36.9144309425627, 33.7829493281362,
> 32.8647492475806, 42.8926863444444, 63.9814428257048, 39.219040238172,
> 88.7557324417563, 42.0964144925627, 129.15973304991, 117.872998635484,
> 35.4004098300179, 83.4102757505377, 38.6443638074373, 100.491764259319,
> 40.219162961828, 35.901029409319, 85.2814714674731, 26.5821299974014,
> 33.0141992892473, 52.4006692386201, 62.7450310643369, 33.3732853655914,
> 36.4616827405018, 146.501706130466, 59.9869292767025, 132.659282967294,
> 29.9692075517921, 45.8436438112007, 29.3028312143369, 49.9042699517921,
> 27.4678688861111, 29.8483957580645, 26.1192323867384, 62.1371491517921,
> 53.92489050681, 64.5840869873656, 28.4476420455197, 52.9893180218638,
> 36.4730500781362, 40.8595060662186, 33.4571194806452, 35.6201445262545,
> 47.5373940344086, 62.5177012273297, 31.9702480361111, 29.6637272685484,
> 49.9578249978495, 26.1936613831541, 30.8051128442652, 153.165249601165,
> 36.7652008047491, 14.3854334390681, 55.9930862447133, 87.5882628859319,
> 88.414763059767, 58.6046644034946, 20.5301898890681, 39.0037205346774,
> 67.5971386298632, 25.1295804696237, 32.7864973072581, 59.5662701215054,
> 56.3503435331631, 25.2768483884409, 120.187620533964, 51.3699688189953,
> 42.6889983487868, 34.5183987020052, 32.9513272936733, 20.6141437461215,
> 43.4197954932283, 107.258904254306, 23.7548470509806, 48.4457090643702,
> 72.3249287581108, 32.7272590911596, 48.6115621286089), ...2 = c(34.9996266,
> 22.00219245, 22.9932822, 19.00060635, 35.99071635, 23.9560551,
> 44.99547465, 22.00219245, 17.35822905, 38.9639856, 16.4804067,
> 93.87035775, 81.2693595, 65.4119235, 14.6114946, 33.32893245,
> 23.3330844, 66.68618175, 29.1097218, 18.77407155, 28.1469489,
> 20.64298365, 15.31941585, 25.79665035, 39.5869563, 35.9057658,
> 28.11863205, 27.09922545, 18.03783345, 52.3295388, 47.99706075,
> 21.88892505, 18.8590221, 17.64139755, 29.2796229, 27.750513,
> 26.9576412, 36.8932410314484, 19.1194611744253, 37.5166237491071,
> 37.9625421619439, 23.444984650496, 37.4408609345785, 43.1033210084325,
> 28.1252430606151, 38.4216392645833, 41.0532302780651, 34.4822260610119,
> 27.8096188059524, 25.9720387760913, 19.5989670673372, 21.1366557174603,
> 34.0091174203373, 111.149568174301, 24.5438738482759, 62.923693488747,
> 36.056976280754, 36.934798630754, 47.0895472967433, 23.0987961767857,
> 45.1991799260913, 23.0274422095238, 26.8716961246169, 21.5009916962302,
> 25.315076619246, 41.2098751296627, 15.6537752838123, 20.1723471152778,
> 31.7437694203373, 34.6486999232143, 27.6318028338123, 23.9637897951389,
> 50.6646878095238, 33.3208231933532, 38.0673028746602, 19.9469359998016,
> 27.0503264451389, 19.8385753555556, 29.0062549955939, 17.231889453373,
> 25.3320442555556, 17.651735447619, 37.12988188841, 37.7982565469246,
> 33.1890524548611, 15.4283008803571, 33.5040593288314, 24.9726150325397,
> 29.0612348127976, 30.2629592267857, 32.8065534719349, 43.3676303365079,
> 39.19334780424, 23.9252474159722, 15.8641806903257, 27.51501019685,
> 21.5861832758362, 18.5136698379577, 54.9166790494253, 29.2865335598214,
> 12.8130786005824, 46.2078437446569, 37.9351942968391, 31.8758398080357,
> 25.4830299994048, 17.4062173291544, 19.1528843310516, 37.2160194109127,
> 25.3577400835684, 21.3381885368056, 37.5842732179795, 62.4856267757438,
> 19.2393143990079, 49.4806272500855, 29.5274325254668, 18.7819282827049,
> 19.5089694997422, 25.524181172185, 15.9275217745507, 25.461470312583,
> 37.4026236465872, 14.6120197959536, 26.5773978462589, 27.6541154512847,
> 22.5193597452548, 27.9919830179818), ...3 = c(24.04100565, 22.00219245,
> 15.0079305, 12.99743415, 22.9932822, 13.9885239, 27.0142749,
> 16.3671393, 12.2895129, 28.68496905, 16.56535725, 32.70596175,
> 46.01488125, 24.94714485, 10.8170367, 19.68021075, 15.0079305,
> 26.41962105, 21.9738756, 15.71585175, 21.26595435, 13.28060265,
> 11.6099085, 15.5742675, 25.96655145, 20.5013994, 15.99902025,
> 18.03783345, 11.07188835, 32.59269435, 29.7326925, 15.82911915,
> 13.4788206, 22.11545985, 17.6130807, 22.3136778, 17.01842685,
> 24.8211230265233, 13.237941302509, 22.3448026530466, 26.8162566663605,
> 19.755485530466, 28.9524567137097, 35.9159180773958, 29.0510074712366,
> 29.6768770591437, 19.74645255681, 21.3046743438172, 18.2600040043011,
> 14.1888055630824, 13.2245440831541, 14.2163781231183, 19.9802103525986,
> 56.1211624398027, 13.9762431155914, 26.4956908674731, 29.4013819718638,
> 26.8419717732975, 44.6725035525986, 14.7828541642548, 24.4708500199821,
> 10.5834818923835, 20.2093501674731, 14.2639281024194, 17.2504254149642,
> 19.7845974174731, 10.850022277957, 16.4476927547907, 20.9176435624552,
> 22.8783063162186, 25.7326244974014, 20.1825218974014, 51.1908599407987,
> 40.9448287612007, 20.2191781781362, 10.3501469886201, 21.1253173781362,
> 13.4899172867384, 23.1471303187276, 12.8374587906722, 16.9906343861111,
> 13.1835697522092, 17.8847127055556, 32.4731512323477, 17.6332611074373,
> 13.4532405190011, 19.4829400781362, 24.2590318624552, 26.5715576967742,
> 19.0041586430108, 28.5379041193548, 29.7763011256272, 32.1823265123117,
> 29.7879391141577, 14.0165763547689, 37.6846187388183, 16.3880639974014,
> 13.8338638285842, 44.6845644331541, 18.6545178642578, 11.2407237620968,
> 34.0711681997412, 29.0336803177268, 18.1338299396953, 39.7917534240684,
> 10.6510092909498, 16.2566291560036, 28.5616029884409, 38.8678199534946,
> 15.4433570447133, 17.2045135497178, 49.4081574106672, 32.6989511276381,
> 38.5789940244859, 32.1769916573031, 28.9463686859436, 13.4928541224532,
> 19.5413894417691, 10.7006215291469, 29.8260981653798, 25.4362115265858,
> 11.5257100913926, 16.8079233526533, 27.4408077645845, 40.6526894052778,
> 18.8694236080065), ...4 = c(43.01329515, 25.00377855, 15.99902025,
> 12.99743415, 47.99706075, 15.99902025, 62.0139015, 12.5160477,
> 20.13328035, 18.4625862, 16.7635752, 31.4317035, 88.914909, 47.82715965,
> 10.50555135, 14.18674185, 13.28060265, 72.3778686, 21.9738756,
> 12.82753305, 28.74160275, 46.69448565, 8.6083224, 15.291099,
> 23.6162529, 15.8008023, 33.27229875, 18.0661503, 7.95703485,
> 44.76893985, 22.22872725, 21.03941955, 26.92932435, 22.65348,
> 46.07151495, 15.9140697, 22.4835789, 17.7829818, 18.2384985351852,
> 20.5132854851852, 61.5926915188615, 15.693652737963, 19.5663315662037,
> 24.3550255328704, 53.0975022597222, 36.7972078271926, 36.7901429763889,
> 18.8871641546296, 20.9930987768519, 20.1431562884259, 10.6699463958333,
> 15.75360755, 37.4331277462963, 54.1371851226852, 19.1322272638889,
> 25.599830762963, 33.3566375162037, 19.421600999537, 43.1187841560185,
> 11.9100427961142, 15.1950489439815, 20.8816316998207, 63.5722125117055,
> 21.3153340421296, 17.4206699247302, 42.4256331148148, 26.851255354471,
> 13.8370396062451, 65.4289660486111, 70.8573662263666, 29.3347708393519,
> 30.1223113805556, 104.141421110648, 53.9017718844937, 50.7707224048161,
> 9.85083922838523, 16.679586024537, 8.50117283796296, 29.7760417518519,
> 12.3623151717593, 58.2226773143519, 43.8683067041667, 18.6122984347222,
> 236.356918314815, 26.518730025, 18.768390700463, 13.0113303819444,
> 27.8125653564815, 63.6389740583333, 80.2297640347222, 23.5851393240741,
> 29.110683174537, 26.2230636560185, 18.1385155833333, 35.5873651333171,
> 71.1575933980326, 14.1058989912037, 22.352831962963, 37.7497695597222,
> 13.9331137675926, 35.9453219891346, 66.8659299971482, 25.6415400254835,
> 15.1121959384259, 76.2625002964008, 19.6161482467593, 30.3616062425926,
> 50.555977574537, 48.0870803657407, 60.781296601654, 17.5123175343251,
> 46.3781020162159, 32.9047155318093, 45.2884006349093, 39.7311056806747,
> 26.0169754879377, 32.1970505053614, 22.6549346464934, 16.8551283466882,
> 22.976903453078, 24.6695897641777, 10.0811787631618, 22.3981217825916,
> 58.8947786812898, 75.1529521249874, 15.0698117186505), ...5 = c(53.0091432,
> 44.99547465, 38.0012127, 44.0043849, 60.00340515, 38.99230245,
> 51.536667, 54.7081542, 31.0919013, 60.3715242, 73.48222575, 68.526777,
> 147.813957, 79.0040115, 47.6289417, 58.07785935, 59.8051872,
> 96.19233945, 59.21053335, 57.9929088, 122.6685942, 66.4879638,
> 13.90357335, 30.89368335, 61.3342971, 35.6225973, 75.8325243,
> 28.91150385, 14.80971255, 95.17293285, 41.71072005, 49.5544875,
> 58.58756265, 54.11350035, 61.47588135, 38.02952955, 68.526777,
> 62.15548575, 77.6784310738351, 50.5600232415771, 131.876932720878,
> 20.6789463878136, 30.9527021610215, 51.8652541034946, 50.5158733141577,
> 65.3799359472222, 100.009112523321, 53.1610290997312, 60.1700076922043,
> 32.2775382972222, 33.8153090258961, 54.401286830914, 95.0948838978495,
> 76.6519537191756, 57.9907266771505, 100.305556442832, 67.9363689859319,
> 36.8437233959677, 104.980864599731, 29.1320843302867, 48.3498203616488,
> 45.5838020353047, 70.4890298277778, 38.6008566758961, 55.4927880633513,
> 87.7219305972222, 54.7773224196237, 43.3184540353047, 94.7221976139785,
> 109.994754833695, 69.5983515602151, 65.4988362689964, 130.990821687186,
> 67.8702794202509, 64.9310106890681, 40.9020659196237, 28.7862263164875,
> 73.8719355863588, 44.2015371620968, 26.9290029520609, 87.4829120246416,
> 49.3287477370072, 52.4560850095878, 105.858686949731, 51.1010205514337,
> 84.4875812418607, 44.0169194196237, 56.9543198177419, 109.201614576703,
> 155.199816965233, 59.9808227158602, 47.1291171577061, 93.1677987708781,
> 80.5607447070789, 116.459338258333, 82.8986102315412, 64.9543881602151,
> 50.5573167326165, 107.571298157258, 67.0962686045699, 77.3657611358944,
> 70.7801148664875, 73.4220260571224, 30.2768192108423, 53.2795572765233,
> 39.5983236376344, 119.826015501434, 41.0489109464158, 79.0048065370072,
> 67.9431183426523, 50.6200062464158, 81.1957762876344, 51.8652033564516,
> 45.4861804724328, 64.5839189739347, 69.7335909436077, 83.2834162480453,
> 60.7586179353601, 59.0404232122419, 52.2671818563404, 46.4495093287553,
> 40.0792220246565, 33.0039252222804, 69.8833876014689, 71.1205502192063,
> 25.9164851853527), ...6 = c(62.0139015, 60.9944949, 44.0043849,
> 49.01646735, 62.0139015, 54.9913227, 75.29450415, 45.1370589,
> 38.59586655, 84.63906465, 62.66518905, 137.9030595, 93.7287735,
> 81.58084485, 52.58439045, 56.49211575, 59.0123154, 90.18916725,
> 88.37688885, 86.79114525, 104.00779005, 53.43389595, 61.5041982,
> 60.1449894, 77.10678255, 61.13607915, 75.57767265, 52.01805345,
> 56.067363, 108.170367, 79.37213055, 61.64578245, 57.05845275,
> 63.11825865, 85.99827345, 49.1580516, 67.7339052, 65.89330995,
> 49.4663906333333, 62.902124174537, 125.42931227963, 56.1662971796296,
> 49.3735742916667, 89.0394507013889, 92.5179659694444, 86.3792399597222,
> 70.559909350463, 68.0506344111111, 77.1285445736111, 68.6415301606481,
> 60.7908582935185, 107.425126938426, 90.4807259277778, 81.396785325,
> 72.1131410115741, 68.8834469532407, 91.5248660726852, 48.0119183564815,
> 82.2235674268519, 33.5023294574074, 58.6514503578704, 64.0816433337963,
> 82.6175561916667, 114.884519368981, 59.435669787037, 93.4450806138889,
> 110.401979493519, 78.3836627305556, 84.819803062963, 117.287431325463,
> 86.534895237037, 45.5510617347222, 69.754801874537, 103.916983855093,
> 69.9525828361111, 71.7655604175926, 52.4842327027778, 78.1433190962963,
> 50.0991498740741, 33.9123993962963, 107.815794591204, 71.0580761560185,
> 85.9337739583333, 104.136789033333, 58.433218337963, 56.3486961486111,
> 105.916555494444, 100.764898941204, 89.4245249023148, 101.514945875463,
> 62.5367144527778, 80.3241535347222, 50.7403866902778, 52.1234550583333,
> 106.172281121296, 119.406737793519, 109.830748223148, 98.7653273018519,
> 110.709881538426, 60.5554089296296, 57.7968757921296, 164.881151758333,
> 114.807172417593, 42.3015284018519, 47.3479581421296, 69.258295625,
> 79.6316142773148, 38.6308256240741, 93.6480180388889, 74.1446128060185,
> 68.0709980717593, 92.146788000463, 79.0773117590429, 89.7252644488388,
> 53.5003470216826, 62.6669327681478, 74.0358775483401, 49.6010839106274,
> 62.4195698709396, 39.292332545434, 99.9687981401921, 40.2746960761065,
> 76.0016770163077, 69.3366089449157, 89.2159743205815, 48.0730413172471
> ), ...7 = c(91.0103559, 63.00499125, 62.0139015, 55.9540956,
> 60.00340515, 88.0087698, 75.80420745, 35.2827951, 85.48857015,
> 119.63869125, 74.72816715, 93.445605, 125.160477, 73.87866165,
> 73.3972752, 56.77528425, 42.95666145, 118.8175026, 82.4586672,
> 93.81372405, 99.42046035, 58.332711, 87.1026306, 72.12301695,
> 54.73647105, 49.41290325, 98.68422225, 60.7679601, 61.02281175,
> 178.48110555, 60.22993995, 54.84973845, 64.70400225, 94.43669475,
> 75.06796935, 59.7485535, 60.45647475, 151.8915834, 77.8770211688172,
> 76.8059709947133, 95.5358418702509, 45.1915104771505, 44.3152274541219,
> 79.5500496827957, 73.7685236509857, 61.4291771547491, 97.5867666978495,
> 88.5714360972222, 116.80599130914, 81.5496015871864, 109.510765562724,
> 136.904898995341, 164.49342743405, 86.2917435997312, 98.5759449758961,
> 95.1858395146057, 111.213971651613, 86.007780062724, 136.084454635305,
> 37.0162295108423, 83.3701686708781, 62.8513968664875, 86.4204719321685,
> 72.132523562724, 104.871318649552, 109.474532174014, 95.9775948796595,
> 50.6672348277778, 88.3225895139785, 121.58091591147, 76.8334928077061,
> 55.6079161882617, 95.6947985246416, 127.831395367742, 49.1690975396953,
> 86.238831349552, 63.4233667882616, 111.597500887007, 31.898796199552,
> 48.6903161045699, 106.279244610842, 74.6957567051971, 47.4088856058244,
> 130.007276330914, 88.8368093008065, 50.7865072945341, 101.199211870251,
> 75.9300093696237, 73.9893747821685, 103.683178131541, 140.684961650806,
> 104.768995695161, 57.2737217064516, 58.7820591501792, 92.9597528102151,
> 99.9310094340502, 94.2899004702509, 115.778989568369, 96.1018067252688,
> 39.8479145108423, 87.5417785945341, 108.026972772133, 67.422470597043,
> 70.607930149552, 88.305961399552, 59.7161430551971, 69.4862005951613,
> 54.6980047913978, 126.661692942025, 127.072473339516, 110.780456578853,
> 93.7374850757168, 69.9698735972591, 106.738637147415, 64.5152740485102,
> 87.1268323629885, 43.3975092336417, 52.5152792378864, 63.7137140203338,
> 84.6634689840074, 83.2759556945253, 47.5837274800544, 86.8166065787247,
> 112.648942563551, 143.549465228576, 65.8425685705771), ...8 =
> c(88.99985955,
> 92.9925354, 79.99510125, 69.00816345, 66.00657735, 89.9909493,
> 44.71230615, 62.49528795, 91.8032277, 83.67629175, 85.14876795,
> 115.8159165, 124.59414, 66.79944915, 73.057473, 71.6416305, 59.89013775,
> 79.59866535, 116.8919568, 133.7687994, 100.77966915, 58.02122565,
> 101.85570945, 97.38164715, 77.61648585, 72.9442056, 95.3145171,
> 71.358462, 85.71510495, 104.3759091, 96.5604585, 94.71986325,
> 51.16854795, 87.8388687, 97.6931325, 69.093114, 64.08103155,
> 116.463431853136, 69.5767840669355, 88.8546045972222, 155.196044768369,
> 76.1697722321685, 88.3709345302867, 96.0580289428316, 82.8718327085125,
> 81.7255585009857, 126.300796887814, 113.122145047222, 92.5947124141577,
> 96.673455249104, 66.9335905003584, 106.393679192832, 124.757342490323,
> 91.3846322578853, 112.209577888441, 80.9145700066308, 118.335473354122,
> 136.781803584677, 88.5102859103943, 48.9130787077061, 76.6303862258961,
> 66.0512009164875, 91.1909307947133, 90.038228628405, 120.433525268996,
> 127.600344080914, 93.5963237177419, 58.4067678514337, 91.812734312724,
> 96.4453811221326, 95.4837246570789, 91.6730107876344, 117.778913617742,
> 107.262417822133, 72.8408169577061, 93.2214045639785, 75.6332406620968,
> 138.346774728405, 41.828554683871, 82.8804427901434, 121.71458362276,
> 92.5882337083333, 71.4110021051971, 105.813741985305, 73.4316986108423,
> 52.584441197043, 149.500585721505, 70.0548212120968, 71.3453354315412,
> 118.636386403495, 159.896641868369, 124.508495907079, 99.5186897095878,
> 61.6371723683692, 135.166203807706, 69.8381144227599, 99.953642615233,
> 96.6851439846774, 113.023966434677, 37.3526316589606, 94.9774214089606,
> 129.41979472966, 96.4015525926523, 68.4592496014337, 92.3934158102151,
> 112.763803260842, 87.9348144426523, 115.168451893907, 114.463558550806,
> 105.081225335125, 115.213396858333, 107.920082583871, 113.556526721806,
> 87.182534043245, 100.746877538778, 107.820717028533, 61.2195953835266,
> 54.8629442665856, 71.7839889353526, 69.3780698503958, 64.8880471329152,
> 84.3745727047643, 86.8773256086014, 115.250098093976, 124.182856141139,
> 90.1817841662871), ...9 = c(54.00023295, 68.0170737, 60.9944949,
> 82.99668735, 66.9976671, 79.0040115, 80.2499529, 48.7616157,
> 78.80579355, 110.5489824, 105.0555135, 100.807986, 122.86681215,
> 51.8198355, 80.78797305, 79.3438137, 124.96225905, 82.65688515,
> 113.1541326, 135.6377115, 104.9422461, 84.8372826, 68.49846015,
> 88.77332475, 103.6963047, 81.69411225, 74.55826605, 67.6772715,
> 88.914909, 142.5470229, 96.7303596, 67.64895465, 76.3422276,
> 119.2705722, 79.54203165, 85.0071837, 79.7968833, 85.1213250768518,
> 91.1265074236111, 94.8002691203704, 101.243139074537, 67.7463156712963,
> 65.3070462777778, 92.9989154310185, 104.489963079167, 88.6454619365741,
> 95.6530957324074, 96.2138392805556, 106.431327860185, 82.2418335430556,
> 71.5570295407407, 113.462384235648, 93.298339900463, 92.4140501217593,
> 94.4176420546296, 86.020909450463, 103.683457240278, 85.9453104527778,
> 94.0256634365741, 59.9890719296296, 93.0187547055556, 100.441352710648,
> 82.4177650833333, 94.4054063787037, 95.6760813236111, 118.294777044907,
> 108.812652588426, 95.822822037037, 109.342894344444, 98.7759898194444,
> 98.0270790550926, 94.9162458486111, 119.636593705556, 93.1206604064815,
> 96.5566130018519, 87.0842770861111, 75.9921124731482, 95.2274690055556,
> 63.7360728865741, 75.1976675148148, 87.622734224537, 79.9642498671296,
> 64.7750565680556, 72.1407586800926, 75.4217551796296, 89.185317437963,
> 106.493555012037, 121.68947793287, 111.078000588426, 137.71209555787,
> 119.270484802315, 83.6887022212963, 110.169414253241, 106.021782307407,
> 105.793237360648, 112.292741014815, 92.3540953097222, 88.7946497851852,
> 88.3137003236111, 48.0344669592593, 56.6142103162037, 100.058725644907,
> 92.1715215453704, 81.5248229337963, 84.5357605861111, 99.5218416648148,
> 98.9644192287037, 113.18262424537, 84.0182788921296, 78.1174493814815,
> 58.5339878689815, 86.7326761986111, 63.3940417265209, 90.5242216237781,
> 87.7613482821531, 79.4634654046871, 75.4329525046438, 87.8455136741353,
> 82.7085680835468, 66.420417900437, 87.3192277343693, 64.8283838519554,
> 90.4344488320088, 101.89113025832, 107.25424417281, 55.0424269132735
> ), ...10 = c(75.01133565, 75.01133565, 91.0103559, 78.01292175,
> 91.0103559, 78.01292175, 57.51152235, 75.5493558, 58.899048,
> 129.77612355, 102.25214535, 103.78125525, 124.5375063, 68.15865795,
> 86.083224, 75.12460305, 149.7395028, 108.82165455, 122.92344585,
> 119.63869125, 108.4535355, 71.1319272, 136.8836529, 92.34124785,
> 106.10323695, 270.3126501, 75.12460305, 90.98203905, 76.3988613,
> 91.6899603, 114.76819305, 96.30560685, 95.00303175, 89.33966175,
> 115.5893817, 53.43389595, 130.17255945, 74.0648187194444, 98.415448994534,
> 117.077048181541, 111.656418203943, 69.0909318771505, 91.8837125102151,
> 184.392256445341, 143.99505594095, 111.688557997849, 164.432649392204,
> 92.4773006723118, 96.031623564785, 98.7507854547491, 89.6331318997312,
> 116.630034395341, 79.1743862390681, 82.1261387428315, 145.541538245341,
> 97.1231247972222, 70.2878347179212, 74.8902532053764, 109.844562695968,
> 99.9151256095878, 80.1571873053764, 93.3414720677419, 112.481429797849,
> 107.20843988405, 99.7747085415771, 91.5307329947133, 103.970490973387,
> 120.196790313351, 104.027496818369, 93.228576812724, 119.336712512724,
> 82.0989383277778, 126.093123072133, 106.900354585932, 89.8837884608423,
> 100.182088887186, 104.524344200806, 134.879635255824, 91.8319674420251,
> 133.253513925269, 83.6035035746416, 88.3071285815412, 96.0991509633513,
> 95.2481568834229, 117.772485658961, 106.50540726586, 128.208598138441,
> 95.8156103183692, 153.21083736147, 131.853555249731, 152.367387675269,
> 119.728631925896, 147.733996575896, 85.6276001321685, 83.440402578405,
> 147.025703180914, 101.382341032796, 77.8944443202509, 94.4307404302867,
> 59.4824360064516, 91.2871979353047, 100.210777882168, 116.855774158333,
> 71.9237333120968, 85.1692190083333, 99.4269390558244, 119.594219924642,
> 69.1883154526882, 122.62561145457, 78.3248299920251, 62.5127111014337,
> 109.128674160215, 92.5094141691414, 102.214150982881, 113.304196757922,
> 104.289463219631, 69.3166222008229, 75.6406286742023, 96.6916710132641,
> 61.1471702956426, 87.6592065685503, 60.3468631148267, 81.8521951100248,
> 76.5965939733406, 103.143649918913, NA), ...11 = c(111.99314175,
> 82.99668735, 84.01609395, 135.0147408, 88.99985955, 113.52225165,
> 117.31670955, 64.19429895, 97.21174605, 109.4729421, 181.22784,
> 319.980405, 127.1426565, 100.60976805, 156.90366585, 174.6583308,
> 107.7172974, 126.4064184, 110.35076445, 234.83163705, 71.55667995,
> 71.4150957, 109.10482305, 119.0440374, 168.3719901, 146.76623355,
> 107.68898055, 109.4729421, 92.79431745, 139.34721885, 169.02327765,
> 103.49808675, 99.108975, 269.09502555, 239.7304521, 117.3450264,
> 165.5403051, 452.789752612037, 112.674668899074, 136.845023123148,
> 125.390507707407, 147.205406918056, 101.483482708796, 148.538046821759,
> 93.6385790888889, 104.208804725926, 145.404228024074, 92.5718903412037,
> 77.9773508921296, 100.475874796296, 108.628243472685, 140.548237839815,
> 144.128658808796, 84.9861208578704, 82.5432681592593, 121.266910125,
> 142.538632722222, 193.310132988426, 182.567559116204, 142.72417800787,
> 104.623069753704, 141.985492772685, 103.156623993981, 114.944911169444,
> 104.799438282407, 117.003563643981, 117.717515334259, 147.705758665741,
> 254.736285055556, 120.990908235185, 113.687171081944, 87.6590916615741,
> 129.361771124537, 107.696933739352, 77.3595366555556, 151.29439501713,
> 100.562660697685, 138.193744200926, 95.7973893106481, 102.302224223611,
> 110.082453556481, 108.45808017963, 100.091499776852, 115.70011456713,
> 72.1630450898148, 114.096978827778, 133.093564884259, 83.1709583342593,
> 133.803933269444, 182.775128618519, 122.711069475, 148.112857083333,
> 121.410067533333, 149.270963809722, 104.353972281019, 113.122844228704,
> 147.872513449074, 112.707443031019, 122.870308057407, 58.9955350444444,
> 89.6550799958333, 147.303729313889, 75.6135057009259, 106.781442987037,
> 137.607567926389, 127.527206314815, 234.885299228704, 92.3349552166667,
> 202.163518497685, 202.821273476389, 143.923798634722, 225.143428851852,
> 157.530355633389, 187.676065594925, 221.071077738915, 82.7623531446858,
> 77.798518465568, 129.726331786836, 174.877740649028, 76.0276641003277,
> 152.010982110292, 102.903773583178, 83.4300837163835, 99.7688463421467,
> 96.9843391694606, NA), ...12 = c(49.01646735, 63.996081, 65.0154876,
> 85.99827345, 51.9897366, 155.0064369, 66.5445975, 36.38715225,
> 206.23161855, 82.0055976, 116.75037255, 489.881505, 168.8816934,
> 39.38873835, 86.5929273, 65.9216268, 97.8630336, 95.4277845,
> 76.82361405, 88.99985955, 46.9493373, 61.9006341, 62.863407,
> 102.81848235, 117.4582938, 71.5283631, 99.5054109, 61.47588135,
> 98.2594695, 155.94089295, 109.9826454, 61.36261395, 67.02598395,
> 85.77173865, 132.04147155, 140.9612793, 95.28620025, 226.915825714606,
> 47.7665338492832, 215.910399075269, 212.148030222133, 90.9036179528674,
> 44.6233634992832, 82.859771827957, 84.9997408003584, 183.01078660914,
> 226.450745981093, 151.807529381093, 156.272135815412, 96.0256184980287,
> 57.7046317643369, 114.181235834857, 157.950002214158, 77.9836407061828,
> 135.604607512276, 84.7630565917563, 122.853364183602, 101.765599617294,
> 91.7150293392473, 87.4384406992832, 72.8254067723118, 204.161240689247,
> 214.597674566667, 70.3557850085125, 75.8190763336022, 49.8698972879928,
> 44.2102994848566, 126.040684461021, 166.839209497222, 110.586112319803,
> 68.2977386792115, 147.835203095341, 203.118727268996, 52.2794852999104,
> 56.9600542336022, 69.8238206723118, 61.674251541129, 129.046414902867,
> 32.7366637110215, 79.5157277660394, 52.6014922034946, 98.6752400233871,
> 89.3299859804659, 141.735763754749, 39.2333339886201, 181.927574060394,
> 74.4077503204301, 145.684661822312, 63.3958957223118, 89.1317680304659,
> 84.1083689898745, 86.3574610204301, 103.421949269803, 72.9182738610215,
> 68.2365377453405, 68.8206192947133, 58.5744868285842, 122.020063906004,
> 178.942193182796, 28.2040562390681, 138.280685162724, 296.330997365233,
> 173.333545410842, 149.083377365233, 65.756343680914, 159.737685213978,
> 105.61780765224, 46.7002200658602, 86.7429017277778, 189.154748022133,
> 96.7353497258961, 68.4664725972222, 499.277855419375, 170.849271829193,
> 148.879966449353, 60.8120779047451, 91.4588421221316, 43.0376842705498,
> 108.148547912706, 121.468512697252, 42.6455518427129, 96.4984871785073,
> 109.87928815051, 85.3031155445198, 58.5462485275265, NA)), row.names =
> c(NA,
> -126L), class = "data.frame")
> 
> What I want to do is, instead of having 12 observations  by row, I want to
> have one observation by row. I want to have a single column with 1509
> observations instead of 126 rows with 12 columns per row.
> 
> I tried the following:
> df = data.frame(matrix(nrow = Length, ncol = 1))
> colnames(df) = c("aportes_alajuela")
> 
> 
> 
> for (row in 1:nrow(alajuela_df)){
>    for (col in 1:ncol(alajuela_df)){
>      df[i,1]=alajuela_df[i,j]
>    }
> }
> 
> But I am not getting the data in the structure I want.
> 
> Any help will be greatly appreciated.
> 
> Best regards,
> Paul
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Here are two base R way with ?stack and with ?reshape.


# 1. With stack()
df_long <- stack(alajuela_df)[1]
df_long <- df_long[complete.cases(df_long), , drop = FALSE]
head(df_long)



# 2. With reshape
df_long <- reshape(
   alajuela_df, direction = "long",
   varying = names(alajuela_df),
   v.names = "x"
)[2]

# 1512 rows, only one column
dim(df_long)
# [1] 1512    1

# there are NA's in the data
df_long[complete.cases(df_long), , drop = FALSE] |> dim()
# [1] 1509    1

# keep the rows with values not NA
df_long <- df_long[complete.cases(df_long), , drop = FALSE]

# check the dimensions again
dim(df_long)
# [1] 1509    1



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From @vi@e@gross m@iii@g oii gm@ii@com  Sat Oct 28 17:23:15 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Sat, 28 Oct 2023 11:23:15 -0400
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
Message-ID: <005101da09b2$ac05c960$04115c20$@gmail.com>

Paul,

I have snipped away your long message and want to suggest another approach
or way of thinking to consider.

You have received other good suggestions and I likely would have used
something like that, probably within the dplyr/tidyverse but consider
something simpler.

You seem to be viewing a data.frame as similar to a matrix that you want to
reformat. There are similarities but a data.frame is also different. A
Matrix actually may be the right way for you to deal with your data. Can you
read it in as a matrix or must it be a data.frame? 

The thing about a matrix is that underneath, it is just a linear vector
which you really seem to want. All your columns seem to be the same kind of
numeric and perhaps the order does not matter whether it is row major or
column major. So consider my smaller example. I am making a data.frame that
is smaller for illustration:

> small <- data.frame(A=1:4, B=5:8, C=9:12)
> small
  A B  C
1 1 5  9
2 2 6 10
3 3 7 11
4 4 8 12

Now I am making it a matrix and keeping the columns the same:

> small.mat <- as.matrix(small)
> small.mat
     A B  C
[1,] 1 5  9
[2,] 2 6 10
[3,] 3 7 11
[4,] 4 8 12

This can be linearized into a vector in many ways such as this:

> small.vec <- as.vector(small.mat)
> small.vec
 [1]  1  2  3  4  5  6  7  8  9 10 11 12

You can make that into a data.frame if you like:

> revised <- data.frame(colname=small.vec)
> revised
   colname
1        1
2        2
3        3
4        4
5        5
6        6
7        7
8        8
9        9
10      10
11      11
12      12

Of course, the above can be combined into more of a one-liner or made more
efficient. But in some cases, if you know the exact details of your
data.frame, you can spell out a way to combine the columns trivially. In my
example, I have three columns that can simply be concatenated into a vector
like so:

> small.onecol <- data.frame(onecol=c(small$A, small$B, small$C))
> small.onecol
   onecol
1       1
2       2
3       3
4       4
5       5
6       6
7       7
8       8
9       9
10     10
11     11
12     12

This is not a generalized solution but is simple enough even with the number
of columns you have. You are simply consolidating the vectors into one
bigger one. If you want to connect many, there are shorter loops that can do
it as in:

> cols <- colnames(small)
> cols
[1] "A" "B" "C"
> 
> new <- vector(mode="numeric", length=0)
> for (col in cols) {
+   new <- append(new, small[[col]])
+ }
> new
 [1]  1  2  3  4  5  6  7  8  9 10 11 12
> 
> new.df <- data.frame(newname=new)
> new.df
   newname
1        1
2        2
3        3
4        4
5        5
6        6
7        7
8        8
9        9
10      10
11      11
12      12

The number of ways to do what you want is huge. You can pick a way that
makes more sense to you, especially the ones others have supplied, or one
that seems more efficient. As noted, all methods may also need to deal with
your NA issue at some stage.


From jho|tm@n @end|ng |rom gm@||@com  Sat Oct 28 17:25:34 2023
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Sat, 28 Oct 2023 08:25:34 -0700
Subject: [R] How to Reformat a dataframe
In-Reply-To: <CAMOcQfPNDUvhFd4QxvM3_=mQwrwJ8ULz4wopJ0b6LrKizNuntA@mail.gmail.com>
References: <CAMOcQfOBSfYKwET54waOT=w0dpja57ehLR9GMaMn+xASRhhJyA@mail.gmail.com>
 <CADNULg-F0Z4Fa9Akmfcj9biEiTu8G9=akHo-FgGigPx1VPp2RQ@mail.gmail.com>
 <CAMOcQfPNDUvhFd4QxvM3_=mQwrwJ8ULz4wopJ0b6LrKizNuntA@mail.gmail.com>
Message-ID: <CAAxdm-6nNs-GjXO6cqPtOcMncQLDRF9=hHLQQ22_SQzU0eArCg@mail.gmail.com>

You can also use the pivot_longer to do it:

library(tidyverse)

input <- structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556, 40.57804605,
:
:
:
 row.names = c(NA, -126L), class = "data.frame")

> input$row <- seq(nrow(input))  # add row number for reference> head(input)       ...1     ...2     ...3     ...4     ...5     ...6     ...7     ...8
1  92.99254 34.99963 24.04101 43.01330 53.00914 62.01390 91.01036 88.99986
2  76.00243 22.00219 22.00219 25.00378 44.99547 60.99449 63.00499 92.99254
3  44.99547 22.99328 15.00793 15.99902 38.00121 44.00438 62.01390 79.99510
4  28.00536 19.00061 12.99743 12.99743 44.00438 49.01647 55.95410 69.00816
5 120.00681 35.99072 22.99328 47.99706 60.00341 62.01390 60.00341 66.00658
6  31.99804 23.95606 13.98852 15.99902 38.99230 54.99132 88.00877 89.99095
      ...9    ...10     ...11     ...12 row
1 54.00023 75.01134 111.99314  49.01647   1
2 68.01707 75.01134  82.99669  63.99608   2
3 60.99449 91.01036  84.01609  65.01549   3
4 82.99669 78.01292 135.01474  85.99827   4
5 66.99767 91.01036  88.99986  51.98974   5
6 79.00401 78.01292 113.52225 155.00644   6> > x <-
pivot_longer(input,names_to = "col",cols=1:12)> head(x, 20)# A tibble:
20 ? 3
     row col   value
   <int> <chr> <dbl> 1     1 ...1   93.0 2     1 ...2   35.0 3     1
...3   24.0 4     1 ...4   43.0 5     1 ...5   53.0 6     1 ...6
62.0 7     1 ...7   91.0 8     1 ...8   89.0 9     1 ...9   54.010
1 ...10  75.011     1 ...11 112. 12     1 ...12  49.013     2 ...1
76.014     2 ...2   22.015     2 ...3   22.016     2 ...4   25.017
2 ...5   45.018     2 ...6   61.019     2 ...7   63.020     2 ...8
93.0

>

Thanks

Jim Holtman
*Data Munger Guru*


*What is the problem that you are trying to solve?Tell me what you want to
do, not how you want to do it.*


On Fri, Oct 27, 2023 at 10:41?PM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Hi Iris,
>
> Thank you so much for your valuable feedback. I wonder why your code gives
> you 1512 rows, given that the original structure has 12 columns and 126
> rows, so I would expect (125*12)+ 9=1,509 total rows.
>
> Cheers,
> Paul
> El El vie, 27 de oct. de 2023 a la(s) 10:40 p. m., Iris Simmons <
> ikwsimmo at gmail.com> escribi?:
>
> > You are not getting the structure you want because the indexes are
> > wrong. They should be something more like this:
> >
> > i <- 0
> > for (row in 1:nrow(alajuela_df)){
> >   for (col in 1:ncol(alajuela_df)){
> >     i <- i + 1
> >     df[i,1]=alajuela_df[row,col]
> >   }
> > }
> >
> > but I think what you are doing can be written much shorter and will run
> > faster:
> >
> > ## transpose here matches your original code
> > df <- data.frame(aportes_alajuela = c(t(alajuela_df)))
> >
> > ## but if you do not want to transpose, then do this
> > df <- data.frame(aportes_alajuela = unlist(alajuela_df, use.names =
> FALSE))
> >
> > However, you said you expected 1509 observations, but this gives you
> > 1512 observations. If you want to exclude the 3 NA observations, do
> > something like:
> >
> > df <- df[!is.na(df$aportes_alajuela), , drop = FALSE]
> >
> > On Fri, Oct 27, 2023 at 11:14?PM Paul Bernal <paulbernal07 at gmail.com>
> > wrote:
> > >
> > > Dear friends,
> > >
> > > I have the following dataframe:
> > > dim(alajuela_df)
> > > [1] 126  12
> > >
> > > dput(alajuela_df)
> > > structure(list(...1 = c(92.9925354, 76.0024254, 44.99547465,
> > > 28.00536465, 120.0068103, 31.9980405, 85.0071837, 40.1532933,
> > > 19.3120917, 113.12581575, 28.45843425, 114.400074, 143.0000925,
> > > 46.439634, 20.7845679, 50.82874575, 36.9818061, 44.6273556,
> 40.57804605,
> > > 30.38398005, 47.94042705, 36.38715225, 28.06199835, 28.4867511,
> > > 122.86681215, 56.4071652, 35.9057658, 52.669341, 24.94714485,
> > > 54.4249857, 61.164396, 47.88379335, 30.582198, 26.051502, 43.041612,
> > > 64.59073485, 51.6499344, 78.8202902886201, 35.2390173175627,
> > > 82.2394568898745, 47.760850180466, 54.3654763342294, 49.4878058854839,
> > > 32.8813266149642, 38.9301880693548, 51.9506275455197, 55.4404001992832,
> > > 50.7979761262545, 37.1198211413082, 36.9144309425627, 33.7829493281362,
> > > 32.8647492475806, 42.8926863444444, 63.9814428257048, 39.219040238172,
> > > 88.7557324417563, 42.0964144925627, 129.15973304991, 117.872998635484,
> > > 35.4004098300179, 83.4102757505377, 38.6443638074373, 100.491764259319,
> > > 40.219162961828, 35.901029409319, 85.2814714674731, 26.5821299974014,
> > > 33.0141992892473, 52.4006692386201, 62.7450310643369, 33.3732853655914,
> > > 36.4616827405018, 146.501706130466, 59.9869292767025, 132.659282967294,
> > > 29.9692075517921, 45.8436438112007, 29.3028312143369, 49.9042699517921,
> > > 27.4678688861111, 29.8483957580645, 26.1192323867384, 62.1371491517921,
> > > 53.92489050681, 64.5840869873656, 28.4476420455197, 52.9893180218638,
> > > 36.4730500781362, 40.8595060662186, 33.4571194806452, 35.6201445262545,
> > > 47.5373940344086, 62.5177012273297, 31.9702480361111, 29.6637272685484,
> > > 49.9578249978495, 26.1936613831541, 30.8051128442652, 153.165249601165,
> > > 36.7652008047491, 14.3854334390681, 55.9930862447133, 87.5882628859319,
> > > 88.414763059767, 58.6046644034946, 20.5301898890681, 39.0037205346774,
> > > 67.5971386298632, 25.1295804696237, 32.7864973072581, 59.5662701215054,
> > > 56.3503435331631, 25.2768483884409, 120.187620533964, 51.3699688189953,
> > > 42.6889983487868, 34.5183987020052, 32.9513272936733, 20.6141437461215,
> > > 43.4197954932283, 107.258904254306, 23.7548470509806, 48.4457090643702,
> > > 72.3249287581108, 32.7272590911596, 48.6115621286089), ...2 =
> > c(34.9996266,
> > > 22.00219245, 22.9932822, 19.00060635, 35.99071635, 23.9560551,
> > > 44.99547465, 22.00219245, 17.35822905, 38.9639856, 16.4804067,
> > > 93.87035775, 81.2693595, 65.4119235, 14.6114946, 33.32893245,
> > > 23.3330844, 66.68618175, 29.1097218, 18.77407155, 28.1469489,
> > > 20.64298365, 15.31941585, 25.79665035, 39.5869563, 35.9057658,
> > > 28.11863205, 27.09922545, 18.03783345, 52.3295388, 47.99706075,
> > > 21.88892505, 18.8590221, 17.64139755, 29.2796229, 27.750513,
> > > 26.9576412, 36.8932410314484, 19.1194611744253, 37.5166237491071,
> > > 37.9625421619439, 23.444984650496, 37.4408609345785, 43.1033210084325,
> > > 28.1252430606151, 38.4216392645833, 41.0532302780651, 34.4822260610119,
> > > 27.8096188059524, 25.9720387760913, 19.5989670673372, 21.1366557174603,
> > > 34.0091174203373, 111.149568174301, 24.5438738482759, 62.923693488747,
> > > 36.056976280754, 36.934798630754, 47.0895472967433, 23.0987961767857,
> > > 45.1991799260913, 23.0274422095238, 26.8716961246169, 21.5009916962302,
> > > 25.315076619246, 41.2098751296627, 15.6537752838123, 20.1723471152778,
> > > 31.7437694203373, 34.6486999232143, 27.6318028338123, 23.9637897951389,
> > > 50.6646878095238, 33.3208231933532, 38.0673028746602, 19.9469359998016,
> > > 27.0503264451389, 19.8385753555556, 29.0062549955939, 17.231889453373,
> > > 25.3320442555556, 17.651735447619, 37.12988188841, 37.7982565469246,
> > > 33.1890524548611, 15.4283008803571, 33.5040593288314, 24.9726150325397,
> > > 29.0612348127976, 30.2629592267857, 32.8065534719349, 43.3676303365079,
> > > 39.19334780424, 23.9252474159722, 15.8641806903257, 27.51501019685,
> > > 21.5861832758362, 18.5136698379577, 54.9166790494253, 29.2865335598214,
> > > 12.8130786005824, 46.2078437446569, 37.9351942968391, 31.8758398080357,
> > > 25.4830299994048, 17.4062173291544, 19.1528843310516, 37.2160194109127,
> > > 25.3577400835684, 21.3381885368056, 37.5842732179795, 62.4856267757438,
> > > 19.2393143990079, 49.4806272500855, 29.5274325254668, 18.7819282827049,
> > > 19.5089694997422, 25.524181172185, 15.9275217745507, 25.461470312583,
> > > 37.4026236465872, 14.6120197959536, 26.5773978462589, 27.6541154512847,
> > > 22.5193597452548, 27.9919830179818), ...3 = c(24.04100565, 22.00219245,
> > > 15.0079305, 12.99743415, 22.9932822, 13.9885239, 27.0142749,
> > > 16.3671393, 12.2895129, 28.68496905, 16.56535725, 32.70596175,
> > > 46.01488125, 24.94714485, 10.8170367, 19.68021075, 15.0079305,
> > > 26.41962105, 21.9738756, 15.71585175, 21.26595435, 13.28060265,
> > > 11.6099085, 15.5742675, 25.96655145, 20.5013994, 15.99902025,
> > > 18.03783345, 11.07188835, 32.59269435, 29.7326925, 15.82911915,
> > > 13.4788206, 22.11545985, 17.6130807, 22.3136778, 17.01842685,
> > > 24.8211230265233, 13.237941302509, 22.3448026530466, 26.8162566663605,
> > > 19.755485530466, 28.9524567137097, 35.9159180773958, 29.0510074712366,
> > > 29.6768770591437, 19.74645255681, 21.3046743438172, 18.2600040043011,
> > > 14.1888055630824, 13.2245440831541, 14.2163781231183, 19.9802103525986,
> > > 56.1211624398027, 13.9762431155914, 26.4956908674731, 29.4013819718638,
> > > 26.8419717732975, 44.6725035525986, 14.7828541642548, 24.4708500199821,
> > > 10.5834818923835, 20.2093501674731, 14.2639281024194, 17.2504254149642,
> > > 19.7845974174731, 10.850022277957, 16.4476927547907, 20.9176435624552,
> > > 22.8783063162186, 25.7326244974014, 20.1825218974014, 51.1908599407987,
> > > 40.9448287612007, 20.2191781781362, 10.3501469886201, 21.1253173781362,
> > > 13.4899172867384, 23.1471303187276, 12.8374587906722, 16.9906343861111,
> > > 13.1835697522092, 17.8847127055556, 32.4731512323477, 17.6332611074373,
> > > 13.4532405190011, 19.4829400781362, 24.2590318624552, 26.5715576967742,
> > > 19.0041586430108, 28.5379041193548, 29.7763011256272, 32.1823265123117,
> > > 29.7879391141577, 14.0165763547689, 37.6846187388183, 16.3880639974014,
> > > 13.8338638285842, 44.6845644331541, 18.6545178642578, 11.2407237620968,
> > > 34.0711681997412, 29.0336803177268, 18.1338299396953, 39.7917534240684,
> > > 10.6510092909498, 16.2566291560036, 28.5616029884409, 38.8678199534946,
> > > 15.4433570447133, 17.2045135497178, 49.4081574106672, 32.6989511276381,
> > > 38.5789940244859, 32.1769916573031, 28.9463686859436, 13.4928541224532,
> > > 19.5413894417691, 10.7006215291469, 29.8260981653798, 25.4362115265858,
> > > 11.5257100913926, 16.8079233526533, 27.4408077645845, 40.6526894052778,
> > > 18.8694236080065), ...4 = c(43.01329515, 25.00377855, 15.99902025,
> > > 12.99743415, 47.99706075, 15.99902025, 62.0139015, 12.5160477,
> > > 20.13328035, 18.4625862, 16.7635752, 31.4317035, 88.914909,
> 47.82715965,
> > > 10.50555135, 14.18674185, 13.28060265, 72.3778686, 21.9738756,
> > > 12.82753305, 28.74160275, 46.69448565, 8.6083224, 15.291099,
> > > 23.6162529, 15.8008023, 33.27229875, 18.0661503, 7.95703485,
> > > 44.76893985, 22.22872725, 21.03941955, 26.92932435, 22.65348,
> > > 46.07151495, 15.9140697, 22.4835789, 17.7829818, 18.2384985351852,
> > > 20.5132854851852, 61.5926915188615, 15.693652737963, 19.5663315662037,
> > > 24.3550255328704, 53.0975022597222, 36.7972078271926, 36.7901429763889,
> > > 18.8871641546296, 20.9930987768519, 20.1431562884259, 10.6699463958333,
> > > 15.75360755, 37.4331277462963, 54.1371851226852, 19.1322272638889,
> > > 25.599830762963, 33.3566375162037, 19.421600999537, 43.1187841560185,
> > > 11.9100427961142, 15.1950489439815, 20.8816316998207, 63.5722125117055,
> > > 21.3153340421296, 17.4206699247302, 42.4256331148148, 26.851255354471,
> > > 13.8370396062451, 65.4289660486111, 70.8573662263666, 29.3347708393519,
> > > 30.1223113805556, 104.141421110648, 53.9017718844937, 50.7707224048161,
> > > 9.85083922838523, 16.679586024537, 8.50117283796296, 29.7760417518519,
> > > 12.3623151717593, 58.2226773143519, 43.8683067041667, 18.6122984347222,
> > > 236.356918314815, 26.518730025, 18.768390700463, 13.0113303819444,
> > > 27.8125653564815, 63.6389740583333, 80.2297640347222, 23.5851393240741,
> > > 29.110683174537, 26.2230636560185, 18.1385155833333, 35.5873651333171,
> > > 71.1575933980326, 14.1058989912037, 22.352831962963, 37.7497695597222,
> > > 13.9331137675926, 35.9453219891346, 66.8659299971482, 25.6415400254835,
> > > 15.1121959384259, 76.2625002964008, 19.6161482467593, 30.3616062425926,
> > > 50.555977574537, 48.0870803657407, 60.781296601654, 17.5123175343251,
> > > 46.3781020162159, 32.9047155318093, 45.2884006349093, 39.7311056806747,
> > > 26.0169754879377, 32.1970505053614, 22.6549346464934, 16.8551283466882,
> > > 22.976903453078, 24.6695897641777, 10.0811787631618, 22.3981217825916,
> > > 58.8947786812898, 75.1529521249874, 15.0698117186505), ...5 =
> > c(53.0091432,
> > > 44.99547465, 38.0012127, 44.0043849, 60.00340515, 38.99230245,
> > > 51.536667, 54.7081542, 31.0919013, 60.3715242, 73.48222575, 68.526777,
> > > 147.813957, 79.0040115, 47.6289417, 58.07785935, 59.8051872,
> > > 96.19233945, 59.21053335, 57.9929088, 122.6685942, 66.4879638,
> > > 13.90357335, 30.89368335, 61.3342971, 35.6225973, 75.8325243,
> > > 28.91150385, 14.80971255, 95.17293285, 41.71072005, 49.5544875,
> > > 58.58756265, 54.11350035, 61.47588135, 38.02952955, 68.526777,
> > > 62.15548575, 77.6784310738351, 50.5600232415771, 131.876932720878,
> > > 20.6789463878136, 30.9527021610215, 51.8652541034946, 50.5158733141577,
> > > 65.3799359472222, 100.009112523321, 53.1610290997312, 60.1700076922043,
> > > 32.2775382972222, 33.8153090258961, 54.401286830914, 95.0948838978495,
> > > 76.6519537191756, 57.9907266771505, 100.305556442832, 67.9363689859319,
> > > 36.8437233959677, 104.980864599731, 29.1320843302867, 48.3498203616488,
> > > 45.5838020353047, 70.4890298277778, 38.6008566758961, 55.4927880633513,
> > > 87.7219305972222, 54.7773224196237, 43.3184540353047, 94.7221976139785,
> > > 109.994754833695, 69.5983515602151, 65.4988362689964, 130.990821687186,
> > > 67.8702794202509, 64.9310106890681, 40.9020659196237, 28.7862263164875,
> > > 73.8719355863588, 44.2015371620968, 26.9290029520609, 87.4829120246416,
> > > 49.3287477370072, 52.4560850095878, 105.858686949731, 51.1010205514337,
> > > 84.4875812418607, 44.0169194196237, 56.9543198177419, 109.201614576703,
> > > 155.199816965233, 59.9808227158602, 47.1291171577061, 93.1677987708781,
> > > 80.5607447070789, 116.459338258333, 82.8986102315412, 64.9543881602151,
> > > 50.5573167326165, 107.571298157258, 67.0962686045699, 77.3657611358944,
> > > 70.7801148664875, 73.4220260571224, 30.2768192108423, 53.2795572765233,
> > > 39.5983236376344, 119.826015501434, 41.0489109464158, 79.0048065370072,
> > > 67.9431183426523, 50.6200062464158, 81.1957762876344, 51.8652033564516,
> > > 45.4861804724328, 64.5839189739347, 69.7335909436077, 83.2834162480453,
> > > 60.7586179353601, 59.0404232122419, 52.2671818563404, 46.4495093287553,
> > > 40.0792220246565, 33.0039252222804, 69.8833876014689, 71.1205502192063,
> > > 25.9164851853527), ...6 = c(62.0139015, 60.9944949, 44.0043849,
> > > 49.01646735, 62.0139015, 54.9913227, 75.29450415, 45.1370589,
> > > 38.59586655, 84.63906465, 62.66518905, 137.9030595, 93.7287735,
> > > 81.58084485, 52.58439045, 56.49211575, 59.0123154, 90.18916725,
> > > 88.37688885, 86.79114525, 104.00779005, 53.43389595, 61.5041982,
> > > 60.1449894, 77.10678255, 61.13607915, 75.57767265, 52.01805345,
> > > 56.067363, 108.170367, 79.37213055, 61.64578245, 57.05845275,
> > > 63.11825865, 85.99827345, 49.1580516, 67.7339052, 65.89330995,
> > > 49.4663906333333, 62.902124174537, 125.42931227963, 56.1662971796296,
> > > 49.3735742916667, 89.0394507013889, 92.5179659694444, 86.3792399597222,
> > > 70.559909350463, 68.0506344111111, 77.1285445736111, 68.6415301606481,
> > > 60.7908582935185, 107.425126938426, 90.4807259277778, 81.396785325,
> > > 72.1131410115741, 68.8834469532407, 91.5248660726852, 48.0119183564815,
> > > 82.2235674268519, 33.5023294574074, 58.6514503578704, 64.0816433337963,
> > > 82.6175561916667, 114.884519368981, 59.435669787037, 93.4450806138889,
> > > 110.401979493519, 78.3836627305556, 84.819803062963, 117.287431325463,
> > > 86.534895237037, 45.5510617347222, 69.754801874537, 103.916983855093,
> > > 69.9525828361111, 71.7655604175926, 52.4842327027778, 78.1433190962963,
> > > 50.0991498740741, 33.9123993962963, 107.815794591204, 71.0580761560185,
> > > 85.9337739583333, 104.136789033333, 58.433218337963, 56.3486961486111,
> > > 105.916555494444, 100.764898941204, 89.4245249023148, 101.514945875463,
> > > 62.5367144527778, 80.3241535347222, 50.7403866902778, 52.1234550583333,
> > > 106.172281121296, 119.406737793519, 109.830748223148, 98.7653273018519,
> > > 110.709881538426, 60.5554089296296, 57.7968757921296, 164.881151758333,
> > > 114.807172417593, 42.3015284018519, 47.3479581421296, 69.258295625,
> > > 79.6316142773148, 38.6308256240741, 93.6480180388889, 74.1446128060185,
> > > 68.0709980717593, 92.146788000463, 79.0773117590429, 89.7252644488388,
> > > 53.5003470216826, 62.6669327681478, 74.0358775483401, 49.6010839106274,
> > > 62.4195698709396, 39.292332545434, 99.9687981401921, 40.2746960761065,
> > > 76.0016770163077, 69.3366089449157, 89.2159743205815, 48.0730413172471
> > > ), ...7 = c(91.0103559, 63.00499125, 62.0139015, 55.9540956,
> > > 60.00340515, 88.0087698, 75.80420745, 35.2827951, 85.48857015,
> > > 119.63869125, 74.72816715, 93.445605, 125.160477, 73.87866165,
> > > 73.3972752, 56.77528425, 42.95666145, 118.8175026, 82.4586672,
> > > 93.81372405, 99.42046035, 58.332711, 87.1026306, 72.12301695,
> > > 54.73647105, 49.41290325, 98.68422225, 60.7679601, 61.02281175,
> > > 178.48110555, 60.22993995, 54.84973845, 64.70400225, 94.43669475,
> > > 75.06796935, 59.7485535, 60.45647475, 151.8915834, 77.8770211688172,
> > > 76.8059709947133, 95.5358418702509, 45.1915104771505, 44.3152274541219,
> > > 79.5500496827957, 73.7685236509857, 61.4291771547491, 97.5867666978495,
> > > 88.5714360972222, 116.80599130914, 81.5496015871864, 109.510765562724,
> > > 136.904898995341, 164.49342743405, 86.2917435997312, 98.5759449758961,
> > > 95.1858395146057, 111.213971651613, 86.007780062724, 136.084454635305,
> > > 37.0162295108423, 83.3701686708781, 62.8513968664875, 86.4204719321685,
> > > 72.132523562724, 104.871318649552, 109.474532174014, 95.9775948796595,
> > > 50.6672348277778, 88.3225895139785, 121.58091591147, 76.8334928077061,
> > > 55.6079161882617, 95.6947985246416, 127.831395367742, 49.1690975396953,
> > > 86.238831349552, 63.4233667882616, 111.597500887007, 31.898796199552,
> > > 48.6903161045699, 106.279244610842, 74.6957567051971, 47.4088856058244,
> > > 130.007276330914, 88.8368093008065, 50.7865072945341, 101.199211870251,
> > > 75.9300093696237, 73.9893747821685, 103.683178131541, 140.684961650806,
> > > 104.768995695161, 57.2737217064516, 58.7820591501792, 92.9597528102151,
> > > 99.9310094340502, 94.2899004702509, 115.778989568369, 96.1018067252688,
> > > 39.8479145108423, 87.5417785945341, 108.026972772133, 67.422470597043,
> > > 70.607930149552, 88.305961399552, 59.7161430551971, 69.4862005951613,
> > > 54.6980047913978, 126.661692942025, 127.072473339516, 110.780456578853,
> > > 93.7374850757168, 69.9698735972591, 106.738637147415, 64.5152740485102,
> > > 87.1268323629885, 43.3975092336417, 52.5152792378864, 63.7137140203338,
> > > 84.6634689840074, 83.2759556945253, 47.5837274800544, 86.8166065787247,
> > > 112.648942563551, 143.549465228576, 65.8425685705771), ...8 =
> > > c(88.99985955,
> > > 92.9925354, 79.99510125, 69.00816345, 66.00657735, 89.9909493,
> > > 44.71230615, 62.49528795, 91.8032277, 83.67629175, 85.14876795,
> > > 115.8159165, 124.59414, 66.79944915, 73.057473, 71.6416305,
> 59.89013775,
> > > 79.59866535, 116.8919568, 133.7687994, 100.77966915, 58.02122565,
> > > 101.85570945, 97.38164715, 77.61648585, 72.9442056, 95.3145171,
> > > 71.358462, 85.71510495, 104.3759091, 96.5604585, 94.71986325,
> > > 51.16854795, 87.8388687, 97.6931325, 69.093114, 64.08103155,
> > > 116.463431853136, 69.5767840669355, 88.8546045972222, 155.196044768369,
> > > 76.1697722321685, 88.3709345302867, 96.0580289428316, 82.8718327085125,
> > > 81.7255585009857, 126.300796887814, 113.122145047222, 92.5947124141577,
> > > 96.673455249104, 66.9335905003584, 106.393679192832, 124.757342490323,
> > > 91.3846322578853, 112.209577888441, 80.9145700066308, 118.335473354122,
> > > 136.781803584677, 88.5102859103943, 48.9130787077061, 76.6303862258961,
> > > 66.0512009164875, 91.1909307947133, 90.038228628405, 120.433525268996,
> > > 127.600344080914, 93.5963237177419, 58.4067678514337, 91.812734312724,
> > > 96.4453811221326, 95.4837246570789, 91.6730107876344, 117.778913617742,
> > > 107.262417822133, 72.8408169577061, 93.2214045639785, 75.6332406620968,
> > > 138.346774728405, 41.828554683871, 82.8804427901434, 121.71458362276,
> > > 92.5882337083333, 71.4110021051971, 105.813741985305, 73.4316986108423,
> > > 52.584441197043, 149.500585721505, 70.0548212120968, 71.3453354315412,
> > > 118.636386403495, 159.896641868369, 124.508495907079, 99.5186897095878,
> > > 61.6371723683692, 135.166203807706, 69.8381144227599, 99.953642615233,
> > > 96.6851439846774, 113.023966434677, 37.3526316589606, 94.9774214089606,
> > > 129.41979472966, 96.4015525926523, 68.4592496014337, 92.3934158102151,
> > > 112.763803260842, 87.9348144426523, 115.168451893907, 114.463558550806,
> > > 105.081225335125, 115.213396858333, 107.920082583871, 113.556526721806,
> > > 87.182534043245, 100.746877538778, 107.820717028533, 61.2195953835266,
> > > 54.8629442665856, 71.7839889353526, 69.3780698503958, 64.8880471329152,
> > > 84.3745727047643, 86.8773256086014, 115.250098093976, 124.182856141139,
> > > 90.1817841662871), ...9 = c(54.00023295, 68.0170737, 60.9944949,
> > > 82.99668735, 66.9976671, 79.0040115, 80.2499529, 48.7616157,
> > > 78.80579355, 110.5489824, 105.0555135, 100.807986, 122.86681215,
> > > 51.8198355, 80.78797305, 79.3438137, 124.96225905, 82.65688515,
> > > 113.1541326, 135.6377115, 104.9422461, 84.8372826, 68.49846015,
> > > 88.77332475, 103.6963047, 81.69411225, 74.55826605, 67.6772715,
> > > 88.914909, 142.5470229, 96.7303596, 67.64895465, 76.3422276,
> > > 119.2705722, 79.54203165, 85.0071837, 79.7968833, 85.1213250768518,
> > > 91.1265074236111, 94.8002691203704, 101.243139074537, 67.7463156712963,
> > > 65.3070462777778, 92.9989154310185, 104.489963079167, 88.6454619365741,
> > > 95.6530957324074, 96.2138392805556, 106.431327860185, 82.2418335430556,
> > > 71.5570295407407, 113.462384235648, 93.298339900463, 92.4140501217593,
> > > 94.4176420546296, 86.020909450463, 103.683457240278, 85.9453104527778,
> > > 94.0256634365741, 59.9890719296296, 93.0187547055556, 100.441352710648,
> > > 82.4177650833333, 94.4054063787037, 95.6760813236111, 118.294777044907,
> > > 108.812652588426, 95.822822037037, 109.342894344444, 98.7759898194444,
> > > 98.0270790550926, 94.9162458486111, 119.636593705556, 93.1206604064815,
> > > 96.5566130018519, 87.0842770861111, 75.9921124731482, 95.2274690055556,
> > > 63.7360728865741, 75.1976675148148, 87.622734224537, 79.9642498671296,
> > > 64.7750565680556, 72.1407586800926, 75.4217551796296, 89.185317437963,
> > > 106.493555012037, 121.68947793287, 111.078000588426, 137.71209555787,
> > > 119.270484802315, 83.6887022212963, 110.169414253241, 106.021782307407,
> > > 105.793237360648, 112.292741014815, 92.3540953097222, 88.7946497851852,
> > > 88.3137003236111, 48.0344669592593, 56.6142103162037, 100.058725644907,
> > > 92.1715215453704, 81.5248229337963, 84.5357605861111, 99.5218416648148,
> > > 98.9644192287037, 113.18262424537, 84.0182788921296, 78.1174493814815,
> > > 58.5339878689815, 86.7326761986111, 63.3940417265209, 90.5242216237781,
> > > 87.7613482821531, 79.4634654046871, 75.4329525046438, 87.8455136741353,
> > > 82.7085680835468, 66.420417900437, 87.3192277343693, 64.8283838519554,
> > > 90.4344488320088, 101.89113025832, 107.25424417281, 55.0424269132735
> > > ), ...10 = c(75.01133565, 75.01133565, 91.0103559, 78.01292175,
> > > 91.0103559, 78.01292175, 57.51152235, 75.5493558, 58.899048,
> > > 129.77612355, 102.25214535, 103.78125525, 124.5375063, 68.15865795,
> > > 86.083224, 75.12460305, 149.7395028, 108.82165455, 122.92344585,
> > > 119.63869125, 108.4535355, 71.1319272, 136.8836529, 92.34124785,
> > > 106.10323695, 270.3126501, 75.12460305, 90.98203905, 76.3988613,
> > > 91.6899603, 114.76819305, 96.30560685, 95.00303175, 89.33966175,
> > > 115.5893817, 53.43389595, 130.17255945, 74.0648187194444,
> > 98.415448994534,
> > > 117.077048181541, 111.656418203943, 69.0909318771505, 91.8837125102151,
> > > 184.392256445341, 143.99505594095, 111.688557997849, 164.432649392204,
> > > 92.4773006723118, 96.031623564785, 98.7507854547491, 89.6331318997312,
> > > 116.630034395341, 79.1743862390681, 82.1261387428315, 145.541538245341,
> > > 97.1231247972222, 70.2878347179212, 74.8902532053764, 109.844562695968,
> > > 99.9151256095878, 80.1571873053764, 93.3414720677419, 112.481429797849,
> > > 107.20843988405, 99.7747085415771, 91.5307329947133, 103.970490973387,
> > > 120.196790313351, 104.027496818369, 93.228576812724, 119.336712512724,
> > > 82.0989383277778, 126.093123072133, 106.900354585932, 89.8837884608423,
> > > 100.182088887186, 104.524344200806, 134.879635255824, 91.8319674420251,
> > > 133.253513925269, 83.6035035746416, 88.3071285815412, 96.0991509633513,
> > > 95.2481568834229, 117.772485658961, 106.50540726586, 128.208598138441,
> > > 95.8156103183692, 153.21083736147, 131.853555249731, 152.367387675269,
> > > 119.728631925896, 147.733996575896, 85.6276001321685, 83.440402578405,
> > > 147.025703180914, 101.382341032796, 77.8944443202509, 94.4307404302867,
> > > 59.4824360064516, 91.2871979353047, 100.210777882168, 116.855774158333,
> > > 71.9237333120968, 85.1692190083333, 99.4269390558244, 119.594219924642,
> > > 69.1883154526882, 122.62561145457, 78.3248299920251, 62.5127111014337,
> > > 109.128674160215, 92.5094141691414, 102.214150982881, 113.304196757922,
> > > 104.289463219631, 69.3166222008229, 75.6406286742023, 96.6916710132641,
> > > 61.1471702956426, 87.6592065685503, 60.3468631148267, 81.8521951100248,
> > > 76.5965939733406, 103.143649918913, NA), ...11 = c(111.99314175,
> > > 82.99668735, 84.01609395, 135.0147408, 88.99985955, 113.52225165,
> > > 117.31670955, 64.19429895, 97.21174605, 109.4729421, 181.22784,
> > > 319.980405, 127.1426565, 100.60976805, 156.90366585, 174.6583308,
> > > 107.7172974, 126.4064184, 110.35076445, 234.83163705, 71.55667995,
> > > 71.4150957, 109.10482305, 119.0440374, 168.3719901, 146.76623355,
> > > 107.68898055, 109.4729421, 92.79431745, 139.34721885, 169.02327765,
> > > 103.49808675, 99.108975, 269.09502555, 239.7304521, 117.3450264,
> > > 165.5403051, 452.789752612037, 112.674668899074, 136.845023123148,
> > > 125.390507707407, 147.205406918056, 101.483482708796, 148.538046821759,
> > > 93.6385790888889, 104.208804725926, 145.404228024074, 92.5718903412037,
> > > 77.9773508921296, 100.475874796296, 108.628243472685, 140.548237839815,
> > > 144.128658808796, 84.9861208578704, 82.5432681592593, 121.266910125,
> > > 142.538632722222, 193.310132988426, 182.567559116204, 142.72417800787,
> > > 104.623069753704, 141.985492772685, 103.156623993981, 114.944911169444,
> > > 104.799438282407, 117.003563643981, 117.717515334259, 147.705758665741,
> > > 254.736285055556, 120.990908235185, 113.687171081944, 87.6590916615741,
> > > 129.361771124537, 107.696933739352, 77.3595366555556, 151.29439501713,
> > > 100.562660697685, 138.193744200926, 95.7973893106481, 102.302224223611,
> > > 110.082453556481, 108.45808017963, 100.091499776852, 115.70011456713,
> > > 72.1630450898148, 114.096978827778, 133.093564884259, 83.1709583342593,
> > > 133.803933269444, 182.775128618519, 122.711069475, 148.112857083333,
> > > 121.410067533333, 149.270963809722, 104.353972281019, 113.122844228704,
> > > 147.872513449074, 112.707443031019, 122.870308057407, 58.9955350444444,
> > > 89.6550799958333, 147.303729313889, 75.6135057009259, 106.781442987037,
> > > 137.607567926389, 127.527206314815, 234.885299228704, 92.3349552166667,
> > > 202.163518497685, 202.821273476389, 143.923798634722, 225.143428851852,
> > > 157.530355633389, 187.676065594925, 221.071077738915, 82.7623531446858,
> > > 77.798518465568, 129.726331786836, 174.877740649028, 76.0276641003277,
> > > 152.010982110292, 102.903773583178, 83.4300837163835, 99.7688463421467,
> > > 96.9843391694606, NA), ...12 = c(49.01646735, 63.996081, 65.0154876,
> > > 85.99827345, 51.9897366, 155.0064369, 66.5445975, 36.38715225,
> > > 206.23161855, 82.0055976, 116.75037255, 489.881505, 168.8816934,
> > > 39.38873835, 86.5929273, 65.9216268, 97.8630336, 95.4277845,
> > > 76.82361405, 88.99985955, 46.9493373, 61.9006341, 62.863407,
> > > 102.81848235, 117.4582938, 71.5283631, 99.5054109, 61.47588135,
> > > 98.2594695, 155.94089295, 109.9826454, 61.36261395, 67.02598395,
> > > 85.77173865, 132.04147155, 140.9612793, 95.28620025, 226.915825714606,
> > > 47.7665338492832, 215.910399075269, 212.148030222133, 90.9036179528674,
> > > 44.6233634992832, 82.859771827957, 84.9997408003584, 183.01078660914,
> > > 226.450745981093, 151.807529381093, 156.272135815412, 96.0256184980287,
> > > 57.7046317643369, 114.181235834857, 157.950002214158, 77.9836407061828,
> > > 135.604607512276, 84.7630565917563, 122.853364183602, 101.765599617294,
> > > 91.7150293392473, 87.4384406992832, 72.8254067723118, 204.161240689247,
> > > 214.597674566667, 70.3557850085125, 75.8190763336022, 49.8698972879928,
> > > 44.2102994848566, 126.040684461021, 166.839209497222, 110.586112319803,
> > > 68.2977386792115, 147.835203095341, 203.118727268996, 52.2794852999104,
> > > 56.9600542336022, 69.8238206723118, 61.674251541129, 129.046414902867,
> > > 32.7366637110215, 79.5157277660394, 52.6014922034946, 98.6752400233871,
> > > 89.3299859804659, 141.735763754749, 39.2333339886201, 181.927574060394,
> > > 74.4077503204301, 145.684661822312, 63.3958957223118, 89.1317680304659,
> > > 84.1083689898745, 86.3574610204301, 103.421949269803, 72.9182738610215,
> > > 68.2365377453405, 68.8206192947133, 58.5744868285842, 122.020063906004,
> > > 178.942193182796, 28.2040562390681, 138.280685162724, 296.330997365233,
> > > 173.333545410842, 149.083377365233, 65.756343680914, 159.737685213978,
> > > 105.61780765224, 46.7002200658602, 86.7429017277778, 189.154748022133,
> > > 96.7353497258961, 68.4664725972222, 499.277855419375, 170.849271829193,
> > > 148.879966449353, 60.8120779047451, 91.4588421221316, 43.0376842705498,
> > > 108.148547912706, 121.468512697252, 42.6455518427129, 96.4984871785073,
> > > 109.87928815051, 85.3031155445198, 58.5462485275265, NA)), row.names =
> > > c(NA,
> > > -126L), class = "data.frame")
> > >
> > > What I want to do is, instead of having 12 observations  by row, I want
> > to
> > > have one observation by row. I want to have a single column with 1509
> > > observations instead of 126 rows with 12 columns per row.
> > >
> > > I tried the following:
> > > df = data.frame(matrix(nrow = Length, ncol = 1))
> > > colnames(df) = c("aportes_alajuela")
> > >
> > >
> > >
> > > for (row in 1:nrow(alajuela_df)){
> > >   for (col in 1:ncol(alajuela_df)){
> > >     df[i,1]=alajuela_df[i,j]
> > >   }
> > > }
> > >
> > > But I am not getting the data in the structure I want.
> > >
> > > Any help will be greatly appreciated.
> > >
> > > Best regards,
> > > Paul
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bor|@@@te|pe @end|ng |rom utoronto@c@  Sat Oct 28 19:54:27 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Sat, 28 Oct 2023 17:54:27 +0000
Subject: [R] col.names in as.data.frame() ?
Message-ID: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>

I have been trying to create a data frame from some structured text in a single expression. Reprex:

nouns <- as.data.frame(
  matrix(c(
    "gaggle",
    "geese",
    
    "dule",
    "doves",
    
    "wake",
    "vultures"
  ), ncol = 2, byrow = TRUE),
  col.names = c("collective", "category")
)

But ... :

> str(nouns)
'data.frame':	3 obs. of  2 variables:
 $ V1: chr  "gaggle" "dule" "wake"
 $ V2: chr  "geese" "doves" "vultures"

i.e. the col.names argument does nothing. From my reading of ?as.data.frame, my example should have worked.

I know how to get the required result with colnames(), but I would like to understand why the idiom as written didn't work, and how I could have known that from the help file.


Thanks!
Boris


From murdoch@dunc@n @end|ng |rom gm@||@com  Sat Oct 28 20:15:06 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sat, 28 Oct 2023 14:15:06 -0400
Subject: [R] col.names in as.data.frame() ?
In-Reply-To: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
Message-ID: <7a0f89b3-fefb-4a28-9b47-f274d4bb94e4@gmail.com>

Sent a slightly shorter version of this to your email, this one is to 
the list:

On 28/10/2023 1:54 p.m., Boris Steipe wrote:
 > > I have been trying to create a data frame from some structured text 
in a single expression. Reprex:
 > >
 > > nouns <- as.data.frame(
 > >    matrix(c(
 > >      "gaggle",
 > >      "geese",
 > >
 > >      "dule",
 > >      "doves",
 > >
 > >      "wake",
 > >      "vultures"
 > >    ), ncol = 2, byrow = TRUE),
 > >    col.names = c("collective", "category")
 > > )
 > >

You are calling it on a matrix, so the as.data.frame.matrix method is
what matters.  It doesn't have a col.names argument, only row.names.

The docs are vague about what ... does, but if you look at the method,
you can see any unnamed arguments are ignored completely.

If you want to specify the column names in a single call, you'll need to 
put them in the matrix, e.g.

as.data.frame(
   matrix(c(
     "gaggle",
      "geese",

      "dule",
      "doves",

      "wake",
      "vultures"
    ), ncol = 2, byrow = TRUE,
    dimnames =  list(NULL, c("collective", "category"))
   )
)


Duncan Murdoch


From bbo|ker @end|ng |rom gm@||@com  Sat Oct 28 20:21:17 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Sat, 28 Oct 2023 14:21:17 -0400
Subject: [R] weights vs. offset (negative binomial regression)
In-Reply-To: <CAPFqpxHHhbkVhiJTV8GKMmsRNgbjogHrXrb8d3sZmJm22B53Cw@mail.gmail.com>
References: <CAPFqpxHHhbkVhiJTV8GKMmsRNgbjogHrXrb8d3sZmJm22B53Cw@mail.gmail.com>
Message-ID: <322cd6d4-3223-4cbe-b958-e8fd8f38f9cb@gmail.com>

   Using an offset of log(Effort) as in your second model is the more 
standard way to approach this problem; it corresponds to assuming that 
catch is strictly proportional to effort. Adding log(Effort) as a 
covariate (as illustrated below) tests whether a power-law model (catch 
propto (Effort)^(b+1), b!=0) is a better description of the data.  (In 
this case it is not, although the confidence intervals on b are very 
wide, indicating that we have very little information -- this is not 
surprising since the proportional range of effort is very small 
(246-258) in this data set.

   In general you should *not* check overdispersion of the raw data 
(i.e., the *marginal distribution* of the data, you should check 
overdispersion of a fitted (e.g. Poisson) model, as below.

   cheers
    Ben Bolker


edata <- data.frame(Catch, Effort, xx1, xx2, xx3)

## graphical exploration

library(ggplot2); theme_set(theme_bw())
library(tidyr)
edata_long <- edata |> pivot_longer(names_to="var", cols =-c("Catch", 
"Effort"))
ggplot(edata_long, aes(value, Catch)) +
     geom_point(alpha = 0.2, aes(size = Effort)) +
     facet_wrap(~var, scale="free_x") +
     geom_smooth(method = "glm", method.args = list(family = 
"quasipoisson"))
#

library(MASS)
g1 <- glm.nb(Catch~xx1+xx2+xx3+offset(log(Effort)), data=edata)
g2 <- update(g1, . ~ . + log(Effort))
g0 <- glm(Catch~xx1+xx2+xx3+offset(log(Effort)), data=edata,
           family = poisson)
performance::check_overdispersion(g0)
summary(g1)
summary(g2)
options(digits = 3)
confint(g2)
summary(g1)



On 2023-10-28 3:30 a.m., ??? wrote:
> Colleagues,
> 
> 
> 
> I have a dataset that includes five variables.
> 
> - Catch: the catch number counted in some species (ind.)
> 
> - Effort: fishing effort (the number of fishing vessels)
> 
> - xx1, xx2, xx3: some environmental factors
> 
> As an overdispersion test on the ?Catch? variable, I modeled with negative
> binomial distribution using a GLM. The ?Effort? variable showed a gradually
> decreasing trend during the study period. I was able to get the results I
> wanted when considered ?Effort? function as a weights function in the
> negative binomial regression as follows:
> 
> 
> 
> library(qcc)
> 
> Catch=c(25,2,7,6,75,5,1,4,66,15,9,25,40,8,7,4,36,11,1,14,141,9,74,38,126,3)
> 
> Effort=c(258,258,258,258,258,258,258,254,252,252,252,252,252,252,252,252,252,252,252,248,246,246,246,246,246,246)
> 
> xx1=c(0.8,0.5,1.2,0.5,1.1,1.1,1.0,0.6,0.9,0.5,1.2,0.6,1.2,0.7,1.0,0.6,1.6,0.7,0.8,0.6,1.7,0.9,1.1,0.5,1.4,0.5)
> 
> xx2=c(1.7,1.6,2.7,2.6,1.5,1.5,2.8,2.5,1.7,1.9,2.2,2.4,1.6,1.4,3.0,2.4,1.4,1.5,2.2,2.3,1.7,1.7,1.9,1.9,1.4,1.4)
> 
> xx3=c(188,40,2,10,210,102,117,14,141,28,48,15,220,115,10,14,320,20,3,10,400,150,145,160,460,66)
> 
> #
> 
> edata <- data.frame(Catch, Effort, xx1, xx2, xx3)
> 
> #
> 
> qcc.overdispersion.test(edata$Catch, type="poisson")
> 
> #
> 
> summary(glm.nb(Catch~xx1+xx2+xx3, weights=Effort, data=edata))
> 
> summary(glm.nb(Catch~xx1+xx2+xx3+offset(log(Effort)), data=edata))
> 
> 
> 
> I am not sure the application of the weights function to the negative
> binomial regression is correct. Also I wonder if there is a better way
> doing this. Can anyone help?
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @vi@e@gross m@iii@g oii gm@ii@com  Sat Oct 28 20:24:08 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Sat, 28 Oct 2023 14:24:08 -0400
Subject: [R] col.names in as.data.frame() ?
In-Reply-To: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
Message-ID: <00c901da09cb$f12006f0$d36014d0$@gmail.com>

?????,

Try this where you tell matrix the column names you want:

nouns <- as.data.frame(
  matrix(c(
    "gaggle",
    "geese",
    
    "dule",
    "doves",
    
    "wake",
    "vultures"
  ), 
  ncol = 2, 
  byrow = TRUE, 
  dimnames=list(NULL, c("collective", "category"))))

Result:

> nouns
  collective category
1     gaggle    geese
2       dule    doves
3       wake vultures


The above simply names the columns earlier when creating the matrix.

There are other ways and the way you tried LOOKS like it should work but
fails for me with a message about it weirdly expecting three rows versus two
which seems to confuse rows and columns. My version of R is recent and I
wonder if there is a bug here.

Consider whether you really need the data.frame created in a single
statement or can you change the column names next as in:


> nouns
      V1       V2
1 gaggle    geese
2   dule    doves
3   wake vultures
> colnames(nouns)
[1] "V1" "V2"
> colnames(nouns) <- c("collective", "category")
> nouns
  collective category
1     gaggle    geese
2       dule    doves
3       wake vultures

Is there a known bug here or is the documentation wrong?

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
Sent: Saturday, October 28, 2023 1:54 PM
To: R. Mailing List <r-help at r-project.org>
Subject: [R] col.names in as.data.frame() ?

I have been trying to create a data frame from some structured text in a
single expression. Reprex:

nouns <- as.data.frame(
  matrix(c(
    "gaggle",
    "geese",
    
    "dule",
    "doves",
    
    "wake",
    "vultures"
  ), ncol = 2, byrow = TRUE),
  col.names = c("collective", "category")
)

But ... :

> str(nouns)
'data.frame':	3 obs. of  2 variables:
 $ V1: chr  "gaggle" "dule" "wake"
 $ V2: chr  "geese" "doves" "vultures"

i.e. the col.names argument does nothing. From my reading of ?as.data.frame,
my example should have worked.

I know how to get the required result with colnames(), but I would like to
understand why the idiom as written didn't work, and how I could have known
that from the help file.


Thanks!
Boris

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bor|@@@te|pe @end|ng |rom utoronto@c@  Sat Oct 28 20:39:22 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Sat, 28 Oct 2023 18:39:22 +0000
Subject: [R] col.names in as.data.frame() ?
In-Reply-To: <00c901da09cb$f12006f0$d36014d0$@gmail.com>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
Message-ID: <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>

Thanks Duncan and Avi!

That you could use NULL in a matrix() dimnames = list(...) argument wasn't clear to me. I thought that would be equivalent to a one-element list - and thereby define rownames. So that's good to know.

The documentation could be more explicit - but it is probably more work to do that than just patch the code to honour a col.names argument. (At least I can't see a reason not to.)

Thanks again!
:-)




> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
> 
> ?????,
> 
> Try this where you tell matrix the column names you want:
> 
> nouns <- as.data.frame(
>  matrix(c(
>    "gaggle",
>    "geese",
> 
>    "dule",
>    "doves",
> 
>    "wake",
>    "vultures"
>  ), 
>  ncol = 2, 
>  byrow = TRUE, 
>  dimnames=list(NULL, c("collective", "category"))))
> 
> Result:
> 
>> nouns
>  collective category
> 1     gaggle    geese
> 2       dule    doves
> 3       wake vultures
> 
> 
> The above simply names the columns earlier when creating the matrix.
> 
> There are other ways and the way you tried LOOKS like it should work but
> fails for me with a message about it weirdly expecting three rows versus two
> which seems to confuse rows and columns. My version of R is recent and I
> wonder if there is a bug here.
> 
> Consider whether you really need the data.frame created in a single
> statement or can you change the column names next as in:
> 
> 
>> nouns
>      V1       V2
> 1 gaggle    geese
> 2   dule    doves
> 3   wake vultures
>> colnames(nouns)
> [1] "V1" "V2"
>> colnames(nouns) <- c("collective", "category")
>> nouns
>  collective category
> 1     gaggle    geese
> 2       dule    doves
> 3       wake vultures
> 
> Is there a known bug here or is the documentation wrong?
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
> Sent: Saturday, October 28, 2023 1:54 PM
> To: R. Mailing List <r-help at r-project.org>
> Subject: [R] col.names in as.data.frame() ?
> 
> I have been trying to create a data frame from some structured text in a
> single expression. Reprex:
> 
> nouns <- as.data.frame(
>  matrix(c(
>    "gaggle",
>    "geese",
> 
>    "dule",
>    "doves",
> 
>    "wake",
>    "vultures"
>  ), ncol = 2, byrow = TRUE),
>  col.names = c("collective", "category")
> )
> 
> But ... :
> 
>> str(nouns)
> 'data.frame': 3 obs. of  2 variables:
> $ V1: chr  "gaggle" "dule" "wake"
> $ V2: chr  "geese" "doves" "vultures"
> 
> i.e. the col.names argument does nothing. From my reading of ?as.data.frame,
> my example should have worked.
> 
> I know how to get the required result with colnames(), but I would like to
> understand why the idiom as written didn't work, and how I could have known
> that from the help file.
> 
> 
> Thanks!
> Boris
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Oct 28 20:54:01 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 28 Oct 2023 11:54:01 -0700
Subject: [R] [Tagged]  Re:  col.names in as.data.frame() ?
In-Reply-To: <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
 <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
Message-ID: <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>

as.data.frame is a _converter_, while data.frame is a _constructor_.  Changing the object contents is not what a conversion is for.

On October 28, 2023 11:39:22 AM PDT, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>Thanks Duncan and Avi!
>
>That you could use NULL in a matrix() dimnames = list(...) argument wasn't clear to me. I thought that would be equivalent to a one-element list - and thereby define rownames. So that's good to know.
>
>The documentation could be more explicit - but it is probably more work to do that than just patch the code to honour a col.names argument. (At least I can't see a reason not to.)
>
>Thanks again!
>:-)
>
>
>
>
>> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
>> 
>> ?????,
>> 
>> Try this where you tell matrix the column names you want:
>> 
>> nouns <- as.data.frame(
>>  matrix(c(
>>    "gaggle",
>>    "geese",
>> 
>>    "dule",
>>    "doves",
>> 
>>    "wake",
>>    "vultures"
>>  ), 
>>  ncol = 2, 
>>  byrow = TRUE, 
>>  dimnames=list(NULL, c("collective", "category"))))
>> 
>> Result:
>> 
>>> nouns
>>  collective category
>> 1     gaggle    geese
>> 2       dule    doves
>> 3       wake vultures
>> 
>> 
>> The above simply names the columns earlier when creating the matrix.
>> 
>> There are other ways and the way you tried LOOKS like it should work but
>> fails for me with a message about it weirdly expecting three rows versus two
>> which seems to confuse rows and columns. My version of R is recent and I
>> wonder if there is a bug here.
>> 
>> Consider whether you really need the data.frame created in a single
>> statement or can you change the column names next as in:
>> 
>> 
>>> nouns
>>      V1       V2
>> 1 gaggle    geese
>> 2   dule    doves
>> 3   wake vultures
>>> colnames(nouns)
>> [1] "V1" "V2"
>>> colnames(nouns) <- c("collective", "category")
>>> nouns
>>  collective category
>> 1     gaggle    geese
>> 2       dule    doves
>> 3       wake vultures
>> 
>> Is there a known bug here or is the documentation wrong?
>> 
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
>> Sent: Saturday, October 28, 2023 1:54 PM
>> To: R. Mailing List <r-help at r-project.org>
>> Subject: [R] col.names in as.data.frame() ?
>> 
>> I have been trying to create a data frame from some structured text in a
>> single expression. Reprex:
>> 
>> nouns <- as.data.frame(
>>  matrix(c(
>>    "gaggle",
>>    "geese",
>> 
>>    "dule",
>>    "doves",
>> 
>>    "wake",
>>    "vultures"
>>  ), ncol = 2, byrow = TRUE),
>>  col.names = c("collective", "category")
>> )
>> 
>> But ... :
>> 
>>> str(nouns)
>> 'data.frame': 3 obs. of  2 variables:
>> $ V1: chr  "gaggle" "dule" "wake"
>> $ V2: chr  "geese" "doves" "vultures"
>> 
>> i.e. the col.names argument does nothing. From my reading of ?as.data.frame,
>> my example should have worked.
>> 
>> I know how to get the required result with colnames(), but I would like to
>> understand why the idiom as written didn't work, and how I could have known
>> that from the help file.
>> 
>> 
>> Thanks!
>> Boris
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bor|@@@te|pe @end|ng |rom utoronto@c@  Sat Oct 28 20:59:12 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Sat, 28 Oct 2023 18:59:12 +0000
Subject: [R] [Tagged]  Re:  col.names in as.data.frame() ?
In-Reply-To: <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
 <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
 <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
Message-ID: <9D10DECC-B2A9-4C02-8D86-329D910B99C4@utoronto.ca>

Ah - that's an excellent point. Thanks.



> On Oct 28, 2023, at 14:54, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
> 
> as.data.frame is a _converter_, while data.frame is a _constructor_.  Changing the object contents is not what a conversion is for.
> 
> On October 28, 2023 11:39:22 AM PDT, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>> Thanks Duncan and Avi!
>> 
>> That you could use NULL in a matrix() dimnames = list(...) argument wasn't clear to me. I thought that would be equivalent to a one-element list - and thereby define rownames. So that's good to know.
>> 
>> The documentation could be more explicit - but it is probably more work to do that than just patch the code to honour a col.names argument. (At least I can't see a reason not to.)
>> 
>> Thanks again!
>> :-)
>> 
>> 
>> 
>> 
>>> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
>>> 
>>> ?????,
>>> 
>>> Try this where you tell matrix the column names you want:
>>> 
>>> nouns <- as.data.frame(
>>> matrix(c(
>>>   "gaggle",
>>>   "geese",
>>> 
>>>   "dule",
>>>   "doves",
>>> 
>>>   "wake",
>>>   "vultures"
>>> ), 
>>> ncol = 2, 
>>> byrow = TRUE, 
>>> dimnames=list(NULL, c("collective", "category"))))
>>> 
>>> Result:
>>> 
>>>> nouns
>>> collective category
>>> 1     gaggle    geese
>>> 2       dule    doves
>>> 3       wake vultures
>>> 
>>> 
>>> The above simply names the columns earlier when creating the matrix.
>>> 
>>> There are other ways and the way you tried LOOKS like it should work but
>>> fails for me with a message about it weirdly expecting three rows versus two
>>> which seems to confuse rows and columns. My version of R is recent and I
>>> wonder if there is a bug here.
>>> 
>>> Consider whether you really need the data.frame created in a single
>>> statement or can you change the column names next as in:
>>> 
>>> 
>>>> nouns
>>>     V1       V2
>>> 1 gaggle    geese
>>> 2   dule    doves
>>> 3   wake vultures
>>>> colnames(nouns)
>>> [1] "V1" "V2"
>>>> colnames(nouns) <- c("collective", "category")
>>>> nouns
>>> collective category
>>> 1     gaggle    geese
>>> 2       dule    doves
>>> 3       wake vultures
>>> 
>>> Is there a known bug here or is the documentation wrong?
>>> 
>>> -----Original Message-----
>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
>>> Sent: Saturday, October 28, 2023 1:54 PM
>>> To: R. Mailing List <r-help at r-project.org>
>>> Subject: [R] col.names in as.data.frame() ?
>>> 
>>> I have been trying to create a data frame from some structured text in a
>>> single expression. Reprex:
>>> 
>>> nouns <- as.data.frame(
>>> matrix(c(
>>>   "gaggle",
>>>   "geese",
>>> 
>>>   "dule",
>>>   "doves",
>>> 
>>>   "wake",
>>>   "vultures"
>>> ), ncol = 2, byrow = TRUE),
>>> col.names = c("collective", "category")
>>> )
>>> 
>>> But ... :
>>> 
>>>> str(nouns)
>>> 'data.frame': 3 obs. of  2 variables:
>>> $ V1: chr  "gaggle" "dule" "wake"
>>> $ V2: chr  "geese" "doves" "vultures"
>>> 
>>> i.e. the col.names argument does nothing. From my reading of ?as.data.frame,
>>> my example should have worked.
>>> 
>>> I know how to get the required result with colnames(), but I would like to
>>> understand why the idiom as written didn't work, and how I could have known
>>> that from the help file.
>>> 
>>> 
>>> Thanks!
>>> Boris
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Sent from my phone. Please excuse my brevity.


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat Oct 28 21:59:57 2023
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sat, 28 Oct 2023 19:59:57 +0000 (UTC)
Subject: [R] Plot for 10 years extrapolation
In-Reply-To: <71fb1f81-a19e-4479-be87-8ff941daf448@sapo.pt>
References: <1501493895.4453884.1698344597473.ref@mail.yahoo.com>
 <1501493895.4453884.1698344597473@mail.yahoo.com>
 <71fb1f81-a19e-4479-be87-8ff941daf448@sapo.pt>
Message-ID: <881726038.322887.1698523197747@mail.yahoo.com>

Dear Rui,

I really thank you a lot for your precious R help. It is exactly what I was trying to do! Once more, many thanks!

Best,
Sacha






Le vendredi 27 octobre 2023 ? 09:36:18 UTC+2, Rui Barradas <ruipbarradas at sapo.pt> a ?crit : 





?s 19:23 de 26/10/2023, varin sacha via R-help escreveu:
> Dear R-Experts,
> 
> Here below my R code working but I don't know how to complete/finish my R code to get the final plot with the extrapolation for the10 more years.
> 
> Indeed, I try to extrapolate my data with a linear fit over the next 10 years. So I create a date sequence for the next 10 years and store as a dataframe to make the prediction possible.
> Now, I am trying to get the plot with the actual data (from year 2004 to 2018) and with the 10 more years extrapolation.
> 
> Thanks for your help.
> 
> ####################################################
> date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31", "2015-12-31", "2014-12-31", "2013-12-31", "2012-12-31", "2011-12-31", "2010-12-31", "2009-12-31", "2008-12-31", "2007-12-31", "2006-12-31", "2005-12-31", "2004-12-31"))
>? 
> value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209, 11099, 10087, 14987, 11098, 13421, 9023, 12098)
>? 
> model <- lm(value~date)
>? 
> plot(value~date ,col="grey",pch=20,cex=1.5,main="Plot")
> abline(model,col="darkorange",lwd=2)
>? 
> dfuture <- data.frame(date=seq(as.Date("2019-12-31"), by="1 year", length.out=10))
>? 
> predict(model,dfuture,interval="prediction")
> ########################################################
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Here is a way with base R graphics. Explained in the code comments.



####################################################
date <-as.Date(c("2018-12-31", "2017-12-31", "2016-12-31",
? ? ? ? ? ? ? ? ? "2015-12-31", "2014-12-31", "2013-12-31",
? ? ? ? ? ? ? ? ? "2012-12-31", "2011-12-31", "2010-12-31",
? ? ? ? ? ? ? ? ? "2009-12-31", "2008-12-31", "2007-12-31",
? ? ? ? ? ? ? ? ? "2006-12-31", "2005-12-31", "2004-12-31"))

value <-c(15348, 13136, 11733, 10737, 15674, 11098, 13721, 13209,
? ? ? ? ? 11099, 10087, 14987, 11098, 13421, 9023, 12098)

model <- lm(value ~ date)

dfuture <- data.frame(date = seq(as.Date("2019-12-31"), by="1 year", 
length.out=10))

########################################################

predfuture <- predict(model, dfuture, interval="prediction")
dfuture <- cbind(dfuture, predfuture)

# start the plot with the required x and y limits
xlim <- range(c(date, dfuture$date))
ylim <- range(c(value, dfuture$fit))

plot(value ~ date, col="grey", pch=20, cex=1.5, main="Plot"
? ? ? , xlim = xlim, ylim = ylim)

# abline extends the fitted line past the x value (date)
# limit making the next ten years line ugly and not even
# completely overplotting the abline drawn line
abline(model, col="darkorange", lwd=2)
lines(fit ~ date, dfuture
? ? ? # , lty = "dashed"
? ? ? , lwd=2
? ? ? , col = "black")

# if lines() is used for both the interpolated and extrapolated
# values you will have a gap between both fitted and predicted lines
# but it is closer to what you want

# get the fitted values first (interpolated values)
ypred <- predict(model)


plot(value ~ date, col="grey", pch=20, cex=1.5, main="Plot"

? ? ? , xlim = xlim, ylim = ylim)

# plot the interpolated values
lines(ypred ~ date, col="darkorange", lwd = 2)
# and now the extrapolated values
# I use normal orange to make the difference more obvious
lines(fit ~ date, dfuture, lty = "dashed", lwd=2, col = "orange")



Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From bgunter@4567 @end|ng |rom gm@||@com  Sat Oct 28 22:45:54 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 28 Oct 2023 13:45:54 -0700
Subject: [R] [Tagged] Re: col.names in as.data.frame() ?
In-Reply-To: <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
 <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
 <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
Message-ID: <CAGxFJbTDKQxKbXNMj1GaXWT82DtvhxKskKH5kqMFEZWDR04Fqg@mail.gmail.com>

Jeff, et. al. : but ...

Note that as.data.frame() *already* changes the matrix object by adding
column names of *its own choosing* when the matrix has none. So the issue
here is not *whether* col names should be added, but *what*/*how* they
should be. Unless you wish to extend your criticism to the current version
for its failure to adhere to your proscription.

Cheers,
Bert

On Sat, Oct 28, 2023 at 11:55?AM Jeff Newmiller via R-help <
r-help at r-project.org> wrote:

> as.data.frame is a _converter_, while data.frame is a _constructor_.
> Changing the object contents is not what a conversion is for.
>
> On October 28, 2023 11:39:22 AM PDT, Boris Steipe <
> boris.steipe at utoronto.ca> wrote:
> >Thanks Duncan and Avi!
> >
> >That you could use NULL in a matrix() dimnames = list(...) argument
> wasn't clear to me. I thought that would be equivalent to a one-element
> list - and thereby define rownames. So that's good to know.
> >
> >The documentation could be more explicit - but it is probably more work
> to do that than just patch the code to honour a col.names argument. (At
> least I can't see a reason not to.)
> >
> >Thanks again!
> >:-)
> >
> >
> >
> >
> >> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
> >>
> >> ?????,
> >>
> >> Try this where you tell matrix the column names you want:
> >>
> >> nouns <- as.data.frame(
> >>  matrix(c(
> >>    "gaggle",
> >>    "geese",
> >>
> >>    "dule",
> >>    "doves",
> >>
> >>    "wake",
> >>    "vultures"
> >>  ),
> >>  ncol = 2,
> >>  byrow = TRUE,
> >>  dimnames=list(NULL, c("collective", "category"))))
> >>
> >> Result:
> >>
> >>> nouns
> >>  collective category
> >> 1     gaggle    geese
> >> 2       dule    doves
> >> 3       wake vultures
> >>
> >>
> >> The above simply names the columns earlier when creating the matrix.
> >>
> >> There are other ways and the way you tried LOOKS like it should work but
> >> fails for me with a message about it weirdly expecting three rows
> versus two
> >> which seems to confuse rows and columns. My version of R is recent and I
> >> wonder if there is a bug here.
> >>
> >> Consider whether you really need the data.frame created in a single
> >> statement or can you change the column names next as in:
> >>
> >>
> >>> nouns
> >>      V1       V2
> >> 1 gaggle    geese
> >> 2   dule    doves
> >> 3   wake vultures
> >>> colnames(nouns)
> >> [1] "V1" "V2"
> >>> colnames(nouns) <- c("collective", "category")
> >>> nouns
> >>  collective category
> >> 1     gaggle    geese
> >> 2       dule    doves
> >> 3       wake vultures
> >>
> >> Is there a known bug here or is the documentation wrong?
> >>
> >> -----Original Message-----
> >> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
> >> Sent: Saturday, October 28, 2023 1:54 PM
> >> To: R. Mailing List <r-help at r-project.org>
> >> Subject: [R] col.names in as.data.frame() ?
> >>
> >> I have been trying to create a data frame from some structured text in a
> >> single expression. Reprex:
> >>
> >> nouns <- as.data.frame(
> >>  matrix(c(
> >>    "gaggle",
> >>    "geese",
> >>
> >>    "dule",
> >>    "doves",
> >>
> >>    "wake",
> >>    "vultures"
> >>  ), ncol = 2, byrow = TRUE),
> >>  col.names = c("collective", "category")
> >> )
> >>
> >> But ... :
> >>
> >>> str(nouns)
> >> 'data.frame': 3 obs. of  2 variables:
> >> $ V1: chr  "gaggle" "dule" "wake"
> >> $ V2: chr  "geese" "doves" "vultures"
> >>
> >> i.e. the col.names argument does nothing. From my reading of
> ?as.data.frame,
> >> my example should have worked.
> >>
> >> I know how to get the required result with colnames(), but I would like
> to
> >> understand why the idiom as written didn't work, and how I could have
> known
> >> that from the help file.
> >>
> >>
> >> Thanks!
> >> Boris
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Oct 29 00:10:35 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sat, 28 Oct 2023 18:10:35 -0400
Subject: [R] [Tagged] Re: col.names in as.data.frame() ?
In-Reply-To: <CAGxFJbTDKQxKbXNMj1GaXWT82DtvhxKskKH5kqMFEZWDR04Fqg@mail.gmail.com>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
 <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
 <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
 <CAGxFJbTDKQxKbXNMj1GaXWT82DtvhxKskKH5kqMFEZWDR04Fqg@mail.gmail.com>
Message-ID: <e2b0bb78-b89c-49ff-81c0-79608e92eb46@gmail.com>

On 28/10/2023 4:45 p.m., Bert Gunter wrote:
> Jeff, et. al. : but ...
> 
> Note that as.data.frame() *already* changes the matrix object by adding
> column names of *its own choosing* when the matrix has none. So the issue
> here is not *whether* col names should be added, but *what*/*how* they
> should be. Unless you wish to extend your criticism to the current version
> for its failure to adhere to your proscription.

Dataframes have to have column names.  The function isn't modifying the 
object any more than it has to.

Duncan Murdoch

> 
> Cheers,
> Bert
> 
> On Sat, Oct 28, 2023 at 11:55?AM Jeff Newmiller via R-help <
> r-help at r-project.org> wrote:
> 
>> as.data.frame is a _converter_, while data.frame is a _constructor_.
>> Changing the object contents is not what a conversion is for.
>>
>> On October 28, 2023 11:39:22 AM PDT, Boris Steipe <
>> boris.steipe at utoronto.ca> wrote:
>>> Thanks Duncan and Avi!
>>>
>>> That you could use NULL in a matrix() dimnames = list(...) argument
>> wasn't clear to me. I thought that would be equivalent to a one-element
>> list - and thereby define rownames. So that's good to know.
>>>
>>> The documentation could be more explicit - but it is probably more work
>> to do that than just patch the code to honour a col.names argument. (At
>> least I can't see a reason not to.)
>>>
>>> Thanks again!
>>> :-)
>>>
>>>
>>>
>>>
>>>> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
>>>>
>>>> ?????,
>>>>
>>>> Try this where you tell matrix the column names you want:
>>>>
>>>> nouns <- as.data.frame(
>>>>   matrix(c(
>>>>     "gaggle",
>>>>     "geese",
>>>>
>>>>     "dule",
>>>>     "doves",
>>>>
>>>>     "wake",
>>>>     "vultures"
>>>>   ),
>>>>   ncol = 2,
>>>>   byrow = TRUE,
>>>>   dimnames=list(NULL, c("collective", "category"))))
>>>>
>>>> Result:
>>>>
>>>>> nouns
>>>>   collective category
>>>> 1     gaggle    geese
>>>> 2       dule    doves
>>>> 3       wake vultures
>>>>
>>>>
>>>> The above simply names the columns earlier when creating the matrix.
>>>>
>>>> There are other ways and the way you tried LOOKS like it should work but
>>>> fails for me with a message about it weirdly expecting three rows
>> versus two
>>>> which seems to confuse rows and columns. My version of R is recent and I
>>>> wonder if there is a bug here.
>>>>
>>>> Consider whether you really need the data.frame created in a single
>>>> statement or can you change the column names next as in:
>>>>
>>>>
>>>>> nouns
>>>>       V1       V2
>>>> 1 gaggle    geese
>>>> 2   dule    doves
>>>> 3   wake vultures
>>>>> colnames(nouns)
>>>> [1] "V1" "V2"
>>>>> colnames(nouns) <- c("collective", "category")
>>>>> nouns
>>>>   collective category
>>>> 1     gaggle    geese
>>>> 2       dule    doves
>>>> 3       wake vultures
>>>>
>>>> Is there a known bug here or is the documentation wrong?
>>>>
>>>> -----Original Message-----
>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
>>>> Sent: Saturday, October 28, 2023 1:54 PM
>>>> To: R. Mailing List <r-help at r-project.org>
>>>> Subject: [R] col.names in as.data.frame() ?
>>>>
>>>> I have been trying to create a data frame from some structured text in a
>>>> single expression. Reprex:
>>>>
>>>> nouns <- as.data.frame(
>>>>   matrix(c(
>>>>     "gaggle",
>>>>     "geese",
>>>>
>>>>     "dule",
>>>>     "doves",
>>>>
>>>>     "wake",
>>>>     "vultures"
>>>>   ), ncol = 2, byrow = TRUE),
>>>>   col.names = c("collective", "category")
>>>> )
>>>>
>>>> But ... :
>>>>
>>>>> str(nouns)
>>>> 'data.frame': 3 obs. of  2 variables:
>>>> $ V1: chr  "gaggle" "dule" "wake"
>>>> $ V2: chr  "geese" "doves" "vultures"
>>>>
>>>> i.e. the col.names argument does nothing. From my reading of
>> ?as.data.frame,
>>>> my example should have worked.
>>>>
>>>> I know how to get the required result with colnames(), but I would like
>> to
>>>> understand why the idiom as written didn't work, and how I could have
>> known
>>>> that from the help file.
>>>>
>>>>
>>>> Thanks!
>>>> Boris
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @vi@e@gross m@iii@g oii gm@ii@com  Sun Oct 29 02:58:29 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Sat, 28 Oct 2023 20:58:29 -0400
Subject: [R] [Tagged]  Re:  col.names in as.data.frame() ?
In-Reply-To: <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
References: <1A8683C3-B36A-48E8-BCA7-D64AA98837F1@utoronto.ca>
 <00c901da09cb$f12006f0$d36014d0$@gmail.com>
 <38682915-2BB1-41F8-A2E0-F37263CEA6C3@utoronto.ca>
 <033958A2-3B0B-45CA-B0B3-F7473B23D3C2@dcn.davis.ca.us>
Message-ID: <001301da0a03$0854b640$18fe22c0$@gmail.com>

Jef, your terse reply was so constructive that you converted me! LOL!

That is an interesting point though that I remain a bit unclear on. 

Both data.frame and as.data.frame can be used in some ways similarly as in:

> data.frame(matrix(1:12, nrow=3))
  X1 X2 X3 X4
1  1  4  7 10
2  2  5  8 11
3  3  6  9 12

> as.data.frame(matrix(1:12, nrow=3))
  V1 V2 V3 V4
1  1  4  7 10
2  2  5  8 11
3  3  6  9 12

But yes, the constructor accepts many arguments  while the converter really normally handles a single object.

Where do some other things like cbind() fit, not to mention a dplyr function like tribble()?

I do wonder though, why asking a converter to convert a matrix to a data.frame and perhaps adding column names, is considered changing the object contents. The manual page for as.data.frame seems to include quite a few options to specify the name of a single column, truncate column names, deal with row names, and more as well as whether to convert strings to factors. Are those things different enough than what we are discussing?

Of course, we may indeed be experiencing mission creep where something simple keeps being improved with new features until the original simplicity and clarity gets lost.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Jeff Newmiller via R-help
Sent: Saturday, October 28, 2023 2:54 PM
To: r-help at r-project.org; Boris Steipe <boris.steipe at utoronto.ca>; R. Mailing List <r-help at r-project.org>
Subject: Re: [R] [Tagged] Re: col.names in as.data.frame() ?

as.data.frame is a _converter_, while data.frame is a _constructor_.  Changing the object contents is not what a conversion is for.

On October 28, 2023 11:39:22 AM PDT, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>Thanks Duncan and Avi!
>
>That you could use NULL in a matrix() dimnames = list(...) argument wasn't clear to me. I thought that would be equivalent to a one-element list - and thereby define rownames. So that's good to know.
>
>The documentation could be more explicit - but it is probably more work to do that than just patch the code to honour a col.names argument. (At least I can't see a reason not to.)
>
>Thanks again!
>:-)
>
>
>
>
>> On Oct 28, 2023, at 14:24, avi.e.gross at gmail.com wrote:
>> 
>> ?????,
>> 
>> Try this where you tell matrix the column names you want:
>> 
>> nouns <- as.data.frame(
>>  matrix(c(
>>    "gaggle",
>>    "geese",
>> 
>>    "dule",
>>    "doves",
>> 
>>    "wake",
>>    "vultures"
>>  ), 
>>  ncol = 2, 
>>  byrow = TRUE, 
>>  dimnames=list(NULL, c("collective", "category"))))
>> 
>> Result:
>> 
>>> nouns
>>  collective category
>> 1     gaggle    geese
>> 2       dule    doves
>> 3       wake vultures
>> 
>> 
>> The above simply names the columns earlier when creating the matrix.
>> 
>> There are other ways and the way you tried LOOKS like it should work but
>> fails for me with a message about it weirdly expecting three rows versus two
>> which seems to confuse rows and columns. My version of R is recent and I
>> wonder if there is a bug here.
>> 
>> Consider whether you really need the data.frame created in a single
>> statement or can you change the column names next as in:
>> 
>> 
>>> nouns
>>      V1       V2
>> 1 gaggle    geese
>> 2   dule    doves
>> 3   wake vultures
>>> colnames(nouns)
>> [1] "V1" "V2"
>>> colnames(nouns) <- c("collective", "category")
>>> nouns
>>  collective category
>> 1     gaggle    geese
>> 2       dule    doves
>> 3       wake vultures
>> 
>> Is there a known bug here or is the documentation wrong?
>> 
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Boris Steipe
>> Sent: Saturday, October 28, 2023 1:54 PM
>> To: R. Mailing List <r-help at r-project.org>
>> Subject: [R] col.names in as.data.frame() ?
>> 
>> I have been trying to create a data frame from some structured text in a
>> single expression. Reprex:
>> 
>> nouns <- as.data.frame(
>>  matrix(c(
>>    "gaggle",
>>    "geese",
>> 
>>    "dule",
>>    "doves",
>> 
>>    "wake",
>>    "vultures"
>>  ), ncol = 2, byrow = TRUE),
>>  col.names = c("collective", "category")
>> )
>> 
>> But ... :
>> 
>>> str(nouns)
>> 'data.frame': 3 obs. of  2 variables:
>> $ V1: chr  "gaggle" "dule" "wake"
>> $ V2: chr  "geese" "doves" "vultures"
>> 
>> i.e. the col.names argument does nothing. From my reading of ?as.data.frame,
>> my example should have worked.
>> 
>> I know how to get the required result with colnames(), but I would like to
>> understand why the idiom as written didn't work, and how I could have known
>> that from the help file.
>> 
>> 
>> Thanks!
>> Boris
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


