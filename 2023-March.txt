From pd@me@ @end|ng |rom cb@@dk  Wed Mar  1 13:04:56 2023
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Wed, 1 Mar 2023 12:04:56 +0000
Subject: [R] [Rd] R 4.2.3 scheduled for March 15
Message-ID: <0698828C-0FC0-421C-92DC-045717E4F7A2@cbs.dk>

Full schedule available on developer.r-project.org in a short while.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From georgebr|d@94 @end|ng |rom gm@||@com  Wed Mar  1 15:21:24 2023
From: georgebr|d@94 @end|ng |rom gm@||@com (George Brida)
Date: Wed, 1 Mar 2023 15:21:24 +0100
Subject: [R] Shaded area
Message-ID: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>

Dear R users,

I have an xlsx file (attached to this mail) that shows the values of a
"der" series observed on a daily basis from January 1, 2017 to January 25,
2017. This series is strictly positive during two periods: from January 8,
2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I
would like to plot the series with two shaded areas corresponding to the
positivity of the series. Specifically, I would like to draw 4 vertical
lines intersecting the x-axis in the 4 dates mentioned above and shade the
two areas of positivity. Thanks for your help.

From petr@p|k@| @end|ng |rom prechez@@cz  Wed Mar  1 15:57:56 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 1 Mar 2023 14:57:56 +0000
Subject: [R] Shaded area
In-Reply-To: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
References: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
Message-ID: <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>

Hallo

Excel attachment is not allowed here, but shading area is answered many times elsewhere. Use something like . "shading area r" in google.

See eg.
https://www.geeksforgeeks.org/how-to-shade-a-graph-in-r/

Cheers Petr

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of George Brida
Sent: Wednesday, March 1, 2023 3:21 PM
To: r-help at r-project.org
Subject: [R] Shaded area

Dear R users,

I have an xlsx file (attached to this mail) that shows the values of a "der" series observed on a daily basis from January 1, 2017 to January 25, 2017. This series is strictly positive during two periods: from January 8,
2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I would like to plot the series with two shaded areas corresponding to the positivity of the series. Specifically, I would like to draw 4 vertical lines intersecting the x-axis in the 4 dates mentioned above and shade the two areas of positivity. Thanks for your help.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From jrkr|de@u @end|ng |rom gm@||@com  Fri Mar  3 13:57:33 2023
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Fri, 3 Mar 2023 07:57:33 -0500
Subject: [R] Shaded area
In-Reply-To: <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>
References: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
 <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAKZQJMAgi_1Rq8QZCD1O77XZouj910sm-uDsWRq_=71kLB6dzQ@mail.gmail.com>

As Peter says, the list is very cautious about what types of files it
allows. A handy way to supply some sample data is the dput() function.  In
the case of a large dataset something like dput(head(mydata, 100)) should
supply the data we need. Just do dput(mydata) where *mydata* is your data.
Copy the output and paste it here.

On Wed, 1 Mar 2023 at 09:58, PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hallo
>
> Excel attachment is not allowed here, but shading area is answered many
> times elsewhere. Use something like . "shading area r" in google.
>
> See eg.
> https://www.geeksforgeeks.org/how-to-shade-a-graph-in-r/
>
> Cheers Petr
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of George Brida
> Sent: Wednesday, March 1, 2023 3:21 PM
> To: r-help at r-project.org
> Subject: [R] Shaded area
>
> Dear R users,
>
> I have an xlsx file (attached to this mail) that shows the values of a
> "der" series observed on a daily basis from January 1, 2017 to January 25,
> 2017. This series is strictly positive during two periods: from January 8,
> 2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I
> would like to plot the series with two shaded areas corresponding to the
> positivity of the series. Specifically, I would like to draw 4 vertical
> lines intersecting the x-axis in the 4 dates mentioned above and shade the
> two areas of positivity. Thanks for your help.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> about processing and protection of business partner?s personal data are
> available on website:
> https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> documents attached to it may be confidential and are subject to the legally
> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From |r@nz@h@ert| @end|ng |rom tum@de  Sat Mar  4 10:16:12 2023
From: |r@nz@h@ert| @end|ng |rom tum@de (=?UTF-8?Q?Franz_H=c3=a4rtl?=)
Date: Sat, 4 Mar 2023 10:16:12 +0100
Subject: [R] nlme varFixed
Message-ID: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>

Dear R-project team,

I have a problem with the function varFixed() of the nlme-package.

I used it with the squid-data of Zuur et. al 2009 (chapter 4), to fix 
increasing residuals (heterogenetiy) (see graph in the email)

I get the message '

Variance function structure of class varFixed with no parameters, or 
uninitialized

Could you help me please?

Kind regards

Franz

From ||@t@ @end|ng |rom dewey@myzen@co@uk  Sat Mar  4 14:26:13 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Sat, 4 Mar 2023 13:26:13 +0000
Subject: [R] nlme varFixed
In-Reply-To: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>
References: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>
Message-ID: <5c85268f-33eb-27e6-cafe-25fe81c77729@dewey.myzen.co.uk>

Dear Franz

Only attachments of specific types are allowed on the R lists and yours 
did not come through. It might be necessary to show your code as well.

Have you thought of trying the mailing list dedicated to mixed models?

https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models

Michael

On 04/03/2023 09:16, Franz H?rtl wrote:
> Dear R-project team,
> 
> I have a problem with the function varFixed() of the nlme-package.
> 
> I used it with the squid-data of Zuur et. al 2009 (chapter 4), to fix 
> increasing residuals (heterogenetiy) (see graph in the email)
> 
> I get the message '
> 
> Variance function structure of class varFixed with no parameters, or 
> uninitialized
> 
> Could you help me please?
> 
> Kind regards
> 
> Franz
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Sat Mar  4 16:45:07 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Sat, 4 Mar 2023 16:45:07 +0100
Subject: [R] legend: interplay between title and y.intersp
Message-ID: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>

Hi,

my MWE is not working as expected:

plot(c(0,1), c(0,1), type="n")

legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"), 
title="test", y.intersp=0.2, lwd=1)

The lines are not below the title. I want (nearby) lines as in the plot, 
but below the title. Is there a way to achieve this?

Thanks Sigbert


From bgunter@4567 @end|ng |rom gm@||@com  Sat Mar  4 17:59:26 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 4 Mar 2023 08:59:26 -0800
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
Message-ID: <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>

Set the legend position explicitly with x and y values and add xpd = TRUE
to the legend call to clip the plot to the figure region and not the plot
region (the default). Something like this (you may have to fool around with
y.intersp, etc. to allow enough space between the legend lines):

plot(c(0,1), c(0,1), type="n")

legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
"green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')

Cheers,
Bert

Cheers,
Bert


On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
wrote:

> Hi,
>
> my MWE is not working as expected:
>
> plot(c(0,1), c(0,1), type="n")
>
> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
> title="test", y.intersp=0.2, lwd=1)
>
> The lines are not below the title. I want (nearby) lines as in the plot,
> but below the title. Is there a way to achieve this?
>
> Thanks Sigbert
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Sun Mar  5 08:39:41 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Sun, 5 Mar 2023 08:39:41 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
Message-ID: <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>

Hi,

thanks, but this does not solve the problem. If I make y.intersp large 
enough then it works properly. Maybe I was not clear enough: I want to 
have the small distance between the lines and no overlap between the 
title and the lines.

Sigbert

Am 04.03.23 um 17:59 schrieb Bert Gunter:
> Set the legend position explicitly with x and y values and add xpd = TRUE
> to the legend call to clip the plot to the figure region and not the plot
> region (the default). Something like this (you may have to fool around with
> y.intersp, etc. to allow enough space between the legend lines):
> 
> plot(c(0,1), c(0,1), type="n")
> 
> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
> 
> Cheers,
> Bert
> 
> Cheers,
> Bert
> 
> 
> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
> wrote:
> 
>> Hi,
>>
>> my MWE is not working as expected:
>>
>> plot(c(0,1), c(0,1), type="n")
>>
>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>> title="test", y.intersp=0.2, lwd=1)
>>
>> The lines are not below the title. I want (nearby) lines as in the plot,
>> but below the title. Is there a way to achieve this?
>>
>> Thanks Sigbert
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 

-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar


From ||@her @end|ng |rom p|e@@th@n@com  Sat Mar  4 23:36:23 2023
From: ||@her @end|ng |rom p|e@@th@n@com (Dennis Fisher)
Date: Sat, 4 Mar 2023 14:36:23 -0800
Subject: [R] VT-100 terminal escape sequences
Message-ID: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>

R 4.2.1
OS X

Colleagues

I am using XOJO (formerly known as RealBasic) to create a GUI -- R code generates the text that appears in the GUI.

Recently, VT-100 terminal control escape sequences appeared in the text, e.g.,:
         [?25h  TEXT
    [?25h[?25h	TEXT
It is not clear to me if the problem is generated by R or by XOJO.  And I did not track whether this began following installation of a new version of R or of XOJO (with no changes in the underlying code for either).

Of note, when I run the R code in a terminal in OS X, those errant characters do not appear.

I would like the 
	[?25h
text to disappear.  

If the problem originates in XOJO, I assume that there is nothing that can be done in R to solve the problem.  But, if there is something that can be done in my R code, it would be useful to know about it.

Dennis

Dennis Fisher MD
P < (The "P Less Than" Company)
Phone / Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com





	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Sun Mar  5 16:29:37 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 5 Mar 2023 18:29:37 +0300
Subject: [R] VT-100 terminal escape sequences
In-Reply-To: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>
References: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>
Message-ID: <20230305182937.67c38d72@Tarkus>

On Sat, 4 Mar 2023 14:36:23 -0800
Dennis Fisher <fisher at plessthan.com> wrote:

> R code generates the text that appears in the GUI.

How is R being run? As a child process? How does the XOJO program
interact with it?

> Recently, VT-100 terminal control escape sequences appeared in the
> text, e.g.,:
>          [?25h  TEXT
>     [?25h[?25h	TEXT
> It is not clear to me if the problem is generated by R or by XOJO.

"ESC [ ? 25 h" stands for "make the cursor visible". It may be produced
by the readline implementation that R links to, depending on how the
process is launched, but I don't think that R itself is generating it.

-- 
Best regards,
Ivan


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Mon Mar  6 11:34:36 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Mon, 6 Mar 2023 11:34:36 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
Message-ID: <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>

Hi,

I think you are right, legend cannot do it. I have now created my own 
legend function where I changed only one line and now it works the way I 
want it to. But I'm not sure if that might not have other side effects.



I have the impression that the legend and the title start at the same 
y-position (try y.intersp=0). Only if y.intersp is big enough, then it 
leads to a non-overlap of title and legend.

Thanks a lot

Sigbert

Am 05.03.23 um 16:20 schrieb Bert Gunter:
> Don't think you can do that.
> But maybe someone else will show that I'm wrong.
> 
> -- Bert
> 
> On Sat, Mar 4, 2023 at 11:39?PM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
> wrote:
> 
>> Hi,
>>
>> thanks, but this does not solve the problem. If I make y.intersp large
>> enough then it works properly. Maybe I was not clear enough: I want to
>> have the small distance between the lines and no overlap between the
>> title and the lines.
>>
>> Sigbert
>>
>> Am 04.03.23 um 17:59 schrieb Bert Gunter:
>>> Set the legend position explicitly with x and y values and add xpd = TRUE
>>> to the legend call to clip the plot to the figure region and not the plot
>>> region (the default). Something like this (you may have to fool around
>> with
>>> y.intersp, etc. to allow enough space between the legend lines):
>>>
>>> plot(c(0,1), c(0,1), type="n")
>>>
>>> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
>>> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
>>>
>>> Cheers,
>>> Bert
>>>
>>> Cheers,
>>> Bert
>>>
>>>
>>> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de
>>>
>>> wrote:
>>>
>>>> Hi,
>>>>
>>>> my MWE is not working as expected:
>>>>
>>>> plot(c(0,1), c(0,1), type="n")
>>>>
>>>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>>>> title="test", y.intersp=0.2, lwd=1)
>>>>
>>>> The lines are not below the title. I want (nearby) lines as in the plot,
>>>> but below the title. Is there a way to achieve this?
>>>>
>>>> Thanks Sigbert
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>
>> --
>> https://hu.berlin/sk
>> https://www.stat.de/faqs
>> https://hu.berlin/mmstat
>> https://hu.berlin/mmstat-ar
>>
>>
> 

-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rplot.png
Type: image/png
Size: 12444 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230306/6182dff4/attachment.png>

From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Mar  6 13:08:18 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 6 Mar 2023 13:08:18 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
 <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
Message-ID: <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>

What about

  plot(c(0,1), c(0,1), type="n")
  legend("top", legend=c("", "a", ""), col=c("blue", "red", "green"), 
title="test", y.intersp=c(1,-0.4), lwd=1)

(in recent versions of R)

Best,
Uwe










On 06.03.2023 11:34, Sigbert Klinke wrote:
> Hi,
> 
> I think you are right, legend cannot do it. I have now created my own 
> legend function where I changed only one line and now it works the way I 
> want it to. But I'm not sure if that might not have other side effects.
> 
> 
> 
> I have the impression that the legend and the title start at the same 
> y-position (try y.intersp=0). Only if y.intersp is big enough, then it 
> leads to a non-overlap of title and legend.
> 
> Thanks a lot
> 
> Sigbert
> 
> Am 05.03.23 um 16:20 schrieb Bert Gunter:
>> Don't think you can do that.
>> But maybe someone else will show that I'm wrong.
>>
>> -- Bert
>>
>> On Sat, Mar 4, 2023 at 11:39?PM Sigbert Klinke 
>> <sigbert at wiwi.hu-berlin.de>
>> wrote:
>>
>>> Hi,
>>>
>>> thanks, but this does not solve the problem. If I make y.intersp large
>>> enough then it works properly. Maybe I was not clear enough: I want to
>>> have the small distance between the lines and no overlap between the
>>> title and the lines.
>>>
>>> Sigbert
>>>
>>> Am 04.03.23 um 17:59 schrieb Bert Gunter:
>>>> Set the legend position explicitly with x and y values and add xpd = 
>>>> TRUE
>>>> to the legend call to clip the plot to the figure region and not the 
>>>> plot
>>>> region (the default). Something like this (you may have to fool around
>>> with
>>>> y.intersp, etc. to allow enough space between the legend lines):
>>>>
>>>> plot(c(0,1), c(0,1), type="n")
>>>>
>>>> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
>>>> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>>
>>>> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke 
>>>> <sigbert at wiwi.hu-berlin.de
>>>>
>>>> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> my MWE is not working as expected:
>>>>>
>>>>> plot(c(0,1), c(0,1), type="n")
>>>>>
>>>>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>>>>> title="test", y.intersp=0.2, lwd=1)
>>>>>
>>>>> The lines are not below the title. I want (nearby) lines as in the 
>>>>> plot,
>>>>> but below the title. Is there a way to achieve this?
>>>>>
>>>>> Thanks Sigbert
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>
>>> -- 
>>> https://hu.berlin/sk
>>> https://www.stat.de/faqs
>>> https://hu.berlin/mmstat
>>> https://hu.berlin/mmstat-ar
>>>
>>>
>>
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Mon Mar  6 14:31:46 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Mon, 6 Mar 2023 14:31:46 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
 <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
 <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>
Message-ID: <d9b4c44c-9aa7-f2cf-3c82-deb4f06994b4@wiwi.hu-berlin.de>

Hi,

that is perfect.

Thanks Sigbert

Am 06.03.23 um 13:08 schrieb Uwe Ligges:
> What about
> 
>  ?plot(c(0,1), c(0,1), type="n")
>  ?legend("top", legend=c("", "a", ""), col=c("blue", "red", "green"), 
> title="test", y.intersp=c(1,-0.4), lwd=1)
> 
> (in recent versions of R)
> 
> Best,
> Uwe


-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar


From ru@ytr@v|@19 @end|ng |rom gm@||@com  Tue Mar  7 01:47:20 2023
From: ru@ytr@v|@19 @end|ng |rom gm@||@com (Rusty Travis)
Date: Mon, 6 Mar 2023 16:47:20 -0800
Subject: [R] insert hyperlink into svg graphic
Message-ID: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>

Greetings,

I am creating plots of weather data and wish to include a link to the 
data source into a title() object in the plot. My syntax must be wrong 
though, as the hyperlink doesn't display, just the text and tags.

 > svg("/tmp/temps.svg", width=9, height=6)
 > #plot created here
 > title(sub="produced by Rusty Travis? \nusing data from <a 
xlink:href=https://www.ncei.noaa.gov/cdo-web/>test</a>? ", line=-1.5, adj=1)
 > dev.off()

The goal is to create a hyperlink of the word "test" in the above 
example. What is the correct syntax, please?

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Mar  7 16:33:21 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 7 Mar 2023 07:33:21 -0800
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
Message-ID: <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>

Perhaps this thread on stackoverflow (from a search on "include hyperlink
in svg graphic") may be of use:

https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use

Cheers,
Bert

On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis <rusytravis19 at gmail.com> wrote:

> Greetings,
>
> I am creating plots of weather data and wish to include a link to the
> data source into a title() object in the plot. My syntax must be wrong
> though, as the hyperlink doesn't display, just the text and tags.
>
>  > svg("/tmp/temps.svg", width=9, height=6)
>  > #plot created here
>  > title(sub="produced by Rusty Travis  \nusing data from <a
> xlink:href=https://www.ncei.noaa.gov/cdo-web/>test</a>  ", line=-1.5,
> adj=1)
>  > dev.off()
>
> The goal is to create a hyperlink of the word "test" in the above
> example. What is the correct syntax, please?
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bor|@@@te|pe @end|ng |rom utoronto@c@  Tue Mar  7 20:09:12 2023
From: bor|@@@te|pe @end|ng |rom utoronto@c@ (Boris Steipe)
Date: Tue, 7 Mar 2023 19:09:12 +0000
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
Message-ID: <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>

This was actually the first thing that ChatGPT debugged for me.

The issue was that I was able to click on the link when I displayed the raw SVG in the browser (you can use that to test whether the syntax is even correct), but not when the svg displays inside a html page with the <img ...> tag.

ChatGPT correctly identified the issue and suggested a solution using <object ...> tags instead.

Here's how that would work:

<object data="temps.svg" type="image/svg+xml" alt="Image description TK">
<p>Your browser does not support the &lt;object&gt; tag.</p>
</object>

(Most browsers support the object tag: see https://caniuse.com/mdn-html_elements_object )


Cheers,
Boris



> On 2023-03-07, at 10:33, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> 
> Perhaps this thread on stackoverflow (from a search on "include hyperlink
> in svg graphic") may be of use:
> 
> https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use
> 
> Cheers,
> Bert
> 
> On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis <rusytravis19 at gmail.com> wrote:
> 
>> Greetings,
>> 
>> I am creating plots of weather data and wish to include a link to the
>> data source into a title() object in the plot. My syntax must be wrong
>> though, as the hyperlink doesn't display, just the text and tags.
>> 
>>> svg("/tmp/temps.svg", width=9, height=6)
>>> #plot created here
>>> title(sub="produced by Rusty Travis  \nusing data from <a
>> xlink:href=https://www.ncei.noaa.gov/cdo-web/>test</a>  ", line=-1.5,
>> adj=1)
>>> dev.off()
>> 
>> The goal is to create a hyperlink of the word "test" in the above
>> example. What is the correct syntax, please?
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Tue Mar  7 22:12:10 2023
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Wed, 8 Mar 2023 10:12:10 +1300
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
 <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>
Message-ID: <2d0e82a2-153d-dcd6-beb9-8488999f198d@stat.auckland.ac.nz>

Hi

I think the main issue here is that you are *drawing* text on the 
graphics device, so I would only expect to see literal XML text output 
in the result.

If you want to affect the SVG code itself, you need a graphics device 
that understands the concept of hyperlinks.  One way to do that is with 
the 'gridSVG' package.  For example ...

library(ggplot2)
ggplot(mtcars) +
     geom_point(aes(disp, mpg)) +
     ggtitle('Fuel Efficiency')
## Make grobs accessible
library(grid)
grid.force()
## Find the name of the title grob
## grid.ls()
## Add hyperlink
library(gridSVG)
grid.hyperlink("title.3-5-3-5",
                href="https://en.wikipedia.org/wiki/Fuel_efficiency")
## Export to SVG
grid.export("link.svg")


It looks like you are using "base" graphics for your plot, in which case 
the template is slightly different, requiring the 'gridGraphics' package 
as well to convert to 'grid' output, for example ...


plot(mpg ~ disp, mtcars, main="Fuel Efficiency")
## Convert to 'grid' version
library(gridGraphics)
grid.echo()
## Find the name of the title grob
## grid.ls()
## Add hyperlink
library(gridSVG)
grid.hyperlink("graphics-plot-1-main-1",
                href="https://en.wikipedia.org/wiki/Fuel_efficiency")
## Export to SVG
grid.export("link-base.svg")


Hope that helps

Paul


On 8/03/23 08:09, Boris Steipe wrote:
> This was actually the first thing that ChatGPT debugged for me.
> 
> The issue was that I was able to click on the link when I displayed the 
> raw SVG in the browser (you can use that to test whether the syntax is 
> even correct), but not when the svg displays inside a html page with the 
> <img ...> tag.
> 
> ChatGPT correctly identified the issue and suggested a solution using 
> <object ...> tags instead.
> 
> Here's how that would work:
> 
> <object data="temps.svg" type="image/svg+xml" alt="Image description TK">
> <p>Your browser does not support the &lt;object&gt; tag.</p>
> </object>
> 
> (Most browsers support the object tag: see 
> https://caniuse.com/mdn-html_elements_object 
> <https://caniuse.com/mdn-html_elements_object> )
> 
> 
> Cheers,
> Boris
> 
> 
> 
>  > On 2023-03-07, at 10:33, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>  >
>  > Perhaps this thread on stackoverflow (from a search on "include hyperlink
>  > in svg graphic") may be of use:
>  >
>  > https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use 
> <https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use>
>  >
>  > Cheers,
>  > Bert
>  >
>  > On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis <rusytravis19 at gmail.com> 
> wrote:
>  >
>  >> Greetings,
>  >>
>  >> I am creating plots of weather data and wish to include a link to the
>  >> data source into a title() object in the plot. My syntax must be wrong
>  >> though, as the hyperlink doesn't display, just the text and tags.
>  >>
>  >>> svg("/tmp/temps.svg", width=9, height=6)
>  >>> #plot created here
>  >>> title(sub="produced by Rusty Travis \nusing data from <a
>  >> xlink:href=https://www.ncei.noaa.gov/cdo-web/ 
> <https://www.ncei.noaa.gov/cdo-web>>test</a> ", line=-1.5,
>  >> adj=1)
>  >>> dev.off()
>  >>
>  >> The goal is to create a hyperlink of the word "test" in the above
>  >> example. What is the correct syntax, please?
>  >>
>  >> [[alternative HTML version deleted]]
>  >>
>  >> ______________________________________________
>  >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>  >> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
>  >> PLEASE do read the posting guide
>  >> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
>  >> and provide commented, minimal, self-contained, reproducible code.
>  >>
>  >
>  > [[alternative HTML version deleted]]
>  >
>  > ______________________________________________
>  > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>  > https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
>  > PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
>  > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland 1142, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From ru@ytr@v|@19 @end|ng |rom gm@||@com  Tue Mar  7 19:16:06 2023
From: ru@ytr@v|@19 @end|ng |rom gm@||@com (Rusty Travis)
Date: Tue, 7 Mar 2023 10:16:06 -0800
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
Message-ID: <8c441ef4-2571-2bf9-8fd7-a835f6c54d02@gmail.com>

Yes, many such examples exist on the Internet. My question is the syntax 
of embedding such svg tags into an R title() object using the example I 
provided, please.

On 3/7/23 07:33, Bert Gunter wrote:
> Perhaps this thread on stackoverflow (from a search on "include 
> hyperlink in svg graphic") may be of use:
>
> https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use
>
> Cheers,
> Bert
>
> On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis <rusytravis19 at gmail.com> 
> wrote:
>
>     Greetings,
>
>     I am creating plots of weather data and wish to include a link to the
>     data source into a title() object in the plot. My syntax must be
>     wrong
>     though, as the hyperlink doesn't display, just the text and tags.
>
>     ?> svg("/tmp/temps.svg", width=9, height=6)
>     ?> #plot created here
>     ?> title(sub="produced by Rusty Travis? \nusing data from <a
>     xlink:href=https://www.ncei.noaa.gov/cdo-web/>test</a> ",
>     line=-1.5, adj=1)
>     ?> dev.off()
>
>     The goal is to create a hyperlink of the word "test" in the above
>     example. What is the correct syntax, please?
>
>     ? ? ? ? [[alternative HTML version deleted]]
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>     and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru@ytr@v|@19 @end|ng |rom gm@||@com  Wed Mar  8 03:27:24 2023
From: ru@ytr@v|@19 @end|ng |rom gm@||@com (Rusty Travis)
Date: Tue, 7 Mar 2023 18:27:24 -0800
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <2d0e82a2-153d-dcd6-beb9-8488999f198d@stat.auckland.ac.nz>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
 <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>
 <2d0e82a2-153d-dcd6-beb9-8488999f198d@stat.auckland.ac.nz>
Message-ID: <746d2ff3-f6b5-964c-c633-a6d845d34b25@gmail.com>

On 3/7/23 13:12, Paul Murrell wrote:
> Hi
>
> I think the main issue here is that you are *drawing* text on the 
> graphics device, so I would only expect to see literal XML text output 
> in the result.
> '''
>
> Hope that helps

Thank you for your consideration of the matter, but that seems 
extraordinarily overly-complicated for the results of "help(svg)". I'll 
just print the text of the link instead of constructing a link, as the 
resultant R-produced *.svg file is about 10 times the size of a manual 
screen-print *.png of X11() same.

I'll let the user type the title() noaa.gov uri into their browser 
instead of providing a clickable link.

Thank you all.

>> ?> On 2023-03-07, at 10:33, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>> ?>
>> ?> Perhaps this thread on stackoverflow (from a search on "include 
>> hyperlink
>> ?> in svg graphic") may be of use:
>> ?>
>> ?> 
>> https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use 
>> <https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use>
>> ?>
>> ?> Cheers,
>> ?> Bert
>> ?>
>> ?> On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis 
>> <rusytravis19 at gmail.com> wrote:
>> ?>
>> ?>> Greetings,
>> ?>>
>> ?>> I am creating plots of weather data and wish to include a link to 
>> the
>> ?>> data source into a title() object in the plot. My syntax must be 
>> wrong
>> ?>> though, as the hyperlink doesn't display, just the text and tags.
>> ?>>
>> ?>>> svg("/tmp/temps.svg", width=9, height=6)
>> ?>>> #plot created here
>> ?>>> title(sub="produced by Rusty Travis \nusing data from <a
>> ?>> xlink:href=https://www.ncei.noaa.gov/cdo-web/ 
>> <https://www.ncei.noaa.gov/cdo-web>>test</a> ", line=-1.5,
>> ?>> adj=1)
>> ?>>> dev.off()
>> ?>>
>> ?>> The goal is to create a hyperlink of the word "test" in the above
>> ?>> example. What is the correct syntax, please?
>> ?>>
>> ?>> [[alternative HTML version deleted]]
>> ?>>
>> ?>> ______________________________________________
>> ?>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> ?>> https://stat.ethz.ch/mailman/listinfo/r-help 
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>> ?>> PLEASE do read the posting guide
>> ?>> http://www.R-project.org/posting-guide.html 
>> <http://www.R-project.org/posting-guide.html>
>> ?>> and provide commented, minimal, self-contained, reproducible code.
>> ?>>
>> ?>
>> ?> [[alternative HTML version deleted]]
>> ?>
>> ?> ______________________________________________
>> ?> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> ?> https://stat.ethz.ch/mailman/listinfo/r-help 
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>> ?> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html 
>> <http://www.R-project.org/posting-guide.html>
>> ?> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help 
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html 
>> <http://www.R-project.org/posting-guide.html>
>> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Mar  8 20:09:11 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 8 Mar 2023 21:09:11 +0200
Subject: [R] Default Generic function for: args(name, default = TRUE)
Message-ID: <620e05f7-65d6-cc51-c780-a5f7302a2b74@syonic.eu>

Dear R-Users,

I want to change the args() function to return by default the arguments 
of the default generic function:
args = function(name, default = TRUE) {
 ?? ?# TODO: && is.function.generic();
 ?? ?if(default) {
 ?? ???? fn = match.call()[[2]];
 ?? ???? fn = paste0(as.character(fn), ".default");
 ?? ???? name = fn;
 ?? ?}
 ?? ?.Internal(args(name));
}

Is there a nice way to find out if a function is generic: something like 
is.function.generic()?

Many thanks,

Leonard
=======

Note:
- the latest version of this code will be on GitHub:
https://github.com/discoleo/R/commits/master/Stat/Tools.Code.R


From bgunter@4567 @end|ng |rom gm@||@com  Wed Mar  8 20:24:56 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 8 Mar 2023 11:24:56 -0800
Subject: [R] Default Generic function for: args(name, default = TRUE)
In-Reply-To: <620e05f7-65d6-cc51-c780-a5f7302a2b74@syonic.eu>
References: <620e05f7-65d6-cc51-c780-a5f7302a2b74@syonic.eu>
Message-ID: <CAGxFJbTCLfWReJ_7jLost+-H1snhN5ZFcq9HSRT-yJw_buACSw@mail.gmail.com>

?.S3methods

f <- function()(2)
> length(.S3methods(f))
[1] 0
> length(.S3methods(print))
[1] 206

There may be better ways, but this is what came to my mind.
-- Bert

On Wed, Mar 8, 2023 at 11:09?AM Leonard Mada via R-help <
r-help at r-project.org> wrote:

> Dear R-Users,
>
> I want to change the args() function to return by default the arguments
> of the default generic function:
> args = function(name, default = TRUE) {
>      # TODO: && is.function.generic();
>      if(default) {
>          fn = match.call()[[2]];
>          fn = paste0(as.character(fn), ".default");
>          name = fn;
>      }
>      .Internal(args(name));
> }
>
> Is there a nice way to find out if a function is generic: something like
> is.function.generic()?
>
> Many thanks,
>
> Leonard
> =======
>
> Note:
> - the latest version of this code will be on GitHub:
> https://github.com/discoleo/R/commits/master/Stat/Tools.Code.R
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Mar  8 20:26:07 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 8 Mar 2023 21:26:07 +0200
Subject: [R] Default Generic function for: args(name, default = TRUE)
In-Reply-To: <HalAJHOOC83xhqJ3FI79DCSVKL4XXTqL8XE2W-ybJ8OTkpsnEswbnEGVcGip-tsJgtp7A81n9073EK9m0QONjdgJC6x7tPXa8HjMakRRbQ8=@protonmail.com>
References: <HalAJHOOC83xhqJ3FI79DCSVKL4XXTqL8XE2W-ybJ8OTkpsnEswbnEGVcGip-tsJgtp7A81n9073EK9m0QONjdgJC6x7tPXa8HjMakRRbQ8=@protonmail.com>
Message-ID: <77f79875-a9fd-d094-6cdd-93646269c131@syonic.eu>

Dear Gregg,

Thank you for the fast response.

I believe though that isGeneric works only for S4-functions:

isGeneric("plot")
# FALSE

I still try to get it to work.

Sincerely,

Leonard


On 3/8/2023 9:13 PM, Gregg Powell wrote:
> Yes, there is a way to check if a function is generic. You can use the isGeneric function to check if a function is generic. Here's an updated version of the args function that includes a check for generic functions:
>
>> args = function(name, default = TRUE) {
>>   if(default && isGeneric(name)) {
>>    fn = paste0(as.character(name), ".default")
>>    name = fn
>> }
>> .Internal(args(name))
>> }
> r/
> Gregg
>
>
>
>
>
> ------- Original Message -------
> On Wednesday, March 8th, 2023 at 12:09 PM, Leonard Mada via R-help <r-help at r-project.org> wrote:
>
>
>> Dear R-Users,
>>
>> I want to change the args() function to return by default the arguments
>> of the default generic function:
>> args = function(name, default = TRUE) {
>> # TODO: && is.function.generic();
>> if(default) {
>> fn = match.call()[[2]];
>> fn = paste0(as.character(fn), ".default");
>> name = fn;
>> }
>> .Internal(args(name));
>> }
>>
>> Is there a nice way to find out if a function is generic: something like
>> is.function.generic()?
>>
>> Many thanks,
>>
>> Leonard
>> =======
>>
>> Note:
>> - the latest version of this code will be on GitHub: [edited]
>> https://github.com/discoleo/R/blob/master/Stat/Tools.Code.R
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://eu01.z.antigena.com/l/CoS9jxWcs77ZH1EdYpfdt4f1PgsZsEHB9bGmOMbk~shS17K1eTNQZGNHQeCHXm_3FeDw2W64pxRnUN0qYZCeC-KYHDkXzka9~lEVxf9mq1jf24zCj~A96_OSrQj~-IjJgb0J9~DKPpwYsqrK9jJHy9jPj6T3V2M8SAwxFZzj
>> PLEASE do read the posting guide https://eu01.z.antigena.com/l/CoS9jwics77ZHse0yVQ6JzRj1U7ZoE-xBthsLCBb5dXiWzcWWdMG5w6w0ko3hHpOaKJLXU-CYJO0bkWf-_eiJLh3FOnfRi22P4jyYsHId9eMpOYB7kA9rQXziAjRycjqgrVw9~DKHfurjKs2zz-nxsjOrlIOuYLYHtTk0XXQ
>> and provide commented, minimal, self-contained, reproducible code.


From |eo@m@d@ @end|ng |rom @yon|c@eu  Wed Mar  8 20:45:59 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Wed, 8 Mar 2023 21:45:59 +0200
Subject: [R] Default Generic function for: args(name, default = TRUE)
In-Reply-To: <CAGxFJbTCLfWReJ_7jLost+-H1snhN5ZFcq9HSRT-yJw_buACSw@mail.gmail.com>
References: <620e05f7-65d6-cc51-c780-a5f7302a2b74@syonic.eu>
 <CAGxFJbTCLfWReJ_7jLost+-H1snhN5ZFcq9HSRT-yJw_buACSw@mail.gmail.com>
Message-ID: <fa3f5afa-21e9-ee0a-941b-07c9e66bdfc4@syonic.eu>

Dear Bert,

Thank you for the idea.

It works, although a little bit ugly. The original code generated an 
ugly warning as well. I have modified it slightly:

is.function.generic = function(name) {
 ?? ?# TODO: is.function.generic();
 ?? ?# - this version is a little bit ugly;
 ?? ?# - S4: if(isGeneric(name));
 ?? ?length(do.call(.S3methods, list(name))) > 0;
}

The latest code is on GitHub:
https://github.com/discoleo/R/blob/master/Stat/Tools.Code.R

Sincerely,

Leonard

### initial variant:

is.function.generic = function(name) {
 ?? ?length(.S3methods(name)) > 0;
}
is.function.generic(plot)
# [1] TRUE
# Warning message:
# In .S3methods(name) :
#? generic function 'name' dispatches methods for generic 'plot'


On 3/8/2023 9:24 PM, Bert Gunter wrote:
> ?.S3methods
>
> f <- function()(2)
> > length(.S3methods(f))
> [1] 0
> > length(.S3methods(print))
> [1] 206
>
> There may be better ways, but this is what came to my mind.
> -- Bert
>
> On Wed, Mar 8, 2023 at 11:09?AM Leonard Mada via R-help 
> <r-help at r-project.org> wrote:
>
>     Dear R-Users,
>
>     I want to change the args() function to return by default the
>     arguments
>     of the default generic function:
>     args = function(name, default = TRUE) {
>     ??? ?# TODO: && is.function.generic();
>     ??? ?if(default) {
>     ??? ???? fn = match.call()[[2]];
>     ??? ???? fn = paste0(as.character(fn), ".default");
>     ??? ???? name = fn;
>     ??? ?}
>     ??? ?.Internal(args(name));
>     }
>
>     Is there a nice way to find out if a function is generic:
>     something like
>     is.function.generic()?
>
>     Many thanks,
>
>     Leonard
>     =======
>
>     Note:
>     - the latest version of this code will be on GitHub: [edited]
>     https://github.com/discoleo/R/blob/master/Stat/Tools.Code.R
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://eu01.z.antigena.com/l/WZHjscrVT77vHCg4mpOMD6G3~71hGfsI0mptEj63qDZ99ANSHBBoL682m4B1eeO4WJY2kWbEgf4nD6ORsu0Q1G3~fQBVXndWyFwTK0o1QPwCDSM4XcAT_kGxZsqFs0nU5LG9FCvwtZX7Lsta070KiGRfGTdgKbpCnJ9vNNn
>
>     PLEASE do read the posting guide
>     https://eu01.z.antigena.com/l/Efe9Tc5mAjjlHqsLNsVk2LXfGus-29wP9xeO3U-ofLI66Tb7tlGzxrP41MCDN4tLHzRIy8CNw2lGBcBL8IJrlNylyzjgGj38QiP1AqozMauoon-m6yOtCa2oLqMafoHs6kmA~KUXemho3gXsgpaNdEzAmkcv5WqXCZJU9h
>
>     and provide commented, minimal, self-contained, reproducible code.
>
	[[alternative HTML version deleted]]


From @vi@e@gross m@iii@g oii gm@ii@com  Wed Mar  8 21:23:53 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Wed, 8 Mar 2023 15:23:53 -0500
Subject: [R] nth kludge
Message-ID: <008e01d951fb$e76530f0$b62f92d0$@gmail.com>

I see many are not thrilled with the concise but unintuitive way it is
suggested you use with the new R pipe function. 
 
I am wondering if any has created one of a family of functions that might be
more intuitive if less general.
 
Some existing pipes simply allowed you to specify where in an argument list
to put the results from the earlier pipeline as in:
 
. %>% func(first, . , last)
 
In the above common case, it substituted into the second position.
 
What would perhaps be a useful variant is a function that does not evaluate
it's arguments and expects a first argument passed from the pipe and a
second argument that is a number like 2 or 3 and  a third  argument that is
the (name of) a function and remaining arguments.
 
The above might look like:
 
. %>% the_nth(2, func, first , last)
 
The above asks to take the new implicitly passed first argument which I will
illustrate with a real argument as it would also work without a pipeline:
 
the_nth(piped, 2, func, first, last)
 
So it would make a list out of the remaining arguments that looks like
list(first, last) and interpolate piped at position 2 to make list(first,
piped, last) and then use something like do.call()
 
do.call(func, list(first, piped, last))
 
I am not sure if this is much more readable, but seems like a
straightforward function to write, and perhaps a decent version could make
it into the standard library some year that is general and more useful than
the darn anonymous lambda notation.
 

	[[alternative HTML version deleted]]


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Wed Mar  8 22:46:10 2023
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Thu, 9 Mar 2023 10:46:10 +1300
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <746d2ff3-f6b5-964c-c633-a6d845d34b25@gmail.com>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
 <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>
 <2d0e82a2-153d-dcd6-beb9-8488999f198d@stat.auckland.ac.nz>
 <746d2ff3-f6b5-964c-c633-a6d845d34b25@gmail.com>
Message-ID: <6b2c7067-bb6d-d930-cb19-c711dfce4908@stat.auckland.ac.nz>

Hi

On 8/03/23 15:27, Rusty Travis wrote:
> On 3/7/23 13:12, Paul Murrell wrote:
>> Hi
>>
>> I think the main issue here is that you are *drawing* text on the 
>> graphics device, so I would only expect to see literal XML text output 
>> in the result.
>> '''
>>
>> Hope that helps
> 
> Thank you for your consideration of the matter, but that seems 
> extraordinarily overly-complicated for the results of "help(svg)". I'll 
> just print the text of the link instead of constructing a link, as the 
> resultant R-produced *.svg file is about 10 times the size of a manual 
> screen-print *.png of X11() same.

Yes, it is not completely straightforward :)
Though once you have a code template it is not hard to repeat.
Yes, the generated SVG is verbose.
Though SVG can be compressed.

> I'll let the user type the title() noaa.gov uri into their browser 
> instead of providing a clickable link.

Glad you have a solution!

Paul

> Thank you all.
> 
>>> ?> On 2023-03-07, at 10:33, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>> ?>
>>> ?> Perhaps this thread on stackoverflow (from a search on "include 
>>> hyperlink
>>> ?> in svg graphic") may be of use:
>>> ?>
>>> ?> 
>>> https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use 
>>> <https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use>
>>> ?>
>>> ?> Cheers,
>>> ?> Bert
>>> ?>
>>> ?> On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis 
>>> <rusytravis19 at gmail.com> wrote:
>>> ?>
>>> ?>> Greetings,
>>> ?>>
>>> ?>> I am creating plots of weather data and wish to include a link to 
>>> the
>>> ?>> data source into a title() object in the plot. My syntax must be 
>>> wrong
>>> ?>> though, as the hyperlink doesn't display, just the text and tags.
>>> ?>>
>>> ?>>> svg("/tmp/temps.svg", width=9, height=6)
>>> ?>>> #plot created here
>>> ?>>> title(sub="produced by Rusty Travis \nusing data from <a
>>> ?>> xlink:href=https://www.ncei.noaa.gov/cdo-web/ 
>>> <https://www.ncei.noaa.gov/cdo-web>>test</a> ", line=-1.5,
>>> ?>> adj=1)
>>> ?>>> dev.off()
>>> ?>>
>>> ?>> The goal is to create a hyperlink of the word "test" in the above
>>> ?>> example. What is the correct syntax, please?
>>> ?>>
>>> ?>> [[alternative HTML version deleted]]
>>> ?>>
>>> ?>> ______________________________________________
>>> ?>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> ?>> https://stat.ethz.ch/mailman/listinfo/r-help 
>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>> ?>> PLEASE do read the posting guide
>>> ?>> http://www.R-project.org/posting-guide.html 
>>> <http://www.R-project.org/posting-guide.html>
>>> ?>> and provide commented, minimal, self-contained, reproducible code.
>>> ?>>
>>> ?>
>>> ?> [[alternative HTML version deleted]]
>>> ?>
>>> ?> ______________________________________________
>>> ?> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> ?> https://stat.ethz.ch/mailman/listinfo/r-help 
>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>> ?> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html 
>>> <http://www.R-project.org/posting-guide.html>
>>> ?> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help 
>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html 
>>> <http://www.R-project.org/posting-guide.html>
>>> and provide commented, minimal, self-contained, reproducible code.
>>
> 

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland 1142, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Thu Mar  9 08:24:01 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Thu, 9 Mar 2023 08:24:01 +0100
Subject: [R] insert hyperlink into svg graphic
In-Reply-To: <6b2c7067-bb6d-d930-cb19-c711dfce4908@stat.auckland.ac.nz>
References: <5a14090c-046b-29e9-0051-c4e78120ed20@gmail.com>
 <CAGxFJbTy-T380rvPuPSL4crtyA0wNfSgP-WTkKY0DWOb3yUKug@mail.gmail.com>
 <E850EF74-CCF4-4400-9D4B-D137C3F74B44@utoronto.ca>
 <2d0e82a2-153d-dcd6-beb9-8488999f198d@stat.auckland.ac.nz>
 <746d2ff3-f6b5-964c-c633-a6d845d34b25@gmail.com>
 <6b2c7067-bb6d-d930-cb19-c711dfce4908@stat.auckland.ac.nz>
Message-ID: <93b26002-456c-174c-3d3b-d786be4670fd@wiwi.hu-berlin.de>

Hi,

maybe it would be a good idea to extend plotmath by a href command.

Sigbert

Am 08.03.23 um 22:46 schrieb Paul Murrell:
> Hi
> 
> On 8/03/23 15:27, Rusty Travis wrote:
>> On 3/7/23 13:12, Paul Murrell wrote:
>>> Hi
>>>
>>> I think the main issue here is that you are *drawing* text on the 
>>> graphics device, so I would only expect to see literal XML text 
>>> output in the result.
>>> '''
>>>
>>> Hope that helps
>>
>> Thank you for your consideration of the matter, but that seems 
>> extraordinarily overly-complicated for the results of "help(svg)". 
>> I'll just print the text of the link instead of constructing a link, 
>> as the resultant R-produced *.svg file is about 10 times the size of a 
>> manual screen-print *.png of X11() same.
> 
> Yes, it is not completely straightforward :)
> Though once you have a code template it is not hard to repeat.
> Yes, the generated SVG is verbose.
> Though SVG can be compressed.
> 
>> I'll let the user type the title() noaa.gov uri into their browser 
>> instead of providing a clickable link.
> 
> Glad you have a solution!
> 
> Paul
> 
>> Thank you all.
>>
>>>> ?> On 2023-03-07, at 10:33, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>> ?>
>>>> ?> Perhaps this thread on stackoverflow (from a search on "include 
>>>> hyperlink
>>>> ?> in svg graphic") may be of use:
>>>> ?>
>>>> ?> 
>>>> https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use 
>>>> <https://stackoverflow.com/questions/41970535/a-hyperlink-in-svg-use>
>>>> ?>
>>>> ?> Cheers,
>>>> ?> Bert
>>>> ?>
>>>> ?> On Tue, Mar 7, 2023 at 12:34?AM Rusty Travis 
>>>> <rusytravis19 at gmail.com> wrote:
>>>> ?>
>>>> ?>> Greetings,
>>>> ?>>
>>>> ?>> I am creating plots of weather data and wish to include a link 
>>>> to the
>>>> ?>> data source into a title() object in the plot. My syntax must be 
>>>> wrong
>>>> ?>> though, as the hyperlink doesn't display, just the text and tags.
>>>> ?>>
>>>> ?>>> svg("/tmp/temps.svg", width=9, height=6)
>>>> ?>>> #plot created here
>>>> ?>>> title(sub="produced by Rusty Travis \nusing data from <a
>>>> ?>> xlink:href=https://www.ncei.noaa.gov/cdo-web/ 
>>>> <https://www.ncei.noaa.gov/cdo-web>>test</a> ", line=-1.5,
>>>> ?>> adj=1)
>>>> ?>>> dev.off()
>>>> ?>>
>>>> ?>> The goal is to create a hyperlink of the word "test" in the above
>>>> ?>> example. What is the correct syntax, please?
>>>> ?>>
>>>> ?>> [[alternative HTML version deleted]]
>>>> ?>>
>>>> ?>> ______________________________________________
>>>> ?>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> ?>> https://stat.ethz.ch/mailman/listinfo/r-help 
>>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> ?>> PLEASE do read the posting guide
>>>> ?>> http://www.R-project.org/posting-guide.html 
>>>> <http://www.R-project.org/posting-guide.html>
>>>> ?>> and provide commented, minimal, self-contained, reproducible code.
>>>> ?>>
>>>> ?>
>>>> ?> [[alternative HTML version deleted]]
>>>> ?>
>>>> ?> ______________________________________________
>>>> ?> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> ?> https://stat.ethz.ch/mailman/listinfo/r-help 
>>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> ?> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html 
>>>> <http://www.R-project.org/posting-guide.html>
>>>> ?> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help 
>>>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html 
>>>> <http://www.R-project.org/posting-guide.html>
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
> 

-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar


From rhe|p @end|ng |rom eoo@@dd@@n|  Thu Mar  9 10:19:23 2023
From: rhe|p @end|ng |rom eoo@@dd@@n| (Jan van der Laan)
Date: Thu, 9 Mar 2023 10:19:23 +0100
Subject: [R] nth kludge
In-Reply-To: <008e01d951fb$e76530f0$b62f92d0$@gmail.com>
References: <008e01d951fb$e76530f0$b62f92d0$@gmail.com>
Message-ID: <7047d3f0-2a37-b0d5-b611-d24fe3ec6acf@eoos.dds.nl>

Hi Avi, list,

Below an alternative suggestion:

func <- function(a, b, c) {
   list(a, b, c)
}

1:3 |> list(x = _) |> with(func(a, x, b))


Not sure if this is more readable than some of the other solutions, e.g. 
your solution, but you could make a variant of with more specific for 
this use case:

named <- function(expr, ...) {
   eval(substitute(expr), list(...), enclos = parent.frame())
}

then you can do:

1:3 |> named(func(1, x, mean(x)), x= _)

or perhaps you can even simplify further using the same strategy:


dot <- function(.,  expr) {
   eval(substitute(expr), list(. = .), enclos = parent.frame())
}

1:3 |> dot(func(1, ., mean(.)))

This seams simpler than the lambda notation and more general than your 
solution. Not sure if this has any drawbacks.

HTH,
Jan



On 08-03-2023 21:23, avi.e.gross at gmail.com wrote:
> I see many are not thrilled with the concise but unintuitive way it is
> suggested you use with the new R pipe function.
>   
> I am wondering if any has created one of a family of functions that might be
> more intuitive if less general.
>   
> Some existing pipes simply allowed you to specify where in an argument list
> to put the results from the earlier pipeline as in:
>   
> . %>% func(first, . , last)
>   
> In the above common case, it substituted into the second position.
>   
> What would perhaps be a useful variant is a function that does not evaluate
> it's arguments and expects a first argument passed from the pipe and a
> second argument that is a number like 2 or 3 and  a third  argument that is
> the (name of) a function and remaining arguments.
>   
> The above might look like:
>   
> . %>% the_nth(2, func, first , last)
>   
> The above asks to take the new implicitly passed first argument which I will
> illustrate with a real argument as it would also work without a pipeline:
>   
> the_nth(piped, 2, func, first, last)
>   
> So it would make a list out of the remaining arguments that looks like
> list(first, last) and interpolate piped at position 2 to make list(first,
> piped, last) and then use something like do.call()
>   
> do.call(func, list(first, piped, last))
>   
> I am not sure if this is much more readable, but seems like a
> straightforward function to write, and perhaps a decent version could make
> it into the standard library some year that is general and more useful than
> the darn anonymous lambda notation.
>   
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From gb @end|ng |rom eh@r@@e  Thu Mar  9 14:43:49 2023
From: gb @end|ng |rom eh@r@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Thu, 9 Mar 2023 14:43:49 +0100
Subject: [R] web address for R-project
Message-ID: <24b07ee6-07e2-bd16-7918-464ffa9f823b@ehar.se>

I got the link cran.nexr.com from a person who claimed that it is the 
home of R-project, and indeed, it looks right.

But it doesn't feel right, so I wonder what is going on. Is it someone's 
mirror (authorized) of R-project?

Thanks, G?ran


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Mar  9 15:01:14 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 9 Mar 2023 17:01:14 +0300
Subject: [R] web address for R-project
In-Reply-To: <24b07ee6-07e2-bd16-7918-464ffa9f823b@ehar.se>
References: <24b07ee6-07e2-bd16-7918-464ffa9f823b@ehar.se>
Message-ID: <20230309170114.4b8ab0f1@arachnoid>

? Thu, 9 Mar 2023 14:43:49 +0100
G?ran Brostr?m <gb at ehar.se> ?????:

> Is it someone's mirror (authorized) of R-project?

It's not currently in the official list of mirrors [*], but anyone can
create a CRAN mirror for their own needs as long as they don't overload
the CRAN master site: https://cran.r-project.org/mirror-howto.html

NexR call themselves a "total data service company" and have published
an R interface for Apache Hive [**], so it shouldn't be too surprising
that they have a local CRAN mirror.

The home of R project is at https://r-project.org/. If you don't want
to trust a J. Random Hacker from the Internet to give you the right
address, run citation() in an R prompt.

-- 
Best regards,
Ivan

[*] https://svn.r-project.org/R/trunk/doc/CRAN_mirrors.csv

[**] https://nexr.github.io/RHive/


From gb @end|ng |rom eh@r@@e  Thu Mar  9 15:19:27 2023
From: gb @end|ng |rom eh@r@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Thu, 9 Mar 2023 15:19:27 +0100
Subject: [R] web address for R-project
In-Reply-To: <20230309170114.4b8ab0f1@arachnoid>
References: <24b07ee6-07e2-bd16-7918-464ffa9f823b@ehar.se>
 <20230309170114.4b8ab0f1@arachnoid>
Message-ID: <5d454639-00c7-f145-f85e-72c746110661@ehar.se>

Thanks, G?ran

Den 2023-03-09 kl. 15:01, skrev Ivan Krylov:
> ? Thu, 9 Mar 2023 14:43:49 +0100
> G?ran Brostr?m <gb at ehar.se> ?????:
> 
>> Is it someone's mirror (authorized) of R-project?
> 
> It's not currently in the official list of mirrors [*], but anyone can
> create a CRAN mirror for their own needs as long as they don't overload
> the CRAN master site: https://cran.r-project.org/mirror-howto.html
> 
> NexR call themselves a "total data service company" and have published
> an R interface for Apache Hive [**], so it shouldn't be too surprising
> that they have a local CRAN mirror.
> 
> The home of R project is at https://r-project.org/. If you don't want
> to trust a J. Random Hacker from the Internet to give you the right
> address, run citation() in an R prompt.
>


From n|ckmwr@y @end|ng |rom gm@||@com  Sat Mar 11 15:21:11 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Sat, 11 Mar 2023 14:21:11 +0000
Subject: [R] null in rao.test in R
Message-ID: <CABxY9BNg8frpNAbE0-QWn88VjUdp3qu4uKtpuCyZ+9JeWes2Lg@mail.gmail.com>

Hello  I am testing for the homogeneity of clusters of (yearly) seasonal
data using the rao.test from the circular package.  I can't find anywhere
(including the Cran pages) which specifically mentions the null hypothesis
for this test.  Playing around with it, for example using say the toy code
beneath it would seem that the null is that the data sets tested are not
homogenous, which is fine except that seems to be contrary to normal
practice, where the null would be that the two sets are homogenous unless
there's evidence otherwise.  Has anyone else used this test and can confirm
that the null is that sets are not homogenous?

a<-2*pi*c(1,2,3)/365
b<-a+pi
rt<- rao.test(a,b)
rt$p.value

this gives two p-values of 1 - one for the equality of polar vectors, and
the second for the  test of equality of dispersions.  Although I can guess,
to be honest at the moment i'm not sure what either of these things mean
(not really an R-help question I know) as I've only just begun serious
analysis of circular data but I am surprised that this toy data gives a
p-value of 1 in each case

can anyone cast light on all this?
Thanks Nick Wray

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Sat Mar 11 15:44:20 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sat, 11 Mar 2023 09:44:20 -0500
Subject: [R] null in rao.test in R
In-Reply-To: <CABxY9BNg8frpNAbE0-QWn88VjUdp3qu4uKtpuCyZ+9JeWes2Lg@mail.gmail.com>
References: <CABxY9BNg8frpNAbE0-QWn88VjUdp3qu4uKtpuCyZ+9JeWes2Lg@mail.gmail.com>
Message-ID: <8bfd98df-f4d5-f461-24f2-68bd4bf66a98@gmail.com>

On 11/03/2023 9:21 a.m., Nick Wray wrote:
> Hello  I am testing for the homogeneity of clusters of (yearly) seasonal
> data using the rao.test from the circular package.  I can't find anywhere
> (including the Cran pages) which specifically mentions the null hypothesis
> for this test.  Playing around with it, for example using say the toy code
> beneath it would seem that the null is that the data sets tested are not
> homogenous, which is fine except that seems to be contrary to normal
> practice, where the null would be that the two sets are homogenous unless
> there's evidence otherwise.  Has anyone else used this test and can confirm
> that the null is that sets are not homogenous?
> 
> a<-2*pi*c(1,2,3)/365
> b<-a+pi
> rt<- rao.test(a,b)
> rt$p.value
> 
> this gives two p-values of 1 - one for the equality of polar vectors, and
> the second for the  test of equality of dispersions.  Although I can guess,
> to be honest at the moment i'm not sure what either of these things mean
> (not really an R-help question I know) as I've only just begun serious
> analysis of circular data but I am surprised that this toy data gives a
> p-value of 1 in each case
> 
> can anyone cast light on all this?

I think the null for the polar test is that the directions are the same, 
and the null for the dispersion test is that the dispersions are the same.

Your two samples are very similar but in opposite directions.  If you 
add pi/2 (or other numbers) instead of pi to form b from a, you'll see 
very small p values.

What this indicates to me is that the test as implemented is unable to 
detect directions that differ by pi.

I don't know whether the original test had this limitation or whether it 
isn't implemented as designed.

Duncan Murdoch


From drj|m|emon @end|ng |rom gm@||@com  Sun Mar 12 10:20:51 2023
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sun, 12 Mar 2023 20:20:51 +1100
Subject: [R] Shaded area
In-Reply-To: <CAKZQJMAgi_1Rq8QZCD1O77XZouj910sm-uDsWRq_=71kLB6dzQ@mail.gmail.com>
References: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
 <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>
 <CAKZQJMAgi_1Rq8QZCD1O77XZouj910sm-uDsWRq_=71kLB6dzQ@mail.gmail.com>
Message-ID: <CA+8X3fWwGvb4zHzAGgkOSjkSTApXegKE54OKgTErEPoTf1tOcA@mail.gmail.com>

Hi all,
I was quite intrigued by George's question, for I thought this might
be a problem faced by many. The solution attached is only useful for a
monotonically increasing x vector, a paired vector of y values, and a
criterial value above which a polygon will be displayed. More work
would needed for curves that are above the criterial value at the
beginning or end, and a corresponding argument to fill the area
_below_ the criterial value. If it is useful, I can probably do a bit
more work on it.

Jim

On Fri, Mar 3, 2023 at 11:58?PM John Kane <jrkrideau at gmail.com> wrote:
>
> As Peter says, the list is very cautious about what types of files it
> allows. A handy way to supply some sample data is the dput() function.  In
> the case of a large dataset something like dput(head(mydata, 100)) should
> supply the data we need. Just do dput(mydata) where *mydata* is your data.
> Copy the output and paste it here.
>
> On Wed, 1 Mar 2023 at 09:58, PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
> > Hallo
> >
> > Excel attachment is not allowed here, but shading area is answered many
> > times elsewhere. Use something like . "shading area r" in google.
> >
> > See eg.
> > https://www.geeksforgeeks.org/how-to-shade-a-graph-in-r/
> >
> > Cheers Petr
> >
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of George Brida
> > Sent: Wednesday, March 1, 2023 3:21 PM
> > To: r-help at r-project.org
> > Subject: [R] Shaded area
> >
> > Dear R users,
> >
> > I have an xlsx file (attached to this mail) that shows the values of a
> > "der" series observed on a daily basis from January 1, 2017 to January 25,
> > 2017. This series is strictly positive during two periods: from January 8,
> > 2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I
> > would like to plot the series with two shaded areas corresponding to the
> > positivity of the series. Specifically, I would like to draw 4 vertical
> > lines intersecting the x-axis in the 4 dates mentioned above and shade the
> > two areas of positivity. Thanks for your help.
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> > Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> > partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> > https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> > about processing and protection of business partner?s personal data are
> > available on website:
> > https://www.precheza.cz/en/personal-data-protection-principles/
> > D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> > d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> > odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> > documents attached to it may be confidential and are subject to the legally
> > binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>
> --
> John Kane
> Kingston ON Canada
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From rodr|go@b@d|||@ @end|ng |rom gm@||@com  Mon Mar 13 01:41:49 2023
From: rodr|go@b@d|||@ @end|ng |rom gm@||@com (Rodrigo Badilla)
Date: Sun, 12 Mar 2023 21:41:49 -0300
Subject: [R] tcl tk: set the position button
Message-ID: <Mailbird-057f2649-7759-430e-aea7-1d27855353ea@gmail.com>

Hi all,
I am using tcltk2 library to show buttons and messages. Everything
work fine but I would like set the tk2button to the right of my screen, by default it display at the left of my screen.
my script example:
library(tcltk2) win1 <- tktoplevel() butOK <- tk2button(win1, text = "TEST", width = 77) tkgrid(butOK)
Thanks in advance
Saludos
Rodrigo?


--
Este correo electr?nico ha sido analizado en busca de virus por el software antivirus de Avast.
www.avast.com
	[[alternative HTML version deleted]]


From j|ox @end|ng |rom mcm@@ter@c@  Mon Mar 13 20:42:19 2023
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Mon, 13 Mar 2023 15:42:19 -0400
Subject: [R] tcl tk: set the position button
In-Reply-To: <Mailbird-057f2649-7759-430e-aea7-1d27855353ea@gmail.com>
References: <Mailbird-057f2649-7759-430e-aea7-1d27855353ea@gmail.com>
Message-ID: <754cf7d8-bd39-bb79-f2e9-27cf04f866b4@mcmaster.ca>

Dear Rodrigo,

Try tkwm.geometry(win1, "-0+0"), which should position win1 at the top 
right.

I hope this helps,
  John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://socialsciences.mcmaster.ca/jfox/

On 2023-03-12 8:41 p.m., Rodrigo Badilla wrote:
> Hi all,
> I am using tcltk2 library to show buttons and messages. Everything
> work fine but I would like set the tk2button to the right of my screen, by default it display at the left of my screen.
> my script example:
> library(tcltk2) win1 <- tktoplevel() butOK <- tk2button(win1, text = "TEST", width = 77) tkgrid(butOK)
> Thanks in advance
> Saludos
> Rodrigo
> 
> 
> --
> Este correo electr?nico ha sido analizado en busca de virus por el software antivirus de Avast.
> www.avast.com
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


