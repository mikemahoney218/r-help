From pd@me@ @end|ng |rom cb@@dk  Wed Mar  1 13:04:56 2023
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Wed, 1 Mar 2023 12:04:56 +0000
Subject: [R] [Rd] R 4.2.3 scheduled for March 15
Message-ID: <0698828C-0FC0-421C-92DC-045717E4F7A2@cbs.dk>

Full schedule available on developer.r-project.org in a short while.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From georgebr|d@94 @end|ng |rom gm@||@com  Wed Mar  1 15:21:24 2023
From: georgebr|d@94 @end|ng |rom gm@||@com (George Brida)
Date: Wed, 1 Mar 2023 15:21:24 +0100
Subject: [R] Shaded area
Message-ID: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>

Dear R users,

I have an xlsx file (attached to this mail) that shows the values of a
"der" series observed on a daily basis from January 1, 2017 to January 25,
2017. This series is strictly positive during two periods: from January 8,
2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I
would like to plot the series with two shaded areas corresponding to the
positivity of the series. Specifically, I would like to draw 4 vertical
lines intersecting the x-axis in the 4 dates mentioned above and shade the
two areas of positivity. Thanks for your help.

From petr@p|k@| @end|ng |rom prechez@@cz  Wed Mar  1 15:57:56 2023
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 1 Mar 2023 14:57:56 +0000
Subject: [R] Shaded area
In-Reply-To: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
References: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
Message-ID: <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>

Hallo

Excel attachment is not allowed here, but shading area is answered many times elsewhere. Use something like . "shading area r" in google.

See eg.
https://www.geeksforgeeks.org/how-to-shade-a-graph-in-r/

Cheers Petr

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of George Brida
Sent: Wednesday, March 1, 2023 3:21 PM
To: r-help at r-project.org
Subject: [R] Shaded area

Dear R users,

I have an xlsx file (attached to this mail) that shows the values of a "der" series observed on a daily basis from January 1, 2017 to January 25, 2017. This series is strictly positive during two periods: from January 8,
2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I would like to plot the series with two shaded areas corresponding to the positivity of the series. Specifically, I would like to draw 4 vertical lines intersecting the x-axis in the 4 dates mentioned above and shade the two areas of positivity. Thanks for your help.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch partner? PRECHEZA a.s. jsou zve?ejn?ny na: https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information about processing and protection of business partner?s personal data are available on website: https://www.precheza.cz/en/personal-data-protection-principles/
D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en? odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any documents attached to it may be confidential and are subject to the legally binding disclaimer: https://www.precheza.cz/en/01-disclaimer/


From jrkr|de@u @end|ng |rom gm@||@com  Fri Mar  3 13:57:33 2023
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Fri, 3 Mar 2023 07:57:33 -0500
Subject: [R] Shaded area
In-Reply-To: <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>
References: <CAA6O3zgwrDD81LwB-3i9986wmpbT8=Hr=Dfx2P2=jBb96-Mqfw@mail.gmail.com>
 <efa39ed71706461397e72ff44fe6d070@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAKZQJMAgi_1Rq8QZCD1O77XZouj910sm-uDsWRq_=71kLB6dzQ@mail.gmail.com>

As Peter says, the list is very cautious about what types of files it
allows. A handy way to supply some sample data is the dput() function.  In
the case of a large dataset something like dput(head(mydata, 100)) should
supply the data we need. Just do dput(mydata) where *mydata* is your data.
Copy the output and paste it here.

On Wed, 1 Mar 2023 at 09:58, PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hallo
>
> Excel attachment is not allowed here, but shading area is answered many
> times elsewhere. Use something like . "shading area r" in google.
>
> See eg.
> https://www.geeksforgeeks.org/how-to-shade-a-graph-in-r/
>
> Cheers Petr
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of George Brida
> Sent: Wednesday, March 1, 2023 3:21 PM
> To: r-help at r-project.org
> Subject: [R] Shaded area
>
> Dear R users,
>
> I have an xlsx file (attached to this mail) that shows the values of a
> "der" series observed on a daily basis from January 1, 2017 to January 25,
> 2017. This series is strictly positive during two periods: from January 8,
> 2017 to January 11, 2017 and from January 16, 2017 to January 20, 2017. I
> would like to plot the series with two shaded areas corresponding to the
> positivity of the series. Specifically, I would like to draw 4 vertical
> lines intersecting the x-axis in the 4 dates mentioned above and shade the
> two areas of positivity. Thanks for your help.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> Osobn? ?daje: Informace o zpracov?n? a ochran? osobn?ch ?daj? obchodn?ch
> partner? PRECHEZA a.s. jsou zve?ejn?ny na:
> https://www.precheza.cz/zasady-ochrany-osobnich-udaju/ | Information
> about processing and protection of business partner?s personal data are
> available on website:
> https://www.precheza.cz/en/personal-data-protection-principles/
> D?v?rnost: Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou
> d?v?rn? a podl?haj? tomuto pr?vn? z?vazn?mu prohl??en? o vylou?en?
> odpov?dnosti: https://www.precheza.cz/01-dovetek/ | This email and any
> documents attached to it may be confidential and are subject to the legally
> binding disclaimer: https://www.precheza.cz/en/01-disclaimer/
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From |r@nz@h@ert| @end|ng |rom tum@de  Sat Mar  4 10:16:12 2023
From: |r@nz@h@ert| @end|ng |rom tum@de (=?UTF-8?Q?Franz_H=c3=a4rtl?=)
Date: Sat, 4 Mar 2023 10:16:12 +0100
Subject: [R] nlme varFixed
Message-ID: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>

Dear R-project team,

I have a problem with the function varFixed() of the nlme-package.

I used it with the squid-data of Zuur et. al 2009 (chapter 4), to fix 
increasing residuals (heterogenetiy) (see graph in the email)

I get the message '

Variance function structure of class varFixed with no parameters, or 
uninitialized

Could you help me please?

Kind regards

Franz

From ||@t@ @end|ng |rom dewey@myzen@co@uk  Sat Mar  4 14:26:13 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Sat, 4 Mar 2023 13:26:13 +0000
Subject: [R] nlme varFixed
In-Reply-To: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>
References: <d2e2803a-cf26-08b0-28eb-61a3fc00a4eb@mytum.de>
Message-ID: <5c85268f-33eb-27e6-cafe-25fe81c77729@dewey.myzen.co.uk>

Dear Franz

Only attachments of specific types are allowed on the R lists and yours 
did not come through. It might be necessary to show your code as well.

Have you thought of trying the mailing list dedicated to mixed models?

https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models

Michael

On 04/03/2023 09:16, Franz H?rtl wrote:
> Dear R-project team,
> 
> I have a problem with the function varFixed() of the nlme-package.
> 
> I used it with the squid-data of Zuur et. al 2009 (chapter 4), to fix 
> increasing residuals (heterogenetiy) (see graph in the email)
> 
> I get the message '
> 
> Variance function structure of class varFixed with no parameters, or 
> uninitialized
> 
> Could you help me please?
> 
> Kind regards
> 
> Franz
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Sat Mar  4 16:45:07 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Sat, 4 Mar 2023 16:45:07 +0100
Subject: [R] legend: interplay between title and y.intersp
Message-ID: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>

Hi,

my MWE is not working as expected:

plot(c(0,1), c(0,1), type="n")

legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"), 
title="test", y.intersp=0.2, lwd=1)

The lines are not below the title. I want (nearby) lines as in the plot, 
but below the title. Is there a way to achieve this?

Thanks Sigbert


From bgunter@4567 @end|ng |rom gm@||@com  Sat Mar  4 17:59:26 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 4 Mar 2023 08:59:26 -0800
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
Message-ID: <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>

Set the legend position explicitly with x and y values and add xpd = TRUE
to the legend call to clip the plot to the figure region and not the plot
region (the default). Something like this (you may have to fool around with
y.intersp, etc. to allow enough space between the legend lines):

plot(c(0,1), c(0,1), type="n")

legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
"green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')

Cheers,
Bert

Cheers,
Bert


On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
wrote:

> Hi,
>
> my MWE is not working as expected:
>
> plot(c(0,1), c(0,1), type="n")
>
> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
> title="test", y.intersp=0.2, lwd=1)
>
> The lines are not below the title. I want (nearby) lines as in the plot,
> but below the title. Is there a way to achieve this?
>
> Thanks Sigbert
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Sun Mar  5 08:39:41 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Sun, 5 Mar 2023 08:39:41 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
Message-ID: <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>

Hi,

thanks, but this does not solve the problem. If I make y.intersp large 
enough then it works properly. Maybe I was not clear enough: I want to 
have the small distance between the lines and no overlap between the 
title and the lines.

Sigbert

Am 04.03.23 um 17:59 schrieb Bert Gunter:
> Set the legend position explicitly with x and y values and add xpd = TRUE
> to the legend call to clip the plot to the figure region and not the plot
> region (the default). Something like this (you may have to fool around with
> y.intersp, etc. to allow enough space between the legend lines):
> 
> plot(c(0,1), c(0,1), type="n")
> 
> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
> 
> Cheers,
> Bert
> 
> Cheers,
> Bert
> 
> 
> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
> wrote:
> 
>> Hi,
>>
>> my MWE is not working as expected:
>>
>> plot(c(0,1), c(0,1), type="n")
>>
>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>> title="test", y.intersp=0.2, lwd=1)
>>
>> The lines are not below the title. I want (nearby) lines as in the plot,
>> but below the title. Is there a way to achieve this?
>>
>> Thanks Sigbert
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 

-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar


From ||@her @end|ng |rom p|e@@th@n@com  Sat Mar  4 23:36:23 2023
From: ||@her @end|ng |rom p|e@@th@n@com (Dennis Fisher)
Date: Sat, 4 Mar 2023 14:36:23 -0800
Subject: [R] VT-100 terminal escape sequences
Message-ID: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>

R 4.2.1
OS X

Colleagues

I am using XOJO (formerly known as RealBasic) to create a GUI -- R code generates the text that appears in the GUI.

Recently, VT-100 terminal control escape sequences appeared in the text, e.g.,:
         [?25h  TEXT
    [?25h[?25h	TEXT
It is not clear to me if the problem is generated by R or by XOJO.  And I did not track whether this began following installation of a new version of R or of XOJO (with no changes in the underlying code for either).

Of note, when I run the R code in a terminal in OS X, those errant characters do not appear.

I would like the 
	[?25h
text to disappear.  

If the problem originates in XOJO, I assume that there is nothing that can be done in R to solve the problem.  But, if there is something that can be done in my R code, it would be useful to know about it.

Dennis

Dennis Fisher MD
P < (The "P Less Than" Company)
Phone / Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com





	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Sun Mar  5 16:29:37 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 5 Mar 2023 18:29:37 +0300
Subject: [R] VT-100 terminal escape sequences
In-Reply-To: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>
References: <D1088969-EEA7-4EAA-B1E5-9BDC21B2F4F6@plessthan.com>
Message-ID: <20230305182937.67c38d72@Tarkus>

On Sat, 4 Mar 2023 14:36:23 -0800
Dennis Fisher <fisher at plessthan.com> wrote:

> R code generates the text that appears in the GUI.

How is R being run? As a child process? How does the XOJO program
interact with it?

> Recently, VT-100 terminal control escape sequences appeared in the
> text, e.g.,:
>          [?25h  TEXT
>     [?25h[?25h	TEXT
> It is not clear to me if the problem is generated by R or by XOJO.

"ESC [ ? 25 h" stands for "make the cursor visible". It may be produced
by the readline implementation that R links to, depending on how the
process is launched, but I don't think that R itself is generating it.

-- 
Best regards,
Ivan


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Mon Mar  6 11:34:36 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Mon, 6 Mar 2023 11:34:36 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
Message-ID: <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>

Hi,

I think you are right, legend cannot do it. I have now created my own 
legend function where I changed only one line and now it works the way I 
want it to. But I'm not sure if that might not have other side effects.



I have the impression that the legend and the title start at the same 
y-position (try y.intersp=0). Only if y.intersp is big enough, then it 
leads to a non-overlap of title and legend.

Thanks a lot

Sigbert

Am 05.03.23 um 16:20 schrieb Bert Gunter:
> Don't think you can do that.
> But maybe someone else will show that I'm wrong.
> 
> -- Bert
> 
> On Sat, Mar 4, 2023 at 11:39?PM Sigbert Klinke <sigbert at wiwi.hu-berlin.de>
> wrote:
> 
>> Hi,
>>
>> thanks, but this does not solve the problem. If I make y.intersp large
>> enough then it works properly. Maybe I was not clear enough: I want to
>> have the small distance between the lines and no overlap between the
>> title and the lines.
>>
>> Sigbert
>>
>> Am 04.03.23 um 17:59 schrieb Bert Gunter:
>>> Set the legend position explicitly with x and y values and add xpd = TRUE
>>> to the legend call to clip the plot to the figure region and not the plot
>>> region (the default). Something like this (you may have to fool around
>> with
>>> y.intersp, etc. to allow enough space between the legend lines):
>>>
>>> plot(c(0,1), c(0,1), type="n")
>>>
>>> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
>>> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
>>>
>>> Cheers,
>>> Bert
>>>
>>> Cheers,
>>> Bert
>>>
>>>
>>> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke <sigbert at wiwi.hu-berlin.de
>>>
>>> wrote:
>>>
>>>> Hi,
>>>>
>>>> my MWE is not working as expected:
>>>>
>>>> plot(c(0,1), c(0,1), type="n")
>>>>
>>>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>>>> title="test", y.intersp=0.2, lwd=1)
>>>>
>>>> The lines are not below the title. I want (nearby) lines as in the plot,
>>>> but below the title. Is there a way to achieve this?
>>>>
>>>> Thanks Sigbert
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>
>> --
>> https://hu.berlin/sk
>> https://www.stat.de/faqs
>> https://hu.berlin/mmstat
>> https://hu.berlin/mmstat-ar
>>
>>
> 

-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rplot.png
Type: image/png
Size: 12444 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230306/6182dff4/attachment.png>

From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Mar  6 13:08:18 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 6 Mar 2023 13:08:18 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
 <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
Message-ID: <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>

What about

  plot(c(0,1), c(0,1), type="n")
  legend("top", legend=c("", "a", ""), col=c("blue", "red", "green"), 
title="test", y.intersp=c(1,-0.4), lwd=1)

(in recent versions of R)

Best,
Uwe










On 06.03.2023 11:34, Sigbert Klinke wrote:
> Hi,
> 
> I think you are right, legend cannot do it. I have now created my own 
> legend function where I changed only one line and now it works the way I 
> want it to. But I'm not sure if that might not have other side effects.
> 
> 
> 
> I have the impression that the legend and the title start at the same 
> y-position (try y.intersp=0). Only if y.intersp is big enough, then it 
> leads to a non-overlap of title and legend.
> 
> Thanks a lot
> 
> Sigbert
> 
> Am 05.03.23 um 16:20 schrieb Bert Gunter:
>> Don't think you can do that.
>> But maybe someone else will show that I'm wrong.
>>
>> -- Bert
>>
>> On Sat, Mar 4, 2023 at 11:39?PM Sigbert Klinke 
>> <sigbert at wiwi.hu-berlin.de>
>> wrote:
>>
>>> Hi,
>>>
>>> thanks, but this does not solve the problem. If I make y.intersp large
>>> enough then it works properly. Maybe I was not clear enough: I want to
>>> have the small distance between the lines and no overlap between the
>>> title and the lines.
>>>
>>> Sigbert
>>>
>>> Am 04.03.23 um 17:59 schrieb Bert Gunter:
>>>> Set the legend position explicitly with x and y values and add xpd = 
>>>> TRUE
>>>> to the legend call to clip the plot to the figure region and not the 
>>>> plot
>>>> region (the default). Something like this (you may have to fool around
>>> with
>>>> y.intersp, etc. to allow enough space between the legend lines):
>>>>
>>>> plot(c(0,1), c(0,1), type="n")
>>>>
>>>> legend(x = .4, y = 1.25, legend=c("", "", "a"), col=c("blue", "red",
>>>> "green"), xpd = TRUE, lty = 1, y.intersp= .75, title = 'test')
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>>
>>>> On Sat, Mar 4, 2023 at 7:45?AM Sigbert Klinke 
>>>> <sigbert at wiwi.hu-berlin.de
>>>>
>>>> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> my MWE is not working as expected:
>>>>>
>>>>> plot(c(0,1), c(0,1), type="n")
>>>>>
>>>>> legend("top", legend=c("", "", "a"), col=c("blue", "red", "green"),
>>>>> title="test", y.intersp=0.2, lwd=1)
>>>>>
>>>>> The lines are not below the title. I want (nearby) lines as in the 
>>>>> plot,
>>>>> but below the title. Is there a way to achieve this?
>>>>>
>>>>> Thanks Sigbert
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>
>>> -- 
>>> https://hu.berlin/sk
>>> https://www.stat.de/faqs
>>> https://hu.berlin/mmstat
>>> https://hu.berlin/mmstat-ar
>>>
>>>
>>
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @|gbert @end|ng |rom w|w|@hu-ber||n@de  Mon Mar  6 14:31:46 2023
From: @|gbert @end|ng |rom w|w|@hu-ber||n@de (Sigbert Klinke)
Date: Mon, 6 Mar 2023 14:31:46 +0100
Subject: [R] legend: interplay between title and y.intersp
In-Reply-To: <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>
References: <5c4d9569-f34f-5891-9781-33fd834f6cdc@wiwi.hu-berlin.de>
 <CAGxFJbRekx8kSFjqDTEwo6rivNj6HS7h5G_jp7fw6-DMBpRCEQ@mail.gmail.com>
 <dda74c9a-d8ac-61bb-c466-0d4e03b01aae@wiwi.hu-berlin.de>
 <CAGxFJbRVeCqNeviVNJhTbiJ8C9sa5NKSTy=pR9gtLQ+xRCxgBA@mail.gmail.com>
 <d820d24d-559a-2add-4baa-7f82d859de17@wiwi.hu-berlin.de>
 <091ea70d-4429-9a90-18d4-209f789d3443@statistik.tu-dortmund.de>
Message-ID: <d9b4c44c-9aa7-f2cf-3c82-deb4f06994b4@wiwi.hu-berlin.de>

Hi,

that is perfect.

Thanks Sigbert

Am 06.03.23 um 13:08 schrieb Uwe Ligges:
> What about
> 
>  ?plot(c(0,1), c(0,1), type="n")
>  ?legend("top", legend=c("", "a", ""), col=c("blue", "red", "green"), 
> title="test", y.intersp=c(1,-0.4), lwd=1)
> 
> (in recent versions of R)
> 
> Best,
> Uwe


-- 
https://hu.berlin/sk
https://www.stat.de/faqs
https://hu.berlin/mmstat
https://hu.berlin/mmstat-ar


