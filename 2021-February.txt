From dw|n@em|u@ @end|ng |rom comc@@t@net  Mon Feb  1 07:00:55 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 31 Jan 2021 22:00:55 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <4937A207-12C7-4877-85D9-1F6DCDDC50B8@health.ucsd.edu>
References: <CAGR+MS5S=KTu13mn=ze_jMS2dhA790Q07CkRL8WYtEc6ZUXeKQ@mail.gmail.com>
 <faee43e7-8503-e0cc-dba1-adcf008cf1a2@comcast.net>
 <CAGR+MS7bo1+PpYhk+bG2qtmO5nYx4A8c0jtmVoDhdBREA+u3rQ@mail.gmail.com>
 <4937A207-12C7-4877-85D9-1F6DCDDC50B8@health.ucsd.edu>
Message-ID: <c58e930a-fdd0-fb96-3b73-e9341801a2a7@comcast.net>


On 1/31/21 1:26 PM, Berry, Charles wrote:
>
>> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>
>> Hi
>> I have made the sample code again. Could you please guide how to use
>> vectorization for variables whose next value depends on the previous one?
>>

I agree with Charles that I suspect your results are not what you 
expect. You should try using cat or print to output intermediate results 
to the console. I would suggest you limit your examination to a more 
manageable length, say the first 10 results while you are working out 
your logic. After you have the logic debugged, you can move on to long 
sequences.


This is my suggestion for a more compact solution (at least for the 
inner loop calculation):

set.seed(123)

x <- rnorm(2000)

z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)

w<- numeric(2000)

w <-? (1:2000)[ z >4 | z < 1 ]? # In your version the w values get 
overwritten and end up all being 2000


I would also advise making a natural language statement of the problem 
and goals. I'm thinking that you may be missing certain aspects of the 
underying problem.

-- 

David.

>
> Glad to help.
>
> First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>
> I suggest running this revision and printing out x, z, and w.
>
> #+begin_src R
>    w = NULL
>    for(j in 1:2)
>    {
>      z = NULL
>      x = rnorm(10)
>      z[1] = x[1]
>      for(i in 2:10)
>      {
>        z[i] = x[i]+5*z[i-1]
>        if(z[i]>4 | z[i]<1) {
> 	w[j]=i
>        } else {
> 	w[j] = 0
>        }
>      }
>    }
> #+end_src
>
>
> You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>


From |@@u|o @end|ng |rom |@t@t@|t  Mon Feb  1 11:46:35 2021
From: |@@u|o @end|ng |rom |@t@t@|t (Andrea Fasulo)
Date: Mon, 1 Feb 2021 11:46:35 +0100 (CET)
Subject: [R] [R-pkgs] R2BEAT 1.0.2
Message-ID: <2040941607.16696839.1612176395579.JavaMail.zimbra@istat.it>

Dear R users:

R2BEAT 1.0.2 is now available on CRAN 
[ https://cran.r-project.org/web/packages/R2BEAT/index.html | https://cran.r-project.org/web/packages/R2BEAT/index.html ] 
This package covers the two-stage stratified sample design,
offering functions for determining the optimal allocation of both Primary and Secondary stage units,
and for the selection of PSUs with pps, in such a way that the  final sample of SSU is almost self-weighting.

Full documentation and vignettes on: [ https://barcaroli.github.io/R2BEAT/ | https://barcaroli.github.io/R2BEAT/ ] Hope this can be useful,
Regards

Andrea Fasulo 

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From nz@h@@m @end|ng |rom gm@||@com  Mon Feb  1 13:03:55 2021
From: nz@h@@m @end|ng |rom gm@||@com (Shaami)
Date: Mon, 1 Feb 2021 17:03:55 +0500
Subject: [R] dependent nested for loops in R
In-Reply-To: <c58e930a-fdd0-fb96-3b73-e9341801a2a7@comcast.net>
References: <CAGR+MS5S=KTu13mn=ze_jMS2dhA790Q07CkRL8WYtEc6ZUXeKQ@mail.gmail.com>
 <faee43e7-8503-e0cc-dba1-adcf008cf1a2@comcast.net>
 <CAGR+MS7bo1+PpYhk+bG2qtmO5nYx4A8c0jtmVoDhdBREA+u3rQ@mail.gmail.com>
 <4937A207-12C7-4877-85D9-1F6DCDDC50B8@health.ucsd.edu>
 <c58e930a-fdd0-fb96-3b73-e9341801a2a7@comcast.net>
Message-ID: <CAGR+MS6aTWhCCgVOGSEnpkx_n69Ga0f2WbcnhQqTxqHzXhr9Eg@mail.gmail.com>

Hi David and Charles

Your suggestions helped me a lot. Could you please suggest how I could
vectorize the following for loop?
z = NULL
p = 0.25
x = rnorm(100)
z[1] = p*x[1] + (1-p)*5
for(i in 2:100)
{
  z[i] = p*x[i]+(1-p)*z[i-1]
}
 Thank you

Regards

On Mon, Feb 1, 2021 at 11:01 AM David Winsemius <dwinsemius at comcast.net>
wrote:

>
> On 1/31/21 1:26 PM, Berry, Charles wrote:
> >
> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
> >>
> >> Hi
> >> I have made the sample code again. Could you please guide how to use
> >> vectorization for variables whose next value depends on the previous
> one?
> >>
>
> I agree with Charles that I suspect your results are not what you
> expect. You should try using cat or print to output intermediate results
> to the console. I would suggest you limit your examination to a more
> manageable length, say the first 10 results while you are working out
> your logic. After you have the logic debugged, you can move on to long
> sequences.
>
>
> This is my suggestion for a more compact solution (at least for the
> inner loop calculation):
>
> set.seed(123)
>
> x <- rnorm(2000)
>
> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>
> w<- numeric(2000)
>
> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get
> overwritten and end up all being 2000
>
>
> I would also advise making a natural language statement of the problem
> and goals. I'm thinking that you may be missing certain aspects of the
> underying problem.
>
> --
>
> David.
>
> >
> > Glad to help.
> >
> > First, it could help you to trace your code.  I suspect that the results
> are not at all what you want and tracing would help you see that.
> >
> > I suggest running this revision and printing out x, z, and w.
> >
> > #+begin_src R
> >    w = NULL
> >    for(j in 1:2)
> >    {
> >      z = NULL
> >      x = rnorm(10)
> >      z[1] = x[1]
> >      for(i in 2:10)
> >      {
> >        z[i] = x[i]+5*z[i-1]
> >        if(z[i]>4 | z[i]<1) {
> >       w[j]=i
> >        } else {
> >       w[j] = 0
> >        }
> >      }
> >    }
> > #+end_src
> >
> >
> > You should be able to see that the value of w can easily be obtained
> outside of the `i' loop.
> >
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Feb  1 14:26:36 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 1 Feb 2021 08:26:36 -0500
Subject: [R] dependent nested for loops in R
In-Reply-To: <CAGR+MS6aTWhCCgVOGSEnpkx_n69Ga0f2WbcnhQqTxqHzXhr9Eg@mail.gmail.com>
References: <CAGR+MS5S=KTu13mn=ze_jMS2dhA790Q07CkRL8WYtEc6ZUXeKQ@mail.gmail.com>
 <faee43e7-8503-e0cc-dba1-adcf008cf1a2@comcast.net>
 <CAGR+MS7bo1+PpYhk+bG2qtmO5nYx4A8c0jtmVoDhdBREA+u3rQ@mail.gmail.com>
 <4937A207-12C7-4877-85D9-1F6DCDDC50B8@health.ucsd.edu>
 <c58e930a-fdd0-fb96-3b73-e9341801a2a7@comcast.net>
 <CAGR+MS6aTWhCCgVOGSEnpkx_n69Ga0f2WbcnhQqTxqHzXhr9Eg@mail.gmail.com>
Message-ID: <3acd79cd-b144-b50f-65ce-1e90415e3d37@gmail.com>

On 01/02/2021 7:03 a.m., Shaami wrote:
> z = NULL
> p = 0.25
> x = rnorm(100)
> z[1] = p*x[1] + (1-p)*5
> for(i in 2:100)
> {
>    z[i] = p*x[i]+(1-p)*z[i-1]
> }

That's the same as

p <- 0.25
x <- rnorm(100)
z <- stats::filter(p*x, 1-p, init = 5, method="recursive")

This leaves z as a time series; if that causes trouble, follow it with

z <- as.numeric(z)

Duncan Murdoch


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Feb  1 22:48:03 2021
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 1 Feb 2021 22:48:03 +0100
Subject: [R] arima/fixed
In-Reply-To: <24597.16682.487740.434293@stat.math.ethz.ch>
References: <DBBPR03MB705015D3199567874B4564158EB99@DBBPR03MB7050.eurprd03.prod.outlook.com>
 <20210130161132.47004808@rolf-Latitude-E7470>
 <24597.16682.487740.434293@stat.math.ethz.ch>
Message-ID: <24600.30483.78822.545846@stat.math.ethz.ch>

>>>>> Martin Maechler 
>>>>>     on Sat, 30 Jan 2021 12:21:14 +0100 writes:

>>>>> Rolf Turner 
>>>>>     on Sat, 30 Jan 2021 16:11:32 +1300 writes:

    >> On Fri, 29 Jan 2021 12:47:25 +0000 Nasia Petsa
    >> <petsa.athanasia at hotmail.gr> wrote:

    >>> Dear all,
    >>> 
    >>> I have the following problem with determining the
    >>> argument fixed in arima function. What is the length of
    >>> argument fixed for an ARIMA(1,0,0)(0,1,1) and what is
    >>> the correct order for the parameters

    >> Hmm.  The help is indeed pretty opaque, isn't it?

    > Can you propose improvements?

    > Here(*) is the source code of the help page

    >   http://svn.r-project.org/R/trunk/src/library/stats/man/arima.Rd

    > We (and future R users) would be glad for less opaque (and
    > still concise) wording, notably in simple enough English
    > for the 90% non-natively English speaking R users ..

    > Thank you in advance!  Martin

In the mean time, Rolf sent me a nicely enhanced arima.Rd
which is now part of R  (R-devel at least):

------------------------------------------------------------------------
r79918 | maechler | 2021-02-01 15:07:32 +0100 (Mon, 01 Feb 2021) | 1 line
Changed paths:
   M src/library/stats/man/arima.Rd
   M tests/Examples/stats-Ex.Rout.save

extended for `fixed` arg, plus ex., thanks to Rolf Turner
------------------------------------------------------------------------

(Unfortunately, I added 1 stray character when slightly editing
 Rolf's version.)

Such _careful_ contributions are welcome, thank you again!

---
Martin


From @|obo@|eu @end|ng |rom gm@||@com  Mon Feb  1 16:45:21 2021
From: @|obo@|eu @end|ng |rom gm@||@com (Agustin Lobo)
Date: Mon, 1 Feb 2021 16:45:21 +0100
Subject: [R] Distance used in lda()
Message-ID: <CALPC6DMockUrsUY1xO=RAttx6CZc3zhEAzAz2LfYsEoExdTTaw@mail.gmail.com>

Whenever using lda(...,CV=TRUE), or if using lda.predict(), a
classification is returned.
Which distance is used in order to allocate a given individual to a
class, once the original data have been transformed into discriminant
components?

Thanks

Agustin Lobo
aloboaleu at gmail.com


From nz@h@@m @end|ng |rom gm@||@com  Mon Feb  1 17:54:28 2021
From: nz@h@@m @end|ng |rom gm@||@com (Shaami)
Date: Mon, 1 Feb 2021 21:54:28 +0500
Subject: [R] dependent nested for loops in R
In-Reply-To: <3acd79cd-b144-b50f-65ce-1e90415e3d37@gmail.com>
References: <CAGR+MS5S=KTu13mn=ze_jMS2dhA790Q07CkRL8WYtEc6ZUXeKQ@mail.gmail.com>
 <faee43e7-8503-e0cc-dba1-adcf008cf1a2@comcast.net>
 <CAGR+MS7bo1+PpYhk+bG2qtmO5nYx4A8c0jtmVoDhdBREA+u3rQ@mail.gmail.com>
 <4937A207-12C7-4877-85D9-1F6DCDDC50B8@health.ucsd.edu>
 <c58e930a-fdd0-fb96-3b73-e9341801a2a7@comcast.net>
 <CAGR+MS6aTWhCCgVOGSEnpkx_n69Ga0f2WbcnhQqTxqHzXhr9Eg@mail.gmail.com>
 <3acd79cd-b144-b50f-65ce-1e90415e3d37@gmail.com>
Message-ID: <CAGR+MS4RmAY2hh0+hMrXQHUUYCGepaOG1tj9wfVyjFX8A=4=wA@mail.gmail.com>

Hi Duncan

It worked. Thank you.

Best Regards

On Mon, Feb 1, 2021 at 6:26 PM Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> On 01/02/2021 7:03 a.m., Shaami wrote:
> > z = NULL
> > p = 0.25
> > x = rnorm(100)
> > z[1] = p*x[1] + (1-p)*5
> > for(i in 2:100)
> > {
> >    z[i] = p*x[i]+(1-p)*z[i-1]
> > }
>
> That's the same as
>
> p <- 0.25
> x <- rnorm(100)
> z <- stats::filter(p*x, 1-p, init = 5, method="recursive")
>
> This leaves z as a time series; if that causes trouble, follow it with
>
> z <- as.numeric(z)
>
> Duncan Murdoch
>
>
>

	[[alternative HTML version deleted]]


From ho@@@|nmm @end|ng |rom jun|v@edu  Tue Feb  2 00:31:50 2021
From: ho@@@|nmm @end|ng |rom jun|v@edu (Md. Moyazzem Hossain)
Date: Mon, 1 Feb 2021 23:31:50 +0000
Subject: [R] Regarding fitted value
In-Reply-To: <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
Message-ID: <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>

Dear Rui Barradas

Thank you very much for your reply.

However, still now, I have a confusion whether I get the fitted value for
the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.

Need any more help.

Thanks in advance.

Md

On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
>  From help('forecast::fitted.Arima'):
>
> h       The number of steps to forecast ahead.
>
>
> So you have the default h = 1 step ahead forecast for your model.
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
> >   Dear R-experts,
> >
> > I hope that all of you are doing well. I got the filled value from the
> > ARIMA model.
> >
> > I use the following working code. But I am not clear whether I got the
> > fitted value for each *corresponding time* of the original data point
> like
> > 2000, 2001, 2020 or get a *one-step-ahead* fitted value. Please suggest
> me
> > any reference for further reading to my understanding.
> >
> > ########################
> >
> y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
> > library(forecast)
> > library(tseries)
> > yy=ts(y, start=c(2000,1))
> >
> > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
> > model1
> >
> > f <- fitted( model1)
> > plot(yy)
> > plot(f)
> >
> > Thanks in advance.
> >
>


-- 
Best Regards,
Md. Moyazzem Hossain
Associate Professor
Department of Statistics
Jahangirnagar University
Savar, Dhaka-1342
Bangladesh
Website: http://www.juniv.edu/teachers/hossainmm
Research: *Google Scholar
<https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao>*;
*ResearchGate
<https://www.researchgate.net/profile/Md_Hossain107>*; *ORCID iD
<https://orcid.org/0000-0003-3593-6936>*

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 06:16:01 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 21:16:01 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <CAGR+MS5KVUrbrwgtuUjAGzHj_Gg6cX8dsx-94TJu5ium8JSzHw@mail.gmail.com>
References: <CAGR+MS5KVUrbrwgtuUjAGzHj_Gg6cX8dsx-94TJu5ium8JSzHw@mail.gmail.com>
Message-ID: <2ED6DCE6-FC1A-43D8-B760-797293586625@comcast.net>

Cc?ed the list as should always be your practice. 

Here?s one way (untested):

W <- +(z>4| z<2) # assume z is of length 20

? 
David

Sent from my iPhone

> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
> 
> ?
> Hi Prof. David
> 
> In the following state
> 
> W = (1:2000)[z >4|z<2)
> 
> Could you please guide how  I can assign zero if condition is not satisfied?
> 
> Best Regards 
> 
> Shaami
> 
>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>> 
>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>> >
>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>> >>
>> >> Hi
>> >> I have made the sample code again. Could you please guide how to use
>> >> vectorization for variables whose next value depends on the previous one?
>> >>
>> 
>> I agree with Charles that I suspect your results are not what you 
>> expect. You should try using cat or print to output intermediate results 
>> to the console. I would suggest you limit your examination to a more 
>> manageable length, say the first 10 results while you are working out 
>> your logic. After you have the logic debugged, you can move on to long 
>> sequences.
>> 
>> 
>> This is my suggestion for a more compact solution (at least for the 
>> inner loop calculation):
>> 
>> set.seed(123)
>> 
>> x <- rnorm(2000)
>> 
>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>> 
>> w<- numeric(2000)
>> 
>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>> overwritten and end up all being 2000
>> 
>> 
>> I would also advise making a natural language statement of the problem 
>> and goals. I'm thinking that you may be missing certain aspects of the 
>> underying problem.
>> 
>> -- 
>> 
>> David.
>> 
>> >
>> > Glad to help.
>> >
>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>> >
>> > I suggest running this revision and printing out x, z, and w.
>> >
>> > #+begin_src R
>> >    w = NULL
>> >    for(j in 1:2)
>> >    {
>> >      z = NULL
>> >      x = rnorm(10)
>> >      z[1] = x[1]
>> >      for(i in 2:10)
>> >      {
>> >        z[i] = x[i]+5*z[i-1]
>> >        if(z[i]>4 | z[i]<1) {
>> >       w[j]=i
>> >        } else {
>> >       w[j] = 0
>> >        }
>> >      }
>> >    }
>> > #+end_src
>> >
>> >
>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>> >

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 06:19:29 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 21:19:29 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <2ED6DCE6-FC1A-43D8-B760-797293586625@comcast.net>
References: <2ED6DCE6-FC1A-43D8-B760-797293586625@comcast.net>
Message-ID: <37A95B0C-068A-4FEB-8198-7C0994B4038A@comcast.net>

IMTS length 2000

Sent from my iPhone

> On Feb 1, 2021, at 9:16 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> ?Cc?ed the list as should always be your practice. 
> 
> Here?s one way (untested):
> 
> W <- +(z>4| z<2) # assume z is of length 20
> 
> ? 
> David
> 
> Sent from my iPhone
> 
>>> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>>> 
>> ?
>> Hi Prof. David
>> 
>> In the following state
>> 
>> W = (1:2000)[z >4|z<2)
>> 
>> Could you please guide how  I can assign zero if condition is not satisfied?
>> 
>> Best Regards 
>> 
>> Shaami
>> 
>>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>>> 
>>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>>> >
>>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>> >>
>>> >> Hi
>>> >> I have made the sample code again. Could you please guide how to use
>>> >> vectorization for variables whose next value depends on the previous one?
>>> >>
>>> 
>>> I agree with Charles that I suspect your results are not what you 
>>> expect. You should try using cat or print to output intermediate results 
>>> to the console. I would suggest you limit your examination to a more 
>>> manageable length, say the first 10 results while you are working out 
>>> your logic. After you have the logic debugged, you can move on to long 
>>> sequences.
>>> 
>>> 
>>> This is my suggestion for a more compact solution (at least for the 
>>> inner loop calculation):
>>> 
>>> set.seed(123)
>>> 
>>> x <- rnorm(2000)
>>> 
>>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>> 
>>> w<- numeric(2000)
>>> 
>>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>>> overwritten and end up all being 2000
>>> 
>>> 
>>> I would also advise making a natural language statement of the problem 
>>> and goals. I'm thinking that you may be missing certain aspects of the 
>>> underying problem.
>>> 
>>> -- 
>>> 
>>> David.
>>> 
>>> >
>>> > Glad to help.
>>> >
>>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>>> >
>>> > I suggest running this revision and printing out x, z, and w.
>>> >
>>> > #+begin_src R
>>> >    w = NULL
>>> >    for(j in 1:2)
>>> >    {
>>> >      z = NULL
>>> >      x = rnorm(10)
>>> >      z[1] = x[1]
>>> >      for(i in 2:10)
>>> >      {
>>> >        z[i] = x[i]+5*z[i-1]
>>> >        if(z[i]>4 | z[i]<1) {
>>> >       w[j]=i
>>> >        } else {
>>> >       w[j] = 0
>>> >        }
>>> >      }
>>> >    }
>>> > #+end_src
>>> >
>>> >
>>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>>> >

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 06:41:34 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 21:41:34 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <CAGR+MS6nsme783vi5x1+UU2K_YvKsx8vP-QUtgeSe7WbPn+M4Q@mail.gmail.com>
References: <CAGR+MS6nsme783vi5x1+UU2K_YvKsx8vP-QUtgeSe7WbPn+M4Q@mail.gmail.com>
Message-ID: <808E702B-B7AC-4405-BE0D-787041F51997@comcast.net>

Just drop the ?+? if you want logical. 

Sent from my iPhone

> On Feb 1, 2021, at 9:36 PM, Shaami <nzshaam at gmail.com> wrote:
> 
> ?
> Hi Prof. David
> 
> Thank you. I will always follow your advice. The suggested code worked. It gives either 1 or 0 depending on the condition to be true. I want index of z for which the condition is true (instead of 1) else zero. Could you please suggest? 
> 
> Thank you
> 
> Shaami
> 
>> On Tue, Feb 2, 2021 at 10:16 AM David Winsemius <dwinsemius at comcast.net> wrote:
>> Cc?ed the list as should always be your practice. 
>> 
>> Here?s one way (untested):
>> 
>> W <- +(z>4| z<2) # assume z is of length 20
>> 
>> ? 
>> David
>> 
>> Sent from my iPhone
>> 
>>>> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>>>> 
>>> ?
>>> Hi Prof. David
>>> 
>>> In the following state
>>> 
>>> W = (1:2000)[z >4|z<2)
>>> 
>>> Could you please guide how  I can assign zero if condition is not satisfied?
>>> 
>>> Best Regards 
>>> 
>>> Shaami
>>> 
>>>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>>>> 
>>>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>>>> >
>>>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>>> >>
>>>> >> Hi
>>>> >> I have made the sample code again. Could you please guide how to use
>>>> >> vectorization for variables whose next value depends on the previous one?
>>>> >>
>>>> 
>>>> I agree with Charles that I suspect your results are not what you 
>>>> expect. You should try using cat or print to output intermediate results 
>>>> to the console. I would suggest you limit your examination to a more 
>>>> manageable length, say the first 10 results while you are working out 
>>>> your logic. After you have the logic debugged, you can move on to long 
>>>> sequences.
>>>> 
>>>> 
>>>> This is my suggestion for a more compact solution (at least for the 
>>>> inner loop calculation):
>>>> 
>>>> set.seed(123)
>>>> 
>>>> x <- rnorm(2000)
>>>> 
>>>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>>> 
>>>> w<- numeric(2000)
>>>> 
>>>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>>>> overwritten and end up all being 2000
>>>> 
>>>> 
>>>> I would also advise making a natural language statement of the problem 
>>>> and goals. I'm thinking that you may be missing certain aspects of the 
>>>> underying problem.
>>>> 
>>>> -- 
>>>> 
>>>> David.
>>>> 
>>>> >
>>>> > Glad to help.
>>>> >
>>>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>>>> >
>>>> > I suggest running this revision and printing out x, z, and w.
>>>> >
>>>> > #+begin_src R
>>>> >    w = NULL
>>>> >    for(j in 1:2)
>>>> >    {
>>>> >      z = NULL
>>>> >      x = rnorm(10)
>>>> >      z[1] = x[1]
>>>> >      for(i in 2:10)
>>>> >      {
>>>> >        z[i] = x[i]+5*z[i-1]
>>>> >        if(z[i]>4 | z[i]<1) {
>>>> >       w[j]=i
>>>> >        } else {
>>>> >       w[j] = 0
>>>> >        }
>>>> >      }
>>>> >    }
>>>> > #+end_src
>>>> >
>>>> >
>>>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>>>> >

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 06:56:45 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 21:56:45 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <808E702B-B7AC-4405-BE0D-787041F51997@comcast.net>
References: <808E702B-B7AC-4405-BE0D-787041F51997@comcast.net>
Message-ID: <88674B09-2DDF-4244-9B12-953408A02CE1@comcast.net>

Or perhaps you wanted:

W <- z
W[z>4|z<2] <- 0

Sent from my iPhone

> On Feb 1, 2021, at 9:41 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> ?Just drop the ?+? if you want logical. 
> 
> Sent from my iPhone
> 
>>> On Feb 1, 2021, at 9:36 PM, Shaami <nzshaam at gmail.com> wrote:
>>> 
>> ?
>> Hi Prof. David
>> 
>> Thank you. I will always follow your advice. The suggested code worked. It gives either 1 or 0 depending on the condition to be true. I want index of z for which the condition is true (instead of 1) else zero. Could you please suggest? 
>> 
>> Thank you
>> 
>> Shaami
>> 
>>> On Tue, Feb 2, 2021 at 10:16 AM David Winsemius <dwinsemius at comcast.net> wrote:
>>> Cc?ed the list as should always be your practice. 
>>> 
>>> Here?s one way (untested):
>>> 
>>> W <- +(z>4| z<2) # assume z is of length 20
>>> 
>>> ? 
>>> David
>>> 
>>> Sent from my iPhone
>>> 
>>>>> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>> 
>>>> ?
>>>> Hi Prof. David
>>>> 
>>>> In the following state
>>>> 
>>>> W = (1:2000)[z >4|z<2)
>>>> 
>>>> Could you please guide how  I can assign zero if condition is not satisfied?
>>>> 
>>>> Best Regards 
>>>> 
>>>> Shaami
>>>> 
>>>>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>>>>> 
>>>>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>>>>> >
>>>>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>> >>
>>>>> >> Hi
>>>>> >> I have made the sample code again. Could you please guide how to use
>>>>> >> vectorization for variables whose next value depends on the previous one?
>>>>> >>
>>>>> 
>>>>> I agree with Charles that I suspect your results are not what you 
>>>>> expect. You should try using cat or print to output intermediate results 
>>>>> to the console. I would suggest you limit your examination to a more 
>>>>> manageable length, say the first 10 results while you are working out 
>>>>> your logic. After you have the logic debugged, you can move on to long 
>>>>> sequences.
>>>>> 
>>>>> 
>>>>> This is my suggestion for a more compact solution (at least for the 
>>>>> inner loop calculation):
>>>>> 
>>>>> set.seed(123)
>>>>> 
>>>>> x <- rnorm(2000)
>>>>> 
>>>>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>>>> 
>>>>> w<- numeric(2000)
>>>>> 
>>>>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>>>>> overwritten and end up all being 2000
>>>>> 
>>>>> 
>>>>> I would also advise making a natural language statement of the problem 
>>>>> and goals. I'm thinking that you may be missing certain aspects of the 
>>>>> underying problem.
>>>>> 
>>>>> -- 
>>>>> 
>>>>> David.
>>>>> 
>>>>> >
>>>>> > Glad to help.
>>>>> >
>>>>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>>>>> >
>>>>> > I suggest running this revision and printing out x, z, and w.
>>>>> >
>>>>> > #+begin_src R
>>>>> >    w = NULL
>>>>> >    for(j in 1:2)
>>>>> >    {
>>>>> >      z = NULL
>>>>> >      x = rnorm(10)
>>>>> >      z[1] = x[1]
>>>>> >      for(i in 2:10)
>>>>> >      {
>>>>> >        z[i] = x[i]+5*z[i-1]
>>>>> >        if(z[i]>4 | z[i]<1) {
>>>>> >       w[j]=i
>>>>> >        } else {
>>>>> >       w[j] = 0
>>>>> >        }
>>>>> >      }
>>>>> >    }
>>>>> > #+end_src
>>>>> >
>>>>> >
>>>>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>>>>> >

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 07:15:57 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 22:15:57 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <88674B09-2DDF-4244-9B12-953408A02CE1@comcast.net>
References: <88674B09-2DDF-4244-9B12-953408A02CE1@comcast.net>
Message-ID: <101D14F3-58D5-4B43-99BD-E5E94C3EEB5E@comcast.net>

Or perhaps: 

W <- 1:2000
W[z>4|z<2] <- 0

Sent from my iPhone

> On Feb 1, 2021, at 9:56 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> ?Or perhaps you wanted:
> 
> W <- z
> W[z>4|z<2] <- 0
> 
> Sent from my iPhone
> 
>>> On Feb 1, 2021, at 9:41 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>> ?Just drop the ?+? if you want logical. 
>> 
>> Sent from my iPhone
>> 
>>>> On Feb 1, 2021, at 9:36 PM, Shaami <nzshaam at gmail.com> wrote:
>>>> 
>>> ?
>>> Hi Prof. David
>>> 
>>> Thank you. I will always follow your advice. The suggested code worked. It gives either 1 or 0 depending on the condition to be true. I want index of z for which the condition is true (instead of 1) else zero. Could you please suggest? 
>>> 
>>> Thank you
>>> 
>>> Shaami
>>> 
>>>> On Tue, Feb 2, 2021 at 10:16 AM David Winsemius <dwinsemius at comcast.net> wrote:
>>>> Cc?ed the list as should always be your practice. 
>>>> 
>>>> Here?s one way (untested):
>>>> 
>>>> W <- +(z>4| z<2) # assume z is of length 20
>>>> 
>>>> ? 
>>>> David
>>>> 
>>>> Sent from my iPhone
>>>> 
>>>>>> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>>> 
>>>>> ?
>>>>> Hi Prof. David
>>>>> 
>>>>> In the following state
>>>>> 
>>>>> W = (1:2000)[z >4|z<2)
>>>>> 
>>>>> Could you please guide how  I can assign zero if condition is not satisfied?
>>>>> 
>>>>> Best Regards 
>>>>> 
>>>>> Shaami
>>>>> 
>>>>>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>>>>>> 
>>>>>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>>>>>> >
>>>>>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>>> >>
>>>>>> >> Hi
>>>>>> >> I have made the sample code again. Could you please guide how to use
>>>>>> >> vectorization for variables whose next value depends on the previous one?
>>>>>> >>
>>>>>> 
>>>>>> I agree with Charles that I suspect your results are not what you 
>>>>>> expect. You should try using cat or print to output intermediate results 
>>>>>> to the console. I would suggest you limit your examination to a more 
>>>>>> manageable length, say the first 10 results while you are working out 
>>>>>> your logic. After you have the logic debugged, you can move on to long 
>>>>>> sequences.
>>>>>> 
>>>>>> 
>>>>>> This is my suggestion for a more compact solution (at least for the 
>>>>>> inner loop calculation):
>>>>>> 
>>>>>> set.seed(123)
>>>>>> 
>>>>>> x <- rnorm(2000)
>>>>>> 
>>>>>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>>>>> 
>>>>>> w<- numeric(2000)
>>>>>> 
>>>>>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>>>>>> overwritten and end up all being 2000
>>>>>> 
>>>>>> 
>>>>>> I would also advise making a natural language statement of the problem 
>>>>>> and goals. I'm thinking that you may be missing certain aspects of the 
>>>>>> underying problem.
>>>>>> 
>>>>>> -- 
>>>>>> 
>>>>>> David.
>>>>>> 
>>>>>> >
>>>>>> > Glad to help.
>>>>>> >
>>>>>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>>>>>> >
>>>>>> > I suggest running this revision and printing out x, z, and w.
>>>>>> >
>>>>>> > #+begin_src R
>>>>>> >    w = NULL
>>>>>> >    for(j in 1:2)
>>>>>> >    {
>>>>>> >      z = NULL
>>>>>> >      x = rnorm(10)
>>>>>> >      z[1] = x[1]
>>>>>> >      for(i in 2:10)
>>>>>> >      {
>>>>>> >        z[i] = x[i]+5*z[i-1]
>>>>>> >        if(z[i]>4 | z[i]<1) {
>>>>>> >       w[j]=i
>>>>>> >        } else {
>>>>>> >       w[j] = 0
>>>>>> >        }
>>>>>> >      }
>>>>>> >    }
>>>>>> > #+end_src
>>>>>> >
>>>>>> >
>>>>>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>>>>>> >

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Tue Feb  2 07:48:02 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Mon, 1 Feb 2021 22:48:02 -0800
Subject: [R] dependent nested for loops in R
In-Reply-To: <101D14F3-58D5-4B43-99BD-E5E94C3EEB5E@comcast.net>
References: <101D14F3-58D5-4B43-99BD-E5E94C3EEB5E@comcast.net>
Message-ID: <729F6B9A-F04B-4ED9-B720-485DA05C08F6@comcast.net>



Sent from my iPhone

> On Feb 1, 2021, at 10:16 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> ?Or perhaps: 
> 
> W <- 1:2000
> W[z>4|z<2] <- 0

Another way:

W <- (1:2000)*(z>4|z<2)

As I said earlier you really should study logical class vectors and the operators that use them and how to apply them as indices. 
> Sent from my iPhone
> 
>>> On Feb 1, 2021, at 9:56 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>> ?Or perhaps you wanted:
>> 
>> W <- z
>> W[z>4|z<2] <- 0
>> 
>> Sent from my iPhone
>> 
>>>> On Feb 1, 2021, at 9:41 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>> 
>>> ?Just drop the ?+? if you want logical. 
>>> 
>>> Sent from my iPhone
>>> 
>>>>> On Feb 1, 2021, at 9:36 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>> 
>>>> ?
>>>> Hi Prof. David
>>>> 
>>>> Thank you. I will always follow your advice. The suggested code worked. It gives either 1 or 0 depending on the condition to be true. I want index of z for which the condition is true (instead of 1) else zero. Could you please suggest? 
>>>> 
>>>> Thank you
>>>> 
>>>> Shaami
>>>> 
>>>>> On Tue, Feb 2, 2021 at 10:16 AM David Winsemius <dwinsemius at comcast.net> wrote:
>>>>> Cc?ed the list as should always be your practice. 
>>>>> 
>>>>> Here?s one way (untested):
>>>>> 
>>>>> W <- +(z>4| z<2) # assume z is of length 20
>>>>> 
>>>>> ? 
>>>>> David
>>>>> 
>>>>> Sent from my iPhone
>>>>> 
>>>>>>> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>>>> 
>>>>>> ?
>>>>>> Hi Prof. David
>>>>>> 
>>>>>> In the following state
>>>>>> 
>>>>>> W = (1:2000)[z >4|z<2)
>>>>>> 
>>>>>> Could you please guide how  I can assign zero if condition is not satisfied?
>>>>>> 
>>>>>> Best Regards 
>>>>>> 
>>>>>> Shaami
>>>>>> 
>>>>>>> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net> wrote:
>>>>>>> 
>>>>>>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>>>>>>> >
>>>>>>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>>>>>>> >>
>>>>>>> >> Hi
>>>>>>> >> I have made the sample code again. Could you please guide how to use
>>>>>>> >> vectorization for variables whose next value depends on the previous one?
>>>>>>> >>
>>>>>>> 
>>>>>>> I agree with Charles that I suspect your results are not what you 
>>>>>>> expect. You should try using cat or print to output intermediate results 
>>>>>>> to the console. I would suggest you limit your examination to a more 
>>>>>>> manageable length, say the first 10 results while you are working out 
>>>>>>> your logic. After you have the logic debugged, you can move on to long 
>>>>>>> sequences.
>>>>>>> 
>>>>>>> 
>>>>>>> This is my suggestion for a more compact solution (at least for the 
>>>>>>> inner loop calculation):
>>>>>>> 
>>>>>>> set.seed(123)
>>>>>>> 
>>>>>>> x <- rnorm(2000)
>>>>>>> 
>>>>>>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>>>>>> 
>>>>>>> w<- numeric(2000)
>>>>>>> 
>>>>>>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get 
>>>>>>> overwritten and end up all being 2000
>>>>>>> 
>>>>>>> 
>>>>>>> I would also advise making a natural language statement of the problem 
>>>>>>> and goals. I'm thinking that you may be missing certain aspects of the 
>>>>>>> underying problem.
>>>>>>> 
>>>>>>> -- 
>>>>>>> 
>>>>>>> David.
>>>>>>> 
>>>>>>> >
>>>>>>> > Glad to help.
>>>>>>> >
>>>>>>> > First, it could help you to trace your code.  I suspect that the results are not at all what you want and tracing would help you see that.
>>>>>>> >
>>>>>>> > I suggest running this revision and printing out x, z, and w.
>>>>>>> >
>>>>>>> > #+begin_src R
>>>>>>> >    w = NULL
>>>>>>> >    for(j in 1:2)
>>>>>>> >    {
>>>>>>> >      z = NULL
>>>>>>> >      x = rnorm(10)
>>>>>>> >      z[1] = x[1]
>>>>>>> >      for(i in 2:10)
>>>>>>> >      {
>>>>>>> >        z[i] = x[i]+5*z[i-1]
>>>>>>> >        if(z[i]>4 | z[i]<1) {
>>>>>>> >       w[j]=i
>>>>>>> >        } else {
>>>>>>> >       w[j] = 0
>>>>>>> >        }
>>>>>>> >      }
>>>>>>> >    }
>>>>>>> > #+end_src
>>>>>>> >
>>>>>>> >
>>>>>>> > You should be able to see that the value of w can easily be obtained outside of the `i' loop.
>>>>>>> >

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Feb  2 07:52:30 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 2 Feb 2021 06:52:30 +0000
Subject: [R] Regarding fitted value
In-Reply-To: <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
 <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
Message-ID: <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>

Hello,

You get the fitted values for years 2000, ..., 2019.
Those values are the original series minus the residuals:

f <- fitted(model1)
g <- yy - resid(model1)
identical(f, g)          # returns TRUE


If you want to *forecast*, this will give you the default h = 10
forecasts.

fc <- forecast(model1)
plot(fc)


Hope this helps,

Rui Barradas

?s 23:31 de 01/02/21, Md. Moyazzem Hossain escreveu:
> Dear Rui Barradas
> 
> Thank you very much for your reply.
> 
> However, still now, I have a confusion whether I get the fitted value 
> for the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.
> 
> Need any more help.
> 
> Thanks in advance.
> 
> Md
> 
> On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>      ?From help('forecast::fitted.Arima'):
> 
>     h? ? ? ?The number of steps to forecast ahead.
> 
> 
>     So you have the default h = 1 step ahead forecast for your model.
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
>      >? ?Dear R-experts,
>      >
>      > I hope that all of you are doing well. I got the filled value
>     from the
>      > ARIMA model.
>      >
>      > I use the following working code. But I am not clear whether I
>     got the
>      > fitted value for each *corresponding time* of the original data
>     point like
>      > 2000, 2001, 2020 or get a *one-step-ahead* fitted value. Please
>     suggest me
>      > any reference for further reading to my understanding.
>      >
>      > ########################
>      >
>     y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
>      > library(forecast)
>      > library(tseries)
>      > yy=ts(y, start=c(2000,1))
>      >
>      > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
>      > model1
>      >
>      > f <- fitted( model1)
>      > plot(yy)
>      > plot(f)
>      >
>      > Thanks in advance.
>      >
> 
> 
> 
> -- 
> Best Regards,
> Md. Moyazzem Hossain
> Associate Professor
> Department of Statistics
> Jahangirnagar University
> Savar, Dhaka-1342
> Bangladesh
> Website: http://www.juniv.edu/teachers/hossainmm
> Research: *Google Scholar 
> <https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao>*; 
> *ResearchGate <https://www.researchgate.net/profile/Md_Hossain107>*; 
> *ORCID iD <https://orcid.org/0000-0003-3593-6936>*


From p@rtho@@@ @end|ng |rom gm@||@com  Tue Feb  2 12:36:42 2021
From: p@rtho@@@ @end|ng |rom gm@||@com (Partho Sarkar)
Date: Tue, 2 Feb 2021 17:06:42 +0530
Subject: [R] Regarding fitted value
In-Reply-To: <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
 <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
 <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>
Message-ID: <CAJUZ7XQmLrpT_v8ztGQEFMPJzew68_O6MRZD6559kWY2B4ae5g@mail.gmail.com>

In case further clarification is needed, this from Rob Hyndman, author of
the Forecast package, may be helpful:

"fitted produces one-step in-sample (i.e., training data) "forecasts". That
is, it gives a forecast of observation t using observations up to time t-1
for each t in the data. ... So fitted(fit) gives one-step forecasts of
observations 1, 2, ... It is possible to produce a "forecast" for
observation 1 as a forecast is simply the expected value of that
observation given the model and any preceding history."

From Hyndman's answer in this thread
<a href="
https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
">
https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
</a>

See also <a href="
https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/">
https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/</a>
<https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/>

[A quick search on the stackexchange forum will turn up several similar
questions & answers]

HTH,

*Best regards,*
*Partho Sarkar*

On Tue, Feb 2, 2021 at 12:28 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> You get the fitted values for years 2000, ..., 2019.
> Those values are the original series minus the residuals:
>
> f <- fitted(model1)
> g <- yy - resid(model1)
> identical(f, g)          # returns TRUE
>
>
> If you want to *forecast*, this will give you the default h = 10
> forecasts.
>
> fc <- forecast(model1)
> plot(fc)
>
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 23:31 de 01/02/21, Md. Moyazzem Hossain escreveu:
> > Dear Rui Barradas
> >
> > Thank you very much for your reply.
> >
> > However, still now, I have a confusion whether I get the fitted value
> > for the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.
> >
> > Need any more help.
> >
> > Thanks in advance.
> >
> > Md
> >
> > On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >       From help('forecast::fitted.Arima'):
> >
> >     h       The number of steps to forecast ahead.
> >
> >
> >     So you have the default h = 1 step ahead forecast for your model.
> >
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
> >      >   Dear R-experts,
> >      >
> >      > I hope that all of you are doing well. I got the filled value
> >     from the
> >      > ARIMA model.
> >      >
> >      > I use the following working code. But I am not clear whether I
> >     got the
> >      > fitted value for each *corresponding time* of the original data
> >     point like
> >      > 2000, 2001, 2020 or get a *one-step-ahead* fitted value. Please
> >     suggest me
> >      > any reference for further reading to my understanding.
> >      >
> >      > ########################
> >      >
> >
>  y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
> >      > library(forecast)
> >      > library(tseries)
> >      > yy=ts(y, start=c(2000,1))
> >      >
> >      > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
> >      > model1
> >      >
> >      > f <- fitted( model1)
> >      > plot(yy)
> >      > plot(f)
> >      >
> >      > Thanks in advance.
> >      >
> >
> >
> >
> > --
> > Best Regards,
> > Md. Moyazzem Hossain
> > Associate Professor
> > Department of Statistics
> > Jahangirnagar University
> > Savar, Dhaka-1342
> > Bangladesh
> > Website: http://www.juniv.edu/teachers/hossainmm
> > Research: *Google Scholar
> > <https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao>*;
> > *ResearchGate <https://www.researchgate.net/profile/Md_Hossain107>*;
> > *ORCID iD <https://orcid.org/0000-0003-3593-6936>*
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Feb  2 13:25:42 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 2 Feb 2021 12:25:42 +0000
Subject: [R] Regarding fitted value
In-Reply-To: <CAJUZ7XQmLrpT_v8ztGQEFMPJzew68_O6MRZD6559kWY2B4ae5g@mail.gmail.com>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
 <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
 <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>
 <CAJUZ7XQmLrpT_v8ztGQEFMPJzew68_O6MRZD6559kWY2B4ae5g@mail.gmail.com>
Message-ID: <9ff6ebc2-06af-222e-ea8b-abfa52325933@sapo.pt>

Hello,

Thanks for the links, they are very helpful.

Rui Barradas

?s 11:36 de 02/02/21, Partho Sarkar escreveu:
> In case further clarification is needed, this from Rob Hyndman, author 
> of the Forecast package, may be helpful:
> 
> "fitted produces one-step in-sample (i.e., training data) "forecasts". 
> That is, it gives a forecast of observation t using observations up to 
> time t-1 for each t in the data. ... So fitted(fit) gives one-step 
> forecasts of observations 1, 2, ... It is possible to produce a 
> "forecast" for observation 1 as a forecast is simply the expected value 
> of that observation given the model and any preceding history."
> 
>  From Hyndman's answer in this thread
> <a 
> href="https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1">https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1</a>
> 
> See also <a 
> href="https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/">https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/</a><https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/>
> 
> [A quick search on the stackexchange forum will turn up several similar 
> questions & answers]
> 
> HTH,
> 
> /
> Best regards,
> /
> /
> Partho Sarkar
> /
> 
> On Tue, Feb 2, 2021 at 12:28 PM Rui Barradas <ruipbarradas at sapo.pt 
> <mailto:ruipbarradas at sapo.pt>> wrote:
> 
>     Hello,
> 
>     You get the fitted values for years 2000, ..., 2019.
>     Those values are the original series minus the residuals:
> 
>     f <- fitted(model1)
>     g <- yy - resid(model1)
>     identical(f, g)? ? ? ? ? # returns TRUE
> 
> 
>     If you want to *forecast*, this will give you the default h = 10
>     forecasts.
> 
>     fc <- forecast(model1)
>     plot(fc)
> 
> 
>     Hope this helps,
> 
>     Rui Barradas
> 
>     ?s 23:31 de 01/02/21, Md. Moyazzem Hossain escreveu:
>      > Dear Rui Barradas
>      >
>      > Thank you very much for your reply.
>      >
>      > However, still now, I have a confusion whether I get the fitted
>     value
>      > for the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.
>      >
>      > Need any more help.
>      >
>      > Thanks in advance.
>      >
>      > Md
>      >
>      > On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas
>     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>> wrote:
>      >
>      >? ? ?Hello,
>      >
>      >? ? ? ?From help('forecast::fitted.Arima'):
>      >
>      >? ? ?h? ? ? ?The number of steps to forecast ahead.
>      >
>      >
>      >? ? ?So you have the default h = 1 step ahead forecast for your model.
>      >
>      >
>      >? ? ?Hope this helps,
>      >
>      >? ? ?Rui Barradas
>      >
>      >? ? ??s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
>      >? ? ? >? ?Dear R-experts,
>      >? ? ? >
>      >? ? ? > I hope that all of you are doing well. I got the filled value
>      >? ? ?from the
>      >? ? ? > ARIMA model.
>      >? ? ? >
>      >? ? ? > I use the following working code. But I am not clear whether I
>      >? ? ?got the
>      >? ? ? > fitted value for each *corresponding time* of the original
>     data
>      >? ? ?point like
>      >? ? ? > 2000, 2001, 2020 or get a *one-step-ahead* fitted value.
>     Please
>      >? ? ?suggest me
>      >? ? ? > any reference for further reading to my understanding.
>      >? ? ? >
>      >? ? ? > ########################
>      >? ? ? >
>      >   
>      ?y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
>      >? ? ? > library(forecast)
>      >? ? ? > library(tseries)
>      >? ? ? > yy=ts(y, start=c(2000,1))
>      >? ? ? >
>      >? ? ? > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
>      >? ? ? > model1
>      >? ? ? >
>      >? ? ? > f <- fitted( model1)
>      >? ? ? > plot(yy)
>      >? ? ? > plot(f)
>      >? ? ? >
>      >? ? ? > Thanks in advance.
>      >? ? ? >
>      >
>      >
>      >
>      > --
>      > Best Regards,
>      > Md. Moyazzem Hossain
>      > Associate Professor
>      > Department of Statistics
>      > Jahangirnagar University
>      > Savar, Dhaka-1342
>      > Bangladesh
>      > Website: http://www.juniv.edu/teachers/hossainmm
>      > Research: *Google Scholar
>      >
>     <https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao>*;
>      > *ResearchGate <https://www.researchgate.net/profile/Md_Hossain107>*;
>      > *ORCID iD <https://orcid.org/0000-0003-3593-6936>*
> 
>     ______________________________________________
>     R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
>     To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
>


From p@rtho@@@ @end|ng |rom gm@||@com  Tue Feb  2 13:33:54 2021
From: p@rtho@@@ @end|ng |rom gm@||@com (Partho Sarkar)
Date: Tue, 2 Feb 2021 18:03:54 +0530
Subject: [R] Regarding fitted value
In-Reply-To: <9ff6ebc2-06af-222e-ea8b-abfa52325933@sapo.pt>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
 <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
 <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>
 <CAJUZ7XQmLrpT_v8ztGQEFMPJzew68_O6MRZD6559kWY2B4ae5g@mail.gmail.com>
 <9ff6ebc2-06af-222e-ea8b-abfa52325933@sapo.pt>
Message-ID: <CAJUZ7XTdn2UUEpEZLFViiMuquTFzabKH1NqtiruT8Cs0=b-yjg@mail.gmail.com>

My pleasure!

*Best regards,*
*Partho Sarkar*

On Tue, Feb 2, 2021 at 5:55 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> Thanks for the links, they are very helpful.
>
> Rui Barradas
>
> ?s 11:36 de 02/02/21, Partho Sarkar escreveu:
> > In case further clarification is needed, this from Rob Hyndman, author
> > of the Forecast package, may be helpful:
> >
> > "fitted produces one-step in-sample (i.e., training data) "forecasts".
> > That is, it gives a forecast of observation t using observations up to
> > time t-1 for each t in the data. ... So fitted(fit) gives one-step
> > forecasts of observations 1, 2, ... It is possible to produce a
> > "forecast" for observation 1 as a forecast is simply the expected value
> > of that observation given the model and any preceding history."
> >
> >  From Hyndman's answer in this thread
> > <a
> > href="
> https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
> ">
> https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
> </a>
> >
> > See also <a
> > href="
> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/">
> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/</a><
> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/>
> >
> > [A quick search on the stackexchange forum will turn up several similar
> > questions & answers]
> >
> > HTH,
> >
> > /
> > Best regards,
> > /
> > /
> > Partho Sarkar
> > /
> >
> > On Tue, Feb 2, 2021 at 12:28 PM Rui Barradas <ruipbarradas at sapo.pt
> > <mailto:ruipbarradas at sapo.pt>> wrote:
> >
> >     Hello,
> >
> >     You get the fitted values for years 2000, ..., 2019.
> >     Those values are the original series minus the residuals:
> >
> >     f <- fitted(model1)
> >     g <- yy - resid(model1)
> >     identical(f, g)          # returns TRUE
> >
> >
> >     If you want to *forecast*, this will give you the default h = 10
> >     forecasts.
> >
> >     fc <- forecast(model1)
> >     plot(fc)
> >
> >
> >     Hope this helps,
> >
> >     Rui Barradas
> >
> >     ?s 23:31 de 01/02/21, Md. Moyazzem Hossain escreveu:
> >      > Dear Rui Barradas
> >      >
> >      > Thank you very much for your reply.
> >      >
> >      > However, still now, I have a confusion whether I get the fitted
> >     value
> >      > for the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.
> >      >
> >      > Need any more help.
> >      >
> >      > Thanks in advance.
> >      >
> >      > Md
> >      >
> >      > On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas
> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
> >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
> wrote:
> >      >
> >      >     Hello,
> >      >
> >      >       From help('forecast::fitted.Arima'):
> >      >
> >      >     h       The number of steps to forecast ahead.
> >      >
> >      >
> >      >     So you have the default h = 1 step ahead forecast for your
> model.
> >      >
> >      >
> >      >     Hope this helps,
> >      >
> >      >     Rui Barradas
> >      >
> >      >     ?s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
> >      >      >   Dear R-experts,
> >      >      >
> >      >      > I hope that all of you are doing well. I got the filled
> value
> >      >     from the
> >      >      > ARIMA model.
> >      >      >
> >      >      > I use the following working code. But I am not clear
> whether I
> >      >     got the
> >      >      > fitted value for each *corresponding time* of the original
> >     data
> >      >     point like
> >      >      > 2000, 2001, 2020 or get a *one-step-ahead* fitted value.
> >     Please
> >      >     suggest me
> >      >      > any reference for further reading to my understanding.
> >      >      >
> >      >      > ########################
> >      >      >
> >      >
> >
>  y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
> >      >      > library(forecast)
> >      >      > library(tseries)
> >      >      > yy=ts(y, start=c(2000,1))
> >      >      >
> >      >      > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
> >      >      > model1
> >      >      >
> >      >      > f <- fitted( model1)
> >      >      > plot(yy)
> >      >      > plot(f)
> >      >      >
> >      >      > Thanks in advance.
> >      >      >
> >      >
> >      >
> >      >
> >      > --
> >      > Best Regards,
> >      > Md. Moyazzem Hossain
> >      > Associate Professor
> >      > Department of Statistics
> >      > Jahangirnagar University
> >      > Savar, Dhaka-1342
> >      > Bangladesh
> >      > Website: http://www.juniv.edu/teachers/hossainmm
> >      > Research: *Google Scholar
> >      >
> >     <https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao
> >*;
> >      > *ResearchGate <https://www.researchgate.net/profile/Md_Hossain107
> >*;
> >      > *ORCID iD <https://orcid.org/0000-0003-3593-6936>*
> >
> >     ______________________________________________
> >     R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
> >     To UNSUBSCRIBE and more, see
> >     https://stat.ethz.ch/mailman/listinfo/r-help
> >     PLEASE do read the posting guide
> >     http://www.R-project.org/posting-guide.html
> >     and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From nz@h@@m @end|ng |rom gm@||@com  Tue Feb  2 06:36:25 2021
From: nz@h@@m @end|ng |rom gm@||@com (Shaami)
Date: Tue, 2 Feb 2021 10:36:25 +0500
Subject: [R] dependent nested for loops in R
In-Reply-To: <2ED6DCE6-FC1A-43D8-B760-797293586625@comcast.net>
References: <CAGR+MS5KVUrbrwgtuUjAGzHj_Gg6cX8dsx-94TJu5ium8JSzHw@mail.gmail.com>
 <2ED6DCE6-FC1A-43D8-B760-797293586625@comcast.net>
Message-ID: <CAGR+MS6nsme783vi5x1+UU2K_YvKsx8vP-QUtgeSe7WbPn+M4Q@mail.gmail.com>

Hi Prof. David

Thank you. I will always follow your advice. The suggested code worked. It
gives either 1 or 0 depending on the condition to be true. I want index of
z for which the condition is true (instead of 1) else zero. Could you
please suggest?

Thank you

Shaami

On Tue, Feb 2, 2021 at 10:16 AM David Winsemius <dwinsemius at comcast.net>
wrote:

> Cc?ed the list as should always be your practice.
>
> Here?s one way (untested):
>
> W <- +(z>4| z<2) # assume z is of length 20
>
> ?
> David
>
> Sent from my iPhone
>
> On Feb 1, 2021, at 7:08 PM, Shaami <nzshaam at gmail.com> wrote:
>
> ?
> Hi Prof. David
>
> In the following state
>
> W = (1:2000)[z >4|z<2)
>
> Could you please guide how  I can assign zero if condition is not
> satisfied?
>
> Best Regards
>
> Shaami
>
> On Mon, 1 Feb 2021, 11:01 am David Winsemius, <dwinsemius at comcast.net>
> wrote:
>
>>
>> On 1/31/21 1:26 PM, Berry, Charles wrote:
>> >
>> >> On Jan 30, 2021, at 9:32 PM, Shaami <nzshaam at gmail.com> wrote:
>> >>
>> >> Hi
>> >> I have made the sample code again. Could you please guide how to use
>> >> vectorization for variables whose next value depends on the previous
>> one?
>> >>
>>
>> I agree with Charles that I suspect your results are not what you
>> expect. You should try using cat or print to output intermediate results
>> to the console. I would suggest you limit your examination to a more
>> manageable length, say the first 10 results while you are working out
>> your logic. After you have the logic debugged, you can move on to long
>> sequences.
>>
>>
>> This is my suggestion for a more compact solution (at least for the
>> inner loop calculation):
>>
>> set.seed(123)
>>
>> x <- rnorm(2000)
>>
>> z <- Reduce( function(x,y) { sum(y+5*x) }, x, accumulate=TRUE)
>>
>> w<- numeric(2000)
>>
>> w <-  (1:2000)[ z >4 | z < 1 ]  # In your version the w values get
>> overwritten and end up all being 2000
>>
>>
>> I would also advise making a natural language statement of the problem
>> and goals. I'm thinking that you may be missing certain aspects of the
>> underying problem.
>>
>> --
>>
>> David.
>>
>> >
>> > Glad to help.
>> >
>> > First, it could help you to trace your code.  I suspect that the
>> results are not at all what you want and tracing would help you see that.
>> >
>> > I suggest running this revision and printing out x, z, and w.
>> >
>> > #+begin_src R
>> >    w = NULL
>> >    for(j in 1:2)
>> >    {
>> >      z = NULL
>> >      x = rnorm(10)
>> >      z[1] = x[1]
>> >      for(i in 2:10)
>> >      {
>> >        z[i] = x[i]+5*z[i-1]
>> >        if(z[i]>4 | z[i]<1) {
>> >       w[j]=i
>> >        } else {
>> >       w[j] = 0
>> >        }
>> >      }
>> >    }
>> > #+end_src
>> >
>> >
>> > You should be able to see that the value of w can easily be obtained
>> outside of the `i' loop.
>> >
>>
>

	[[alternative HTML version deleted]]


From tom@@@k@||ber@ @end|ng |rom gm@||@com  Tue Feb  2 14:49:23 2021
From: tom@@@k@||ber@ @end|ng |rom gm@||@com (Tomas Kalibera)
Date: Tue, 2 Feb 2021 14:49:23 +0100
Subject: [R] Error when calling (R 4.0.x on Windows) from Python
In-Reply-To: <8721759c-e3d8-5e23-dcb5-89b2d4f00ff0@gmail.com>
References: <3cf33078e38cd82eaa62af315c5c6795@mail.infomaniak.com>
 <24591.65302.527022.733577@stat.math.ethz.ch>
 <24593.9866.492194.548636@stat.math.ethz.ch>
 <dce1a81a-a543-bbbc-24f3-54d64eae2b80@gmail.com>
 <aa6df17c-8684-3140-a545-65d217882c1b@gmail.com>
 <CAHqSRuTFc8x=mox=55s7HZHpWeOdzaR_oMev6kv=Yp8XiNzsSQ@mail.gmail.com>
 <37bf94d0-873a-5bef-87ee-60bd572c8545@gmail.com>
 <CAHqSRuSOYk=aWzKg9Ub4LN+hXTZ8ptZDw7gzrxt67957kNDwXQ@mail.gmail.com>
 <25b589b25af628379c5a9ac502580552@mail.infomaniak.com>
 <8721759c-e3d8-5e23-dcb5-89b2d4f00ff0@gmail.com>
Message-ID: <746561ef-73d9-d87c-cd58-5396dc4fbced@gmail.com>

A reproducible example:

system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -e commandArgs() 
 >out")? # does not create "out"
system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\R.exe\" -e commandArgs() 
 >out")? # creates "out"

Note that this does not create "out", either:

system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\x64\\Rterm.exe\" -e 
commandArgs() >out")

I think redirections should be left to the shell, so e.g. those calls 
from Python should use "os.system" if they needed redirection, as Duncan 
suggested.

I see that both R.exe and Rterm.exe give "Usage: Rterm [options] [< 
infile] [> outfile] [EnvVars]", which may be confusing to programmers 
invoking R without a shell, but then talking there about invocation via 
shell could confuse typical users, instead.

My best guess is that the redirection in R.exe in 3.6 worked rather by 
accident, as a consequence of that R.exe internally invoked (and still 
invokes) Rterm.exe via the shell, but R.exe did not protect all 
arguments from expansions from that internal shell invocation. If 
redirection was meant to work without external shell, it would have 
instead been implemented explicitly also in Rterm.exe.

My change 77926 made sure that all arguments to that internal shell 
invocation were protected, following bug reports such as PR#17709, where 
users had "&" in their file names. Therefore, this works, executing file 
code&.r

system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -f code&.r")

but not with 3.6.3, and I would not be surprised if even more special 
characters became popular, soon.

After all, what if someone wanted to pass an argument to R including 
">", that should work, too:

---- t.r ----
cat("Header: ", commandArgs(TRUE)[1], "\n")
-------------

system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -f t.r --args 
<html>") # prints Header:? <html>
system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\R.exe\" -f t.r --args 
<html>") # fails with? The syntax of the command is incorrect.

So in summary, I don't agree this is a bug.

Best
Tomas

On 1/29/21 11:19 AM, Duncan Murdoch wrote:
> On 29/01/2021 3:57 a.m., Marcel Baumgartner wrote:
>> Dear Bill, Duncan and Martin,
>>
>> thanks for your investigation. Can you clarify on next steps? Is this 
>> now an official bug, or have you found a workaround? For your 
>> information: the issue showed up the first time when I called R 4.0.2 
>> from within a software called "IDEA" (from Caseware Analytics), using 
>> their scripting language (similar to Visual Basic). With my colleague 
>> we then simply reproduce the error calling R from Python, so that we 
>> could share it more easily. When we run this command directly on the 
>> CMD in Windows, all works fine. The issue only happens when R is 
>> called within another software.
>>
>
> I would say this is a bug, with two workarounds.? These are only 
> needed (and will only work) on Windows.
>
> 1.? If you want to include redirection in the command line, then call 
> cmd.exe yourself, and have it call Rterm.exe.? I think your original 
> command
>
> R.exe -f code.R --args "~/file.txt" 1> "~/log.txt" 2>&1"
>
> could be written as
>
> cmd.exe 1>log.txt 2>&1 /C R.exe -f code.R --args "~/file.txt"
>
> (but I haven't tested it).? You could also use the slightly more 
> efficient
>
> cmd.exe 1>log.txt 2>&1 /C Rterm.exe -f code.R --args "~/file.txt"
>
> if Rterm.exe is on your path; by default I don't think it will be.
>
> 2.? Change the Python code to a different function call than 
> subprocess.call.? It should be one that's equivalent to the C system() 
> function; I believe os.system() is what you want, so you'd use
>
> os.system("R.exe -f code.R --args "~/file.txt" 1> "~/log.txt" 2>&1")
>
> and the redirection would be handled by the implicit shell that is 
> called by os.system.? Again, replacing R.exe by Rterm.exe would be a 
> tiny bit more efficient, but it might not be on the path.
>
> Duncan Murdoch
>
>> Best regards
>>
>> Marcel
>>
>>
>> Le 2021-01-27T23:14:36.000+01:00, Bill Dunlap 
>> <williamwdunlap at gmail.com> a ?crit :
>>
>> ??? I tried the following change, that adds quotes if the argument does
>> ??? not include ">".
>> ??? Index: front-ends/rcmdfn.c
>> ===================================================================
>> ??? --- front-ends/rcmdfn.c (revision 79883)
>> ??? +++ front-ends/rcmdfn.c (working copy)
>> ??? @@ -173,9 +173,13 @@
>> ??? fprintf(stderr, "command line too long\n");
>> ??? return(27);
>> ??? }
>> ??? - strcat(cmd, "\"");
>> ??? + if (!strchr(argv[i], '>')) {
>> ??? + strcat(cmd, "\"");
>> ??? + }
>> ??? strcat(cmd, argv[i]);
>> ??? - strcat(cmd, "\"");
>> ??? + if (!strchr(argv[i], '>')) {
>> ??? + strcat(cmd, "\"");
>> ??? + }
>> ??? }
>> ??? /* the outermost double quotes are needed for cmd.exe */
>> ??? strcat(cmd, "\"");
>>
>> ??? It lets the python example work. I am not sure that quoting all the
>> ??? arguments buys you much, as shQuote() is still needed for arguments
>> ??? that include spaces. E.g., with 3.6.3, 4.0.3, and my development
>> ??? build with the above patch we get
>>
>> ??????? stopifnot(dir.create(dirname <- file.path(tempfile(), "A
>> ??????? SPACE"), recursive=TRUE))
>> ??????? logname <- file.path(dirname, "log.txt")
>> ??????? unlink(logname)
>> ??????? system(paste( "C:\\R\\R-3.6.3\\bin\\R.exe --quiet --vanilla -e
>> ??????? \"commandArgs()\" 1>", logname))
>>
>> ??? ARGUMENT 'SPACE/log.txt' __ignored__
>>
>> ??? [1] 0
>>
>> ??????? tryCatch(readLines(logname), 
>> error=function(e)conditionMessage(e))
>>
>> ??? [1] "cannot open the connection"
>> ??? Warning message:
>> ??? In file(con, "r") :
>> ??? cannot open file
>> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
>> ??? SPACE/log.txt': No such file or directory
>>
>>
>> ??????? system(paste( "C:\\R\\R-4.0.3\\bin\\R.exe --quiet --vanilla -e
>> ??????? \"commandArgs()\" 1>", logname))
>> ??????? commandArgs()
>>
>> ??? [1] "C:\\R\\R-40~1.3/bin/x64/Rterm.exe"
>> ??? [2] "--quiet"
>> ??? [3] "--vanilla"
>> ??? [4] "-e"
>> ??? [5] "commandArgs()"
>> ??? [6] "1>"
>> ??? [7]
>> "C:\\Users\\willi\\AppData\\Local\\Temp\\RtmpM5tsC7\\file1a1068734a49/A"
>> ??? [8] "SPACE/log.txt"
>>
>>
>> ??? [1] 0
>>
>> ??????? tryCatch(readLines(logname), 
>> error=function(e)conditionMessage(e))
>>
>> ??? [1] "cannot open the connection"
>> ??? Warning message:
>> ??? In file(con, "r") :
>> ??? cannot open file
>> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
>> ??? SPACE/log.txt': No such file or directory
>>
>>
>> ??????? unlink(logname)
>> ??????? system(paste(
>> ??????? "C:\\msys64\\home\\willi\\ucrt3\\r\\trunk\\bin\\R.exe --quiet
>> ??????? --vanilla -e \"commandArgs()\" 1>", logname))
>>
>> ??? [1] 0
>>
>> ??????? tryCatch(readLines(logname), 
>> error=function(e)conditionMessage(e))
>>
>> ??? [1] "cannot open the connection"
>> ??? Warning message:
>> ??? In file(con, "r") :
>> ??? cannot open file
>> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
>> ??? SPACE/log.txt': No such file or directory
>>
>> ??????? tryCatch(readLines(sub(" .*$", "", logname)),
>> ??????? error=function(e)conditionMessage(e))
>>
>> ??? [1] "> commandArgs()"
>> ??? "[1]
>> \"C:\\\\msys64\\\\home\\\\willi\\\\ucrt3\\\\r\\\\trunk/bin/x64/Rterm.exe\""
>> ??? [3] "[2] \"--quiet\"
>> ??? " "[3] \"--vanilla\"
>> ??? "
>> ??? [5] "[4] \"-e\"
>> ??? " "[5] \"commandArgs()\"
>> ??? "
>> ??? [7] "[6] \"SPACE/log.txt\"
>> ??? " "> "
>> ??? [9] "> "
>>
>>
>> ??????? unlink(logname)
>> ??????? system(paste(
>> ??????? "C:\\msys64\\home\\willi\\ucrt3\\r\\trunk\\bin\\R.exe --quiet
>> ??????? --vanilla -e \"commandArgs()\" 1>", shQuote(logname)))
>>
>> ??? [1] 0
>>
>> ??????? tryCatch(readLines(logname), 
>> error=function(e)conditionMessage(e))
>>
>> ??? [1] "> commandArgs()"
>> ??? "[1]
>> \"C:\\\\msys64\\\\home\\\\willi\\\\ucrt3\\\\r\\\\trunk/bin/x64/Rterm.exe\""
>> ??? [3] "[2] \"--quiet\"
>> ??? " "[3] \"--vanilla\"
>> ??? "
>> ??? [5] "[4] \"-e\"
>> ??? " "[5] \"commandArgs()\"
>> ??? "
>> ??? [7] "> "
>> ??? "> "
>>
>> ??? -Bill
>>
>> ??? On Wed, Jan 27, 2021 at 1:25 PM Duncan Murdoch
>> ??? <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
>>
>>
>> ??????? On 27/01/2021 3:40 p.m., Bill Dunlap wrote:
>>
>> ??????????? I believe the problem is from svn 77925 in
>> ??????????? gnuwin/front-ends/rcmdfn.c,
>> ??????????? which was committed a few days after 3.6.3 was released.
>> ??????????? Rterm used
>> ??????????? to put double quotes around a command line argument only 
>> if it
>> ??????????? contained a space, now it double quotes all arguments. It
>> ??????????? sees shell
>> ??????????? constructs like "1>" and the following file name as
>> ??????????? arguments and
>> ??????????? double quoting them hides them from the shell, leading to 
>> this
>> ??????????? problem. I think we may have to rely on the user supplying
>> ??????????? quotes as
>> ??????????? needed instead of blindly adding them.
>>
>>
>> ??????? Okay, now I see what you mean.
>>
>> ??????? If you invoke R using R.exe, it asks cmd.exe to run Rterm.exe,
>> ??????? so it is
>> ??????? possible that redirection would be handled.
>>
>> ??????? If you invoke R directly using Rterm.exe, then my description
>> ??????? down below
>> ??????? would be correct.
>>
>> ??????? Duncan Murdoch
>>
>>
>>
>> ??????????? -Bill
>>
>> ??????????? On Wed, Jan 27, 2021 at 12:28 PM Duncan Murdoch
>> ??????????? <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>>
>> ??????????? wrote:
>>
>>
>> ??????????????? On 27/01/2021 3:17 p.m., Duncan Murdoch wrote:
>>
>> ??????????????????? On 27/01/2021 3:38 a.m., Martin Maechler wrote:
>>
>> ??????????????????????????????????????????? Martin Maechler
>> ??????????????????????????????????????????? on Tue, 26 Jan 2021 12:37:58
>> ??????????????????????????????????????????? +0100 writes:
>>
>>
>> ??????????????????????????????????????????? Marcel Baumgartner
>> ??????????????????????????????????????????? on Tue, 26 Jan 2021 08:55:48
>> ??????????????????????????????????????????? +0100 writes:
>>
>>
>> ??????????????????????? Dear all, my colleague posted our issue on
>> ??????????????????????? stackoverflow:
>>
>> ??????????????????????? Calling R script from Python does not save log
>> ??????????????????????? file in
>> ??????????????????????? version 4 - Stack Overflow
>> ??????????????????????? [stackoverflow.com/questions...
>> <https://stackoverflow.com/questions/65887485/calling-r-script-from-python-does-not-save-log-file-in-version-4>]
>>
>> ??????????????????????? It is about this kind of call to R:
>>
>> ??????????????????????? R.exe -f code.R --args "~/file.txt" 1>
>> ??????????????????????? "~/log.txt" 2>&1".
>>
>> ??????????????????????? The issue is that the log.txt file is not
>> ??????????????????????? created when
>> ??????????????????????? running R 4.x.x. The same code works perfectly
>> ??????????????????????? fine with
>> ??????????????????????? R 3.6.x.
>>
>> ??????????????????????? Any idea what's going wrong as of version 4? 
>> Regards
>> ??????????????????????? Marcel
>>
>> ??????????????????????? Dear Marcel, I think the solution is 
>> embarrassingly
>> ??????????????????????? simple:
>>
>> ???????????????????????? From the SO post, where she showed a bit more
>> ??????????????????????? detail than you
>> ??????????????????????? show here, it's clear you have confused 
>> 'R.exe' and
>> ??????????????????????? 'Rscript.exe' and what you say above is not 
>> true:
>>
>> ??????????????????????? 'R.exe' was used for R 3.6.0 but for R 4.0.3,
>> ??????????????????????? you/she used
>> ??????????????????????? 'Rscript.exe' instead.
>>
>>
>> ??????????????????????? ... as you've noticed now, they do behave
>> ??????????????????????? differently,
>> ??????????????????????? indeed!
>>
>> ??????????????????????? Well, this was not the solution to their --
>> ??????????????????????? Windows-only -- problem.
>> ??????????????????????? The problem *is* indeed visible if they only use
>> ??????????????????????? R.exe (also
>> ??????????????????????? for R 4.0.3).
>>
>> ??????????????????????? I've commented more on the SO issue (see above),
>> ??????????????????????? notably asking for a *minimal* repr.ex.
>> ??????????????????????? (reproducible example),
>> ??????????????????????? and one *not* using "<YOUR PATH>" and setwd() ..
>>
>>
>> ??????????????????? Isn't this purely a Python or user problem? R
>> ??????????????????? shouldn't process
>> ??????????????????? redirection directives like
>>
>> ??????????????????? 1> "~/log.txt" 2>&1
>>
>> ??????????????????? because it's the shell's job to process those. If
>> ??????????????????? Python is acting as
>> ??????????????????? the shell, it needs to handle those things. If R was
>> ??????????????????? handling the
>> ??????????????????? command via
>>
>>
>> ??????????????? Oops, sent before finishing:
>>
>> ??????????????? If R was handling the command via system() or system2(),
>> ??????????????? it would handle
>> ??????????????? redirection itself. If it was using the Windows-only
>> ??????????????? shell(), it would
>> ??????????????? call cmd.exe (by default) to handle redirection. (This
>> ??????????????? is a difference
>> ??????????????? between R on Windows and R in Unix: in Unix a shell is
>> ??????????????? always used.)
>>
>> ??????????????? Duncan Murdoch
>>
>> ??????????????? ______________________________________________
>> ??????????????? R-help at r-project.org <mailto:R-help at r-project.org>
>> ??????????????? mailing list -- To UNSUBSCRIBE and more, see
>> ??????????????? stat.ethz.ch/mailman/listin...
>> <https://stat.ethz.ch/mailman/listinfo/r-help>
>> ??????????????? PLEASE do read the posting guide
>> ??????????????? www.R-project.org/posting-g...
>> <http://www.R-project.org/posting-guide.html>
>> ??????????????? and provide commented, minimal, self-contained,
>> ??????????????? reproducible code.
>>
>>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From p@ych@o||u @end|ng |rom gm@||@com  Tue Feb  2 15:31:53 2021
From: p@ych@o||u @end|ng |rom gm@||@com (Chao Liu)
Date: Tue, 2 Feb 2021 09:31:53 -0500
Subject: [R] Alternative to mapply to select samples
Message-ID: <CACCU-vMyrs2A+9Vfmk4COXDozCrFT_RhG5p1k3ZHtibg_RQNfw@mail.gmail.com>

Dear R-Help,

I created a mapply function to select samples from a dataset but are there
any faster ways to do it by avoiding mapply because it is slow and I have a
larger dataset? My goal is to use more matrix / vector operations and less
in terms of lists (the format of the output can be flexible). Ideally, I
would like to stick to base R methods without the aid of parallel process
or packages. Any ideas will be appreciated!

#A list of a set of data to be selected
bl <- list(list(c(1, 2),c(2, 3), c(3, 4), c(4, 5), c(5, 6), c(6, 7), c(7,
8), c(8, 9)),
         list(c(1, 2, 3), c(2, 3, 4), c(3, 4, 5), c(4, 5, 6), c(5, 6, 7),
c(6, 7, 8)),
         list(c(1, 2, 3, 4, 5), c(2, 3, 4, 5, 6), c(3, 4, 5, 6, 7), c(4, 5,
6, 7, 8), c(5, 6, 7, 8, 9)))
#Number of elements to be selected
kn <- c(5, 4, 3)
#Total number of elements in each set
nb <- c(8, 6, 5)
#This output a list but preferably I would like a matrix
bl_func <- function() mapply(function(x, y, z) {
  x[sample.int(y, z, replace = TRUE)]
}, bl, nb, kn, SIMPLIFY = FALSE)

Best,

Chao
?

	[[alternative HTML version deleted]]


From wh|tney@cory @end|ng |rom gm@||@com  Tue Feb  2 12:33:16 2021
From: wh|tney@cory @end|ng |rom gm@||@com (Cory Whitney)
Date: Tue, 2 Feb 2021 12:33:16 +0100
Subject: [R] [R-pkgs] ethnobotanyR 0.1.8
Message-ID: <9491E023-38EC-461C-95E8-81704FD9441F@gmail.com>

The newest release of the ethnobotanyR package (v0.1.8) calculates common quantitative ethnobotany indices to assess the cultural significance of plant species based on informant consensus. The package closely follows two papers, one on cultural importance indices (Tardio and Pardo-de-Santayana 2008) and another on agrobiodiversity valuation (Whitney, Bahati, and Gebauer 2018). The newest version of ethnobotanyR (0.1.8) has been released with a number of new features:

The goal is to provide an easy-to-use platform for ethnobotanists to work with quantitative ethnobotany assessments. 

Install the released version of ethnobotanyR from CRAN with 
install.packages("ethnobotanyR")

Install the working version of ethnobotanyR from GitHub with 
devtools::install_github("CWWhitney/ethnobotanyR")

Vignettes:	https://cran.r-project.org/web/packages/ethnobotanyR/vignettes/ethnobotanyr_vignette.html

Tardio, Javier, and Manuel Pardo-de-Santayana. 2008. ?Cultural Importance Indices: A Comparative Analysis Based on the Useful Wild Plants of Southern Cantabria (Northern Spain) 1.? Economic Botany 62 (1): 24?39.

Whitney, Cory W., Joseph Bahati, and J. Gebauer. 2018. ?Ethnobotany and Agrobiodiversity; Valuation of Plants in the Homegardens of Southwestern Uganda.? Ethnobiology Letters 9 (2): 90?100. https://doi.org/10.14237/ebl.9.2.2018.503.
_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From c@|@ndr@ @end|ng |rom rgzm@de  Tue Feb  2 17:01:05 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Tue, 2 Feb 2021 17:01:05 +0100
Subject: [R] md5sum issues
Message-ID: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>

Dear useRs,

I have some kind of a weird issue with md5sum() and I'm not sure where I 
should start.

I have a repository on GitHub, with a local Git installation and 
connected with RStudio.
I am working on Windows 10 and a colleague of mine works on Linux.
We both pull the latest commits of all files, but the checksums are 
different.
Even stranger (to me at least), I get a different checksum from the 
local file (downloaded through Git via pulling) and the same file that I 
manually download from GitHub. The checksum of the manual download from 
GitHub is the same as that of my colleague on Linux.
This happens to all text-based files (Rmd, MD, CSV...) but not to 
non-editable files (PDF, XLSX...).

For example (I have shortened the paths):
 > library(tools)

 > md5sum(file.choose()) # local repo
D:\\...\\SSFAcomparisonPaper\\README.md
"e3b08fc2ab8b3c8b57e681f862a77f32"

 > md5sum(file.choose()) # downloaded from GitHub
C:\\Users\\...\\Downloads\\README.md
"05fab51e18b962a9f3266c7b79016ce6"

 > md5sum(file.choose()) # local repo
D:\\...\\SSFAcomparisonPaper\\...\\SSFA_GuineaPigs_plot.pdf
"d9b331642bfd0d192e4eff5808b2a30f"

 > md5sum(file.choose()) # downloaded from GitHub
C:\\Users\\...\\Downloads\\SSFA_GuineaPigs_plot.pdf
"d9b331642bfd0d192e4eff5808b2a30f"

I am not sure whether it is an issue with the algorithm of md5sum(), 
whether it's a R/RStudio/Git/GitHub/Windows issue, so I would be 
grateful if you could help me sorting it out.

Thank you in advance,
Ivan

-- 

Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb  2 17:05:56 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 02 Feb 2021 08:05:56 -0800
Subject: [R] md5sum issues
In-Reply-To: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
Message-ID: <9F617264-45DF-4995-97EF-71873D774534@dcn.davis.ca.us>

Sounds like a newline discrepancy issue. Highly unlikely to be an R issue.

On February 2, 2021 8:01:05 AM PST, Ivan Calandra <calandra at rgzm.de> wrote:
>Dear useRs,
>
>I have some kind of a weird issue with md5sum() and I'm not sure where
>I 
>should start.
>
>I have a repository on GitHub, with a local Git installation and 
>connected with RStudio.
>I am working on Windows 10 and a colleague of mine works on Linux.
>We both pull the latest commits of all files, but the checksums are 
>different.
>Even stranger (to me at least), I get a different checksum from the 
>local file (downloaded through Git via pulling) and the same file that
>I 
>manually download from GitHub. The checksum of the manual download from
>
>GitHub is the same as that of my colleague on Linux.
>This happens to all text-based files (Rmd, MD, CSV...) but not to 
>non-editable files (PDF, XLSX...).
>
>For example (I have shortened the paths):
> > library(tools)
>
> > md5sum(file.choose()) # local repo
>D:\\...\\SSFAcomparisonPaper\\README.md
>"e3b08fc2ab8b3c8b57e681f862a77f32"
>
> > md5sum(file.choose()) # downloaded from GitHub
>C:\\Users\\...\\Downloads\\README.md
>"05fab51e18b962a9f3266c7b79016ce6"
>
> > md5sum(file.choose()) # local repo
>D:\\...\\SSFAcomparisonPaper\\...\\SSFA_GuineaPigs_plot.pdf
>"d9b331642bfd0d192e4eff5808b2a30f"
>
> > md5sum(file.choose()) # downloaded from GitHub
>C:\\Users\\...\\Downloads\\SSFA_GuineaPigs_plot.pdf
>"d9b331642bfd0d192e4eff5808b2a30f"
>
>I am not sure whether it is an issue with the algorithm of md5sum(), 
>whether it's a R/RStudio/Git/GitHub/Windows issue, so I would be 
>grateful if you could help me sorting it out.
>
>Thank you in advance,
>Ivan

-- 
Sent from my phone. Please excuse my brevity.


From ho@@@|nmm @end|ng |rom jun|v@edu  Tue Feb  2 17:26:45 2021
From: ho@@@|nmm @end|ng |rom jun|v@edu (Md. Moyazzem Hossain)
Date: Tue, 2 Feb 2021 16:26:45 +0000
Subject: [R] Regarding fitted value
In-Reply-To: <CAJUZ7XTdn2UUEpEZLFViiMuquTFzabKH1NqtiruT8Cs0=b-yjg@mail.gmail.com>
References: <CAO29qn7eZZjsBUtF1y+oZzhkiWi51+Yp46uEVUSAJZedOqtwQA@mail.gmail.com>
 <03978895-a544-c325-ed23-97315e7fc4e1@sapo.pt>
 <CAO29qn5jfkoutyads9b1a=f3_UdfQcvpO-OXqcaEY2sWzcwRyQ@mail.gmail.com>
 <050ce427-2f8a-c973-57a5-8f96124947dd@sapo.pt>
 <CAJUZ7XQmLrpT_v8ztGQEFMPJzew68_O6MRZD6559kWY2B4ae5g@mail.gmail.com>
 <9ff6ebc2-06af-222e-ea8b-abfa52325933@sapo.pt>
 <CAJUZ7XTdn2UUEpEZLFViiMuquTFzabKH1NqtiruT8Cs0=b-yjg@mail.gmail.com>
Message-ID: <CAO29qn4fnc7n30Hgky9eusSa8xCzggbLf_KkqyvSeVx2ygKUMQ@mail.gmail.com>

Dear Partho Sarkar and Rui Barradas

Thanks a lot.

Take care.

On Tue, Feb 2, 2021 at 12:34 PM Partho Sarkar <partho.ss at gmail.com> wrote:

> My pleasure!
>
> *Best regards,*
> *Partho Sarkar*
>
> On Tue, Feb 2, 2021 at 5:55 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>> Hello,
>>
>> Thanks for the links, they are very helpful.
>>
>> Rui Barradas
>>
>> ?s 11:36 de 02/02/21, Partho Sarkar escreveu:
>> > In case further clarification is needed, this from Rob Hyndman, author
>> > of the Forecast package, may be helpful:
>> >
>> > "fitted produces one-step in-sample (i.e., training data) "forecasts".
>> > That is, it gives a forecast of observation t using observations up to
>> > time t-1 for each t in the data. ... So fitted(fit) gives one-step
>> > forecasts of observations 1, 2, ... It is possible to produce a
>> > "forecast" for observation 1 as a forecast is simply the expected value
>> > of that observation given the model and any preceding history."
>> >
>> >  From Hyndman's answer in this thread
>> > <a
>> > href="
>> https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
>> ">
>> https://stats.stackexchange.com/questions/217955/difference-between-first-one-step-ahead-forecast-and-first-forecast-from-fitted?rq=1
>> </a>
>> >
>> > See also <a
>> > href="
>> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/">
>> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/</a><
>> https://robjhyndman.com/hyndsight/out-of-sample-one-step-forecasts/>
>> >
>> > [A quick search on the stackexchange forum will turn up several similar
>> > questions & answers]
>> >
>> > HTH,
>> >
>> > /
>> > Best regards,
>> > /
>> > /
>> > Partho Sarkar
>> > /
>> >
>> > On Tue, Feb 2, 2021 at 12:28 PM Rui Barradas <ruipbarradas at sapo.pt
>> > <mailto:ruipbarradas at sapo.pt>> wrote:
>> >
>> >     Hello,
>> >
>> >     You get the fitted values for years 2000, ..., 2019.
>> >     Those values are the original series minus the residuals:
>> >
>> >     f <- fitted(model1)
>> >     g <- yy - resid(model1)
>> >     identical(f, g)          # returns TRUE
>> >
>> >
>> >     If you want to *forecast*, this will give you the default h = 10
>> >     forecasts.
>> >
>> >     fc <- forecast(model1)
>> >     plot(fc)
>> >
>> >
>> >     Hope this helps,
>> >
>> >     Rui Barradas
>> >
>> >     ?s 23:31 de 01/02/21, Md. Moyazzem Hossain escreveu:
>> >      > Dear Rui Barradas
>> >      >
>> >      > Thank you very much for your reply.
>> >      >
>> >      > However, still now, I have a confusion whether I get the fitted
>> >     value
>> >      > for the year 2000, 2001, ..., 2020 or 2001, 2002, ..., 2021.
>> >      >
>> >      > Need any more help.
>> >      >
>> >      > Thanks in advance.
>> >      >
>> >      > Md
>> >      >
>> >      > On Thu, Jan 28, 2021 at 4:47 PM Rui Barradas
>> >     <ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>
>> >      > <mailto:ruipbarradas at sapo.pt <mailto:ruipbarradas at sapo.pt>>>
>> wrote:
>> >      >
>> >      >     Hello,
>> >      >
>> >      >       From help('forecast::fitted.Arima'):
>> >      >
>> >      >     h       The number of steps to forecast ahead.
>> >      >
>> >      >
>> >      >     So you have the default h = 1 step ahead forecast for your
>> model.
>> >      >
>> >      >
>> >      >     Hope this helps,
>> >      >
>> >      >     Rui Barradas
>> >      >
>> >      >     ?s 12:13 de 28/01/21, Md. Moyazzem Hossain escreveu:
>> >      >      >   Dear R-experts,
>> >      >      >
>> >      >      > I hope that all of you are doing well. I got the filled
>> value
>> >      >     from the
>> >      >      > ARIMA model.
>> >      >      >
>> >      >      > I use the following working code. But I am not clear
>> whether I
>> >      >     got the
>> >      >      > fitted value for each *corresponding time* of the original
>> >     data
>> >      >     point like
>> >      >      > 2000, 2001, 2020 or get a *one-step-ahead* fitted value.
>> >     Please
>> >      >     suggest me
>> >      >      > any reference for further reading to my understanding.
>> >      >      >
>> >      >      > ########################
>> >      >      >
>> >      >
>> >
>>  y<-c(120,340,250,430,125,324,763,458,763,905,765,456,234,345,654,654,567,876,907,456)
>> >      >      > library(forecast)
>> >      >      > library(tseries)
>> >      >      > yy=ts(y, start=c(2000,1))
>> >      >      >
>> >      >      > model1=Arima(yy,order=c(0,2,1), lambda = NULL,method='ML')
>> >      >      > model1
>> >      >      >
>> >      >      > f <- fitted( model1)
>> >      >      > plot(yy)
>> >      >      > plot(f)
>> >      >      >
>> >      >      > Thanks in advance.
>> >      >      >
>> >      >
>> >      >
>> >      >
>> >      > --
>> >      > Best Regards,
>> >      > Md. Moyazzem Hossain
>> >      > Associate Professor
>> >      > Department of Statistics
>> >      > Jahangirnagar University
>> >      > Savar, Dhaka-1342
>> >      > Bangladesh
>> >      > Website: http://www.juniv.edu/teachers/hossainmm
>> >      > Research: *Google Scholar
>> >      >
>> >     <https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao
>> >*;
>> >      > *ResearchGate <
>> https://www.researchgate.net/profile/Md_Hossain107>*;
>> >      > *ORCID iD <https://orcid.org/0000-0003-3593-6936>*
>> >
>> >     ______________________________________________
>> >     R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
>> >     To UNSUBSCRIBE and more, see
>> >     https://stat.ethz.ch/mailman/listinfo/r-help
>> >     PLEASE do read the posting guide
>> >     http://www.R-project.org/posting-guide.html
>> >     and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>

-- 
Best Regards,
Md. Moyazzem Hossain
Associate Professor
Department of Statistics
Jahangirnagar University
Savar, Dhaka-1342
Bangladesh
Website: http://www.juniv.edu/teachers/hossainmm
Research: *Google Scholar
<https://scholar.google.com/citations?user=-U03XCgAAAAJ&hl=en&oi=ao>*;
*ResearchGate
<https://www.researchgate.net/profile/Md_Hossain107>*; *ORCID iD
<https://orcid.org/0000-0003-3593-6936>*

	[[alternative HTML version deleted]]


From w||||@mwdun|@p @end|ng |rom gm@||@com  Tue Feb  2 19:32:39 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Tue, 2 Feb 2021 10:32:39 -0800
Subject: [R] Error when calling (R 4.0.x on Windows) from Python
In-Reply-To: <746561ef-73d9-d87c-cd58-5396dc4fbced@gmail.com>
References: <3cf33078e38cd82eaa62af315c5c6795@mail.infomaniak.com>
 <24591.65302.527022.733577@stat.math.ethz.ch>
 <24593.9866.492194.548636@stat.math.ethz.ch>
 <dce1a81a-a543-bbbc-24f3-54d64eae2b80@gmail.com>
 <aa6df17c-8684-3140-a545-65d217882c1b@gmail.com>
 <CAHqSRuTFc8x=mox=55s7HZHpWeOdzaR_oMev6kv=Yp8XiNzsSQ@mail.gmail.com>
 <37bf94d0-873a-5bef-87ee-60bd572c8545@gmail.com>
 <CAHqSRuSOYk=aWzKg9Ub4LN+hXTZ8ptZDw7gzrxt67957kNDwXQ@mail.gmail.com>
 <25b589b25af628379c5a9ac502580552@mail.infomaniak.com>
 <8721759c-e3d8-5e23-dcb5-89b2d4f00ff0@gmail.com>
 <746561ef-73d9-d87c-cd58-5396dc4fbced@gmail.com>
Message-ID: <CAHqSRuR=5E25uEvF1J=E4eCbLohN3Y7jsULsO35NpnJtLj-dbA@mail.gmail.com>

R/Rterm now has shell-independent ways to specify its standard input
file, --file=file.R, and environment variables, VAR=VALUE.  Should it
also have shell-independent arguments to specify files to contain
stdout and stderr or both?  Then its help message could omit the '>
output' (it can already leave out the '< infile').

The help message could then say that if those arguments are omitted
then Rterm uses stdin, stdout, and stderr.  Thus the user could come
up with the shell syntax if the user needed to use pipes or output
stream merging, etc.

-Bill

On Tue, Feb 2, 2021 at 5:49 AM Tomas Kalibera <tomas.kalibera at gmail.com> wrote:
>
> A reproducible example:
>
> system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -e commandArgs()
>  >out")  # does not create "out"
> system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\R.exe\" -e commandArgs()
>  >out")  # creates "out"
>
> Note that this does not create "out", either:
>
> system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\x64\\Rterm.exe\" -e
> commandArgs() >out")
>
> I think redirections should be left to the shell, so e.g. those calls
> from Python should use "os.system" if they needed redirection, as Duncan
> suggested.
>
> I see that both R.exe and Rterm.exe give "Usage: Rterm [options] [<
> infile] [> outfile] [EnvVars]", which may be confusing to programmers
> invoking R without a shell, but then talking there about invocation via
> shell could confuse typical users, instead.
>
> My best guess is that the redirection in R.exe in 3.6 worked rather by
> accident, as a consequence of that R.exe internally invoked (and still
> invokes) Rterm.exe via the shell, but R.exe did not protect all
> arguments from expansions from that internal shell invocation. If
> redirection was meant to work without external shell, it would have
> instead been implemented explicitly also in Rterm.exe.
>
> My change 77926 made sure that all arguments to that internal shell
> invocation were protected, following bug reports such as PR#17709, where
> users had "&" in their file names. Therefore, this works, executing file
> code&.r
>
> system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -f code&.r")
>
> but not with 3.6.3, and I would not be surprised if even more special
> characters became popular, soon.
>
> After all, what if someone wanted to pass an argument to R including
> ">", that should work, too:
>
> ---- t.r ----
> cat("Header: ", commandArgs(TRUE)[1], "\n")
> -------------
>
> system("\"C:\\Program Files\\R\\R-4.0.3\\bin\\R.exe\" -f t.r --args
> <html>") # prints Header:  <html>
> system("\"C:\\Program Files\\R\\R-3.6.3\\bin\\R.exe\" -f t.r --args
> <html>") # fails with  The syntax of the command is incorrect.
>
> So in summary, I don't agree this is a bug.
>
> Best
> Tomas
>
> On 1/29/21 11:19 AM, Duncan Murdoch wrote:
> > On 29/01/2021 3:57 a.m., Marcel Baumgartner wrote:
> >> Dear Bill, Duncan and Martin,
> >>
> >> thanks for your investigation. Can you clarify on next steps? Is this
> >> now an official bug, or have you found a workaround? For your
> >> information: the issue showed up the first time when I called R 4.0.2
> >> from within a software called "IDEA" (from Caseware Analytics), using
> >> their scripting language (similar to Visual Basic). With my colleague
> >> we then simply reproduce the error calling R from Python, so that we
> >> could share it more easily. When we run this command directly on the
> >> CMD in Windows, all works fine. The issue only happens when R is
> >> called within another software.
> >>
> >
> > I would say this is a bug, with two workarounds.  These are only
> > needed (and will only work) on Windows.
> >
> > 1.  If you want to include redirection in the command line, then call
> > cmd.exe yourself, and have it call Rterm.exe.  I think your original
> > command
> >
> > R.exe -f code.R --args "~/file.txt" 1> "~/log.txt" 2>&1"
> >
> > could be written as
> >
> > cmd.exe 1>log.txt 2>&1 /C R.exe -f code.R --args "~/file.txt"
> >
> > (but I haven't tested it).  You could also use the slightly more
> > efficient
> >
> > cmd.exe 1>log.txt 2>&1 /C Rterm.exe -f code.R --args "~/file.txt"
> >
> > if Rterm.exe is on your path; by default I don't think it will be.
> >
> > 2.  Change the Python code to a different function call than
> > subprocess.call.  It should be one that's equivalent to the C system()
> > function; I believe os.system() is what you want, so you'd use
> >
> > os.system("R.exe -f code.R --args "~/file.txt" 1> "~/log.txt" 2>&1")
> >
> > and the redirection would be handled by the implicit shell that is
> > called by os.system.  Again, replacing R.exe by Rterm.exe would be a
> > tiny bit more efficient, but it might not be on the path.
> >
> > Duncan Murdoch
> >
> >> Best regards
> >>
> >> Marcel
> >>
> >>
> >> Le 2021-01-27T23:14:36.000+01:00, Bill Dunlap
> >> <williamwdunlap at gmail.com> a ?crit :
> >>
> >>     I tried the following change, that adds quotes if the argument does
> >>     not include ">".
> >>     Index: front-ends/rcmdfn.c
> >> ===================================================================
> >>     --- front-ends/rcmdfn.c (revision 79883)
> >>     +++ front-ends/rcmdfn.c (working copy)
> >>     @@ -173,9 +173,13 @@
> >>     fprintf(stderr, "command line too long\n");
> >>     return(27);
> >>     }
> >>     - strcat(cmd, "\"");
> >>     + if (!strchr(argv[i], '>')) {
> >>     + strcat(cmd, "\"");
> >>     + }
> >>     strcat(cmd, argv[i]);
> >>     - strcat(cmd, "\"");
> >>     + if (!strchr(argv[i], '>')) {
> >>     + strcat(cmd, "\"");
> >>     + }
> >>     }
> >>     /* the outermost double quotes are needed for cmd.exe */
> >>     strcat(cmd, "\"");
> >>
> >>     It lets the python example work. I am not sure that quoting all the
> >>     arguments buys you much, as shQuote() is still needed for arguments
> >>     that include spaces. E.g., with 3.6.3, 4.0.3, and my development
> >>     build with the above patch we get
> >>
> >>         stopifnot(dir.create(dirname <- file.path(tempfile(), "A
> >>         SPACE"), recursive=TRUE))
> >>         logname <- file.path(dirname, "log.txt")
> >>         unlink(logname)
> >>         system(paste( "C:\\R\\R-3.6.3\\bin\\R.exe --quiet --vanilla -e
> >>         \"commandArgs()\" 1>", logname))
> >>
> >>     ARGUMENT 'SPACE/log.txt' __ignored__
> >>
> >>     [1] 0
> >>
> >>         tryCatch(readLines(logname),
> >> error=function(e)conditionMessage(e))
> >>
> >>     [1] "cannot open the connection"
> >>     Warning message:
> >>     In file(con, "r") :
> >>     cannot open file
> >> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
> >>     SPACE/log.txt': No such file or directory
> >>
> >>
> >>         system(paste( "C:\\R\\R-4.0.3\\bin\\R.exe --quiet --vanilla -e
> >>         \"commandArgs()\" 1>", logname))
> >>         commandArgs()
> >>
> >>     [1] "C:\\R\\R-40~1.3/bin/x64/Rterm.exe"
> >>     [2] "--quiet"
> >>     [3] "--vanilla"
> >>     [4] "-e"
> >>     [5] "commandArgs()"
> >>     [6] "1>"
> >>     [7]
> >> "C:\\Users\\willi\\AppData\\Local\\Temp\\RtmpM5tsC7\\file1a1068734a49/A"
> >>     [8] "SPACE/log.txt"
> >>
> >>
> >>     [1] 0
> >>
> >>         tryCatch(readLines(logname),
> >> error=function(e)conditionMessage(e))
> >>
> >>     [1] "cannot open the connection"
> >>     Warning message:
> >>     In file(con, "r") :
> >>     cannot open file
> >> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
> >>     SPACE/log.txt': No such file or directory
> >>
> >>
> >>         unlink(logname)
> >>         system(paste(
> >>         "C:\\msys64\\home\\willi\\ucrt3\\r\\trunk\\bin\\R.exe --quiet
> >>         --vanilla -e \"commandArgs()\" 1>", logname))
> >>
> >>     [1] 0
> >>
> >>         tryCatch(readLines(logname),
> >> error=function(e)conditionMessage(e))
> >>
> >>     [1] "cannot open the connection"
> >>     Warning message:
> >>     In file(con, "r") :
> >>     cannot open file
> >> 'C:\Users\willi\AppData\Local\Temp\RtmpM5tsC7\file1a1068734a49/A
> >>     SPACE/log.txt': No such file or directory
> >>
> >>         tryCatch(readLines(sub(" .*$", "", logname)),
> >>         error=function(e)conditionMessage(e))
> >>
> >>     [1] "> commandArgs()"
> >>     "[1]
> >> \"C:\\\\msys64\\\\home\\\\willi\\\\ucrt3\\\\r\\\\trunk/bin/x64/Rterm.exe\""
> >>     [3] "[2] \"--quiet\"
> >>     " "[3] \"--vanilla\"
> >>     "
> >>     [5] "[4] \"-e\"
> >>     " "[5] \"commandArgs()\"
> >>     "
> >>     [7] "[6] \"SPACE/log.txt\"
> >>     " "> "
> >>     [9] "> "
> >>
> >>
> >>         unlink(logname)
> >>         system(paste(
> >>         "C:\\msys64\\home\\willi\\ucrt3\\r\\trunk\\bin\\R.exe --quiet
> >>         --vanilla -e \"commandArgs()\" 1>", shQuote(logname)))
> >>
> >>     [1] 0
> >>
> >>         tryCatch(readLines(logname),
> >> error=function(e)conditionMessage(e))
> >>
> >>     [1] "> commandArgs()"
> >>     "[1]
> >> \"C:\\\\msys64\\\\home\\\\willi\\\\ucrt3\\\\r\\\\trunk/bin/x64/Rterm.exe\""
> >>     [3] "[2] \"--quiet\"
> >>     " "[3] \"--vanilla\"
> >>     "
> >>     [5] "[4] \"-e\"
> >>     " "[5] \"commandArgs()\"
> >>     "
> >>     [7] "> "
> >>     "> "
> >>
> >>     -Bill
> >>
> >>     On Wed, Jan 27, 2021 at 1:25 PM Duncan Murdoch
> >>     <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>> wrote:
> >>
> >>
> >>         On 27/01/2021 3:40 p.m., Bill Dunlap wrote:
> >>
> >>             I believe the problem is from svn 77925 in
> >>             gnuwin/front-ends/rcmdfn.c,
> >>             which was committed a few days after 3.6.3 was released.
> >>             Rterm used
> >>             to put double quotes around a command line argument only
> >> if it
> >>             contained a space, now it double quotes all arguments. It
> >>             sees shell
> >>             constructs like "1>" and the following file name as
> >>             arguments and
> >>             double quoting them hides them from the shell, leading to
> >> this
> >>             problem. I think we may have to rely on the user supplying
> >>             quotes as
> >>             needed instead of blindly adding them.
> >>
> >>
> >>         Okay, now I see what you mean.
> >>
> >>         If you invoke R using R.exe, it asks cmd.exe to run Rterm.exe,
> >>         so it is
> >>         possible that redirection would be handled.
> >>
> >>         If you invoke R directly using Rterm.exe, then my description
> >>         down below
> >>         would be correct.
> >>
> >>         Duncan Murdoch
> >>
> >>
> >>
> >>             -Bill
> >>
> >>             On Wed, Jan 27, 2021 at 12:28 PM Duncan Murdoch
> >>             <murdoch.duncan at gmail.com <mailto:murdoch.duncan at gmail.com>>
> >>             wrote:
> >>
> >>
> >>                 On 27/01/2021 3:17 p.m., Duncan Murdoch wrote:
> >>
> >>                     On 27/01/2021 3:38 a.m., Martin Maechler wrote:
> >>
> >>                                             Martin Maechler
> >>                                             on Tue, 26 Jan 2021 12:37:58
> >>                                             +0100 writes:
> >>
> >>
> >>                                             Marcel Baumgartner
> >>                                             on Tue, 26 Jan 2021 08:55:48
> >>                                             +0100 writes:
> >>
> >>
> >>                         Dear all, my colleague posted our issue on
> >>                         stackoverflow:
> >>
> >>                         Calling R script from Python does not save log
> >>                         file in
> >>                         version 4 - Stack Overflow
> >>                         [stackoverflow.com/questions...
> >> <https://stackoverflow.com/questions/65887485/calling-r-script-from-python-does-not-save-log-file-in-version-4>]
> >>
> >>                         It is about this kind of call to R:
> >>
> >>                         R.exe -f code.R --args "~/file.txt" 1>
> >>                         "~/log.txt" 2>&1".
> >>
> >>                         The issue is that the log.txt file is not
> >>                         created when
> >>                         running R 4.x.x. The same code works perfectly
> >>                         fine with
> >>                         R 3.6.x.
> >>
> >>                         Any idea what's going wrong as of version 4?
> >> Regards
> >>                         Marcel
> >>
> >>                         Dear Marcel, I think the solution is
> >> embarrassingly
> >>                         simple:
> >>
> >>                          From the SO post, where she showed a bit more
> >>                         detail than you
> >>                         show here, it's clear you have confused
> >> 'R.exe' and
> >>                         'Rscript.exe' and what you say above is not
> >> true:
> >>
> >>                         'R.exe' was used for R 3.6.0 but for R 4.0.3,
> >>                         you/she used
> >>                         'Rscript.exe' instead.
> >>
> >>
> >>                         ... as you've noticed now, they do behave
> >>                         differently,
> >>                         indeed!
> >>
> >>                         Well, this was not the solution to their --
> >>                         Windows-only -- problem.
> >>                         The problem *is* indeed visible if they only use
> >>                         R.exe (also
> >>                         for R 4.0.3).
> >>
> >>                         I've commented more on the SO issue (see above),
> >>                         notably asking for a *minimal* repr.ex.
> >>                         (reproducible example),
> >>                         and one *not* using "<YOUR PATH>" and setwd() ..
> >>
> >>
> >>                     Isn't this purely a Python or user problem? R
> >>                     shouldn't process
> >>                     redirection directives like
> >>
> >>                     1> "~/log.txt" 2>&1
> >>
> >>                     because it's the shell's job to process those. If
> >>                     Python is acting as
> >>                     the shell, it needs to handle those things. If R was
> >>                     handling the
> >>                     command via
> >>
> >>
> >>                 Oops, sent before finishing:
> >>
> >>                 If R was handling the command via system() or system2(),
> >>                 it would handle
> >>                 redirection itself. If it was using the Windows-only
> >>                 shell(), it would
> >>                 call cmd.exe (by default) to handle redirection. (This
> >>                 is a difference
> >>                 between R on Windows and R in Unix: in Unix a shell is
> >>                 always used.)
> >>
> >>                 Duncan Murdoch
> >>
> >>                 ______________________________________________
> >>                 R-help at r-project.org <mailto:R-help at r-project.org>
> >>                 mailing list -- To UNSUBSCRIBE and more, see
> >>                 stat.ethz.ch/mailman/listin...
> >> <https://stat.ethz.ch/mailman/listinfo/r-help>
> >>                 PLEASE do read the posting guide
> >>                 www.R-project.org/posting-g...
> >> <http://www.R-project.org/posting-guide.html>
> >>                 and provide commented, minimal, self-contained,
> >>                 reproducible code.
> >>
> >>
> >>
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Tue Feb  2 20:31:53 2021
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Tue, 2 Feb 2021 20:31:53 +0100
Subject: [R] Dalex function in mlr3
Message-ID: <CA+nrPnuo3nCUKyAMYTDS-D4k7V+utqjGD+LMqjqeGg90Yky6dw@mail.gmail.com>

Hi to everyone

I just wanted to know if the dalex package of the mlr3 provides the same
functions (i.e. variable importance) as provided by the scott-knott-esd
test?

Warm regards

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb  2 23:08:27 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 2 Feb 2021 14:08:27 -0800
Subject: [R] Dalex function in mlr3
In-Reply-To: <CA+nrPnuo3nCUKyAMYTDS-D4k7V+utqjGD+LMqjqeGg90Yky6dw@mail.gmail.com>
References: <CA+nrPnuo3nCUKyAMYTDS-D4k7V+utqjGD+LMqjqeGg90Yky6dw@mail.gmail.com>
Message-ID: <CAGxFJbQ8aA54krGZwH4vQFBSVvGPhQ+4F2pNLATj_YvHiXt-gA@mail.gmail.com>

Please note per the posting guide linked below:

"For questions about functions in standard packages distributed with R (see
the FAQ Add-on packages in R
<https://cran.r-project.org/doc/FAQ/R-FAQ.html#Add-on-packages-in-R>), ask
questions on R-help.
If the question relates to a *contributed package* , e.g., one downloaded
from CRAN, try contacting the package maintainer first. You can also use
find("functionname") and packageDescription("packagename") to find this
information. *Only* send such questions to R-help or R-devel if you get no
reply or need further assistance. This applies to both requests for help
and to bug reports."

As you do not appear to have done this -- if you have, please say so -- do
not be surprised if you do not receive (helpful) assistance here. You
might, but .... For perspective, there are about 25,000 R packages "out
there", and this list cannot possibly support them all.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Feb 2, 2021 at 11:32 AM Neha gupta <neha.bologna90 at gmail.com> wrote:

> Hi to everyone
>
> I just wanted to know if the dalex package of the mlr3 provides the same
> functions (i.e. variable importance) as provided by the scott-knott-esd
> test?
>
> Warm regards
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From c@|@ndr@ @end|ng |rom rgzm@de  Wed Feb  3 07:48:38 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Wed, 3 Feb 2021 07:48:38 +0100
Subject: [R] md5sum issues
In-Reply-To: <9F617264-45DF-4995-97EF-71873D774534@dcn.davis.ca.us>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <9F617264-45DF-4995-97EF-71873D774534@dcn.davis.ca.us>
Message-ID: <b3c84d9b-e3ce-f769-672d-261d57f2d6fe@rgzm.de>

Thank you Jeff for the pointer.

If it's not an R issue, I guess it will be difficult to solve...
But maybe there is a workaround using R, like using another function or 
editing the files...? Does anyone have any idea?

Ivan

--
Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra

On 02/02/2021 17:05, Jeff Newmiller wrote:
> Sounds like a newline discrepancy issue. Highly unlikely to be an R issue.
>
> On February 2, 2021 8:01:05 AM PST, Ivan Calandra <calandra at rgzm.de> wrote:
>> Dear useRs,
>>
>> I have some kind of a weird issue with md5sum() and I'm not sure where
>> I
>> should start.
>>
>> I have a repository on GitHub, with a local Git installation and
>> connected with RStudio.
>> I am working on Windows 10 and a colleague of mine works on Linux.
>> We both pull the latest commits of all files, but the checksums are
>> different.
>> Even stranger (to me at least), I get a different checksum from the
>> local file (downloaded through Git via pulling) and the same file that
>> I
>> manually download from GitHub. The checksum of the manual download from
>>
>> GitHub is the same as that of my colleague on Linux.
>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>> non-editable files (PDF, XLSX...).
>>
>> For example (I have shortened the paths):
>>> library(tools)
>>> md5sum(file.choose()) # local repo
>> D:\\...\\SSFAcomparisonPaper\\README.md
>> "e3b08fc2ab8b3c8b57e681f862a77f32"
>>
>>> md5sum(file.choose()) # downloaded from GitHub
>> C:\\Users\\...\\Downloads\\README.md
>> "05fab51e18b962a9f3266c7b79016ce6"
>>
>>> md5sum(file.choose()) # local repo
>> D:\\...\\SSFAcomparisonPaper\\...\\SSFA_GuineaPigs_plot.pdf
>> "d9b331642bfd0d192e4eff5808b2a30f"
>>
>>> md5sum(file.choose()) # downloaded from GitHub
>> C:\\Users\\...\\Downloads\\SSFA_GuineaPigs_plot.pdf
>> "d9b331642bfd0d192e4eff5808b2a30f"
>>
>> I am not sure whether it is an issue with the algorithm of md5sum(),
>> whether it's a R/RStudio/Git/GitHub/Windows issue, so I would be
>> grateful if you could help me sorting it out.
>>
>> Thank you in advance,
>> Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Feb  3 08:14:14 2021
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 3 Feb 2021 10:14:14 +0300
Subject: [R] md5sum issues
In-Reply-To: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
Message-ID: <20210203101414.4efa99b8@Tarkus>

On Tue, 2 Feb 2021 17:01:05 +0100
Ivan Calandra <calandra at rgzm.de> wrote:

> This happens to all text-based files (Rmd, MD, CSV...) but not to 
> non-editable files (PDF, XLSX...).

This is probably caused by Git helpfully converting text files from LF
(0x10) line endings to CR LF (0x13 0x10) when checking out the
repository clone on Windows (and back when checking in).

This configuration option is described in Pro Git:
https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf

-- 
Best regards,
Ivan


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb  3 10:06:42 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 3 Feb 2021 04:06:42 -0500
Subject: [R] md5sum issues
In-Reply-To: <20210203101414.4efa99b8@Tarkus>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
Message-ID: <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>

On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
> On Tue, 2 Feb 2021 17:01:05 +0100
> Ivan Calandra <calandra at rgzm.de> wrote:
> 
>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>> non-editable files (PDF, XLSX...).
> 
> This is probably caused by Git helpfully converting text files from LF
> (0x10) line endings to CR LF (0x13 0x10) when checking out the
> repository clone on Windows (and back when checking in).
> 
> This configuration option is described in Pro Git:
> https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf

I agree with Ivan K, but don't agree with the advice in that book.

It's best to just leave files alone, not to convert between LF and 
CR-LF.  I don't think this confuses many Windows editors these days, but 
if your editor forces files into CR-LF form, you should fix the editor, 
not try to work around it.

In my opinion everyone should run

  git config --global core.autocrlf false

Some more arguments for this (in the context of Github Actions) are here:

 
https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140

Duncan Murdoch


From petr@p|k@| @end|ng |rom prechez@@cz  Wed Feb  3 10:32:21 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 3 Feb 2021 09:32:21 +0000
Subject: [R] Alternative to mapply to select samples
In-Reply-To: <CACCU-vMyrs2A+9Vfmk4COXDozCrFT_RhG5p1k3ZHtibg_RQNfw@mail.gmail.com>
References: <CACCU-vMyrs2A+9Vfmk4COXDozCrFT_RhG5p1k3ZHtibg_RQNfw@mail.gmail.com>
Message-ID: <87b6a1a54f4b4d05ad4b40cd4c8a1d9c@SRVEXCHCM1302.precheza.cz>

Hi

I am not sure if I understand your function but simple mapply gives you probably the same result and may be quicker.

> set.seed(111)
> blf <- bl_func()
> set.seed(111)
> blm <- mapply(sample, bl, kn, replace=TRUE)
> all.equal(blf, blm)
[1] TRUE
 
> Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Chao Liu
> Sent: Tuesday, February 2, 2021 3:32 PM
> To: r-help <r-help at r-project.org>
> Subject: [R] Alternative to mapply to select samples
> 
> Dear R-Help,
> 
> I created a mapply function to select samples from a dataset but are there
> any faster ways to do it by avoiding mapply because it is slow and I have a
> larger dataset? My goal is to use more matrix / vector operations and less
> in terms of lists (the format of the output can be flexible). Ideally, I
> would like to stick to base R methods without the aid of parallel process
> or packages. Any ideas will be appreciated!
> 
> #A list of a set of data to be selected
> bl <- list(list(c(1, 2),c(2, 3), c(3, 4), c(4, 5), c(5, 6), c(6, 7), c(7,
> 8), c(8, 9)),
>          list(c(1, 2, 3), c(2, 3, 4), c(3, 4, 5), c(4, 5, 6), c(5, 6, 7),
> c(6, 7, 8)),
>          list(c(1, 2, 3, 4, 5), c(2, 3, 4, 5, 6), c(3, 4, 5, 6, 7), c(4, 5,
> 6, 7, 8), c(5, 6, 7, 8, 9)))
> #Number of elements to be selected
> kn <- c(5, 4, 3)
> #Total number of elements in each set
> nb <- c(8, 6, 5)
> #This output a list but preferably I would like a matrix
> bl_func <- function() mapply(function(x, y, z) {
>   x[sample.int(y, z, replace = TRUE)]
> }, bl, nb, kn, SIMPLIFY = FALSE)
> 
> Best,
> 
> Chao
> ?
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From c@|@ndr@ @end|ng |rom rgzm@de  Wed Feb  3 10:42:16 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Wed, 3 Feb 2021 10:42:16 +0100
Subject: [R] md5sum issues
In-Reply-To: <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
Message-ID: <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>

Thank you Ivan and Duncan for your help.

I understand your point Duncan, but the thing is that I do have an issue 
here.
Is it then due to RStudio or even Windows? If it is, I can forget about 
a solution on that end, so I would focus on what I can do, and this Git 
setting seems to be the best place to start.

Or am I missing something (I am still a newbie on these things...)?

Ivan C

--
Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra

On 03/02/2021 10:06, Duncan Murdoch wrote:
> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>> On Tue, 2 Feb 2021 17:01:05 +0100
>> Ivan Calandra <calandra at rgzm.de> wrote:
>>
>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>> non-editable files (PDF, XLSX...).
>>
>> This is probably caused by Git helpfully converting text files from LF
>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>> repository clone on Windows (and back when checking in).
>>
>> This configuration option is described in Pro Git:
>> https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf 
>>
>
> I agree with Ivan K, but don't agree with the advice in that book.
>
> It's best to just leave files alone, not to convert between LF and 
> CR-LF.? I don't think this confuses many Windows editors these days, 
> but if your editor forces files into CR-LF form, you should fix the 
> editor, not try to work around it.
>
> In my opinion everyone should run
>
> ?git config --global core.autocrlf false
>
> Some more arguments for this (in the context of Github Actions) are here:
>
>
> https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140 
>
>
> Duncan Murdoch
>
>
>
>
>


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb  3 11:48:56 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 3 Feb 2021 05:48:56 -0500
Subject: [R] md5sum issues
In-Reply-To: <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
Message-ID: <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>

On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
> Thank you Ivan and Duncan for your help.
> 
> I understand your point Duncan, but the thing is that I do have an issue
> here.
> Is it then due to RStudio or even Windows? If it is, I can forget about
> a solution on that end, so I would focus on what I can do, and this Git
> setting seems to be the best place to start.

In my opinion, you should run

  git config --global core.autocrlf false

in an RStudio terminal session.  That will set the git options so they 
don't mess up the md5sum values.

You should also go to the RStudio options, and in the Code section, 
Saving tab, choose Serialization to be Posix (LF) and default text 
encoding to be UTF-8.

Unfortunately, RStudio will still mess up the .Rproj file (see 
https://github.com/rstudio/rstudio/issues/1929); there's not much you 
can do about that.  Just try not to commit the Windows version to the 
repository if any non-Windows users are sharing it.

But do note that other people have different opinions.  They argue that 
files should be converted to Windows native format by git.  That works 
in some narrow use cases, but as soon as you try to extract a file from 
git on one system and work on it on another, it breaks.

Duncan Murdoch


> 
> Or am I missing something (I am still a newbie on these things...)?
> 
> Ivan C
> 
> --
> Dr. Ivan Calandra
> TraCEr, laboratory for Traceology and Controlled Experiments
> MONREPOS Archaeological Research Centre and
> Museum for Human Behavioural Evolution
> Schloss Monrepos
> 56567 Neuwied, Germany
> +49 (0) 2631 9772-243
> https://www.researchgate.net/profile/Ivan_Calandra
> 
> On 03/02/2021 10:06, Duncan Murdoch wrote:
>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>
>>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>>> non-editable files (PDF, XLSX...).
>>>
>>> This is probably caused by Git helpfully converting text files from LF
>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>> repository clone on Windows (and back when checking in).
>>>
>>> This configuration option is described in Pro Git:
>>> https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf
>>>
>>
>> I agree with Ivan K, but don't agree with the advice in that book.
>>
>> It's best to just leave files alone, not to convert between LF and
>> CR-LF.? I don't think this confuses many Windows editors these days,
>> but if your editor forces files into CR-LF form, you should fix the
>> editor, not try to work around it.
>>
>> In my opinion everyone should run
>>
>>  ?git config --global core.autocrlf false
>>
>> Some more arguments for this (in the context of Github Actions) are here:
>>
>>
>> https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140
>>
>>
>> Duncan Murdoch
>>
>>
>>
>>
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From c@|@ndr@ @end|ng |rom rgzm@de  Wed Feb  3 11:55:20 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Wed, 3 Feb 2021 11:55:20 +0100
Subject: [R] md5sum issues
In-Reply-To: <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
Message-ID: <a86ff5fc-2e69-aa07-abbc-c24fcfa64cf3@rgzm.de>

Thank you very much Duncan for your help. I'll try that.

Best,
Ivan

--
Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra

On 03/02/2021 11:48, Duncan Murdoch wrote:
> In my opinion, you should run
>
> ?git config --global core.autocrlf false
>
> in an RStudio terminal session.? That will set the git options so they 
> don't mess up the md5sum values.
>
> You should also go to the RStudio options, and in the Code section, 
> Saving tab, choose Serialization to be Posix (LF) and default text 
> encoding to be UTF-8.
>
> Unfortunately, RStudio will still mess up the .Rproj file (see 
> https://github.com/rstudio/rstudio/issues/1929); there's not much you 
> can do about that.? Just try not to commit the Windows version to the 
> repository if any non-Windows users are sharing it.
>
> But do note that other people have different opinions.? They argue 
> that files should be converted to Windows native format by git. That 
> works in some narrow use cases, but as soon as you try to extract a 
> file from git on one system and work on it on another, it breaks.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Feb  3 17:15:16 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 03 Feb 2021 08:15:16 -0800
Subject: [R] md5sum issues
In-Reply-To: <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
Message-ID: <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>

This CR vs LF vs CRLF newline discrepancy has been around since the 70s and the CP/M operating system. And it remains an issue in over-the-wire internet text protocols today, which actually use the CRLF version like Windows. Sorry, UNIX... world domination of LF encoding failed.

The problem with pretending there is no issue as Duncan is advocating is that text is treated differently than binary, and every time you pretend it isn't it comes back to bite you. Applying binary algorithms like MD5 to text is one of these areas where your expectation that this will be successful is what creates the problem in the first place. A similar issue occurs in file encoding.. two files may both contain the word "Hello" but if they are encoded in UCS16 and UTF8 respectively then the MD5 results will be different.

Git does not (currently) support differences in encoding, but it does support text vs non-text (newline) differences because they are unavoidable. Pushing forward with your expectation that text files should compare the same in binary by assuming text will always be like UNIX text just defers the problem for another day.

Since I don't know what problem you are actually trying to solve, I cannot offer a concrete solution. But I would begin by not assuming that MD5 works the same on text and binary files... because it doesn't.

On February 3, 2021 2:48:56 AM PST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
>> Thank you Ivan and Duncan for your help.
>> 
>> I understand your point Duncan, but the thing is that I do have an
>issue
>> here.
>> Is it then due to RStudio or even Windows? If it is, I can forget
>about
>> a solution on that end, so I would focus on what I can do, and this
>Git
>> setting seems to be the best place to start.
>
>In my opinion, you should run
>
>  git config --global core.autocrlf false
>
>in an RStudio terminal session.  That will set the git options so they 
>don't mess up the md5sum values.
>
>You should also go to the RStudio options, and in the Code section, 
>Saving tab, choose Serialization to be Posix (LF) and default text 
>encoding to be UTF-8.
>
>Unfortunately, RStudio will still mess up the .Rproj file (see 
>https://github.com/rstudio/rstudio/issues/1929); there's not much you 
>can do about that.  Just try not to commit the Windows version to the 
>repository if any non-Windows users are sharing it.
>
>But do note that other people have different opinions.  They argue that
>
>files should be converted to Windows native format by git.  That works 
>in some narrow use cases, but as soon as you try to extract a file from
>
>git on one system and work on it on another, it breaks.
>
>Duncan Murdoch
>
>
>> 
>> Or am I missing something (I am still a newbie on these things...)?
>> 
>> Ivan C
>> 
>> --
>> Dr. Ivan Calandra
>> TraCEr, laboratory for Traceology and Controlled Experiments
>> MONREPOS Archaeological Research Centre and
>> Museum for Human Behavioural Evolution
>> Schloss Monrepos
>> 56567 Neuwied, Germany
>> +49 (0) 2631 9772-243
>> https://www.researchgate.net/profile/Ivan_Calandra
>> 
>> On 03/02/2021 10:06, Duncan Murdoch wrote:
>>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>>
>>>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>>>> non-editable files (PDF, XLSX...).
>>>>
>>>> This is probably caused by Git helpfully converting text files from
>LF
>>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>>> repository clone on Windows (and back when checking in).
>>>>
>>>> This configuration option is described in Pro Git:
>>>>
>https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf
>>>>
>>>
>>> I agree with Ivan K, but don't agree with the advice in that book.
>>>
>>> It's best to just leave files alone, not to convert between LF and
>>> CR-LF.? I don't think this confuses many Windows editors these days,
>>> but if your editor forces files into CR-LF form, you should fix the
>>> editor, not try to work around it.
>>>
>>> In my opinion everyone should run
>>>
>>>  ?git config --global core.autocrlf false
>>>
>>> Some more arguments for this (in the context of Github Actions) are
>here:
>>>
>>>
>>>
>https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140
>>>
>>>
>>> Duncan Murdoch
>>>
>>>
>>>
>>>
>>>
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From c@|@ndr@ @end|ng |rom rgzm@de  Wed Feb  3 17:25:33 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Wed, 3 Feb 2021 17:25:33 +0100
Subject: [R] md5sum issues
In-Reply-To: <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
 <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
Message-ID: <bee9c10d-0fe5-072a-134c-6911bb5b2476@rgzm.de>

Dear Jeff,

If I understood you correctly, it makes sense that I explain more about 
my goal here:

I am trying to find ways to have analyses that are as reproducible as 
possible (knowing that it is not going to be perfect). One part is to 
show which file(s) I use as input and what output was created, so that 
potential readers/users of my analysis can check that the file they have 
is indeed the same that I use (and not a corrupted or modified version).
Does that make sense?

And for this purpose, I originally used file information (like creation 
time and so on), but I quickly realized this doesn't help much. Then I 
tried with MD5 and I thought it was solved, but it was obviously not solved.

Duncan solution seems to work (I have not fully checked yet, though), 
but I am really open to other, more robust alternatives.

Thanks for the input!
Ivan

--
Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra

On 03/02/2021 17:15, Jeff Newmiller wrote:
> This CR vs LF vs CRLF newline discrepancy has been around since the 70s and the CP/M operating system. And it remains an issue in over-the-wire internet text protocols today, which actually use the CRLF version like Windows. Sorry, UNIX... world domination of LF encoding failed.
>
> The problem with pretending there is no issue as Duncan is advocating is that text is treated differently than binary, and every time you pretend it isn't it comes back to bite you. Applying binary algorithms like MD5 to text is one of these areas where your expectation that this will be successful is what creates the problem in the first place. A similar issue occurs in file encoding.. two files may both contain the word "Hello" but if they are encoded in UCS16 and UTF8 respectively then the MD5 results will be different.
>
> Git does not (currently) support differences in encoding, but it does support text vs non-text (newline) differences because they are unavoidable. Pushing forward with your expectation that text files should compare the same in binary by assuming text will always be like UNIX text just defers the problem for another day.
>
> Since I don't know what problem you are actually trying to solve, I cannot offer a concrete solution. But I would begin by not assuming that MD5 works the same on text and binary files... because it doesn't.
>
> On February 3, 2021 2:48:56 AM PST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>> On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
>>> Thank you Ivan and Duncan for your help.
>>>
>>> I understand your point Duncan, but the thing is that I do have an
>> issue
>>> here.
>>> Is it then due to RStudio or even Windows? If it is, I can forget
>> about
>>> a solution on that end, so I would focus on what I can do, and this
>> Git
>>> setting seems to be the best place to start.
>> In my opinion, you should run
>>
>>   git config --global core.autocrlf false
>>
>> in an RStudio terminal session.  That will set the git options so they
>> don't mess up the md5sum values.
>>
>> You should also go to the RStudio options, and in the Code section,
>> Saving tab, choose Serialization to be Posix (LF) and default text
>> encoding to be UTF-8.
>>
>> Unfortunately, RStudio will still mess up the .Rproj file (see
>> https://github.com/rstudio/rstudio/issues/1929); there's not much you
>> can do about that.  Just try not to commit the Windows version to the
>> repository if any non-Windows users are sharing it.
>>
>> But do note that other people have different opinions.  They argue that
>>
>> files should be converted to Windows native format by git.  That works
>> in some narrow use cases, but as soon as you try to extract a file from
>>
>> git on one system and work on it on another, it breaks.
>>
>> Duncan Murdoch
>>
>>
>>> Or am I missing something (I am still a newbie on these things...)?
>>>
>>> Ivan C
>>>
>>> --
>>> Dr. Ivan Calandra
>>> TraCEr, laboratory for Traceology and Controlled Experiments
>>> MONREPOS Archaeological Research Centre and
>>> Museum for Human Behavioural Evolution
>>> Schloss Monrepos
>>> 56567 Neuwied, Germany
>>> +49 (0) 2631 9772-243
>>> https://www.researchgate.net/profile/Ivan_Calandra
>>>
>>> On 03/02/2021 10:06, Duncan Murdoch wrote:
>>>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>>>
>>>>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>>>>> non-editable files (PDF, XLSX...).
>>>>> This is probably caused by Git helpfully converting text files from
>> LF
>>>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>>>> repository clone on Windows (and back when checking in).
>>>>>
>>>>> This configuration option is described in Pro Git:
>>>>>
>> https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf
>>>> I agree with Ivan K, but don't agree with the advice in that book.
>>>>
>>>> It's best to just leave files alone, not to convert between LF and
>>>> CR-LF.? I don't think this confuses many Windows editors these days,
>>>> but if your editor forces files into CR-LF form, you should fix the
>>>> editor, not try to work around it.
>>>>
>>>> In my opinion everyone should run
>>>>
>>>>   ?git config --global core.autocrlf false
>>>>
>>>> Some more arguments for this (in the context of Github Actions) are
>> here:
>>>>
>>>>
>> https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140
>>>>
>>>> Duncan Murdoch
>>>>
>>>>
>>>>
>>>>
>>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb  3 18:02:47 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 3 Feb 2021 12:02:47 -0500
Subject: [R] md5sum issues
In-Reply-To: <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
 <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
Message-ID: <1a9495fa-9ad5-4084-203b-123f2f67aaf0@gmail.com>

On 03/02/2021 11:15 a.m., Jeff Newmiller wrote:
> This CR vs LF vs CRLF newline discrepancy has been around since the 70s and the CP/M operating system. And it remains an issue in over-the-wire internet text protocols today, which actually use the CRLF version like Windows. Sorry, UNIX... world domination of LF encoding failed.
> 
> The problem with pretending there is no issue as Duncan is advocating 

That misrepresents my position.  Obviously there's an issue.  I'm 
suggesting a simple solution.

Duncan Murdoch

is that text is treated differently than binary, and every time you 
pretend it isn't it comes back to bite you. Applying binary algorithms 
like MD5 to text is one of these areas where your expectation that this 
will be successful is what creates the problem in the first place. A 
similar issue occurs in file encoding.. two files may both contain the 
word "Hello" but if they are encoded in UCS16 and UTF8 respectively then 
the MD5 results will be different.
> 
> Git does not (currently) support differences in encoding, but it does support text vs non-text (newline) differences because they are unavoidable. Pushing forward with your expectation that text files should compare the same in binary by assuming text will always be like UNIX text just defers the problem for another day.
> 
> Since I don't know what problem you are actually trying to solve, I cannot offer a concrete solution. But I would begin by not assuming that MD5 works the same on text and binary files... because it doesn't.
> 
> On February 3, 2021 2:48:56 AM PST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>> On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
>>> Thank you Ivan and Duncan for your help.
>>>
>>> I understand your point Duncan, but the thing is that I do have an
>> issue
>>> here.
>>> Is it then due to RStudio or even Windows? If it is, I can forget
>> about
>>> a solution on that end, so I would focus on what I can do, and this
>> Git
>>> setting seems to be the best place to start.
>>
>> In my opinion, you should run
>>
>>   git config --global core.autocrlf false
>>
>> in an RStudio terminal session.  That will set the git options so they
>> don't mess up the md5sum values.
>>
>> You should also go to the RStudio options, and in the Code section,
>> Saving tab, choose Serialization to be Posix (LF) and default text
>> encoding to be UTF-8.
>>
>> Unfortunately, RStudio will still mess up the .Rproj file (see
>> https://github.com/rstudio/rstudio/issues/1929); there's not much you
>> can do about that.  Just try not to commit the Windows version to the
>> repository if any non-Windows users are sharing it.
>>
>> But do note that other people have different opinions.  They argue that
>>
>> files should be converted to Windows native format by git.  That works
>> in some narrow use cases, but as soon as you try to extract a file from
>>
>> git on one system and work on it on another, it breaks.
>>
>> Duncan Murdoch
>>
>>
>>>
>>> Or am I missing something (I am still a newbie on these things...)?
>>>
>>> Ivan C
>>>
>>> --
>>> Dr. Ivan Calandra
>>> TraCEr, laboratory for Traceology and Controlled Experiments
>>> MONREPOS Archaeological Research Centre and
>>> Museum for Human Behavioural Evolution
>>> Schloss Monrepos
>>> 56567 Neuwied, Germany
>>> +49 (0) 2631 9772-243
>>> https://www.researchgate.net/profile/Ivan_Calandra
>>>
>>> On 03/02/2021 10:06, Duncan Murdoch wrote:
>>>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>>>
>>>>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>>>>> non-editable files (PDF, XLSX...).
>>>>>
>>>>> This is probably caused by Git helpfully converting text files from
>> LF
>>>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>>>> repository clone on Windows (and back when checking in).
>>>>>
>>>>> This configuration option is described in Pro Git:
>>>>>
>> https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf
>>>>>
>>>>
>>>> I agree with Ivan K, but don't agree with the advice in that book.
>>>>
>>>> It's best to just leave files alone, not to convert between LF and
>>>> CR-LF.? I don't think this confuses many Windows editors these days,
>>>> but if your editor forces files into CR-LF form, you should fix the
>>>> editor, not try to work around it.
>>>>
>>>> In my opinion everyone should run
>>>>
>>>>   ?git config --global core.autocrlf false
>>>>
>>>> Some more arguments for this (in the context of Github Actions) are
>> here:
>>>>
>>>>
>>>>
>> https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140
>>>>
>>>>
>>>> Duncan Murdoch
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Feb  3 18:05:49 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 03 Feb 2021 09:05:49 -0800
Subject: [R] md5sum issues
In-Reply-To: <bee9c10d-0fe5-072a-134c-6911bb5b2476@rgzm.de>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
 <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
 <bee9c10d-0fe5-072a-134c-6911bb5b2476@rgzm.de>
Message-ID: <BFB06817-D0D3-4539-980C-2D157C937C2E@dcn.davis.ca.us>

Well, you can use binary input files like RDS, qs, or parquet. But you already have your code and data in Git, so checking your input is redundant... just put in a binary output reference file and a test that verifies it.

On February 3, 2021 8:25:33 AM PST, Ivan Calandra <calandra at rgzm.de> wrote:
>Dear Jeff,
>
>If I understood you correctly, it makes sense that I explain more about
>
>my goal here:
>
>I am trying to find ways to have analyses that are as reproducible as 
>possible (knowing that it is not going to be perfect). One part is to 
>show which file(s) I use as input and what output was created, so that 
>potential readers/users of my analysis can check that the file they
>have 
>is indeed the same that I use (and not a corrupted or modified
>version).
>Does that make sense?
>
>And for this purpose, I originally used file information (like creation
>
>time and so on), but I quickly realized this doesn't help much. Then I 
>tried with MD5 and I thought it was solved, but it was obviously not
>solved.
>
>Duncan solution seems to work (I have not fully checked yet, though), 
>but I am really open to other, more robust alternatives.
>
>Thanks for the input!
>Ivan
>
>--
>Dr. Ivan Calandra
>TraCEr, laboratory for Traceology and Controlled Experiments
>MONREPOS Archaeological Research Centre and
>Museum for Human Behavioural Evolution
>Schloss Monrepos
>56567 Neuwied, Germany
>+49 (0) 2631 9772-243
>https://www.researchgate.net/profile/Ivan_Calandra
>
>On 03/02/2021 17:15, Jeff Newmiller wrote:
>> This CR vs LF vs CRLF newline discrepancy has been around since the
>70s and the CP/M operating system. And it remains an issue in
>over-the-wire internet text protocols today, which actually use the
>CRLF version like Windows. Sorry, UNIX... world domination of LF
>encoding failed.
>>
>> The problem with pretending there is no issue as Duncan is advocating
>is that text is treated differently than binary, and every time you
>pretend it isn't it comes back to bite you. Applying binary algorithms
>like MD5 to text is one of these areas where your expectation that this
>will be successful is what creates the problem in the first place. A
>similar issue occurs in file encoding.. two files may both contain the
>word "Hello" but if they are encoded in UCS16 and UTF8 respectively
>then the MD5 results will be different.
>>
>> Git does not (currently) support differences in encoding, but it does
>support text vs non-text (newline) differences because they are
>unavoidable. Pushing forward with your expectation that text files
>should compare the same in binary by assuming text will always be like
>UNIX text just defers the problem for another day.
>>
>> Since I don't know what problem you are actually trying to solve, I
>cannot offer a concrete solution. But I would begin by not assuming
>that MD5 works the same on text and binary files... because it doesn't.
>>
>> On February 3, 2021 2:48:56 AM PST, Duncan Murdoch
><murdoch.duncan at gmail.com> wrote:
>>> On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
>>>> Thank you Ivan and Duncan for your help.
>>>>
>>>> I understand your point Duncan, but the thing is that I do have an
>>> issue
>>>> here.
>>>> Is it then due to RStudio or even Windows? If it is, I can forget
>>> about
>>>> a solution on that end, so I would focus on what I can do, and this
>>> Git
>>>> setting seems to be the best place to start.
>>> In my opinion, you should run
>>>
>>>   git config --global core.autocrlf false
>>>
>>> in an RStudio terminal session.  That will set the git options so
>they
>>> don't mess up the md5sum values.
>>>
>>> You should also go to the RStudio options, and in the Code section,
>>> Saving tab, choose Serialization to be Posix (LF) and default text
>>> encoding to be UTF-8.
>>>
>>> Unfortunately, RStudio will still mess up the .Rproj file (see
>>> https://github.com/rstudio/rstudio/issues/1929); there's not much
>you
>>> can do about that.  Just try not to commit the Windows version to
>the
>>> repository if any non-Windows users are sharing it.
>>>
>>> But do note that other people have different opinions.  They argue
>that
>>>
>>> files should be converted to Windows native format by git.  That
>works
>>> in some narrow use cases, but as soon as you try to extract a file
>from
>>>
>>> git on one system and work on it on another, it breaks.
>>>
>>> Duncan Murdoch
>>>
>>>
>>>> Or am I missing something (I am still a newbie on these things...)?
>>>>
>>>> Ivan C
>>>>
>>>> --
>>>> Dr. Ivan Calandra
>>>> TraCEr, laboratory for Traceology and Controlled Experiments
>>>> MONREPOS Archaeological Research Centre and
>>>> Museum for Human Behavioural Evolution
>>>> Schloss Monrepos
>>>> 56567 Neuwied, Germany
>>>> +49 (0) 2631 9772-243
>>>> https://www.researchgate.net/profile/Ivan_Calandra
>>>>
>>>> On 03/02/2021 10:06, Duncan Murdoch wrote:
>>>>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>>>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>>>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>>>>
>>>>>>> This happens to all text-based files (Rmd, MD, CSV...) but not
>to
>>>>>>> non-editable files (PDF, XLSX...).
>>>>>> This is probably caused by Git helpfully converting text files
>from
>>> LF
>>>>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>>>>> repository clone on Windows (and back when checking in).
>>>>>>
>>>>>> This configuration option is described in Pro Git:
>>>>>>
>>>
>https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf
>>>>> I agree with Ivan K, but don't agree with the advice in that book.
>>>>>
>>>>> It's best to just leave files alone, not to convert between LF and
>>>>> CR-LF.? I don't think this confuses many Windows editors these
>days,
>>>>> but if your editor forces files into CR-LF form, you should fix
>the
>>>>> editor, not try to work around it.
>>>>>
>>>>> In my opinion everyone should run
>>>>>
>>>>>   ?git config --global core.autocrlf false
>>>>>
>>>>> Some more arguments for this (in the context of Github Actions)
>are
>>> here:
>>>>>
>>>>>
>>>
>https://github.community/t/git-config-core-autocrlf-should-default-to-false/16140
>>>>>
>>>>> Duncan Murdoch
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From c@|@ndr@ @end|ng |rom rgzm@de  Thu Feb  4 10:04:54 2021
From: c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Thu, 4 Feb 2021 10:04:54 +0100
Subject: [R] md5sum issues
In-Reply-To: <BN6PR2201MB1553BA63B953880251A4E14ACFB49@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <59c03413-44f8-e142-8958-a5a95943e1d9@rgzm.de>
 <20210203101414.4efa99b8@Tarkus>
 <0743a7cd-37f3-a5d1-d571-06a12b7931e3@gmail.com>
 <318f6202-379f-0baf-15b9-b6271e52cfab@rgzm.de>
 <71a76250-b455-6bd0-0243-d6f5700ee904@gmail.com>
 <0777E250-A553-48E9-89B5-07EE6D47C2BC@dcn.davis.ca.us>
 <bee9c10d-0fe5-072a-134c-6911bb5b2476@rgzm.de>
 <BN6PR2201MB1553BA63B953880251A4E14ACFB49@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <7dca6226-1623-fe27-ae4c-8adcd356d028@rgzm.de>

Dear Tim, Jeff, Duncan and Ivan,

Thank you all for your input! Actually, I am already doing what Tim 
suggested, and as Jeff said, using the checksums is redundant since I 
use Git already (which does a better job).

So I've decided to just remove the checksums from my scripts, and to 
revert the RStudio settings to default but use `git config --global 
core.autocrlf true` as mentioned in the Git guide for better 
compatibility with other platforms. I might change that in the future 
but I prefer adjusting Git rather than RStudio because I do not only use 
RStudio (I use it for R, but not necessarily or exclusively for other 
projects).

Best wishes,
Ivan

--
Dr. Ivan Calandra
TraCEr, laboratory for Traceology and Controlled Experiments
MONREPOS Archaeological Research Centre and
Museum for Human Behavioural Evolution
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra

On 03/02/2021 18:07, Ebert,Timothy Aaron wrote:
> Dear Ivan,
> Why not put your data file and analysis program into one folder and then provide enough description (including raw output) to enable someone to run the program (a read me file). This includes all the packages loaded into your version of R, file names, file types, and the logic behind the program. The raw output will help people check that their version is working (as you have indicated). If your data or results are critical then someone will figure out an update to keep things working on the computers of the future. Good documentation and labeling is a better path to long term reproducibility than trying to make everything generic. I tend to add documentation within a program as much as writing separate read me files.
>     R lends itself to this paradigm more than others, but many programs require that the person first have a copy of some proprietary software. I am not about to buy SPSS, but I will agree on principle that the SPSS code represents reproducible science. If I really care I will translate the SPSS code into a language that I can use.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Ivan Calandra
> Sent: Wednesday, February 3, 2021 11:26 AM
> To: r-help at r-project.org
> Subject: Re: [R] md5sum issues
>
> [External Email]
>
> Dear Jeff,
>
> If I understood you correctly, it makes sense that I explain more about my goal here:
>
> I am trying to find ways to have analyses that are as reproducible as possible (knowing that it is not going to be perfect). One part is to show which file(s) I use as input and what output was created, so that potential readers/users of my analysis can check that the file they have is indeed the same that I use (and not a corrupted or modified version).
> Does that make sense?
>
> And for this purpose, I originally used file information (like creation time and so on), but I quickly realized this doesn't help much. Then I tried with MD5 and I thought it was solved, but it was obviously not solved.
>
> Duncan solution seems to work (I have not fully checked yet, though), but I am really open to other, more robust alternatives.
>
> Thanks for the input!
> Ivan
>
> --
> Dr. Ivan Calandra
> TraCEr, laboratory for Traceology and Controlled Experiments MONREPOS Archaeological Research Centre and Museum for Human Behavioural Evolution Schloss Monrepos
> 56567 Neuwied, Germany
> +49 (0) 2631 9772-243
> https://urldefense.proofpoint.com/v2/url?u=https-3A__www.researchgate.net_profile_Ivan-5FCalandra&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=EiZdNX4gKQm1kXIBD7w1MyjaAT7f3s-tk9mpNNCKW2U&e=
>
> On 03/02/2021 17:15, Jeff Newmiller wrote:
>> This CR vs LF vs CRLF newline discrepancy has been around since the 70s and the CP/M operating system. And it remains an issue in over-the-wire internet text protocols today, which actually use the CRLF version like Windows. Sorry, UNIX... world domination of LF encoding failed.
>>
>> The problem with pretending there is no issue as Duncan is advocating is that text is treated differently than binary, and every time you pretend it isn't it comes back to bite you. Applying binary algorithms like MD5 to text is one of these areas where your expectation that this will be successful is what creates the problem in the first place. A similar issue occurs in file encoding.. two files may both contain the word "Hello" but if they are encoded in UCS16 and UTF8 respectively then the MD5 results will be different.
>>
>> Git does not (currently) support differences in encoding, but it does support text vs non-text (newline) differences because they are unavoidable. Pushing forward with your expectation that text files should compare the same in binary by assuming text will always be like UNIX text just defers the problem for another day.
>>
>> Since I don't know what problem you are actually trying to solve, I cannot offer a concrete solution. But I would begin by not assuming that MD5 works the same on text and binary files... because it doesn't.
>>
>> On February 3, 2021 2:48:56 AM PST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>> On 03/02/2021 4:42 a.m., Ivan Calandra wrote:
>>>> Thank you Ivan and Duncan for your help.
>>>>
>>>> I understand your point Duncan, but the thing is that I do have an
>>> issue
>>>> here.
>>>> Is it then due to RStudio or even Windows? If it is, I can forget
>>> about
>>>> a solution on that end, so I would focus on what I can do, and this
>>> Git
>>>> setting seems to be the best place to start.
>>> In my opinion, you should run
>>>
>>>    git config --global core.autocrlf false
>>>
>>> in an RStudio terminal session.  That will set the git options so
>>> they don't mess up the md5sum values.
>>>
>>> You should also go to the RStudio options, and in the Code section,
>>> Saving tab, choose Serialization to be Posix (LF) and default text
>>> encoding to be UTF-8.
>>>
>>> Unfortunately, RStudio will still mess up the .Rproj file (see
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_rstud
>>> io_rstudio_issues_1929&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVe
>>> AsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=ruLgGdq-VfeMEeCAbfLgxe2bq6rlBB_wvO_A40iyuFk&e= ); there's not much you can do about that.  Just try not to commit the Windows version to the repository if any non-Windows users are sharing it.
>>>
>>> But do note that other people have different opinions.  They argue
>>> that
>>>
>>> files should be converted to Windows native format by git.  That
>>> works in some narrow use cases, but as soon as you try to extract a
>>> file from
>>>
>>> git on one system and work on it on another, it breaks.
>>>
>>> Duncan Murdoch
>>>
>>>
>>>> Or am I missing something (I am still a newbie on these things...)?
>>>>
>>>> Ivan C
>>>>
>>>> --
>>>> Dr. Ivan Calandra
>>>> TraCEr, laboratory for Traceology and Controlled Experiments
>>>> MONREPOS Archaeological Research Centre and Museum for Human
>>>> Behavioural Evolution Schloss Monrepos
>>>> 56567 Neuwied, Germany
>>>> +49 (0) 2631 9772-243
>>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__www.researchgat
>>>> e.net_profile_Ivan-5FCalandra&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9P
>>>> EhQh2kVeAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s
>>>> =EiZdNX4gKQm1kXIBD7w1MyjaAT7f3s-tk9mpNNCKW2U&e=
>>>>
>>>> On 03/02/2021 10:06, Duncan Murdoch wrote:
>>>>> On 03/02/2021 2:14 a.m., Ivan Krylov wrote:
>>>>>> On Tue, 2 Feb 2021 17:01:05 +0100
>>>>>> Ivan Calandra <calandra at rgzm.de> wrote:
>>>>>>
>>>>>>> This happens to all text-based files (Rmd, MD, CSV...) but not to
>>>>>>> non-editable files (PDF, XLSX...).
>>>>>> This is probably caused by Git helpfully converting text files
>>>>>> from
>>> LF
>>>>>> (0x10) line endings to CR LF (0x13 0x10) when checking out the
>>>>>> repository clone on Windows (and back when checking in).
>>>>>>
>>>>>> This configuration option is described in Pro Git:
>>>>>>
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__git-2Dscm.com_bo
>>> ok_en_v2_Customizing-2DGit-2DGit-2DConfiguration-23-5Fcore-5Fautocrlf
>>> &d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=ibNvoty
>>> I5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=ZRHfdIX9MHy0op06VvZuG01oy2zYte
>>> 5uCSDnCUmwQfk&e=
>>>>> I agree with Ivan K, but don't agree with the advice in that book.
>>>>>
>>>>> It's best to just leave files alone, not to convert between LF and
>>>>> CR-LF.  I don't think this confuses many Windows editors these
>>>>> days, but if your editor forces files into CR-LF form, you should
>>>>> fix the editor, not try to work around it.
>>>>>
>>>>> In my opinion everyone should run
>>>>>
>>>>>     git config --global core.autocrlf false
>>>>>
>>>>> Some more arguments for this (in the context of Github Actions) are
>>> here:
>>>>>
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__github.community
>>> _t_git-2Dconfig-2Dcore-2Dautocrlf-2Dshould-2Ddefault-2Dto-2Dfalse_161
>>> 40&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=ibNvo
>>> tyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=unUVOo2qDSwSwD9el-0TZK15ERlM
>>> sU-fmqQ7TQ36LxE&e=
>>>>> Duncan Murdoch
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_ma
>>>> ilman_listinfo_r-2Dhelp&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2k
>>>> VeAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=65-81
>>>> xtWqRiX3c1BKHs8sst32wKQHJ4tdVabERDDGnE&e=
>>>> PLEASE do read the posting guide
>>> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.o
>>> rg_posting-2Dguide.html&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kV
>>> eAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=m215LP3
>>> f7naPvS2_dxjXoVfkxhuWcn3VpBDGrGlhKmY&e=
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mai
>>> lman_listinfo_r-2Dhelp&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVe
>>> AsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=65-81xtW
>>> qRiX3c1BKHs8sst32wKQHJ4tdVabERDDGnE&e=
>>> PLEASE do read the posting guide
>>> https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.o
>>> rg_posting-2Dguide.html&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kV
>>> eAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=m215LP3
>>> f7naPvS2_dxjXoVfkxhuWcn3VpBDGrGlhKmY&e=
>>> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=65-81xtWqRiX3c1BKHs8sst32wKQHJ4tdVabERDDGnE&e=
> PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwIDaQ&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=ibNvotyI5H_gn8tI80BOPNvA_3I0hXaKn8B38TS_yLY&s=m215LP3f7naPvS2_dxjXoVfkxhuWcn3VpBDGrGlhKmY&e=
> and provide commented, minimal, self-contained, reproducible code.


From neh@@bo|ogn@90 @end|ng |rom gm@||@com  Thu Feb  4 16:32:56 2021
From: neh@@bo|ogn@90 @end|ng |rom gm@||@com (Neha gupta)
Date: Thu, 4 Feb 2021 16:32:56 +0100
Subject: [R] Different files for train and test data
Message-ID: <CA+nrPnu4H2bowZgWo7U1XpASZdoq95_q0WO80NbVBLpnq7m=Rw@mail.gmail.com>

Hi

I have two files of my data: part1 and part2. I used part1 to train and
test my data and got the RMSE value. Now I need to compare my obtained
result (RMSE value) with unseen data i.e. part2 of data. How can I use the
same training data of part1 and part2 data as test data.

I am using caret package.

d=readARFF("part1.arff")
index <- createDataPartition(d$price, p = .70,list = FALSE)
tr <- d[index, ]
ts <- d[-index, ]
......
.....
.....
.....
model <-train(price ~ ., data = tr,
method = "nnet",
metric = "RMSE",
trControl = ctr)

	[[alternative HTML version deleted]]


From p@ych@o||u @end|ng |rom gm@||@com  Thu Feb  4 17:03:51 2021
From: p@ych@o||u @end|ng |rom gm@||@com (Chao Liu)
Date: Thu, 4 Feb 2021 11:03:51 -0500
Subject: [R] Alternative to mapply to select samples
In-Reply-To: <87b6a1a54f4b4d05ad4b40cd4c8a1d9c@SRVEXCHCM1302.precheza.cz>
References: <CACCU-vMyrs2A+9Vfmk4COXDozCrFT_RhG5p1k3ZHtibg_RQNfw@mail.gmail.com>
 <87b6a1a54f4b4d05ad4b40cd4c8a1d9c@SRVEXCHCM1302.precheza.cz>
Message-ID: <CACCU-vOr7f+cZaeXHitLEcM4hW3S=P=0qekENyF8JLtZgBBKWg@mail.gmail.com>

Thank you for your input, Petr. I will give it a try.

Best,

Chao
?

On Wed, Feb 3, 2021 at 4:32 AM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hi
>
> I am not sure if I understand your function but simple mapply gives you
> probably the same result and may be quicker.
>
> > set.seed(111)
> > blf <- bl_func()
> > set.seed(111)
> > blm <- mapply(sample, bl, kn, replace=TRUE)
> > all.equal(blf, blm)
> [1] TRUE
>
> > Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Chao Liu
> > Sent: Tuesday, February 2, 2021 3:32 PM
> > To: r-help <r-help at r-project.org>
> > Subject: [R] Alternative to mapply to select samples
> >
> > Dear R-Help,
> >
> > I created a mapply function to select samples from a dataset but are
> there
> > any faster ways to do it by avoiding mapply because it is slow and I
> have a
> > larger dataset? My goal is to use more matrix / vector operations and
> less
> > in terms of lists (the format of the output can be flexible). Ideally, I
> > would like to stick to base R methods without the aid of parallel process
> > or packages. Any ideas will be appreciated!
> >
> > #A list of a set of data to be selected
> > bl <- list(list(c(1, 2),c(2, 3), c(3, 4), c(4, 5), c(5, 6), c(6, 7), c(7,
> > 8), c(8, 9)),
> >          list(c(1, 2, 3), c(2, 3, 4), c(3, 4, 5), c(4, 5, 6), c(5, 6, 7),
> > c(6, 7, 8)),
> >          list(c(1, 2, 3, 4, 5), c(2, 3, 4, 5, 6), c(3, 4, 5, 6, 7), c(4,
> 5,
> > 6, 7, 8), c(5, 6, 7, 8, 9)))
> > #Number of elements to be selected
> > kn <- c(5, 4, 3)
> > #Total number of elements in each set
> > nb <- c(8, 6, 5)
> > #This output a list but preferably I would like a matrix
> > bl_func <- function() mapply(function(x, y, z) {
> >   x[sample.int(y, z, replace = TRUE)]
> > }, bl, nb, kn, SIMPLIFY = FALSE)
> >
> > Best,
> >
> > Chao
> > ?
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@hmood@n@der@n @end|ng |rom ugent@be  Thu Feb  4 14:07:02 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Thu, 4 Feb 2021 13:07:02 +0000
Subject: [R] Working with FactoMineR
Message-ID: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>

Hi,

I tried to run the HCPC example [1] in the online R [2], but got an error:



library(FactoMineR)
data(tea)
res.mca = MCA(tea, ncp=20, quanti.sup=19, quali.sup=c(20:36), graph=FALSE)
res.hcpc = HCPC(res.mca)



Result:

[1] "Click on the graph to cut the tree"
Error in while (coupe$y < min(t$tree$height)) { :
  argument is of length zero
Calls: HCPC
Execution halted


[1] "Click on the graph to cut the tree"

Error in while (coupe$y < min(t$tree$height)) { :

argument is of length zero

Calls: HCPC

Execution halted



May I know how to fix that?



[1] http://factominer.free.fr/factomethods/hierarchical-clustering-on-principal-components.html

[2] https://rdrr.io/snippets/


Regards,
Mahmood

	[[alternative HTML version deleted]]


From @rm@ndre@ @end|ng |rom gm@||@com  Thu Feb  4 18:36:03 2021
From: @rm@ndre@ @end|ng |rom gm@||@com (=?utf-8?B?QW5kcsOpcyBBcmFnw7Nu?=)
Date: Thu, 4 Feb 2021 11:36:03 -0600
Subject: [R] Working with FactoMineR
In-Reply-To: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>
References: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>
Message-ID: <A1A61E83-8086-4BD5-BEB5-8DBAA8DAEDBA@gmail.com>

Hi,

Could you send a sample of your data frame?

Andr?s



> El 4 feb 2021, a las 7:07, Mahmood Naderan-Tahan <mahmood.naderan at ugent.be> escribi?:
> 
> Hi,
> 
> I tried to run the HCPC example [1] in the online R [2], but got an error:
> 
> 
> 
> library(FactoMineR)
> data(tea)
> res.mca = MCA(tea, ncp=20, quanti.sup=19, quali.sup=c(20:36), graph=FALSE)
> res.hcpc = HCPC(res.mca)
> 
> 
> 
> Result:
> 
> [1] "Click on the graph to cut the tree"
> Error in while (coupe$y < min(t$tree$height)) { :
>  argument is of length zero
> Calls: HCPC
> Execution halted
> 
> 
> [1] "Click on the graph to cut the tree"
> 
> Error in while (coupe$y < min(t$tree$height)) { :
> 
> argument is of length zero
> 
> Calls: HCPC
> 
> Execution halted
> 
> 
> 
> May I know how to fix that?
> 
> 
> 
> [1] http://factominer.free.fr/factomethods/hierarchical-clustering-on-principal-components.html
> 
> [2] https://rdrr.io/snippets/
> 
> 
> Regards,
> Mahmood
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Thu Feb  4 19:06:21 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Thu, 4 Feb 2021 10:06:21 -0800
Subject: [R] Working with FactoMineR
In-Reply-To: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>
References: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>
Message-ID: <CAHqSRuRYbrW7usqYcnaRLHWjLKVJhWNFSnekFA0y0D8UoTT9eA@mail.gmail.com>

This will happen if you select no points when it asks you to 'click on
the graph' (to select the level at which to cut the tree).  On Windows
you can select no points by right clicking and selecting 'Stop' from
the menu that pops up.  RStudio may have a different way to select no
points.

-Bill

On Thu, Feb 4, 2021 at 9:04 AM Mahmood Naderan-Tahan
<mahmood.naderan at ugent.be> wrote:
>
> Hi,
>
> I tried to run the HCPC example [1] in the online R [2], but got an error:
>
>
>
> library(FactoMineR)
> data(tea)
> res.mca = MCA(tea, ncp=20, quanti.sup=19, quali.sup=c(20:36), graph=FALSE)
> res.hcpc = HCPC(res.mca)
>
>
>
> Result:
>
> [1] "Click on the graph to cut the tree"
> Error in while (coupe$y < min(t$tree$height)) { :
>   argument is of length zero
> Calls: HCPC
> Execution halted
>
>
> [1] "Click on the graph to cut the tree"
>
> Error in while (coupe$y < min(t$tree$height)) { :
>
> argument is of length zero
>
> Calls: HCPC
>
> Execution halted
>
>
>
> May I know how to fix that?
>
>
>
> [1] http://factominer.free.fr/factomethods/hierarchical-clustering-on-principal-components.html
>
> [2] https://rdrr.io/snippets/
>
>
> Regards,
> Mahmood
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m@hmood@n@der@n @end|ng |rom ugent@be  Thu Feb  4 20:45:17 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Thu, 4 Feb 2021 19:45:17 +0000
Subject: [R] Working with FactoMineR
In-Reply-To: <CAHqSRuRYbrW7usqYcnaRLHWjLKVJhWNFSnekFA0y0D8UoTT9eA@mail.gmail.com>
References: <d197ff24519d42deb7fd39f5ae89567d@ugent.be>,
 <CAHqSRuRYbrW7usqYcnaRLHWjLKVJhWNFSnekFA0y0D8UoTT9eA@mail.gmail.com>
Message-ID: <5276b7df6a2640c4a79cccdae124083d@ugent.be>

OK . Thanks for that.


Regards,
Mahmood

________________________________
From: Bill Dunlap <williamwdunlap at gmail.com>
Sent: Thursday, February 4, 2021 7:06:21 PM
To: Mahmood Naderan-Tahan
Cc: r-help at r-project.org
Subject: Re: [R] Working with FactoMineR

This will happen if you select no points when it asks you to 'click on
the graph' (to select the level at which to cut the tree).  On Windows
you can select no points by right clicking and selecting 'Stop' from
the menu that pops up.  RStudio may have a different way to select no
points.

-Bill

On Thu, Feb 4, 2021 at 9:04 AM Mahmood Naderan-Tahan
<mahmood.naderan at ugent.be> wrote:
>
> Hi,
>
> I tried to run the HCPC example [1] in the online R [2], but got an error:
>
>
>
> library(FactoMineR)
> data(tea)
> res.mca = MCA(tea, ncp=20, quanti.sup=19, quali.sup=c(20:36), graph=FALSE)
> res.hcpc = HCPC(res.mca)
>
>
>
> Result:
>
> [1] "Click on the graph to cut the tree"
> Error in while (coupe$y < min(t$tree$height)) { :
>   argument is of length zero
> Calls: HCPC
> Execution halted
>
>
> [1] "Click on the graph to cut the tree"
>
> Error in while (coupe$y < min(t$tree$height)) { :
>
> argument is of length zero
>
> Calls: HCPC
>
> Execution halted
>
>
>
> May I know how to fix that?
>
>
>
> [1] http://factominer.free.fr/factomethods/hierarchical-clustering-on-principal-components.html
>
> [2] https://rdrr.io/snippets/
>
>
> Regards,
> Mahmood
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From |@heemj@n93 @end|ng |rom y@hoo@com  Thu Feb  4 21:08:22 2021
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Thu, 4 Feb 2021 20:08:22 +0000 (UTC)
Subject: [R] forecast accuracy
References: <2109165575.1824410.1612469302890.ref@mail.yahoo.com>
Message-ID: <2109165575.1824410.1612469302890@mail.yahoo.com>

I am working in the functional time series, I obtain the one year ahead forecast in the functional format, Know i want to forecast accuracy for example mean absolute percentage error in R, please help how i do this in R


	[[alternative HTML version deleted]]


From |uc@@p@@@@|@cqu@ @end|ng |rom un|rom@1@|t  Thu Feb  4 20:39:51 2021
From: |uc@@p@@@@|@cqu@ @end|ng |rom un|rom@1@|t (Luca Passalacqua)
Date: Thu, 4 Feb 2021 20:39:51 +0100
Subject: [R] uint8
Message-ID: <CAGHVBE7_Pm9Fkg4pE+9Fjhi9Fn_V8S8WoQSBA6tDV+As862VEQ@mail.gmail.com>

Dear R users,

 I am trying to join two 8 bit integers, as defined by the
"coolbutuseless/uint8" package,
without success:

> library(uint8)

> x1 = uint8(3)> x1[1] = as.uint8(1)
> x1[2] = as.uint8(2)> x2 = uint8(3)> x2[1] = as.uint8(2)> x1[1] 1 2 0> x2[1] 2 0 0> xx = c(x1,x2)> xx[1] 01 02 00 02 00 00


In the real application the first array (x1) is extremely large (order
15-20 Gbytes)
while the second is relatively small, so that I cannot afford, given my RAM,
to define a third array, as

> x3 = uint8(length(x1)+length(x2))

and then fill its components, but I need to join the two arrays.

Is anyone aware of the right procedure in R or so kind to give suggestions ?
(A possibility would be to switch to C/C++, but I would prefer not to).

Many thanks,

Luca

-- 
________________________________________________________
Le informazioni 
contenute in questo messaggio di posta elettronica sono strettamente 
riservate e indirizzate esclusivamente al destinatario. Si prega di non 
leggere, fare copia, inoltrare a terzi o conservare tale messaggio se non 
si ? il legittimo destinatario dello stesso. Qualora tale messaggio sia 
stato ricevuto per errore, si prega di restituirlo al mittente e di 
cancellarlo permanentemente dal proprio computer.
The information contained 
in this e mail message is strictly confidential and intended for the use of
the addressee only.? If you are not the intended recipient, please do not 
read, copy, forward or store it on your computer. If you have received the
message in error, please forward it back to the sender and delete it 
permanently from your computer system.

-- 


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb  4 23:47:38 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 4 Feb 2021 14:47:38 -0800
Subject: [R] uint8
In-Reply-To: <CAGHVBE7_Pm9Fkg4pE+9Fjhi9Fn_V8S8WoQSBA6tDV+As862VEQ@mail.gmail.com>
References: <CAGHVBE7_Pm9Fkg4pE+9Fjhi9Fn_V8S8WoQSBA6tDV+As862VEQ@mail.gmail.com>
Message-ID: <CAGxFJbTNL+uZ-fZpaL3ApQF2LccAHjSwoeTgyPMVs7Jt2O5agg@mail.gmail.com>

Please note per the posting guide linked below:

"For questions about functions in standard packages distributed with R (see
the FAQ Add-on packages in R
<https://cran.r-project.org/doc/FAQ/R-FAQ.html#Add-on-packages-in-R>), ask
questions on R-help.
If the question relates to a *contributed package* , e.g., one downloaded
from CRAN, try contacting the package maintainer first. You can also use
find("functionname") and packageDescription("packagename") to find this
information. *Only* send such questions to R-help or R-devel if you get no
reply or need further assistance. This applies to both requests for help
and to bug reports. "

It appears you have not done this -- if you have, please say so. Given
that, while you might get lucky here, you should not be surprised if you
don't. This looks like *exactly* the sort of query that a maintainer could
help you with.

Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Feb 4, 2021 at 2:36 PM Luca Passalacqua via R-help <
r-help at r-project.org> wrote:

> Dear R users,
>
>  I am trying to join two 8 bit integers, as defined by the
> "coolbutuseless/uint8" package,
> without success:
>
> > library(uint8)
>
> > x1 = uint8(3)> x1[1] = as.uint8(1)
> > x1[2] = as.uint8(2)> x2 = uint8(3)> x2[1] = as.uint8(2)> x1[1] 1 2 0>
> x2[1] 2 0 0> xx = c(x1,x2)> xx[1] 01 02 00 02 00 00
>
>
> In the real application the first array (x1) is extremely large (order
> 15-20 Gbytes)
> while the second is relatively small, so that I cannot afford, given my
> RAM,
> to define a third array, as
>
> > x3 = uint8(length(x1)+length(x2))
>
> and then fill its components, but I need to join the two arrays.
>
> Is anyone aware of the right procedure in R or so kind to give suggestions
> ?
> (A possibility would be to switch to C/C++, but I would prefer not to).
>
> Many thanks,
>
> Luca
>
> --
> ________________________________________________________
> Le informazioni
> contenute in questo messaggio di posta elettronica sono strettamente
> riservate e indirizzate esclusivamente al destinatario. Si prega di non
> leggere, fare copia, inoltrare a terzi o conservare tale messaggio se non
> si ? il legittimo destinatario dello stesso. Qualora tale messaggio sia
> stato ricevuto per errore, si prega di restituirlo al mittente e di
> cancellarlo permanentemente dal proprio computer.
> The information contained
> in this e mail message is strictly confidential and intended for the use of
> the addressee only.  If you are not the intended recipient, please do not
> read, copy, forward or store it on your computer. If you have received the
> message in error, please forward it back to the sender and delete it
> permanently from your computer system.
>
> --
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @zwj|08 @end|ng |rom gm@||@com  Fri Feb  5 03:36:27 2021
From: @zwj|08 @end|ng |rom gm@||@com (Jiefei Wang)
Date: Fri, 5 Feb 2021 10:36:27 +0800
Subject: [R] uint8
In-Reply-To: <CAGHVBE7_Pm9Fkg4pE+9Fjhi9Fn_V8S8WoQSBA6tDV+As862VEQ@mail.gmail.com>
References: <CAGHVBE7_Pm9Fkg4pE+9Fjhi9Fn_V8S8WoQSBA6tDV+As862VEQ@mail.gmail.com>
Message-ID: <CAGiFhPNYdk_i7AqW8FT9k+UhgVu=FkQFgRP4=Hq-Ne4-VY5Xiw@mail.gmail.com>

Hi Luca,

The answer to your question depends on your application. What do you want
to do with x3? Do you really need a native vector to represent x1 and x2?
Or you just want an object that behaves like it is a joint of x1 and x2? I
do not think you can have a native vector x3 without paying anything, this
is impractical, but if all you want to do is to have something that behaves
like x3, I think R's S4 class can achieve that.

Best,
Jiefei

On Fri, Feb 5, 2021 at 6:36 AM Luca Passalacqua via R-help <
r-help at r-project.org> wrote:

> Dear R users,
>
>  I am trying to join two 8 bit integers, as defined by the
> "coolbutuseless/uint8" package,
> without success:
>
> > library(uint8)
>
> > x1 = uint8(3)> x1[1] = as.uint8(1)
> > x1[2] = as.uint8(2)> x2 = uint8(3)> x2[1] = as.uint8(2)> x1[1] 1 2 0>
> x2[1] 2 0 0> xx = c(x1,x2)> xx[1] 01 02 00 02 00 00
>
>
> In the real application the first array (x1) is extremely large (order
> 15-20 Gbytes)
> while the second is relatively small, so that I cannot afford, given my
> RAM,
> to define a third array, as
>
> > x3 = uint8(length(x1)+length(x2))
>
> and then fill its components, but I need to join the two arrays.
>
> Is anyone aware of the right procedure in R or so kind to give suggestions
> ?
> (A possibility would be to switch to C/C++, but I would prefer not to).
>
> Many thanks,
>
> Luca
>
> --
> ________________________________________________________
> Le informazioni
> contenute in questo messaggio di posta elettronica sono strettamente
> riservate e indirizzate esclusivamente al destinatario. Si prega di non
> leggere, fare copia, inoltrare a terzi o conservare tale messaggio se non
> si ? il legittimo destinatario dello stesso. Qualora tale messaggio sia
> stato ricevuto per errore, si prega di restituirlo al mittente e di
> cancellarlo permanentemente dal proprio computer.
> The information contained
> in this e mail message is strictly confidential and intended for the use of
> the addressee only.  If you are not the intended recipient, please do not
> read, copy, forward or store it on your computer. If you have received the
> message in error, please forward it back to the sender and delete it
> permanently from your computer system.
>
> --
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@hmood@n@der@n @end|ng |rom ugent@be  Fri Feb  5 15:18:15 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Fri, 5 Feb 2021 14:18:15 +0000
Subject: [R] Customizing plot
Message-ID: <f8997669a53745c0a14981e85b09893a@ugent.be>

Hi,

1- How can I assign different colors to different observations in the PCA chart? Assume, I have 10 observations and I want to use black color for the first 5 and read for the next 5 observations.

Currently, I use


 res.pca = PCA(mydata[,1:37], scale.unit=TRUE, graph=T)

 plot(res.pca,axes=c(1,2))


2- How can I change the plot area size and font sizes? With these commands

 dev.new(width=20, height=4)
 plot(res.pca,axes=c(1,2))

The final plot is not what I expected. Please see the picture at https://imgur.com/UINTnv7


Regards,
Mahmood

	[[alternative HTML version deleted]]


From m@hmood@n@der@n @end|ng |rom ugent@be  Fri Feb  5 16:44:49 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Fri, 5 Feb 2021 15:44:49 +0000
Subject: [R] Customizing plot
Message-ID: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>


Hi,
1- How can I assign different  colors to different observations in the PCA chart? Assume, I have 10  observations and I want to use black color for the first 5 and read for  the next 5 observations.

Currently, I use 

?res.pca = PCA(mydata[,1:37], scale.unit=TRUE, graph=T)
?plot(res.pca,axes=c(1,2))


?
2- How can I change the plot area size and font sizes? With these commands
?
?dev.new(width=20, height=4)
?plot(res.pca,axes=c(1,2))

 The final plot is not what I expected. Please see the picture at?https://imgur.com/UINTnv7 
?


     
 
 Regards,
 Mahmood
 
    

From murdoch@dunc@n @end|ng |rom gm@||@com  Fri Feb  5 17:01:44 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 5 Feb 2021 11:01:44 -0500
Subject: [R] Customizing plot
In-Reply-To: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>
References: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>
Message-ID: <f8ec6ca6-653b-1d75-f083-9578010ef580@gmail.com>

On 05/02/2021 10:44 a.m., Mahmood Naderan-Tahan wrote:
> 
> Hi,
> 1- How can I assign different  colors to different observations in the PCA chart? Assume, I have 10  observations and I want to use black color for the first 5 and read for  the next 5 observations.
> 
> Currently, I use
> 
>  ?res.pca = PCA(mydata[,1:37], scale.unit=TRUE, graph=T)
>  ?plot(res.pca,axes=c(1,2))
> 
> 
>   
> 2- How can I change the plot area size and font sizes? With these commands
>   
>  ?dev.new(width=20, height=4)
>  ?plot(res.pca,axes=c(1,2))
> 
>   The final plot is not what I expected. Please see the picture at?https://imgur.com/UINTnv7

No need to post twice.  You probably didn't get an answer the first time 
because it was just an hour ago, and you didn't include "mydata" (or a 
suitable subset) in your posting.  For the best chance at getting a 
helpful answer, post code that others can run.

Duncan Murdoch


From m@hmood@n@der@n @end|ng |rom ugent@be  Fri Feb  5 17:20:23 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Fri, 5 Feb 2021 16:20:23 +0000
Subject: [R] Customizing plot
In-Reply-To: <f8ec6ca6-653b-1d75-f083-9578010ef580@gmail.com>
References: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>,
 <f8ec6ca6-653b-1d75-f083-9578010ef580@gmail.com>
Message-ID: <f2c7fa7bb9be4d3996464ec6292d7246@ugent.be>


>No need to post twice.? You probably didn't get an answer the first time
>because it was just an hour ago, and you didn't include "mydata" (or a 
>suitable subset) in your posting.? For the best chance at getting a 
>helpful answer, post code that others can run.



I received a bounce reply with [[alternative HTML version deleted]] and thought it has been rejected...


So, here are the commands I use


> library(FactoMineR)
> mydata <- read.csv('test.csv', header=T,row.names=1)
> head(mydata)
???? V1? V2?? V3? V4
P1 73.6 0.7 74.6 3.1
P2 75.2 0.7 75.8 2.8
P3? 6.5 0.0? 7.3 2.5
P4 41.4 0.3 39.2 8.9
P5? 5.4 0.1 18.2 1.1
P6 18.8 0.3 30.3 7.3
> res.pca = PCA(mydata[,1:4], scale.unit=TRUE, graph=F)
> plot(res.pca,axes=c(1,2))
> dev.new(width=20, height=4)
> plot(res.pca,axes=c(1,2))


The test data and two plots are available at https://gofile.io/d/Qza0PR
As you can see the second plot is not properly sketched as I want to get a full size chart in the window.

For the colors, I want to use black for the first 3 and red for the next three observations. 


Regards,
Mahmood

    
From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Friday, February 5, 2021 5:01:44 PM
To: Mahmood Naderan-Tahan; r-help at r-project.org
Subject: Re: [R] Customizing plot
?   
On 05/02/2021 10:44 a.m., Mahmood Naderan-Tahan wrote:
> 
> Hi,
> 1- How can I assign different? colors to different observations in the PCA chart? Assume, I have 10? observations and I want to use black color for the first 5 and read for? the next 5 observations.
> 
> Currently, I use
> 
>? ?res.pca = PCA(mydata[,1:37], scale.unit=TRUE, graph=T)
>? ?plot(res.pca,axes=c(1,2))
> 
> 
>?? 
> 2- How can I change the plot area size and font sizes? With these commands
>?? 
>? ?dev.new(width=20, height=4)
>? ?plot(res.pca,axes=c(1,2))
> 
>?? The final plot is not what I expected. Please see the picture at?https://imgur.com/UINTnv7

No need to post twice.? You probably didn't get an answer the first time 
because it was just an hour ago, and you didn't include "mydata" (or a 
suitable subset) in your posting.? For the best chance at getting a 
helpful answer, post code that others can run.

Duncan Murdoch
    

From |@heemj@n93 @end|ng |rom y@hoo@com  Fri Feb  5 18:33:54 2021
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Fri, 5 Feb 2021 17:33:54 +0000 (UTC)
Subject: [R] forecast  accuracy
References: <1642036950.2068095.1612546434212.ref@mail.yahoo.com>
Message-ID: <1642036950.2068095.1612546434212@mail.yahoo.com>

I am working in the functional time series, I obtain the one year ahead forecast in the functional format, Know i want to forecast accuracy for example mean absolute percentage error in R, please help how i do this in R



	[[alternative HTML version deleted]]


From te@3rd @end|ng |rom gm@||@com  Fri Feb  5 20:04:16 2021
From: te@3rd @end|ng |rom gm@||@com (Thomas Adams)
Date: Fri, 5 Feb 2021 14:04:16 -0500
Subject: [R] forecast accuracy
In-Reply-To: <1642036950.2068095.1612546434212@mail.yahoo.com>
References: <1642036950.2068095.1612546434212.ref@mail.yahoo.com>
 <1642036950.2068095.1612546434212@mail.yahoo.com>
Message-ID: <CAGxgkWgfueG_U12Ah5H=6gBATLwBmrJFtsXAPCu0E1zwA0j+mg@mail.gmail.com>

Look at the 'verification' contributed package

Tom

On Fri, Feb 5, 2021 at 12:36 PM Faheem Jan via R-help <r-help at r-project.org>
wrote:

> I am working in the functional time series, I obtain the one year ahead
> forecast in the functional format, Know i want to forecast accuracy for
> example mean absolute percentage error in R, please help how i do this in R
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From phii m@iii@g oii phiiipsmith@c@  Sun Feb  7 20:30:59 2021
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Sun, 07 Feb 2021 14:30:59 -0500
Subject: [R] Difficulty using the tryCatch() function
Message-ID: <c5e554c00fb7261ec8844c42d8f1041c@philipsmith.ca>

I need help using the tryCatch function. I have a function and I want to 
surround it with tryCatch to catch errors and thereby avoid stopping 
execution of my program if the function fails. In my reproducible 
example below I have used a very simply function that just adds two 
numbers together. My function, called Adn, compiles, but when executed 
it generates the message: "Error in tryCatch({ : condition handlers must 
be specified with a condition class". I do not understand the error 
message.

# Reproducible example for using tryCatch

Adn <- function(x,y) {
   out <- tryCatch(
     {
       x+y
     },
     {
       warning = function(cond) {
         message("There was a warning.")
         message("Here is the original warning message:")
         message(cond)
         return(100)
       }
     },
     {
       error = function(cond) {
         message("There was an error.")
         message("Here is the original error message:")
         message(cond)
         return(200)
       }
     },
     finally = {
       message("Error handling done.")
     }
   )
   if (out==100 | out==200) { z <- 0 }
   else { z <- x+y }
   return(z)
}
(result <- Adn(1,sqrt(2))) # should work fine
(result <- Adn(1,sqrt(-2))) # should catch a warning and set z to 0
(result <- Adn(1,"a")) # should catch an error and set z to 0


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Feb  7 20:36:22 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 07 Feb 2021 11:36:22 -0800
Subject: [R] Difficulty using the tryCatch() function
In-Reply-To: <c5e554c00fb7261ec8844c42d8f1041c@philipsmith.ca>
References: <c5e554c00fb7261ec8844c42d8f1041c@philipsmith.ca>
Message-ID: <1BF05C90-F498-412E-9A83-5562FB4356EB@dcn.davis.ca.us>

Too many curly braces. warning and error need to be arguments to tryCatch.

On February 7, 2021 11:30:59 AM PST, phil at philipsmith.ca wrote:
>I need help using the tryCatch function. I have a function and I want
>to 
>surround it with tryCatch to catch errors and thereby avoid stopping 
>execution of my program if the function fails. In my reproducible 
>example below I have used a very simply function that just adds two 
>numbers together. My function, called Adn, compiles, but when executed 
>it generates the message: "Error in tryCatch({ : condition handlers
>must 
>be specified with a condition class". I do not understand the error 
>message.
>
># Reproducible example for using tryCatch
>
>Adn <- function(x,y) {
>   out <- tryCatch(
>     {
>       x+y
>     },
>     {
>       warning = function(cond) {
>         message("There was a warning.")
>         message("Here is the original warning message:")
>         message(cond)
>         return(100)
>       }
>     },
>     {
>       error = function(cond) {
>         message("There was an error.")
>         message("Here is the original error message:")
>         message(cond)
>         return(200)
>       }
>     },
>     finally = {
>       message("Error handling done.")
>     }
>   )
>   if (out==100 | out==200) { z <- 0 }
>   else { z <- x+y }
>   return(z)
>}
>(result <- Adn(1,sqrt(2))) # should work fine
>(result <- Adn(1,sqrt(-2))) # should catch a warning and set z to 0
>(result <- Adn(1,"a")) # should catch an error and set z to 0
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From phii m@iii@g oii phiiipsmith@c@  Sun Feb  7 20:51:33 2021
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Sun, 07 Feb 2021 14:51:33 -0500
Subject: [R] Difficulty using the tryCatch() function
In-Reply-To: <1BF05C90-F498-412E-9A83-5562FB4356EB@dcn.davis.ca.us>
References: <c5e554c00fb7261ec8844c42d8f1041c@philipsmith.ca>
 <1BF05C90-F498-412E-9A83-5562FB4356EB@dcn.davis.ca.us>
Message-ID: <156f8f3b19b4863533c0fdbdf07d35b7@philipsmith.ca>

Thanks so much for your speedy replies. Yes, removing those brackets did 
the trick. I was relying on an example in Stackoverflow at 
https://stackoverflow.com/questions/12193779/how-to-write-trycatch-in-r

Philip

On 2021-02-07 14:36, Jeff Newmiller wrote:
> Too many curly braces. warning and error need to be arguments to 
> tryCatch.
> 
> On February 7, 2021 11:30:59 AM PST, phil at philipsmith.ca wrote:
>> I need help using the tryCatch function. I have a function and I want
>> to
>> surround it with tryCatch to catch errors and thereby avoid stopping
>> execution of my program if the function fails. In my reproducible
>> example below I have used a very simply function that just adds two
>> numbers together. My function, called Adn, compiles, but when executed
>> it generates the message: "Error in tryCatch({ : condition handlers
>> must
>> be specified with a condition class". I do not understand the error
>> message.
>> 
>> # Reproducible example for using tryCatch
>> 
>> Adn <- function(x,y) {
>>   out <- tryCatch(
>>     {
>>       x+y
>>     },
>>     {
>>       warning = function(cond) {
>>         message("There was a warning.")
>>         message("Here is the original warning message:")
>>         message(cond)
>>         return(100)
>>       }
>>     },
>>     {
>>       error = function(cond) {
>>         message("There was an error.")
>>         message("Here is the original error message:")
>>         message(cond)
>>         return(200)
>>       }
>>     },
>>     finally = {
>>       message("Error handling done.")
>>     }
>>   )
>>   if (out==100 | out==200) { z <- 0 }
>>   else { z <- x+y }
>>   return(z)
>> }
>> (result <- Adn(1,sqrt(2))) # should work fine
>> (result <- Adn(1,sqrt(-2))) # should catch a warning and set z to 0
>> (result <- Adn(1,"a")) # should catch an error and set z to 0
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Feb  8 08:07:27 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 8 Feb 2021 07:07:27 +0000
Subject: [R] Customizing plot
In-Reply-To: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>
References: <c98405eab3a24d25b7dcc3f1a8293b16@ugent.be>
Message-ID: <093e446397474cc8901a2ab7368bea45@SRVEXCHCM1302.precheza.cz>

Hallo Mahmood

I recently struggled with similar problem useing factoextra package. You
could fiddle with xlim and ylim to set size of plot and col.ind to set the
colour.

Another option is to use prcomp function to generate data and fine tune
biplot.

See parameters expand, xlim and ylim for biplot size and points to add
points with different shape, colour and/or size.

Below is example with factoextra

Cheers
Petr

library(factoextra)
library(FactoMineR)
 
  fit <- PCA(temp, quali.sup=c(9,10))
  fviz_pca_biplot(fit, col.ind = temp$coating, repel=T, col.var = 
  "black", palette = "lancet", invisible="quali", pointsize=5, 
  pointshape=temp$size, legend.title = list(col = "Coating", 
  shape="Size"), xlim=c(-6,6), title="Instillation results")
 
  temp <- structure(list(leukocyte28 = c(96875L, 73438L, 68229L, 
  94479L, 76563L, 141667L, 111042L, 93333L, 132083L, 103542L, 61667L, 
  77708L ),
  macrophage28 = c(60.29, 99.13, 97.04, 98.54, 98.46, 75.2, 89.71, 98, 
  82, 98.83, 99.08, 98.54), pmn28 = c(38.58, 0.58, 2.71, 0.92, 1, 
  24.25, 9.29, 1.5, 15.08, 0.92, 0.67, 1), lymphocyte28 = c(1.13, 
  0.29, 0.25, 0.54, 0.54, 0.55, 1, 0.5, 2.92, 0.25, 0.25, 0.46),
      leukocyte3 = c(186042L, 111250L, 114375L, 111146L, 98854L,
      156250L, 250625L, 183125L, 202917L, 161875L, 184792L, 128333L
      ), macrophage3 = c(53.88, 95.96, 98.29, 98.92, 98.92, 78.3,
      82.33, 97.83, 84.79, 97.25, 97.75, 98.46), pmn3 = c(44.75,
      3.46, 1.29, 0.67, 0.71, 20.4, 16.67, 1.92, 14.04, 1.92, 1.67,
      1.21), lymphocyte3 = c(1.38, 0.58, 0.42, 0.42, 0.38, 1.3,
      1, 0.25, 1.17, 0.83, 0.58, 0.33), coating = structure(c(3L,
      3L, 3L, 1L, 7L, 1L, 2L, 5L, 4L, 6L, 3L, 3L), .Label = c("alumina",
      "both", "none", "phosphate", "silica", "tungsten", "zirconia"
      ), class = "factor"), size = structure(c(1L, 1L, 2L, 2L,
      2L, 1L, 2L, 1L, 2L, 1L, 2L, 2L), .Label = c("nano", "pigmentary"
      ), class = "factor")), class = "data.frame", row.names = c(NA,
  12L))





> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Mahmood
> Naderan-Tahan
> Sent: Friday, February 5, 2021 4:45 PM
> To: r-help at r-project.org
> Subject: [R] Customizing plot
> 
> 
> Hi,
> 1- How can I assign different  colors to different observations in the PCA
> chart? Assume, I have 10  observations and I want to use black color for
the
> first 5 and read for  the next 5 observations.
> 
> Currently, I use
> 
> ?res.pca = PCA(mydata[,1:37], scale.unit=TRUE, graph=T)
> ?plot(res.pca,axes=c(1,2))
> 
> 
> 
> 2- How can I change the plot area size and font sizes? With these commands
> 
> ?dev.new(width=20, height=4)
> ?plot(res.pca,axes=c(1,2))
> 
>  The final plot is not what I expected. Please see the picture
> at?https://imgur.com/UINTnv7
> 
> 
> 
> 
> 
>  Regards,
>  Mahmood
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From @gr@w@|@nur@g1999 @end|ng |rom gm@||@com  Sat Feb  6 10:23:24 2021
From: @gr@w@|@nur@g1999 @end|ng |rom gm@||@com (Anurag Agrawal)
Date: Sat, 6 Feb 2021 14:53:24 +0530
Subject: [R] [R-pkgs] 1.0.7 rMorningStar (Mutual Fund performance analysis)
Message-ID: <A67051F8-01C3-4AE6-B3F7-863E0D152649@gmail.com>

Dear useRs and developeRs,

I am proud to announce that rMorningStar is now available on CRAN.

rMornringStar is aimed to guide investors both professional and non-professional to analyse mutual funds and ETFs (exchange-traded funds).

The package provides a collection of functions to calculate performance metrics of mutual funds/exchange-traded funds. This package aids investors in researching mutual funds/exchange-traded funds for their investment decision. Also, this package contains tools to manage a portfolio of different mutual fund/exchange-traded funds.

This is the first version of rMorningStar. I will make every effort to better the package with every release. If you have any concerns/ feedback please connect with me on agrawalanurag1999 at gmail.com <mailto:agrawalanurag1999 at gmail.com>







Regards,
Anurag Agrawal
Bachelor of Science in Finance,
Narsee Monjee Institute of Management Studies.
	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Sun Feb  7 20:01:48 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David F.)
Date: Sun, 7 Feb 2021 19:01:48 +0000
Subject: [R] Need help using lattice
Message-ID: <BN7PR08MB4114C3FB69B895B47C34141AD0B09@BN7PR08MB4114.namprd08.prod.outlook.com>

I have a dataframe comprising a vector of E. coli concentrations, a vector of months when the samples were taken, and a vector of sampled sites.  I?d like to produce a lattice with sites along the horizontal axis, and months on the vertical.  Each site-month box would then contain concentrations ranging along its x axis.



I think this would use dotchart (or possibly stripchart) in the lattice.  I?ve been reading the lattice and xyplot documents and I?m overwhelmed.  I?d appreciate help in how to write the call.



David


	[[alternative HTML version deleted]]


From m|n@h@|| @end|ng |rom um|ch@edu  Sun Feb  7 20:37:48 2021
From: m|n@h@|| @end|ng |rom um|ch@edu (Greg Minshall)
Date: Sun, 07 Feb 2021 22:37:48 +0300
Subject: [R] Difficulty using the tryCatch() function
In-Reply-To: Your message of "Sun, 07 Feb 2021 14:30:59 -0500."
 <c5e554c00fb7261ec8844c42d8f1041c@philipsmith.ca>
Message-ID: <254545.1612726668@apollo2.minshall.org>

try removing the outermost '{'...'}'.  e.g., { warning = ... } should be
'warning = ...'.
----
Adn <- function(x,y) {
    out <- tryCatch(
    {
        x+y
    },
    warning = function(cond) {
        message("There was a warning.")
        message("Here is the original warning message:")
        message(cond)
        return(100)
    },
    error = function(cond) {
        message("There was an error.")
        message("Here is the original error message:")
        message(cond)
        return(200)
    },
    finally = {
        message("Error handling done.")
    }
    )
    if (out==100 | out==200) { z <- 0 }
    else { z <- x+y }
    return(z)
}
(result <- Adn(1,sqrt(2))) # should work fine
(result <- Adn(1,sqrt(-2))) # should catch a warning and set z to 0
(result <- Adn(1,"a")) # should catch an error and set z to 0


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Feb  8 09:09:53 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 8 Feb 2021 08:09:53 +0000
Subject: [R] Need help using lattice
In-Reply-To: <BN7PR08MB4114C3FB69B895B47C34141AD0B09@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114C3FB69B895B47C34141AD0B09@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <b47811e61b96483199db82d15a25bd58@SRVEXCHCM1302.precheza.cz>

Hi

Please do not use HTML formating.
Please provide some toy data if you want to get reasonable help.

You could also look at ggplot package, e.g.

https://ggplot2.tidyverse.org/reference/facet_grid.html

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst, David
> F.
> Sent: Sunday, February 7, 2021 8:02 PM
> To: r-help at r-project.org
> Subject: [R] Need help using lattice
> 
> I have a dataframe comprising a vector of E. coli concentrations, a vector of
> months when the samples were taken, and a vector of sampled sites.  I?d
> like to produce a lattice with sites along the horizontal axis, and months on
> the vertical.  Each site-month box would then contain concentrations ranging
> along its x axis.
> 
> 
> 
> I think this would use dotchart (or possibly stripchart) in the lattice.  I?ve
> been reading the lattice and xyplot documents and I?m overwhelmed.  I?d
> appreciate help in how to write the call.
> 
> 
> 
> David
> 
> 
> 	[[alternative HTML version deleted]]


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Mon Feb  8 13:32:41 2021
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Mon, 8 Feb 2021 13:32:41 +0100
Subject: [R] need help to create a 3-dimensional list
Message-ID: <CAOkWQv2aDfdF5JacbrTMm5e96o2ubkgTfMengj29zbzTV+kK5A@mail.gmail.com>

Hello,
please, I need help to calculate n_l properly for my attachment.



                      Sincerely

From petr@p|k@| @end|ng |rom prechez@@cz  Mon Feb  8 13:56:20 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 8 Feb 2021 12:56:20 +0000
Subject: [R] need help to create a 3-dimensional list
In-Reply-To: <CAOkWQv2aDfdF5JacbrTMm5e96o2ubkgTfMengj29zbzTV+kK5A@mail.gmail.com>
References: <CAOkWQv2aDfdF5JacbrTMm5e96o2ubkgTfMengj29zbzTV+kK5A@mail.gmail.com>
Message-ID: <de559b331d044abd8490d30da0b46f49@SRVEXCHCM1302.precheza.cz>

Hi

No attachments allowed (usually).

What do you mean by 3 dimensional list? List itself can contain objects
which could also be lists.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Ablaye Ngalaba
> Sent: Monday, February 8, 2021 1:33 PM
> To: r-help at r-project.org
> Subject: [R] need help to create a 3-dimensional list
> 
> Hello,
> please, I need help to calculate n_l properly for my attachment.
> 
> 
> 
>                       Sincerely
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From jerem|eju@te @end|ng |rom gm@||@com  Mon Feb  8 14:28:33 2021
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Mon, 08 Feb 2021 14:28:33 +0100
Subject: [R] readline in function call with space in prompt.
Message-ID: <87sg66sn7i.fsf@gmail.com>

Hello,

I have noticed a behavior that I don't understand. When I call the
following function from the prompt.
test <- function(){
    a <- readline("selection: ")
    a
}

> test()
> selection: |
I can only type one character and the readline function exits before I can
press enter.

however

test1 <- function(){
    a <- readline("selection:")
    a
}
> test1()
> selection:|
works as expected.
> selection: abc[Ret]

However calling directly readline with a space in the prompt does what I
would expect.

> a <- readline("selection: ")
> selection: abc[Ret]
> a
> "abc"

It is the expected behavior or am I missing something?

Best regards,
Jeremie
-- 
Jeremie Juste
> R version 4.0.3 (2020-10-10)


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Feb  8 15:30:42 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 8 Feb 2021 14:30:42 +0000
Subject: [R] need help to create a 3-dimensional list
In-Reply-To: <CAOkWQv1tonxKcfq2tLkNSWHLsMe_bbmBVKW0DpUUD_b3TJLBmQ@mail.gmail.com>
References: <CAOkWQv2aDfdF5JacbrTMm5e96o2ubkgTfMengj29zbzTV+kK5A@mail.gmail.com>
 <de559b331d044abd8490d30da0b46f49@SRVEXCHCM1302.precheza.cz>
 <CAOkWQv1tonxKcfq2tLkNSWHLsMe_bbmBVKW0DpUUD_b3TJLBmQ@mail.gmail.com>
Message-ID: <4bc55ce8c84a4e7fb6e5c49eb3980cbc@SRVEXCHCM1302.precheza.cz>

Hallo again

 

Your attachment is discarded by listserv so we did not get it. Do not use attachments.

 

Cheers

Petr

 

 

From: Ablaye Ngalaba <ablayengalaba at gmail.com> 
Sent: Monday, February 8, 2021 3:04 PM
To: PIKAL Petr <petr.pikal at precheza.cz>
Subject: Re: [R] need help to create a 3-dimensional list

 

Sorry, I thought I would make my question clear since with the pdf I clearly materialize the shape of what I want to calculate.



Thank you and have a nice day.

 

Le lun. 8 f?vr. 2021 ? 13:56, PIKAL Petr <petr.pikal at precheza.cz <mailto:petr.pikal at precheza.cz> > a ?crit :

Hi

No attachments allowed (usually).

What do you mean by 3 dimensional list? List itself can contain objects
which could also be lists.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org <mailto:r-help-bounces at r-project.org> > On Behalf Of Ablaye Ngalaba
> Sent: Monday, February 8, 2021 1:33 PM
> To: r-help at r-project.org <mailto:r-help at r-project.org> 
> Subject: [R] need help to create a 3-dimensional list
> 
> Hello,
> please, I need help to calculate n_l properly for my attachment.
> 
> 
> 
>                       Sincerely
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jrkr|de@u @end|ng |rom gm@||@com  Mon Feb  8 16:31:37 2021
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Mon, 8 Feb 2021 10:31:37 -0500
Subject: [R] Need help using lattice
In-Reply-To: <b47811e61b96483199db82d15a25bd58@SRVEXCHCM1302.precheza.cz>
References: <BN7PR08MB4114C3FB69B895B47C34141AD0B09@BN7PR08MB4114.namprd08.prod.outlook.com>
 <b47811e61b96483199db82d15a25bd58@SRVEXCHCM1302.precheza.cz>
Message-ID: <CAKZQJMAoSK_Ldz+Ag0rxRdcktMu82azcMpu6HCnXajruStpQ9Q@mail.gmail.com>

 http://adv-r.had.co.nz/Reproducibility.html

http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

On Mon, 8 Feb 2021 at 03:11, PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hi
>
> Please do not use HTML formating.
> Please provide some toy data if you want to get reasonable help.
>
> You could also look at ggplot package, e.g.
>
> https://ggplot2.tidyverse.org/reference/facet_grid.html
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst,
> David
> > F.
> > Sent: Sunday, February 7, 2021 8:02 PM
> > To: r-help at r-project.org
> > Subject: [R] Need help using lattice
> >
> > I have a dataframe comprising a vector of E. coli concentrations, a
> vector of
> > months when the samples were taken, and a vector of sampled sites.  I?d
> > like to produce a lattice with sites along the horizontal axis, and
> months on
> > the vertical.  Each site-month box would then contain concentrations
> ranging
> > along its x axis.
> >
> >
> >
> > I think this would use dotchart (or possibly stripchart) in the
> lattice.  I?ve
> > been reading the lattice and xyplot documents and I?m overwhelmed.  I?d
> > appreciate help in how to write the call.
> >
> >
> >
> > David
> >
> >
> >       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From gdr@|@m@ @end|ng |rom x@4@||@n|  Mon Feb  8 18:21:46 2021
From: gdr@|@m@ @end|ng |rom x@4@||@n| (Gerrit Draisma)
Date: Mon, 8 Feb 2021 18:21:46 +0100
Subject: [R] Need help using lattice
Message-ID: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>

David,
Is this what you are looking for?
library(lattice)
df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
                  month=1:12)
df$conc <- rnorm(dim(df)[1])
dotplot(month~conc|site,data=df)

HTH Gerrit


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Mon Feb  8 18:21:53 2021
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Mon, 8 Feb 2021 18:21:53 +0100
Subject: [R] Need help calculating the sum of the index function
Message-ID: <CAOkWQv238v8A5f88yxvCRm45F4-BXk9uGEjMBP02KU2oPc34fg@mail.gmail.com>

Hello;


q=3 #dimension of variable Y
R=c(5,4,3);# Number of partition of each component of variable Y
if(length(R) != q) stop("The size of R must be equal to q")
n=25 # Sample size
N=c(25,50,100,200,300,400,500,1000) #different sample sizes

 # Creation of an n11 list containing the sizes of the different groups
  n11=list()
  for (i in 1:q){
    n11[[i]]=rep(as.integer(n/R[i]),R[i])
    n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
  }




The present code calculates the sum of the indicator function (the
indicator function gives 1 if Y belongs to the partition R=c(5,4,3);#
Number of partition of each component of variable Y and takes the value 0
otherwise).


In my case I want to calculate the sum of the indicator function for i
=1,...,n , with the indicator function which takes the value 1 if Y==l and
0 if Y!=l. Y is a random variable with a value in F = {1,...,q} and l
belongs to F = {1,...,q}.

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Mon Feb  8 22:10:04 2021
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Tue, 9 Feb 2021 08:10:04 +1100
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <87sg66sn7i.fsf@gmail.com>
References: <87sg66sn7i.fsf@gmail.com>
Message-ID: <CA+8X3fV4nNEkBvkZCPgKQveWA_rnLY3X2DvcQ=TUXTamvzcYMQ@mail.gmail.com>

Hi Jeremie,
Try this:

test <- function() {
 a<-readline("selection: ")
 return(a)
}

If it starts working, it could be a difference in the way Windows R
handles text input. Both work okay for me on fedora linux.

Jim

On Tue, Feb 9, 2021 at 12:29 AM Jeremie Juste <jeremiejuste at gmail.com> wrote:
>
> Hello,
>
> I have noticed a behavior that I don't understand. When I call the
> following function from the prompt.
> test <- function(){
>     a <- readline("selection: ")
>     a
> }
>
> > test()
> > selection: |
> I can only type one character and the readline function exits before I can
> press enter.
>
> however
>
> test1 <- function(){
>     a <- readline("selection:")
>     a
> }
> > test1()
> > selection:|
> works as expected.
> > selection: abc[Ret]
>
> However calling directly readline with a space in the prompt does what I
> would expect.
>
> > a <- readline("selection: ")
> > selection: abc[Ret]
> > a
> > "abc"
>
> It is the expected behavior or am I missing something?
>
> Best regards,
> Jeremie
> --
> Jeremie Juste
> > R version 4.0.3 (2020-10-10)
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r@turner @end|ng |rom @uck|@nd@@c@nz  Mon Feb  8 22:21:58 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Tue, 9 Feb 2021 10:21:58 +1300
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <87sg66sn7i.fsf@gmail.com>
References: <87sg66sn7i.fsf@gmail.com>
Message-ID: <20210209102158.5b04117d@rolf-Latitude-E7470>


On Mon, 08 Feb 2021 14:28:33 +0100
Jeremie Juste <jeremiejuste at gmail.com> wrote:

> Hello,
> 
> I have noticed a behavior that I don't understand. When I call the
> following function from the prompt.
> test <- function(){
>     a <- readline("selection: ")
>     a
> }
> 
> > test()
> > selection: |
> I can only type one character and the readline function exits before
> I can press enter.
> 
> however
> 
> test1 <- function(){
>     a <- readline("selection:")
>     a
> }
> > test1()
> > selection:|
> works as expected.
> > selection: abc[Ret]
> 
> However calling directly readline with a space in the prompt does
> what I would expect.
> 
> > a <- readline("selection: ")
> > selection: abc[Ret]
> > a
> > "abc"
> 
> It is the expected behavior or am I missing something?

Works fine for me, with or without the space in the prompt string.
There *must* be something flaky in your system, but I'm damned if I can
come up with any useful suggestions for tracking down just where that
flakiness lies.  Sorry.

Perhaps try re-installing R???

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From r@turner @end|ng |rom @uck|@nd@@c@nz  Tue Feb  9 03:29:12 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Tue, 9 Feb 2021 15:29:12 +1300
Subject: [R] Help with regular expressions.
Message-ID: <20210209152912.24f4d0c5@rolf-Latitude-E7470>


I want to deal with strings of the form "a.b.c" and to change (using
sub() or whatever is appropriate) the second "." to a "-", i.e. to
change "a.b.c" to "a.b-c".  I want to leave the first "." as-is.

I guess I could do a gsub(), changing all "."s to "-"s, and then do
a sub() changing the first "-" back to a ".".  But this seems very
kludgy.  There must be a sexier way.  Mustn't there?  Is there regular
expression syntax for picking out the second occurence of a particular
string?

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb  9 03:49:46 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 8 Feb 2021 18:49:46 -0800
Subject: [R] Help with regular expressions.
In-Reply-To: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
References: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
Message-ID: <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>

> gsub("(.*\\.[^.]*)\\.(.*)","\\1-\\2", "aa.bcv.cdg")
[1] "aa.bcv-cdg"

Cheers,
Bert

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Feb 8, 2021 at 6:29 PM Rolf Turner <r.turner at auckland.ac.nz> wrote:

>
> I want to deal with strings of the form "a.b.c" and to change (using
> sub() or whatever is appropriate) the second "." to a "-", i.e. to
> change "a.b.c" to "a.b-c".  I want to leave the first "." as-is.
>
> I guess I could do a gsub(), changing all "."s to "-"s, and then do
> a sub() changing the first "-" back to a ".".  But this seems very
> kludgy.  There must be a sexier way.  Mustn't there?  Is there regular
> expression syntax for picking out the second occurence of a particular
> string?
>
> cheers,
>
> Rolf Turner
>
> --
> Honorary Research Fellow
> Department of Statistics
> University of Auckland
> Phone: +64-9-373-7599 ext. 88276
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Tue Feb  9 04:03:26 2021
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 8 Feb 2021 22:03:26 -0500
Subject: [R] Help with regular expressions.
In-Reply-To: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
References: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
Message-ID: <0de001d6fe90$23341590$699c40b0$@verizon.net>

There are many ways, Rolf. You need to look into the syntax of regular
expressions. It depends on how sure you are that the formats are exactly as
needed. Escaping the period with one or more backslashes is one way. Using
string functions is another.

Suggestion. See if you can make a regular expression that is greedy and will
match everything up to period then a period then the rest and keep the first
and third parts and replace the middle with a minus sign. Or, match five
things. Everything up to a single period, the period, everything between,
the second period, and the rest, and keep the needed parts as above.

Periods and dashes must be used carefully though. A period means match one
of almost anything so a good way to catch it is [.] which matches a single
character of only a period. Put parens around that: "([.])" and you have a
replaceable item. In your case, you may want the parens around everything
else before and after, perhaps ([^.]*[.][^.]) then [.] then  ([^.]*) as one
long string and replace it with \1-\2 or some similar notation.

There are many other variation on this theme and some are simpler if the
exact format is consistent such as 'a' being a single character or the
string being a fixed length. If you are sure the period in "a.b.c" is always
the fourth character, no RE is needed. Use string methods. Even if not, you
can use string methods to search for a period from the end backwards or
search forward once to find the first and second time starting just past it.
Then replace. Fairly straightforward and very possibly much faster.
-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rolf Turner
Sent: Monday, February 8, 2021 9:29 PM
To: "r-help at R-project.org" <r-help at R-project.org>"@r-project.org
Subject: [R] Help with regular expressions.


I want to deal with strings of the form "a.b.c" and to change (using
sub() or whatever is appropriate) the second "." to a "-", i.e. to change
"a.b.c" to "a.b-c".  I want to leave the first "." as-is.

I guess I could do a gsub(), changing all "."s to "-"s, and then do a sub()
changing the first "-" back to a ".".  But this seems very kludgy.  There
must be a sexier way.  Mustn't there?  Is there regular expression syntax
for picking out the second occurence of a particular string?

cheers,

Rolf Turner

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb  9 04:09:08 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 8 Feb 2021 19:09:08 -0800
Subject: [R] Help with regular expressions.
In-Reply-To: <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>
References: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
 <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>
Message-ID: <CAGxFJbSi1Vi_WznbN=9t71N00hgNFn6FU-fkYDi=YxhObEB09A@mail.gmail.com>

Simpler, but would fail if there are more "."s beyond the second (it
changes the last one to a "-"):

> sub("(.*)\\.([^.]*)", "\\1-\\2", "aa.bcv.cdg")
[1] "aa.bcv-cdg"


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Feb 8, 2021 at 6:49 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> > gsub("(.*\\.[^.]*)\\.(.*)","\\1-\\2", "aa.bcv.cdg")
> [1] "aa.bcv-cdg"
>
> Cheers,
> Bert
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, Feb 8, 2021 at 6:29 PM Rolf Turner <r.turner at auckland.ac.nz>
> wrote:
>
>>
>> I want to deal with strings of the form "a.b.c" and to change (using
>> sub() or whatever is appropriate) the second "." to a "-", i.e. to
>> change "a.b.c" to "a.b-c".  I want to leave the first "." as-is.
>>
>> I guess I could do a gsub(), changing all "."s to "-"s, and then do
>> a sub() changing the first "-" back to a ".".  But this seems very
>> kludgy.  There must be a sexier way.  Mustn't there?  Is there regular
>> expression syntax for picking out the second occurence of a particular
>> string?
>>
>> cheers,
>>
>> Rolf Turner
>>
>> --
>> Honorary Research Fellow
>> Department of Statistics
>> University of Auckland
>> Phone: +64-9-373-7599 ext. 88276
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From r@turner @end|ng |rom @uck|@nd@@c@nz  Tue Feb  9 05:34:00 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Tue, 9 Feb 2021 17:34:00 +1300
Subject: [R] Help with regular expressions.
In-Reply-To: <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>
References: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
 <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>
Message-ID: <20210209173400.5b62b6f0@rolf-Latitude-E7470>


David Wolfskill's post solved my problem perfectly.  Thanks.

Thanks also to Bert Gunter and Avi Gross.

cheers,

Rolf

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From r@turner @end|ng |rom @uck|@nd@@c@nz  Tue Feb  9 05:37:43 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Tue, 9 Feb 2021 17:37:43 +1300
Subject: [R] Help with regular expressions.
In-Reply-To: <20210209173400.5b62b6f0@rolf-Latitude-E7470>
References: <20210209152912.24f4d0c5@rolf-Latitude-E7470>
 <CAGxFJbReOhGNHDFcQrG2pOsM5-d9GmStnq09znpG9RyOGCA2FA@mail.gmail.com>
 <20210209173400.5b62b6f0@rolf-Latitude-E7470>
Message-ID: <20210209173743.74474559@rolf-Latitude-E7470>


On Tue, 9 Feb 2021 17:34:00 +1300
Rolf Turner <r.turner at auckland.ac.nz> wrote:

> 
> David Wolfskill's post solved my problem perfectly.  Thanks.
> 
> Thanks also to Bert Gunter and Avi Gross.

Whoops.  David Wolfskill's message came to me off-list.
Sorry for the confusion.

cheers,

Rolf

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Tue Feb  9 10:37:49 2021
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Tue, 9 Feb 2021 10:37:49 +0100
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <87sg66sn7i.fsf@gmail.com>
References: <87sg66sn7i.fsf@gmail.com>
Message-ID: <24610.22509.310508.96260@stat.math.ethz.ch>

>>>>> Jeremie Juste 
>>>>>     on Mon, 08 Feb 2021 14:28:33 +0100 writes:

    > Hello,
    > I have noticed a behavior that I don't understand. When I call the
    > following function from the prompt.
    > test <- function(){
    > a <- readline("selection: ")
    > a
    > }

    >> test()
    >> selection: |
    > I can only type one character and the readline function exits before I can
    > press enter.

    > however

    > test1 <- function(){
    > a <- readline("selection:")
    > a
    > }
    >> test1()
    >> selection:|
    > works as expected.
    >> selection: abc[Ret]

    > However calling directly readline with a space in the prompt does what I
    > would expect.

    >> a <- readline("selection: ")
    >> selection: abc[Ret]
    >> a
    >> "abc"

    > It is the expected behavior or am I missing something?

    > Best regards,
    > Jeremie
    > -- 
    > Jeremie Juste
    >> R version 4.0.3 (2020-10-10)

Given that the above works fine in Linux (for Jim Lemon and Rolf Turner),

could you tell us *how* you use R?
In the (Windows) RGui  or from Rstudio  or  ESS   or yet another way?

Usually the UI (user interface) should not matter, but rather
the R version etc.
But the UI may be important for a function like readline()
which does UI ..

Martin


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Tue Feb  9 11:29:32 2021
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Tue, 9 Feb 2021 10:29:32 +0000
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <24610.22509.310508.96260@stat.math.ethz.ch>
References: <87sg66sn7i.fsf@gmail.com>
 <24610.22509.310508.96260@stat.math.ethz.ch>
Message-ID: <f6c00f37-bd3c-131e-7c87-5147a363a48b@dewey.myzen.co.uk>

The function test as defined below by Jeremie works as I would have 
expected for me on Windows so I am unable to replicate the problem there.

R version 4.0.3 (2020-10-10)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19041)

Matrix products: default

locale:
[1] LC_COLLATE=English_United Kingdom.1252
[2] LC_CTYPE=English_United Kingdom.1252
[3] LC_MONETARY=English_United Kingdom.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United Kingdom.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_4.0.3


On 09/02/2021 09:37, Martin Maechler wrote:
>>>>>> Jeremie Juste
>>>>>>      on Mon, 08 Feb 2021 14:28:33 +0100 writes:
> 
>      > Hello,
>      > I have noticed a behavior that I don't understand. When I call the
>      > following function from the prompt.
>      > test <- function(){
>      > a <- readline("selection: ")
>      > a
>      > }
> 
>      >> test()
>      >> selection: |
>      > I can only type one character and the readline function exits before I can
>      > press enter.
> 
>      > however
> 
>      > test1 <- function(){
>      > a <- readline("selection:")
>      > a
>      > }
>      >> test1()
>      >> selection:|
>      > works as expected.
>      >> selection: abc[Ret]
> 
>      > However calling directly readline with a space in the prompt does what I
>      > would expect.
> 
>      >> a <- readline("selection: ")
>      >> selection: abc[Ret]
>      >> a
>      >> "abc"
> 
>      > It is the expected behavior or am I missing something?
> 
>      > Best regards,
>      > Jeremie
>      > --
>      > Jeremie Juste
>      >> R version 4.0.3 (2020-10-10)
> 
> Given that the above works fine in Linux (for Jim Lemon and Rolf Turner),
> 
> could you tell us *how* you use R?
> In the (Windows) RGui  or from Rstudio  or  ESS   or yet another way?
> 
> Usually the UI (user interface) should not matter, but rather
> the R version etc.
> But the UI may be important for a function like readline()
> which does UI ..
> 
> Martin
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From gdr@|@m@ @end|ng |rom x@4@||@n|  Tue Feb  9 12:13:55 2021
From: gdr@|@m@ @end|ng |rom x@4@||@n| (Gerrit Draisma)
Date: Tue, 9 Feb 2021 12:13:55 +0100
Subject: [R] Need help using lattice
In-Reply-To: <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>
 <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>

Ha David,
Thanks for your reply.
For your last question, you have to change month into an ordered factor 
variable:

library(lattice)
df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
                  month=factor(3:12,levels=1:12,
                               labels=month.abb, ordered=TRUE))
df$conc <- rnorm(dim(df)[1])
dotplot(month~conc|site,data=df)

HTH, Gerrit



Op 08-02-2021 om 21:04 schreef Parkhurst, David F.:
> That worked nicely;? thanks again.? Here?s what I used for our data:
> 
> library(lattice)
> 
> df <- 
> expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE","MoCe"),months=1:9)
> 
> dotplot(months~conc | site, data=df)
> 
> The result is attached.? Is there a way to replace the month numbers on 
> the y axes with the names Apr-Dec?
> 
> David
>


From K@Ropk|n@ @end|ng |rom |t@@|eed@@@c@uk  Tue Feb  9 12:24:49 2021
From: K@Ropk|n@ @end|ng |rom |t@@|eed@@@c@uk (Karl Ropkins)
Date: Tue, 9 Feb 2021 11:24:49 +0000
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <mailman.362209.1.1612868402.50337.r-help@r-project.org>
References: <mailman.362209.1.1612868402.50337.r-help@r-project.org>
Message-ID: <AM6PR0302MB31767F0DEB063CB51A21E064EA8E9@AM6PR0302MB3176.eurprd03.prod.outlook.com>

Not on a machine with latest R at moment so not ruling out something there, but it is working fine for me.
Karl

R version 4.0.2 (2020-06-22)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19041)

------------------------------

Message: 9
Date: Tue, 9 Feb 2021 10:21:58 +1300
From: Rolf Turner <r.turner at auckland.ac.nz>
To: Jeremie Juste <jeremiejuste at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] readline in function call with space in prompt.
Message-ID: <20210209102158.5b04117d at rolf-Latitude-E7470>
Content-Type: text/plain; charset="windows-1252"


On Mon, 08 Feb 2021 14:28:33 +0100
Jeremie Juste <jeremiejuste at gmail.com> wrote:

> Hello,
>
> I have noticed a behavior that I don't understand. When I call the
> following function from the prompt.
> test <- function(){
>     a <- readline("selection: ")
>     a
> }
>
> > test()
> > selection: |
> I can only type one character and the readline function exits before
> I can press enter.
>
> however
>
> test1 <- function(){
>     a <- readline("selection:")
>     a
> }
> > test1()
> > selection:|
> works as expected.
> > selection: abc[Ret]
>
> However calling directly readline with a space in the prompt does
> what I would expect.
>
> > a <- readline("selection: ")
> > selection: abc[Ret]
> > a
> > "abc"
>
> It is the expected behavior or am I missing something?

Works fine for me, with or without the space in the prompt string.
There *must* be something flaky in your system, but I'm damned if I can
come up with any useful suggestions for tracking down just where that
flakiness lies.  Sorry.

Perhaps try re-installing R???

cheers,

Rolf Turner

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276





	[[alternative HTML version deleted]]


From @@p@pp@@1 @end|ng |rom re@e@rch@g|@@@c@uk  Tue Feb  9 13:52:28 2021
From: @@p@pp@@1 @end|ng |rom re@e@rch@g|@@@c@uk (Katerina Pappa (PGR))
Date: Tue, 9 Feb 2021 12:52:28 +0000
Subject: [R] 3 x 2 mixed factorial design - which model is correct
Message-ID: <CWLP265MB0563CC00E4D02FCEDD66DEB99B8E9@CWLP265MB0563.GBRP265.PROD.OUTLOOK.COM>

Hello everyone,

I was hoping you could help with a few R-related questions.

I have a 3 x 2 mixed factorial design. This is a longitudinal design, where two groups of participants were assessed over three time points.

Factor Time has 3 levels (time 1, 2 and 3)
Factor Group has 2 levels (groups 1 and 2)
Dependent variables are continuous and represent gray matter volumes for 6 regions of interest

I have arranged the data as indicated below:

A tibble: 111 x 13

##    ID      Age Time  Group  lCau  rCau  lHip  rHip  lPut  rPut  T2vT1  T3vT1 G

##    <fct> <dbl> <fct> <fct> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>  <dbl>  <dbl>

##  1 BT02     22 T1-P? G2     2.65  2.71  2.58  2.83  3.17  3.05 -0.333 -0.333  -0.5

##  2 BT02     22 T2-E? G2     2.69  2.76  2.62  2.90  2.95  3.09  0.667 -0.333 -0.5

##  3 BT02     22 T3-P? G2     2.66  2.72  2.56  2.87  2.99  2.96 -0.333  0.667 -0.5

##  4 BT03     22 T1-P? G1     2.20  2.37  2.46  2.81  3.51  3.45 -0.333 -0.333  0.5

##  5 BT03     22 T2-E? G1     2.18  2.38  2.47  2.77  3.38  3.48  0.667 -0.333 0.5

##  6 BT03     22 T3-P? G1     2.18  2.33  2.44  2.78  3.61  3.66 -0.333  0.667 0.5

##  7 BT04     19 T1-P? G2     2.93  3.10  2.89  3.19  3.57  3.70 -0.333 -0.333 -0.5

##  8 BT04     19 T2-E? G2     2.91  3.07  2.86  3.18  3.46  3.60  0.667 -0.333 -0.5

##  9 BT04     19 T3-P? G2     2.84  3.01  2.90  3.23  3.54  3.71 -0.333  0.667 -0.5

taking the left caudate, .i.e. lCau, as an example:

Q1: Anova model
aov (lCau ~ Time*Group + Error(ID))  ?> is this model correct?

Q2: lm model
And then i used dummy coding for the lm model

lmer(lCau ~ (T2vT1 + T3vT1)*G+ (1 |ID))  ?> is this model correct?

Are these models correct for this type of data?

Q3: any thoughts on how to deal with unbalanced design (I have missing data for one participant for Time2)


Thank you!
Katerina

	[[alternative HTML version deleted]]


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Tue Feb  9 17:35:03 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David F.)
Date: Tue, 9 Feb 2021 16:35:03 +0000
Subject: [R] Need help using lattice
In-Reply-To: <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
References: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>
 <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>,
 <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
Message-ID: <BN7PR08MB41145D152D9530A4A7B4AD63D08E9@BN7PR08MB4114.namprd08.prod.outlook.com>

Thank you.

From: Gerrit Draisma <gdraisma at xs4all.nl>
Date: Tuesday, February 9, 2021 at 6:14 AM
To: Parkhurst, David F. <parkhurs at indiana.edu>
Cc: r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Need help using lattice
Ha David,
Thanks for your reply.
For your last question, you have to change month into an ordered factor
variable:

library(lattice)
df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
                  month=factor(3:12,levels=1:12,
                               labels=month.abb, ordered=TRUE))
df$conc <- rnorm(dim(df)[1])
dotplot(month~conc|site,data=df)

HTH, Gerrit



Op 08-02-2021 om 21:04 schreef Parkhurst, David F.:
> That worked nicely;  thanks again.  Here?s what I used for our data:
>
> library(lattice)
>
> df <-
> expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE","MoCe"),months=1:9)
>
> dotplot(months~conc | site, data=df)
>
> The result is attached.  Is there a way to replace the month numbers on
> the y axes with the names Apr-Dec?
>
> David
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb  9 18:27:05 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 9 Feb 2021 09:27:05 -0800
Subject: [R] 3 x 2 mixed factorial design - which model is correct
In-Reply-To: <CWLP265MB0563CC00E4D02FCEDD66DEB99B8E9@CWLP265MB0563.GBRP265.PROD.OUTLOOK.COM>
References: <CWLP265MB0563CC00E4D02FCEDD66DEB99B8E9@CWLP265MB0563.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CAGxFJbTED30R=PkDLZpYPNf43ODxSCbtMWEX4tc8qRw0uDpgbw@mail.gmail.com>

Please note, per the posting guide linked below:

"*Questions about statistics:* The R mailing lists are primarily intended
for questions and discussion about the R software. However, questions about
statistical methodology are sometimes posted. If the question is well-asked
and of interest to someone on the list, it *may* elicit an informative
up-to-date answer. See also the Usenet groups sci.stat.consult (applied
statistics and consulting) and sci.stat.math (mathematical stat and
probability)."

So do not be surprised if you do not get a helpful response here.
https://stats.stackexchange.com/  may be a better place for you to post
your queries.

As an editorial comment -- meaning feel free to ignore or dismiss -- the
reply to statistical questions like yours generally depend on the specific
research hypotheses of interest as well as the data. Clarifying the
research questions may increase your chance of success in further posts.
And a multivariate treatment of the data may also be more appropriate as
the responses among the various brain regions are likely correlated. Etc.

Cheers,
Bert

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Feb 9, 2021 at 7:54 AM Katerina Pappa (PGR) <
a.pappa.1 at research.gla.ac.uk> wrote:

> Hello everyone,
>
> I was hoping you could help with a few R-related questions.
>
> I have a 3 x 2 mixed factorial design. This is a longitudinal design,
> where two groups of participants were assessed over three time points.
>
> Factor Time has 3 levels (time 1, 2 and 3)
> Factor Group has 2 levels (groups 1 and 2)
> Dependent variables are continuous and represent gray matter volumes for 6
> regions of interest
>
> I have arranged the data as indicated below:
>
> A tibble: 111 x 13
>
> ##    ID      Age Time  Group  lCau  rCau  lHip  rHip  lPut  rPut  T2vT1
> T3vT1 G
>
> ##    <fct> <dbl> <fct> <fct> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>  <dbl>
> <dbl>
>
> ##  1 BT02     22 T1-P? G2     2.65  2.71  2.58  2.83  3.17  3.05 -0.333
> -0.333  -0.5
>
> ##  2 BT02     22 T2-E? G2     2.69  2.76  2.62  2.90  2.95  3.09  0.667
> -0.333 -0.5
>
> ##  3 BT02     22 T3-P? G2     2.66  2.72  2.56  2.87  2.99  2.96 -0.333
> 0.667 -0.5
>
> ##  4 BT03     22 T1-P? G1     2.20  2.37  2.46  2.81  3.51  3.45 -0.333
> -0.333  0.5
>
> ##  5 BT03     22 T2-E? G1     2.18  2.38  2.47  2.77  3.38  3.48  0.667
> -0.333 0.5
>
> ##  6 BT03     22 T3-P? G1     2.18  2.33  2.44  2.78  3.61  3.66 -0.333
> 0.667 0.5
>
> ##  7 BT04     19 T1-P? G2     2.93  3.10  2.89  3.19  3.57  3.70 -0.333
> -0.333 -0.5
>
> ##  8 BT04     19 T2-E? G2     2.91  3.07  2.86  3.18  3.46  3.60  0.667
> -0.333 -0.5
>
> ##  9 BT04     19 T3-P? G2     2.84  3.01  2.90  3.23  3.54  3.71 -0.333
> 0.667 -0.5
>
> taking the left caudate, .i.e. lCau, as an example:
>
> Q1: Anova model
> aov (lCau ~ Time*Group + Error(ID))  ?> is this model correct?
>
> Q2: lm model
> And then i used dummy coding for the lm model
>
> lmer(lCau ~ (T2vT1 + T3vT1)*G+ (1 |ID))  ?> is this model correct?
>
> Are these models correct for this type of data?
>
> Q3: any thoughts on how to deal with unbalanced design (I have missing
> data for one participant for Time2)
>
>
> Thank you!
> Katerina
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Tue Feb  9 21:14:27 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David F.)
Date: Tue, 9 Feb 2021 20:14:27 +0000
Subject: [R] Need help using lattice
In-Reply-To: <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
References: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>
 <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>,
 <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
Message-ID: <BN7PR08MB411484A4446986C25C6C9A20D08E9@BN7PR08MB4114.namprd08.prod.outlook.com>

When I enter your line:
df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
????????????????? month=factor(3:12,levels=1:12,
?????????????????????????????? labels=month.abb, ordered=TRUE))
I get + signs in front of month and label, as expected, and it follows with <

When I convert that to use my own variable names to this:
df <- expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE"),
? ? monames=factor(3:12, levels=1:12,
?? ? ? labels=AprToDec, ordered=TRUE))
 I get + signs in front of monames and labels, again as expected, but then it gives me another + sign.  And if I try to add another ), it keeps giving me + signs.  What is happening here?

From: Gerrit Draisma <gdraisma at xs4all.nl>
Date: Tuesday, February 9, 2021 at 6:14 AM
To: Parkhurst, David F. <parkhurs at indiana.edu>
Cc: r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Need help using lattice
Ha David,
Thanks for your reply.
For your last question, you have to change month into an ordered factor 
variable:

library(lattice)
df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
????????????????? month=factor(3:12,levels=1:12,
?????????????????????????????? labels=month.abb, ordered=TRUE))
df$conc <- rnorm(dim(df)[1])
dotplot(month~conc|site,data=df)

HTH, Gerrit



Op 08-02-2021 om 21:04 schreef Parkhurst, David F.:
> That worked nicely;? thanks again.? Here?s what I used for our data:
> 
> library(lattice)
> 
> df <- 
> expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE","MoCe"),months=1:9)
> 
> dotplot(months~conc | site, data=df)
> 
> The result is attached.? Is there a way to replace the month numbers on 
> the y axes with the names Apr-Dec?
> 
> David
> 


From gdr@|@m@ @end|ng |rom x@4@||@n|  Tue Feb  9 23:10:29 2021
From: gdr@|@m@ @end|ng |rom x@4@||@n| (Gerrit Draisma)
Date: Tue, 9 Feb 2021 23:10:29 +0100
Subject: [R] Need help using lattice
In-Reply-To: <BN7PR08MB411484A4446986C25C6C9A20D08E9@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>
 <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>
 <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
 <BN7PR08MB411484A4446986C25C6C9A20D08E9@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <d51371b9-b70c-6b26-e619-ca4aa737caa7@xs4all.nl>

Ha David,
I do not know.
It must be that your AprtoDec object  is different from month.abb.
Anyhow it should contain the labels for all twelve months!
If I copy your command in an interactive session I just get the message
that AprtoDec is not defined.

I understand that you type the commands interactively in an R session?
I usually prefer using an editor to write the program, and execute with a
 > source("dotplot.R",echo=TRUE)
command.
I like an editor with syntax highlighting and shows matching brackets.

I have attached my dotplot.R to this mail.

Gerrit

Op 09-02-2021 om 21:14 schreef Parkhurst, David F.:
> When I enter your line:
> df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
>  ????????????????? month=factor(3:12,levels=1:12,
>  ?????????????????????????????? labels=month.abb, ordered=TRUE))
> I get + signs in front of month and label, as expected, and it follows with <
> 
> When I convert that to use my own variable names to this:
> df <- expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE"),
>  ? ? monames=factor(3:12, levels=1:12,
>  ?? ? ? labels=AprToDec, ordered=TRUE))
>   I get + signs in front of monames and labels, again as expected, but then it gives me another + sign.  And if I try to add another ), it keeps giving me + signs.  What is happening here?
> 
> From: Gerrit Draisma <gdraisma at xs4all.nl>
> Date: Tuesday, February 9, 2021 at 6:14 AM
> To: Parkhurst, David F. <parkhurs at indiana.edu>
> Cc: r-help at r-project.org <r-help at r-project.org>
> Subject: Re: [R] Need help using lattice
> Ha David,
> Thanks for your reply.
> For your last question, you have to change month into an ordered factor
> variable:
> 
> library(lattice)
> df <- expand.grid(site=c("een","twee","drie","vier","vijf"),
>  ????????????????? month=factor(3:12,levels=1:12,
>  ?????????????????????????????? labels=month.abb, ordered=TRUE))
> df$conc <- rnorm(dim(df)[1])
> dotplot(month~conc|site,data=df)
> 
> HTH, Gerrit
> 
> 
> 
> Op 08-02-2021 om 21:04 schreef Parkhurst, David F.:
>> That worked nicely;? thanks again.? Here?s what I used for our data:
>>
>> library(lattice)
>>
>> df <-
>> expand.grid(site=c("CrCr","NFSC","MFSC","SFSC","LMO","MCE","MUE","MLE","MoCe"),months=1:9)
>>
>> dotplot(months~conc | site, data=df)
>>
>> The result is attached.? Is there a way to replace the month numbers on
>> the y axes with the names Apr-Dec?
>>
>> David
>>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dotplot.R
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20210209/74664e3d/attachment.ksh>

From p@rkhur@ @end|ng |rom |nd|@n@@edu  Wed Feb 10 03:14:13 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David F.)
Date: Wed, 10 Feb 2021 02:14:13 +0000
Subject: [R] Need help using lattice
In-Reply-To: <d51371b9-b70c-6b26-e619-ca4aa737caa7@xs4all.nl>
References: <b07efbaa-70b8-ede0-eb87-98770cf4b475@xs4all.nl>
 <BN7PR08MB4114BA619E96AC0F715FB57DD08F9@BN7PR08MB4114.namprd08.prod.outlook.com>
 <feb489da-1b53-5eeb-d03f-e21c54a1aaad@xs4all.nl>
 <BN7PR08MB411484A4446986C25C6C9A20D08E9@BN7PR08MB4114.namprd08.prod.outlook.com>,
 <d51371b9-b70c-6b26-e619-ca4aa737caa7@xs4all.nl>
Message-ID: <BN7PR08MB411446D0CC2EE808DC1B999FD08D9@BN7PR08MB4114.namprd08.prod.outlook.com>

Thanks.  What editor do you use?  I'm working in a Mac, if that makes a difference.

From: Gerrit Draisma <gdraisma at xs4all.nl>
Date: Tuesday, February 9, 2021 at 5:10 PM
To: Parkhurst, David F. <parkhurs at indiana.edu>
Cc: r-help at r-project.org <r-help at r-project.org>
Subject: Re: [R] Need help using lattice
Ha David,
I do not know.
It must be that your AprtoDec object? is different from month.abb.
Anyhow it should contain the labels for all twelve months!
If I copy your command in an interactive session I just get the message
that AprtoDec is not defined.

I understand that you type the commands interactively in an R session?
I usually prefer using an editor to write the program, and execute with a
?> source("dotplot.R",echo=TRUE)
command.
I like an editor with syntax highlighting and shows matching brackets.

I have attached my dotplot.R to this mail.

Gerrit


From chr|@ho|d @end|ng |rom p@yctc@org  Wed Feb 10 09:45:19 2021
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Wed, 10 Feb 2021 08:45:19 +0000 (GMT)
Subject: [R] .Rprofile with devtools::install_github() loops
Message-ID: <2072799638.92720.1612946719963.JavaMail.zimbra@psyctc.org>

I am sure this must be documented somewhere and that I'm missing something obvious but some searching isn't finding an answer and I'm sure there is one.

I have created a very simple package on GitHub and want my machines (other than the one that built it) to load it when they start R using devtools::install_github()

The install_github() call works fine from the console but when I put it in my .Rprofile it just loops on restarting R.  I _think_ it may be that devtools::install_github()
is restarting the session as I found one thing on the web suggesting that may be the case.  However, I think if it were the case it would be documented and I'd find
far more about that.

OK.  So my .Rprofile is:

print("This is a message from /home/chris/.Renviron: hello Chris!")
.First <- function(){
    devtools::install_github("xxxx/yyyy")
}
print("OK, off you go!")

I have obscured my package to protect my blushes but I get the same behaviour with r-lib/devtools and, as I say, my little package loads OK from the console.

You can see I tried wrapping it in a .First() function but that didn't change anything.

True both on a Linux machine and a Windows machine.

OK.  Anyone save me from more dents in the wall and frontal lobe damage?!

TIA,

Chris

-- 
Small contribution in our coronavirus rigours: 
https://www.coresystemtrust.org.uk/home/free-options-to-replace-paper-core-forms-during-the-coronavirus-pandemic/

Chris Evans <chris at psyctc.org> Visiting Professor, University of Sheffield <chris.evans at sheffield.ac.uk>
I do some consultation work for the University of Roehampton <chris.evans at roehampton.ac.uk> and other places
but <chris at psyctc.org> remains my main Email address.  I have a work web site at:
   https://www.psyctc.org/psyctc/
and a site I manage for CORE and CORE system trust at:
   http://www.coresystemtrust.org.uk/
I have "semigrated" to France, see: 
   https://www.psyctc.org/pelerinage2016/semigrating-to-france/ 
   https://www.psyctc.org/pelerinage2016/register-to-get-updates-from-pelerinage2016/

If you want an Emeeting, I am trying to keep them to Thursdays and my diary is at:
   https://www.psyctc.org/pelerinage2016/ceworkdiary/
Beware: French time, generally an hour ahead of UK.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Wed Feb 10 17:48:18 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Wed, 10 Feb 2021 08:48:18 -0800
Subject: [R] .Rprofile with devtools::install_github() loops
In-Reply-To: <2072799638.92720.1612946719963.JavaMail.zimbra@psyctc.org>
References: <2072799638.92720.1612946719963.JavaMail.zimbra@psyctc.org>
Message-ID: <CAHqSRuRR4ymy-_0cMgWOSa8Wn5=rBpYiR_c4EKX2mDG4CLD2wA@mail.gmail.com>

Installing a package involves running several R subprocesses, each of
which is running that .Rprofile.  You may be able to stop the infinite
recursion by setting an environment variable that subprocesses can
check.  E.g. replace
  install_github("xxx/yyy")
with
  if (Sys.getenv("INSTALLING_FROM_GITHUB", unset="no") == "no") {
    Sys.setenv(INSTALLING_FROM_GITHUB="yes")
    install_github("xxx/yyy")
  }

[This is totally untested.]

-Bill

On Wed, Feb 10, 2021 at 12:45 AM Chris Evans <chrishold at psyctc.org> wrote:
>
> I am sure this must be documented somewhere and that I'm missing something obvious but some searching isn't finding an answer and I'm sure there is one.
>
> I have created a very simple package on GitHub and want my machines (other than the one that built it) to load it when they start R using devtools::install_github()
>
> The install_github() call works fine from the console but when I put it in my .Rprofile it just loops on restarting R.  I _think_ it may be that devtools::install_github()
> is restarting the session as I found one thing on the web suggesting that may be the case.  However, I think if it were the case it would be documented and I'd find
> far more about that.
>
> OK.  So my .Rprofile is:
>
> print("This is a message from /home/chris/.Renviron: hello Chris!")
> .First <- function(){
>     devtools::install_github("xxxx/yyyy")
> }
> print("OK, off you go!")
>
> I have obscured my package to protect my blushes but I get the same behaviour with r-lib/devtools and, as I say, my little package loads OK from the console.
>
> You can see I tried wrapping it in a .First() function but that didn't change anything.
>
> True both on a Linux machine and a Windows machine.
>
> OK.  Anyone save me from more dents in the wall and frontal lobe damage?!
>
> TIA,
>
> Chris
>
> --
> Small contribution in our coronavirus rigours:
> https://www.coresystemtrust.org.uk/home/free-options-to-replace-paper-core-forms-during-the-coronavirus-pandemic/
>
> Chris Evans <chris at psyctc.org> Visiting Professor, University of Sheffield <chris.evans at sheffield.ac.uk>
> I do some consultation work for the University of Roehampton <chris.evans at roehampton.ac.uk> and other places
> but <chris at psyctc.org> remains my main Email address.  I have a work web site at:
>    https://www.psyctc.org/psyctc/
> and a site I manage for CORE and CORE system trust at:
>    http://www.coresystemtrust.org.uk/
> I have "semigrated" to France, see:
>    https://www.psyctc.org/pelerinage2016/semigrating-to-france/
>    https://www.psyctc.org/pelerinage2016/register-to-get-updates-from-pelerinage2016/
>
> If you want an Emeeting, I am trying to keep them to Thursdays and my diary is at:
>    https://www.psyctc.org/pelerinage2016/ceworkdiary/
> Beware: French time, generally an hour ahead of UK.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From chr|@ho|d @end|ng |rom p@yctc@org  Thu Feb 11 14:13:13 2021
From: chr|@ho|d @end|ng |rom p@yctc@org (Chris Evans)
Date: Thu, 11 Feb 2021 13:13:13 +0000 (GMT)
Subject: [R] .Rprofile with devtools::install_github() loops
In-Reply-To: <CAHqSRuRR4ymy-_0cMgWOSa8Wn5=rBpYiR_c4EKX2mDG4CLD2wA@mail.gmail.com>
References: <2072799638.92720.1612946719963.JavaMail.zimbra@psyctc.org>
 <CAHqSRuRR4ymy-_0cMgWOSa8Wn5=rBpYiR_c4EKX2mDG4CLD2wA@mail.gmail.com>
Message-ID: <1236961850.2149547.1613049193129.JavaMail.zimbra@psyctc.org>

Works perfectly.  Brilliant.

I have added this, with appreciation to you Bill, to my "post" about creating my first (and probably only!) R package at:

https://www.psyctc.org/Rblog/posts/2021-02-10-making-my-first-usable-package/

Thanks Bill, very best all,

Chris

----- Original Message -----
> From: "Bill Dunlap" <williamwdunlap at gmail.com>
> To: "Chris Evans" <chrishold at psyctc.org>
> Cc: "R-help" <r-help at r-project.org>
> Sent: Wednesday, 10 February, 2021 16:48:18
> Subject: Re: [R] .Rprofile with devtools::install_github() loops

> Installing a package involves running several R subprocesses, each of
> which is running that .Rprofile.  You may be able to stop the infinite
> recursion by setting an environment variable that subprocesses can
> check.  E.g. replace
>  install_github("xxx/yyy")
> with
>  if (Sys.getenv("INSTALLING_FROM_GITHUB", unset="no") == "no") {
>    Sys.setenv(INSTALLING_FROM_GITHUB="yes")
>    install_github("xxx/yyy")
>  }
> 
> [This is totally untested.]
> 
> -Bill
> 
> On Wed, Feb 10, 2021 at 12:45 AM Chris Evans <chrishold at psyctc.org> wrote:
>>
>> I am sure this must be documented somewhere and that I'm missing something
>> obvious but some searching isn't finding an answer and I'm sure there is one.
>>
>> I have created a very simple package on GitHub and want my machines (other than
>> the one that built it) to load it when they start R using
>> devtools::install_github()
>>
>> The install_github() call works fine from the console but when I put it in my
>> .Rprofile it just loops on restarting R.  I _think_ it may be that
>> devtools::install_github()
>> is restarting the session as I found one thing on the web suggesting that may be
>> the case.  However, I think if it were the case it would be documented and I'd
>> find
>> far more about that.
>>
>> OK.  So my .Rprofile is:
>>
>> print("This is a message from /home/chris/.Renviron: hello Chris!")
>> .First <- function(){
>>     devtools::install_github("xxxx/yyyy")
>> }
>> print("OK, off you go!")
>>
>> I have obscured my package to protect my blushes but I get the same behaviour
>> with r-lib/devtools and, as I say, my little package loads OK from the console.
>>
>> You can see I tried wrapping it in a .First() function but that didn't change
>> anything.
>>
>> True both on a Linux machine and a Windows machine.
>>
>> OK.  Anyone save me from more dents in the wall and frontal lobe damage?!
>>
>> TIA,
>>
>> Chris
>>
>> --
>> Small contribution in our coronavirus rigours:
>> https://www.coresystemtrust.org.uk/home/free-options-to-replace-paper-core-forms-during-the-coronavirus-pandemic/
>>
>> Chris Evans <chris at psyctc.org> Visiting Professor, University of Sheffield
>> <chris.evans at sheffield.ac.uk>
>> I do some consultation work for the University of Roehampton
>> <chris.evans at roehampton.ac.uk> and other places
>> but <chris at psyctc.org> remains my main Email address.  I have a work web site
>> at:
>>    https://www.psyctc.org/psyctc/
>> and a site I manage for CORE and CORE system trust at:
>>    http://www.coresystemtrust.org.uk/
>> I have "semigrated" to France, see:
>>    https://www.psyctc.org/pelerinage2016/semigrating-to-france/
>>    https://www.psyctc.org/pelerinage2016/register-to-get-updates-from-pelerinage2016/
>>
>> If you want an Emeeting, I am trying to keep them to Thursdays and my diary is
>> at:
>>    https://www.psyctc.org/pelerinage2016/ceworkdiary/
>> Beware: French time, generally an hour ahead of UK.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.

-- 
Small contribution in our coronavirus rigours: 
https://www.coresystemtrust.org.uk/home/free-options-to-replace-paper-core-forms-during-the-coronavirus-pandemic/

Chris Evans <chris at psyctc.org> Visiting Professor, University of Sheffield <chris.evans at sheffield.ac.uk>
I do some consultation work for the University of Roehampton <chris.evans at roehampton.ac.uk> and other places
but <chris at psyctc.org> remains my main Email address.  I have a work web site at:
   https://www.psyctc.org/psyctc/
and a site I manage for CORE and CORE system trust at:
   http://www.coresystemtrust.org.uk/
I have "semigrated" to France, see: 
   https://www.psyctc.org/pelerinage2016/semigrating-to-france/ 
   https://www.psyctc.org/pelerinage2016/register-to-get-updates-from-pelerinage2016/

If you want an Emeeting, I am trying to keep them to Thursdays and my diary is at:
   https://www.psyctc.org/pelerinage2016/ceworkdiary/
Beware: French time, generally an hour ahead of UK.


From rom@nu@ej|ke1971 @end|ng |rom gm@||@com  Fri Feb 12 15:11:44 2021
From: rom@nu@ej|ke1971 @end|ng |rom gm@||@com (Romanus Ejike)
Date: Fri, 12 Feb 2021 15:11:44 +0100
Subject: [R] Plotting world maps with locations.
Message-ID: <CACKDqucNhJ-ubmHmoyKgkYNxDDkk9SVh9ZsY-D4ZWq2UMMAO+w@mail.gmail.com>

Please, I need help from anyone that can solve this problem.
I wanted to plot a world map with locations and names of the locations but
could not. The codes I have tried are as shown below.
ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R

R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> NMdata <-
read.table("NM1989.txt",col.names=c("SNAME","FNAME","NMTYPE","LAT","LON","ALTI"))
> library(ggplot2)
> library(sf)
Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> library(rnaturalearth)
> library(rnaturalearthdata)
> world <- ne_countries(scale = "medium", returnclass = "sf")
> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
+ coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
FALSE) + ggtitle("World map") + points(NMdata$LON,Nmdata$LAT,col = "red",
cex = 0.01)
Error in xy.coords(x, y) : object 'Nmdata' not found
> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
+ coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
cex = 0.01)
Error in plot.xy(xy.coords(x, y), type = type, ...) :
  plot.new has not been called yet
In addition: Warning messages:
1: In xy.coords(x, y) : NAs introduced by coercion
2: In xy.coords(x, y) : NAs introduced by coercion
3: In (function (display = "", width, height, pointsize, gamma, bg,  :
  locale not supported by Xlib: some X ops will operate in C locale
4: In (function (display = "", width, height, pointsize, gamma, bg,  :
  X cannot set locale modifiers
> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
+ coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
cex = 0.01, pch = 20)
Error in plot.xy(xy.coords(x, y), type = type, ...) :
  plot.new has not been called yet
In addition: Warning messages:
1: In xy.coords(x, y) : NAs introduced by coercion
2: In xy.coords(x, y) : NAs introduced by coercion.
I have also tried the codes below but it did not show the locations.
ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R

R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library("ggplot2")
> library(sf)
Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> library("rnaturalearth")
> library("rnaturalearthdata")
> theme_set(theme_bw())
> world <- ne_countries(scale = "medium", returnclass = "sf")
> class(world)
[1] "sf"         "data.frame"
> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
+
+ + ggtitle("World map") + coord_sf(crs = "+proj=laea +lat_0=52 +lon_0=10
+x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ")
Error in +ggtitle("World map") : invalid argument to unary operator
> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
+ ggtitle("World map") + coord_sf(crs = "+proj=laea + lat_0=52 + lon_0=10 +
x_0=4321000 + y_0=3210000 + ellps=GRS80 + units=m + no_defs ")
Warning messages:
1: In (function (display = "", width, height, pointsize, gamma, bg,  :
  locale not supported by Xlib: some X ops will operate in C locale
2: In (function (display = "", width, height, pointsize, gamma, bg,  :
  X cannot set locale modifiers.
I really appreciate any help rendered. Thanks

	[[alternative HTML version deleted]]


From |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu  Fri Feb 12 16:05:27 2021
From: |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu (Informatique)
Date: Fri, 12 Feb 2021 16:05:27 +0100
Subject: [R] Axis whitout all the row, that contains time
Message-ID: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>

Hello,

i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.

I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)

but i don't understand how select every 20 s.

Thank's for your help

Fran?ois-marie BILLARD
-- 
Informatique <informatique at billard-francois-marie.eu>


From jrkr|de@u @end|ng |rom gm@||@com  Fri Feb 12 18:30:18 2021
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Fri, 12 Feb 2021 12:30:18 -0500
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
Message-ID: <CAKZQJMCwkvDZgot0j3GOQKJhhm-xKhYGu1D5Uqjw7vgEzogvwg@mail.gmail.com>

With a dat.frame "mydata" create a new variable mydata$num
mydata$num  <-  1:nrow(mydata)

new_data  <-  subset(mydata, num == 10)

plot using new_data

On Fri, 12 Feb 2021 at 10:35, Informatique <
informatique at billard-francois-marie.eu> wrote:

> Hello,
>
> i'm using Rstudio from a few day, and i have some information in a CVS
> file, take every five second, format of the time is HH:MM:SS.
> I use the hour on the X axis, but i don't want having all the time print.
> For example only every 10 values.
>
> I think it will be possible with   scale_x_datetime(breaks =
> date_breaks(XXX)
>
> but i don't understand how select every 20 s.
>
> Thank's for your help
>
> Fran?ois-marie BILLARD
> --
> Informatique <informatique at billard-francois-marie.eu>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Feb 12 19:24:35 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 12 Feb 2021 18:24:35 +0000
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
Message-ID: <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>

Hello,

In order to select every 20 s, set the date_breaks = "20 secs", not the 
breaks.
The axis labels are also formatted, with date_labels, standard datetime 
format strings are used for this. And rotated, not part of the question.

# Create some data
set.seed(2021)
time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"), 
by = "1 secs")
y <- cumsum(rnorm(length(time)))
df1 <- data.frame(time, y)

# Plot the data
library(ggplot2)

ggplot(df1, aes(time, y)) +
   geom_line() +
   scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
   theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, 
size = 5))


Hope this helps,

Rui Barradas

?s 15:05 de 12/02/21, Informatique escreveu:
> Hello,
> 
> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
> 
> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
> 
> but i don't understand how select every 20 s.
> 
> Thank's for your help
> 
> Fran?ois-marie BILLARD
>


From j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng  Fri Feb 12 22:34:44 2021
From: j|br|n@@|h@@@@n @end|ng |rom unn@edu@ng (Jibrin Alhassan)
Date: Fri, 12 Feb 2021 22:34:44 +0100
Subject: [R] Plotting world maps with locations.
In-Reply-To: <CACKDqucNhJ-ubmHmoyKgkYNxDDkk9SVh9ZsY-D4ZWq2UMMAO+w@mail.gmail.com>
References: <CACKDqucNhJ-ubmHmoyKgkYNxDDkk9SVh9ZsY-D4ZWq2UMMAO+w@mail.gmail.com>
Message-ID: <CAEGeL+F5WhE=zQuipN9W7ZGNibBjOp9XgsNtKpb=sZeCPJ2mxQ@mail.gmail.com>

Hello Romanus,
You are to post only the code and the error messages and not all the
information from your terminal in R session.

On Fri, Feb 12, 2021, 4:35 PM Romanus Ejike <romanusejike1971 at gmail.com>
wrote:

> Please, I need help from anyone that can solve this problem.
> I wanted to plot a world map with locations and names of the locations but
> could not. The codes I have tried are as shown below.
> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>
> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
> Copyright (C) 2020 The R Foundation for Statistical Computing
> Platform: x86_64-pc-linux-gnu (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
>   Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> > NMdata <-
>
> read.table("NM1989.txt",col.names=c("SNAME","FNAME","NMTYPE","LAT","LON","ALTI"))
> > library(ggplot2)
> > library(sf)
> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> > library(rnaturalearth)
> > library(rnaturalearthdata)
> > world <- ne_countries(scale = "medium", returnclass = "sf")
> > ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> FALSE) + ggtitle("World map") + points(NMdata$LON,Nmdata$LAT,col = "red",
> cex = 0.01)
> Error in xy.coords(x, y) : object 'Nmdata' not found
> > ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
> cex = 0.01)
> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>   plot.new has not been called yet
> In addition: Warning messages:
> 1: In xy.coords(x, y) : NAs introduced by coercion
> 2: In xy.coords(x, y) : NAs introduced by coercion
> 3: In (function (display = "", width, height, pointsize, gamma, bg,  :
>   locale not supported by Xlib: some X ops will operate in C locale
> 4: In (function (display = "", width, height, pointsize, gamma, bg,  :
>   X cannot set locale modifiers
> > ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
> cex = 0.01, pch = 20)
> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>   plot.new has not been called yet
> In addition: Warning messages:
> 1: In xy.coords(x, y) : NAs introduced by coercion
> 2: In xy.coords(x, y) : NAs introduced by coercion.
> I have also tried the codes below but it did not show the locations.
> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>
> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
> Copyright (C) 2020 The R Foundation for Statistical Computing
> Platform: x86_64-pc-linux-gnu (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
>   Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> > library("ggplot2")
> > library(sf)
> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> > library("rnaturalearth")
> > library("rnaturalearthdata")
> > theme_set(theme_bw())
> > world <- ne_countries(scale = "medium", returnclass = "sf")
> > class(world)
> [1] "sf"         "data.frame"
> > ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
> +
> + + ggtitle("World map") + coord_sf(crs = "+proj=laea +lat_0=52 +lon_0=10
> +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ")
> Error in +ggtitle("World map") : invalid argument to unary operator
> > ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
> + ggtitle("World map") + coord_sf(crs = "+proj=laea + lat_0=52 + lon_0=10 +
> x_0=4321000 + y_0=3210000 + ellps=GRS80 + units=m + no_defs ")
> Warning messages:
> 1: In (function (display = "", width, height, pointsize, gamma, bg,  :
>   locale not supported by Xlib: some X ops will operate in C locale
> 2: In (function (display = "", width, height, pointsize, gamma, bg,  :
>   X cannot set locale modifiers.
> I really appreciate any help rendered. Thanks
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Fri Feb 12 22:53:27 2021
From: @purd|e@@ @end|ng |rom gm@||@com (=?UTF-8?B?QWJieSBTcHVyZGxlICgvyZnLiGJpLyk=?=)
Date: Sat, 13 Feb 2021 10:53:27 +1300
Subject: [R] Is it Possible to Create S4 Function Objects?
Message-ID: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>

Dear All,

I was wondering if it's possible to create S4 function objects?
(Or S4 closures, if you prefer).

i.e.
An R object, that is both an S4 object, and a function.

This would allow one to write:

> f <- constructor4.functionobj ()
> f ()
> f at slot.of.f

I've searched for this, but I can't find any examples.

If it's possible, then that leads to the question of if/how the body
of f() could directly access the value of the slot?

> f <- function ()
>    this at slot.of.f

I should note that the more common approach of storing values in a
function's environment, doesn't work well for top-level objects.
This approach is dependent on immutability of the function's data, and
I'm reluctant to create such constraints.


From robert@dod|er @end|ng |rom gm@||@com  Sat Feb 13 00:05:33 2021
From: robert@dod|er @end|ng |rom gm@||@com (Robert Dodier)
Date: Fri, 12 Feb 2021 15:05:33 -0800
Subject: [R] ISO recommendations for plot output format from R to MS Word
Message-ID: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>

I need to export plots (constructed with plot and with ggplot) from R
to be imported into a MS Word document.

I am working with MS Word for Mac version 16.16.10 (copyright 2018)
and R versions 3.6.3 and/or 4.0.3.

I have verified that the version of MS Word which I am working with
can import SVG exported from R via svglite.

What I am mostly worried about is that other people with possibly
different versions of MS Word will not be able to view the document
correctly.

Towards the goal of creating an MS Word document which others with
unspecified versions of MS Word can view correctly, in what format
should I export figures from R?

I am working with a fairly large number of figures so there is some
motivation towards a fully automated process.

I have searched various forums and archives, but much of the
information may be out of date, so I am hoping that you can help me
with some up to date information.

Thank you very much for any light you can shed on this problem.

Robert Dodier


From j@zh@o @end|ng |rom ye@h@net  Sat Feb 13 01:43:37 2021
From: j@zh@o @end|ng |rom ye@h@net (Jinsong Zhao)
Date: Sat, 13 Feb 2021 08:43:37 +0800
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
Message-ID: <75131f74-40d8-228d-9a12-2775bfdc02e7@yeah.net>

On 2021/2/13 7:05, Robert Dodier wrote:
> I need to export plots (constructed with plot and with ggplot) from R
> to be imported into a MS Word document.
> 
> I am working with MS Word for Mac version 16.16.10 (copyright 2018)
> and R versions 3.6.3 and/or 4.0.3.
> 
> I have verified that the version of MS Word which I am working with
> can import SVG exported from R via svglite.
> 
> What I am mostly worried about is that other people with possibly
> different versions of MS Word will not be able to view the document
> correctly.
> 

On Windows, MS Word can not display the SVG imported. In my memory, the 
only fully supported vector graphic format is "emf" or "wmf" (both a 
same?). Encapsulated PostScript(EPS) seems to be supported with specific 
plugin (I am not very sure about it).

However, some figures produced by win.metafile() could display correctly 
in Word, but weird when convert to PDF.

> Towards the goal of creating an MS Word document which others with
> unspecified versions of MS Word can view correctly, in what format
> should I export figures from R?
> 
> I am working with a fairly large number of figures so there is some
> motivation towards a fully automated process.
> 
> I have searched various forums and archives, but much of the
> information may be out of date, so I am hoping that you can help me
> with some up to date information.
> 
> Thank you very much for any light you can shed on this problem.
> 
> Robert Dodier
>


From g||ted|||e2014 @end|ng |rom gm@||@com  Sat Feb 13 03:49:37 2021
From: g||ted|||e2014 @end|ng |rom gm@||@com (Ogbos Okike)
Date: Sat, 13 Feb 2021 03:49:37 +0100
Subject: [R] Just Published, Thanks for your assistance
Message-ID: <CAC8ss30J=5cOmxVWk2GvXU7E6xjdz+JWXPPoni1ORg50rOjtAQ@mail.gmail.com>

Dear Experts,
In the first few months of last year, I was asking a question based on of
one my codes. I received useful help here. Many thanks again.

I am glad to share one of the results of the script. I acknowledged the
entire list and some specific individuals that contributed.

Best regards.
Ogbos
https://academic.oup.com/mnras/article/502/1/300/6054537?guestAccessKey=9d83237e-54ae-45b1-b802-90ddb3b9e837
<http://track.smtpserver.email/9032119/c?p=qkplikjkaCj2OGDB3c39cGR17j5O5NXa-o5n9GT_aedGKYD-scNsPuFna_E563ULlU3qUpKJeYMPTJ9K7IWb917c98GIg-BSaEfHEDGIyWD0n4SF7Eoyk-3u-cE3XPixSHbJDJRS_ONH3i2aDmD5qbYjTCkl_LaUb9TCsAcDr8OnRm4sT-k27Nqx5qj9b_opht3iZZllX2Efn_IbHUDv2ktoGkGGudUq4UUFnT96BmTChRzNPYJJrh5URxukdYJk>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Feb 13 06:01:17 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 12 Feb 2021 21:01:17 -0800
Subject: [R] Plotting world maps with locations.
In-Reply-To: <CAEGeL+F5WhE=zQuipN9W7ZGNibBjOp9XgsNtKpb=sZeCPJ2mxQ@mail.gmail.com>
References: <CAEGeL+F5WhE=zQuipN9W7ZGNibBjOp9XgsNtKpb=sZeCPJ2mxQ@mail.gmail.com>
Message-ID: <B75BDCE4-224D-4FB4-9906-E660579E626D@comcast.net>



Sent from my iPhone

> On Feb 12, 2021, at 1:35 PM, Jibrin Alhassan <jibrin.alhassan at unn.edu.ng> wrote:
> 
> ?Hello Romanus,
> You are to post only the code and the error messages and not all the
> information from your terminal in R session.

That?s not actually the best practice for rhelp questions. More info is better than less. What?s missing, however, is the data. 

? 
David
> 
>> On Fri, Feb 12, 2021, 4:35 PM Romanus Ejike <romanusejike1971 at gmail.com>
>> wrote:
>> 
>> Please, I need help from anyone that can solve this problem.
>> I wanted to plot a world map with locations and names of the locations but
>> could not. The codes I have tried are as shown below.
>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>> 
>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
>> Copyright (C) 2020 The R Foundation for Statistical Computing
>> Platform: x86_64-pc-linux-gnu (64-bit)
>> 
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>> 
>>  Natural language support but running in an English locale
>> 
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>> 
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>> 
>>> NMdata <-
>> 
>> read.table("NM1989.txt",col.names=c("SNAME","FNAME","NMTYPE","LAT","LON","ALTI"))
>>> library(ggplot2)
>>> library(sf)
>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
>>> library(rnaturalearth)
>>> library(rnaturalearthdata)
>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>> FALSE) + ggtitle("World map") + points(NMdata$LON,Nmdata$LAT,col = "red",
>> cex = 0.01)
>> Error in xy.coords(x, y) : object 'Nmdata' not found
>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
>> cex = 0.01)
>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>>  plot.new has not been called yet
>> In addition: Warning messages:
>> 1: In xy.coords(x, y) : NAs introduced by coercion
>> 2: In xy.coords(x, y) : NAs introduced by coercion
>> 3: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>  locale not supported by Xlib: some X ops will operate in C locale
>> 4: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>  X cannot set locale modifiers
>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
>> cex = 0.01, pch = 20)
>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>>  plot.new has not been called yet
>> In addition: Warning messages:
>> 1: In xy.coords(x, y) : NAs introduced by coercion
>> 2: In xy.coords(x, y) : NAs introduced by coercion.
>> I have also tried the codes below but it did not show the locations.
>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>> 
>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
>> Copyright (C) 2020 The R Foundation for Statistical Computing
>> Platform: x86_64-pc-linux-gnu (64-bit)
>> 
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>> 
>>  Natural language support but running in an English locale
>> 
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>> 
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>> 
>>> library("ggplot2")
>>> library(sf)
>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
>>> library("rnaturalearth")
>>> library("rnaturalearthdata")
>>> theme_set(theme_bw())
>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>> class(world)
>> [1] "sf"         "data.frame"
>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>> +
>> + + ggtitle("World map") + coord_sf(crs = "+proj=laea +lat_0=52 +lon_0=10
>> +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ")
>> Error in +ggtitle("World map") : invalid argument to unary operator
>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>> + ggtitle("World map") + coord_sf(crs = "+proj=laea + lat_0=52 + lon_0=10 +
>> x_0=4321000 + y_0=3210000 + ellps=GRS80 + units=m + no_defs ")
>> Warning messages:
>> 1: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>  locale not supported by Xlib: some X ops will operate in C locale
>> 2: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>  X cannot set locale modifiers.
>> I really appreciate any help rendered. Thanks
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Feb 13 06:04:38 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 12 Feb 2021 21:04:38 -0800
Subject: [R] Plotting world maps with locations.
In-Reply-To: <B75BDCE4-224D-4FB4-9906-E660579E626D@comcast.net>
References: <B75BDCE4-224D-4FB4-9906-E660579E626D@comcast.net>
Message-ID: <885BB689-75B4-40E0-9085-9E43F7D4D76A@comcast.net>



Sent from my iPhone

> On Feb 12, 2021, at 9:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> ?
> 
> Sent from my iPhone
> 
>> On Feb 12, 2021, at 1:35 PM, Jibrin Alhassan <jibrin.alhassan at unn.edu.ng> wrote:
>> 
>> ?Hello Romanus,
>> You are to post only the code and the error messages and not all the
>> information from your terminal in R session.
> 
> That?s not actually the best practice for rhelp questions. More info is better than less. What?s missing, however, is the data. 
> 
> ? 
> David
>> 
>>> On Fri, Feb 12, 2021, 4:35 PM Romanus Ejike <romanusejike1971 at gmail.com>
>>> wrote:
>>> 
>>> Please, I need help from anyone that can solve this problem.
>>> I wanted to plot a world map with locations and names of the locations but
>>> could not. The codes I have tried are as shown below.
>>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>>> 
>>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
>>> Copyright (C) 2020 The R Foundation for Statistical Computing
>>> Platform: x86_64-pc-linux-gnu (64-bit)
>>> 
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>> 
>>> Natural language support but running in an English locale
>>> 
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>> 
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>> 
>>>> NMdata <-
>>> 
>>> read.table("NM1989.txt",col.names=c("SNAME","FNAME","NMTYPE","LAT","LON","ALTI"))
Here the file is named NMdata. 

>>>> library(ggplot2)
>>>> library(sf)
>>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
>>>> library(rnaturalearth)
>>>> library(rnaturalearthdata)
>>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>>> FALSE) + ggtitle("World map") + points(NMdata$LON,Nmdata$LAT,col = "red",
>>> cex = 0.01)
>>> Error in xy.coords(x, y) : object 'Nmdata' not found

But the error says Nmdata not found. SPELLING!!!!

? 
David
>>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
>>> cex = 0.01)
>>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>>> plot.new has not been called yet
>>> In addition: Warning messages:
>>> 1: In xy.coords(x, y) : NAs introduced by coercion
>>> 2: In xy.coords(x, y) : NAs introduced by coercion
>>> 3: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>> locale not supported by Xlib: some X ops will operate in C locale
>>> 4: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>> X cannot set locale modifiers
>>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
>>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col = "red",
>>> cex = 0.01, pch = 20)
>>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
>>> plot.new has not been called yet
>>> In addition: Warning messages:
>>> 1: In xy.coords(x, y) : NAs introduced by coercion
>>> 2: In xy.coords(x, y) : NAs introduced by coercion.
>>> I have also tried the codes below but it did not show the locations.
>>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
>>> 
>>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
>>> Copyright (C) 2020 The R Foundation for Statistical Computing
>>> Platform: x86_64-pc-linux-gnu (64-bit)
>>> 
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>> 
>>> Natural language support but running in an English locale
>>> 
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>> 
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>> 
>>>> library("ggplot2")
>>>> library(sf)
>>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
>>>> library("rnaturalearth")
>>>> library("rnaturalearthdata")
>>>> theme_set(theme_bw())
>>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>>> class(world)
>>> [1] "sf"         "data.frame"
>>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>>> +
>>> + + ggtitle("World map") + coord_sf(crs = "+proj=laea +lat_0=52 +lon_0=10
>>> +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ")
>>> Error in +ggtitle("World map") : invalid argument to unary operator
>>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y = "Latitude")
>>> + ggtitle("World map") + coord_sf(crs = "+proj=laea + lat_0=52 + lon_0=10 +
>>> x_0=4321000 + y_0=3210000 + ellps=GRS80 + units=m + no_defs ")
>>> Warning messages:
>>> 1: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>> locale not supported by Xlib: some X ops will operate in C locale
>>> 2: In (function (display = "", width, height, pointsize, gamma, bg,  :
>>> X cannot set locale modifiers.
>>> I really appreciate any help rendered. Thanks
>>> 
>>>       [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 
>>   [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Feb 13 07:55:11 2021
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 13 Feb 2021 09:55:11 +0300
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
Message-ID: <20210213095511.722507e7@Tarkus>

On Fri, 12 Feb 2021 15:05:33 -0800
Robert Dodier <robert.dodier at gmail.com> wrote:

> Towards the goal of creating an MS Word document which others with
> unspecified versions of MS Word can view correctly, in what format
> should I export figures from R?

A cross-platform plotting device designed specifically for word
processors is devEMF. In my experience, best compatibility with Word
can be achieved by creating figures with parameters (emfPlus = TRUE,
emfPlusFont = FALSE, emfPlusRaster = TRUE), but I only checked Word
2003 and 2010 (for Windows).

-- 
Best regards,
Ivan


From rom@nu@ej|ke1971 @end|ng |rom gm@||@com  Sat Feb 13 13:44:37 2021
From: rom@nu@ej|ke1971 @end|ng |rom gm@||@com (Romanus Ejike)
Date: Sat, 13 Feb 2021 13:44:37 +0100
Subject: [R] Plotting world maps with locations.
In-Reply-To: <885BB689-75B4-40E0-9085-9E43F7D4D76A@comcast.net>
References: <B75BDCE4-224D-4FB4-9906-E660579E626D@comcast.net>
 <885BB689-75B4-40E0-9085-9E43F7D4D76A@comcast.net>
Message-ID: <CACKDqucdEhc_MZkRcHqeR=ks8ATUTKhJhYuVBoyrq15uZSttJg@mail.gmail.com>

Awesome, thanks! I will make corrections and see if it will work.

On Sat, Feb 13, 2021 at 6:04 AM David Winsemius <dwinsemius at comcast.net>
wrote:

>
>
> Sent from my iPhone
>
> > On Feb 12, 2021, at 9:01 PM, David Winsemius <dwinsemius at comcast.net>
> wrote:
> >
> > ?
> >
> > Sent from my iPhone
> >
> >> On Feb 12, 2021, at 1:35 PM, Jibrin Alhassan <
> jibrin.alhassan at unn.edu.ng> wrote:
> >>
> >> ?Hello Romanus,
> >> You are to post only the code and the error messages and not all the
> >> information from your terminal in R session.
> >
> > That?s not actually the best practice for rhelp questions. More info is
> better than less. What?s missing, however, is the data.
> >
> > ?
> > David
> >>
> >>> On Fri, Feb 12, 2021, 4:35 PM Romanus Ejike <
> romanusejike1971 at gmail.com>
> >>> wrote:
> >>>
> >>> Please, I need help from anyone that can solve this problem.
> >>> I wanted to plot a world map with locations and names of the locations
> but
> >>> could not. The codes I have tried are as shown below.
> >>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
> >>>
> >>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
> >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> >>> Platform: x86_64-pc-linux-gnu (64-bit)
> >>>
> >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> >>> You are welcome to redistribute it under certain conditions.
> >>> Type 'license()' or 'licence()' for distribution details.
> >>>
> >>> Natural language support but running in an English locale
> >>>
> >>> R is a collaborative project with many contributors.
> >>> Type 'contributors()' for more information and
> >>> 'citation()' on how to cite R or R packages in publications.
> >>>
> >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> >>> 'help.start()' for an HTML browser interface to help.
> >>> Type 'q()' to quit R.
> >>>
> >>>> NMdata <-
> >>>
> >>>
> read.table("NM1989.txt",col.names=c("SNAME","FNAME","NMTYPE","LAT","LON","ALTI"))
> Here the file is named NMdata.
>
> >>>> library(ggplot2)
> >>>> library(sf)
> >>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> >>>> library(rnaturalearth)
> >>>> library(rnaturalearthdata)
> >>>> world <- ne_countries(scale = "medium", returnclass = "sf")
> >>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y =
> "Latitude")
> >>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> >>> FALSE) + ggtitle("World map") + points(NMdata$LON,Nmdata$LAT,col =
> "red",
> >>> cex = 0.01)
> >>> Error in xy.coords(x, y) : object 'Nmdata' not found
>
> But the error says Nmdata not found. SPELLING!!!!
>
> ?
> David
> >>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y =
> "Latitude")
> >>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> >>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col =
> "red",
> >>> cex = 0.01)
> >>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
> >>> plot.new has not been called yet
> >>> In addition: Warning messages:
> >>> 1: In xy.coords(x, y) : NAs introduced by coercion
> >>> 2: In xy.coords(x, y) : NAs introduced by coercion
> >>> 3: In (function (display = "", width, height, pointsize, gamma, bg,  :
> >>> locale not supported by Xlib: some X ops will operate in C locale
> >>> 4: In (function (display = "", width, height, pointsize, gamma, bg,  :
> >>> X cannot set locale modifiers
> >>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y =
> "Latitude")
> >>> + coord_sf(xlim = c(-180.00, 180.00), ylim = c(-90.00, 90.00), expand =
> >>> FALSE) + ggtitle("World map") + points(NMdata$LON,NMdata$LAT,col =
> "red",
> >>> cex = 0.01, pch = 20)
> >>> Error in plot.xy(xy.coords(x, y), type = type, ...) :
> >>> plot.new has not been called yet
> >>> In addition: Warning messages:
> >>> 1: In xy.coords(x, y) : NAs introduced by coercion
> >>> 2: In xy.coords(x, y) : NAs introduced by coercion.
> >>> I have also tried the codes below but it did not show the locations.
> >>> ugwoke at ugwoke-HP-ENVY-Laptop-13-aq0xxx:~/Desktop$ R
> >>>
> >>> R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
> >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> >>> Platform: x86_64-pc-linux-gnu (64-bit)
> >>>
> >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> >>> You are welcome to redistribute it under certain conditions.
> >>> Type 'license()' or 'licence()' for distribution details.
> >>>
> >>> Natural language support but running in an English locale
> >>>
> >>> R is a collaborative project with many contributors.
> >>> Type 'contributors()' for more information and
> >>> 'citation()' on how to cite R or R packages in publications.
> >>>
> >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> >>> 'help.start()' for an HTML browser interface to help.
> >>> Type 'q()' to quit R.
> >>>
> >>>> library("ggplot2")
> >>>> library(sf)
> >>> Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0
> >>>> library("rnaturalearth")
> >>>> library("rnaturalearthdata")
> >>>> theme_set(theme_bw())
> >>>> world <- ne_countries(scale = "medium", returnclass = "sf")
> >>>> class(world)
> >>> [1] "sf"         "data.frame"
> >>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y =
> "Latitude")
> >>> +
> >>> + + ggtitle("World map") + coord_sf(crs = "+proj=laea +lat_0=52
> +lon_0=10
> >>> +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ")
> >>> Error in +ggtitle("World map") : invalid argument to unary operator
> >>>> ggplot(data = world) + geom_sf() + labs( x = "Longitude", y =
> "Latitude")
> >>> + ggtitle("World map") + coord_sf(crs = "+proj=laea + lat_0=52 +
> lon_0=10 +
> >>> x_0=4321000 + y_0=3210000 + ellps=GRS80 + units=m + no_defs ")
> >>> Warning messages:
> >>> 1: In (function (display = "", width, height, pointsize, gamma, bg,  :
> >>> locale not supported by Xlib: some X ops will operate in C locale
> >>> 2: In (function (display = "", width, height, pointsize, gamma, bg,  :
> >>> X cannot set locale modifiers.
> >>> I really appreciate any help rendered. Thanks
> >>>
> >>>       [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide
> >>> http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>>
> >>
> >>   [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu  Sun Feb 14 08:35:21 2021
From: |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu (Informatique)
Date: Sun, 14 Feb 2021 08:35:21 +0100
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
Message-ID: <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>

Hello,

the time are in the first table like that :	10:24:00
and i use this for  
	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
after time ar like that : 		10H 24M 0S
and when i use  with ggplot
  scale_x_time(breaks = "20 secs",labels = "%H:%M:%S") 

it have the graphics but noting write on the X axis.

I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.

Thank's 

Fran?ois-Marie BILLARD

On Fri, 12 Feb 2021 18:24:35 +0000
Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
> 
> In order to select every 20 s, set the date_breaks = "20 secs", not the 
> breaks.
> The axis labels are also formatted, with date_labels, standard datetime 
> format strings are used for this. And rotated, not part of the question.
> 
> # Create some data
> set.seed(2021)
> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"), 
> by = "1 secs")
> y <- cumsum(rnorm(length(time)))
> df1 <- data.frame(time, y)
> 
> # Plot the data
> library(ggplot2)
> 
> ggplot(df1, aes(time, y)) +
>    geom_line() +
>    scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
>    theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, 
> size = 5))
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 15:05 de 12/02/21, Informatique escreveu:
> > Hello,
> > 
> > i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
> > I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
> > 
> > I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
> > 
> > but i don't understand how select every 20 s.
> > 
> > Thank's for your help
> > 
> > Fran?ois-marie BILLARD
> > 


-- 
Informatique <informatique at billard-francois-marie.eu>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Feb 14 09:52:31 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 14 Feb 2021 08:52:31 +0000
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
Message-ID: <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>

Hello,

It's not scale_x_time with arguments breaks and labels.

It's scale_x_datetime with arguments

date_breaks and date_labels.
If you also want the hour displayed in the x axis labels, change the 
format string in my previous post to


scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")


Can you post as data sample the output of dput?

dput(head(listeMesuresPropres, 20))  # or 30


Hope this helps,

Rui Barradas

?s 07:35 de 14/02/21, Informatique escreveu:
> Hello,
> 
> the time are in the first table like that :	10:24:00
> and i use this for
> 	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
> after time ar like that : 		10H 24M 0S
> and when i use  with ggplot
>    scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
> 
> it have the graphics but noting write on the X axis.
> 
> I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.
> 
> Thank's
> 
> Fran?ois-Marie BILLARD
> 
> On Fri, 12 Feb 2021 18:24:35 +0000
> Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
>> Hello,
>>
>> In order to select every 20 s, set the date_breaks = "20 secs", not the
>> breaks.
>> The axis labels are also formatted, with date_labels, standard datetime
>> format strings are used for this. And rotated, not part of the question.
>>
>> # Create some data
>> set.seed(2021)
>> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"),
>> by = "1 secs")
>> y <- cumsum(rnorm(length(time)))
>> df1 <- data.frame(time, y)
>>
>> # Plot the data
>> library(ggplot2)
>>
>> ggplot(df1, aes(time, y)) +
>>     geom_line() +
>>     scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
>>     theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1,
>> size = 5))
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> ?s 15:05 de 12/02/21, Informatique escreveu:
>>> Hello,
>>>
>>> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
>>> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
>>>
>>> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
>>>
>>> but i don't understand how select every 20 s.
>>>
>>> Thank's for your help
>>>
>>> Fran?ois-marie BILLARD
>>>
> 
>


From |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu  Sun Feb 14 14:25:59 2021
From: |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu (Informatique)
Date: Sun, 14 Feb 2021 14:25:59 +0100
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
 <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
Message-ID: <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>

Hello,
Thank's for your help.

i when i try this one 
 	geom_line() +
  	scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
 	 geom_point() 	


i have an error :
	Erreur : Invalid input: time_trans works with objects of class POSIXct only

it's the reason i have try the scale_x_time after.

The result of > dput(head(listeMesuresPropres, 20))  is

dput(head(listeMesuresPropres, 20))  # or 30
structure(list(Date. = structure(c(18666, 18666, 18666, 18666, 
18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 
18666, 18666, 18666, 18666, 18666, 18666, 18666), class = "Date"), 
    Heure. = c("10:24:00", "10:24:05", "10:24:10", "10:24:15", 
    "10:24:20", "10:24:25", "10:24:30", "10:24:35", "10:24:40", 
    "10:24:45", "10:24:50", "10:24:55", "10:25:00", "10:25:05", 
    "10:25:10", "10:25:15", "10:25:20", "10:25:25", "10:25:30", 
    "10:25:35"), U12.RMS.MIN.1.2.p?riode = structure(c(19L, 
    18L, 18L, 20L, 20L, 20L, 23L, 3L, 19L, 16L, 12L, 26L, 14L, 
    28L, 16L, 15L, 13L, 15L, 15L, 27L), .Label = c("", "401,1", 
    "401,2", "401,5", "401,9", "402", "403", "403,1", "403,2", 
    "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9", 
    "404", "404,1", "404,2", "404,3", "404,4", "404,5", "404,6", 
    "404,7", "404,8", "404,9", "405", "405,2", "405,3", "V"), class = "factor"), 
    U12.RMS = structure(c(14L, 13L, 12L, 14L, 14L, 14L, 17L, 
    10L, 13L, 11L, 8L, 9L, 10L, 10L, 11L, 12L, 9L, 10L, 9L, 9L
    ), .Label = c("", "404,7", "404,8", "404,9", "405", "405,1", 
    "405,2", "405,3", "405,4", "405,5", "405,6", "405,7", "405,8", 
    "405,9", "406", "406,1", "406,2", "406,3", "V"), class = "factor"), 
    U12.RMS.MAX.1.2.p?riode = structure(c(14L, 12L, 11L, 13L, 
    12L, 12L, 17L, 9L, 12L, 11L, 9L, 8L, 8L, 8L, 10L, 11L, 12L, 
    8L, 9L, 7L), .Label = c("", "406,5", "406,6", "406,7", "406,8", 
    "406,9", "407", "407,1", "407,2", "407,3", "407,4", "407,5", 
    "407,6", "407,7", "407,8", "407,9", "408", "408,1", "V"), class = "factor"), 
    U23.RMS.MIN.1.2.p?riode = structure(c(19L, 16L, 17L, 17L, 
    17L, 17L, 18L, 2L, 27L, 16L, 12L, 12L, 23L, 14L, 15L, 17L, 
    12L, 24L, 12L, 14L), .Label = c("", "400,7", "400,8", "401,5", 
    "401,6", "402,4", "402,8", "402,9", "403", "403,1", "403,2", 
    "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9", 
    "404", "404,2", "404,3", "404,5", "404,6", "404,7", "404,9", 
    "405", "405,1", "405,6", "V"), class = "factor"), U23.RMS = structure(c(14L, 
    12L, 12L, 13L, 12L, 12L, 13L, 8L, 11L, 10L, 7L, 7L, 9L, 10L, 
    9L, 11L, 8L, 8L, 8L, 9L), .Label = c("", "404,5", "404,6", 
    "404,7", "404,9", "405", "405,1", "405,2", "405,3", "405,4", 
    "405,5", "405,6", "405,7", "405,8", "405,9", "406", "406,2", 
    "406,4", "V"), class = "factor"), U23.RMS.MAX.1.2.p?riode = structure(c(16L, 
    12L, 9L, 12L, 10L, 10L, 13L, 9L, 11L, 9L, 6L, 8L, 10L, 9L, 
    9L, 11L, 9L, 7L, 6L, 9L), .Label = c("", "406,4", "406,5", 
    "406,6", "406,8", "406,9", "407", "407,1", "407,2", "407,3", 
    "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", "408", 
    "408,1", "408,3", "V"), class = "factor"), U31.RMS.MIN.1.2.p?riode = structure(c(20L, 
    27L, 20L, 17L, 16L, 16L, 16L, 2L, 15L, 15L, 15L, 15L, 24L, 
    16L, 17L, 11L, 8L, 15L, 18L, 17L), .Label = c("", "401", 
    "401,2", "401,3", "401,9", "402", "403,2", "403,5", "403,6", 
    "403,7", "403,8", "403,9", "404", "404,1", "404,2", "404,3", 
    "404,4", "404,5", "404,6", "404,7", "404,8", "404,9", "405", 
    "405,1", "405,2", "405,3", "405,4", "405,5", "405,7", "V"
    ), class = "factor"), U31.RMS = structure(c(10L, 8L, 9L, 
    9L, 6L, 6L, 10L, 7L, 10L, 9L, 6L, 5L, 6L, 6L, 7L, 7L, 4L, 
    6L, 6L, 7L), .Label = c("", "405,3", "405,4", "405,5", "405,6", 
    "405,7", "405,8", "405,9", "406", "406,1", "406,2", "406,3", 
    "406,4", "406,5", "406,6", "406,7", "406,9", "V"), class = "factor"), 
    U31.RMS.MAX.1.2.p?riode = structure(c(10L, 10L, 12L, 7L, 
    6L, 6L, 14L, 10L, 14L, 14L, 6L, 8L, 6L, 8L, 9L, 11L, 4L, 
    4L, 6L, 5L), .Label = c("", "406,9", "407", "407,1", "407,2", 
    "407,3", "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", 
    "408", "408,1", "408,2", "408,3", "408,4", "408,6", "V"), class = "factor"), 
    V1.RMS.MIN.1.2.p?riode = structure(c(12L, 11L, 9L, 9L, 9L, 
    9L, 10L, 2L, 13L, 12L, 10L, 10L, 10L, 8L, 9L, 8L, 7L, 10L, 
    10L, 11L), .Label = c("", "231,1", "231,8", "232,1", "232,3", 
    "232,4", "232,5", "232,7", "232,8", "232,9", "233", "233,1", 
    "233,2", "233,3", "233,4", "233,5", "233,6", "233,7", "233,8", 
    "233,9", "234", "234,1", "234,2", "234,4", "234,6", "V"), class = "factor"), 
    V1.RMS = structure(c(5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 8L, 
    7L, 5L, 5L, 5L, 3L, 3L, 3L, 2L, 5L, 5L, 5L), .Label = c("", 
    "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2", 
    "234,3", "234,4", "234,5", "234,6", "234,7", "234,8", "234,9", 
    "V"), class = "factor"), V1.RMS.MAX.1.2.p?riode = structure(c(5L, 
    4L, 4L, 4L, 2L, 2L, 5L, 6L, 7L, 6L, 5L, 4L, 5L, 4L, 2L, 3L, 
    4L, 5L, 4L, 4L), .Label = c("", "234,6", "234,7", "234,8", 
    "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5", 
    "235,6", "235,7", "235,8", "235,9", "V"), class = "factor"), 
    V2.RMS.MIN.1.2.p?riode = structure(c(15L, 14L, 14L, 16L, 
    16L, 16L, 18L, 4L, 11L, 11L, 9L, 7L, 10L, 13L, 21L, 14L, 
    12L, 10L, 10L, 10L), .Label = c("", "230,3", "231,3", "231,5", 
    "231,7", "232,3", "232,4", "232,5", "232,6", "232,7", "232,8", 
    "232,9", "233", "233,1", "233,2", "233,3", "233,4", "233,5", 
    "233,6", "233,7", "233,8", "V"), class = "factor"), V2.RMS = structure(c(10L, 
    10L, 9L, 11L, 11L, 11L, 12L, 5L, 6L, 6L, 4L, 4L, 5L, 8L, 
    9L, 9L, 8L, 5L, 4L, 4L), .Label = c("", "233,3", "233,4", 
    "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2", 
    "234,3", "234,4", "V"), class = "factor"), V2.RMS.MAX.1.2.p?riode = structure(c(13L, 
    11L, 11L, 12L, 12L, 12L, 13L, 6L, 8L, 8L, 5L, 6L, 6L, 10L, 
    9L, 11L, 12L, 6L, 6L, 5L), .Label = c("", "234,3", "234,4", 
    "234,5", "234,6", "234,7", "234,8", "234,9", "235", "235,1", 
    "235,2", "235,3", "235,4", "V"), class = "factor"), V3.RMS.MIN.1.2.p?riode = structure(c(18L, 
    17L, 17L, 14L, 16L, 16L, 16L, 2L, 16L, 16L, 14L, 14L, 15L, 
    15L, 14L, 14L, 9L, 14L, 15L, 16L), .Label = c("", "231,2", 
    "231,5", "231,9", "232,5", "232,9", "233,1", "233,2", "233,3", 
    "233,4", "233,5", "233,6", "233,7", "233,8", "233,9", "234", 
    "234,1", "234,2", "V"), class = "factor"), V3.RMS = structure(c(14L, 
    13L, 12L, 13L, 12L, 12L, 13L, 11L, 13L, 12L, 10L, 11L, 11L, 
    11L, 11L, 12L, 9L, 10L, 11L, 12L), .Label = c("", "233,8", 
    "233,9", "234", "234,1", "234,2", "234,3", "234,4", "234,5", 
    "234,6", "234,7", "234,8", "234,9", "235", "V"), class = "factor"), 
    V3.RMS.MAX.1.2.p?riode = structure(c(15L, 13L, 12L, 16L, 
    11L, 11L, 13L, 11L, 13L, 13L, 11L, 15L, 11L, 11L, 11L, 12L, 
    12L, 10L, 12L, 12L), .Label = c("", "234,6", "234,7", "234,8", 
    "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5", 
    "235,6", "235,7", "235,8", "235,9", "236", "V"), class = "factor"), 
    A1.RMS.MIN.1.2.p?riode = structure(c(7L, 6L, 7L, 5L, 7L, 
    7L, 5L, 8L, 8L, 6L, 10L, 5L, 9L, 8L, 7L, 4L, 2L, 16L, 15L, 
    14L), .Label = c("", "0,28", "0,32", "0,35", "0,36", "0,37", 
    "0,38", "0,39", "0,4", "0,41", "0,42", "0,43", "3,15", "3,2", 
    "3,21", "3,23", "3,47", "3,49", "3,5", "5,95", "6,02", "6,04", 
    "6,06", "6,07", "6,4", "6,41", "6,45", "6,46", "6,47", "8,88", 
    "8,91", "8,98", "8,99", "9,04", "A"), class = "factor"), 
    A1.RMS = structure(c(2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 
    4L, 4L, 4L, 4L, 4L, 4L, 4L, 23L, 17L, 16L, 16L), .Label = c("", 
    "0,45", "0,46", "0,47", "0,48", "0,49", "0,64", "1,45", "1,52", 
    "11,09", "2,26", "2,37", "2,45", "3,37", "3,38", "3,39", 
    "3,4", "3,57", "3,58", "3,59", "4,37", "4,51", "5,14", "5,23", 
    "6,24", "6,25", "6,26", "6,27", "6,28", "6,53", "6,54", "6,55", 
    "6,58", "6,61", "8,37", "9,23", "9,24", "9,25", "9,26", "9,29", 
    "A"), class = "factor"), A1.RMS.MAX.1.2.p?riode = structure(c(3L, 
    5L, 4L, 6L, 4L, 4L, 8L, 4L, 4L, 6L, 2L, 9L, 4L, 5L, 6L, 9L, 
    13L, 19L, 18L, 17L), .Label = c("", "0,5", "0,51", "0,52", 
    "0,53", "0,54", "0,55", "0,56", "0,57", "0,58", "1,05", "1,71", 
    "19,86", "20,25", "3,5", "3,56", "3,57", "3,6", "3,61", "3,64", 
    "3,65", "3,66", "3,68", "3,7", "36,87", "38,73", "38,87", 
    "6,46", "6,47", "6,48", "6,49", "6,5", "6,51", "6,65", "6,66", 
    "6,69", "6,72", "6,75", "9,48", "9,5", "9,51", "9,55", "9,56", 
    "A"), class = "factor"), A2.RMS.MIN.1.2.p?riode = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 9L, 9L, 8L, 9L, 9L, 2L, 2L, 2L, 
    2L, 7L, 5L, 4L), .Label = c("", "0", "2,96", "2,98", "2,99", 
    "3,01", "3,02", "3,15", "3,17", "6,08", "6,11", "6,14", "6,16", 
    "6,17", "6,18", "A"), class = "factor"), A2.RMS = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 18L, 16L, 15L, 15L, 14L, 14L, 6L, 
    2L, 2L, 20L, 12L, 11L, 11L), .Label = c("", "0", "0,21", 
    "0,24", "1,27", "1,65", "2,01", "2,03", "2,92", "3,13", "3,14", 
    "3,15", "3,16", "3,22", "3,23", "3,24", "3,36", "3,6", "4,21", 
    "5,32", "6,25", "6,26", "6,27", "6,28", "6,29", "6,3", "6,33", 
    "8,14", "8,66", "A"), class = "factor"), A2.RMS.MAX.1.2.p?riode = structure(c(3L, 
    3L, 4L, 3L, 3L, 3L, 9L, 36L, 16L, 14L, 15L, 12L, 12L, 23L, 
    4L, 3L, 11L, 15L, 15L, 14L), .Label = c("", "0", "0,07", 
    "0,1", "0,13", "0,15", "1,14", "1,3", "1,74", "21,68", "23,7", 
    "3,27", "3,28", "3,29", "3,3", "3,31", "3,33", "3,9", "37,01", 
    "37,2", "37,98", "4", "5,58", "5,61", "6,35", "6,37", "6,38", 
    "6,39", "6,4", "6,42", "6,43", "6,46", "6,47", "6,48", "6,51", 
    "7,75", "A"), class = "factor"), A3.RMS.MIN.1.2.p?riode = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 7L, 5L, 4L), .Label = c("", "0", "3", "3,02", "3,03", 
    "3,04", "3,05", "3,06", "5,69", "6,21", "6,23", "6,24", "6,25", 
    "6,26", "6,29", "A"), class = "factor"), A3.RMS = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    16L, 12L, 11L, 11L), .Label = c("", "0", "0,02", "0,03", 
    "0,04", "0,7", "1,21", "1,93", "2,48", "3,18", "3,19", "3,2", 
    "3,21", "3,22", "3,69", "4,81", "6,34", "6,36", "6,37", "6,39", 
    "6,41", "6,42", "6,43", "7,82", "8,66", "A"), class = "factor"), 
    A3.RMS.MAX.1.2.p?riode = structure(c(4L, 4L, 3L, 4L, 4L, 
    4L, 10L, 4L, 4L, 4L, 5L, 4L, 4L, 3L, 6L, 5L, 14L, 20L, 19L, 
    18L), .Label = c("", "0", "0,07", "0,1", "0,13", "0,15", 
    "0,17", "0,2", "0,21", "0,23", "0,24", "0,26", "19,83", "19,99", 
    "3,3", "3,32", "3,34", "3,35", "3,36", "3,37", "3,4", "3,41", 
    "36,44", "37,04", "38,12", "6,45", "6,47", "6,48", "6,51", 
    "6,52", "6,53", "6,54", "6,6", "6,63", "6,69", "6,7", "A"
    ), class = "factor"), AN.RMS.MIN.1.2.p?riode = structure(c(2L, 
    2L, 2L, 2L, 3L, 3L, 3L, 15L, 14L, 13L, 12L, 12L, 11L, 3L, 
    3L, 3L, 7L, 7L, 7L, 7L), .Label = c("", "0,46", "0,47", "0,48", 
    "0,49", "0,5", "0,55", "0,6", "0,64", "3,18", "3,27", "3,28", 
    "3,29", "3,3", "3,31", "3,64", "3,65", "3,68", "3,69", "3,7", 
    "3,71", "3,73", "3,75", "3,76", "3,77", "3,78", "A"), class = "factor"), 
    AN.RMS = structure(c(2L, 2L, 2L, 2L, 3L, 3L, 3L, 25L, 24L, 
    23L, 22L, 22L, 21L, 16L, 3L, 4L, 18L, 8L, 8L, 8L), .Label = c("", 
    "0,46", "0,47", "0,48", "0,49", "0,5", "0,52", "0,55", "0,58", 
    "0,64", "0,85", "1,04", "1,21", "1,52", "1,72", "1,87", "1,97", 
    "2,14", "2,3", "2,43", "3,27", "3,28", "3,29", "3,3", "3,64", 
    "3,65", "3,68", "3,69", "3,7", "3,71", "3,77", "3,78", "3,79", 
    "A"), class = "factor"), AN.RMS.MAX.1.2.p?riode = structure(c(3L, 
    2L, 2L, 2L, 3L, 3L, 3L, 37L, 21L, 20L, 19L, 18L, 18L, 24L, 
    3L, 4L, 38L, 9L, 9L, 10L), .Label = c("", "0,47", "0,48", 
    "0,49", "0,5", "0,51", "0,52", "0,53", "0,55", "0,56", "0,64", 
    "0,65", "0,66", "1", "1,72", "2,28", "3,22", "3,28", "3,29", 
    "3,3", "3,31", "3,33", "3,43", "3,57", "3,64", "3,65", "3,66", 
    "3,69", "3,7", "3,71", "3,72", "3,77", "3,78", "3,79", "3,83", 
    "4,2", "4,35", "5,08", "5,32", "A"), class = "factor"), U12.CF = structure(c(3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L), .Label = c("", "1,42", "1,43"), class = "factor"), 
    U23.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", 
    "1,43", "1,44"), class = "factor"), U31.CF = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L), .Label = c("", "1,44"), class = "factor"), 
    V1.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", "1,41"
    ), class = "factor"), V2.CF = structure(c(2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L), .Label = c("", "1,4"), class = "factor"), V3.CF = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L), .Label = c("", "1,4"), class = "factor"), 
    A1.CF = structure(c(23L, 28L, 29L, 31L, 27L, 27L, 31L, 31L, 
    29L, 34L, 26L, 32L, 28L, 30L, 29L, 33L, 35L, 8L, 8L, 8L), .Label = c("", 
    "1,44", "1,45", "1,46", "1,47", "1,48", "1,5", "1,51", "1,53", 
    "1,66", "1,74", "1,86", "1,92", "1,94", "1,96", "2", "2,07", 
    "2,08", "2,09", "2,1", "2,11", "2,12", "2,13", "2,14", "2,15", 
    "2,16", "2,17", "2,18", "2,19", "2,2", "2,21", "2,23", "2,24", 
    "2,25", "2,37", "2,8"), class = "factor"), A2.CF = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 16L, 6L, 6L, 5L, 5L, 5L, 6L, 2L, 
    2L, 22L, 12L, 13L, 12L), .Label = c("", "- - -", "1,11", 
    "1,13", "1,41", "1,42", "1,45", "1,46", "1,47", "1,48", "1,5", 
    "1,52", "1,53", "1,54", "1,59", "1,62", "1,63", "1,88", "1,9", 
    "1,96", "2,14", "2,6", "2,94", "5,33"), class = "factor"), 
    A3.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 20L, 8L, 8L, 9L), .Label = c("", 
    "- - -", "1,46", "1,47", "1,48", "1,49", "1,5", "1,53", "1,54", 
    "1,55", "1,63", "1,7", "1,78", "1,79", "1,83", "1,94", "2,12", 
    "2,18", "2,37", "2,45", "2,5", "2,54", "2,67", "5,42"), class = "factor"), 
    AN.CF = structure(c(33L, 33L, 31L, 36L, 34L, 34L, 34L, 11L, 
    3L, 3L, 3L, 4L, 2L, 13L, 32L, 37L, 21L, 22L, 19L, 21L), .Label = c("", 
    "1,5", "1,51", "1,52", "1,53", "1,54", "1,55", "1,56", "1,57", 
    "1,64", "1,7", "1,88", "1,94", "2,01", "2,04", "2,07", "2,08", 
    "2,11", "2,12", "2,14", "2,15", "2,17", "2,18", "2,2", "2,21", 
    "2,22", "2,23", "2,24", "2,25", "2,26", "2,27", "2,28", "2,3", 
    "2,31", "2,32", "2,34", "2,36", "2,37", "2,44", "2,57", "3,68"
    ), class = "factor"), F = structure(c(4L, 4L, 4L, 4L, 4L, 
    4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L
    ), .Label = c("", "49,99", "50", "50,01", "50,02", "Hz"), class = "factor"), 
    Vunb..u2. = structure(c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("", 
    "%", "100"), class = "factor"), Aunb..u2. = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    4L, 4L, 4L, 4L), .Label = c("", "- - -", "%", "100", "96,9", 
    "97,8", "98,5", "99,4"), class = "factor"), Uunb..IEEE.112. = structure(c(3L, 
    3L, 4L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 4L, 3L, 
    3L, 4L, 4L, 4L), .Label = c("", "%", "0", "0,1"), class = "factor"), 
    Vunb..IEEE.112. = structure(c(5L, 5L, 4L, 4L, 4L, 4L, 4L, 
    5L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L), .Label = c("", 
    "%", "0,1", "0,2", "0,3"), class = "factor"), Aunb..IEEE.112. = structure(c(18L, 
    18L, 18L, 18L, 18L, 18L, 18L, 10L, 9L, 8L, 8L, 7L, 7L, 6L, 
    18L, 18L, 35L, 29L, 29L, 29L), .Label = c("", "%", "100", 
    "108,7", "12,7", "133,5", "161,8", "161,9", "162", "165,4", 
    "17,1", "188", "188,2", "198,3", "2,4", "2,5", "2,6", "200", 
    "22", "26,1", "26,2", "26,3", "26,4", "26,6", "3,6", "36,2", 
    "38,6", "4,4", "4,6", "47,6", "48,3", "48,8", "48,9", "49,1", 
    "5,5", "9,8"), class = "factor"), Pst1 = c(0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L), Pst2 = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Pst3 = c(0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L), FHL1 = structure(c(43L, 38L, 42L, 39L, 40L, 40L, 
    42L, 43L, 47L, 48L, 46L, 49L, 50L, 45L, 44L, 41L, 7L, 4L, 
    4L, 4L), .Label = c("", "1,01", "1,02", "1,05", "1,06", "1,8", 
    "1,83", "2,4", "2,42", "3,04", "3,15", "3,66", "3,71", "3,74", 
    "4,27", "4,29", "4,3", "4,31", "4,32", "4,33", "4,35", "4,36", 
    "4,39", "4,4", "4,41", "4,42", "4,43", "4,45", "4,46", "4,47", 
    "4,48", "4,49", "4,54", "4,55", "4,56", "4,57", "4,61", "4,77", 
    "4,82", "4,86", "4,89", "4,91", "4,92", "4,93", "4,95", "5,09", 
    "5,1", "5,11", "5,15", "5,19"), class = "factor"), FHL2 = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 11L, 2L, 
    2L, 4L, 4L, 4L, 4L), .Label = c("", "- - -", "1,02", "1,03", 
    "1,04", "101,41", "11,34", "120,91", "29,83", "29,9", "46,19", 
    "76,9"), class = "factor"), FHL3 = structure(c(2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L, 
    3L, 4L), .Label = c("", "- - -", "1,03", "1,04", "1,19", 
    "111,16", "190,69", "285,28", "291,37", "292,12", "60,81", 
    "81,71"), class = "factor"), FK1 = structure(c(9L, 8L, 9L, 
    9L, 9L, 9L, 9L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 3L, 2L, 
    2L, 2L), .Label = c("", "1", "1,01", "1,03", "1,04", "1,06", 
    "1,07", "1,08", "1,09"), class = "factor"), FK2 = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 6L, 2L, 2L, 
    3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,16", "1,29", 
    "1,51", "1,82", "2,19", "2,31"), class = "factor"), FK3 = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,48", "1,8", 
    "1,91", "2,62", "3,34", "3,37"), class = "factor"), P1..W. = structure(c(38L, 
    39L, 40L, 41L, 42L, 42L, 43L, 44L, 45L, 46L, 46L, 48L, 50L, 
    47L, 47L, 49L, 30L, 28L, 27L, 26L), .Label = c("", "1088", 
    "1319", "1321", "1325", "1331", "1338", "1350", "1417", "1420", 
    "1421", "1423", "1427", "189,8", "191,1", "2032", "2034", 
    "2036", "2041", "2244", "225,4", "394,7", "506,3", "695,5", 
    "696,9", "699,3", "701,2", "702,7", "756,4", "782,1", "795,9", 
    "833,7", "834,9", "835,8", "836,2", "837,9", "838,8", "86,5", 
    "87", "87,5", "87,6", "88", "88,6", "89,2", "89,3", "89,5", 
    "89,6", "89,7", "89,8", "89,9", "91,2", "91,3", "92,3", "93,3", 
    "93,7", "93,8", "94", "94,2", "94,5", "94,6", "W"), class = "factor"), 
    P2..W. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 33L, 38L, 
    37L, 36L, 35L, 34L, 9L, 2L, 2L, 32L, 30L, 29L, 28L), .Label = c("", 
    "0", "0,3", "0,4", "105,8", "1160", "1162", "1169", "117,6", 
    "1170", "1176", "1178", "1180", "1184", "1190", "1229", "1465", 
    "182,1", "425,6", "440,1", "567", "568,2", "568,6", "569,8", 
    "570,7", "578,3", "580", "580,7", "582,6", "585,8", "637,3", 
    "671,4", "719,1", "753,1", "753,5", "754,4", "757", "759,3", 
    "94,4", "W"), class = "factor"), P3..W. = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    30L, 23L, 22L, 21L), .Label = c("", "0", "0,3", "1209", "1213", 
    "1216", "1220", "1223", "1232", "1235", "1243", "1245", "1246", 
    "1248", "1535", "191,9", "450", "456,6", "599,6", "600,2", 
    "601,5", "602,2", "603,8", "612,3", "614,3", "614,9", "615,3", 
    "618,6", "655,6", "683,7", "98,3", "99,5", "W"), class = "factor"), 
    PT..W. = structure(c(45L, 46L, 47L, 48L, 49L, 49L, 50L, 33L, 
    44L, 43L, 42L, 41L, 40L, 10L, 51L, 52L, 11L, 7L, 6L, 5L), .Label = c("", 
    "1693", "1873", "1877", "1881", "1886", "1892", "1963", "2049", 
    "207,1", "2137", "225,4", "2602", "2603", "2608", "2612", 
    "3704", "3712", "3721", "3735", "3752", "3811", "382,5", 
    "396,4", "4431", "4438", "4442", "4450", "4456", "506,3", 
    "5244", "768,7", "808,3", "833,7", "834,9", "835,8", "836,2", 
    "837,9", "838,8", "842,9", "843,3", "843,9", "846,4", "848,7", 
    "86,5", "87", "87,5", "87,6", "88", "88,6", "89,6", "89,8", 
    "91,2", "91,3", "92,9", "93,5", "93,8", "94", "94,2", "94,4", 
    "94,5", "94,6", "94,9", "W"), class = "factor"), Q1..var. = structure(c(9L, 
    10L, 11L, 11L, 9L, 9L, 9L, 6L, 8L, 8L, 7L, 7L, 6L, 8L, 8L, 
    10L, 33L, 31L, 30L, 29L), .Label = c("", "-2,7", "-52,3", 
    "-52,4", "-52,5", "-52,6", "-52,7", "-52,8", "-52,9", "-53", 
    "-53,1", "-53,4", "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", 
    "-54", "18,1", "250,5", "258,4", "345,6", "349,3", "350,5", 
    "351,7", "352,4", "369,7", "370,5", "370,6", "371,9", "373,2", 
    "400,5", "425", "733,3", "736", "740,4", "741,2", "743,2", 
    "76,8", "774", "774,3", "774,4", "774,9", "778,6", "808,4", 
    "952,8", "var"), class = "factor"), Q2..var. = structure(c(3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 7L, 8L, 8L, 8L, 9L, 8L, 4L, 3L, 3L, 
    23L, 15L, 13L, 14L), .Label = c("", "-7,6", "0", "1,9", "1110", 
    "145,6", "2,3", "2,4", "2,5", "328,3", "347,2", "43,2", "446", 
    "446,2", "446,8", "447", "467,3", "468,8", "469,6", "471,2", 
    "476,2", "5,9", "502,5", "76,1", "865,6", "866,5", "866,9", 
    "867,1", "868,6", "898", "901,3", "902,7", "903,7", "905,3", 
    "var"), class = "factor"), Q3..var. = structure(c(3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 19L, 
    15L, 17L, 16L), .Label = c("", "-0,6", "0", "1054", "136,9", 
    "318,4", "325,3", "41,1", "430,8", "431,4", "431,6", "432,1", 
    "444,3", "444,5", "445,4", "445,5", "445,9", "471,7", "494", 
    "75,6", "844,4", "846,2", "846,3", "847,4", "847,8", "859,1", 
    "861,1", "861,5", "862,6", "865,4", "866,9", "var"), class = "factor"), 
    QT..var. = structure(c(12L, 13L, 14L, 14L, 12L, 12L, 12L, 
    5L, 4L, 5L, 4L, 4L, 3L, 6L, 11L, 13L, 32L, 30L, 29L, 28L), .Label = c("", 
    "-47,9", "-50,2", "-50,3", "-50,4", "-50,9", "-52,3", "-52,4", 
    "-52,5", "-52,6", "-52,8", "-52,9", "-53", "-53,1", "-53,3", 
    "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", "-54", "-61,2", 
    "1248", "1250", "1251", "1252", "1261", "1262", "1264", "1265", 
    "1348", "1421", "169,8", "2485", "2488", "2489", "2490", 
    "2502", "2503", "2504", "2507", "2511", "2536", "3117", "359,3", 
    "81,6", "897,2", "930,9", "var"), class = "factor"), S1..VA. = structure(c(4L, 
    5L, 7L, 6L, 8L, 8L, 9L, 10L, 12L, 15L, 11L, 14L, 13L, 13L, 
    13L, 16L, 31L, 59L, 58L, 57L), .Label = c("", "1024", "1056", 
    "106,7", "107,7", "108", "108,2", "108,3", "109,2", "109,4", 
    "109,5", "109,6", "109,9", "110,1", "110,2", "110,5", "111,3", 
    "111,4", "112,7", "112,9", "113,5", "113,8", "113,9", "114", 
    "114,1", "114,2", "114,3", "114,4", "114,5", "114,8", "1201", 
    "1225", "1460", "1463", "1465", "1467", "1471", "151,1", 
    "1530", "1532", "1535", "1541", "1549", "1958", "2161", "2164", 
    "2167", "2172", "2594", "341,2", "356,5", "530,4", "556,3", 
    "575,1", "789", "790,7", "792,7", "795", "797", "836", "837,3", 
    "838,2", "838,5", "840,3", "841,2", "VA"), class = "factor"), 
    S2..VA. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 38L, 36L, 
    35L, 34L, 33L, 32L, 16L, 2L, 2L, 3L, 27L, 25L, 24L), .Label = c("", 
    "0", "1246", "1461", "1463", "1465", "1468", "1469", "1470", 
    "1472", "1474", "1479", "1898", "2023", "298,5", "387,2", 
    "470,7", "475,8", "50,3", "58,2", "683,5", "732,2", "733,3", 
    "733,4", "734,9", "737,1", "737,9", "738,3", "738,4", "738,8", 
    "739,1", "753,1", "753,6", "754,4", "757", "759,4", "785,3", 
    "842,9", "983,8", "VA"), class = "factor"), S3..VA. = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    4L, 29L, 28L, 26L), .Label = c("", "0", "10,2", "1130", "1486", 
    "1489", "1492", "1497", "1499", "1501", "1506", "1507", "1509", 
    "165,3", "1828", "2029", "284,5", "4,5", "4,6", "454,3", 
    "5,7", "5,9", "583,6", "747,6", "748", "749,7", "750,3", 
    "750,5", "751,5", "751,9", "752,2", "752,6", "753,9", "755,1", 
    "8,6", "865,2", "VA"), class = "factor"), ST..VA. = structure(c(2L, 
    3L, 5L, 4L, 6L, 6L, 7L, 68L, 67L, 66L, 65L, 64L, 63L, 47L, 
    8L, 9L, 41L, 32L, 31L, 30L), .Label = c("", "106,7", "107,7", 
    "108", "108,2", "108,3", "109,2", "109,9", "110,5", "111,3", 
    "111,4", "113,5", "113,8", "113,9", "114", "114,1", "114,2", 
    "114,3", "114,4", "114,8", "117,4", "118,6", "120,4", "1335", 
    "1481", "171,5", "219,5", "2269", "2272", "2276", "2280", 
    "2286", "2492", "2595", "2873", "2952", "2953", "2958", "2962", 
    "356,5", "3577", "4477", "4484", "4492", "4506", "4523", 
    "497,1", "5135", "5141", "5145", "5152", "5159", "530,4", 
    "5683", "6647", "805,1", "836", "837,3", "838,2", "838,5", 
    "840,3", "847", "863", "863,7", "863,9", "867,2", "869", 
    "952,3", "VA"), class = "factor"), D1..var. = structure(c(7L, 
    18L, 17L, 13L, 13L, 13L, 27L, 21L, 22L, 28L, 16L, 27L, 18L, 
    25L, 22L, 29L, 50L, 33L, 32L, 36L), .Label = c("", "208,1", 
    "216,1", "237,5", "299,5", "326,7", "33,3", "33,8", "34", 
    "34,1", "34,2", "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", 
    "35", "35,1", "35,2", "35,3", "35,4", "35,5", "35,6", "35,7", 
    "35,8", "35,9", "36,6", "36,7", "37", "43", "45,8", "45,9", 
    "455,2", "46,1", "46,2", "46,3", "47,1", "47,2", "47,6", 
    "47,7", "477,4", "49,9", "52,3", "538,2", "55,1", "55,4", 
    "58,3", "61", "626,5", "63,6", "67,3", "84,1", "93,1", "987,8", 
    "var"), class = "factor"), D2..var. = structure(c(2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 7L, 3L, 39L, 37L, 37L, 38L, 9L, 2L, 2L, 
    36L, 15L, 16L, 13L), .Label = c("", "0", "10,6", "1023", 
    "203,8", "219,5", "276,8", "301,9", "317,3", "332,6", "40", 
    "40,4", "40,7", "40,8", "40,9", "41,3", "41,4", "41,5", "41,9", 
    "42,1", "456,6", "46,4", "47,4", "49,5", "49,9", "506,8", 
    "51,8", "53,1", "55,8", "57,7", "58,4", "592,8", "60,9", 
    "62,8", "64,2", "774,5", "8", "8,9", "9,8", "var"), class = "factor"), 
    D3..var. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 27L, 15L, 12L, 16L), .Label = c("", 
    "0", "10,2", "100", "140,5", "172,9", "4,5", "4,6", "40,3", 
    "40,8", "407,6", "41", "41,7", "41,8", "42,1", "42,2", "42,3", 
    "42,6", "43", "441,4", "5,7", "5,9", "53,8", "55,7", "55,9", 
    "558,4", "558,9", "57,5", "60,1", "60,5", "62,2", "63,6", 
    "64", "67,8", "770,8", "8,6", "84,5", "var"), class = "factor"), 
    DT..var. = structure(c(24L, 35L, 34L, 30L, 30L, 30L, 42L, 
    47L, 9L, 10L, 6L, 8L, 7L, 46L, 38L, 44L, 11L, 14L, 15L, 16L
    ), .Label = c("", "107,9", "1376", "1492", "153,7", "177,9", 
    "178,1", "179,8", "180,1", "181,7", "2036", "208,1", "2110", 
    "212,9", "214,2", "215,5", "216,3", "252,9", "255", "259,2", 
    "263,7", "267", "2879", "33,3", "33,8", "34", "34,1", "34,2", 
    "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", "35", "35,1", 
    "35,2", "35,4", "35,5", "35,6", "35,8", "35,9", "36,6", "36,7", 
    "37", "384,9", "406,6", "43,7", "44", "47,1", "525,2", "616,8", 
    "617,6", "619,1", "619,5", "623,5", "72,8", "736,5", "737,1", 
    "743,7", "747,3", "749,6", "819,3", "833,3", "847,7", "93,1", 
    "var"), class = "factor"), PF1 = structure(c(14L, 11L, 13L, 
    14L, 15L, 15L, 14L, 16L, 16L, 15L, 18L, 17L, 18L, 16L, 17L, 
    15L, 7L, 30L, 31L, 31L), .Label = c("", "0,589", "0,593", 
    "0,6", "0,622", "0,708", "0,721", "0,722", "0,766", "0,792", 
    "0,807", "0,808", "0,809", "0,81", "0,812", "0,814", "0,815", 
    "0,817", "0,819", "0,823", "0,825", "0,826", "0,827", "0,828", 
    "0,829", "0,861", "0,862", "0,863", "0,864", "0,881", "0,882", 
    "0,894", "0,906", "0,939", "0,94", "0,97", "0,971", "0,997"
    ), class = "factor"), PF2 = structure(c(2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 30L, 31L, 31L, 31L, 31L, 31L, 7L, 2L, 2L, 11L, 25L, 
    24L, 23L), .Label = c("", "- - -", "0,006", "0,007", "0,178", 
    "0,225", "0,295", "0,358", "0,458", "0,599", "0,604", "0,628", 
    "0,699", "0,759", "0,768", "0,769", "0,77", "0,771", "0,772", 
    "0,788", "0,789", "0,79", "0,791", "0,792", "0,793", "0,804", 
    "0,805", "0,806", "0,808", "0,875", "1"), class = "factor"), 
    PF3 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 14L, 20L, 19L, 19L), .Label = c("", 
    "- - -", "0,001", "0,031", "0,033", "0,049", "0,059", "0,064", 
    "0,208", "0,219", "0,366", "0,472", "0,629", "0,67", "0,689", 
    "0,745", "0,792", "0,801", "0,802", "0,803", "0,814", "0,815", 
    "0,816", "0,817", "0,819", "0,824", "0,825", "0,826", "0,827"
    ), class = "factor"), PFT = structure(c(19L, 17L, 18L, 19L, 
    20L, 20L, 19L, 32L, 36L, 36L, 37L, 36L, 36L, 5L, 21L, 20L, 
    7L, 27L, 27L, 27L), .Label = c("", "0,406", "0,518", "0,549", 
    "0,552", "0,622", "0,663", "0,69", "0,699", "0,701", "0,704", 
    "0,749", "0,763", "0,794", "0,8", "0,804", "0,807", "0,809", 
    "0,81", "0,812", "0,815", "0,819", "0,823", "0,824", "0,825", 
    "0,826", "0,827", "0,828", "0,829", "0,863", "0,864", "0,866", 
    "0,881", "0,882", "0,906", "0,976", "0,977", "0,99", "0,997"
    ), class = "factor"), Cos.?1..DPF. = structure(c(9L, 10L, 
    11L, 12L, 13L, 13L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 16L, 
    16L, 15L, 2L, 26L, 26L, 26L), .Label = c("", "0,735", "0,744", 
    "0,8", "0,823", "0,83", "0,843", "0,851", "0,852", "0,853", 
    "0,854", "0,855", "0,856", "0,857", "0,86", "0,861", "0,862", 
    "0,863", "0,864", "0,865", "0,867", "0,868", "0,869", "0,875", 
    "0,882", "0,883", "0,892", "0,916", "0,926", "0,939", "0,94", 
    "0,97", "0,971", "0,998"), class = "factor"), Cos.?2..DPF. = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 31L, 32L, 32L, 32L, 32L, 32L, 7L, 
    2L, 2L, 12L, 26L, 25L, 24L), .Label = c("", "- - -", "-0,001", 
    "-0,008", "0,216", "0,25", "0,348", "0,426", "0,6", "0,603", 
    "0,655", "0,659", "0,741", "0,761", "0,768", "0,77", "0,771", 
    "0,772", "0,773", "0,788", "0,789", "0,79", "0,791", "0,792", 
    "0,793", "0,794", "0,804", "0,805", "0,806", "0,808", "0,965", 
    "1"), class = "factor"), Cos.?3..DPF. = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    13L, 20L, 19L, 19L), .Label = c("", "- - -", "-0,016", "0,201", 
    "0,383", "0,448", "0,452", "0,476", "0,527", "0,561", "0,584", 
    "0,606", "0,669", "0,678", "0,696", "0,745", "0,791", "0,802", 
    "0,803", "0,804", "0,814", "0,815", "0,816", "0,817", "0,818", 
    "0,82", "0,824", "0,826", "0,827"), class = "factor"), Cos.?T..DPF. = structure(c(10L, 
    11L, 11L, 12L, 13L, 13L, 14L, 33L, 34L, 34L, 34L, 34L, 34L, 
    27L, 16L, 15L, 7L, 5L, 4L, 4L), .Label = c("", "0,828", "0,829", 
    "0,83", "0,831", "0,832", "0,834", "0,837", "0,846", "0,852", 
    "0,854", "0,855", "0,856", "0,858", "0,86", "0,861", "0,862", 
    "0,865", "0,867", "0,868", "0,869", "0,87", "0,871", "0,872", 
    "0,873", "0,874", "0,89", "0,892", "0,893", "0,901", "0,902", 
    "0,945", "0,997", "0,998"), class = "factor"), Tan.?1 = structure(c(28L, 
    27L, 26L, 25L, 24L, 24L, 23L, 21L, 22L, 22L, 20L, 19L, 17L, 
    20L, 21L, 22L, 40L, 41L, 40L, 40L), .Label = c("", "-0,007", 
    "-0,062", "-0,063", "-0,27", "-0,372", "-0,388", "-0,395", 
    "-0,473", "-0,567", "-0,568", "-0,569", "-0,57", "-0,571", 
    "-0,572", "-0,573", "-0,585", "-0,587", "-0,588", "-0,589", 
    "-0,59", "-0,591", "-0,598", "-0,602", "-0,606", "-0,608", 
    "-0,609", "-0,611", "0,079", "0,115", "0,244", "0,246", "0,247", 
    "0,361", "0,362", "0,363", "0,364", "0,365", "0,407", "0,53", 
    "0,531", "0,581", "0,582", "0,584", "0,586", "0,587"), class = "factor"), 
    Tan.?2 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 
    3L, 3L, 3L, 3L, 4L, 2L, 2L, 13L, 16L, 18L, 19L), .Label = c("", 
    "- - -", "0,003", "0,391", "0,487", "0,708", "0,727", "0,732", 
    "0,734", "0,736", "0,737", "0,751", "0,752", "0,756", "0,757", 
    "0,762", "0,763", "0,765", "0,768", "0,77", "0,771", "0,772", 
    "0,773", "0,777", "0,779", "0,814", "0,818", "0,822", "0,823", 
    "0,826", "0,831", "1,007"), class = "factor"), Tan.?3 = structure(c(2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    25L, 26L, 27L, 28L), .Label = c("", "- - -", "-0,087", "0,026", 
    "0,047", "0,107", "0,135", "0,136", "0,478", "0,544", "0,571", 
    "0,678", "0,679", "0,682", "0,686", "0,696", "0,7", "0,701", 
    "0,703", "0,705", "0,708", "0,709", "0,71", "0,712", "0,724", 
    "0,738", "0,74", "0,741", "1,032"), class = "factor"), Tan.?T = structure(c(27L, 
    26L, 25L, 24L, 23L, 23L, 22L, 4L, 2L, 2L, 2L, 2L, 2L, 10L, 
    20L, 21L, 40L, 41L, 42L, 43L), .Label = c("", "-0,059", "-0,062", 
    "-0,063", "-0,27", "-0,332", "-0,335", "-0,376", "-0,473", 
    "-0,479", "-0,566", "-0,567", "-0,568", "-0,569", "-0,57", 
    "-0,571", "-0,572", "-0,587", "-0,589", "-0,59", "-0,591", 
    "-0,598", "-0,602", "-0,606", "-0,608", "-0,609", "-0,611", 
    "-0,668", "0,101", "0,184", "0,268", "0,416", "0,479", "0,48", 
    "0,558", "0,559", "0,56", "0,561", "0,577", "0,661", "0,669", 
    "0,67", "0,671", "0,672", "0,673", "0,674", "0,675"), class = "factor"), 
    V1.THDf = structure(c(4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 
    4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 6L, 6L), .Label = c("", 
    "% f", "1,2", "1,3", "1,4", "1,5", "1,6"), class = "factor"), 
    V2.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 3L, 4L), .Label = c("", 
    "% f", "1,7", "1,8", "1,9", "2"), class = "factor"), V3.THDf = structure(c(4L, 
    5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 
    4L, 4L, 4L, 4L), .Label = c("", "% f", "1,7", "1,8", "1,9", 
    "2"), class = "factor"), U12.THDf = structure(c(3L, 4L, 4L, 
    4L, 4L, 4L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L, 
    3L, 3L), .Label = c("", "% f", "1", "1,1", "1,2", "1,3"), class = "factor"), 
    U23.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 4L, 4L, 3L, 3L, 3L, 3L, 4L, 3L), .Label = c("", 
    "% f", "1,2", "1,3", "1,4"), class = "factor"), U31.THDf = structure(c(4L, 
    4L, 5L, 4L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 
    4L, 4L, 4L, 4L), .Label = c("", "% f", "1,2", "1,3", "1,4"
    ), class = "factor"), A1.THDf = structure(c(25L, 25L, 28L, 
    26L, 27L, 27L, 30L, 29L, 32L, 32L, 31L, 32L, 33L, 30L, 30L, 
    29L, 38L, 34L, 34L, 35L), .Label = c("", "% f", "14", "14,1", 
    "19,8", "19,9", "2", "2,1", "2,4", "2,5", "2,7", "2,8", "25", 
    "25,1", "25,6", "30,3", "30,5", "30,6", "30,7", "30,8", "30,9", 
    "31", "31,1", "31,3", "31,5", "31,7", "31,9", "32", "32,2", 
    "32,3", "32,5", "32,6", "32,7", "4", "4,1", "4,3", "8,3", 
    "9,6"), class = "factor"), A2.THDf = structure(c(2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 16L, 2L, 2L, 
    15L, 14L, 9L, 9L), .Label = c("", "- - -", "% f", "1,9", 
    "100,8", "2,6", "2,7", "2,8", "2,9", "20,4", "21,1", "29,8", 
    "3", "3,2", "3,3", "48,5", "70,7", "86,7"), class = "factor"), 
    A3.THDf = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 7L, 9L, 6L, 6L), .Label = c("", 
    "- - -", "% f", "169", "2,9", "3", "3,1", "3,2", "3,3", "315,7", 
    "328", "361,5", "5,8", "57,7", "91,7", "97,1"), class = "factor")), row.names = 3:22, class = "data.frame")





On Sun, 14 Feb 2021 08:52:31 +0000
Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
> 
> It's not scale_x_time with arguments breaks and labels.
> 
> It's scale_x_datetime with arguments
> 
> date_breaks and date_labels.
> If you also want the hour displayed in the x axis labels, change the 
> format string in my previous post to
> 
> 
> scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
> 
> 
> Can you post as data sample the output of dput?
> 
> dput(head(listeMesuresPropres, 20))  # or 30
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ?s 07:35 de 14/02/21, Informatique escreveu:
> > Hello,
> > 
> > the time are in the first table like that :	10:24:00
> > and i use this for
> > 	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
> > after time ar like that : 		10H 24M 0S
> > and when i use  with ggplot
> >    scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
> > 
> > it have the graphics but noting write on the X axis.
> > 
> > I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.
> > 
> > Thank's
> > 
> > Fran?ois-Marie BILLARD
> > 
> > On Fri, 12 Feb 2021 18:24:35 +0000
> > Rui Barradas <ruipbarradas at sapo.pt> wrote:
> > 
> >> Hello,
> >>
> >> In order to select every 20 s, set the date_breaks = "20 secs", not the
> >> breaks.
> >> The axis labels are also formatted, with date_labels, standard datetime
> >> format strings are used for this. And rotated, not part of the question.
> >>
> >> # Create some data
> >> set.seed(2021)
> >> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"),
> >> by = "1 secs")
> >> y <- cumsum(rnorm(length(time)))
> >> df1 <- data.frame(time, y)
> >>
> >> # Plot the data
> >> library(ggplot2)
> >>
> >> ggplot(df1, aes(time, y)) +
> >>     geom_line() +
> >>     scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
> >>     theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1,
> >> size = 5))
> >>
> >>
> >> Hope this helps,
> >>
> >> Rui Barradas
> >>
> >> ?s 15:05 de 12/02/21, Informatique escreveu:
> >>> Hello,
> >>>
> >>> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
> >>> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
> >>>
> >>> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
> >>>
> >>> but i don't understand how select every 20 s.
> >>>
> >>> Thank's for your help
> >>>
> >>> Fran?ois-marie BILLARD
> >>>
> > 
> > 


-- 
Informatique <informatique at billard-francois-marie.eu>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Feb 14 15:24:22 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 14 Feb 2021 14:24:22 +0000
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
 <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
 <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>
Message-ID: <bdbcf809-1270-b75c-10d6-b67e93a0256a@sapo.pt>

Hello,

Merci pour les donn?s, c'est beaucoup mieux comme ?a.

Create a column of class "POSIXct"


listeMesuresPropres$DateHeure <- with(listeMesuresPropres, 
as.POSIXct(paste(Date., Heure.)))


and then plot with this new column, DateHeure as x axis variable.

Can you post the entire ggplot code, not just the scale_x_datetime 
instruction but the rest of the plotting code?


Hope this helps,

Rui Barradas


?s 13:25 de 14/02/21, Informatique escreveu:
> Hello,
> Thank's for your help.
> 
> i when i try this one
>   	geom_line() +
>    	scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
>   	 geom_point() 	
> 
> 
> i have an error :
> 	Erreur : Invalid input: time_trans works with objects of class POSIXct only
> 
> it's the reason i have try the scale_x_time after.
> 
> The result of > dput(head(listeMesuresPropres, 20))  is
> 
> dput(head(listeMesuresPropres, 20))  # or 30
> structure(list(Date. = structure(c(18666, 18666, 18666, 18666,
> 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666,
> 18666, 18666, 18666, 18666, 18666, 18666, 18666), class = "Date"),
>      Heure. = c("10:24:00", "10:24:05", "10:24:10", "10:24:15",
>      "10:24:20", "10:24:25", "10:24:30", "10:24:35", "10:24:40",
>      "10:24:45", "10:24:50", "10:24:55", "10:25:00", "10:25:05",
>      "10:25:10", "10:25:15", "10:25:20", "10:25:25", "10:25:30",
>      "10:25:35"), U12.RMS.MIN.1.2.p?riode = structure(c(19L,
>      18L, 18L, 20L, 20L, 20L, 23L, 3L, 19L, 16L, 12L, 26L, 14L,
>      28L, 16L, 15L, 13L, 15L, 15L, 27L), .Label = c("", "401,1",
>      "401,2", "401,5", "401,9", "402", "403", "403,1", "403,2",
>      "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>      "404", "404,1", "404,2", "404,3", "404,4", "404,5", "404,6",
>      "404,7", "404,8", "404,9", "405", "405,2", "405,3", "V"), class = "factor"),
>      U12.RMS = structure(c(14L, 13L, 12L, 14L, 14L, 14L, 17L,
>      10L, 13L, 11L, 8L, 9L, 10L, 10L, 11L, 12L, 9L, 10L, 9L, 9L
>      ), .Label = c("", "404,7", "404,8", "404,9", "405", "405,1",
>      "405,2", "405,3", "405,4", "405,5", "405,6", "405,7", "405,8",
>      "405,9", "406", "406,1", "406,2", "406,3", "V"), class = "factor"),
>      U12.RMS.MAX.1.2.p?riode = structure(c(14L, 12L, 11L, 13L,
>      12L, 12L, 17L, 9L, 12L, 11L, 9L, 8L, 8L, 8L, 10L, 11L, 12L,
>      8L, 9L, 7L), .Label = c("", "406,5", "406,6", "406,7", "406,8",
>      "406,9", "407", "407,1", "407,2", "407,3", "407,4", "407,5",
>      "407,6", "407,7", "407,8", "407,9", "408", "408,1", "V"), class = "factor"),
>      U23.RMS.MIN.1.2.p?riode = structure(c(19L, 16L, 17L, 17L,
>      17L, 17L, 18L, 2L, 27L, 16L, 12L, 12L, 23L, 14L, 15L, 17L,
>      12L, 24L, 12L, 14L), .Label = c("", "400,7", "400,8", "401,5",
>      "401,6", "402,4", "402,8", "402,9", "403", "403,1", "403,2",
>      "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>      "404", "404,2", "404,3", "404,5", "404,6", "404,7", "404,9",
>      "405", "405,1", "405,6", "V"), class = "factor"), U23.RMS = structure(c(14L,
>      12L, 12L, 13L, 12L, 12L, 13L, 8L, 11L, 10L, 7L, 7L, 9L, 10L,
>      9L, 11L, 8L, 8L, 8L, 9L), .Label = c("", "404,5", "404,6",
>      "404,7", "404,9", "405", "405,1", "405,2", "405,3", "405,4",
>      "405,5", "405,6", "405,7", "405,8", "405,9", "406", "406,2",
>      "406,4", "V"), class = "factor"), U23.RMS.MAX.1.2.p?riode = structure(c(16L,
>      12L, 9L, 12L, 10L, 10L, 13L, 9L, 11L, 9L, 6L, 8L, 10L, 9L,
>      9L, 11L, 9L, 7L, 6L, 9L), .Label = c("", "406,4", "406,5",
>      "406,6", "406,8", "406,9", "407", "407,1", "407,2", "407,3",
>      "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", "408",
>      "408,1", "408,3", "V"), class = "factor"), U31.RMS.MIN.1.2.p?riode = structure(c(20L,
>      27L, 20L, 17L, 16L, 16L, 16L, 2L, 15L, 15L, 15L, 15L, 24L,
>      16L, 17L, 11L, 8L, 15L, 18L, 17L), .Label = c("", "401",
>      "401,2", "401,3", "401,9", "402", "403,2", "403,5", "403,6",
>      "403,7", "403,8", "403,9", "404", "404,1", "404,2", "404,3",
>      "404,4", "404,5", "404,6", "404,7", "404,8", "404,9", "405",
>      "405,1", "405,2", "405,3", "405,4", "405,5", "405,7", "V"
>      ), class = "factor"), U31.RMS = structure(c(10L, 8L, 9L,
>      9L, 6L, 6L, 10L, 7L, 10L, 9L, 6L, 5L, 6L, 6L, 7L, 7L, 4L,
>      6L, 6L, 7L), .Label = c("", "405,3", "405,4", "405,5", "405,6",
>      "405,7", "405,8", "405,9", "406", "406,1", "406,2", "406,3",
>      "406,4", "406,5", "406,6", "406,7", "406,9", "V"), class = "factor"),
>      U31.RMS.MAX.1.2.p?riode = structure(c(10L, 10L, 12L, 7L,
>      6L, 6L, 14L, 10L, 14L, 14L, 6L, 8L, 6L, 8L, 9L, 11L, 4L,
>      4L, 6L, 5L), .Label = c("", "406,9", "407", "407,1", "407,2",
>      "407,3", "407,4", "407,5", "407,6", "407,7", "407,8", "407,9",
>      "408", "408,1", "408,2", "408,3", "408,4", "408,6", "V"), class = "factor"),
>      V1.RMS.MIN.1.2.p?riode = structure(c(12L, 11L, 9L, 9L, 9L,
>      9L, 10L, 2L, 13L, 12L, 10L, 10L, 10L, 8L, 9L, 8L, 7L, 10L,
>      10L, 11L), .Label = c("", "231,1", "231,8", "232,1", "232,3",
>      "232,4", "232,5", "232,7", "232,8", "232,9", "233", "233,1",
>      "233,2", "233,3", "233,4", "233,5", "233,6", "233,7", "233,8",
>      "233,9", "234", "234,1", "234,2", "234,4", "234,6", "V"), class = "factor"),
>      V1.RMS = structure(c(5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 8L,
>      7L, 5L, 5L, 5L, 3L, 3L, 3L, 2L, 5L, 5L, 5L), .Label = c("",
>      "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>      "234,3", "234,4", "234,5", "234,6", "234,7", "234,8", "234,9",
>      "V"), class = "factor"), V1.RMS.MAX.1.2.p?riode = structure(c(5L,
>      4L, 4L, 4L, 2L, 2L, 5L, 6L, 7L, 6L, 5L, 4L, 5L, 4L, 2L, 3L,
>      4L, 5L, 4L, 4L), .Label = c("", "234,6", "234,7", "234,8",
>      "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>      "235,6", "235,7", "235,8", "235,9", "V"), class = "factor"),
>      V2.RMS.MIN.1.2.p?riode = structure(c(15L, 14L, 14L, 16L,
>      16L, 16L, 18L, 4L, 11L, 11L, 9L, 7L, 10L, 13L, 21L, 14L,
>      12L, 10L, 10L, 10L), .Label = c("", "230,3", "231,3", "231,5",
>      "231,7", "232,3", "232,4", "232,5", "232,6", "232,7", "232,8",
>      "232,9", "233", "233,1", "233,2", "233,3", "233,4", "233,5",
>      "233,6", "233,7", "233,8", "V"), class = "factor"), V2.RMS = structure(c(10L,
>      10L, 9L, 11L, 11L, 11L, 12L, 5L, 6L, 6L, 4L, 4L, 5L, 8L,
>      9L, 9L, 8L, 5L, 4L, 4L), .Label = c("", "233,3", "233,4",
>      "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>      "234,3", "234,4", "V"), class = "factor"), V2.RMS.MAX.1.2.p?riode = structure(c(13L,
>      11L, 11L, 12L, 12L, 12L, 13L, 6L, 8L, 8L, 5L, 6L, 6L, 10L,
>      9L, 11L, 12L, 6L, 6L, 5L), .Label = c("", "234,3", "234,4",
>      "234,5", "234,6", "234,7", "234,8", "234,9", "235", "235,1",
>      "235,2", "235,3", "235,4", "V"), class = "factor"), V3.RMS.MIN.1.2.p?riode = structure(c(18L,
>      17L, 17L, 14L, 16L, 16L, 16L, 2L, 16L, 16L, 14L, 14L, 15L,
>      15L, 14L, 14L, 9L, 14L, 15L, 16L), .Label = c("", "231,2",
>      "231,5", "231,9", "232,5", "232,9", "233,1", "233,2", "233,3",
>      "233,4", "233,5", "233,6", "233,7", "233,8", "233,9", "234",
>      "234,1", "234,2", "V"), class = "factor"), V3.RMS = structure(c(14L,
>      13L, 12L, 13L, 12L, 12L, 13L, 11L, 13L, 12L, 10L, 11L, 11L,
>      11L, 11L, 12L, 9L, 10L, 11L, 12L), .Label = c("", "233,8",
>      "233,9", "234", "234,1", "234,2", "234,3", "234,4", "234,5",
>      "234,6", "234,7", "234,8", "234,9", "235", "V"), class = "factor"),
>      V3.RMS.MAX.1.2.p?riode = structure(c(15L, 13L, 12L, 16L,
>      11L, 11L, 13L, 11L, 13L, 13L, 11L, 15L, 11L, 11L, 11L, 12L,
>      12L, 10L, 12L, 12L), .Label = c("", "234,6", "234,7", "234,8",
>      "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>      "235,6", "235,7", "235,8", "235,9", "236", "V"), class = "factor"),
>      A1.RMS.MIN.1.2.p?riode = structure(c(7L, 6L, 7L, 5L, 7L,
>      7L, 5L, 8L, 8L, 6L, 10L, 5L, 9L, 8L, 7L, 4L, 2L, 16L, 15L,
>      14L), .Label = c("", "0,28", "0,32", "0,35", "0,36", "0,37",
>      "0,38", "0,39", "0,4", "0,41", "0,42", "0,43", "3,15", "3,2",
>      "3,21", "3,23", "3,47", "3,49", "3,5", "5,95", "6,02", "6,04",
>      "6,06", "6,07", "6,4", "6,41", "6,45", "6,46", "6,47", "8,88",
>      "8,91", "8,98", "8,99", "9,04", "A"), class = "factor"),
>      A1.RMS = structure(c(2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L,
>      4L, 4L, 4L, 4L, 4L, 4L, 4L, 23L, 17L, 16L, 16L), .Label = c("",
>      "0,45", "0,46", "0,47", "0,48", "0,49", "0,64", "1,45", "1,52",
>      "11,09", "2,26", "2,37", "2,45", "3,37", "3,38", "3,39",
>      "3,4", "3,57", "3,58", "3,59", "4,37", "4,51", "5,14", "5,23",
>      "6,24", "6,25", "6,26", "6,27", "6,28", "6,53", "6,54", "6,55",
>      "6,58", "6,61", "8,37", "9,23", "9,24", "9,25", "9,26", "9,29",
>      "A"), class = "factor"), A1.RMS.MAX.1.2.p?riode = structure(c(3L,
>      5L, 4L, 6L, 4L, 4L, 8L, 4L, 4L, 6L, 2L, 9L, 4L, 5L, 6L, 9L,
>      13L, 19L, 18L, 17L), .Label = c("", "0,5", "0,51", "0,52",
>      "0,53", "0,54", "0,55", "0,56", "0,57", "0,58", "1,05", "1,71",
>      "19,86", "20,25", "3,5", "3,56", "3,57", "3,6", "3,61", "3,64",
>      "3,65", "3,66", "3,68", "3,7", "36,87", "38,73", "38,87",
>      "6,46", "6,47", "6,48", "6,49", "6,5", "6,51", "6,65", "6,66",
>      "6,69", "6,72", "6,75", "9,48", "9,5", "9,51", "9,55", "9,56",
>      "A"), class = "factor"), A2.RMS.MIN.1.2.p?riode = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 9L, 9L, 8L, 9L, 9L, 2L, 2L, 2L,
>      2L, 7L, 5L, 4L), .Label = c("", "0", "2,96", "2,98", "2,99",
>      "3,01", "3,02", "3,15", "3,17", "6,08", "6,11", "6,14", "6,16",
>      "6,17", "6,18", "A"), class = "factor"), A2.RMS = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 18L, 16L, 15L, 15L, 14L, 14L, 6L,
>      2L, 2L, 20L, 12L, 11L, 11L), .Label = c("", "0", "0,21",
>      "0,24", "1,27", "1,65", "2,01", "2,03", "2,92", "3,13", "3,14",
>      "3,15", "3,16", "3,22", "3,23", "3,24", "3,36", "3,6", "4,21",
>      "5,32", "6,25", "6,26", "6,27", "6,28", "6,29", "6,3", "6,33",
>      "8,14", "8,66", "A"), class = "factor"), A2.RMS.MAX.1.2.p?riode = structure(c(3L,
>      3L, 4L, 3L, 3L, 3L, 9L, 36L, 16L, 14L, 15L, 12L, 12L, 23L,
>      4L, 3L, 11L, 15L, 15L, 14L), .Label = c("", "0", "0,07",
>      "0,1", "0,13", "0,15", "1,14", "1,3", "1,74", "21,68", "23,7",
>      "3,27", "3,28", "3,29", "3,3", "3,31", "3,33", "3,9", "37,01",
>      "37,2", "37,98", "4", "5,58", "5,61", "6,35", "6,37", "6,38",
>      "6,39", "6,4", "6,42", "6,43", "6,46", "6,47", "6,48", "6,51",
>      "7,75", "A"), class = "factor"), A3.RMS.MIN.1.2.p?riode = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 7L, 5L, 4L), .Label = c("", "0", "3", "3,02", "3,03",
>      "3,04", "3,05", "3,06", "5,69", "6,21", "6,23", "6,24", "6,25",
>      "6,26", "6,29", "A"), class = "factor"), A3.RMS = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      16L, 12L, 11L, 11L), .Label = c("", "0", "0,02", "0,03",
>      "0,04", "0,7", "1,21", "1,93", "2,48", "3,18", "3,19", "3,2",
>      "3,21", "3,22", "3,69", "4,81", "6,34", "6,36", "6,37", "6,39",
>      "6,41", "6,42", "6,43", "7,82", "8,66", "A"), class = "factor"),
>      A3.RMS.MAX.1.2.p?riode = structure(c(4L, 4L, 3L, 4L, 4L,
>      4L, 10L, 4L, 4L, 4L, 5L, 4L, 4L, 3L, 6L, 5L, 14L, 20L, 19L,
>      18L), .Label = c("", "0", "0,07", "0,1", "0,13", "0,15",
>      "0,17", "0,2", "0,21", "0,23", "0,24", "0,26", "19,83", "19,99",
>      "3,3", "3,32", "3,34", "3,35", "3,36", "3,37", "3,4", "3,41",
>      "36,44", "37,04", "38,12", "6,45", "6,47", "6,48", "6,51",
>      "6,52", "6,53", "6,54", "6,6", "6,63", "6,69", "6,7", "A"
>      ), class = "factor"), AN.RMS.MIN.1.2.p?riode = structure(c(2L,
>      2L, 2L, 2L, 3L, 3L, 3L, 15L, 14L, 13L, 12L, 12L, 11L, 3L,
>      3L, 3L, 7L, 7L, 7L, 7L), .Label = c("", "0,46", "0,47", "0,48",
>      "0,49", "0,5", "0,55", "0,6", "0,64", "3,18", "3,27", "3,28",
>      "3,29", "3,3", "3,31", "3,64", "3,65", "3,68", "3,69", "3,7",
>      "3,71", "3,73", "3,75", "3,76", "3,77", "3,78", "A"), class = "factor"),
>      AN.RMS = structure(c(2L, 2L, 2L, 2L, 3L, 3L, 3L, 25L, 24L,
>      23L, 22L, 22L, 21L, 16L, 3L, 4L, 18L, 8L, 8L, 8L), .Label = c("",
>      "0,46", "0,47", "0,48", "0,49", "0,5", "0,52", "0,55", "0,58",
>      "0,64", "0,85", "1,04", "1,21", "1,52", "1,72", "1,87", "1,97",
>      "2,14", "2,3", "2,43", "3,27", "3,28", "3,29", "3,3", "3,64",
>      "3,65", "3,68", "3,69", "3,7", "3,71", "3,77", "3,78", "3,79",
>      "A"), class = "factor"), AN.RMS.MAX.1.2.p?riode = structure(c(3L,
>      2L, 2L, 2L, 3L, 3L, 3L, 37L, 21L, 20L, 19L, 18L, 18L, 24L,
>      3L, 4L, 38L, 9L, 9L, 10L), .Label = c("", "0,47", "0,48",
>      "0,49", "0,5", "0,51", "0,52", "0,53", "0,55", "0,56", "0,64",
>      "0,65", "0,66", "1", "1,72", "2,28", "3,22", "3,28", "3,29",
>      "3,3", "3,31", "3,33", "3,43", "3,57", "3,64", "3,65", "3,66",
>      "3,69", "3,7", "3,71", "3,72", "3,77", "3,78", "3,79", "3,83",
>      "4,2", "4,35", "5,08", "5,32", "A"), class = "factor"), U12.CF = structure(c(3L,
>      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>      3L, 3L, 3L, 3L), .Label = c("", "1,42", "1,43"), class = "factor"),
>      U23.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("",
>      "1,43", "1,44"), class = "factor"), U31.CF = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L), .Label = c("", "1,44"), class = "factor"),
>      V1.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", "1,41"
>      ), class = "factor"), V2.CF = structure(c(2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L), .Label = c("", "1,4"), class = "factor"), V3.CF = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L), .Label = c("", "1,4"), class = "factor"),
>      A1.CF = structure(c(23L, 28L, 29L, 31L, 27L, 27L, 31L, 31L,
>      29L, 34L, 26L, 32L, 28L, 30L, 29L, 33L, 35L, 8L, 8L, 8L), .Label = c("",
>      "1,44", "1,45", "1,46", "1,47", "1,48", "1,5", "1,51", "1,53",
>      "1,66", "1,74", "1,86", "1,92", "1,94", "1,96", "2", "2,07",
>      "2,08", "2,09", "2,1", "2,11", "2,12", "2,13", "2,14", "2,15",
>      "2,16", "2,17", "2,18", "2,19", "2,2", "2,21", "2,23", "2,24",
>      "2,25", "2,37", "2,8"), class = "factor"), A2.CF = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 16L, 6L, 6L, 5L, 5L, 5L, 6L, 2L,
>      2L, 22L, 12L, 13L, 12L), .Label = c("", "- - -", "1,11",
>      "1,13", "1,41", "1,42", "1,45", "1,46", "1,47", "1,48", "1,5",
>      "1,52", "1,53", "1,54", "1,59", "1,62", "1,63", "1,88", "1,9",
>      "1,96", "2,14", "2,6", "2,94", "5,33"), class = "factor"),
>      A3.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 20L, 8L, 8L, 9L), .Label = c("",
>      "- - -", "1,46", "1,47", "1,48", "1,49", "1,5", "1,53", "1,54",
>      "1,55", "1,63", "1,7", "1,78", "1,79", "1,83", "1,94", "2,12",
>      "2,18", "2,37", "2,45", "2,5", "2,54", "2,67", "5,42"), class = "factor"),
>      AN.CF = structure(c(33L, 33L, 31L, 36L, 34L, 34L, 34L, 11L,
>      3L, 3L, 3L, 4L, 2L, 13L, 32L, 37L, 21L, 22L, 19L, 21L), .Label = c("",
>      "1,5", "1,51", "1,52", "1,53", "1,54", "1,55", "1,56", "1,57",
>      "1,64", "1,7", "1,88", "1,94", "2,01", "2,04", "2,07", "2,08",
>      "2,11", "2,12", "2,14", "2,15", "2,17", "2,18", "2,2", "2,21",
>      "2,22", "2,23", "2,24", "2,25", "2,26", "2,27", "2,28", "2,3",
>      "2,31", "2,32", "2,34", "2,36", "2,37", "2,44", "2,57", "3,68"
>      ), class = "factor"), F = structure(c(4L, 4L, 4L, 4L, 4L,
>      4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L
>      ), .Label = c("", "49,99", "50", "50,01", "50,02", "Hz"), class = "factor"),
>      Vunb..u2. = structure(c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("",
>      "%", "100"), class = "factor"), Aunb..u2. = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      4L, 4L, 4L, 4L), .Label = c("", "- - -", "%", "100", "96,9",
>      "97,8", "98,5", "99,4"), class = "factor"), Uunb..IEEE.112. = structure(c(3L,
>      3L, 4L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 4L, 3L,
>      3L, 4L, 4L, 4L), .Label = c("", "%", "0", "0,1"), class = "factor"),
>      Vunb..IEEE.112. = structure(c(5L, 5L, 4L, 4L, 4L, 4L, 4L,
>      5L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L), .Label = c("",
>      "%", "0,1", "0,2", "0,3"), class = "factor"), Aunb..IEEE.112. = structure(c(18L,
>      18L, 18L, 18L, 18L, 18L, 18L, 10L, 9L, 8L, 8L, 7L, 7L, 6L,
>      18L, 18L, 35L, 29L, 29L, 29L), .Label = c("", "%", "100",
>      "108,7", "12,7", "133,5", "161,8", "161,9", "162", "165,4",
>      "17,1", "188", "188,2", "198,3", "2,4", "2,5", "2,6", "200",
>      "22", "26,1", "26,2", "26,3", "26,4", "26,6", "3,6", "36,2",
>      "38,6", "4,4", "4,6", "47,6", "48,3", "48,8", "48,9", "49,1",
>      "5,5", "9,8"), class = "factor"), Pst1 = c(0L, 0L, 0L, 0L,
>      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>      0L), Pst2 = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Pst3 = c(0L, 0L, 0L,
>      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>      0L, 0L), FHL1 = structure(c(43L, 38L, 42L, 39L, 40L, 40L,
>      42L, 43L, 47L, 48L, 46L, 49L, 50L, 45L, 44L, 41L, 7L, 4L,
>      4L, 4L), .Label = c("", "1,01", "1,02", "1,05", "1,06", "1,8",
>      "1,83", "2,4", "2,42", "3,04", "3,15", "3,66", "3,71", "3,74",
>      "4,27", "4,29", "4,3", "4,31", "4,32", "4,33", "4,35", "4,36",
>      "4,39", "4,4", "4,41", "4,42", "4,43", "4,45", "4,46", "4,47",
>      "4,48", "4,49", "4,54", "4,55", "4,56", "4,57", "4,61", "4,77",
>      "4,82", "4,86", "4,89", "4,91", "4,92", "4,93", "4,95", "5,09",
>      "5,1", "5,11", "5,15", "5,19"), class = "factor"), FHL2 = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 11L, 2L,
>      2L, 4L, 4L, 4L, 4L), .Label = c("", "- - -", "1,02", "1,03",
>      "1,04", "101,41", "11,34", "120,91", "29,83", "29,9", "46,19",
>      "76,9"), class = "factor"), FHL3 = structure(c(2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L,
>      3L, 4L), .Label = c("", "- - -", "1,03", "1,04", "1,19",
>      "111,16", "190,69", "285,28", "291,37", "292,12", "60,81",
>      "81,71"), class = "factor"), FK1 = structure(c(9L, 8L, 9L,
>      9L, 9L, 9L, 9L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 3L, 2L,
>      2L, 2L), .Label = c("", "1", "1,01", "1,03", "1,04", "1,06",
>      "1,07", "1,08", "1,09"), class = "factor"), FK2 = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 6L, 2L, 2L,
>      3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,16", "1,29",
>      "1,51", "1,82", "2,19", "2,31"), class = "factor"), FK3 = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,48", "1,8",
>      "1,91", "2,62", "3,34", "3,37"), class = "factor"), P1..W. = structure(c(38L,
>      39L, 40L, 41L, 42L, 42L, 43L, 44L, 45L, 46L, 46L, 48L, 50L,
>      47L, 47L, 49L, 30L, 28L, 27L, 26L), .Label = c("", "1088",
>      "1319", "1321", "1325", "1331", "1338", "1350", "1417", "1420",
>      "1421", "1423", "1427", "189,8", "191,1", "2032", "2034",
>      "2036", "2041", "2244", "225,4", "394,7", "506,3", "695,5",
>      "696,9", "699,3", "701,2", "702,7", "756,4", "782,1", "795,9",
>      "833,7", "834,9", "835,8", "836,2", "837,9", "838,8", "86,5",
>      "87", "87,5", "87,6", "88", "88,6", "89,2", "89,3", "89,5",
>      "89,6", "89,7", "89,8", "89,9", "91,2", "91,3", "92,3", "93,3",
>      "93,7", "93,8", "94", "94,2", "94,5", "94,6", "W"), class = "factor"),
>      P2..W. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 33L, 38L,
>      37L, 36L, 35L, 34L, 9L, 2L, 2L, 32L, 30L, 29L, 28L), .Label = c("",
>      "0", "0,3", "0,4", "105,8", "1160", "1162", "1169", "117,6",
>      "1170", "1176", "1178", "1180", "1184", "1190", "1229", "1465",
>      "182,1", "425,6", "440,1", "567", "568,2", "568,6", "569,8",
>      "570,7", "578,3", "580", "580,7", "582,6", "585,8", "637,3",
>      "671,4", "719,1", "753,1", "753,5", "754,4", "757", "759,3",
>      "94,4", "W"), class = "factor"), P3..W. = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      30L, 23L, 22L, 21L), .Label = c("", "0", "0,3", "1209", "1213",
>      "1216", "1220", "1223", "1232", "1235", "1243", "1245", "1246",
>      "1248", "1535", "191,9", "450", "456,6", "599,6", "600,2",
>      "601,5", "602,2", "603,8", "612,3", "614,3", "614,9", "615,3",
>      "618,6", "655,6", "683,7", "98,3", "99,5", "W"), class = "factor"),
>      PT..W. = structure(c(45L, 46L, 47L, 48L, 49L, 49L, 50L, 33L,
>      44L, 43L, 42L, 41L, 40L, 10L, 51L, 52L, 11L, 7L, 6L, 5L), .Label = c("",
>      "1693", "1873", "1877", "1881", "1886", "1892", "1963", "2049",
>      "207,1", "2137", "225,4", "2602", "2603", "2608", "2612",
>      "3704", "3712", "3721", "3735", "3752", "3811", "382,5",
>      "396,4", "4431", "4438", "4442", "4450", "4456", "506,3",
>      "5244", "768,7", "808,3", "833,7", "834,9", "835,8", "836,2",
>      "837,9", "838,8", "842,9", "843,3", "843,9", "846,4", "848,7",
>      "86,5", "87", "87,5", "87,6", "88", "88,6", "89,6", "89,8",
>      "91,2", "91,3", "92,9", "93,5", "93,8", "94", "94,2", "94,4",
>      "94,5", "94,6", "94,9", "W"), class = "factor"), Q1..var. = structure(c(9L,
>      10L, 11L, 11L, 9L, 9L, 9L, 6L, 8L, 8L, 7L, 7L, 6L, 8L, 8L,
>      10L, 33L, 31L, 30L, 29L), .Label = c("", "-2,7", "-52,3",
>      "-52,4", "-52,5", "-52,6", "-52,7", "-52,8", "-52,9", "-53",
>      "-53,1", "-53,4", "-53,5", "-53,6", "-53,7", "-53,8", "-53,9",
>      "-54", "18,1", "250,5", "258,4", "345,6", "349,3", "350,5",
>      "351,7", "352,4", "369,7", "370,5", "370,6", "371,9", "373,2",
>      "400,5", "425", "733,3", "736", "740,4", "741,2", "743,2",
>      "76,8", "774", "774,3", "774,4", "774,9", "778,6", "808,4",
>      "952,8", "var"), class = "factor"), Q2..var. = structure(c(3L,
>      3L, 3L, 3L, 3L, 3L, 3L, 7L, 8L, 8L, 8L, 9L, 8L, 4L, 3L, 3L,
>      23L, 15L, 13L, 14L), .Label = c("", "-7,6", "0", "1,9", "1110",
>      "145,6", "2,3", "2,4", "2,5", "328,3", "347,2", "43,2", "446",
>      "446,2", "446,8", "447", "467,3", "468,8", "469,6", "471,2",
>      "476,2", "5,9", "502,5", "76,1", "865,6", "866,5", "866,9",
>      "867,1", "868,6", "898", "901,3", "902,7", "903,7", "905,3",
>      "var"), class = "factor"), Q3..var. = structure(c(3L, 3L,
>      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 19L,
>      15L, 17L, 16L), .Label = c("", "-0,6", "0", "1054", "136,9",
>      "318,4", "325,3", "41,1", "430,8", "431,4", "431,6", "432,1",
>      "444,3", "444,5", "445,4", "445,5", "445,9", "471,7", "494",
>      "75,6", "844,4", "846,2", "846,3", "847,4", "847,8", "859,1",
>      "861,1", "861,5", "862,6", "865,4", "866,9", "var"), class = "factor"),
>      QT..var. = structure(c(12L, 13L, 14L, 14L, 12L, 12L, 12L,
>      5L, 4L, 5L, 4L, 4L, 3L, 6L, 11L, 13L, 32L, 30L, 29L, 28L), .Label = c("",
>      "-47,9", "-50,2", "-50,3", "-50,4", "-50,9", "-52,3", "-52,4",
>      "-52,5", "-52,6", "-52,8", "-52,9", "-53", "-53,1", "-53,3",
>      "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", "-54", "-61,2",
>      "1248", "1250", "1251", "1252", "1261", "1262", "1264", "1265",
>      "1348", "1421", "169,8", "2485", "2488", "2489", "2490",
>      "2502", "2503", "2504", "2507", "2511", "2536", "3117", "359,3",
>      "81,6", "897,2", "930,9", "var"), class = "factor"), S1..VA. = structure(c(4L,
>      5L, 7L, 6L, 8L, 8L, 9L, 10L, 12L, 15L, 11L, 14L, 13L, 13L,
>      13L, 16L, 31L, 59L, 58L, 57L), .Label = c("", "1024", "1056",
>      "106,7", "107,7", "108", "108,2", "108,3", "109,2", "109,4",
>      "109,5", "109,6", "109,9", "110,1", "110,2", "110,5", "111,3",
>      "111,4", "112,7", "112,9", "113,5", "113,8", "113,9", "114",
>      "114,1", "114,2", "114,3", "114,4", "114,5", "114,8", "1201",
>      "1225", "1460", "1463", "1465", "1467", "1471", "151,1",
>      "1530", "1532", "1535", "1541", "1549", "1958", "2161", "2164",
>      "2167", "2172", "2594", "341,2", "356,5", "530,4", "556,3",
>      "575,1", "789", "790,7", "792,7", "795", "797", "836", "837,3",
>      "838,2", "838,5", "840,3", "841,2", "VA"), class = "factor"),
>      S2..VA. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 38L, 36L,
>      35L, 34L, 33L, 32L, 16L, 2L, 2L, 3L, 27L, 25L, 24L), .Label = c("",
>      "0", "1246", "1461", "1463", "1465", "1468", "1469", "1470",
>      "1472", "1474", "1479", "1898", "2023", "298,5", "387,2",
>      "470,7", "475,8", "50,3", "58,2", "683,5", "732,2", "733,3",
>      "733,4", "734,9", "737,1", "737,9", "738,3", "738,4", "738,8",
>      "739,1", "753,1", "753,6", "754,4", "757", "759,4", "785,3",
>      "842,9", "983,8", "VA"), class = "factor"), S3..VA. = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      4L, 29L, 28L, 26L), .Label = c("", "0", "10,2", "1130", "1486",
>      "1489", "1492", "1497", "1499", "1501", "1506", "1507", "1509",
>      "165,3", "1828", "2029", "284,5", "4,5", "4,6", "454,3",
>      "5,7", "5,9", "583,6", "747,6", "748", "749,7", "750,3",
>      "750,5", "751,5", "751,9", "752,2", "752,6", "753,9", "755,1",
>      "8,6", "865,2", "VA"), class = "factor"), ST..VA. = structure(c(2L,
>      3L, 5L, 4L, 6L, 6L, 7L, 68L, 67L, 66L, 65L, 64L, 63L, 47L,
>      8L, 9L, 41L, 32L, 31L, 30L), .Label = c("", "106,7", "107,7",
>      "108", "108,2", "108,3", "109,2", "109,9", "110,5", "111,3",
>      "111,4", "113,5", "113,8", "113,9", "114", "114,1", "114,2",
>      "114,3", "114,4", "114,8", "117,4", "118,6", "120,4", "1335",
>      "1481", "171,5", "219,5", "2269", "2272", "2276", "2280",
>      "2286", "2492", "2595", "2873", "2952", "2953", "2958", "2962",
>      "356,5", "3577", "4477", "4484", "4492", "4506", "4523",
>      "497,1", "5135", "5141", "5145", "5152", "5159", "530,4",
>      "5683", "6647", "805,1", "836", "837,3", "838,2", "838,5",
>      "840,3", "847", "863", "863,7", "863,9", "867,2", "869",
>      "952,3", "VA"), class = "factor"), D1..var. = structure(c(7L,
>      18L, 17L, 13L, 13L, 13L, 27L, 21L, 22L, 28L, 16L, 27L, 18L,
>      25L, 22L, 29L, 50L, 33L, 32L, 36L), .Label = c("", "208,1",
>      "216,1", "237,5", "299,5", "326,7", "33,3", "33,8", "34",
>      "34,1", "34,2", "34,3", "34,4", "34,5", "34,6", "34,7", "34,9",
>      "35", "35,1", "35,2", "35,3", "35,4", "35,5", "35,6", "35,7",
>      "35,8", "35,9", "36,6", "36,7", "37", "43", "45,8", "45,9",
>      "455,2", "46,1", "46,2", "46,3", "47,1", "47,2", "47,6",
>      "47,7", "477,4", "49,9", "52,3", "538,2", "55,1", "55,4",
>      "58,3", "61", "626,5", "63,6", "67,3", "84,1", "93,1", "987,8",
>      "var"), class = "factor"), D2..var. = structure(c(2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 7L, 3L, 39L, 37L, 37L, 38L, 9L, 2L, 2L,
>      36L, 15L, 16L, 13L), .Label = c("", "0", "10,6", "1023",
>      "203,8", "219,5", "276,8", "301,9", "317,3", "332,6", "40",
>      "40,4", "40,7", "40,8", "40,9", "41,3", "41,4", "41,5", "41,9",
>      "42,1", "456,6", "46,4", "47,4", "49,5", "49,9", "506,8",
>      "51,8", "53,1", "55,8", "57,7", "58,4", "592,8", "60,9",
>      "62,8", "64,2", "774,5", "8", "8,9", "9,8", "var"), class = "factor"),
>      D3..var. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 27L, 15L, 12L, 16L), .Label = c("",
>      "0", "10,2", "100", "140,5", "172,9", "4,5", "4,6", "40,3",
>      "40,8", "407,6", "41", "41,7", "41,8", "42,1", "42,2", "42,3",
>      "42,6", "43", "441,4", "5,7", "5,9", "53,8", "55,7", "55,9",
>      "558,4", "558,9", "57,5", "60,1", "60,5", "62,2", "63,6",
>      "64", "67,8", "770,8", "8,6", "84,5", "var"), class = "factor"),
>      DT..var. = structure(c(24L, 35L, 34L, 30L, 30L, 30L, 42L,
>      47L, 9L, 10L, 6L, 8L, 7L, 46L, 38L, 44L, 11L, 14L, 15L, 16L
>      ), .Label = c("", "107,9", "1376", "1492", "153,7", "177,9",
>      "178,1", "179,8", "180,1", "181,7", "2036", "208,1", "2110",
>      "212,9", "214,2", "215,5", "216,3", "252,9", "255", "259,2",
>      "263,7", "267", "2879", "33,3", "33,8", "34", "34,1", "34,2",
>      "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", "35", "35,1",
>      "35,2", "35,4", "35,5", "35,6", "35,8", "35,9", "36,6", "36,7",
>      "37", "384,9", "406,6", "43,7", "44", "47,1", "525,2", "616,8",
>      "617,6", "619,1", "619,5", "623,5", "72,8", "736,5", "737,1",
>      "743,7", "747,3", "749,6", "819,3", "833,3", "847,7", "93,1",
>      "var"), class = "factor"), PF1 = structure(c(14L, 11L, 13L,
>      14L, 15L, 15L, 14L, 16L, 16L, 15L, 18L, 17L, 18L, 16L, 17L,
>      15L, 7L, 30L, 31L, 31L), .Label = c("", "0,589", "0,593",
>      "0,6", "0,622", "0,708", "0,721", "0,722", "0,766", "0,792",
>      "0,807", "0,808", "0,809", "0,81", "0,812", "0,814", "0,815",
>      "0,817", "0,819", "0,823", "0,825", "0,826", "0,827", "0,828",
>      "0,829", "0,861", "0,862", "0,863", "0,864", "0,881", "0,882",
>      "0,894", "0,906", "0,939", "0,94", "0,97", "0,971", "0,997"
>      ), class = "factor"), PF2 = structure(c(2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 30L, 31L, 31L, 31L, 31L, 31L, 7L, 2L, 2L, 11L, 25L,
>      24L, 23L), .Label = c("", "- - -", "0,006", "0,007", "0,178",
>      "0,225", "0,295", "0,358", "0,458", "0,599", "0,604", "0,628",
>      "0,699", "0,759", "0,768", "0,769", "0,77", "0,771", "0,772",
>      "0,788", "0,789", "0,79", "0,791", "0,792", "0,793", "0,804",
>      "0,805", "0,806", "0,808", "0,875", "1"), class = "factor"),
>      PF3 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 14L, 20L, 19L, 19L), .Label = c("",
>      "- - -", "0,001", "0,031", "0,033", "0,049", "0,059", "0,064",
>      "0,208", "0,219", "0,366", "0,472", "0,629", "0,67", "0,689",
>      "0,745", "0,792", "0,801", "0,802", "0,803", "0,814", "0,815",
>      "0,816", "0,817", "0,819", "0,824", "0,825", "0,826", "0,827"
>      ), class = "factor"), PFT = structure(c(19L, 17L, 18L, 19L,
>      20L, 20L, 19L, 32L, 36L, 36L, 37L, 36L, 36L, 5L, 21L, 20L,
>      7L, 27L, 27L, 27L), .Label = c("", "0,406", "0,518", "0,549",
>      "0,552", "0,622", "0,663", "0,69", "0,699", "0,701", "0,704",
>      "0,749", "0,763", "0,794", "0,8", "0,804", "0,807", "0,809",
>      "0,81", "0,812", "0,815", "0,819", "0,823", "0,824", "0,825",
>      "0,826", "0,827", "0,828", "0,829", "0,863", "0,864", "0,866",
>      "0,881", "0,882", "0,906", "0,976", "0,977", "0,99", "0,997"
>      ), class = "factor"), Cos.?1..DPF. = structure(c(9L, 10L,
>      11L, 12L, 13L, 13L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 16L,
>      16L, 15L, 2L, 26L, 26L, 26L), .Label = c("", "0,735", "0,744",
>      "0,8", "0,823", "0,83", "0,843", "0,851", "0,852", "0,853",
>      "0,854", "0,855", "0,856", "0,857", "0,86", "0,861", "0,862",
>      "0,863", "0,864", "0,865", "0,867", "0,868", "0,869", "0,875",
>      "0,882", "0,883", "0,892", "0,916", "0,926", "0,939", "0,94",
>      "0,97", "0,971", "0,998"), class = "factor"), Cos.?2..DPF. = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 31L, 32L, 32L, 32L, 32L, 32L, 7L,
>      2L, 2L, 12L, 26L, 25L, 24L), .Label = c("", "- - -", "-0,001",
>      "-0,008", "0,216", "0,25", "0,348", "0,426", "0,6", "0,603",
>      "0,655", "0,659", "0,741", "0,761", "0,768", "0,77", "0,771",
>      "0,772", "0,773", "0,788", "0,789", "0,79", "0,791", "0,792",
>      "0,793", "0,794", "0,804", "0,805", "0,806", "0,808", "0,965",
>      "1"), class = "factor"), Cos.?3..DPF. = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      13L, 20L, 19L, 19L), .Label = c("", "- - -", "-0,016", "0,201",
>      "0,383", "0,448", "0,452", "0,476", "0,527", "0,561", "0,584",
>      "0,606", "0,669", "0,678", "0,696", "0,745", "0,791", "0,802",
>      "0,803", "0,804", "0,814", "0,815", "0,816", "0,817", "0,818",
>      "0,82", "0,824", "0,826", "0,827"), class = "factor"), Cos.?T..DPF. = structure(c(10L,
>      11L, 11L, 12L, 13L, 13L, 14L, 33L, 34L, 34L, 34L, 34L, 34L,
>      27L, 16L, 15L, 7L, 5L, 4L, 4L), .Label = c("", "0,828", "0,829",
>      "0,83", "0,831", "0,832", "0,834", "0,837", "0,846", "0,852",
>      "0,854", "0,855", "0,856", "0,858", "0,86", "0,861", "0,862",
>      "0,865", "0,867", "0,868", "0,869", "0,87", "0,871", "0,872",
>      "0,873", "0,874", "0,89", "0,892", "0,893", "0,901", "0,902",
>      "0,945", "0,997", "0,998"), class = "factor"), Tan.?1 = structure(c(28L,
>      27L, 26L, 25L, 24L, 24L, 23L, 21L, 22L, 22L, 20L, 19L, 17L,
>      20L, 21L, 22L, 40L, 41L, 40L, 40L), .Label = c("", "-0,007",
>      "-0,062", "-0,063", "-0,27", "-0,372", "-0,388", "-0,395",
>      "-0,473", "-0,567", "-0,568", "-0,569", "-0,57", "-0,571",
>      "-0,572", "-0,573", "-0,585", "-0,587", "-0,588", "-0,589",
>      "-0,59", "-0,591", "-0,598", "-0,602", "-0,606", "-0,608",
>      "-0,609", "-0,611", "0,079", "0,115", "0,244", "0,246", "0,247",
>      "0,361", "0,362", "0,363", "0,364", "0,365", "0,407", "0,53",
>      "0,531", "0,581", "0,582", "0,584", "0,586", "0,587"), class = "factor"),
>      Tan.?2 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L,
>      3L, 3L, 3L, 3L, 4L, 2L, 2L, 13L, 16L, 18L, 19L), .Label = c("",
>      "- - -", "0,003", "0,391", "0,487", "0,708", "0,727", "0,732",
>      "0,734", "0,736", "0,737", "0,751", "0,752", "0,756", "0,757",
>      "0,762", "0,763", "0,765", "0,768", "0,77", "0,771", "0,772",
>      "0,773", "0,777", "0,779", "0,814", "0,818", "0,822", "0,823",
>      "0,826", "0,831", "1,007"), class = "factor"), Tan.?3 = structure(c(2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      25L, 26L, 27L, 28L), .Label = c("", "- - -", "-0,087", "0,026",
>      "0,047", "0,107", "0,135", "0,136", "0,478", "0,544", "0,571",
>      "0,678", "0,679", "0,682", "0,686", "0,696", "0,7", "0,701",
>      "0,703", "0,705", "0,708", "0,709", "0,71", "0,712", "0,724",
>      "0,738", "0,74", "0,741", "1,032"), class = "factor"), Tan.?T = structure(c(27L,
>      26L, 25L, 24L, 23L, 23L, 22L, 4L, 2L, 2L, 2L, 2L, 2L, 10L,
>      20L, 21L, 40L, 41L, 42L, 43L), .Label = c("", "-0,059", "-0,062",
>      "-0,063", "-0,27", "-0,332", "-0,335", "-0,376", "-0,473",
>      "-0,479", "-0,566", "-0,567", "-0,568", "-0,569", "-0,57",
>      "-0,571", "-0,572", "-0,587", "-0,589", "-0,59", "-0,591",
>      "-0,598", "-0,602", "-0,606", "-0,608", "-0,609", "-0,611",
>      "-0,668", "0,101", "0,184", "0,268", "0,416", "0,479", "0,48",
>      "0,558", "0,559", "0,56", "0,561", "0,577", "0,661", "0,669",
>      "0,67", "0,671", "0,672", "0,673", "0,674", "0,675"), class = "factor"),
>      V1.THDf = structure(c(4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L,
>      4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 6L, 6L), .Label = c("",
>      "% f", "1,2", "1,3", "1,4", "1,5", "1,6"), class = "factor"),
>      V2.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 3L, 4L), .Label = c("",
>      "% f", "1,7", "1,8", "1,9", "2"), class = "factor"), V3.THDf = structure(c(4L,
>      5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      4L, 4L, 4L, 4L), .Label = c("", "% f", "1,7", "1,8", "1,9",
>      "2"), class = "factor"), U12.THDf = structure(c(3L, 4L, 4L,
>      4L, 4L, 4L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L,
>      3L, 3L), .Label = c("", "% f", "1", "1,1", "1,2", "1,3"), class = "factor"),
>      U23.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>      3L, 3L, 3L, 4L, 4L, 3L, 3L, 3L, 3L, 4L, 3L), .Label = c("",
>      "% f", "1,2", "1,3", "1,4"), class = "factor"), U31.THDf = structure(c(4L,
>      4L, 5L, 4L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>      4L, 4L, 4L, 4L), .Label = c("", "% f", "1,2", "1,3", "1,4"
>      ), class = "factor"), A1.THDf = structure(c(25L, 25L, 28L,
>      26L, 27L, 27L, 30L, 29L, 32L, 32L, 31L, 32L, 33L, 30L, 30L,
>      29L, 38L, 34L, 34L, 35L), .Label = c("", "% f", "14", "14,1",
>      "19,8", "19,9", "2", "2,1", "2,4", "2,5", "2,7", "2,8", "25",
>      "25,1", "25,6", "30,3", "30,5", "30,6", "30,7", "30,8", "30,9",
>      "31", "31,1", "31,3", "31,5", "31,7", "31,9", "32", "32,2",
>      "32,3", "32,5", "32,6", "32,7", "4", "4,1", "4,3", "8,3",
>      "9,6"), class = "factor"), A2.THDf = structure(c(2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 16L, 2L, 2L,
>      15L, 14L, 9L, 9L), .Label = c("", "- - -", "% f", "1,9",
>      "100,8", "2,6", "2,7", "2,8", "2,9", "20,4", "21,1", "29,8",
>      "3", "3,2", "3,3", "48,5", "70,7", "86,7"), class = "factor"),
>      A3.THDf = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>      2L, 2L, 2L, 2L, 2L, 2L, 2L, 7L, 9L, 6L, 6L), .Label = c("",
>      "- - -", "% f", "169", "2,9", "3", "3,1", "3,2", "3,3", "315,7",
>      "328", "361,5", "5,8", "57,7", "91,7", "97,1"), class = "factor")), row.names = 3:22, class = "data.frame")
> 
> 
> 
> 
> 
> On Sun, 14 Feb 2021 08:52:31 +0000
> Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
>> Hello,
>>
>> It's not scale_x_time with arguments breaks and labels.
>>
>> It's scale_x_datetime with arguments
>>
>> date_breaks and date_labels.
>> If you also want the hour displayed in the x axis labels, change the
>> format string in my previous post to
>>
>>
>> scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
>>
>>
>> Can you post as data sample the output of dput?
>>
>> dput(head(listeMesuresPropres, 20))  # or 30
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> ?s 07:35 de 14/02/21, Informatique escreveu:
>>> Hello,
>>>
>>> the time are in the first table like that :	10:24:00
>>> and i use this for
>>> 	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
>>> after time ar like that : 		10H 24M 0S
>>> and when i use  with ggplot
>>>     scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
>>>
>>> it have the graphics but noting write on the X axis.
>>>
>>> I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.
>>>
>>> Thank's
>>>
>>> Fran?ois-Marie BILLARD
>>>
>>> On Fri, 12 Feb 2021 18:24:35 +0000
>>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>>
>>>> Hello,
>>>>
>>>> In order to select every 20 s, set the date_breaks = "20 secs", not the
>>>> breaks.
>>>> The axis labels are also formatted, with date_labels, standard datetime
>>>> format strings are used for this. And rotated, not part of the question.
>>>>
>>>> # Create some data
>>>> set.seed(2021)
>>>> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"),
>>>> by = "1 secs")
>>>> y <- cumsum(rnorm(length(time)))
>>>> df1 <- data.frame(time, y)
>>>>
>>>> # Plot the data
>>>> library(ggplot2)
>>>>
>>>> ggplot(df1, aes(time, y)) +
>>>>      geom_line() +
>>>>      scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
>>>>      theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1,
>>>> size = 5))
>>>>
>>>>
>>>> Hope this helps,
>>>>
>>>> Rui Barradas
>>>>
>>>> ?s 15:05 de 12/02/21, Informatique escreveu:
>>>>> Hello,
>>>>>
>>>>> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
>>>>> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
>>>>>
>>>>> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
>>>>>
>>>>> but i don't understand how select every 20 s.
>>>>>
>>>>> Thank's for your help
>>>>>
>>>>> Fran?ois-marie BILLARD
>>>>>
>>>
>>>
> 
>


From |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu  Sun Feb 14 16:01:02 2021
From: |n|orm@t|que @end|ng |rom b|||@rd-|r@nco|@-m@r|e@eu (Informatique)
Date: Sun, 14 Feb 2021 16:01:02 +0100
Subject: [R] Resolv:  Axis whitout all the row, that contains time
In-Reply-To: <bdbcf809-1270-b75c-10d6-b67e93a0256a@sapo.pt>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
 <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
 <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>
 <bdbcf809-1270-b75c-10d6-b67e93a0256a@sapo.pt>
Message-ID: <20210214160102.e89d79d4b15e7b3f23557848@billard-francois-marie.eu>

Hello,

with the new column all works fine, i can now select the break and format for the x axis.

Thank's 

Fran?ois-Marie

On Sun, 14 Feb 2021 14:24:22 +0000
Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
> 
> Merci pour les donn?s, c'est beaucoup mieux comme ?a.
> 
> Create a column of class "POSIXct"
> 
> 
> listeMesuresPropres$DateHeure <- with(listeMesuresPropres, 
> as.POSIXct(paste(Date., Heure.)))
> 
> 
> and then plot with this new column, DateHeure as x axis variable.
> 
> Can you post the entire ggplot code, not just the scale_x_datetime 
> instruction but the rest of the plotting code?
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> ?s 13:25 de 14/02/21, Informatique escreveu:
> > Hello,
> > Thank's for your help.
> > 
> > i when i try this one
> >   	geom_line() +
> >    	scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
> >   	 geom_point() 	
> > 
> > 
> > i have an error :
> > 	Erreur : Invalid input: time_trans works with objects of class POSIXct only
> > 
> > it's the reason i have try the scale_x_time after.
> > 
> > The result of > dput(head(listeMesuresPropres, 20))  is
> > 
> > dput(head(listeMesuresPropres, 20))  # or 30
> > structure(list(Date. = structure(c(18666, 18666, 18666, 18666,
> > 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666,
> > 18666, 18666, 18666, 18666, 18666, 18666, 18666), class = "Date"),
> >      Heure. = c("10:24:00", "10:24:05", "10:24:10", "10:24:15",
> >      "10:24:20", "10:24:25", "10:24:30", "10:24:35", "10:24:40",
> >      "10:24:45", "10:24:50", "10:24:55", "10:25:00", "10:25:05",
> >      "10:25:10", "10:25:15", "10:25:20", "10:25:25", "10:25:30",
> >      "10:25:35"), U12.RMS.MIN.1.2.p?riode = structure(c(19L,
> >      18L, 18L, 20L, 20L, 20L, 23L, 3L, 19L, 16L, 12L, 26L, 14L,
> >      28L, 16L, 15L, 13L, 15L, 15L, 27L), .Label = c("", "401,1",
> >      "401,2", "401,5", "401,9", "402", "403", "403,1", "403,2",
> >      "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
> >      "404", "404,1", "404,2", "404,3", "404,4", "404,5", "404,6",
> >      "404,7", "404,8", "404,9", "405", "405,2", "405,3", "V"), class = "factor"),
> >      U12.RMS = structure(c(14L, 13L, 12L, 14L, 14L, 14L, 17L,
> >      10L, 13L, 11L, 8L, 9L, 10L, 10L, 11L, 12L, 9L, 10L, 9L, 9L
> >      ), .Label = c("", "404,7", "404,8", "404,9", "405", "405,1",
> >      "405,2", "405,3", "405,4", "405,5", "405,6", "405,7", "405,8",
> >      "405,9", "406", "406,1", "406,2", "406,3", "V"), class = "factor"),
> >      U12.RMS.MAX.1.2.p?riode = structure(c(14L, 12L, 11L, 13L,
> >      12L, 12L, 17L, 9L, 12L, 11L, 9L, 8L, 8L, 8L, 10L, 11L, 12L,
> >      8L, 9L, 7L), .Label = c("", "406,5", "406,6", "406,7", "406,8",
> >      "406,9", "407", "407,1", "407,2", "407,3", "407,4", "407,5",
> >      "407,6", "407,7", "407,8", "407,9", "408", "408,1", "V"), class = "factor"),
> >      U23.RMS.MIN.1.2.p?riode = structure(c(19L, 16L, 17L, 17L,
> >      17L, 17L, 18L, 2L, 27L, 16L, 12L, 12L, 23L, 14L, 15L, 17L,
> >      12L, 24L, 12L, 14L), .Label = c("", "400,7", "400,8", "401,5",
> >      "401,6", "402,4", "402,8", "402,9", "403", "403,1", "403,2",
> >      "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
> >      "404", "404,2", "404,3", "404,5", "404,6", "404,7", "404,9",
> >      "405", "405,1", "405,6", "V"), class = "factor"), U23.RMS = structure(c(14L,
> >      12L, 12L, 13L, 12L, 12L, 13L, 8L, 11L, 10L, 7L, 7L, 9L, 10L,
> >      9L, 11L, 8L, 8L, 8L, 9L), .Label = c("", "404,5", "404,6",
> >      "404,7", "404,9", "405", "405,1", "405,2", "405,3", "405,4",
> >      "405,5", "405,6", "405,7", "405,8", "405,9", "406", "406,2",
> >      "406,4", "V"), class = "factor"), U23.RMS.MAX.1.2.p?riode = structure(c(16L,
> >      12L, 9L, 12L, 10L, 10L, 13L, 9L, 11L, 9L, 6L, 8L, 10L, 9L,
> >      9L, 11L, 9L, 7L, 6L, 9L), .Label = c("", "406,4", "406,5",
> >      "406,6", "406,8", "406,9", "407", "407,1", "407,2", "407,3",
> >      "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", "408",
> >      "408,1", "408,3", "V"), class = "factor"), U31.RMS.MIN.1.2.p?riode = structure(c(20L,
> >      27L, 20L, 17L, 16L, 16L, 16L, 2L, 15L, 15L, 15L, 15L, 24L,
> >      16L, 17L, 11L, 8L, 15L, 18L, 17L), .Label = c("", "401",
> >      "401,2", "401,3", "401,9", "402", "403,2", "403,5", "403,6",
> >      "403,7", "403,8", "403,9", "404", "404,1", "404,2", "404,3",
> >      "404,4", "404,5", "404,6", "404,7", "404,8", "404,9", "405",
> >      "405,1", "405,2", "405,3", "405,4", "405,5", "405,7", "V"
> >      ), class = "factor"), U31.RMS = structure(c(10L, 8L, 9L,
> >      9L, 6L, 6L, 10L, 7L, 10L, 9L, 6L, 5L, 6L, 6L, 7L, 7L, 4L,
> >      6L, 6L, 7L), .Label = c("", "405,3", "405,4", "405,5", "405,6",
> >      "405,7", "405,8", "405,9", "406", "406,1", "406,2", "406,3",
> >      "406,4", "406,5", "406,6", "406,7", "406,9", "V"), class = "factor"),
> >      U31.RMS.MAX.1.2.p?riode = structure(c(10L, 10L, 12L, 7L,
> >      6L, 6L, 14L, 10L, 14L, 14L, 6L, 8L, 6L, 8L, 9L, 11L, 4L,
> >      4L, 6L, 5L), .Label = c("", "406,9", "407", "407,1", "407,2",
> >      "407,3", "407,4", "407,5", "407,6", "407,7", "407,8", "407,9",
> >      "408", "408,1", "408,2", "408,3", "408,4", "408,6", "V"), class = "factor"),
> >      V1.RMS.MIN.1.2.p?riode = structure(c(12L, 11L, 9L, 9L, 9L,
> >      9L, 10L, 2L, 13L, 12L, 10L, 10L, 10L, 8L, 9L, 8L, 7L, 10L,
> >      10L, 11L), .Label = c("", "231,1", "231,8", "232,1", "232,3",
> >      "232,4", "232,5", "232,7", "232,8", "232,9", "233", "233,1",
> >      "233,2", "233,3", "233,4", "233,5", "233,6", "233,7", "233,8",
> >      "233,9", "234", "234,1", "234,2", "234,4", "234,6", "V"), class = "factor"),
> >      V1.RMS = structure(c(5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 8L,
> >      7L, 5L, 5L, 5L, 3L, 3L, 3L, 2L, 5L, 5L, 5L), .Label = c("",
> >      "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
> >      "234,3", "234,4", "234,5", "234,6", "234,7", "234,8", "234,9",
> >      "V"), class = "factor"), V1.RMS.MAX.1.2.p?riode = structure(c(5L,
> >      4L, 4L, 4L, 2L, 2L, 5L, 6L, 7L, 6L, 5L, 4L, 5L, 4L, 2L, 3L,
> >      4L, 5L, 4L, 4L), .Label = c("", "234,6", "234,7", "234,8",
> >      "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
> >      "235,6", "235,7", "235,8", "235,9", "V"), class = "factor"),
> >      V2.RMS.MIN.1.2.p?riode = structure(c(15L, 14L, 14L, 16L,
> >      16L, 16L, 18L, 4L, 11L, 11L, 9L, 7L, 10L, 13L, 21L, 14L,
> >      12L, 10L, 10L, 10L), .Label = c("", "230,3", "231,3", "231,5",
> >      "231,7", "232,3", "232,4", "232,5", "232,6", "232,7", "232,8",
> >      "232,9", "233", "233,1", "233,2", "233,3", "233,4", "233,5",
> >      "233,6", "233,7", "233,8", "V"), class = "factor"), V2.RMS = structure(c(10L,
> >      10L, 9L, 11L, 11L, 11L, 12L, 5L, 6L, 6L, 4L, 4L, 5L, 8L,
> >      9L, 9L, 8L, 5L, 4L, 4L), .Label = c("", "233,3", "233,4",
> >      "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
> >      "234,3", "234,4", "V"), class = "factor"), V2.RMS.MAX.1.2.p?riode = structure(c(13L,
> >      11L, 11L, 12L, 12L, 12L, 13L, 6L, 8L, 8L, 5L, 6L, 6L, 10L,
> >      9L, 11L, 12L, 6L, 6L, 5L), .Label = c("", "234,3", "234,4",
> >      "234,5", "234,6", "234,7", "234,8", "234,9", "235", "235,1",
> >      "235,2", "235,3", "235,4", "V"), class = "factor"), V3.RMS.MIN.1.2.p?riode = structure(c(18L,
> >      17L, 17L, 14L, 16L, 16L, 16L, 2L, 16L, 16L, 14L, 14L, 15L,
> >      15L, 14L, 14L, 9L, 14L, 15L, 16L), .Label = c("", "231,2",
> >      "231,5", "231,9", "232,5", "232,9", "233,1", "233,2", "233,3",
> >      "233,4", "233,5", "233,6", "233,7", "233,8", "233,9", "234",
> >      "234,1", "234,2", "V"), class = "factor"), V3.RMS = structure(c(14L,
> >      13L, 12L, 13L, 12L, 12L, 13L, 11L, 13L, 12L, 10L, 11L, 11L,
> >      11L, 11L, 12L, 9L, 10L, 11L, 12L), .Label = c("", "233,8",
> >      "233,9", "234", "234,1", "234,2", "234,3", "234,4", "234,5",
> >      "234,6", "234,7", "234,8", "234,9", "235", "V"), class = "factor"),
> >      V3.RMS.MAX.1.2.p?riode = structure(c(15L, 13L, 12L, 16L,
> >      11L, 11L, 13L, 11L, 13L, 13L, 11L, 15L, 11L, 11L, 11L, 12L,
> >      12L, 10L, 12L, 12L), .Label = c("", "234,6", "234,7", "234,8",
> >      "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
> >      "235,6", "235,7", "235,8", "235,9", "236", "V"), class = "factor"),
> >      A1.RMS.MIN.1.2.p?riode = structure(c(7L, 6L, 7L, 5L, 7L,
> >      7L, 5L, 8L, 8L, 6L, 10L, 5L, 9L, 8L, 7L, 4L, 2L, 16L, 15L,
> >      14L), .Label = c("", "0,28", "0,32", "0,35", "0,36", "0,37",
> >      "0,38", "0,39", "0,4", "0,41", "0,42", "0,43", "3,15", "3,2",
> >      "3,21", "3,23", "3,47", "3,49", "3,5", "5,95", "6,02", "6,04",
> >      "6,06", "6,07", "6,4", "6,41", "6,45", "6,46", "6,47", "8,88",
> >      "8,91", "8,98", "8,99", "9,04", "A"), class = "factor"),
> >      A1.RMS = structure(c(2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L,
> >      4L, 4L, 4L, 4L, 4L, 4L, 4L, 23L, 17L, 16L, 16L), .Label = c("",
> >      "0,45", "0,46", "0,47", "0,48", "0,49", "0,64", "1,45", "1,52",
> >      "11,09", "2,26", "2,37", "2,45", "3,37", "3,38", "3,39",
> >      "3,4", "3,57", "3,58", "3,59", "4,37", "4,51", "5,14", "5,23",
> >      "6,24", "6,25", "6,26", "6,27", "6,28", "6,53", "6,54", "6,55",
> >      "6,58", "6,61", "8,37", "9,23", "9,24", "9,25", "9,26", "9,29",
> >      "A"), class = "factor"), A1.RMS.MAX.1.2.p?riode = structure(c(3L,
> >      5L, 4L, 6L, 4L, 4L, 8L, 4L, 4L, 6L, 2L, 9L, 4L, 5L, 6L, 9L,
> >      13L, 19L, 18L, 17L), .Label = c("", "0,5", "0,51", "0,52",
> >      "0,53", "0,54", "0,55", "0,56", "0,57", "0,58", "1,05", "1,71",
> >      "19,86", "20,25", "3,5", "3,56", "3,57", "3,6", "3,61", "3,64",
> >      "3,65", "3,66", "3,68", "3,7", "36,87", "38,73", "38,87",
> >      "6,46", "6,47", "6,48", "6,49", "6,5", "6,51", "6,65", "6,66",
> >      "6,69", "6,72", "6,75", "9,48", "9,5", "9,51", "9,55", "9,56",
> >      "A"), class = "factor"), A2.RMS.MIN.1.2.p?riode = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 9L, 9L, 8L, 9L, 9L, 2L, 2L, 2L,
> >      2L, 7L, 5L, 4L), .Label = c("", "0", "2,96", "2,98", "2,99",
> >      "3,01", "3,02", "3,15", "3,17", "6,08", "6,11", "6,14", "6,16",
> >      "6,17", "6,18", "A"), class = "factor"), A2.RMS = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 18L, 16L, 15L, 15L, 14L, 14L, 6L,
> >      2L, 2L, 20L, 12L, 11L, 11L), .Label = c("", "0", "0,21",
> >      "0,24", "1,27", "1,65", "2,01", "2,03", "2,92", "3,13", "3,14",
> >      "3,15", "3,16", "3,22", "3,23", "3,24", "3,36", "3,6", "4,21",
> >      "5,32", "6,25", "6,26", "6,27", "6,28", "6,29", "6,3", "6,33",
> >      "8,14", "8,66", "A"), class = "factor"), A2.RMS.MAX.1.2.p?riode = structure(c(3L,
> >      3L, 4L, 3L, 3L, 3L, 9L, 36L, 16L, 14L, 15L, 12L, 12L, 23L,
> >      4L, 3L, 11L, 15L, 15L, 14L), .Label = c("", "0", "0,07",
> >      "0,1", "0,13", "0,15", "1,14", "1,3", "1,74", "21,68", "23,7",
> >      "3,27", "3,28", "3,29", "3,3", "3,31", "3,33", "3,9", "37,01",
> >      "37,2", "37,98", "4", "5,58", "5,61", "6,35", "6,37", "6,38",
> >      "6,39", "6,4", "6,42", "6,43", "6,46", "6,47", "6,48", "6,51",
> >      "7,75", "A"), class = "factor"), A3.RMS.MIN.1.2.p?riode = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 7L, 5L, 4L), .Label = c("", "0", "3", "3,02", "3,03",
> >      "3,04", "3,05", "3,06", "5,69", "6,21", "6,23", "6,24", "6,25",
> >      "6,26", "6,29", "A"), class = "factor"), A3.RMS = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      16L, 12L, 11L, 11L), .Label = c("", "0", "0,02", "0,03",
> >      "0,04", "0,7", "1,21", "1,93", "2,48", "3,18", "3,19", "3,2",
> >      "3,21", "3,22", "3,69", "4,81", "6,34", "6,36", "6,37", "6,39",
> >      "6,41", "6,42", "6,43", "7,82", "8,66", "A"), class = "factor"),
> >      A3.RMS.MAX.1.2.p?riode = structure(c(4L, 4L, 3L, 4L, 4L,
> >      4L, 10L, 4L, 4L, 4L, 5L, 4L, 4L, 3L, 6L, 5L, 14L, 20L, 19L,
> >      18L), .Label = c("", "0", "0,07", "0,1", "0,13", "0,15",
> >      "0,17", "0,2", "0,21", "0,23", "0,24", "0,26", "19,83", "19,99",
> >      "3,3", "3,32", "3,34", "3,35", "3,36", "3,37", "3,4", "3,41",
> >      "36,44", "37,04", "38,12", "6,45", "6,47", "6,48", "6,51",
> >      "6,52", "6,53", "6,54", "6,6", "6,63", "6,69", "6,7", "A"
> >      ), class = "factor"), AN.RMS.MIN.1.2.p?riode = structure(c(2L,
> >      2L, 2L, 2L, 3L, 3L, 3L, 15L, 14L, 13L, 12L, 12L, 11L, 3L,
> >      3L, 3L, 7L, 7L, 7L, 7L), .Label = c("", "0,46", "0,47", "0,48",
> >      "0,49", "0,5", "0,55", "0,6", "0,64", "3,18", "3,27", "3,28",
> >      "3,29", "3,3", "3,31", "3,64", "3,65", "3,68", "3,69", "3,7",
> >      "3,71", "3,73", "3,75", "3,76", "3,77", "3,78", "A"), class = "factor"),
> >      AN.RMS = structure(c(2L, 2L, 2L, 2L, 3L, 3L, 3L, 25L, 24L,
> >      23L, 22L, 22L, 21L, 16L, 3L, 4L, 18L, 8L, 8L, 8L), .Label = c("",
> >      "0,46", "0,47", "0,48", "0,49", "0,5", "0,52", "0,55", "0,58",
> >      "0,64", "0,85", "1,04", "1,21", "1,52", "1,72", "1,87", "1,97",
> >      "2,14", "2,3", "2,43", "3,27", "3,28", "3,29", "3,3", "3,64",
> >      "3,65", "3,68", "3,69", "3,7", "3,71", "3,77", "3,78", "3,79",
> >      "A"), class = "factor"), AN.RMS.MAX.1.2.p?riode = structure(c(3L,
> >      2L, 2L, 2L, 3L, 3L, 3L, 37L, 21L, 20L, 19L, 18L, 18L, 24L,
> >      3L, 4L, 38L, 9L, 9L, 10L), .Label = c("", "0,47", "0,48",
> >      "0,49", "0,5", "0,51", "0,52", "0,53", "0,55", "0,56", "0,64",
> >      "0,65", "0,66", "1", "1,72", "2,28", "3,22", "3,28", "3,29",
> >      "3,3", "3,31", "3,33", "3,43", "3,57", "3,64", "3,65", "3,66",
> >      "3,69", "3,7", "3,71", "3,72", "3,77", "3,78", "3,79", "3,83",
> >      "4,2", "4,35", "5,08", "5,32", "A"), class = "factor"), U12.CF = structure(c(3L,
> >      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
> >      3L, 3L, 3L, 3L), .Label = c("", "1,42", "1,43"), class = "factor"),
> >      U23.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("",
> >      "1,43", "1,44"), class = "factor"), U31.CF = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L), .Label = c("", "1,44"), class = "factor"),
> >      V1.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", "1,41"
> >      ), class = "factor"), V2.CF = structure(c(2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L), .Label = c("", "1,4"), class = "factor"), V3.CF = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L), .Label = c("", "1,4"), class = "factor"),
> >      A1.CF = structure(c(23L, 28L, 29L, 31L, 27L, 27L, 31L, 31L,
> >      29L, 34L, 26L, 32L, 28L, 30L, 29L, 33L, 35L, 8L, 8L, 8L), .Label = c("",
> >      "1,44", "1,45", "1,46", "1,47", "1,48", "1,5", "1,51", "1,53",
> >      "1,66", "1,74", "1,86", "1,92", "1,94", "1,96", "2", "2,07",
> >      "2,08", "2,09", "2,1", "2,11", "2,12", "2,13", "2,14", "2,15",
> >      "2,16", "2,17", "2,18", "2,19", "2,2", "2,21", "2,23", "2,24",
> >      "2,25", "2,37", "2,8"), class = "factor"), A2.CF = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 16L, 6L, 6L, 5L, 5L, 5L, 6L, 2L,
> >      2L, 22L, 12L, 13L, 12L), .Label = c("", "- - -", "1,11",
> >      "1,13", "1,41", "1,42", "1,45", "1,46", "1,47", "1,48", "1,5",
> >      "1,52", "1,53", "1,54", "1,59", "1,62", "1,63", "1,88", "1,9",
> >      "1,96", "2,14", "2,6", "2,94", "5,33"), class = "factor"),
> >      A3.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 20L, 8L, 8L, 9L), .Label = c("",
> >      "- - -", "1,46", "1,47", "1,48", "1,49", "1,5", "1,53", "1,54",
> >      "1,55", "1,63", "1,7", "1,78", "1,79", "1,83", "1,94", "2,12",
> >      "2,18", "2,37", "2,45", "2,5", "2,54", "2,67", "5,42"), class = "factor"),
> >      AN.CF = structure(c(33L, 33L, 31L, 36L, 34L, 34L, 34L, 11L,
> >      3L, 3L, 3L, 4L, 2L, 13L, 32L, 37L, 21L, 22L, 19L, 21L), .Label = c("",
> >      "1,5", "1,51", "1,52", "1,53", "1,54", "1,55", "1,56", "1,57",
> >      "1,64", "1,7", "1,88", "1,94", "2,01", "2,04", "2,07", "2,08",
> >      "2,11", "2,12", "2,14", "2,15", "2,17", "2,18", "2,2", "2,21",
> >      "2,22", "2,23", "2,24", "2,25", "2,26", "2,27", "2,28", "2,3",
> >      "2,31", "2,32", "2,34", "2,36", "2,37", "2,44", "2,57", "3,68"
> >      ), class = "factor"), F = structure(c(4L, 4L, 4L, 4L, 4L,
> >      4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L
> >      ), .Label = c("", "49,99", "50", "50,01", "50,02", "Hz"), class = "factor"),
> >      Vunb..u2. = structure(c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
> >      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("",
> >      "%", "100"), class = "factor"), Aunb..u2. = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      4L, 4L, 4L, 4L), .Label = c("", "- - -", "%", "100", "96,9",
> >      "97,8", "98,5", "99,4"), class = "factor"), Uunb..IEEE.112. = structure(c(3L,
> >      3L, 4L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 4L, 3L,
> >      3L, 4L, 4L, 4L), .Label = c("", "%", "0", "0,1"), class = "factor"),
> >      Vunb..IEEE.112. = structure(c(5L, 5L, 4L, 4L, 4L, 4L, 4L,
> >      5L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L), .Label = c("",
> >      "%", "0,1", "0,2", "0,3"), class = "factor"), Aunb..IEEE.112. = structure(c(18L,
> >      18L, 18L, 18L, 18L, 18L, 18L, 10L, 9L, 8L, 8L, 7L, 7L, 6L,
> >      18L, 18L, 35L, 29L, 29L, 29L), .Label = c("", "%", "100",
> >      "108,7", "12,7", "133,5", "161,8", "161,9", "162", "165,4",
> >      "17,1", "188", "188,2", "198,3", "2,4", "2,5", "2,6", "200",
> >      "22", "26,1", "26,2", "26,3", "26,4", "26,6", "3,6", "36,2",
> >      "38,6", "4,4", "4,6", "47,6", "48,3", "48,8", "48,9", "49,1",
> >      "5,5", "9,8"), class = "factor"), Pst1 = c(0L, 0L, 0L, 0L,
> >      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> >      0L), Pst2 = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> >      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Pst3 = c(0L, 0L, 0L,
> >      0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> >      0L, 0L), FHL1 = structure(c(43L, 38L, 42L, 39L, 40L, 40L,
> >      42L, 43L, 47L, 48L, 46L, 49L, 50L, 45L, 44L, 41L, 7L, 4L,
> >      4L, 4L), .Label = c("", "1,01", "1,02", "1,05", "1,06", "1,8",
> >      "1,83", "2,4", "2,42", "3,04", "3,15", "3,66", "3,71", "3,74",
> >      "4,27", "4,29", "4,3", "4,31", "4,32", "4,33", "4,35", "4,36",
> >      "4,39", "4,4", "4,41", "4,42", "4,43", "4,45", "4,46", "4,47",
> >      "4,48", "4,49", "4,54", "4,55", "4,56", "4,57", "4,61", "4,77",
> >      "4,82", "4,86", "4,89", "4,91", "4,92", "4,93", "4,95", "5,09",
> >      "5,1", "5,11", "5,15", "5,19"), class = "factor"), FHL2 = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 11L, 2L,
> >      2L, 4L, 4L, 4L, 4L), .Label = c("", "- - -", "1,02", "1,03",
> >      "1,04", "101,41", "11,34", "120,91", "29,83", "29,9", "46,19",
> >      "76,9"), class = "factor"), FHL3 = structure(c(2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L,
> >      3L, 4L), .Label = c("", "- - -", "1,03", "1,04", "1,19",
> >      "111,16", "190,69", "285,28", "291,37", "292,12", "60,81",
> >      "81,71"), class = "factor"), FK1 = structure(c(9L, 8L, 9L,
> >      9L, 9L, 9L, 9L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 3L, 2L,
> >      2L, 2L), .Label = c("", "1", "1,01", "1,03", "1,04", "1,06",
> >      "1,07", "1,08", "1,09"), class = "factor"), FK2 = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 6L, 2L, 2L,
> >      3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,16", "1,29",
> >      "1,51", "1,82", "2,19", "2,31"), class = "factor"), FK3 = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,48", "1,8",
> >      "1,91", "2,62", "3,34", "3,37"), class = "factor"), P1..W. = structure(c(38L,
> >      39L, 40L, 41L, 42L, 42L, 43L, 44L, 45L, 46L, 46L, 48L, 50L,
> >      47L, 47L, 49L, 30L, 28L, 27L, 26L), .Label = c("", "1088",
> >      "1319", "1321", "1325", "1331", "1338", "1350", "1417", "1420",
> >      "1421", "1423", "1427", "189,8", "191,1", "2032", "2034",
> >      "2036", "2041", "2244", "225,4", "394,7", "506,3", "695,5",
> >      "696,9", "699,3", "701,2", "702,7", "756,4", "782,1", "795,9",
> >      "833,7", "834,9", "835,8", "836,2", "837,9", "838,8", "86,5",
> >      "87", "87,5", "87,6", "88", "88,6", "89,2", "89,3", "89,5",
> >      "89,6", "89,7", "89,8", "89,9", "91,2", "91,3", "92,3", "93,3",
> >      "93,7", "93,8", "94", "94,2", "94,5", "94,6", "W"), class = "factor"),
> >      P2..W. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 33L, 38L,
> >      37L, 36L, 35L, 34L, 9L, 2L, 2L, 32L, 30L, 29L, 28L), .Label = c("",
> >      "0", "0,3", "0,4", "105,8", "1160", "1162", "1169", "117,6",
> >      "1170", "1176", "1178", "1180", "1184", "1190", "1229", "1465",
> >      "182,1", "425,6", "440,1", "567", "568,2", "568,6", "569,8",
> >      "570,7", "578,3", "580", "580,7", "582,6", "585,8", "637,3",
> >      "671,4", "719,1", "753,1", "753,5", "754,4", "757", "759,3",
> >      "94,4", "W"), class = "factor"), P3..W. = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      30L, 23L, 22L, 21L), .Label = c("", "0", "0,3", "1209", "1213",
> >      "1216", "1220", "1223", "1232", "1235", "1243", "1245", "1246",
> >      "1248", "1535", "191,9", "450", "456,6", "599,6", "600,2",
> >      "601,5", "602,2", "603,8", "612,3", "614,3", "614,9", "615,3",
> >      "618,6", "655,6", "683,7", "98,3", "99,5", "W"), class = "factor"),
> >      PT..W. = structure(c(45L, 46L, 47L, 48L, 49L, 49L, 50L, 33L,
> >      44L, 43L, 42L, 41L, 40L, 10L, 51L, 52L, 11L, 7L, 6L, 5L), .Label = c("",
> >      "1693", "1873", "1877", "1881", "1886", "1892", "1963", "2049",
> >      "207,1", "2137", "225,4", "2602", "2603", "2608", "2612",
> >      "3704", "3712", "3721", "3735", "3752", "3811", "382,5",
> >      "396,4", "4431", "4438", "4442", "4450", "4456", "506,3",
> >      "5244", "768,7", "808,3", "833,7", "834,9", "835,8", "836,2",
> >      "837,9", "838,8", "842,9", "843,3", "843,9", "846,4", "848,7",
> >      "86,5", "87", "87,5", "87,6", "88", "88,6", "89,6", "89,8",
> >      "91,2", "91,3", "92,9", "93,5", "93,8", "94", "94,2", "94,4",
> >      "94,5", "94,6", "94,9", "W"), class = "factor"), Q1..var. = structure(c(9L,
> >      10L, 11L, 11L, 9L, 9L, 9L, 6L, 8L, 8L, 7L, 7L, 6L, 8L, 8L,
> >      10L, 33L, 31L, 30L, 29L), .Label = c("", "-2,7", "-52,3",
> >      "-52,4", "-52,5", "-52,6", "-52,7", "-52,8", "-52,9", "-53",
> >      "-53,1", "-53,4", "-53,5", "-53,6", "-53,7", "-53,8", "-53,9",
> >      "-54", "18,1", "250,5", "258,4", "345,6", "349,3", "350,5",
> >      "351,7", "352,4", "369,7", "370,5", "370,6", "371,9", "373,2",
> >      "400,5", "425", "733,3", "736", "740,4", "741,2", "743,2",
> >      "76,8", "774", "774,3", "774,4", "774,9", "778,6", "808,4",
> >      "952,8", "var"), class = "factor"), Q2..var. = structure(c(3L,
> >      3L, 3L, 3L, 3L, 3L, 3L, 7L, 8L, 8L, 8L, 9L, 8L, 4L, 3L, 3L,
> >      23L, 15L, 13L, 14L), .Label = c("", "-7,6", "0", "1,9", "1110",
> >      "145,6", "2,3", "2,4", "2,5", "328,3", "347,2", "43,2", "446",
> >      "446,2", "446,8", "447", "467,3", "468,8", "469,6", "471,2",
> >      "476,2", "5,9", "502,5", "76,1", "865,6", "866,5", "866,9",
> >      "867,1", "868,6", "898", "901,3", "902,7", "903,7", "905,3",
> >      "var"), class = "factor"), Q3..var. = structure(c(3L, 3L,
> >      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 19L,
> >      15L, 17L, 16L), .Label = c("", "-0,6", "0", "1054", "136,9",
> >      "318,4", "325,3", "41,1", "430,8", "431,4", "431,6", "432,1",
> >      "444,3", "444,5", "445,4", "445,5", "445,9", "471,7", "494",
> >      "75,6", "844,4", "846,2", "846,3", "847,4", "847,8", "859,1",
> >      "861,1", "861,5", "862,6", "865,4", "866,9", "var"), class = "factor"),
> >      QT..var. = structure(c(12L, 13L, 14L, 14L, 12L, 12L, 12L,
> >      5L, 4L, 5L, 4L, 4L, 3L, 6L, 11L, 13L, 32L, 30L, 29L, 28L), .Label = c("",
> >      "-47,9", "-50,2", "-50,3", "-50,4", "-50,9", "-52,3", "-52,4",
> >      "-52,5", "-52,6", "-52,8", "-52,9", "-53", "-53,1", "-53,3",
> >      "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", "-54", "-61,2",
> >      "1248", "1250", "1251", "1252", "1261", "1262", "1264", "1265",
> >      "1348", "1421", "169,8", "2485", "2488", "2489", "2490",
> >      "2502", "2503", "2504", "2507", "2511", "2536", "3117", "359,3",
> >      "81,6", "897,2", "930,9", "var"), class = "factor"), S1..VA. = structure(c(4L,
> >      5L, 7L, 6L, 8L, 8L, 9L, 10L, 12L, 15L, 11L, 14L, 13L, 13L,
> >      13L, 16L, 31L, 59L, 58L, 57L), .Label = c("", "1024", "1056",
> >      "106,7", "107,7", "108", "108,2", "108,3", "109,2", "109,4",
> >      "109,5", "109,6", "109,9", "110,1", "110,2", "110,5", "111,3",
> >      "111,4", "112,7", "112,9", "113,5", "113,8", "113,9", "114",
> >      "114,1", "114,2", "114,3", "114,4", "114,5", "114,8", "1201",
> >      "1225", "1460", "1463", "1465", "1467", "1471", "151,1",
> >      "1530", "1532", "1535", "1541", "1549", "1958", "2161", "2164",
> >      "2167", "2172", "2594", "341,2", "356,5", "530,4", "556,3",
> >      "575,1", "789", "790,7", "792,7", "795", "797", "836", "837,3",
> >      "838,2", "838,5", "840,3", "841,2", "VA"), class = "factor"),
> >      S2..VA. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 38L, 36L,
> >      35L, 34L, 33L, 32L, 16L, 2L, 2L, 3L, 27L, 25L, 24L), .Label = c("",
> >      "0", "1246", "1461", "1463", "1465", "1468", "1469", "1470",
> >      "1472", "1474", "1479", "1898", "2023", "298,5", "387,2",
> >      "470,7", "475,8", "50,3", "58,2", "683,5", "732,2", "733,3",
> >      "733,4", "734,9", "737,1", "737,9", "738,3", "738,4", "738,8",
> >      "739,1", "753,1", "753,6", "754,4", "757", "759,4", "785,3",
> >      "842,9", "983,8", "VA"), class = "factor"), S3..VA. = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      4L, 29L, 28L, 26L), .Label = c("", "0", "10,2", "1130", "1486",
> >      "1489", "1492", "1497", "1499", "1501", "1506", "1507", "1509",
> >      "165,3", "1828", "2029", "284,5", "4,5", "4,6", "454,3",
> >      "5,7", "5,9", "583,6", "747,6", "748", "749,7", "750,3",
> >      "750,5", "751,5", "751,9", "752,2", "752,6", "753,9", "755,1",
> >      "8,6", "865,2", "VA"), class = "factor"), ST..VA. = structure(c(2L,
> >      3L, 5L, 4L, 6L, 6L, 7L, 68L, 67L, 66L, 65L, 64L, 63L, 47L,
> >      8L, 9L, 41L, 32L, 31L, 30L), .Label = c("", "106,7", "107,7",
> >      "108", "108,2", "108,3", "109,2", "109,9", "110,5", "111,3",
> >      "111,4", "113,5", "113,8", "113,9", "114", "114,1", "114,2",
> >      "114,3", "114,4", "114,8", "117,4", "118,6", "120,4", "1335",
> >      "1481", "171,5", "219,5", "2269", "2272", "2276", "2280",
> >      "2286", "2492", "2595", "2873", "2952", "2953", "2958", "2962",
> >      "356,5", "3577", "4477", "4484", "4492", "4506", "4523",
> >      "497,1", "5135", "5141", "5145", "5152", "5159", "530,4",
> >      "5683", "6647", "805,1", "836", "837,3", "838,2", "838,5",
> >      "840,3", "847", "863", "863,7", "863,9", "867,2", "869",
> >      "952,3", "VA"), class = "factor"), D1..var. = structure(c(7L,
> >      18L, 17L, 13L, 13L, 13L, 27L, 21L, 22L, 28L, 16L, 27L, 18L,
> >      25L, 22L, 29L, 50L, 33L, 32L, 36L), .Label = c("", "208,1",
> >      "216,1", "237,5", "299,5", "326,7", "33,3", "33,8", "34",
> >      "34,1", "34,2", "34,3", "34,4", "34,5", "34,6", "34,7", "34,9",
> >      "35", "35,1", "35,2", "35,3", "35,4", "35,5", "35,6", "35,7",
> >      "35,8", "35,9", "36,6", "36,7", "37", "43", "45,8", "45,9",
> >      "455,2", "46,1", "46,2", "46,3", "47,1", "47,2", "47,6",
> >      "47,7", "477,4", "49,9", "52,3", "538,2", "55,1", "55,4",
> >      "58,3", "61", "626,5", "63,6", "67,3", "84,1", "93,1", "987,8",
> >      "var"), class = "factor"), D2..var. = structure(c(2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 7L, 3L, 39L, 37L, 37L, 38L, 9L, 2L, 2L,
> >      36L, 15L, 16L, 13L), .Label = c("", "0", "10,6", "1023",
> >      "203,8", "219,5", "276,8", "301,9", "317,3", "332,6", "40",
> >      "40,4", "40,7", "40,8", "40,9", "41,3", "41,4", "41,5", "41,9",
> >      "42,1", "456,6", "46,4", "47,4", "49,5", "49,9", "506,8",
> >      "51,8", "53,1", "55,8", "57,7", "58,4", "592,8", "60,9",
> >      "62,8", "64,2", "774,5", "8", "8,9", "9,8", "var"), class = "factor"),
> >      D3..var. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 27L, 15L, 12L, 16L), .Label = c("",
> >      "0", "10,2", "100", "140,5", "172,9", "4,5", "4,6", "40,3",
> >      "40,8", "407,6", "41", "41,7", "41,8", "42,1", "42,2", "42,3",
> >      "42,6", "43", "441,4", "5,7", "5,9", "53,8", "55,7", "55,9",
> >      "558,4", "558,9", "57,5", "60,1", "60,5", "62,2", "63,6",
> >      "64", "67,8", "770,8", "8,6", "84,5", "var"), class = "factor"),
> >      DT..var. = structure(c(24L, 35L, 34L, 30L, 30L, 30L, 42L,
> >      47L, 9L, 10L, 6L, 8L, 7L, 46L, 38L, 44L, 11L, 14L, 15L, 16L
> >      ), .Label = c("", "107,9", "1376", "1492", "153,7", "177,9",
> >      "178,1", "179,8", "180,1", "181,7", "2036", "208,1", "2110",
> >      "212,9", "214,2", "215,5", "216,3", "252,9", "255", "259,2",
> >      "263,7", "267", "2879", "33,3", "33,8", "34", "34,1", "34,2",
> >      "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", "35", "35,1",
> >      "35,2", "35,4", "35,5", "35,6", "35,8", "35,9", "36,6", "36,7",
> >      "37", "384,9", "406,6", "43,7", "44", "47,1", "525,2", "616,8",
> >      "617,6", "619,1", "619,5", "623,5", "72,8", "736,5", "737,1",
> >      "743,7", "747,3", "749,6", "819,3", "833,3", "847,7", "93,1",
> >      "var"), class = "factor"), PF1 = structure(c(14L, 11L, 13L,
> >      14L, 15L, 15L, 14L, 16L, 16L, 15L, 18L, 17L, 18L, 16L, 17L,
> >      15L, 7L, 30L, 31L, 31L), .Label = c("", "0,589", "0,593",
> >      "0,6", "0,622", "0,708", "0,721", "0,722", "0,766", "0,792",
> >      "0,807", "0,808", "0,809", "0,81", "0,812", "0,814", "0,815",
> >      "0,817", "0,819", "0,823", "0,825", "0,826", "0,827", "0,828",
> >      "0,829", "0,861", "0,862", "0,863", "0,864", "0,881", "0,882",
> >      "0,894", "0,906", "0,939", "0,94", "0,97", "0,971", "0,997"
> >      ), class = "factor"), PF2 = structure(c(2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 30L, 31L, 31L, 31L, 31L, 31L, 7L, 2L, 2L, 11L, 25L,
> >      24L, 23L), .Label = c("", "- - -", "0,006", "0,007", "0,178",
> >      "0,225", "0,295", "0,358", "0,458", "0,599", "0,604", "0,628",
> >      "0,699", "0,759", "0,768", "0,769", "0,77", "0,771", "0,772",
> >      "0,788", "0,789", "0,79", "0,791", "0,792", "0,793", "0,804",
> >      "0,805", "0,806", "0,808", "0,875", "1"), class = "factor"),
> >      PF3 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 14L, 20L, 19L, 19L), .Label = c("",
> >      "- - -", "0,001", "0,031", "0,033", "0,049", "0,059", "0,064",
> >      "0,208", "0,219", "0,366", "0,472", "0,629", "0,67", "0,689",
> >      "0,745", "0,792", "0,801", "0,802", "0,803", "0,814", "0,815",
> >      "0,816", "0,817", "0,819", "0,824", "0,825", "0,826", "0,827"
> >      ), class = "factor"), PFT = structure(c(19L, 17L, 18L, 19L,
> >      20L, 20L, 19L, 32L, 36L, 36L, 37L, 36L, 36L, 5L, 21L, 20L,
> >      7L, 27L, 27L, 27L), .Label = c("", "0,406", "0,518", "0,549",
> >      "0,552", "0,622", "0,663", "0,69", "0,699", "0,701", "0,704",
> >      "0,749", "0,763", "0,794", "0,8", "0,804", "0,807", "0,809",
> >      "0,81", "0,812", "0,815", "0,819", "0,823", "0,824", "0,825",
> >      "0,826", "0,827", "0,828", "0,829", "0,863", "0,864", "0,866",
> >      "0,881", "0,882", "0,906", "0,976", "0,977", "0,99", "0,997"
> >      ), class = "factor"), Cos.?1..DPF. = structure(c(9L, 10L,
> >      11L, 12L, 13L, 13L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 16L,
> >      16L, 15L, 2L, 26L, 26L, 26L), .Label = c("", "0,735", "0,744",
> >      "0,8", "0,823", "0,83", "0,843", "0,851", "0,852", "0,853",
> >      "0,854", "0,855", "0,856", "0,857", "0,86", "0,861", "0,862",
> >      "0,863", "0,864", "0,865", "0,867", "0,868", "0,869", "0,875",
> >      "0,882", "0,883", "0,892", "0,916", "0,926", "0,939", "0,94",
> >      "0,97", "0,971", "0,998"), class = "factor"), Cos.?2..DPF. = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 31L, 32L, 32L, 32L, 32L, 32L, 7L,
> >      2L, 2L, 12L, 26L, 25L, 24L), .Label = c("", "- - -", "-0,001",
> >      "-0,008", "0,216", "0,25", "0,348", "0,426", "0,6", "0,603",
> >      "0,655", "0,659", "0,741", "0,761", "0,768", "0,77", "0,771",
> >      "0,772", "0,773", "0,788", "0,789", "0,79", "0,791", "0,792",
> >      "0,793", "0,794", "0,804", "0,805", "0,806", "0,808", "0,965",
> >      "1"), class = "factor"), Cos.?3..DPF. = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      13L, 20L, 19L, 19L), .Label = c("", "- - -", "-0,016", "0,201",
> >      "0,383", "0,448", "0,452", "0,476", "0,527", "0,561", "0,584",
> >      "0,606", "0,669", "0,678", "0,696", "0,745", "0,791", "0,802",
> >      "0,803", "0,804", "0,814", "0,815", "0,816", "0,817", "0,818",
> >      "0,82", "0,824", "0,826", "0,827"), class = "factor"), Cos.?T..DPF. = structure(c(10L,
> >      11L, 11L, 12L, 13L, 13L, 14L, 33L, 34L, 34L, 34L, 34L, 34L,
> >      27L, 16L, 15L, 7L, 5L, 4L, 4L), .Label = c("", "0,828", "0,829",
> >      "0,83", "0,831", "0,832", "0,834", "0,837", "0,846", "0,852",
> >      "0,854", "0,855", "0,856", "0,858", "0,86", "0,861", "0,862",
> >      "0,865", "0,867", "0,868", "0,869", "0,87", "0,871", "0,872",
> >      "0,873", "0,874", "0,89", "0,892", "0,893", "0,901", "0,902",
> >      "0,945", "0,997", "0,998"), class = "factor"), Tan.?1 = structure(c(28L,
> >      27L, 26L, 25L, 24L, 24L, 23L, 21L, 22L, 22L, 20L, 19L, 17L,
> >      20L, 21L, 22L, 40L, 41L, 40L, 40L), .Label = c("", "-0,007",
> >      "-0,062", "-0,063", "-0,27", "-0,372", "-0,388", "-0,395",
> >      "-0,473", "-0,567", "-0,568", "-0,569", "-0,57", "-0,571",
> >      "-0,572", "-0,573", "-0,585", "-0,587", "-0,588", "-0,589",
> >      "-0,59", "-0,591", "-0,598", "-0,602", "-0,606", "-0,608",
> >      "-0,609", "-0,611", "0,079", "0,115", "0,244", "0,246", "0,247",
> >      "0,361", "0,362", "0,363", "0,364", "0,365", "0,407", "0,53",
> >      "0,531", "0,581", "0,582", "0,584", "0,586", "0,587"), class = "factor"),
> >      Tan.?2 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L,
> >      3L, 3L, 3L, 3L, 4L, 2L, 2L, 13L, 16L, 18L, 19L), .Label = c("",
> >      "- - -", "0,003", "0,391", "0,487", "0,708", "0,727", "0,732",
> >      "0,734", "0,736", "0,737", "0,751", "0,752", "0,756", "0,757",
> >      "0,762", "0,763", "0,765", "0,768", "0,77", "0,771", "0,772",
> >      "0,773", "0,777", "0,779", "0,814", "0,818", "0,822", "0,823",
> >      "0,826", "0,831", "1,007"), class = "factor"), Tan.?3 = structure(c(2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      25L, 26L, 27L, 28L), .Label = c("", "- - -", "-0,087", "0,026",
> >      "0,047", "0,107", "0,135", "0,136", "0,478", "0,544", "0,571",
> >      "0,678", "0,679", "0,682", "0,686", "0,696", "0,7", "0,701",
> >      "0,703", "0,705", "0,708", "0,709", "0,71", "0,712", "0,724",
> >      "0,738", "0,74", "0,741", "1,032"), class = "factor"), Tan.?T = structure(c(27L,
> >      26L, 25L, 24L, 23L, 23L, 22L, 4L, 2L, 2L, 2L, 2L, 2L, 10L,
> >      20L, 21L, 40L, 41L, 42L, 43L), .Label = c("", "-0,059", "-0,062",
> >      "-0,063", "-0,27", "-0,332", "-0,335", "-0,376", "-0,473",
> >      "-0,479", "-0,566", "-0,567", "-0,568", "-0,569", "-0,57",
> >      "-0,571", "-0,572", "-0,587", "-0,589", "-0,59", "-0,591",
> >      "-0,598", "-0,602", "-0,606", "-0,608", "-0,609", "-0,611",
> >      "-0,668", "0,101", "0,184", "0,268", "0,416", "0,479", "0,48",
> >      "0,558", "0,559", "0,56", "0,561", "0,577", "0,661", "0,669",
> >      "0,67", "0,671", "0,672", "0,673", "0,674", "0,675"), class = "factor"),
> >      V1.THDf = structure(c(4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L,
> >      4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 6L, 6L), .Label = c("",
> >      "% f", "1,2", "1,3", "1,4", "1,5", "1,6"), class = "factor"),
> >      V2.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
> >      3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 3L, 4L), .Label = c("",
> >      "% f", "1,7", "1,8", "1,9", "2"), class = "factor"), V3.THDf = structure(c(4L,
> >      5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> >      4L, 4L, 4L, 4L), .Label = c("", "% f", "1,7", "1,8", "1,9",
> >      "2"), class = "factor"), U12.THDf = structure(c(3L, 4L, 4L,
> >      4L, 4L, 4L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L,
> >      3L, 3L), .Label = c("", "% f", "1", "1,1", "1,2", "1,3"), class = "factor"),
> >      U23.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
> >      3L, 3L, 3L, 4L, 4L, 3L, 3L, 3L, 3L, 4L, 3L), .Label = c("",
> >      "% f", "1,2", "1,3", "1,4"), class = "factor"), U31.THDf = structure(c(4L,
> >      4L, 5L, 4L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> >      4L, 4L, 4L, 4L), .Label = c("", "% f", "1,2", "1,3", "1,4"
> >      ), class = "factor"), A1.THDf = structure(c(25L, 25L, 28L,
> >      26L, 27L, 27L, 30L, 29L, 32L, 32L, 31L, 32L, 33L, 30L, 30L,
> >      29L, 38L, 34L, 34L, 35L), .Label = c("", "% f", "14", "14,1",
> >      "19,8", "19,9", "2", "2,1", "2,4", "2,5", "2,7", "2,8", "25",
> >      "25,1", "25,6", "30,3", "30,5", "30,6", "30,7", "30,8", "30,9",
> >      "31", "31,1", "31,3", "31,5", "31,7", "31,9", "32", "32,2",
> >      "32,3", "32,5", "32,6", "32,7", "4", "4,1", "4,3", "8,3",
> >      "9,6"), class = "factor"), A2.THDf = structure(c(2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 16L, 2L, 2L,
> >      15L, 14L, 9L, 9L), .Label = c("", "- - -", "% f", "1,9",
> >      "100,8", "2,6", "2,7", "2,8", "2,9", "20,4", "21,1", "29,8",
> >      "3", "3,2", "3,3", "48,5", "70,7", "86,7"), class = "factor"),
> >      A3.THDf = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
> >      2L, 2L, 2L, 2L, 2L, 2L, 2L, 7L, 9L, 6L, 6L), .Label = c("",
> >      "- - -", "% f", "169", "2,9", "3", "3,1", "3,2", "3,3", "315,7",
> >      "328", "361,5", "5,8", "57,7", "91,7", "97,1"), class = "factor")), row.names = 3:22, class = "data.frame")
> > 
> > 
> > 
> > 
> > 
> > On Sun, 14 Feb 2021 08:52:31 +0000
> > Rui Barradas <ruipbarradas at sapo.pt> wrote:
> > 
> >> Hello,
> >>
> >> It's not scale_x_time with arguments breaks and labels.
> >>
> >> It's scale_x_datetime with arguments
> >>
> >> date_breaks and date_labels.
> >> If you also want the hour displayed in the x axis labels, change the
> >> format string in my previous post to
> >>
> >>
> >> scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
> >>
> >>
> >> Can you post as data sample the output of dput?
> >>
> >> dput(head(listeMesuresPropres, 20))  # or 30
> >>
> >>
> >> Hope this helps,
> >>
> >> Rui Barradas
> >>
> >> ?s 07:35 de 14/02/21, Informatique escreveu:
> >>> Hello,
> >>>
> >>> the time are in the first table like that :	10:24:00
> >>> and i use this for
> >>> 	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
> >>> after time ar like that : 		10H 24M 0S
> >>> and when i use  with ggplot
> >>>     scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
> >>>
> >>> it have the graphics but noting write on the X axis.
> >>>
> >>> I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.
> >>>
> >>> Thank's
> >>>
> >>> Fran?ois-Marie BILLARD
> >>>
> >>> On Fri, 12 Feb 2021 18:24:35 +0000
> >>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
> >>>
> >>>> Hello,
> >>>>
> >>>> In order to select every 20 s, set the date_breaks = "20 secs", not the
> >>>> breaks.
> >>>> The axis labels are also formatted, with date_labels, standard datetime
> >>>> format strings are used for this. And rotated, not part of the question.
> >>>>
> >>>> # Create some data
> >>>> set.seed(2021)
> >>>> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"),
> >>>> by = "1 secs")
> >>>> y <- cumsum(rnorm(length(time)))
> >>>> df1 <- data.frame(time, y)
> >>>>
> >>>> # Plot the data
> >>>> library(ggplot2)
> >>>>
> >>>> ggplot(df1, aes(time, y)) +
> >>>>      geom_line() +
> >>>>      scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
> >>>>      theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1,
> >>>> size = 5))
> >>>>
> >>>>
> >>>> Hope this helps,
> >>>>
> >>>> Rui Barradas
> >>>>
> >>>> ?s 15:05 de 12/02/21, Informatique escreveu:
> >>>>> Hello,
> >>>>>
> >>>>> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
> >>>>> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
> >>>>>
> >>>>> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
> >>>>>
> >>>>> but i don't understand how select every 20 s.
> >>>>>
> >>>>> Thank's for your help
> >>>>>
> >>>>> Fran?ois-marie BILLARD
> >>>>>
> >>>
> >>>
> > 
> > 


-- 
Informatique <informatique at billard-francois-marie.eu>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Feb 14 17:56:03 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 14 Feb 2021 16:56:03 +0000
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <20210214160143.e46c4323d2dfbcc2d5d6effe@billard-francois-marie.eu>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
 <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
 <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>
 <bdbcf809-1270-b75c-10d6-b67e93a0256a@sapo.pt>
 <20210214160143.e46c4323d2dfbcc2d5d6effe@billard-francois-marie.eu>
Message-ID: <03f0d55f-6869-4019-1698-d25d4efd3a51@sapo.pt>

Hello,

Please always cc the r-help mailing list, this might be helpful to 
others in the future.

1. You have a data file using the continental Europe convention of 
marking the decimals with a comma, therefore you should read the data in 
with read.csv2:

the columns separator is the semi-colon: sep = ";"
the decimal point is comma: dec = ","
the default value for argument header = TRUE

Like this you are reading in the numeric data as strings, I will take 
care of that in the code but try read.csv.

2. You have 2 typos.

factorsAsStrings instead of stringsAsFactors. But unless you have a good 
reason to set this to TRUE, I suggest you do not. If it's just to plot 
the data, then don't.

The times format string is missing the percent sign "%" before the H.


2. Now the code. Note that I don't set stringsAsFactors = TRUE and that 
I replace the commas with periods in the 2nd instruction.
Also, aes(..., color = variable) already groups the lines, there is no 
need for group = variable.



liste_data_long <- melt(In_IL, id = "DateHeure")
liste_data_long$value <- sub(",", ".", liste_data_long$value)
liste_data_long$value <- as.numeric(liste_data_long$value)

library(ggplot2)

ggplot(liste_data_long, aes(x = DateHeure, y = value, color = variable)) +
   geom_line() +
   geom_point() +
   scale_x_datetime(date_breaks = "60 secs", date_labels = "%H:%M:%S")



Hope this helps,

Rui Barradas


?s 15:01 de 14/02/21, Informatique escreveu:
> And the nentire code is :
> ---
> title: "TEST 3"
> author: "BILLARD"
> date: "08/02/2021"
> output: pdf_document
> ---
> 
> ```{r setup, include=FALSE,echo=FALSE,warning=FALSE}
> knitr::opts_chunk$set(echo = FALSE)
> ```
> 
> 
> ```{r echo=FALSE,warning=FALSE, message=FALSE}
> library(ggplot2)
> library(reshape2)
> library(tidyverse)
> library(lubridate)
> ```
> 
> 
> ```{r echo=FALSE,warning=FALSE}
> listeMesuresComplete <- read.csv("./8331_141564RFH 2745_Enregistrement_BILL1_fromCA8331_BRUT.csv",skip = 1)
> 
> listeMesuresPropres <- listeMesuresComplete[-c(1,2),]
> 
> listeMesuresPropres$Date. <- as.character.Date(listeMesuresPropres$Date.)
> listeMesuresPropres$Date. <- dmy(listeMesuresPropres$Date.)
> 
> listeMesuresPropres$Heure. <- as.character.Date(listeMesuresPropres$Heure.)
> listeMesuresPropres$DateHeure <- with(listeMesuresPropres, as.POSIXct(paste(Date., Heure.)))
> 
> 
> 
> ```
> # Courants dans une phase et le neutre
> 
> ```{r echo=FALSE,warning=FALSE}
> In_IL<- listeMesuresPropres[ , c("DateHeure","A2.RMS","AN.RMS")]                   # Subset by name
> 
> 
> liste_data_long <- melt(In_IL, id="DateHeure",factorsAsStrings=TRUE)  # convert to long format
> #liste_data_long$Heure. <- hms(liste_data_long$DateHeure.)
> 
> 
>    
> ggplot(liste_data_long, aes(x =DateHeure	, y = value, color =variable, group=variable) )+
>    geom_line() +
>    scale_x_datetime(date_breaks = "60 secs", date_labels = "H:%M:%S")
>    geom_point()
> 
> ```
> 
> On Sun, 14 Feb 2021 14:24:22 +0000
> Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
>> Hello,
>>
>> Merci pour les donn?s, c'est beaucoup mieux comme ?a.
>>
>> Create a column of class "POSIXct"
>>
>>
>> listeMesuresPropres$DateHeure <- with(listeMesuresPropres,
>> as.POSIXct(paste(Date., Heure.)))
>>
>>
>> and then plot with this new column, DateHeure as x axis variable.
>>
>> Can you post the entire ggplot code, not just the scale_x_datetime
>> instruction but the rest of the plotting code?
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>
>> ?s 13:25 de 14/02/21, Informatique escreveu:
>>> Hello,
>>> Thank's for your help.
>>>
>>> i when i try this one
>>>    	geom_line() +
>>>     	scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
>>>    	 geom_point() 	
>>>
>>>
>>> i have an error :
>>> 	Erreur : Invalid input: time_trans works with objects of class POSIXct only
>>>
>>> it's the reason i have try the scale_x_time after.
>>>
>>> The result of > dput(head(listeMesuresPropres, 20))  is
>>>
>>> dput(head(listeMesuresPropres, 20))  # or 30
>>> structure(list(Date. = structure(c(18666, 18666, 18666, 18666,
>>> 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666,
>>> 18666, 18666, 18666, 18666, 18666, 18666, 18666), class = "Date"),
>>>       Heure. = c("10:24:00", "10:24:05", "10:24:10", "10:24:15",
>>>       "10:24:20", "10:24:25", "10:24:30", "10:24:35", "10:24:40",
>>>       "10:24:45", "10:24:50", "10:24:55", "10:25:00", "10:25:05",
>>>       "10:25:10", "10:25:15", "10:25:20", "10:25:25", "10:25:30",
>>>       "10:25:35"), U12.RMS.MIN.1.2.p?riode = structure(c(19L,
>>>       18L, 18L, 20L, 20L, 20L, 23L, 3L, 19L, 16L, 12L, 26L, 14L,
>>>       28L, 16L, 15L, 13L, 15L, 15L, 27L), .Label = c("", "401,1",
>>>       "401,2", "401,5", "401,9", "402", "403", "403,1", "403,2",
>>>       "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>>>       "404", "404,1", "404,2", "404,3", "404,4", "404,5", "404,6",
>>>       "404,7", "404,8", "404,9", "405", "405,2", "405,3", "V"), class = "factor"),
>>>       U12.RMS = structure(c(14L, 13L, 12L, 14L, 14L, 14L, 17L,
>>>       10L, 13L, 11L, 8L, 9L, 10L, 10L, 11L, 12L, 9L, 10L, 9L, 9L
>>>       ), .Label = c("", "404,7", "404,8", "404,9", "405", "405,1",
>>>       "405,2", "405,3", "405,4", "405,5", "405,6", "405,7", "405,8",
>>>       "405,9", "406", "406,1", "406,2", "406,3", "V"), class = "factor"),
>>>       U12.RMS.MAX.1.2.p?riode = structure(c(14L, 12L, 11L, 13L,
>>>       12L, 12L, 17L, 9L, 12L, 11L, 9L, 8L, 8L, 8L, 10L, 11L, 12L,
>>>       8L, 9L, 7L), .Label = c("", "406,5", "406,6", "406,7", "406,8",
>>>       "406,9", "407", "407,1", "407,2", "407,3", "407,4", "407,5",
>>>       "407,6", "407,7", "407,8", "407,9", "408", "408,1", "V"), class = "factor"),
>>>       U23.RMS.MIN.1.2.p?riode = structure(c(19L, 16L, 17L, 17L,
>>>       17L, 17L, 18L, 2L, 27L, 16L, 12L, 12L, 23L, 14L, 15L, 17L,
>>>       12L, 24L, 12L, 14L), .Label = c("", "400,7", "400,8", "401,5",
>>>       "401,6", "402,4", "402,8", "402,9", "403", "403,1", "403,2",
>>>       "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>>>       "404", "404,2", "404,3", "404,5", "404,6", "404,7", "404,9",
>>>       "405", "405,1", "405,6", "V"), class = "factor"), U23.RMS = structure(c(14L,
>>>       12L, 12L, 13L, 12L, 12L, 13L, 8L, 11L, 10L, 7L, 7L, 9L, 10L,
>>>       9L, 11L, 8L, 8L, 8L, 9L), .Label = c("", "404,5", "404,6",
>>>       "404,7", "404,9", "405", "405,1", "405,2", "405,3", "405,4",
>>>       "405,5", "405,6", "405,7", "405,8", "405,9", "406", "406,2",
>>>       "406,4", "V"), class = "factor"), U23.RMS.MAX.1.2.p?riode = structure(c(16L,
>>>       12L, 9L, 12L, 10L, 10L, 13L, 9L, 11L, 9L, 6L, 8L, 10L, 9L,
>>>       9L, 11L, 9L, 7L, 6L, 9L), .Label = c("", "406,4", "406,5",
>>>       "406,6", "406,8", "406,9", "407", "407,1", "407,2", "407,3",
>>>       "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", "408",
>>>       "408,1", "408,3", "V"), class = "factor"), U31.RMS.MIN.1.2.p?riode = structure(c(20L,
>>>       27L, 20L, 17L, 16L, 16L, 16L, 2L, 15L, 15L, 15L, 15L, 24L,
>>>       16L, 17L, 11L, 8L, 15L, 18L, 17L), .Label = c("", "401",
>>>       "401,2", "401,3", "401,9", "402", "403,2", "403,5", "403,6",
>>>       "403,7", "403,8", "403,9", "404", "404,1", "404,2", "404,3",
>>>       "404,4", "404,5", "404,6", "404,7", "404,8", "404,9", "405",
>>>       "405,1", "405,2", "405,3", "405,4", "405,5", "405,7", "V"
>>>       ), class = "factor"), U31.RMS = structure(c(10L, 8L, 9L,
>>>       9L, 6L, 6L, 10L, 7L, 10L, 9L, 6L, 5L, 6L, 6L, 7L, 7L, 4L,
>>>       6L, 6L, 7L), .Label = c("", "405,3", "405,4", "405,5", "405,6",
>>>       "405,7", "405,8", "405,9", "406", "406,1", "406,2", "406,3",
>>>       "406,4", "406,5", "406,6", "406,7", "406,9", "V"), class = "factor"),
>>>       U31.RMS.MAX.1.2.p?riode = structure(c(10L, 10L, 12L, 7L,
>>>       6L, 6L, 14L, 10L, 14L, 14L, 6L, 8L, 6L, 8L, 9L, 11L, 4L,
>>>       4L, 6L, 5L), .Label = c("", "406,9", "407", "407,1", "407,2",
>>>       "407,3", "407,4", "407,5", "407,6", "407,7", "407,8", "407,9",
>>>       "408", "408,1", "408,2", "408,3", "408,4", "408,6", "V"), class = "factor"),
>>>       V1.RMS.MIN.1.2.p?riode = structure(c(12L, 11L, 9L, 9L, 9L,
>>>       9L, 10L, 2L, 13L, 12L, 10L, 10L, 10L, 8L, 9L, 8L, 7L, 10L,
>>>       10L, 11L), .Label = c("", "231,1", "231,8", "232,1", "232,3",
>>>       "232,4", "232,5", "232,7", "232,8", "232,9", "233", "233,1",
>>>       "233,2", "233,3", "233,4", "233,5", "233,6", "233,7", "233,8",
>>>       "233,9", "234", "234,1", "234,2", "234,4", "234,6", "V"), class = "factor"),
>>>       V1.RMS = structure(c(5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 8L,
>>>       7L, 5L, 5L, 5L, 3L, 3L, 3L, 2L, 5L, 5L, 5L), .Label = c("",
>>>       "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>>>       "234,3", "234,4", "234,5", "234,6", "234,7", "234,8", "234,9",
>>>       "V"), class = "factor"), V1.RMS.MAX.1.2.p?riode = structure(c(5L,
>>>       4L, 4L, 4L, 2L, 2L, 5L, 6L, 7L, 6L, 5L, 4L, 5L, 4L, 2L, 3L,
>>>       4L, 5L, 4L, 4L), .Label = c("", "234,6", "234,7", "234,8",
>>>       "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>>>       "235,6", "235,7", "235,8", "235,9", "V"), class = "factor"),
>>>       V2.RMS.MIN.1.2.p?riode = structure(c(15L, 14L, 14L, 16L,
>>>       16L, 16L, 18L, 4L, 11L, 11L, 9L, 7L, 10L, 13L, 21L, 14L,
>>>       12L, 10L, 10L, 10L), .Label = c("", "230,3", "231,3", "231,5",
>>>       "231,7", "232,3", "232,4", "232,5", "232,6", "232,7", "232,8",
>>>       "232,9", "233", "233,1", "233,2", "233,3", "233,4", "233,5",
>>>       "233,6", "233,7", "233,8", "V"), class = "factor"), V2.RMS = structure(c(10L,
>>>       10L, 9L, 11L, 11L, 11L, 12L, 5L, 6L, 6L, 4L, 4L, 5L, 8L,
>>>       9L, 9L, 8L, 5L, 4L, 4L), .Label = c("", "233,3", "233,4",
>>>       "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>>>       "234,3", "234,4", "V"), class = "factor"), V2.RMS.MAX.1.2.p?riode = structure(c(13L,
>>>       11L, 11L, 12L, 12L, 12L, 13L, 6L, 8L, 8L, 5L, 6L, 6L, 10L,
>>>       9L, 11L, 12L, 6L, 6L, 5L), .Label = c("", "234,3", "234,4",
>>>       "234,5", "234,6", "234,7", "234,8", "234,9", "235", "235,1",
>>>       "235,2", "235,3", "235,4", "V"), class = "factor"), V3.RMS.MIN.1.2.p?riode = structure(c(18L,
>>>       17L, 17L, 14L, 16L, 16L, 16L, 2L, 16L, 16L, 14L, 14L, 15L,
>>>       15L, 14L, 14L, 9L, 14L, 15L, 16L), .Label = c("", "231,2",
>>>       "231,5", "231,9", "232,5", "232,9", "233,1", "233,2", "233,3",
>>>       "233,4", "233,5", "233,6", "233,7", "233,8", "233,9", "234",
>>>       "234,1", "234,2", "V"), class = "factor"), V3.RMS = structure(c(14L,
>>>       13L, 12L, 13L, 12L, 12L, 13L, 11L, 13L, 12L, 10L, 11L, 11L,
>>>       11L, 11L, 12L, 9L, 10L, 11L, 12L), .Label = c("", "233,8",
>>>       "233,9", "234", "234,1", "234,2", "234,3", "234,4", "234,5",
>>>       "234,6", "234,7", "234,8", "234,9", "235", "V"), class = "factor"),
>>>       V3.RMS.MAX.1.2.p?riode = structure(c(15L, 13L, 12L, 16L,
>>>       11L, 11L, 13L, 11L, 13L, 13L, 11L, 15L, 11L, 11L, 11L, 12L,
>>>       12L, 10L, 12L, 12L), .Label = c("", "234,6", "234,7", "234,8",
>>>       "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>>>       "235,6", "235,7", "235,8", "235,9", "236", "V"), class = "factor"),
>>>       A1.RMS.MIN.1.2.p?riode = structure(c(7L, 6L, 7L, 5L, 7L,
>>>       7L, 5L, 8L, 8L, 6L, 10L, 5L, 9L, 8L, 7L, 4L, 2L, 16L, 15L,
>>>       14L), .Label = c("", "0,28", "0,32", "0,35", "0,36", "0,37",
>>>       "0,38", "0,39", "0,4", "0,41", "0,42", "0,43", "3,15", "3,2",
>>>       "3,21", "3,23", "3,47", "3,49", "3,5", "5,95", "6,02", "6,04",
>>>       "6,06", "6,07", "6,4", "6,41", "6,45", "6,46", "6,47", "8,88",
>>>       "8,91", "8,98", "8,99", "9,04", "A"), class = "factor"),
>>>       A1.RMS = structure(c(2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L,
>>>       4L, 4L, 4L, 4L, 4L, 4L, 4L, 23L, 17L, 16L, 16L), .Label = c("",
>>>       "0,45", "0,46", "0,47", "0,48", "0,49", "0,64", "1,45", "1,52",
>>>       "11,09", "2,26", "2,37", "2,45", "3,37", "3,38", "3,39",
>>>       "3,4", "3,57", "3,58", "3,59", "4,37", "4,51", "5,14", "5,23",
>>>       "6,24", "6,25", "6,26", "6,27", "6,28", "6,53", "6,54", "6,55",
>>>       "6,58", "6,61", "8,37", "9,23", "9,24", "9,25", "9,26", "9,29",
>>>       "A"), class = "factor"), A1.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>       5L, 4L, 6L, 4L, 4L, 8L, 4L, 4L, 6L, 2L, 9L, 4L, 5L, 6L, 9L,
>>>       13L, 19L, 18L, 17L), .Label = c("", "0,5", "0,51", "0,52",
>>>       "0,53", "0,54", "0,55", "0,56", "0,57", "0,58", "1,05", "1,71",
>>>       "19,86", "20,25", "3,5", "3,56", "3,57", "3,6", "3,61", "3,64",
>>>       "3,65", "3,66", "3,68", "3,7", "36,87", "38,73", "38,87",
>>>       "6,46", "6,47", "6,48", "6,49", "6,5", "6,51", "6,65", "6,66",
>>>       "6,69", "6,72", "6,75", "9,48", "9,5", "9,51", "9,55", "9,56",
>>>       "A"), class = "factor"), A2.RMS.MIN.1.2.p?riode = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 9L, 9L, 8L, 9L, 9L, 2L, 2L, 2L,
>>>       2L, 7L, 5L, 4L), .Label = c("", "0", "2,96", "2,98", "2,99",
>>>       "3,01", "3,02", "3,15", "3,17", "6,08", "6,11", "6,14", "6,16",
>>>       "6,17", "6,18", "A"), class = "factor"), A2.RMS = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 18L, 16L, 15L, 15L, 14L, 14L, 6L,
>>>       2L, 2L, 20L, 12L, 11L, 11L), .Label = c("", "0", "0,21",
>>>       "0,24", "1,27", "1,65", "2,01", "2,03", "2,92", "3,13", "3,14",
>>>       "3,15", "3,16", "3,22", "3,23", "3,24", "3,36", "3,6", "4,21",
>>>       "5,32", "6,25", "6,26", "6,27", "6,28", "6,29", "6,3", "6,33",
>>>       "8,14", "8,66", "A"), class = "factor"), A2.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>       3L, 4L, 3L, 3L, 3L, 9L, 36L, 16L, 14L, 15L, 12L, 12L, 23L,
>>>       4L, 3L, 11L, 15L, 15L, 14L), .Label = c("", "0", "0,07",
>>>       "0,1", "0,13", "0,15", "1,14", "1,3", "1,74", "21,68", "23,7",
>>>       "3,27", "3,28", "3,29", "3,3", "3,31", "3,33", "3,9", "37,01",
>>>       "37,2", "37,98", "4", "5,58", "5,61", "6,35", "6,37", "6,38",
>>>       "6,39", "6,4", "6,42", "6,43", "6,46", "6,47", "6,48", "6,51",
>>>       "7,75", "A"), class = "factor"), A3.RMS.MIN.1.2.p?riode = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 7L, 5L, 4L), .Label = c("", "0", "3", "3,02", "3,03",
>>>       "3,04", "3,05", "3,06", "5,69", "6,21", "6,23", "6,24", "6,25",
>>>       "6,26", "6,29", "A"), class = "factor"), A3.RMS = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       16L, 12L, 11L, 11L), .Label = c("", "0", "0,02", "0,03",
>>>       "0,04", "0,7", "1,21", "1,93", "2,48", "3,18", "3,19", "3,2",
>>>       "3,21", "3,22", "3,69", "4,81", "6,34", "6,36", "6,37", "6,39",
>>>       "6,41", "6,42", "6,43", "7,82", "8,66", "A"), class = "factor"),
>>>       A3.RMS.MAX.1.2.p?riode = structure(c(4L, 4L, 3L, 4L, 4L,
>>>       4L, 10L, 4L, 4L, 4L, 5L, 4L, 4L, 3L, 6L, 5L, 14L, 20L, 19L,
>>>       18L), .Label = c("", "0", "0,07", "0,1", "0,13", "0,15",
>>>       "0,17", "0,2", "0,21", "0,23", "0,24", "0,26", "19,83", "19,99",
>>>       "3,3", "3,32", "3,34", "3,35", "3,36", "3,37", "3,4", "3,41",
>>>       "36,44", "37,04", "38,12", "6,45", "6,47", "6,48", "6,51",
>>>       "6,52", "6,53", "6,54", "6,6", "6,63", "6,69", "6,7", "A"
>>>       ), class = "factor"), AN.RMS.MIN.1.2.p?riode = structure(c(2L,
>>>       2L, 2L, 2L, 3L, 3L, 3L, 15L, 14L, 13L, 12L, 12L, 11L, 3L,
>>>       3L, 3L, 7L, 7L, 7L, 7L), .Label = c("", "0,46", "0,47", "0,48",
>>>       "0,49", "0,5", "0,55", "0,6", "0,64", "3,18", "3,27", "3,28",
>>>       "3,29", "3,3", "3,31", "3,64", "3,65", "3,68", "3,69", "3,7",
>>>       "3,71", "3,73", "3,75", "3,76", "3,77", "3,78", "A"), class = "factor"),
>>>       AN.RMS = structure(c(2L, 2L, 2L, 2L, 3L, 3L, 3L, 25L, 24L,
>>>       23L, 22L, 22L, 21L, 16L, 3L, 4L, 18L, 8L, 8L, 8L), .Label = c("",
>>>       "0,46", "0,47", "0,48", "0,49", "0,5", "0,52", "0,55", "0,58",
>>>       "0,64", "0,85", "1,04", "1,21", "1,52", "1,72", "1,87", "1,97",
>>>       "2,14", "2,3", "2,43", "3,27", "3,28", "3,29", "3,3", "3,64",
>>>       "3,65", "3,68", "3,69", "3,7", "3,71", "3,77", "3,78", "3,79",
>>>       "A"), class = "factor"), AN.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>       2L, 2L, 2L, 3L, 3L, 3L, 37L, 21L, 20L, 19L, 18L, 18L, 24L,
>>>       3L, 4L, 38L, 9L, 9L, 10L), .Label = c("", "0,47", "0,48",
>>>       "0,49", "0,5", "0,51", "0,52", "0,53", "0,55", "0,56", "0,64",
>>>       "0,65", "0,66", "1", "1,72", "2,28", "3,22", "3,28", "3,29",
>>>       "3,3", "3,31", "3,33", "3,43", "3,57", "3,64", "3,65", "3,66",
>>>       "3,69", "3,7", "3,71", "3,72", "3,77", "3,78", "3,79", "3,83",
>>>       "4,2", "4,35", "5,08", "5,32", "A"), class = "factor"), U12.CF = structure(c(3L,
>>>       3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>       3L, 3L, 3L, 3L), .Label = c("", "1,42", "1,43"), class = "factor"),
>>>       U23.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("",
>>>       "1,43", "1,44"), class = "factor"), U31.CF = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L), .Label = c("", "1,44"), class = "factor"),
>>>       V1.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", "1,41"
>>>       ), class = "factor"), V2.CF = structure(c(2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L), .Label = c("", "1,4"), class = "factor"), V3.CF = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L), .Label = c("", "1,4"), class = "factor"),
>>>       A1.CF = structure(c(23L, 28L, 29L, 31L, 27L, 27L, 31L, 31L,
>>>       29L, 34L, 26L, 32L, 28L, 30L, 29L, 33L, 35L, 8L, 8L, 8L), .Label = c("",
>>>       "1,44", "1,45", "1,46", "1,47", "1,48", "1,5", "1,51", "1,53",
>>>       "1,66", "1,74", "1,86", "1,92", "1,94", "1,96", "2", "2,07",
>>>       "2,08", "2,09", "2,1", "2,11", "2,12", "2,13", "2,14", "2,15",
>>>       "2,16", "2,17", "2,18", "2,19", "2,2", "2,21", "2,23", "2,24",
>>>       "2,25", "2,37", "2,8"), class = "factor"), A2.CF = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 16L, 6L, 6L, 5L, 5L, 5L, 6L, 2L,
>>>       2L, 22L, 12L, 13L, 12L), .Label = c("", "- - -", "1,11",
>>>       "1,13", "1,41", "1,42", "1,45", "1,46", "1,47", "1,48", "1,5",
>>>       "1,52", "1,53", "1,54", "1,59", "1,62", "1,63", "1,88", "1,9",
>>>       "1,96", "2,14", "2,6", "2,94", "5,33"), class = "factor"),
>>>       A3.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 20L, 8L, 8L, 9L), .Label = c("",
>>>       "- - -", "1,46", "1,47", "1,48", "1,49", "1,5", "1,53", "1,54",
>>>       "1,55", "1,63", "1,7", "1,78", "1,79", "1,83", "1,94", "2,12",
>>>       "2,18", "2,37", "2,45", "2,5", "2,54", "2,67", "5,42"), class = "factor"),
>>>       AN.CF = structure(c(33L, 33L, 31L, 36L, 34L, 34L, 34L, 11L,
>>>       3L, 3L, 3L, 4L, 2L, 13L, 32L, 37L, 21L, 22L, 19L, 21L), .Label = c("",
>>>       "1,5", "1,51", "1,52", "1,53", "1,54", "1,55", "1,56", "1,57",
>>>       "1,64", "1,7", "1,88", "1,94", "2,01", "2,04", "2,07", "2,08",
>>>       "2,11", "2,12", "2,14", "2,15", "2,17", "2,18", "2,2", "2,21",
>>>       "2,22", "2,23", "2,24", "2,25", "2,26", "2,27", "2,28", "2,3",
>>>       "2,31", "2,32", "2,34", "2,36", "2,37", "2,44", "2,57", "3,68"
>>>       ), class = "factor"), F = structure(c(4L, 4L, 4L, 4L, 4L,
>>>       4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L
>>>       ), .Label = c("", "49,99", "50", "50,01", "50,02", "Hz"), class = "factor"),
>>>       Vunb..u2. = structure(c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>       3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("",
>>>       "%", "100"), class = "factor"), Aunb..u2. = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       4L, 4L, 4L, 4L), .Label = c("", "- - -", "%", "100", "96,9",
>>>       "97,8", "98,5", "99,4"), class = "factor"), Uunb..IEEE.112. = structure(c(3L,
>>>       3L, 4L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 4L, 3L,
>>>       3L, 4L, 4L, 4L), .Label = c("", "%", "0", "0,1"), class = "factor"),
>>>       Vunb..IEEE.112. = structure(c(5L, 5L, 4L, 4L, 4L, 4L, 4L,
>>>       5L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L), .Label = c("",
>>>       "%", "0,1", "0,2", "0,3"), class = "factor"), Aunb..IEEE.112. = structure(c(18L,
>>>       18L, 18L, 18L, 18L, 18L, 18L, 10L, 9L, 8L, 8L, 7L, 7L, 6L,
>>>       18L, 18L, 35L, 29L, 29L, 29L), .Label = c("", "%", "100",
>>>       "108,7", "12,7", "133,5", "161,8", "161,9", "162", "165,4",
>>>       "17,1", "188", "188,2", "198,3", "2,4", "2,5", "2,6", "200",
>>>       "22", "26,1", "26,2", "26,3", "26,4", "26,6", "3,6", "36,2",
>>>       "38,6", "4,4", "4,6", "47,6", "48,3", "48,8", "48,9", "49,1",
>>>       "5,5", "9,8"), class = "factor"), Pst1 = c(0L, 0L, 0L, 0L,
>>>       0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>       0L), Pst2 = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>       0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Pst3 = c(0L, 0L, 0L,
>>>       0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>       0L, 0L), FHL1 = structure(c(43L, 38L, 42L, 39L, 40L, 40L,
>>>       42L, 43L, 47L, 48L, 46L, 49L, 50L, 45L, 44L, 41L, 7L, 4L,
>>>       4L, 4L), .Label = c("", "1,01", "1,02", "1,05", "1,06", "1,8",
>>>       "1,83", "2,4", "2,42", "3,04", "3,15", "3,66", "3,71", "3,74",
>>>       "4,27", "4,29", "4,3", "4,31", "4,32", "4,33", "4,35", "4,36",
>>>       "4,39", "4,4", "4,41", "4,42", "4,43", "4,45", "4,46", "4,47",
>>>       "4,48", "4,49", "4,54", "4,55", "4,56", "4,57", "4,61", "4,77",
>>>       "4,82", "4,86", "4,89", "4,91", "4,92", "4,93", "4,95", "5,09",
>>>       "5,1", "5,11", "5,15", "5,19"), class = "factor"), FHL2 = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 11L, 2L,
>>>       2L, 4L, 4L, 4L, 4L), .Label = c("", "- - -", "1,02", "1,03",
>>>       "1,04", "101,41", "11,34", "120,91", "29,83", "29,9", "46,19",
>>>       "76,9"), class = "factor"), FHL3 = structure(c(2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L,
>>>       3L, 4L), .Label = c("", "- - -", "1,03", "1,04", "1,19",
>>>       "111,16", "190,69", "285,28", "291,37", "292,12", "60,81",
>>>       "81,71"), class = "factor"), FK1 = structure(c(9L, 8L, 9L,
>>>       9L, 9L, 9L, 9L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 3L, 2L,
>>>       2L, 2L), .Label = c("", "1", "1,01", "1,03", "1,04", "1,06",
>>>       "1,07", "1,08", "1,09"), class = "factor"), FK2 = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 6L, 2L, 2L,
>>>       3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,16", "1,29",
>>>       "1,51", "1,82", "2,19", "2,31"), class = "factor"), FK3 = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,48", "1,8",
>>>       "1,91", "2,62", "3,34", "3,37"), class = "factor"), P1..W. = structure(c(38L,
>>>       39L, 40L, 41L, 42L, 42L, 43L, 44L, 45L, 46L, 46L, 48L, 50L,
>>>       47L, 47L, 49L, 30L, 28L, 27L, 26L), .Label = c("", "1088",
>>>       "1319", "1321", "1325", "1331", "1338", "1350", "1417", "1420",
>>>       "1421", "1423", "1427", "189,8", "191,1", "2032", "2034",
>>>       "2036", "2041", "2244", "225,4", "394,7", "506,3", "695,5",
>>>       "696,9", "699,3", "701,2", "702,7", "756,4", "782,1", "795,9",
>>>       "833,7", "834,9", "835,8", "836,2", "837,9", "838,8", "86,5",
>>>       "87", "87,5", "87,6", "88", "88,6", "89,2", "89,3", "89,5",
>>>       "89,6", "89,7", "89,8", "89,9", "91,2", "91,3", "92,3", "93,3",
>>>       "93,7", "93,8", "94", "94,2", "94,5", "94,6", "W"), class = "factor"),
>>>       P2..W. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 33L, 38L,
>>>       37L, 36L, 35L, 34L, 9L, 2L, 2L, 32L, 30L, 29L, 28L), .Label = c("",
>>>       "0", "0,3", "0,4", "105,8", "1160", "1162", "1169", "117,6",
>>>       "1170", "1176", "1178", "1180", "1184", "1190", "1229", "1465",
>>>       "182,1", "425,6", "440,1", "567", "568,2", "568,6", "569,8",
>>>       "570,7", "578,3", "580", "580,7", "582,6", "585,8", "637,3",
>>>       "671,4", "719,1", "753,1", "753,5", "754,4", "757", "759,3",
>>>       "94,4", "W"), class = "factor"), P3..W. = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       30L, 23L, 22L, 21L), .Label = c("", "0", "0,3", "1209", "1213",
>>>       "1216", "1220", "1223", "1232", "1235", "1243", "1245", "1246",
>>>       "1248", "1535", "191,9", "450", "456,6", "599,6", "600,2",
>>>       "601,5", "602,2", "603,8", "612,3", "614,3", "614,9", "615,3",
>>>       "618,6", "655,6", "683,7", "98,3", "99,5", "W"), class = "factor"),
>>>       PT..W. = structure(c(45L, 46L, 47L, 48L, 49L, 49L, 50L, 33L,
>>>       44L, 43L, 42L, 41L, 40L, 10L, 51L, 52L, 11L, 7L, 6L, 5L), .Label = c("",
>>>       "1693", "1873", "1877", "1881", "1886", "1892", "1963", "2049",
>>>       "207,1", "2137", "225,4", "2602", "2603", "2608", "2612",
>>>       "3704", "3712", "3721", "3735", "3752", "3811", "382,5",
>>>       "396,4", "4431", "4438", "4442", "4450", "4456", "506,3",
>>>       "5244", "768,7", "808,3", "833,7", "834,9", "835,8", "836,2",
>>>       "837,9", "838,8", "842,9", "843,3", "843,9", "846,4", "848,7",
>>>       "86,5", "87", "87,5", "87,6", "88", "88,6", "89,6", "89,8",
>>>       "91,2", "91,3", "92,9", "93,5", "93,8", "94", "94,2", "94,4",
>>>       "94,5", "94,6", "94,9", "W"), class = "factor"), Q1..var. = structure(c(9L,
>>>       10L, 11L, 11L, 9L, 9L, 9L, 6L, 8L, 8L, 7L, 7L, 6L, 8L, 8L,
>>>       10L, 33L, 31L, 30L, 29L), .Label = c("", "-2,7", "-52,3",
>>>       "-52,4", "-52,5", "-52,6", "-52,7", "-52,8", "-52,9", "-53",
>>>       "-53,1", "-53,4", "-53,5", "-53,6", "-53,7", "-53,8", "-53,9",
>>>       "-54", "18,1", "250,5", "258,4", "345,6", "349,3", "350,5",
>>>       "351,7", "352,4", "369,7", "370,5", "370,6", "371,9", "373,2",
>>>       "400,5", "425", "733,3", "736", "740,4", "741,2", "743,2",
>>>       "76,8", "774", "774,3", "774,4", "774,9", "778,6", "808,4",
>>>       "952,8", "var"), class = "factor"), Q2..var. = structure(c(3L,
>>>       3L, 3L, 3L, 3L, 3L, 3L, 7L, 8L, 8L, 8L, 9L, 8L, 4L, 3L, 3L,
>>>       23L, 15L, 13L, 14L), .Label = c("", "-7,6", "0", "1,9", "1110",
>>>       "145,6", "2,3", "2,4", "2,5", "328,3", "347,2", "43,2", "446",
>>>       "446,2", "446,8", "447", "467,3", "468,8", "469,6", "471,2",
>>>       "476,2", "5,9", "502,5", "76,1", "865,6", "866,5", "866,9",
>>>       "867,1", "868,6", "898", "901,3", "902,7", "903,7", "905,3",
>>>       "var"), class = "factor"), Q3..var. = structure(c(3L, 3L,
>>>       3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 19L,
>>>       15L, 17L, 16L), .Label = c("", "-0,6", "0", "1054", "136,9",
>>>       "318,4", "325,3", "41,1", "430,8", "431,4", "431,6", "432,1",
>>>       "444,3", "444,5", "445,4", "445,5", "445,9", "471,7", "494",
>>>       "75,6", "844,4", "846,2", "846,3", "847,4", "847,8", "859,1",
>>>       "861,1", "861,5", "862,6", "865,4", "866,9", "var"), class = "factor"),
>>>       QT..var. = structure(c(12L, 13L, 14L, 14L, 12L, 12L, 12L,
>>>       5L, 4L, 5L, 4L, 4L, 3L, 6L, 11L, 13L, 32L, 30L, 29L, 28L), .Label = c("",
>>>       "-47,9", "-50,2", "-50,3", "-50,4", "-50,9", "-52,3", "-52,4",
>>>       "-52,5", "-52,6", "-52,8", "-52,9", "-53", "-53,1", "-53,3",
>>>       "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", "-54", "-61,2",
>>>       "1248", "1250", "1251", "1252", "1261", "1262", "1264", "1265",
>>>       "1348", "1421", "169,8", "2485", "2488", "2489", "2490",
>>>       "2502", "2503", "2504", "2507", "2511", "2536", "3117", "359,3",
>>>       "81,6", "897,2", "930,9", "var"), class = "factor"), S1..VA. = structure(c(4L,
>>>       5L, 7L, 6L, 8L, 8L, 9L, 10L, 12L, 15L, 11L, 14L, 13L, 13L,
>>>       13L, 16L, 31L, 59L, 58L, 57L), .Label = c("", "1024", "1056",
>>>       "106,7", "107,7", "108", "108,2", "108,3", "109,2", "109,4",
>>>       "109,5", "109,6", "109,9", "110,1", "110,2", "110,5", "111,3",
>>>       "111,4", "112,7", "112,9", "113,5", "113,8", "113,9", "114",
>>>       "114,1", "114,2", "114,3", "114,4", "114,5", "114,8", "1201",
>>>       "1225", "1460", "1463", "1465", "1467", "1471", "151,1",
>>>       "1530", "1532", "1535", "1541", "1549", "1958", "2161", "2164",
>>>       "2167", "2172", "2594", "341,2", "356,5", "530,4", "556,3",
>>>       "575,1", "789", "790,7", "792,7", "795", "797", "836", "837,3",
>>>       "838,2", "838,5", "840,3", "841,2", "VA"), class = "factor"),
>>>       S2..VA. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 38L, 36L,
>>>       35L, 34L, 33L, 32L, 16L, 2L, 2L, 3L, 27L, 25L, 24L), .Label = c("",
>>>       "0", "1246", "1461", "1463", "1465", "1468", "1469", "1470",
>>>       "1472", "1474", "1479", "1898", "2023", "298,5", "387,2",
>>>       "470,7", "475,8", "50,3", "58,2", "683,5", "732,2", "733,3",
>>>       "733,4", "734,9", "737,1", "737,9", "738,3", "738,4", "738,8",
>>>       "739,1", "753,1", "753,6", "754,4", "757", "759,4", "785,3",
>>>       "842,9", "983,8", "VA"), class = "factor"), S3..VA. = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       4L, 29L, 28L, 26L), .Label = c("", "0", "10,2", "1130", "1486",
>>>       "1489", "1492", "1497", "1499", "1501", "1506", "1507", "1509",
>>>       "165,3", "1828", "2029", "284,5", "4,5", "4,6", "454,3",
>>>       "5,7", "5,9", "583,6", "747,6", "748", "749,7", "750,3",
>>>       "750,5", "751,5", "751,9", "752,2", "752,6", "753,9", "755,1",
>>>       "8,6", "865,2", "VA"), class = "factor"), ST..VA. = structure(c(2L,
>>>       3L, 5L, 4L, 6L, 6L, 7L, 68L, 67L, 66L, 65L, 64L, 63L, 47L,
>>>       8L, 9L, 41L, 32L, 31L, 30L), .Label = c("", "106,7", "107,7",
>>>       "108", "108,2", "108,3", "109,2", "109,9", "110,5", "111,3",
>>>       "111,4", "113,5", "113,8", "113,9", "114", "114,1", "114,2",
>>>       "114,3", "114,4", "114,8", "117,4", "118,6", "120,4", "1335",
>>>       "1481", "171,5", "219,5", "2269", "2272", "2276", "2280",
>>>       "2286", "2492", "2595", "2873", "2952", "2953", "2958", "2962",
>>>       "356,5", "3577", "4477", "4484", "4492", "4506", "4523",
>>>       "497,1", "5135", "5141", "5145", "5152", "5159", "530,4",
>>>       "5683", "6647", "805,1", "836", "837,3", "838,2", "838,5",
>>>       "840,3", "847", "863", "863,7", "863,9", "867,2", "869",
>>>       "952,3", "VA"), class = "factor"), D1..var. = structure(c(7L,
>>>       18L, 17L, 13L, 13L, 13L, 27L, 21L, 22L, 28L, 16L, 27L, 18L,
>>>       25L, 22L, 29L, 50L, 33L, 32L, 36L), .Label = c("", "208,1",
>>>       "216,1", "237,5", "299,5", "326,7", "33,3", "33,8", "34",
>>>       "34,1", "34,2", "34,3", "34,4", "34,5", "34,6", "34,7", "34,9",
>>>       "35", "35,1", "35,2", "35,3", "35,4", "35,5", "35,6", "35,7",
>>>       "35,8", "35,9", "36,6", "36,7", "37", "43", "45,8", "45,9",
>>>       "455,2", "46,1", "46,2", "46,3", "47,1", "47,2", "47,6",
>>>       "47,7", "477,4", "49,9", "52,3", "538,2", "55,1", "55,4",
>>>       "58,3", "61", "626,5", "63,6", "67,3", "84,1", "93,1", "987,8",
>>>       "var"), class = "factor"), D2..var. = structure(c(2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 7L, 3L, 39L, 37L, 37L, 38L, 9L, 2L, 2L,
>>>       36L, 15L, 16L, 13L), .Label = c("", "0", "10,6", "1023",
>>>       "203,8", "219,5", "276,8", "301,9", "317,3", "332,6", "40",
>>>       "40,4", "40,7", "40,8", "40,9", "41,3", "41,4", "41,5", "41,9",
>>>       "42,1", "456,6", "46,4", "47,4", "49,5", "49,9", "506,8",
>>>       "51,8", "53,1", "55,8", "57,7", "58,4", "592,8", "60,9",
>>>       "62,8", "64,2", "774,5", "8", "8,9", "9,8", "var"), class = "factor"),
>>>       D3..var. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 27L, 15L, 12L, 16L), .Label = c("",
>>>       "0", "10,2", "100", "140,5", "172,9", "4,5", "4,6", "40,3",
>>>       "40,8", "407,6", "41", "41,7", "41,8", "42,1", "42,2", "42,3",
>>>       "42,6", "43", "441,4", "5,7", "5,9", "53,8", "55,7", "55,9",
>>>       "558,4", "558,9", "57,5", "60,1", "60,5", "62,2", "63,6",
>>>       "64", "67,8", "770,8", "8,6", "84,5", "var"), class = "factor"),
>>>       DT..var. = structure(c(24L, 35L, 34L, 30L, 30L, 30L, 42L,
>>>       47L, 9L, 10L, 6L, 8L, 7L, 46L, 38L, 44L, 11L, 14L, 15L, 16L
>>>       ), .Label = c("", "107,9", "1376", "1492", "153,7", "177,9",
>>>       "178,1", "179,8", "180,1", "181,7", "2036", "208,1", "2110",
>>>       "212,9", "214,2", "215,5", "216,3", "252,9", "255", "259,2",
>>>       "263,7", "267", "2879", "33,3", "33,8", "34", "34,1", "34,2",
>>>       "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", "35", "35,1",
>>>       "35,2", "35,4", "35,5", "35,6", "35,8", "35,9", "36,6", "36,7",
>>>       "37", "384,9", "406,6", "43,7", "44", "47,1", "525,2", "616,8",
>>>       "617,6", "619,1", "619,5", "623,5", "72,8", "736,5", "737,1",
>>>       "743,7", "747,3", "749,6", "819,3", "833,3", "847,7", "93,1",
>>>       "var"), class = "factor"), PF1 = structure(c(14L, 11L, 13L,
>>>       14L, 15L, 15L, 14L, 16L, 16L, 15L, 18L, 17L, 18L, 16L, 17L,
>>>       15L, 7L, 30L, 31L, 31L), .Label = c("", "0,589", "0,593",
>>>       "0,6", "0,622", "0,708", "0,721", "0,722", "0,766", "0,792",
>>>       "0,807", "0,808", "0,809", "0,81", "0,812", "0,814", "0,815",
>>>       "0,817", "0,819", "0,823", "0,825", "0,826", "0,827", "0,828",
>>>       "0,829", "0,861", "0,862", "0,863", "0,864", "0,881", "0,882",
>>>       "0,894", "0,906", "0,939", "0,94", "0,97", "0,971", "0,997"
>>>       ), class = "factor"), PF2 = structure(c(2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 30L, 31L, 31L, 31L, 31L, 31L, 7L, 2L, 2L, 11L, 25L,
>>>       24L, 23L), .Label = c("", "- - -", "0,006", "0,007", "0,178",
>>>       "0,225", "0,295", "0,358", "0,458", "0,599", "0,604", "0,628",
>>>       "0,699", "0,759", "0,768", "0,769", "0,77", "0,771", "0,772",
>>>       "0,788", "0,789", "0,79", "0,791", "0,792", "0,793", "0,804",
>>>       "0,805", "0,806", "0,808", "0,875", "1"), class = "factor"),
>>>       PF3 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 14L, 20L, 19L, 19L), .Label = c("",
>>>       "- - -", "0,001", "0,031", "0,033", "0,049", "0,059", "0,064",
>>>       "0,208", "0,219", "0,366", "0,472", "0,629", "0,67", "0,689",
>>>       "0,745", "0,792", "0,801", "0,802", "0,803", "0,814", "0,815",
>>>       "0,816", "0,817", "0,819", "0,824", "0,825", "0,826", "0,827"
>>>       ), class = "factor"), PFT = structure(c(19L, 17L, 18L, 19L,
>>>       20L, 20L, 19L, 32L, 36L, 36L, 37L, 36L, 36L, 5L, 21L, 20L,
>>>       7L, 27L, 27L, 27L), .Label = c("", "0,406", "0,518", "0,549",
>>>       "0,552", "0,622", "0,663", "0,69", "0,699", "0,701", "0,704",
>>>       "0,749", "0,763", "0,794", "0,8", "0,804", "0,807", "0,809",
>>>       "0,81", "0,812", "0,815", "0,819", "0,823", "0,824", "0,825",
>>>       "0,826", "0,827", "0,828", "0,829", "0,863", "0,864", "0,866",
>>>       "0,881", "0,882", "0,906", "0,976", "0,977", "0,99", "0,997"
>>>       ), class = "factor"), Cos.?1..DPF. = structure(c(9L, 10L,
>>>       11L, 12L, 13L, 13L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 16L,
>>>       16L, 15L, 2L, 26L, 26L, 26L), .Label = c("", "0,735", "0,744",
>>>       "0,8", "0,823", "0,83", "0,843", "0,851", "0,852", "0,853",
>>>       "0,854", "0,855", "0,856", "0,857", "0,86", "0,861", "0,862",
>>>       "0,863", "0,864", "0,865", "0,867", "0,868", "0,869", "0,875",
>>>       "0,882", "0,883", "0,892", "0,916", "0,926", "0,939", "0,94",
>>>       "0,97", "0,971", "0,998"), class = "factor"), Cos.?2..DPF. = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 31L, 32L, 32L, 32L, 32L, 32L, 7L,
>>>       2L, 2L, 12L, 26L, 25L, 24L), .Label = c("", "- - -", "-0,001",
>>>       "-0,008", "0,216", "0,25", "0,348", "0,426", "0,6", "0,603",
>>>       "0,655", "0,659", "0,741", "0,761", "0,768", "0,77", "0,771",
>>>       "0,772", "0,773", "0,788", "0,789", "0,79", "0,791", "0,792",
>>>       "0,793", "0,794", "0,804", "0,805", "0,806", "0,808", "0,965",
>>>       "1"), class = "factor"), Cos.?3..DPF. = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       13L, 20L, 19L, 19L), .Label = c("", "- - -", "-0,016", "0,201",
>>>       "0,383", "0,448", "0,452", "0,476", "0,527", "0,561", "0,584",
>>>       "0,606", "0,669", "0,678", "0,696", "0,745", "0,791", "0,802",
>>>       "0,803", "0,804", "0,814", "0,815", "0,816", "0,817", "0,818",
>>>       "0,82", "0,824", "0,826", "0,827"), class = "factor"), Cos.?T..DPF. = structure(c(10L,
>>>       11L, 11L, 12L, 13L, 13L, 14L, 33L, 34L, 34L, 34L, 34L, 34L,
>>>       27L, 16L, 15L, 7L, 5L, 4L, 4L), .Label = c("", "0,828", "0,829",
>>>       "0,83", "0,831", "0,832", "0,834", "0,837", "0,846", "0,852",
>>>       "0,854", "0,855", "0,856", "0,858", "0,86", "0,861", "0,862",
>>>       "0,865", "0,867", "0,868", "0,869", "0,87", "0,871", "0,872",
>>>       "0,873", "0,874", "0,89", "0,892", "0,893", "0,901", "0,902",
>>>       "0,945", "0,997", "0,998"), class = "factor"), Tan.?1 = structure(c(28L,
>>>       27L, 26L, 25L, 24L, 24L, 23L, 21L, 22L, 22L, 20L, 19L, 17L,
>>>       20L, 21L, 22L, 40L, 41L, 40L, 40L), .Label = c("", "-0,007",
>>>       "-0,062", "-0,063", "-0,27", "-0,372", "-0,388", "-0,395",
>>>       "-0,473", "-0,567", "-0,568", "-0,569", "-0,57", "-0,571",
>>>       "-0,572", "-0,573", "-0,585", "-0,587", "-0,588", "-0,589",
>>>       "-0,59", "-0,591", "-0,598", "-0,602", "-0,606", "-0,608",
>>>       "-0,609", "-0,611", "0,079", "0,115", "0,244", "0,246", "0,247",
>>>       "0,361", "0,362", "0,363", "0,364", "0,365", "0,407", "0,53",
>>>       "0,531", "0,581", "0,582", "0,584", "0,586", "0,587"), class = "factor"),
>>>       Tan.?2 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L,
>>>       3L, 3L, 3L, 3L, 4L, 2L, 2L, 13L, 16L, 18L, 19L), .Label = c("",
>>>       "- - -", "0,003", "0,391", "0,487", "0,708", "0,727", "0,732",
>>>       "0,734", "0,736", "0,737", "0,751", "0,752", "0,756", "0,757",
>>>       "0,762", "0,763", "0,765", "0,768", "0,77", "0,771", "0,772",
>>>       "0,773", "0,777", "0,779", "0,814", "0,818", "0,822", "0,823",
>>>       "0,826", "0,831", "1,007"), class = "factor"), Tan.?3 = structure(c(2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       25L, 26L, 27L, 28L), .Label = c("", "- - -", "-0,087", "0,026",
>>>       "0,047", "0,107", "0,135", "0,136", "0,478", "0,544", "0,571",
>>>       "0,678", "0,679", "0,682", "0,686", "0,696", "0,7", "0,701",
>>>       "0,703", "0,705", "0,708", "0,709", "0,71", "0,712", "0,724",
>>>       "0,738", "0,74", "0,741", "1,032"), class = "factor"), Tan.?T = structure(c(27L,
>>>       26L, 25L, 24L, 23L, 23L, 22L, 4L, 2L, 2L, 2L, 2L, 2L, 10L,
>>>       20L, 21L, 40L, 41L, 42L, 43L), .Label = c("", "-0,059", "-0,062",
>>>       "-0,063", "-0,27", "-0,332", "-0,335", "-0,376", "-0,473",
>>>       "-0,479", "-0,566", "-0,567", "-0,568", "-0,569", "-0,57",
>>>       "-0,571", "-0,572", "-0,587", "-0,589", "-0,59", "-0,591",
>>>       "-0,598", "-0,602", "-0,606", "-0,608", "-0,609", "-0,611",
>>>       "-0,668", "0,101", "0,184", "0,268", "0,416", "0,479", "0,48",
>>>       "0,558", "0,559", "0,56", "0,561", "0,577", "0,661", "0,669",
>>>       "0,67", "0,671", "0,672", "0,673", "0,674", "0,675"), class = "factor"),
>>>       V1.THDf = structure(c(4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L,
>>>       4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 6L, 6L), .Label = c("",
>>>       "% f", "1,2", "1,3", "1,4", "1,5", "1,6"), class = "factor"),
>>>       V2.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>       3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 3L, 4L), .Label = c("",
>>>       "% f", "1,7", "1,8", "1,9", "2"), class = "factor"), V3.THDf = structure(c(4L,
>>>       5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>       4L, 4L, 4L, 4L), .Label = c("", "% f", "1,7", "1,8", "1,9",
>>>       "2"), class = "factor"), U12.THDf = structure(c(3L, 4L, 4L,
>>>       4L, 4L, 4L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L,
>>>       3L, 3L), .Label = c("", "% f", "1", "1,1", "1,2", "1,3"), class = "factor"),
>>>       U23.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>       3L, 3L, 3L, 4L, 4L, 3L, 3L, 3L, 3L, 4L, 3L), .Label = c("",
>>>       "% f", "1,2", "1,3", "1,4"), class = "factor"), U31.THDf = structure(c(4L,
>>>       4L, 5L, 4L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>       4L, 4L, 4L, 4L), .Label = c("", "% f", "1,2", "1,3", "1,4"
>>>       ), class = "factor"), A1.THDf = structure(c(25L, 25L, 28L,
>>>       26L, 27L, 27L, 30L, 29L, 32L, 32L, 31L, 32L, 33L, 30L, 30L,
>>>       29L, 38L, 34L, 34L, 35L), .Label = c("", "% f", "14", "14,1",
>>>       "19,8", "19,9", "2", "2,1", "2,4", "2,5", "2,7", "2,8", "25",
>>>       "25,1", "25,6", "30,3", "30,5", "30,6", "30,7", "30,8", "30,9",
>>>       "31", "31,1", "31,3", "31,5", "31,7", "31,9", "32", "32,2",
>>>       "32,3", "32,5", "32,6", "32,7", "4", "4,1", "4,3", "8,3",
>>>       "9,6"), class = "factor"), A2.THDf = structure(c(2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 16L, 2L, 2L,
>>>       15L, 14L, 9L, 9L), .Label = c("", "- - -", "% f", "1,9",
>>>       "100,8", "2,6", "2,7", "2,8", "2,9", "20,4", "21,1", "29,8",
>>>       "3", "3,2", "3,3", "48,5", "70,7", "86,7"), class = "factor"),
>>>       A3.THDf = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>       2L, 2L, 2L, 2L, 2L, 2L, 2L, 7L, 9L, 6L, 6L), .Label = c("",
>>>       "- - -", "% f", "169", "2,9", "3", "3,1", "3,2", "3,3", "315,7",
>>>       "328", "361,5", "5,8", "57,7", "91,7", "97,1"), class = "factor")), row.names = 3:22, class = "data.frame")
>>>
>>>
>>>
>>>
>>>
>>> On Sun, 14 Feb 2021 08:52:31 +0000
>>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>>
>>>> Hello,
>>>>
>>>> It's not scale_x_time with arguments breaks and labels.
>>>>
>>>> It's scale_x_datetime with arguments
>>>>
>>>> date_breaks and date_labels.
>>>> If you also want the hour displayed in the x axis labels, change the
>>>> format string in my previous post to
>>>>
>>>>
>>>> scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
>>>>
>>>>
>>>> Can you post as data sample the output of dput?
>>>>
>>>> dput(head(listeMesuresPropres, 20))  # or 30
>>>>
>>>>
>>>> Hope this helps,
>>>>
>>>> Rui Barradas
>>>>
>>>> ?s 07:35 de 14/02/21, Informatique escreveu:
>>>>> Hello,
>>>>>
>>>>> the time are in the first table like that :	10:24:00
>>>>> and i use this for
>>>>> 	listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
>>>>> after time ar like that : 		10H 24M 0S
>>>>> and when i use  with ggplot
>>>>>      scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
>>>>>
>>>>> it have the graphics but noting write on the X axis.
>>>>>
>>>>> I think it a problem with the format of the time, because if i try a ggplot without scale_x_time i don't have anything on the graphic.
>>>>>
>>>>> Thank's
>>>>>
>>>>> Fran?ois-Marie BILLARD
>>>>>
>>>>> On Fri, 12 Feb 2021 18:24:35 +0000
>>>>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>>>>
>>>>>> Hello,
>>>>>>
>>>>>> In order to select every 20 s, set the date_breaks = "20 secs", not the
>>>>>> breaks.
>>>>>> The axis labels are also formatted, with date_labels, standard datetime
>>>>>> format strings are used for this. And rotated, not part of the question.
>>>>>>
>>>>>> # Create some data
>>>>>> set.seed(2021)
>>>>>> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 00:29:59"),
>>>>>> by = "1 secs")
>>>>>> y <- cumsum(rnorm(length(time)))
>>>>>> df1 <- data.frame(time, y)
>>>>>>
>>>>>> # Plot the data
>>>>>> library(ggplot2)
>>>>>>
>>>>>> ggplot(df1, aes(time, y)) +
>>>>>>       geom_line() +
>>>>>>       scale_x_datetime(date_breaks = "20 secs", date_labels = "%M:%S") +
>>>>>>       theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1,
>>>>>> size = 5))
>>>>>>
>>>>>>
>>>>>> Hope this helps,
>>>>>>
>>>>>> Rui Barradas
>>>>>>
>>>>>> ?s 15:05 de 12/02/21, Informatique escreveu:
>>>>>>> Hello,
>>>>>>>
>>>>>>> i'm using Rstudio from a few day, and i have some information in a CVS file, take every five second, format of the time is HH:MM:SS.
>>>>>>> I use the hour on the X axis, but i don't want having all the time print. For example only every 10 values.
>>>>>>>
>>>>>>> I think it will be possible with   scale_x_datetime(breaks = date_breaks(XXX)
>>>>>>>
>>>>>>> but i don't understand how select every 20 s.
>>>>>>>
>>>>>>> Thank's for your help
>>>>>>>
>>>>>>> Fran?ois-marie BILLARD
>>>>>>>
>>>>>
>>>>>
>>>
>>>
> 
>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Feb 14 19:36:29 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 14 Feb 2021 18:36:29 +0000
Subject: [R] Axis whitout all the row, that contains time
In-Reply-To: <03f0d55f-6869-4019-1698-d25d4efd3a51@sapo.pt>
References: <20210212160527.e57738c1588ea6d8ab95c53c@billard-francois-marie.eu>
 <bab48684-d6bd-04ca-99bf-1f302fbcdbd5@sapo.pt>
 <20210214083521.ef0d1d320cce7d82b63b9432@billard-francois-marie.eu>
 <122a13b5-b023-328c-eae9-19c1e6904b0f@sapo.pt>
 <20210214142559.97c95b6f21498a3919a3f79c@billard-francois-marie.eu>
 <bdbcf809-1270-b75c-10d6-b67e93a0256a@sapo.pt>
 <20210214160143.e46c4323d2dfbcc2d5d6effe@billard-francois-marie.eu>
 <03f0d55f-6869-4019-1698-d25d4efd3a51@sapo.pt>
Message-ID: <00364e5f-da38-b9b2-cd7a-182ec5b2591a@sapo.pt>

Hello,

Sorry, my typo now, see inline.

?s 16:56 de 14/02/21, Rui Barradas escreveu:
> Hello,
> 
> Please always cc the r-help mailing list, this might be helpful to 
> others in the future.
> 
> 1. You have a data file using the continental Europe convention of 
> marking the decimals with a comma, therefore you should read the data in 
> with read.csv2:
> 
> the columns separator is the semi-colon: sep = ";"
> the decimal point is comma: dec = ","
> the default value for argument header = TRUE
> 
> Like this you are reading in the numeric data as strings, I will take 
> care of that in the code but try read.csv.
here ------------------------------^^^^^^^^

I meant read.csv2.

Rui Barradas

> 
> 2. You have 2 typos.
> 
> factorsAsStrings instead of stringsAsFactors. But unless you have a good 
> reason to set this to TRUE, I suggest you do not. If it's just to plot 
> the data, then don't.
> 
> The times format string is missing the percent sign "%" before the H.
> 
> 
> 2. Now the code. Note that I don't set stringsAsFactors = TRUE and that 
> I replace the commas with periods in the 2nd instruction.
> Also, aes(..., color = variable) already groups the lines, there is no 
> need for group = variable.
> 
> 
> 
> liste_data_long <- melt(In_IL, id = "DateHeure")
> liste_data_long$value <- sub(",", ".", liste_data_long$value)
> liste_data_long$value <- as.numeric(liste_data_long$value)
> 
> library(ggplot2)
> 
> ggplot(liste_data_long, aes(x = DateHeure, y = value, color = variable)) +
>  ? geom_line() +
>  ? geom_point() +
>  ? scale_x_datetime(date_breaks = "60 secs", date_labels = "%H:%M:%S")
> 
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> ?s 15:01 de 14/02/21, Informatique escreveu:
>> And the nentire code is :
>> ---
>> title: "TEST 3"
>> author: "BILLARD"
>> date: "08/02/2021"
>> output: pdf_document
>> ---
>>
>> ```{r setup, include=FALSE,echo=FALSE,warning=FALSE}
>> knitr::opts_chunk$set(echo = FALSE)
>> ```
>>
>>
>> ```{r echo=FALSE,warning=FALSE, message=FALSE}
>> library(ggplot2)
>> library(reshape2)
>> library(tidyverse)
>> library(lubridate)
>> ```
>>
>>
>> ```{r echo=FALSE,warning=FALSE}
>> listeMesuresComplete <- read.csv("./8331_141564RFH 
>> 2745_Enregistrement_BILL1_fromCA8331_BRUT.csv",skip = 1)
>>
>> listeMesuresPropres <- listeMesuresComplete[-c(1,2),]
>>
>> listeMesuresPropres$Date. <- as.character.Date(listeMesuresPropres$Date.)
>> listeMesuresPropres$Date. <- dmy(listeMesuresPropres$Date.)
>>
>> listeMesuresPropres$Heure. <- 
>> as.character.Date(listeMesuresPropres$Heure.)
>> listeMesuresPropres$DateHeure <- with(listeMesuresPropres, 
>> as.POSIXct(paste(Date., Heure.)))
>>
>>
>>
>> ```
>> # Courants dans une phase et le neutre
>>
>> ```{r echo=FALSE,warning=FALSE}
>> In_IL<- listeMesuresPropres[ , 
>> c("DateHeure","A2.RMS","AN.RMS")]?????????????????? # Subset by name
>>
>>
>> liste_data_long <- melt(In_IL, id="DateHeure",factorsAsStrings=TRUE)  
>> # convert to long format
>> #liste_data_long$Heure. <- hms(liste_data_long$DateHeure.)
>>
>>
>> ggplot(liste_data_long, aes(x =DateHeure??? , y = value, color 
>> =variable, group=variable) )+
>> ?? geom_line() +
>> ?? scale_x_datetime(date_breaks = "60 secs", date_labels = "H:%M:%S")
>> ?? geom_point()
>>
>> ```
>>
>> On Sun, 14 Feb 2021 14:24:22 +0000
>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>
>>> Hello,
>>>
>>> Merci pour les donn?s, c'est beaucoup mieux comme ?a.
>>>
>>> Create a column of class "POSIXct"
>>>
>>>
>>> listeMesuresPropres$DateHeure <- with(listeMesuresPropres,
>>> as.POSIXct(paste(Date., Heure.)))
>>>
>>>
>>> and then plot with this new column, DateHeure as x axis variable.
>>>
>>> Can you post the entire ggplot code, not just the scale_x_datetime
>>> instruction but the rest of the plotting code?
>>>
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>>
>>> ?s 13:25 de 14/02/21, Informatique escreveu:
>>>> Hello,
>>>> Thank's for your help.
>>>>
>>>> i when i try this one
>>>> ?????? geom_line() +
>>>> ??????? scale_x_datetime(date_breaks = "20 secs", date_labels = 
>>>> "H:%M:%S")
>>>> ??????? geom_point()
>>>>
>>>>
>>>> i have an error :
>>>> ????Erreur : Invalid input: time_trans works with objects of class 
>>>> POSIXct only
>>>>
>>>> it's the reason i have try the scale_x_time after.
>>>>
>>>> The result of > dput(head(listeMesuresPropres, 20))? is
>>>>
>>>> dput(head(listeMesuresPropres, 20))? # or 30
>>>> structure(list(Date. = structure(c(18666, 18666, 18666, 18666,
>>>> 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666, 18666,
>>>> 18666, 18666, 18666, 18666, 18666, 18666, 18666), class = "Date"),
>>>> ????? Heure. = c("10:24:00", "10:24:05", "10:24:10", "10:24:15",
>>>> ????? "10:24:20", "10:24:25", "10:24:30", "10:24:35", "10:24:40",
>>>> ????? "10:24:45", "10:24:50", "10:24:55", "10:25:00", "10:25:05",
>>>> ????? "10:25:10", "10:25:15", "10:25:20", "10:25:25", "10:25:30",
>>>> ????? "10:25:35"), U12.RMS.MIN.1.2.p?riode = structure(c(19L,
>>>> ????? 18L, 18L, 20L, 20L, 20L, 23L, 3L, 19L, 16L, 12L, 26L, 14L,
>>>> ????? 28L, 16L, 15L, 13L, 15L, 15L, 27L), .Label = c("", "401,1",
>>>> ????? "401,2", "401,5", "401,9", "402", "403", "403,1", "403,2",
>>>> ????? "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>>>> ????? "404", "404,1", "404,2", "404,3", "404,4", "404,5", "404,6",
>>>> ????? "404,7", "404,8", "404,9", "405", "405,2", "405,3", "V"), 
>>>> class = "factor"),
>>>> ????? U12.RMS = structure(c(14L, 13L, 12L, 14L, 14L, 14L, 17L,
>>>> ????? 10L, 13L, 11L, 8L, 9L, 10L, 10L, 11L, 12L, 9L, 10L, 9L, 9L
>>>> ????? ), .Label = c("", "404,7", "404,8", "404,9", "405", "405,1",
>>>> ????? "405,2", "405,3", "405,4", "405,5", "405,6", "405,7", "405,8",
>>>> ????? "405,9", "406", "406,1", "406,2", "406,3", "V"), class = 
>>>> "factor"),
>>>> ????? U12.RMS.MAX.1.2.p?riode = structure(c(14L, 12L, 11L, 13L,
>>>> ????? 12L, 12L, 17L, 9L, 12L, 11L, 9L, 8L, 8L, 8L, 10L, 11L, 12L,
>>>> ????? 8L, 9L, 7L), .Label = c("", "406,5", "406,6", "406,7", "406,8",
>>>> ????? "406,9", "407", "407,1", "407,2", "407,3", "407,4", "407,5",
>>>> ????? "407,6", "407,7", "407,8", "407,9", "408", "408,1", "V"), 
>>>> class = "factor"),
>>>> ????? U23.RMS.MIN.1.2.p?riode = structure(c(19L, 16L, 17L, 17L,
>>>> ????? 17L, 17L, 18L, 2L, 27L, 16L, 12L, 12L, 23L, 14L, 15L, 17L,
>>>> ????? 12L, 24L, 12L, 14L), .Label = c("", "400,7", "400,8", "401,5",
>>>> ????? "401,6", "402,4", "402,8", "402,9", "403", "403,1", "403,2",
>>>> ????? "403,3", "403,4", "403,5", "403,6", "403,7", "403,8", "403,9",
>>>> ????? "404", "404,2", "404,3", "404,5", "404,6", "404,7", "404,9",
>>>> ????? "405", "405,1", "405,6", "V"), class = "factor"), U23.RMS = 
>>>> structure(c(14L,
>>>> ????? 12L, 12L, 13L, 12L, 12L, 13L, 8L, 11L, 10L, 7L, 7L, 9L, 10L,
>>>> ????? 9L, 11L, 8L, 8L, 8L, 9L), .Label = c("", "404,5", "404,6",
>>>> ????? "404,7", "404,9", "405", "405,1", "405,2", "405,3", "405,4",
>>>> ????? "405,5", "405,6", "405,7", "405,8", "405,9", "406", "406,2",
>>>> ????? "406,4", "V"), class = "factor"), U23.RMS.MAX.1.2.p?riode = 
>>>> structure(c(16L,
>>>> ????? 12L, 9L, 12L, 10L, 10L, 13L, 9L, 11L, 9L, 6L, 8L, 10L, 9L,
>>>> ????? 9L, 11L, 9L, 7L, 6L, 9L), .Label = c("", "406,4", "406,5",
>>>> ????? "406,6", "406,8", "406,9", "407", "407,1", "407,2", "407,3",
>>>> ????? "407,4", "407,5", "407,6", "407,7", "407,8", "407,9", "408",
>>>> ????? "408,1", "408,3", "V"), class = "factor"), 
>>>> U31.RMS.MIN.1.2.p?riode = structure(c(20L,
>>>> ????? 27L, 20L, 17L, 16L, 16L, 16L, 2L, 15L, 15L, 15L, 15L, 24L,
>>>> ????? 16L, 17L, 11L, 8L, 15L, 18L, 17L), .Label = c("", "401",
>>>> ????? "401,2", "401,3", "401,9", "402", "403,2", "403,5", "403,6",
>>>> ????? "403,7", "403,8", "403,9", "404", "404,1", "404,2", "404,3",
>>>> ????? "404,4", "404,5", "404,6", "404,7", "404,8", "404,9", "405",
>>>> ????? "405,1", "405,2", "405,3", "405,4", "405,5", "405,7", "V"
>>>> ????? ), class = "factor"), U31.RMS = structure(c(10L, 8L, 9L,
>>>> ????? 9L, 6L, 6L, 10L, 7L, 10L, 9L, 6L, 5L, 6L, 6L, 7L, 7L, 4L,
>>>> ????? 6L, 6L, 7L), .Label = c("", "405,3", "405,4", "405,5", "405,6",
>>>> ????? "405,7", "405,8", "405,9", "406", "406,1", "406,2", "406,3",
>>>> ????? "406,4", "406,5", "406,6", "406,7", "406,9", "V"), class = 
>>>> "factor"),
>>>> ????? U31.RMS.MAX.1.2.p?riode = structure(c(10L, 10L, 12L, 7L,
>>>> ????? 6L, 6L, 14L, 10L, 14L, 14L, 6L, 8L, 6L, 8L, 9L, 11L, 4L,
>>>> ????? 4L, 6L, 5L), .Label = c("", "406,9", "407", "407,1", "407,2",
>>>> ????? "407,3", "407,4", "407,5", "407,6", "407,7", "407,8", "407,9",
>>>> ????? "408", "408,1", "408,2", "408,3", "408,4", "408,6", "V"), 
>>>> class = "factor"),
>>>> ????? V1.RMS.MIN.1.2.p?riode = structure(c(12L, 11L, 9L, 9L, 9L,
>>>> ????? 9L, 10L, 2L, 13L, 12L, 10L, 10L, 10L, 8L, 9L, 8L, 7L, 10L,
>>>> ????? 10L, 11L), .Label = c("", "231,1", "231,8", "232,1", "232,3",
>>>> ????? "232,4", "232,5", "232,7", "232,8", "232,9", "233", "233,1",
>>>> ????? "233,2", "233,3", "233,4", "233,5", "233,6", "233,7", "233,8",
>>>> ????? "233,9", "234", "234,1", "234,2", "234,4", "234,6", "V"), 
>>>> class = "factor"),
>>>> ????? V1.RMS = structure(c(5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 8L,
>>>> ????? 7L, 5L, 5L, 5L, 3L, 3L, 3L, 2L, 5L, 5L, 5L), .Label = c("",
>>>> ????? "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>>>> ????? "234,3", "234,4", "234,5", "234,6", "234,7", "234,8", "234,9",
>>>> ????? "V"), class = "factor"), V1.RMS.MAX.1.2.p?riode = structure(c(5L,
>>>> ????? 4L, 4L, 4L, 2L, 2L, 5L, 6L, 7L, 6L, 5L, 4L, 5L, 4L, 2L, 3L,
>>>> ????? 4L, 5L, 4L, 4L), .Label = c("", "234,6", "234,7", "234,8",
>>>> ????? "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>>>> ????? "235,6", "235,7", "235,8", "235,9", "V"), class = "factor"),
>>>> ????? V2.RMS.MIN.1.2.p?riode = structure(c(15L, 14L, 14L, 16L,
>>>> ????? 16L, 16L, 18L, 4L, 11L, 11L, 9L, 7L, 10L, 13L, 21L, 14L,
>>>> ????? 12L, 10L, 10L, 10L), .Label = c("", "230,3", "231,3", "231,5",
>>>> ????? "231,7", "232,3", "232,4", "232,5", "232,6", "232,7", "232,8",
>>>> ????? "232,9", "233", "233,1", "233,2", "233,3", "233,4", "233,5",
>>>> ????? "233,6", "233,7", "233,8", "V"), class = "factor"), V2.RMS = 
>>>> structure(c(10L,
>>>> ????? 10L, 9L, 11L, 11L, 11L, 12L, 5L, 6L, 6L, 4L, 4L, 5L, 8L,
>>>> ????? 9L, 9L, 8L, 5L, 4L, 4L), .Label = c("", "233,3", "233,4",
>>>> ????? "233,6", "233,7", "233,8", "233,9", "234", "234,1", "234,2",
>>>> ????? "234,3", "234,4", "V"), class = "factor"), 
>>>> V2.RMS.MAX.1.2.p?riode = structure(c(13L,
>>>> ????? 11L, 11L, 12L, 12L, 12L, 13L, 6L, 8L, 8L, 5L, 6L, 6L, 10L,
>>>> ????? 9L, 11L, 12L, 6L, 6L, 5L), .Label = c("", "234,3", "234,4",
>>>> ????? "234,5", "234,6", "234,7", "234,8", "234,9", "235", "235,1",
>>>> ????? "235,2", "235,3", "235,4", "V"), class = "factor"), 
>>>> V3.RMS.MIN.1.2.p?riode = structure(c(18L,
>>>> ????? 17L, 17L, 14L, 16L, 16L, 16L, 2L, 16L, 16L, 14L, 14L, 15L,
>>>> ????? 15L, 14L, 14L, 9L, 14L, 15L, 16L), .Label = c("", "231,2",
>>>> ????? "231,5", "231,9", "232,5", "232,9", "233,1", "233,2", "233,3",
>>>> ????? "233,4", "233,5", "233,6", "233,7", "233,8", "233,9", "234",
>>>> ????? "234,1", "234,2", "V"), class = "factor"), V3.RMS = 
>>>> structure(c(14L,
>>>> ????? 13L, 12L, 13L, 12L, 12L, 13L, 11L, 13L, 12L, 10L, 11L, 11L,
>>>> ????? 11L, 11L, 12L, 9L, 10L, 11L, 12L), .Label = c("", "233,8",
>>>> ????? "233,9", "234", "234,1", "234,2", "234,3", "234,4", "234,5",
>>>> ????? "234,6", "234,7", "234,8", "234,9", "235", "V"), class = 
>>>> "factor"),
>>>> ????? V3.RMS.MAX.1.2.p?riode = structure(c(15L, 13L, 12L, 16L,
>>>> ????? 11L, 11L, 13L, 11L, 13L, 13L, 11L, 15L, 11L, 11L, 11L, 12L,
>>>> ????? 12L, 10L, 12L, 12L), .Label = c("", "234,6", "234,7", "234,8",
>>>> ????? "234,9", "235", "235,1", "235,2", "235,3", "235,4", "235,5",
>>>> ????? "235,6", "235,7", "235,8", "235,9", "236", "V"), class = 
>>>> "factor"),
>>>> ????? A1.RMS.MIN.1.2.p?riode = structure(c(7L, 6L, 7L, 5L, 7L,
>>>> ????? 7L, 5L, 8L, 8L, 6L, 10L, 5L, 9L, 8L, 7L, 4L, 2L, 16L, 15L,
>>>> ????? 14L), .Label = c("", "0,28", "0,32", "0,35", "0,36", "0,37",
>>>> ????? "0,38", "0,39", "0,4", "0,41", "0,42", "0,43", "3,15", "3,2",
>>>> ????? "3,21", "3,23", "3,47", "3,49", "3,5", "5,95", "6,02", "6,04",
>>>> ????? "6,06", "6,07", "6,4", "6,41", "6,45", "6,46", "6,47", "8,88",
>>>> ????? "8,91", "8,98", "8,99", "9,04", "A"), class = "factor"),
>>>> ????? A1.RMS = structure(c(2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L,
>>>> ????? 4L, 4L, 4L, 4L, 4L, 4L, 4L, 23L, 17L, 16L, 16L), .Label = c("",
>>>> ????? "0,45", "0,46", "0,47", "0,48", "0,49", "0,64", "1,45", "1,52",
>>>> ????? "11,09", "2,26", "2,37", "2,45", "3,37", "3,38", "3,39",
>>>> ????? "3,4", "3,57", "3,58", "3,59", "4,37", "4,51", "5,14", "5,23",
>>>> ????? "6,24", "6,25", "6,26", "6,27", "6,28", "6,53", "6,54", "6,55",
>>>> ????? "6,58", "6,61", "8,37", "9,23", "9,24", "9,25", "9,26", "9,29",
>>>> ????? "A"), class = "factor"), A1.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>> ????? 5L, 4L, 6L, 4L, 4L, 8L, 4L, 4L, 6L, 2L, 9L, 4L, 5L, 6L, 9L,
>>>> ????? 13L, 19L, 18L, 17L), .Label = c("", "0,5", "0,51", "0,52",
>>>> ????? "0,53", "0,54", "0,55", "0,56", "0,57", "0,58", "1,05", "1,71",
>>>> ????? "19,86", "20,25", "3,5", "3,56", "3,57", "3,6", "3,61", "3,64",
>>>> ????? "3,65", "3,66", "3,68", "3,7", "36,87", "38,73", "38,87",
>>>> ????? "6,46", "6,47", "6,48", "6,49", "6,5", "6,51", "6,65", "6,66",
>>>> ????? "6,69", "6,72", "6,75", "9,48", "9,5", "9,51", "9,55", "9,56",
>>>> ????? "A"), class = "factor"), A2.RMS.MIN.1.2.p?riode = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 9L, 9L, 8L, 9L, 9L, 2L, 2L, 2L,
>>>> ????? 2L, 7L, 5L, 4L), .Label = c("", "0", "2,96", "2,98", "2,99",
>>>> ????? "3,01", "3,02", "3,15", "3,17", "6,08", "6,11", "6,14", "6,16",
>>>> ????? "6,17", "6,18", "A"), class = "factor"), A2.RMS = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 18L, 16L, 15L, 15L, 14L, 14L, 6L,
>>>> ????? 2L, 2L, 20L, 12L, 11L, 11L), .Label = c("", "0", "0,21",
>>>> ????? "0,24", "1,27", "1,65", "2,01", "2,03", "2,92", "3,13", "3,14",
>>>> ????? "3,15", "3,16", "3,22", "3,23", "3,24", "3,36", "3,6", "4,21",
>>>> ????? "5,32", "6,25", "6,26", "6,27", "6,28", "6,29", "6,3", "6,33",
>>>> ????? "8,14", "8,66", "A"), class = "factor"), 
>>>> A2.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>> ????? 3L, 4L, 3L, 3L, 3L, 9L, 36L, 16L, 14L, 15L, 12L, 12L, 23L,
>>>> ????? 4L, 3L, 11L, 15L, 15L, 14L), .Label = c("", "0", "0,07",
>>>> ????? "0,1", "0,13", "0,15", "1,14", "1,3", "1,74", "21,68", "23,7",
>>>> ????? "3,27", "3,28", "3,29", "3,3", "3,31", "3,33", "3,9", "37,01",
>>>> ????? "37,2", "37,98", "4", "5,58", "5,61", "6,35", "6,37", "6,38",
>>>> ????? "6,39", "6,4", "6,42", "6,43", "6,46", "6,47", "6,48", "6,51",
>>>> ????? "7,75", "A"), class = "factor"), A3.RMS.MIN.1.2.p?riode = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 7L, 5L, 4L), .Label = c("", "0", "3", "3,02", "3,03",
>>>> ????? "3,04", "3,05", "3,06", "5,69", "6,21", "6,23", "6,24", "6,25",
>>>> ????? "6,26", "6,29", "A"), class = "factor"), A3.RMS = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 16L, 12L, 11L, 11L), .Label = c("", "0", "0,02", "0,03",
>>>> ????? "0,04", "0,7", "1,21", "1,93", "2,48", "3,18", "3,19", "3,2",
>>>> ????? "3,21", "3,22", "3,69", "4,81", "6,34", "6,36", "6,37", "6,39",
>>>> ????? "6,41", "6,42", "6,43", "7,82", "8,66", "A"), class = "factor"),
>>>> ????? A3.RMS.MAX.1.2.p?riode = structure(c(4L, 4L, 3L, 4L, 4L,
>>>> ????? 4L, 10L, 4L, 4L, 4L, 5L, 4L, 4L, 3L, 6L, 5L, 14L, 20L, 19L,
>>>> ????? 18L), .Label = c("", "0", "0,07", "0,1", "0,13", "0,15",
>>>> ????? "0,17", "0,2", "0,21", "0,23", "0,24", "0,26", "19,83", "19,99",
>>>> ????? "3,3", "3,32", "3,34", "3,35", "3,36", "3,37", "3,4", "3,41",
>>>> ????? "36,44", "37,04", "38,12", "6,45", "6,47", "6,48", "6,51",
>>>> ????? "6,52", "6,53", "6,54", "6,6", "6,63", "6,69", "6,7", "A"
>>>> ????? ), class = "factor"), AN.RMS.MIN.1.2.p?riode = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 3L, 3L, 3L, 15L, 14L, 13L, 12L, 12L, 11L, 3L,
>>>> ????? 3L, 3L, 7L, 7L, 7L, 7L), .Label = c("", "0,46", "0,47", "0,48",
>>>> ????? "0,49", "0,5", "0,55", "0,6", "0,64", "3,18", "3,27", "3,28",
>>>> ????? "3,29", "3,3", "3,31", "3,64", "3,65", "3,68", "3,69", "3,7",
>>>> ????? "3,71", "3,73", "3,75", "3,76", "3,77", "3,78", "A"), class = 
>>>> "factor"),
>>>> ????? AN.RMS = structure(c(2L, 2L, 2L, 2L, 3L, 3L, 3L, 25L, 24L,
>>>> ????? 23L, 22L, 22L, 21L, 16L, 3L, 4L, 18L, 8L, 8L, 8L), .Label = c("",
>>>> ????? "0,46", "0,47", "0,48", "0,49", "0,5", "0,52", "0,55", "0,58",
>>>> ????? "0,64", "0,85", "1,04", "1,21", "1,52", "1,72", "1,87", "1,97",
>>>> ????? "2,14", "2,3", "2,43", "3,27", "3,28", "3,29", "3,3", "3,64",
>>>> ????? "3,65", "3,68", "3,69", "3,7", "3,71", "3,77", "3,78", "3,79",
>>>> ????? "A"), class = "factor"), AN.RMS.MAX.1.2.p?riode = structure(c(3L,
>>>> ????? 2L, 2L, 2L, 3L, 3L, 3L, 37L, 21L, 20L, 19L, 18L, 18L, 24L,
>>>> ????? 3L, 4L, 38L, 9L, 9L, 10L), .Label = c("", "0,47", "0,48",
>>>> ????? "0,49", "0,5", "0,51", "0,52", "0,53", "0,55", "0,56", "0,64",
>>>> ????? "0,65", "0,66", "1", "1,72", "2,28", "3,22", "3,28", "3,29",
>>>> ????? "3,3", "3,31", "3,33", "3,43", "3,57", "3,64", "3,65", "3,66",
>>>> ????? "3,69", "3,7", "3,71", "3,72", "3,77", "3,78", "3,79", "3,83",
>>>> ????? "4,2", "4,35", "5,08", "5,32", "A"), class = "factor"), U12.CF 
>>>> = structure(c(3L,
>>>> ????? 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>> ????? 3L, 3L, 3L, 3L), .Label = c("", "1,42", "1,43"), class = 
>>>> "factor"),
>>>> ????? U23.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("",
>>>> ????? "1,43", "1,44"), class = "factor"), U31.CF = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L), .Label = c("", "1,44"), class = "factor"),
>>>> ????? V1.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("", "1,41"
>>>> ????? ), class = "factor"), V2.CF = structure(c(2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L), .Label = c("", "1,4"), class = "factor"), V3.CF = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L), .Label = c("", "1,4"), class = "factor"),
>>>> ????? A1.CF = structure(c(23L, 28L, 29L, 31L, 27L, 27L, 31L, 31L,
>>>> ????? 29L, 34L, 26L, 32L, 28L, 30L, 29L, 33L, 35L, 8L, 8L, 8L), 
>>>> .Label = c("",
>>>> ????? "1,44", "1,45", "1,46", "1,47", "1,48", "1,5", "1,51", "1,53",
>>>> ????? "1,66", "1,74", "1,86", "1,92", "1,94", "1,96", "2", "2,07",
>>>> ????? "2,08", "2,09", "2,1", "2,11", "2,12", "2,13", "2,14", "2,15",
>>>> ????? "2,16", "2,17", "2,18", "2,19", "2,2", "2,21", "2,23", "2,24",
>>>> ????? "2,25", "2,37", "2,8"), class = "factor"), A2.CF = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 16L, 6L, 6L, 5L, 5L, 5L, 6L, 2L,
>>>> ????? 2L, 22L, 12L, 13L, 12L), .Label = c("", "- - -", "1,11",
>>>> ????? "1,13", "1,41", "1,42", "1,45", "1,46", "1,47", "1,48", "1,5",
>>>> ????? "1,52", "1,53", "1,54", "1,59", "1,62", "1,63", "1,88", "1,9",
>>>> ????? "1,96", "2,14", "2,6", "2,94", "5,33"), class = "factor"),
>>>> ????? A3.CF = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 20L, 8L, 8L, 9L), .Label = c("",
>>>> ????? "- - -", "1,46", "1,47", "1,48", "1,49", "1,5", "1,53", "1,54",
>>>> ????? "1,55", "1,63", "1,7", "1,78", "1,79", "1,83", "1,94", "2,12",
>>>> ????? "2,18", "2,37", "2,45", "2,5", "2,54", "2,67", "5,42"), class 
>>>> = "factor"),
>>>> ????? AN.CF = structure(c(33L, 33L, 31L, 36L, 34L, 34L, 34L, 11L,
>>>> ????? 3L, 3L, 3L, 4L, 2L, 13L, 32L, 37L, 21L, 22L, 19L, 21L), .Label 
>>>> = c("",
>>>> ????? "1,5", "1,51", "1,52", "1,53", "1,54", "1,55", "1,56", "1,57",
>>>> ????? "1,64", "1,7", "1,88", "1,94", "2,01", "2,04", "2,07", "2,08",
>>>> ????? "2,11", "2,12", "2,14", "2,15", "2,17", "2,18", "2,2", "2,21",
>>>> ????? "2,22", "2,23", "2,24", "2,25", "2,26", "2,27", "2,28", "2,3",
>>>> ????? "2,31", "2,32", "2,34", "2,36", "2,37", "2,44", "2,57", "3,68"
>>>> ????? ), class = "factor"), F = structure(c(4L, 4L, 4L, 4L, 4L,
>>>> ????? 4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L
>>>> ????? ), .Label = c("", "49,99", "50", "50,01", "50,02", "Hz"), 
>>>> class = "factor"),
>>>> ????? Vunb..u2. = structure(c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>> ????? 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("",
>>>> ????? "%", "100"), class = "factor"), Aunb..u2. = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 4L, 4L, 4L, 4L), .Label = c("", "- - -", "%", "100", "96,9",
>>>> ????? "97,8", "98,5", "99,4"), class = "factor"), Uunb..IEEE.112. = 
>>>> structure(c(3L,
>>>> ????? 3L, 4L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 4L, 3L,
>>>> ????? 3L, 4L, 4L, 4L), .Label = c("", "%", "0", "0,1"), class = 
>>>> "factor"),
>>>> ????? Vunb..IEEE.112. = structure(c(5L, 5L, 4L, 4L, 4L, 4L, 4L,
>>>> ????? 5L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L), .Label = 
>>>> c("",
>>>> ????? "%", "0,1", "0,2", "0,3"), class = "factor"), Aunb..IEEE.112. 
>>>> = structure(c(18L,
>>>> ????? 18L, 18L, 18L, 18L, 18L, 18L, 10L, 9L, 8L, 8L, 7L, 7L, 6L,
>>>> ????? 18L, 18L, 35L, 29L, 29L, 29L), .Label = c("", "%", "100",
>>>> ????? "108,7", "12,7", "133,5", "161,8", "161,9", "162", "165,4",
>>>> ????? "17,1", "188", "188,2", "198,3", "2,4", "2,5", "2,6", "200",
>>>> ????? "22", "26,1", "26,2", "26,3", "26,4", "26,6", "3,6", "36,2",
>>>> ????? "38,6", "4,4", "4,6", "47,6", "48,3", "48,8", "48,9", "49,1",
>>>> ????? "5,5", "9,8"), class = "factor"), Pst1 = c(0L, 0L, 0L, 0L,
>>>> ????? 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>> ????? 0L), Pst2 = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>> ????? 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Pst3 = c(0L, 0L, 0L,
>>>> ????? 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>>>> ????? 0L, 0L), FHL1 = structure(c(43L, 38L, 42L, 39L, 40L, 40L,
>>>> ????? 42L, 43L, 47L, 48L, 46L, 49L, 50L, 45L, 44L, 41L, 7L, 4L,
>>>> ????? 4L, 4L), .Label = c("", "1,01", "1,02", "1,05", "1,06", "1,8",
>>>> ????? "1,83", "2,4", "2,42", "3,04", "3,15", "3,66", "3,71", "3,74",
>>>> ????? "4,27", "4,29", "4,3", "4,31", "4,32", "4,33", "4,35", "4,36",
>>>> ????? "4,39", "4,4", "4,41", "4,42", "4,43", "4,45", "4,46", "4,47",
>>>> ????? "4,48", "4,49", "4,54", "4,55", "4,56", "4,57", "4,61", "4,77",
>>>> ????? "4,82", "4,86", "4,89", "4,91", "4,92", "4,93", "4,95", "5,09",
>>>> ????? "5,1", "5,11", "5,15", "5,19"), class = "factor"), FHL2 = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 11L, 2L,
>>>> ????? 2L, 4L, 4L, 4L, 4L), .Label = c("", "- - -", "1,02", "1,03",
>>>> ????? "1,04", "101,41", "11,34", "120,91", "29,83", "29,9", "46,19",
>>>> ????? "76,9"), class = "factor"), FHL3 = structure(c(2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 4L, 4L,
>>>> ????? 3L, 4L), .Label = c("", "- - -", "1,03", "1,04", "1,19",
>>>> ????? "111,16", "190,69", "285,28", "291,37", "292,12", "60,81",
>>>> ????? "81,71"), class = "factor"), FK1 = structure(c(9L, 8L, 9L,
>>>> ????? 9L, 9L, 9L, 9L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 3L, 2L,
>>>> ????? 2L, 2L), .Label = c("", "1", "1,01", "1,03", "1,04", "1,06",
>>>> ????? "1,07", "1,08", "1,09"), class = "factor"), FK2 = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 6L, 2L, 2L,
>>>> ????? 3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,16", "1,29",
>>>> ????? "1,51", "1,82", "2,19", "2,31"), class = "factor"), FK3 = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 3L, 3L, 3L, 3L), .Label = c("", "- - -", "1", "1,48", "1,8",
>>>> ????? "1,91", "2,62", "3,34", "3,37"), class = "factor"), P1..W. = 
>>>> structure(c(38L,
>>>> ????? 39L, 40L, 41L, 42L, 42L, 43L, 44L, 45L, 46L, 46L, 48L, 50L,
>>>> ????? 47L, 47L, 49L, 30L, 28L, 27L, 26L), .Label = c("", "1088",
>>>> ????? "1319", "1321", "1325", "1331", "1338", "1350", "1417", "1420",
>>>> ????? "1421", "1423", "1427", "189,8", "191,1", "2032", "2034",
>>>> ????? "2036", "2041", "2244", "225,4", "394,7", "506,3", "695,5",
>>>> ????? "696,9", "699,3", "701,2", "702,7", "756,4", "782,1", "795,9",
>>>> ????? "833,7", "834,9", "835,8", "836,2", "837,9", "838,8", "86,5",
>>>> ????? "87", "87,5", "87,6", "88", "88,6", "89,2", "89,3", "89,5",
>>>> ????? "89,6", "89,7", "89,8", "89,9", "91,2", "91,3", "92,3", "93,3",
>>>> ????? "93,7", "93,8", "94", "94,2", "94,5", "94,6", "W"), class = 
>>>> "factor"),
>>>> ????? P2..W. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 33L, 38L,
>>>> ????? 37L, 36L, 35L, 34L, 9L, 2L, 2L, 32L, 30L, 29L, 28L), .Label = 
>>>> c("",
>>>> ????? "0", "0,3", "0,4", "105,8", "1160", "1162", "1169", "117,6",
>>>> ????? "1170", "1176", "1178", "1180", "1184", "1190", "1229", "1465",
>>>> ????? "182,1", "425,6", "440,1", "567", "568,2", "568,6", "569,8",
>>>> ????? "570,7", "578,3", "580", "580,7", "582,6", "585,8", "637,3",
>>>> ????? "671,4", "719,1", "753,1", "753,5", "754,4", "757", "759,3",
>>>> ????? "94,4", "W"), class = "factor"), P3..W. = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 30L, 23L, 22L, 21L), .Label = c("", "0", "0,3", "1209", "1213",
>>>> ????? "1216", "1220", "1223", "1232", "1235", "1243", "1245", "1246",
>>>> ????? "1248", "1535", "191,9", "450", "456,6", "599,6", "600,2",
>>>> ????? "601,5", "602,2", "603,8", "612,3", "614,3", "614,9", "615,3",
>>>> ????? "618,6", "655,6", "683,7", "98,3", "99,5", "W"), class = 
>>>> "factor"),
>>>> ????? PT..W. = structure(c(45L, 46L, 47L, 48L, 49L, 49L, 50L, 33L,
>>>> ????? 44L, 43L, 42L, 41L, 40L, 10L, 51L, 52L, 11L, 7L, 6L, 5L), 
>>>> .Label = c("",
>>>> ????? "1693", "1873", "1877", "1881", "1886", "1892", "1963", "2049",
>>>> ????? "207,1", "2137", "225,4", "2602", "2603", "2608", "2612",
>>>> ????? "3704", "3712", "3721", "3735", "3752", "3811", "382,5",
>>>> ????? "396,4", "4431", "4438", "4442", "4450", "4456", "506,3",
>>>> ????? "5244", "768,7", "808,3", "833,7", "834,9", "835,8", "836,2",
>>>> ????? "837,9", "838,8", "842,9", "843,3", "843,9", "846,4", "848,7",
>>>> ????? "86,5", "87", "87,5", "87,6", "88", "88,6", "89,6", "89,8",
>>>> ????? "91,2", "91,3", "92,9", "93,5", "93,8", "94", "94,2", "94,4",
>>>> ????? "94,5", "94,6", "94,9", "W"), class = "factor"), Q1..var. = 
>>>> structure(c(9L,
>>>> ????? 10L, 11L, 11L, 9L, 9L, 9L, 6L, 8L, 8L, 7L, 7L, 6L, 8L, 8L,
>>>> ????? 10L, 33L, 31L, 30L, 29L), .Label = c("", "-2,7", "-52,3",
>>>> ????? "-52,4", "-52,5", "-52,6", "-52,7", "-52,8", "-52,9", "-53",
>>>> ????? "-53,1", "-53,4", "-53,5", "-53,6", "-53,7", "-53,8", "-53,9",
>>>> ????? "-54", "18,1", "250,5", "258,4", "345,6", "349,3", "350,5",
>>>> ????? "351,7", "352,4", "369,7", "370,5", "370,6", "371,9", "373,2",
>>>> ????? "400,5", "425", "733,3", "736", "740,4", "741,2", "743,2",
>>>> ????? "76,8", "774", "774,3", "774,4", "774,9", "778,6", "808,4",
>>>> ????? "952,8", "var"), class = "factor"), Q2..var. = structure(c(3L,
>>>> ????? 3L, 3L, 3L, 3L, 3L, 3L, 7L, 8L, 8L, 8L, 9L, 8L, 4L, 3L, 3L,
>>>> ????? 23L, 15L, 13L, 14L), .Label = c("", "-7,6", "0", "1,9", "1110",
>>>> ????? "145,6", "2,3", "2,4", "2,5", "328,3", "347,2", "43,2", "446",
>>>> ????? "446,2", "446,8", "447", "467,3", "468,8", "469,6", "471,2",
>>>> ????? "476,2", "5,9", "502,5", "76,1", "865,6", "866,5", "866,9",
>>>> ????? "867,1", "868,6", "898", "901,3", "902,7", "903,7", "905,3",
>>>> ????? "var"), class = "factor"), Q3..var. = structure(c(3L, 3L,
>>>> ????? 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 19L,
>>>> ????? 15L, 17L, 16L), .Label = c("", "-0,6", "0", "1054", "136,9",
>>>> ????? "318,4", "325,3", "41,1", "430,8", "431,4", "431,6", "432,1",
>>>> ????? "444,3", "444,5", "445,4", "445,5", "445,9", "471,7", "494",
>>>> ????? "75,6", "844,4", "846,2", "846,3", "847,4", "847,8", "859,1",
>>>> ????? "861,1", "861,5", "862,6", "865,4", "866,9", "var"), class = 
>>>> "factor"),
>>>> ????? QT..var. = structure(c(12L, 13L, 14L, 14L, 12L, 12L, 12L,
>>>> ????? 5L, 4L, 5L, 4L, 4L, 3L, 6L, 11L, 13L, 32L, 30L, 29L, 28L), 
>>>> .Label = c("",
>>>> ????? "-47,9", "-50,2", "-50,3", "-50,4", "-50,9", "-52,3", "-52,4",
>>>> ????? "-52,5", "-52,6", "-52,8", "-52,9", "-53", "-53,1", "-53,3",
>>>> ????? "-53,5", "-53,6", "-53,7", "-53,8", "-53,9", "-54", "-61,2",
>>>> ????? "1248", "1250", "1251", "1252", "1261", "1262", "1264", "1265",
>>>> ????? "1348", "1421", "169,8", "2485", "2488", "2489", "2490",
>>>> ????? "2502", "2503", "2504", "2507", "2511", "2536", "3117", "359,3",
>>>> ????? "81,6", "897,2", "930,9", "var"), class = "factor"), S1..VA. = 
>>>> structure(c(4L,
>>>> ????? 5L, 7L, 6L, 8L, 8L, 9L, 10L, 12L, 15L, 11L, 14L, 13L, 13L,
>>>> ????? 13L, 16L, 31L, 59L, 58L, 57L), .Label = c("", "1024", "1056",
>>>> ????? "106,7", "107,7", "108", "108,2", "108,3", "109,2", "109,4",
>>>> ????? "109,5", "109,6", "109,9", "110,1", "110,2", "110,5", "111,3",
>>>> ????? "111,4", "112,7", "112,9", "113,5", "113,8", "113,9", "114",
>>>> ????? "114,1", "114,2", "114,3", "114,4", "114,5", "114,8", "1201",
>>>> ????? "1225", "1460", "1463", "1465", "1467", "1471", "151,1",
>>>> ????? "1530", "1532", "1535", "1541", "1549", "1958", "2161", "2164",
>>>> ????? "2167", "2172", "2594", "341,2", "356,5", "530,4", "556,3",
>>>> ????? "575,1", "789", "790,7", "792,7", "795", "797", "836", "837,3",
>>>> ????? "838,2", "838,5", "840,3", "841,2", "VA"), class = "factor"),
>>>> ????? S2..VA. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 38L, 36L,
>>>> ????? 35L, 34L, 33L, 32L, 16L, 2L, 2L, 3L, 27L, 25L, 24L), .Label = 
>>>> c("",
>>>> ????? "0", "1246", "1461", "1463", "1465", "1468", "1469", "1470",
>>>> ????? "1472", "1474", "1479", "1898", "2023", "298,5", "387,2",
>>>> ????? "470,7", "475,8", "50,3", "58,2", "683,5", "732,2", "733,3",
>>>> ????? "733,4", "734,9", "737,1", "737,9", "738,3", "738,4", "738,8",
>>>> ????? "739,1", "753,1", "753,6", "754,4", "757", "759,4", "785,3",
>>>> ????? "842,9", "983,8", "VA"), class = "factor"), S3..VA. = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 4L, 29L, 28L, 26L), .Label = c("", "0", "10,2", "1130", "1486",
>>>> ????? "1489", "1492", "1497", "1499", "1501", "1506", "1507", "1509",
>>>> ????? "165,3", "1828", "2029", "284,5", "4,5", "4,6", "454,3",
>>>> ????? "5,7", "5,9", "583,6", "747,6", "748", "749,7", "750,3",
>>>> ????? "750,5", "751,5", "751,9", "752,2", "752,6", "753,9", "755,1",
>>>> ????? "8,6", "865,2", "VA"), class = "factor"), ST..VA. = 
>>>> structure(c(2L,
>>>> ????? 3L, 5L, 4L, 6L, 6L, 7L, 68L, 67L, 66L, 65L, 64L, 63L, 47L,
>>>> ????? 8L, 9L, 41L, 32L, 31L, 30L), .Label = c("", "106,7", "107,7",
>>>> ????? "108", "108,2", "108,3", "109,2", "109,9", "110,5", "111,3",
>>>> ????? "111,4", "113,5", "113,8", "113,9", "114", "114,1", "114,2",
>>>> ????? "114,3", "114,4", "114,8", "117,4", "118,6", "120,4", "1335",
>>>> ????? "1481", "171,5", "219,5", "2269", "2272", "2276", "2280",
>>>> ????? "2286", "2492", "2595", "2873", "2952", "2953", "2958", "2962",
>>>> ????? "356,5", "3577", "4477", "4484", "4492", "4506", "4523",
>>>> ????? "497,1", "5135", "5141", "5145", "5152", "5159", "530,4",
>>>> ????? "5683", "6647", "805,1", "836", "837,3", "838,2", "838,5",
>>>> ????? "840,3", "847", "863", "863,7", "863,9", "867,2", "869",
>>>> ????? "952,3", "VA"), class = "factor"), D1..var. = structure(c(7L,
>>>> ????? 18L, 17L, 13L, 13L, 13L, 27L, 21L, 22L, 28L, 16L, 27L, 18L,
>>>> ????? 25L, 22L, 29L, 50L, 33L, 32L, 36L), .Label = c("", "208,1",
>>>> ????? "216,1", "237,5", "299,5", "326,7", "33,3", "33,8", "34",
>>>> ????? "34,1", "34,2", "34,3", "34,4", "34,5", "34,6", "34,7", "34,9",
>>>> ????? "35", "35,1", "35,2", "35,3", "35,4", "35,5", "35,6", "35,7",
>>>> ????? "35,8", "35,9", "36,6", "36,7", "37", "43", "45,8", "45,9",
>>>> ????? "455,2", "46,1", "46,2", "46,3", "47,1", "47,2", "47,6",
>>>> ????? "47,7", "477,4", "49,9", "52,3", "538,2", "55,1", "55,4",
>>>> ????? "58,3", "61", "626,5", "63,6", "67,3", "84,1", "93,1", "987,8",
>>>> ????? "var"), class = "factor"), D2..var. = structure(c(2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 7L, 3L, 39L, 37L, 37L, 38L, 9L, 2L, 2L,
>>>> ????? 36L, 15L, 16L, 13L), .Label = c("", "0", "10,6", "1023",
>>>> ????? "203,8", "219,5", "276,8", "301,9", "317,3", "332,6", "40",
>>>> ????? "40,4", "40,7", "40,8", "40,9", "41,3", "41,4", "41,5", "41,9",
>>>> ????? "42,1", "456,6", "46,4", "47,4", "49,5", "49,9", "506,8",
>>>> ????? "51,8", "53,1", "55,8", "57,7", "58,4", "592,8", "60,9",
>>>> ????? "62,8", "64,2", "774,5", "8", "8,9", "9,8", "var"), class = 
>>>> "factor"),
>>>> ????? D3..var. = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 27L, 15L, 12L, 16L), .Label = c("",
>>>> ????? "0", "10,2", "100", "140,5", "172,9", "4,5", "4,6", "40,3",
>>>> ????? "40,8", "407,6", "41", "41,7", "41,8", "42,1", "42,2", "42,3",
>>>> ????? "42,6", "43", "441,4", "5,7", "5,9", "53,8", "55,7", "55,9",
>>>> ????? "558,4", "558,9", "57,5", "60,1", "60,5", "62,2", "63,6",
>>>> ????? "64", "67,8", "770,8", "8,6", "84,5", "var"), class = "factor"),
>>>> ????? DT..var. = structure(c(24L, 35L, 34L, 30L, 30L, 30L, 42L,
>>>> ????? 47L, 9L, 10L, 6L, 8L, 7L, 46L, 38L, 44L, 11L, 14L, 15L, 16L
>>>> ????? ), .Label = c("", "107,9", "1376", "1492", "153,7", "177,9",
>>>> ????? "178,1", "179,8", "180,1", "181,7", "2036", "208,1", "2110",
>>>> ????? "212,9", "214,2", "215,5", "216,3", "252,9", "255", "259,2",
>>>> ????? "263,7", "267", "2879", "33,3", "33,8", "34", "34,1", "34,2",
>>>> ????? "34,3", "34,4", "34,5", "34,6", "34,7", "34,9", "35", "35,1",
>>>> ????? "35,2", "35,4", "35,5", "35,6", "35,8", "35,9", "36,6", "36,7",
>>>> ????? "37", "384,9", "406,6", "43,7", "44", "47,1", "525,2", "616,8",
>>>> ????? "617,6", "619,1", "619,5", "623,5", "72,8", "736,5", "737,1",
>>>> ????? "743,7", "747,3", "749,6", "819,3", "833,3", "847,7", "93,1",
>>>> ????? "var"), class = "factor"), PF1 = structure(c(14L, 11L, 13L,
>>>> ????? 14L, 15L, 15L, 14L, 16L, 16L, 15L, 18L, 17L, 18L, 16L, 17L,
>>>> ????? 15L, 7L, 30L, 31L, 31L), .Label = c("", "0,589", "0,593",
>>>> ????? "0,6", "0,622", "0,708", "0,721", "0,722", "0,766", "0,792",
>>>> ????? "0,807", "0,808", "0,809", "0,81", "0,812", "0,814", "0,815",
>>>> ????? "0,817", "0,819", "0,823", "0,825", "0,826", "0,827", "0,828",
>>>> ????? "0,829", "0,861", "0,862", "0,863", "0,864", "0,881", "0,882",
>>>> ????? "0,894", "0,906", "0,939", "0,94", "0,97", "0,971", "0,997"
>>>> ????? ), class = "factor"), PF2 = structure(c(2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 30L, 31L, 31L, 31L, 31L, 31L, 7L, 2L, 2L, 11L, 25L,
>>>> ????? 24L, 23L), .Label = c("", "- - -", "0,006", "0,007", "0,178",
>>>> ????? "0,225", "0,295", "0,358", "0,458", "0,599", "0,604", "0,628",
>>>> ????? "0,699", "0,759", "0,768", "0,769", "0,77", "0,771", "0,772",
>>>> ????? "0,788", "0,789", "0,79", "0,791", "0,792", "0,793", "0,804",
>>>> ????? "0,805", "0,806", "0,808", "0,875", "1"), class = "factor"),
>>>> ????? PF3 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 14L, 20L, 19L, 19L), .Label = c("",
>>>> ????? "- - -", "0,001", "0,031", "0,033", "0,049", "0,059", "0,064",
>>>> ????? "0,208", "0,219", "0,366", "0,472", "0,629", "0,67", "0,689",
>>>> ????? "0,745", "0,792", "0,801", "0,802", "0,803", "0,814", "0,815",
>>>> ????? "0,816", "0,817", "0,819", "0,824", "0,825", "0,826", "0,827"
>>>> ????? ), class = "factor"), PFT = structure(c(19L, 17L, 18L, 19L,
>>>> ????? 20L, 20L, 19L, 32L, 36L, 36L, 37L, 36L, 36L, 5L, 21L, 20L,
>>>> ????? 7L, 27L, 27L, 27L), .Label = c("", "0,406", "0,518", "0,549",
>>>> ????? "0,552", "0,622", "0,663", "0,69", "0,699", "0,701", "0,704",
>>>> ????? "0,749", "0,763", "0,794", "0,8", "0,804", "0,807", "0,809",
>>>> ????? "0,81", "0,812", "0,815", "0,819", "0,823", "0,824", "0,825",
>>>> ????? "0,826", "0,827", "0,828", "0,829", "0,863", "0,864", "0,866",
>>>> ????? "0,881", "0,882", "0,906", "0,976", "0,977", "0,99", "0,997"
>>>> ????? ), class = "factor"), Cos.?1..DPF. = structure(c(9L, 10L,
>>>> ????? 11L, 12L, 13L, 13L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 16L,
>>>> ????? 16L, 15L, 2L, 26L, 26L, 26L), .Label = c("", "0,735", "0,744",
>>>> ????? "0,8", "0,823", "0,83", "0,843", "0,851", "0,852", "0,853",
>>>> ????? "0,854", "0,855", "0,856", "0,857", "0,86", "0,861", "0,862",
>>>> ????? "0,863", "0,864", "0,865", "0,867", "0,868", "0,869", "0,875",
>>>> ????? "0,882", "0,883", "0,892", "0,916", "0,926", "0,939", "0,94",
>>>> ????? "0,97", "0,971", "0,998"), class = "factor"), Cos.?2..DPF. = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 31L, 32L, 32L, 32L, 32L, 32L, 7L,
>>>> ????? 2L, 2L, 12L, 26L, 25L, 24L), .Label = c("", "- - -", "-0,001",
>>>> ????? "-0,008", "0,216", "0,25", "0,348", "0,426", "0,6", "0,603",
>>>> ????? "0,655", "0,659", "0,741", "0,761", "0,768", "0,77", "0,771",
>>>> ????? "0,772", "0,773", "0,788", "0,789", "0,79", "0,791", "0,792",
>>>> ????? "0,793", "0,794", "0,804", "0,805", "0,806", "0,808", "0,965",
>>>> ????? "1"), class = "factor"), Cos.?3..DPF. = structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 13L, 20L, 19L, 19L), .Label = c("", "- - -", "-0,016", "0,201",
>>>> ????? "0,383", "0,448", "0,452", "0,476", "0,527", "0,561", "0,584",
>>>> ????? "0,606", "0,669", "0,678", "0,696", "0,745", "0,791", "0,802",
>>>> ????? "0,803", "0,804", "0,814", "0,815", "0,816", "0,817", "0,818",
>>>> ????? "0,82", "0,824", "0,826", "0,827"), class = "factor"), 
>>>> Cos.?T..DPF. = structure(c(10L,
>>>> ????? 11L, 11L, 12L, 13L, 13L, 14L, 33L, 34L, 34L, 34L, 34L, 34L,
>>>> ????? 27L, 16L, 15L, 7L, 5L, 4L, 4L), .Label = c("", "0,828", "0,829",
>>>> ????? "0,83", "0,831", "0,832", "0,834", "0,837", "0,846", "0,852",
>>>> ????? "0,854", "0,855", "0,856", "0,858", "0,86", "0,861", "0,862",
>>>> ????? "0,865", "0,867", "0,868", "0,869", "0,87", "0,871", "0,872",
>>>> ????? "0,873", "0,874", "0,89", "0,892", "0,893", "0,901", "0,902",
>>>> ????? "0,945", "0,997", "0,998"), class = "factor"), Tan.?1 = 
>>>> structure(c(28L,
>>>> ????? 27L, 26L, 25L, 24L, 24L, 23L, 21L, 22L, 22L, 20L, 19L, 17L,
>>>> ????? 20L, 21L, 22L, 40L, 41L, 40L, 40L), .Label = c("", "-0,007",
>>>> ????? "-0,062", "-0,063", "-0,27", "-0,372", "-0,388", "-0,395",
>>>> ????? "-0,473", "-0,567", "-0,568", "-0,569", "-0,57", "-0,571",
>>>> ????? "-0,572", "-0,573", "-0,585", "-0,587", "-0,588", "-0,589",
>>>> ????? "-0,59", "-0,591", "-0,598", "-0,602", "-0,606", "-0,608",
>>>> ????? "-0,609", "-0,611", "0,079", "0,115", "0,244", "0,246", "0,247",
>>>> ????? "0,361", "0,362", "0,363", "0,364", "0,365", "0,407", "0,53",
>>>> ????? "0,531", "0,581", "0,582", "0,584", "0,586", "0,587"), class = 
>>>> "factor"),
>>>> ????? Tan.?2 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L,
>>>> ????? 3L, 3L, 3L, 3L, 4L, 2L, 2L, 13L, 16L, 18L, 19L), .Label = c("",
>>>> ????? "- - -", "0,003", "0,391", "0,487", "0,708", "0,727", "0,732",
>>>> ????? "0,734", "0,736", "0,737", "0,751", "0,752", "0,756", "0,757",
>>>> ????? "0,762", "0,763", "0,765", "0,768", "0,77", "0,771", "0,772",
>>>> ????? "0,773", "0,777", "0,779", "0,814", "0,818", "0,822", "0,823",
>>>> ????? "0,826", "0,831", "1,007"), class = "factor"), Tan.?3 = 
>>>> structure(c(2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 25L, 26L, 27L, 28L), .Label = c("", "- - -", "-0,087", "0,026",
>>>> ????? "0,047", "0,107", "0,135", "0,136", "0,478", "0,544", "0,571",
>>>> ????? "0,678", "0,679", "0,682", "0,686", "0,696", "0,7", "0,701",
>>>> ????? "0,703", "0,705", "0,708", "0,709", "0,71", "0,712", "0,724",
>>>> ????? "0,738", "0,74", "0,741", "1,032"), class = "factor"), Tan.?T 
>>>> = structure(c(27L,
>>>> ????? 26L, 25L, 24L, 23L, 23L, 22L, 4L, 2L, 2L, 2L, 2L, 2L, 10L,
>>>> ????? 20L, 21L, 40L, 41L, 42L, 43L), .Label = c("", "-0,059", "-0,062",
>>>> ????? "-0,063", "-0,27", "-0,332", "-0,335", "-0,376", "-0,473",
>>>> ????? "-0,479", "-0,566", "-0,567", "-0,568", "-0,569", "-0,57",
>>>> ????? "-0,571", "-0,572", "-0,587", "-0,589", "-0,59", "-0,591",
>>>> ????? "-0,598", "-0,602", "-0,606", "-0,608", "-0,609", "-0,611",
>>>> ????? "-0,668", "0,101", "0,184", "0,268", "0,416", "0,479", "0,48",
>>>> ????? "0,558", "0,559", "0,56", "0,561", "0,577", "0,661", "0,669",
>>>> ????? "0,67", "0,671", "0,672", "0,673", "0,674", "0,675"), class = 
>>>> "factor"),
>>>> ????? V1.THDf = structure(c(4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L,
>>>> ????? 4L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 6L, 6L), .Label = c("",
>>>> ????? "% f", "1,2", "1,3", "1,4", "1,5", "1,6"), class = "factor"),
>>>> ????? V2.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>> ????? 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 3L, 4L), .Label = c("",
>>>> ????? "% f", "1,7", "1,8", "1,9", "2"), class = "factor"), V3.THDf = 
>>>> structure(c(4L,
>>>> ????? 5L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>> ????? 4L, 4L, 4L, 4L), .Label = c("", "% f", "1,7", "1,8", "1,9",
>>>> ????? "2"), class = "factor"), U12.THDf = structure(c(3L, 4L, 4L,
>>>> ????? 4L, 4L, 4L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L,
>>>> ????? 3L, 3L), .Label = c("", "% f", "1", "1,1", "1,2", "1,3"), 
>>>> class = "factor"),
>>>> ????? U23.THDf = structure(c(3L, 3L, 4L, 3L, 3L, 3L, 3L, 3L, 3L,
>>>> ????? 3L, 3L, 3L, 4L, 4L, 3L, 3L, 3L, 3L, 4L, 3L), .Label = c("",
>>>> ????? "% f", "1,2", "1,3", "1,4"), class = "factor"), U31.THDf = 
>>>> structure(c(4L,
>>>> ????? 4L, 5L, 4L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>>>> ????? 4L, 4L, 4L, 4L), .Label = c("", "% f", "1,2", "1,3", "1,4"
>>>> ????? ), class = "factor"), A1.THDf = structure(c(25L, 25L, 28L,
>>>> ????? 26L, 27L, 27L, 30L, 29L, 32L, 32L, 31L, 32L, 33L, 30L, 30L,
>>>> ????? 29L, 38L, 34L, 34L, 35L), .Label = c("", "% f", "14", "14,1",
>>>> ????? "19,8", "19,9", "2", "2,1", "2,4", "2,5", "2,7", "2,8", "25",
>>>> ????? "25,1", "25,6", "30,3", "30,5", "30,6", "30,7", "30,8", "30,9",
>>>> ????? "31", "31,1", "31,3", "31,5", "31,7", "31,9", "32", "32,2",
>>>> ????? "32,3", "32,5", "32,6", "32,7", "4", "4,1", "4,3", "8,3",
>>>> ????? "9,6"), class = "factor"), A2.THDf = structure(c(2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 4L, 4L, 4L, 4L, 4L, 4L, 16L, 2L, 2L,
>>>> ????? 15L, 14L, 9L, 9L), .Label = c("", "- - -", "% f", "1,9",
>>>> ????? "100,8", "2,6", "2,7", "2,8", "2,9", "20,4", "21,1", "29,8",
>>>> ????? "3", "3,2", "3,3", "48,5", "70,7", "86,7"), class = "factor"),
>>>> ????? A3.THDf = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
>>>> ????? 2L, 2L, 2L, 2L, 2L, 2L, 2L, 7L, 9L, 6L, 6L), .Label = c("",
>>>> ????? "- - -", "% f", "169", "2,9", "3", "3,1", "3,2", "3,3", "315,7",
>>>> ????? "328", "361,5", "5,8", "57,7", "91,7", "97,1"), class = 
>>>> "factor")), row.names = 3:22, class = "data.frame")
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> On Sun, 14 Feb 2021 08:52:31 +0000
>>>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>>>
>>>>> Hello,
>>>>>
>>>>> It's not scale_x_time with arguments breaks and labels.
>>>>>
>>>>> It's scale_x_datetime with arguments
>>>>>
>>>>> date_breaks and date_labels.
>>>>> If you also want the hour displayed in the x axis labels, change the
>>>>> format string in my previous post to
>>>>>
>>>>>
>>>>> scale_x_datetime(date_breaks = "20 secs", date_labels = "H:%M:%S")
>>>>>
>>>>>
>>>>> Can you post as data sample the output of dput?
>>>>>
>>>>> dput(head(listeMesuresPropres, 20))? # or 30
>>>>>
>>>>>
>>>>> Hope this helps,
>>>>>
>>>>> Rui Barradas
>>>>>
>>>>> ?s 07:35 de 14/02/21, Informatique escreveu:
>>>>>> Hello,
>>>>>>
>>>>>> the time are in the first table like that :??? 10:24:00
>>>>>> and i use this for
>>>>>> ????listeMesuresPropres$Heure. <- hms(listeMesuresPropres$Heure.
>>>>>> after time ar like that :???????? 10H 24M 0S
>>>>>> and when i use? with ggplot
>>>>>> ???? scale_x_time(breaks = "20 secs",labels = "%H:%M:%S")
>>>>>>
>>>>>> it have the graphics but noting write on the X axis.
>>>>>>
>>>>>> I think it a problem with the format of the time, because if i try 
>>>>>> a ggplot without scale_x_time i don't have anything on the graphic.
>>>>>>
>>>>>> Thank's
>>>>>>
>>>>>> Fran?ois-Marie BILLARD
>>>>>>
>>>>>> On Fri, 12 Feb 2021 18:24:35 +0000
>>>>>> Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>>>>>
>>>>>>> Hello,
>>>>>>>
>>>>>>> In order to select every 20 s, set the date_breaks = "20 secs", 
>>>>>>> not the
>>>>>>> breaks.
>>>>>>> The axis labels are also formatted, with date_labels, standard 
>>>>>>> datetime
>>>>>>> format strings are used for this. And rotated, not part of the 
>>>>>>> question.
>>>>>>>
>>>>>>> # Create some data
>>>>>>> set.seed(2021)
>>>>>>> time <- seq(as.POSIXct("2021-02-11"), as.POSIXct("2021-02-11 
>>>>>>> 00:29:59"),
>>>>>>> by = "1 secs")
>>>>>>> y <- cumsum(rnorm(length(time)))
>>>>>>> df1 <- data.frame(time, y)
>>>>>>>
>>>>>>> # Plot the data
>>>>>>> library(ggplot2)
>>>>>>>
>>>>>>> ggplot(df1, aes(time, y)) +
>>>>>>> ????? geom_line() +
>>>>>>> ????? scale_x_datetime(date_breaks = "20 secs", date_labels = 
>>>>>>> "%M:%S") +
>>>>>>> ????? theme(axis.text.x = element_text(angle = 90, vjust = 0.5, 
>>>>>>> hjust=1,
>>>>>>> size = 5))
>>>>>>>
>>>>>>>
>>>>>>> Hope this helps,
>>>>>>>
>>>>>>> Rui Barradas
>>>>>>>
>>>>>>> ?s 15:05 de 12/02/21, Informatique escreveu:
>>>>>>>> Hello,
>>>>>>>>
>>>>>>>> i'm using Rstudio from a few day, and i have some information in 
>>>>>>>> a CVS file, take every five second, format of the time is HH:MM:SS.
>>>>>>>> I use the hour on the X axis, but i don't want having all the 
>>>>>>>> time print. For example only every 10 values.
>>>>>>>>
>>>>>>>> I think it will be possible with?? scale_x_datetime(breaks = 
>>>>>>>> date_breaks(XXX)
>>>>>>>>
>>>>>>>> but i don't understand how select every 20 s.
>>>>>>>>
>>>>>>>> Thank's for your help
>>>>>>>>
>>>>>>>> Fran?ois-marie BILLARD
>>>>>>>>
>>>>>>
>>>>>>
>>>>
>>>>
>>
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From r@turner @end|ng |rom @uck|@nd@@c@nz  Mon Feb 15 04:35:11 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Mon, 15 Feb 2021 16:35:11 +1300
Subject: [R] Dimensioning  lists.
Message-ID: <20210215163511.1ac694c3@rolf-Latitude-E7470>


I have a setting in which it would be convenient to treat a list
as an array, i.e. to address its entries via a pair of indices.

A toy example:

xxx <- vector("list",9)
set.seed(42)
for(i in 1:9) xxx[[i]] <- list(a=sample(letters,1),b=sample(1:100,1))

I would like to be able to treat "xxx" as a 3 x 3 matrix.

I tried

   dim(xxx) <- c(3,3)

When I do, e.g.

    xxx[2,3]

I get:

> [[1]]
> [[1]]$a
> [1] "n"
> 
> [[1]]$b
> [1] 20

That is I get a list of length 1, whose (sole) entry is the desired
object.  I would *like* to get just the desired object, *not* wrapped in
a list, i.e.:

> $a
> [1] "n"
> 
> $b
> [1] 20
> 

(which is what I get by typing xxx[2,3][[1]]).

Is there any way to prevent the entries of xxx from being wrapped up in
lists of length 1?

Thanks for any enlightenment.

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From rmh @end|ng |rom temp|e@edu  Mon Feb 15 05:13:14 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 15 Feb 2021 04:13:14 +0000
Subject: [R] [External]  Dimensioning  lists.
In-Reply-To: <20210215163511.1ac694c3@rolf-Latitude-E7470>
References: <20210215163511.1ac694c3@rolf-Latitude-E7470>
Message-ID: <CO1PR11MB51076AF7E9D553C42F511184D2889@CO1PR11MB5107.namprd11.prod.outlook.com>

Use double [[ ]]

> xxx[[2,3]]
$a
[1] "n"

$b
[1] 20

>

________________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Rolf Turner <r.turner at auckland.ac.nz>
Sent: Sunday, February 14, 2021 10:35 PM
To: "r-help at R-project.org\"  <r-help at R-project.org>"@r-project.org
Subject: [External] [R] Dimensioning  lists.


I have a setting in which it would be convenient to treat a list
as an array, i.e. to address its entries via a pair of indices.

A toy example:

xxx <- vector("list",9)
set.seed(42)
for(i in 1:9) xxx[[i]] <- list(a=sample(letters,1),b=sample(1:100,1))

I would like to be able to treat "xxx" as a 3 x 3 matrix.

I tried

   dim(xxx) <- c(3,3)

When I do, e.g.

    xxx[2,3]

I get:

> [[1]]
> [[1]]$a
> [1] "n"
>
> [[1]]$b
> [1] 20

That is I get a list of length 1, whose (sole) entry is the desired
object.  I would *like* to get just the desired object, *not* wrapped in
a list, i.e.:

> $a
> [1] "n"
>
> $b
> [1] 20
>

(which is what I get by typing xxx[2,3][[1]]).

Is there any way to prevent the entries of xxx from being wrapped up in
lists of length 1?

Thanks for any enlightenment.

cheers,

Rolf Turner

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Mon Feb 15 05:48:43 2021
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sun, 14 Feb 2021 23:48:43 -0500
Subject: [R] Dimensioning  lists.
In-Reply-To: <20210215163511.1ac694c3@rolf-Latitude-E7470>
References: <20210215163511.1ac694c3@rolf-Latitude-E7470>
Message-ID: <0afb01d70355$d692b000$83b81000$@verizon.net>

Rolf,

Try:

xxx[[2,3]]

The double bracket return an item, not a list containing the item.

> xxx[2,3]
[[1]]
[[1]]$a
[1] "m"

[[1]]$b
[1] 95


> xxx[[2,3]]
$a
[1] "m"

$b
[1] 95

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rolf Turner
Sent: Sunday, February 14, 2021 10:35 PM
To: "r-help at R-project.org" <r-help at R-project.org>"@r-project.org
Subject: [R] Dimensioning lists.


I have a setting in which it would be convenient to treat a list as an
array, i.e. to address its entries via a pair of indices.

A toy example:

xxx <- vector("list",9)
set.seed(42)
for(i in 1:9) xxx[[i]] <- list(a=sample(letters,1),b=sample(1:100,1))

I would like to be able to treat "xxx" as a 3 x 3 matrix.

I tried

   dim(xxx) <- c(3,3)

When I do, e.g.

    xxx[2,3]

I get:

> [[1]]
> [[1]]$a
> [1] "n"
> 
> [[1]]$b
> [1] 20

That is I get a list of length 1, whose (sole) entry is the desired object.
I would *like* to get just the desired object, *not* wrapped in a list,
i.e.:

> $a
> [1] "n"
> 
> $b
> [1] 20
> 

(which is what I get by typing xxx[2,3][[1]]).

Is there any way to prevent the entries of xxx from being wrapped up in
lists of length 1?

Thanks for any enlightenment.

cheers,

Rolf Turner

--
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From pd@|gd @end|ng |rom gm@||@com  Mon Feb 15 10:18:01 2021
From: pd@|gd @end|ng |rom gm@||@com (Peter Dalgaard)
Date: Mon, 15 Feb 2021 10:18:01 +0100
Subject: [R] [Rd] R 4.0.4 is released
Message-ID: <02D540F5-498E-41D5-9C6A-7E83EC322ADD@gmail.com>

The build system rolled up R-4.0.4.tar.gz (codename "Lost Library Book") this morning.

The list below details the changes in this release.

You can get the source code from

https://cran.r-project.org/src/base/R-4/R-4.0.4.tar.gz

or wait for it to be mirrored at a CRAN site nearer to you.

Binaries for various platforms will appear in due course.


For the R Core Team,

Peter Dalgaard

These are the checksums (md5 and SHA-256) for the freshly created files, in case you wish
to check that they are uncorrupted:

MD5 (AUTHORS) = b9c44f9f78cab3184ad9898bebc854b4
MD5 (COPYING) = eb723b61539feef013de476e68b5c50a
MD5 (COPYING.LIB) = a6f89e2100d9b6cdffcea4f398e37343
MD5 (FAQ) = a5596520508b8749aa18baea2cf8ff80
MD5 (INSTALL) = 7893f754308ca31f1ccf62055090ad7b
MD5 (NEWS) = eeb2d15f39e0a38935de2c419b4263f7
MD5 (NEWS.0) = bfcd7c147251b5474d96848c6f57e5a8
MD5 (NEWS.1) = eb78c4d053ec9c32b815cf0c2ebea801
MD5 (NEWS.2) = 496062c138e2def06cebccddfb814ac6
MD5 (NEWS.3) = 012e7f4a80cc8ec947bf3f0ff6117ec8
MD5 (R-latest.tar.gz) = e205f000947f99eeba0fb6311bd61970
MD5 (README) = f468f281c919665e276a1b691decbbe6
MD5 (RESOURCES) = 529223fd3ffef95731d0a87353108435
MD5 (THANKS) = 251d20510bfc3cc93b82c5a99f7efcc6
MD5 (VERSION-INFO.dcf) = 6a5ad95f3b708ce0dc19bab8bbfc3bc0
MD5 (R-4/R-4.0.4.tar.gz) = e205f000947f99eeba0fb6311bd61970


2cde824a7b18958e5f06b391c801c8288be0f84fa8934b7ddefef23c67e60c09  AUTHORS
e6d6a009505e345fe949e1310334fcb0747f28dae2856759de102ab66b722cb4  COPYING
6095e9ffa777dd22839f7801aa845b31c9ed07f3d6bf8a26dc5d2dec8ccc0ef3  COPYING.LIB
e9783551b3724b368a42c1300a8e5795ae84add34823c4eb9d8054a0e76f592c  FAQ
f87461be6cbaecc4dce44ac58e5bd52364b0491ccdadaf846cb9b452e9550f31  INSTALL
2227d48d78c4d70d07c367ecd4c5ba60a04a699ed0391fabac3da6edffdaa5db  NEWS
4e21b62f515b749f80997063fceab626d7258c7d650e81a662ba8e0640f12f62  NEWS.0
12b30c724117b1b2b11484673906a6dcd48a361f69fc420b36194f9218692d01  NEWS.1
e80de410c77f05ff2012fa70051b89119845f734a7fa5c55857e61e4ed7d5f6e  NEWS.2
7201d139947afa52b5e09d26dc01445edf444506264355b2185122bc1ed3dce0  NEWS.3
523f27d69744a08c8f0bd5e1e6c3d89a4db29ed983388ba70963a3cd3a4a802e  R-latest.tar.gz
2fdd3e90f23f32692d4b3a0c0452f2c219a10882033d1774f8cadf25886c3ddc  README
408737572ecc6e1135fdb2cf7a9dbb1a6cb27967c757f1771b8c39d1fd2f1ab9  RESOURCES
c9c7cb32308b4e560a22c858819ade9de524a602abd4e92d1c328c89f8037d73  THANKS
6c5117e36f4e69f0cd90f3bab6e7fd47ec90b0047e2aaed145300ad4ece20ede  VERSION-INFO.dcf
523f27d69744a08c8f0bd5e1e6c3d89a4db29ed983388ba70963a3cd3a4a802e  R-4/R-4.0.4.tar.gz

This is the relevant part of the NEWS file

CHANGES IN R 4.0.4:

  NEW FEATURES:

    * File share/texmf/tex/latex/jss.cls has been updated to work with
      LaTeX versions since Oct 2020.

    * Unicode character width tables (as used by nchar(, type = "w"))
      have been updated to Unicode 12.1 by Brodie Gaslam (PR#17781),
      including many emoji.

    * The internal table for iswprint (used on Windows, macOS and AIX)
      has been updated to include many recent Unicode characters.

  INSTALLATION on a UNIX-ALIKE:

    * If an external BLAS is specified by --with-blas=foo or _via_
      environment variable BLAS_LIBS is not found, this is now a
      configuration error.  The previous behaviour was not clear from
      the documentation: it was to continue the search as if
      --with-blas=yes was specified.

  BUG FIXES:

    * all.equal(x,y) now "sees" the two different NAs in factors,
      thanks to Bill Dunlap and others in PR#17897.

    * (~ NULL)[1] and similar formula subsetting now works, thanks to a
      report and patch by Henrik Bengtsson in PR#17935.  Additionally,
      subsetting leaving an empty formula now works too, thanks to
      suggestions by Suharto Anggono.

    * .traceback(n) keeps source references again, as before R 4.0.0,
      fixing a regression; introduced by the PR#17580, reported
      including two patch proposals by Brodie Gaslam.

    * unlist(plst, recursive=FALSE) no longer drops content for
      pairlists with list components, thanks to the report and patch by
      Suharto Anggono in PR#17950.

    * iconvlist() now also works on MUSL based (Linux) systems, from a
      report and patch suggestion by Wesley Chan in PR#17970.

    * round() and signif() no longer tolerate wrong argument names,
      notably in 1-argument calls; reported by Shane Mueller on R-devel
      (mailing list); later reported as PR#17976.

    * .Machine has longdouble.* elements only if
      capabilities("long.double") is true, as documented.  (Previously
      they were included if the platform had long double identical to
      double, as ARM does.)

    * p.adjust(numeric(), n=0) now works, fixing PR#18002.

    * identical(x,y) no longer prints "Unknown Type .." for typeof(x)
      == "..." objects.

    * Fix (auto-)print()ing of named complex vectors, see PR#17868 and
      PR#18019.

    * all.equal(<language>, <...>) now works, fixing PR#18029.

    * as.data.frame.list(L, row.names=NULL) now behaves in line with
      data.frame(), disregarding names of components of L, fixing
      PR#18034, reported by Kevin Tappe.

    * checkRdaFiles(ff)$version is now correct also when ff contains
      files of different versions, thanks to a report and patch from
      Sebastian Meyer in PR#18041.

    * macOS: Quartz device live drawing could fail (no plot is shown)
      if the system changes the drawing context after view update
      (often the case since macOS Big Sur). System log may show
      "CGContextDelegateCreateForContext: invalid context" error.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From r@turner @end|ng |rom @uck|@nd@@c@nz  Mon Feb 15 09:59:49 2021
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Mon, 15 Feb 2021 21:59:49 +1300
Subject: [R] [External]  Dimensioning  lists.
In-Reply-To: <CO1PR11MB51070919393E1EF7C1A509F4D2889@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <20210215163511.1ac694c3@rolf-Latitude-E7470>
 <CO1PR11MB51070919393E1EF7C1A509F4D2889@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <20210215215346.0f0e392b@rolf-Latitude-E7470>


Thanks to Richard Heiberger, John Fox, and Avi Gross, who pointed out
to me that I should

> use double brackets
> [[ ]]
> 
> > xxx[[2,3]]
> $a
> [1] "n"
> 
> $b
> [1] 20

I really should've should've known that; I feel a bit duh now!

See fortunes::fortune(341) for a relevant comment. :-)

Thanks again.

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Mon Feb 15 19:10:31 2021
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Mon, 15 Feb 2021 19:10:31 +0100
Subject: [R] How to load fasta file with openPrimeR?
Message-ID: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>

Hello,
I am trying to load a fast file with the package 'openPrimeR'. The
manual (https://www.bioconductor.org/packages/release/bioc/vignettes/openPrimeR/inst/doc/openPrimeR_vignette.html)
says to use:
```
fasta.file <- system.file("extdata", "IMGT_data", "templates",
                "Homo_sapiens_IGH_functional_exon.fasta", package =
"openPrimeR")
# Load the template sequences from 'fasta.file'
seq.df.simple <- read_templates(fasta.file)
```
but if I give these commands to a local file:
```
fasta.file <- system.file("extdata", "IMGT_data", "templates",
                "stx.fa", package = "openPrimeR")
fasta.file <- system.file("stx.fa", package = "openPrimeR")
```
where stx.fa il the file I wanted to open and that is present in the
working directly. I get only an empty object.
What am I getting wrong?
Thank you


-- 
Best regards,
Luigi


From bgunter@4567 @end|ng |rom gm@||@com  Mon Feb 15 19:17:55 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 15 Feb 2021 10:17:55 -0800
Subject: [R] How to load fasta file with openPrimeR?
In-Reply-To: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
References: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
Message-ID: <CAGxFJbRYPraf4Px61NZdewDp9z4WKUes7jOstAUGF6FBTKfz4w@mail.gmail.com>

As this is a Bioconductor package, why not ask on their support page:

https://support.bioconductor.org/



Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Feb 15, 2021 at 10:11 AM Luigi Marongiu <marongiu.luigi at gmail.com>
wrote:

> Hello,
> I am trying to load a fast file with the package 'openPrimeR'. The
> manual (
> https://www.bioconductor.org/packages/release/bioc/vignettes/openPrimeR/inst/doc/openPrimeR_vignette.html
> )
> says to use:
> ```
> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>                 "Homo_sapiens_IGH_functional_exon.fasta", package =
> "openPrimeR")
> # Load the template sequences from 'fasta.file'
> seq.df.simple <- read_templates(fasta.file)
> ```
> but if I give these commands to a local file:
> ```
> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>                 "stx.fa", package = "openPrimeR")
> fasta.file <- system.file("stx.fa", package = "openPrimeR")
> ```
> where stx.fa il the file I wanted to open and that is present in the
> working directly. I get only an empty object.
> What am I getting wrong?
> Thank you
>
>
> --
> Best regards,
> Luigi
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From w||||@mwdun|@p @end|ng |rom gm@||@com  Mon Feb 15 19:28:18 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Mon, 15 Feb 2021 10:28:18 -0800
Subject: [R] How to load fasta file with openPrimeR?
In-Reply-To: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
References: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
Message-ID: <CAHqSRuQ0cEGhTjgCYTDyfyMsjPvfZCvxjTTDs-FKSvxuhPRMgw@mail.gmail.com>

> but if I give these commands to a local file:
> ```
> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>                 "stx.fa", package = "openPrimeR")
> fasta.file <- system.file("stx.fa", package = "openPrimeR")
> ```
> where stx.fa il the file I wanted to open and that is present in the
> working directly. I get only an empty object.

If "stx.fa" is in fact in the current working directory then use
   fasta.file <- "stx.fa"
system.file() is for accessing files in installed packages.

-Bill

On Mon, Feb 15, 2021 at 10:11 AM Luigi Marongiu
<marongiu.luigi at gmail.com> wrote:
>
> Hello,
> I am trying to load a fast file with the package 'openPrimeR'. The
> manual (https://www.bioconductor.org/packages/release/bioc/vignettes/openPrimeR/inst/doc/openPrimeR_vignette.html)
> says to use:
> ```
> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>                 "Homo_sapiens_IGH_functional_exon.fasta", package =
> "openPrimeR")
> # Load the template sequences from 'fasta.file'
> seq.df.simple <- read_templates(fasta.file)
> ```
> but if I give these commands to a local file:
> ```
> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>                 "stx.fa", package = "openPrimeR")
> fasta.file <- system.file("stx.fa", package = "openPrimeR")
> ```
> where stx.fa il the file I wanted to open and that is present in the
> working directly. I get only an empty object.
> What am I getting wrong?
> Thank you
>
>
> --
> Best regards,
> Luigi
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @purd|e@@ @end|ng |rom gm@||@com  Tue Feb 16 00:03:54 2021
From: @purd|e@@ @end|ng |rom gm@||@com (=?UTF-8?B?QWJieSBTcHVyZGxlICgvyZnLiGJpLyk=?=)
Date: Tue, 16 Feb 2021 12:03:54 +1300
Subject: [R] Is it Possible to Create S4 Function Objects?
In-Reply-To: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
References: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
Message-ID: <CAB8pepx41S6iMEF9F54Pax1sBrRiXcBxUK-8WuSoV3AA3iCFoQ@mail.gmail.com>

It appears that my previous post may lack clarity.

So, I've created three examples of mathematical function objects.
(One) using a standard closure with lexical scoping, (two) using S3
with an attribute and (three) using S4 with a slot.
Each example constructs the function object via a constructor (of some
form), plots it, then prints the attribute/etc.
However, the third example with S4 is incomplete.

Any suggestions welcome.

----begin code----

plotf <- function (f)
{   x <- seq (-1, 1,, 200)
    plot (x, f (x), type="l")
}

#standard closure, with lexical scoping
quad.lex <- function (p = c (0, 0, 1) )
{   function (x)
        p [1] + p [2] * x + p [3] * x^2
}

#s3-based function object, with attribute
quad.s3 <- function (p = c (0, 0, 1) )
{   f <- function (x)
    {   this <- sys.function ()
        p <- attr (this, "p")
        p [1] + p [2] * x + p [3] * x^2
    }
    attr (f, "p") <- p
    f
}

#s4-based function object, with slot
setClass ("Quad.S4", slots = list (p="numeric") )
Quad.S4 <- function (p = c (0, 0, 1) )
{   #?
}

f.lex <- quad.lex ()
plotf (f.lex)
environment (f.lex)$p

f.s3 <- quad.s3 ()
plotf (f.s3)
attr (f.s3, "p")

f.s4 <- Quad.S4 ()
#plotf (f.s4)
#f.s4 at p


On Sat, Feb 13, 2021 at 10:53 AM Abby Spurdle (/??bi/)
<spurdle.a at gmail.com> wrote:
>
> Dear All,
>
> I was wondering if it's possible to create S4 function objects?
> (Or S4 closures, if you prefer).
>
> i.e.
> An R object, that is both an S4 object, and a function.
>
> This would allow one to write:
>
> > f <- constructor4.functionobj ()
> > f ()
> > f at slot.of.f
>
> I've searched for this, but I can't find any examples.
>
> If it's possible, then that leads to the question of if/how the body
> of f() could directly access the value of the slot?
>
> > f <- function ()
> >    this at slot.of.f
>
> I should note that the more common approach of storing values in a
> function's environment, doesn't work well for top-level objects.
> This approach is dependent on immutability of the function's data, and
> I'm reluctant to create such constraints.


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Feb 16 07:49:01 2021
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 16 Feb 2021 07:49:01 +0100
Subject: [R] How to load fasta file with openPrimeR?
In-Reply-To: <CAGxFJbRYPraf4Px61NZdewDp9z4WKUes7jOstAUGF6FBTKfz4w@mail.gmail.com>
References: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
 <CAGxFJbRYPraf4Px61NZdewDp9z4WKUes7jOstAUGF6FBTKfz4w@mail.gmail.com>
Message-ID: <CAMk+s2TxszMf41ZetKqfQ3OwSiXr+T1-f=4dS9Qx6bWCWB8emQ@mail.gmail.com>

I think the problem is system.file, which is R base, but I'll go for
bioconductor. Thanks

On Mon, Feb 15, 2021 at 7:18 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> As this is a Bioconductor package, why not ask on their support page:
>
> https://support.bioconductor.org/
>
>
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, Feb 15, 2021 at 10:11 AM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>>
>> Hello,
>> I am trying to load a fast file with the package 'openPrimeR'. The
>> manual (https://www.bioconductor.org/packages/release/bioc/vignettes/openPrimeR/inst/doc/openPrimeR_vignette.html)
>> says to use:
>> ```
>> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>>                 "Homo_sapiens_IGH_functional_exon.fasta", package =
>> "openPrimeR")
>> # Load the template sequences from 'fasta.file'
>> seq.df.simple <- read_templates(fasta.file)
>> ```
>> but if I give these commands to a local file:
>> ```
>> fasta.file <- system.file("extdata", "IMGT_data", "templates",
>>                 "stx.fa", package = "openPrimeR")
>> fasta.file <- system.file("stx.fa", package = "openPrimeR")
>> ```
>> where stx.fa il the file I wanted to open and that is present in the
>> working directly. I get only an empty object.
>> What am I getting wrong?
>> Thank you
>>
>>
>> --
>> Best regards,
>> Luigi
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.



-- 
Best regards,
Luigi


From @@m@n|@cm@ @end|ng |rom gm@||@com  Wed Feb 17 06:33:45 2021
From: @@m@n|@cm@ @end|ng |rom gm@||@com (A. Mani)
Date: Wed, 17 Feb 2021 11:03:45 +0530
Subject: [R] ddply/tapply and set function
Message-ID: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>

I want a data frame (derived from another data frame) of the form

Type   Set
1         {1,5, 7}
2         {3,8)
..        ....

tapply(Id,Type, set) works, but does not yield a data frame.
'set' is from package set/set6/etc
ddply does not seem to work with the function.
How should I proceed with this optimally?


Thanks and Best

A Mani

Prof.Dr.(Miss) A Mani
ASL, AMS, ISRS, CLC, CMS, MTA
Senior Member, International Rough Set Society
Research Scientist, Indian Statistical Institute, Kolkata
Formerly HBCSE, TIFR, CU.
Homepage: https://www.logicamani.in
Blog: https://logicamani.blogspot.in/
Research Gate: https://www.researchgate.net/profile/Mani_A
sip:girlprofessor at ekiga.net
Pronouns: She/Her/Hers


From drj|m|emon @end|ng |rom gm@||@com  Wed Feb 17 11:53:50 2021
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 17 Feb 2021 21:53:50 +1100
Subject: [R] ddply/tapply and set function
In-Reply-To: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>
References: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>
Message-ID: <CA+8X3fU9U+BfsyqTBixANemC+cd-wF4g5qnzcwiVXOC9JFetzQ@mail.gmail.com>

Hi  A,
I'm unable to work out what you are using as input. Maybe:

id<-data.frame(Type=c(1,2,1,1,2),set=c(1,3,5,7,8))

but that doesn't work with your

tapply(id,Type,set)

command. Perhaps a bit more detail?

Jim



On Wed, Feb 17, 2021 at 7:48 PM A. Mani <a.mani.cms at gmail.com> wrote:
>
> I want a data frame (derived from another data frame) of the form
>
> Type   Set
> 1         {1,5, 7}
> 2         {3,8)
> ..        ....
>
> tapply(Id,Type, set) works, but does not yield a data frame.
> 'set' is from package set/set6/etc
> ddply does not seem to work with the function.
> How should I proceed with this optimally?
>
>
> Thanks and Best
>
> A Mani
>
> Prof.Dr.(Miss) A Mani
> ASL, AMS, ISRS, CLC, CMS, MTA
> Senior Member, International Rough Set Society
> Research Scientist, Indian Statistical Institute, Kolkata
> Formerly HBCSE, TIFR, CU.
> Homepage: https://www.logicamani.in
> Blog: https://logicamani.blogspot.in/
> Research Gate: https://www.researchgate.net/profile/Mani_A
> sip:girlprofessor at ekiga.net
> Pronouns: She/Her/Hers
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jerem|eju@te @end|ng |rom gm@||@com  Wed Feb 17 12:52:31 2021
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Wed, 17 Feb 2021 12:52:31 +0100
Subject: [R] readline in function call with space in prompt.
In-Reply-To: <AM6PR0302MB31767F0DEB063CB51A21E064EA8E9@AM6PR0302MB3176.eurprd03.prod.outlook.com>
 (Karl Ropkins's message of "Tue, 9 Feb 2021 11:24:49 +0000")
References: <mailman.362209.1.1612868402.50337.r-help@r-project.org>
 <AM6PR0302MB31767F0DEB063CB51A21E064EA8E9@AM6PR0302MB3176.eurprd03.prod.outlook.com>
Message-ID: <87im6qrjwg.fsf@gmail.com>

Hello,

Sorry for the delayed reply and thanks for your feedback. I noticed this
problem both on Linux and on Windows.

Thanks for leading me to the solution.


I'm on R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out".
A common factor between the Windows and the Linux session is Emacs ESS.

I was not able to replicate the problem in a terminal. So yes the issue
is likely to lie with Emacs ESS. The versions I'm currently using is

linux: 
ess-version: 18.10.3snapshot [elpa: 20200825.829] (loaded from /home/djj/.emacs.d/elpa/ess-20200825.829/)

windows:
ess-version: 18.10.3snapshot [elpa: 20201122.814] (loaded from
c:/Users/Jeremie/AppData/Roaming/.emacs.d/elpa/ess-20201122.814/)

I will report it on the ESS mailing list if need be. 

Many thanks again,
Best regards,
-- 
Jeremie Juste


From |@heemj@n93 @end|ng |rom y@hoo@com  Wed Feb 17 13:02:05 2021
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Wed, 17 Feb 2021 12:02:05 +0000 (UTC)
Subject: [R] forecast accuracy
References: <953244513.2041139.1613563325397.ref@mail.yahoo.com>
Message-ID: <953244513.2041139.1613563325397@mail.yahoo.com>

I am new in the functional time series,? my question may be stupid as? I am new, I am? functional forecasting one year a head, Know I want to check the forecast accuracy by calculating the mean absolute percentage error, but I am unable to due this R, please help me or suggest me any link which help me? to solve my problem, Regard


	[[alternative HTML version deleted]]


From @pencer@gr@ve@ @end|ng |rom e||ect|vede|en@e@org  Wed Feb 17 14:58:48 2021
From: @pencer@gr@ve@ @end|ng |rom e||ect|vede|en@e@org (Spencer Graves)
Date: Wed, 17 Feb 2021 07:58:48 -0600
Subject: [R] forecast accuracy
In-Reply-To: <953244513.2041139.1613563325397@mail.yahoo.com>
References: <953244513.2041139.1613563325397.ref@mail.yahoo.com>
 <953244513.2041139.1613563325397@mail.yahoo.com>
Message-ID: <af54646a-b6e6-27f3-e732-ed4d7a7c1fab@effectivedefense.org>

Hello, Faheem:


	  1.  You might get a better response if you "PLEASE do read the 
posting guide http://www.R-project.org/posting-guide.html and provide 
commented, minimal, self-contained, reproducible code", as it says at 
the bottom of each email in this list.  That would make it easier for 
people to understand the problem you are trying to solve.


	  2.  Are you familiar with the "fda" package?  I assume you are, but 
if not, I suggest you look at it.


	  3.  If you are familiar with the "fda" package, have you reviewed the 
Wikipedia article on "Functional data analysis" and Ramsay, Hooker and 
Graves (2009) Functional data analysis with R and Matlab (Springer)? 
The latter provides more extensive documentation for the "fda" package.


	  4.  Have you written directly to the maintainer of the "fda" package? 
  You can get his email from help("fda").


	  Hope this helps.
	  Spencer Graves


On 2021-02-17 06:02, Faheem Jan via R-help wrote:
> I am new in the functional time series,? my question may be stupid as? I am new, I am? functional forecasting one year a head, Know I want to check the forecast accuracy by calculating the mean absolute percentage error, but I am unable to due this R, please help me or suggest me any link which help me? to solve my problem, Regard
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From @@m@n|@cm@ @end|ng |rom gm@||@com  Wed Feb 17 15:10:26 2021
From: @@m@n|@cm@ @end|ng |rom gm@||@com (A. Mani)
Date: Wed, 17 Feb 2021 19:40:26 +0530
Subject: [R] ddply/tapply and set function
In-Reply-To: <CA+8X3fU9U+BfsyqTBixANemC+cd-wF4g5qnzcwiVXOC9JFetzQ@mail.gmail.com>
References: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>
 <CA+8X3fU9U+BfsyqTBixANemC+cd-wF4g5qnzcwiVXOC9JFetzQ@mail.gmail.com>
Message-ID: <CADDQFRtP=BzKc1SA35+zx29XV-3BqQHEYbyktF4ZfRz_YD8LbQ@mail.gmail.com>

The original data frame can be like
Type   Id
1         1
1         5
1         7
2         3
2         8
..        ....

tapply(Id,Type,set) will yield the sets correctly (assuming the data
frame is attached) but not a data frame of the form mentioned.

A similar ddply command does not work at all with the function 'set'
(while 'mean' etc work fine)

Thanks and Best

A Mani

Prof.Dr.(Miss) A Mani
ASL, AMS, ISRS, CLC, CMS, MTA
Senior Member, International Rough Set Society
Research Scientist, Indian Statistical Institute, Kolkata
Formerly HBCSE, TIFR, CU.
Homepage: https://www.logicamani.in
Blog: https://logicamani.blogspot.in/
Research Gate: https://www.researchgate.net/profile/Mani_A
sip:girlprofessor at ekiga.net
Pronouns: She/Her/Hers

On Wed, Feb 17, 2021 at 4:24 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>
> Hi  A,
> I'm unable to work out what you are using as input. Maybe:
>
> id<-data.frame(Type=c(1,2,1,1,2),set=c(1,3,5,7,8))
>
> but that doesn't work with your
>
> tapply(id,Type,set)
>
> command. Perhaps a bit more detail?
>
> Jim
>
>
>
> On Wed, Feb 17, 2021 at 7:48 PM A. Mani <a.mani.cms at gmail.com> wrote:
> >
> > I want a data frame (derived from another data frame) of the form
> >
> > Type   Set
> > 1         {1,5, 7}
> > 2         {3,8)
> > ..        ....
> >
> > tapply(Id,Type, set) works, but does not yield a data frame.
> > 'set' is from package set/set6/etc
> > ddply does not seem to work with the function.
> > How should I proceed with this optimally?
> >
> >
> > Thanks and Best
> >
> > A Mani
> >
> > Prof.Dr.(Miss) A Mani
> > ASL, AMS, ISRS, CLC, CMS, MTA
> > Senior Member, International Rough Set Society
> > Research Scientist, Indian Statistical Institute, Kolkata
> > Formerly HBCSE, TIFR, CU.
> > Homepage: https://www.logicamani.in
> > Blog: https://logicamani.blogspot.in/
> > Research Gate: https://www.researchgate.net/profile/Mani_A
> > sip:girlprofessor at ekiga.net
> > Pronouns: She/Her/Hers
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From v@|kremk @end|ng |rom gm@||@com  Wed Feb 17 15:50:52 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Wed, 17 Feb 2021 09:50:52 -0500
Subject: [R] Undesired result
Message-ID: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>

HI All,

I am reading a data file which has different date formats. I wanted to
standardize to one format and used  a library anytime but got
undesired results as shown below. It gave me year 2093 instead of 1993


library(anytime)
DFX<-read.table(text="name ddate
  A  19-10-02
  D  11/19/2006
  F  9/9/2011
  G1  12/29/2010
  AA   10/18/93 ",header=TRUE)
    getFormats()
    addFormats(c("%d-%m-%y"))
    addFormats(c("%m-%d-%y"))
    addFormats(c("%Y/%d/%m"))
    addFormats(c("%m/%d/%y"))

DFX$anew=anydate(DFX$ddate)

Output
 name      ddate       anew
1    A   19-10-02 2002-10-19
2    D 11/19/2006 2020-11-19
3    F   9/9/2011 2011-09-09
4   G1 12/29/2010 2020-12-29
5   AA   10/18/93 2093-10-18

The problem is in the last row. It should be  1993-10-18 instead of 2093-10-18

How do I correct this?
Thank you.


From bgunter@4567 @end|ng |rom gm@||@com  Wed Feb 17 17:20:32 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 17 Feb 2021 08:20:32 -0800
Subject: [R] ddply/tapply and set function
In-Reply-To: <CADDQFRtP=BzKc1SA35+zx29XV-3BqQHEYbyktF4ZfRz_YD8LbQ@mail.gmail.com>
References: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>
 <CA+8X3fU9U+BfsyqTBixANemC+cd-wF4g5qnzcwiVXOC9JFetzQ@mail.gmail.com>
 <CADDQFRtP=BzKc1SA35+zx29XV-3BqQHEYbyktF4ZfRz_YD8LbQ@mail.gmail.com>
Message-ID: <CAGxFJbRAgT22vjx7guWrS1TxwZ-Q32cubBmB6RbcEFE=R6fArQ@mail.gmail.com>

df <- data.frame(X1 = c(1,1,1,2,2), X2 = c(1,5,7,3,8))
> df
  X1 X2
1  1  1
2  1  5
3  1  7
4  2  3
5  2  8
> v <- with(df, tapply(X2, X1, c))
## v is a list, and I would work directly with this rather than converting
to a data.frame. But if you insist:

> df2 <- data.frame(v, row.names = names(v))
> df2[1,1] ## produces a **list** with a single component containing the
vector c(1,5,7)
[[1]]
[1] 1 5 7

> df2[[1,1]] ## produces a vector -- note doubled brackets
[1] 1 5 7


Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Feb 17, 2021 at 6:50 AM A. Mani <a.mani.cms at gmail.com> wrote:

> The original data frame can be like
> Type   Id
> 1         1
> 1         5
> 1         7
> 2         3
> 2         8
> ..        ....
>
> tapply(Id,Type,set) will yield the sets correctly (assuming the data
> frame is attached) but not a data frame of the form mentioned.
>
> A similar ddply command does not work at all with the function 'set'
> (while 'mean' etc work fine)
>
> Thanks and Best
>
> A Mani
>
> Prof.Dr.(Miss) A Mani
> ASL, AMS, ISRS, CLC, CMS, MTA
> Senior Member, International Rough Set Society
> Research Scientist, Indian Statistical Institute, Kolkata
> Formerly HBCSE, TIFR, CU.
> Homepage: https://www.logicamani.in
> Blog: https://logicamani.blogspot.in/
> Research Gate: https://www.researchgate.net/profile/Mani_A
> sip:girlprofessor at ekiga.net
> Pronouns: She/Her/Hers
>
> On Wed, Feb 17, 2021 at 4:24 PM Jim Lemon <drjimlemon at gmail.com> wrote:
> >
> > Hi  A,
> > I'm unable to work out what you are using as input. Maybe:
> >
> > id<-data.frame(Type=c(1,2,1,1,2),set=c(1,3,5,7,8))
> >
> > but that doesn't work with your
> >
> > tapply(id,Type,set)
> >
> > command. Perhaps a bit more detail?
> >
> > Jim
> >
> >
> >
> > On Wed, Feb 17, 2021 at 7:48 PM A. Mani <a.mani.cms at gmail.com> wrote:
> > >
> > > I want a data frame (derived from another data frame) of the form
> > >
> > > Type   Set
> > > 1         {1,5, 7}
> > > 2         {3,8)
> > > ..        ....
> > >
> > > tapply(Id,Type, set) works, but does not yield a data frame.
> > > 'set' is from package set/set6/etc
> > > ddply does not seem to work with the function.
> > > How should I proceed with this optimally?
> > >
> > >
> > > Thanks and Best
> > >
> > > A Mani
> > >
> > > Prof.Dr.(Miss) A Mani
> > > ASL, AMS, ISRS, CLC, CMS, MTA
> > > Senior Member, International Rough Set Society
> > > Research Scientist, Indian Statistical Institute, Kolkata
> > > Formerly HBCSE, TIFR, CU.
> > > Homepage: https://www.logicamani.in
> > > Blog: https://logicamani.blogspot.in/
> > > Research Gate: https://www.researchgate.net/profile/Mani_A
> > > sip:girlprofessor at ekiga.net
> > > Pronouns: She/Her/Hers
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Wed Feb 17 18:38:06 2021
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Wed, 17 Feb 2021 12:38:06 -0500
Subject: [R] Undesired result
In-Reply-To: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
References: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
Message-ID: <CAKZQJMAhgNvJ1RMPBS0Mzvz5JAVDB6wKZVb=suh5dAyo2-b04A@mail.gmail.com>

You have 4 " addFormats" commands. Maybe add one more?

On Wed, 17 Feb 2021 at 10:00, Val <valkremk at gmail.com> wrote:

> HI All,
>
> I am reading a data file which has different date formats. I wanted to
> standardize to one format and used  a library anytime but got
> undesired results as shown below. It gave me year 2093 instead of 1993
>
>
> library(anytime)
> DFX<-read.table(text="name ddate
>   A  19-10-02
>   D  11/19/2006
>   F  9/9/2011
>   G1  12/29/2010
>   AA   10/18/93 ",header=TRUE)
>     getFormats()
>     addFormats(c("%d-%m-%y"))
>     addFormats(c("%m-%d-%y"))
>     addFormats(c("%Y/%d/%m"))
>     addFormats(c("%m/%d/%y"))
>
> DFX$anew=anydate(DFX$ddate)
>
> Output
>  name      ddate       anew
> 1    A   19-10-02 2002-10-19
> 2    D 11/19/2006 2020-11-19
> 3    F   9/9/2011 2011-09-09
> 4   G1 12/29/2010 2020-12-29
> 5   AA   10/18/93 2093-10-18
>
> The problem is in the last row. It should be  1993-10-18 instead of
> 2093-10-18
>
> How do I correct this?
> Thank you.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb 17 18:50:01 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 17 Feb 2021 12:50:01 -0500
Subject: [R] Undesired result
In-Reply-To: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
References: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
Message-ID: <beb1d503-fe8b-57b2-4335-2b50e6942463@gmail.com>

On 17/02/2021 9:50 a.m., Val wrote:
> HI All,
> 
> I am reading a data file which has different date formats. I wanted to
> standardize to one format and used  a library anytime but got
> undesired results as shown below. It gave me year 2093 instead of 1993
> 
> 
> library(anytime)
> DFX<-read.table(text="name ddate
>    A  19-10-02
>    D  11/19/2006
>    F  9/9/2011
>    G1  12/29/2010
>    AA   10/18/93 ",header=TRUE)
>      getFormats()
>      addFormats(c("%d-%m-%y"))
>      addFormats(c("%m-%d-%y"))
>      addFormats(c("%Y/%d/%m"))
>      addFormats(c("%m/%d/%y"))
> 
> DFX$anew=anydate(DFX$ddate)
> 
> Output
>   name      ddate       anew
> 1    A   19-10-02 2002-10-19
> 2    D 11/19/2006 2020-11-19
> 3    F   9/9/2011 2011-09-09
> 4   G1 12/29/2010 2020-12-29
> 5   AA   10/18/93 2093-10-18
> 
> The problem is in the last row. It should be  1993-10-18 instead of 2093-10-18
> 
> How do I correct this?

This looks a little tricky.  The basic idea is that the %y format has to 
guess at the century, but the guess depends on things specific to your 
system.  So what would be nice is to say "two digit dates should be 
assumed to fall between 1922 and 2021", but there's no way to do that 
directly.

What you could do is recognize when you have a two digit year, and then 
force the result into the range you want.  Here's a function that does 
that, but it's not really tested much at all, so be careful if you use 
it.  (One thing:  I recommend the 'useR = TRUE' option to anydate(); it 
worked better in my tests than the default.)

adjustCentury <- function(inputString,
                           outputDate = anydate(inputString, useR = TRUE),
                           start = "1922-01-01") {

   start <- as.Date(start)

   twodigityear <- !grepl("[[:digit:]]{4}", inputString)

   while (length(bad <- which(twodigityear & outputDate < start))) {
     for (i in bad) {
       longdate <- as.POSIXlt(outputDate[i])
       longdate$year <- longdate$year + 100
       outputDate[i] <- as.Date(longdate)
     }
   }
   longdate <- as.POSIXlt(start)
   longdate$year <- longdate$year + 100
   finish <- as.Date(longdate)

   while (length(bad <- which(twodigityear & outputDate >= finish))) {
     for (i in bad) {
       longdate <- as.POSIXlt(outputDate[i])
       longdate$year <- longdate$year - 100
       outputDate[i] <- as.Date(longdate)
     }
   }
   outputDate
}

library(anytime)
DFX<-read.table(text="name ddate
   A  19-10-02
   D  11/19/2006
   F  9/9/2011
   G1  12/29/2010
   AA   10/18/93
   BB   10/18/1893
   CC   10/18/2093",header=TRUE)

addFormats(c("%d-%m-%y"))
addFormats(c("%m-%d-%y"))
addFormats(c("%Y/%d/%m"))
addFormats(c("%m/%d/%y"))

DFX$anew=adjustCentury(DFX$ddate, start = "1921-01-01")
DFX
#>   name      ddate       anew
#> 1    A   19-10-02 2019-10-02
#> 2    D 11/19/2006 2006-11-19
#> 3    F   9/9/2011 2011-09-09
#> 4   G1 12/29/2010 2010-12-29
#> 5   AA   10/18/93 1993-10-18
#> 6   BB 10/18/1893 1893-10-18
#> 7   CC 10/18/2093 2093-10-18


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Feb 17 19:06:01 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 17 Feb 2021 13:06:01 -0500
Subject: [R] Undesired result
In-Reply-To: <beb1d503-fe8b-57b2-4335-2b50e6942463@gmail.com>
References: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
 <beb1d503-fe8b-57b2-4335-2b50e6942463@gmail.com>
Message-ID: <f2cb7083-358f-24b3-9e67-7d3498b1caec@gmail.com>

Just a quick note:  you can simplify my function and speed it up quite a 
bit if speed is an issue.  I had forgotten that the POSIXlt type could 
act like a vector; using that you don't need those inner for loops, and 
with a little calculation you can also do without the outer while loops.

Duncan Murdoch

On 17/02/2021 12:50 p.m., Duncan Murdoch wrote:
> On 17/02/2021 9:50 a.m., Val wrote:
>> HI All,
>>
>> I am reading a data file which has different date formats. I wanted to
>> standardize to one format and used  a library anytime but got
>> undesired results as shown below. It gave me year 2093 instead of 1993
>>
>>
>> library(anytime)
>> DFX<-read.table(text="name ddate
>>     A  19-10-02
>>     D  11/19/2006
>>     F  9/9/2011
>>     G1  12/29/2010
>>     AA   10/18/93 ",header=TRUE)
>>       getFormats()
>>       addFormats(c("%d-%m-%y"))
>>       addFormats(c("%m-%d-%y"))
>>       addFormats(c("%Y/%d/%m"))
>>       addFormats(c("%m/%d/%y"))
>>
>> DFX$anew=anydate(DFX$ddate)
>>
>> Output
>>    name      ddate       anew
>> 1    A   19-10-02 2002-10-19
>> 2    D 11/19/2006 2020-11-19
>> 3    F   9/9/2011 2011-09-09
>> 4   G1 12/29/2010 2020-12-29
>> 5   AA   10/18/93 2093-10-18
>>
>> The problem is in the last row. It should be  1993-10-18 instead of 2093-10-18
>>
>> How do I correct this?
> 
> This looks a little tricky.  The basic idea is that the %y format has to
> guess at the century, but the guess depends on things specific to your
> system.  So what would be nice is to say "two digit dates should be
> assumed to fall between 1922 and 2021", but there's no way to do that
> directly.
> 
> What you could do is recognize when you have a two digit year, and then
> force the result into the range you want.  Here's a function that does
> that, but it's not really tested much at all, so be careful if you use
> it.  (One thing:  I recommend the 'useR = TRUE' option to anydate(); it
> worked better in my tests than the default.)
> 
> adjustCentury <- function(inputString,
>                             outputDate = anydate(inputString, useR = TRUE),
>                             start = "1922-01-01") {
> 
>     start <- as.Date(start)
> 
>     twodigityear <- !grepl("[[:digit:]]{4}", inputString)
> 
>     while (length(bad <- which(twodigityear & outputDate < start))) {
>       for (i in bad) {
>         longdate <- as.POSIXlt(outputDate[i])
>         longdate$year <- longdate$year + 100
>         outputDate[i] <- as.Date(longdate)
>       }
>     }
>     longdate <- as.POSIXlt(start)
>     longdate$year <- longdate$year + 100
>     finish <- as.Date(longdate)
> 
>     while (length(bad <- which(twodigityear & outputDate >= finish))) {
>       for (i in bad) {
>         longdate <- as.POSIXlt(outputDate[i])
>         longdate$year <- longdate$year - 100
>         outputDate[i] <- as.Date(longdate)
>       }
>     }
>     outputDate
> }
> 
> library(anytime)
> DFX<-read.table(text="name ddate
>     A  19-10-02
>     D  11/19/2006
>     F  9/9/2011
>     G1  12/29/2010
>     AA   10/18/93
>     BB   10/18/1893
>     CC   10/18/2093",header=TRUE)
> 
> addFormats(c("%d-%m-%y"))
> addFormats(c("%m-%d-%y"))
> addFormats(c("%Y/%d/%m"))
> addFormats(c("%m/%d/%y"))
> 
> DFX$anew=adjustCentury(DFX$ddate, start = "1921-01-01")
> DFX
> #>   name      ddate       anew
> #> 1    A   19-10-02 2019-10-02
> #> 2    D 11/19/2006 2006-11-19
> #> 3    F   9/9/2011 2011-09-09
> #> 4   G1 12/29/2010 2010-12-29
> #> 5   AA   10/18/93 1993-10-18
> #> 6   BB 10/18/1893 1893-10-18
> #> 7   CC 10/18/2093 2093-10-18
>


From v@|kremk @end|ng |rom gm@||@com  Wed Feb 17 19:45:54 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Wed, 17 Feb 2021 13:45:54 -0500
Subject: [R] Undesired result
In-Reply-To: <beb1d503-fe8b-57b2-4335-2b50e6942463@gmail.com>
References: <CAJOiR6bxkCzUDvv3ES2cpSF0oHwFaJbbtb9PKheKYNuaW_UyYg@mail.gmail.com>
 <beb1d503-fe8b-57b2-4335-2b50e6942463@gmail.com>
Message-ID: <CAJOiR6ZdzPWodK=Vcp=Eph+ynkkZc5uoyG2nrCg+BSzq928ALQ@mail.gmail.com>

Very helpful and thank you so much!


On Wed, Feb 17, 2021 at 12:50 PM Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
>
> On 17/02/2021 9:50 a.m., Val wrote:
> > HI All,
> >
> > I am reading a data file which has different date formats. I wanted to
> > standardize to one format and used  a library anytime but got
> > undesired results as shown below. It gave me year 2093 instead of 1993
> >
> >
> > library(anytime)
> > DFX<-read.table(text="name ddate
> >    A  19-10-02
> >    D  11/19/2006
> >    F  9/9/2011
> >    G1  12/29/2010
> >    AA   10/18/93 ",header=TRUE)
> >      getFormats()
> >      addFormats(c("%d-%m-%y"))
> >      addFormats(c("%m-%d-%y"))
> >      addFormats(c("%Y/%d/%m"))
> >      addFormats(c("%m/%d/%y"))
> >
> > DFX$anew=anydate(DFX$ddate)
> >
> > Output
> >   name      ddate       anew
> > 1    A   19-10-02 2002-10-19
> > 2    D 11/19/2006 2020-11-19
> > 3    F   9/9/2011 2011-09-09
> > 4   G1 12/29/2010 2020-12-29
> > 5   AA   10/18/93 2093-10-18
> >
> > The problem is in the last row. It should be  1993-10-18 instead of 2093-10-18
> >
> > How do I correct this?
>
> This looks a little tricky.  The basic idea is that the %y format has to
> guess at the century, but the guess depends on things specific to your
> system.  So what would be nice is to say "two digit dates should be
> assumed to fall between 1922 and 2021", but there's no way to do that
> directly.
>
> What you could do is recognize when you have a two digit year, and then
> force the result into the range you want.  Here's a function that does
> that, but it's not really tested much at all, so be careful if you use
> it.  (One thing:  I recommend the 'useR = TRUE' option to anydate(); it
> worked better in my tests than the default.)
>
> adjustCentury <- function(inputString,
>                            outputDate = anydate(inputString, useR = TRUE),
>                            start = "1922-01-01") {
>
>    start <- as.Date(start)
>
>    twodigityear <- !grepl("[[:digit:]]{4}", inputString)
>
>    while (length(bad <- which(twodigityear & outputDate < start))) {
>      for (i in bad) {
>        longdate <- as.POSIXlt(outputDate[i])
>        longdate$year <- longdate$year + 100
>        outputDate[i] <- as.Date(longdate)
>      }
>    }
>    longdate <- as.POSIXlt(start)
>    longdate$year <- longdate$year + 100
>    finish <- as.Date(longdate)
>
>    while (length(bad <- which(twodigityear & outputDate >= finish))) {
>      for (i in bad) {
>        longdate <- as.POSIXlt(outputDate[i])
>        longdate$year <- longdate$year - 100
>        outputDate[i] <- as.Date(longdate)
>      }
>    }
>    outputDate
> }
>
> library(anytime)
> DFX<-read.table(text="name ddate
>    A  19-10-02
>    D  11/19/2006
>    F  9/9/2011
>    G1  12/29/2010
>    AA   10/18/93
>    BB   10/18/1893
>    CC   10/18/2093",header=TRUE)
>
> addFormats(c("%d-%m-%y"))
> addFormats(c("%m-%d-%y"))
> addFormats(c("%Y/%d/%m"))
> addFormats(c("%m/%d/%y"))
>
> DFX$anew=adjustCentury(DFX$ddate, start = "1921-01-01")
> DFX
> #>   name      ddate       anew
> #> 1    A   19-10-02 2019-10-02
> #> 2    D 11/19/2006 2006-11-19
> #> 3    F   9/9/2011 2011-09-09
> #> 4   G1 12/29/2010 2010-12-29
> #> 5   AA   10/18/93 1993-10-18
> #> 6   BB 10/18/1893 1893-10-18
> #> 7   CC 10/18/2093 2093-10-18


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Wed Feb 17 22:09:13 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David)
Date: Wed, 17 Feb 2021 21:09:13 +0000
Subject: [R] Concatenation?
Message-ID: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>

If I have a vector of site abbreviations and a vector of depths in those water bodies, is there a simple way in R to combine them to make a third vector?
Examples:

site	depth		desired
MU	0		MU0
MU	1		MU1
MU	2		MU2
MC	0		MC0
MC	1		MC1
MC	2		MC2

The dataset has many more lines than this.? I can see how to do this with lots of if statements, but does R have magic that can make it happen easily?? I guess this would be called concatenation.?


From er|cjberger @end|ng |rom gm@||@com  Wed Feb 17 22:17:40 2021
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Wed, 17 Feb 2021 23:17:40 +0200
Subject: [R] Concatenation?
In-Reply-To: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <CAGgJW760EnJ55zkgLYwW9EjGs9rr4Nr9Xh-gphmHztmHGh40Jg@mail.gmail.com>

desired <- paste(site,depth,sep="")

On Wed, Feb 17, 2021 at 11:10 PM Parkhurst, David <parkhurs at indiana.edu>
wrote:

> If I have a vector of site abbreviations and a vector of depths in those
> water bodies, is there a simple way in R to combine them to make a third
> vector?
> Examples:
>
> site    depth           desired
> MU      0               MU0
> MU      1               MU1
> MU      2               MU2
> MC      0               MC0
> MC      1               MC1
> MC      2               MC2
>
> The dataset has many more lines than this.  I can see how to do this with
> lots of if statements, but does R have magic that can make it happen
> easily?  I guess this would be called concatenation.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From rmh @end|ng |rom temp|e@edu  Wed Feb 17 22:21:23 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Wed, 17 Feb 2021 21:21:23 +0000
Subject: [R] [External]  Concatenation?
In-Reply-To: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <CO1PR11MB5107BF11B76A4D313F9863D5D2869@CO1PR11MB5107.namprd11.prod.outlook.com>

> paste(c("A","B","C"), c(1,2,3), sep="")
[1] "A1" "B2" "C3"

in your example
paste(site, depth, sep="")

________________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Parkhurst, David <parkhurs at indiana.edu>
Sent: Wednesday, February 17, 2021 4:09 PM
To: r-help at r-project.org
Subject: [External] [R] Concatenation?

If I have a vector of site abbreviations and a vector of depths in those water bodies, is there a simple way in R to combine them to make a third vector?
Examples:

site    depth           desired
MU      0               MU0
MU      1               MU1
MU      2               MU2
MC      0               MC0
MC      1               MC1
MC      2               MC2

The dataset has many more lines than this.  I can see how to do this with lots of if statements, but does R have magic that can make it happen easily?  I guess this would be called concatenation.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Wed Feb 17 22:24:40 2021
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David)
Date: Wed, 17 Feb 2021 21:24:40 +0000
Subject: [R] [External]  Concatenation?
In-Reply-To: <CO1PR11MB5107BF11B76A4D313F9863D5D2869@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>,
 <CO1PR11MB5107BF11B76A4D313F9863D5D2869@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <BN7PR08MB411469026A15009BC48C55DCD0869@BN7PR08MB4114.namprd08.prod.outlook.com>

Thank you.

From: Richard M. Heiberger <rmh at temple.edu>
Date: Wednesday, February 17, 2021 at 4:21 PM
To: Parkhurst, David <parkhurs at indiana.edu>, r-help at r-project.org <r-help at r-project.org>
Subject: Re: [External] [R] Concatenation?
> paste(c("A","B","C"), c(1,2,3), sep="")
[1] "A1" "B2" "C3"

in your example
paste(site, depth, sep="")

________________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Parkhurst, David <parkhurs at indiana.edu>
Sent: Wednesday, February 17, 2021 4:09 PM
To: r-help at r-project.org
Subject: [External] [R] Concatenation?

If I have a vector of site abbreviations and a vector of depths in those water bodies, is there a simple way in R to combine them to make a third vector?
Examples:

site    depth           desired
MU      0               MU0
MU      1               MU1
MU      2               MU2
MC      0               MC0
MC      1               MC1
MC      2               MC2

The dataset has many more lines than this.  I can see how to do this with lots of if statements, but does R have magic that can make it happen easily?  I guess this would be called concatenation.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Wed Feb 17 22:29:44 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 17 Feb 2021 13:29:44 -0800
Subject: [R] [External] Concatenation?
In-Reply-To: <BN7PR08MB411469026A15009BC48C55DCD0869@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
 <CO1PR11MB5107BF11B76A4D313F9863D5D2869@CO1PR11MB5107.namprd11.prod.outlook.com>
 <BN7PR08MB411469026A15009BC48C55DCD0869@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <CAGxFJbQ_Lj7fbp=vt9OOMxxSiic3vsF2BqypN47en_7VfT5n7w@mail.gmail.com>

... or simply
> paste0(c("A","B","C"), c(1,2,3))
[1] "A1" "B2" "C3"

See ?paste for other useful options.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Feb 17, 2021 at 1:26 PM Parkhurst, David <parkhurs at indiana.edu>
wrote:

> Thank you.
>
> From: Richard M. Heiberger <rmh at temple.edu>
> Date: Wednesday, February 17, 2021 at 4:21 PM
> To: Parkhurst, David <parkhurs at indiana.edu>, r-help at r-project.org <
> r-help at r-project.org>
> Subject: Re: [External] [R] Concatenation?
> > paste(c("A","B","C"), c(1,2,3), sep="")
> [1] "A1" "B2" "C3"
>
> in your example
> paste(site, depth, sep="")
>
> ________________________________________
> From: R-help <r-help-bounces at r-project.org> on behalf of Parkhurst, David
> <parkhurs at indiana.edu>
> Sent: Wednesday, February 17, 2021 4:09 PM
> To: r-help at r-project.org
> Subject: [External] [R] Concatenation?
>
> If I have a vector of site abbreviations and a vector of depths in those
> water bodies, is there a simple way in R to combine them to make a third
> vector?
> Examples:
>
> site    depth           desired
> MU      0               MU0
> MU      1               MU1
> MU      2               MU2
> MC      0               MC0
> MC      1               MC1
> MC      2               MC2
>
> The dataset has many more lines than this.  I can see how to do this with
> lots of if statements, but does R have magic that can make it happen
> easily?  I guess this would be called concatenation.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @@m@n|@cm@ @end|ng |rom gm@||@com  Thu Feb 18 06:32:37 2021
From: @@m@n|@cm@ @end|ng |rom gm@||@com (A. Mani)
Date: Thu, 18 Feb 2021 11:02:37 +0530
Subject: [R] ddply/tapply and set function
In-Reply-To: <CAGxFJbRAgT22vjx7guWrS1TxwZ-Q32cubBmB6RbcEFE=R6fArQ@mail.gmail.com>
References: <CADDQFRtF15J9eSq6WMJNKEQAKHOG8sBuDJX0Oi8wYw_NSesT-A@mail.gmail.com>
 <CA+8X3fU9U+BfsyqTBixANemC+cd-wF4g5qnzcwiVXOC9JFetzQ@mail.gmail.com>
 <CADDQFRtP=BzKc1SA35+zx29XV-3BqQHEYbyktF4ZfRz_YD8LbQ@mail.gmail.com>
 <CAGxFJbRAgT22vjx7guWrS1TxwZ-Q32cubBmB6RbcEFE=R6fArQ@mail.gmail.com>
Message-ID: <CADDQFRvut4sW8DH0VyKZa-s8o_hU_s86_8nm0zbrz2pMPawjZg@mail.gmail.com>

Update:
The whole problem was due to set() from library sets.
'sets' is not a very consistent package, and users should be warned.

Set$new() and as.Set() from set6 work in a predictable, object-oriented way.

Thanks and Best

A Mani

Prof.Dr.(Miss) A Mani
ASL, AMS, ISRS, CLC, CMS, MTA
Senior Member, International Rough Set Society
Research Scientist, Indian Statistical Institute, Kolkata
Formerly HBCSE, TIFR, CU.
Homepage: https://www.logicamani.in
Blog: https://logicamani.blogspot.in/
Research Gate: https://www.researchgate.net/profile/Mani_A
sip:girlprofessor at ekiga.net
Pronouns: She/Her/Hers

On Wed, Feb 17, 2021 at 9:50 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> df <- data.frame(X1 = c(1,1,1,2,2), X2 = c(1,5,7,3,8))
> > df
>   X1 X2
> 1  1  1
> 2  1  5
> 3  1  7
> 4  2  3
> 5  2  8
> > v <- with(df, tapply(X2, X1, c))
> ## v is a list, and I would work directly with this rather than converting to a data.frame. But if you insist:
>
> > df2 <- data.frame(v, row.names = names(v))
> > df2[1,1] ## produces a **list** with a single component containing the vector c(1,5,7)
> [[1]]
> [1] 1 5 7
>
> > df2[[1,1]] ## produces a vector -- note doubled brackets
> [1] 1 5 7
>
>
> Cheers,
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Wed, Feb 17, 2021 at 6:50 AM A. Mani <a.mani.cms at gmail.com> wrote:
>>
>> The original data frame can be like
>> Type   Id
>> 1         1
>> 1         5
>> 1         7
>> 2         3
>> 2         8
>> ..        ....
>>
>> tapply(Id,Type,set) will yield the sets correctly (assuming the data
>> frame is attached) but not a data frame of the form mentioned.
>>
>> A similar ddply command does not work at all with the function 'set'
>> (while 'mean' etc work fine)
>>
>> Thanks and Best
>>
>> A Mani
>>
>> Prof.Dr.(Miss) A Mani
>> ASL, AMS, ISRS, CLC, CMS, MTA
>> Senior Member, International Rough Set Society
>> Research Scientist, Indian Statistical Institute, Kolkata
>> Formerly HBCSE, TIFR, CU.
>> Homepage: https://www.logicamani.in
>> Blog: https://logicamani.blogspot.in/
>> Research Gate: https://www.researchgate.net/profile/Mani_A
>> sip:girlprofessor at ekiga.net
>> Pronouns: She/Her/Hers
>>
>> On Wed, Feb 17, 2021 at 4:24 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>> >
>> > Hi  A,
>> > I'm unable to work out what you are using as input. Maybe:
>> >
>> > id<-data.frame(Type=c(1,2,1,1,2),set=c(1,3,5,7,8))
>> >
>> > but that doesn't work with your
>> >
>> > tapply(id,Type,set)
>> >
>> > command. Perhaps a bit more detail?
>> >
>> > Jim
>> >
>> >
>> >
>> > On Wed, Feb 17, 2021 at 7:48 PM A. Mani <a.mani.cms at gmail.com> wrote:
>> > >
>> > > I want a data frame (derived from another data frame) of the form
>> > >
>> > > Type   Set
>> > > 1         {1,5, 7}
>> > > 2         {3,8)
>> > > ..        ....
>> > >
>> > > tapply(Id,Type, set) works, but does not yield a data frame.
>> > > 'set' is from package set/set6/etc
>> > > ddply does not seem to work with the function.
>> > > How should I proceed with this optimally?
>> > >
>> > >
>> > > Thanks and Best
>> > >
>> > > A Mani
>> > >
>> > > Prof.Dr.(Miss) A Mani
>> > > ASL, AMS, ISRS, CLC, CMS, MTA
>> > > Senior Member, International Rough Set Society
>> > > Research Scientist, Indian Statistical Institute, Kolkata
>> > > Formerly HBCSE, TIFR, CU.
>> > > Homepage: https://www.logicamani.in
>> > > Blog: https://logicamani.blogspot.in/
>> > > Research Gate: https://www.researchgate.net/profile/Mani_A
>> > > sip:girlprofessor at ekiga.net
>> > > Pronouns: She/Her/Hers
>> > >
>> > > ______________________________________________
>> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> > > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From pik@pp@@devei m@iii@g oii gm@ii@com  Wed Feb 17 22:22:53 2021
From: pik@pp@@devei m@iii@g oii gm@ii@com (pik@pp@@devei m@iii@g oii gm@ii@com)
Date: Wed, 17 Feb 2021 22:22:53 +0100
Subject: [R] Concatenation?
In-Reply-To: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB41140EDAD4307517B81D8825D0869@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <7c5696929a3a203a3d51162bc31f3630556c5a43.camel@gmail.com>

How about paste?
site <- c('MU','MU','MU','MC','MC','MC')depth <-
c(0,1,2,0,1,2)paste(site, depth, sep="")
result:
[1] "MU0" "MU1" "MU2" "MC0" "MC1" "MC2"
On Wed, 2021-02-17 at 21:09 +0000, Parkhurst, David wrote:
> If I have a vector of site abbreviations and a vector of depths in
> those water bodies, is there a simple way in R to combine them to
> make a third vector?Examples:
> site	depth		desiredMU	0		MU0MU	1	
> 	MU1MU	2		MU2MC	0		MC0MC	1	
> 	MC1MC	2		MC2
> The dataset has many more lines than this.  I can see how to do this
> with lots of if statements, but does R have magic that can make it
> happen easily?  I guess this would be called concatenation. 
> ______________________________________________R-help at r-project.org
> mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From gerr|t@e|chner @end|ng |rom m@th@un|-g|e@@en@de  Thu Feb 18 09:50:22 2021
From: gerr|t@e|chner @end|ng |rom m@th@un|-g|e@@en@de (Gerrit Eichner)
Date: Thu, 18 Feb 2021 09:50:22 +0100
Subject: [R] Fwd:  Concatenation?
In-Reply-To: <560ea145-101d-132a-2129-c9a3e73b662e@math.uni-giessen.de>
References: <560ea145-101d-132a-2129-c9a3e73b662e@math.uni-giessen.de>
Message-ID: <8f19db7b-5922-eb47-f70e-9b2a58c11508@math.uni-giessen.de>

[I forgot to keep it on the list.]

-------- Weitergeleitete Nachricht --------
Betreff: Re: [R] Concatenation?
Datum: Wed, 17 Feb 2021 22:14:13 +0100
Von: Gerrit Eichner <gerrit.eichner at math.uni-giessen.de>
Organisation: JLU Gie?en
An: Parkhurst, David <parkhurs at indiana.edu>

Hi David,

checkout, e. g., base-R's

paste0(site, depth)

or, if stored as columns of a matrix or data frame X, e.g.,

apply(X, 1, paste0)

or, e.g., tidyr's

unite.

  Hth  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
Fax: +49-(0)641-99-32109            http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

Am 17.02.2021 um 22:09 schrieb Parkhurst, David:
> If I have a vector of site abbreviations and a vector of depths in those water bodies, is there a simple way in R to combine them to make a third vector?
> Examples:
> 
> site	depth		desired
> MU	0		MU0
> MU	1		MU1
> MU	2		MU2
> MC	0		MC0
> MC	1		MC1
> MC	2		MC2
> 
> The dataset has many more lines than this.? I can see how to do this with lots of if statements, but does R have magic that can make it happen easily?? I guess this would be called concatenation.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb 18 17:08:25 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 18 Feb 2021 08:08:25 -0800
Subject: [R] Fwd: Concatenation?
In-Reply-To: <8f19db7b-5922-eb47-f70e-9b2a58c11508@math.uni-giessen.de>
References: <560ea145-101d-132a-2129-c9a3e73b662e@math.uni-giessen.de>
 <8f19db7b-5922-eb47-f70e-9b2a58c11508@math.uni-giessen.de>
Message-ID: <CAGxFJbT3x8hEx9OX61kr023+4F-SD7Q6eGSU2F1WkS5JypLxgQ@mail.gmail.com>

Inline comment below.
Cheers,
Bert

Bert Gunter

"....
or, if stored as columns of a matrix or data frame X, e.g.,

>
> ##############

> apply(X, 1, paste0)
>
##############
"
No. paste() is vectorized.  apply() can be avoided:
> df  <- data.frame(X1 = letters[1:3],
                 X2 = 5:7,
                 X3 = LETTERS[1:3]
)
> df
  X1 X2 X3
1  a  5  A
2  b  6  B
3  c  7  C

> do.call(paste0, df)
[1] "a5A" "b6B" "c7C"



  Hth  --  Gerrit
>
> ---------------------------------------------------------------------
> Dr. Gerrit Eichner                   Mathematical Institute, Room 212
> gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
> Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
> Fax: +49-(0)641-99-32109            http://www.uni-giessen.de/eichner
> ---------------------------------------------------------------------
>
> Am 17.02.2021 um 22:09 schrieb Parkhurst, David:
> > If I have a vector of site abbreviations and a vector of depths in those
> water bodies, is there a simple way in R to combine them to make a third
> vector?
> > Examples:
> >
> > site  depth           desired
> > MU    0               MU0
> > MU    1               MU1
> > MU    2               MU2
> > MC    0               MC0
> > MC    1               MC1
> > MC    2               MC2
> >
> > The dataset has many more lines than this.  I can see how to do this
> with lots of if statements, but does R have magic that can make it happen
> easily?  I guess this would be called concatenation.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From gerr|t@e|chner @end|ng |rom m@th@un|-g|e@@en@de  Thu Feb 18 18:01:28 2021
From: gerr|t@e|chner @end|ng |rom m@th@un|-g|e@@en@de (Gerrit Eichner)
Date: Thu, 18 Feb 2021 18:01:28 +0100
Subject: [R] Fwd: Concatenation?
In-Reply-To: <CAGxFJbT3x8hEx9OX61kr023+4F-SD7Q6eGSU2F1WkS5JypLxgQ@mail.gmail.com>
References: <560ea145-101d-132a-2129-c9a3e73b662e@math.uni-giessen.de>
 <8f19db7b-5922-eb47-f70e-9b2a58c11508@math.uni-giessen.de>
 <CAGxFJbT3x8hEx9OX61kr023+4F-SD7Q6eGSU2F1WkS5JypLxgQ@mail.gmail.com>
Message-ID: <6b8e7231-b0a3-37d3-1d60-598b5bdcdbdc@math.uni-giessen.de>

Right, Bert, but not if X is "only"  matrix. ;-)

 > X <- cbind(X1 = letters[1:3],
            X2 = 5:7,
            X3 = LETTERS[1:3]
)
 > do.call(paste0, X)
Fehler in do.call(paste0, X) : das zweite Argument muss eine Liste sein

(Sorry, but my system is German. :-))

But, of course, then, e.g.,

do.call(paste0, data.frame(X))

would work.

  Best  --  Gerrit

---------------------------------------------------------------------
Dr. Gerrit Eichner                   Mathematical Institute, Room 212
gerrit.eichner at math.uni-giessen.de   Justus-Liebig-University Giessen
Tel: +49-(0)641-99-32104          Arndtstr. 2, 35392 Giessen, Germany
http://www.uni-giessen.de/eichner
---------------------------------------------------------------------

Am 18.02.2021 um 17:08 schrieb Bert Gunter:
> Inline comment below.
> Cheers,
> Bert
> 
> Bert Gunter
> 
> "....
> or, if stored as columns of a matrix or data frame X, e.g.,
> 
> 
> ##############
> 
>     apply(X, 1, paste0)
> 
> ##############
> "
> No. paste() is vectorized. apply() can be avoided:
>> df? <- data.frame(X1 = letters[1:3],
>  ? ? ? ? ? ? ? ?? X2 = 5:7,
>  ? ? ? ? ? ? ? ? ?X3 = LETTERS[1:3]
> )
>> df
>  ? X1 X2 X3
> 1 ?a ?5 ?A
> 2 ?b ?6 ?B
> 3 ?c ?7 ?C
> 
>> do.call(paste0, df)
> [1] "a5A" "b6B" "c7C"
> 
> 
> 
>      ? Hth? --? Gerrit
> 
>     ---------------------------------------------------------------------
>     Dr. Gerrit Eichner? ? ? ? ? ? ? ? ? ?Mathematical Institute, Room 212
>     gerrit.eichner at math.uni-giessen.de
>     <mailto:gerrit.eichner at math.uni-giessen.de> 
>      ?Justus-Liebig-University Giessen
>     Tel: +49-(0)641-99-32104? ? ? ? ? Arndtstr. 2, 35392 Giessen, Germany
>     Fax: +49-(0)641-99-32109 http://www.uni-giessen.de/eichner
>     <http://www.uni-giessen.de/eichner>
>     ---------------------------------------------------------------------
> 
>     Am 17.02.2021 um 22:09 schrieb Parkhurst, David:
>      > If I have a vector of site abbreviations and a vector of depths
>     in those water bodies, is there a simple way in R to combine them to
>     make a third vector?
>      > Examples:
>      >
>      > site? depth? ? ? ? ? ?desired
>      > MU? ? 0? ? ? ? ? ? ? ?MU0
>      > MU? ? 1? ? ? ? ? ? ? ?MU1
>      > MU? ? 2? ? ? ? ? ? ? ?MU2
>      > MC? ? 0? ? ? ? ? ? ? ?MC0
>      > MC? ? 1? ? ? ? ? ? ? ?MC1
>      > MC? ? 2? ? ? ? ? ? ? ?MC2
>      >
>      > The dataset has many more lines than this.? I can see how to do
>     this with lots of if statements, but does R have magic that can make
>     it happen easily?? I guess this would be called concatenation.
>      >
>      > ______________________________________________
>      > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     -- To UNSUBSCRIBE and more, see
>      > https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>      > PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>      > and provide commented, minimal, self-contained, reproducible code.
>      >
> 
>     ______________________________________________
>     R-help at r-project.org <mailto:R-help at r-project.org> mailing list --
>     To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     <https://stat.ethz.ch/mailman/listinfo/r-help>
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>     and provide commented, minimal, self-contained, reproducible code.
>


From |zm|r||g @end|ng |rom m@||@n|h@gov  Thu Feb 18 18:37:34 2021
From: |zm|r||g @end|ng |rom m@||@n|h@gov (Izmirlian, Grant (NIH/NCI) [E])
Date: Thu, 18 Feb 2021 17:37:34 +0000
Subject: [R] New line in caption with math symbols embedded in expression
 (paste(
Message-ID: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>

## I am using ggplot and trying to produce a caption containing math symbols. I need to
## add a second line. I did a fair amount of googling for answers. This one seemed like
## it would answer my question as it is nearly exactly my problem, except there is only
## one argument to the paste function. Note that my example is a complete minimal
## example, just a scatterplot with a line, and the caption content seems to not have
## anything to do with the plot. That is of course, intentional.
##
## https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression

library(ggplot2)
X <- 10*runif(100)
Y <- 2*X + rnorm(100, sd=2)
fit <- lm(Y~X)
Y.p <- predict(fit, newdata=data.frame(X=X))
DAT <- data.frame(X=X)

## without a newline
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## newline, method 1, just add a new component of paste containing "\n" somewhere in the middle
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)",
                        "and \n a new line")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## doesn't work because the newline affects only the last component of paste. It looks like new line
## works if the line is long enough, but the newline character is being parsed until the individual
## arguments to paste are parsed for math symbols but prior to pasting the components together. prior
## to pasting all arguments. I can't imagine why this would be the desired behavior. When the value of a
## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for a newline character should
## occur after the components are pasted together, right?

## newline, method 2, enclose paste in another paste and add the new line as the second argument of the
## outer paste
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)"),
                        "and \n a new line")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## which has the same behavior


	[[alternative HTML version deleted]]


From robert@dod|er @end|ng |rom gm@||@com  Thu Feb 18 18:50:28 2021
From: robert@dod|er @end|ng |rom gm@||@com (Robert Dodier)
Date: Thu, 18 Feb 2021 09:50:28 -0800
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
Message-ID: <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>

Hi, a quick follow-up about the question about putting R-generated
figures into MS Word.

I have found by experimenting with some figures and documents that if
I import an SVG figure generated by svglite (didn't try other output
functions), I can view it okay in my installation of MS Word (Word for
Mac 16.16.10), and it looks okay in MS Word for Windows (circa 2016 or
2018) on a laptop I have, and two other people can view it okay (one
on Mac and one on Windows). So that seems safe enough to go ahead.
YMMV.

I am informed that MS Word is actually storing a bitmap image of the
SVG figure, which is displayed by non-SVG-aware versions of Word. So
that seems like a good safeguard.

For the record, I converted the SVG to EPS, PNG, PDF, WMF, and EMF via
Imagemagick. EPS and PNG were tolerable, PDF was too fuzzy, and WMF
and EMF, at least as generated, could not be displayed (I was a little
surprised by that). There are, no doubt, many unanswered questions
here, which unfortunately I cannot take the time to explore right now.

In summary I found that importing SVG generated by svglite into MS
Word for Mac seems to work okay to generate a generally-readable file.
Perhaps this experience is useful in some way to others.

best,

Robert Dodier


From kev|n@thorpe @end|ng |rom utoronto@c@  Thu Feb 18 19:12:31 2021
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin Thorpe)
Date: Thu, 18 Feb 2021 18:12:31 +0000
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
 <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
Message-ID: <C3398855-529D-48D3-9D63-E2197E640C2B@utoronto.ca>

I did not see the original thread so this may have been discussed.

I would think that it would be more seamless to use Rmarkdown.
Simply put the plotting code into an Rmarkdown file and send it
straight to Word. Is there a reason why this is not a viable option?

-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016

> On Feb 18, 2021, at 12:50 PM, Robert Dodier <robert.dodier at gmail.com> wrote:
> 
> EXTERNAL EMAIL:
> 
> Hi, a quick follow-up about the question about putting R-generated
> figures into MS Word.
> 
> I have found by experimenting with some figures and documents that if
> I import an SVG figure generated by svglite (didn't try other output
> functions), I can view it okay in my installation of MS Word (Word for
> Mac 16.16.10), and it looks okay in MS Word for Windows (circa 2016 or
> 2018) on a laptop I have, and two other people can view it okay (one
> on Mac and one on Windows). So that seems safe enough to go ahead.
> YMMV.
> 
> I am informed that MS Word is actually storing a bitmap image of the
> SVG figure, which is displayed by non-SVG-aware versions of Word. So
> that seems like a good safeguard.
> 
> For the record, I converted the SVG to EPS, PNG, PDF, WMF, and EMF via
> Imagemagick. EPS and PNG were tolerable, PDF was too fuzzy, and WMF
> and EMF, at least as generated, could not be displayed (I was a little
> surprised by that). There are, no doubt, many unanswered questions
> here, which unfortunately I cannot take the time to explore right now.
> 
> In summary I found that importing SVG generated by svglite into MS
> Word for Mac seems to work okay to generate a generally-readable file.
> Perhaps this experience is useful in some way to others.
> 
> best,
> 
> Robert Dodier
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb 18 19:42:09 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 18 Feb 2021 10:42:09 -0800
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
Message-ID: <CAGxFJbQjfxXEjNyMpCoV1iP-jK+UbPvEUJSpH1pOD3HOJtEv=g@mail.gmail.com>

Note, from ?plotmath:

"Control characters (e.g., \n) are not interpreted in character strings in
plotmath, unlike normal plotting."

For this reason, as best I can tell, you need to fool with plotmath's
"atop" command or do separate "labs" calls.  This post seems to confirm
that opinion:

https://stackoverflow.com/questions/29112697/adding-a-newline-in-a-substitute-expression

I certainly would welcome a better alternative.

Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Feb 18, 2021 at 9:37 AM Izmirlian, Grant (NIH/NCI) [E] via R-help <
r-help at r-project.org> wrote:

> ## I am using ggplot and trying to produce a caption containing math
> symbols. I need to
> ## add a second line. I did a fair amount of googling for answers. This
> one seemed like
> ## it would answer my question as it is nearly exactly my problem, except
> there is only
> ## one argument to the paste function. Note that my example is a complete
> minimal
> ## example, just a scatterplot with a line, and the caption content seems
> to not have
> ## anything to do with the plot. That is of course, intentional.
> ##
> ##
> https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
>
> library(ggplot2)
> X <- 10*runif(100)
> Y <- 2*X + rnorm(100, sd=2)
> fit <- lm(Y~X)
> Y.p <- predict(fit, newdata=data.frame(X=X))
> DAT <- data.frame(X=X)
>
> ## without a newline
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## newline, method 1, just add a new component of paste containing "\n"
> somewhere in the middle
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)",
>                         "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## doesn't work because the newline affects only the last component of
> paste. It looks like new line
> ## works if the line is long enough, but the newline character is being
> parsed until the individual
> ## arguments to paste are parsed for math symbols but prior to pasting the
> components together. prior
> ## to pasting all arguments. I can't imagine why this would be the desired
> behavior. When the value of a
> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for
> a newline character should
> ## occur after the components are pasted together, right?
>
> ## newline, method 2, enclose paste in another paste and add the new line
> as the second argument of the
> ## outer paste
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)"),
>                         "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## which has the same behavior
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb 18 19:46:48 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 18 Feb 2021 10:46:48 -0800
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <CAGxFJbQjfxXEjNyMpCoV1iP-jK+UbPvEUJSpH1pOD3HOJtEv=g@mail.gmail.com>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
 <CAGxFJbQjfxXEjNyMpCoV1iP-jK+UbPvEUJSpH1pOD3HOJtEv=g@mail.gmail.com>
Message-ID: <CAGxFJbT3S+rqsKz95xgaYQA9tXt0gP0Ni4Gd8G1k08mmJTu2XQ@mail.gmail.com>

See also this:

https://cran.r-project.org/web/packages/latex2exp/vignettes/using-latex2exp.html


Bert


On Thu, Feb 18, 2021 at 10:42 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Note, from ?plotmath:
>
> "Control characters (e.g., \n) are not interpreted in character strings in
> plotmath, unlike normal plotting."
>
> For this reason, as best I can tell, you need to fool with plotmath's
> "atop" command or do separate "labs" calls.  This post seems to confirm
> that opinion:
>
>
> https://stackoverflow.com/questions/29112697/adding-a-newline-in-a-substitute-expression
>
> I certainly would welcome a better alternative.
>
> Cheers,
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Thu, Feb 18, 2021 at 9:37 AM Izmirlian, Grant (NIH/NCI) [E] via R-help <
> r-help at r-project.org> wrote:
>
>> ## I am using ggplot and trying to produce a caption containing math
>> symbols. I need to
>> ## add a second line. I did a fair amount of googling for answers. This
>> one seemed like
>> ## it would answer my question as it is nearly exactly my problem, except
>> there is only
>> ## one argument to the paste function. Note that my example is a complete
>> minimal
>> ## example, just a scatterplot with a line, and the caption content seems
>> to not have
>> ## anything to do with the plot. That is of course, intentional.
>> ##
>> ##
>> https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
>>
>> library(ggplot2)
>> X <- 10*runif(100)
>> Y <- 2*X + rnorm(100, sd=2)
>> fit <- lm(Y~X)
>> Y.p <- predict(fit, newdata=data.frame(X=X))
>> DAT <- data.frame(X=X)
>>
>> ## without a newline
>> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
>> geom_line(aes(y=Y.p))
>> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>>                         "for 'FDR' and 'Auto' FDP control method, vs '",
>> m,
>>                         "' at levels of 'eff size' (col) and '", p[1], "'
>> (row)")))
>> p <- p + theme(plot.caption = element_text(hjust = 0))
>>
>> ## newline, method 1, just add a new component of paste containing "\n"
>> somewhere in the middle
>> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
>> geom_line(aes(y=Y.p))
>> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>>                         "for 'FDR' and 'Auto' FDP control method, vs '",
>> m,
>>                         "' at levels of 'eff size' (col) and '", p[1], "'
>> (row)",
>>                         "and \n a new line")))
>> p <- p + theme(plot.caption = element_text(hjust = 0))
>>
>> ## doesn't work because the newline affects only the last component of
>> paste. It looks like new line
>> ## works if the line is long enough, but the newline character is being
>> parsed until the individual
>> ## arguments to paste are parsed for math symbols but prior to pasting
>> the components together. prior
>> ## to pasting all arguments. I can't imagine why this would be the
>> desired behavior. When the value of a
>> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing
>> for a newline character should
>> ## occur after the components are pasted together, right?
>>
>> ## newline, method 2, enclose paste in another paste and add the new line
>> as the second argument of the
>> ## outer paste
>> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
>> geom_line(aes(y=Y.p))
>> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>>                         "for 'FDR' and 'Auto' FDP control method, vs '",
>> m,
>>                         "' at levels of 'eff size' (col) and '", p[1], "'
>> (row)"),
>>                         "and \n a new line")))
>> p <- p + theme(plot.caption = element_text(hjust = 0))
>>
>> ## which has the same behavior
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From |zm|r||g @end|ng |rom m@||@n|h@gov  Thu Feb 18 19:50:58 2021
From: |zm|r||g @end|ng |rom m@||@n|h@gov (Izmirlian, Grant (NIH/NCI) [E])
Date: Thu, 18 Feb 2021 18:50:58 +0000
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <CAGxFJbT3S+rqsKz95xgaYQA9tXt0gP0Ni4Gd8G1k08mmJTu2XQ@mail.gmail.com>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
 <CAGxFJbQjfxXEjNyMpCoV1iP-jK+UbPvEUJSpH1pOD3HOJtEv=g@mail.gmail.com>
 <CAGxFJbT3S+rqsKz95xgaYQA9tXt0gP0Ni4Gd8G1k08mmJTu2XQ@mail.gmail.com>
Message-ID: <SA0PR09MB695501CE8535435C82D062DCE5859@SA0PR09MB6955.namprd09.prod.outlook.com>

Thank you for your suggestions. So you?re suggesting I bypass the ggplot symbol parsing by passing a character string to caption which has latex2exp in it. Good idea. So in this approach, I should break the string into new lines via ?atop??
Thanks


From: Bert Gunter <bgunter.4567 at gmail.com>
Sent: Thursday, February 18, 2021 1:47 PM
To: Izmirlian, Grant (NIH/NCI) [E] <izmirlig at mail.nih.gov>
Cc: r-help at r-project.org
Subject: Re: [R] New line in caption with math symbols embedded in expression (paste(

See also this:

https://cran.r-project.org/web/packages/latex2exp/vignettes/using-latex2exp.html


Bert


On Thu, Feb 18, 2021 at 10:42 AM Bert Gunter <bgunter.4567 at gmail.com<mailto:bgunter.4567 at gmail.com>> wrote:
Note, from ?plotmath:

"Control characters (e.g., \n) are not interpreted in character strings in plotmath, unlike normal plotting."

For this reason, as best I can tell, you need to fool with plotmath's "atop" command or do separate "labs" calls.  This post seems to confirm that opinion:

https://stackoverflow.com/questions/29112697/adding-a-newline-in-a-substitute-expression

I certainly would welcome a better alternative.

Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Feb 18, 2021 at 9:37 AM Izmirlian, Grant (NIH/NCI) [E] via R-help <r-help at r-project.org<mailto:r-help at r-project.org>> wrote:
## I am using ggplot and trying to produce a caption containing math symbols. I need to
## add a second line. I did a fair amount of googling for answers. This one seemed like
## it would answer my question as it is nearly exactly my problem, except there is only
## one argument to the paste function. Note that my example is a complete minimal
## example, just a scatterplot with a line, and the caption content seems to not have
## anything to do with the plot. That is of course, intentional.
##
## https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression

library(ggplot2)
X <- 10*runif(100)
Y <- 2*X + rnorm(100, sd=2)
fit <- lm(Y~X)
Y.p <- predict(fit, newdata=data.frame(X=X))
DAT <- data.frame(X=X)

## without a newline
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## newline, method 1, just add a new component of paste containing "\n" somewhere in the middle
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)",
                        "and \n a new line")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## doesn't work because the newline affects only the last component of paste. It looks like new line
## works if the line is long enough, but the newline character is being parsed until the individual
## arguments to paste are parsed for math symbols but prior to pasting the components together. prior
## to pasting all arguments. I can't imagine why this would be the desired behavior. When the value of a
## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for a newline character should
## occur after the components are pasted together, right?

## newline, method 2, enclose paste in another paste and add the new line as the second argument of the
## outer paste
p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
                        "for 'FDR' and 'Auto' FDP control method, vs '", m,
                        "' at levels of 'eff size' (col) and '", p[1], "' (row)"),
                        "and \n a new line")))
p <- p + theme(plot.caption = element_text(hjust = 0))

## which has the same behavior


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org<mailto:R-help at r-project.org> mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb 18 19:56:35 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 18 Feb 2021 10:56:35 -0800
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <SA0PR09MB695501CE8535435C82D062DCE5859@SA0PR09MB6955.namprd09.prod.outlook.com>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
 <CAGxFJbQjfxXEjNyMpCoV1iP-jK+UbPvEUJSpH1pOD3HOJtEv=g@mail.gmail.com>
 <CAGxFJbT3S+rqsKz95xgaYQA9tXt0gP0Ni4Gd8G1k08mmJTu2XQ@mail.gmail.com>
 <SA0PR09MB695501CE8535435C82D062DCE5859@SA0PR09MB6955.namprd09.prod.outlook.com>
Message-ID: <CAGxFJbRKNnGx5w9wvYv3MxB-wZdd9Dku3MtB3+EaniA8VxLoMw@mail.gmail.com>

To be clear: I have tried none of this, and so cannot offer detailed useful
advice. Just passing along what I found (though I have done it with "atop"
in the dim, dark past). Let us know what works best for you if you find
something that does.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Feb 18, 2021 at 10:51 AM Izmirlian, Grant (NIH/NCI) [E] <
izmirlig at mail.nih.gov> wrote:

> Thank you for your suggestions. So you?re suggesting I bypass the ggplot
> symbol parsing by passing a character string to caption which has latex2exp
> in it. Good idea. So in this approach, I should break the string into new
> lines via ?atop??
>
> Thanks
>
>
>
>
>
> *From:* Bert Gunter <bgunter.4567 at gmail.com>
> *Sent:* Thursday, February 18, 2021 1:47 PM
> *To:* Izmirlian, Grant (NIH/NCI) [E] <izmirlig at mail.nih.gov>
> *Cc:* r-help at r-project.org
> *Subject:* Re: [R] New line in caption with math symbols embedded in
> expression (paste(
>
>
>
> See also this:
>
>
>
>
> https://cran.r-project.org/web/packages/latex2exp/vignettes/using-latex2exp.html
>
>
>
>
>
> Bert
>
>
>
>
>
> On Thu, Feb 18, 2021 at 10:42 AM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
> Note, from ?plotmath:
>
>
>
> "Control characters (e.g., \n) are not interpreted in character strings in
> plotmath, unlike normal plotting."
>
>
>
> For this reason, as best I can tell, you need to fool with plotmath's
> "atop" command or do separate "labs" calls.  This post seems to confirm
> that opinion:
>
>
>
>
> https://stackoverflow.com/questions/29112697/adding-a-newline-in-a-substitute-expression
>
>
>
> I certainly would welcome a better alternative.
>
>
>
> Cheers,
>
> Bert Gunter
>
>
> "The trouble with having an open mind is that people keep coming along and
> sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
>
>
>
> On Thu, Feb 18, 2021 at 9:37 AM Izmirlian, Grant (NIH/NCI) [E] via R-help <
> r-help at r-project.org> wrote:
>
> ## I am using ggplot and trying to produce a caption containing math
> symbols. I need to
> ## add a second line. I did a fair amount of googling for answers. This
> one seemed like
> ## it would answer my question as it is nearly exactly my problem, except
> there is only
> ## one argument to the paste function. Note that my example is a complete
> minimal
> ## example, just a scatterplot with a line, and the caption content seems
> to not have
> ## anything to do with the plot. That is of course, intentional.
> ##
> ##
> https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
>
> library(ggplot2)
> X <- 10*runif(100)
> Y <- 2*X + rnorm(100, sd=2)
> fit <- lm(Y~X)
> Y.p <- predict(fit, newdata=data.frame(X=X))
> DAT <- data.frame(X=X)
>
> ## without a newline
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## newline, method 1, just add a new component of paste containing "\n"
> somewhere in the middle
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)",
>                         "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## doesn't work because the newline affects only the last component of
> paste. It looks like new line
> ## works if the line is long enough, but the newline character is being
> parsed until the individual
> ## arguments to paste are parsed for math symbols but prior to pasting the
> components together. prior
> ## to pasting all arguments. I can't imagine why this would be the desired
> behavior. When the value of a
> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for
> a newline character should
> ## occur after the components are pasted together, right?
>
> ## newline, method 2, enclose paste in another paste and add the new line
> as the second argument of the
> ## outer paste
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) +
> geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>                         "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                         "' at levels of 'eff size' (col) and '", p[1], "'
> (row)"),
>                         "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
>
> ## which has the same behavior
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>

	[[alternative HTML version deleted]]


From robert@dod|er @end|ng |rom gm@||@com  Thu Feb 18 20:03:34 2021
From: robert@dod|er @end|ng |rom gm@||@com (Robert Dodier)
Date: Thu, 18 Feb 2021 11:03:34 -0800
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <C3398855-529D-48D3-9D63-E2197E640C2B@utoronto.ca>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
 <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
 <C3398855-529D-48D3-9D63-E2197E640C2B@utoronto.ca>
Message-ID: <CAAsY_sQ_+kdpvV5ZVORLPSpzAB4qMptEf0+YLc9hKKK2ZN=Zhg@mail.gmail.com>

On Thu, Feb 18, 2021 at 10:12 AM Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:

> I would think that it would be more seamless to use Rmarkdown.
> Simply put the plotting code into an Rmarkdown file and send it
> straight to Word. Is there a reason why this is not a viable option?

Hi Kevin, thanks for your reply. Well, I started working with Word
because at least one other person needs to edit it and they want to
use Word. More fundamentally, it's not clear to me that going through
Rmarkdown solves the problem of determining the image format -- at
some point a figure is going to get generated and then pasted into a
Word document. It's not clear that doing that automatically is going
to work better or differently than doing it by hand. Anyway I think I
have a working solution at this point so I leave it to others to
investigate further possibilities.

best,

Robert Dodier


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Feb 18 20:10:03 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 18 Feb 2021 19:10:03 +0000
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
Message-ID: <494296a5-16c1-e49c-02ad-bf30f5728f09@sapo.pt>

Hello,

First of all the plotmath in your code doesn't need paste, expression 
alone will do it.

I am not sure that the following is what you want. I create the caption 
beforehand, in order to make the plotting code simpler.
The asterisks/tildes make less/more space between the text line's elements.


e <- expression(
   atop(
     P * "(" * FDP ~ ">" ~ alpha * ") " ~
       "for 'FDR' and 'Auto' FDP control method, vs '" *
       m * "' at levels of 'eff size' (col) and '" *
       p[1] * "' (row)" ~ "and",
     "a new line" ~
       bar(x) == sum(frac(x[i], n), i==1, n)
   )
)

p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + 
geom_line(aes(y=Y.p))
p <- p + labs(caption = e)
p <- p + theme(plot.caption = element_text(hjust = 0))
p


Hope this helps,

Rui Barradas
?s 17:37 de 18/02/21, Izmirlian, Grant (NIH/NCI) [E] via R-help escreveu:
> ## I am using ggplot and trying to produce a caption containing math symbols. I need to
> ## add a second line. I did a fair amount of googling for answers. This one seemed like
> ## it would answer my question as it is nearly exactly my problem, except there is only
> ## one argument to the paste function. Note that my example is a complete minimal
> ## example, just a scatterplot with a line, and the caption content seems to not have
> ## anything to do with the plot. That is of course, intentional.
> ##
> ## https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
> 
> library(ggplot2)
> X <- 10*runif(100)
> Y <- 2*X + rnorm(100, sd=2)
> fit <- lm(Y~X)
> Y.p <- predict(fit, newdata=data.frame(X=X))
> DAT <- data.frame(X=X)
> 
> ## without a newline
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## newline, method 1, just add a new component of paste containing "\n" somewhere in the middle
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)",
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## doesn't work because the newline affects only the last component of paste. It looks like new line
> ## works if the line is long enough, but the newline character is being parsed until the individual
> ## arguments to paste are parsed for math symbols but prior to pasting the components together. prior
> ## to pasting all arguments. I can't imagine why this would be the desired behavior. When the value of a
> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for a newline character should
> ## occur after the components are pasted together, right?
> 
> ## newline, method 2, enclose paste in another paste and add the new line as the second argument of the
> ## outer paste
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)"),
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## which has the same behavior
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From kev|n@thorpe @end|ng |rom utoronto@c@  Thu Feb 18 20:16:13 2021
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin Thorpe)
Date: Thu, 18 Feb 2021 19:16:13 +0000
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sQ_+kdpvV5ZVORLPSpzAB4qMptEf0+YLc9hKKK2ZN=Zhg@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
 <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
 <C3398855-529D-48D3-9D63-E2197E640C2B@utoronto.ca>
 <CAAsY_sQ_+kdpvV5ZVORLPSpzAB4qMptEf0+YLc9hKKK2ZN=Zhg@mail.gmail.com>
Message-ID: <C28D9896-D64E-43E1-8040-498267D37855@utoronto.ca>


> On Feb 18, 2021, at 2:03 PM, Robert Dodier <robert.dodier at gmail.com> wrote:
> 
> EXTERNAL EMAIL:
> 
> On Thu, Feb 18, 2021 at 10:12 AM Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
> 
>> I would think that it would be more seamless to use Rmarkdown.
>> Simply put the plotting code into an Rmarkdown file and send it
>> straight to Word. Is there a reason why this is not a viable option?
> 
> Hi Kevin, thanks for your reply. Well, I started working with Word
> because at least one other person needs to edit it and they want to
> use Word. More fundamentally, it's not clear to me that going through
> Rmarkdown solves the problem of determining the image format -- at
> some point a figure is going to get generated and then pasted into a
> Word document. It's not clear that doing that automatically is going
> to work better or differently than doing it by hand. Anyway I think I
> have a working solution at this point so I leave it to others to
> investigate further possibilities.
> 
> best,
> 
> Robert Dodier

Fair enough. I mentioned it since from my limited experience sending to Word
(I hate Word) the images seem to look fine. Whatever is done seems to work.
With the Rmarkdown generated Word file, I imagine copy/paste into the ?master?
Document would work just fine.

Kevin


-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From |zm|r||g @end|ng |rom m@||@n|h@gov  Thu Feb 18 20:19:58 2021
From: |zm|r||g @end|ng |rom m@||@n|h@gov (Izmirlian, Grant (NIH/NCI) [E])
Date: Thu, 18 Feb 2021 19:19:58 +0000
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <494296a5-16c1-e49c-02ad-bf30f5728f09@sapo.pt>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
 <494296a5-16c1-e49c-02ad-bf30f5728f09@sapo.pt>
Message-ID: <SA0PR09MB69559B436002C5AA324E97CAE5859@SA0PR09MB6955.namprd09.prod.outlook.com>

This is beautiful. Thanks!
G

-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt> 
Sent: Thursday, February 18, 2021 2:10 PM
To: Izmirlian, Grant (NIH/NCI) [E] <izmirlig at mail.nih.gov>; r-help at r-project.org
Subject: Re: [R] New line in caption with math symbols embedded in expression (paste(

Hello,

First of all the plotmath in your code doesn't need paste, expression alone will do it.

I am not sure that the following is what you want. I create the caption beforehand, in order to make the plotting code simpler.
The asterisks/tildes make less/more space between the text line's elements.


e <- expression(
   atop(
     P * "(" * FDP ~ ">" ~ alpha * ") " ~
       "for 'FDR' and 'Auto' FDP control method, vs '" *
       m * "' at levels of 'eff size' (col) and '" *
       p[1] * "' (row)" ~ "and",
     "a new line" ~
       bar(x) == sum(frac(x[i], n), i==1, n)
   )
)

p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + 
geom_line(aes(y=Y.p))
p <- p + labs(caption = e)
p <- p + theme(plot.caption = element_text(hjust = 0))
p


Hope this helps,

Rui Barradas
?s 17:37 de 18/02/21, Izmirlian, Grant (NIH/NCI) [E] via R-help escreveu:
> ## I am using ggplot and trying to produce a caption containing math symbols. I need to
> ## add a second line. I did a fair amount of googling for answers. This one seemed like
> ## it would answer my question as it is nearly exactly my problem, except there is only
> ## one argument to the paste function. Note that my example is a complete minimal
> ## example, just a scatterplot with a line, and the caption content seems to not have
> ## anything to do with the plot. That is of course, intentional.
> ##
> ## https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
> 
> library(ggplot2)
> X <- 10*runif(100)
> Y <- 2*X + rnorm(100, sd=2)
> fit <- lm(Y~X)
> Y.p <- predict(fit, newdata=data.frame(X=X))
> DAT <- data.frame(X=X)
> 
> ## without a newline
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## newline, method 1, just add a new component of paste containing "\n" somewhere in the middle
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)",
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## doesn't work because the newline affects only the last component of paste. It looks like new line
> ## works if the line is long enough, but the newline character is being parsed until the individual
> ## arguments to paste are parsed for math symbols but prior to pasting the components together. prior
> ## to pasting all arguments. I can't imagine why this would be the desired behavior. When the value of a
> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for a newline character should
> ## occur after the components are pasted together, right?
> 
> ## newline, method 2, enclose paste in another paste and add the new line as the second argument of the
> ## outer paste
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)"),
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## which has the same behavior
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From |zm|r||g @end|ng |rom m@||@n|h@gov  Thu Feb 18 20:20:57 2021
From: |zm|r||g @end|ng |rom m@||@n|h@gov (Izmirlian, Grant (NIH/NCI) [E])
Date: Thu, 18 Feb 2021 19:20:57 +0000
Subject: [R] 
 New line in caption with math symbols embedded in expression (paste(
In-Reply-To: <494296a5-16c1-e49c-02ad-bf30f5728f09@sapo.pt>
References: <SA0PR09MB6955B49AFD72A4DA1B408120E5859@SA0PR09MB6955.namprd09.prod.outlook.com>
 <494296a5-16c1-e49c-02ad-bf30f5728f09@sapo.pt>
Message-ID: <SA0PR09MB6955759BF29B53CB93171EB1E5859@SA0PR09MB6955.namprd09.prod.outlook.com>

You th' barradas!!!


-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt> 
Sent: Thursday, February 18, 2021 2:10 PM
To: Izmirlian, Grant (NIH/NCI) [E] <izmirlig at mail.nih.gov>; r-help at r-project.org
Subject: Re: [R] New line in caption with math symbols embedded in expression (paste(

Hello,

First of all the plotmath in your code doesn't need paste, expression alone will do it.

I am not sure that the following is what you want. I create the caption beforehand, in order to make the plotting code simpler.
The asterisks/tildes make less/more space between the text line's elements.


e <- expression(
   atop(
     P * "(" * FDP ~ ">" ~ alpha * ") " ~
       "for 'FDR' and 'Auto' FDP control method, vs '" *
       m * "' at levels of 'eff size' (col) and '" *
       p[1] * "' (row)" ~ "and",
     "a new line" ~
       bar(x) == sum(frac(x[i], n), i==1, n)
   )
)

p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + 
geom_line(aes(y=Y.p))
p <- p + labs(caption = e)
p <- p + theme(plot.caption = element_text(hjust = 0))
p


Hope this helps,

Rui Barradas
?s 17:37 de 18/02/21, Izmirlian, Grant (NIH/NCI) [E] via R-help escreveu:
> ## I am using ggplot and trying to produce a caption containing math symbols. I need to
> ## add a second line. I did a fair amount of googling for answers. This one seemed like
> ## it would answer my question as it is nearly exactly my problem, except there is only
> ## one argument to the paste function. Note that my example is a complete minimal
> ## example, just a scatterplot with a line, and the caption content seems to not have
> ## anything to do with the plot. That is of course, intentional.
> ##
> ## https://stackoverflow.com/questions/13223846/ggplot2-two-line-label-with-expression
> 
> library(ggplot2)
> X <- 10*runif(100)
> Y <- 2*X + rnorm(100, sd=2)
> fit <- lm(Y~X)
> Y.p <- predict(fit, newdata=data.frame(X=X))
> DAT <- data.frame(X=X)
> 
> ## without a newline
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## newline, method 1, just add a new component of paste containing "\n" somewhere in the middle
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)",
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## doesn't work because the newline affects only the last component of paste. It looks like new line
> ## works if the line is long enough, but the newline character is being parsed until the individual
> ## arguments to paste are parsed for math symbols but prior to pasting the components together. prior
> ## to pasting all arguments. I can't imagine why this would be the desired behavior. When the value of a
> ## caption argument is expression(paste(s1, s2, s3, ...)) then parsing for a newline character should
> ## occur after the components are pasted together, right?
> 
> ## newline, method 2, enclose paste in another paste and add the new line as the second argument of the
> ## outer paste
> p <- ggplot(data=DAT, aes(x=X)) + geom_point(aes(y=Y)) + geom_line(aes(y=Y.p))
> p <- p + labs(caption=expression(paste(paste(P,"(",FDP,">", alpha,") ",
>                          "for 'FDR' and 'Auto' FDP control method, vs '", m,
>                          "' at levels of 'eff size' (col) and '", p[1], "' (row)"),
>                          "and \n a new line")))
> p <- p + theme(plot.caption = element_text(hjust = 0))
> 
> ## which has the same behavior
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

From pro|jcn@@h @end|ng |rom gm@||@com  Thu Feb 18 20:48:25 2021
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Thu, 18 Feb 2021 14:48:25 -0500
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word /
 tangential
In-Reply-To: <C28D9896-D64E-43E1-8040-498267D37855@utoronto.ca>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
 <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
 <C3398855-529D-48D3-9D63-E2197E640C2B@utoronto.ca>
 <CAAsY_sQ_+kdpvV5ZVORLPSpzAB4qMptEf0+YLc9hKKK2ZN=Zhg@mail.gmail.com>
 <C28D9896-D64E-43E1-8040-498267D37855@utoronto.ca>
Message-ID: <21c022a7-f03f-257a-ead6-bbbc1341d42f@gmail.com>

FWIW, even in Rmarkdown images sometimes give trouble. However, there is the possibilty
of asking to keep the latex version of the document after Rmarkdown has been processed.
That is, in the yaml header there is the "output" section

output:
  pdf_document:
    keep_tex: false
    toc: true

Here I have kept_tex NOT active. Change false to true and a .tex file will be produced.
I've found this useful to adjust images and a few other things. Mostly I am happy with
Rmarkdown output, and I have to say such tweaks are quite rare, though I have once or
twice used this feature to track down some non-printing characters in code chunks when
the Rmarkdown processing was fine, but pdflatex choked.

Possibly it is easier to do Latex --> Word. Like many others in the R community, I find
Word an unfortunate annoyance, in particular because I can never be sure really what
is present in a "doc"ument.

Best, J Nash


On 2021-02-18 2:16 p.m., Kevin Thorpe wrote:
> 
>> On Feb 18, 2021, at 2:03 PM, Robert Dodier <robert.dodier at gmail.com> wrote:
>>
>> EXTERNAL EMAIL:
>>
>> On Thu, Feb 18, 2021 at 10:12 AM Kevin Thorpe <kevin.thorpe at utoronto.ca> wrote:
>>
>>> I would think that it would be more seamless to use Rmarkdown.
>>> Simply put the plotting code into an Rmarkdown file and send it
>>> straight to Word. Is there a reason why this is not a viable option?
>>
>> Hi Kevin, thanks for your reply. Well, I started working with Word
>> because at least one other person needs to edit it and they want to
>> use Word. More fundamentally, it's not clear to me that going through
>> Rmarkdown solves the problem of determining the image format -- at
>> some point a figure is going to get generated and then pasted into a
>> Word document. It's not clear that doing that automatically is going
>> to work better or differently than doing it by hand. Anyway I think I
>> have a working solution at this point so I leave it to others to
>> investigate further possibilities.
>>
>> best,
>>
>> Robert Dodier
> 
> Fair enough. I mentioned it since from my limited experience sending to Word
> (I hate Word) the images seem to look fine. Whatever is done seems to work.
> With the Rmarkdown generated Word file, I imagine copy/paste into the ?master?
> Document would work just fine.
> 
> Kevin
> 
>


From br|@n @end|ng |rom br@verock@com  Fri Feb 19 00:59:53 2021
From: br|@n @end|ng |rom br@verock@com (Brian G. Peterson)
Date: Thu, 18 Feb 2021 17:59:53 -0600
Subject: [R] GSOC 2021: Project Mentors, Please Post Project Ideas!
Message-ID: <64bc8b2c2be2d5c9ffc2a3a8560f7b5d3e28edfd.camel@braverock.com>

Potential GSoC Mentors,

R has applied as mentoring organization again this year for Google
Summer of Code 2021
(https://summerofcode.withgoogle.com/how-it-works/). ?While we won't
know for a while if we have been accepted, we hope that we will be
accepted again this year as we have been in past years.

If you are an author or an R package, or have research using R that
might benefit from additional paid summer coding help, I encourage you
to consider positng a project idea to the R ?GSoC wiki:

https://github.com/rstats-gsoc/gsoc2021/wiki/table%20of%20proposed%20coding%20projects

start by copying the template here:

https://github.com/rstats-gsoc/gsoc2021/wiki/MENTORS-COPY-THIS-TEMPLATE

into a separate project idea page, and add your project idea to the
table on the first link above.

In the coming couple of weeks, Google will evaluate organizations for
inclusion in GSoC. ?As part of that evaluation, Google reviews
organization's project ideas. ?So it is good for the R community to
have project ideas in place for Google and potential students to
review.

Your project idea should encompass approximately 175 hours of paid work
by a student over 10 weeks. ?You should have at least two mentors for
your project. ?Please reach out to us with questions!

Regards,

Brian
?
-- 
Brian G. Peterson
ph: +1.773.459.4973
im: bgpbraverock
-- 
You received this message because you are subscribed to the Google Groups "gsoc-r" group.
To unsubscribe from this group and stop receiving emails from it, send an email to gsoc-r+unsubscribe at googlegroups.com.
To view this discussion on the web visit https://groups.google.com/d/msgid/gsoc-r/4e7afb4e9a33a32a036d6ee42a9cde8acd445f1c.camel%40braverock.com.

	[[alternative HTML version deleted]]


From donm@c @end|ng |rom m@t@t@t@com  Fri Feb 19 21:18:50 2021
From: donm@c @end|ng |rom m@t@t@t@com (Donald Macnaughton)
Date: Fri, 19 Feb 2021 20:18:50 +0000
Subject: [R] 
 ISO recommendations for plot output format from R to MS Word
In-Reply-To: <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
References: <CAAsY_sQ7Q1J6QiWASUP56wvDaJr-Dewu6asC=1+dOcg70yXjbg@mail.gmail.com>
 <CAAsY_sRXxeJTgu+C3KNXVgik+vViud_OzxW=W8Db6KfC0du_5w@mail.gmail.com>
Message-ID: <01000177bbf1ebb6-e1ec33d4-f28f-4e85-8e7c-34d9e7626951-000000@email.amazonses.com>

The native graphics format in Microsoft Office (including Word) is EMF
(Enhanced MetaFile), which is an enhanced version of WMF (Windows MetaFile).
This is a VECTOR format with embedded scalable fonts, so it scales perfectly
to all sizes. R will output EMF graph files using Philip Johnson's
library(devEMF), which is on CRAN. These files can be imported into Word
using Insert > Pictures > ....

These images are "perfect" if the Word document is converted (by Word
itself) to PDF, with unbitmapped fonts and lines, so they look perfect even
if you zoom the PDF to 600%.

I haven't tried lately, but in the past the driver generated huge files from
ggplot2, but small files from the graphics and grid packages.

Don Macnaughton


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Robert Dodier
Sent: Thursday, February 18, 2021 12:50 PM
To: r-help at r-project.org
Subject: Re: [R] ISO recommendations for plot output format from R to MS
Word

Hi, a quick follow-up about the question about putting R-generated figures
into MS Word.

I have found by experimenting with some figures and documents that if I
import an SVG figure generated by svglite (didn't try other output
functions), I can view it okay in my installation of MS Word (Word for Mac
16.16.10), and it looks okay in MS Word for Windows (circa 2016 or
2018) on a laptop I have, and two other people can view it okay (one on Mac
and one on Windows). So that seems safe enough to go ahead.
YMMV.

I am informed that MS Word is actually storing a bitmap image of the SVG
figure, which is displayed by non-SVG-aware versions of Word. So that seems
like a good safeguard.

For the record, I converted the SVG to EPS, PNG, PDF, WMF, and EMF via
Imagemagick. EPS and PNG were tolerable, PDF was too fuzzy, and WMF and EMF,
at least as generated, could not be displayed (I was a little surprised by
that). There are, no doubt, many unanswered questions here, which
unfortunately I cannot take the time to explore right now.

In summary I found that importing SVG generated by svglite into MS Word for
Mac seems to work okay to generate a generally-readable file.
Perhaps this experience is useful in some way to others.

best,

Robert Dodier

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From hp@ge@@on@g|thub @end|ng |rom gm@||@com  Sun Feb 21 23:36:23 2021
From: hp@ge@@on@g|thub @end|ng |rom gm@||@com (=?UTF-8?B?SGVydsOpIFBhZ8Oocw==?=)
Date: Sun, 21 Feb 2021 14:36:23 -0800
Subject: [R] Is it Possible to Create S4 Function Objects?
In-Reply-To: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
References: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
Message-ID: <65f86924-7910-8aaa-3ef5-b988ed0b6418@gmail.com>

Hi Abby,

Something along the line of:

   setClass("S4Function",
     contains="function",
     representation(name="character", more_stuff="ANY")
   )

seems to do what you want:

   f <- new("S4Function", function(a) a^2, name="square")

   # 'f' is both an S4 object and a function:
   is.object(f)
   # [1] TRUE
   is.function(f)
   # [1] TRUE

   f at name
   # [1] "square"
   f(11)
   # [1] 121

Hope this helps,

H.

On 2/12/21 1:53 PM, Abby Spurdle (/??bi/) wrote:
> Dear All,
> 
> I was wondering if it's possible to create S4 function objects?
> (Or S4 closures, if you prefer).
> 
> i.e.
> An R object, that is both an S4 object, and a function.
> 
> This would allow one to write:
> 
>> f <- constructor4.functionobj ()
>> f ()
>> f at slot.of.f
> 
> I've searched for this, but I can't find any examples.
> 
> If it's possible, then that leads to the question of if/how the body
> of f() could directly access the value of the slot?
> 
>> f <- function ()
>>     this at slot.of.f
> 
> I should note that the more common approach of storing values in a
> function's environment, doesn't work well for top-level objects.
> This approach is dependent on immutability of the function's data, and
> I'm reluctant to create such constraints.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Herv? Pag?s

Bioconductor Core Team
hpages.on.github at gmail.com


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Mon Feb 22 08:10:13 2021
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Mon, 22 Feb 2021 08:10:13 +0100
Subject: [R] How to load fasta file with openPrimeR?
In-Reply-To: <CAHqSRuQ0cEGhTjgCYTDyfyMsjPvfZCvxjTTDs-FKSvxuhPRMgw@mail.gmail.com>
References: <CAMk+s2SGKR9P1Gu+4WkJAJNR4S1ZMHHkBPgo_zKnKVxu+sejVw@mail.gmail.com>
 <CAHqSRuQ0cEGhTjgCYTDyfyMsjPvfZCvxjTTDs-FKSvxuhPRMgw@mail.gmail.com>
Message-ID: <CAMk+s2RFnFWsbK+kcrrLtqLQv4+vLt9cu_2nfmzmFT7xWcoXHQ@mail.gmail.com>

Thank you. it looks like it worked:
```

> fasta.file <- "stx.fa"
> seq.df <- read_templates(fasta.file)
> fasta.file
[1] "stx.fa"
> seq.df
                       ID                  Header   Group Identifier
Sequence_Length Allowed_Start_fw Allowed_End_fw
1 >MW311073.1 Escheric... >MW311073.1 Escheric... default          1
          180                1             30
  Allowed_Start_rev Allowed_End_rev              Allowed_fw
 Allowed_rev Allowed_Start_fw_ali
1               151             180 atgaagaagatgtttatggc...
cgctggaatctgcaaccgtt...                    1
  Allowed_End_fw_ali Allowed_Start_fw_initial Allowed_End_fw_initial
Allowed_Start_fw_initial_ali
1                 30                        1                     30
                         1
  Allowed_End_fw_initial_ali Allowed_Start_rev_ali Allowed_End_rev_ali
Allowed_Start_rev_initial
1                         30                   151                 180
                      151
  Allowed_End_rev_initial Allowed_Start_rev_initial_ali
Allowed_End_rev_initial_ali                Sequence
1                     180                           151
         180 atgaagaagatgtttatggc...
            InputSequence Run
1 atgaagaagatgtttatggc... stx
```
When the original file stx.fa is:
```
>MW311073.1 Escherichia coli strain XP2F shiga toxin 2 (stx2) gene, partial cds
ATGAAGAAGATGTTTATGGCGGTTTTATTTGCATTAGTTTCTGTTAATGCAATGGCGGCGGATTGCGCTA
AAGGTAAAATTGAGTTTTCCAAGTATAATGAGAATGATACATTCACAGTAAAAGTGGCCGGAAAAGAGTA
CTGGACCAGTCGCTGGAATCTGCAACCGTTACTGCAAAGT
```

On Mon, Feb 15, 2021 at 7:28 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>
> > but if I give these commands to a local file:
> > ```
> > fasta.file <- system.file("extdata", "IMGT_data", "templates",
> >                 "stx.fa", package = "openPrimeR")
> > fasta.file <- system.file("stx.fa", package = "openPrimeR")
> > ```
> > where stx.fa il the file I wanted to open and that is present in the
> > working directly. I get only an empty object.
>
> If "stx.fa" is in fact in the current working directory then use
>    fasta.file <- "stx.fa"
> system.file() is for accessing files in installed packages.
>
> -Bill
>
> On Mon, Feb 15, 2021 at 10:11 AM Luigi Marongiu
> <marongiu.luigi at gmail.com> wrote:
> >
> > Hello,
> > I am trying to load a fast file with the package 'openPrimeR'. The
> > manual (https://www.bioconductor.org/packages/release/bioc/vignettes/openPrimeR/inst/doc/openPrimeR_vignette.html)
> > says to use:
> > ```
> > fasta.file <- system.file("extdata", "IMGT_data", "templates",
> >                 "Homo_sapiens_IGH_functional_exon.fasta", package =
> > "openPrimeR")
> > # Load the template sequences from 'fasta.file'
> > seq.df.simple <- read_templates(fasta.file)
> > ```
> > but if I give these commands to a local file:
> > ```
> > fasta.file <- system.file("extdata", "IMGT_data", "templates",
> >                 "stx.fa", package = "openPrimeR")
> > fasta.file <- system.file("stx.fa", package = "openPrimeR")
> > ```
> > where stx.fa il the file I wanted to open and that is present in the
> > working directly. I get only an empty object.
> > What am I getting wrong?
> > Thank you
> >
> >
> > --
> > Best regards,
> > Luigi
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.



-- 
Best regards,
Luigi


From p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r  Mon Feb 22 15:26:48 2021
From: p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r (Patrick Giraudoux)
Date: Mon, 22 Feb 2021 15:26:48 +0100
Subject: [R] strptime, date and conversion of week number into POSIX
Message-ID: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>

Dear all,

I have a trouble trying to convert dates? given in character to POSIX. 
The date is expressed as a year then the week number e.g. "2020-01" 
(first week of 2020). I thought is can be converted as following:

strptime(mydate,format="%Y-%W")

%W refering to the week of the year as decimal number (00?53) using 
Monday as the first day of week (and typically with the first Monday of 
the year as day 1 of week 1), as indicated in the doc.

However, I got this result, with the month fixed to 02 (february) and 
day 22 (only the year is? converted correctly):

strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [17] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [21] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [25] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [49] "2020-02-22 CET" "2020-02-22 CET" 
"2020-02-22 CET" "2020-02-22 CET" [53] "2020-02-22 CET" "2021-02-22 CET" 
"2021-02-22 CET" "2021-02-22 CET" [57] "2021-02-22 CET" "2021-02-22 CET" 
"2021-02-22 CET"

You'll find below a dump of "mydate" you can copy and paster if you need 
a try

Any hint welcome...

Best,

Patrick

mydate <-
c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
"2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
"2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
"2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
"2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
"2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
"2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
"2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
"2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
"2021-02", "2021-03", "2021-04", "2021-05", "2021-06")


	[[alternative HTML version deleted]]


From p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r  Mon Feb 22 16:15:13 2021
From: p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r (Patrick Giraudoux)
Date: Mon, 22 Feb 2021 16:15:13 +0100
Subject: [R] strptime, date and conversion of week number into POSIX
In-Reply-To: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
References: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
Message-ID: <92b0bc0a-ff7d-8be5-67f3-4e811f5145da@univ-fcomte.fr>

Sorry to answer to myself, but the format was clearly incorrect in the 
previous post. It should read, refering to the 1th day of the week:

strptime(paste0(mydate,"-1"),format="%Y-%W-%u")

It converts better, but with a NA on week 53

> strptime(paste0(pays$year_week,"-1"),format="%Y-%W-%u")
  [1] "2020-01-06 CET"  "2020-01-13 CET"  "2020-01-20 CET"  "2020-01-27 CET"
  [5] "2020-02-03 CET"  "2020-02-10 CET"  "2020-02-17 CET"  "2020-02-24 CET"
  [9] "2020-03-02 CET"  "2020-03-09 CET"  "2020-03-16 CET"  "2020-03-23 CET"
[13] "2020-03-30 CEST" "2020-04-06 CEST" "2020-04-13 CEST" "2020-04-20 CEST"
[17] "2020-04-27 CEST" "2020-05-04 CEST" "2020-05-11 CEST" "2020-05-18 CEST"
[21] "2020-05-25 CEST" "2020-06-01 CEST" "2020-06-08 CEST" "2020-06-15 CEST"
[25] "2020-06-22 CEST" "2020-06-29 CEST" "2020-07-06 CEST" "2020-07-13 CEST"
[29] "2020-07-20 CEST" "2020-07-27 CEST" "2020-08-03 CEST" "2020-08-10 CEST"
[33] "2020-08-17 CEST" "2020-08-24 CEST" "2020-08-31 CEST" "2020-09-07 CEST"
[37] "2020-09-14 CEST" "2020-09-21 CEST" "2020-09-28 CEST" "2020-10-05 CEST"
[41] "2020-10-12 CEST" "2020-10-19 CEST" "2020-10-26 CET"  "2020-11-02 CET"
[45] "2020-11-09 CET"  "2020-11-16 CET"  "2020-11-23 CET"  "2020-11-30 CET"
[49] "2020-12-07 CET"  "2020-12-14 CET"  "2020-12-21 CET"  "2020-12-28 CET"
[53] NA                "2021-01-04 CET"  "2021-01-11 CET"  "2021-01-18 CET"
[57] "2021-01-25 CET"  "2021-02-01 CET"  "2021-02-08 CET"
Warning message:
In strptime(paste0(pays$year_week, "-1"), format = "%Y-%W-%u") :
   (0-based) yday 369 in year 2020 is invalid


Any idea on how to handle this ?




Le 22/02/2021 ? 15:26, Patrick Giraudoux a ?crit?:
>
> Dear all,
>
> I have a trouble trying to convert dates? given in character to POSIX. 
> The date is expressed as a year then the week number e.g. "2020-01" 
> (first week of 2020). I thought is can be converted as following:
>
> strptime(mydate,format="%Y-%W")
>
> %W refering to the week of the year as decimal number (00?53) using 
> Monday as the first day of week (and typically with the first Monday 
> of the year as day 1 of week 1), as indicated in the doc.
>
> However, I got this result, with the month fixed to 02 (february) and 
> day 22 (only the year is? converted correctly):
>
> strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22 CET" 
> "2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22 
> CET" "2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET" 
> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22 
> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [17] 
> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" 
> [21] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 
> CET" [25] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" 
> "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 
> CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET" 
> "2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22 
> CET" "2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET" 
> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22 
> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [49] 
> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" 
> [53] "2020-02-22 CET" "2021-02-22 CET" "2021-02-22 CET" "2021-02-22 
> CET" [57] "2021-02-22 CET" "2021-02-22 CET" "2021-02-22 CET"
>
> You'll find below a dump of "mydate" you can copy and paster if you 
> need a try
>
> Any hint welcome...
>
> Best,
>
> Patrick
>
> mydate <-
> c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
> "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
> "2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
> "2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
> "2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
> "2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
> "2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
> "2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
> "2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
> "2021-02", "2021-03", "2021-04", "2021-05", "2021-06")
>


	[[alternative HTML version deleted]]


From kg|@||oyr@k|@ @end|ng |rom gm@||@com  Mon Feb 22 16:01:19 2021
From: kg|@||oyr@k|@ @end|ng |rom gm@||@com (=?UTF-8?B?zprPhc+BzrnOrM66zr/PgiDOk865zrHOu867zr/Phc+BzqzOus63z4I=?=)
Date: Mon, 22 Feb 2021 17:01:19 +0200
Subject: [R] error in Rstudio
Message-ID: <CAP0PjnSBHYj+-5EbMWnHObVGGqi2f1rWheFrCH+8hQVF4HbTGg@mail.gmail.com>

Greetings,
I tried to open R-studio(windows 10 pro) but instead of running the app, my
screen opens a window saying 'loadlibrary failed with error 1114: some
preparation routine of a DLL failed'
I deleted both R and R-studio, but when I downloaded them again(both in
latest edition), the same thing appears.

Please help me with my problem,
Best Regards,
Kyriakos

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Feb 22 16:59:41 2021
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 22 Feb 2021 10:59:41 -0500
Subject: [R] error in Rstudio
In-Reply-To: <CAP0PjnSBHYj+-5EbMWnHObVGGqi2f1rWheFrCH+8hQVF4HbTGg@mail.gmail.com>
References: <CAP0PjnSBHYj+-5EbMWnHObVGGqi2f1rWheFrCH+8hQVF4HbTGg@mail.gmail.com>
Message-ID: <be282137-d60e-8915-38a1-b0c04587d6b1@gmail.com>

On 22/02/2021 10:01 a.m., ???????? ???????????? wrote:
> Greetings,
> I tried to open R-studio(windows 10 pro) but instead of running the app, my
> screen opens a window saying 'loadlibrary failed with error 1114: some
> preparation routine of a DLL failed'
> I deleted both R and R-studio, but when I downloaded them again(both in
> latest edition), the same thing appears.
> 
> Please help me with my problem,
> Best Regards,

What happens if you try to open Rgui or command line R?

Duncan Murdoch


From bgunter@4567 @end|ng |rom gm@||@com  Mon Feb 22 17:04:28 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 22 Feb 2021 08:04:28 -0800
Subject: [R] strptime, date and conversion of week number into POSIX
In-Reply-To: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
References: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
Message-ID: <CAGxFJbTtbZDtE7VGasFM443qbf5QRLHjzmeLLBZWJhuAQ=9aoA@mail.gmail.com>

I think the relevant info from ?strptime is:

"For strptime the input string need not specify the date completely: it is
assumed that unspecified seconds, minutes or hours are zero, and an
unspecified year, month or day is the current one. (However, if a month is
specified, the day of that month has to be specified by %d or %e since the
current day of the month need not be valid for the specified month.) Some
components may be returned as NA (but an unknown tzone component is
represented by an empty string)."

I think this means that your strings cannot be converted by strptime() as
essential info is missing. Input from those with more date-time expertise
on this point would be welcome, however.

Cheers,
Bert
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Feb 22, 2021 at 6:27 AM Patrick Giraudoux <
patrick.giraudoux at univ-fcomte.fr> wrote:

> Dear all,
>
> I have a trouble trying to convert dates  given in character to POSIX.
> The date is expressed as a year then the week number e.g. "2020-01"
> (first week of 2020). I thought is can be converted as following:
>
> strptime(mydate,format="%Y-%W")
>
> %W refering to the week of the year as decimal number (00?53) using
> Monday as the first day of week (and typically with the first Monday of
> the year as day 1 of week 1), as indicated in the doc.
>
> However, I got this result, with the month fixed to 02 (february) and
> day 22 (only the year is  converted correctly):
>
> strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [17] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [21] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [25] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [49] "2020-02-22 CET" "2020-02-22 CET"
> "2020-02-22 CET" "2020-02-22 CET" [53] "2020-02-22 CET" "2021-02-22 CET"
> "2021-02-22 CET" "2021-02-22 CET" [57] "2021-02-22 CET" "2021-02-22 CET"
> "2021-02-22 CET"
>
> You'll find below a dump of "mydate" you can copy and paster if you need
> a try
>
> Any hint welcome...
>
> Best,
>
> Patrick
>
> mydate <-
> c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
> "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
> "2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
> "2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
> "2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
> "2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
> "2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
> "2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
> "2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
> "2021-02", "2021-03", "2021-04", "2021-05", "2021-06")
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Feb 22 17:09:20 2021
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 22 Feb 2021 17:09:20 +0100
Subject: [R] strptime, date and conversion of week number into POSIX
In-Reply-To: <92b0bc0a-ff7d-8be5-67f3-4e811f5145da@univ-fcomte.fr>
References: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
 <92b0bc0a-ff7d-8be5-67f3-4e811f5145da@univ-fcomte.fr>
Message-ID: <2228dcca-64be-32d8-c6ff-719d4522bff3@statistik.tu-dortmund.de>

That monday does not exist. FOr the week before:

strptime(paste0("2020-52","-1"),format="%Y-%W-%u")
[1] "2020-12-28"

One week later is no longer in 2020, so there is no 53th week.

Best,
Uwe Ligges





On 22.02.2021 16:15, Patrick Giraudoux wrote:
> Sorry to answer to myself, but the format was clearly incorrect in the
> previous post. It should read, refering to the 1th day of the week:
> 
> strptime(paste0(mydate,"-1"),format="%Y-%W-%u")
> 
> It converts better, but with a NA on week 53
> 
>> strptime(paste0(pays$year_week,"-1"),format="%Y-%W-%u")
>    [1] "2020-01-06 CET"  "2020-01-13 CET"  "2020-01-20 CET"  "2020-01-27 CET"
>    [5] "2020-02-03 CET"  "2020-02-10 CET"  "2020-02-17 CET"  "2020-02-24 CET"
>    [9] "2020-03-02 CET"  "2020-03-09 CET"  "2020-03-16 CET"  "2020-03-23 CET"
> [13] "2020-03-30 CEST" "2020-04-06 CEST" "2020-04-13 CEST" "2020-04-20 CEST"
> [17] "2020-04-27 CEST" "2020-05-04 CEST" "2020-05-11 CEST" "2020-05-18 CEST"
> [21] "2020-05-25 CEST" "2020-06-01 CEST" "2020-06-08 CEST" "2020-06-15 CEST"
> [25] "2020-06-22 CEST" "2020-06-29 CEST" "2020-07-06 CEST" "2020-07-13 CEST"
> [29] "2020-07-20 CEST" "2020-07-27 CEST" "2020-08-03 CEST" "2020-08-10 CEST"
> [33] "2020-08-17 CEST" "2020-08-24 CEST" "2020-08-31 CEST" "2020-09-07 CEST"
> [37] "2020-09-14 CEST" "2020-09-21 CEST" "2020-09-28 CEST" "2020-10-05 CEST"
> [41] "2020-10-12 CEST" "2020-10-19 CEST" "2020-10-26 CET"  "2020-11-02 CET"
> [45] "2020-11-09 CET"  "2020-11-16 CET"  "2020-11-23 CET"  "2020-11-30 CET"
> [49] "2020-12-07 CET"  "2020-12-14 CET"  "2020-12-21 CET"  "2020-12-28 CET"
> [53] NA                "2021-01-04 CET"  "2021-01-11 CET"  "2021-01-18 CET"
> [57] "2021-01-25 CET"  "2021-02-01 CET"  "2021-02-08 CET"
> Warning message:
> In strptime(paste0(pays$year_week, "-1"), format = "%Y-%W-%u") :
>     (0-based) yday 369 in year 2020 is invalid
> 
> 
> Any idea on how to handle this ?
> 
> 
> 
> 
> Le 22/02/2021 ? 15:26, Patrick Giraudoux a ?crit?:
>>
>> Dear all,
>>
>> I have a trouble trying to convert dates? given in character to POSIX.
>> The date is expressed as a year then the week number e.g. "2020-01"
>> (first week of 2020). I thought is can be converted as following:
>>
>> strptime(mydate,format="%Y-%W")
>>
>> %W refering to the week of the year as decimal number (00?53) using
>> Monday as the first day of week (and typically with the first Monday
>> of the year as day 1 of week 1), as indicated in the doc.
>>
>> However, I got this result, with the month fixed to 02 (february) and
>> day 22 (only the year is? converted correctly):
>>
>> strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22 CET"
>> "2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22
>> CET" "2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET"
>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22
>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [17]
>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>> [21] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
>> CET" [25] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>> "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
>> CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET"
>> "2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22
>> CET" "2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET"
>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22
>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [49]
>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>> [53] "2020-02-22 CET" "2021-02-22 CET" "2021-02-22 CET" "2021-02-22
>> CET" [57] "2021-02-22 CET" "2021-02-22 CET" "2021-02-22 CET"
>>
>> You'll find below a dump of "mydate" you can copy and paster if you
>> need a try
>>
>> Any hint welcome...
>>
>> Best,
>>
>> Patrick
>>
>> mydate <-
>> c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
>> "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
>> "2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
>> "2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
>> "2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
>> "2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
>> "2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
>> "2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
>> "2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
>> "2021-02", "2021-03", "2021-04", "2021-05", "2021-06")
>>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From L@urentRHe|p @end|ng |rom |ree@|r  Mon Feb 22 17:16:52 2021
From: L@urentRHe|p @end|ng |rom |ree@|r (Laurent Rhelp)
Date: Mon, 22 Feb 2021 17:16:52 +0100
Subject: [R] xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
Message-ID: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>

Dear R-Help-List,

 ?? I have to process time series with a sampling frequency of 1 MHz.
I use the POSIXct format for the date-times with microsecond in a zoo 
object and the xyplot.zoo function to do the graphs.
As I show in the below example I had a trouble to plot the labels on the 
x-axis with an error message. I found a solution but I would like to 
know if I miss something.
The link 
https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds 

helped me to understand how to print the POSIXct value to see the 
microseconds thanks to the function myformat.POSIXct:

myformat.POSIXct <- function(x, digits=6)
{
 ? x2 <- round(unclass(x), digits)
 ? attributes(x2) <- attributes(x)
 ? x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
 ? x$sec <- round(x$sec, digits)
 ? format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")

}


## The example giving the error message:

library(lattice)
library(zoo)

##
options(digits = 16) # to see all the digits on the screen
options(digits.secs = 6) # to see the microseconds
# mock data
# a sine with a frequency f0 and two others with a delay
Fs <- 1e+6 # sampling frequency 1 MHz
Ts <- 1/Fs
# frequency of the sinus
f0 <- 100000
t0 <- 1/f0
time <- seq(0, length = 1000, by = Ts)
A1 <- 1
y1 <- A1 * sin(2*pi*f0*time)
y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
## creation of a dataframe:
##
DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
# Since I want to allow for the datetime POSIXct format on the x-axis
# for the plot I transform my dataframe in a zoo object
#
# say that my acquisition began at "2021-02-08 09:15:50.000000"
#
mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d 
%H:%M:%OS",tz="GMT")
mystart
# To see the correct datetime I use the myformat.POSIXct function
myformat.POSIXct(mystart)
##
## using the method seq.POSIXct as following doesn't work:
## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
## head( myformat.POSIXct(mydatetime) )
## if I use the following command it works:
mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
head( myformat.POSIXct(mydatetime) )
## I do the zoo object:
DF.z <- zoo(DF[,-1],order.by = mydatetime)
## We don't see the correct value for the index:
head(DF.z)
# time??????????????????? y1 y2???????????????????? y3
# 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00 
1.902113032590307e+00? 3.673819061467132e-16
# 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01 
1.902113032590307e+00 -1.763355756877419e+00
# 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01 
1.175570504584947e+00 -2.853169548885460e+00
# 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01 
1.133099690464601e-15 -2.853169548885460e+00
# 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01 
-1.175570504584946e+00 -1.763355756877420e+00
# 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16 
-1.902113032590306e+00 -3.399299071393802e-15
# If I use myformat.POSIXct I see that the index is correct in the 
object DF:
head(myformat.POSIXct(index(DF.z)))
## and when I plot I have an error:
xyplot(?? DF.z
 ????????? , screens = c(1,1,1)
 ????????? , type = "l"
 ????????? , col = c("red","blue","black")

)

# Error in prettyDate_TMP(x, ...) : range too small for min.n

# if I process by hand the plot of the labels on the x-axis it works:
#
myend <- tail(mydatetime,1)

myticks <- seq( mystart , to = myend , length = 5)
mylabels <- format(myticks,"%H:%M:%OS")

xyplot(????? DF.z
 ???????????? , screens = c(1,1,1)
 ???????????? , type = "l"
 ???????????? , col = c("red","blue","black")
 ???????????? , scales = list(
 ???????????????? y= list(relation = "free", abbreviate=TRUE),
 ???????????????? x = list( at = myticks, labels = mylabels
 ?????????????????????? , rot = 45, cex = 0.5)
 ?????????? )
)
# The microseconds are well taken into account with the window function
# if I want to plot only 100 microseconds but there is of course the same
# trouble for the plot

myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d 
%H:%M:%OS",tz="GMT")
myformat.POSIXct(myend)

DF.w <- window( DF.z ,start = mystart, end = myend)

myticks <- seq( mystart , to = myend , length = 5)
mylabels <- format(myticks,"%H:%M:%OS")

xyplot(????? DF.w
 ???????????? , screens = c(1,1,1)
 ???????????? , type = "l"
 ???????????? , col = c("red","blue","black")
)

## Error in prettyDate_TMP(x, ...) : range too small for min.n

xyplot(????? DF.w
 ???????????? , screens = c(1,1,1)
 ???????????? , type = "l"
 ???????????? , col = c("red","blue","black")
 ???????????? , scales = list(
 ?????????????? y= list(relation = "free", abbreviate=TRUE),
 ?????????????? x = list( at = myticks, labels = mylabels
 ???????????????????????? , rot = 45, cex = 0.5)
 ???????????? )
)

May you please tell me if I miss something in the way to use POSIXct
with microseconds in a zoo object ?

Thank you
Laurent






-- 
L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
https://www.avast.com/antivirus


From p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r  Mon Feb 22 17:23:54 2021
From: p@tr|ck@g|r@udoux @end|ng |rom un|v-|comte@|r (Patrick Giraudoux)
Date: Mon, 22 Feb 2021 17:23:54 +0100
Subject: [R] strptime, date and conversion of week number into POSIX
In-Reply-To: <2228dcca-64be-32d8-c6ff-719d4522bff3@statistik.tu-dortmund.de>
References: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
 <92b0bc0a-ff7d-8be5-67f3-4e811f5145da@univ-fcomte.fr>
 <2228dcca-64be-32d8-c6ff-719d4522bff3@statistik.tu-dortmund.de>
Message-ID: <ccd60b03-ebf4-8d30-dfcc-86035c83d138@univ-fcomte.fr>

Thanks Uwe and? Bert,
I got the essential now, and can manage. Date handling stays quite a 
challenge with a variable number of weeks in a year, but I can 
understand why. Means eye-control (or NA detection) of strptime 
conversion stays necessary...
Best,
Patrick


Le 22/02/2021 ? 17:09, Uwe Ligges a ?crit?:
> That monday does not exist. FOr the week before:
>
> strptime(paste0("2020-52","-1"),format="%Y-%W-%u")
> [1] "2020-12-28"
>
> One week later is no longer in 2020, so there is no 53th week.
>
> Best,
> Uwe Ligges
>
>
>
>
>
> On 22.02.2021 16:15, Patrick Giraudoux wrote:
>> Sorry to answer to myself, but the format was clearly incorrect in the
>> previous post. It should read, refering to the 1th day of the week:
>>
>> strptime(paste0(mydate,"-1"),format="%Y-%W-%u")
>>
>> It converts better, but with a NA on week 53
>>
>>> strptime(paste0(pays$year_week,"-1"),format="%Y-%W-%u")
>> ?? [1] "2020-01-06 CET"? "2020-01-13 CET"? "2020-01-20 CET" 
>> "2020-01-27 CET"
>> ?? [5] "2020-02-03 CET"? "2020-02-10 CET"? "2020-02-17 CET" 
>> "2020-02-24 CET"
>> ?? [9] "2020-03-02 CET"? "2020-03-09 CET"? "2020-03-16 CET" 
>> "2020-03-23 CET"
>> [13] "2020-03-30 CEST" "2020-04-06 CEST" "2020-04-13 CEST" 
>> "2020-04-20 CEST"
>> [17] "2020-04-27 CEST" "2020-05-04 CEST" "2020-05-11 CEST" 
>> "2020-05-18 CEST"
>> [21] "2020-05-25 CEST" "2020-06-01 CEST" "2020-06-08 CEST" 
>> "2020-06-15 CEST"
>> [25] "2020-06-22 CEST" "2020-06-29 CEST" "2020-07-06 CEST" 
>> "2020-07-13 CEST"
>> [29] "2020-07-20 CEST" "2020-07-27 CEST" "2020-08-03 CEST" 
>> "2020-08-10 CEST"
>> [33] "2020-08-17 CEST" "2020-08-24 CEST" "2020-08-31 CEST" 
>> "2020-09-07 CEST"
>> [37] "2020-09-14 CEST" "2020-09-21 CEST" "2020-09-28 CEST" 
>> "2020-10-05 CEST"
>> [41] "2020-10-12 CEST" "2020-10-19 CEST" "2020-10-26 CET" "2020-11-02 
>> CET"
>> [45] "2020-11-09 CET"? "2020-11-16 CET"? "2020-11-23 CET" "2020-11-30 
>> CET"
>> [49] "2020-12-07 CET"? "2020-12-14 CET"? "2020-12-21 CET" "2020-12-28 
>> CET"
>> [53] NA??????????????? "2021-01-04 CET"? "2021-01-11 CET" "2021-01-18 
>> CET"
>> [57] "2021-01-25 CET"? "2021-02-01 CET"? "2021-02-08 CET"
>> Warning message:
>> In strptime(paste0(pays$year_week, "-1"), format = "%Y-%W-%u") :
>> ??? (0-based) yday 369 in year 2020 is invalid
>>
>>
>> Any idea on how to handle this ?
>>
>>
>>
>>
>> Le 22/02/2021 ? 15:26, Patrick Giraudoux a ?crit?:
>>>
>>> Dear all,
>>>
>>> I have a trouble trying to convert dates? given in character to POSIX.
>>> The date is expressed as a year then the week number e.g. "2020-01"
>>> (first week of 2020). I thought is can be converted as following:
>>>
>>> strptime(mydate,format="%Y-%W")
>>>
>>> %W refering to the week of the year as decimal number (00?53) using
>>> Monday as the first day of week (and typically with the first Monday
>>> of the year as day 1 of week 1), as indicated in the doc.
>>>
>>> However, I got this result, with the month fixed to 02 (february) and
>>> day 22 (only the year is? converted correctly):
>>>
>>> strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22 CET"
>>> "2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22
>>> CET" "2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET"
>>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22
>>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [17]
>>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>>> [21] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
>>> CET" [25] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>>> "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
>>> CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET"
>>> "2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22
>>> CET" "2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET"
>>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22
>>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [49]
>>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
>>> [53] "2020-02-22 CET" "2021-02-22 CET" "2021-02-22 CET" "2021-02-22
>>> CET" [57] "2021-02-22 CET" "2021-02-22 CET" "2021-02-22 CET"
>>>
>>> You'll find below a dump of "mydate" you can copy and paster if you
>>> need a try
>>>
>>> Any hint welcome...
>>>
>>> Best,
>>>
>>> Patrick
>>>
>>> mydate <-
>>> c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
>>> "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
>>> "2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
>>> "2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
>>> "2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
>>> "2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
>>> "2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
>>> "2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
>>> "2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
>>> "2021-02", "2021-03", "2021-04", "2021-05", "2021-06")
>>>
>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>


	[[alternative HTML version deleted]]


From ggrothend|eck @end|ng |rom gm@||@com  Mon Feb 22 17:56:29 2021
From: ggrothend|eck @end|ng |rom gm@||@com (Gabor Grothendieck)
Date: Mon, 22 Feb 2021 11:56:29 -0500
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
Message-ID: <CAP01uR=JkR2ZkbO4hEAc1yUVsC64rcTALTP_A7uhoqXKAJ+MQQ@mail.gmail.com>

I assume that this is a lattice problem.  Replacing xyplot with plot
and using all the same arguments there is no error.


On Mon, Feb 22, 2021 at 11:26 AM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>
> Dear R-Help-List,
>
>     I have to process time series with a sampling frequency of 1 MHz.
> I use the POSIXct format for the date-times with microsecond in a zoo
> object and the xyplot.zoo function to do the graphs.
> As I show in the below example I had a trouble to plot the labels on the
> x-axis with an error message. I found a solution but I would like to
> know if I miss something.
> The link
> https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
>
> helped me to understand how to print the POSIXct value to see the
> microseconds thanks to the function myformat.POSIXct:
>
> myformat.POSIXct <- function(x, digits=6)
> {
>    x2 <- round(unclass(x), digits)
>    attributes(x2) <- attributes(x)
>    x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
>    x$sec <- round(x$sec, digits)
>    format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
>
> }
>
>
> ## The example giving the error message:
>
> library(lattice)
> library(zoo)
>
> ##
> options(digits = 16) # to see all the digits on the screen
> options(digits.secs = 6) # to see the microseconds
> # mock data
> # a sine with a frequency f0 and two others with a delay
> Fs <- 1e+6 # sampling frequency 1 MHz
> Ts <- 1/Fs
> # frequency of the sinus
> f0 <- 100000
> t0 <- 1/f0
> time <- seq(0, length = 1000, by = Ts)
> A1 <- 1
> y1 <- A1 * sin(2*pi*f0*time)
> y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
> y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
> ## creation of a dataframe:
> ##
> DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
> # Since I want to allow for the datetime POSIXct format on the x-axis
> # for the plot I transform my dataframe in a zoo object
> #
> # say that my acquisition began at "2021-02-08 09:15:50.000000"
> #
> mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
> %H:%M:%OS",tz="GMT")
> mystart
> # To see the correct datetime I use the myformat.POSIXct function
> myformat.POSIXct(mystart)
> ##
> ## using the method seq.POSIXct as following doesn't work:
> ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
> ## head( myformat.POSIXct(mydatetime) )
> ## if I use the following command it works:
> mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
> head( myformat.POSIXct(mydatetime) )
> ## I do the zoo object:
> DF.z <- zoo(DF[,-1],order.by = mydatetime)
> ## We don't see the correct value for the index:
> head(DF.z)
> # time                    y1 y2                     y3
> # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
> 1.902113032590307e+00  3.673819061467132e-16
> # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
> 1.902113032590307e+00 -1.763355756877419e+00
> # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
> 1.175570504584947e+00 -2.853169548885460e+00
> # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
> 1.133099690464601e-15 -2.853169548885460e+00
> # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
> -1.175570504584946e+00 -1.763355756877420e+00
> # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
> -1.902113032590306e+00 -3.399299071393802e-15
> # If I use myformat.POSIXct I see that the index is correct in the
> object DF:
> head(myformat.POSIXct(index(DF.z)))
> ## and when I plot I have an error:
> xyplot(   DF.z
>            , screens = c(1,1,1)
>            , type = "l"
>            , col = c("red","blue","black")
>
> )
>
> # Error in prettyDate_TMP(x, ...) : range too small for min.n
>
> # if I process by hand the plot of the labels on the x-axis it works:
> #
> myend <- tail(mydatetime,1)
>
> myticks <- seq( mystart , to = myend , length = 5)
> mylabels <- format(myticks,"%H:%M:%OS")
>
> xyplot(      DF.z
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
>               , scales = list(
>                   y= list(relation = "free", abbreviate=TRUE),
>                   x = list( at = myticks, labels = mylabels
>                         , rot = 45, cex = 0.5)
>             )
> )
> # The microseconds are well taken into account with the window function
> # if I want to plot only 100 microseconds but there is of course the same
> # trouble for the plot
>
> myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
> %H:%M:%OS",tz="GMT")
> myformat.POSIXct(myend)
>
> DF.w <- window( DF.z ,start = mystart, end = myend)
>
> myticks <- seq( mystart , to = myend , length = 5)
> mylabels <- format(myticks,"%H:%M:%OS")
>
> xyplot(      DF.w
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
> )
>
> ## Error in prettyDate_TMP(x, ...) : range too small for min.n
>
> xyplot(      DF.w
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
>               , scales = list(
>                 y= list(relation = "free", abbreviate=TRUE),
>                 x = list( at = myticks, labels = mylabels
>                           , rot = 45, cex = 0.5)
>               )
> )
>
> May you please tell me if I miss something in the way to use POSIXct
> with microseconds in a zoo object ?
>
> Thank you
> Laurent
>
>
>
>
>
>
> --
> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
> https://www.avast.com/antivirus
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



--
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From deep@y@n@@@rk@r @end|ng |rom gm@||@com  Mon Feb 22 18:01:37 2021
From: deep@y@n@@@rk@r @end|ng |rom gm@||@com (Deepayan Sarkar)
Date: Mon, 22 Feb 2021 22:31:37 +0530
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
Message-ID: <CADfFDC74o=ZgrzgHrGzoT47TEExjCVfw_1XhvxiYwqbCq63nTA@mail.gmail.com>

On Mon, Feb 22, 2021 at 9:56 PM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>
> Dear R-Help-List,
>
>     I have to process time series with a sampling frequency of 1 MHz.
> I use the POSIXct format for the date-times with microsecond in a zoo
> object and the xyplot.zoo function to do the graphs.
> As I show in the below example I had a trouble to plot the labels on the
> x-axis with an error message. I found a solution but I would like to
> know if I miss something.
> The link
> https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
>
> helped me to understand how to print the POSIXct value to see the
> microseconds thanks to the function myformat.POSIXct:
>
> myformat.POSIXct <- function(x, digits=6)
> {
>    x2 <- round(unclass(x), digits)
>    attributes(x2) <- attributes(x)
>    x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
>    x$sec <- round(x$sec, digits)
>    format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
>
> }
>
>
> ## The example giving the error message:
>
> library(lattice)
> library(zoo)
>
> ##
> options(digits = 16) # to see all the digits on the screen
> options(digits.secs = 6) # to see the microseconds
> # mock data
> # a sine with a frequency f0 and two others with a delay
> Fs <- 1e+6 # sampling frequency 1 MHz
> Ts <- 1/Fs
> # frequency of the sinus
> f0 <- 100000
> t0 <- 1/f0
> time <- seq(0, length = 1000, by = Ts)
> A1 <- 1
> y1 <- A1 * sin(2*pi*f0*time)
> y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
> y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
> ## creation of a dataframe:
> ##
> DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
> # Since I want to allow for the datetime POSIXct format on the x-axis
> # for the plot I transform my dataframe in a zoo object
> #
> # say that my acquisition began at "2021-02-08 09:15:50.000000"
> #
> mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
> %H:%M:%OS",tz="GMT")
> mystart
> # To see the correct datetime I use the myformat.POSIXct function
> myformat.POSIXct(mystart)
> ##
> ## using the method seq.POSIXct as following doesn't work:
> ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
> ## head( myformat.POSIXct(mydatetime) )
> ## if I use the following command it works:
> mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
> head( myformat.POSIXct(mydatetime) )
> ## I do the zoo object:
> DF.z <- zoo(DF[,-1],order.by = mydatetime)
> ## We don't see the correct value for the index:
> head(DF.z)
> # time                    y1 y2                     y3
> # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
> 1.902113032590307e+00  3.673819061467132e-16
> # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
> 1.902113032590307e+00 -1.763355756877419e+00
> # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
> 1.175570504584947e+00 -2.853169548885460e+00
> # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
> 1.133099690464601e-15 -2.853169548885460e+00
> # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
> -1.175570504584946e+00 -1.763355756877420e+00
> # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
> -1.902113032590306e+00 -3.399299071393802e-15
> # If I use myformat.POSIXct I see that the index is correct in the
> object DF:
> head(myformat.POSIXct(index(DF.z)))
> ## and when I plot I have an error:
> xyplot(   DF.z
>            , screens = c(1,1,1)
>            , type = "l"
>            , col = c("red","blue","black")
>
> )
>
> # Error in prettyDate_TMP(x, ...) : range too small for min.n

At least the immediate problem is that

lattice:::prettyDate_TMP(range(mydatetime))
# Error in lattice:::prettyDate_TMP(range(mydatetime)) :
# range too small for min.n

grDevices:::prettyDate(range(mydatetime))
# [1] "2021-02-08 09:15:48 GMT" "2021-02-08 09:15:49 GMT"
# [3] "2021-02-08 09:15:50 GMT" "2021-02-08 09:15:51 GMT"
# [5] "2021-02-08 09:15:52 GMT" "2021-02-08 09:15:53 GMT"

So the version in lattice (which was supposed to be a temporary
stopgap till R 2.12 was released) has not kept up. I will fix.

Does the output above look OK to you?

Best,
-Deepayan


> # if I process by hand the plot of the labels on the x-axis it works:
> #
> myend <- tail(mydatetime,1)
>
> myticks <- seq( mystart , to = myend , length = 5)
> mylabels <- format(myticks,"%H:%M:%OS")
>
> xyplot(      DF.z
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
>               , scales = list(
>                   y= list(relation = "free", abbreviate=TRUE),
>                   x = list( at = myticks, labels = mylabels
>                         , rot = 45, cex = 0.5)
>             )
> )
> # The microseconds are well taken into account with the window function
> # if I want to plot only 100 microseconds but there is of course the same
> # trouble for the plot
>
> myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
> %H:%M:%OS",tz="GMT")
> myformat.POSIXct(myend)
>
> DF.w <- window( DF.z ,start = mystart, end = myend)
>
> myticks <- seq( mystart , to = myend , length = 5)
> mylabels <- format(myticks,"%H:%M:%OS")
>
> xyplot(      DF.w
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
> )
>
> ## Error in prettyDate_TMP(x, ...) : range too small for min.n
>
> xyplot(      DF.w
>               , screens = c(1,1,1)
>               , type = "l"
>               , col = c("red","blue","black")
>               , scales = list(
>                 y= list(relation = "free", abbreviate=TRUE),
>                 x = list( at = myticks, labels = mylabels
>                           , rot = 45, cex = 0.5)
>               )
> )
>
> May you please tell me if I miss something in the way to use POSIXct
> with microseconds in a zoo object ?
>
> Thank you
> Laurent
>
>
>
>
>
>
> --
> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
> https://www.avast.com/antivirus
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From L@urentRHe|p @end|ng |rom |ree@|r  Mon Feb 22 18:33:22 2021
From: L@urentRHe|p @end|ng |rom |ree@|r (Laurent Rhelp)
Date: Mon, 22 Feb 2021 18:33:22 +0100
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <CADfFDC74o=ZgrzgHrGzoT47TEExjCVfw_1XhvxiYwqbCq63nTA@mail.gmail.com>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
 <CADfFDC74o=ZgrzgHrGzoT47TEExjCVfw_1XhvxiYwqbCq63nTA@mail.gmail.com>
Message-ID: <5b518d98-3552-14ef-9800-3a4a357cdc92@free.fr>

Le 22/02/2021 ? 18:01, Deepayan Sarkar a ?crit?:
> On Mon, Feb 22, 2021 at 9:56 PM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>> Dear R-Help-List,
>>
>>      I have to process time series with a sampling frequency of 1 MHz.
>> I use the POSIXct format for the date-times with microsecond in a zoo
>> object and the xyplot.zoo function to do the graphs.
>> As I show in the below example I had a trouble to plot the labels on the
>> x-axis with an error message. I found a solution but I would like to
>> know if I miss something.
>> The link
>> https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
>>
>> helped me to understand how to print the POSIXct value to see the
>> microseconds thanks to the function myformat.POSIXct:
>>
>> myformat.POSIXct <- function(x, digits=6)
>> {
>>     x2 <- round(unclass(x), digits)
>>     attributes(x2) <- attributes(x)
>>     x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
>>     x$sec <- round(x$sec, digits)
>>     format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
>>
>> }
>>
>>
>> ## The example giving the error message:
>>
>> library(lattice)
>> library(zoo)
>>
>> ##
>> options(digits = 16) # to see all the digits on the screen
>> options(digits.secs = 6) # to see the microseconds
>> # mock data
>> # a sine with a frequency f0 and two others with a delay
>> Fs <- 1e+6 # sampling frequency 1 MHz
>> Ts <- 1/Fs
>> # frequency of the sinus
>> f0 <- 100000
>> t0 <- 1/f0
>> time <- seq(0, length = 1000, by = Ts)
>> A1 <- 1
>> y1 <- A1 * sin(2*pi*f0*time)
>> y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
>> y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
>> ## creation of a dataframe:
>> ##
>> DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
>> # Since I want to allow for the datetime POSIXct format on the x-axis
>> # for the plot I transform my dataframe in a zoo object
>> #
>> # say that my acquisition began at "2021-02-08 09:15:50.000000"
>> #
>> mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
>> %H:%M:%OS",tz="GMT")
>> mystart
>> # To see the correct datetime I use the myformat.POSIXct function
>> myformat.POSIXct(mystart)
>> ##
>> ## using the method seq.POSIXct as following doesn't work:
>> ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
>> ## head( myformat.POSIXct(mydatetime) )
>> ## if I use the following command it works:
>> mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
>> head( myformat.POSIXct(mydatetime) )
>> ## I do the zoo object:
>> DF.z <- zoo(DF[,-1],order.by = mydatetime)
>> ## We don't see the correct value for the index:
>> head(DF.z)
>> # time                    y1 y2                     y3
>> # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
>> 1.902113032590307e+00  3.673819061467132e-16
>> # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
>> 1.902113032590307e+00 -1.763355756877419e+00
>> # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
>> 1.175570504584947e+00 -2.853169548885460e+00
>> # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
>> 1.133099690464601e-15 -2.853169548885460e+00
>> # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
>> -1.175570504584946e+00 -1.763355756877420e+00
>> # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
>> -1.902113032590306e+00 -3.399299071393802e-15
>> # If I use myformat.POSIXct I see that the index is correct in the
>> object DF:
>> head(myformat.POSIXct(index(DF.z)))
>> ## and when I plot I have an error:
>> xyplot(   DF.z
>>             , screens = c(1,1,1)
>>             , type = "l"
>>             , col = c("red","blue","black")
>>
>> )
>>
>> # Error in prettyDate_TMP(x, ...) : range too small for min.n
> At least the immediate problem is that
>
> lattice:::prettyDate_TMP(range(mydatetime))
> # Error in lattice:::prettyDate_TMP(range(mydatetime)) :
> # range too small for min.n
>
> grDevices:::prettyDate(range(mydatetime))
> # [1] "2021-02-08 09:15:48 GMT" "2021-02-08 09:15:49 GMT"
> # [3] "2021-02-08 09:15:50 GMT" "2021-02-08 09:15:51 GMT"
> # [5] "2021-02-08 09:15:52 GMT" "2021-02-08 09:15:53 GMT"
>
> So the version in lattice (which was supposed to be a temporary
> stopgap till R 2.12 was released) has not kept up. I will fix.
>
> Does the output above look OK to you?

It is ok for me except the fact that I would like to see on the x-axis 
labels the fractional seconds, at least the milliseconds.


> Best,
> -Deepayan
>
>
>> # if I process by hand the plot of the labels on the x-axis it works:
>> #
>> myend <- tail(mydatetime,1)
>>
>> myticks <- seq( mystart , to = myend , length = 5)
>> mylabels <- format(myticks,"%H:%M:%OS")
>>
>> xyplot(      DF.z
>>                , screens = c(1,1,1)
>>                , type = "l"
>>                , col = c("red","blue","black")
>>                , scales = list(
>>                    y= list(relation = "free", abbreviate=TRUE),
>>                    x = list( at = myticks, labels = mylabels
>>                          , rot = 45, cex = 0.5)
>>              )
>> )
>> # The microseconds are well taken into account with the window function
>> # if I want to plot only 100 microseconds but there is of course the same
>> # trouble for the plot
>>
>> myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
>> %H:%M:%OS",tz="GMT")
>> myformat.POSIXct(myend)
>>
>> DF.w <- window( DF.z ,start = mystart, end = myend)
>>
>> myticks <- seq( mystart , to = myend , length = 5)
>> mylabels <- format(myticks,"%H:%M:%OS")
>>
>> xyplot(      DF.w
>>                , screens = c(1,1,1)
>>                , type = "l"
>>                , col = c("red","blue","black")
>> )
>>
>> ## Error in prettyDate_TMP(x, ...) : range too small for min.n
>>
>> xyplot(      DF.w
>>                , screens = c(1,1,1)
>>                , type = "l"
>>                , col = c("red","blue","black")
>>                , scales = list(
>>                  y= list(relation = "free", abbreviate=TRUE),
>>                  x = list( at = myticks, labels = mylabels
>>                            , rot = 45, cex = 0.5)
>>                )
>> )
>>
>> May you please tell me if I miss something in the way to use POSIXct
>> with microseconds in a zoo object ?
>>
>> Thank you
>> Laurent
>>
>>
>>
>>
>>
>>
>> --
>> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
>> https://www.avast.com/antivirus
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.



-- 
L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
https://www.avast.com/antivirus


From L@urentRHe|p @end|ng |rom |ree@|r  Mon Feb 22 18:41:49 2021
From: L@urentRHe|p @end|ng |rom |ree@|r (Laurent Rhelp)
Date: Mon, 22 Feb 2021 18:41:49 +0100
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <CAP01uRn_zZvp2sVEEjPBoSQiUgGfim3NgPk36A9BupTRNJqXaw@mail.gmail.com>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
 <CAP01uR=JkR2ZkbO4hEAc1yUVsC64rcTALTP_A7uhoqXKAJ+MQQ@mail.gmail.com>
 <592ab0fe-d064-a9a6-af04-c3e854b24421@free.fr>
 <CAP01uRnDjEeUZ5MtnrwEFNQeH6GiJHF4W2DOYRn9FU-aEQmLxg@mail.gmail.com>
 <CAP01uRn_zZvp2sVEEjPBoSQiUgGfim3NgPk36A9BupTRNJqXaw@mail.gmail.com>
Message-ID: <b4488099-9c80-679b-8542-5688443d0da3@free.fr>

Le 22/02/2021 ? 18:32, Gabor Grothendieck a ?crit?:
> P.S. screen= is recycled so screen=1 would be sufficient.

ok thank you. I will write my axis command.

Best Regards

>
> On Mon, Feb 22, 2021 at 12:31 PM Gabor Grothendieck
> <ggrothendieck at gmail.com> wrote:
>> You can use the xaxt = "n" argument to plot.zoo
>> to suppress the X axis and then issue
>> an axis command.  plot.zoo has examples.
>>
>> On Mon, Feb 22, 2021 at 12:14 PM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>>> You are right, if I replace xyplot by plot there is no error message but
>>> the POSIXct format is not taken into account for the labels on the
>>> x-axis. Do I have to write a panel function as it is explained in the
>>> zoo FAQ #8 ?
>>>
>>> And is there a possibility to see the correct values of the index (i.e.
>>> with the correct microseconds) when I see the zoo object, in my example,
>>> when I type head(DF.z) for example ?
>>>
>>>
>>>
>>> Le 22/02/2021 ? 17:56, Gabor Grothendieck a ?crit :
>>>> I assume that this is a lattice problem.  Replacing xyplot with plot
>>>> and using all the same arguments there is no error.
>>>>
>>>>
>>>> On Mon, Feb 22, 2021 at 11:26 AM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>>>>> Dear R-Help-List,
>>>>>
>>>>>       I have to process time series with a sampling frequency of 1 MHz.
>>>>> I use the POSIXct format for the date-times with microsecond in a zoo
>>>>> object and the xyplot.zoo function to do the graphs.
>>>>> As I show in the below example I had a trouble to plot the labels on the
>>>>> x-axis with an error message. I found a solution but I would like to
>>>>> know if I miss something.
>>>>> The link
>>>>> https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
>>>>>
>>>>> helped me to understand how to print the POSIXct value to see the
>>>>> microseconds thanks to the function myformat.POSIXct:
>>>>>
>>>>> myformat.POSIXct <- function(x, digits=6)
>>>>> {
>>>>>      x2 <- round(unclass(x), digits)
>>>>>      attributes(x2) <- attributes(x)
>>>>>      x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
>>>>>      x$sec <- round(x$sec, digits)
>>>>>      format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
>>>>>
>>>>> }
>>>>>
>>>>>
>>>>> ## The example giving the error message:
>>>>>
>>>>> library(lattice)
>>>>> library(zoo)
>>>>>
>>>>> ##
>>>>> options(digits = 16) # to see all the digits on the screen
>>>>> options(digits.secs = 6) # to see the microseconds
>>>>> # mock data
>>>>> # a sine with a frequency f0 and two others with a delay
>>>>> Fs <- 1e+6 # sampling frequency 1 MHz
>>>>> Ts <- 1/Fs
>>>>> # frequency of the sinus
>>>>> f0 <- 100000
>>>>> t0 <- 1/f0
>>>>> time <- seq(0, length = 1000, by = Ts)
>>>>> A1 <- 1
>>>>> y1 <- A1 * sin(2*pi*f0*time)
>>>>> y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
>>>>> y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
>>>>> ## creation of a dataframe:
>>>>> ##
>>>>> DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
>>>>> # Since I want to allow for the datetime POSIXct format on the x-axis
>>>>> # for the plot I transform my dataframe in a zoo object
>>>>> #
>>>>> # say that my acquisition began at "2021-02-08 09:15:50.000000"
>>>>> #
>>>>> mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
>>>>> %H:%M:%OS",tz="GMT")
>>>>> mystart
>>>>> # To see the correct datetime I use the myformat.POSIXct function
>>>>> myformat.POSIXct(mystart)
>>>>> ##
>>>>> ## using the method seq.POSIXct as following doesn't work:
>>>>> ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
>>>>> ## head( myformat.POSIXct(mydatetime) )
>>>>> ## if I use the following command it works:
>>>>> mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
>>>>> head( myformat.POSIXct(mydatetime) )
>>>>> ## I do the zoo object:
>>>>> DF.z <- zoo(DF[,-1],order.by = mydatetime)
>>>>> ## We don't see the correct value for the index:
>>>>> head(DF.z)
>>>>> # time                    y1 y2                     y3
>>>>> # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
>>>>> 1.902113032590307e+00  3.673819061467132e-16
>>>>> # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
>>>>> 1.902113032590307e+00 -1.763355756877419e+00
>>>>> # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
>>>>> 1.175570504584947e+00 -2.853169548885460e+00
>>>>> # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
>>>>> 1.133099690464601e-15 -2.853169548885460e+00
>>>>> # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
>>>>> -1.175570504584946e+00 -1.763355756877420e+00
>>>>> # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
>>>>> -1.902113032590306e+00 -3.399299071393802e-15
>>>>> # If I use myformat.POSIXct I see that the index is correct in the
>>>>> object DF:
>>>>> head(myformat.POSIXct(index(DF.z)))
>>>>> ## and when I plot I have an error:
>>>>> xyplot(   DF.z
>>>>>              , screens = c(1,1,1)
>>>>>              , type = "l"
>>>>>              , col = c("red","blue","black")
>>>>>
>>>>> )
>>>>>
>>>>> # Error in prettyDate_TMP(x, ...) : range too small for min.n
>>>>>
>>>>> # if I process by hand the plot of the labels on the x-axis it works:
>>>>> #
>>>>> myend <- tail(mydatetime,1)
>>>>>
>>>>> myticks <- seq( mystart , to = myend , length = 5)
>>>>> mylabels <- format(myticks,"%H:%M:%OS")
>>>>>
>>>>> xyplot(      DF.z
>>>>>                 , screens = c(1,1,1)
>>>>>                 , type = "l"
>>>>>                 , col = c("red","blue","black")
>>>>>                 , scales = list(
>>>>>                     y= list(relation = "free", abbreviate=TRUE),
>>>>>                     x = list( at = myticks, labels = mylabels
>>>>>                           , rot = 45, cex = 0.5)
>>>>>               )
>>>>> )
>>>>> # The microseconds are well taken into account with the window function
>>>>> # if I want to plot only 100 microseconds but there is of course the same
>>>>> # trouble for the plot
>>>>>
>>>>> myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
>>>>> %H:%M:%OS",tz="GMT")
>>>>> myformat.POSIXct(myend)
>>>>>
>>>>> DF.w <- window( DF.z ,start = mystart, end = myend)
>>>>>
>>>>> myticks <- seq( mystart , to = myend , length = 5)
>>>>> mylabels <- format(myticks,"%H:%M:%OS")
>>>>>
>>>>> xyplot(      DF.w
>>>>>                 , screens = c(1,1,1)
>>>>>                 , type = "l"
>>>>>                 , col = c("red","blue","black")
>>>>> )
>>>>>
>>>>> ## Error in prettyDate_TMP(x, ...) : range too small for min.n
>>>>>
>>>>> xyplot(      DF.w
>>>>>                 , screens = c(1,1,1)
>>>>>                 , type = "l"
>>>>>                 , col = c("red","blue","black")
>>>>>                 , scales = list(
>>>>>                   y= list(relation = "free", abbreviate=TRUE),
>>>>>                   x = list( at = myticks, labels = mylabels
>>>>>                             , rot = 45, cex = 0.5)
>>>>>                 )
>>>>> )
>>>>>
>>>>> May you please tell me if I miss something in the way to use POSIXct
>>>>> with microseconds in a zoo object ?
>>>>>
>>>>> Thank you
>>>>> Laurent
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
>>>>> https://www.avast.com/antivirus
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> --
>>>> Statistics & Software Consulting
>>>> GKX Group, GKX Associates Inc.
>>>> tel: 1-877-GKX-GROUP
>>>> email: ggrothendieck at gmail.com
>>>
>>>
>>> --
>>> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
>>> https://www.avast.com/antivirus
>>>
>>
>> --
>> Statistics & Software Consulting
>> GKX Group, GKX Associates Inc.
>> tel: 1-877-GKX-GROUP
>> email: ggrothendieck at gmail.com
>
>


From ggrothend|eck @end|ng |rom gm@||@com  Mon Feb 22 19:32:44 2021
From: ggrothend|eck @end|ng |rom gm@||@com (Gabor Grothendieck)
Date: Mon, 22 Feb 2021 13:32:44 -0500
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <CAP01uR=JkR2ZkbO4hEAc1yUVsC64rcTALTP_A7uhoqXKAJ+MQQ@mail.gmail.com>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
 <CAP01uR=JkR2ZkbO4hEAc1yUVsC64rcTALTP_A7uhoqXKAJ+MQQ@mail.gmail.com>
Message-ID: <CAP01uRkUG2Kjh1E7iLW29+whuLpjgZoeePimCsM3VCHH3HzMZw@mail.gmail.com>

Also, it might be better to simply use seconds as the time. In that
case both plot and xyplot run without error.

 time(DF.w) <- as.POSIXlt(time(DF.w))$sec
 # now run plot or xyplot as before

On Mon, Feb 22, 2021 at 11:56 AM Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
>
> I assume that this is a lattice problem.  Replacing xyplot with plot
> and using all the same arguments there is no error.
>
>
> On Mon, Feb 22, 2021 at 11:26 AM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
> >
> > Dear R-Help-List,
> >
> >     I have to process time series with a sampling frequency of 1 MHz.
> > I use the POSIXct format for the date-times with microsecond in a zoo
> > object and the xyplot.zoo function to do the graphs.
> > As I show in the below example I had a trouble to plot the labels on the
> > x-axis with an error message. I found a solution but I would like to
> > know if I miss something.
> > The link
> > https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
> >
> > helped me to understand how to print the POSIXct value to see the
> > microseconds thanks to the function myformat.POSIXct:
> >
> > myformat.POSIXct <- function(x, digits=6)
> > {
> >    x2 <- round(unclass(x), digits)
> >    attributes(x2) <- attributes(x)
> >    x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
> >    x$sec <- round(x$sec, digits)
> >    format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
> >
> > }
> >
> >
> > ## The example giving the error message:
> >
> > library(lattice)
> > library(zoo)
> >
> > ##
> > options(digits = 16) # to see all the digits on the screen
> > options(digits.secs = 6) # to see the microseconds
> > # mock data
> > # a sine with a frequency f0 and two others with a delay
> > Fs <- 1e+6 # sampling frequency 1 MHz
> > Ts <- 1/Fs
> > # frequency of the sinus
> > f0 <- 100000
> > t0 <- 1/f0
> > time <- seq(0, length = 1000, by = Ts)
> > A1 <- 1
> > y1 <- A1 * sin(2*pi*f0*time)
> > y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
> > y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
> > ## creation of a dataframe:
> > ##
> > DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
> > # Since I want to allow for the datetime POSIXct format on the x-axis
> > # for the plot I transform my dataframe in a zoo object
> > #
> > # say that my acquisition began at "2021-02-08 09:15:50.000000"
> > #
> > mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
> > %H:%M:%OS",tz="GMT")
> > mystart
> > # To see the correct datetime I use the myformat.POSIXct function
> > myformat.POSIXct(mystart)
> > ##
> > ## using the method seq.POSIXct as following doesn't work:
> > ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
> > ## head( myformat.POSIXct(mydatetime) )
> > ## if I use the following command it works:
> > mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
> > head( myformat.POSIXct(mydatetime) )
> > ## I do the zoo object:
> > DF.z <- zoo(DF[,-1],order.by = mydatetime)
> > ## We don't see the correct value for the index:
> > head(DF.z)
> > # time                    y1 y2                     y3
> > # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
> > 1.902113032590307e+00  3.673819061467132e-16
> > # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
> > 1.902113032590307e+00 -1.763355756877419e+00
> > # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
> > 1.175570504584947e+00 -2.853169548885460e+00
> > # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
> > 1.133099690464601e-15 -2.853169548885460e+00
> > # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
> > -1.175570504584946e+00 -1.763355756877420e+00
> > # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
> > -1.902113032590306e+00 -3.399299071393802e-15
> > # If I use myformat.POSIXct I see that the index is correct in the
> > object DF:
> > head(myformat.POSIXct(index(DF.z)))
> > ## and when I plot I have an error:
> > xyplot(   DF.z
> >            , screens = c(1,1,1)
> >            , type = "l"
> >            , col = c("red","blue","black")
> >
> > )
> >
> > # Error in prettyDate_TMP(x, ...) : range too small for min.n
> >
> > # if I process by hand the plot of the labels on the x-axis it works:
> > #
> > myend <- tail(mydatetime,1)
> >
> > myticks <- seq( mystart , to = myend , length = 5)
> > mylabels <- format(myticks,"%H:%M:%OS")
> >
> > xyplot(      DF.z
> >               , screens = c(1,1,1)
> >               , type = "l"
> >               , col = c("red","blue","black")
> >               , scales = list(
> >                   y= list(relation = "free", abbreviate=TRUE),
> >                   x = list( at = myticks, labels = mylabels
> >                         , rot = 45, cex = 0.5)
> >             )
> > )
> > # The microseconds are well taken into account with the window function
> > # if I want to plot only 100 microseconds but there is of course the same
> > # trouble for the plot
> >
> > myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
> > %H:%M:%OS",tz="GMT")
> > myformat.POSIXct(myend)
> >
> > DF.w <- window( DF.z ,start = mystart, end = myend)
> >
> > myticks <- seq( mystart , to = myend , length = 5)
> > mylabels <- format(myticks,"%H:%M:%OS")
> >
> > xyplot(      DF.w
> >               , screens = c(1,1,1)
> >               , type = "l"
> >               , col = c("red","blue","black")
> > )
> >
> > ## Error in prettyDate_TMP(x, ...) : range too small for min.n
> >
> > xyplot(      DF.w
> >               , screens = c(1,1,1)
> >               , type = "l"
> >               , col = c("red","blue","black")
> >               , scales = list(
> >                 y= list(relation = "free", abbreviate=TRUE),
> >                 x = list( at = myticks, labels = mylabels
> >                           , rot = 45, cex = 0.5)
> >               )
> > )
> >
> > May you please tell me if I miss something in the way to use POSIXct
> > with microseconds in a zoo object ?
> >
> > Thank you
> > Laurent
> >
> >
> >
> >
> >
> >
> > --
> > L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
> > https://www.avast.com/antivirus
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Statistics & Software Consulting
> GKX Group, GKX Associates Inc.
> tel: 1-877-GKX-GROUP
> email: ggrothendieck at gmail.com



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From L@urentRHe|p @end|ng |rom |ree@|r  Mon Feb 22 21:20:36 2021
From: L@urentRHe|p @end|ng |rom |ree@|r (Laurent Rhelp)
Date: Mon, 22 Feb 2021 21:20:36 +0100
Subject: [R] 
 xyplot.zoo trouble with the index when I use microseconds (type
 POSIXct)
In-Reply-To: <CAP01uRkUG2Kjh1E7iLW29+whuLpjgZoeePimCsM3VCHH3HzMZw@mail.gmail.com>
References: <55946c76-754d-6156-d55e-db8c2c455f91@free.fr>
 <CAP01uR=JkR2ZkbO4hEAc1yUVsC64rcTALTP_A7uhoqXKAJ+MQQ@mail.gmail.com>
 <CAP01uRkUG2Kjh1E7iLW29+whuLpjgZoeePimCsM3VCHH3HzMZw@mail.gmail.com>
Message-ID: <50bab46a-1091-5de3-4eea-c50325c2a0f6@free.fr>

yes, good idea, eventually here's what I will do:

time(DF.w) <- as.POSIXlt(time(DF.w))$sec
myticks <- round(pretty(time(DF.w)),6)
mylabels <- as.character(formatC(myticks,format = 
"f",digits=6,width=9,flag=" "))

xyplot(????? DF.w
 ?, xlab = paste0("Seconds from ",format(mystart,"%Y-%m-%d %H:%M"))
 ?, type = "l"
 ?, screens = 1
 ?,? col = c("red","blue","black")
 ?,? scales = list( y= list(relation = "free", abbreviate=TRUE)
 ????????????????????? , x = list( at = myticks, labels = mylabels
 ????????????????????? , rot = 45, abbreviate = FALSE
 ????????????????????? , cex = 0.6)
 ???????????? )
)

Thank you



Le 22/02/2021 ? 19:32, Gabor Grothendieck a ?crit?:
> Also, it might be better to simply use seconds as the time. In that
> case both plot and xyplot run without error.
>
>   time(DF.w) <- as.POSIXlt(time(DF.w))$sec
>   # now run plot or xyplot as before
>
> On Mon, Feb 22, 2021 at 11:56 AM Gabor Grothendieck
> <ggrothendieck at gmail.com> wrote:
>> I assume that this is a lattice problem.  Replacing xyplot with plot
>> and using all the same arguments there is no error.
>>
>>
>> On Mon, Feb 22, 2021 at 11:26 AM Laurent Rhelp <LaurentRHelp at free.fr> wrote:
>>> Dear R-Help-List,
>>>
>>>      I have to process time series with a sampling frequency of 1 MHz.
>>> I use the POSIXct format for the date-times with microsecond in a zoo
>>> object and the xyplot.zoo function to do the graphs.
>>> As I show in the below example I had a trouble to plot the labels on the
>>> x-axis with an error message. I found a solution but I would like to
>>> know if I miss something.
>>> The link
>>> https://stackoverflow.com/questions/7726034/how-r-formats-posixct-with-fractional-seconds
>>>
>>> helped me to understand how to print the POSIXct value to see the
>>> microseconds thanks to the function myformat.POSIXct:
>>>
>>> myformat.POSIXct <- function(x, digits=6)
>>> {
>>>     x2 <- round(unclass(x), digits)
>>>     attributes(x2) <- attributes(x)
>>>     x <- as.POSIXlt(x2,origin="1970-01-01",tz="GMT")
>>>     x$sec <- round(x$sec, digits)
>>>     format.POSIXlt(x, paste("%Y-%m-%d %H:%M:%OS",digits,sep=""),tz="GMT")
>>>
>>> }
>>>
>>>
>>> ## The example giving the error message:
>>>
>>> library(lattice)
>>> library(zoo)
>>>
>>> ##
>>> options(digits = 16) # to see all the digits on the screen
>>> options(digits.secs = 6) # to see the microseconds
>>> # mock data
>>> # a sine with a frequency f0 and two others with a delay
>>> Fs <- 1e+6 # sampling frequency 1 MHz
>>> Ts <- 1/Fs
>>> # frequency of the sinus
>>> f0 <- 100000
>>> t0 <- 1/f0
>>> time <- seq(0, length = 1000, by = Ts)
>>> A1 <- 1
>>> y1 <- A1 * sin(2*pi*f0*time)
>>> y2 <- 2 * A1 * sin(2*pi*f0*(time+0.000002))
>>> y3 <- 3 * A1 * sin(2*pi*f0*(time+0.000005))
>>> ## creation of a dataframe:
>>> ##
>>> DF <- data.frame( time = time, y1 = y1, y2 = y2, y3 = y3)
>>> # Since I want to allow for the datetime POSIXct format on the x-axis
>>> # for the plot I transform my dataframe in a zoo object
>>> #
>>> # say that my acquisition began at "2021-02-08 09:15:50.000000"
>>> #
>>> mystart <- as.POSIXct("2021-02-08 09:15:50.000000", format = "%Y-%m-%d
>>> %H:%M:%OS",tz="GMT")
>>> mystart
>>> # To see the correct datetime I use the myformat.POSIXct function
>>> myformat.POSIXct(mystart)
>>> ##
>>> ## using the method seq.POSIXct as following doesn't work:
>>> ## mydatetime <- seq( mystart , length = nrow(DF), by = "0.000001 sec")
>>> ## head( myformat.POSIXct(mydatetime) )
>>> ## if I use the following command it works:
>>> mydatetime <- seq( mystart , length = nrow(DF), by = 0.000001)
>>> head( myformat.POSIXct(mydatetime) )
>>> ## I do the zoo object:
>>> DF.z <- zoo(DF[,-1],order.by = mydatetime)
>>> ## We don't see the correct value for the index:
>>> head(DF.z)
>>> # time                    y1 y2                     y3
>>> # 2021-02-08 09:15:50.000000 0e+00 0.000000000000000e+00
>>> 1.902113032590307e+00  3.673819061467132e-16
>>> # 2021-02-08 09:15:50.000000 1e-06 5.877852522924730e-01
>>> 1.902113032590307e+00 -1.763355756877419e+00
>>> # 2021-02-08 09:15:50.000001 2e-06 9.510565162951535e-01
>>> 1.175570504584947e+00 -2.853169548885460e+00
>>> # 2021-02-08 09:15:50.000003 3e-06 9.510565162951536e-01
>>> 1.133099690464601e-15 -2.853169548885460e+00
>>> # 2021-02-08 09:15:50.000004 4e-06 5.877852522924736e-01
>>> -1.175570504584946e+00 -1.763355756877420e+00
>>> # 2021-02-08 09:15:50.000005 5e-06 5.665498452323003e-16
>>> -1.902113032590306e+00 -3.399299071393802e-15
>>> # If I use myformat.POSIXct I see that the index is correct in the
>>> object DF:
>>> head(myformat.POSIXct(index(DF.z)))
>>> ## and when I plot I have an error:
>>> xyplot(   DF.z
>>>             , screens = c(1,1,1)
>>>             , type = "l"
>>>             , col = c("red","blue","black")
>>>
>>> )
>>>
>>> # Error in prettyDate_TMP(x, ...) : range too small for min.n
>>>
>>> # if I process by hand the plot of the labels on the x-axis it works:
>>> #
>>> myend <- tail(mydatetime,1)
>>>
>>> myticks <- seq( mystart , to = myend , length = 5)
>>> mylabels <- format(myticks,"%H:%M:%OS")
>>>
>>> xyplot(      DF.z
>>>                , screens = c(1,1,1)
>>>                , type = "l"
>>>                , col = c("red","blue","black")
>>>                , scales = list(
>>>                    y= list(relation = "free", abbreviate=TRUE),
>>>                    x = list( at = myticks, labels = mylabels
>>>                          , rot = 45, cex = 0.5)
>>>              )
>>> )
>>> # The microseconds are well taken into account with the window function
>>> # if I want to plot only 100 microseconds but there is of course the same
>>> # trouble for the plot
>>>
>>> myend <- as.POSIXct("2021-02-08 09:15:50.000100", format = "%Y-%m-%d
>>> %H:%M:%OS",tz="GMT")
>>> myformat.POSIXct(myend)
>>>
>>> DF.w <- window( DF.z ,start = mystart, end = myend)
>>>
>>> myticks <- seq( mystart , to = myend , length = 5)
>>> mylabels <- format(myticks,"%H:%M:%OS")
>>>
>>> xyplot(      DF.w
>>>                , screens = c(1,1,1)
>>>                , type = "l"
>>>                , col = c("red","blue","black")
>>> )
>>>
>>> ## Error in prettyDate_TMP(x, ...) : range too small for min.n
>>>
>>> xyplot(      DF.w
>>>                , screens = c(1,1,1)
>>>                , type = "l"
>>>                , col = c("red","blue","black")
>>>                , scales = list(
>>>                  y= list(relation = "free", abbreviate=TRUE),
>>>                  x = list( at = myticks, labels = mylabels
>>>                            , rot = 45, cex = 0.5)
>>>                )
>>> )
>>>
>>> May you please tell me if I miss something in the way to use POSIXct
>>> with microseconds in a zoo object ?
>>>
>>> Thank you
>>> Laurent
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>> L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
>>> https://www.avast.com/antivirus
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>> --
>> Statistics & Software Consulting
>> GKX Group, GKX Associates Inc.
>> tel: 1-877-GKX-GROUP
>> email: ggrothendieck at gmail.com
>
>


-- 
L'absence de virus dans ce courrier ?lectronique a ?t? v?rifi?e par le logiciel antivirus Avast.
https://www.avast.com/antivirus


From v@|kremk @end|ng |rom gm@||@com  Mon Feb 22 23:15:45 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Mon, 22 Feb 2021 17:15:45 -0500
Subject: [R] Read
Message-ID: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>

Hi all, I am trying to read a messy data  but facing  difficulty.  The
data has several columns separated by blank space(s).  Each column
value may have different lengths across the rows.   The first
row(header) has four columns. However, each row may not have the four
column values.  For instance, the first data row has only the first
two column values. The fourth data row has the first and last column
values, the second and the third column values are missing for this
row..  How do I read this data set correctly? Here is my sample data
set, output and desired output.   To make it clear to each data point
I have added the row and column numbers. I cannot use fixed width
format reading because each row  may have different length for  a
given column.

dat<-read.table(text="x1  x2  x3 x4
1 B22
2         C33
322 B22      D34
4                 D44
51         D53
60 D62            ",header=T, fill=T,na.strings=c("","NA"))

Output
      x1  x2     x3     x4
1   1     B12 <NA> NA
2   2    C23 <NA>  NA
3 322  B32  D34   NA
4   4   D44  <NA>  NA
5  51 D53  <NA>   NA
6  60 D62  <NA>  NA


Desired output
   x1   x2     x3       x4
1   1    B22    <NA>   NA
2   2   <NA>  C33     NA
3 322  B32    NA      D34
4   4   <NA>   NA      D44
5  51  <NA>  D53     NA
6  60   D62   <NA>   NA

Thank you,


From @purd|e@@ @end|ng |rom gm@||@com  Mon Feb 22 23:23:39 2021
From: @purd|e@@ @end|ng |rom gm@||@com (=?UTF-8?B?QWJieSBTcHVyZGxlICgvyZnLiGJpLyk=?=)
Date: Tue, 23 Feb 2021 11:23:39 +1300
Subject: [R] Is it Possible to Create S4 Function Objects?
In-Reply-To: <65f86924-7910-8aaa-3ef5-b988ed0b6418@gmail.com>
References: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
 <65f86924-7910-8aaa-3ef5-b988ed0b6418@gmail.com>
Message-ID: <CAB8pepwMpG0ECbEnRpDkZK8GPkzatO+80pXZ2ash8xFKT6xzqQ@mail.gmail.com>

Oh wow.
Post of the year!
Where's the like button?

Note, I was able to rewrite it without the deprecated args.
(Don't want one of those CRAN emails, in 12 months from now, saying
please change XXXX).

I'll have to come back to this later, to see if I can get the body of
f() to access the slot


On Mon, Feb 22, 2021 at 11:36 AM Herv? Pag?s <hpages.on.github at gmail.com> wrote:
>
> Hi Abby,
>
> Something along the line of:
>
>    setClass("S4Function",
>      contains="function",
>      representation(name="character", more_stuff="ANY")
>    )
>
> seems to do what you want:
>
>    f <- new("S4Function", function(a) a^2, name="square")
>
>    # 'f' is both an S4 object and a function:
>    is.object(f)
>    # [1] TRUE
>    is.function(f)
>    # [1] TRUE
>
>    f at name
>    # [1] "square"
>    f(11)
>    # [1] 121
>
> Hope this helps,
>
> H.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Mon Feb 22 23:39:04 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Mon, 22 Feb 2021 14:39:04 -0800
Subject: [R] Read
In-Reply-To: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
Message-ID: <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>

Since the columns in the file are separated by a space character, " ",
add the read.table argument sep=" ".

-Bill

On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
>
> Hi all, I am trying to read a messy data  but facing  difficulty.  The
> data has several columns separated by blank space(s).  Each column
> value may have different lengths across the rows.   The first
> row(header) has four columns. However, each row may not have the four
> column values.  For instance, the first data row has only the first
> two column values. The fourth data row has the first and last column
> values, the second and the third column values are missing for this
> row..  How do I read this data set correctly? Here is my sample data
> set, output and desired output.   To make it clear to each data point
> I have added the row and column numbers. I cannot use fixed width
> format reading because each row  may have different length for  a
> given column.
>
> dat<-read.table(text="x1  x2  x3 x4
> 1 B22
> 2         C33
> 322 B22      D34
> 4                 D44
> 51         D53
> 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
>
> Output
>       x1  x2     x3     x4
> 1   1     B12 <NA> NA
> 2   2    C23 <NA>  NA
> 3 322  B32  D34   NA
> 4   4   D44  <NA>  NA
> 5  51 D53  <NA>   NA
> 6  60 D62  <NA>  NA
>
>
> Desired output
>    x1   x2     x3       x4
> 1   1    B22    <NA>   NA
> 2   2   <NA>  C33     NA
> 3 322  B32    NA      D34
> 4   4   <NA>   NA      D44
> 5  51  <NA>  D53     NA
> 6  60   D62   <NA>   NA
>
> Thank you,
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From v@|kremk @end|ng |rom gm@||@com  Mon Feb 22 23:48:56 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Mon, 22 Feb 2021 17:48:56 -0500
Subject: [R] Read
In-Reply-To: <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
Message-ID: <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>

I Tried that one and it did not work. Please see the error message
Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
\n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
:
  more columns than column names

On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>
> Since the columns in the file are separated by a space character, " ",
> add the read.table argument sep=" ".
>
> -Bill
>
> On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> >
> > Hi all, I am trying to read a messy data  but facing  difficulty.  The
> > data has several columns separated by blank space(s).  Each column
> > value may have different lengths across the rows.   The first
> > row(header) has four columns. However, each row may not have the four
> > column values.  For instance, the first data row has only the first
> > two column values. The fourth data row has the first and last column
> > values, the second and the third column values are missing for this
> > row..  How do I read this data set correctly? Here is my sample data
> > set, output and desired output.   To make it clear to each data point
> > I have added the row and column numbers. I cannot use fixed width
> > format reading because each row  may have different length for  a
> > given column.
> >
> > dat<-read.table(text="x1  x2  x3 x4
> > 1 B22
> > 2         C33
> > 322 B22      D34
> > 4                 D44
> > 51         D53
> > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> >
> > Output
> >       x1  x2     x3     x4
> > 1   1     B12 <NA> NA
> > 2   2    C23 <NA>  NA
> > 3 322  B32  D34   NA
> > 4   4   D44  <NA>  NA
> > 5  51 D53  <NA>   NA
> > 6  60 D62  <NA>  NA
> >
> >
> > Desired output
> >    x1   x2     x3       x4
> > 1   1    B22    <NA>   NA
> > 2   2   <NA>  C33     NA
> > 3 322  B32    NA      D34
> > 4   4   <NA>   NA      D44
> > 5  51  <NA>  D53     NA
> > 6  60   D62   <NA>   NA
> >
> > Thank you,
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Tue Feb 23 00:14:20 2021
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Mon, 22 Feb 2021 15:14:20 -0800
Subject: [R] Read
In-Reply-To: <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
Message-ID: <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>

You said the column values were separated by space characters.
Copying the text from gmail shows that some column names and column
values are separated by single spaces (e.g., between x1 and x2) and
some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
up the spacing or is there some other way to tell where the omitted
values are?

-Bill

On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
>
> I Tried that one and it did not work. Please see the error message
> Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
> :
>   more columns than column names
>
> On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
> >
> > Since the columns in the file are separated by a space character, " ",
> > add the read.table argument sep=" ".
> >
> > -Bill
> >
> > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> > >
> > > Hi all, I am trying to read a messy data  but facing  difficulty.  The
> > > data has several columns separated by blank space(s).  Each column
> > > value may have different lengths across the rows.   The first
> > > row(header) has four columns. However, each row may not have the four
> > > column values.  For instance, the first data row has only the first
> > > two column values. The fourth data row has the first and last column
> > > values, the second and the third column values are missing for this
> > > row..  How do I read this data set correctly? Here is my sample data
> > > set, output and desired output.   To make it clear to each data point
> > > I have added the row and column numbers. I cannot use fixed width
> > > format reading because each row  may have different length for  a
> > > given column.
> > >
> > > dat<-read.table(text="x1  x2  x3 x4
> > > 1 B22
> > > 2         C33
> > > 322 B22      D34
> > > 4                 D44
> > > 51         D53
> > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> > >
> > > Output
> > >       x1  x2     x3     x4
> > > 1   1     B12 <NA> NA
> > > 2   2    C23 <NA>  NA
> > > 3 322  B32  D34   NA
> > > 4   4   D44  <NA>  NA
> > > 5  51 D53  <NA>   NA
> > > 6  60 D62  <NA>  NA
> > >
> > >
> > > Desired output
> > >    x1   x2     x3       x4
> > > 1   1    B22    <NA>   NA
> > > 2   2   <NA>  C33     NA
> > > 3 322  B32    NA      D34
> > > 4   4   <NA>   NA      D44
> > > 5  51  <NA>  D53     NA
> > > 6  60   D62   <NA>   NA
> > >
> > > Thank you,
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.


From v@|kremk @end|ng |rom gm@||@com  Tue Feb 23 01:42:57 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Mon, 22 Feb 2021 19:42:57 -0500
Subject: [R] Read
In-Reply-To: <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
Message-ID: <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>

That is my problem. The spacing between columns is not consistent.  It
  may be  single space  or multiple spaces (two or three).

On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>
> You said the column values were separated by space characters.
> Copying the text from gmail shows that some column names and column
> values are separated by single spaces (e.g., between x1 and x2) and
> some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
> up the spacing or is there some other way to tell where the omitted
> values are?
>
> -Bill
>
> On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
> >
> > I Tried that one and it did not work. Please see the error message
> > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
> > :
> >   more columns than column names
> >
> > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
> > >
> > > Since the columns in the file are separated by a space character, " ",
> > > add the read.table argument sep=" ".
> > >
> > > -Bill
> > >
> > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> > > >
> > > > Hi all, I am trying to read a messy data  but facing  difficulty.  The
> > > > data has several columns separated by blank space(s).  Each column
> > > > value may have different lengths across the rows.   The first
> > > > row(header) has four columns. However, each row may not have the four
> > > > column values.  For instance, the first data row has only the first
> > > > two column values. The fourth data row has the first and last column
> > > > values, the second and the third column values are missing for this
> > > > row..  How do I read this data set correctly? Here is my sample data
> > > > set, output and desired output.   To make it clear to each data point
> > > > I have added the row and column numbers. I cannot use fixed width
> > > > format reading because each row  may have different length for  a
> > > > given column.
> > > >
> > > > dat<-read.table(text="x1  x2  x3 x4
> > > > 1 B22
> > > > 2         C33
> > > > 322 B22      D34
> > > > 4                 D44
> > > > 51         D53
> > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> > > >
> > > > Output
> > > >       x1  x2     x3     x4
> > > > 1   1     B12 <NA> NA
> > > > 2   2    C23 <NA>  NA
> > > > 3 322  B32  D34   NA
> > > > 4   4   D44  <NA>  NA
> > > > 5  51 D53  <NA>   NA
> > > > 6  60 D62  <NA>  NA
> > > >
> > > >
> > > > Desired output
> > > >    x1   x2     x3       x4
> > > > 1   1    B22    <NA>   NA
> > > > 2   2   <NA>  C33     NA
> > > > 3 322  B32    NA      D34
> > > > 4   4   <NA>   NA      D44
> > > > 5  51  <NA>  D53     NA
> > > > 6  60   D62   <NA>   NA
> > > >
> > > > Thank you,
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible code.


From jho|tm@n @end|ng |rom gm@||@com  Tue Feb 23 02:00:03 2021
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Mon, 22 Feb 2021 17:00:03 -0800
Subject: [R] Read
In-Reply-To: <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
Message-ID: <CAAxdm-7rcEW6TvwWhF07O8aD+S83+am+PRTGKCtnDk-E03u4rg@mail.gmail.com>

Try this:

> library(tidyverse)

> text <-  "x1  x2  x3 x4\n1 B12 \n2       C23 \n322 B32      D34 \n4
     D44 \n51     D53\n60 D62         "

> # read in the data as characters and replace multiple blanks with single
blank
> input <- read_lines(text)

> input <- str_replace_all(input, ' +', ' ')

> mydata <- read_delim(input, ' ', col_names = TRUE)
Warning: 5 parsing failures.
row col  expected    actual         file
  1  -- 4 columns 3 columns literal data
  2  -- 4 columns 3 columns literal data
  4  -- 4 columns 3 columns literal data
  5  -- 4 columns 2 columns literal data
  6  -- 4 columns 3 columns literal data

> mydata
# A tibble: 6 x 4
     x1 x2    x3    x4
  <dbl> <chr> <chr> <lgl>
1     1 B12   NA    NA
2     2 C23   NA    NA
3   322 B32   D34   NA
4     4 D44   NA    NA
5    51 D53   NA    NA
6    60 D62   NA    NA
>

Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


Jim Holtman
*Data Munger Guru*


*What is the problem that you are trying to solve?Tell me what you want to
do, not how you want to do it.*


On Mon, Feb 22, 2021 at 4:49 PM Val <valkremk at gmail.com> wrote:

> That is my problem. The spacing between columns is not consistent.  It
>   may be  single space  or multiple spaces (two or three).
>
> On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com>
> wrote:
> >
> > You said the column values were separated by space characters.
> > Copying the text from gmail shows that some column names and column
> > values are separated by single spaces (e.g., between x1 and x2) and
> > some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
> > up the spacing or is there some other way to tell where the omitted
> > values are?
> >
> > -Bill
> >
> > On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
> > >
> > > I Tried that one and it did not work. Please see the error message
> > > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> > > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
> > > :
> > >   more columns than column names
> > >
> > > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com>
> wrote:
> > > >
> > > > Since the columns in the file are separated by a space character, "
> ",
> > > > add the read.table argument sep=" ".
> > > >
> > > > -Bill
> > > >
> > > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> > > > >
> > > > > Hi all, I am trying to read a messy data  but facing  difficulty.
> The
> > > > > data has several columns separated by blank space(s).  Each column
> > > > > value may have different lengths across the rows.   The first
> > > > > row(header) has four columns. However, each row may not have the
> four
> > > > > column values.  For instance, the first data row has only the first
> > > > > two column values. The fourth data row has the first and last
> column
> > > > > values, the second and the third column values are missing for this
> > > > > row..  How do I read this data set correctly? Here is my sample
> data
> > > > > set, output and desired output.   To make it clear to each data
> point
> > > > > I have added the row and column numbers. I cannot use fixed width
> > > > > format reading because each row  may have different length for  a
> > > > > given column.
> > > > >
> > > > > dat<-read.table(text="x1  x2  x3 x4
> > > > > 1 B22
> > > > > 2         C33
> > > > > 322 B22      D34
> > > > > 4                 D44
> > > > > 51         D53
> > > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> > > > >
> > > > > Output
> > > > >       x1  x2     x3     x4
> > > > > 1   1     B12 <NA> NA
> > > > > 2   2    C23 <NA>  NA
> > > > > 3 322  B32  D34   NA
> > > > > 4   4   D44  <NA>  NA
> > > > > 5  51 D53  <NA>   NA
> > > > > 6  60 D62  <NA>  NA
> > > > >
> > > > >
> > > > > Desired output
> > > > >    x1   x2     x3       x4
> > > > > 1   1    B22    <NA>   NA
> > > > > 2   2   <NA>  C33     NA
> > > > > 3 322  B32    NA      D34
> > > > > 4   4   <NA>   NA      D44
> > > > > 5  51  <NA>  D53     NA
> > > > > 6  60   D62   <NA>   NA
> > > > >
> > > > > Thank you,
> > > > >
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jho|tm@n @end|ng |rom gm@||@com  Tue Feb 23 02:05:46 2021
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Mon, 22 Feb 2021 17:05:46 -0800
Subject: [R] Read
In-Reply-To: <CAAxdm-7rcEW6TvwWhF07O8aD+S83+am+PRTGKCtnDk-E03u4rg@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
 <CAAxdm-7rcEW6TvwWhF07O8aD+S83+am+PRTGKCtnDk-E03u4rg@mail.gmail.com>
Message-ID: <CAAxdm-62PS97PxLBL6w=77Wh9p3ACWyqf_dPg9Cf=mJijmpXGA@mail.gmail.com>

Messed up did not see your 'desired' output which will be hard since there
is not a consistent number of spaces that would represent the desired
column number.  Do you have any hit as to how to interpret the spacing
especially you have several hundred more lines?  Is the output supposed to
the 'fixed' field?

Jim Holtman
*Data Munger Guru*


*What is the problem that you are trying to solve?Tell me what you want to
do, not how you want to do it.*


On Mon, Feb 22, 2021 at 5:00 PM jim holtman <jholtman at gmail.com> wrote:

> Try this:
>
> > library(tidyverse)
>
> > text <-  "x1  x2  x3 x4\n1 B12 \n2       C23 \n322 B32      D34 \n4
>        D44 \n51     D53\n60 D62         "
>
> > # read in the data as characters and replace multiple blanks with single
> blank
> > input <- read_lines(text)
>
> > input <- str_replace_all(input, ' +', ' ')
>
> > mydata <- read_delim(input, ' ', col_names = TRUE)
> Warning: 5 parsing failures.
> row col  expected    actual         file
>   1  -- 4 columns 3 columns literal data
>   2  -- 4 columns 3 columns literal data
>   4  -- 4 columns 3 columns literal data
>   5  -- 4 columns 2 columns literal data
>   6  -- 4 columns 3 columns literal data
>
> > mydata
> # A tibble: 6 x 4
>      x1 x2    x3    x4
>   <dbl> <chr> <chr> <lgl>
> 1     1 B12   NA    NA
> 2     2 C23   NA    NA
> 3   322 B32   D34   NA
> 4     4 D44   NA    NA
> 5    51 D53   NA    NA
> 6    60 D62   NA    NA
> >
>
> Jim Holtman
> Data Munger Guru
>
> What is the problem that you are trying to solve?
> Tell me what you want to do, not how you want to do it.
>
>
> Jim Holtman
> *Data Munger Guru*
>
>
> *What is the problem that you are trying to solve?Tell me what you want to
> do, not how you want to do it.*
>
>
> On Mon, Feb 22, 2021 at 4:49 PM Val <valkremk at gmail.com> wrote:
>
>> That is my problem. The spacing between columns is not consistent.  It
>>   may be  single space  or multiple spaces (two or three).
>>
>> On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com>
>> wrote:
>> >
>> > You said the column values were separated by space characters.
>> > Copying the text from gmail shows that some column names and column
>> > values are separated by single spaces (e.g., between x1 and x2) and
>> > some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
>> > up the spacing or is there some other way to tell where the omitted
>> > values are?
>> >
>> > -Bill
>> >
>> > On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
>> > >
>> > > I Tried that one and it did not work. Please see the error message
>> > > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
>> > > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
>> > > :
>> > >   more columns than column names
>> > >
>> > > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com>
>> wrote:
>> > > >
>> > > > Since the columns in the file are separated by a space character, "
>> ",
>> > > > add the read.table argument sep=" ".
>> > > >
>> > > > -Bill
>> > > >
>> > > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
>> > > > >
>> > > > > Hi all, I am trying to read a messy data  but facing
>> difficulty.  The
>> > > > > data has several columns separated by blank space(s).  Each column
>> > > > > value may have different lengths across the rows.   The first
>> > > > > row(header) has four columns. However, each row may not have the
>> four
>> > > > > column values.  For instance, the first data row has only the
>> first
>> > > > > two column values. The fourth data row has the first and last
>> column
>> > > > > values, the second and the third column values are missing for
>> this
>> > > > > row..  How do I read this data set correctly? Here is my sample
>> data
>> > > > > set, output and desired output.   To make it clear to each data
>> point
>> > > > > I have added the row and column numbers. I cannot use fixed width
>> > > > > format reading because each row  may have different length for  a
>> > > > > given column.
>> > > > >
>> > > > > dat<-read.table(text="x1  x2  x3 x4
>> > > > > 1 B22
>> > > > > 2         C33
>> > > > > 322 B22      D34
>> > > > > 4                 D44
>> > > > > 51         D53
>> > > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
>> > > > >
>> > > > > Output
>> > > > >       x1  x2     x3     x4
>> > > > > 1   1     B12 <NA> NA
>> > > > > 2   2    C23 <NA>  NA
>> > > > > 3 322  B32  D34   NA
>> > > > > 4   4   D44  <NA>  NA
>> > > > > 5  51 D53  <NA>   NA
>> > > > > 6  60 D62  <NA>  NA
>> > > > >
>> > > > >
>> > > > > Desired output
>> > > > >    x1   x2     x3       x4
>> > > > > 1   1    B22    <NA>   NA
>> > > > > 2   2   <NA>  C33     NA
>> > > > > 3 322  B32    NA      D34
>> > > > > 4   4   <NA>   NA      D44
>> > > > > 5  51  <NA>  D53     NA
>> > > > > 6  60   D62   <NA>   NA
>> > > > >
>> > > > > Thank you,
>> > > > >
>> > > > > ______________________________________________
>> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > > > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > > > > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From v@|kremk @end|ng |rom gm@||@com  Tue Feb 23 02:14:13 2021
From: v@|kremk @end|ng |rom gm@||@com (Val)
Date: Mon, 22 Feb 2021 20:14:13 -0500
Subject: [R] Read
In-Reply-To: <CAAxdm-62PS97PxLBL6w=77Wh9p3ACWyqf_dPg9Cf=mJijmpXGA@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
 <CAAxdm-7rcEW6TvwWhF07O8aD+S83+am+PRTGKCtnDk-E03u4rg@mail.gmail.com>
 <CAAxdm-62PS97PxLBL6w=77Wh9p3ACWyqf_dPg9Cf=mJijmpXGA@mail.gmail.com>
Message-ID: <CAJOiR6Yw0ayXThj9FGTu-irDmHBVTLORFH_prysr_Oy8wGHrTQ@mail.gmail.com>

Let us take the max space is two and the output should not be fixed
filed but preferable a csv file.

On Mon, Feb 22, 2021 at 8:05 PM jim holtman <jholtman at gmail.com> wrote:
>
> Messed up did not see your 'desired' output which will be hard since there is not a consistent number of spaces that would represent the desired column number.  Do you have any hit as to how to interpret the spacing especially you have several hundred more lines?  Is the output supposed to the 'fixed' field?
>
> Jim Holtman
> Data Munger Guru
>
> What is the problem that you are trying to solve?
> Tell me what you want to do, not how you want to do it.
>
>
> On Mon, Feb 22, 2021 at 5:00 PM jim holtman <jholtman at gmail.com> wrote:
>>
>> Try this:
>>
>> > library(tidyverse)
>>
>> > text <-  "x1  x2  x3 x4\n1 B12 \n2       C23 \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         "
>>
>> > # read in the data as characters and replace multiple blanks with single blank
>> > input <- read_lines(text)
>>
>> > input <- str_replace_all(input, ' +', ' ')
>>
>> > mydata <- read_delim(input, ' ', col_names = TRUE)
>> Warning: 5 parsing failures.
>> row col  expected    actual         file
>>   1  -- 4 columns 3 columns literal data
>>   2  -- 4 columns 3 columns literal data
>>   4  -- 4 columns 3 columns literal data
>>   5  -- 4 columns 2 columns literal data
>>   6  -- 4 columns 3 columns literal data
>>
>> > mydata
>> # A tibble: 6 x 4
>>      x1 x2    x3    x4
>>   <dbl> <chr> <chr> <lgl>
>> 1     1 B12   NA    NA
>> 2     2 C23   NA    NA
>> 3   322 B32   D34   NA
>> 4     4 D44   NA    NA
>> 5    51 D53   NA    NA
>> 6    60 D62   NA    NA
>> >
>>
>> Jim Holtman
>> Data Munger Guru
>>
>> What is the problem that you are trying to solve?
>> Tell me what you want to do, not how you want to do it.
>>
>>
>> Jim Holtman
>> Data Munger Guru
>>
>> What is the problem that you are trying to solve?
>> Tell me what you want to do, not how you want to do it.
>>
>>
>> On Mon, Feb 22, 2021 at 4:49 PM Val <valkremk at gmail.com> wrote:
>>>
>>> That is my problem. The spacing between columns is not consistent.  It
>>>   may be  single space  or multiple spaces (two or three).
>>>
>>> On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>>> >
>>> > You said the column values were separated by space characters.
>>> > Copying the text from gmail shows that some column names and column
>>> > values are separated by single spaces (e.g., between x1 and x2) and
>>> > some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
>>> > up the spacing or is there some other way to tell where the omitted
>>> > values are?
>>> >
>>> > -Bill
>>> >
>>> > On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
>>> > >
>>> > > I Tried that one and it did not work. Please see the error message
>>> > > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
>>> > > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         ",
>>> > > :
>>> > >   more columns than column names
>>> > >
>>> > > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>>> > > >
>>> > > > Since the columns in the file are separated by a space character, " ",
>>> > > > add the read.table argument sep=" ".
>>> > > >
>>> > > > -Bill
>>> > > >
>>> > > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
>>> > > > >
>>> > > > > Hi all, I am trying to read a messy data  but facing  difficulty.  The
>>> > > > > data has several columns separated by blank space(s).  Each column
>>> > > > > value may have different lengths across the rows.   The first
>>> > > > > row(header) has four columns. However, each row may not have the four
>>> > > > > column values.  For instance, the first data row has only the first
>>> > > > > two column values. The fourth data row has the first and last column
>>> > > > > values, the second and the third column values are missing for this
>>> > > > > row..  How do I read this data set correctly? Here is my sample data
>>> > > > > set, output and desired output.   To make it clear to each data point
>>> > > > > I have added the row and column numbers. I cannot use fixed width
>>> > > > > format reading because each row  may have different length for  a
>>> > > > > given column.
>>> > > > >
>>> > > > > dat<-read.table(text="x1  x2  x3 x4
>>> > > > > 1 B22
>>> > > > > 2         C33
>>> > > > > 322 B22      D34
>>> > > > > 4                 D44
>>> > > > > 51         D53
>>> > > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
>>> > > > >
>>> > > > > Output
>>> > > > >       x1  x2     x3     x4
>>> > > > > 1   1     B12 <NA> NA
>>> > > > > 2   2    C23 <NA>  NA
>>> > > > > 3 322  B32  D34   NA
>>> > > > > 4   4   D44  <NA>  NA
>>> > > > > 5  51 D53  <NA>   NA
>>> > > > > 6  60 D62  <NA>  NA
>>> > > > >
>>> > > > >
>>> > > > > Desired output
>>> > > > >    x1   x2     x3       x4
>>> > > > > 1   1    B22    <NA>   NA
>>> > > > > 2   2   <NA>  C33     NA
>>> > > > > 3 322  B32    NA      D34
>>> > > > > 4   4   <NA>   NA      D44
>>> > > > > 5  51  <NA>  D53     NA
>>> > > > > 6  60   D62   <NA>   NA
>>> > > > >
>>> > > > > Thank you,
>>> > > > >
>>> > > > > ______________________________________________
>>> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
>>> > > > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> > > > > and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb 23 02:33:54 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Mon, 22 Feb 2021 17:33:54 -0800
Subject: [R] Read
In-Reply-To: <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
Message-ID: <7F1A1A2E-2E1B-47D8-86B9-E963F48460B4@dcn.davis.ca.us>

This gets it into a data frame. If you know which columns should be numeric you can convert them.

s <- 
"x1  x2  x3 x4
1 B22
2         C33
322 B22      D34
4                 D44
51         D53
60 D62            
"

tc <- textConnection( s )
lns <- readLines(tc)
close(tc)
if ( "" == lns[ length( lns ) ] )
  lns <- lns[ -length( lns ) ]

L <- strsplit( lns, " +" )
m <- do.call( rbind, lapply( L[-1], function(v) if (length(v)<length(L[[1]])) c( v, rep(NA, length(L[[1]]) - length(v) ) ) else v ) )
colnames( m ) <- L[[1]]
result <- as.data.frame( m, stringsAsFactors = FALSE )
result

On February 22, 2021 4:42:57 PM PST, Val <valkremk at gmail.com> wrote:
>That is my problem. The spacing between columns is not consistent.  It
>  may be  single space  or multiple spaces (two or three).
>
>On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com>
>wrote:
>>
>> You said the column values were separated by space characters.
>> Copying the text from gmail shows that some column names and column
>> values are separated by single spaces (e.g., between x1 and x2) and
>> some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
>> up the spacing or is there some other way to tell where the omitted
>> values are?
>>
>> -Bill
>>
>> On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
>> >
>> > I Tried that one and it did not work. Please see the error message
>> > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
>> > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62        
>",
>> > :
>> >   more columns than column names
>> >
>> > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap
><williamwdunlap at gmail.com> wrote:
>> > >
>> > > Since the columns in the file are separated by a space character,
>" ",
>> > > add the read.table argument sep=" ".
>> > >
>> > > -Bill
>> > >
>> > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
>> > > >
>> > > > Hi all, I am trying to read a messy data  but facing 
>difficulty.  The
>> > > > data has several columns separated by blank space(s).  Each
>column
>> > > > value may have different lengths across the rows.   The first
>> > > > row(header) has four columns. However, each row may not have
>the four
>> > > > column values.  For instance, the first data row has only the
>first
>> > > > two column values. The fourth data row has the first and last
>column
>> > > > values, the second and the third column values are missing for
>this
>> > > > row..  How do I read this data set correctly? Here is my sample
>data
>> > > > set, output and desired output.   To make it clear to each data
>point
>> > > > I have added the row and column numbers. I cannot use fixed
>width
>> > > > format reading because each row  may have different length for 
>a
>> > > > given column.
>> > > >
>> > > > dat<-read.table(text="x1  x2  x3 x4
>> > > > 1 B22
>> > > > 2         C33
>> > > > 322 B22      D34
>> > > > 4                 D44
>> > > > 51         D53
>> > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
>> > > >
>> > > > Output
>> > > >       x1  x2     x3     x4
>> > > > 1   1     B12 <NA> NA
>> > > > 2   2    C23 <NA>  NA
>> > > > 3 322  B32  D34   NA
>> > > > 4   4   D44  <NA>  NA
>> > > > 5  51 D53  <NA>   NA
>> > > > 6  60 D62  <NA>  NA
>> > > >
>> > > >
>> > > > Desired output
>> > > >    x1   x2     x3       x4
>> > > > 1   1    B22    <NA>   NA
>> > > > 2   2   <NA>  C33     NA
>> > > > 3 322  B32    NA      D34
>> > > > 4   4   <NA>   NA      D44
>> > > > 5  51  <NA>  D53     NA
>> > > > 6  60   D62   <NA>   NA
>> > > >
>> > > > Thank you,
>> > > >
>> > > > ______________________________________________
>> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>see
>> > > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > > PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> > > > and provide commented, minimal, self-contained, reproducible
>code.
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.
-- 
Sent from my phone. Please excuse my brevity.


From jho|tm@n @end|ng |rom gm@||@com  Tue Feb 23 03:00:31 2021
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Mon, 22 Feb 2021 18:00:31 -0800
Subject: [R] Read
In-Reply-To: <7F1A1A2E-2E1B-47D8-86B9-E963F48460B4@dcn.davis.ca.us>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
 <7F1A1A2E-2E1B-47D8-86B9-E963F48460B4@dcn.davis.ca.us>
Message-ID: <CAAxdm-6_kGSq8qnXXOZOeVb-uMaxpy8msqEr9NHLpAF7ue_ZPQ@mail.gmail.com>

It looks like we can look at the last digit of the data and that would
be the column number; is that correct?

Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


On Mon, Feb 22, 2021 at 5:34 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
> This gets it into a data frame. If you know which columns should be numeric you can convert them.
>
> s <-
> "x1  x2  x3 x4
> 1 B22
> 2         C33
> 322 B22      D34
> 4                 D44
> 51         D53
> 60 D62
> "
>
> tc <- textConnection( s )
> lns <- readLines(tc)
> close(tc)
> if ( "" == lns[ length( lns ) ] )
>   lns <- lns[ -length( lns ) ]
>
> L <- strsplit( lns, " +" )
> m <- do.call( rbind, lapply( L[-1], function(v) if (length(v)<length(L[[1]])) c( v, rep(NA, length(L[[1]]) - length(v) ) ) else v ) )
> colnames( m ) <- L[[1]]
> result <- as.data.frame( m, stringsAsFactors = FALSE )
> result
>
> On February 22, 2021 4:42:57 PM PST, Val <valkremk at gmail.com> wrote:
> >That is my problem. The spacing between columns is not consistent.  It
> >  may be  single space  or multiple spaces (two or three).
> >
> >On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap <williamwdunlap at gmail.com>
> >wrote:
> >>
> >> You said the column values were separated by space characters.
> >> Copying the text from gmail shows that some column names and column
> >> values are separated by single spaces (e.g., between x1 and x2) and
> >> some by multiple spaces (e.g., between x3 and x4.  Did the mail mess
> >> up the spacing or is there some other way to tell where the omitted
> >> values are?
> >>
> >> -Bill
> >>
> >> On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
> >> >
> >> > I Tried that one and it did not work. Please see the error message
> >> > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> >> > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62
> >",
> >> > :
> >> >   more columns than column names
> >> >
> >> > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap
> ><williamwdunlap at gmail.com> wrote:
> >> > >
> >> > > Since the columns in the file are separated by a space character,
> >" ",
> >> > > add the read.table argument sep=" ".
> >> > >
> >> > > -Bill
> >> > >
> >> > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> >> > > >
> >> > > > Hi all, I am trying to read a messy data  but facing
> >difficulty.  The
> >> > > > data has several columns separated by blank space(s).  Each
> >column
> >> > > > value may have different lengths across the rows.   The first
> >> > > > row(header) has four columns. However, each row may not have
> >the four
> >> > > > column values.  For instance, the first data row has only the
> >first
> >> > > > two column values. The fourth data row has the first and last
> >column
> >> > > > values, the second and the third column values are missing for
> >this
> >> > > > row..  How do I read this data set correctly? Here is my sample
> >data
> >> > > > set, output and desired output.   To make it clear to each data
> >point
> >> > > > I have added the row and column numbers. I cannot use fixed
> >width
> >> > > > format reading because each row  may have different length for
> >a
> >> > > > given column.
> >> > > >
> >> > > > dat<-read.table(text="x1  x2  x3 x4
> >> > > > 1 B22
> >> > > > 2         C33
> >> > > > 322 B22      D34
> >> > > > 4                 D44
> >> > > > 51         D53
> >> > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> >> > > >
> >> > > > Output
> >> > > >       x1  x2     x3     x4
> >> > > > 1   1     B12 <NA> NA
> >> > > > 2   2    C23 <NA>  NA
> >> > > > 3 322  B32  D34   NA
> >> > > > 4   4   D44  <NA>  NA
> >> > > > 5  51 D53  <NA>   NA
> >> > > > 6  60 D62  <NA>  NA
> >> > > >
> >> > > >
> >> > > > Desired output
> >> > > >    x1   x2     x3       x4
> >> > > > 1   1    B22    <NA>   NA
> >> > > > 2   2   <NA>  C33     NA
> >> > > > 3 322  B32    NA      D34
> >> > > > 4   4   <NA>   NA      D44
> >> > > > 5  51  <NA>  D53     NA
> >> > > > 6  60   D62   <NA>   NA
> >> > > >
> >> > > > Thank you,
> >> > > >
> >> > > > ______________________________________________
> >> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> >see
> >> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> >> > > > PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >> > > > and provide commented, minimal, self-contained, reproducible
> >code.
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Tue Feb 23 03:20:03 2021
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 22 Feb 2021 21:20:03 -0500
Subject: [R] Read
In-Reply-To: <CAAxdm-6_kGSq8qnXXOZOeVb-uMaxpy8msqEr9NHLpAF7ue_ZPQ@mail.gmail.com>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
 <7F1A1A2E-2E1B-47D8-86B9-E963F48460B4@dcn.davis.ca.us>
 <CAAxdm-6_kGSq8qnXXOZOeVb-uMaxpy8msqEr9NHLpAF7ue_ZPQ@mail.gmail.com>
Message-ID: <0f6f01d7098a$6587bb90$309732b0$@verizon.net>

This discussion is a bit weird so can we step back.

Someone wants help on how to read in a file that apparently was not written
following one of several consistent sets of rules.

If it was fixed width, R has functions that can read that.

If it was separated by commas, tabs, single spaces, arbitrary whitespace,
with or without a header line, we have functions that can read that if
properly called.

ALL the above normally assume that all the resulting columns are the same
length. If any are meant to be shorter, you still leave the separators in
place and put some NA or similar into the result. And, the functions we
normally talk about do NOT read in and produce multiple vectors but
something like a data.frame.

So the choice is either to make sure the darn data is in a consistent
format, or try a different plan. Fair enough?

Some are suggesting parsing it yourself line by line. Certainly that can be
done. But unless you know some schema to help you disambiguate, what do you
do it you reach a row that is too short and has enough data for two columns.
Which of the columns do you assign it to? If you had a clear rule, ...

And what if you have different data types? R does not handle that within a
single vector or row of a data.frame, albeit it can if you make it a list
column.

If this data is a one-time thing, perhaps it should be copied into something
like EXCEL by a human and edited so every column is filled as you wish and
THEN saved as something like a CSV file and then it can happily be imported
the usual way, including NA values as needed. 

If the person really wants 4 independent vectors of different lengths to
read in, there are plenty of ways to do that and no need to lump them in
this odd format.



-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of jim holtman
Sent: Monday, February 22, 2021 9:01 PM
To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Cc: r-help at R-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [R] Read

It looks like we can look at the last digit of the data and that would be
the column number; is that correct?

Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


On Mon, Feb 22, 2021 at 5:34 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
wrote:
>
> This gets it into a data frame. If you know which columns should be
numeric you can convert them.
>
> s <-
> "x1  x2  x3 x4
> 1 B22
> 2         C33
> 322 B22      D34
> 4                 D44
> 51         D53
> 60 D62
> "
>
> tc <- textConnection( s )
> lns <- readLines(tc)
> close(tc)
> if ( "" == lns[ length( lns ) ] )
>   lns <- lns[ -length( lns ) ]
>
> L <- strsplit( lns, " +" )
> m <- do.call( rbind, lapply( L[-1], function(v) if 
> (length(v)<length(L[[1]])) c( v, rep(NA, length(L[[1]]) - length(v) ) 
> ) else v ) ) colnames( m ) <- L[[1]] result <- as.data.frame( m, 
> stringsAsFactors = FALSE ) result
>
> On February 22, 2021 4:42:57 PM PST, Val <valkremk at gmail.com> wrote:
> >That is my problem. The spacing between columns is not consistent.  
> >It
> >  may be  single space  or multiple spaces (two or three).
> >
> >On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap 
> ><williamwdunlap at gmail.com>
> >wrote:
> >>
> >> You said the column values were separated by space characters.
> >> Copying the text from gmail shows that some column names and column 
> >> values are separated by single spaces (e.g., between x1 and x2) and 
> >> some by multiple spaces (e.g., between x3 and x4.  Did the mail 
> >> mess up the spacing or is there some other way to tell where the 
> >> omitted values are?
> >>
> >> -Bill
> >>
> >> On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
> >> >
> >> > I Tried that one and it did not work. Please see the error message
> >> > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> >> > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62
> >",
> >> > :
> >> >   more columns than column names
> >> >
> >> > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap
> ><williamwdunlap at gmail.com> wrote:
> >> > >
> >> > > Since the columns in the file are separated by a space 
> >> > > character,
> >" ",
> >> > > add the read.table argument sep=" ".
> >> > >
> >> > > -Bill
> >> > >
> >> > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> >> > > >
> >> > > > Hi all, I am trying to read a messy data  but facing
> >difficulty.  The
> >> > > > data has several columns separated by blank space(s).  Each
> >column
> >> > > > value may have different lengths across the rows.   The first
> >> > > > row(header) has four columns. However, each row may not have
> >the four
> >> > > > column values.  For instance, the first data row has only the
> >first
> >> > > > two column values. The fourth data row has the first and last
> >column
> >> > > > values, the second and the third column values are missing 
> >> > > > for
> >this
> >> > > > row..  How do I read this data set correctly? Here is my 
> >> > > > sample
> >data
> >> > > > set, output and desired output.   To make it clear to each data
> >point
> >> > > > I have added the row and column numbers. I cannot use fixed
> >width
> >> > > > format reading because each row  may have different length 
> >> > > > for
> >a
> >> > > > given column.
> >> > > >
> >> > > > dat<-read.table(text="x1  x2  x3 x4
> >> > > > 1 B22
> >> > > > 2         C33
> >> > > > 322 B22      D34
> >> > > > 4                 D44
> >> > > > 51         D53
> >> > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> >> > > >
> >> > > > Output
> >> > > >       x1  x2     x3     x4
> >> > > > 1   1     B12 <NA> NA
> >> > > > 2   2    C23 <NA>  NA
> >> > > > 3 322  B32  D34   NA
> >> > > > 4   4   D44  <NA>  NA
> >> > > > 5  51 D53  <NA>   NA
> >> > > > 6  60 D62  <NA>  NA
> >> > > >
> >> > > >
> >> > > > Desired output
> >> > > >    x1   x2     x3       x4
> >> > > > 1   1    B22    <NA>   NA
> >> > > > 2   2   <NA>  C33     NA
> >> > > > 3 322  B32    NA      D34
> >> > > > 4   4   <NA>   NA      D44
> >> > > > 5  51  <NA>  D53     NA
> >> > > > 6  60   D62   <NA>   NA
> >> > > >
> >> > > > Thank you,
> >> > > >
> >> > > > ______________________________________________
> >> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> >see
> >> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> >> > > > PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >> > > > and provide commented, minimal, self-contained, reproducible
> >code.
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jho|tm@n @end|ng |rom gm@||@com  Tue Feb 23 03:38:35 2021
From: jho|tm@n @end|ng |rom gm@||@com (jim holtman)
Date: Mon, 22 Feb 2021 18:38:35 -0800
Subject: [R] Read
In-Reply-To: <0f6f01d7098a$6587bb90$309732b0$@verizon.net>
References: <CAJOiR6YTZ-9QZ+-So_ZxXpcJ92dDWYyWML6qvLW8bM1yiVhq3w@mail.gmail.com>
 <CAHqSRuTuVO-yigo5-ZeQftJ=7GzbFsXmty2YP08d8mdV5JZeYw@mail.gmail.com>
 <CAJOiR6ZJRSe=Q8E+Fn20n+J8CvdzH+-afY9V4jRCTfFJQCJopg@mail.gmail.com>
 <CAHqSRuRaEw82GngGi7V6T7gPZTtDuhxvhmkNQEGeUF7m4XtvCA@mail.gmail.com>
 <CAJOiR6YV2TPX3DXWXr4MrmXKj+37y0L53Eb2Gwo-O1px6GHpoA@mail.gmail.com>
 <7F1A1A2E-2E1B-47D8-86B9-E963F48460B4@dcn.davis.ca.us>
 <CAAxdm-6_kGSq8qnXXOZOeVb-uMaxpy8msqEr9NHLpAF7ue_ZPQ@mail.gmail.com>
 <0f6f01d7098a$6587bb90$309732b0$@verizon.net>
Message-ID: <CAAxdm-45us8p57yvUO3CkXfj8C9OLP4Lc48WG9wV613h2wrpnA@mail.gmail.com>

This gives the desired output:

> library(tidyverse)
> text <-  "x1  x2  x3 x4\n1 B12 \n2       C23 \n322 B32      D34 \n4            D44 \n51     D53\n60 D62         "
>
> # read in the data as characters and split to a list
> input <- str_split(str_trim(read_lines(text)), ' +')
>
> max_cols <- 4  # assume a max of 4 columns
>
> put data in the correct column
> x_matrix <- do.call(rbind, map(input, ~{
+   result <- character(max_cols)
+   result[1] <- .x[1]
+   for (i in 2:length(.x)){
+     result[as.integer(str_sub(.x[i], -1))] <- .x[i]
+   }
+   result
+ }))
>
> # now add commas to convert to CSV
> x_csv <- apply(x_matrix, 1, paste, collapse = ',')
>
> # now read in and create desired output
> read_csv(x_csv)
# A tibble: 6 x 4
     x1 x2    x3    x4
  <dbl> <chr> <chr> <chr>
1     1 B12   <NA>  <NA>
2     2 <NA>  C23   <NA>
3   322 B32   <NA>  D34
4     4 <NA>  <NA>  D44
5    51 <NA>  D53   <NA>
6    60 D62   <NA>  <NA>
>



Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


On Mon, Feb 22, 2021 at 6:20 PM Avi Gross via R-help
<r-help at r-project.org> wrote:
>
> This discussion is a bit weird so can we step back.
>
> Someone wants help on how to read in a file that apparently was not written
> following one of several consistent sets of rules.
>
> If it was fixed width, R has functions that can read that.
>
> If it was separated by commas, tabs, single spaces, arbitrary whitespace,
> with or without a header line, we have functions that can read that if
> properly called.
>
> ALL the above normally assume that all the resulting columns are the same
> length. If any are meant to be shorter, you still leave the separators in
> place and put some NA or similar into the result. And, the functions we
> normally talk about do NOT read in and produce multiple vectors but
> something like a data.frame.
>
> So the choice is either to make sure the darn data is in a consistent
> format, or try a different plan. Fair enough?
>
> Some are suggesting parsing it yourself line by line. Certainly that can be
> done. But unless you know some schema to help you disambiguate, what do you
> do it you reach a row that is too short and has enough data for two columns.
> Which of the columns do you assign it to? If you had a clear rule, ...
>
> And what if you have different data types? R does not handle that within a
> single vector or row of a data.frame, albeit it can if you make it a list
> column.
>
> If this data is a one-time thing, perhaps it should be copied into something
> like EXCEL by a human and edited so every column is filled as you wish and
> THEN saved as something like a CSV file and then it can happily be imported
> the usual way, including NA values as needed.
>
> If the person really wants 4 independent vectors of different lengths to
> read in, there are plenty of ways to do that and no need to lump them in
> this odd format.
>
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of jim holtman
> Sent: Monday, February 22, 2021 9:01 PM
> To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Cc: r-help at R-project.org (r-help at r-project.org) <r-help at r-project.org>
> Subject: Re: [R] Read
>
> It looks like we can look at the last digit of the data and that would be
> the column number; is that correct?
>
> Jim Holtman
> Data Munger Guru
>
> What is the problem that you are trying to solve?
> Tell me what you want to do, not how you want to do it.
>
>
> Jim Holtman
> Data Munger Guru
>
> What is the problem that you are trying to solve?
> Tell me what you want to do, not how you want to do it.
>
>
> On Mon, Feb 22, 2021 at 5:34 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
> >
> > This gets it into a data frame. If you know which columns should be
> numeric you can convert them.
> >
> > s <-
> > "x1  x2  x3 x4
> > 1 B22
> > 2         C33
> > 322 B22      D34
> > 4                 D44
> > 51         D53
> > 60 D62
> > "
> >
> > tc <- textConnection( s )
> > lns <- readLines(tc)
> > close(tc)
> > if ( "" == lns[ length( lns ) ] )
> >   lns <- lns[ -length( lns ) ]
> >
> > L <- strsplit( lns, " +" )
> > m <- do.call( rbind, lapply( L[-1], function(v) if
> > (length(v)<length(L[[1]])) c( v, rep(NA, length(L[[1]]) - length(v) )
> > ) else v ) ) colnames( m ) <- L[[1]] result <- as.data.frame( m,
> > stringsAsFactors = FALSE ) result
> >
> > On February 22, 2021 4:42:57 PM PST, Val <valkremk at gmail.com> wrote:
> > >That is my problem. The spacing between columns is not consistent.
> > >It
> > >  may be  single space  or multiple spaces (two or three).
> > >
> > >On Mon, Feb 22, 2021 at 6:14 PM Bill Dunlap
> > ><williamwdunlap at gmail.com>
> > >wrote:
> > >>
> > >> You said the column values were separated by space characters.
> > >> Copying the text from gmail shows that some column names and column
> > >> values are separated by single spaces (e.g., between x1 and x2) and
> > >> some by multiple spaces (e.g., between x3 and x4.  Did the mail
> > >> mess up the spacing or is there some other way to tell where the
> > >> omitted values are?
> > >>
> > >> -Bill
> > >>
> > >> On Mon, Feb 22, 2021 at 2:54 PM Val <valkremk at gmail.com> wrote:
> > >> >
> > >> > I Tried that one and it did not work. Please see the error message
> > >> > Error in read.table(text = "x1  x2  x3 x4\n1 B12 \n2       C23
> > >> > \n322 B32      D34 \n4            D44 \n51     D53\n60 D62
> > >",
> > >> > :
> > >> >   more columns than column names
> > >> >
> > >> > On Mon, Feb 22, 2021 at 5:39 PM Bill Dunlap
> > ><williamwdunlap at gmail.com> wrote:
> > >> > >
> > >> > > Since the columns in the file are separated by a space
> > >> > > character,
> > >" ",
> > >> > > add the read.table argument sep=" ".
> > >> > >
> > >> > > -Bill
> > >> > >
> > >> > > On Mon, Feb 22, 2021 at 2:21 PM Val <valkremk at gmail.com> wrote:
> > >> > > >
> > >> > > > Hi all, I am trying to read a messy data  but facing
> > >difficulty.  The
> > >> > > > data has several columns separated by blank space(s).  Each
> > >column
> > >> > > > value may have different lengths across the rows.   The first
> > >> > > > row(header) has four columns. However, each row may not have
> > >the four
> > >> > > > column values.  For instance, the first data row has only the
> > >first
> > >> > > > two column values. The fourth data row has the first and last
> > >column
> > >> > > > values, the second and the third column values are missing
> > >> > > > for
> > >this
> > >> > > > row..  How do I read this data set correctly? Here is my
> > >> > > > sample
> > >data
> > >> > > > set, output and desired output.   To make it clear to each data
> > >point
> > >> > > > I have added the row and column numbers. I cannot use fixed
> > >width
> > >> > > > format reading because each row  may have different length
> > >> > > > for
> > >a
> > >> > > > given column.
> > >> > > >
> > >> > > > dat<-read.table(text="x1  x2  x3 x4
> > >> > > > 1 B22
> > >> > > > 2         C33
> > >> > > > 322 B22      D34
> > >> > > > 4                 D44
> > >> > > > 51         D53
> > >> > > > 60 D62            ",header=T, fill=T,na.strings=c("","NA"))
> > >> > > >
> > >> > > > Output
> > >> > > >       x1  x2     x3     x4
> > >> > > > 1   1     B12 <NA> NA
> > >> > > > 2   2    C23 <NA>  NA
> > >> > > > 3 322  B32  D34   NA
> > >> > > > 4   4   D44  <NA>  NA
> > >> > > > 5  51 D53  <NA>   NA
> > >> > > > 6  60 D62  <NA>  NA
> > >> > > >
> > >> > > >
> > >> > > > Desired output
> > >> > > >    x1   x2     x3       x4
> > >> > > > 1   1    B22    <NA>   NA
> > >> > > > 2   2   <NA>  C33     NA
> > >> > > > 3 322  B32    NA      D34
> > >> > > > 4   4   <NA>   NA      D44
> > >> > > > 5  51  <NA>  D53     NA
> > >> > > > 6  60   D62   <NA>   NA
> > >> > > >
> > >> > > > Thank you,
> > >> > > >
> > >> > > > ______________________________________________
> > >> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > >see
> > >> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > >> > > > PLEASE do read the posting guide
> > >http://www.R-project.org/posting-guide.html
> > >> > > > and provide commented, minimal, self-contained, reproducible
> > >code.
> > >
> > >______________________________________________
> > >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >https://stat.ethz.ch/mailman/listinfo/r-help
> > >PLEASE do read the posting guide
> > >http://www.R-project.org/posting-guide.html
> > >and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Sent from my phone. Please excuse my brevity.
> > --
> > Sent from my phone. Please excuse my brevity.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Tue Feb 23 08:12:16 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 23 Feb 2021 07:12:16 +0000
Subject: [R] strptime, date and conversion of week number into POSIX
In-Reply-To: <ccd60b03-ebf4-8d30-dfcc-86035c83d138@univ-fcomte.fr>
References: <4442c432-f4f7-be14-6962-64e28ceb7ceb@univ-fcomte.fr>
 <92b0bc0a-ff7d-8be5-67f3-4e811f5145da@univ-fcomte.fr>
 <2228dcca-64be-32d8-c6ff-719d4522bff3@statistik.tu-dortmund.de>
 <ccd60b03-ebf4-8d30-dfcc-86035c83d138@univ-fcomte.fr>
Message-ID: <ab483c7c582e4228a6ddc062b19900d7@SRVEXCHCM1302.precheza.cz>

Hallo Patrick

I found quite usefull for working with weeks package ISOweek

https://cran.r-project.org/web/packages/ISOweek/index.html

Cheers.
Petr
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Patrick
> Giraudoux
> Sent: Monday, February 22, 2021 5:24 PM
> To: Uwe Ligges <ligges at statistik.tu-dortmund.de>; R mailing list <r-help at r-
> project.org>; Bert Gunter <bgunter.4567 at gmail.com>
> Subject: Re: [R] strptime, date and conversion of week number into POSIX
> 
> Thanks Uwe and  Bert,
> I got the essential now, and can manage. Date handling stays quite a
> challenge with a variable number of weeks in a year, but I can understand
> why. Means eye-control (or NA detection) of strptime conversion stays
> necessary...
> Best,
> Patrick
> 
> 
> Le 22/02/2021 ? 17:09, Uwe Ligges a ?crit :
> > That monday does not exist. FOr the week before:
> >
> > strptime(paste0("2020-52","-1"),format="%Y-%W-%u")
> > [1] "2020-12-28"
> >
> > One week later is no longer in 2020, so there is no 53th week.
> >
> > Best,
> > Uwe Ligges
> >
> >
> >
> >
> >
> > On 22.02.2021 16:15, Patrick Giraudoux wrote:
> >> Sorry to answer to myself, but the format was clearly incorrect in
> >> the previous post. It should read, refering to the 1th day of the week:
> >>
> >> strptime(paste0(mydate,"-1"),format="%Y-%W-%u")
> >>
> >> It converts better, but with a NA on week 53
> >>
> >>> strptime(paste0(pays$year_week,"-1"),format="%Y-%W-%u")
> >>    [1] "2020-01-06 CET"  "2020-01-13 CET"  "2020-01-20 CET"
> >> "2020-01-27 CET"
> >>    [5] "2020-02-03 CET"  "2020-02-10 CET"  "2020-02-17 CET"
> >> "2020-02-24 CET"
> >>    [9] "2020-03-02 CET"  "2020-03-09 CET"  "2020-03-16 CET"
> >> "2020-03-23 CET"
> >> [13] "2020-03-30 CEST" "2020-04-06 CEST" "2020-04-13 CEST"
> >> "2020-04-20 CEST"
> >> [17] "2020-04-27 CEST" "2020-05-04 CEST" "2020-05-11 CEST"
> >> "2020-05-18 CEST"
> >> [21] "2020-05-25 CEST" "2020-06-01 CEST" "2020-06-08 CEST"
> >> "2020-06-15 CEST"
> >> [25] "2020-06-22 CEST" "2020-06-29 CEST" "2020-07-06 CEST"
> >> "2020-07-13 CEST"
> >> [29] "2020-07-20 CEST" "2020-07-27 CEST" "2020-08-03 CEST"
> >> "2020-08-10 CEST"
> >> [33] "2020-08-17 CEST" "2020-08-24 CEST" "2020-08-31 CEST"
> >> "2020-09-07 CEST"
> >> [37] "2020-09-14 CEST" "2020-09-21 CEST" "2020-09-28 CEST"
> >> "2020-10-05 CEST"
> >> [41] "2020-10-12 CEST" "2020-10-19 CEST" "2020-10-26 CET" "2020-11-02
> >> CET"
> >> [45] "2020-11-09 CET"  "2020-11-16 CET"  "2020-11-23 CET" "2020-11-30
> >> CET"
> >> [49] "2020-12-07 CET"  "2020-12-14 CET"  "2020-12-21 CET" "2020-12-28
> >> CET"
> >> [53] NA                "2021-01-04 CET"  "2021-01-11 CET" "2021-01-18
> >> CET"
> >> [57] "2021-01-25 CET"  "2021-02-01 CET"  "2021-02-08 CET"
> >> Warning message:
> >> In strptime(paste0(pays$year_week, "-1"), format = "%Y-%W-%u") :
> >>     (0-based) yday 369 in year 2020 is invalid
> >>
> >>
> >> Any idea on how to handle this ?
> >>
> >>
> >>
> >>
> >> Le 22/02/2021 ? 15:26, Patrick Giraudoux a ?crit :
> >>>
> >>> Dear all,
> >>>
> >>> I have a trouble trying to convert dates  given in character to POSIX.
> >>> The date is expressed as a year then the week number e.g. "2020-01"
> >>> (first week of 2020). I thought is can be converted as following:
> >>>
> >>> strptime(mydate,format="%Y-%W")
> >>>
> >>> %W refering to the week of the year as decimal number (00?53) using
> >>> Monday as the first day of week (and typically with the first Monday
> >>> of the year as day 1 of week 1), as indicated in the doc.
> >>>
> >>> However, I got this result, with the month fixed to 02 (february)
> >>> and day 22 (only the year is  converted correctly):
> >>>
> >>> strptime(mydate,format="%Y-%W") [1] "2020-02-22 CET" "2020-02-22
> CET"
> >>> "2020-02-22 CET" "2020-02-22 CET" [5] "2020-02-22 CET" "2020-02-22
> >>> CET" "2020-02-22 CET" "2020-02-22 CET" [9] "2020-02-22 CET"
> >>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [13] "2020-02-22
> >>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [17]
> >>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
> >>> [21] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
> >>> CET" [25] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
> >>> "2020-02-22 CET" [29] "2020-02-22 CET" "2020-02-22 CET" "2020-02-22
> >>> CET" "2020-02-22 CET" [33] "2020-02-22 CET" "2020-02-22 CET"
> >>> "2020-02-22 CET" "2020-02-22 CET" [37] "2020-02-22 CET" "2020-02-22
> >>> CET" "2020-02-22 CET" "2020-02-22 CET" [41] "2020-02-22 CET"
> >>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [45] "2020-02-22
> >>> CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" [49]
> >>> "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET" "2020-02-22 CET"
> >>> [53] "2020-02-22 CET" "2021-02-22 CET" "2021-02-22 CET" "2021-02-22
> >>> CET" [57] "2021-02-22 CET" "2021-02-22 CET" "2021-02-22 CET"
> >>>
> >>> You'll find below a dump of "mydate" you can copy and paster if you
> >>> need a try
> >>>
> >>> Any hint welcome...
> >>>
> >>> Best,
> >>>
> >>> Patrick
> >>>
> >>> mydate <-
> >>> c("2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06",
> >>> "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12",
> >>> "2020-13", "2020-14", "2020-15", "2020-16", "2020-17", "2020-18",
> >>> "2020-19", "2020-20", "2020-21", "2020-22", "2020-23", "2020-24",
> >>> "2020-25", "2020-26", "2020-27", "2020-28", "2020-29", "2020-30",
> >>> "2020-31", "2020-32", "2020-33", "2020-34", "2020-35", "2020-36",
> >>> "2020-37", "2020-38", "2020-39", "2020-40", "2020-41", "2020-42",
> >>> "2020-43", "2020-44", "2020-45", "2020-46", "2020-47", "2020-48",
> >>> "2020-49", "2020-50", "2020-51", "2020-52", "2020-53", "2021-01",
> >>> "2021-02", "2021-03", "2021-04", "2021-05", "2021-06")
> >>>
> >>
> >>
> >>     [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From biii m@iii@g oii de@@ey@ws  Tue Feb 23 15:45:53 2021
From: biii m@iii@g oii de@@ey@ws (biii m@iii@g oii de@@ey@ws)
Date: Tue, 23 Feb 2021 09:45:53 -0500
Subject: [R] print and coef Methods for survreg Differ
Message-ID: <106c01d709f2$967ae110$c370a330$@denney.ws>

Hello,

 

I'm working on a survreg model where the full data are subset for modeling
individual parts of the data separately.  When subsetting, the fit variable
("treatment" in the example below) has levels that are not in the data.  A
work-around for this is to drop the levels, but it seems inaccurate to have
the `coef()` method provide zero as the coefficient for the level without
data.

 

Why does coef(model) provide zero as the coefficient for treatment instead
of NA?  Is this a bug?

 

Thanks,

 

Bill

 

``` r

library(survival)

library(emmeans)

 

my_data <-

  data.frame(

    value=c(rep(1, 5), 6:10),

    treatment=factor(rep(c("A", "B"), each=5), levels=c("A", "B", "C"))

  )

my_data$cens <- c(0, 1)[(my_data$value == 1) + 1]

 

model <- survreg(Surv(time=value, event=cens)~treatment, data=my_data)

#> Warning in survreg.fit(X, Y, weights, offset, init = init, controlvals =

#> control, : Ran out of iterations and did not converge

coef(model)

#> (Intercept)  treatmentB  treatmentC 

#>  0.08588218  2.40341893  0.00000000

model$coef

#> (Intercept)  treatmentB  treatmentC 

#>  0.08588218  2.40341893          NA

model$coefficients

#> (Intercept)  treatmentB  treatmentC 

#>  0.08588218  2.40341893  0.00000000

print(model)

#> Call:

#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 

#>     data = my_data)

#> 

#> Coefficients: (1 not defined because of singularities)

#> (Intercept)  treatmentB  treatmentC 

#>  0.08588218  2.40341893          NA 

#> 

#> Scale= 0.09832254 

#> 

#> Loglik(model)= 4.9   Loglik(intercept only)= -15

#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.15e-09 

#> n= 10

summary(model)

#> 

#> Call:

#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 

#>     data = my_data)

#>               Value Std. Error     z      p

#> (Intercept)  0.0859     0.0681  1.26   0.21

#> treatmentB   2.4034     0.2198 10.93 <2e-16

#> treatmentC   0.0000     0.0000    NA     NA

#> Log(scale)  -2.3195     0.0000  -Inf <2e-16

#> 

#> Scale= 0.0983 

#> 

#> Weibull distribution

#> Loglik(model)= 4.9   Loglik(intercept only)= -15

#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.1e-09 

#> Number of Newton-Raphson Iterations: 30 

#> n= 10

ref_grid(model)

#> Error in ref_grid(model): Something went wrong:

#>  Non-conformable elements in reference grid.

 

my_data_correct_levels <- my_data

my_data_correct_levels$treatment <-
droplevels(my_data_correct_levels$treatment)

 

model_correct <- survreg(Surv(time=value, event=cens)~treatment,
data=my_data_correct_levels)

#> Warning in survreg.fit(X, Y, weights, offset, init = init, controlvals =

#> control, : Ran out of iterations and did not converge

coef(model_correct)

#> (Intercept)  treatmentB 

#>  0.08588218  2.40341893

print(model_correct)

#> Call:

#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 

#>     data = my_data_correct_levels)

#> 

#> Coefficients:

#> (Intercept)  treatmentB 

#>  0.08588218  2.40341893 

#> 

#> Scale= 0.09832254 

#> 

#> Loglik(model)= 4.9   Loglik(intercept only)= -15

#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.65e-10 

#> n= 10

summary(model_correct)

#> 

#> Call:

#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 

#>     data = my_data_correct_levels)

#>               Value Std. Error     z      p

#> (Intercept)  0.0859     0.0681  1.26   0.21

#> treatmentB   2.4034     0.2198 10.93 <2e-16

#> Log(scale)  -2.3195     0.0000  -Inf <2e-16

#> 

#> Scale= 0.0983 

#> 

#> Weibull distribution

#> Loglik(model)= 4.9   Loglik(intercept only)= -15

#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.6e-10 

#> Number of Newton-Raphson Iterations: 30 

#> n= 10

ref_grid(model_correct)

#> 'emmGrid' object with variables:

#>     treatment = A, B

#> Transformation: "log"

```

 

<sup>Created on 2021-02-23 by the [reprex
package](https://reprex.tidyverse.org) (v1.0.0)</sup>


	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb 23 17:09:59 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 23 Feb 2021 08:09:59 -0800
Subject: [R] print and coef Methods for survreg Differ
In-Reply-To: <106c01d709f2$967ae110$c370a330$@denney.ws>
References: <106c01d709f2$967ae110$c370a330$@denney.ws>
Message-ID: <C79BAF96-1B26-4F41-ACF3-288FC634F37A@dcn.davis.ca.us>

Model equations do not normally have conditional forms dependent on whether specific coefficients are NA or not. If you assign NA to a coefficient then you will not be able to predict outputs for input cases that you should be able to. Zero allows these expected cases to work... NA would prevent any useful prediction output.

On February 23, 2021 6:45:53 AM PST, bill at denney.ws wrote:
>Hello,
>
> 
>
>I'm working on a survreg model where the full data are subset for
>modeling
>individual parts of the data separately.  When subsetting, the fit
>variable
>("treatment" in the example below) has levels that are not in the data.
> A
>work-around for this is to drop the levels, but it seems inaccurate to
>have
>the `coef()` method provide zero as the coefficient for the level
>without
>data.
>
> 
>
>Why does coef(model) provide zero as the coefficient for treatment
>instead
>of NA?  Is this a bug?
>
> 
>
>Thanks,
>
> 
>
>Bill
>
> 
>
>``` r
>
>library(survival)
>
>library(emmeans)
>
> 
>
>my_data <-
>
>  data.frame(
>
>    value=c(rep(1, 5), 6:10),
>
>    treatment=factor(rep(c("A", "B"), each=5), levels=c("A", "B", "C"))
>
>  )
>
>my_data$cens <- c(0, 1)[(my_data$value == 1) + 1]
>
> 
>
>model <- survreg(Surv(time=value, event=cens)~treatment, data=my_data)
>
>#> Warning in survreg.fit(X, Y, weights, offset, init = init,
>controlvals =
>
>#> control, : Ran out of iterations and did not converge
>
>coef(model)
>
>#> (Intercept)  treatmentB  treatmentC 
>
>#>  0.08588218  2.40341893  0.00000000
>
>model$coef
>
>#> (Intercept)  treatmentB  treatmentC 
>
>#>  0.08588218  2.40341893          NA
>
>model$coefficients
>
>#> (Intercept)  treatmentB  treatmentC 
>
>#>  0.08588218  2.40341893  0.00000000
>
>print(model)
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 
>
>#>     data = my_data)
>
>#> 
>
>#> Coefficients: (1 not defined because of singularities)
>
>#> (Intercept)  treatmentB  treatmentC 
>
>#>  0.08588218  2.40341893          NA 
>
>#> 
>
>#> Scale= 0.09832254 
>
>#> 
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.15e-09 
>
>#> n= 10
>
>summary(model)
>
>#> 
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 
>
>#>     data = my_data)
>
>#>               Value Std. Error     z      p
>
>#> (Intercept)  0.0859     0.0681  1.26   0.21
>
>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>
>#> treatmentC   0.0000     0.0000    NA     NA
>
>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>
>#> 
>
>#> Scale= 0.0983 
>
>#> 
>
>#> Weibull distribution
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.1e-09 
>
>#> Number of Newton-Raphson Iterations: 30 
>
>#> n= 10
>
>ref_grid(model)
>
>#> Error in ref_grid(model): Something went wrong:
>
>#>  Non-conformable elements in reference grid.
>
> 
>
>my_data_correct_levels <- my_data
>
>my_data_correct_levels$treatment <-
>droplevels(my_data_correct_levels$treatment)
>
> 
>
>model_correct <- survreg(Surv(time=value, event=cens)~treatment,
>data=my_data_correct_levels)
>
>#> Warning in survreg.fit(X, Y, weights, offset, init = init,
>controlvals =
>
>#> control, : Ran out of iterations and did not converge
>
>coef(model_correct)
>
>#> (Intercept)  treatmentB 
>
>#>  0.08588218  2.40341893
>
>print(model_correct)
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 
>
>#>     data = my_data_correct_levels)
>
>#> 
>
>#> Coefficients:
>
>#> (Intercept)  treatmentB 
>
>#>  0.08588218  2.40341893 
>
>#> 
>
>#> Scale= 0.09832254 
>
>#> 
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.65e-10 
>
>#> n= 10
>
>summary(model_correct)
>
>#> 
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment, 
>
>#>     data = my_data_correct_levels)
>
>#>               Value Std. Error     z      p
>
>#> (Intercept)  0.0859     0.0681  1.26   0.21
>
>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>
>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>
>#> 
>
>#> Scale= 0.0983 
>
>#> 
>
>#> Weibull distribution
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.6e-10 
>
>#> Number of Newton-Raphson Iterations: 30 
>
>#> n= 10
>
>ref_grid(model_correct)
>
>#> 'emmGrid' object with variables:
>
>#>     treatment = A, B
>
>#> Transformation: "log"
>
>```
>
> 
>
><sup>Created on 2021-02-23 by the [reprex
>package](https://reprex.tidyverse.org) (v1.0.0)</sup>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From biii m@iii@g oii de@@ey@ws  Tue Feb 23 17:40:43 2021
From: biii m@iii@g oii de@@ey@ws (biii m@iii@g oii de@@ey@ws)
Date: Tue, 23 Feb 2021 11:40:43 -0500
Subject: [R] print and coef Methods for survreg Differ
In-Reply-To: <C79BAF96-1B26-4F41-ACF3-288FC634F37A@dcn.davis.ca.us>
References: <106c01d709f2$967ae110$c370a330$@denney.ws>
 <C79BAF96-1B26-4F41-ACF3-288FC634F37A@dcn.davis.ca.us>
Message-ID: <10ac01d70a02$a158c240$e40a46c0$@denney.ws>

How should you be able to make a prediction (using this type of model) from a state where there is no data such as treatment="C" in my example?

-----Original Message-----
From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
Sent: Tuesday, February 23, 2021 11:10 AM
To: r-help at r-project.org; bill at denney.ws
Subject: Re: [R] print and coef Methods for survreg Differ

Model equations do not normally have conditional forms dependent on whether specific coefficients are NA or not. If you assign NA to a coefficient then you will not be able to predict outputs for input cases that you should be able to. Zero allows these expected cases to work... NA would prevent any useful prediction output.

On February 23, 2021 6:45:53 AM PST, bill at denney.ws wrote:
>Hello,
>
> 
>
>I'm working on a survreg model where the full data are subset for 
>modeling individual parts of the data separately.  When subsetting, the 
>fit variable ("treatment" in the example below) has levels that are not 
>in the data.
> A
>work-around for this is to drop the levels, but it seems inaccurate to 
>have the `coef()` method provide zero as the coefficient for the level 
>without data.
>
> 
>
>Why does coef(model) provide zero as the coefficient for treatment 
>instead of NA?  Is this a bug?
>
> 
>
>Thanks,
>
> 
>
>Bill
>
> 
>
>``` r
>
>library(survival)
>
>library(emmeans)
>
> 
>
>my_data <-
>
>  data.frame(
>
>    value=c(rep(1, 5), 6:10),
>
>    treatment=factor(rep(c("A", "B"), each=5), levels=c("A", "B", "C"))
>
>  )
>
>my_data$cens <- c(0, 1)[(my_data$value == 1) + 1]
>
> 
>
>model <- survreg(Surv(time=value, event=cens)~treatment, data=my_data)
>
>#> Warning in survreg.fit(X, Y, weights, offset, init = init, 
>controlvals =
>
>#> control, : Ran out of iterations and did not converge
>
>coef(model)
>
>#> (Intercept)  treatmentB  treatmentC
>
>#>  0.08588218  2.40341893  0.00000000
>
>model$coef
>
>#> (Intercept)  treatmentB  treatmentC
>
>#>  0.08588218  2.40341893          NA
>
>model$coefficients
>
>#> (Intercept)  treatmentB  treatmentC
>
>#>  0.08588218  2.40341893  0.00000000
>
>print(model)
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>
>#>     data = my_data)
>
>#>
>
>#> Coefficients: (1 not defined because of singularities)
>
>#> (Intercept)  treatmentB  treatmentC
>
>#>  0.08588218  2.40341893          NA 
>
>#>
>
>#> Scale= 0.09832254
>
>#>
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.15e-09
>
>#> n= 10
>
>summary(model)
>
>#>
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>
>#>     data = my_data)
>
>#>               Value Std. Error     z      p
>
>#> (Intercept)  0.0859     0.0681  1.26   0.21
>
>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>
>#> treatmentC   0.0000     0.0000    NA     NA
>
>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>
>#>
>
>#> Scale= 0.0983
>
>#>
>
>#> Weibull distribution
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.1e-09
>
>#> Number of Newton-Raphson Iterations: 30
>
>#> n= 10
>
>ref_grid(model)
>
>#> Error in ref_grid(model): Something went wrong:
>
>#>  Non-conformable elements in reference grid.
>
> 
>
>my_data_correct_levels <- my_data
>
>my_data_correct_levels$treatment <-
>droplevels(my_data_correct_levels$treatment)
>
> 
>
>model_correct <- survreg(Surv(time=value, event=cens)~treatment,
>data=my_data_correct_levels)
>
>#> Warning in survreg.fit(X, Y, weights, offset, init = init, 
>controlvals =
>
>#> control, : Ran out of iterations and did not converge
>
>coef(model_correct)
>
>#> (Intercept)  treatmentB
>
>#>  0.08588218  2.40341893
>
>print(model_correct)
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>
>#>     data = my_data_correct_levels)
>
>#>
>
>#> Coefficients:
>
>#> (Intercept)  treatmentB
>
>#>  0.08588218  2.40341893
>
>#>
>
>#> Scale= 0.09832254
>
>#>
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.65e-10
>
>#> n= 10
>
>summary(model_correct)
>
>#>
>
>#> Call:
>
>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>
>#>     data = my_data_correct_levels)
>
>#>               Value Std. Error     z      p
>
>#> (Intercept)  0.0859     0.0681  1.26   0.21
>
>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>
>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>
>#>
>
>#> Scale= 0.0983
>
>#>
>
>#> Weibull distribution
>
>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>
>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.6e-10
>
>#> Number of Newton-Raphson Iterations: 30
>
>#> n= 10
>
>ref_grid(model_correct)
>
>#> 'emmGrid' object with variables:
>
>#>     treatment = A, B
>
>#> Transformation: "log"
>
>```
>
> 
>
><sup>Created on 2021-02-23 by the [reprex
>package](https://reprex.tidyverse.org) (v1.0.0)</sup>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

--
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Feb 23 18:24:27 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 23 Feb 2021 09:24:27 -0800
Subject: [R] print and coef Methods for survreg Differ
In-Reply-To: <10ac01d70a02$a158c240$e40a46c0$@denney.ws>
References: <106c01d709f2$967ae110$c370a330$@denney.ws>
 <C79BAF96-1B26-4F41-ACF3-288FC634F37A@dcn.davis.ca.us>
 <10ac01d70a02$a158c240$e40a46c0$@denney.ws>
Message-ID: <7A158B3A-A458-4B23-921B-0337B1375241@dcn.davis.ca.us>

You can't. But in order to be able to predict for states that _were_ in the training data, the coefficient cannot be NA.

On February 23, 2021 8:40:43 AM PST, bill at denney.ws wrote:
>How should you be able to make a prediction (using this type of model)
>from a state where there is no data such as treatment="C" in my
>example?
>
>-----Original Message-----
>From: Jeff Newmiller <jdnewmil at dcn.davis.ca.us> 
>Sent: Tuesday, February 23, 2021 11:10 AM
>To: r-help at r-project.org; bill at denney.ws
>Subject: Re: [R] print and coef Methods for survreg Differ
>
>Model equations do not normally have conditional forms dependent on
>whether specific coefficients are NA or not. If you assign NA to a
>coefficient then you will not be able to predict outputs for input
>cases that you should be able to. Zero allows these expected cases to
>work... NA would prevent any useful prediction output.
>
>On February 23, 2021 6:45:53 AM PST, bill at denney.ws wrote:
>>Hello,
>>
>> 
>>
>>I'm working on a survreg model where the full data are subset for 
>>modeling individual parts of the data separately.  When subsetting,
>the 
>>fit variable ("treatment" in the example below) has levels that are
>not 
>>in the data.
>> A
>>work-around for this is to drop the levels, but it seems inaccurate to
>
>>have the `coef()` method provide zero as the coefficient for the level
>
>>without data.
>>
>> 
>>
>>Why does coef(model) provide zero as the coefficient for treatment 
>>instead of NA?  Is this a bug?
>>
>> 
>>
>>Thanks,
>>
>> 
>>
>>Bill
>>
>> 
>>
>>``` r
>>
>>library(survival)
>>
>>library(emmeans)
>>
>> 
>>
>>my_data <-
>>
>>  data.frame(
>>
>>    value=c(rep(1, 5), 6:10),
>>
>>    treatment=factor(rep(c("A", "B"), each=5), levels=c("A", "B",
>"C"))
>>
>>  )
>>
>>my_data$cens <- c(0, 1)[(my_data$value == 1) + 1]
>>
>> 
>>
>>model <- survreg(Surv(time=value, event=cens)~treatment, data=my_data)
>>
>>#> Warning in survreg.fit(X, Y, weights, offset, init = init, 
>>controlvals =
>>
>>#> control, : Ran out of iterations and did not converge
>>
>>coef(model)
>>
>>#> (Intercept)  treatmentB  treatmentC
>>
>>#>  0.08588218  2.40341893  0.00000000
>>
>>model$coef
>>
>>#> (Intercept)  treatmentB  treatmentC
>>
>>#>  0.08588218  2.40341893          NA
>>
>>model$coefficients
>>
>>#> (Intercept)  treatmentB  treatmentC
>>
>>#>  0.08588218  2.40341893  0.00000000
>>
>>print(model)
>>
>>#> Call:
>>
>>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>>
>>#>     data = my_data)
>>
>>#>
>>
>>#> Coefficients: (1 not defined because of singularities)
>>
>>#> (Intercept)  treatmentB  treatmentC
>>
>>#>  0.08588218  2.40341893          NA 
>>
>>#>
>>
>>#> Scale= 0.09832254
>>
>>#>
>>
>>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>>
>>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.15e-09
>>
>>#> n= 10
>>
>>summary(model)
>>
>>#>
>>
>>#> Call:
>>
>>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>>
>>#>     data = my_data)
>>
>>#>               Value Std. Error     z      p
>>
>>#> (Intercept)  0.0859     0.0681  1.26   0.21
>>
>>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>>
>>#> treatmentC   0.0000     0.0000    NA     NA
>>
>>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>>
>>#>
>>
>>#> Scale= 0.0983
>>
>>#>
>>
>>#> Weibull distribution
>>
>>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>>
>>#>  Chisq= 39.92 on 2 degrees of freedom, p= 2.1e-09
>>
>>#> Number of Newton-Raphson Iterations: 30
>>
>>#> n= 10
>>
>>ref_grid(model)
>>
>>#> Error in ref_grid(model): Something went wrong:
>>
>>#>  Non-conformable elements in reference grid.
>>
>> 
>>
>>my_data_correct_levels <- my_data
>>
>>my_data_correct_levels$treatment <-
>>droplevels(my_data_correct_levels$treatment)
>>
>> 
>>
>>model_correct <- survreg(Surv(time=value, event=cens)~treatment,
>>data=my_data_correct_levels)
>>
>>#> Warning in survreg.fit(X, Y, weights, offset, init = init, 
>>controlvals =
>>
>>#> control, : Ran out of iterations and did not converge
>>
>>coef(model_correct)
>>
>>#> (Intercept)  treatmentB
>>
>>#>  0.08588218  2.40341893
>>
>>print(model_correct)
>>
>>#> Call:
>>
>>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>>
>>#>     data = my_data_correct_levels)
>>
>>#>
>>
>>#> Coefficients:
>>
>>#> (Intercept)  treatmentB
>>
>>#>  0.08588218  2.40341893
>>
>>#>
>>
>>#> Scale= 0.09832254
>>
>>#>
>>
>>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>>
>>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.65e-10
>>
>>#> n= 10
>>
>>summary(model_correct)
>>
>>#>
>>
>>#> Call:
>>
>>#> survreg(formula = Surv(time = value, event = cens) ~ treatment,
>>
>>#>     data = my_data_correct_levels)
>>
>>#>               Value Std. Error     z      p
>>
>>#> (Intercept)  0.0859     0.0681  1.26   0.21
>>
>>#> treatmentB   2.4034     0.2198 10.93 <2e-16
>>
>>#> Log(scale)  -2.3195     0.0000  -Inf <2e-16
>>
>>#>
>>
>>#> Scale= 0.0983
>>
>>#>
>>
>>#> Weibull distribution
>>
>>#> Loglik(model)= 4.9   Loglik(intercept only)= -15
>>
>>#>  Chisq= 39.92 on 1 degrees of freedom, p= 2.6e-10
>>
>>#> Number of Newton-Raphson Iterations: 30
>>
>>#> n= 10
>>
>>ref_grid(model_correct)
>>
>>#> 'emmGrid' object with variables:
>>
>>#>     treatment = A, B
>>
>>#> Transformation: "log"
>>
>>```
>>
>> 
>>
>><sup>Created on 2021-02-23 by the [reprex
>>package](https://reprex.tidyverse.org) (v1.0.0)</sup>
>>
>>
>>	[[alternative HTML version deleted]]
>>
>>______________________________________________
>>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
>
>--
>Sent from my phone. Please excuse my brevity.

-- 
Sent from my phone. Please excuse my brevity.


From kevi@eg@@31 m@iii@g oii gm@ii@com  Tue Feb 23 08:21:44 2021
From: kevi@eg@@31 m@iii@g oii gm@ii@com (kevi@eg@@31 m@iii@g oii gm@ii@com)
Date: Tue, 23 Feb 2021 07:21:44 +0000
Subject: [R] Different Lambdas and Coefficients between cv.glmnet and
 intercept = FALSE
Message-ID: <26E9A4B1-3F05-4FD6-918B-B5A8AAF1C110@gmail.com>

Hello,

I'm currently reviewing how to correctly implement `glmnet` and am having a hard time understanding why the results seem to be different between each method when `intercept = TRUE/FALSE` as I thought it should just drop the intercept from the model. However, it seems to be acting a bit different and I'm not sure how.

For a given lambda, if both `X` and `y` are scaled, it appears we can identify the same results:
```
library(glmnet)
data(QuickStartExample)
lambda_grid <- 10 ^ seq(10, -2, length = 100)
With_Intercept<-glmnet(scale(x),c(scale(y)))
Without_Intercept<-glmnet(scale(x),c(scale(y)), intercept=FALSE)
# Extract coefficients at a single value of lambda
cbind(coef(With_Intercept,s=0.01), coef(Without_Intercept,s=0.01))[-1,]
```
While this is good, it's not clear to me how to put these back into their original scale. Further, this is for a given value of lambda. When using `cv.glmnet`, I'd like to identify the optimal lambda such that:
```
With_Intercept <- cv.glmnet(scale(x),c(scale(y)), lambda = lambda_grid)
Without_Intercept <- cv.glmnet(scale(x), c(scale(y)), lambda = lambda_grid, intercept=FALSE)
cbind(coef(With_Intercept, s=With_Intercept$lambda.min, exact = TRUE, x = scale(x), y = scale(y)),
      coef(Without_Intercept, s=Without_Intercept$lambda.min, exact = TRUE, x = scale(x), y = scale(y)))[-1,]
```
If I use `With_Intercept$lambda.min` to identify the `Without_Intercept` model, I get the same coefficients, but this doesn't necessarily give me confidence in what is the right model to use. Further, I'm not sure how to put the coefficients back into the right scale.

I've tried to compare all of the possible combinations between standardising, scaling, and leaving the variables as they are, but I'm still struggling with the best method and how to ensure I'm implementing `glmnet` correctly.

If anyone has advice on how to proceed and interpret these methods or get consistent results I would appreciate it. I've been reading the Introduction to Statistical Learning, Elements of Statistical Learning, Statistical Learning and Sparsity, as well as the `glmnet` vignette but am still a bit unclear.

Thanks,

Kevin


From bgunter@4567 @end|ng |rom gm@||@com  Tue Feb 23 23:14:22 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 23 Feb 2021 14:14:22 -0800
Subject: [R] Different Lambdas and Coefficients between cv.glmnet and
 intercept = FALSE
In-Reply-To: <26E9A4B1-3F05-4FD6-918B-B5A8AAF1C110@gmail.com>
References: <26E9A4B1-3F05-4FD6-918B-B5A8AAF1C110@gmail.com>
Message-ID: <CAGxFJbRmcKdP9H3W6r=6ig-_pdAwhRxoAx_h7gkqDte7Cv9RPA@mail.gmail.com>

Please note, per the posting guide linked below:

"*Questions about statistics:* The R mailing lists are primarily intended
for questions and discussion about the R software. However, questions about
statistical methodology are sometimes posted. If the question is well-asked
and of interest to someone on the list, it *may* elicit an informative
up-to-date answer. See also the Usenet groups sci.stat.consult (applied
statistics and consulting) and sci.stat.math (mathematical stat and
probability). "  -- also stats.stackexchange.com

Also:
"For questions about functions in standard packages distributed with R (see
the FAQ Add-on packages in R
<https://cran.r-project.org/doc/FAQ/R-FAQ.html#Add-on-packages-in-R>), ask
questions on R-help.
If the question relates to a *contributed package* , e.g., one downloaded
from CRAN, try contacting the package maintainer first. You can also use
find("functionname") and packageDescription("packagename") to find this
information. *Only* send such questions to R-help or R-devel if you get no
reply or need further assistance. This applies to both requests for help
and to bug reports." -- see also ?maintainer

Your query seems to be mostly statistical in nature and certainly about a
non-standard package (glmnet), so if you do not get a useful response here
within a few days -- you might despite the above -- try the above.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Feb 23, 2021 at 1:07 PM <kevinegan31 at gmail.com> wrote:

> Hello,
>
> I'm currently reviewing how to correctly implement `glmnet` and am having
> a hard time understanding why the results seem to be different between each
> method when `intercept = TRUE/FALSE` as I thought it should just drop the
> intercept from the model. However, it seems to be acting a bit different
> and I'm not sure how.
>
> For a given lambda, if both `X` and `y` are scaled, it appears we can
> identify the same results:
> ```
> library(glmnet)
> data(QuickStartExample)
> lambda_grid <- 10 ^ seq(10, -2, length = 100)
> With_Intercept<-glmnet(scale(x),c(scale(y)))
> Without_Intercept<-glmnet(scale(x),c(scale(y)), intercept=FALSE)
> # Extract coefficients at a single value of lambda
> cbind(coef(With_Intercept,s=0.01), coef(Without_Intercept,s=0.01))[-1,]
> ```
> While this is good, it's not clear to me how to put these back into their
> original scale. Further, this is for a given value of lambda. When using
> `cv.glmnet`, I'd like to identify the optimal lambda such that:
> ```
> With_Intercept <- cv.glmnet(scale(x),c(scale(y)), lambda = lambda_grid)
> Without_Intercept <- cv.glmnet(scale(x), c(scale(y)), lambda =
> lambda_grid, intercept=FALSE)
> cbind(coef(With_Intercept, s=With_Intercept$lambda.min, exact = TRUE, x =
> scale(x), y = scale(y)),
>       coef(Without_Intercept, s=Without_Intercept$lambda.min, exact =
> TRUE, x = scale(x), y = scale(y)))[-1,]
> ```
> If I use `With_Intercept$lambda.min` to identify the `Without_Intercept`
> model, I get the same coefficients, but this doesn't necessarily give me
> confidence in what is the right model to use. Further, I'm not sure how to
> put the coefficients back into the right scale.
>
> I've tried to compare all of the possible combinations between
> standardising, scaling, and leaving the variables as they are, but I'm
> still struggling with the best method and how to ensure I'm implementing
> `glmnet` correctly.
>
> If anyone has advice on how to proceed and interpret these methods or get
> consistent results I would appreciate it. I've been reading the
> Introduction to Statistical Learning, Elements of Statistical Learning,
> Statistical Learning and Sparsity, as well as the `glmnet` vignette but am
> still a bit unclear.
>
> Thanks,
>
> Kevin
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From b@b@@pr@t@p73013 @end|ng |rom gm@||@com  Wed Feb 24 15:19:55 2021
From: b@b@@pr@t@p73013 @end|ng |rom gm@||@com (Shailendra Pratap)
Date: Wed, 24 Feb 2021 15:19:55 +0100
Subject: [R] Extract data from .nc file
Message-ID: <CAMUcscBQ42wYxn4wWA3LRT0hjf+berdnpayrYx_foEFqrizZRg@mail.gmail.com>

Hi,
Please help me. I am trying to get information on "soi" from the NetCDF
file (please see the attached).

The file is showing this info-

float soi(time=2001, *MCrun=20, members=100*);
  :description = "soi";
  :long_name = "Southern Oscillation Index";
  :units = "";
  :level = "sfc";

And Dimentions----

5 dimensions:
        *time  Size:2001*
            description: time
            long_name: Time
            standard_name: time
            units: *days since 0000-01-01 00:00:00*
            calendar: noleap
            actual_range: 0
             *actual_range: 730000*
      *  MCrun  Size:20*


I am not aware of *MCrun* and *members *gaven in a file. I wants to
create csv output and ggplot (line) in form of years.

like this format---

*Longitude     Latitude     Year     soi*


Please help me, my script is here-

rm(list=ls(all=TRUE))
library(ncdf4)
library(ggplot2)
library(ncdf4.helpers)
setwd("D:/work/")
ncfile <-nc_open("posterior_climate_indices_MCruns_ensemble_full_LMRv2.1.nc
")
head(ncfile)
lon <- ncvar_get(ncfile, "lon_npac")
lat<- ncvar_get(ncfile, "lat_npac", verbose = F)
tt<- ncvar_get(ncfile, "time")
units<- ncatt_get(ncfile, "time", "units")
soi <- ncvar_get(ncfile, "soi")
soi_final = data.frame(cbind(lon, lat, tt, soi))

#output
write.csv(amo_final, "soi.csv", row.names = FALSE)

#plot
ggplot(data = soi_final, aes(x = time, y = soi)) +
  geom_line() +
  xlab("Year") + ylab("soi") +
  ggtitle("SOI from 1-2001") +
  theme_classic()


thank you

wish you good health.



Regards
S. Singh

 posterior_climate_indices_MCruns_ensemble_full_...
<https://drive.google.com/file/d/1r5PzXxShmeOcoBDXUk7Nfr3EzCqmQwGb/view?usp=drive_web>

	[[alternative HTML version deleted]]


From roy@mende|@@ohn @end|ng |rom no@@@gov  Wed Feb 24 20:45:01 2021
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Wed, 24 Feb 2021 11:45:01 -0800
Subject: [R] Extract data from .nc file
In-Reply-To: <CAMUcscBQ42wYxn4wWA3LRT0hjf+berdnpayrYx_foEFqrizZRg@mail.gmail.com>
References: <CAMUcscBQ42wYxn4wWA3LRT0hjf+berdnpayrYx_foEFqrizZRg@mail.gmail.com>
Message-ID: <AC81C13F-22AA-4A41-911A-13AF5A9A99CD@noaa.gov>

Hi Shailendra:

You didn't provide the error messages you received,  which makes it difficult to answer.  I will say here is at least one typo,  in:

> write.csv(amo_final, "soi.csv", row.names = FALSE)

You have only defined "soi_final". But I would also be surprised if either of the "cbind()" or "dataframe()" commands works,  as everything is of different sizes.

HTH,

-Roy

> On Feb 24, 2021, at 6:19 AM, Shailendra Pratap <baba.pratap73013 at gmail.com> wrote:
> 
> Hi,
> Please help me. I am trying to get information on "soi" from the NetCDF
> file (please see the attached).
> 
> The file is showing this info-
> 
> float soi(time=2001, *MCrun=20, members=100*);
>  :description = "soi";
>  :long_name = "Southern Oscillation Index";
>  :units = "";
>  :level = "sfc";
> 
> And Dimentions----
> 
> 5 dimensions:
>        *time  Size:2001*
>            description: time
>            long_name: Time
>            standard_name: time
>            units: *days since 0000-01-01 00:00:00*
>            calendar: noleap
>            actual_range: 0
>             *actual_range: 730000*
>      *  MCrun  Size:20*
> 
> 
> I am not aware of *MCrun* and *members *gaven in a file. I wants to
> create csv output and ggplot (line) in form of years.
> 
> like this format---
> 
> *Longitude     Latitude     Year     soi*
> 
> 
> Please help me, my script is here-
> 
> rm(list=ls(all=TRUE))
> library(ncdf4)
> library(ggplot2)
> library(ncdf4.helpers)
> setwd("D:/work/")
> ncfile <-nc_open("posterior_climate_indices_MCruns_ensemble_full_LMRv2.1.nc
> ")
> head(ncfile)
> lon <- ncvar_get(ncfile, "lon_npac")
> lat<- ncvar_get(ncfile, "lat_npac", verbose = F)
> tt<- ncvar_get(ncfile, "time")
> units<- ncatt_get(ncfile, "time", "units")
> soi <- ncvar_get(ncfile, "soi")
> soi_final = data.frame(cbind(lon, lat, tt, soi))
> 
> #output
> write.csv(amo_final, "soi.csv", row.names = FALSE)
> 
> #plot
> ggplot(data = soi_final, aes(x = time, y = soi)) +
>  geom_line() +
>  xlab("Year") + ylab("soi") +
>  ggtitle("SOI from 1-2001") +
>  theme_classic()
> 
> 
> thank you
> 
> wish you good health.
> 
> 
> 
> Regards
> S. Singh
> 
> posterior_climate_indices_MCruns_ensemble_full_...
> <https://drive.google.com/file/d/1r5PzXxShmeOcoBDXUk7Nfr3EzCqmQwGb/view?usp=drive_web>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From t@n@@@ @end|ng |rom gm@||@com  Wed Feb 24 23:06:36 2021
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Wed, 24 Feb 2021 14:06:36 -0800
Subject: [R] overlaying frequency histograms or density plots in R
Message-ID: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>

Dear all, we do have a dataframe with a FACTOR called EXP that has 3 LEVELS
;

 head(pp_ALL)
    VALUE  EXP
1 1639742 DMSO
2 1636822 DMSO
3 1634202 DMSO

shall i aim to overlay the relative frequency histograms, or the density
histograms for the FACTOR LEVELS,

please would you let me know why the following 2 pieces of R code show very
different results :

ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()

versus

ggplot(data=pp_ALL) +
       geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
 bins=1000)

thanks,

bogdan

ps : perhaps i shall email to the folks on ggplot2 mailing list too ...

	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Thu Feb 25 07:35:49 2021
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Thu, 25 Feb 2021 19:35:49 +1300
Subject: [R] Is it Possible to Create S4 Function Objects?
In-Reply-To: <CAB8pepwMpG0ECbEnRpDkZK8GPkzatO+80pXZ2ash8xFKT6xzqQ@mail.gmail.com>
References: <CAB8pepzNkFxboXmzQh9T9MJH98gYtEW1qp4eUDCAGT2ps698mg@mail.gmail.com>
 <65f86924-7910-8aaa-3ef5-b988ed0b6418@gmail.com>
 <CAB8pepwMpG0ECbEnRpDkZK8GPkzatO+80pXZ2ash8xFKT6xzqQ@mail.gmail.com>
Message-ID: <CAB8pepz4+PsuYjuTZjpTmos5HfWchySfwwOe10MP-P==hBWhmg@mail.gmail.com>

I've completed the S4 example.
Thank you, Herve, for your assistance.

----begin code----
plotf <- function (f)
{   x <- seq (-1, 1,, 200)
    plot (x, f (x), type="l")
}

#s4-based function object, with slot
setClass ("Quad.S4", contains="function", slots = list (p="numeric") )
Quad.S4 <- function (p = c (0, 0, 1) )
{   f <- function (x)
    {   this <- sys.function ()
        p <- this at p
        p [1] + p [2] * x + p [3] * x^2
    }
    new ("Quad.S4", f, p=p)
}

f.s4 <- Quad.S4 ()
plotf (f.s4)
f.s4 at p


On Tue, Feb 23, 2021 at 11:23 AM Abby Spurdle (/??bi/)
<spurdle.a at gmail.com> wrote:
>
> Oh wow.
> Post of the year!
> Where's the like button?
>
> Note, I was able to rewrite it without the deprecated args.
> (Don't want one of those CRAN emails, in 12 months from now, saying
> please change XXXX).
>
> I'll have to come back to this later, to see if I can get the body of
> f() to access the slot
>
>
> On Mon, Feb 22, 2021 at 11:36 AM Herv? Pag?s <hpages.on.github at gmail.com> wrote:
> >
> > Hi Abby,
> >
> > Something along the line of:
> >
> >    setClass("S4Function",
> >      contains="function",
> >      representation(name="character", more_stuff="ANY")
> >    )
> >
> > seems to do what you want:
> >
> >    f <- new("S4Function", function(a) a^2, name="square")
> >
> >    # 'f' is both an S4 object and a function:
> >    is.object(f)
> >    # [1] TRUE
> >    is.function(f)
> >    # [1] TRUE
> >
> >    f at name
> >    # [1] "square"
> >    f(11)
> >    # [1] 121
> >
> > Hope this helps,
> >
> > H.


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Feb 25 08:00:03 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 25 Feb 2021 07:00:03 +0000
Subject: [R] overlaying frequency histograms or density plots in R
In-Reply-To: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
References: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
Message-ID: <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>

Hi

You should use position dodge.

p <- ggplot(iris, aes(x=Sepal.Length, colour=Species))
p+geom_density()
p <- ggplot(iris, aes(x=Sepal.Length, y=..density.., colour=Species))
p+geom_histogram(position="dodge")

Cheers
Petr
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bogdan Tanasa
> Sent: Wednesday, February 24, 2021 11:07 PM
> To: r-help <r-help at r-project.org>
> Subject: [R] overlaying frequency histograms or density plots in R
> 
> Dear all, we do have a dataframe with a FACTOR called EXP that has 3
LEVELS ;
> 
>  head(pp_ALL)
>     VALUE  EXP
> 1 1639742 DMSO
> 2 1636822 DMSO
> 3 1634202 DMSO
> 
> shall i aim to overlay the relative frequency histograms, or the density
> histograms for the FACTOR LEVELS,
> 
> please would you let me know why the following 2 pieces of R code show
> very different results :
> 
> ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()
> 
> versus
> 
> ggplot(data=pp_ALL) +
>        geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
>  bins=1000)
> 
> thanks,
> 
> bogdan
> 
> ps : perhaps i shall email to the folks on ggplot2 mailing list too ...
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From t@n@@@ @end|ng |rom gm@||@com  Thu Feb 25 08:43:09 2021
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Wed, 24 Feb 2021 23:43:09 -0800
Subject: [R] overlaying frequency histograms or density plots in R
In-Reply-To: <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>
References: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
 <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>
Message-ID: <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>

Thanks a lot Petr !

shall i uses "dodge" also for the RELATIVE FREQUENCY HISTOGRAMS :

p <- ggplot(iris, aes(x=Sepal.Length, y=..count../sum(..count..)*100,
colour=Species))
p+geom_histogram(position="dodge")

or is there any other way to display the RELATIVE FREQUENCY HISTOGRAMS ?

thanks again !

On Wed, Feb 24, 2021 at 11:00 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hi
>
> You should use position dodge.
>
> p <- ggplot(iris, aes(x=Sepal.Length, colour=Species))
> p+geom_density()
> p <- ggplot(iris, aes(x=Sepal.Length, y=..density.., colour=Species))
> p+geom_histogram(position="dodge")
>
> Cheers
> Petr
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Bogdan Tanasa
> > Sent: Wednesday, February 24, 2021 11:07 PM
> > To: r-help <r-help at r-project.org>
> > Subject: [R] overlaying frequency histograms or density plots in R
> >
> > Dear all, we do have a dataframe with a FACTOR called EXP that has 3
> LEVELS ;
> >
> >  head(pp_ALL)
> >     VALUE  EXP
> > 1 1639742 DMSO
> > 2 1636822 DMSO
> > 3 1634202 DMSO
> >
> > shall i aim to overlay the relative frequency histograms, or the density
> > histograms for the FACTOR LEVELS,
> >
> > please would you let me know why the following 2 pieces of R code show
> > very different results :
> >
> > ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()
> >
> > versus
> >
> > ggplot(data=pp_ALL) +
> >        geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
> >  bins=1000)
> >
> > thanks,
> >
> > bogdan
> >
> > ps : perhaps i shall email to the folks on ggplot2 mailing list too ...
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Feb 25 10:11:01 2021
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 25 Feb 2021 09:11:01 +0000
Subject: [R] overlaying frequency histograms or density plots in R
In-Reply-To: <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>
References: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
 <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>
 <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>
Message-ID: <38f66e43c5414ec0a262c59067330bc3@SRVEXCHCM1302.precheza.cz>

Hi.



My understanding is that position dodge places each bar in each histogram 
beside each other and position stack places all respective bars atop each 
other.



Relative frequency is something different.



Cheers

Petr



From: Bogdan Tanasa <tanasa at gmail.com>
Sent: Thursday, February 25, 2021 8:43 AM
To: PIKAL Petr <petr.pikal at precheza.cz>
Cc: r-help <r-help at r-project.org>
Subject: Re: [R] overlaying frequency histograms or density plots in R



Thanks a lot Petr !



shall i uses "dodge" also for the RELATIVE FREQUENCY HISTOGRAMS :



p <- ggplot(iris, aes(x=Sepal.Length, y=..count../sum(..count..)*100, 
colour=Species))
p+geom_histogram(position="dodge")



or is there any other way to display the RELATIVE FREQUENCY HISTOGRAMS ?



thanks again !



On Wed, Feb 24, 2021 at 11:00 PM PIKAL Petr <petr.pikal at precheza.cz 
<mailto:petr.pikal at precheza.cz> > wrote:

Hi

You should use position dodge.

p <- ggplot(iris, aes(x=Sepal.Length, colour=Species))
p+geom_density()
p <- ggplot(iris, aes(x=Sepal.Length, y=..density.., colour=Species))
p+geom_histogram(position="dodge")

Cheers
Petr
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org 
> <mailto:r-help-bounces at r-project.org> > On Behalf Of Bogdan Tanasa
> Sent: Wednesday, February 24, 2021 11:07 PM
> To: r-help <r-help at r-project.org <mailto:r-help at r-project.org> >
> Subject: [R] overlaying frequency histograms or density plots in R
>
> Dear all, we do have a dataframe with a FACTOR called EXP that has 3
LEVELS ;
>
>  head(pp_ALL)
>     VALUE  EXP
> 1 1639742 DMSO
> 2 1636822 DMSO
> 3 1634202 DMSO
>
> shall i aim to overlay the relative frequency histograms, or the density
> histograms for the FACTOR LEVELS,
>
> please would you let me know why the following 2 pieces of R code show
> very different results :
>
> ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()
>
> versus
>
> ggplot(data=pp_ALL) +
>        geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
>  bins=1000)
>
> thanks,
>
> bogdan
>
> ps : perhaps i shall email to the folks on ggplot2 mailing list too ...
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To 
> UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Feb 25 11:59:05 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 25 Feb 2021 10:59:05 +0000
Subject: [R] overlaying frequency histograms or density plots in R
In-Reply-To: <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>
References: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
 <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>
 <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>
Message-ID: <9f1a64c5-04a7-7f7e-45ba-374ff6ae39db@sapo.pt>

Hello,

First of all, I believe you want argument fill, not colour. In ggplot2 
colour is about the border and fill about the interior.

As for the question,

1. Create a basic plot with the common aesthetics.


library(ggplot2)

pp_ALL <- iris[c(1, 5)]
names(pp_ALL) <- c("VALUE", "EXP")

p <- ggplot(data = pp_ALL, mapping = aes(x = VALUE, fill = EXP))



2. geom_density should use alpha transparency, since the densities 
overlap. colour = NA removes the densities black border.


p + geom_density(alpha = 0.5, colour = NA)


3. y = ..density.. plots relative frequencies histograms, for the 
default absolute frequencies or counts, comment the mapping out.

position = position_dodge() allows for extra goodies, such as to change 
the space between bars, their width or to keep empty spaces when some 
factor levels are missing (preserve = "single").

For the test data, with 50 elements per factor level, use a much smaller 
number of bins.

Package scales has functions to display labels in percent format, there 
is no need to multiply by 100.


p + geom_histogram(
   mapping = aes(y = ..density..),
   position = position_dodge(),
   bins = 10)

p + geom_histogram(
   mapping = aes(y = ..density..),
   position = position_dodge(),
   bins = 10) +
   scale_y_continuous(labels = scales::label_percent())


Hope this helps,

Rui Barradas


?s 07:43 de 25/02/21, Bogdan Tanasa escreveu:
> Thanks a lot Petr !
> 
> shall i uses "dodge" also for the RELATIVE FREQUENCY HISTOGRAMS :
> 
> p <- ggplot(iris, aes(x=Sepal.Length, y=..count../sum(..count..)*100,
> colour=Species))
> p+geom_histogram(position="dodge")
> 
> or is there any other way to display the RELATIVE FREQUENCY HISTOGRAMS ?
> 
> thanks again !
> 
> On Wed, Feb 24, 2021 at 11:00 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
> 
>> Hi
>>
>> You should use position dodge.
>>
>> p <- ggplot(iris, aes(x=Sepal.Length, colour=Species))
>> p+geom_density()
>> p <- ggplot(iris, aes(x=Sepal.Length, y=..density.., colour=Species))
>> p+geom_histogram(position="dodge")
>>
>> Cheers
>> Petr
>>> -----Original Message-----
>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bogdan Tanasa
>>> Sent: Wednesday, February 24, 2021 11:07 PM
>>> To: r-help <r-help at r-project.org>
>>> Subject: [R] overlaying frequency histograms or density plots in R
>>>
>>> Dear all, we do have a dataframe with a FACTOR called EXP that has 3
>> LEVELS ;
>>>
>>>   head(pp_ALL)
>>>      VALUE  EXP
>>> 1 1639742 DMSO
>>> 2 1636822 DMSO
>>> 3 1634202 DMSO
>>>
>>> shall i aim to overlay the relative frequency histograms, or the density
>>> histograms for the FACTOR LEVELS,
>>>
>>> please would you let me know why the following 2 pieces of R code show
>>> very different results :
>>>
>>> ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()
>>>
>>> versus
>>>
>>> ggplot(data=pp_ALL) +
>>>         geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
>>>   bins=1000)
>>>
>>> thanks,
>>>
>>> bogdan
>>>
>>> ps : perhaps i shall email to the folks on ggplot2 mailing list too ...
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-
>>> guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From gor@n@djur|e|dt @end|ng |rom keg@|u@@e  Thu Feb 25 16:24:51 2021
From: gor@n@djur|e|dt @end|ng |rom keg@|u@@e (=?utf-8?B?R8O2cmFuIERqdXJmZWxkdA==?=)
Date: Thu, 25 Feb 2021 15:24:51 +0000
Subject: [R] Out from an R package
Message-ID: <3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>

Help! I am going crazy for a very simple reason. I can?t access the output from for instance the lme4 package in R. I have been able to import an SPSS file into an R data frame. I have downloaded and installed the Lme4 package and I think I have also learnt how to produce a mixed model with lmer:

Output <- lmer(G10ln ~ v191_ms + (1 | couno), data = 'G10R')

How shall I define the output from lmer? What kind of object is it? How do I define it?

Goran

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Thu Feb 25 18:03:57 2021
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Thu, 25 Feb 2021 09:03:57 -0800
Subject: [R] Out from an R package
In-Reply-To: <3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>
References: <3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>
Message-ID: <415e7229-cc54-447c-91e0-4399b284b47b@comcast.net>


On 2/25/21 7:24 AM, G?ran Djurfeldt wrote:
> Help! I am going crazy for a very simple reason. I can?t access the output from for instance the lme4 package in R. I have been able to import an SPSS file into an R data frame. I have downloaded and installed the Lme4 package and I think I have also learnt how to produce a mixed model with lmer:
>
> Output <- lmer(G10ln ~ v191_ms + (1 | couno), data = 'G10R')
>
> How shall I define the output from lmer? What kind of object is it? How do I define it?

I'm not sure what you mean by "How do I define" the output from a 
function. The function does the "definition", but you can correctly 
refer to the output of most regression functions as "a list". The best 
way to get the specific result from a function is to go to its help page 
and look at the Details and Values sections.


-- 

David.

>
> Goran
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |@ur@coco @end|ng |rom gm@||@com  Thu Feb 25 18:18:54 2021
From: |@ur@coco @end|ng |rom gm@||@com (Laura Coco)
Date: Thu, 25 Feb 2021 10:18:54 -0700
Subject: [R] time as a continuous factor in a linear mixed effects model
Message-ID: <CAKgKnP7JfMJcfh9HBi9CyQM62x3z+raibuFrqfbx2s-0UC6Gxg@mail.gmail.com>

Hello,

I am interested in investigating the main effects of group, time, and group
by time interaction on survey outcomes using linear mixed effects models.
Time is considered as continuous (number of days since baseline), but isn't
it also categorical, since I want to compare Session 1 vs Session 4 (for
example)? How is that handled in the model? As of now, time (days since
baseline) is being treated as one unit, rather than four separate sessions.

Here is an example of my code: mdl.outcome <- lmer(outcome ~ time*Group +
(1 | PID), data = dta)

Thank you!!
laura

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Feb 25 18:23:39 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 25 Feb 2021 09:23:39 -0800
Subject: [R] time as a continuous factor in a linear mixed effects model
In-Reply-To: <CAKgKnP7JfMJcfh9HBi9CyQM62x3z+raibuFrqfbx2s-0UC6Gxg@mail.gmail.com>
References: <CAKgKnP7JfMJcfh9HBi9CyQM62x3z+raibuFrqfbx2s-0UC6Gxg@mail.gmail.com>
Message-ID: <CAGxFJbSVfz6PVDiH7FWSscV07j6+1Mhh6kkg+zm09bkcWdvQfw@mail.gmail.com>

You should post this on the r-sig-mixed-models list rather than here.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Feb 25, 2021 at 9:20 AM Laura Coco <lauracoco at gmail.com> wrote:

> Hello,
>
> I am interested in investigating the main effects of group, time, and group
> by time interaction on survey outcomes using linear mixed effects models.
> Time is considered as continuous (number of days since baseline), but isn't
> it also categorical, since I want to compare Session 1 vs Session 4 (for
> example)? How is that handled in the model? As of now, time (days since
> baseline) is being treated as one unit, rather than four separate sessions.
>
> Here is an example of my code: mdl.outcome <- lmer(outcome ~ time*Group +
> (1 | PID), data = dta)
>
> Thank you!!
> laura
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Thu Feb 25 18:59:09 2021
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 25 Feb 2021 12:59:09 -0500
Subject: [R] Out from an R package
In-Reply-To: <415e7229-cc54-447c-91e0-4399b284b47b@comcast.net>
References: <3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>
 <415e7229-cc54-447c-91e0-4399b284b47b@comcast.net>
Message-ID: <CAGgJW75_ucfz0k7AE7c0SQVsp0aVbRbSj7CRjPksihDhGjDYpQ@mail.gmail.com>

The str() function is your friend. Try
str(Output)


On Thu, Feb 25, 2021 at 12:09 PM David Winsemius <dwinsemius at comcast.net>
wrote:

>
> On 2/25/21 7:24 AM, G?ran Djurfeldt wrote:
> > Help! I am going crazy for a very simple reason. I can?t access the
> output from for instance the lme4 package in R. I have been able to import
> an SPSS file into an R data frame. I have downloaded and installed the Lme4
> package and I think I have also learnt how to produce a mixed model with
> lmer:
> >
> > Output <- lmer(G10ln ~ v191_ms + (1 | couno), data = 'G10R')
> >
> > How shall I define the output from lmer? What kind of object is it? How
> do I define it?
>
> I'm not sure what you mean by "How do I define" the output from a
> function. The function does the "definition", but you can correctly
> refer to the output of most regression functions as "a list". The best
> way to get the specific result from a function is to go to its help page
> and look at the Details and Values sections.
>
>
> --
>
> David.
>
> >
> > Goran
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From j|ox @end|ng |rom mcm@@ter@c@  Thu Feb 25 19:38:39 2021
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Thu, 25 Feb 2021 13:38:39 -0500
Subject: [R] Out from an R package
In-Reply-To: <14701_1614272391_11PGxnNJ000981_3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>
References: <14701_1614272391_11PGxnNJ000981_3104DA51-1B81-4BF9-9833-22B2C6B9B3E7@contoso.com>
Message-ID: <76f9be02-0f01-eb04-f035-9c1daf0f8b26@mcmaster.ca>

Dear Goran,

It's not clear from your question what you want to do, but my guess is 
that you simply what a "printout" of your results. The usual way to 
obtain that is via the summary() function. In your case summary(Output).

That's typical of statistical modeling functions in R: They return 
objects, which can be used for further computing, rather than directly 
producing printouts.

If my guess is correct, then you probably should learn more about 
statistical modeling in R, and about R in general, before using it in 
your work.

One more thing: I doubt whether the command

	Output <- lmer(G10ln ~ v191_ms + (1 | couno), data = 'G10R')

actually works. The data argument should be a data frame, not the *name* 
of a data frame, i.e., data = G10R .

I hope this helps,
  John

John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://socialsciences.mcmaster.ca/jfox/


On 2021-02-25 10:24 a.m., G?ran Djurfeldt wrote:
> Help! I am going crazy for a very simple reason. I can?t access the output from for instance the lme4 package in R. I have been able to import an SPSS file into an R data frame. I have downloaded and installed the Lme4 package and I think I have also learnt how to produce a mixed model with lmer:
> 
> Output <- lmer(G10ln ~ v191_ms + (1 | couno), data = 'G10R')
> 
> How shall I define the output from lmer? What kind of object is it? How do I define it?
> 
> Goran
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From t@n@@@ @end|ng |rom gm@||@com  Fri Feb 26 01:20:31 2021
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Thu, 25 Feb 2021 16:20:31 -0800
Subject: [R] overlaying frequency histograms or density plots in R
In-Reply-To: <9f1a64c5-04a7-7f7e-45ba-374ff6ae39db@sapo.pt>
References: <CA+JEM03pOWd8Msmw_FpQWOMnxE3SyfFGsDX87YapezRLrU=6UA@mail.gmail.com>
 <f06ecd145485480db4d7bfbd7e25c193@SRVEXCHCM1302.precheza.cz>
 <CA+JEM03DEfTw_ODRdiYNp8db7XwhRxNTEaSRyz-p7UTLe8xe3A@mail.gmail.com>
 <9f1a64c5-04a7-7f7e-45ba-374ff6ae39db@sapo.pt>
Message-ID: <CA+JEM02Gru8O=E_-aXk7iomPNd5g3Yb=b0sCbBabqR9sd0+pNA@mail.gmail.com>

Dear Rui, and Petr,

many many thanks for your time and advice ! 'm still exploring the R code
that you have suggested !

On Thu, Feb 25, 2021 at 2:59 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> Hello,
>
> First of all, I believe you want argument fill, not colour. In ggplot2
> colour is about the border and fill about the interior.
>
> As for the question,
>
> 1. Create a basic plot with the common aesthetics.
>
>
> library(ggplot2)
>
> pp_ALL <- iris[c(1, 5)]
> names(pp_ALL) <- c("VALUE", "EXP")
>
> p <- ggplot(data = pp_ALL, mapping = aes(x = VALUE, fill = EXP))
>
>
>
> 2. geom_density should use alpha transparency, since the densities
> overlap. colour = NA removes the densities black border.
>
>
> p + geom_density(alpha = 0.5, colour = NA)
>
>
> 3. y = ..density.. plots relative frequencies histograms, for the
> default absolute frequencies or counts, comment the mapping out.
>
> position = position_dodge() allows for extra goodies, such as to change
> the space between bars, their width or to keep empty spaces when some
> factor levels are missing (preserve = "single").
>
> For the test data, with 50 elements per factor level, use a much smaller
> number of bins.
>
> Package scales has functions to display labels in percent format, there
> is no need to multiply by 100.
>
>
> p + geom_histogram(
>    mapping = aes(y = ..density..),
>    position = position_dodge(),
>    bins = 10)
>
> p + geom_histogram(
>    mapping = aes(y = ..density..),
>    position = position_dodge(),
>    bins = 10) +
>    scale_y_continuous(labels = scales::label_percent())
>
>
> Hope this helps,
>
> Rui Barradas
>
>
> ?s 07:43 de 25/02/21, Bogdan Tanasa escreveu:
> > Thanks a lot Petr !
> >
> > shall i uses "dodge" also for the RELATIVE FREQUENCY HISTOGRAMS :
> >
> > p <- ggplot(iris, aes(x=Sepal.Length, y=..count../sum(..count..)*100,
> > colour=Species))
> > p+geom_histogram(position="dodge")
> >
> > or is there any other way to display the RELATIVE FREQUENCY HISTOGRAMS ?
> >
> > thanks again !
> >
> > On Wed, Feb 24, 2021 at 11:00 PM PIKAL Petr <petr.pikal at precheza.cz>
> wrote:
> >
> >> Hi
> >>
> >> You should use position dodge.
> >>
> >> p <- ggplot(iris, aes(x=Sepal.Length, colour=Species))
> >> p+geom_density()
> >> p <- ggplot(iris, aes(x=Sepal.Length, y=..density.., colour=Species))
> >> p+geom_histogram(position="dodge")
> >>
> >> Cheers
> >> Petr
> >>> -----Original Message-----
> >>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bogdan Tanasa
> >>> Sent: Wednesday, February 24, 2021 11:07 PM
> >>> To: r-help <r-help at r-project.org>
> >>> Subject: [R] overlaying frequency histograms or density plots in R
> >>>
> >>> Dear all, we do have a dataframe with a FACTOR called EXP that has 3
> >> LEVELS ;
> >>>
> >>>   head(pp_ALL)
> >>>      VALUE  EXP
> >>> 1 1639742 DMSO
> >>> 2 1636822 DMSO
> >>> 3 1634202 DMSO
> >>>
> >>> shall i aim to overlay the relative frequency histograms, or the
> density
> >>> histograms for the FACTOR LEVELS,
> >>>
> >>> please would you let me know why the following 2 pieces of R code show
> >>> very different results :
> >>>
> >>> ggplot(pp_ALL, aes(x=VALUE, colour=EXP)) + geom_density()
> >>>
> >>> versus
> >>>
> >>> ggplot(data=pp_ALL) +
> >>>         geom_histogram(mapping=aes(x=VALUE, y=..density.., colour=EXP),
> >>>   bins=1000)
> >>>
> >>> thanks,
> >>>
> >>> bogdan
> >>>
> >>> ps : perhaps i shall email to the folks on ggplot2 mailing list too ...
> >>>
> >>>        [[alternative HTML version deleted]]
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide http://www.R-project.org/posting-
> >>> guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>

	[[alternative HTML version deleted]]


From c@ghpm @end|ng |rom gm@||@com  Sat Feb 27 14:39:27 2021
From: c@ghpm @end|ng |rom gm@||@com (Carlos Gonzalez)
Date: Sat, 27 Feb 2021 10:39:27 -0300
Subject: [R] how to manage objects on the working environment
Message-ID: <CAGa55hSogVr6ONRFodJd7ujfQe_n7Edd93UjgKJ1JOXr=OSSXg@mail.gmail.com>

Good morning!

Each time I open a new R session, it appears the same objects that I
thought were removed on an old session, but the objects I supposed were
saved on the last session never appeared.

Thanks!

Saludos / Regards

Carlos A. Gonzalez
Mobile +598 94 234 653
caghpm at gmail.com

	[[alternative HTML version deleted]]


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Sat Feb 27 15:42:19 2021
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Sat, 27 Feb 2021 08:42:19 -0600
Subject: [R] Making model predictions
References: <002f01d70d16$c0d6c060$42844120$.ref@sbcglobal.net>
Message-ID: <002f01d70d16$c0d6c060$42844120$@sbcglobal.net>

R User Forum 

Is there a better way than grabbing individual cell values from a model
output to make predictions. For example the output from the following Na?ve
Bayes model 

library(e1071)

## Example of using a contingency table:
data(Titanic)
m <- naiveBayes(Survived ~ ., data = Titanic)
m

will produce the following results:

Call:
naiveBayes.formula(formula = Survived ~ ., data = Titanic)

A-priori probabilities:
Survived
      No      Yes 
0.676965 0.323035 

Conditional probabilities:
        Class
Survived        1st        2nd        3rd       Crew
     No  0.08187919 0.11208054 0.35436242 0.45167785
     Yes 0.28551336 0.16596343 0.25035162 0.29817159

        Sex
Survived       Male     Female
     No  0.91543624 0.08456376
     Yes 0.51617440 0.48382560

        Age
Survived      Child      Adult
     No  0.03489933 0.96510067
     Yes 0.08016878 0.91983122

Say I want to calculate the probability of P(survival = No | Class = 1st,
Sex = Male, and Age= Child).

While I  can set an object (e.g. myObj <- m$tables$Class[1,1])  to the
respective cell and perform the calculation, there must be a better way, as
I continue to learn R.

Jeff


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Feb 27 16:44:59 2021
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 27 Feb 2021 07:44:59 -0800
Subject: [R] how to manage objects on the working environment
In-Reply-To: <CAGa55hSogVr6ONRFodJd7ujfQe_n7Edd93UjgKJ1JOXr=OSSXg@mail.gmail.com>
References: <CAGa55hSogVr6ONRFodJd7ujfQe_n7Edd93UjgKJ1JOXr=OSSXg@mail.gmail.com>
Message-ID: <9554B9D2-FA0C-4B2F-A293-219BB1DFF38C@dcn.davis.ca.us>

R typically asks you if you want to save your workspace when you quit. If you say yes, your global environment is saved to a file called ".RData" in your current working directory. When you start R it looks for a file of this name in the current working directory and silently loads it.

If you typically use setwd without restoring your original starting directory in your scripts, then the last file saved may not be the file R finds when you start up again.

One problem with .RData files is that they record only part of what you need to pick up where you left off (you still need to re-load whatever contributed packages you were using), but they also silently record your mistakes as well as your correct results and all are restored together. Most experienced R users build R script files as they progress that contain only the R statements that they judge to be desirable/correct, and only create X.RData files (with something in front of the period) intentionally so R will not surprise them by automatically loading them. Relying on R files to restore your progress also makes your work reproducible.

On February 27, 2021 5:39:27 AM PST, Carlos Gonzalez <caghpm at gmail.com> wrote:
>Good morning!
>
>Each time I open a new R session, it appears the same objects that I
>thought were removed on an old session, but the objects I supposed were
>saved on the last session never appeared.
>
>Thanks!
>
>Saludos / Regards
>
>Carlos A. Gonzalez
>Mobile +598 94 234 653
>caghpm at gmail.com
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From r@utk|@hor01 @end|ng |rom gm@||@com  Sat Feb 27 12:47:53 2021
From: r@utk|@hor01 @end|ng |rom gm@||@com (Kishor raut)
Date: Sat, 27 Feb 2021 17:17:53 +0530
Subject: [R] Help Required for R Markdown function.
Message-ID: <CANDYgEO8V+q0YL8qNV5bHefD2zhcqPEYMz7KDJ5uA5NOWsbOHw@mail.gmail.com>

Respected Sir,

I Mr Kishor Tried to get help online but wont found the solution so
writting an email.

Step1: While writting in rmarkdown all codes get executted very well till
the fuction
Confusionmatrix were written on it.

Step2: As confusionmatrix command inserted following error is on screen
board


processing file: RMarkdown.Rmd
  |.....                                                                 |
  7%
  ordinary text without R code

  |.........                                                             |
 13%
label: unnamed-chunk-1
  |..............                                                        |
 20%
  ordinary text without R code

  |...................                                                   |
 27%
label: unnamed-chunk-2
  |.......................                                               |
 33%
  ordinary text without R code

  |............................                                          |
 40%
label: unnamed-chunk-3
  |.................................                                     |
 47%
  ordinary text without R code

  |.....................................                                 |
 53%
label: unnamed-chunk-4
  |..........................................                            |
 60%
  ordinary text without R code

  |...............................................                       |
 67%
label: unnamed-chunk-5
  |...................................................                   |
 73%
  ordinary text without R code

  |........................................................              |
 80%
label: unnamed-chunk-6
  |.............................................................         |
 87%
  ordinary text without R code

  |.................................................................     |
 93%
label: unnamed-chunk-7
Quitting from lines 98-104 (RMarkdown.Rmd)
Error in confusionMatrix(p1, train$CTestresult) :
  could not find function "confusionMatrix"
Calls: <Anonymous> ... handle -> withCallingHandlers -> withVisible -> eval
-> eval

Execution halted

Step4: As codes were written these


Using function ?sample? the data takes into sample of the specified size
from the stored data
```{r}
set.seed(1234)
ind<-sample(2,nrow(FEVER1),replace=TRUE, pro = c(0.7,0.3))
train<-FEVER1[ind==1,]
test<-FEVER1[ind==2,]
```

Application of Random Forest

```{r}
library(randomForest)
set.seed(123)
rfmodel<-randomForest(CTestresult~.,data = train,prox=TRUE)    # Random
Forest Model
plot(rfmodel,main="RandomForest Model")
print(rfmodel,train)                    # Printing Outcome of 'model for
Training Data

```

Prediction using Randome Forest Model
```{r}
# Prediction  of RandomForest Intial Model for Test and Train Data

ptrain1<-predict(rfmodel,train)              # Predicting model Prediction
On Training Data
  # First Six Outcomes with prediction
head(ptrain1)                              # Printing First Six Prediction
using Random Forest Model
head(train$CTestresult)                       # Printing First Six (6)
Actual outcomes

```


Tuning Model:
Tuning of Machine learning model is important step for building good model
for best outcome of research.

```{r}
# Tunning RandomForest  Model using Algorithm

t<-tuneRF(train[,-11],train$CTestresult, mtryStart = 2,ntreeTry = 100,
stepFactor =2,improve = 0.051,trace = TRUE, plot = TRUE, doBest=TRUE)


```

Building New Model:

New model was build on the basis of tunned model parameters and controls.

```{r}
# New Model After Tuning Random Forest Model

rf1<-randomForest(CTestresult~.,data = train,ntree = 100, mtry = 8,
importance = TRUE,proximity = TRUE)

print(rf1)
```

Prediction and Confusion MAtrix:

outcome of model will mesuare with the help of predictive outcomes with the
help of confusion matrix.

```{r}
# Prediction using Random Forest and Confusion Matrix for Train Data
p1<-predict(rf1,train)
cmatrix<-confusionMatrix(p1,train$CTestresult)
cmatrix


```


I will great thank full if you will help me for to remove the error.




-- 
*Kind Regards*

Kishor Raut
*Cell No.-07387706552*

	[[alternative HTML version deleted]]


From iiori@@@wickeim@ier m@iii@g oii u@i-tuebi@ge@@de  Sat Feb 27 17:36:59 2021
From: iiori@@@wickeim@ier m@iii@g oii u@i-tuebi@ge@@de (iiori@@@wickeim@ier m@iii@g oii u@i-tuebi@ge@@de)
Date: Sat, 27 Feb 2021 17:36:59 +0100 (CET)
Subject: [R] confint() on mlm object requires named response matrix
Message-ID: <alpine.LSU.2.21.2102271727420.27046@u-202-c068.uni-tuebingen.de>

Dear list,

I fit a multivariate model and want to extract univariate confidence
intervals from the mlm object. If the response matrix is unnamed,
confint() just repeats the first interval. If the response matrix is
named, confint() correctly returns CIs for all columns:

set.seed(1143)
Y <- MASS::mvrnorm(10, c(0, 0), diag(2)) # unnamed response matrix

confint(lm(Y ~ 1))
                   2.5 %    97.5 %
:(Intercept) -0.7069968 0.2783868
:(Intercept) -0.7069968 0.2783868        # incorrect, same as first CI

colnames(Y) <- 1:2                       # named response matrix
confint(lm(Y ~ 1))
                    2.5 %     97.5 %
1:(Intercept) -0.7069968  0.2783868
2:(Intercept) -0.9226622 -0.1208534      # correct

Is this intended behavior of confint()? I think it would be great if the
unnamed case gave a warning. Or am I missing something?

Best, Florian

---
Florian Wickelmaier
Department of Psychology
University of Tuebingen


From bgunter@4567 @end|ng |rom gm@||@com  Sat Feb 27 20:36:58 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 27 Feb 2021 11:36:58 -0800
Subject: [R] Making model predictions
In-Reply-To: <002f01d70d16$c0d6c060$42844120$@sbcglobal.net>
References: <002f01d70d16$c0d6c060$42844120$.ref@sbcglobal.net>
 <002f01d70d16$c0d6c060$42844120$@sbcglobal.net>
Message-ID: <CAGxFJbSS=thDOSiox4dJKn=c=HeTRbWN=NJCV-ZCFO7QazjdoA@mail.gmail.com>

The standard approach for prediction is via a predict() method for the
class of the model fit. So, have you checked
?predict.naiveBayes


If this does not satisfy your needs, you are on your own. Possibly your
best course of action then is to contact the maintainer as the posting
guide (linked below) recommends for "non-standard" packages. (?maintainer)

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sat, Feb 27, 2021 at 6:42 AM Jeff Reichman <reichmanj at sbcglobal.net>
wrote:

> R User Forum
>
> Is there a better way than grabbing individual cell values from a model
> output to make predictions. For example the output from the following Na?ve
> Bayes model
>
> library(e1071)
>
> ## Example of using a contingency table:
> data(Titanic)
> m <- naiveBayes(Survived ~ ., data = Titanic)
> m
>
> will produce the following results:
>
> Call:
> naiveBayes.formula(formula = Survived ~ ., data = Titanic)
>
> A-priori probabilities:
> Survived
>       No      Yes
> 0.676965 0.323035
>
> Conditional probabilities:
>         Class
> Survived        1st        2nd        3rd       Crew
>      No  0.08187919 0.11208054 0.35436242 0.45167785
>      Yes 0.28551336 0.16596343 0.25035162 0.29817159
>
>         Sex
> Survived       Male     Female
>      No  0.91543624 0.08456376
>      Yes 0.51617440 0.48382560
>
>         Age
> Survived      Child      Adult
>      No  0.03489933 0.96510067
>      Yes 0.08016878 0.91983122
>
> Say I want to calculate the probability of P(survival = No | Class = 1st,
> Sex = Male, and Age= Child).
>
> While I  can set an object (e.g. myObj <- m$tables$Class[1,1])  to the
> respective cell and perform the calculation, there must be a better way, as
> I continue to learn R.
>
> Jeff
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Sat Feb 27 21:07:16 2021
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Sat, 27 Feb 2021 15:07:16 -0500
Subject: [R] Help Required for R Markdown function.
In-Reply-To: <CANDYgEO8V+q0YL8qNV5bHefD2zhcqPEYMz7KDJ5uA5NOWsbOHw@mail.gmail.com>
References: <CANDYgEO8V+q0YL8qNV5bHefD2zhcqPEYMz7KDJ5uA5NOWsbOHw@mail.gmail.com>
Message-ID: <CAKZQJMBjRG2HSNYmQdKEy9DMC8ZnzUuKTaL2h1inrcfQJRtL0A@mail.gmail.com>

The "confusionMatrix" function appears to be from the 'caret' package.
Have you loaded 'caret' with the library(caret) command?

On Sat, 27 Feb 2021 at 14:20, Kishor raut <rautkishor01 at gmail.com> wrote:

> Respected Sir,
>
> I Mr Kishor Tried to get help online but wont found the solution so
> writting an email.
>
> Step1: While writting in rmarkdown all codes get executted very well till
> the fuction
> Confusionmatrix were written on it.
>
> Step2: As confusionmatrix command inserted following error is on screen
> board
>
>
> processing file: RMarkdown.Rmd
>   |.....                                                                 |
>   7%
>   ordinary text without R code
>
>   |.........                                                             |
>  13%
> label: unnamed-chunk-1
>   |..............                                                        |
>  20%
>   ordinary text without R code
>
>   |...................                                                   |
>  27%
> label: unnamed-chunk-2
>   |.......................                                               |
>  33%
>   ordinary text without R code
>
>   |............................                                          |
>  40%
> label: unnamed-chunk-3
>   |.................................                                     |
>  47%
>   ordinary text without R code
>
>   |.....................................                                 |
>  53%
> label: unnamed-chunk-4
>   |..........................................                            |
>  60%
>   ordinary text without R code
>
>   |...............................................                       |
>  67%
> label: unnamed-chunk-5
>   |...................................................                   |
>  73%
>   ordinary text without R code
>
>   |........................................................              |
>  80%
> label: unnamed-chunk-6
>   |.............................................................         |
>  87%
>   ordinary text without R code
>
>   |.................................................................     |
>  93%
> label: unnamed-chunk-7
> Quitting from lines 98-104 (RMarkdown.Rmd)
> Error in confusionMatrix(p1, train$CTestresult) :
>   could not find function "confusionMatrix"
> Calls: <Anonymous> ... handle -> withCallingHandlers -> withVisible -> eval
> -> eval
>
> Execution halted
>
> Step4: As codes were written these
>
>
> Using function ?sample? the data takes into sample of the specified size
> from the stored data
> ```{r}
> set.seed(1234)
> ind<-sample(2,nrow(FEVER1),replace=TRUE, pro = c(0.7,0.3))
> train<-FEVER1[ind==1,]
> test<-FEVER1[ind==2,]
> ```
>
> Application of Random Forest
>
> ```{r}
> library(randomForest)
> set.seed(123)
> rfmodel<-randomForest(CTestresult~.,data = train,prox=TRUE)    # Random
> Forest Model
> plot(rfmodel,main="RandomForest Model")
> print(rfmodel,train)                    # Printing Outcome of 'model for
> Training Data
>
> ```
>
> Prediction using Randome Forest Model
> ```{r}
> # Prediction  of RandomForest Intial Model for Test and Train Data
>
> ptrain1<-predict(rfmodel,train)              # Predicting model Prediction
> On Training Data
>   # First Six Outcomes with prediction
> head(ptrain1)                              # Printing First Six Prediction
> using Random Forest Model
> head(train$CTestresult)                       # Printing First Six (6)
> Actual outcomes
>
> ```
>
>
> Tuning Model:
> Tuning of Machine learning model is important step for building good model
> for best outcome of research.
>
> ```{r}
> # Tunning RandomForest  Model using Algorithm
>
> t<-tuneRF(train[,-11],train$CTestresult, mtryStart = 2,ntreeTry = 100,
> stepFactor =2,improve = 0.051,trace = TRUE, plot = TRUE, doBest=TRUE)
>
>
> ```
>
> Building New Model:
>
> New model was build on the basis of tunned model parameters and controls.
>
> ```{r}
> # New Model After Tuning Random Forest Model
>
> rf1<-randomForest(CTestresult~.,data = train,ntree = 100, mtry = 8,
> importance = TRUE,proximity = TRUE)
>
> print(rf1)
> ```
>
> Prediction and Confusion MAtrix:
>
> outcome of model will mesuare with the help of predictive outcomes with the
> help of confusion matrix.
>
> ```{r}
> # Prediction using Random Forest and Confusion Matrix for Train Data
> p1<-predict(rf1,train)
> cmatrix<-confusionMatrix(p1,train$CTestresult)
> cmatrix
>
>
> ```
>
>
> I will great thank full if you will help me for to remove the error.
>
>
>
>
> --
> *Kind Regards*
>
> Kishor Raut
> *Cell No.-07387706552*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From bj@@m|@r@ @end|ng |rom gm@||@com  Sun Feb 28 03:13:12 2021
From: bj@@m|@r@ @end|ng |rom gm@||@com (Bijesh Mishra)
Date: Sat, 27 Feb 2021 20:13:12 -0600
Subject: [R] Help post
Message-ID: <CAJ5oOKVMJq-EwcS2kA8k0Z2v3oJ1PL-fdk_Ypf_tVmVm5KNCsQ@mail.gmail.com>

I have pathogen (1/0) as a dependent variable and total (count) as
independent variable. I have to get 1) KNN on total and 2) get the training
error and training TPR and FPR for k = 5 nearest neighbors using total as a
predictor. and 3) get a plot of training error vs. k for k = 1, 2, ..., 10
with k on the x-axis.

I am not sure how to do this in R. Also, how to know which value(s) of K
would be the most biased in the training error estimate?

Help would be appreciated.

Thanks
Bijesh Mishra.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Feb 28 04:00:40 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 27 Feb 2021 19:00:40 -0800
Subject: [R] Help post
In-Reply-To: <CAJ5oOKVMJq-EwcS2kA8k0Z2v3oJ1PL-fdk_Ypf_tVmVm5KNCsQ@mail.gmail.com>
References: <CAJ5oOKVMJq-EwcS2kA8k0Z2v3oJ1PL-fdk_Ypf_tVmVm5KNCsQ@mail.gmail.com>
Message-ID: <CAGxFJbQqM2YwY42uyNwZ==0sQLQFtTwvSVy8sEk4z+8ctrW1Mw@mail.gmail.com>

Using search term "knn classification" on rseek.org brought up many
relevant hits.

Among them,  the knn() function in package "class" seems relevant -- but
there are others, as you will see.

Your second question is about statistics and is largely off topic here. Per
the posting guide (linked below):

"*Questions about statistics:* The R mailing lists are primarily intended
for questions and discussion about the R software. However, questions about
statistical methodology are sometimes posted. If the question is well-asked
and of interest to someone on the list, it *may* elicit an informative
up-to-date answer. See also the Usenet groups sci.stat.consult (applied
statistics and consulting) and sci.stat.math (mathematical stat and
probability)."

However, the rseek.org hits also may be helpful for that. Alternatively,
try stats.stackexchange.com for statistical questions for which you do not
receive a response here.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sat, Feb 27, 2021 at 6:14 PM Bijesh Mishra <bjs.misra at gmail.com> wrote:

> I have pathogen (1/0) as a dependent variable and total (count) as
> independent variable. I have to get 1) KNN on total and 2) get the training
> error and training TPR and FPR for k = 5 nearest neighbors using total as a
> predictor. and 3) get a plot of training error vs. k for k = 1, 2, ..., 10
> with k on the x-axis.
>
> I am not sure how to do this in R. Also, how to know which value(s) of K
> would be the most biased in the training error estimate?
>
> Help would be appreciated.
>
> Thanks
> Bijesh Mishra.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Feb 28 12:25:46 2021
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 28 Feb 2021 11:25:46 +0000
Subject: [R] Making model predictions
In-Reply-To: <002f01d70d16$c0d6c060$42844120$@sbcglobal.net>
References: <002f01d70d16$c0d6c060$42844120$.ref@sbcglobal.net>
 <002f01d70d16$c0d6c060$42844120$@sbcglobal.net>
Message-ID: <1a0badbb-14ab-66b5-ff25-702caea57faa@sapo.pt>

Hello,

Are you looking for this?


newd <- data.frame(
   Class = '1st',
   Sex = 'Male',
   Age = 'Child'
)
predict(m, newdata = newd, type = 'raw')
#            No       Yes
#[1,] 0.3169345 0.6830655


With the default type = 'class' the result is

predict(m, newdata = newd)
#[1] Yes
#Levels: No Yes


Hope this helps,

Rui Barradas

?s 14:42 de 27/02/21, Jeff Reichman escreveu:
> R User Forum
> 
> Is there a better way than grabbing individual cell values from a model
> output to make predictions. For example the output from the following Na?ve
> Bayes model
> 
> library(e1071)
> 
> ## Example of using a contingency table:
> data(Titanic)
> m <- naiveBayes(Survived ~ ., data = Titanic)
> m
> 
> will produce the following results:
> 
> Call:
> naiveBayes.formula(formula = Survived ~ ., data = Titanic)
> 
> A-priori probabilities:
> Survived
>        No      Yes
> 0.676965 0.323035
> 
> Conditional probabilities:
>          Class
> Survived        1st        2nd        3rd       Crew
>       No  0.08187919 0.11208054 0.35436242 0.45167785
>       Yes 0.28551336 0.16596343 0.25035162 0.29817159
> 
>          Sex
> Survived       Male     Female
>       No  0.91543624 0.08456376
>       Yes 0.51617440 0.48382560
> 
>          Age
> Survived      Child      Adult
>       No  0.03489933 0.96510067
>       Yes 0.08016878 0.91983122
> 
> Say I want to calculate the probability of P(survival = No | Class = 1st,
> Sex = Male, and Age= Child).
> 
> While I  can set an object (e.g. myObj <- m$tables$Class[1,1])  to the
> respective cell and perform the calculation, there must be a better way, as
> I continue to learn R.
> 
> Jeff
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From m@hmood@n@der@n @end|ng |rom ugent@be  Sun Feb 28 14:39:44 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Sun, 28 Feb 2021 13:39:44 +0000
Subject: [R] Command history
Message-ID: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>

Hi

May I know where is the location of commands we used in R in the history?


Regards,
Mahmood

	[[alternative HTML version deleted]]


From jrkr|de@u @end|ng |rom gm@||@com  Sun Feb 28 15:06:42 2021
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Sun, 28 Feb 2021 09:06:42 -0500
Subject: [R] Command history
In-Reply-To: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>
References: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>
Message-ID: <CAKZQJMAKVuSDJTe-NyDejz6G2PyBCdX5-ipyUpv4rtcB_4ZGbw@mail.gmail.com>

I think it may depend on your operating system.  In my case, Ubuntu 20.10,
it is a hidden file at /home level.

On Sun, 28 Feb 2021 at 08:40, Mahmood Naderan-Tahan <
mahmood.naderan at ugent.be> wrote:

> Hi
>
> May I know where is the location of commands we used in R in the history?
>
>
> Regards,
> Mahmood
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From e| @end|ng |rom ||@@e@NA  Sun Feb 28 16:06:26 2021
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Sun, 28 Feb 2021 17:06:26 +0200
Subject: [R] Command history
In-Reply-To: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>
References: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>
Message-ID: <440e200c-1ce9-b05d-87f5-cb83d3947eec@lisse.NA>

On the Mac it is ~/.Rhistory

el

On 2021-02-28 15:39 , Mahmood Naderan-Tahan wrote:
> Hi
> 
> May I know where is the location of commands we used in R in the history?
> 
> 
> Regards,
> Mahmood-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From m@hmood@n@der@n @end|ng |rom ugent@be  Sun Feb 28 16:17:28 2021
From: m@hmood@n@der@n @end|ng |rom ugent@be (Mahmood Naderan-Tahan)
Date: Sun, 28 Feb 2021 15:17:28 +0000
Subject: [R] Command history
In-Reply-To: <440e200c-1ce9-b05d-87f5-cb83d3947eec@lisse.NA>
References: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>,
 <440e200c-1ce9-b05d-87f5-cb83d3947eec@lisse.NA>
Message-ID: <40fab8bd0daa40309160218c4bd6872a@ugent.be>

OK. It seems that it depends on where R is launched.

In my case, I found .Rhistory file in ~/Documents.


Regards,
Mahmood

________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Dr Eberhard W Lisse <el at lisse.NA>
Sent: Sunday, February 28, 2021 4:06:26 PM
To: r-help at r-project.org
Subject: Re: [R] Command history

On the Mac it is ~/.Rhistory

el

On 2021-02-28 15:39 , Mahmood Naderan-Tahan wrote:
> Hi
>
> May I know where is the location of commands we used in R in the history?
>
>
> Regards,
> Mahmood--
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From e| @end|ng |rom ||@@e@NA  Sun Feb 28 16:21:54 2021
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Sun, 28 Feb 2021 17:21:54 +0200
Subject: [R] Command history
In-Reply-To: <40fab8bd0daa40309160218c4bd6872a@ugent.be>
References: <9a4dc0afa8944b2f81c7a40c68b73e17@ugent.be>
 <440e200c-1ce9-b05d-87f5-cb83d3947eec@lisse.NA>
 <40fab8bd0daa40309160218c4bd6872a@ugent.be>
Message-ID: <3eec2345-5df4-e0bf-a7f2-95539c8bb622@lisse.NA>

Oh

	find ~ -name .Rhistory 2>/dev/null

shows 12 file :-)-O


vriendelijke groeten/sinc?res amiti?s,

el

On 2021-02-28 17:17 , Mahmood Naderan-Tahan wrote:
> OK. It seems that it depends on where R is launched.
> 
> In my case, I found .Rhistory file in ~/Documents.
> 
> 
> Regards,
> Mahmood
[...]
-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From p@u|bern@|07 @end|ng |rom gm@||@com  Sun Feb 28 17:38:42 2021
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Sun, 28 Feb 2021 11:38:42 -0500
Subject: [R] Image processing in R for BMI calculation
Message-ID: <CAMOcQfOPo9B3qDZhZvP8bz7eEBBB6_ds+J02W-0rEcWg6MnuUw@mail.gmail.com>

Hello everyone,

Does anyone know about any package for image processing, for example, to
calculate body mass index pased on a picture, silouette or image.

Any guidance will be greatly appreciated.

Best regards,

Paul

	[[alternative HTML version deleted]]


From p@u|bern@|07 @end|ng |rom gm@||@com  Sun Feb 28 17:47:46 2021
From: p@u|bern@|07 @end|ng |rom gm@||@com (Paul Bernal)
Date: Sun, 28 Feb 2021 11:47:46 -0500
Subject: [R] How to calculate area and volume of an image with R
Message-ID: <CAMOcQfMnLdbY2i6GtPF4uVpvOma7Ki5Nw1GYPW-1R5SEihKh1A@mail.gmail.com>

Hello everyone,

Is there a way to calculate volume and area of an image with R?

Any guidance will be greatly appreciated.

Best regards,

Paul

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Feb 28 19:02:10 2021
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 28 Feb 2021 10:02:10 -0800
Subject: [R] Image processing in R for BMI calculation
In-Reply-To: <CAMOcQfOPo9B3qDZhZvP8bz7eEBBB6_ds+J02W-0rEcWg6MnuUw@mail.gmail.com>
References: <CAMOcQfOPo9B3qDZhZvP8bz7eEBBB6_ds+J02W-0rEcWg6MnuUw@mail.gmail.com>
Message-ID: <CAGxFJbTYZL0LKx2uBDOJynt3PdG6BzYWsWrSm59stFkHRHKmBg@mail.gmail.com>

1) doing a web search on:
"R package to calculate body mass index based on a picture, silhouette or
image"

did *not* bring up any R packages, but did provide what looked like
relevant links to other software and research/discussions. You can decide
whether or not this is useful "guidance" (if you have not already done
this).

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Feb 28, 2021 at 8:39 AM Paul Bernal <paulbernal07 at gmail.com> wrote:

> Hello everyone,
>
> Does anyone know about any package for image processing, for example, to
> calculate body mass index pased on a picture, silouette or image.
>
> Any guidance will be greatly appreciated.
>
> Best regards,
>
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@utk|@hor01 @end|ng |rom gm@||@com  Sun Feb 28 05:19:15 2021
From: r@utk|@hor01 @end|ng |rom gm@||@com (Kishor raut)
Date: Sun, 28 Feb 2021 09:49:15 +0530
Subject: [R] Help Required for R Markdown function.
In-Reply-To: <CAKZQJMBjRG2HSNYmQdKEy9DMC8ZnzUuKTaL2h1inrcfQJRtL0A@mail.gmail.com>
References: <CANDYgEO8V+q0YL8qNV5bHefD2zhcqPEYMz7KDJ5uA5NOWsbOHw@mail.gmail.com>
 <CAKZQJMBjRG2HSNYmQdKEy9DMC8ZnzUuKTaL2h1inrcfQJRtL0A@mail.gmail.com>
Message-ID: <CANDYgEPLPSjMR=1v+CcKu0VBm_8yHurYqdnvXCuc9YKk9f3apg@mail.gmail.com>

Thanks, I'll check it out.

On Sun, 28 Feb, 2021, 1:37 AM John Kane, <jrkrideau at gmail.com> wrote:

> The "confusionMatrix" function appears to be from the 'caret' package.
> Have you loaded 'caret' with the library(caret) command?
>
> On Sat, 27 Feb 2021 at 14:20, Kishor raut <rautkishor01 at gmail.com> wrote:
>
>> Respected Sir,
>>
>> I Mr Kishor Tried to get help online but wont found the solution so
>> writting an email.
>>
>> Step1: While writting in rmarkdown all codes get executted very well till
>> the fuction
>> Confusionmatrix were written on it.
>>
>> Step2: As confusionmatrix command inserted following error is on screen
>> board
>>
>>
>> processing file: RMarkdown.Rmd
>>   |.....                                                                 |
>>   7%
>>   ordinary text without R code
>>
>>   |.........                                                             |
>>  13%
>> label: unnamed-chunk-1
>>   |..............                                                        |
>>  20%
>>   ordinary text without R code
>>
>>   |...................                                                   |
>>  27%
>> label: unnamed-chunk-2
>>   |.......................                                               |
>>  33%
>>   ordinary text without R code
>>
>>   |............................                                          |
>>  40%
>> label: unnamed-chunk-3
>>   |.................................                                     |
>>  47%
>>   ordinary text without R code
>>
>>   |.....................................                                 |
>>  53%
>> label: unnamed-chunk-4
>>   |..........................................                            |
>>  60%
>>   ordinary text without R code
>>
>>   |...............................................                       |
>>  67%
>> label: unnamed-chunk-5
>>   |...................................................                   |
>>  73%
>>   ordinary text without R code
>>
>>   |........................................................              |
>>  80%
>> label: unnamed-chunk-6
>>   |.............................................................         |
>>  87%
>>   ordinary text without R code
>>
>>   |.................................................................     |
>>  93%
>> label: unnamed-chunk-7
>> Quitting from lines 98-104 (RMarkdown.Rmd)
>> Error in confusionMatrix(p1, train$CTestresult) :
>>   could not find function "confusionMatrix"
>> Calls: <Anonymous> ... handle -> withCallingHandlers -> withVisible ->
>> eval
>> -> eval
>>
>> Execution halted
>>
>> Step4: As codes were written these
>>
>>
>> Using function ?sample? the data takes into sample of the specified size
>> from the stored data
>> ```{r}
>> set.seed(1234)
>> ind<-sample(2,nrow(FEVER1),replace=TRUE, pro = c(0.7,0.3))
>> train<-FEVER1[ind==1,]
>> test<-FEVER1[ind==2,]
>> ```
>>
>> Application of Random Forest
>>
>> ```{r}
>> library(randomForest)
>> set.seed(123)
>> rfmodel<-randomForest(CTestresult~.,data = train,prox=TRUE)    # Random
>> Forest Model
>> plot(rfmodel,main="RandomForest Model")
>> print(rfmodel,train)                    # Printing Outcome of 'model for
>> Training Data
>>
>> ```
>>
>> Prediction using Randome Forest Model
>> ```{r}
>> # Prediction  of RandomForest Intial Model for Test and Train Data
>>
>> ptrain1<-predict(rfmodel,train)              # Predicting model Prediction
>> On Training Data
>>   # First Six Outcomes with prediction
>> head(ptrain1)                              # Printing First Six Prediction
>> using Random Forest Model
>> head(train$CTestresult)                       # Printing First Six (6)
>> Actual outcomes
>>
>> ```
>>
>>
>> Tuning Model:
>> Tuning of Machine learning model is important step for building good model
>> for best outcome of research.
>>
>> ```{r}
>> # Tunning RandomForest  Model using Algorithm
>>
>> t<-tuneRF(train[,-11],train$CTestresult, mtryStart = 2,ntreeTry = 100,
>> stepFactor =2,improve = 0.051,trace = TRUE, plot = TRUE, doBest=TRUE)
>>
>>
>> ```
>>
>> Building New Model:
>>
>> New model was build on the basis of tunned model parameters and controls.
>>
>> ```{r}
>> # New Model After Tuning Random Forest Model
>>
>> rf1<-randomForest(CTestresult~.,data = train,ntree = 100, mtry = 8,
>> importance = TRUE,proximity = TRUE)
>>
>> print(rf1)
>> ```
>>
>> Prediction and Confusion MAtrix:
>>
>> outcome of model will mesuare with the help of predictive outcomes with
>> the
>> help of confusion matrix.
>>
>> ```{r}
>> # Prediction using Random Forest and Confusion Matrix for Train Data
>> p1<-predict(rf1,train)
>> cmatrix<-confusionMatrix(p1,train$CTestresult)
>> cmatrix
>>
>>
>> ```
>>
>>
>> I will great thank full if you will help me for to remove the error.
>>
>>
>>
>>
>> --
>> *Kind Regards*
>>
>> Kishor Raut
>> *Cell No.-07387706552*
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>
> --
> John Kane
> Kingston ON Canada
>

	[[alternative HTML version deleted]]


From tr@xp|@yer @end|ng |rom gm@||@com  Sun Feb 28 20:15:33 2021
From: tr@xp|@yer @end|ng |rom gm@||@com (=?UTF-8?Q?Martin_M=C3=B8ller_Skarbiniks_Pedersen?=)
Date: Sun, 28 Feb 2021 20:15:33 +0100
Subject: [R] How to calculate area and volume of an image with R
In-Reply-To: <CAGAA5bdDBcyRi4Ua_yWo3zMgTf41F2kN2n8xOXyp7=F6zx6R_Q@mail.gmail.com>
References: <CAMOcQfMnLdbY2i6GtPF4uVpvOma7Ki5Nw1GYPW-1R5SEihKh1A@mail.gmail.com>
 <CAGAA5bdDBcyRi4Ua_yWo3zMgTf41F2kN2n8xOXyp7=F6zx6R_Q@mail.gmail.com>
Message-ID: <CAGAA5bcyMUZGw9_v+AJh413COrQW=KQhp-D88cx4Dhwh6MTARg@mail.gmail.com>

On Sun, Feb 28, 2021, 17:49 Paul Bernal <paulbernal07 at gmail.com> wrote:

> Hello everyone,
>
> Is there a way to calculate volume and area of an image with R?


How can an image have a volume or an area?
I think you need to be more specific.

Regards
Martin

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Sun Feb 28 21:25:04 2021
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 1 Mar 2021 07:25:04 +1100
Subject: [R] Image processing in R for BMI calculation
In-Reply-To: <CAMOcQfOPo9B3qDZhZvP8bz7eEBBB6_ds+J02W-0rEcWg6MnuUw@mail.gmail.com>
References: <CAMOcQfOPo9B3qDZhZvP8bz7eEBBB6_ds+J02W-0rEcWg6MnuUw@mail.gmail.com>
Message-ID: <CA+8X3fWWJRe49H8ozu7W0iMmPqmX3fZEa5Cb90bc7WyaRTk3Jg@mail.gmail.com>

Hi Paul,
The paper doesn't seem to mention R and the journal doesn't inspire
confidence, but the formulas provided give you a start:

https://www.researchgate.net/publication/280133090_Calculation_of_Body_Mass_Index_using_Image_Processing_Techniques

Jim

On Mon, Mar 1, 2021 at 3:39 AM Paul Bernal <paulbernal07 at gmail.com> wrote:
>
> Hello everyone,
>
> Does anyone know about any package for image processing, for example, to
> calculate body mass index pased on a picture, silouette or image.
>
> Any guidance will be greatly appreciated.
>
> Best regards,
>
> Paul
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Sun Feb 28 23:04:52 2021
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sun, 28 Feb 2021 17:04:52 -0500
Subject: [R] Help Required for R Markdown function.
In-Reply-To: <CAKZQJMBjRG2HSNYmQdKEy9DMC8ZnzUuKTaL2h1inrcfQJRtL0A@mail.gmail.com>
References: <CANDYgEO8V+q0YL8qNV5bHefD2zhcqPEYMz7KDJ5uA5NOWsbOHw@mail.gmail.com>
 <CAKZQJMBjRG2HSNYmQdKEy9DMC8ZnzUuKTaL2h1inrcfQJRtL0A@mail.gmail.com>
Message-ID: <078a01d70e1d$bd9cf6a0$38d6e3e0$@verizon.net>

I am sure you can get more done with a caret than a stick. I need a stick for another problem, though.

A serious question. I somehow upset my R/RSTUDIO setup while trying to see why a markdown only allowed me to save an HTML version, not PDF and DOC as it used to. It now fails on any such document with a code that indicates it is not set to find a CRAN mirror:

It seems to be upset by a simple call to get the tidyverse loaded and may succeed in one sense but not continue:

" Installing package into ?C:/Users/avid2016/Documents/R/win-library/4.0?
(as ?lib? is unspecified)
trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/tidyverse_1.3.0.zip'
Content type 'application/zip' length 439972 bytes (429 KB)
downloaded 429 KB

package ?tidyverse? successfully unpacked and MD5 sums checked
..."

The R Markdown lower console window says:

"Error in contrib.url(repos, "source") : trying to use CRAN without setting a mirror calls <Anonymous> ...
withVisible -> eval -> eval install.packages -> contrib.url Exection halted"

I have done some work that failed. I am running on windows with the latest versions of both R and RSTUDIO after removing all old versions and re-installing both. I have seen hints I need to set some definitions in a .Rprofile or so and tried but it continues to fail. So I now can knit nothing!

Anyone have a pointer on problems like this? My next attempt would be to reinstall the programs on another hard disk entirely in case the problem is in my folder structure of ~/R and below but I dod not want to toss years of work because of one errant configuration file or the lack thereof.

Thanks in advance for any advice. It may be something trivial such as kit not knowing where to place a library so it puts it into a temp area?

Avi

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of John Kane
Sent: Saturday, February 27, 2021 3:07 PM
To: Kishor raut <rautkishor01 at gmail.com>
Cc: R. Help Mailing List <r-help at r-project.org>
Subject: Re: [R] Help Required for R Markdown function.

The "confusionMatrix" function appears to be from the 'caret' package.
Have you loaded 'caret' with the library(caret) command?

On Sat, 27 Feb 2021 at 14:20, Kishor raut <rautkishor01 at gmail.com> wrote:

> Respected Sir,
>
> I Mr Kishor Tried to get help online but wont found the solution so 
> writting an email.
>
> Step1: While writting in rmarkdown all codes get executted very well 
> till the fuction Confusionmatrix were written on it.
>
> Step2: As confusionmatrix command inserted following error is on 
> screen board
>
>
> processing file: RMarkdown.Rmd
>   |.....                                                                 |
>   7%
>   ordinary text without R code
>
>   |.........                                                             |
>  13%
> label: unnamed-chunk-1
>   |..............                                                        |
>  20%
>   ordinary text without R code
>
>   |...................                                                   |
>  27%
> label: unnamed-chunk-2
>   |.......................                                               |
>  33%
>   ordinary text without R code
>
>   |............................                                          |
>  40%
> label: unnamed-chunk-3
>   |.................................                                     |
>  47%
>   ordinary text without R code
>
>   |.....................................                                 |
>  53%
> label: unnamed-chunk-4
>   |..........................................                            |
>  60%
>   ordinary text without R code
>
>   |...............................................                       |
>  67%
> label: unnamed-chunk-5
>   |...................................................                   |
>  73%
>   ordinary text without R code
>
>   |........................................................              |
>  80%
> label: unnamed-chunk-6
>   |.............................................................         |
>  87%
>   ordinary text without R code
>
>   |.................................................................     |
>  93%
> label: unnamed-chunk-7
> Quitting from lines 98-104 (RMarkdown.Rmd) Error in 
> confusionMatrix(p1, train$CTestresult) :
>   could not find function "confusionMatrix"
> Calls: <Anonymous> ... handle -> withCallingHandlers -> withVisible -> 
> eval
> -> eval
>
> Execution halted
>
> Step4: As codes were written these
>
>
> Using function ?sample? the data takes into sample of the specified 
> size from the stored data ```{r}
> set.seed(1234)
> ind<-sample(2,nrow(FEVER1),replace=TRUE, pro = c(0.7,0.3)) 
> train<-FEVER1[ind==1,] test<-FEVER1[ind==2,] ```
>
> Application of Random Forest
>
> ```{r}
> library(randomForest)
> set.seed(123)
> rfmodel<-randomForest(CTestresult~.,data = train,prox=TRUE)    # Random
> Forest Model
> plot(rfmodel,main="RandomForest Model")
> print(rfmodel,train)                    # Printing Outcome of 'model for
> Training Data
>
> ```
>
> Prediction using Randome Forest Model
> ```{r}
> # Prediction  of RandomForest Intial Model for Test and Train Data
>
> ptrain1<-predict(rfmodel,train)              # Predicting model Prediction
> On Training Data
>   # First Six Outcomes with prediction
> head(ptrain1)                              # Printing First Six Prediction
> using Random Forest Model
> head(train$CTestresult)                       # Printing First Six (6)
> Actual outcomes
>
> ```
>
>
> Tuning Model:
> Tuning of Machine learning model is important step for building good 
> model for best outcome of research.
>
> ```{r}
> # Tunning RandomForest  Model using Algorithm
>
> t<-tuneRF(train[,-11],train$CTestresult, mtryStart = 2,ntreeTry = 100, 
> stepFactor =2,improve = 0.051,trace = TRUE, plot = TRUE, doBest=TRUE)
>
>
> ```
>
> Building New Model:
>
> New model was build on the basis of tunned model parameters and controls.
>
> ```{r}
> # New Model After Tuning Random Forest Model
>
> rf1<-randomForest(CTestresult~.,data = train,ntree = 100, mtry = 8, 
> importance = TRUE,proximity = TRUE)
>
> print(rf1)
> ```
>
> Prediction and Confusion MAtrix:
>
> outcome of model will mesuare with the help of predictive outcomes 
> with the help of confusion matrix.
>
> ```{r}
> # Prediction using Random Forest and Confusion Matrix for Train Data
> p1<-predict(rf1,train)
> cmatrix<-confusionMatrix(p1,train$CTestresult)
> cmatrix
>
>
> ```
>
>
> I will great thank full if you will help me for to remove the error.
>
>
>
>
> --
> *Kind Regards*
>
> Kishor Raut
> *Cell No.-07387706552*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


--
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bret@chr @end|ng |rom x@4@||@n|  Sun Feb 28 23:56:58 2021
From: bret@chr @end|ng |rom x@4@||@n| (bretschr)
Date: Sun, 28 Feb 2021 23:56:58 +0100
Subject: [R] Image processing in R for BMI calculation
Message-ID: <302584B8-9912-4015-B894-462D9E3CEE94@xs4all.nl>

Hello Paul Bernal,


(sorry, forgot to CC)

Re:

> Does anyone know about any package for image processing, for example, to
> calculate body mass index pased on a picture, silouette or image.



This sounds more like a job for the image analysis program NIH Image (the Java-version "ImageJ" being available for most platforms).
ImageJ was designed for the analysis of microscopic images of cells etcetera, and can count, mark and measure objects.
However, it works for 2D images unless jou have a stack of images.

For R there is a Package ?EBImage? for image manipulation and measuring that might also be interesting (but also 2D I guess).

Succes and
Best regards,


Franklin
-----------


Franklin Bretschneider
Dept of Biology
Utrecht University
f.bretschneider at uu.nl
f.bretschneider at xs4all.nl
Franklin Bretschneider
Dept of Biology
Utrecht University
f.bretschneider at uu.nl


